{"sha": "775f1e5acdeae38eae7de41b22bdf6ab71e34efd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc3NWYxZTVhY2RlYWUzOGVhZTdkZTQxYjIyYmRmNmFiNzFlMzRlZmQ=", "commit": {"author": {"name": "thiolliere", "email": "gui.thiolliere@gmail.com", "date": "2020-11-12T11:41:19Z"}, "committer": {"name": "thiolliere", "email": "gui.thiolliere@gmail.com", "date": "2020-11-12T11:47:25Z"}, "message": "fix pretty print for qpath", "tree": {"sha": "487f4a68efc77db3877e081562bf517bedab8406", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/487f4a68efc77db3877e081562bf517bedab8406"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/775f1e5acdeae38eae7de41b22bdf6ab71e34efd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/775f1e5acdeae38eae7de41b22bdf6ab71e34efd", "html_url": "https://github.com/rust-lang/rust/commit/775f1e5acdeae38eae7de41b22bdf6ab71e34efd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/775f1e5acdeae38eae7de41b22bdf6ab71e34efd/comments", "author": {"login": "thiolliere", "id": 10416848, "node_id": "MDQ6VXNlcjEwNDE2ODQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10416848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiolliere", "html_url": "https://github.com/thiolliere", "followers_url": "https://api.github.com/users/thiolliere/followers", "following_url": "https://api.github.com/users/thiolliere/following{/other_user}", "gists_url": "https://api.github.com/users/thiolliere/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiolliere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiolliere/subscriptions", "organizations_url": "https://api.github.com/users/thiolliere/orgs", "repos_url": "https://api.github.com/users/thiolliere/repos", "events_url": "https://api.github.com/users/thiolliere/events{/privacy}", "received_events_url": "https://api.github.com/users/thiolliere/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thiolliere", "id": 10416848, "node_id": "MDQ6VXNlcjEwNDE2ODQ4", "avatar_url": "https://avatars.githubusercontent.com/u/10416848?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiolliere", "html_url": "https://github.com/thiolliere", "followers_url": "https://api.github.com/users/thiolliere/followers", "following_url": "https://api.github.com/users/thiolliere/following{/other_user}", "gists_url": "https://api.github.com/users/thiolliere/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiolliere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiolliere/subscriptions", "organizations_url": "https://api.github.com/users/thiolliere/orgs", "repos_url": "https://api.github.com/users/thiolliere/repos", "events_url": "https://api.github.com/users/thiolliere/events{/privacy}", "received_events_url": "https://api.github.com/users/thiolliere/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "55794e43960ad3647e78ea5b0cb5ad0c5c0596a8", "url": "https://api.github.com/repos/rust-lang/rust/commits/55794e43960ad3647e78ea5b0cb5ad0c5c0596a8", "html_url": "https://github.com/rust-lang/rust/commit/55794e43960ad3647e78ea5b0cb5ad0c5c0596a8"}], "stats": {"total": 27, "additions": 22, "deletions": 5}, "files": [{"sha": "62a9452c9f0aa7508fd601bd0d61690fcd5a00ba", "filename": "compiler/rustc_ast_pretty/src/pprust/state.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/775f1e5acdeae38eae7de41b22bdf6ab71e34efd/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/775f1e5acdeae38eae7de41b22bdf6ab71e34efd/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs?ref=775f1e5acdeae38eae7de41b22bdf6ab71e34efd", "patch": "@@ -2328,11 +2328,12 @@ impl<'a> State<'a> {\n             self.print_path(path, false, depth);\n         }\n         self.s.word(\">\");\n-        self.s.word(\"::\");\n-        let item_segment = path.segments.last().unwrap();\n-        self.print_ident(item_segment.ident);\n-        if let Some(ref args) = item_segment.args {\n-            self.print_generic_args(args, colons_before_params)\n+        for item_segment in &path.segments[qself.position..] {\n+            self.s.word(\"::\");\n+            self.print_ident(item_segment.ident);\n+            if let Some(ref args) = item_segment.args {\n+                self.print_generic_args(args, colons_before_params)\n+            }\n         }\n     }\n "}, {"sha": "e06885e03882bc6d5d99a79b76c1d3b8b51a9b4e", "filename": "src/test/pretty/qpath-associated-type-bound.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/775f1e5acdeae38eae7de41b22bdf6ab71e34efd/src%2Ftest%2Fpretty%2Fqpath-associated-type-bound.rs", "raw_url": "https://github.com/rust-lang/rust/raw/775f1e5acdeae38eae7de41b22bdf6ab71e34efd/src%2Ftest%2Fpretty%2Fqpath-associated-type-bound.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fqpath-associated-type-bound.rs?ref=775f1e5acdeae38eae7de41b22bdf6ab71e34efd", "patch": "@@ -0,0 +1,16 @@\n+// pp-exact\n+\n+\n+mod m {\n+    pub trait Tr {\n+        type Ts: super::Tu;\n+    }\n+}\n+\n+trait Tu {\n+    fn dummy() { }\n+}\n+\n+fn foo<T: m::Tr>() { <T as m::Tr>::Ts::dummy(); }\n+\n+fn main() { }"}]}