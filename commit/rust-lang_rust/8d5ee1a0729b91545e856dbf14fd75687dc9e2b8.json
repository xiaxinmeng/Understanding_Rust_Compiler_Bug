{"sha": "8d5ee1a0729b91545e856dbf14fd75687dc9e2b8", "node_id": "C_kwDOAAsO6NoAKDhkNWVlMWEwNzI5YjkxNTQ1ZTg1NmRiZjE0ZmQ3NTY4N2RjOWUyYjg", "commit": {"author": {"name": "Kyle Matsuda", "email": "kyle.yoshio.matsuda@gmail.com", "date": "2023-04-13T22:43:34Z"}, "committer": {"name": "Kyle Matsuda", "email": "kyle.yoshio.matsuda@gmail.com", "date": "2023-04-13T22:43:34Z"}, "message": "make impl_subject more readable", "tree": {"sha": "5b321e0ff7bbe673cb64e5245f9217b484d2a843", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5b321e0ff7bbe673cb64e5245f9217b484d2a843"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8d5ee1a0729b91545e856dbf14fd75687dc9e2b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8d5ee1a0729b91545e856dbf14fd75687dc9e2b8", "html_url": "https://github.com/rust-lang/rust/commit/8d5ee1a0729b91545e856dbf14fd75687dc9e2b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8d5ee1a0729b91545e856dbf14fd75687dc9e2b8/comments", "author": {"login": "kylematsuda", "id": 17287790, "node_id": "MDQ6VXNlcjE3Mjg3Nzkw", "avatar_url": "https://avatars.githubusercontent.com/u/17287790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylematsuda", "html_url": "https://github.com/kylematsuda", "followers_url": "https://api.github.com/users/kylematsuda/followers", "following_url": "https://api.github.com/users/kylematsuda/following{/other_user}", "gists_url": "https://api.github.com/users/kylematsuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylematsuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylematsuda/subscriptions", "organizations_url": "https://api.github.com/users/kylematsuda/orgs", "repos_url": "https://api.github.com/users/kylematsuda/repos", "events_url": "https://api.github.com/users/kylematsuda/events{/privacy}", "received_events_url": "https://api.github.com/users/kylematsuda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kylematsuda", "id": 17287790, "node_id": "MDQ6VXNlcjE3Mjg3Nzkw", "avatar_url": "https://avatars.githubusercontent.com/u/17287790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylematsuda", "html_url": "https://github.com/kylematsuda", "followers_url": "https://api.github.com/users/kylematsuda/followers", "following_url": "https://api.github.com/users/kylematsuda/following{/other_user}", "gists_url": "https://api.github.com/users/kylematsuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylematsuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylematsuda/subscriptions", "organizations_url": "https://api.github.com/users/kylematsuda/orgs", "repos_url": "https://api.github.com/users/kylematsuda/repos", "events_url": "https://api.github.com/users/kylematsuda/events{/privacy}", "received_events_url": "https://api.github.com/users/kylematsuda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e2f5a5a71fa2a55e976484b9e72f5aa425ebab62", "url": "https://api.github.com/repos/rust-lang/rust/commits/e2f5a5a71fa2a55e976484b9e72f5aa425ebab62", "html_url": "https://github.com/rust-lang/rust/commit/e2f5a5a71fa2a55e976484b9e72f5aa425ebab62"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "7770a5e47641886a23e8ade279984e8b2cd6f03e", "filename": "compiler/rustc_middle/src/hir/mod.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8d5ee1a0729b91545e856dbf14fd75687dc9e2b8/compiler%2Frustc_middle%2Fsrc%2Fhir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d5ee1a0729b91545e856dbf14fd75687dc9e2b8/compiler%2Frustc_middle%2Fsrc%2Fhir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fhir%2Fmod.rs?ref=8d5ee1a0729b91545e856dbf14fd75687dc9e2b8", "patch": "@@ -105,12 +105,10 @@ impl<'tcx> TyCtxt<'tcx> {\n     }\n \n     pub fn impl_subject(self, def_id: DefId) -> EarlyBinder<ImplSubject<'tcx>> {\n-        EarlyBinder(\n-            self.impl_trait_ref(def_id)\n-                .map(|t| t.subst_identity())\n-                .map(ImplSubject::Trait)\n-                .unwrap_or_else(|| ImplSubject::Inherent(self.type_of(def_id).subst_identity())),\n-        )\n+        match self.impl_trait_ref(def_id) {\n+            Some(t) => t.map_bound(ImplSubject::Trait),\n+            None => self.type_of(def_id).map_bound(ImplSubject::Inherent),\n+        }\n     }\n }\n "}]}