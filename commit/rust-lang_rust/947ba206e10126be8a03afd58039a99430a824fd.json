{"sha": "947ba206e10126be8a03afd58039a99430a824fd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0N2JhMjA2ZTEwMTI2YmU4YTAzYWZkNTgwMzlhOTk0MzBhODI0ZmQ=", "commit": {"author": {"name": "Brendan Zabarauskas", "email": "bjzaba@yahoo.com.au", "date": "2013-04-13T13:59:52Z"}, "committer": {"name": "Brendan Zabarauskas", "email": "bjzaba@yahoo.com.au", "date": "2013-04-13T15:14:02Z"}, "message": "Add a test to show how NumCast can be used in type parameters", "tree": {"sha": "c65ec74866635e65dddeac0bdf6de54dfc34c4fe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c65ec74866635e65dddeac0bdf6de54dfc34c4fe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/947ba206e10126be8a03afd58039a99430a824fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/947ba206e10126be8a03afd58039a99430a824fd", "html_url": "https://github.com/rust-lang/rust/commit/947ba206e10126be8a03afd58039a99430a824fd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/947ba206e10126be8a03afd58039a99430a824fd/comments", "author": {"login": "brendanzab", "id": 695077, "node_id": "MDQ6VXNlcjY5NTA3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendanzab", "html_url": "https://github.com/brendanzab", "followers_url": "https://api.github.com/users/brendanzab/followers", "following_url": "https://api.github.com/users/brendanzab/following{/other_user}", "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions", "organizations_url": "https://api.github.com/users/brendanzab/orgs", "repos_url": "https://api.github.com/users/brendanzab/repos", "events_url": "https://api.github.com/users/brendanzab/events{/privacy}", "received_events_url": "https://api.github.com/users/brendanzab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brendanzab", "id": 695077, "node_id": "MDQ6VXNlcjY5NTA3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendanzab", "html_url": "https://github.com/brendanzab", "followers_url": "https://api.github.com/users/brendanzab/followers", "following_url": "https://api.github.com/users/brendanzab/following{/other_user}", "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions", "organizations_url": "https://api.github.com/users/brendanzab/orgs", "repos_url": "https://api.github.com/users/brendanzab/repos", "events_url": "https://api.github.com/users/brendanzab/events{/privacy}", "received_events_url": "https://api.github.com/users/brendanzab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "353ce872e287edf3764ca416d2a8cd8e1f54329b", "url": "https://api.github.com/repos/rust-lang/rust/commits/353ce872e287edf3764ca416d2a8cd8e1f54329b", "html_url": "https://github.com/rust-lang/rust/commit/353ce872e287edf3764ca416d2a8cd8e1f54329b"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "a257094368261ad8b6a6fe754116f626f33e0239", "filename": "src/libcore/num/num.rs", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/947ba206e10126be8a03afd58039a99430a824fd/src%2Flibcore%2Fnum%2Fnum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947ba206e10126be8a03afd58039a99430a824fd/src%2Flibcore%2Fnum%2Fnum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fnum%2Fnum.rs?ref=947ba206e10126be8a03afd58039a99430a824fd", "patch": "@@ -240,4 +240,27 @@ macro_rules! test_cast_20(\n #[test] fn test_int_cast()   { test_cast_20!(20i)   }\n #[test] fn test_f32_cast()   { test_cast_20!(20f32) }\n #[test] fn test_f64_cast()   { test_cast_20!(20f64) }\n-#[test] fn test_float_cast() { test_cast_20!(20f)   }\n\\ No newline at end of file\n+#[test] fn test_float_cast() { test_cast_20!(20f)   }\n+\n+#[test]\n+fn test_generic_cast() {\n+    use ops::Add;\n+    \n+    fn add_2<T: Add<T,T> + NumCast>(n: T) -> T {\n+        n + cast(2)\n+    }\n+    \n+    assert!(add_2(1u)   == 3u);\n+    assert!(add_2(1u8)  == 3u8);\n+    assert!(add_2(1u16) == 3u16);\n+    assert!(add_2(1u32) == 3u32);\n+    assert!(add_2(1u64) == 3u64);\n+    assert!(add_2(1i)   == 3i);\n+    assert!(add_2(1i8)  == 3i8);\n+    assert!(add_2(1i16) == 3i16);\n+    assert!(add_2(1i32) == 3i32);\n+    assert!(add_2(1i64) == 3i64);\n+    assert!(add_2(1f)   == 3f);\n+    assert!(add_2(1f32) == 3f32);\n+    assert!(add_2(1f64) == 3f64);\n+}"}]}