{"sha": "8e7f69af9ce5ec270b79a5125635cacfaeb936ba", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhlN2Y2OWFmOWNlNWVjMjcwYjc5YTUxMjU2MzVjYWNmYWViOTM2YmE=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-08-14T15:59:17Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-08-14T15:59:17Z"}, "message": "Rollup merge of #53317 - estebank:abolish-ice, r=oli-obk\n\nMark prior failure to avoid ICE\n\nFix #53251", "tree": {"sha": "17ee6b6b4c9dedb50821619d25870ebafe9395b7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/17ee6b6b4c9dedb50821619d25870ebafe9395b7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8e7f69af9ce5ec270b79a5125635cacfaeb936ba", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbcvxWCRBK7hj4Ov3rIwAAdHIIAJXfvFHiecNEuV3WdCW/B7up\nkQsTDuftjBq8AdT0BKoqh2WSP0Xc3+nD5JONgC/v7p9/PDSnoyugSQi5mZ5gvAJv\nOYJQZtLLYSzLi6xmX60hA+ZX8DekhKn0isYxvz0tPYSMrYiZvDfPz7eztEGSmrJV\nOy49k9OpkmZGBKFo7vgM2yDGOAiRu/a6f+6cwEtwSO5TwazeFC6WLNHE2KuWHKnN\ng8KQ4s/D3IZ0nyuWxTMfgVlC4OuI4UG9AE+uS9Ssy1a7zwr5Gq3pxvbk+t5Yi2zY\ngh5GwwdNAxwBUPXovsnW9DQI0HHccAZk1Y5Rt92y70UHg5HwDUjnO43Qr3MN85o=\n=P4Wf\n-----END PGP SIGNATURE-----\n", "payload": "tree 17ee6b6b4c9dedb50821619d25870ebafe9395b7\nparent 47f66e7372e5e020d8c4852b24c01ed6321a2ba5\nparent 397db46ae3b3d0451dd4edacc2d43af4aa38e4f2\nauthor kennytm <kennytm@gmail.com> 1534262357 +0800\ncommitter GitHub <noreply@github.com> 1534262357 +0800\n\nRollup merge of #53317 - estebank:abolish-ice, r=oli-obk\n\nMark prior failure to avoid ICE\n\nFix #53251\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8e7f69af9ce5ec270b79a5125635cacfaeb936ba", "html_url": "https://github.com/rust-lang/rust/commit/8e7f69af9ce5ec270b79a5125635cacfaeb936ba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8e7f69af9ce5ec270b79a5125635cacfaeb936ba/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "47f66e7372e5e020d8c4852b24c01ed6321a2ba5", "url": "https://api.github.com/repos/rust-lang/rust/commits/47f66e7372e5e020d8c4852b24c01ed6321a2ba5", "html_url": "https://github.com/rust-lang/rust/commit/47f66e7372e5e020d8c4852b24c01ed6321a2ba5"}, {"sha": "397db46ae3b3d0451dd4edacc2d43af4aa38e4f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/397db46ae3b3d0451dd4edacc2d43af4aa38e4f2", "html_url": "https://github.com/rust-lang/rust/commit/397db46ae3b3d0451dd4edacc2d43af4aa38e4f2"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "43edb23504480f0fe485855a480e5bb4e5f8e46e", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8e7f69af9ce5ec270b79a5125635cacfaeb936ba/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e7f69af9ce5ec270b79a5125635cacfaeb936ba/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=8e7f69af9ce5ec270b79a5125635cacfaeb936ba", "patch": "@@ -5154,6 +5154,7 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n         } else {\n             None\n         } {\n+            self.set_tainted_by_errors(); // #53251\n             err.span_label(span, format!(\"expected {}\", expected_text)).emit();\n         }\n "}, {"sha": "aa9da744566f76c2efdc951f5458e681e0b1474f", "filename": "src/test/ui/issue-53251.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/8e7f69af9ce5ec270b79a5125635cacfaeb936ba/src%2Ftest%2Fui%2Fissue-53251.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e7f69af9ce5ec270b79a5125635cacfaeb936ba/src%2Ftest%2Fui%2Fissue-53251.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-53251.rs?ref=8e7f69af9ce5ec270b79a5125635cacfaeb936ba", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct S;\n+\n+impl S {\n+    fn f() {}\n+}\n+\n+macro_rules! impl_add {\n+    ($($n:ident)*) => {\n+        $(\n+            fn $n() {\n+                S::f::<i64>();\n+                //~^ ERROR too many type parameters provided\n+            }\n+        )*\n+    }\n+}\n+\n+impl_add!(a b);"}, {"sha": "bf99e73f0d985ac9809af96217a55096e435990d", "filename": "src/test/ui/issue-53251.stderr", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8e7f69af9ce5ec270b79a5125635cacfaeb936ba/src%2Ftest%2Fui%2Fissue-53251.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8e7f69af9ce5ec270b79a5125635cacfaeb936ba/src%2Ftest%2Fui%2Fissue-53251.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-53251.stderr?ref=8e7f69af9ce5ec270b79a5125635cacfaeb936ba", "patch": "@@ -0,0 +1,17 @@\n+error[E0601]: `main` function not found in crate `issue_53251`\n+   |\n+   = note: consider adding a `main` function to `$DIR/issue-53251.rs`\n+\n+error[E0087]: too many type parameters provided: expected at most 0 type parameters, found 1 type parameter\n+  --> $DIR/issue-53251.rs:21:24\n+   |\n+LL |                 S::f::<i64>();\n+   |                        ^^^ expected 0 type parameters\n+...\n+LL | impl_add!(a b);\n+   | --------------- in this macro invocation\n+\n+error: aborting due to 2 previous errors\n+\n+Some errors occurred: E0087, E0601.\n+For more information about an error, try `rustc --explain E0087`."}]}