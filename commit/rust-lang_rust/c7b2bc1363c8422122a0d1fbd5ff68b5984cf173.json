{"sha": "c7b2bc1363c8422122a0d1fbd5ff68b5984cf173", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM3YjJiYzEzNjNjODQyMjEyMmEwZDFmYmQ1ZmY2OGI1OTg0Y2YxNzM=", "commit": {"author": {"name": "kjeremy", "email": "kjeremy@gmail.com", "date": "2020-01-08T16:33:04Z"}, "committer": {"name": "kjeremy", "email": "kjeremy@gmail.com", "date": "2020-01-08T16:33:04Z"}, "message": "Move private API down", "tree": {"sha": "e4f8f3dac6a05b92247e75c9bba71a2e6afd5745", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e4f8f3dac6a05b92247e75c9bba71a2e6afd5745"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c7b2bc1363c8422122a0d1fbd5ff68b5984cf173", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c7b2bc1363c8422122a0d1fbd5ff68b5984cf173", "html_url": "https://github.com/rust-lang/rust/commit/c7b2bc1363c8422122a0d1fbd5ff68b5984cf173", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c7b2bc1363c8422122a0d1fbd5ff68b5984cf173/comments", "author": {"login": "kjeremy", "id": 4325700, "node_id": "MDQ6VXNlcjQzMjU3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4325700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjeremy", "html_url": "https://github.com/kjeremy", "followers_url": "https://api.github.com/users/kjeremy/followers", "following_url": "https://api.github.com/users/kjeremy/following{/other_user}", "gists_url": "https://api.github.com/users/kjeremy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjeremy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjeremy/subscriptions", "organizations_url": "https://api.github.com/users/kjeremy/orgs", "repos_url": "https://api.github.com/users/kjeremy/repos", "events_url": "https://api.github.com/users/kjeremy/events{/privacy}", "received_events_url": "https://api.github.com/users/kjeremy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kjeremy", "id": 4325700, "node_id": "MDQ6VXNlcjQzMjU3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4325700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjeremy", "html_url": "https://github.com/kjeremy", "followers_url": "https://api.github.com/users/kjeremy/followers", "following_url": "https://api.github.com/users/kjeremy/following{/other_user}", "gists_url": "https://api.github.com/users/kjeremy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjeremy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjeremy/subscriptions", "organizations_url": "https://api.github.com/users/kjeremy/orgs", "repos_url": "https://api.github.com/users/kjeremy/repos", "events_url": "https://api.github.com/users/kjeremy/events{/privacy}", "received_events_url": "https://api.github.com/users/kjeremy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b19a8aa5ecfc9d7115f291b97d413bd845c89b5", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b19a8aa5ecfc9d7115f291b97d413bd845c89b5", "html_url": "https://github.com/rust-lang/rust/commit/1b19a8aa5ecfc9d7115f291b97d413bd845c89b5"}], "stats": {"total": 30, "additions": 15, "deletions": 15}, "files": [{"sha": "1cb712e32d58058245da26f74bfd80b3198121c3", "filename": "crates/ra_ide/src/call_hierarchy.rs", "status": "modified", "additions": 15, "deletions": 15, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/c7b2bc1363c8422122a0d1fbd5ff68b5984cf173/crates%2Fra_ide%2Fsrc%2Fcall_hierarchy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c7b2bc1363c8422122a0d1fbd5ff68b5984cf173/crates%2Fra_ide%2Fsrc%2Fcall_hierarchy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcall_hierarchy.rs?ref=c7b2bc1363c8422122a0d1fbd5ff68b5984cf173", "patch": "@@ -16,21 +16,6 @@ use crate::{\n     goto_definition, references, FilePosition, NavigationTarget, RangeInfo,\n };\n \n-#[derive(Default)]\n-struct CallLocations {\n-    funcs: IndexMap<NavigationTarget, Vec<TextRange>>,\n-}\n-\n-impl CallLocations {\n-    pub fn add(&mut self, target: &NavigationTarget, range: TextRange) {\n-        self.funcs.entry(target.clone()).or_default().push(range);\n-    }\n-\n-    pub fn into_items(self) -> Vec<CallItem> {\n-        self.funcs.into_iter().map(|(target, ranges)| CallItem { target, ranges }).collect()\n-    }\n-}\n-\n #[derive(Debug, Clone)]\n pub struct CallItem {\n     pub target: NavigationTarget,\n@@ -146,6 +131,21 @@ pub(crate) fn outgoing_calls(db: &RootDatabase, position: FilePosition) -> Optio\n     Some(calls.into_items())\n }\n \n+#[derive(Default)]\n+struct CallLocations {\n+    funcs: IndexMap<NavigationTarget, Vec<TextRange>>,\n+}\n+\n+impl CallLocations {\n+    fn add(&mut self, target: &NavigationTarget, range: TextRange) {\n+        self.funcs.entry(target.clone()).or_default().push(range);\n+    }\n+\n+    fn into_items(self) -> Vec<CallItem> {\n+        self.funcs.into_iter().map(|(target, ranges)| CallItem { target, ranges }).collect()\n+    }\n+}\n+\n #[cfg(test)]\n mod tests {\n     use ra_db::FilePosition;"}]}