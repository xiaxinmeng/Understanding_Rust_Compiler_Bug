{"sha": "f045b214ea52eebdaf0b17a1ca6d4be807abb032", "node_id": "C_kwDOAAsO6NoAKGYwNDViMjE0ZWE1MmVlYmRhZjBiMTdhMWNhNmQ0YmU4MDdhYmIwMzI", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-02-14T17:08:06Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-02-15T17:17:09Z"}, "message": "Add removed comments back in self-outlives-lint", "tree": {"sha": "e55ec4d00da9cb54214630395daf12214e842486", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e55ec4d00da9cb54214630395daf12214e842486"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f045b214ea52eebdaf0b17a1ca6d4be807abb032", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f045b214ea52eebdaf0b17a1ca6d4be807abb032", "html_url": "https://github.com/rust-lang/rust/commit/f045b214ea52eebdaf0b17a1ca6d4be807abb032", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f045b214ea52eebdaf0b17a1ca6d4be807abb032/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce16189d46c607483fd892cbf9353e3c9f2d8047", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce16189d46c607483fd892cbf9353e3c9f2d8047", "html_url": "https://github.com/rust-lang/rust/commit/ce16189d46c607483fd892cbf9353e3c9f2d8047"}], "stats": {"total": 34, "additions": 18, "deletions": 16}, "files": [{"sha": "55757251e26fdb1c5acd34182b89d07f71f68356", "filename": "compiler/rustc_typeck/src/check/wfcheck.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f045b214ea52eebdaf0b17a1ca6d4be807abb032/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fwfcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f045b214ea52eebdaf0b17a1ca6d4be807abb032/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fwfcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fwfcheck.rs?ref=f045b214ea52eebdaf0b17a1ca6d4be807abb032", "patch": "@@ -342,7 +342,6 @@ fn check_gat_where_clauses(tcx: TyCtxt<'_>, associated_items: &[hir::TraitItemRe\n                             param_env,\n                             required_bounds_by_item.get(&item_def_id),\n                         );\n-                        // FIXME(compiler-errors): Do we want to add a assoc ty default to the wf_tys?\n                         gather_gat_bounds(\n                             tcx,\n                             param_env,"}, {"sha": "300907adbfc11546356902ade82985d5496c45b6", "filename": "src/test/ui/generic-associated-types/self-outlives-lint.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f045b214ea52eebdaf0b17a1ca6d4be807abb032/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fself-outlives-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f045b214ea52eebdaf0b17a1ca6d4be807abb032/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fself-outlives-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fself-outlives-lint.rs?ref=f045b214ea52eebdaf0b17a1ca6d4be807abb032", "patch": "@@ -1,5 +1,7 @@\n #![feature(generic_associated_types)]\n \n+// check-fail\n+\n use std::fmt::Debug;\n \n // We have a `&'a self`, so we need a `Self: 'a`\n@@ -115,6 +117,7 @@ trait TraitLifetime<'a> {\n }\n \n // Like above, but we have a where clause that can prove what we want\n+// FIXME: we require two bounds (`where Self: 'a, Self: 'b`) when we should only require one\n trait TraitLifetimeWhere<'a> where Self: 'a {\n     type Bar<'b>;\n     //~^ missing required"}, {"sha": "fdb1f50a7764c94d3e61b83ee87851107fc48929", "filename": "src/test/ui/generic-associated-types/self-outlives-lint.stderr", "status": "modified", "additions": 15, "deletions": 15, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/f045b214ea52eebdaf0b17a1ca6d4be807abb032/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fself-outlives-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f045b214ea52eebdaf0b17a1ca6d4be807abb032/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fself-outlives-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fself-outlives-lint.stderr?ref=f045b214ea52eebdaf0b17a1ca6d4be807abb032", "patch": "@@ -1,5 +1,5 @@\n error: missing required bound on `Item`\n-  --> $DIR/self-outlives-lint.rs:7:5\n+  --> $DIR/self-outlives-lint.rs:9:5\n    |\n LL |     type Item<'x>;\n    |     ^^^^^^^^^^^^^-\n@@ -10,7 +10,7 @@ LL |     type Item<'x>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Out`\n-  --> $DIR/self-outlives-lint.rs:23:5\n+  --> $DIR/self-outlives-lint.rs:25:5\n    |\n LL |     type Out<'x>;\n    |     ^^^^^^^^^^^^-\n@@ -21,7 +21,7 @@ LL |     type Out<'x>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Out`\n-  --> $DIR/self-outlives-lint.rs:37:5\n+  --> $DIR/self-outlives-lint.rs:39:5\n    |\n LL |     type Out<'x>;\n    |     ^^^^^^^^^^^^-\n@@ -32,7 +32,7 @@ LL |     type Out<'x>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bounds on `Out`\n-  --> $DIR/self-outlives-lint.rs:44:5\n+  --> $DIR/self-outlives-lint.rs:46:5\n    |\n LL |     type Out<'x, 'y>;\n    |     ^^^^^^^^^^^^^^^^-\n@@ -43,7 +43,7 @@ LL |     type Out<'x, 'y>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Out`\n-  --> $DIR/self-outlives-lint.rs:59:5\n+  --> $DIR/self-outlives-lint.rs:61:5\n    |\n LL |     type Out<'x, D>;\n    |     ^^^^^^^^^^^^^^^-\n@@ -54,7 +54,7 @@ LL |     type Out<'x, D>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Out`\n-  --> $DIR/self-outlives-lint.rs:75:5\n+  --> $DIR/self-outlives-lint.rs:77:5\n    |\n LL |     type Out<'x, D>;\n    |     ^^^^^^^^^^^^^^^-\n@@ -65,7 +65,7 @@ LL |     type Out<'x, D>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Out`\n-  --> $DIR/self-outlives-lint.rs:90:5\n+  --> $DIR/self-outlives-lint.rs:92:5\n    |\n LL |     type Out<'x, D>;\n    |     ^^^^^^^^^^^^^^^-\n@@ -76,7 +76,7 @@ LL |     type Out<'x, D>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bounds on `Bar`\n-  --> $DIR/self-outlives-lint.rs:112:5\n+  --> $DIR/self-outlives-lint.rs:114:5\n    |\n LL |     type Bar<'b>;\n    |     ^^^^^^^^^^^^-\n@@ -87,7 +87,7 @@ LL |     type Bar<'b>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Bar`\n-  --> $DIR/self-outlives-lint.rs:119:5\n+  --> $DIR/self-outlives-lint.rs:122:5\n    |\n LL |     type Bar<'b>;\n    |     ^^^^^^^^^^^^-\n@@ -98,7 +98,7 @@ LL |     type Bar<'b>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Bar`\n-  --> $DIR/self-outlives-lint.rs:126:5\n+  --> $DIR/self-outlives-lint.rs:129:5\n    |\n LL |     type Bar<'b>;\n    |     ^^^^^^^^^^^^-\n@@ -109,7 +109,7 @@ LL |     type Bar<'b>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Item`\n-  --> $DIR/self-outlives-lint.rs:139:5\n+  --> $DIR/self-outlives-lint.rs:142:5\n    |\n LL |     type Item<'a>;\n    |     ^^^^^^^^^^^^^-\n@@ -120,7 +120,7 @@ LL |     type Item<'a>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Iterator`\n-  --> $DIR/self-outlives-lint.rs:141:5\n+  --> $DIR/self-outlives-lint.rs:144:5\n    |\n LL |     type Iterator<'a>: Iterator<Item = Self::Item<'a>>;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^-\n@@ -131,7 +131,7 @@ LL |     type Iterator<'a>: Iterator<Item = Self::Item<'a>>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Item`\n-  --> $DIR/self-outlives-lint.rs:147:5\n+  --> $DIR/self-outlives-lint.rs:150:5\n    |\n LL |     type Item<'a>;\n    |     ^^^^^^^^^^^^^-\n@@ -142,7 +142,7 @@ LL |     type Item<'a>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Bar`\n-  --> $DIR/self-outlives-lint.rs:156:5\n+  --> $DIR/self-outlives-lint.rs:159:5\n    |\n LL |     type Bar<'a, 'b>;\n    |     ^^^^^^^^^^^^^^^^-\n@@ -153,7 +153,7 @@ LL |     type Bar<'a, 'b>;\n    = note: we are soliciting feedback, see issue #87479 <https://github.com/rust-lang/rust/issues/87479> for more information\n \n error: missing required bound on `Fut`\n-  --> $DIR/self-outlives-lint.rs:172:5\n+  --> $DIR/self-outlives-lint.rs:175:5\n    |\n LL |     type Fut<'out>;\n    |     ^^^^^^^^^^^^^^-"}]}