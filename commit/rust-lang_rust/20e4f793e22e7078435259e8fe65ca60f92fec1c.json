{"sha": "20e4f793e22e7078435259e8fe65ca60f92fec1c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIwZTRmNzkzZTIyZTcwNzg0MzUyNTllOGZlNjVjYTYwZjkyZmVjMWM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-27T18:15:28Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-27T18:17:23Z"}, "message": "More std docs", "tree": {"sha": "6a3ca71abbbe9cfca9033d1e37c6d1e4be74f525", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6a3ca71abbbe9cfca9033d1e37c6d1e4be74f525"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/20e4f793e22e7078435259e8fe65ca60f92fec1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/20e4f793e22e7078435259e8fe65ca60f92fec1c", "html_url": "https://github.com/rust-lang/rust/commit/20e4f793e22e7078435259e8fe65ca60f92fec1c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/20e4f793e22e7078435259e8fe65ca60f92fec1c/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "17c651b3b0133b8add302312a147699f0f5eed21", "url": "https://api.github.com/repos/rust-lang/rust/commits/17c651b3b0133b8add302312a147699f0f5eed21", "html_url": "https://github.com/rust-lang/rust/commit/17c651b3b0133b8add302312a147699f0f5eed21"}], "stats": {"total": 29, "additions": 26, "deletions": 3}, "files": [{"sha": "9c8f20a9a75295df44e69af89b969a40849a7829", "filename": "src/lib/comm.rs", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/20e4f793e22e7078435259e8fe65ca60f92fec1c/src%2Flib%2Fcomm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20e4f793e22e7078435259e8fe65ca60f92fec1c/src%2Flib%2Fcomm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fcomm.rs?ref=20e4f793e22e7078435259e8fe65ca60f92fec1c", "patch": "@@ -56,9 +56,18 @@ type port_id = int;\n /*\n Type: chan\n \n-A handle through which data may be sent.\n+A communication endpoint that can send messages. Channels send\n+messages to ports.\n \n-Each channel is associated with a single <port>.\n+Each channel is bound to a port when the channel is constructed, so\n+the destination port for a channel must exist before the channel\n+itself.\n+\n+Channels are weak: a channel does not keep the port it is bound to alive.\n+If a channel attempts to send data to a dead port that data will be silently\n+dropped.\n+\n+Channels may be duplicated and themselves transmitted over other channels.\n */\n tag chan<unique T> {\n     chan_t(task::task, port_id);\n@@ -72,7 +81,11 @@ resource port_ptr(po: *rustrt::rust_port) {\n /*\n Type: port\n \n-A handle through which data may be received.\n+A communication endpoint that can receive messages. Ports receive\n+messages from channels.\n+\n+Each port has a unique per-task identity and may not be replicated or\n+transmitted. If a port value is copied, both copies refer to the same port.\n \n Ports may be associated with multiple <chan>s.\n */\n@@ -105,13 +118,18 @@ fn port<unique T>() -> port<T> {\n Function: recv\n \n Receive from a port.\n+\n+If no data is available on the port then the task will block until data\n+becomes available.\n */\n fn recv<unique T>(p: port<T>) -> T { ret rusti::recv(***p) }\n \n /*\n Function: chan\n \n Constructs a channel.\n+\n+The channel is bound to the port used to construct it.\n */\n fn chan<unique T>(p: port<T>) -> chan<T> {\n     chan_t(task::get_task_id(), rustrt::get_port_id(***p))"}, {"sha": "6f92ed7ff5e43938482f07b747b63433daf23266", "filename": "src/lib/task.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/20e4f793e22e7078435259e8fe65ca60f92fec1c/src%2Flib%2Ftask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20e4f793e22e7078435259e8fe65ca60f92fec1c/src%2Flib%2Ftask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Ftask.rs?ref=20e4f793e22e7078435259e8fe65ca60f92fec1c", "patch": "@@ -1,3 +1,8 @@\n+/*\n+Module: task\n+\n+Task management.\n+*/\n import cast = unsafe::reinterpret_cast;\n import comm;\n import option::{some, none};"}]}