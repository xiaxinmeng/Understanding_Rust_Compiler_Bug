{"sha": "d51db4275b5271b0349b3d6f21e5eea2d0ee62fc", "node_id": "C_kwDOAAsO6NoAKGQ1MWRiNDI3NWI1MjcxYjAzNDliM2Q2ZjIxZTVlZWEyZDBlZTYyZmM", "commit": {"author": {"name": "Jamie Cunliffe", "email": "Jamie.Cunliffe@arm.com", "date": "2023-01-25T16:05:24Z"}, "committer": {"name": "Jamie Cunliffe", "email": "Jamie.Cunliffe@arm.com", "date": "2023-05-22T13:27:14Z"}, "message": "Make v8a match optional in the test feature list.", "tree": {"sha": "ce541f03ac10905f74d00a729b940478df5d4af5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce541f03ac10905f74d00a729b940478df5d4af5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d51db4275b5271b0349b3d6f21e5eea2d0ee62fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d51db4275b5271b0349b3d6f21e5eea2d0ee62fc", "html_url": "https://github.com/rust-lang/rust/commit/d51db4275b5271b0349b3d6f21e5eea2d0ee62fc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d51db4275b5271b0349b3d6f21e5eea2d0ee62fc/comments", "author": {"login": "JamieCunliffe", "id": 29557119, "node_id": "MDQ6VXNlcjI5NTU3MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/29557119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JamieCunliffe", "html_url": "https://github.com/JamieCunliffe", "followers_url": "https://api.github.com/users/JamieCunliffe/followers", "following_url": "https://api.github.com/users/JamieCunliffe/following{/other_user}", "gists_url": "https://api.github.com/users/JamieCunliffe/gists{/gist_id}", "starred_url": "https://api.github.com/users/JamieCunliffe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JamieCunliffe/subscriptions", "organizations_url": "https://api.github.com/users/JamieCunliffe/orgs", "repos_url": "https://api.github.com/users/JamieCunliffe/repos", "events_url": "https://api.github.com/users/JamieCunliffe/events{/privacy}", "received_events_url": "https://api.github.com/users/JamieCunliffe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JamieCunliffe", "id": 29557119, "node_id": "MDQ6VXNlcjI5NTU3MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/29557119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JamieCunliffe", "html_url": "https://github.com/JamieCunliffe", "followers_url": "https://api.github.com/users/JamieCunliffe/followers", "following_url": "https://api.github.com/users/JamieCunliffe/following{/other_user}", "gists_url": "https://api.github.com/users/JamieCunliffe/gists{/gist_id}", "starred_url": "https://api.github.com/users/JamieCunliffe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JamieCunliffe/subscriptions", "organizations_url": "https://api.github.com/users/JamieCunliffe/orgs", "repos_url": "https://api.github.com/users/JamieCunliffe/repos", "events_url": "https://api.github.com/users/JamieCunliffe/events{/privacy}", "received_events_url": "https://api.github.com/users/JamieCunliffe/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aab0757c666504f36c5a382304ec5390fc4f7454", "url": "https://api.github.com/repos/rust-lang/rust/commits/aab0757c666504f36c5a382304ec5390fc4f7454", "html_url": "https://github.com/rust-lang/rust/commit/aab0757c666504f36c5a382304ec5390fc4f7454"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "5dc9ae47e7934e20fcac634cac8ba143b9aaf70d", "filename": "tests/codegen/tied-features-strength.rs", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d51db4275b5271b0349b3d6f21e5eea2d0ee62fc/tests%2Fcodegen%2Ftied-features-strength.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d51db4275b5271b0349b3d6f21e5eea2d0ee62fc/tests%2Fcodegen%2Ftied-features-strength.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcodegen%2Ftied-features-strength.rs?ref=d51db4275b5271b0349b3d6f21e5eea2d0ee62fc", "patch": "@@ -3,17 +3,21 @@\n // compile-flags: --crate-type=rlib --target=aarch64-unknown-linux-gnu\n // needs-llvm-components: aarch64\n \n+// The \"+v8a\" feature is matched as optional as it isn't added when we\n+// are targeting older LLVM versions. Once the min supported version\n+// is LLVM-14 we can remove the regex matching for this feature.\n+\n // [ENABLE_SVE] compile-flags: -C target-feature=+sve\n-// ENABLE_SVE: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,+sve,+neon,+v8a\" }\n+// ENABLE_SVE: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,+sve,+neon{{(,\\+v8a)?}}\" }\n \n // [DISABLE_SVE] compile-flags: -C target-feature=-sve\n-// DISABLE_SVE: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,-sve,+v8a\" }\n+// DISABLE_SVE: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,-sve{{(,\\+v8a)?}}\" }\n \n // [DISABLE_NEON] compile-flags: -C target-feature=-neon\n-// DISABLE_NEON: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,-neon,-fp-armv8,+v8a\" }\n+// DISABLE_NEON: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,-neon,-fp-armv8{{(,\\+v8a)?}}\" }\n \n // [ENABLE_NEON] compile-flags: -C target-feature=+neon\n-// ENABLE_NEON: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,+neon,+fp-armv8,+v8a\" }\n+// ENABLE_NEON: attributes #0 = { {{.*}} \"target-features\"=\"+outline-atomics,+neon,+fp-armv8{{(,\\+v8a)?}}\" }\n \n \n #![feature(no_core, lang_items)]"}]}