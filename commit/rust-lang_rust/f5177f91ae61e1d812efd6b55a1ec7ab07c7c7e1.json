{"sha": "f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY1MTc3ZjkxYWU2MWUxZDgxMmVmZDZiNTVhMWVjN2FiMDdjN2M3ZTE=", "commit": {"author": {"name": "Florian Diebold", "email": "florian.diebold@freiheit.com", "date": "2020-05-08T13:17:35Z"}, "committer": {"name": "Florian Diebold", "email": "florian.diebold@freiheit.com", "date": "2020-05-08T13:18:33Z"}, "message": "Fix type of byte literals\n\nThey're `&[u8; N]`, not `&[u8]` (see #4374).", "tree": {"sha": "e76e38744fefe81c5ec1f121672022a36307dcf4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e76e38744fefe81c5ec1f121672022a36307dcf4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "html_url": "https://github.com/rust-lang/rust/commit/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1/comments", "author": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51e4b92c1eee25cb6bf1b5ec8e7633dfc5f67a45", "url": "https://api.github.com/repos/rust-lang/rust/commits/51e4b92c1eee25cb6bf1b5ec8e7633dfc5f67a45", "html_url": "https://github.com/rust-lang/rust/commit/51e4b92c1eee25cb6bf1b5ec8e7633dfc5f67a45"}], "stats": {"total": 21, "additions": 11, "deletions": 10}, "files": [{"sha": "614c352a0c3623f87346fd005c196647a48d7d27", "filename": "crates/ra_hir_ty/src/infer/expr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1/crates%2Fra_hir_ty%2Fsrc%2Finfer%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1/crates%2Fra_hir_ty%2Fsrc%2Finfer%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Finfer%2Fexpr.rs?ref=f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "patch": "@@ -501,8 +501,8 @@ impl<'a> InferenceContext<'a> {\n                 }\n                 Literal::ByteString(..) => {\n                     let byte_type = Ty::simple(TypeCtor::Int(Uncertain::Known(IntTy::u8())));\n-                    let slice_type = Ty::apply_one(TypeCtor::Slice, byte_type);\n-                    Ty::apply_one(TypeCtor::Ref(Mutability::Shared), slice_type)\n+                    let array_type = Ty::apply_one(TypeCtor::Array, byte_type);\n+                    Ty::apply_one(TypeCtor::Ref(Mutability::Shared), array_type)\n                 }\n                 Literal::Char(..) => Ty::simple(TypeCtor::Char),\n                 Literal::Int(_v, ty) => Ty::simple(TypeCtor::Int((*ty).into())),"}, {"sha": "67f964ab5d7ac5a32b72eace4bff90be286ff039", "filename": "crates/ra_hir_ty/src/tests/method_resolution.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs?ref=f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "patch": "@@ -17,19 +17,20 @@ impl<T> [T] {\n #[lang = \"slice_alloc\"]\n impl<T> [T] {}\n \n-fn test() {\n-    <[_]>::foo(b\"foo\");\n+fn test(x: &[u8]) {\n+    <[_]>::foo(x);\n }\n \"#),\n         @r###\"\n     45..49 'self': &[T]\n     56..79 '{     ...     }': T\n     66..73 'loop {}': !\n     71..73 '{}': ()\n-    133..160 '{     ...o\"); }': ()\n-    139..149 '<[_]>::foo': fn foo<u8>(&[u8]) -> u8\n-    139..157 '<[_]>:...\"foo\")': u8\n-    150..156 'b\"foo\"': &[u8]\n+    131..132 'x': &[u8]\n+    141..163 '{     ...(x); }': ()\n+    147..157 '<[_]>::foo': fn foo<u8>(&[u8]) -> u8\n+    147..160 '<[_]>::foo(x)': u8\n+    158..159 'x': &[u8]\n     \"###\n     );\n }"}, {"sha": "e17a179004cd334b8044e717f720351521ccad05", "filename": "crates/ra_hir_ty/src/tests/simple.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fsimple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fsimple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fsimple.rs?ref=f5177f91ae61e1d812efd6b55a1ec7ab07c7c7e1", "patch": "@@ -414,15 +414,15 @@ fn test() {\n     27..31 '5f32': f32\n     37..41 '5f64': f64\n     47..54 '\"hello\"': &str\n-    60..68 'b\"bytes\"': &[u8]\n+    60..68 'b\"bytes\"': &[u8; _]\n     74..77 ''c'': char\n     83..87 'b'b'': u8\n     93..97 '3.14': f64\n     103..107 '5000': i32\n     113..118 'false': bool\n     124..128 'true': bool\n     134..202 'r#\"   ...    \"#': &str\n-    208..218 'br#\"yolo\"#': &[u8]\n+    208..218 'br#\"yolo\"#': &[u8; _]\n     \"###\n     );\n }"}]}