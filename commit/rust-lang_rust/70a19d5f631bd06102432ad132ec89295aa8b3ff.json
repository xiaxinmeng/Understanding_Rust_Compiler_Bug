{"sha": "70a19d5f631bd06102432ad132ec89295aa8b3ff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwYTE5ZDVmNjMxYmQwNjEwMjQzMmFkMTMyZWM4OTI5NWFhOGIzZmY=", "commit": {"author": {"name": "Sangeun Kim", "email": "sammy.kim@samsung.com", "date": "2013-05-16T04:29:54Z"}, "committer": {"name": "Sangeun Kim", "email": "sammy.kim@samsung.com", "date": "2013-05-16T04:29:54Z"}, "message": "Implement bytes! syntax extension", "tree": {"sha": "b324ab05d6582c1329d2f9de935255c9a8924a18", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b324ab05d6582c1329d2f9de935255c9a8924a18"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70a19d5f631bd06102432ad132ec89295aa8b3ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70a19d5f631bd06102432ad132ec89295aa8b3ff", "html_url": "https://github.com/rust-lang/rust/commit/70a19d5f631bd06102432ad132ec89295aa8b3ff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70a19d5f631bd06102432ad132ec89295aa8b3ff/comments", "author": {"login": "sammykim", "id": 3492634, "node_id": "MDQ6VXNlcjM0OTI2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3492634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sammykim", "html_url": "https://github.com/sammykim", "followers_url": "https://api.github.com/users/sammykim/followers", "following_url": "https://api.github.com/users/sammykim/following{/other_user}", "gists_url": "https://api.github.com/users/sammykim/gists{/gist_id}", "starred_url": "https://api.github.com/users/sammykim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sammykim/subscriptions", "organizations_url": "https://api.github.com/users/sammykim/orgs", "repos_url": "https://api.github.com/users/sammykim/repos", "events_url": "https://api.github.com/users/sammykim/events{/privacy}", "received_events_url": "https://api.github.com/users/sammykim/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sammykim", "id": 3492634, "node_id": "MDQ6VXNlcjM0OTI2MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3492634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sammykim", "html_url": "https://github.com/sammykim", "followers_url": "https://api.github.com/users/sammykim/followers", "following_url": "https://api.github.com/users/sammykim/following{/other_user}", "gists_url": "https://api.github.com/users/sammykim/gists{/gist_id}", "starred_url": "https://api.github.com/users/sammykim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sammykim/subscriptions", "organizations_url": "https://api.github.com/users/sammykim/orgs", "repos_url": "https://api.github.com/users/sammykim/repos", "events_url": "https://api.github.com/users/sammykim/events{/privacy}", "received_events_url": "https://api.github.com/users/sammykim/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c18e44ba17c227522836e4ddfcfc095448d0938c", "url": "https://api.github.com/repos/rust-lang/rust/commits/c18e44ba17c227522836e4ddfcfc095448d0938c", "html_url": "https://github.com/rust-lang/rust/commit/c18e44ba17c227522836e4ddfcfc095448d0938c"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "a97c69ba4ffec7586d2c372f5df875570418a0a6", "filename": "src/libsyntax/ext/base.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70a19d5f631bd06102432ad132ec89295aa8b3ff/src%2Flibsyntax%2Fext%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a19d5f631bd06102432ad132ec89295aa8b3ff/src%2Flibsyntax%2Fext%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbase.rs?ref=70a19d5f631bd06102432ad132ec89295aa8b3ff", "patch": "@@ -139,6 +139,8 @@ pub fn syntax_expander_table() -> SyntaxEnv {\n         @SE(ItemDecorator(ext::auto_encode::expand_auto_decode)));\n     syntax_expanders.insert(@~\"env\",\n                             builtin_normal_tt(ext::env::expand_syntax_ext));\n+    syntax_expanders.insert(@~\"bytes\",\n+                            builtin_normal_tt(ext::bytes::expand_syntax_ext));\n     syntax_expanders.insert(@~\"concat_idents\",\n                             builtin_normal_tt(\n                                 ext::concat_idents::expand_syntax_ext));"}, {"sha": "03020f26a9393cc2f2ae598929c40ad7930465ae", "filename": "src/libsyntax/ext/bytes.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/70a19d5f631bd06102432ad132ec89295aa8b3ff/src%2Flibsyntax%2Fext%2Fbytes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a19d5f631bd06102432ad132ec89295aa8b3ff/src%2Flibsyntax%2Fext%2Fbytes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbytes.rs?ref=70a19d5f631bd06102432ad132ec89295aa8b3ff", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+/* The compiler code necessary to support the bytes! extension. */\n+\n+use ast;\n+use codemap::span;\n+use ext::base::*;\n+use ext::base;\n+use ext::build::{mk_u8, mk_slice_vec_e};\n+\n+pub fn expand_syntax_ext(cx: @ext_ctxt, sp: span, tts: &[ast::token_tree])\n+    -> base::MacResult {\n+    let var = get_single_str_from_tts(cx, sp, tts, \"bytes!\");\n+    let mut bytes = ~[];\n+    for var.each |byte| {\n+        bytes.push(mk_u8(cx, sp, byte));\n+    }\n+    let e = mk_slice_vec_e(cx, sp, bytes);\n+    MRExpr(e)\n+}"}, {"sha": "565a8a18c6fad819d9b42345de662499c9a7317d", "filename": "src/libsyntax/syntax.rc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a19d5f631bd06102432ad132ec89295aa8b3ff/src%2Flibsyntax%2Fsyntax.rc", "raw_url": "https://github.com/rust-lang/rust/raw/70a19d5f631bd06102432ad132ec89295aa8b3ff/src%2Flibsyntax%2Fsyntax.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fsyntax.rc?ref=70a19d5f631bd06102432ad132ec89295aa8b3ff", "patch": "@@ -78,6 +78,7 @@ pub mod ext {\n \n     pub mod fmt;\n     pub mod env;\n+    pub mod bytes;\n     pub mod concat_idents;\n     pub mod log_syntax;\n     pub mod auto_encode;"}]}