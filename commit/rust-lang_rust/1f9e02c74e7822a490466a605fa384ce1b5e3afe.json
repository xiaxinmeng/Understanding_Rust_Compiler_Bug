{"sha": "1f9e02c74e7822a490466a605fa384ce1b5e3afe", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmOWUwMmM3NGU3ODIyYTQ5MDQ2NmE2MDVmYTM4NGNlMWI1ZTNhZmU=", "commit": {"author": {"name": "Jess Balint", "email": "jbalint@gmail.com", "date": "2020-05-22T14:25:55Z"}, "committer": {"name": "Jess Balint", "email": "jbalint@gmail.com", "date": "2020-05-22T14:25:55Z"}, "message": "fix generated docs issue", "tree": {"sha": "5fe797ce562a33be1a56fc9fec816866e1454ebc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5fe797ce562a33be1a56fc9fec816866e1454ebc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1f9e02c74e7822a490466a605fa384ce1b5e3afe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1f9e02c74e7822a490466a605fa384ce1b5e3afe", "html_url": "https://github.com/rust-lang/rust/commit/1f9e02c74e7822a490466a605fa384ce1b5e3afe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1f9e02c74e7822a490466a605fa384ce1b5e3afe/comments", "author": {"login": "jbalint", "id": 99260, "node_id": "MDQ6VXNlcjk5MjYw", "avatar_url": "https://avatars.githubusercontent.com/u/99260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbalint", "html_url": "https://github.com/jbalint", "followers_url": "https://api.github.com/users/jbalint/followers", "following_url": "https://api.github.com/users/jbalint/following{/other_user}", "gists_url": "https://api.github.com/users/jbalint/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbalint/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbalint/subscriptions", "organizations_url": "https://api.github.com/users/jbalint/orgs", "repos_url": "https://api.github.com/users/jbalint/repos", "events_url": "https://api.github.com/users/jbalint/events{/privacy}", "received_events_url": "https://api.github.com/users/jbalint/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jbalint", "id": 99260, "node_id": "MDQ6VXNlcjk5MjYw", "avatar_url": "https://avatars.githubusercontent.com/u/99260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbalint", "html_url": "https://github.com/jbalint", "followers_url": "https://api.github.com/users/jbalint/followers", "following_url": "https://api.github.com/users/jbalint/following{/other_user}", "gists_url": "https://api.github.com/users/jbalint/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbalint/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbalint/subscriptions", "organizations_url": "https://api.github.com/users/jbalint/orgs", "repos_url": "https://api.github.com/users/jbalint/repos", "events_url": "https://api.github.com/users/jbalint/events{/privacy}", "received_events_url": "https://api.github.com/users/jbalint/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6594235dd80d337dd7bfaa8be876ba5e111526b1", "url": "https://api.github.com/repos/rust-lang/rust/commits/6594235dd80d337dd7bfaa8be876ba5e111526b1", "html_url": "https://github.com/rust-lang/rust/commit/6594235dd80d337dd7bfaa8be876ba5e111526b1"}], "stats": {"total": 95, "additions": 72, "deletions": 23}, "files": [{"sha": "7101d9aaff3a81fcbbc55046f0b6518d50ef0157", "filename": "crates/ra_assists/src/handlers/change_lifetime_anon_to_named.rs", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/1f9e02c74e7822a490466a605fa384ce1b5e3afe/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fchange_lifetime_anon_to_named.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f9e02c74e7822a490466a605fa384ce1b5e3afe/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fchange_lifetime_anon_to_named.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fchange_lifetime_anon_to_named.rs?ref=1f9e02c74e7822a490466a605fa384ce1b5e3afe", "patch": "@@ -2,29 +2,29 @@ use crate::{AssistContext, AssistId, Assists};\n use ra_syntax::{ast, ast::TypeParamsOwner, AstNode, SyntaxKind};\n use std::collections::HashSet;\n \n-/// Assist: change_lifetime_anon_to_named\n-///\n-/// Change an anonymous lifetime to a named lifetime.\n-///\n-/// ```\n-/// impl Cursor<'_<|>> {\n-///     fn node(self) -> &SyntaxNode {\n-///         match self {\n-///             Cursor::Replace(node) | Cursor::Before(node) => node,\n-///         }\n-///     }\n-/// }\n-/// ```\n-/// ->\n-/// ```\n-/// impl<'a> Cursor<'a> {\n-///     fn node(self) -> &SyntaxNode {\n-///         match self {\n-///             Cursor::Replace(node) | Cursor::Before(node) => node,\n-///         }\n-///     }\n-/// }\n-/// ```\n+// Assist: change_lifetime_anon_to_named\n+//\n+// Change an anonymous lifetime to a named lifetime.\n+//\n+// ```\n+// impl Cursor<'_<|>> {\n+//     fn node(self) -> &SyntaxNode {\n+//         match self {\n+//             Cursor::Replace(node) | Cursor::Before(node) => node,\n+//         }\n+//     }\n+// }\n+// ```\n+// ->\n+// ```\n+// impl<'a> Cursor<'a> {\n+//     fn node(self) -> &SyntaxNode {\n+//         match self {\n+//             Cursor::Replace(node) | Cursor::Before(node) => node,\n+//         }\n+//     }\n+// }\n+// ```\n // FIXME: How can we handle renaming any one of multiple anonymous lifetimes?\n pub(crate) fn change_lifetime_anon_to_named(acc: &mut Assists, ctx: &AssistContext) -> Option<()> {\n     let lifetime_token = ctx.find_token_at_offset(SyntaxKind::LIFETIME)?;"}, {"sha": "abffbf97cfcf0675a2496b0c4d0de8907a00fd65", "filename": "crates/ra_assists/src/tests/generated.rs", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/1f9e02c74e7822a490466a605fa384ce1b5e3afe/crates%2Fra_assists%2Fsrc%2Ftests%2Fgenerated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f9e02c74e7822a490466a605fa384ce1b5e3afe/crates%2Fra_assists%2Fsrc%2Ftests%2Fgenerated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Ftests%2Fgenerated.rs?ref=1f9e02c74e7822a490466a605fa384ce1b5e3afe", "patch": "@@ -268,6 +268,31 @@ pub mod std { pub mod collections { pub struct HashMap { } } }\n     )\n }\n \n+#[test]\n+fn doctest_change_lifetime_anon_to_named() {\n+    check_doc_test(\n+        \"change_lifetime_anon_to_named\",\n+        r#####\"\n+impl Cursor<'_<|>> {\n+    fn node(self) -> &SyntaxNode {\n+        match self {\n+            Cursor::Replace(node) | Cursor::Before(node) => node,\n+        }\n+    }\n+}\n+\"#####,\n+        r#####\"\n+impl<'a> Cursor<'a> {\n+    fn node(self) -> &SyntaxNode {\n+        match self {\n+            Cursor::Replace(node) | Cursor::Before(node) => node,\n+        }\n+    }\n+}\n+\"#####,\n+    )\n+}\n+\n #[test]\n fn doctest_change_return_type_to_result() {\n     check_doc_test("}, {"sha": "a1058ecde9773b72c7f630b640b10d3d9b488acd", "filename": "docs/user/assists.md", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/1f9e02c74e7822a490466a605fa384ce1b5e3afe/docs%2Fuser%2Fassists.md", "raw_url": "https://github.com/rust-lang/rust/raw/1f9e02c74e7822a490466a605fa384ce1b5e3afe/docs%2Fuser%2Fassists.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fassists.md?ref=1f9e02c74e7822a490466a605fa384ce1b5e3afe", "patch": "@@ -259,6 +259,30 @@ fn main() {\n }\n ```\n \n+## `change_lifetime_anon_to_named`\n+\n+Change an anonymous lifetime to a named lifetime.\n+\n+```rust\n+// BEFORE\n+impl Cursor<'_\u2503> {\n+    fn node(self) -> &SyntaxNode {\n+        match self {\n+            Cursor::Replace(node) | Cursor::Before(node) => node,\n+        }\n+    }\n+}\n+\n+// AFTER\n+impl<'a> Cursor<'a> {\n+    fn node(self) -> &SyntaxNode {\n+        match self {\n+            Cursor::Replace(node) | Cursor::Before(node) => node,\n+        }\n+    }\n+}\n+```\n+\n ## `change_return_type_to_result`\n \n Change the function's return type to Result."}]}