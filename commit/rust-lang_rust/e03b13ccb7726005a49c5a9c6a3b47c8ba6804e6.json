{"sha": "e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6", "node_id": "C_kwDOAAsO6NoAKGUwM2IxM2NjYjc3MjYwMDVhNDljNWE5YzZhM2I0N2M4YmE2ODA0ZTY", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-03-22T14:39:16Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-03-22T15:05:20Z"}, "message": "Update anonymous-reexport UI test", "tree": {"sha": "4dfd60675037daa4b2e6a08bb9f3e6c72a473f13", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4dfd60675037daa4b2e6a08bb9f3e6c72a473f13"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6", "html_url": "https://github.com/rust-lang/rust/commit/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "825f0888cc168c767e3f6c071831963ddebbb78a", "url": "https://api.github.com/repos/rust-lang/rust/commits/825f0888cc168c767e3f6c071831963ddebbb78a", "html_url": "https://github.com/rust-lang/rust/commit/825f0888cc168c767e3f6c071831963ddebbb78a"}], "stats": {"total": 65, "additions": 26, "deletions": 39}, "files": [{"sha": "11ac5d07140ba41aff8f1f08cf893641a0d9e33f", "filename": "tests/ui/lint/anonymous-reexport.rs", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6/tests%2Fui%2Flint%2Fanonymous-reexport.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6/tests%2Fui%2Flint%2Fanonymous-reexport.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Fanonymous-reexport.rs?ref=e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6", "patch": "@@ -1,4 +1,4 @@\n-#![deny(useless_anonymous_reexport)]\n+#![deny(unused_imports)]\n #![crate_type = \"rlib\"]\n \n mod my_mod {\n@@ -9,13 +9,11 @@ mod my_mod {\n }\n \n pub use self::my_mod::Foo as _;\n-pub use self::my_mod::TyFoo as _;\n-pub use self::my_mod::Bar as _; //~ ERROR\n-pub use self::my_mod::TyBar as _; //~ ERROR\n-pub use self::my_mod::{Bar as _}; //~ ERROR\n-pub use self::my_mod::{Bar as _, Foo as _}; //~ ERROR\n-pub use self::my_mod::{Bar as _, TyBar as _};\n-//~^ ERROR\n-//~| ERROR\n+pub use self::my_mod::TyFoo as _; //~ ERROR unused import\n+pub use self::my_mod::Bar as _; //~ ERROR unused import\n+pub use self::my_mod::TyBar as _; //~ ERROR unused import\n+pub use self::my_mod::{Bar as _}; //~ ERROR unused import\n+pub use self::my_mod::{Bar as _, Foo as _}; //~ ERROR unused import\n+pub use self::my_mod::{Bar as _, TyBar as _}; //~ ERROR unused imports\n #[allow(unused_imports)]\n use self::my_mod::TyBar as _;"}, {"sha": "e3854a5459ec0b3210d85abd1d362f23649954f3", "filename": "tests/ui/lint/anonymous-reexport.stderr", "status": "modified", "additions": 19, "deletions": 30, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6/tests%2Fui%2Flint%2Fanonymous-reexport.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6/tests%2Fui%2Flint%2Fanonymous-reexport.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Fanonymous-reexport.stderr?ref=e03b13ccb7726005a49c5a9c6a3b47c8ba6804e6", "patch": "@@ -1,55 +1,44 @@\n-error: useless anonymous re-export\n-  --> $DIR/anonymous-reexport.rs:13:1\n+error: unused import: `self::my_mod::TyFoo as _`\n+  --> $DIR/anonymous-reexport.rs:12:9\n    |\n-LL | pub use self::my_mod::Bar as _;\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL | pub use self::my_mod::TyFoo as _;\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: only anonymous re-exports of traits are useful, this is a `struct`\n note: the lint level is defined here\n   --> $DIR/anonymous-reexport.rs:1:9\n    |\n-LL | #![deny(useless_anonymous_reexport)]\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL | #![deny(unused_imports)]\n+   |         ^^^^^^^^^^^^^^\n \n-error: useless anonymous re-export\n-  --> $DIR/anonymous-reexport.rs:14:1\n+error: unused import: `self::my_mod::Bar as _`\n+  --> $DIR/anonymous-reexport.rs:13:9\n    |\n-LL | pub use self::my_mod::TyBar as _;\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL | pub use self::my_mod::Bar as _;\n+   |         ^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: unused import: `self::my_mod::TyBar as _`\n+  --> $DIR/anonymous-reexport.rs:14:9\n    |\n-   = note: only anonymous re-exports of traits are useful, this is a `type alias`\n+LL | pub use self::my_mod::TyBar as _;\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: useless anonymous re-export\n+error: unused import: `Bar as _`\n   --> $DIR/anonymous-reexport.rs:15:24\n    |\n LL | pub use self::my_mod::{Bar as _};\n    |                        ^^^^^^^^\n-   |\n-   = note: only anonymous re-exports of traits are useful, this is a `struct`\n \n-error: useless anonymous re-export\n+error: unused import: `Bar as _`\n   --> $DIR/anonymous-reexport.rs:16:24\n    |\n LL | pub use self::my_mod::{Bar as _, Foo as _};\n    |                        ^^^^^^^^\n-   |\n-   = note: only anonymous re-exports of traits are useful, this is a `struct`\n \n-error: useless anonymous re-export\n+error: unused imports: `Bar as _`, `TyBar as _`\n   --> $DIR/anonymous-reexport.rs:17:24\n    |\n LL | pub use self::my_mod::{Bar as _, TyBar as _};\n-   |                        ^^^^^^^^\n-   |\n-   = note: only anonymous re-exports of traits are useful, this is a `struct`\n-\n-error: useless anonymous re-export\n-  --> $DIR/anonymous-reexport.rs:17:34\n-   |\n-LL | pub use self::my_mod::{Bar as _, TyBar as _};\n-   |                                  ^^^^^^^^^^\n-   |\n-   = note: only anonymous re-exports of traits are useful, this is a `type alias`\n+   |                        ^^^^^^^^  ^^^^^^^^^^\n \n error: aborting due to 6 previous errors\n "}]}