{"sha": "bf5130b502d3d1c61465c8deded65a1cb3929fbd", "node_id": "C_kwDOAAsO6NoAKGJmNTEzMGI1MDJkM2QxYzYxNDY1YzhkZWRlZDY1YTFjYjM5MjlmYmQ", "commit": {"author": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2022-01-11T15:52:24Z"}, "committer": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2022-01-11T15:52:24Z"}, "message": "Add test", "tree": {"sha": "0a8b9437951f9d194a96b5d7a9457f44c3be3339", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a8b9437951f9d194a96b5d7a9457f44c3be3339"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bf5130b502d3d1c61465c8deded65a1cb3929fbd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE3RQPHNISvvEnSKtjbQF6ltjmwvkFAmHdp7gACgkQbQF6ltjm\nwvmg/Q//cmyHGBcbu/ISzlx0pgViViMN/ZxEcaUUDRvKc7KpZEnGYFaogKi4LUYT\nY2ZBh5VrZER31EOug39dSjotqZSa+jU4ka3zG2dVDF/t+UVflXpWFTtT6sGe5x7E\nZsDARurbWcZh6EoGeOvXykyDedcX/OwkKyNly9QJlh9B9eoeJKTkcxaqJ2eO7U4C\nVbHx03QjUVTRU9b1Rk1+/nDKFjUxQ1D0aplGY4e+85fOn3qzWMo5eZXdeyz3SVfx\np2lfxTjg9WRzKhBNeMAy0/6ZOVq/YsfdfDv5UiBJAYZ3aot01Y8zcw2BS8M+4ZKo\n7Gb26q2Q9SQDdjcE0w/Lg6ImmvFAVMQna8TZLVlVqgsKPVLhczU0JPpqWuRIwffJ\nem9ejRoabdd3KYHgEdmbLIpb99H+ng36WTjjIPI5624ifRmBtePrMSGalXK5PlrP\nG/L+x4dbXitZytAFEzUz2D6+VS/4YTwU7tEk3xDfLeX9BEnQeNoQOBh89PC4X62/\n1tPjgfucnzNsnp7llMT5tzmhm9uHH6Y7pCbv9VGiAGXmVjo9EZ/l7NwgBEy/LUS5\nAL1LDYRaPs16C5R0ssU6Gy5IRRZEaA/Ra23M9LA9G2dKq/UaAhTmixHKvRb4aMfo\nbEhPt5Q6zaWAiCgqGDgs+NdmO3FdiRf6xg4dnbFIutOS5A7oDtQ=\n=7q77\n-----END PGP SIGNATURE-----", "payload": "tree 0a8b9437951f9d194a96b5d7a9457f44c3be3339\nparent 7fd6ddfba2da259cd5c4232ff32e4c14a54a0e60\nauthor Deadbeef <ent3rm4n@gmail.com> 1641916344 +0800\ncommitter Deadbeef <ent3rm4n@gmail.com> 1641916344 +0800\n\nAdd test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bf5130b502d3d1c61465c8deded65a1cb3929fbd", "html_url": "https://github.com/rust-lang/rust/commit/bf5130b502d3d1c61465c8deded65a1cb3929fbd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bf5130b502d3d1c61465c8deded65a1cb3929fbd/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7fd6ddfba2da259cd5c4232ff32e4c14a54a0e60", "url": "https://api.github.com/repos/rust-lang/rust/commits/7fd6ddfba2da259cd5c4232ff32e4c14a54a0e60", "html_url": "https://github.com/rust-lang/rust/commit/7fd6ddfba2da259cd5c4232ff32e4c14a54a0e60"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "cccb856c2f675f4c71a95ef72aafb04e11ea6926", "filename": "src/test/ui/rfc-2632-const-trait-impl/default-method-body-is-const-same-trait-ck.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/bf5130b502d3d1c61465c8deded65a1cb3929fbd/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fdefault-method-body-is-const-same-trait-ck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf5130b502d3d1c61465c8deded65a1cb3929fbd/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fdefault-method-body-is-const-same-trait-ck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fdefault-method-body-is-const-same-trait-ck.rs?ref=bf5130b502d3d1c61465c8deded65a1cb3929fbd", "patch": "@@ -0,0 +1,17 @@\n+#![feature(const_fn_trait_bound)]\n+#![feature(const_trait_impl)]\n+\n+pub trait Tr {\n+    #[default_method_body_is_const]\n+    fn a(&self) {}\n+\n+    #[default_method_body_is_const]\n+    fn b(&self) {\n+        ().a()\n+        //~^ ERROR calls in constant functions are limited\n+    }\n+}\n+\n+impl Tr for () {}\n+\n+fn main() {}"}, {"sha": "91f4d2fd4b0e847a466caea09db4627d19e2f3e7", "filename": "src/test/ui/rfc-2632-const-trait-impl/default-method-body-is-const-same-trait-ck.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/bf5130b502d3d1c61465c8deded65a1cb3929fbd/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fdefault-method-body-is-const-same-trait-ck.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bf5130b502d3d1c61465c8deded65a1cb3929fbd/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fdefault-method-body-is-const-same-trait-ck.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fdefault-method-body-is-const-same-trait-ck.stderr?ref=bf5130b502d3d1c61465c8deded65a1cb3929fbd", "patch": "@@ -0,0 +1,9 @@\n+error[E0015]: calls in constant functions are limited to constant functions, tuple structs and tuple variants\n+  --> $DIR/default-method-body-is-const-same-trait-ck.rs:10:9\n+   |\n+LL |         ().a()\n+   |         ^^^^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0015`."}]}