{"sha": "bb08f37a1c086697b12aeca43e0f78bc665719da", "node_id": "C_kwDOAAsO6NoAKGJiMDhmMzdhMWMwODY2OTdiMTJhZWNhNDNlMGY3OGJjNjY1NzE5ZGE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-12-27T07:57:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-27T07:57:46Z"}, "message": "Rollup merge of #106146 - kadiwa4:readme-x-py, r=jyn514\n\nReadme: update section on how to run `x.py`\n\n`./x.py` currently looks for `python3` (not `python`) in the `PATH`. I updated that in the readme and also mentioned a convenient way to run `x.py` on Windows. The PowerShell script is actually quite inconvenient to use (and not really necessary on the `cmd.exe` prompt) so I left it out.\n\nIn addition I adapted `./x` in one of the CI scripts.", "tree": {"sha": "264827fa4ce2de0614aeb2a453a2443ad5a8059a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/264827fa4ce2de0614aeb2a453a2443ad5a8059a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bb08f37a1c086697b12aeca43e0f78bc665719da", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjqqV6CRBK7hj4Ov3rIwAAHlMIAJpPqdibhMOiCv5KKJgREiQS\nSXvyaV1V+l3bIMdIAsIp7QpvJqOD08P1OuLfVgqT52wo6ZO6D3vP2gN1gbCep4Bs\nLdZ5x8J0Yd8DM/rOvfagdU/3UAIHaQr2g7SjJyvWiRTltl0jobbqFEBhZ1eRH9HV\n5AqzOIfTAY89DeMETPd3SKDT36CTXBCsgi5tnt/59m+0FVf9OZrKwQqCha6Q2KgN\nCEYT7GkbcGl6gFkyWsl7GL24pQnygbXRtVx/lcIQiAdf7Mpdg+nPeRC2FkSB7hHk\nd3u68/dWmlhqlyqG9nxMga8tlyGMUCkXvFmfpWto6n/ypF8h7/YfrPh0YeqJRCQ=\n=Lyxk\n-----END PGP SIGNATURE-----\n", "payload": "tree 264827fa4ce2de0614aeb2a453a2443ad5a8059a\nparent b8d71fc41fe3476da0e4857294583eff271aa625\nparent 9bf4036d17eccc9d39d1ef64f7f3f0b68fb3dfdc\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1672127866 +0100\ncommitter GitHub <noreply@github.com> 1672127866 +0100\n\nRollup merge of #106146 - kadiwa4:readme-x-py, r=jyn514\n\nReadme: update section on how to run `x.py`\n\n`./x.py` currently looks for `python3` (not `python`) in the `PATH`. I updated that in the readme and also mentioned a convenient way to run `x.py` on Windows. The PowerShell script is actually quite inconvenient to use (and not really necessary on the `cmd.exe` prompt) so I left it out.\n\nIn addition I adapted `./x` in one of the CI scripts.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bb08f37a1c086697b12aeca43e0f78bc665719da", "html_url": "https://github.com/rust-lang/rust/commit/bb08f37a1c086697b12aeca43e0f78bc665719da", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bb08f37a1c086697b12aeca43e0f78bc665719da/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8d71fc41fe3476da0e4857294583eff271aa625", "url": "https://api.github.com/repos/rust-lang/rust/commits/b8d71fc41fe3476da0e4857294583eff271aa625", "html_url": "https://github.com/rust-lang/rust/commit/b8d71fc41fe3476da0e4857294583eff271aa625"}, {"sha": "9bf4036d17eccc9d39d1ef64f7f3f0b68fb3dfdc", "url": "https://api.github.com/repos/rust-lang/rust/commits/9bf4036d17eccc9d39d1ef64f7f3f0b68fb3dfdc", "html_url": "https://github.com/rust-lang/rust/commit/9bf4036d17eccc9d39d1ef64f7f3f0b68fb3dfdc"}], "stats": {"total": 27, "additions": 10, "deletions": 17}, "files": [{"sha": "ac39435a8c7fb9338a0f278452e2d8ff8afa525d", "filename": "README.md", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/bb08f37a1c086697b12aeca43e0f78bc665719da/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/bb08f37a1c086697b12aeca43e0f78bc665719da/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=bb08f37a1c086697b12aeca43e0f78bc665719da", "patch": "@@ -20,22 +20,23 @@ Read [\"Installation\"] from [The Book].\n The Rust build system uses a Python script called `x.py` to build the compiler,\n which manages the bootstrapping process. It lives at the root of the project.\n \n-The `x.py` command can be run directly on most systems in the following format:\n+The `x.py` command can be run directly on most Unix systems in the following format:\n \n ```sh\n ./x.py <subcommand> [flags]\n ```\n \n-This is how the documentation and examples assume you are running `x.py`.\n-\n-Systems such as Ubuntu 20.04 LTS do not create the necessary `python` command by default when Python is installed that allows `x.py` to be run directly. In that case, you can either create a symlink for `python` (Ubuntu provides the `python-is-python3` package for this), or run `x.py` using Python itself:\n+This is how the documentation and examples assume you are running `x.py`. Some alternative ways are:\n \n ```sh\n-# Python 3\n-python3 x.py <subcommand> [flags]\n+# On a Unix shell if you don't have the necessary `python3` command\n+./x <subcommand> [flags]\n+\n+# On the Windows Command Prompt (if .py files are configured to run Python)\n+x.py <subcommand> [flags]\n \n-# Python 2.7\n-python2.7 x.py <subcommand> [flags]\n+# You can also run Python yourself, e.g.:\n+python x.py <subcommand> [flags]\n ```\n \n More information about `x.py` can be found"}, {"sha": "b64300277508dd15af81644f540beca9ccafbcfb", "filename": "src/ci/run.sh", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/bb08f37a1c086697b12aeca43e0f78bc665719da/src%2Fci%2Frun.sh", "raw_url": "https://github.com/rust-lang/rust/raw/bb08f37a1c086697b12aeca43e0f78bc665719da/src%2Fci%2Frun.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Frun.sh?ref=bb08f37a1c086697b12aeca43e0f78bc665719da", "patch": "@@ -45,14 +45,6 @@ fi\n ci_dir=`cd $(dirname $0) && pwd`\n source \"$ci_dir/shared.sh\"\n \n-if command -v python > /dev/null; then\n-    PYTHON=\"python\"\n-elif command -v python3 > /dev/null; then\n-    PYTHON=\"python3\"\n-else\n-    PYTHON=\"python2\"\n-fi\n-\n if ! isCI || isCiBranch auto || isCiBranch beta || isCiBranch try || isCiBranch try-perf; then\n     RUST_CONFIGURE_ARGS=\"$RUST_CONFIGURE_ARGS --set build.print-step-timings --enable-verbose-tests\"\n     RUST_CONFIGURE_ARGS=\"$RUST_CONFIGURE_ARGS --set build.metrics\"\n@@ -201,7 +193,7 @@ if [ \"$RUN_CHECK_WITH_PARALLEL_QUERIES\" != \"\" ]; then\n     mv metrics.json build\n   fi\n \n-  CARGO_INCREMENTAL=0 $PYTHON ../x.py check\n+  CARGO_INCREMENTAL=0 ../x check\n fi\n \n sccache --show-stats || true"}]}