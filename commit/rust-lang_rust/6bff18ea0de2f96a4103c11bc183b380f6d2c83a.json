{"sha": "6bff18ea0de2f96a4103c11bc183b380f6d2c83a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiZmYxOGVhMGRlMmY5NmE0MTAzYzExYmMxODNiMzgwZjZkMmM4M2E=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-02-28T04:39:39Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-02-28T04:39:39Z"}, "message": "auto merge of #5098 : pkgw/rust/pr/issue4869, r=brson\n\nSee issue #4869. I'm not quite sure what constitutes \"consensus from the core team\" (cf. discussion in the issue), but this at least demonstrates that the proposed change is pretty straightforward.\r\n\r\nAfter this change, there are no new test failures. I've un-ignored the `to_str` vectors test; it's not at all obvious to me why it'd be problematic, and it passes on my Linux machine.", "tree": {"sha": "5a95577d5991f0bbfa0dff98c8e446679030c3f5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a95577d5991f0bbfa0dff98c8e446679030c3f5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6bff18ea0de2f96a4103c11bc183b380f6d2c83a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6bff18ea0de2f96a4103c11bc183b380f6d2c83a", "html_url": "https://github.com/rust-lang/rust/commit/6bff18ea0de2f96a4103c11bc183b380f6d2c83a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6bff18ea0de2f96a4103c11bc183b380f6d2c83a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "292e946163c5acbca6b90f64133921752b0ed963", "url": "https://api.github.com/repos/rust-lang/rust/commits/292e946163c5acbca6b90f64133921752b0ed963", "html_url": "https://github.com/rust-lang/rust/commit/292e946163c5acbca6b90f64133921752b0ed963"}, {"sha": "a712d828f93ca08c072808d57fb110b1f9d0ca72", "url": "https://api.github.com/repos/rust-lang/rust/commits/a712d828f93ca08c072808d57fb110b1f9d0ca72", "html_url": "https://github.com/rust-lang/rust/commit/a712d828f93ca08c072808d57fb110b1f9d0ca72"}], "stats": {"total": 26, "additions": 5, "deletions": 21}, "files": [{"sha": "916c188a9c3b9f1b6a67efaf59ffa667c5ac58d7", "filename": "src/libcore/to_str.rs", "status": "modified", "additions": 5, "deletions": 21, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/6bff18ea0de2f96a4103c11bc183b380f6d2c83a/src%2Flibcore%2Fto_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6bff18ea0de2f96a4103c11bc183b380f6d2c83a/src%2Flibcore%2Fto_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fto_str.rs?ref=6bff18ea0de2f96a4103c11bc183b380f6d2c83a", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2012-2013 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -137,15 +137,6 @@ impl<A:ToStr> ToStr for @[A] {\n     }\n }\n \n-impl<A:ToStr> ToStr for @A {\n-    #[inline(always)]\n-    pure fn to_str(&self) -> ~str { ~\"@\" + (**self).to_str() }\n-}\n-impl<A:ToStr> ToStr for ~A {\n-    #[inline(always)]\n-    pure fn to_str(&self) -> ~str { ~\"~\" + (**self).to_str() }\n-}\n-\n #[cfg(test)]\n #[allow(non_implicitly_copyable_typarams)]\n mod tests {\n@@ -170,19 +161,12 @@ mod tests {\n     }\n \n     #[test]\n-    #[ignore]\n     fn test_vectors() {\n         let x: ~[int] = ~[];\n-        assert x.to_str() == ~\"~[]\";\n-        assert (~[1]).to_str() == ~\"~[1]\";\n-        assert (~[1, 2, 3]).to_str() == ~\"~[1, 2, 3]\";\n+        assert x.to_str() == ~\"[]\";\n+        assert (~[1]).to_str() == ~\"[1]\";\n+        assert (~[1, 2, 3]).to_str() == ~\"[1, 2, 3]\";\n         assert (~[~[], ~[1], ~[1, 1]]).to_str() ==\n-               ~\"~[~[], ~[1], ~[1, 1]]\";\n-    }\n-\n-    #[test]\n-    fn test_pointer_types() {\n-        assert (@1).to_str() == ~\"@1\";\n-        assert (~(true, false)).to_str() == ~\"~(true, false)\";\n+               ~\"[[], [1], [1, 1]]\";\n     }\n }"}]}