{"sha": "58a6a2729aa03ef8ca1c68f9c0396fafa1208f58", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4YTZhMjcyOWFhMDNlZjhjYTFjNjhmOWMwMzk2ZmFmYTEyMDhmNTg=", "commit": {"author": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-01T23:26:41Z"}, "committer": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-27T21:23:32Z"}, "message": "Add a warning that Miri does not check for data-races.", "tree": {"sha": "5f66fba490c29c7ea3e37a76aa5971169cc7b48a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5f66fba490c29c7ea3e37a76aa5971169cc7b48a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58", "html_url": "https://github.com/rust-lang/rust/commit/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58/comments", "author": null, "committer": null, "parents": [{"sha": "82f17ab91714bcc8bd2a5591e90db690d449d38c", "url": "https://api.github.com/repos/rust-lang/rust/commits/82f17ab91714bcc8bd2a5591e90db690d449d38c", "html_url": "https://github.com/rust-lang/rust/commit/82f17ab91714bcc8bd2a5591e90db690d449d38c"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "fb981a71f0e4d5836d39154c18da3916304d343b", "filename": "README.md", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=58a6a2729aa03ef8ca1c68f9c0396fafa1208f58", "patch": "@@ -47,7 +47,9 @@ in your program, and cannot run all programs:\n * Miri runs the program as a platform-independent interpreter, so the program\n   has no access to most platform-specific APIs or FFI. A few APIs have been\n   implemented (such as printing to stdout) but most have not: for example, Miri\n-  currently does not support concurrency, or SIMD, or networking.\n+  currently does not support SIMD or networking.\n+* Miri currently does not check for data-races and other concurrency related\n+  issues.\n \n [rust]: https://www.rust-lang.org/\n [mir]: https://github.com/rust-lang/rfcs/blob/master/text/1211-mir.md"}, {"sha": "878ab8896ddace2af73df68a40dd18798ed4f101", "filename": "src/shims/foreign_items/posix.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58/src%2Fshims%2Fforeign_items%2Fposix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58a6a2729aa03ef8ca1c68f9c0396fafa1208f58/src%2Fshims%2Fforeign_items%2Fposix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fforeign_items%2Fposix.rs?ref=58a6a2729aa03ef8ca1c68f9c0396fafa1208f58", "patch": "@@ -316,6 +316,8 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n \n             // Threading\n             \"pthread_create\" => {\n+                println!(\"WARNING: The thread support is experimental. \\\n+                          For example, Miri does not detect data races yet.\");\n                 assert_eq!(args.len(), 4);\n                 let func = args[2];\n                 let fn_ptr = this.read_scalar(func)?.not_undef()?;"}]}