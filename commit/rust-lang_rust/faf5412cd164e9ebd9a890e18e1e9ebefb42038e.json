{"sha": "faf5412cd164e9ebd9a890e18e1e9ebefb42038e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZhZjU0MTJjZDE2NGU5ZWJkOWE4OTBlMThlMWU5ZWJlZmI0MjAzOGU=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2021-01-08T02:11:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-01-08T02:11:48Z"}, "message": "Rollup merge of #80794 - LingMan:map_or, r=jyn514\n\nUse Option::map_or instead of `.map(..).unwrap_or(..)`\n\nr? `@jyn514`\n`@rustbot` modify labels +C-cleanup +T-rustdoc", "tree": {"sha": "dcc0228a4f39cf2d9094f8964f4d12b5ec68d519", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dcc0228a4f39cf2d9094f8964f4d12b5ec68d519"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/faf5412cd164e9ebd9a890e18e1e9ebefb42038e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf979lCRBK7hj4Ov3rIwAAdHIIADtkzKK5JOc5eskGr7LLoxxn\nFTquhPYYEhLfUma447k1rocPUz2EgvWQkal0ZCAUa/DQ1WVZUIIADg429YnyUPU9\n8DI6X+EzdEuJ7EkhfF11VSnivau2cJiQ1hLuSQdSunGuu+UBX/srY0mk/7O/bzXj\n7U6YM7tCg8bFHOKgo+3NLXjgLc8D+to3udyQuCqraCOvCEAGT/PftymD7ZXBce0k\nNUTb51U7w9C1gDg1FpO4CSCvy9PmMCJsSZ2kgA8I8iPz+0BImQvV8TLJUnw+cHrY\nOuv5NzI+3pGJ/YTNt2898TKRcp5et/xPSsJUJLFqlrd/vlJ0SvUbvp/wd42CeuQ=\n=GV/m\n-----END PGP SIGNATURE-----\n", "payload": "tree dcc0228a4f39cf2d9094f8964f4d12b5ec68d519\nparent 1ed90e4f068b7a34dd95ccd83e3a13ebc6b5864e\nparent 961f9ee6dfd21bfcbe75b68eb38ea86bce1dc1d1\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1610071908 +0900\ncommitter GitHub <noreply@github.com> 1610071908 +0900\n\nRollup merge of #80794 - LingMan:map_or, r=jyn514\n\nUse Option::map_or instead of `.map(..).unwrap_or(..)`\n\nr? `@jyn514`\n`@rustbot` modify labels +C-cleanup +T-rustdoc\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/faf5412cd164e9ebd9a890e18e1e9ebefb42038e", "html_url": "https://github.com/rust-lang/rust/commit/faf5412cd164e9ebd9a890e18e1e9ebefb42038e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/faf5412cd164e9ebd9a890e18e1e9ebefb42038e/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1ed90e4f068b7a34dd95ccd83e3a13ebc6b5864e", "url": "https://api.github.com/repos/rust-lang/rust/commits/1ed90e4f068b7a34dd95ccd83e3a13ebc6b5864e", "html_url": "https://github.com/rust-lang/rust/commit/1ed90e4f068b7a34dd95ccd83e3a13ebc6b5864e"}, {"sha": "961f9ee6dfd21bfcbe75b68eb38ea86bce1dc1d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/961f9ee6dfd21bfcbe75b68eb38ea86bce1dc1d1", "html_url": "https://github.com/rust-lang/rust/commit/961f9ee6dfd21bfcbe75b68eb38ea86bce1dc1d1"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "93991870338792310c7effd1edfdb8d8477afff5", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/faf5412cd164e9ebd9a890e18e1e9ebefb42038e/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/faf5412cd164e9ebd9a890e18e1e9ebefb42038e/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=faf5412cd164e9ebd9a890e18e1e9ebefb42038e", "patch": "@@ -942,7 +942,7 @@ impl<'a> Clean<Arguments> for (&'a [hir::Ty<'a>], &'a [Ident]) {\n                 .iter()\n                 .enumerate()\n                 .map(|(i, ty)| {\n-                    let mut name = self.1.get(i).map(|ident| ident.name).unwrap_or(kw::Empty);\n+                    let mut name = self.1.get(i).map_or(kw::Empty, |ident| ident.name);\n                     if name.is_empty() {\n                         name = kw::Underscore;\n                     }\n@@ -1001,7 +1001,7 @@ impl<'tcx> Clean<FnDecl> for (DefId, ty::PolyFnSig<'tcx>) {\n                     .iter()\n                     .map(|t| Argument {\n                         type_: t.clean(cx),\n-                        name: names.next().map(|i| i.name).unwrap_or(kw::Empty),\n+                        name: names.next().map_or(kw::Empty, |i| i.name),\n                     })\n                     .collect(),\n             },"}]}