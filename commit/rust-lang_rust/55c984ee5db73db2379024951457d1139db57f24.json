{"sha": "55c984ee5db73db2379024951457d1139db57f24", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU1Yzk4NGVlNWRiNzNkYjIzNzkwMjQ5NTE0NTdkMTEzOWRiNTdmMjQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-03-16T19:45:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-03-16T19:45:10Z"}, "message": "Auto merge of #48097 - oli-obk:did_you_mean_to_run_rls_with_clippy, r=nrc\n\nAutomatically enable the `clippy` feature of `rls` if clippy builds\n\nr? @nrc\n\ncc @Manishearth", "tree": {"sha": "28a6f2a2d434ebf8d49e92f93a085a2b90ffe5cb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/28a6f2a2d434ebf8d49e92f93a085a2b90ffe5cb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/55c984ee5db73db2379024951457d1139db57f24", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/55c984ee5db73db2379024951457d1139db57f24", "html_url": "https://github.com/rust-lang/rust/commit/55c984ee5db73db2379024951457d1139db57f24", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/55c984ee5db73db2379024951457d1139db57f24/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3b6412b94324b10f698a18ea5766ef6ff8921ae8", "url": "https://api.github.com/repos/rust-lang/rust/commits/3b6412b94324b10f698a18ea5766ef6ff8921ae8", "html_url": "https://github.com/rust-lang/rust/commit/3b6412b94324b10f698a18ea5766ef6ff8921ae8"}, {"sha": "02ac15cb898a3c74b1bd2453e5ff9fdb35e03157", "url": "https://api.github.com/repos/rust-lang/rust/commits/02ac15cb898a3c74b1bd2453e5ff9fdb35e03157", "html_url": "https://github.com/rust-lang/rust/commit/02ac15cb898a3c74b1bd2453e5ff9fdb35e03157"}], "stats": {"total": 250, "additions": 67, "deletions": 183}, "files": [{"sha": "5c912ef6d1f4358393452f8f0c9989ad55fa9ee1", "filename": "src/Cargo.lock", "status": "modified", "additions": 24, "deletions": 170, "changes": 194, "blob_url": "https://github.com/rust-lang/rust/blob/55c984ee5db73db2379024951457d1139db57f24/src%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/55c984ee5db73db2379024951457d1139db57f24/src%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FCargo.lock?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -296,15 +296,16 @@ dependencies = [\n \n [[package]]\n name = \"clippy\"\n-version = \"0.0.186\"\n+version = \"0.0.188\"\n dependencies = [\n- \"cargo_metadata 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cargo_metadata 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"clippy-mini-macro-test 0.2.0\",\n- \"clippy_lints 0.0.186\",\n- \"compiletest_rs 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"duct 0.8.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"clippy_lints 0.0.188\",\n+ \"compiletest_rs 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"derive-new 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -315,36 +316,16 @@ version = \"0.2.0\"\n \n [[package]]\n name = \"clippy_lints\"\n-version = \"0.0.186\"\n+version = \"0.0.188\"\n dependencies = [\n  \"if_chain 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"itertools 0.6.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"matches 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"pulldown-cmark 0.0.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"quine-mc_cluskey 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex-syntax 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"semver 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unicode-normalization 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"url 1.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"clippy_lints\"\n-version = \"0.0.187\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"if_chain 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"itertools 0.6.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"itertools 0.7.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"matches 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"pulldown-cmark 0.0.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"pulldown-cmark 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quine-mc_cluskey 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex-syntax 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"semver 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex-syntax 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -404,18 +385,20 @@ dependencies = [\n \n [[package]]\n name = \"compiletest_rs\"\n-version = \"0.3.6\"\n+version = \"0.3.8\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"miow 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-serialize 0.3.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"miow 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.29 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tempdir 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -578,17 +561,6 @@ name = \"dtoa\"\n version = \"0.4.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"duct\"\n-version = \"0.8.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"error-chain 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lazycell 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"os_pipe 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"shared_child 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"either\"\n version = \"1.4.0\"\n@@ -645,14 +617,6 @@ dependencies = [\n  \"termcolor 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"error-chain\"\n-version = \"0.8.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"backtrace 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"error-chain\"\n version = \"0.11.0\"\n@@ -921,14 +885,6 @@ name = \"is-match\"\n version = \"0.1.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"itertools\"\n-version = \"0.6.5\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"either 1.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"itertools\"\n version = \"0.7.6\"\n@@ -980,7 +936,7 @@ dependencies = [\n \n [[package]]\n name = \"languageserver-types\"\n-version = \"0.30.0\"\n+version = \"0.31.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"enum_primitive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1001,11 +957,6 @@ name = \"lazy_static\"\n version = \"1.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"lazycell\"\n-version = \"0.5.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"lazycell\"\n version = \"0.6.0\"\n@@ -1161,17 +1112,6 @@ dependencies = [\n  \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"miow\"\n-version = \"0.2.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"net2 0.2.32 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"ws2_32-sys 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"miow\"\n version = \"0.3.1\"\n@@ -1187,7 +1127,7 @@ version = \"0.1.0\"\n dependencies = [\n  \"byteorder 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cargo_metadata 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"compiletest_rs 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"compiletest_rs 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1196,32 +1136,11 @@ dependencies = [\n name = \"multiple_bins\"\n version = \"0.1.0\"\n \n-[[package]]\n-name = \"net2\"\n-version = \"0.2.32\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"nibble_vec\"\n version = \"0.0.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"nix\"\n-version = \"0.8.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"bitflags 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"void 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"nodrop\"\n version = \"0.1.12\"\n@@ -1308,16 +1227,6 @@ dependencies = [\n  \"vcpkg 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"os_pipe\"\n-version = \"0.5.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"nix 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"owning_ref\"\n version = \"0.3.3\"\n@@ -1405,15 +1314,6 @@ dependencies = [\n  \"core 0.0.0\",\n ]\n \n-[[package]]\n-name = \"pulldown-cmark\"\n-version = \"0.0.15\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"bitflags 0.9.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"getopts 0.2.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"pulldown-cmark\"\n version = \"0.1.2\"\n@@ -1550,11 +1450,6 @@ name = \"regex-syntax\"\n version = \"0.3.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"regex-syntax\"\n-version = \"0.4.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"regex-syntax\"\n version = \"0.5.0\"\n@@ -1586,12 +1481,12 @@ version = \"0.126.0\"\n dependencies = [\n  \"cargo 0.27.0\",\n  \"cargo_metadata 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"clippy_lints 0.0.187 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"clippy_lints 0.0.188\",\n  \"env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"json 0.11.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"jsonrpc-core 8.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"languageserver-types 0.30.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"languageserver-types 0.31.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 1.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -2259,14 +2154,6 @@ name = \"scopeguard\"\n version = \"0.3.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"semver\"\n-version = \"0.6.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"semver\"\n version = \"0.8.0\"\n@@ -2338,16 +2225,6 @@ dependencies = [\n name = \"serialize\"\n version = \"0.0.0\"\n \n-[[package]]\n-name = \"shared_child\"\n-version = \"0.2.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"shell-escape\"\n version = \"0.1.3\"\n@@ -2831,15 +2708,6 @@ dependencies = [\n name = \"workspace_symbol\"\n version = \"0.1.0\"\n \n-[[package]]\n-name = \"ws2_32-sys\"\n-version = \"0.2.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi-build 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"xattr\"\n version = \"0.1.11\"\n@@ -2883,11 +2751,10 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d4c819a1287eb618df47cc647173c5c4c66ba19d888a6e50d605672aed3140de\"\n \"checksum chrono 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7c20ebe0b2b08b0aeddba49c609fe7957ba2e33449882cb186a180bc60682fa9\"\n \"checksum clap 2.29.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"110d43e343eb29f4f51c1db31beb879d546db27998577e5715270a54bcf41d3f\"\n-\"checksum clippy_lints 0.0.187 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f2227eeb80d00b3e6f67d27953224b2087a65e40597e3253b2a25493aac63859\"\n \"checksum cmake 0.1.29 (registry+https://github.com/rust-lang/crates.io-index)\" = \"56d741ea7a69e577f6d06b36b7dff4738f680593dc27a701ffa8506b73ce28bb\"\n \"checksum commoncrypto 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d056a8586ba25a1e4d61cb090900e495952c7886786fc55f909ab2f819b69007\"\n \"checksum commoncrypto-sys 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1fed34f46747aa73dfaa578069fd8279d2818ade2b55f38f22a9401c7f4083e2\"\n-\"checksum compiletest_rs 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6c5aafb5d4a77c6b5fa384fe93c7a9a3561bd88c4b8b8e45187cf5e779b1badc\"\n+\"checksum compiletest_rs 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d47ca9a69772587159e1c7e20ee1e43dfe5f184d59591eac70e7d3603bdfe57a\"\n \"checksum core-foundation 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"286e0b41c3a20da26536c6000a280585d519fd07b3956b43aed8a79e9edce980\"\n \"checksum core-foundation-sys 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"716c271e8613ace48344f723b60b900a93150271e5be206212d052bbc0883efa\"\n \"checksum crossbeam 0.3.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"24ce9782d4d5c53674646a6a4c1863a21a8fc0cb649b3c94dfc16e45071dea19\"\n@@ -2901,7 +2768,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3c2b69f912779fbb121ceb775d74d51e915af17aaebc38d28a592843a2dd0a3a\"\n \"checksum docopt 0.8.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d8acd393692c503b168471874953a2531df0e9ab77d0b6bbc582395743300a4a\"\n \"checksum dtoa 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"09c3753c3db574d215cba4ea76018483895d7bff25a31b49ba45db21c48e50ab\"\n-\"checksum duct 0.8.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e45aa15fe0a8a8f511e6d834626afd55e49b62e5c8802e18328a87e8a8f6065c\"\n \"checksum either 1.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"740178ddf48b1a9e878e6d6509a1442a2d42fd2928aae8e7a6f8a36fb01981b3\"\n \"checksum ena 0.9.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f8b449f3b18c89d2dbe40548d2ee4fa58ea0a08b761992da6ecb9788e4688834\"\n \"checksum endian-type 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c34f04666d835ff5d62e058c3995147c06f42fe86ff053337632bca83e42702d\"\n@@ -2910,7 +2776,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum env_logger 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3ddf21e73e016298f5cb37d6ef8e8da8e39f91f9ec8b0df44b7deb16a9f8cd5b\"\n \"checksum env_logger 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f0628f04f7c26ebccf40d7fc2c1cf92236c05ec88cf2132641cc956812312f0f\"\n \"checksum error-chain 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ff511d5dc435d703f4971bc399647c9bc38e20cb41452e3b9feb4765419ed3f3\"\n-\"checksum error-chain 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6930e04918388a9a2e41d518c25cf679ccafe26733fb4127dbf21993f2575d46\"\n \"checksum failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"934799b6c1de475a012a02dab0ace1ace43789ee4b99bcfbf1a2e3e8ced5de82\"\n \"checksum failure_derive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c7cdda555bb90c9bb67a3b670a0f42de8e73f5981524123ad8578aafec8ddb8b\"\n \"checksum filetime 0.1.15 (registry+https://github.com/rust-lang/crates.io-index)\" = \"714653f3e34871534de23771ac7b26e999651a0a228f47beb324dfdf1dd4b10f\"\n@@ -2935,17 +2800,15 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum if_chain 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"61bb90bdd39e3af69b0172dfc6130f6cd6332bf040fbb9bdd4401d37adbd48b8\"\n \"checksum ignore 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"245bea0ba52531a3739cb8ba99f8689eda13d7faf8c36b6a73ce4421aab42588\"\n \"checksum is-match 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e5b386aef33a1c677be65237cb9d32c3f3ef56bd035949710c4bb13083eb053\"\n-\"checksum itertools 0.6.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d3f2be4da1690a039e9ae5fd575f706a63ad5a2120f161b1d653c9da3930dd21\"\n \"checksum itertools 0.7.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b07332223953b5051bceb67e8c4700aa65291535568e1f12408c43c4a42c0394\"\n \"checksum itoa 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8324a32baf01e2ae060e9de58ed0bc2320c9a2833491ee36cd3b4c414de4db8c\"\n \"checksum jobserver 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9f2abd9fd3242accb0e2e30986f2cf30cda3e19eec5cc6d584b218ce2b1c0e3c\"\n \"checksum json 0.11.12 (registry+https://github.com/rust-lang/crates.io-index)\" = \"39ebf0fac977ee3a4a3242b6446004ff64514889e3e2730bbd4f764a67a2e483\"\n \"checksum jsonrpc-core 8.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ddf83704f4e79979a424d1082dd2c1e52683058056c9280efa19ac5f6bc9033c\"\n \"checksum kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7507624b29483431c0ba2d82aece8ca6cdba9382bff4ddd0f7490560c056098d\"\n-\"checksum languageserver-types 0.30.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1541f9b22687f060511d213036e1f058797c48e3501e177f01cb6e88de802f5b\"\n+\"checksum languageserver-types 0.31.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5d25086d59f44b80253d5ff96c66a692fb69de8485cf7a25b28677e89126de0d\"\n \"checksum lazy_static 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"76f033c7ad61445c5b347c7382dd1237847eb1bce590fe50365dcb33d546be73\"\n \"checksum lazy_static 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c8f31047daa365f19be14b47c29df4f7c3b581832407daabe6ae77397619237d\"\n-\"checksum lazycell 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3b585b7a6811fb03aa10e74b278a0f00f8dd9b45dc681f148bb29fa5cb61859b\"\n \"checksum lazycell 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a6f08839bc70ef4a3fe1d566d5350f519c5912ea86be0df1740a7d247c7fc0ef\"\n \"checksum libc 0.2.39 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f54263ad99207254cf58b5f701ecb432c717445ea2ee8af387334bdd1a03fdff\"\n \"checksum libgit2-sys 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1ecbd6428006c321c29b6c8a895f0d90152f1cf4fd8faab69fc436a3d9594f63\"\n@@ -2961,11 +2824,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"796fba70e76612589ed2ce7f45282f5af869e0fdd7cc6199fa1aa1f1d591ba9d\"\n \"checksum memoffset 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0f9dc261e2b62d7a622bf416ea3c5245cdd5d9a7fcc428c0d06804dfce1775b3\"\n \"checksum miniz-sys 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"609ce024854aeb19a0ef7567d348aaa5a746b32fb72e336df7fcc16869d7e2b4\"\n-\"checksum miow 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8c1f2f3b1cf331de6896aabf6e9d55dca90356cc9960cca7eaaf408a355ae919\"\n \"checksum miow 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9224c91f82b3c47cf53dcf78dfaa20d6888fbcc5d272d5f2fcdf8a697f3c987d\"\n-\"checksum net2 0.2.32 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9044faf1413a1057267be51b5afba8eb1090bd2231c693664aa1db716fe1eae0\"\n \"checksum nibble_vec 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"62e678237a4c70c5f2b917cefd7d080dfbf800421f06e8a59d4e28ef5130fd9e\"\n-\"checksum nix 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"47e49f6982987135c5e9620ab317623e723bd06738fd85377e8d55f57c8b6487\"\n \"checksum nodrop 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9a2228dca57108069a5262f2ed8bd2e82496d2e074a06d1ccc7ce1687b6ae0a2\"\n \"checksum num 0.1.42 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4703ad64153382334aa8db57c637364c322d3372e097840c72000dabdcf6156e\"\n \"checksum num-integer 0.1.36 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f8d26da319fb45674985c78f1d1caf99aa4941f785d384a2ae36d0740bc3e2fe\"\n@@ -2977,15 +2837,13 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum openssl 0.10.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1636c9f1d78af9cbcc50e523bfff4a30274108aad5e86761afd4d31e4e184fa7\"\n \"checksum openssl-probe 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"77af24da69f9d9341038eba93a073b1fdaaa1b788221b00a69bce9e762cb32de\"\n \"checksum openssl-sys 0.9.27 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d6fdc5c4a02e69ce65046f1763a0181107038e02176233acb0b3351d7cc588f9\"\n-\"checksum os_pipe 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"998bfbb3042e715190fe2a41abfa047d7e8cb81374d2977d7f100eacd8619cb1\"\n \"checksum owning_ref 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"cdf84f41639e037b484f93433aa3897863b561ed65c6e59c7073d7c561710f37\"\n \"checksum parking_lot 0.5.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3e7f7c9857874e54afeb950eebeae662b1e51a2493666d2ea4c0a5d91dcf0412\"\n \"checksum parking_lot_core 0.2.13 (registry+https://github.com/rust-lang/crates.io-index)\" = \"538ef00b7317875071d5e00f603f24d16f0b474c1a5fc0ccb8b454ca72eafa79\"\n \"checksum percent-encoding 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"31010dd2e1ac33d5b46a5b413495239882813e0369f8ed8a5e266f173602f831\"\n \"checksum pest 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0a6dda33d67c26f0aac90d324ab2eb7239c819fc7b2552fe9faa4fe88441edc8\"\n \"checksum pkg-config 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3a8b4c6b8165cd1a1cd4b9b120978131389f64bdaf456435caa41e630edba903\"\n \"checksum proc-macro2 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"cd07deb3c6d1d9ff827999c7f9b04cdfd66b1b17ae508e14fe47b620f2282ae0\"\n-\"checksum pulldown-cmark 0.0.15 (registry+https://github.com/rust-lang/crates.io-index)\" = \"378e941dbd392c101f2cb88097fa4d7167bc421d4b88de3ff7dbee503bc3233b\"\n \"checksum pulldown-cmark 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d6fdf85cda6cadfae5428a54661d431330b312bc767ddbc57adbedc24da66e32\"\n \"checksum quick-error 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"eda5fe9b71976e62bc81b781206aaa076401769b2143379d3eb2118388babac4\"\n \"checksum quine-mc_cluskey 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"07589615d719a60c8dd8a4622e7946465dfef20d1a428f969e3443e7386d5f45\"\n@@ -3001,7 +2859,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum regex 0.1.80 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4fd4ace6a8cf7860714a2c2280d6c1f7e6a413486c13298bbc86fd3da019402f\"\n \"checksum regex 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a62bf8bb734ab90b7f234b681b01af396e5d39b028906c210dc04fa1d5e9e5b3\"\n \"checksum regex-syntax 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f9ec002c35e86791825ed294b50008eea9ddfc8def4420124fbc6b08db834957\"\n-\"checksum regex-syntax 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8e931c58b93d86f080c734bfd2bce7dd0079ae2331235818133c8be7f422e20e\"\n \"checksum regex-syntax 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"48d7391e7e90e06eaf3aefbe4652464153ecfec64806f3bf77ffc59638a63e77\"\n \"checksum remove_dir_all 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b5d2f806b0fcdabd98acd380dc8daef485e22bcb7cddc811d1337967f2528cf5\"\n \"checksum rls-analysis 0.11.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fd4b9a3a3f2345854e39768e6425d1c893855da217183d1c0b3ff6f1664b6b6d\"\n@@ -3024,7 +2881,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum scoped-tls 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8674d439c964889e2476f474a3bf198cc9e199e77499960893bac5de7e9218a4\"\n \"checksum scopeguard 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"59a076157c1e2dc561d8de585151ee6965d910dd4dcb5dabb7ae3e83981a6c57\"\n \"checksum scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"94258f53601af11e6a49f722422f6e3425c52b06245a5cf9bc09908b174f5e27\"\n-\"checksum semver 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7a3186ec9e65071a2095434b1f5bb24838d4e8e130f584c790f6033c79943537\"\n \"checksum semver 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bee2bc909ab2d8d60dab26e8cad85b25d795b14603a0dcb627b78b9d30b6454b\"\n \"checksum semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403\"\n \"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n@@ -3033,7 +2889,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum serde_derive_internals 0.20.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1fc848d073be32cd982380c06587ea1d433bc1a4c4a111de07ec2286a3ddade8\"\n \"checksum serde_ignored 0.0.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"190e9765dcedb56be63b6e0993a006c7e3b071a016a304736e4a315dc01fb142\"\n \"checksum serde_json 1.0.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"57781ed845b8e742fc2bf306aba8e3b408fe8c366b900e3769fbc39f49eb8b39\"\n-\"checksum shared_child 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"099b38928dbe4a0a01fcd8c233183072f14a7d126a34bed05880869be66e14cc\"\n \"checksum shell-escape 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dd5cc96481d54583947bfe88bf30c23d53f883c6cd0145368b69989d97b84ef8\"\n \"checksum shlex 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7fdf1b9db47230893d76faad238fd6097fd6d6a9245cd7a4d90dbd639536bbd2\"\n \"checksum smallvec 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"44db0ecb22921ef790d17ae13a3f6d15784183ff5f2a01aa32098c7498d2b4b9\"\n@@ -3084,7 +2939,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum winapi-i686-pc-windows-gnu 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6\"\n \"checksum winapi-x86_64-pc-windows-gnu 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f\"\n \"checksum wincolor 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"eeb06499a3a4d44302791052df005d5232b927ed1a9658146d842165c4de7767\"\n-\"checksum ws2_32-sys 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d59cefebd0c892fa2dd6de581e937301d8552cb44489cdff035c6187cb63fa5e\"\n \"checksum xattr 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5f04de8a1346489a2f9e9bd8526b73d135ec554227b17568456e86aa35b6f3fc\"\n \"checksum xz2 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"98df591c3504d014dd791d998123ed00a476c7e26dc6b2e873cb55c6ac9e59fa\"\n \"checksum yaml-rust 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e66366e18dc58b46801afbf2ca7661a9f59cc8c5962c29892b6039b4f86fa992\""}, {"sha": "814c054c51e41eaff3c6b155110474f8a252c3e8", "filename": "src/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/55c984ee5db73db2379024951457d1139db57f24/src%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/55c984ee5db73db2379024951457d1139db57f24/src%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FCargo.toml?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -72,3 +72,4 @@ cargo = { path = \"tools/cargo\" }\n # RLS depends on `rustfmt` from crates.io, so we put this in a `[patch]` section\n # for crates.io\n rustfmt-nightly = { path = \"tools/rustfmt\" }\n+clippy_lints = { path = \"tools/clippy/clippy_lints\" }"}, {"sha": "814615790363a2f5b82cd2d94726081a09d662ca", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -1120,7 +1120,7 @@ impl Step for Rls {\n         // state for RLS isn't testing.\n         let rls = builder.ensure(tool::Rls {\n             compiler: builder.compiler(stage, build.build),\n-            target\n+            target, extra_features: Vec::new()\n         }).or_else(|| { println!(\"Unable to build RLS, skipping dist\"); None })?;\n \n         install(&rls, &image.join(\"bin\"), 0o755);\n@@ -1199,11 +1199,11 @@ impl Step for Rustfmt {\n         // Prepare the image directory\n         let rustfmt = builder.ensure(tool::Rustfmt {\n             compiler: builder.compiler(stage, build.build),\n-            target\n+            target, extra_features: Vec::new()\n         }).or_else(|| { println!(\"Unable to build Rustfmt, skipping dist\"); None })?;\n         let cargofmt = builder.ensure(tool::Cargofmt {\n             compiler: builder.compiler(stage, build.build),\n-            target\n+            target, extra_features: Vec::new()\n         }).or_else(|| { println!(\"Unable to build Cargofmt, skipping dist\"); None })?;\n \n         install(&rustfmt, &image.join(\"bin\"), 0o755);"}, {"sha": "10a2fc7f58a7f4a958ca966c627ddf0be9333e68", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -115,6 +115,7 @@\n \n #![deny(warnings)]\n #![feature(core_intrinsics)]\n+#![feature(slice_concat_ext)]\n \n #[macro_use]\n extern crate build_helper;"}, {"sha": "de938ec8e8306a9f828c8e14b5d1b8f02466c83c", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -245,7 +245,7 @@ impl Step for Rls {\n         let host = self.host;\n         let compiler = builder.compiler(stage, host);\n \n-        builder.ensure(tool::Rls { compiler, target: self.host });\n+        builder.ensure(tool::Rls { compiler, target: self.host, extra_features: Vec::new() });\n         let mut cargo = tool::prepare_tool_cargo(builder,\n                                                  compiler,\n                                                  host,\n@@ -291,7 +291,7 @@ impl Step for Rustfmt {\n         let host = self.host;\n         let compiler = builder.compiler(stage, host);\n \n-        builder.ensure(tool::Rustfmt { compiler, target: self.host });\n+        builder.ensure(tool::Rustfmt { compiler, target: self.host, extra_features: Vec::new() });\n         let mut cargo = tool::prepare_tool_cargo(builder,\n                                                  compiler,\n                                                  host,\n@@ -339,7 +339,12 @@ impl Step for Miri {\n         let host = self.host;\n         let compiler = builder.compiler(stage, host);\n \n-        if let Some(miri) = builder.ensure(tool::Miri { compiler, target: self.host }) {\n+        let miri = builder.ensure(tool::Miri {\n+            compiler,\n+            target: self.host,\n+            extra_features: Vec::new(),\n+        });\n+        if let Some(miri) = miri {\n             let mut cargo = builder.cargo(compiler, Mode::Tool, host, \"test\");\n             cargo.arg(\"--manifest-path\").arg(build.src.join(\"src/tools/miri/Cargo.toml\"));\n \n@@ -391,7 +396,12 @@ impl Step for Clippy {\n         let host = self.host;\n         let compiler = builder.compiler(stage, host);\n \n-        if let Some(clippy) = builder.ensure(tool::Clippy { compiler, target: self.host }) {\n+        let clippy = builder.ensure(tool::Clippy {\n+            compiler,\n+            target: self.host,\n+            extra_features: Vec::new(),\n+        });\n+        if let Some(clippy) = clippy {\n             let mut cargo = builder.cargo(compiler, Mode::Tool, host, \"test\");\n             cargo.arg(\"--manifest-path\").arg(build.src.join(\"src/tools/clippy/Cargo.toml\"));\n "}, {"sha": "5f5b10a07b865893cc3c0750ccf0961b42ed8b4d", "filename": "src/bootstrap/tool.rs", "status": "modified", "additions": 21, "deletions": 3, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Ftool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55c984ee5db73db2379024951457d1139db57f24/src%2Fbootstrap%2Ftool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftool.rs?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -12,6 +12,7 @@ use std::fs;\n use std::env;\n use std::path::PathBuf;\n use std::process::{Command, exit};\n+use std::slice::SliceConcatExt;\n \n use Mode;\n use Compiler;\n@@ -74,14 +75,15 @@ impl Step for CleanTools {\n     }\n }\n \n-#[derive(Debug, Copy, Clone, Hash, PartialEq, Eq)]\n+#[derive(Debug, Clone, Hash, PartialEq, Eq)]\n struct ToolBuild {\n     compiler: Compiler,\n     target: Interned<String>,\n     tool: &'static str,\n     path: &'static str,\n     mode: Mode,\n     is_ext_tool: bool,\n+    extra_features: Vec<String>,\n }\n \n impl Step for ToolBuild {\n@@ -114,6 +116,7 @@ impl Step for ToolBuild {\n         println!(\"Building stage{} tool {} ({})\", compiler.stage, tool, target);\n \n         let mut cargo = prepare_tool_cargo(builder, compiler, target, \"build\", path);\n+        cargo.arg(\"--features\").arg(self.extra_features.join(\" \"));\n         let is_expected = build.try_run(&mut cargo);\n         build.save_toolstate(tool, if is_expected {\n             ToolState::TestFail\n@@ -242,6 +245,7 @@ macro_rules! tool {\n                     mode: $mode,\n                     path: $path,\n                     is_ext_tool: false,\n+                    extra_features: Vec::new(),\n                 }).expect(\"expected to build -- essential tool\")\n             }\n         }\n@@ -291,6 +295,7 @@ impl Step for RemoteTestServer {\n             mode: Mode::Libstd,\n             path: \"src/tools/remote-test-server\",\n             is_ext_tool: false,\n+            extra_features: Vec::new(),\n         }).expect(\"expected to build -- essential tool\")\n     }\n }\n@@ -409,6 +414,7 @@ impl Step for Cargo {\n             mode: Mode::Librustc,\n             path: \"src/tools/cargo\",\n             is_ext_tool: false,\n+            extra_features: Vec::new(),\n         }).expect(\"expected to build -- essential tool\")\n     }\n }\n@@ -421,10 +427,11 @@ macro_rules! tool_extended {\n        $tool_name:expr,\n        $extra_deps:block;)+) => {\n         $(\n-            #[derive(Debug, Copy, Clone, Hash, PartialEq, Eq)]\n+            #[derive(Debug, Clone, Hash, PartialEq, Eq)]\n         pub struct $name {\n             pub compiler: Compiler,\n             pub target: Interned<String>,\n+            pub extra_features: Vec<String>,\n         }\n \n         impl Step for $name {\n@@ -441,17 +448,20 @@ macro_rules! tool_extended {\n                 run.builder.ensure($name {\n                     compiler: run.builder.compiler(run.builder.top_stage, run.builder.build.build),\n                     target: run.target,\n+                    extra_features: Vec::new(),\n                 });\n             }\n \n-            fn run($sel, $builder: &Builder) -> Option<PathBuf> {\n+            #[allow(unused_mut)]\n+            fn run(mut $sel, $builder: &Builder) -> Option<PathBuf> {\n                 $extra_deps\n                 $builder.ensure(ToolBuild {\n                     compiler: $sel.compiler,\n                     target: $sel.target,\n                     tool: $tool_name,\n                     mode: Mode::Librustc,\n                     path: $path,\n+                    extra_features: $sel.extra_features,\n                     is_ext_tool: true,\n                 })\n             }\n@@ -472,6 +482,14 @@ tool_extended!((self, builder),\n     };\n     Miri, miri, \"src/tools/miri\", \"miri\", {};\n     Rls, rls, \"src/tools/rls\", \"rls\", {\n+        let clippy = builder.ensure(Clippy {\n+            compiler: self.compiler,\n+            target: self.target,\n+            extra_features: Vec::new(),\n+        });\n+        if clippy.is_some() {\n+            self.extra_features.push(\"clippy\".to_owned());\n+        }\n         builder.ensure(native::Openssl {\n             target: self.target,\n         });"}, {"sha": "6f3f25878f2271911e4b6de4d0cf86accc397455", "filename": "src/tools/clippy", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -1 +1 @@\n-Subproject commit d5e233a720495c52af25d8f6dcc9e55e1193beb9\n+Subproject commit 6f3f25878f2271911e4b6de4d0cf86accc397455"}, {"sha": "d4712ca37500f26bbcbf97edcb27820717f769f7", "filename": "src/tools/miri", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -1 +1 @@\n-Subproject commit 61833b9aeab8bf8f0c0c0e42b7c96b6eceb37d0d\n+Subproject commit d4712ca37500f26bbcbf97edcb27820717f769f7"}, {"sha": "fc4db0a5e99e426fd97de370c6f36f585b6af13a", "filename": "src/tools/rls", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frls?ref=55c984ee5db73db2379024951457d1139db57f24", "patch": "@@ -1 +1 @@\n-Subproject commit b6c52443424977bd92cf7ed127f7771fe9c285da\n+Subproject commit fc4db0a5e99e426fd97de370c6f36f585b6af13a"}]}