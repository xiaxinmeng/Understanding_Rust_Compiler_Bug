{"sha": "9e4a064f0878215fccaa3bebdfaf4459db984da3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjllNGEwNjRmMDg3ODIxNWZjY2FhM2JlYmRmYWY0NDU5ZGI5ODRkYTM=", "commit": {"author": {"name": "Dirkjan Ochtman", "email": "dirkjan@ochtman.nl", "date": "2021-03-02T13:26:23Z"}, "committer": {"name": "Dirkjan Ochtman", "email": "dirkjan@ochtman.nl", "date": "2021-03-02T13:34:47Z"}, "message": "Move naive_bytecount to pedantic\n\nAs discussed on Zulip, current best practice is to avoid recommending\nexternal crates. This lint is from before that was enforced. Move it\nto the pedantic group to avoid enabling it by default.\n\nhttps://rust-lang.zulipchat.com/#narrow/stream/257328-clippy/topic/naive_bytecount.20suggesting.20extra.20dependency", "tree": {"sha": "a29baf774bfa0552ccc34b446038e59494e8321c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a29baf774bfa0552ccc34b446038e59494e8321c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9e4a064f0878215fccaa3bebdfaf4459db984da3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9e4a064f0878215fccaa3bebdfaf4459db984da3", "html_url": "https://github.com/rust-lang/rust/commit/9e4a064f0878215fccaa3bebdfaf4459db984da3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9e4a064f0878215fccaa3bebdfaf4459db984da3/comments", "author": {"login": "djc", "id": 158471, "node_id": "MDQ6VXNlcjE1ODQ3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djc", "html_url": "https://github.com/djc", "followers_url": "https://api.github.com/users/djc/followers", "following_url": "https://api.github.com/users/djc/following{/other_user}", "gists_url": "https://api.github.com/users/djc/gists{/gist_id}", "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djc/subscriptions", "organizations_url": "https://api.github.com/users/djc/orgs", "repos_url": "https://api.github.com/users/djc/repos", "events_url": "https://api.github.com/users/djc/events{/privacy}", "received_events_url": "https://api.github.com/users/djc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "djc", "id": 158471, "node_id": "MDQ6VXNlcjE1ODQ3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/158471?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djc", "html_url": "https://github.com/djc", "followers_url": "https://api.github.com/users/djc/followers", "following_url": "https://api.github.com/users/djc/following{/other_user}", "gists_url": "https://api.github.com/users/djc/gists{/gist_id}", "starred_url": "https://api.github.com/users/djc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djc/subscriptions", "organizations_url": "https://api.github.com/users/djc/orgs", "repos_url": "https://api.github.com/users/djc/repos", "events_url": "https://api.github.com/users/djc/events{/privacy}", "received_events_url": "https://api.github.com/users/djc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb04beb00558fd25499541e7caa49f95a9beb243", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb04beb00558fd25499541e7caa49f95a9beb243", "html_url": "https://github.com/rust-lang/rust/commit/eb04beb00558fd25499541e7caa49f95a9beb243"}], "stats": {"total": 5, "additions": 2, "deletions": 3}, "files": [{"sha": "eb5dc7ceecdc75908d133c98fe1e5603159a7002", "filename": "clippy_lints/src/bytecount.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9e4a064f0878215fccaa3bebdfaf4459db984da3/clippy_lints%2Fsrc%2Fbytecount.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4a064f0878215fccaa3bebdfaf4459db984da3/clippy_lints%2Fsrc%2Fbytecount.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbytecount.rs?ref=9e4a064f0878215fccaa3bebdfaf4459db984da3", "patch": "@@ -28,7 +28,7 @@ declare_clippy_lint! {\n     /// &vec.iter().filter(|x| **x == 0u8).count(); // use bytecount::count instead\n     /// ```\n     pub NAIVE_BYTECOUNT,\n-    perf,\n+    pedantic,\n     \"use of naive `<slice>.filter(|&x| x == y).count()` to count byte values\"\n }\n "}, {"sha": "4a19da60c02391629759d88c64fe9168b600fa62", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9e4a064f0878215fccaa3bebdfaf4459db984da3/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e4a064f0878215fccaa3bebdfaf4459db984da3/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=9e4a064f0878215fccaa3bebdfaf4459db984da3", "patch": "@@ -1343,6 +1343,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&await_holding_invalid::AWAIT_HOLDING_LOCK),\n         LintId::of(&await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n         LintId::of(&bit_mask::VERBOSE_BIT_MASK),\n+        LintId::of(&bytecount::NAIVE_BYTECOUNT),\n         LintId::of(&case_sensitive_file_extension_comparisons::CASE_SENSITIVE_FILE_EXTENSION_COMPARISONS),\n         LintId::of(&checked_conversions::CHECKED_CONVERSIONS),\n         LintId::of(&copies::SAME_FUNCTIONS_IN_IF_CONDITION),\n@@ -1458,7 +1459,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&blocks_in_if_conditions::BLOCKS_IN_IF_CONDITIONS),\n         LintId::of(&booleans::LOGIC_BUG),\n         LintId::of(&booleans::NONMINIMAL_BOOL),\n-        LintId::of(&bytecount::NAIVE_BYTECOUNT),\n         LintId::of(&collapsible_if::COLLAPSIBLE_ELSE_IF),\n         LintId::of(&collapsible_if::COLLAPSIBLE_IF),\n         LintId::of(&collapsible_match::COLLAPSIBLE_MATCH),\n@@ -2013,7 +2013,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n     ]);\n \n     store.register_group(true, \"clippy::perf\", Some(\"clippy_perf\"), vec![\n-        LintId::of(&bytecount::NAIVE_BYTECOUNT),\n         LintId::of(&entry::MAP_ENTRY),\n         LintId::of(&escape::BOXED_LOCAL),\n         LintId::of(&large_const_arrays::LARGE_CONST_ARRAYS),"}]}