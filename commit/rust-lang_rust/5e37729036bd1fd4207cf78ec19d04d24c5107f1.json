{"sha": "5e37729036bd1fd4207cf78ec19d04d24c5107f1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVlMzc3MjkwMzZiZDFmZDQyMDdjZjc4ZWMxOWQwNGQyNGM1MTA3ZjE=", "commit": {"author": {"name": "Ryan Prichard", "email": "ryan.prichard@gmail.com", "date": "2015-04-26T01:30:47Z"}, "committer": {"name": "Ryan Prichard", "email": "ryan.prichard@gmail.com", "date": "2015-04-26T13:05:38Z"}, "message": "Add a new test group, rfail-full that runs rfail tests with fulldeps.\n\nIn most places in mk/tests.mk, it's positioned after rpass-full and\nbefore cfail-full (because rfail comes before cfail). The order of tests\nseems a little inconsistent, but reordering everywhere would obscure this\ncommit.", "tree": {"sha": "4d43df6e365bc0bd993d677cd3a7dc38b23f462b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d43df6e365bc0bd993d677cd3a7dc38b23f462b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5e37729036bd1fd4207cf78ec19d04d24c5107f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5e37729036bd1fd4207cf78ec19d04d24c5107f1", "html_url": "https://github.com/rust-lang/rust/commit/5e37729036bd1fd4207cf78ec19d04d24c5107f1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5e37729036bd1fd4207cf78ec19d04d24c5107f1/comments", "author": {"login": "rprichard", "id": 1572855, "node_id": "MDQ6VXNlcjE1NzI4NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rprichard", "html_url": "https://github.com/rprichard", "followers_url": "https://api.github.com/users/rprichard/followers", "following_url": "https://api.github.com/users/rprichard/following{/other_user}", "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}", "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions", "organizations_url": "https://api.github.com/users/rprichard/orgs", "repos_url": "https://api.github.com/users/rprichard/repos", "events_url": "https://api.github.com/users/rprichard/events{/privacy}", "received_events_url": "https://api.github.com/users/rprichard/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rprichard", "id": 1572855, "node_id": "MDQ6VXNlcjE1NzI4NTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1572855?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rprichard", "html_url": "https://github.com/rprichard", "followers_url": "https://api.github.com/users/rprichard/followers", "following_url": "https://api.github.com/users/rprichard/following{/other_user}", "gists_url": "https://api.github.com/users/rprichard/gists{/gist_id}", "starred_url": "https://api.github.com/users/rprichard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rprichard/subscriptions", "organizations_url": "https://api.github.com/users/rprichard/orgs", "repos_url": "https://api.github.com/users/rprichard/repos", "events_url": "https://api.github.com/users/rprichard/events{/privacy}", "received_events_url": "https://api.github.com/users/rprichard/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6365080c5cd27b74ec87420c351a3e7bdcff988e", "url": "https://api.github.com/repos/rust-lang/rust/commits/6365080c5cd27b74ec87420c351a3e7bdcff988e", "html_url": "https://github.com/rust-lang/rust/commit/6365080c5cd27b74ec87420c351a3e7bdcff988e"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "f11abcd405a117477680ae5aa81651d809219ede", "filename": "configure", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5e37729036bd1fd4207cf78ec19d04d24c5107f1/configure", "raw_url": "https://github.com/rust-lang/rust/raw/5e37729036bd1fd4207cf78ec19d04d24c5107f1/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=5e37729036bd1fd4207cf78ec19d04d24c5107f1", "patch": "@@ -1143,6 +1143,7 @@ do\n     make_dir $h/test/run-pass-valgrind\n     make_dir $h/test/run-pass-fulldeps\n     make_dir $h/test/run-fail\n+    make_dir $h/test/run-fail-fulldeps\n     make_dir $h/test/compile-fail\n     make_dir $h/test/parse-fail\n     make_dir $h/test/compile-fail-fulldeps"}, {"sha": "3c4818f65dade1a6335d57105f2456bec484793f", "filename": "mk/tests.mk", "status": "modified", "additions": 18, "deletions": 2, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/5e37729036bd1fd4207cf78ec19d04d24c5107f1/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/5e37729036bd1fd4207cf78ec19d04d24c5107f1/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=5e37729036bd1fd4207cf78ec19d04d24c5107f1", "patch": "@@ -304,6 +304,7 @@ check-stage$(1)-T-$(2)-H-$(3)-exec: \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pfail-exec \\\n     check-stage$(1)-T-$(2)-H-$(3)-rpass-valgrind-exec \\\n     check-stage$(1)-T-$(2)-H-$(3)-rpass-full-exec \\\n+    check-stage$(1)-T-$(2)-H-$(3)-rfail-full-exec \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-cfail-full-exec \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rmake-exec \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rustdocck-exec \\\n@@ -345,6 +346,7 @@ check-stage$(1)-T-$(2)-H-$(3)-pretty-exec: \\\n     check-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-valgrind-exec \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-full-exec \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rfail-exec \\\n+\tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rfail-full-exec \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-bench-exec \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-pretty-exec\n \n@@ -464,6 +466,7 @@ $(foreach host,$(CFG_HOST), \\\n RPASS_RS := $(wildcard $(S)src/test/run-pass/*.rs)\n RPASS_VALGRIND_RS := $(wildcard $(S)src/test/run-pass-valgrind/*.rs)\n RPASS_FULL_RS := $(wildcard $(S)src/test/run-pass-fulldeps/*.rs)\n+RFAIL_FULL_RS := $(wildcard $(S)src/test/run-fail-fulldeps/*.rs)\n CFAIL_FULL_RS := $(wildcard $(S)src/test/compile-fail-fulldeps/*.rs)\n RFAIL_RS := $(wildcard $(S)src/test/run-fail/*.rs)\n CFAIL_RS := $(wildcard $(S)src/test/compile-fail/*.rs)\n@@ -483,6 +486,7 @@ PERF_RS := $(wildcard $(S)src/test/bench/*.rs)\n RPASS_TESTS := $(RPASS_RS)\n RPASS_VALGRIND_TESTS := $(RPASS_VALGRIND_RS)\n RPASS_FULL_TESTS := $(RPASS_FULL_RS)\n+RFAIL_FULL_TESTS := $(RFAIL_FULL_RS)\n CFAIL_FULL_TESTS := $(CFAIL_FULL_RS)\n RFAIL_TESTS := $(RFAIL_RS)\n CFAIL_TESTS := $(CFAIL_RS)\n@@ -510,6 +514,11 @@ CTEST_BUILD_BASE_rpass-full = run-pass-fulldeps\n CTEST_MODE_rpass-full = run-pass\n CTEST_RUNTOOL_rpass-full = $(CTEST_RUNTOOL)\n \n+CTEST_SRC_BASE_rfail-full = run-fail-fulldeps\n+CTEST_BUILD_BASE_rfail-full = run-fail-fulldeps\n+CTEST_MODE_rfail-full = run-fail\n+CTEST_RUNTOOL_rfail-full = $(CTEST_RUNTOOL)\n+\n CTEST_SRC_BASE_cfail-full = compile-fail-fulldeps\n CTEST_BUILD_BASE_cfail-full = compile-fail-fulldeps\n CTEST_MODE_cfail-full = compile-fail\n@@ -661,6 +670,7 @@ endif\n CTEST_DEPS_rpass_$(1)-T-$(2)-H-$(3) = $$(RPASS_TESTS)\n CTEST_DEPS_rpass-valgrind_$(1)-T-$(2)-H-$(3) = $$(RPASS_VALGRIND_TESTS)\n CTEST_DEPS_rpass-full_$(1)-T-$(2)-H-$(3) = $$(RPASS_FULL_TESTS) $$(CSREQ$(1)_T_$(3)_H_$(3)) $$(SREQ$(1)_T_$(2)_H_$(3))\n+CTEST_DEPS_rfail-full_$(1)-T-$(2)-H-$(3) = $$(RFAIL_FULL_TESTS) $$(CSREQ$(1)_T_$(3)_H_$(3)) $$(SREQ$(1)_T_$(2)_H_$(3))\n CTEST_DEPS_cfail-full_$(1)-T-$(2)-H-$(3) = $$(CFAIL_FULL_TESTS) $$(CSREQ$(1)_T_$(3)_H_$(3)) $$(SREQ$(1)_T_$(2)_H_$(3))\n CTEST_DEPS_rfail_$(1)-T-$(2)-H-$(3) = $$(RFAIL_TESTS)\n CTEST_DEPS_cfail_$(1)-T-$(2)-H-$(3) = $$(CFAIL_TESTS)\n@@ -737,7 +747,7 @@ endif\n \n endef\n \n-CTEST_NAMES = rpass rpass-valgrind rpass-full cfail-full rfail cfail pfail \\\n+CTEST_NAMES = rpass rpass-valgrind rpass-full rfail-full cfail-full rfail cfail pfail \\\n \tbench perf debuginfo-gdb debuginfo-lldb codegen rustdocck\n \n $(foreach host,$(CFG_HOST), \\\n@@ -746,22 +756,26 @@ $(foreach host,$(CFG_HOST), \\\n    $(eval $(foreach name,$(CTEST_NAMES), \\\n    $(eval $(call DEF_RUN_COMPILETEST,$(stage),$(target),$(host),$(name))))))))))\n \n-PRETTY_NAMES = pretty-rpass pretty-rpass-valgrind pretty-rpass-full pretty-rfail pretty-bench pretty-pretty\n+PRETTY_NAMES = pretty-rpass pretty-rpass-valgrind pretty-rpass-full pretty-rfail-full pretty-rfail \\\n+    pretty-bench pretty-pretty\n PRETTY_DEPS_pretty-rpass = $(RPASS_TESTS)\n PRETTY_DEPS_pretty-rpass-valgrind = $(RPASS_VALGRIND_TESTS)\n PRETTY_DEPS_pretty-rpass-full = $(RPASS_FULL_TESTS)\n+PRETTY_DEPS_pretty-rfail-full = $(RFAIL_FULL_TESTS)\n PRETTY_DEPS_pretty-rfail = $(RFAIL_TESTS)\n PRETTY_DEPS_pretty-bench = $(BENCH_TESTS)\n PRETTY_DEPS_pretty-pretty = $(PRETTY_TESTS)\n PRETTY_DIRNAME_pretty-rpass = run-pass\n PRETTY_DIRNAME_pretty-rpass-valgrind = run-pass-valgrind\n PRETTY_DIRNAME_pretty-rpass-full = run-pass-fulldeps\n+PRETTY_DIRNAME_pretty-rfail-full = run-fail-fulldeps\n PRETTY_DIRNAME_pretty-rfail = run-fail\n PRETTY_DIRNAME_pretty-bench = bench\n PRETTY_DIRNAME_pretty-pretty = pretty\n \n define DEF_PRETTY_FULLDEPS\n PRETTY_DEPS$(1)_T_$(2)_H_$(3)_pretty-rpass-full = $$(CSREQ$(1)_T_$(3)_H_$(3))\n+PRETTY_DEPS$(1)_T_$(2)_H_$(3)_pretty-rfail-full = $$(CSREQ$(1)_T_$(3)_H_$(3))\n endef\n \n $(foreach host,$(CFG_HOST), \\\n@@ -901,6 +915,7 @@ TEST_GROUPS = \\\n \trpass \\\n     rpass-valgrind \\\n \trpass-full \\\n+\trfail-full \\\n \tcfail-full \\\n \trfail \\\n \tcfail \\\n@@ -918,6 +933,7 @@ TEST_GROUPS = \\\n \tpretty-rpass \\\n     pretty-rpass-valgrind \\\n \tpretty-rpass-full \\\n+\tpretty-rfail-full \\\n \tpretty-rfail \\\n \tpretty-bench \\\n \tpretty-pretty \\"}]}