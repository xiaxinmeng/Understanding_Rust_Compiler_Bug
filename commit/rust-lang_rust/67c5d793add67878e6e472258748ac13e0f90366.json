{"sha": "67c5d793add67878e6e472258748ac13e0f90366", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY3YzVkNzkzYWRkNjc4NzhlNmU0NzIyNTg3NDhhYzEzZTBmOTAzNjY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-03-06T00:21:43Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-03-06T00:21:43Z"}, "message": "auto merge of #12718 : thestinger/rust/min_max, r=alexcrichton", "tree": {"sha": "7c67242f7a8680f4515fa4bc976b4643265d8c49", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7c67242f7a8680f4515fa4bc976b4643265d8c49"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/67c5d793add67878e6e472258748ac13e0f90366", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/67c5d793add67878e6e472258748ac13e0f90366", "html_url": "https://github.com/rust-lang/rust/commit/67c5d793add67878e6e472258748ac13e0f90366", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/67c5d793add67878e6e472258748ac13e0f90366/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ff22e47c1915d6cdc545deb341c83d877a8825e6", "url": "https://api.github.com/repos/rust-lang/rust/commits/ff22e47c1915d6cdc545deb341c83d877a8825e6", "html_url": "https://github.com/rust-lang/rust/commit/ff22e47c1915d6cdc545deb341c83d877a8825e6"}, {"sha": "a871068b472d234e6515d5e979fac4826ec1dac1", "url": "https://api.github.com/repos/rust-lang/rust/commits/a871068b472d234e6515d5e979fac4826ec1dac1", "html_url": "https://github.com/rust-lang/rust/commit/a871068b472d234e6515d5e979fac4826ec1dac1"}], "stats": {"total": 38, "additions": 35, "deletions": 3}, "files": [{"sha": "23e3e104f164f31f63a83718037b60b3dab74f94", "filename": "src/libextra/stats.rs", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/67c5d793add67878e6e472258748ac13e0f90366/src%2Flibextra%2Fstats.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67c5d793add67878e6e472258748ac13e0f90366/src%2Flibextra%2Fstats.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Fstats.rs?ref=67c5d793add67878e6e472258748ac13e0f90366", "patch": "@@ -10,7 +10,6 @@\n \n #[allow(missing_doc)];\n \n-use std::cmp;\n use std::hash::Hash;\n use std::io;\n use std::mem;\n@@ -203,12 +202,12 @@ impl<'a> Stats for &'a [f64] {\n \n     fn min(self) -> f64 {\n         assert!(self.len() != 0);\n-        self.iter().fold(self[0], |p,q| cmp::min(p, *q))\n+        self.iter().fold(self[0], |p, q| p.min(*q))\n     }\n \n     fn max(self) -> f64 {\n         assert!(self.len() != 0);\n-        self.iter().fold(self[0], |p,q| cmp::max(p, *q))\n+        self.iter().fold(self[0], |p, q| p.max(*q))\n     }\n \n     fn mean(self) -> f64 {\n@@ -442,6 +441,7 @@ mod tests {\n     use stats::write_boxplot;\n     use std::io;\n     use std::str;\n+    use std::f64;\n \n     macro_rules! assert_approx_eq(\n         ($a:expr, $b:expr) => ({\n@@ -481,6 +481,14 @@ mod tests {\n         assert_eq!(summ.iqr, summ2.iqr);\n     }\n \n+    #[test]\n+    fn test_min_max_nan() {\n+        let xs = &[1.0, 2.0, f64::NAN, 3.0, 4.0];\n+        let summary = Summary::new(xs);\n+        assert_eq!(summary.min, 1.0);\n+        assert_eq!(summary.max, 4.0);\n+    }\n+\n     #[test]\n     fn test_norm2() {\n         let val = &["}, {"sha": "3ba3a9a134f681269e237f9520ceb9091dddb9b4", "filename": "src/libstd/num/f32.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/67c5d793add67878e6e472258748ac13e0f90366/src%2Flibstd%2Fnum%2Ff32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67c5d793add67878e6e472258748ac13e0f90366/src%2Flibstd%2Fnum%2Ff32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Ff32.rs?ref=67c5d793add67878e6e472258748ac13e0f90366", "patch": "@@ -866,6 +866,18 @@ mod tests {\n     use num::*;\n     use num;\n \n+    #[test]\n+    fn test_min_nan() {\n+        assert_eq!(NAN.min(2.0), 2.0);\n+        assert_eq!(2.0f32.min(NAN), 2.0);\n+    }\n+\n+    #[test]\n+    fn test_max_nan() {\n+        assert_eq!(NAN.max(2.0), 2.0);\n+        assert_eq!(2.0f32.max(NAN), 2.0);\n+    }\n+\n     #[test]\n     fn test_num() {\n         num::test_num(10f32, 2f32);"}, {"sha": "b95188b07650d76359680dcbc2c98eab89442173", "filename": "src/libstd/num/f64.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/67c5d793add67878e6e472258748ac13e0f90366/src%2Flibstd%2Fnum%2Ff64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67c5d793add67878e6e472258748ac13e0f90366/src%2Flibstd%2Fnum%2Ff64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Ff64.rs?ref=67c5d793add67878e6e472258748ac13e0f90366", "patch": "@@ -865,6 +865,18 @@ mod tests {\n     use num::*;\n     use num;\n \n+    #[test]\n+    fn test_min_nan() {\n+        assert_eq!(NAN.min(2.0), 2.0);\n+        assert_eq!(2.0f64.min(NAN), 2.0);\n+    }\n+\n+    #[test]\n+    fn test_max_nan() {\n+        assert_eq!(NAN.max(2.0), 2.0);\n+        assert_eq!(2.0f64.max(NAN), 2.0);\n+    }\n+\n     #[test]\n     fn test_num() {\n         num::test_num(10f64, 2f64);"}]}