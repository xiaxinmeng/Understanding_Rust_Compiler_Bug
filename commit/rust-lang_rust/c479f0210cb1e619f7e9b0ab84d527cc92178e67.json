{"sha": "c479f0210cb1e619f7e9b0ab84d527cc92178e67", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM0NzlmMDIxMGNiMWU2MTlmN2U5YjBhYjg0ZDUyN2NjOTIxNzhlNjc=", "commit": {"author": {"name": "Jonathan Turner", "email": "jonathandturner@users.noreply.github.com", "date": "2016-08-08T20:25:56Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-08-08T20:25:56Z"}, "message": "Rollup merge of #35449 - poveda-ruiz:master, r=jonathandturner\n\nUpdated E0087 to new format\n\nPart of #35233. r? @jonathandturner", "tree": {"sha": "cb586dcac8cd198fd14bd192f785b0dc13b23c33", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb586dcac8cd198fd14bd192f785b0dc13b23c33"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c479f0210cb1e619f7e9b0ab84d527cc92178e67", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c479f0210cb1e619f7e9b0ab84d527cc92178e67", "html_url": "https://github.com/rust-lang/rust/commit/c479f0210cb1e619f7e9b0ab84d527cc92178e67", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c479f0210cb1e619f7e9b0ab84d527cc92178e67/comments", "author": {"login": "jonathandturner", "id": 111457284, "node_id": "O_kgDOBqS0BA", "avatar_url": "https://avatars.githubusercontent.com/u/111457284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathandturner", "html_url": "https://github.com/jonathandturner", "followers_url": "https://api.github.com/users/jonathandturner/followers", "following_url": "https://api.github.com/users/jonathandturner/following{/other_user}", "gists_url": "https://api.github.com/users/jonathandturner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathandturner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathandturner/subscriptions", "organizations_url": "https://api.github.com/users/jonathandturner/orgs", "repos_url": "https://api.github.com/users/jonathandturner/repos", "events_url": "https://api.github.com/users/jonathandturner/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathandturner/received_events", "type": "Organization", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7979da0783a0052cbcdbebd0594c5518eae7fb9c", "url": "https://api.github.com/repos/rust-lang/rust/commits/7979da0783a0052cbcdbebd0594c5518eae7fb9c", "html_url": "https://github.com/rust-lang/rust/commit/7979da0783a0052cbcdbebd0594c5518eae7fb9c"}, {"sha": "8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "html_url": "https://github.com/rust-lang/rust/commit/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "f11bb3175dab0855793a01103f551254589b39e5", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/c479f0210cb1e619f7e9b0ab84d527cc92178e67/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c479f0210cb1e619f7e9b0ab84d527cc92178e67/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=c479f0210cb1e619f7e9b0ab84d527cc92178e67", "patch": "@@ -4372,14 +4372,17 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n                 if i < type_count {\n                     substs.types.push(space, t);\n                 } else if i == type_count {\n-                    span_err!(self.tcx.sess, typ.span, E0087,\n-                        \"too many type parameters provided: \\\n-                         expected at most {} parameter{}, \\\n-                         found {} parameter{}\",\n-                         type_count,\n-                         if type_count == 1 {\"\"} else {\"s\"},\n-                         data.types.len(),\n-                         if data.types.len() == 1 {\"\"} else {\"s\"});\n+                    struct_span_err!(self.tcx.sess, typ.span, E0087,\n+                                     \"too many type parameters provided: \\\n+                                      expected at most {} parameter{}, \\\n+                                      found {} parameter{}\",\n+                                     type_count,\n+                                     if type_count == 1 {\"\"} else {\"s\"},\n+                                     data.types.len(),\n+                                     if data.types.len() == 1 {\"\"} else {\"s\"})\n+                        .span_label(typ.span , &format!(\"expected {} parameter{}\",\n+                                    type_count,\n+                                    if type_count == 1 {\"\"} else {\"s\"})).emit();\n                     substs.types.truncate(space, 0);\n                     break;\n                 }"}, {"sha": "63115f093c3863c3ced32b3c4bce03ac5833ed24", "filename": "src/test/compile-fail/E0087.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c479f0210cb1e619f7e9b0ab84d527cc92178e67/src%2Ftest%2Fcompile-fail%2FE0087.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c479f0210cb1e619f7e9b0ab84d527cc92178e67/src%2Ftest%2Fcompile-fail%2FE0087.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0087.rs?ref=c479f0210cb1e619f7e9b0ab84d527cc92178e67", "patch": "@@ -12,4 +12,5 @@ fn foo<T>() {}\n \n fn main() {\n     foo::<f64, bool>(); //~ ERROR E0087\n+    //~^ NOTE expected \n }"}]}