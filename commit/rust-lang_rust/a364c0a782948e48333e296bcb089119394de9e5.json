{"sha": "a364c0a782948e48333e296bcb089119394de9e5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEzNjRjMGE3ODI5NDhlNDgzMzNlMjk2YmNiMDg5MTE5Mzk0ZGU5ZTU=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-14T20:19:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-14T20:19:24Z"}, "message": "Rollup merge of #74228 - estebank:unsized-param, r=davidtwco\n\nProvide structured suggestion on unsized fields and fn params\n\n* Suggest borrowing or boxing unsized fields\n* Suggest borrowing fn parameters\n* Remove some verbosity of unsized errors\n* Remove `on_unimplemented` note from `trait Sized`\n\nFix #23286, fix #28653.\n\nr? @davidtwco", "tree": {"sha": "bfec5615a5a275a38d4688f2a6aa4a98755e667b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bfec5615a5a275a38d4688f2a6aa4a98755e667b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a364c0a782948e48333e296bcb089119394de9e5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfDhNNCRBK7hj4Ov3rIwAAdHIIAEqtqysA8EQxIrIJ4/uN+3Qz\n09PIjqFWpvrdukDxvBVBrsIhQUFZ/BUmBwACeUZYliSwEatASGzGnt3nXOTZgJYV\n6iorLtMtfGiZTyYstd3IU2Hc30N1ICenAU7FrqxQkp2wn1UZzImbko9HUf27305X\nmwVZRQyRIw5H0MTXYMpPiqsKL/JzmTtaAJXdn1rRzHmjqBnOH3mMd+Q/+JuufyN2\nWjyJ2pAHtcl2k/41EDi7bgUIEwXe8VFCcQ3z5EaWrfXWEVd+0MRXeojGOfIyXtSX\nnn0vtd+ubpOIFTDxTwzy8FLgPWu4O20yulyP2nDWmljNsIAVBQ6nTcWJ1E7/nyc=\n=EKhB\n-----END PGP SIGNATURE-----\n", "payload": "tree bfec5615a5a275a38d4688f2a6aa4a98755e667b\nparent be5c7abfd6c5d366f90cf5b44543a7af2120852e\nparent ff75395ca833a3ea4276d09f5cbe63be63a8c554\nauthor Manish Goregaokar <manishsmail@gmail.com> 1594757964 -0700\ncommitter GitHub <noreply@github.com> 1594757964 -0700\n\nRollup merge of #74228 - estebank:unsized-param, r=davidtwco\n\nProvide structured suggestion on unsized fields and fn params\n\n* Suggest borrowing or boxing unsized fields\n* Suggest borrowing fn parameters\n* Remove some verbosity of unsized errors\n* Remove `on_unimplemented` note from `trait Sized`\n\nFix #23286, fix #28653.\n\nr? @davidtwco\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a364c0a782948e48333e296bcb089119394de9e5", "html_url": "https://github.com/rust-lang/rust/commit/a364c0a782948e48333e296bcb089119394de9e5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a364c0a782948e48333e296bcb089119394de9e5/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "be5c7abfd6c5d366f90cf5b44543a7af2120852e", "url": "https://api.github.com/repos/rust-lang/rust/commits/be5c7abfd6c5d366f90cf5b44543a7af2120852e", "html_url": "https://github.com/rust-lang/rust/commit/be5c7abfd6c5d366f90cf5b44543a7af2120852e"}, {"sha": "ff75395ca833a3ea4276d09f5cbe63be63a8c554", "url": "https://api.github.com/repos/rust-lang/rust/commits/ff75395ca833a3ea4276d09f5cbe63be63a8c554", "html_url": "https://github.com/rust-lang/rust/commit/ff75395ca833a3ea4276d09f5cbe63be63a8c554"}], "stats": {"total": 991, "additions": 554, "deletions": 437}, "files": [{"sha": "6ddd41a26f122e7562b0fb11e24bcc97220890b0", "filename": "src/libcore/marker.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibcore%2Fmarker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibcore%2Fmarker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fmarker.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -84,11 +84,8 @@ impl<T: ?Sized> !Send for *mut T {}\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n #[lang = \"sized\"]\n #[rustc_on_unimplemented(\n-    on(parent_trait = \"std::path::Path\", label = \"borrow the `Path` instead\"),\n     message = \"the size for values of type `{Self}` cannot be known at compilation time\",\n-    label = \"doesn't have a size known at compile-time\",\n-    note = \"to learn more, visit <https://doc.rust-lang.org/book/\\\n-            ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\"\n+    label = \"doesn't have a size known at compile-time\"\n )]\n #[fundamental] // for Default, for example, which requires that `[T]: !Default` be evaluatable\n #[rustc_specialization_trait]"}, {"sha": "201972fcf264bd505b6e5f61b187f1e4e0be9541", "filename": "src/librustc_ast_lowering/expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_ast_lowering%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_ast_lowering%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_ast_lowering%2Fexpr.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -526,7 +526,7 @@ impl<'hir> LoweringContext<'_, 'hir> {\n             Ident::with_dummy_span(sym::_task_context),\n             hir::BindingAnnotation::Mutable,\n         );\n-        let param = hir::Param { attrs: &[], hir_id: self.next_id(), pat, span };\n+        let param = hir::Param { attrs: &[], hir_id: self.next_id(), pat, ty_span: span, span };\n         let params = arena_vec![self; param];\n \n         let body_id = self.lower_body(move |this| {"}, {"sha": "dd5e658102facacbe5688df07b9427c7961a5c03", "filename": "src/librustc_ast_lowering/item.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_ast_lowering%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_ast_lowering%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_ast_lowering%2Fitem.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -972,6 +972,7 @@ impl<'hir> LoweringContext<'_, 'hir> {\n             attrs: self.lower_attrs(&param.attrs),\n             hir_id: self.lower_node_id(param.id),\n             pat: self.lower_pat(&param.pat),\n+            ty_span: param.ty.span,\n             span: param.span,\n         }\n     }\n@@ -1098,6 +1099,7 @@ impl<'hir> LoweringContext<'_, 'hir> {\n                     attrs: parameter.attrs,\n                     hir_id: parameter.hir_id,\n                     pat: new_parameter_pat,\n+                    ty_span: parameter.ty_span,\n                     span: parameter.span,\n                 };\n "}, {"sha": "07b489a75626708528388cab5e92774867506e48", "filename": "src/librustc_hir/hir.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_hir%2Fhir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_hir%2Fhir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_hir%2Fhir.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -2148,6 +2148,7 @@ pub struct Param<'hir> {\n     pub attrs: &'hir [Attribute],\n     pub hir_id: HirId,\n     pub pat: &'hir Pat<'hir>,\n+    pub ty_span: Span,\n     pub span: Span,\n }\n "}, {"sha": "c15c31a53f0c9fefafb2f06bdf6d086e95c08488", "filename": "src/librustc_middle/traits/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_middle%2Ftraits%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_middle%2Ftraits%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_middle%2Ftraits%2Fmod.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -215,7 +215,7 @@ pub enum ObligationCauseCode<'tcx> {\n     /// Type of each variable must be `Sized`.\n     VariableType(hir::HirId),\n     /// Argument type must be `Sized`.\n-    SizedArgumentType,\n+    SizedArgumentType(Option<Span>),\n     /// Return type must be `Sized`.\n     SizedReturnType,\n     /// Yield type must be `Sized`.\n@@ -229,6 +229,7 @@ pub enum ObligationCauseCode<'tcx> {\n     /// Types of fields (other than the last, except for packed structs) in a struct must be sized.\n     FieldSized {\n         adt_kind: AdtKind,\n+        span: Span,\n         last: bool,\n     },\n "}, {"sha": "334462790edbcc5a2f03c2de543fcdf9148d0065", "filename": "src/librustc_middle/traits/structural_impls.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_middle%2Ftraits%2Fstructural_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_middle%2Ftraits%2Fstructural_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_middle%2Ftraits%2Fstructural_impls.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -151,12 +151,14 @@ impl<'a, 'tcx> Lift<'tcx> for traits::ObligationCauseCode<'a> {\n             super::VariableType(id) => Some(super::VariableType(id)),\n             super::ReturnValue(id) => Some(super::ReturnValue(id)),\n             super::ReturnType => Some(super::ReturnType),\n-            super::SizedArgumentType => Some(super::SizedArgumentType),\n+            super::SizedArgumentType(sp) => Some(super::SizedArgumentType(sp)),\n             super::SizedReturnType => Some(super::SizedReturnType),\n             super::SizedYieldType => Some(super::SizedYieldType),\n             super::InlineAsmSized => Some(super::InlineAsmSized),\n             super::RepeatVec(suggest_flag) => Some(super::RepeatVec(suggest_flag)),\n-            super::FieldSized { adt_kind, last } => Some(super::FieldSized { adt_kind, last }),\n+            super::FieldSized { adt_kind, span, last } => {\n+                Some(super::FieldSized { adt_kind, span, last })\n+            }\n             super::ConstSized => Some(super::ConstSized),\n             super::ConstPatternStructural => Some(super::ConstPatternStructural),\n             super::SharedStatic => Some(super::SharedStatic),"}, {"sha": "4ade1ce91632fa0dd2990af51730514870f06944", "filename": "src/librustc_trait_selection/traits/error_reporting/mod.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_trait_selection%2Ftraits%2Ferror_reporting%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_trait_selection%2Ftraits%2Ferror_reporting%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trait_selection%2Ftraits%2Ferror_reporting%2Fmod.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -376,7 +376,12 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n                             // If it has a custom `#[rustc_on_unimplemented]`\n                             // error message, let's display it as the label!\n                             err.span_label(span, s.as_str());\n-                            err.help(&explanation);\n+                            if !matches!(trait_ref.skip_binder().self_ty().kind, ty::Param(_)) {\n+                                // When the self type is a type param We don't need to \"the trait\n+                                // `std::marker::Sized` is not implemented for `T`\" as we will point\n+                                // at the type param with a label to suggest constraining it.\n+                                err.help(&explanation);\n+                            }\n                         } else {\n                             err.span_label(span, explanation);\n                         }\n@@ -403,7 +408,6 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n                         }\n \n                         self.suggest_dereferences(&obligation, &mut err, &trait_ref, points_at_arg);\n-                        self.suggest_borrow_on_unsized_slice(&obligation.cause.code, &mut err);\n                         self.suggest_fn_call(&obligation, &mut err, &trait_ref, points_at_arg);\n                         self.suggest_remove_reference(&obligation, &mut err, &trait_ref);\n                         self.suggest_semicolon_removal(&obligation, &mut err, span, &trait_ref);"}, {"sha": "2c6589eb2bdf9b34e04d7743a9afcb9be34227b4", "filename": "src/librustc_trait_selection/traits/error_reporting/suggestions.rs", "status": "modified", "additions": 82, "deletions": 55, "changes": 137, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_trait_selection%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_trait_selection%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trait_selection%2Ftraits%2Ferror_reporting%2Fsuggestions.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -43,12 +43,6 @@ pub trait InferCtxtExt<'tcx> {\n         body_id: hir::HirId,\n     );\n \n-    fn suggest_borrow_on_unsized_slice(\n-        &self,\n-        code: &ObligationCauseCode<'tcx>,\n-        err: &mut DiagnosticBuilder<'_>,\n-    );\n-\n     fn suggest_dereferences(\n         &self,\n         obligation: &PredicateObligation<'tcx>,\n@@ -515,32 +509,6 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n         }\n     }\n \n-    /// When encountering an assignment of an unsized trait, like `let x = \"\"[..];`, provide a\n-    /// suggestion to borrow the initializer in order to use have a slice instead.\n-    fn suggest_borrow_on_unsized_slice(\n-        &self,\n-        code: &ObligationCauseCode<'tcx>,\n-        err: &mut DiagnosticBuilder<'_>,\n-    ) {\n-        if let &ObligationCauseCode::VariableType(hir_id) = code {\n-            let parent_node = self.tcx.hir().get_parent_node(hir_id);\n-            if let Some(Node::Local(ref local)) = self.tcx.hir().find(parent_node) {\n-                if let Some(ref expr) = local.init {\n-                    if let hir::ExprKind::Index(_, _) = expr.kind {\n-                        if let Ok(snippet) = self.tcx.sess.source_map().span_to_snippet(expr.span) {\n-                            err.span_suggestion(\n-                                expr.span,\n-                                \"consider borrowing here\",\n-                                format!(\"&{}\", snippet),\n-                                Applicability::MachineApplicable,\n-                            );\n-                        }\n-                    }\n-                }\n-            }\n-        }\n-    }\n-\n     /// Given a closure's `DefId`, return the given name of the closure.\n     ///\n     /// This doesn't account for reassignments, but it's only used for suggestions.\n@@ -1817,15 +1785,56 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n                     }\n                 }\n             }\n-            ObligationCauseCode::VariableType(_) => {\n-                err.note(\"all local variables must have a statically known size\");\n+            ObligationCauseCode::VariableType(hir_id) => {\n+                let parent_node = self.tcx.hir().get_parent_node(hir_id);\n+                match self.tcx.hir().find(parent_node) {\n+                    Some(Node::Local(hir::Local {\n+                        init: Some(hir::Expr { kind: hir::ExprKind::Index(_, _), span, .. }),\n+                        ..\n+                    })) => {\n+                        // When encountering an assignment of an unsized trait, like\n+                        // `let x = \"\"[..];`, provide a suggestion to borrow the initializer in\n+                        // order to use have a slice instead.\n+                        err.span_suggestion_verbose(\n+                            span.shrink_to_lo(),\n+                            \"consider borrowing here\",\n+                            \"&\".to_owned(),\n+                            Applicability::MachineApplicable,\n+                        );\n+                        err.note(\"all local variables must have a statically known size\");\n+                    }\n+                    Some(Node::Param(param)) => {\n+                        err.span_suggestion_verbose(\n+                            param.ty_span.shrink_to_lo(),\n+                            \"function arguments must have a statically known size, borrowed types \\\n+                            always have a known size\",\n+                            \"&\".to_owned(),\n+                            Applicability::MachineApplicable,\n+                        );\n+                    }\n+                    _ => {\n+                        err.note(\"all local variables must have a statically known size\");\n+                    }\n+                }\n                 if !self.tcx.features().unsized_locals {\n                     err.help(\"unsized locals are gated as an unstable feature\");\n                 }\n             }\n-            ObligationCauseCode::SizedArgumentType => {\n-                err.note(\"all function arguments must have a statically known size\");\n-                if !self.tcx.features().unsized_locals {\n+            ObligationCauseCode::SizedArgumentType(sp) => {\n+                if let Some(span) = sp {\n+                    err.span_suggestion_verbose(\n+                        span.shrink_to_lo(),\n+                        \"function arguments must have a statically known size, borrowed types \\\n+                         always have a known size\",\n+                        \"&\".to_string(),\n+                        Applicability::MachineApplicable,\n+                    );\n+                } else {\n+                    err.note(\"all function arguments must have a statically known size\");\n+                }\n+                if tcx.sess.opts.unstable_features.is_nightly_build()\n+                    && !self.tcx.features().unsized_locals\n+                {\n                     err.help(\"unsized locals are gated as an unstable feature\");\n                 }\n             }\n@@ -1844,26 +1853,44 @@ impl<'a, 'tcx> InferCtxtExt<'tcx> for InferCtxt<'a, 'tcx> {\n             ObligationCauseCode::StructInitializerSized => {\n                 err.note(\"structs must have a statically known size to be initialized\");\n             }\n-            ObligationCauseCode::FieldSized { adt_kind: ref item, last } => match *item {\n-                AdtKind::Struct => {\n-                    if last {\n-                        err.note(\n-                            \"the last field of a packed struct may only have a \\\n-                             dynamically sized type if it does not need drop to be run\",\n-                        );\n-                    } else {\n-                        err.note(\n-                            \"only the last field of a struct may have a dynamically sized type\",\n-                        );\n+            ObligationCauseCode::FieldSized { adt_kind: ref item, last, span } => {\n+                match *item {\n+                    AdtKind::Struct => {\n+                        if last {\n+                            err.note(\n+                                \"the last field of a packed struct may only have a \\\n+                                dynamically sized type if it does not need drop to be run\",\n+                            );\n+                        } else {\n+                            err.note(\n+                                \"only the last field of a struct may have a dynamically sized type\",\n+                            );\n+                        }\n+                    }\n+                    AdtKind::Union => {\n+                        err.note(\"no field of a union may have a dynamically sized type\");\n+                    }\n+                    AdtKind::Enum => {\n+                        err.note(\"no field of an enum variant may have a dynamically sized type\");\n                     }\n                 }\n-                AdtKind::Union => {\n-                    err.note(\"no field of a union may have a dynamically sized type\");\n-                }\n-                AdtKind::Enum => {\n-                    err.note(\"no field of an enum variant may have a dynamically sized type\");\n-                }\n-            },\n+                err.help(\"change the field's type to have a statically known size\");\n+                err.span_suggestion(\n+                    span.shrink_to_lo(),\n+                    \"borrowed types always have a statically known size\",\n+                    \"&\".to_string(),\n+                    Applicability::MachineApplicable,\n+                );\n+                err.multipart_suggestion(\n+                    \"the `Box` type always has a statically known size and allocates its contents \\\n+                     in the heap\",\n+                    vec![\n+                        (span.shrink_to_lo(), \"Box<\".to_string()),\n+                        (span.shrink_to_hi(), \">\".to_string()),\n+                    ],\n+                    Applicability::MachineApplicable,\n+                );\n+            }\n             ObligationCauseCode::ConstSized => {\n                 err.note(\"constant expressions must have a statically known size\");\n             }"}, {"sha": "3956e91a1673460234d125870bc21ca8f3fe54cc", "filename": "src/librustc_typeck/check/expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -487,7 +487,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     self.require_type_is_sized_deferred(\n                         input,\n                         expr.span,\n-                        traits::SizedArgumentType,\n+                        traits::SizedArgumentType(None),\n                     );\n                 }\n             }"}, {"sha": "aa768f1d251b5dfcb196fa58cd7274a45bbff4b2", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1342,14 +1342,15 @@ fn check_fn<'a, 'tcx>(\n     let inputs_fn = fn_sig.inputs().iter().copied();\n     for (idx, (param_ty, param)) in inputs_fn.chain(maybe_va_list).zip(body.params).enumerate() {\n         // Check the pattern.\n-        fcx.check_pat_top(&param.pat, param_ty, try { inputs_hir?.get(idx)?.span }, false);\n+        let ty_span = try { inputs_hir?.get(idx)?.span };\n+        fcx.check_pat_top(&param.pat, param_ty, ty_span, false);\n \n         // Check that argument is Sized.\n         // The check for a non-trivial pattern is a hack to avoid duplicate warnings\n         // for simple cases like `fn foo(x: Trait)`,\n         // where we would error once on the parameter as a whole, and once on the binding `x`.\n         if param.pat.simple_ident().is_none() && !tcx.features().unsized_locals {\n-            fcx.require_type_is_sized(param_ty, param.pat.span, traits::SizedArgumentType);\n+            fcx.require_type_is_sized(param_ty, param.pat.span, traits::SizedArgumentType(ty_span));\n         }\n \n         fcx.write_ty(param.hir_id, param_ty);"}, {"sha": "19c556942afc1397462390030fb97b722f879b10", "filename": "src/librustc_typeck/check/wfcheck.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -394,6 +394,7 @@ fn check_type_defn<'tcx, F>(\n                                 Some(i) => i,\n                                 None => bug!(),\n                             },\n+                            span: field.span,\n                             last,\n                         },\n                     ),\n@@ -1326,10 +1327,10 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             .iter()\n             .map(|field| {\n                 let field_ty = self.tcx.type_of(self.tcx.hir().local_def_id(field.hir_id));\n-                let field_ty = self.normalize_associated_types_in(field.span, &field_ty);\n+                let field_ty = self.normalize_associated_types_in(field.ty.span, &field_ty);\n                 let field_ty = self.resolve_vars_if_possible(&field_ty);\n                 debug!(\"non_enum_variant: type of field {:?} is {:?}\", field, field_ty);\n-                AdtField { ty: field_ty, span: field.span }\n+                AdtField { ty: field_ty, span: field.ty.span }\n             })\n             .collect();\n         AdtVariant { fields, explicit_discr: None }"}, {"sha": "1f11d19c70ea2c12cc633b317285d4592e031a5a", "filename": "src/test/ui/asm/type-check-1.stderr", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fasm%2Ftype-check-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fasm%2Ftype-check-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Ftype-check-1.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -17,7 +17,6 @@ LL |         asm!(\"{}\", in(reg) v[..]);\n    |                            ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u64]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all inline asm arguments must have a statically known size\n \n error[E0277]: the size for values of type `[u64]` cannot be known at compilation time\n@@ -27,7 +26,6 @@ LL |         asm!(\"{}\", out(reg) v[..]);\n    |                             ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u64]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all inline asm arguments must have a statically known size\n \n error[E0277]: the size for values of type `[u64]` cannot be known at compilation time\n@@ -37,7 +35,6 @@ LL |         asm!(\"{}\", inout(reg) v[..]);\n    |                               ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u64]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all inline asm arguments must have a statically known size\n \n error: aborting due to 5 previous errors"}, {"sha": "e96d0e0eff7192bab34e361fb513b0f52ed6419f", "filename": "src/test/ui/associated-types/associated-types-unsized.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fassociated-types-unsized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fassociated-types-unsized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fassociated-types-unsized.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     let x = t.get();\n    |         ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `<T as Get>::Value`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n help: consider further restricting the associated type"}, {"sha": "de0acc88324a582d489727b4719bf5c8f18feef4", "filename": "src/test/ui/associated-types/defaults-suitability.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-suitability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-suitability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-suitability.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -139,7 +139,6 @@ LL | pub struct Vec<T> {\n    |                - required by this bound in `std::vec::Vec`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to 11 previous errors\n "}, {"sha": "2ba854eac4665b86159b74cdba0b37d188b39ed2", "filename": "src/test/ui/associated-types/defaults-unsound-62211-1.stderr", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-unsound-62211-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-unsound-62211-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-unsound-62211-1.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -21,7 +21,6 @@ LL | trait UncheckedCopy: Sized {\n LL |     + AddAssign<&'static str>\n    |       ^^^^^^^^^^^^^^^^^^^^^^^ no implementation for `Self += &'static str`\n    |\n-   = help: the trait `std::ops::AddAssign<&'static str>` is not implemented for `Self`\n help: consider further restricting `Self`\n    |\n LL | trait UncheckedCopy: Sized + std::ops::AddAssign<&'static str> {\n@@ -50,7 +49,6 @@ LL | trait UncheckedCopy: Sized {\n LL |     + Display = Self;\n    |       ^^^^^^^ `Self` cannot be formatted with the default formatter\n    |\n-   = help: the trait `std::fmt::Display` is not implemented for `Self`\n    = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead\n help: consider further restricting `Self`\n    |\n@@ -69,7 +67,6 @@ LL |     + Display = Self;\n LL | impl<T> UncheckedCopy for T {}\n    |         ^^^^^^^^^^^^^ `T` cannot be formatted with the default formatter\n    |\n-   = help: the trait `std::fmt::Display` is not implemented for `T`\n    = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead\n help: consider restricting type parameter `T`\n    |\n@@ -105,7 +102,6 @@ LL |     + AddAssign<&'static str>\n LL | impl<T> UncheckedCopy for T {}\n    |         ^^^^^^^^^^^^^ no implementation for `T += &'static str`\n    |\n-   = help: the trait `std::ops::AddAssign<&'static str>` is not implemented for `T`\n help: consider restricting type parameter `T`\n    |\n LL | impl<T: std::ops::AddAssign<&'static str>> UncheckedCopy for T {}"}, {"sha": "d4fd0ca98ee548820fae161aed6e3ac19e85ae5f", "filename": "src/test/ui/associated-types/defaults-unsound-62211-2.stderr", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-unsound-62211-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-unsound-62211-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fdefaults-unsound-62211-2.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -21,7 +21,6 @@ LL | trait UncheckedCopy: Sized {\n LL |     + AddAssign<&'static str>\n    |       ^^^^^^^^^^^^^^^^^^^^^^^ no implementation for `Self += &'static str`\n    |\n-   = help: the trait `std::ops::AddAssign<&'static str>` is not implemented for `Self`\n help: consider further restricting `Self`\n    |\n LL | trait UncheckedCopy: Sized + std::ops::AddAssign<&'static str> {\n@@ -50,7 +49,6 @@ LL | trait UncheckedCopy: Sized {\n LL |     + Display = Self;\n    |       ^^^^^^^ `Self` cannot be formatted with the default formatter\n    |\n-   = help: the trait `std::fmt::Display` is not implemented for `Self`\n    = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead\n help: consider further restricting `Self`\n    |\n@@ -69,7 +67,6 @@ LL |     + Display = Self;\n LL | impl<T> UncheckedCopy for T {}\n    |         ^^^^^^^^^^^^^ `T` cannot be formatted with the default formatter\n    |\n-   = help: the trait `std::fmt::Display` is not implemented for `T`\n    = note: in format strings you may be able to use `{:?}` (or {:#?} for pretty-print) instead\n help: consider restricting type parameter `T`\n    |\n@@ -105,7 +102,6 @@ LL |     + AddAssign<&'static str>\n LL | impl<T> UncheckedCopy for T {}\n    |         ^^^^^^^^^^^^^ no implementation for `T += &'static str`\n    |\n-   = help: the trait `std::ops::AddAssign<&'static str>` is not implemented for `T`\n help: consider restricting type parameter `T`\n    |\n LL | impl<T: std::ops::AddAssign<&'static str>> UncheckedCopy for T {}"}, {"sha": "be3b61665b11f50c33f4db77704dbe1d97ec381c", "filename": "src/test/ui/associated-types/issue-63593.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fissue-63593.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Fissue-63593.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-63593.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -6,8 +6,6 @@ LL | trait MyTrait {\n LL |     type This = Self;\n    |     ^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider further restricting `Self`\n    |\n LL | trait MyTrait: std::marker::Sized {"}, {"sha": "7813d3b6596bffa58a619d196e67db7fbd39f6a7", "filename": "src/test/ui/associated-types/trait-with-supertraits-needing-sized-self.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Ftrait-with-supertraits-needing-sized-self.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fassociated-types%2Ftrait-with-supertraits-needing-sized-self.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Ftrait-with-supertraits-needing-sized-self.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | trait ArithmeticOps: Add<Output=Self> + Sub<Output=Self> + Mul<Output=Self>\n LL | pub trait Add<Rhs = Self> {\n    |               --- required by this bound in `std::ops::Add`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider further restricting `Self`\n    |\n LL | trait ArithmeticOps: Add<Output=Self> + Sub<Output=Self> + Mul<Output=Self> + Div<Output=Self> + std::marker::Sized {}"}, {"sha": "2166420070a07a1898b3156ef6ea1c068ce9bf8b", "filename": "src/test/ui/async-await/issue-70818.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fasync-await%2Fissue-70818.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fasync-await%2Fissue-70818.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissue-70818.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL |\n LL |     async { (ty, ty1) }\n    |     ------------------- this returned value is of type `impl std::future::Future`\n    |\n-   = help: within `impl std::future::Future`, the trait `std::marker::Send` is not implemented for `U`\n note: captured value is not `Send`\n   --> $DIR/issue-70818.rs:6:18\n    |"}, {"sha": "762afa6450a955c7395e0fadba680db714b54dc7", "filename": "src/test/ui/async-await/issue-72590-type-error-sized.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fasync-await%2Fissue-72590-type-error-sized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fasync-await%2Fissue-72590-type-error-sized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissue-72590-type-error-sized.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -17,10 +17,12 @@ LL |     async fn frob(self) {}\n    |                   ^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Foo`, the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Foo`\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL |     async fn frob(&self) {}\n+   |                   ^\n \n error: aborting due to 3 previous errors\n "}, {"sha": "fd3999ae6fbeca92d9edcacbfed3794ebf0da4e2", "filename": "src/test/ui/bad/bad-method-typaram-kind.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbad%2Fbad-method-typaram-kind.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbad%2Fbad-method-typaram-kind.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbad%2Fbad-method-typaram-kind.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -4,7 +4,6 @@ error[E0277]: `T` cannot be sent between threads safely\n LL |     1.bar::<T>();\n    |       ^^^ `T` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `T`\n help: consider further restricting this bound\n    |\n LL | fn foo<T:'static + std::marker::Send>() {"}, {"sha": "47d8cc1f06fd1b557402e86705709f8fd31ee60f", "filename": "src/test/ui/bad/bad-sized.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbad%2Fbad-sized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbad%2Fbad-sized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbad%2Fbad-sized.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -21,7 +21,6 @@ LL | pub struct Vec<T> {\n    |                - required by this bound in `std::vec::Vec`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn Trait`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error[E0277]: the size for values of type `dyn Trait` cannot be known at compilation time\n   --> $DIR/bad-sized.rs:4:37\n@@ -30,7 +29,6 @@ LL |     let x: Vec<dyn Trait + Sized> = Vec::new();\n    |                                     ^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn Trait`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required by `std::vec::Vec::<T>::new`\n \n error: aborting due to 3 previous errors"}, {"sha": "623252a8c11399ff4bd0f9de920133d772dd0301", "filename": "src/test/ui/bound-suggestions.stderr", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbound-suggestions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbound-suggestions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbound-suggestions.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -4,7 +4,6 @@ error[E0277]: `impl Sized` doesn't implement `std::fmt::Debug`\n LL |     println!(\"{:?}\", t);\n    |                      ^ `impl Sized` cannot be formatted using `{:?}` because it doesn't implement `std::fmt::Debug`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `impl Sized`\n    = note: required by `std::fmt::Debug::fmt`\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider further restricting this bound\n@@ -18,7 +17,6 @@ error[E0277]: `T` doesn't implement `std::fmt::Debug`\n LL |     println!(\"{:?}\", t);\n    |                      ^ `T` cannot be formatted using `{:?}` because it doesn't implement `std::fmt::Debug`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `T`\n    = note: required by `std::fmt::Debug::fmt`\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider restricting type parameter `T`\n@@ -32,7 +30,6 @@ error[E0277]: `T` doesn't implement `std::fmt::Debug`\n LL |     println!(\"{:?}\", t);\n    |                      ^ `T` cannot be formatted using `{:?}` because it doesn't implement `std::fmt::Debug`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `T`\n    = note: required by `std::fmt::Debug::fmt`\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider further restricting this bound\n@@ -46,7 +43,6 @@ error[E0277]: `Y` doesn't implement `std::fmt::Debug`\n LL |     println!(\"{:?} {:?}\", x, y);\n    |                              ^ `Y` cannot be formatted using `{:?}` because it doesn't implement `std::fmt::Debug`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `Y`\n    = note: required by `std::fmt::Debug::fmt`\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider further restricting type parameter `Y`\n@@ -60,7 +56,6 @@ error[E0277]: `X` doesn't implement `std::fmt::Debug`\n LL |     println!(\"{:?}\", x);\n    |                      ^ `X` cannot be formatted using `{:?}` because it doesn't implement `std::fmt::Debug`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `X`\n    = note: required by `std::fmt::Debug::fmt`\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider further restricting this bound\n@@ -74,7 +69,6 @@ error[E0277]: `X` doesn't implement `std::fmt::Debug`\n LL |     println!(\"{:?}\", x);\n    |                      ^ `X` cannot be formatted using `{:?}` because it doesn't implement `std::fmt::Debug`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `X`\n    = note: required by `std::fmt::Debug::fmt`\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider further restricting type parameter `X`"}, {"sha": "b3e7b5b4feea4b6c446a14ed799e0e95ed1ef0d3", "filename": "src/test/ui/box-into-boxed-slice-fail.stderr", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbox-into-boxed-slice-fail.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbox-into-boxed-slice-fail.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbox-into-boxed-slice-fail.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     let _ = Box::into_boxed_slice(boxed_slice);\n    |                                   ^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required by `std::boxed::Box::<T>::into_boxed_slice`\n \n error[E0277]: the size for values of type `[u8]` cannot be known at compilation time\n@@ -15,7 +14,6 @@ LL |     let _ = Box::into_boxed_slice(boxed_slice);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: slice and array elements must have `Sized` type\n \n error[E0277]: the size for values of type `dyn std::fmt::Debug` cannot be known at compilation time\n@@ -25,7 +23,6 @@ LL |     let _ = Box::into_boxed_slice(boxed_trait);\n    |                                   ^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn std::fmt::Debug`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required by `std::boxed::Box::<T>::into_boxed_slice`\n \n error[E0277]: the size for values of type `dyn std::fmt::Debug` cannot be known at compilation time\n@@ -35,7 +32,6 @@ LL |     let _ = Box::into_boxed_slice(boxed_trait);\n    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn std::fmt::Debug`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: slice and array elements must have `Sized` type\n \n error: aborting due to 4 previous errors"}, {"sha": "7ff986ec38109d78b3829d5cff702a0f851bf95a", "filename": "src/test/ui/builtin-superkinds/builtin-superkinds-double-superkind.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-double-superkind.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-double-superkind.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-double-superkind.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL |\n LL | impl <T: Sync+'static> Foo for (T,) { }\n    |                        ^^^ `T` cannot be sent between threads safely\n    |\n-   = help: within `(T,)`, the trait `std::marker::Send` is not implemented for `T`\n    = note: required because it appears within the type `(T,)`\n help: consider further restricting this bound\n    |\n@@ -23,7 +22,6 @@ LL | trait Foo : Send+Sync { }\n LL | impl <T: Send> Foo for (T,T) { }\n    |                ^^^ `T` cannot be shared between threads safely\n    |\n-   = help: within `(T, T)`, the trait `std::marker::Sync` is not implemented for `T`\n    = note: required because it appears within the type `(T, T)`\n help: consider further restricting this bound\n    |"}, {"sha": "9ee045edfe546fc2a4f4259b8e01bb6787c6fdac", "filename": "src/test/ui/builtin-superkinds/builtin-superkinds-in-metadata.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-in-metadata.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-in-metadata.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-in-metadata.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,7 +9,6 @@ LL | impl <T:Sync+'static> RequiresRequiresShareAndSend for X<T> { }\n LL | pub trait RequiresRequiresShareAndSend : RequiresShare + Send { }\n    |                                                          ---- required by this bound in `trait_superkinds_in_metadata::RequiresRequiresShareAndSend`\n    |\n-   = help: within `X<T>`, the trait `std::marker::Send` is not implemented for `T`\n    = note: required because it appears within the type `X<T>`\n help: consider further restricting this bound\n    |"}, {"sha": "ad80b3fa8d11f39b97a2ad145e7162d0a988ec65", "filename": "src/test/ui/builtin-superkinds/builtin-superkinds-typaram-not-send.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-typaram-not-send.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-typaram-not-send.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbuiltin-superkinds%2Fbuiltin-superkinds-typaram-not-send.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL |\n LL | impl <T: Sync+'static> Foo for T { }\n    |                        ^^^ `T` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `T`\n help: consider further restricting this bound\n    |\n LL | impl <T: Sync+'static + std::marker::Send> Foo for T { }"}, {"sha": "fb2e0fc1a61699016c5f6e92189f861a47927b75", "filename": "src/test/ui/chalkify/impl_wf.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fchalkify%2Fimpl_wf.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fchalkify%2Fimpl_wf.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fchalkify%2Fimpl_wf.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,7 +8,6 @@ LL | impl Foo for str { }\n    |      ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error[E0277]: the trait bound `f32: Foo` is not satisfied\n   --> $DIR/impl_wf.rs:27:17"}, {"sha": "273eae995538a7dc0b62ce3b833d9fb5d9967437", "filename": "src/test/ui/closures/closure-bounds-cant-promote-superkind-in-struct.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fclosures%2Fclosure-bounds-cant-promote-superkind-in-struct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fclosures%2Fclosure-bounds-cant-promote-superkind-in-struct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fclosures%2Fclosure-bounds-cant-promote-superkind-in-struct.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL | struct X<F> where F: FnOnce() + 'static + Send {\n LL | fn foo<F>(blk: F) -> X<F> where F: FnOnce() + 'static {\n    |                      ^^^^ `F` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `F`\n help: consider further restricting this bound\n    |\n LL | fn foo<F>(blk: F) -> X<F> where F: FnOnce() + 'static + std::marker::Send {"}, {"sha": "7df29d5a098a02896f34bdf666fa479421c7b764", "filename": "src/test/ui/closures/closure-bounds-subtype.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fclosures%2Fclosure-bounds-subtype.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fclosures%2Fclosure-bounds-subtype.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fclosures%2Fclosure-bounds-subtype.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL | fn take_const_owned<F>(_: F) where F: FnOnce() + Sync + Send {\n LL |     take_const_owned(f);\n    |                      ^ `F` cannot be shared between threads safely\n    |\n-   = help: the trait `std::marker::Sync` is not implemented for `F`\n help: consider further restricting this bound\n    |\n LL | fn give_owned<F>(f: F) where F: FnOnce() + Send + std::marker::Sync {"}, {"sha": "ad67a87265bd3f0e66959bf691864ee8625610e1", "filename": "src/test/ui/const-generics/array-size-in-generic-struct-param.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fconst-generics%2Farray-size-in-generic-struct-param.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fconst-generics%2Farray-size-in-generic-struct-param.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Farray-size-in-generic-struct-param.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -16,10 +16,10 @@ LL | struct ArithArrayLen<const N: usize>([u32; 0 + N]);\n    = note: this may fail depending on what value the parameter takes\n \n error: constant expression depends on a generic parameter\n-  --> $DIR/array-size-in-generic-struct-param.rs:14:5\n+  --> $DIR/array-size-in-generic-struct-param.rs:14:10\n    |\n LL |     arr: [u8; CFG.arr_size],\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^\n+   |          ^^^^^^^^^^^^^^^^^^\n    |\n    = note: this may fail depending on what value the parameter takes\n "}, {"sha": "bf2844cfb70d6db23fc61845f350db0117586ea3", "filename": "src/test/ui/consts/const-unsized.stderr", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fconsts%2Fconst-unsized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fconsts%2Fconst-unsized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-unsized.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL | const CONST_0: dyn Debug + Sync = *(&0 as &(dyn Debug + Sync));\n    |                ^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn std::fmt::Debug + std::marker::Sync + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n   --> $DIR/const-unsized.rs:6:18\n@@ -14,7 +13,6 @@ LL | const CONST_FOO: str = *\"foo\";\n    |                  ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error[E0277]: the size for values of type `(dyn std::fmt::Debug + std::marker::Sync + 'static)` cannot be known at compilation time\n   --> $DIR/const-unsized.rs:9:18\n@@ -23,7 +21,6 @@ LL | static STATIC_1: dyn Debug + Sync = *(&1 as &(dyn Debug + Sync));\n    |                  ^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn std::fmt::Debug + std::marker::Sync + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n   --> $DIR/const-unsized.rs:12:20\n@@ -32,7 +29,6 @@ LL | static STATIC_BAR: str = *\"bar\";\n    |                    ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to 4 previous errors\n "}, {"sha": "a5374aedab86bf505c4b575fdf0c1c3659230adb", "filename": "src/test/ui/dst/dst-bad-assign-2.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign-2.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     f5.ptr = *z;\n    |     ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn ToBar`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: the left-hand-side of an assignment must have a statically known size\n \n error: aborting due to previous error"}, {"sha": "f8d9300f11a310dc9ac357ceef2dc5f4e5522b85", "filename": "src/test/ui/dst/dst-bad-assign-3.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign-3.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -14,7 +14,6 @@ LL |     f5.2 = Bar1 {f: 36};\n    |     ^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn ToBar`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: the left-hand-side of an assignment must have a statically known size\n \n error: aborting due to 2 previous errors"}, {"sha": "8e3eeefb9ea66c178416a21c6da4426fffae60ff", "filename": "src/test/ui/dst/dst-bad-assign.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-bad-assign.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -14,7 +14,6 @@ LL |     f5.ptr = Bar1 {f: 36};\n    |     ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn ToBar`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: the left-hand-side of an assignment must have a statically known size\n \n error: aborting due to 2 previous errors"}, {"sha": "d9d6ca3292311a243ab9c7d2e730db04e38f2ce8", "filename": "src/test/ui/dst/dst-bad-deep-2.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-deep-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-deep-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-bad-deep-2.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     let h: &(([isize],),) = &(*g,);\n    |                              ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `(([isize],),)`, the trait `std::marker::Sized` is not implemented for `[isize]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `([isize],)`\n    = note: required because it appears within the type `(([isize],),)`\n    = note: tuples must have a statically known size to be initialized"}, {"sha": "1304f04f82062d30af80ea882abd4ef75d7644bf", "filename": "src/test/ui/dst/dst-bad-deep.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-deep.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-bad-deep.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-bad-deep.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     let h: &Fat<Fat<[isize]>> = &Fat { ptr: *g };\n    |                                  ^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Fat<Fat<[isize]>>`, the trait `std::marker::Sized` is not implemented for `[isize]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Fat<[isize]>`\n    = note: required because it appears within the type `Fat<Fat<[isize]>>`\n    = note: structs must have a statically known size to be initialized"}, {"sha": "da8ead885c8987002b18994fc327451918645e78", "filename": "src/test/ui/dst/dst-object-from-unsized-type.stderr", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-object-from-unsized-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-object-from-unsized-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-object-from-unsized-type.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -6,8 +6,6 @@ LL | fn test1<T: ?Sized + Foo>(t: &T) {\n LL |     let u: &dyn Foo = t;\n    |                       ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn Foo`\n \n error[E0277]: the size for values of type `T` cannot be known at compilation time\n@@ -18,8 +16,6 @@ LL | fn test2<T: ?Sized + Foo>(t: &T) {\n LL |     let v: &dyn Foo = t as &dyn Foo;\n    |                       ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn Foo`\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n@@ -29,7 +25,6 @@ LL |     let _: &[&dyn Foo] = &[\"hi\"];\n    |                            ^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn Foo`\n \n error[E0277]: the size for values of type `[u8]` cannot be known at compilation time\n@@ -39,7 +34,6 @@ LL |     let _: &dyn Foo = x as &dyn Foo;\n    |                       ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn Foo`\n \n error: aborting due to 4 previous errors"}, {"sha": "7e90e9ce1792dae953b7ac2a9dd6dae121de6728", "filename": "src/test/ui/dst/dst-sized-trait-param.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-sized-trait-param.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fdst%2Fdst-sized-trait-param.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-sized-trait-param.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,7 +8,6 @@ LL | impl Foo<[isize]> for usize { }\n    |      ^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[isize]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | trait Foo<T: ?Sized> : Sized { fn take(self, x: &T) { } } // Note: T is sized\n@@ -24,7 +23,6 @@ LL | impl Foo<isize> for [usize] { }\n    |      ^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[usize]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to 2 previous errors\n "}, {"sha": "203fc18915647fcbacbddbf9fa101a1e0b396dc9", "filename": "src/test/ui/error-codes/E0277.stderr", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ferror-codes%2FE0277.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ferror-codes%2FE0277.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0277.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -2,13 +2,15 @@ error[E0277]: the size for values of type `[u8]` cannot be known at compilation\n   --> $DIR/E0277.rs:13:6\n    |\n LL | fn f(p: Path) { }\n-   |      ^ borrow the `Path` instead\n+   |      ^ doesn't have a size known at compile-time\n    |\n    = help: within `std::path::Path`, the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `std::path::Path`\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn f(p: &Path) { }\n+   |         ^\n \n error[E0277]: the trait bound `i32: Foo` is not satisfied\n   --> $DIR/E0277.rs:17:15"}, {"sha": "38736de8d9ac72d7c22b392c85ab1b025ef49445", "filename": "src/test/ui/error-codes/E0478.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ferror-codes%2FE0478.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ferror-codes%2FE0478.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0478.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,8 +1,8 @@\n error[E0478]: lifetime bound not satisfied\n-  --> $DIR/E0478.rs:4:5\n+  --> $DIR/E0478.rs:4:12\n    |\n LL |     child: Box<dyn Wedding<'kiss> + 'SnowWhite>,\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n note: lifetime parameter instantiated with the lifetime `'SnowWhite` as defined on the struct at 3:22\n   --> $DIR/E0478.rs:3:22"}, {"sha": "8938afd33ffde90c3d9c55e6cf46deafc7723cef", "filename": "src/test/ui/extern/extern-types-unsized.stderr", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fextern%2Fextern-types-unsized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fextern%2Fextern-types-unsized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fextern%2Fextern-types-unsized.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,7 +8,6 @@ LL |     assert_sized::<A>();\n    |                    ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `A`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | fn assert_sized<T: ?Sized>() { }\n@@ -24,7 +23,6 @@ LL |     assert_sized::<Foo>();\n    |     ^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Foo`, the trait `std::marker::Sized` is not implemented for `A`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Foo`\n help: consider relaxing the implicit `Sized` restriction\n    |\n@@ -41,7 +39,6 @@ LL |     assert_sized::<Bar<A>>();\n    |     ^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Bar<A>`, the trait `std::marker::Sized` is not implemented for `A`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Bar<A>`\n help: consider relaxing the implicit `Sized` restriction\n    |\n@@ -58,7 +55,6 @@ LL |     assert_sized::<Bar<Bar<A>>>();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Bar<Bar<A>>`, the trait `std::marker::Sized` is not implemented for `A`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Bar<A>`\n    = note: required because it appears within the type `Bar<Bar<A>>`\n help: consider relaxing the implicit `Sized` restriction"}, {"sha": "5a58e57d36c706ba98983a40a8939ea86f183bb9", "filename": "src/test/ui/extern/issue-36122-accessing-externed-dst.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fextern%2Fissue-36122-accessing-externed-dst.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fextern%2Fissue-36122-accessing-externed-dst.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fextern%2Fissue-36122-accessing-externed-dst.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |         static symbol: [usize];\n    |                        ^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[usize]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to previous error\n "}, {"sha": "987cde191cbb98431dc46b85f41800f15ecb026d", "filename": "src/test/ui/feature-gates/feature-gate-infer_static_outlives_requirements.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-infer_static_outlives_requirements.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-infer_static_outlives_requirements.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-infer_static_outlives_requirements.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,10 +1,10 @@\n error[E0310]: the parameter type `U` may not live long enough\n-  --> $DIR/feature-gate-infer_static_outlives_requirements.rs:5:5\n+  --> $DIR/feature-gate-infer_static_outlives_requirements.rs:5:10\n    |\n LL | struct Foo<U> {\n    |            - help: consider adding an explicit lifetime bound...: `U: 'static`\n LL |     bar: Bar<U>\n-   |     ^^^^^^^^^^^ ...so that the type `U` will meet its required lifetime bounds\n+   |          ^^^^^^ ...so that the type `U` will meet its required lifetime bounds\n \n error: aborting due to previous error\n "}, {"sha": "d4c09ec40fd926154140e23c0a2fe9486ea01fec", "filename": "src/test/ui/feature-gates/feature-gate-trivial_bounds.stderr", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-trivial_bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-trivial_bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-trivial_bounds.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -95,7 +95,6 @@ LL | struct TwoStrs(str, str) where str: Sized;\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = help: see issue #48214\n    = help: add `#![feature(trivial_bounds)]` to the crate attributes to enable\n \n@@ -108,7 +107,6 @@ LL | | }\n    | |_^ doesn't have a size known at compile-time\n    |\n    = help: within `Dst<(dyn A + 'static)>`, the trait `std::marker::Sized` is not implemented for `(dyn A + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Dst<(dyn A + 'static)>`\n    = help: see issue #48214\n    = help: add `#![feature(trivial_bounds)]` to the crate attributes to enable\n@@ -122,7 +120,6 @@ LL | | }\n    | |_^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = help: see issue #48214\n    = help: add `#![feature(trivial_bounds)]` to the crate attributes to enable\n "}, {"sha": "0195cc1481e74ce1adc170620a7d909bb8c3b9ce", "filename": "src/test/ui/feature-gates/feature-gate-unsized_locals.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-unsized_locals.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-unsized_locals.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-unsized_locals.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,9 +5,11 @@ LL | fn f(f: dyn FnOnce()) {}\n    |      ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn std::ops::FnOnce() + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn f(f: &dyn FnOnce()) {}\n+   |         ^\n \n error: aborting due to previous error\n "}, {"sha": "379bd8ebd1cada3db5a4af9ab753152f12d673d1", "filename": "src/test/ui/generator/sized-yield.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgenerator%2Fsized-yield.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgenerator%2Fsized-yield.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerator%2Fsized-yield.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,7 +9,6 @@ LL | |    };\n    | |____^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: the yield type of a generator must have a statically known size\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n@@ -19,7 +18,6 @@ LL |    Pin::new(&mut gen).resume(());\n    |                       ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to 2 previous errors\n "}, {"sha": "2fab7ffb66050b103e6a3a301dc897edfeb1a626", "filename": "src/test/ui/generic-associated-types/issue-68642-broken-llvm-ir.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68642-broken-llvm-ir.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68642-broken-llvm-ir.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68642-broken-llvm-ir.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -16,7 +16,6 @@ LL |     type F<'a>: Fn() -> u32;\n LL |     type F<'a> = Self;\n    |     ^^^^^^^^^^^^^^^^^^ expected an `Fn<()>` closure, found `T`\n    |\n-   = help: the trait `std::ops::Fn<()>` is not implemented for `T`\n    = note: wrap the `T` in a closure with no arguments: `|| { /* code */ }\n help: consider restricting type parameter `T`\n    |"}, {"sha": "186e142138be2fe93c23b464061d224cac0acef2", "filename": "src/test/ui/generic-associated-types/issue-68643-broken-mir.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68643-broken-mir.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68643-broken-mir.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68643-broken-mir.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -16,7 +16,6 @@ LL |     type F<'a>: Fn() -> u32;\n LL |     type F<'a> = Self;\n    |     ^^^^^^^^^^^^^^^^^^ expected an `Fn<()>` closure, found `T`\n    |\n-   = help: the trait `std::ops::Fn<()>` is not implemented for `T`\n    = note: wrap the `T` in a closure with no arguments: `|| { /* code */ }\n help: consider restricting type parameter `T`\n    |"}, {"sha": "d16bdcbbb6b00d859da406fb85c4247487512801", "filename": "src/test/ui/generic-associated-types/issue-68644-codegen-selection.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68644-codegen-selection.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68644-codegen-selection.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68644-codegen-selection.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -16,7 +16,6 @@ LL |     type F<'a>: Fn() -> u32;\n LL |     type F<'a> = Self;\n    |     ^^^^^^^^^^^^^^^^^^ expected an `Fn<()>` closure, found `T`\n    |\n-   = help: the trait `std::ops::Fn<()>` is not implemented for `T`\n    = note: wrap the `T` in a closure with no arguments: `|| { /* code */ }\n help: consider restricting type parameter `T`\n    |"}, {"sha": "72c42917c83c92a53cd953e56ac28ba32510fee9", "filename": "src/test/ui/generic-associated-types/issue-68645-codegen-fulfillment.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68645-codegen-fulfillment.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68645-codegen-fulfillment.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgeneric-associated-types%2Fissue-68645-codegen-fulfillment.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -16,7 +16,6 @@ LL |     type F<'a>: Fn() -> u32;\n LL |     type F<'a> = Self;\n    |     ^^^^^^^^^^^^^^^^^^ expected an `Fn<()>` closure, found `T`\n    |\n-   = help: the trait `std::ops::Fn<()>` is not implemented for `T`\n    = note: wrap the `T` in a closure with no arguments: `|| { /* code */ }\n help: consider restricting type parameter `T`\n    |"}, {"sha": "7a6c07d4e082e0f5b013861be53e27f712452a0e", "filename": "src/test/ui/generics/issue-61631-default-type-param-can-reference-self-in-trait.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgenerics%2Fissue-61631-default-type-param-can-reference-self-in-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fgenerics%2Fissue-61631-default-type-param-can-reference-self-in-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerics%2Fissue-61631-default-type-param-can-reference-self-in-trait.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,7 +8,6 @@ LL | impl Tsized for () {}\n    |      ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[()]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to previous error\n "}, {"sha": "96f961a2aaf6bd19c1029f3f7a6f8cf816ba8f34", "filename": "src/test/ui/impl-trait/dyn-trait-return-should-be-impl-trait.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fimpl-trait%2Fdyn-trait-return-should-be-impl-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fimpl-trait%2Fdyn-trait-return-should-be-impl-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-trait%2Fdyn-trait-return-should-be-impl-trait.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -16,7 +16,6 @@ LL | fn fuz() -> (usize, Trait) { (42, Struct) }\n    |             doesn't have a size known at compile-time\n    |\n    = help: within `(usize, (dyn Trait + 'static))`, the trait `std::marker::Sized` is not implemented for `(dyn Trait + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `(usize, (dyn Trait + 'static))`\n    = note: the return type of a function must have a statically known size\n \n@@ -38,7 +37,6 @@ LL | fn bar() -> (usize, dyn Trait) { (42, Struct) }\n    |             doesn't have a size known at compile-time\n    |\n    = help: within `(usize, (dyn Trait + 'static))`, the trait `std::marker::Sized` is not implemented for `(dyn Trait + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `(usize, (dyn Trait + 'static))`\n    = note: the return type of a function must have a statically known size\n "}, {"sha": "d241e6406d579080e67cfc6792716150a766c509", "filename": "src/test/ui/issues/issue-10412.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-10412.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-10412.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-10412.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -56,7 +56,6 @@ LL | impl<'self> Serializable<str> for &'self str {\n    |             ^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | trait Serializable<'self, T: ?Sized> {"}, {"sha": "4e41acf433e599889fd76c95814411db40293920", "filename": "src/test/ui/issues/issue-14366.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-14366.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-14366.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-14366.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     let _x = \"test\" as &dyn (::std::any::Any);\n    |              ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn std::any::Any`\n \n error: aborting due to previous error"}, {"sha": "68ceebc5b651d2e334378a738a2924a41515c259", "filename": "src/test/ui/issues/issue-15756.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-15756.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-15756.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-15756.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     &mut something\n    |          ^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[T]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n "}, {"sha": "812778911a865fde362eac5e410c57cbf3b11002", "filename": "src/test/ui/issues/issue-17651.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-17651.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-17651.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-17651.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     (|| Box::new(*(&[0][..])))();\n    |                  ^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[{integer}]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required by `std::boxed::Box::<T>::new`\n \n error[E0277]: the size for values of type `[{integer}]` cannot be known at compilation time\n@@ -15,7 +14,6 @@ LL |     (|| Box::new(*(&[0][..])))();\n    |         ^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[{integer}]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n "}, {"sha": "3b5dfd1ad158c27660af7b02c325e7a2d1d58f0e", "filename": "src/test/ui/issues/issue-18919.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-18919.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-18919.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-18919.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,7 +8,6 @@ LL | enum Option<T> {\n    |             - required by this bound in `Option`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn for<'r> std::ops::Fn(&'r isize) -> isize`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `T` if it were used through indirection like `&T` or `Box<T>`\n   --> $DIR/issue-18919.rs:7:13\n    |"}, {"sha": "63f0701974b8b1efe1b37028d63ad523c3f976c0", "filename": "src/test/ui/issues/issue-19380.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-19380.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-19380.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-19380.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,13 +1,13 @@\n error[E0038]: the trait `Qiz` cannot be made into an object\n-  --> $DIR/issue-19380.rs:11:3\n+  --> $DIR/issue-19380.rs:11:9\n    |\n LL | trait Qiz {\n    |       --- this trait cannot be made into an object...\n LL |   fn qiz();\n    |      --- ...because associated function `qiz` has no `self` parameter\n ...\n LL |   foos: &'static [&'static (dyn Qiz + 'static)]\n-   |   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Qiz` cannot be made into an object\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `Qiz` cannot be made into an object\n    |\n help: consider turning `qiz` into a method by giving it a `&self` argument or constraining it so it does not apply to trait objects\n    |"}, {"sha": "cbaa7507244a391cd4e70748b86b5e0ca8589f56", "filename": "src/test/ui/issues/issue-20005.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-20005.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-20005.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20005.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,8 +7,6 @@ LL | trait From<Src> {\n LL |     ) -> <Dst as From<Self>>::Result where Dst: From<Self> {\n    |                                                 ^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider further restricting `Self`\n    |\n LL |     ) -> <Dst as From<Self>>::Result where Dst: From<Self>, Self: std::marker::Sized {"}, {"sha": "0e96b12066937aa43679beb3806910ec90b31e23", "filename": "src/test/ui/issues/issue-20433.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-20433.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-20433.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20433.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -10,7 +10,6 @@ LL | pub struct Vec<T> {\n    |                - required by this bound in `std::vec::Vec`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[i32]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to previous error\n "}, {"sha": "5e06e3bc95c3655f9bb5f94e34604a52e05298b9", "filename": "src/test/ui/issues/issue-20605.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-20605.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-20605.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-20605.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     for item in *things { *item = 0 }\n    |                 ^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `dyn std::iter::Iterator<Item = &'a mut u8>`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required by `std::iter::IntoIterator::into_iter`\n \n error: aborting due to previous error"}, {"sha": "6f22fe6a99717be6140539dfa6eded3bbd97b138", "filename": "src/test/ui/issues/issue-22874.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-22874.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-22874.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-22874.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,10 @@\n error[E0277]: the size for values of type `[std::string::String]` cannot be known at compilation time\n-  --> $DIR/issue-22874.rs:2:5\n+  --> $DIR/issue-22874.rs:2:11\n    |\n LL |     rows: [[String]],\n-   |     ^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n+   |           ^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[std::string::String]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: slice and array elements must have `Sized` type\n \n error: aborting due to previous error"}, {"sha": "46b4be6fd36496adbb5719a647920f9f481d675e", "filename": "src/test/ui/issues/issue-23281.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-23281.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-23281.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-23281.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,7 +8,6 @@ LL | struct Vec<T> {\n    |            - required by this bound in `Vec`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn std::ops::Fn() + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `T` if it were used through indirection like `&T` or `Box<T>`\n   --> $DIR/issue-23281.rs:8:12\n    |"}, {"sha": "d2714408d8a39629cf0114d4072a64c9750f05bb", "filename": "src/test/ui/issues/issue-24446.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-24446.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-24446.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-24446.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     static foo: dyn Fn() -> u32 = || -> u32 {\n    |                 ^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn std::ops::Fn() -> u32 + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to previous error\n "}, {"sha": "5dbcc96e87488440f6c70dec125ae5e6b7740289", "filename": "src/test/ui/issues/issue-27060-2.stderr", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-27060-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-27060-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-27060-2.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,14 +1,21 @@\n error[E0277]: the size for values of type `T` cannot be known at compilation time\n-  --> $DIR/issue-27060-2.rs:3:5\n+  --> $DIR/issue-27060-2.rs:3:11\n    |\n LL | pub struct Bad<T: ?Sized> {\n    |                - this type parameter needs to be `std::marker::Sized`\n LL |     data: T,\n-   |     ^^^^^^^ doesn't have a size known at compile-time\n+   |           ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: the last field of a packed struct may only have a dynamically sized type if it does not need drop to be run\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     data: &T,\n+   |           ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     data: Box<T>,\n+   |           ^^^^ ^\n \n error: aborting due to previous error\n "}, {"sha": "de1810e99aac6c6f859a17b8d23c38442319afb7", "filename": "src/test/ui/issues/issue-27078.stderr", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-27078.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-27078.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-27078.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -4,14 +4,15 @@ error[E0277]: the size for values of type `Self` cannot be known at compilation\n LL |     fn foo(self) -> &'static i32 {\n    |            ^^^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n help: consider further restricting `Self`\n    |\n LL |     fn foo(self) -> &'static i32 where Self: std::marker::Sized {\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL |     fn foo(&self) -> &'static i32 {\n+   |            ^\n \n error: aborting due to previous error\n "}, {"sha": "98de768a5a819af9a6442ee541631ca90eb96e6d", "filename": "src/test/ui/issues/issue-30355.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-30355.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-30355.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-30355.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     &X(*Y)\n    |      ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n "}, {"sha": "0f0b80a9ff8d3f00153e31a3cef2828341c624ae", "filename": "src/test/ui/issues/issue-35988.stderr", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-35988.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-35988.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-35988.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,8 +5,16 @@ LL |     V([Box<E>]),\n    |       ^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[std::boxed::Box<E>]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     V(&[Box<E>]),\n+   |       ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     V(Box<[Box<E>]>),\n+   |       ^^^^        ^\n \n error: aborting due to previous error\n "}, {"sha": "e96bbe1a99312d369b30b3b1b0d810cdeaf4cda3", "filename": "src/test/ui/issues/issue-38954.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-38954.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-38954.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-38954.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,9 +5,11 @@ LL | fn _test(ref _p: str) {}\n    |          ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn _test(ref _p: &str) {}\n+   |                  ^\n \n error: aborting due to previous error\n "}, {"sha": "35aa1acdc1c9b04305d465eb88ba788ef9d002d8", "filename": "src/test/ui/issues/issue-41229-ref-str.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-41229-ref-str.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-41229-ref-str.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-41229-ref-str.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,9 +5,11 @@ LL | pub fn example(ref s: str) {}\n    |                ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | pub fn example(ref s: &str) {}\n+   |                       ^\n \n error: aborting due to previous error\n "}, {"sha": "fbe87aa2dbee592a94511c0d05741462362b9b41", "filename": "src/test/ui/issues/issue-42312.stderr", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-42312.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-42312.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-42312.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,13 +5,15 @@ LL |     fn baz(_: Self::Target) where Self: Deref {}\n    |            ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `<Self as std::ops::Deref>::Target`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n help: consider further restricting the associated type\n    |\n LL |     fn baz(_: Self::Target) where Self: Deref, <Self as std::ops::Deref>::Target: std::marker::Sized {}\n    |                                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL |     fn baz(_: &Self::Target) where Self: Deref {}\n+   |               ^\n \n error[E0277]: the size for values of type `(dyn std::string::ToString + 'static)` cannot be known at compilation time\n   --> $DIR/issue-42312.rs:8:10\n@@ -20,9 +22,11 @@ LL | pub fn f(_: dyn ToString) {}\n    |          ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn std::string::ToString + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | pub fn f(_: &dyn ToString) {}\n+   |             ^\n \n error: aborting due to 2 previous errors\n "}, {"sha": "9205a518c8c3a59d296d166f3da0298505b6f110", "filename": "src/test/ui/issues/issue-54410.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-54410.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-54410.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-54410.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     pub static mut symbol: [i8];\n    |                            ^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[i8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to previous error\n "}, {"sha": "897984d0ae410eb483502ad901f698e0d9e55336", "filename": "src/test/ui/issues/issue-5883.stderr", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-5883.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-5883.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-5883.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,9 +5,11 @@ LL | fn new_struct(r: dyn A + 'static)\n    |               ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn A + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn new_struct(r: &dyn A + 'static)\n+   |                  ^\n \n error[E0277]: the size for values of type `(dyn A + 'static)` cannot be known at compilation time\n   --> $DIR/issue-5883.rs:8:8\n@@ -19,7 +21,6 @@ LL |     Struct { r: r }\n    |     --------------- this returned value is of type `Struct`\n    |\n    = help: within `Struct`, the trait `std::marker::Sized` is not implemented for `(dyn A + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Struct`\n    = note: the return type of a function must have a statically known size\n "}, {"sha": "fef64ebf2d365ebe7d463e2096faea63f0344437", "filename": "src/test/ui/issues/issue-65673.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-65673.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fissues%2Fissue-65673.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-65673.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -10,7 +10,6 @@ LL |     type Ctx = dyn Alias<T>;\n    |                ^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn Trait + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to previous error\n "}, {"sha": "eb400cf061547ed13b5ca8c4cb518c0d6cf789d5", "filename": "src/test/ui/kindck/kindck-impl-type-params.nll.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fkindck%2Fkindck-impl-type-params.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fkindck%2Fkindck-impl-type-params.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fkindck%2Fkindck-impl-type-params.nll.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -4,7 +4,6 @@ error[E0277]: `T` cannot be sent between threads safely\n LL |     let a = &t as &dyn Gettable<T>;\n    |             ^^ `T` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `T`\n    = note: required because of the requirements on the impl of `Gettable<T>` for `S<T>`\n    = note: required for the cast to the object type `dyn Gettable<T>`\n help: consider restricting type parameter `T`\n@@ -31,7 +30,6 @@ error[E0277]: `T` cannot be sent between threads safely\n LL |     let a: &dyn Gettable<T> = &t;\n    |                               ^^ `T` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `T`\n    = note: required because of the requirements on the impl of `Gettable<T>` for `S<T>`\n    = note: required for the cast to the object type `dyn Gettable<T>`\n help: consider restricting type parameter `T`"}, {"sha": "ab9dfc9b8a7795bfc0f4d6fdd07353633fdbab1c", "filename": "src/test/ui/kindck/kindck-impl-type-params.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fkindck%2Fkindck-impl-type-params.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fkindck%2Fkindck-impl-type-params.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fkindck%2Fkindck-impl-type-params.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -4,7 +4,6 @@ error[E0277]: `T` cannot be sent between threads safely\n LL |     let a = &t as &dyn Gettable<T>;\n    |             ^^ `T` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `T`\n    = note: required because of the requirements on the impl of `Gettable<T>` for `S<T>`\n    = note: required for the cast to the object type `dyn Gettable<T>`\n help: consider restricting type parameter `T`\n@@ -31,7 +30,6 @@ error[E0277]: `T` cannot be sent between threads safely\n LL |     let a: &dyn Gettable<T> = &t;\n    |                               ^^ `T` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `T`\n    = note: required because of the requirements on the impl of `Gettable<T>` for `S<T>`\n    = note: required for the cast to the object type `dyn Gettable<T>`\n help: consider restricting type parameter `T`"}, {"sha": "98bf9923823d7d7f34ceb588c6ebd262b6c8b1b0", "filename": "src/test/ui/lazy_normalization_consts/feature-gate-lazy_normalization_consts.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Flazy_normalization_consts%2Ffeature-gate-lazy_normalization_consts.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Flazy_normalization_consts%2Ffeature-gate-lazy_normalization_consts.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flazy_normalization_consts%2Ffeature-gate-lazy_normalization_consts.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | fn test<T>() {\n LL |     let _: [u8; sof::<T>()];\n    |                       ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | pub const fn sof<T: ?Sized>() -> usize {"}, {"sha": "ce0495dd8b0cbaa3a0b137715e6d7f03122530f2", "filename": "src/test/ui/lazy_normalization_consts/issue-57739.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Flazy_normalization_consts%2Fissue-57739.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Flazy_normalization_consts%2Fissue-57739.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flazy_normalization_consts%2Fissue-57739.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,10 +8,10 @@ LL | #![feature(lazy_normalization_consts)]\n    = note: see issue #72219 <https://github.com/rust-lang/rust/issues/72219> for more information\n \n error: constant expression depends on a generic parameter\n-  --> $DIR/issue-57739.rs:12:5\n+  --> $DIR/issue-57739.rs:12:12\n    |\n LL |     array: [u8; T::SIZE],\n-   |     ^^^^^^^^^^^^^^^^^^^^\n+   |            ^^^^^^^^^^^^^\n    |\n    = note: this may fail depending on what value the parameter takes\n "}, {"sha": "e5083e3a088b6b53be9e6b1f8d8976d8c47d31b2", "filename": "src/test/ui/lifetimes/lifetime-doesnt-live-long-enough.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Flifetimes%2Flifetime-doesnt-live-long-enough.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Flifetimes%2Flifetime-doesnt-live-long-enough.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetimes%2Flifetime-doesnt-live-long-enough.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,10 +1,10 @@\n error[E0310]: the parameter type `T` may not live long enough\n-  --> $DIR/lifetime-doesnt-live-long-enough.rs:19:5\n+  --> $DIR/lifetime-doesnt-live-long-enough.rs:19:10\n    |\n LL | struct Foo<T> {\n    |            - help: consider adding an explicit lifetime bound...: `T: 'static`\n LL |     foo: &'static T\n-   |     ^^^^^^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n+   |          ^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n \n error[E0309]: the parameter type `K` may not live long enough\n   --> $DIR/lifetime-doesnt-live-long-enough.rs:24:19"}, {"sha": "71abda520653e56b14eed5bbf1356b582530580a", "filename": "src/test/ui/mismatched_types/cast-rfc0401.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fmismatched_types%2Fcast-rfc0401.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fmismatched_types%2Fcast-rfc0401.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fcast-rfc0401.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -209,7 +209,6 @@ LL |     let _ = fat_v as *const dyn Foo;\n    |             ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn Foo`\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n@@ -219,7 +218,6 @@ LL |     let _ = a as *const dyn Foo;\n    |             ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn Foo`\n \n error[E0606]: casting `&{float}` as `f32` is invalid"}, {"sha": "e143747d637ee0292c2ee79aed7ba4e340f73c61", "filename": "src/test/ui/phantom-oibit.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fphantom-oibit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fphantom-oibit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fphantom-oibit.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL | fn is_zen<T: Zen>(_: T) {}\n LL |     is_zen(x)\n    |            ^ `T` cannot be shared between threads safely\n    |\n-   = help: the trait `std::marker::Sync` is not implemented for `T`\n    = note: required because of the requirements on the impl of `Zen` for `&T`\n    = note: required because it appears within the type `std::marker::PhantomData<&T>`\n    = note: required because it appears within the type `Guard<'_, T>`\n@@ -25,7 +24,6 @@ LL | fn is_zen<T: Zen>(_: T) {}\n LL |     is_zen(x)\n    |            ^ `T` cannot be shared between threads safely\n    |\n-   = help: the trait `std::marker::Sync` is not implemented for `T`\n    = note: required because of the requirements on the impl of `Zen` for `&T`\n    = note: required because it appears within the type `std::marker::PhantomData<&T>`\n    = note: required because it appears within the type `Guard<'_, T>`"}, {"sha": "e179feba7a799e59e279c003c8cff34d3573d990", "filename": "src/test/ui/range/range-1.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Frange%2Frange-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Frange%2Frange-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frange%2Frange-1.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -19,7 +19,6 @@ LL |     let range = *arr..;\n    |                 ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[{integer}]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required by `std::ops::RangeFrom`\n \n error: aborting due to 3 previous errors"}, {"sha": "22586b5de91ff9e2158c52df337f083e74fedeac", "filename": "src/test/ui/regions/region-bounds-on-objects-and-type-parameters.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fregions%2Fregion-bounds-on-objects-and-type-parameters.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fregions%2Fregion-bounds-on-objects-and-type-parameters.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fregions%2Fregion-bounds-on-objects-and-type-parameters.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,10 +5,10 @@ LL |     z: Box<dyn Is<'a>+'b+'c>,\n    |                          ^^\n \n error[E0478]: lifetime bound not satisfied\n-  --> $DIR/region-bounds-on-objects-and-type-parameters.rs:21:5\n+  --> $DIR/region-bounds-on-objects-and-type-parameters.rs:21:8\n    |\n LL |     z: Box<dyn Is<'a>+'b+'c>,\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |        ^^^^^^^^^^^^^^^^^^^^^\n    |\n note: lifetime parameter instantiated with the lifetime `'b` as defined on the struct at 11:15\n   --> $DIR/region-bounds-on-objects-and-type-parameters.rs:11:15"}, {"sha": "1ddbf73a46372dc13dbc2c54a9f20a4fc6d8ca23", "filename": "src/test/ui/regions/regions-wf-trait-object.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fregions%2Fregions-wf-trait-object.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fregions%2Fregions-wf-trait-object.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fregions%2Fregions-wf-trait-object.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,8 +1,8 @@\n error[E0478]: lifetime bound not satisfied\n-  --> $DIR/regions-wf-trait-object.rs:7:5\n+  --> $DIR/regions-wf-trait-object.rs:7:8\n    |\n LL |     x: Box<dyn TheTrait<'a>+'b>\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n note: lifetime parameter instantiated with the lifetime `'b` as defined on the struct at 6:15\n   --> $DIR/regions-wf-trait-object.rs:6:15"}, {"sha": "4ed93ad3279adec5bb4ea680e90ed9ab29b84d6b", "filename": "src/test/ui/resolve/issue-5035-2.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fresolve%2Fissue-5035-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fresolve%2Fissue-5035-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-5035-2.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,9 +5,11 @@ LL | fn foo(_x: K) {}\n    |        ^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn I + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn foo(_x: &K) {}\n+   |            ^\n \n error: aborting due to previous error\n "}, {"sha": "a449fac11930d8ce0571b2bace6738863aa20da3", "filename": "src/test/ui/rfc-2093-infer-outlives/dont-infer-static.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Frfc-2093-infer-outlives%2Fdont-infer-static.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Frfc-2093-infer-outlives%2Fdont-infer-static.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2093-infer-outlives%2Fdont-infer-static.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,10 +1,10 @@\n error[E0310]: the parameter type `U` may not live long enough\n-  --> $DIR/dont-infer-static.rs:8:5\n+  --> $DIR/dont-infer-static.rs:8:10\n    |\n LL | struct Foo<U> {\n    |            - help: consider adding an explicit lifetime bound...: `U: 'static`\n LL |     bar: Bar<U>\n-   |     ^^^^^^^^^^^ ...so that the type `U` will meet its required lifetime bounds\n+   |          ^^^^^^ ...so that the type `U` will meet its required lifetime bounds\n \n error: aborting due to previous error\n "}, {"sha": "3da8725d88a0caa6c900fbbf7fd1a413bb577703", "filename": "src/test/ui/specialization/deafult-generic-associated-type-bound.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fspecialization%2Fdeafult-generic-associated-type-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fspecialization%2Fdeafult-generic-associated-type-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspecialization%2Fdeafult-generic-associated-type-bound.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -24,7 +24,6 @@ LL |     type U<'a>: PartialEq<&'a Self>;\n LL |     default type U<'a> = &'a T;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^ no implementation for `T == T`\n    |\n-   = help: the trait `std::cmp::PartialEq` is not implemented for `T`\n    = note: required because of the requirements on the impl of `std::cmp::PartialEq` for `&'a T`\n help: consider further restricting this bound\n    |"}, {"sha": "52d3aefe125c03b6bd374a543283c33eae17eabc", "filename": "src/test/ui/str/str-array-assignment.stderr", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fstr%2Fstr-array-assignment.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fstr%2Fstr-array-assignment.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstr%2Fstr-array-assignment.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -19,14 +19,15 @@ error[E0277]: the size for values of type `str` cannot be known at compilation t\n   --> $DIR/str-array-assignment.rs:7:7\n    |\n LL |   let v = s[..2];\n-   |       ^   ------ help: consider borrowing here: `&s[..2]`\n-   |       |\n-   |       doesn't have a size known at compile-time\n+   |       ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: consider borrowing here\n+   |\n+LL |   let v = &s[..2];\n+   |           ^\n \n error[E0308]: mismatched types\n   --> $DIR/str-array-assignment.rs:9:17"}, {"sha": "7c834165e7f1c1c96abe76392e7ff059e7bb02b1", "filename": "src/test/ui/str/str-mut-idx.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fstr%2Fstr-mut-idx.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fstr%2Fstr-mut-idx.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstr%2Fstr-mut-idx.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -8,7 +8,6 @@ LL |     s[1..2] = bot();\n    |               ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | fn bot<T: ?Sized>() -> T { loop {} }\n@@ -21,7 +20,6 @@ LL |     s[1..2] = bot();\n    |     ^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: the left-hand-side of an assignment must have a statically known size\n \n error[E0277]: the type `str` cannot be indexed by `usize`"}, {"sha": "8dab8add80b8ab0b12dcd9428aacc4ad0b648cfd", "filename": "src/test/ui/substs-ppaux.normal.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsubsts-ppaux.normal.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsubsts-ppaux.normal.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsubsts-ppaux.normal.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -80,7 +80,6 @@ LL |     <str as Foo<u8>>::bar;\n    |     ^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because of the requirements on the impl of `Foo<'_, '_, u8>` for `str`\n \n error: aborting due to 5 previous errors"}, {"sha": "a40d5e4bf7ba13a2f7c21eb5001aff0cedc5a212", "filename": "src/test/ui/substs-ppaux.verbose.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsubsts-ppaux.verbose.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsubsts-ppaux.verbose.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsubsts-ppaux.verbose.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -80,7 +80,6 @@ LL |     <str as Foo<u8>>::bar;\n    |     ^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because of the requirements on the impl of `Foo<'_#0r, '_#1r, u8>` for `str`\n \n error: aborting due to 5 previous errors"}, {"sha": "f4c0d0f96c428af0922d047fb84ee5c1049b6422", "filename": "src/test/ui/suggestions/adt-param-with-implicit-sized-bound.stderr", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsuggestions%2Fadt-param-with-implicit-sized-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsuggestions%2Fadt-param-with-implicit-sized-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fadt-param-with-implicit-sized-bound.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,16 +1,14 @@\n error[E0277]: the size for values of type `T` cannot be known at compilation time\n-  --> $DIR/adt-param-with-implicit-sized-bound.rs:25:5\n+  --> $DIR/adt-param-with-implicit-sized-bound.rs:25:9\n    |\n LL | struct X<T>(T);\n    |          - required by this bound in `X`\n ...\n LL | struct Struct5<T: ?Sized>{\n    |                - this type parameter needs to be `std::marker::Sized`\n LL |     _t: X<T>,\n-   |     ^^^^^^^^ doesn't have a size known at compile-time\n+   |         ^^^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `T` if it were used through indirection like `&T` or `Box<T>`\n   --> $DIR/adt-param-with-implicit-sized-bound.rs:18:10\n    |\n@@ -28,8 +26,6 @@ LL |     fn func1() -> Struct1<Self>;\n LL | struct Struct1<T>{\n    |                - required by this bound in `Struct1`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider further restricting `Self`\n    |\n LL |     fn func1() -> Struct1<Self> where Self: std::marker::Sized;\n@@ -48,8 +44,6 @@ LL |     fn func2<'a>() -> Struct2<'a, Self>;\n LL | struct Struct2<'a, T>{\n    |                    - required by this bound in `Struct2`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider further restricting `Self`\n    |\n LL |     fn func2<'a>() -> Struct2<'a, Self> where Self: std::marker::Sized;\n@@ -68,8 +62,6 @@ LL |     fn func3() -> Struct3<Self>;\n LL | struct Struct3<T>{\n    |                - required by this bound in `Struct3`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `T` if it were used through indirection like `&T` or `Box<T>`\n   --> $DIR/adt-param-with-implicit-sized-bound.rs:14:16\n    |\n@@ -91,8 +83,6 @@ LL |     fn func4() -> Struct4<Self>;\n LL | struct Struct4<T>{\n    |                - required by this bound in `Struct4`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Self`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider further restricting `Self`\n    |\n LL |     fn func4() -> Struct4<Self> where Self: std::marker::Sized;"}, {"sha": "2b7c29e20cd31092e670f09108329e26518b5394", "filename": "src/test/ui/suggestions/path-by-value.stderr", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsuggestions%2Fpath-by-value.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsuggestions%2Fpath-by-value.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fpath-by-value.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -2,13 +2,15 @@ error[E0277]: the size for values of type `[u8]` cannot be known at compilation\n   --> $DIR/path-by-value.rs:3:6\n    |\n LL | fn f(p: Path) { }\n-   |      ^ borrow the `Path` instead\n+   |      ^ doesn't have a size known at compile-time\n    |\n    = help: within `std::path::Path`, the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `std::path::Path`\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn f(p: &Path) { }\n+   |         ^\n \n error: aborting due to previous error\n "}, {"sha": "33af13d943f74d97d6fd393355c594eb0721b3b2", "filename": "src/test/ui/suggestions/restrict-type-argument.stderr", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsuggestions%2Frestrict-type-argument.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fsuggestions%2Frestrict-type-argument.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Frestrict-type-argument.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL | fn is_send<T: Send>(val: T) {}\n LL |     is_send(val);\n    |             ^^^ `impl Sync` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `impl Sync`\n help: consider further restricting this bound\n    |\n LL | fn use_impl_sync(val: impl Sync + std::marker::Send) {\n@@ -22,7 +21,6 @@ LL | fn is_send<T: Send>(val: T) {}\n LL |     is_send(val);\n    |             ^^^ `S` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `S`\n help: consider further restricting this bound\n    |\n LL | fn use_where<S>(val: S) where S: Sync + std::marker::Send {\n@@ -37,7 +35,6 @@ LL | fn is_send<T: Send>(val: T) {}\n LL |     is_send(val);\n    |             ^^^ `S` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `S`\n help: consider further restricting this bound\n    |\n LL | fn use_bound<S: Sync + std::marker::Send>(val: S) {\n@@ -52,7 +49,6 @@ LL | fn is_send<T: Send>(val: T) {}\n LL |     is_send(val);\n    |             ^^^ `S` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `S`\n help: consider further restricting this bound\n    |\n LL |     Sync + std::marker::Send\n@@ -67,7 +63,6 @@ LL | fn is_send<T: Send>(val: T) {}\n LL |     is_send(val);\n    |             ^^^ `S` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `S`\n help: consider further restricting this bound\n    |\n LL | fn use_bound_and_where<S: Sync>(val: S) where S: std::fmt::Debug + std::marker::Send {\n@@ -82,7 +77,6 @@ LL | fn is_send<T: Send>(val: T) {}\n LL |     is_send(val);\n    |             ^^^ `S` cannot be sent between threads safely\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `S`\n help: consider restricting type parameter `S`\n    |\n LL | fn use_unbound<S: std::marker::Send>(val: S) {"}, {"sha": "324316ceaf6badf19550dcb900a6355378e1fdd9", "filename": "src/test/ui/traits/cycle-cache-err-60010.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Fcycle-cache-err-60010.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Fcycle-cache-err-60010.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fcycle-cache-err-60010.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,8 +1,8 @@\n error[E0275]: overflow evaluating the requirement `RootDatabase: SourceDatabase`\n-  --> $DIR/cycle-cache-err-60010.rs:27:5\n+  --> $DIR/cycle-cache-err-60010.rs:27:13\n    |\n LL |     _parse: <ParseQuery as Query<RootDatabase>>::Data,\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: required because of the requirements on the impl of `Query<RootDatabase>` for `ParseQuery`\n "}, {"sha": "daca91abff8433fc9573cf8b44951a1ac0896e1c", "filename": "src/test/ui/traits/trait-bounds-not-on-bare-trait.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Ftrait-bounds-not-on-bare-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Ftrait-bounds-not-on-bare-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-bounds-not-on-bare-trait.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -13,9 +13,11 @@ LL | fn foo(_x: Foo + Send) {\n    |        ^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn Foo + std::marker::Send + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn foo(_x: &Foo + Send) {\n+   |            ^\n \n error: aborting due to previous error; 1 warning emitted\n "}, {"sha": "d7549835a09051c5e433291322160acc13ef62eb", "filename": "src/test/ui/traits/trait-bounds-on-structs-and-enums.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Ftrait-bounds-on-structs-and-enums.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Ftrait-bounds-on-structs-and-enums.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-bounds-on-structs-and-enums.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -13,13 +13,13 @@ LL | impl<T: Trait> Foo<T> {\n    |       ^^^^^^^\n \n error[E0277]: the trait bound `isize: Trait` is not satisfied\n-  --> $DIR/trait-bounds-on-structs-and-enums.rs:19:5\n+  --> $DIR/trait-bounds-on-structs-and-enums.rs:19:8\n    |\n LL | struct Foo<T:Trait> {\n    |              ----- required by this bound in `Foo`\n ...\n LL |     a: Foo<isize>,\n-   |     ^^^^^^^^^^^^^ the trait `Trait` is not implemented for `isize`\n+   |        ^^^^^^^^^^ the trait `Trait` is not implemented for `isize`\n \n error[E0277]: the trait bound `usize: Trait` is not satisfied\n   --> $DIR/trait-bounds-on-structs-and-enums.rs:23:10\n@@ -31,13 +31,13 @@ LL |     Quux(Bar<usize>),\n    |          ^^^^^^^^^^ the trait `Trait` is not implemented for `usize`\n \n error[E0277]: the trait bound `U: Trait` is not satisfied\n-  --> $DIR/trait-bounds-on-structs-and-enums.rs:27:5\n+  --> $DIR/trait-bounds-on-structs-and-enums.rs:27:8\n    |\n LL | struct Foo<T:Trait> {\n    |              ----- required by this bound in `Foo`\n ...\n LL |     b: Foo<U>,\n-   |     ^^^^^^^^^ the trait `Trait` is not implemented for `U`\n+   |        ^^^^^^ the trait `Trait` is not implemented for `U`\n    |\n help: consider restricting type parameter `U`\n    |\n@@ -68,13 +68,13 @@ LL |     Foo<i32>,\n    |     ^^^^^^^^ the trait `Trait` is not implemented for `i32`\n \n error[E0277]: the trait bound `u8: Trait` is not satisfied\n-  --> $DIR/trait-bounds-on-structs-and-enums.rs:39:22\n+  --> $DIR/trait-bounds-on-structs-and-enums.rs:39:29\n    |\n LL | enum Bar<T:Trait> {\n    |            ----- required by this bound in `Bar`\n ...\n LL |     DictionaryLike { field: Bar<u8> },\n-   |                      ^^^^^^^^^^^^^^ the trait `Trait` is not implemented for `u8`\n+   |                             ^^^^^^^ the trait `Trait` is not implemented for `u8`\n \n error: aborting due to 7 previous errors\n "}, {"sha": "86a313baa5c385ad1fd47b4bf4c7ddd4a5767f86", "filename": "src/test/ui/traits/trait-suggest-where-clause.stderr", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Ftrait-suggest-where-clause.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftraits%2Ftrait-suggest-where-clause.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-suggest-where-clause.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -11,9 +11,6 @@ LL |     mem::size_of::<U>();\n    |\n LL | pub const fn size_of<T>() -> usize {\n    |                      - required by this bound in `std::mem::size_of`\n-   |\n-   = help: the trait `std::marker::Sized` is not implemented for `U`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error[E0277]: the size for values of type `U` cannot be known at compilation time\n   --> $DIR/trait-suggest-where-clause.rs:10:5\n@@ -29,8 +26,6 @@ LL |     mem::size_of::<Misc<U>>();\n LL | pub const fn size_of<T>() -> usize {\n    |                      - required by this bound in `std::mem::size_of`\n    |\n-   = help: within `Misc<U>`, the trait `std::marker::Sized` is not implemented for `U`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Misc<U>`\n \n error[E0277]: the trait bound `u64: std::convert::From<T>` is not satisfied\n@@ -69,7 +64,6 @@ LL | pub const fn size_of<T>() -> usize {\n    |                      - required by this bound in `std::mem::size_of`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[T]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error[E0277]: the size for values of type `[&U]` cannot be known at compilation time\n   --> $DIR/trait-suggest-where-clause.rs:31:5\n@@ -83,7 +77,6 @@ LL | pub const fn size_of<T>() -> usize {\n    |                      - required by this bound in `std::mem::size_of`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[&U]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to 7 previous errors\n "}, {"sha": "4f4695612de0b9dea8c73400ed097b1a1de3df77", "filename": "src/test/ui/trivial-bounds/trivial-bounds-leak.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftrivial-bounds%2Ftrivial-bounds-leak.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftrivial-bounds%2Ftrivial-bounds-leak.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftrivial-bounds%2Ftrivial-bounds-leak.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL | fn cant_return_str() -> str {\n    |                         ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: the return type of a function must have a statically known size\n \n error[E0599]: no method named `test` found for type `i32` in the current scope"}, {"sha": "28e30cbdd9d967c8782cc09adbd547de6fd338ab", "filename": "src/test/ui/type-alias-impl-trait/generic_underconstrained2.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -19,7 +19,6 @@ LL | type Underconstrained<T: std::fmt::Debug> = impl 'static;\n LL |     5u32\n    |     ---- this returned value is of type `u32`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `U`\n    = note: the return type of a function must have a statically known size\n help: consider restricting type parameter `U`\n    |\n@@ -35,7 +34,6 @@ LL | type Underconstrained2<T: std::fmt::Debug> = impl 'static;\n LL |     5u32\n    |     ---- this returned value is of type `u32`\n    |\n-   = help: the trait `std::fmt::Debug` is not implemented for `V`\n    = note: the return type of a function must have a statically known size\n help: consider restricting type parameter `V`\n    |"}, {"sha": "7398b48a238d1c7c31022c78a39a13fa2f0a3fb4", "filename": "src/test/ui/typeck/typeck-default-trait-impl-send-param.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftypeck%2Ftypeck-default-trait-impl-send-param.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Ftypeck%2Ftypeck-default-trait-impl-send-param.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Ftypeck-default-trait-impl-send-param.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,7 +7,6 @@ LL |     is_send::<T>()\n LL | fn is_send<T:Send>() {\n    |              ---- required by this bound in `is_send`\n    |\n-   = help: the trait `std::marker::Send` is not implemented for `T`\n help: consider restricting type parameter `T`\n    |\n LL | fn foo<T: std::marker::Send>() {"}, {"sha": "b916bbe8ad10a3deedaf7a5e30f613d613d856e3", "filename": "src/test/ui/union/union-sized-field.stderr", "status": "modified", "additions": 31, "deletions": 10, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funion%2Funion-sized-field.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funion%2Funion-sized-field.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funion%2Funion-sized-field.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,26 +1,40 @@\n error[E0277]: the size for values of type `T` cannot be known at compilation time\n-  --> $DIR/union-sized-field.rs:4:5\n+  --> $DIR/union-sized-field.rs:4:12\n    |\n LL | union Foo<T: ?Sized> {\n    |           - this type parameter needs to be `std::marker::Sized`\n LL |     value: T,\n-   |     ^^^^^^^^ doesn't have a size known at compile-time\n+   |            ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of a union may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     value: &T,\n+   |            ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     value: Box<T>,\n+   |            ^^^^ ^\n \n error[E0277]: the size for values of type `T` cannot be known at compilation time\n-  --> $DIR/union-sized-field.rs:9:5\n+  --> $DIR/union-sized-field.rs:9:12\n    |\n LL | struct Foo2<T: ?Sized> {\n    |             - this type parameter needs to be `std::marker::Sized`\n LL |     value: T,\n-   |     ^^^^^^^^ doesn't have a size known at compile-time\n+   |            ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last field of a struct may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     value: &T,\n+   |            ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     value: Box<T>,\n+   |            ^^^^ ^\n \n error[E0277]: the size for values of type `T` cannot be known at compilation time\n   --> $DIR/union-sized-field.rs:15:11\n@@ -30,9 +44,16 @@ LL | enum Foo3<T: ?Sized> {\n LL |     Value(T),\n    |           ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     Value(&T),\n+   |           ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     Value(Box<T>),\n+   |           ^^^^ ^\n \n error: aborting due to 3 previous errors\n "}, {"sha": "f62a3b4d14b974c3c417fe22a54122c5f9ca4b75", "filename": "src/test/ui/union/union-unsized.stderr", "status": "modified", "additions": 22, "deletions": 6, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funion%2Funion-unsized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funion%2Funion-unsized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funion%2Funion-unsized.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,22 +1,38 @@\n error[E0277]: the size for values of type `str` cannot be known at compilation time\n-  --> $DIR/union-unsized.rs:4:5\n+  --> $DIR/union-unsized.rs:4:8\n    |\n LL |     a: str,\n-   |     ^^^^^^ doesn't have a size known at compile-time\n+   |        ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of a union may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     a: &str,\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     a: Box<str>,\n+   |        ^^^^   ^\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n-  --> $DIR/union-unsized.rs:12:5\n+  --> $DIR/union-unsized.rs:12:8\n    |\n LL |     b: str,\n-   |     ^^^^^^ doesn't have a size known at compile-time\n+   |        ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of a union may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     b: &str,\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     b: Box<str>,\n+   |        ^^^^   ^\n \n error: aborting due to 2 previous errors\n "}, {"sha": "2ed35dc0e2c12202403cccaecbab212b7814e00b", "filename": "src/test/ui/unsized-locals/issue-30276-feature-flagged.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-30276-feature-flagged.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-30276-feature-flagged.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-30276-feature-flagged.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     let _x: fn(_) -> Test = Test;\n    |                             ^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Test`, the trait `std::marker::Sized` is not implemented for `[i32]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Test`\n    = note: the return type of a function must have a statically known size\n "}, {"sha": "461efcf3dbf292d5c6014fc6b36eaff73aad8bee", "filename": "src/test/ui/unsized-locals/issue-30276.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-30276.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-30276.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-30276.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     let _x: fn(_) -> Test = Test;\n    |                             ^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[i32]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n "}, {"sha": "04a8de1b5dc5b4ccfc9fdacc528f8f82a02923d1", "filename": "src/test/ui/unsized-locals/issue-50940-with-feature.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     A as fn(str) -> A<str>;\n    |     ^ doesn't have a size known at compile-time\n    |\n    = help: within `main::A<str>`, the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `main::A<str>`\n    = note: the return type of a function must have a statically known size\n "}, {"sha": "8e5f753082734ee55df4a3293c7c703a62de06da", "filename": "src/test/ui/unsized-locals/issue-50940.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     A as fn(str) -> A<str>;\n    |     ^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n "}, {"sha": "0a9b43dac334494c4ef9cee3a87d20cf018f59b4", "filename": "src/test/ui/unsized-locals/unsized-exprs.stderr", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Funsized-exprs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Funsized-exprs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Funsized-exprs.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     udrop::<(i32, [u8])>((42, *foo()));\n    |                          ^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `({integer}, [u8])`, the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `({integer}, [u8])`\n    = note: tuples must have a statically known size to be initialized\n \n@@ -16,7 +15,6 @@ LL |     udrop::<A<[u8]>>(A { 0: *foo() });\n    |                      ^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `A<[u8]>`, the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `A<[u8]>`\n    = note: structs must have a statically known size to be initialized\n \n@@ -27,7 +25,6 @@ LL |     udrop::<A<[u8]>>(A(*foo()));\n    |                      ^ doesn't have a size known at compile-time\n    |\n    = help: within `A<[u8]>`, the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `A<[u8]>`\n    = note: the return type of a function must have a statically known size\n "}, {"sha": "11435ec0353bc68ae6b35a3374c2cdf6cd9d1255", "filename": "src/test/ui/unsized-locals/unsized-exprs3.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Funsized-exprs3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized-locals%2Funsized-exprs3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Funsized-exprs3.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     udrop as fn([u8]);\n    |     ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all function arguments must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n "}, {"sha": "19978ae24cacb75094e17314ebb342ff3f91ab4c", "filename": "src/test/ui/unsized/unsized-bare-typaram.stderr", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-bare-typaram.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-bare-typaram.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-bare-typaram.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,9 +7,6 @@ LL | fn foo<T: ?Sized>() { bar::<T>() }\n    |        -                    ^ doesn't have a size known at compile-time\n    |        |\n    |        this type parameter needs to be `std::marker::Sized`\n-   |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n \n error: aborting due to previous error\n "}, {"sha": "fdfdb9b4e2a5b636be8a0c62a44aac7d0adfa57b", "filename": "src/test/ui/unsized/unsized-enum.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-enum.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-enum.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-enum.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | fn foo2<T: ?Sized>() { not_sized::<Foo<T>>() }\n    |         |\n    |         this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `U` if it were used through indirection like `&U` or `Box<U>`\n   --> $DIR/unsized-enum.rs:4:10\n    |"}, {"sha": "988c310167682affcebaabbc6c10927aaabdcda3", "filename": "src/test/ui/unsized/unsized-enum2.stderr", "status": "modified", "additions": 200, "deletions": 44, "changes": 244, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-enum2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-enum2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-enum2.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,22 +7,36 @@ LL |     // parameter\n LL |     VA(W),\n    |        ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `W`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VA(&W),\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VA(Box<W>),\n+   |        ^^^^ ^\n \n error[E0277]: the size for values of type `X` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:25:8\n+  --> $DIR/unsized-enum2.rs:25:11\n    |\n LL | enum E<W: ?Sized, X: ?Sized, Y: ?Sized, Z: ?Sized> {\n    |                   - this type parameter needs to be `std::marker::Sized`\n ...\n LL |     VB{x: X},\n-   |        ^^^^ doesn't have a size known at compile-time\n+   |           ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VB{x: &X},\n+   |           ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VB{x: Box<X>},\n+   |           ^^^^ ^\n \n error[E0277]: the size for values of type `Y` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:27:15\n@@ -33,22 +47,36 @@ LL | enum E<W: ?Sized, X: ?Sized, Y: ?Sized, Z: ?Sized> {\n LL |     VC(isize, Y),\n    |               ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Y`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VC(isize, &Y),\n+   |               ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VC(isize, Box<Y>),\n+   |               ^^^^ ^\n \n error[E0277]: the size for values of type `Z` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:29:18\n+  --> $DIR/unsized-enum2.rs:29:21\n    |\n LL | enum E<W: ?Sized, X: ?Sized, Y: ?Sized, Z: ?Sized> {\n    |                                         - this type parameter needs to be `std::marker::Sized`\n ...\n LL |     VD{u: isize, x: Z},\n-   |                  ^^^^ doesn't have a size known at compile-time\n+   |                     ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Z`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VD{u: isize, x: &Z},\n+   |                     ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VD{u: isize, x: Box<Z>},\n+   |                     ^^^^ ^\n \n error[E0277]: the size for values of type `[u8]` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:33:8\n@@ -57,18 +85,34 @@ LL |     VE([u8]),\n    |        ^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VE(&[u8]),\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VE(Box<[u8]>),\n+   |        ^^^^    ^\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:35:8\n+  --> $DIR/unsized-enum2.rs:35:11\n    |\n LL |     VF{x: str},\n-   |        ^^^^^^ doesn't have a size known at compile-time\n+   |           ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VF{x: &str},\n+   |           ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VF{x: Box<str>},\n+   |           ^^^^   ^\n \n error[E0277]: the size for values of type `[f32]` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:37:15\n@@ -77,18 +121,34 @@ LL |     VG(isize, [f32]),\n    |               ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[f32]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VG(isize, &[f32]),\n+   |               ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VG(isize, Box<[f32]>),\n+   |               ^^^^     ^\n \n error[E0277]: the size for values of type `[u32]` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:39:18\n+  --> $DIR/unsized-enum2.rs:39:21\n    |\n LL |     VH{u: isize, x: [u32]},\n-   |                  ^^^^^^^^ doesn't have a size known at compile-time\n+   |                     ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u32]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VH{u: isize, x: &[u32]},\n+   |                     ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VH{u: isize, x: Box<[u32]>},\n+   |                     ^^^^     ^\n \n error[E0277]: the size for values of type `(dyn Foo + 'static)` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:53:8\n@@ -97,18 +157,34 @@ LL |     VM(dyn Foo),\n    |        ^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn Foo + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VM(&dyn Foo),\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VM(Box<dyn Foo>),\n+   |        ^^^^       ^\n \n error[E0277]: the size for values of type `(dyn Bar + 'static)` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:55:8\n+  --> $DIR/unsized-enum2.rs:55:11\n    |\n LL |     VN{x: dyn Bar},\n-   |        ^^^^^^^^^^ doesn't have a size known at compile-time\n+   |           ^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn Bar + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VN{x: &dyn Bar},\n+   |           ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VN{x: Box<dyn Bar>},\n+   |           ^^^^       ^\n \n error[E0277]: the size for values of type `(dyn FooBar + 'static)` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:57:15\n@@ -117,18 +193,34 @@ LL |     VO(isize, dyn FooBar),\n    |               ^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn FooBar + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VO(isize, &dyn FooBar),\n+   |               ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VO(isize, Box<dyn FooBar>),\n+   |               ^^^^          ^\n \n error[E0277]: the size for values of type `(dyn BarFoo + 'static)` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:59:18\n+  --> $DIR/unsized-enum2.rs:59:21\n    |\n LL |     VP{u: isize, x: dyn BarFoo},\n-   |                  ^^^^^^^^^^^^^ doesn't have a size known at compile-time\n+   |                     ^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn BarFoo + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VP{u: isize, x: &dyn BarFoo},\n+   |                     ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VP{u: isize, x: Box<dyn BarFoo>},\n+   |                     ^^^^          ^\n \n error[E0277]: the size for values of type `[i8]` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:63:8\n@@ -137,18 +229,34 @@ LL |     VQ(<&'static [i8] as Deref>::Target),\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[i8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VQ(&<&'static [i8] as Deref>::Target),\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VQ(Box<<&'static [i8] as Deref>::Target>),\n+   |        ^^^^                                ^\n \n error[E0277]: the size for values of type `[char]` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:65:8\n+  --> $DIR/unsized-enum2.rs:65:11\n    |\n LL |     VR{x: <&'static [char] as Deref>::Target},\n-   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n+   |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[char]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VR{x: &<&'static [char] as Deref>::Target},\n+   |           ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VR{x: Box<<&'static [char] as Deref>::Target>},\n+   |           ^^^^                                  ^\n \n error[E0277]: the size for values of type `[f64]` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:67:15\n@@ -157,18 +265,34 @@ LL |     VS(isize, <&'static [f64] as Deref>::Target),\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[f64]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VS(isize, &<&'static [f64] as Deref>::Target),\n+   |               ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VS(isize, Box<<&'static [f64] as Deref>::Target>),\n+   |               ^^^^                                 ^\n \n error[E0277]: the size for values of type `[i32]` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:69:18\n+  --> $DIR/unsized-enum2.rs:69:21\n    |\n LL |     VT{u: isize, x: <&'static [i32] as Deref>::Target},\n-   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n+   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[i32]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VT{u: isize, x: &<&'static [i32] as Deref>::Target},\n+   |                     ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VT{u: isize, x: Box<<&'static [i32] as Deref>::Target>},\n+   |                     ^^^^                                 ^\n \n error[E0277]: the size for values of type `(dyn PathHelper1 + 'static)` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:43:8\n@@ -177,20 +301,36 @@ LL |     VI(Path1),\n    |        ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Path1`, the trait `std::marker::Sized` is not implemented for `(dyn PathHelper1 + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Path1`\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VI(&Path1),\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VI(Box<Path1>),\n+   |        ^^^^     ^\n \n error[E0277]: the size for values of type `(dyn PathHelper2 + 'static)` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:45:8\n+  --> $DIR/unsized-enum2.rs:45:11\n    |\n LL |     VJ{x: Path2},\n-   |        ^^^^^^^^ doesn't have a size known at compile-time\n+   |           ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Path2`, the trait `std::marker::Sized` is not implemented for `(dyn PathHelper2 + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Path2`\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VJ{x: &Path2},\n+   |           ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VJ{x: Box<Path2>},\n+   |           ^^^^     ^\n \n error[E0277]: the size for values of type `(dyn PathHelper3 + 'static)` cannot be known at compilation time\n   --> $DIR/unsized-enum2.rs:47:15\n@@ -199,20 +339,36 @@ LL |     VK(isize, Path3),\n    |               ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Path3`, the trait `std::marker::Sized` is not implemented for `(dyn PathHelper3 + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Path3`\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VK(isize, &Path3),\n+   |               ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VK(isize, Box<Path3>),\n+   |               ^^^^     ^\n \n error[E0277]: the size for values of type `(dyn PathHelper4 + 'static)` cannot be known at compilation time\n-  --> $DIR/unsized-enum2.rs:49:18\n+  --> $DIR/unsized-enum2.rs:49:21\n    |\n LL |     VL{u: isize, x: Path4},\n-   |                  ^^^^^^^^ doesn't have a size known at compile-time\n+   |                     ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: within `Path4`, the trait `std::marker::Sized` is not implemented for `(dyn PathHelper4 + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Path4`\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     VL{u: isize, x: &Path4},\n+   |                     ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     VL{u: isize, x: Box<Path4>},\n+   |                     ^^^^     ^\n \n error: aborting due to 20 previous errors\n "}, {"sha": "6b54db7148a749cb81b5f298a20de9bb35f53c42", "filename": "src/test/ui/unsized/unsized-fn-param.stderr", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-fn-param.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-fn-param.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-fn-param.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -5,7 +5,6 @@ LL |     foo11(\"bar\", &\"baz\");\n    |           ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn std::convert::AsRef<std::path::Path>`\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n@@ -15,7 +14,6 @@ LL |     foo12(&\"bar\", \"baz\");\n    |                   ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn std::convert::AsRef<std::path::Path>`\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n@@ -25,7 +23,6 @@ LL |     foo21(\"bar\", &\"baz\");\n    |           ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn std::convert::AsRef<str>`\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n@@ -35,7 +32,6 @@ LL |     foo22(&\"bar\", \"baz\");\n    |                   ^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required for the cast to the object type `dyn std::convert::AsRef<str>`\n \n error: aborting due to 4 previous errors"}, {"sha": "50b54593f3aa149460594ac2bb50cfb207e10d95", "filename": "src/test/ui/unsized/unsized-inherent-impl-self-type.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-inherent-impl-self-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-inherent-impl-self-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-inherent-impl-self-type.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | impl<X: ?Sized> S5<X> {\n    |      |\n    |      this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `Y` if it were used through indirection like `&Y` or `Box<Y>`\n   --> $DIR/unsized-inherent-impl-self-type.rs:5:11\n    |"}, {"sha": "0c8529bf1a9af43148872913ca3876254ebf5e74", "filename": "src/test/ui/unsized/unsized-struct.stderr", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-struct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-struct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-struct.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | fn foo2<T: ?Sized>() { not_sized::<Foo<T>>() }\n    |         |\n    |         this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `T` if it were used through indirection like `&T` or `Box<T>`\n   --> $DIR/unsized-struct.rs:4:12\n    |\n@@ -30,8 +28,6 @@ LL | fn bar2<T: ?Sized>() { is_sized::<Bar<T>>() }\n    |         |\n    |         this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: within `Bar<T>`, the trait `std::marker::Sized` is not implemented for `T`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `Bar<T>`\n \n error: aborting due to 2 previous errors"}, {"sha": "4514208a90dc9a5cfe0955dc0c94fc73193c1485", "filename": "src/test/ui/unsized/unsized-trait-impl-self-type.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-trait-impl-self-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-trait-impl-self-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-trait-impl-self-type.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | impl<X: ?Sized> T3<X> for S5<X> {\n    |      |\n    |      this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `Y` if it were used through indirection like `&Y` or `Box<Y>`\n   --> $DIR/unsized-trait-impl-self-type.rs:8:11\n    |"}, {"sha": "f48d4ef9f14617b98ffb8ef017c49dbf9f5516b6", "filename": "src/test/ui/unsized/unsized-trait-impl-trait-arg.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-trait-impl-trait-arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized%2Funsized-trait-impl-trait-arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized%2Funsized-trait-impl-trait-arg.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | impl<X: ?Sized> T2<X> for S4<X> {\n    |      |\n    |      this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | trait T2<Z: ?Sized> {"}, {"sha": "ddddae4eaba57cf51d1094b02b3e0d5066210125", "filename": "src/test/ui/unsized3.stderr", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized3.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL |     f2::<X>(x);\n LL | fn f2<X>(x: &X) {\n    |       - required by this bound in `f2`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | fn f2<X: ?Sized>(x: &X) {\n@@ -27,8 +25,6 @@ LL |     f4::<X>(x);\n LL | fn f4<X: T>(x: &X) {\n    |       - required by this bound in `f4`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | fn f4<X: T + ?Sized>(x: &X) {\n@@ -45,8 +41,6 @@ LL | fn f8<X: ?Sized>(x1: &S<X>, x2: &S<X>) {\n LL |     f5(x1);\n    |        ^^ doesn't have a size known at compile-time\n    |\n-   = help: within `S<X>`, the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `S<X>`\n help: consider relaxing the implicit `Sized` restriction\n    |\n@@ -61,8 +55,6 @@ LL | fn f9<X: ?Sized>(x1: Box<S<X>>) {\n LL |     f5(&(*x1, 34));\n    |        ^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: within `S<X>`, the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `S<X>`\n    = note: only the last element of a tuple may have a dynamically sized type\n \n@@ -74,8 +66,6 @@ LL | fn f10<X: ?Sized>(x1: Box<S<X>>) {\n LL |     f5(&(32, *x1));\n    |         ^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: within `({integer}, S<X>)`, the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `S<X>`\n    = note: required because it appears within the type `({integer}, S<X>)`\n    = note: tuples must have a statically known size to be initialized\n@@ -91,8 +81,6 @@ LL | fn f10<X: ?Sized>(x1: Box<S<X>>) {\n LL |     f5(&(32, *x1));\n    |        ^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: within `({integer}, S<X>)`, the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: required because it appears within the type `S<X>`\n    = note: required because it appears within the type `({integer}, S<X>)`\n help: consider relaxing the implicit `Sized` restriction"}, {"sha": "3fd0b429becc186fd39609cdd341a58f7fa7ffbe", "filename": "src/test/ui/unsized5.stderr", "status": "modified", "additions": 64, "deletions": 20, "changes": 84, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized5.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized5.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized5.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,47 +1,77 @@\n error[E0277]: the size for values of type `X` cannot be known at compilation time\n-  --> $DIR/unsized5.rs:4:5\n+  --> $DIR/unsized5.rs:4:9\n    |\n LL | struct S1<X: ?Sized> {\n    |           - this type parameter needs to be `std::marker::Sized`\n LL |     f1: X,\n-   |     ^^^^^ doesn't have a size known at compile-time\n+   |         ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last field of a struct may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     f1: &X,\n+   |         ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     f1: Box<X>,\n+   |         ^^^^ ^\n \n error[E0277]: the size for values of type `X` cannot be known at compilation time\n-  --> $DIR/unsized5.rs:10:5\n+  --> $DIR/unsized5.rs:10:8\n    |\n LL | struct S2<X: ?Sized> {\n    |           - this type parameter needs to be `std::marker::Sized`\n LL |     f: isize,\n LL |     g: X,\n-   |     ^^^^ doesn't have a size known at compile-time\n+   |        ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last field of a struct may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     g: &X,\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     g: Box<X>,\n+   |        ^^^^ ^\n \n error[E0277]: the size for values of type `str` cannot be known at compilation time\n-  --> $DIR/unsized5.rs:15:5\n+  --> $DIR/unsized5.rs:15:8\n    |\n LL |     f: str,\n-   |     ^^^^^^ doesn't have a size known at compile-time\n+   |        ^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `str`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last field of a struct may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     f: &str,\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     f: Box<str>,\n+   |        ^^^^   ^\n \n error[E0277]: the size for values of type `[u8]` cannot be known at compilation time\n-  --> $DIR/unsized5.rs:20:5\n+  --> $DIR/unsized5.rs:20:8\n    |\n LL |     f: [u8],\n-   |     ^^^^^^^ doesn't have a size known at compile-time\n+   |        ^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last field of a struct may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     f: &[u8],\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     f: Box<[u8]>,\n+   |        ^^^^    ^\n \n error[E0277]: the size for values of type `X` cannot be known at compilation time\n   --> $DIR/unsized5.rs:25:8\n@@ -51,21 +81,35 @@ LL | enum E<X: ?Sized> {\n LL |     V1(X, isize),\n    |        ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     V1(&X, isize),\n+   |        ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     V1(Box<X>, isize),\n+   |        ^^^^ ^\n \n error[E0277]: the size for values of type `X` cannot be known at compilation time\n-  --> $DIR/unsized5.rs:29:8\n+  --> $DIR/unsized5.rs:29:12\n    |\n LL | enum F<X: ?Sized> {\n    |        - this type parameter needs to be `std::marker::Sized`\n LL |     V2{f1: X, f: isize},\n-   |        ^^^^^ doesn't have a size known at compile-time\n+   |            ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: no field of an enum variant may have a dynamically sized type\n+   = help: change the field's type to have a statically known size\n+help: borrowed types always have a statically known size\n+   |\n+LL |     V2{f1: &X, f: isize},\n+   |            ^\n+help: the `Box` type always has a statically known size and allocates its contents in the heap\n+   |\n+LL |     V2{f1: Box<X>, f: isize},\n+   |            ^^^^ ^\n \n error: aborting due to 6 previous errors\n "}, {"sha": "f045bfe2444bc8490d32292336a78a2337d879a7", "filename": "src/test/ui/unsized6.stderr", "status": "modified", "additions": 8, "deletions": 28, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized6.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized6.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized6.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -7,8 +7,6 @@ LL | fn f1<W: ?Sized, X: ?Sized, Y: ?Sized, Z: ?Sized>(x: &X) {\n LL |     let y: Y;\n    |         ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Y`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -21,8 +19,6 @@ LL |     let _: W; // <-- this is OK, no bindings created, no initializer.\n LL |     let _: (isize, (X, isize));\n    |            ^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last element of a tuple may have a dynamically sized type\n \n error[E0277]: the size for values of type `Z` cannot be known at compilation time\n@@ -34,8 +30,6 @@ LL | fn f1<W: ?Sized, X: ?Sized, Y: ?Sized, Z: ?Sized>(x: &X) {\n LL |     let y: (isize, (Z, usize));\n    |            ^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Z`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last element of a tuple may have a dynamically sized type\n \n error[E0277]: the size for values of type `X` cannot be known at compilation time\n@@ -46,8 +40,6 @@ LL | fn f2<X: ?Sized, Y: ?Sized>(x: &X) {\n LL |     let y: X;\n    |         ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -60,8 +52,6 @@ LL | fn f2<X: ?Sized, Y: ?Sized>(x: &X) {\n LL |     let y: (isize, (Y, isize));\n    |            ^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `Y`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: only the last element of a tuple may have a dynamically sized type\n \n error[E0277]: the size for values of type `X` cannot be known at compilation time\n@@ -72,8 +62,6 @@ LL | fn f3<X: ?Sized>(x1: Box<X>, x2: Box<X>, x3: Box<X>) {\n LL |     let y: X = *x1;\n    |         ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -86,8 +74,6 @@ LL | fn f3<X: ?Sized>(x1: Box<X>, x2: Box<X>, x3: Box<X>) {\n LL |     let y = *x2;\n    |         ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -100,8 +86,6 @@ LL | fn f3<X: ?Sized>(x1: Box<X>, x2: Box<X>, x3: Box<X>) {\n LL |     let (y, z) = (*x3, 4);\n    |          ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -113,8 +97,6 @@ LL | fn f4<X: ?Sized + T>(x1: Box<X>, x2: Box<X>, x3: Box<X>) {\n LL |     let y: X = *x1;\n    |         ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -127,8 +109,6 @@ LL | fn f4<X: ?Sized + T>(x1: Box<X>, x2: Box<X>, x3: Box<X>) {\n LL |     let y = *x2;\n    |         ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -141,8 +121,6 @@ LL | fn f4<X: ?Sized + T>(x1: Box<X>, x2: Box<X>, x3: Box<X>) {\n LL |     let (y, z) = (*x3, 4);\n    |          ^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n \n@@ -154,10 +132,11 @@ LL | fn g1<X: ?Sized>(x: X) {}\n    |       |\n    |       this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn g1<X: ?Sized>(x: &X) {}\n+   |                     ^\n \n error[E0277]: the size for values of type `X` cannot be known at compilation time\n   --> $DIR/unsized6.rs:40:22\n@@ -167,10 +146,11 @@ LL | fn g2<X: ?Sized + T>(x: X) {}\n    |       |\n    |       this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n-   = note: all local variables must have a statically known size\n    = help: unsized locals are gated as an unstable feature\n+help: function arguments must have a statically known size, borrowed types always have a known size\n+   |\n+LL | fn g2<X: ?Sized + T>(x: &X) {}\n+   |                         ^\n \n error: aborting due to 13 previous errors\n "}, {"sha": "7dbddd4ed24430579ccc44e484b859a91482cb3a", "filename": "src/test/ui/unsized7.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized7.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Funsized7.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized7.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -9,8 +9,6 @@ LL | impl<X: ?Sized + T> T1<X> for S3<X> {\n    |      |\n    |      this type parameter needs to be `std::marker::Sized`\n    |\n-   = help: the trait `std::marker::Sized` is not implemented for `X`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: consider relaxing the implicit `Sized` restriction\n    |\n LL | trait T1<Z: T + ?Sized> {"}, {"sha": "fedec1909fd3374e38132e42dd4c26d6ea5dabd5", "filename": "src/test/ui/wf/wf-array-elem-sized.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-array-elem-sized.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-array-elem-sized.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-array-elem-sized.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,10 @@\n error[E0277]: the size for values of type `[u8]` cannot be known at compilation time\n-  --> $DIR/wf-array-elem-sized.rs:7:5\n+  --> $DIR/wf-array-elem-sized.rs:7:10\n    |\n LL |     foo: [[u8]],\n-   |     ^^^^^^^^^^^ doesn't have a size known at compile-time\n+   |          ^^^^^^ doesn't have a size known at compile-time\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `[u8]`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n    = note: slice and array elements must have `Sized` type\n \n error: aborting due to previous error"}, {"sha": "1eb7010c77a79988e88589ad0f93444f90ec3eb4", "filename": "src/test/ui/wf/wf-enum-fields-struct-variant.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-enum-fields-struct-variant.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-enum-fields-struct-variant.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-enum-fields-struct-variant.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,11 @@\n error[E0277]: the trait bound `A: std::marker::Copy` is not satisfied\n-  --> $DIR/wf-enum-fields-struct-variant.rs:13:9\n+  --> $DIR/wf-enum-fields-struct-variant.rs:13:12\n    |\n LL | struct IsCopy<T:Copy> {\n    |                 ---- required by this bound in `IsCopy`\n ...\n LL |         f: IsCopy<A>\n-   |         ^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `A`\n+   |            ^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `A`\n    |\n help: consider restricting type parameter `A`\n    |"}, {"sha": "938336d3ace76f769d954888bfcb70395c95002c", "filename": "src/test/ui/wf/wf-fn-where-clause.stderr", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-fn-where-clause.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-fn-where-clause.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-fn-where-clause.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -22,7 +22,6 @@ LL | struct Vec<T> {\n    |            - required by this bound in `Vec`\n    |\n    = help: the trait `std::marker::Sized` is not implemented for `(dyn std::marker::Copy + 'static)`\n-   = note: to learn more, visit <https://doc.rust-lang.org/book/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n help: you could relax the implicit `Sized` bound on `T` if it were used through indirection like `&T` or `Box<T>`\n   --> $DIR/wf-fn-where-clause.rs:16:12\n    |"}, {"sha": "212c61e1e5e07336f10cd5dac645d4c0923aac78", "filename": "src/test/ui/wf/wf-in-fn-type-arg.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-arg.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,11 @@\n error[E0277]: the trait bound `T: std::marker::Copy` is not satisfied\n-  --> $DIR/wf-in-fn-type-arg.rs:9:5\n+  --> $DIR/wf-in-fn-type-arg.rs:9:8\n    |\n LL | struct MustBeCopy<T:Copy> {\n    |                     ---- required by this bound in `MustBeCopy`\n ...\n LL |     x: fn(MustBeCopy<T>)\n-   |     ^^^^^^^^^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `T`\n+   |        ^^^^^^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `T`\n    |\n help: consider restricting type parameter `T`\n    |"}, {"sha": "3fb05fe81763bd4f5da0ec4516bd5e1036d7a231", "filename": "src/test/ui/wf/wf-in-fn-type-ret.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-ret.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-ret.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-ret.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,11 @@\n error[E0277]: the trait bound `T: std::marker::Copy` is not satisfied\n-  --> $DIR/wf-in-fn-type-ret.rs:9:5\n+  --> $DIR/wf-in-fn-type-ret.rs:9:8\n    |\n LL | struct MustBeCopy<T:Copy> {\n    |                     ---- required by this bound in `MustBeCopy`\n ...\n LL |     x: fn() -> MustBeCopy<T>\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `T`\n+   |        ^^^^^^^^^^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `T`\n    |\n help: consider restricting type parameter `T`\n    |"}, {"sha": "44cacf4ef4dfe5d75fadd5041c0f93ed50af7178", "filename": "src/test/ui/wf/wf-in-fn-type-static.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-static.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-static.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-in-fn-type-static.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,20 +1,20 @@\n error[E0310]: the parameter type `T` may not live long enough\n-  --> $DIR/wf-in-fn-type-static.rs:13:5\n+  --> $DIR/wf-in-fn-type-static.rs:13:8\n    |\n LL | struct Foo<T> {\n    |            - help: consider adding an explicit lifetime bound...: `T: 'static`\n LL |     // needs T: 'static\n LL |     x: fn() -> &'static T\n-   |     ^^^^^^^^^^^^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n+   |        ^^^^^^^^^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n \n error[E0310]: the parameter type `T` may not live long enough\n-  --> $DIR/wf-in-fn-type-static.rs:18:5\n+  --> $DIR/wf-in-fn-type-static.rs:18:8\n    |\n LL | struct Bar<T> {\n    |            - help: consider adding an explicit lifetime bound...: `T: 'static`\n LL |     // needs T: Copy\n LL |     x: fn(&'static T)\n-   |     ^^^^^^^^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n+   |        ^^^^^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n \n error: aborting due to 2 previous errors\n "}, {"sha": "c50a6bb6e4d878939e0c963e3a3306dcf5d556c6", "filename": "src/test/ui/wf/wf-in-obj-type-static.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-obj-type-static.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-obj-type-static.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-in-obj-type-static.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,11 @@\n error[E0310]: the parameter type `T` may not live long enough\n-  --> $DIR/wf-in-obj-type-static.rs:14:5\n+  --> $DIR/wf-in-obj-type-static.rs:14:8\n    |\n LL | struct Foo<T> {\n    |            - help: consider adding an explicit lifetime bound...: `T: 'static`\n LL |     // needs T: 'static\n LL |     x: dyn Object<&'static T>\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n+   |        ^^^^^^^^^^^^^^^^^^^^^^ ...so that the reference type `&'static T` does not outlive the data it points at\n \n error: aborting due to previous error\n "}, {"sha": "129f9484df29bef1993cfcec02bf9311fed5f650", "filename": "src/test/ui/wf/wf-in-obj-type-trait.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-obj-type-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-in-obj-type-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-in-obj-type-trait.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,11 @@\n error[E0277]: the trait bound `T: std::marker::Copy` is not satisfied\n-  --> $DIR/wf-in-obj-type-trait.rs:11:5\n+  --> $DIR/wf-in-obj-type-trait.rs:11:8\n    |\n LL | struct MustBeCopy<T:Copy> {\n    |                     ---- required by this bound in `MustBeCopy`\n ...\n LL |     x: dyn Object<MustBeCopy<T>>\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `T`\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `T`\n    |\n help: consider restricting type parameter `T`\n    |"}, {"sha": "d7d0b7a0820a8739a344e97e126c8971e972bcea", "filename": "src/test/ui/wf/wf-struct-field.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-struct-field.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a364c0a782948e48333e296bcb089119394de9e5/src%2Ftest%2Fui%2Fwf%2Fwf-struct-field.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwf%2Fwf-struct-field.stderr?ref=a364c0a782948e48333e296bcb089119394de9e5", "patch": "@@ -1,11 +1,11 @@\n error[E0277]: the trait bound `A: std::marker::Copy` is not satisfied\n-  --> $DIR/wf-struct-field.rs:12:5\n+  --> $DIR/wf-struct-field.rs:12:11\n    |\n LL | struct IsCopy<T:Copy> {\n    |                 ---- required by this bound in `IsCopy`\n ...\n LL |     data: IsCopy<A>\n-   |     ^^^^^^^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `A`\n+   |           ^^^^^^^^^ the trait `std::marker::Copy` is not implemented for `A`\n    |\n help: consider restricting type parameter `A`\n    |"}]}