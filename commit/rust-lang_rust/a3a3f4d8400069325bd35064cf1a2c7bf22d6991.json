{"sha": "a3a3f4d8400069325bd35064cf1a2c7bf22d6991", "node_id": "C_kwDOAAsO6NoAKGEzYTNmNGQ4NDAwMDY5MzI1YmQzNTA2NGNmMWEyYzdiZjIyZDY5OTE", "commit": {"author": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-10-29T08:14:44Z"}, "committer": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-10-29T08:14:44Z"}, "message": "avoid unnecessary `&str` to `String` conversions", "tree": {"sha": "f88db261023ee31addb370a44570577828f3a147", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f88db261023ee31addb370a44570577828f3a147"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a3a3f4d8400069325bd35064cf1a2c7bf22d6991", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a3a3f4d8400069325bd35064cf1a2c7bf22d6991", "html_url": "https://github.com/rust-lang/rust/commit/a3a3f4d8400069325bd35064cf1a2c7bf22d6991", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a3a3f4d8400069325bd35064cf1a2c7bf22d6991/comments", "author": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "33b55ac39fa633d0983fad014469e1036669bf28", "url": "https://api.github.com/repos/rust-lang/rust/commits/33b55ac39fa633d0983fad014469e1036669bf28", "html_url": "https://github.com/rust-lang/rust/commit/33b55ac39fa633d0983fad014469e1036669bf28"}], "stats": {"total": 19, "additions": 8, "deletions": 11}, "files": [{"sha": "505df022c5749a9ff5cb74896bfb2733964b386b", "filename": "compiler/rustc_mir_build/src/thir/pattern/check_match.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a3a3f4d8400069325bd35064cf1a2c7bf22d6991/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fcheck_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3a3f4d8400069325bd35064cf1a2c7bf22d6991/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fcheck_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fcheck_match.rs?ref=a3a3f4d8400069325bd35064cf1a2c7bf22d6991", "patch": "@@ -507,7 +507,7 @@ impl<'p, 'tcx> MatchVisitor<'_, 'p, 'tcx> {\n                                 _ => \"aren't\",\n                             },\n                         ),\n-                        \" else { todo!() }\".to_string(),\n+                        \" else { todo!() }\",\n                         Applicability::HasPlaceholders,\n                     );\n                 }"}, {"sha": "7d5fe32ee2864a916cebf65a4557d49a0c7e4858", "filename": "compiler/rustc_resolve/src/late/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a3a3f4d8400069325bd35064cf1a2c7bf22d6991/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3a3f4d8400069325bd35064cf1a2c7bf22d6991/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs?ref=a3a3f4d8400069325bd35064cf1a2c7bf22d6991", "patch": "@@ -784,10 +784,7 @@ impl<'a: 'ast, 'ast> LateResolutionVisitor<'a, '_, 'ast> {\n             return false;\n         }\n         err.code(rustc_errors::error_code!(E0411));\n-        err.span_label(\n-            span,\n-            \"`Self` is only available in impls, traits, and type definitions\".to_string(),\n-        );\n+        err.span_label(span, \"`Self` is only available in impls, traits, and type definitions\");\n         if let Some(item_kind) = self.diagnostic_metadata.current_item {\n             err.span_label(\n                 item_kind.ident.span,"}, {"sha": "1de85e2f288be7f82b5cd1bca7ae9dd4debaab7a", "filename": "compiler/rustc_trait_selection/src/traits/const_evaluatable.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a3a3f4d8400069325bd35064cf1a2c7bf22d6991/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fconst_evaluatable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3a3f4d8400069325bd35064cf1a2c7bf22d6991/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fconst_evaluatable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fconst_evaluatable.rs?ref=a3a3f4d8400069325bd35064cf1a2c7bf22d6991", "patch": "@@ -192,12 +192,12 @@ pub fn is_const_evaluatable<'tcx>(\n         }\n         let concrete = infcx.const_eval_resolve(param_env, uv, Some(span));\n         match concrete {\n-            Err(ErrorHandled::TooGeneric) => {\n-                Err(NotConstEvaluatable::Error(infcx.tcx.sess.delay_span_bug(\n-                    span,\n-                    format!(\"Missing value for constant, but no error reported?\"),\n-                )))\n-            }\n+            Err(ErrorHandled::TooGeneric) => Err(NotConstEvaluatable::Error(\n+                infcx\n+                    .tcx\n+                    .sess\n+                    .delay_span_bug(span, \"Missing value for constant, but no error reported?\"),\n+            )),\n             Err(ErrorHandled::Linted) => {\n                 let reported = infcx\n                     .tcx"}]}