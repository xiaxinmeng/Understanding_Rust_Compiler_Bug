{"sha": "d3fd6bfd308f1cca010086e30e75daaee984beab", "node_id": "C_kwDOAAsO6NoAKGQzZmQ2YmZkMzA4ZjFjY2EwMTAwODZlMzBlNzVkYWFlZTk4NGJlYWI", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-05-12T21:15:31Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-05-12T21:15:31Z"}, "message": "rustdoc: fix GUI crash when searching for magic JS property values", "tree": {"sha": "bb293684ebf33377b9e2165cfd7b65e75e6da154", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bb293684ebf33377b9e2165cfd7b65e75e6da154"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d3fd6bfd308f1cca010086e30e75daaee984beab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d3fd6bfd308f1cca010086e30e75daaee984beab", "html_url": "https://github.com/rust-lang/rust/commit/d3fd6bfd308f1cca010086e30e75daaee984beab", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d3fd6bfd308f1cca010086e30e75daaee984beab/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c6499fd9987a2b338892f56cea26c39a6fe64d18", "url": "https://api.github.com/repos/rust-lang/rust/commits/c6499fd9987a2b338892f56cea26c39a6fe64d18", "html_url": "https://github.com/rust-lang/rust/commit/c6499fd9987a2b338892f56cea26c39a6fe64d18"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "b596adf32c6fd5e9022623351b8e247846a61445", "filename": "src/librustdoc/html/static/js/search.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d3fd6bfd308f1cca010086e30e75daaee984beab/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "raw_url": "https://github.com/rust-lang/rust/raw/d3fd6bfd308f1cca010086e30e75daaee984beab/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js?ref=d3fd6bfd308f1cca010086e30e75daaee984beab", "patch": "@@ -119,7 +119,7 @@ window.initSearch = rawSearchIndex => {\n      */\n     let searchIndex;\n     let currentResults;\n-    const ALIASES = {};\n+    const ALIASES = Object.create(null);\n     const params = searchState.getQueryStringParams();\n \n     // Populate search bar with query string search term when provided,\n@@ -1953,7 +1953,7 @@ window.initSearch = rawSearchIndex => {\n             }\n \n             if (aliases) {\n-                ALIASES[crate] = {};\n+                ALIASES[crate] = Object.create(null);\n                 for (const alias_name in aliases) {\n                     if (!hasOwnPropertyRustdoc(aliases, alias_name)) {\n                         continue;"}, {"sha": "2f1d841c3be19e0bb454733f5e42c58d62e37e1a", "filename": "src/test/rustdoc-js/prototype.js", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/d3fd6bfd308f1cca010086e30e75daaee984beab/src%2Ftest%2Frustdoc-js%2Fprototype.js", "raw_url": "https://github.com/rust-lang/rust/raw/d3fd6bfd308f1cca010086e30e75daaee984beab/src%2Ftest%2Frustdoc-js%2Fprototype.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-js%2Fprototype.js?ref=d3fd6bfd308f1cca010086e30e75daaee984beab", "patch": "@@ -0,0 +1,16 @@\n+// exact-check\n+\n+const QUERY = ['constructor', '__proto__'];\n+\n+const EXPECTED = [\n+    {\n+        'others': [],\n+        'returned': [],\n+        'in_args': [],\n+    },\n+    {\n+        'others': [],\n+        'returned': [],\n+        'in_args': [],\n+    },\n+];"}, {"sha": "5f6d73cc19626fb5e3e06fc2a9eaa9c288bd7f68", "filename": "src/test/rustdoc-js/prototype.rs", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d3fd6bfd308f1cca010086e30e75daaee984beab/src%2Ftest%2Frustdoc-js%2Fprototype.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3fd6bfd308f1cca010086e30e75daaee984beab/src%2Ftest%2Frustdoc-js%2Fprototype.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-js%2Fprototype.rs?ref=d3fd6bfd308f1cca010086e30e75daaee984beab", "patch": "@@ -0,0 +1,4 @@\n+// The alias needed to be there to reproduce the bug\n+// that used to be here.\n+#[doc(alias=\"other_alias\")]\n+pub fn something_else() {}"}]}