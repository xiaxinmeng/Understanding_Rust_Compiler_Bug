{"sha": "5be51f27b4097d86f1fc870a3c35e828b33bbfec", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViZTUxZjI3YjQwOTdkODZmMWZjODcwYTNjMzVlODI4YjMzYmJmZWM=", "commit": {"author": {"name": "Jack Huey", "email": "31162821+jackh726@users.noreply.github.com", "date": "2021-08-22T00:56:33Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-22T00:56:33Z"}, "message": "Rollup merge of #88182 - spastorino:use-trait-in-tait-tests, r=oli-obk\n\nWe meant to use a trait instead of lifetime here\n\nr? `@oli-obk`\n\nRelated to #86727", "tree": {"sha": "085d4669befa74cc117beb493e06ec73e859bbd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/085d4669befa74cc117beb493e06ec73e859bbd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5be51f27b4097d86f1fc870a3c35e828b33bbfec", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhIaDBCRBK7hj4Ov3rIwAAL8kIALM0wAcr9Aulh9J8XntXZBOM\nQ9re1MJeV6oPPXTJZgLsOEvvYMKjaOZRgbkEkoq9TGg7VsSuMLihgbo+HiePYapT\nhQ9YZjUfCu93uwDyePLgeyILZC6qj5T02GbbYw6ItrROsNqJ7G+5Q0iNxzvYiBT1\nKnpL4uvYwxgff7vg0wdeH7vduq372QqFuinh0/HI+AeML9f0ubbq3WND4sWes8nc\nSEc9ZOXt3IjkAfZg/dm3cVoABIDpa0a5xaicAcVv0c/L2zMKVA7JjNjd6041duLb\nrFl9tTqJ0tbZiFS7YO6dLW9IeRcFVMCp44QLO2Fd3JKaAYo42KdVVfSQbbTLmJA=\n=DbAS\n-----END PGP SIGNATURE-----\n", "payload": "tree 085d4669befa74cc117beb493e06ec73e859bbd1\nparent 1a48b566c0c5025cbf54d40cb0996eac76d2c517\nparent 49a31a2b3e0817b5ac8fbad01b621bf9015974d6\nauthor Jack Huey <31162821+jackh726@users.noreply.github.com> 1629593793 -0400\ncommitter GitHub <noreply@github.com> 1629593793 -0400\n\nRollup merge of #88182 - spastorino:use-trait-in-tait-tests, r=oli-obk\n\nWe meant to use a trait instead of lifetime here\n\nr? `@oli-obk`\n\nRelated to #86727\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5be51f27b4097d86f1fc870a3c35e828b33bbfec", "html_url": "https://github.com/rust-lang/rust/commit/5be51f27b4097d86f1fc870a3c35e828b33bbfec", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5be51f27b4097d86f1fc870a3c35e828b33bbfec/comments", "author": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1a48b566c0c5025cbf54d40cb0996eac76d2c517", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a48b566c0c5025cbf54d40cb0996eac76d2c517", "html_url": "https://github.com/rust-lang/rust/commit/1a48b566c0c5025cbf54d40cb0996eac76d2c517"}, {"sha": "49a31a2b3e0817b5ac8fbad01b621bf9015974d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/49a31a2b3e0817b5ac8fbad01b621bf9015974d6", "html_url": "https://github.com/rust-lang/rust/commit/49a31a2b3e0817b5ac8fbad01b621bf9015974d6"}], "stats": {"total": 45, "additions": 12, "deletions": 33}, "files": [{"sha": "d87a25aad58304635b882760409251b82000553e", "filename": "src/test/ui/type-alias-impl-trait/generic_underconstrained.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained.rs?ref=5be51f27b4097d86f1fc870a3c35e828b33bbfec", "patch": "@@ -3,8 +3,7 @@\n fn main() {}\n \n trait Trait {}\n-type Underconstrained<T: Trait> = impl 'static;\n-//~^ ERROR: at least one trait must be specified\n+type Underconstrained<T: Trait> = impl Send;\n \n // no `Trait` bound\n fn underconstrain<T>(_: T) -> Underconstrained<T> {"}, {"sha": "c73288329b013f24145c652d2c2a65c045a859ed", "filename": "src/test/ui/type-alias-impl-trait/generic_underconstrained.stderr", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained.stderr?ref=5be51f27b4097d86f1fc870a3c35e828b33bbfec", "patch": "@@ -1,25 +1,19 @@\n-error: at least one trait must be specified\n-  --> $DIR/generic_underconstrained.rs:6:35\n-   |\n-LL | type Underconstrained<T: Trait> = impl 'static;\n-   |                                   ^^^^^^^^^^^^\n-\n error[E0277]: the trait bound `T: Trait` is not satisfied\n-  --> $DIR/generic_underconstrained.rs:10:31\n+  --> $DIR/generic_underconstrained.rs:9:31\n    |\n LL | fn underconstrain<T>(_: T) -> Underconstrained<T> {\n    |                               ^^^^^^^^^^^^^^^^^^^ the trait `Trait` is not implemented for `T`\n    |\n note: required by a bound in `Underconstrained`\n   --> $DIR/generic_underconstrained.rs:6:26\n    |\n-LL | type Underconstrained<T: Trait> = impl 'static;\n+LL | type Underconstrained<T: Trait> = impl Send;\n    |                          ^^^^^ required by this bound in `Underconstrained`\n help: consider restricting type parameter `T`\n    |\n LL | fn underconstrain<T: Trait>(_: T) -> Underconstrained<T> {\n    |                    +++++++\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0277`."}, {"sha": "8adc0bf32a6aab6845c36fed4f643f43bf53a7c5", "filename": "src/test/ui/type-alias-impl-trait/generic_underconstrained2.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.rs?ref=5be51f27b4097d86f1fc870a3c35e828b33bbfec", "patch": "@@ -2,17 +2,15 @@\n \n fn main() {}\n \n-type Underconstrained<T: std::fmt::Debug> = impl 'static;\n-//~^ ERROR: at least one trait must be specified\n+type Underconstrained<T: std::fmt::Debug> = impl Send;\n \n // not a defining use, because it doesn't define *all* possible generics\n fn underconstrained<U>(_: U) -> Underconstrained<U> {\n     //~^ ERROR `U` doesn't implement `Debug`\n     5u32\n }\n \n-type Underconstrained2<T: std::fmt::Debug> = impl 'static;\n-//~^ ERROR: at least one trait must be specified\n+type Underconstrained2<T: std::fmt::Debug> = impl Send;\n \n // not a defining use, because it doesn't define *all* possible generics\n fn underconstrained2<U, V>(_: U, _: V) -> Underconstrained2<V> {"}, {"sha": "d77d978aa444900ea3c8646bb5e69ae8bfb45215", "filename": "src/test/ui/type-alias-impl-trait/generic_underconstrained2.stderr", "status": "modified", "additions": 6, "deletions": 18, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5be51f27b4097d86f1fc870a3c35e828b33bbfec/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fgeneric_underconstrained2.stderr?ref=5be51f27b4097d86f1fc870a3c35e828b33bbfec", "patch": "@@ -1,47 +1,35 @@\n-error: at least one trait must be specified\n-  --> $DIR/generic_underconstrained2.rs:5:45\n-   |\n-LL | type Underconstrained<T: std::fmt::Debug> = impl 'static;\n-   |                                             ^^^^^^^^^^^^\n-\n-error: at least one trait must be specified\n-  --> $DIR/generic_underconstrained2.rs:14:46\n-   |\n-LL | type Underconstrained2<T: std::fmt::Debug> = impl 'static;\n-   |                                              ^^^^^^^^^^^^\n-\n error[E0277]: `U` doesn't implement `Debug`\n-  --> $DIR/generic_underconstrained2.rs:9:33\n+  --> $DIR/generic_underconstrained2.rs:8:33\n    |\n LL | fn underconstrained<U>(_: U) -> Underconstrained<U> {\n    |                                 ^^^^^^^^^^^^^^^^^^^ `U` cannot be formatted using `{:?}` because it doesn't implement `Debug`\n    |\n note: required by a bound in `Underconstrained`\n   --> $DIR/generic_underconstrained2.rs:5:26\n    |\n-LL | type Underconstrained<T: std::fmt::Debug> = impl 'static;\n+LL | type Underconstrained<T: std::fmt::Debug> = impl Send;\n    |                          ^^^^^^^^^^^^^^^ required by this bound in `Underconstrained`\n help: consider restricting type parameter `U`\n    |\n LL | fn underconstrained<U: std::fmt::Debug>(_: U) -> Underconstrained<U> {\n    |                      +++++++++++++++++\n \n error[E0277]: `V` doesn't implement `Debug`\n-  --> $DIR/generic_underconstrained2.rs:18:43\n+  --> $DIR/generic_underconstrained2.rs:16:43\n    |\n LL | fn underconstrained2<U, V>(_: U, _: V) -> Underconstrained2<V> {\n    |                                           ^^^^^^^^^^^^^^^^^^^^ `V` cannot be formatted using `{:?}` because it doesn't implement `Debug`\n    |\n note: required by a bound in `Underconstrained2`\n-  --> $DIR/generic_underconstrained2.rs:14:27\n+  --> $DIR/generic_underconstrained2.rs:13:27\n    |\n-LL | type Underconstrained2<T: std::fmt::Debug> = impl 'static;\n+LL | type Underconstrained2<T: std::fmt::Debug> = impl Send;\n    |                           ^^^^^^^^^^^^^^^ required by this bound in `Underconstrained2`\n help: consider restricting type parameter `V`\n    |\n LL | fn underconstrained2<U, V: std::fmt::Debug>(_: U, _: V) -> Underconstrained2<V> {\n    |                          +++++++++++++++++\n \n-error: aborting due to 4 previous errors\n+error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0277`."}]}