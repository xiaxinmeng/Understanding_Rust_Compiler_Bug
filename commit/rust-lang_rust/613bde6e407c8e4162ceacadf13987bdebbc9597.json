{"sha": "613bde6e407c8e4162ceacadf13987bdebbc9597", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxM2JkZTZlNDA3YzhlNDE2MmNlYWNhZGYxMzk4N2JkZWJiYzk1OTc=", "commit": {"author": {"name": "Oliver Schneider", "email": "oli-obk@users.noreply.github.com", "date": "2017-04-23T20:01:36Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-04-23T20:01:36Z"}, "message": "Merge pull request #1692 from Manishearth/tests\n\nUpdate tests to new format of multiline errors", "tree": {"sha": "51e54a37b9ec484af01509b33371616a75113f9b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/51e54a37b9ec484af01509b33371616a75113f9b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/613bde6e407c8e4162ceacadf13987bdebbc9597", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/613bde6e407c8e4162ceacadf13987bdebbc9597", "html_url": "https://github.com/rust-lang/rust/commit/613bde6e407c8e4162ceacadf13987bdebbc9597", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/613bde6e407c8e4162ceacadf13987bdebbc9597/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5cbe9b505eacbb167d847caa3445b3b1b5437eeb", "url": "https://api.github.com/repos/rust-lang/rust/commits/5cbe9b505eacbb167d847caa3445b3b1b5437eeb", "html_url": "https://github.com/rust-lang/rust/commit/5cbe9b505eacbb167d847caa3445b3b1b5437eeb"}, {"sha": "b20a6a773c073893c999c6afd0e7b864a43df445", "url": "https://api.github.com/repos/rust-lang/rust/commits/b20a6a773c073893c999c6afd0e7b864a43df445", "html_url": "https://github.com/rust-lang/rust/commit/b20a6a773c073893c999c6afd0e7b864a43df445"}], "stats": {"total": 838, "additions": 357, "deletions": 481}, "files": [{"sha": "c94ba02698b3e7469b15214cc3c7a91261629136", "filename": "tests/ui/arithmetic.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Farithmetic.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Farithmetic.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -19,10 +19,9 @@ error: integer arithmetic detected\n error: integer arithmetic detected\n   --> $DIR/arithmetic.rs:10:5\n    |\n-10 |       1 %\n-   |  _____^ starting here...\n+10 | /     1 %\n 11 | |     i / 2; // no error, this is part of the expression in the preceding line\n-   | |_________^ ...ending here\n+   | |_________^\n \n error: integer arithmetic detected\n   --> $DIR/arithmetic.rs:12:5"}, {"sha": "263193491b7ad18402bbc8a4737674663697c670", "filename": "tests/ui/block_in_if_condition.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fblock_in_if_condition.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fblock_in_if_condition.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fblock_in_if_condition.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -2,11 +2,11 @@ error: in an 'if' condition, avoid complex blocks or closures with blocks; inste\n   --> $DIR/block_in_if_condition.rs:30:8\n    |\n 30 |       if {\n-   |  ________^ starting here...\n+   |  ________^\n 31 | |         let x = 3;\n 32 | |         x == 3\n 33 | |     } {\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/block_in_if_condition.rs:5:9"}, {"sha": "e638727e902ec17ecd9ee3887ed1698de79d8d9f", "filename": "tests/ui/collapsible_if.stderr", "status": "modified", "additions": 26, "deletions": 32, "changes": 58, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcollapsible_if.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcollapsible_if.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcollapsible_if.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,15 +1,14 @@\n error: this if statement can be collapsed\n   --> $DIR/collapsible_if.rs:8:5\n    |\n-8  |       if x == \"hello\" {\n-   |  _____^ starting here...\n+8  | /     if x == \"hello\" {\n 9  | |\n 10 | |\n 11 | |\n ...  |\n 14 | |         }\n 15 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/collapsible_if.rs:4:8\n@@ -24,15 +23,14 @@ help: try\n error: this if statement can be collapsed\n   --> $DIR/collapsible_if.rs:17:5\n    |\n-17 |       if x == \"hello\" || x == \"world\" {\n-   |  _____^ starting here...\n+17 | /     if x == \"hello\" || x == \"world\" {\n 18 | |\n 19 | |\n 20 | |\n ...  |\n 23 | |         }\n 24 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     if (x == \"hello\" || x == \"world\") && (y == \"world\" || y == \"hello\") {\n@@ -42,15 +40,14 @@ help: try\n error: this if statement can be collapsed\n   --> $DIR/collapsible_if.rs:26:5\n    |\n-26 |       if x == \"hello\" && x == \"world\" {\n-   |  _____^ starting here...\n+26 | /     if x == \"hello\" && x == \"world\" {\n 27 | |\n 28 | |\n 29 | |\n ...  |\n 32 | |         }\n 33 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     if x == \"hello\" && x == \"world\" && (y == \"world\" || y == \"hello\") {\n@@ -60,15 +57,14 @@ help: try\n error: this if statement can be collapsed\n   --> $DIR/collapsible_if.rs:35:5\n    |\n-35 |       if x == \"hello\" || x == \"world\" {\n-   |  _____^ starting here...\n+35 | /     if x == \"hello\" || x == \"world\" {\n 36 | |\n 37 | |\n 38 | |\n ...  |\n 41 | |         }\n 42 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     if (x == \"hello\" || x == \"world\") && y == \"world\" && y == \"hello\" {\n@@ -78,15 +74,14 @@ help: try\n error: this if statement can be collapsed\n   --> $DIR/collapsible_if.rs:44:5\n    |\n-44 |       if x == \"hello\" && x == \"world\" {\n-   |  _____^ starting here...\n+44 | /     if x == \"hello\" && x == \"world\" {\n 45 | |\n 46 | |\n 47 | |\n ...  |\n 50 | |         }\n 51 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     if x == \"hello\" && x == \"world\" && y == \"world\" && y == \"hello\" {\n@@ -96,15 +91,14 @@ help: try\n error: this if statement can be collapsed\n   --> $DIR/collapsible_if.rs:53:5\n    |\n-53 |       if 42 == 1337 {\n-   |  _____^ starting here...\n+53 | /     if 42 == 1337 {\n 54 | |\n 55 | |\n 56 | |\n ...  |\n 59 | |         }\n 60 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     if 42 == 1337 && 'a' != 'A' {\n@@ -115,14 +109,14 @@ error: this `else { if .. }` block can be collapsed\n   --> $DIR/collapsible_if.rs:65:12\n    |\n 65 |       } else {\n-   |  ____________^ starting here...\n+   |  ____________^\n 66 | |\n 67 | |\n 68 | |\n ...  |\n 71 | |         }\n 72 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     } else if y == \"world\" {\n@@ -133,14 +127,14 @@ error: this `else { if .. }` block can be collapsed\n   --> $DIR/collapsible_if.rs:76:12\n    |\n 76 |       } else {\n-   |  ____________^ starting here...\n+   |  ____________^\n 77 | |\n 78 | |\n 79 | |\n ...  |\n 82 | |         }\n 83 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     } else if let Some(42) = Some(42) {\n@@ -151,14 +145,14 @@ error: this `else { if .. }` block can be collapsed\n   --> $DIR/collapsible_if.rs:87:12\n    |\n 87 |       } else {\n-   |  ____________^ starting here...\n+   |  ____________^\n 88 | |\n 89 | |\n 90 | |\n ...  |\n 96 | |         }\n 97 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     } else if y == \"world\" {\n@@ -172,14 +166,14 @@ error: this `else { if .. }` block can be collapsed\n    --> $DIR/collapsible_if.rs:101:12\n     |\n 101 |       } else {\n-    |  ____________^ starting here...\n+    |  ____________^\n 102 | |\n 103 | |\n 104 | |\n ...   |\n 110 | |         }\n 111 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: try\n     |     } else if let Some(42) = Some(42) {\n@@ -193,14 +187,14 @@ error: this `else { if .. }` block can be collapsed\n    --> $DIR/collapsible_if.rs:115:12\n     |\n 115 |       } else {\n-    |  ____________^ starting here...\n+    |  ____________^\n 116 | |\n 117 | |\n 118 | |\n ...   |\n 124 | |         }\n 125 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: try\n     |     } else if let Some(42) = Some(42) {\n@@ -214,14 +208,14 @@ error: this `else { if .. }` block can be collapsed\n    --> $DIR/collapsible_if.rs:129:12\n     |\n 129 |       } else {\n-    |  ____________^ starting here...\n+    |  ____________^\n 130 | |\n 131 | |\n 132 | |\n ...   |\n 138 | |         }\n 139 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: try\n     |     } else if x == \"hello\" {\n@@ -235,14 +229,14 @@ error: this `else { if .. }` block can be collapsed\n    --> $DIR/collapsible_if.rs:143:12\n     |\n 143 |       } else {\n-    |  ____________^ starting here...\n+    |  ____________^\n 144 | |\n 145 | |\n 146 | |\n ...   |\n 152 | |         }\n 153 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: try\n     |     } else if let Some(42) = Some(42) {"}, {"sha": "a38f11a87b3a463fb71703b29f5c3e5792267586", "filename": "tests/ui/copies.stderr", "status": "modified", "additions": 54, "deletions": 54, "changes": 108, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcopies.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcopies.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcopies.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -2,14 +2,14 @@ error: this `if` has identical blocks\n   --> $DIR/copies.rs:40:10\n    |\n 40 |       else {\n-   |  __________^ starting here...\n+   |  __________^\n 41 | |         Foo { bar: 42 };\n 42 | |         0..10;\n 43 | |         ..;\n ...  |\n 47 | |         foo();\n 48 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/copies.rs:27:8\n@@ -20,27 +20,27 @@ note: same as this\n   --> $DIR/copies.rs:30:13\n    |\n 30 |       if true {\n-   |  _____________^ starting here...\n+   |  _____________^\n 31 | |\n 32 | |         Foo { bar: 42 };\n 33 | |         0..10;\n ...  |\n 38 | |         foo();\n 39 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n \n error: this `match` has identical arm bodies\n   --> $DIR/copies.rs:91:14\n    |\n 91 |           _ => {\n-   |  ______________^ starting here...\n+   |  ______________^\n 92 | |             foo();\n 93 | |             let mut a = 42 + [23].len() as i32;\n 94 | |             if true {\n ...  |\n 98 | |             a\n 99 | |         }\n-   | |_________^ ...ending here\n+   | |_________^\n    |\n note: lint level defined here\n   --> $DIR/copies.rs:28:8\n@@ -51,26 +51,26 @@ note: same as this\n   --> $DIR/copies.rs:80:15\n    |\n 80 |           42 => {\n-   |  _______________^ starting here...\n+   |  _______________^\n 81 | |\n 82 | |\n 83 | |             foo();\n ...  |\n 89 | |             a\n 90 | |         }\n-   | |_________^ ...ending here\n+   | |_________^\n note: `42` has the same arm body as the `_` wildcard, consider removing it`\n   --> $DIR/copies.rs:80:15\n    |\n 80 |           42 => {\n-   |  _______________^ starting here...\n+   |  _______________^\n 81 | |\n 82 | |\n 83 | |             foo();\n ...  |\n 89 | |             a\n 90 | |         }\n-   | |_________^ ...ending here\n+   | |_________^\n \n error: this `match` has identical arm bodies\n    --> $DIR/copies.rs:107:14\n@@ -93,136 +93,136 @@ error: this `if` has identical blocks\n    --> $DIR/copies.rs:118:10\n     |\n 118 |       else {\n-    |  __________^ starting here...\n+    |  __________^\n 119 | |         42\n 120 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:114:21\n     |\n 114 |       let _ = if true {\n-    |  _____________________^ starting here...\n+    |  _____________________^\n 115 | |\n 116 | |         42\n 117 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:133:10\n     |\n 133 |       else {\n-    |  __________^ starting here...\n+    |  __________^\n 134 | |         for _ in &[42] {\n 135 | |             let foo: &Option<_> = &Some::<u8>(42);\n 136 | |             if true {\n ...   |\n 141 | |         }\n 142 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:122:13\n     |\n 122 |       if true {\n-    |  _____________^ starting here...\n+    |  _____________^\n 123 | |\n 124 | |         for _ in &[42] {\n 125 | |             let foo: &Option<_> = &Some::<u8>(42);\n ...   |\n 131 | |         }\n 132 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:156:10\n     |\n 156 |       else {\n-    |  __________^ starting here...\n+    |  __________^\n 157 | |         let bar = if true {\n 158 | |             42\n 159 | |         }\n ...   |\n 165 | |         bar + 1;\n 166 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:144:13\n     |\n 144 |       if true {\n-    |  _____________^ starting here...\n+    |  _____________^\n 145 | |\n 146 | |         let bar = if true {\n 147 | |             42\n ...   |\n 154 | |         bar + 1;\n 155 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:180:19\n     |\n 180 |       else if foo() {\n-    |  ___________________^ starting here...\n+    |  ___________________^\n 181 | |         let _ = match 42 {\n 182 | |             42 => 1,\n 183 | |             a if a > 0 => 2,\n ...   |\n 186 | |         };\n 187 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:168:13\n     |\n 168 |       if true {\n-    |  _____________^ starting here...\n+    |  _____________^\n 169 | |\n 170 | |         let _ = match 42 {\n 171 | |             42 => 1,\n ...   |\n 175 | |         };\n 176 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:193:10\n     |\n 193 |       else {\n-    |  __________^ starting here...\n+    |  __________^\n 194 | |         if let Some(a) = Some(42) {}\n 195 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:189:13\n     |\n 189 |       if true {\n-    |  _____________^ starting here...\n+    |  _____________^\n 190 | |\n 191 | |         if let Some(a) = Some(42) {}\n 192 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:201:10\n     |\n 201 |       else {\n-    |  __________^ starting here...\n+    |  __________^\n 202 | |         if let (1, .., 3) = (1, 2, 3) {}\n 203 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:197:13\n     |\n 197 |       if true {\n-    |  _____________^ starting here...\n+    |  _____________^\n 198 | |\n 199 | |         if let (1, .., 3) = (1, 2, 3) {}\n 200 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `match` has identical arm bodies\n    --> $DIR/copies.rs:258:15\n@@ -313,98 +313,98 @@ error: this `if` has identical blocks\n    --> $DIR/copies.rs:313:12\n     |\n 313 |       } else {\n-    |  ____________^ starting here...\n+    |  ____________^\n 314 | |         0.0\n 315 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:310:21\n     |\n 310 |       let _ = if true {\n-    |  _____________________^ starting here...\n+    |  _____________________^\n 311 | |\n 312 | |         0.0\n 313 | |     } else {\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:320:12\n     |\n 320 |       } else {\n-    |  ____________^ starting here...\n+    |  ____________^\n 321 | |         -0.0\n 322 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:317:21\n     |\n 317 |       let _ = if true {\n-    |  _____________________^ starting here...\n+    |  _____________________^\n 318 | |\n 319 | |         -0.0\n 320 | |     } else {\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:341:12\n     |\n 341 |       } else {\n-    |  ____________^ starting here...\n+    |  ____________^\n 342 | |         std::f32::NAN\n 343 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:338:21\n     |\n 338 |       let _ = if true {\n-    |  _____________________^ starting here...\n+    |  _____________________^\n 339 | |\n 340 | |         std::f32::NAN\n 341 | |     } else {\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:360:10\n     |\n 360 |       else {\n-    |  __________^ starting here...\n+    |  __________^\n 361 | |         try!(Ok(\"foo\"));\n 362 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:356:13\n     |\n 356 |       if true {\n-    |  _____________^ starting here...\n+    |  _____________^\n 357 | |\n 358 | |         try!(Ok(\"foo\"));\n 359 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has identical blocks\n    --> $DIR/copies.rs:373:10\n     |\n 373 |       else {\n-    |  __________^ starting here...\n+    |  __________^\n 374 | |         let foo = \"\";\n 375 | |         return Ok(&foo[0..]);\n 376 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: same as this\n    --> $DIR/copies.rs:364:13\n     |\n 364 |       if true {\n-    |  _____________^ starting here...\n+    |  _____________^\n 365 | |\n 366 | |         let foo = \"\";\n 367 | |         return Ok(&foo[0..]);\n 368 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this `if` has the same condition as a previous if\n    --> $DIR/copies.rs:388:13"}, {"sha": "fb42e14d5b0c99454eafedd47174c7a5ea5f3596", "filename": "tests/ui/cyclomatic_complexity.stderr", "status": "modified", "additions": 40, "deletions": 59, "changes": 99, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcyclomatic_complexity.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcyclomatic_complexity.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcyclomatic_complexity.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,15 +1,14 @@\n error: the function has a cyclomatic complexity of 28\n   --> $DIR/cyclomatic_complexity.rs:7:1\n    |\n-7  |   fn main() {\n-   |  _^ starting here...\n+7  | / fn main() {\n 8  | |     if true {\n 9  | |         println!(\"a\");\n 10 | |     }\n ...  |\n 88 | |     }\n 89 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n note: lint level defined here\n   --> $DIR/cyclomatic_complexity.rs:4:9\n@@ -21,274 +20,256 @@ note: lint level defined here\n error: the function has a cyclomatic complexity of 7\n    --> $DIR/cyclomatic_complexity.rs:92:1\n     |\n-92  |   fn kaboom() {\n-    |  _^ starting here...\n+92  | / fn kaboom() {\n 93  | |     let n = 0;\n 94  | |     'a: for i in 0..20 {\n 95  | |         'b: for j in i..20 {\n ...   |\n 110 | |     }\n 111 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n    --> $DIR/cyclomatic_complexity.rs:138:1\n     |\n-138 |   fn lots_of_short_circuits() -> bool {\n-    |  _^ starting here...\n+138 | / fn lots_of_short_circuits() -> bool {\n 139 | |     true && false && true && false && true && false && true\n 140 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n    --> $DIR/cyclomatic_complexity.rs:143:1\n     |\n-143 |   fn lots_of_short_circuits2() -> bool {\n-    |  _^ starting here...\n+143 | / fn lots_of_short_circuits2() -> bool {\n 144 | |     true || false || true || false || true || false || true\n 145 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n    --> $DIR/cyclomatic_complexity.rs:148:1\n     |\n-148 |   fn baa() {\n-    |  _^ starting here...\n+148 | / fn baa() {\n 149 | |     let x = || match 99 {\n 150 | |         0 => 0,\n 151 | |         1 => 1,\n ...   |\n 162 | |     }\n 163 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n    --> $DIR/cyclomatic_complexity.rs:149:13\n     |\n 149 |       let x = || match 99 {\n-    |  _____________^ starting here...\n+    |  _____________^\n 150 | |         0 => 0,\n 151 | |         1 => 1,\n 152 | |         2 => 2,\n ...   |\n 156 | |         _ => 42,\n 157 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n    --> $DIR/cyclomatic_complexity.rs:166:1\n     |\n-166 |   fn bar() {\n-    |  _^ starting here...\n+166 | / fn bar() {\n 167 | |     match 99 {\n 168 | |         0 => println!(\"hi\"),\n 169 | |         _ => println!(\"bye\"),\n 170 | |     }\n 171 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n    --> $DIR/cyclomatic_complexity.rs:185:1\n     |\n-185 |   fn barr() {\n-    |  _^ starting here...\n+185 | / fn barr() {\n 186 | |     match 99 {\n 187 | |         0 => println!(\"hi\"),\n 188 | |         1 => println!(\"bla\"),\n ...   |\n 191 | |     }\n 192 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 3\n    --> $DIR/cyclomatic_complexity.rs:195:1\n     |\n-195 |   fn barr2() {\n-    |  _^ starting here...\n+195 | / fn barr2() {\n 196 | |     match 99 {\n 197 | |         0 => println!(\"hi\"),\n 198 | |         1 => println!(\"bla\"),\n ...   |\n 207 | |     }\n 208 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n    --> $DIR/cyclomatic_complexity.rs:211:1\n     |\n-211 |   fn barrr() {\n-    |  _^ starting here...\n+211 | / fn barrr() {\n 212 | |     match 99 {\n 213 | |         0 => println!(\"hi\"),\n 214 | |         1 => panic!(\"bla\"),\n ...   |\n 217 | |     }\n 218 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 3\n    --> $DIR/cyclomatic_complexity.rs:221:1\n     |\n-221 |   fn barrr2() {\n-    |  _^ starting here...\n+221 | / fn barrr2() {\n 222 | |     match 99 {\n 223 | |         0 => println!(\"hi\"),\n 224 | |         1 => panic!(\"bla\"),\n ...   |\n 233 | |     }\n 234 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n    --> $DIR/cyclomatic_complexity.rs:237:1\n     |\n-237 |   fn barrrr() {\n-    |  _^ starting here...\n+237 | / fn barrrr() {\n 238 | |     match 99 {\n 239 | |         0 => println!(\"hi\"),\n 240 | |         1 => println!(\"bla\"),\n ...   |\n 243 | |     }\n 244 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 3\n    --> $DIR/cyclomatic_complexity.rs:247:1\n     |\n-247 |   fn barrrr2() {\n-    |  _^ starting here...\n+247 | / fn barrrr2() {\n 248 | |     match 99 {\n 249 | |         0 => println!(\"hi\"),\n 250 | |         1 => println!(\"bla\"),\n ...   |\n 259 | |     }\n 260 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 2\n    --> $DIR/cyclomatic_complexity.rs:263:1\n     |\n-263 |   fn cake() {\n-    |  _^ starting here...\n+263 | / fn cake() {\n 264 | |     if 4 == 5 {\n 265 | |         println!(\"yea\");\n 266 | |     } else {\n ...   |\n 269 | |     println!(\"whee\");\n 270 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 4\n    --> $DIR/cyclomatic_complexity.rs:274:1\n     |\n-274 |   pub fn read_file(input_path: &str) -> String {\n-    |  _^ starting here...\n+274 | / pub fn read_file(input_path: &str) -> String {\n 275 | |     use std::fs::File;\n 276 | |     use std::io::{Read, Write};\n 277 | |     use std::path::Path;\n ...   |\n 299 | |     }\n 300 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n    --> $DIR/cyclomatic_complexity.rs:305:1\n     |\n-305 |   fn void(void: Void) {\n-    |  _^ starting here...\n+305 | / fn void(void: Void) {\n 306 | |     if true {\n 307 | |         match void {\n 308 | |         }\n 309 | |     }\n 310 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n    --> $DIR/cyclomatic_complexity.rs:319:1\n     |\n-319 |   fn try() -> Result<i32, &'static str> {\n-    |  _^ starting here...\n+319 | / fn try() -> Result<i32, &'static str> {\n 320 | |     match 5 {\n 321 | |         5 => Ok(5),\n 322 | |         _ => return Err(\"bla\"),\n 323 | |     }\n 324 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n    --> $DIR/cyclomatic_complexity.rs:327:1\n     |\n-327 |   fn try_again() -> Result<i32, &'static str> {\n-    |  _^ starting here...\n+327 | / fn try_again() -> Result<i32, &'static str> {\n 328 | |     let _ = try!(Ok(42));\n 329 | |     let _ = try!(Ok(43));\n 330 | |     let _ = try!(Ok(44));\n ...   |\n 339 | |     }\n 340 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 1\n    --> $DIR/cyclomatic_complexity.rs:343:1\n     |\n-343 |   fn early() -> Result<i32, &'static str> {\n-    |  _^ starting here...\n+343 | / fn early() -> Result<i32, &'static str> {\n 344 | |     return Ok(5);\n 345 | |     return Ok(5);\n 346 | |     return Ok(5);\n ...   |\n 352 | |     return Ok(5);\n 353 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n \n error: the function has a cyclomatic complexity of 8\n    --> $DIR/cyclomatic_complexity.rs:356:1\n     |\n-356 |   fn early_ret() -> i32 {\n-    |  _^ starting here...\n+356 | / fn early_ret() -> i32 {\n 357 | |     let a = if true { 42 } else { return 0; };\n 358 | |     let a = if a < 99 { 42 } else { return 0; };\n 359 | |     let a = if a < 99 { 42 } else { return 0; };\n ...   |\n 372 | |     }\n 373 | | }\n-    | |_^ ...ending here\n+    | |_^\n     |\n     = help: you could split it up into multiple smaller functions\n "}, {"sha": "5086d5117539a74458241d0f16874782c2d5cb4d", "filename": "tests/ui/cyclomatic_complexity_attr_used.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcyclomatic_complexity_attr_used.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fcyclomatic_complexity_attr_used.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcyclomatic_complexity_attr_used.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,15 +1,14 @@\n error: the function has a cyclomatic complexity of 3\n   --> $DIR/cyclomatic_complexity_attr_used.rs:11:1\n    |\n-11 |   fn kaboom() {\n-   |  _^ starting here...\n+11 | / fn kaboom() {\n 12 | |     if 42 == 43 {\n 13 | |         panic!();\n 14 | |     } else if \"cake\" == \"lie\" {\n 15 | |         println!(\"what?\");\n 16 | |     }\n 17 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n note: lint level defined here\n   --> $DIR/cyclomatic_complexity_attr_used.rs:3:9"}, {"sha": "290ba68c5b3412d215641776ec13905655117f34", "filename": "tests/ui/derive.stderr", "status": "modified", "additions": 14, "deletions": 21, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fderive.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fderive.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fderive.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -13,11 +13,10 @@ note: lint level defined here\n note: `PartialEq` implemented here\n   --> $DIR/derive.rs:22:1\n    |\n-22 |   impl PartialEq for Bar {\n-   |  _^ starting here...\n+22 | / impl PartialEq for Bar {\n 23 | |     fn eq(&self, _: &Bar) -> bool { true }\n 24 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: you are deriving `Hash` but have implemented `PartialEq` explicitly\n   --> $DIR/derive.rs:26:10\n@@ -29,21 +28,19 @@ error: you are deriving `Hash` but have implemented `PartialEq` explicitly\n note: `PartialEq` implemented here\n   --> $DIR/derive.rs:30:1\n    |\n-30 |   impl PartialEq<Baz> for Baz {\n-   |  _^ starting here...\n+30 | / impl PartialEq<Baz> for Baz {\n 31 | |     fn eq(&self, _: &Baz) -> bool { true }\n 32 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: you are implementing `Hash` explicitly but have derived `PartialEq`\n   --> $DIR/derive.rs:37:1\n    |\n-37 |   impl Hash for Bah {\n-   |  _^ starting here...\n+37 | / impl Hash for Bah {\n 38 | |\n 39 | |     fn hash<H: Hasher>(&self, _: &mut H) {}\n 40 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(derive_hash_xor_eq)] implied by #[deny(warnings)]\n note: `PartialEq` implemented here\n@@ -55,12 +52,11 @@ note: `PartialEq` implemented here\n error: you are implementing `Clone` explicitly on a `Copy` type\n   --> $DIR/derive.rs:45:1\n    |\n-45 |   impl Clone for Qux {\n-   |  _^ starting here...\n+45 | / impl Clone for Qux {\n 46 | |\n 47 | |     fn clone(&self) -> Self { Qux }\n 48 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(expl_impl_clone_on_copy)] implied by #[deny(warnings)]\n note: lint level defined here\n@@ -71,33 +67,30 @@ note: lint level defined here\n note: consider deriving `Clone` or removing `Copy`\n   --> $DIR/derive.rs:45:1\n    |\n-45 |   impl Clone for Qux {\n-   |  _^ starting here...\n+45 | / impl Clone for Qux {\n 46 | |\n 47 | |     fn clone(&self) -> Self { Qux }\n 48 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: you are implementing `Clone` explicitly on a `Copy` type\n   --> $DIR/derive.rs:70:1\n    |\n-70 |   impl<'a> Clone for Lt<'a> {\n-   |  _^ starting here...\n+70 | / impl<'a> Clone for Lt<'a> {\n 71 | |\n 72 | |     fn clone(&self) -> Self { unimplemented!() }\n 73 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(expl_impl_clone_on_copy)] implied by #[deny(warnings)]\n note: consider deriving `Clone` or removing `Copy`\n   --> $DIR/derive.rs:70:1\n    |\n-70 |   impl<'a> Clone for Lt<'a> {\n-   |  _^ starting here...\n+70 | / impl<'a> Clone for Lt<'a> {\n 71 | |\n 72 | |     fn clone(&self) -> Self { unimplemented!() }\n 73 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: aborting due to 5 previous errors\n "}, {"sha": "876c4e827dc6480ccbf0956b0b83f8147463e3d4", "filename": "tests/ui/enum_variants.stderr", "status": "modified", "additions": 12, "deletions": 18, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fenum_variants.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fenum_variants.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fenum_variants.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -38,83 +38,77 @@ error: Variant name starts with the enum's name\n error: All variants have the same prefix: `Food`\n   --> $DIR/enum_variants.rs:24:1\n    |\n-24 |   enum Food {\n-   |  _^ starting here...\n+24 | / enum Food {\n 25 | |     FoodGood,\n 26 | |     FoodMiddle,\n 27 | |     FoodBad,\n 28 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(enum_variant_names)] implied by #[deny(clippy)]\n    = help: remove the prefixes and use full paths to the variants instead of glob imports\n \n error: All variants have the same prefix: `CallType`\n   --> $DIR/enum_variants.rs:34:1\n    |\n-34 |   enum BadCallType {\n-   |  _^ starting here...\n+34 | / enum BadCallType {\n 35 | |     CallTypeCall,\n 36 | |     CallTypeCreate,\n 37 | |     CallTypeDestroy,\n 38 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(enum_variant_names)] implied by #[deny(clippy)]\n    = help: remove the prefixes and use full paths to the variants instead of glob imports\n \n error: All variants have the same prefix: `Constant`\n   --> $DIR/enum_variants.rs:45:1\n    |\n-45 |   enum Consts {\n-   |  _^ starting here...\n+45 | / enum Consts {\n 46 | |     ConstantInt,\n 47 | |     ConstantCake,\n 48 | |     ConstantLie,\n 49 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(enum_variant_names)] implied by #[deny(clippy)]\n    = help: remove the prefixes and use full paths to the variants instead of glob imports\n \n error: All variants have the same prefix: `With`\n   --> $DIR/enum_variants.rs:78:1\n    |\n-78 |   enum Seallll {\n-   |  _^ starting here...\n+78 | / enum Seallll {\n 79 | |     WithOutCake,\n 80 | |     WithOutTea,\n 81 | |     WithOut,\n 82 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(enum_variant_names)] implied by #[deny(clippy)]\n    = help: remove the prefixes and use full paths to the variants instead of glob imports\n \n error: All variants have the same prefix: `Prefix`\n   --> $DIR/enum_variants.rs:84:1\n    |\n-84 |   enum NonCaps {\n-   |  _^ starting here...\n+84 | / enum NonCaps {\n 85 | |     Prefix\u7684,\n 86 | |     PrefixTea,\n 87 | |     PrefixCake,\n 88 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(enum_variant_names)] implied by #[deny(clippy)]\n    = help: remove the prefixes and use full paths to the variants instead of glob imports\n \n error: All variants have the same prefix: `With`\n   --> $DIR/enum_variants.rs:90:1\n    |\n-90 |   pub enum PubSeall {\n-   |  _^ starting here...\n+90 | / pub enum PubSeall {\n 91 | |     WithOutCake,\n 92 | |     WithOutTea,\n 93 | |     WithOut,\n 94 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n note: lint level defined here\n   --> $DIR/enum_variants.rs:3:17"}, {"sha": "36b5a84c725a146f2643a7124b11574cac1b13f5", "filename": "tests/ui/filter_methods.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Ffilter_methods.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Ffilter_methods.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffilter_methods.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -2,10 +2,10 @@ error: called `filter(p).map(q)` on an `Iterator`. This is more succinctly expre\n   --> $DIR/filter_methods.rs:8:21\n    |\n 8  |       let _: Vec<_> = vec![5; 6].into_iter()\n-   |  _____________________^ starting here...\n+   |  _____________________^\n 9  | |                               .filter(|&x| x == 0)\n 10 | |                               .map(|x| x * 2)\n-   | |_____________________________________________^ ...ending here\n+   | |_____________________________________________^\n    |\n    = note: #[deny(filter_map)] implied by #[deny(clippy_pedantic)]\n note: lint level defined here\n@@ -18,32 +18,32 @@ error: called `filter(p).flat_map(q)` on an `Iterator`. This is more succinctly\n   --> $DIR/filter_methods.rs:13:21\n    |\n 13 |       let _: Vec<_> = vec![5_i8; 6].into_iter()\n-   |  _____________________^ starting here...\n+   |  _____________________^\n 14 | |                                 .filter(|&x| x == 0)\n 15 | |                                 .flat_map(|x| x.checked_mul(2))\n-   | |_______________________________________________________________^ ...ending here\n+   | |_______________________________________________________________^\n    |\n    = note: #[deny(filter_map)] implied by #[deny(clippy_pedantic)]\n \n error: called `filter_map(p).flat_map(q)` on an `Iterator`. This is more succinctly expressed by calling `.flat_map(..)` and filtering by returning an empty Iterator.\n   --> $DIR/filter_methods.rs:18:21\n    |\n 18 |       let _: Vec<_> = vec![5_i8; 6].into_iter()\n-   |  _____________________^ starting here...\n+   |  _____________________^\n 19 | |                                 .filter_map(|x| x.checked_mul(2))\n 20 | |                                 .flat_map(|x| x.checked_mul(2))\n-   | |_______________________________________________________________^ ...ending here\n+   | |_______________________________________________________________^\n    |\n    = note: #[deny(filter_map)] implied by #[deny(clippy_pedantic)]\n \n error: called `filter_map(p).map(q)` on an `Iterator`. This is more succinctly expressed by only calling `.filter_map(..)` instead.\n   --> $DIR/filter_methods.rs:23:21\n    |\n 23 |       let _: Vec<_> = vec![5_i8; 6].into_iter()\n-   |  _____________________^ starting here...\n+   |  _____________________^\n 24 | |                                 .filter_map(|x| x.checked_mul(2))\n 25 | |                                 .map(|x| x.checked_mul(2))\n-   | |__________________________________________________________^ ...ending here\n+   | |__________________________________________________________^\n    |\n    = note: #[deny(filter_map)] implied by #[deny(clippy_pedantic)]\n "}, {"sha": "aff2baeed0c9ed3056025b79e25c0b1cc3a16f36", "filename": "tests/ui/for_loop.stderr", "status": "modified", "additions": 50, "deletions": 75, "changes": 125, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Ffor_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Ffor_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffor_loop.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -38,12 +38,11 @@ error: for loop over `option.ok_or(\"x not found\")`, which is a `Result`. This is\n error: you are iterating over `Iterator::next()` which is an Option; this will compile but is probably not what you want\n   --> $DIR/for_loop.rs:40:5\n    |\n-40 |       for x in v.iter().next() {\n-   |  _____^ starting here...\n+40 | /     for x in v.iter().next() {\n 41 | |\n 42 | |         println!(\"{}\", x);\n 43 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n    = note: #[deny(iter_next_loop)] implied by #[deny(clippy)]\n note: lint level defined here\n@@ -73,15 +72,14 @@ error: for loop over `v.iter().next().ok_or(\"x not found\")`, which is a `Result`\n error: the loop variable `i` is only used to index `vec`.\n    --> $DIR/for_loop.rs:99:5\n     |\n-99  |       for i in 0..vec.len() {\n-    |  _____^ starting here...\n+99  | /     for i in 0..vec.len() {\n 100 | |\n 101 | |\n 102 | |\n 103 | |\n 104 | |         println!(\"{}\", vec[i]);\n 105 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: lint level defined here\n    --> $DIR/for_loop.rs:90:8\n@@ -111,190 +109,178 @@ help: consider using an iterator\n error: the loop variable `j` is only used to index `STATIC`.\n    --> $DIR/for_loop.rs:120:5\n     |\n-120 |       for j in 0..4 {\n-    |  _____^ starting here...\n+120 | /     for j in 0..4 {\n 121 | |\n 122 | |\n 123 | |\n 124 | |\n 125 | |         println!(\"{:?}\", STATIC[j]);\n 126 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in STATIC.iter().take(4) {\n \n error: the loop variable `j` is only used to index `CONST`.\n    --> $DIR/for_loop.rs:128:5\n     |\n-128 |       for j in 0..4 {\n-    |  _____^ starting here...\n+128 | /     for j in 0..4 {\n 129 | |\n 130 | |\n 131 | |\n 132 | |\n 133 | |         println!(\"{:?}\", CONST[j]);\n 134 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in CONST.iter().take(4) {\n \n error: the loop variable `i` is used to index `vec`\n    --> $DIR/for_loop.rs:136:5\n     |\n-136 |       for i in 0..vec.len() {\n-    |  _____^ starting here...\n+136 | /     for i in 0..vec.len() {\n 137 | |\n 138 | |\n 139 | |\n 140 | |\n 141 | |         println!(\"{} {}\", vec[i], i);\n 142 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for (i, <item>) in vec.iter().enumerate() {\n \n error: the loop variable `i` is only used to index `vec2`.\n    --> $DIR/for_loop.rs:147:5\n     |\n-147 |       for i in 0..vec.len() {\n-    |  _____^ starting here...\n+147 | /     for i in 0..vec.len() {\n 148 | |\n 149 | |\n 150 | |\n 151 | |\n 152 | |         println!(\"{}\", vec2[i]);\n 153 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in vec2.iter().take(vec.len()) {\n \n error: the loop variable `i` is only used to index `vec`.\n    --> $DIR/for_loop.rs:155:5\n     |\n-155 |       for i in 5..vec.len() {\n-    |  _____^ starting here...\n+155 | /     for i in 5..vec.len() {\n 156 | |\n 157 | |\n 158 | |\n 159 | |\n 160 | |         println!(\"{}\", vec[i]);\n 161 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in vec.iter().skip(5) {\n \n error: the loop variable `i` is only used to index `vec`.\n    --> $DIR/for_loop.rs:163:5\n     |\n-163 |       for i in 0..MAX_LEN {\n-    |  _____^ starting here...\n+163 | /     for i in 0..MAX_LEN {\n 164 | |\n 165 | |\n 166 | |\n 167 | |\n 168 | |         println!(\"{}\", vec[i]);\n 169 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in vec.iter().take(MAX_LEN) {\n \n error: the loop variable `i` is only used to index `vec`.\n    --> $DIR/for_loop.rs:171:5\n     |\n-171 |       for i in 0...MAX_LEN {\n-    |  _____^ starting here...\n+171 | /     for i in 0...MAX_LEN {\n 172 | |\n 173 | |\n 174 | |\n 175 | |\n 176 | |         println!(\"{}\", vec[i]);\n 177 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in vec.iter().take(MAX_LEN + 1) {\n \n error: the loop variable `i` is only used to index `vec`.\n    --> $DIR/for_loop.rs:179:5\n     |\n-179 |       for i in 5..10 {\n-    |  _____^ starting here...\n+179 | /     for i in 5..10 {\n 180 | |\n 181 | |\n 182 | |\n 183 | |\n 184 | |         println!(\"{}\", vec[i]);\n 185 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in vec.iter().take(10).skip(5) {\n \n error: the loop variable `i` is only used to index `vec`.\n    --> $DIR/for_loop.rs:187:5\n     |\n-187 |       for i in 5...10 {\n-    |  _____^ starting here...\n+187 | /     for i in 5...10 {\n 188 | |\n 189 | |\n 190 | |\n 191 | |\n 192 | |         println!(\"{}\", vec[i]);\n 193 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for <item> in vec.iter().take(10 + 1).skip(5) {\n \n error: the loop variable `i` is used to index `vec`\n    --> $DIR/for_loop.rs:195:5\n     |\n-195 |       for i in 5..vec.len() {\n-    |  _____^ starting here...\n+195 | /     for i in 5..vec.len() {\n 196 | |\n 197 | |\n 198 | |\n 199 | |\n 200 | |         println!(\"{} {}\", vec[i], i);\n 201 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for (i, <item>) in vec.iter().enumerate().skip(5) {\n \n error: the loop variable `i` is used to index `vec`\n    --> $DIR/for_loop.rs:203:5\n     |\n-203 |       for i in 5..10 {\n-    |  _____^ starting here...\n+203 | /     for i in 5..10 {\n 204 | |\n 205 | |\n 206 | |\n 207 | |\n 208 | |         println!(\"{} {}\", vec[i], i);\n 209 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using an iterator\n     |     for (i, <item>) in vec.iter().enumerate().take(10).skip(5) {\n \n error: this range is empty so this for loop will never run\n    --> $DIR/for_loop.rs:211:5\n     |\n-211 |       for i in 10..0 {\n-    |  _____^ starting here...\n+211 | /     for i in 10..0 {\n 212 | |\n 213 | |\n 214 | |\n 215 | |         println!(\"{}\", i);\n 216 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: lint level defined here\n    --> $DIR/for_loop.rs:90:90\n@@ -307,79 +293,73 @@ help: consider using the following if you are attempting to iterate over this ra\n error: this range is empty so this for loop will never run\n    --> $DIR/for_loop.rs:218:5\n     |\n-218 |       for i in 10...0 {\n-    |  _____^ starting here...\n+218 | /     for i in 10...0 {\n 219 | |\n 220 | |\n 221 | |\n 222 | |         println!(\"{}\", i);\n 223 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |     for i in (0...10).rev() {\n \n error: this range is empty so this for loop will never run\n    --> $DIR/for_loop.rs:225:5\n     |\n-225 |       for i in MAX_LEN..0 {\n-    |  _____^ starting here...\n+225 | /     for i in MAX_LEN..0 {\n 226 | |\n 227 | |\n 228 | |         println!(\"{}\", i);\n 229 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |     for i in (0..MAX_LEN).rev() {\n \n error: this range is empty so this for loop will never run\n    --> $DIR/for_loop.rs:231:5\n     |\n-231 |       for i in 5..5 {\n-    |  _____^ starting here...\n+231 | /     for i in 5..5 {\n 232 | |         println!(\"{}\", i);\n 233 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: this range is empty so this for loop will never run\n    --> $DIR/for_loop.rs:252:5\n     |\n-252 |       for i in 10..5+4 {\n-    |  _____^ starting here...\n+252 | /     for i in 10..5+4 {\n 253 | |\n 254 | |\n 255 | |\n 256 | |         println!(\"{}\", i);\n 257 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |     for i in (5+4..10).rev() {\n \n error: this range is empty so this for loop will never run\n    --> $DIR/for_loop.rs:259:5\n     |\n-259 |       for i in (5+2)..(3-1) {\n-    |  _____^ starting here...\n+259 | /     for i in (5+2)..(3-1) {\n 260 | |\n 261 | |\n 262 | |\n 263 | |         println!(\"{}\", i);\n 264 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: consider using the following if you are attempting to iterate over this range in reverse\n     |     for i in ((3-1)..(5+2)).rev() {\n \n error: this range is empty so this for loop will never run\n    --> $DIR/for_loop.rs:266:5\n     |\n-266 |       for i in (5+2)..(8-1) {\n-    |  _____^ starting here...\n+266 | /     for i in (5+2)..(8-1) {\n 267 | |         println!(\"{}\", i);\n 268 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: it is more idiomatic to loop over references to containers instead of using explicit iteration methods\n    --> $DIR/for_loop.rs:289:15\n@@ -553,15 +533,14 @@ error: the variable `_index` is used as a loop counter. Consider using `for (_in\n error: you seem to want to iterate on a map's values\n    --> $DIR/for_loop.rs:444:5\n     |\n-444 |       for (_, v) in &m {\n-    |  _____^ starting here...\n+444 | /     for (_, v) in &m {\n 445 | |\n 446 | |\n 447 | |\n 448 | |\n 449 | |         let _v = v;\n 450 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n note: lint level defined here\n    --> $DIR/for_loop.rs:90:133\n@@ -574,63 +553,59 @@ help: use the corresponding method\n error: you seem to want to iterate on a map's values\n    --> $DIR/for_loop.rs:453:5\n     |\n-453 |       for (_, v) in &*m {\n-    |  _____^ starting here...\n+453 | /     for (_, v) in &*m {\n 454 | |\n 455 | |\n 456 | |\n ...   |\n 460 | |         // `in *m.values()` as we used to\n 461 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: use the corresponding method\n     |     for v in (*m).values() {\n \n error: you seem to want to iterate on a map's values\n    --> $DIR/for_loop.rs:464:5\n     |\n-464 |       for (_, v) in &mut m {\n-    |  _____^ starting here...\n+464 | /     for (_, v) in &mut m {\n 465 | |\n 466 | |\n 467 | |\n 468 | |\n 469 | |         let _v = v;\n 470 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: use the corresponding method\n     |     for v in m.values_mut() {\n \n error: you seem to want to iterate on a map's values\n    --> $DIR/for_loop.rs:473:5\n     |\n-473 |       for (_, v) in &mut *m {\n-    |  _____^ starting here...\n+473 | /     for (_, v) in &mut *m {\n 474 | |\n 475 | |\n 476 | |\n 477 | |\n 478 | |         let _v = v;\n 479 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: use the corresponding method\n     |     for v in (*m).values_mut() {\n \n error: you seem to want to iterate on a map's keys\n    --> $DIR/for_loop.rs:483:5\n     |\n-483 |       for (k, _value) in rm {\n-    |  _____^ starting here...\n+483 | /     for (k, _value) in rm {\n 484 | |\n 485 | |\n 486 | |\n 487 | |\n 488 | |         let _k = k;\n 489 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: use the corresponding method\n     |     for k in rm.keys() {"}, {"sha": "a96901e4fbcc53f10f71c0ea75702f2fa0266ce6", "filename": "tests/ui/formatting.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fformatting.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fformatting.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fformatting.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -34,11 +34,11 @@ error: this is an `else if` but the formatting might hide it\n   --> $DIR/formatting.rs:45:6\n    |\n 45 |       } else\n-   |  ______^ starting here...\n+   |  ______^\n 46 | |\n 47 | |\n 48 | |     if foo() { // the span of the above error should continue here\n-   | |____^ ...ending here\n+   | |____^\n    |\n    = note: #[deny(suspicious_else_formatting)] implied by #[deny(clippy)]\n    = note: to remove this lint, remove the `else` or remove the new line between `else` and `if`\n@@ -47,12 +47,12 @@ error: this is an `else if` but the formatting might hide it\n   --> $DIR/formatting.rs:52:6\n    |\n 52 |       }\n-   |  ______^ starting here...\n+   |  ______^\n 53 | |\n 54 | |\n 55 | |     else\n 56 | |     if foo() { // the span of the above error should continue here\n-   | |____^ ...ending here\n+   | |____^\n    |\n    = note: #[deny(suspicious_else_formatting)] implied by #[deny(clippy)]\n    = note: to remove this lint, remove the `else` or remove the new line between `else` and `if`"}, {"sha": "6e674ffb7b21594fef676a69e461eab79081b713", "filename": "tests/ui/functions.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Ffunctions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Ffunctions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffunctions.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,11 +1,10 @@\n error: this function has too many arguments (8/7)\n   --> $DIR/functions.rs:11:1\n    |\n-11 |   fn bad(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ()) {\n-   |  _^ starting here...\n+11 | / fn bad(_one: u32, _two: u32, _three: &str, _four: bool, _five: f32, _six: f32, _seven: bool, _eight: ()) {\n 12 | |\n 13 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n    = note: #[deny(too_many_arguments)] implied by #[deny(clippy)]\n note: lint level defined here"}, {"sha": "75e814ee0eec34e28d678a784e12021c77f46e3e", "filename": "tests/ui/if_not_else.stderr", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fif_not_else.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fif_not_else.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fif_not_else.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,13 +1,12 @@\n error: Unnecessary boolean `not` operation\n   --> $DIR/if_not_else.rs:9:5\n    |\n-9  |       if !bla() {\n-   |  _____^ starting here...\n+9  | /     if !bla() {\n 10 | |         println!(\"Bugs\");\n 11 | |     } else {\n 12 | |         println!(\"Bunny\");\n 13 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/if_not_else.rs:4:9\n@@ -19,13 +18,12 @@ note: lint level defined here\n error: Unnecessary `!=` operation\n   --> $DIR/if_not_else.rs:14:5\n    |\n-14 |       if 4 != 5 {\n-   |  _____^ starting here...\n+14 | /     if 4 != 5 {\n 15 | |         println!(\"Bugs\");\n 16 | |     } else {\n 17 | |         println!(\"Bunny\");\n 18 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n    = help: change to `==` and swap the blocks of the if/else\n "}, {"sha": "2961ae9e5b59ec5d0d060f2ad09802f0f2061292", "filename": "tests/ui/len_zero.stderr", "status": "modified", "additions": 8, "deletions": 12, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Flen_zero.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Flen_zero.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flen_zero.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,13 +1,12 @@\n error: item `PubOne` has a public `len` method but no corresponding `is_empty` method\n   --> $DIR/len_zero.rs:9:1\n    |\n-9  |   impl PubOne {\n-   |  _^ starting here...\n+9  | / impl PubOne {\n 10 | |     pub fn len(self: &Self) -> isize {\n 11 | |         1\n 12 | |     }\n 13 | | }\n-   | |_^ ...ending here\n+   | |_^\n    |\n note: lint level defined here\n   --> $DIR/len_zero.rs:4:9\n@@ -18,37 +17,34 @@ note: lint level defined here\n error: trait `PubTraitsToo` has a `len` method but no `is_empty` method\n   --> $DIR/len_zero.rs:55:1\n    |\n-55 |   pub trait PubTraitsToo {\n-   |  _^ starting here...\n+55 | / pub trait PubTraitsToo {\n 56 | |     fn len(self: &Self) -> isize;\n 57 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: item `HasIsEmpty` has a public `len` method but a private `is_empty` method\n   --> $DIR/len_zero.rs:89:1\n    |\n-89 |   impl HasIsEmpty {\n-   |  _^ starting here...\n+89 | / impl HasIsEmpty {\n 90 | |     pub fn len(self: &Self) -> isize {\n 91 | |         1\n 92 | |     }\n ...  |\n 96 | |     }\n 97 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: item `HasWrongIsEmpty` has a public `len` method but no corresponding `is_empty` method\n    --> $DIR/len_zero.rs:118:1\n     |\n-118 |   impl HasWrongIsEmpty {\n-    |  _^ starting here...\n+118 | / impl HasWrongIsEmpty {\n 119 | |     pub fn len(self: &Self) -> isize {\n 120 | |         1\n 121 | |     }\n ...   |\n 125 | |     }\n 126 | | }\n-    | |_^ ...ending here\n+    | |_^\n \n error: length comparison to zero\n    --> $DIR/len_zero.rs:130:8"}, {"sha": "65139c9ba92de90c42b6a3e2c33fb68d6986a2df", "filename": "tests/ui/let_if_seq.stderr", "status": "modified", "additions": 8, "deletions": 12, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Flet_if_seq.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Flet_if_seq.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flet_if_seq.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,15 +1,14 @@\n error: `if _ { .. } else { .. }` is an expression\n   --> $DIR/let_if_seq.rs:57:5\n    |\n-57 |       let mut foo = 0;\n-   |  _____^ starting here...\n+57 | /     let mut foo = 0;\n 58 | |\n 59 | |\n 60 | |\n 61 | |     if f() {\n 62 | |         foo = 42;\n 63 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/let_if_seq.rs:5:9\n@@ -23,15 +22,14 @@ help: it is more idiomatic to write\n error: `if _ { .. } else { .. }` is an expression\n   --> $DIR/let_if_seq.rs:65:5\n    |\n-65 |       let mut bar = 0;\n-   |  _____^ starting here...\n+65 | /     let mut bar = 0;\n 66 | |\n 67 | |\n 68 | |\n ...  |\n 74 | |         f();\n 75 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: it is more idiomatic to write\n    |     let <mut> bar = if f() { ..; 42 } else { ..; 0 };\n@@ -40,31 +38,29 @@ help: it is more idiomatic to write\n error: `if _ { .. } else { .. }` is an expression\n   --> $DIR/let_if_seq.rs:77:5\n    |\n-77 |       let quz;\n-   |  _____^ starting here...\n+77 | /     let quz;\n 78 | |\n 79 | |\n 80 | |\n ...  |\n 85 | |         quz = 0;\n 86 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: it is more idiomatic to write\n    |     let quz = if f() { 42 } else { 0 };\n \n error: `if _ { .. } else { .. }` is an expression\n    --> $DIR/let_if_seq.rs:111:5\n     |\n-111 |       let mut baz = 0;\n-    |  _____^ starting here...\n+111 | /     let mut baz = 0;\n 112 | |\n 113 | |\n 114 | |\n 115 | |     if f() {\n 116 | |         baz = 42;\n 117 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: it is more idiomatic to write\n     |     let <mut> baz = if f() { 42 } else { 0 };"}, {"sha": "15306dfcc11e634197370bf0c043ecec9d085e25", "filename": "tests/ui/lifetimes.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Flifetimes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Flifetimes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flifetimes.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -43,11 +43,10 @@ error: explicit lifetimes given in parameter types where they could be elided\n error: explicit lifetimes given in parameter types where they could be elided\n   --> $DIR/lifetimes.rs:58:1\n    |\n-58 |   fn fn_bound_2<'a, F, I>(_m: Lt<'a, I>, _f: F) -> Lt<'a, I>\n-   |  _^ starting here...\n+58 | / fn fn_bound_2<'a, F, I>(_m: Lt<'a, I>, _f: F) -> Lt<'a, I>\n 59 | |     where for<'x> F: Fn(Lt<'x, I>) -> Lt<'x, I>\n 60 | | { unreachable!() }\n-   | |__________________^ ...ending here\n+   | |__________________^\n \n error: explicit lifetimes given in parameter types where they could be elided\n   --> $DIR/lifetimes.rs:67:5"}, {"sha": "25653b6aa5ac9fb64f88e8c0c1797b3a3bfc2735", "filename": "tests/ui/matches.stderr", "status": "modified", "additions": 34, "deletions": 51, "changes": 85, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmatches.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmatches.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmatches.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,15 +1,14 @@\n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n   --> $DIR/matches.rs:26:5\n    |\n-26 |       match ExprNode::Butterflies {\n-   |  _____^ starting here...\n+26 | /     match ExprNode::Butterflies {\n 27 | |\n 28 | |\n 29 | |\n 30 | |         ExprNode::ExprAddrOf => Some(&NODE),\n 31 | |         _ => { let x = 5; None },\n 32 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/matches.rs:7:9\n@@ -22,15 +21,14 @@ help: try this\n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n   --> $DIR/matches.rs:38:5\n    |\n-38 |       match x {\n-   |  _____^ starting here...\n+38 | /     match x {\n 39 | |\n 40 | |\n 41 | |\n 42 | |         Some(y) => { println!(\"{:?}\", y); }\n 43 | |         _ => ()\n 44 | |     };\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n    = note: #[deny(single_match)] implied by #[deny(clippy)]\n note: lint level defined here\n@@ -44,15 +42,14 @@ help: try this\n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n   --> $DIR/matches.rs:47:5\n    |\n-47 |       match z {\n-   |  _____^ starting here...\n+47 | /     match z {\n 48 | |\n 49 | |\n 50 | |\n 51 | |         (2...3, 7...9) => dummy(),\n 52 | |         _ => {}\n 53 | |     };\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n    = note: #[deny(single_match)] implied by #[deny(clippy)]\n help: try this\n@@ -61,15 +58,14 @@ help: try this\n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n   --> $DIR/matches.rs:72:5\n    |\n-72 |       match x {\n-   |  _____^ starting here...\n+72 | /     match x {\n 73 | |\n 74 | |\n 75 | |\n 76 | |         Some(y) => dummy(),\n 77 | |         None => ()\n 78 | |     };\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n    = note: #[deny(single_match)] implied by #[deny(clippy)]\n help: try this\n@@ -78,15 +74,14 @@ help: try this\n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n   --> $DIR/matches.rs:80:5\n    |\n-80 |       match y {\n-   |  _____^ starting here...\n+80 | /     match y {\n 81 | |\n 82 | |\n 83 | |\n 84 | |         Ok(y) => dummy(),\n 85 | |         Err(..) => ()\n 86 | |     };\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n    = note: #[deny(single_match)] implied by #[deny(clippy)]\n help: try this\n@@ -95,15 +90,14 @@ help: try this\n error: you seem to be trying to use match for destructuring a single pattern. Consider using `if let`\n   --> $DIR/matches.rs:90:5\n    |\n-90 |       match c {\n-   |  _____^ starting here...\n+90 | /     match c {\n 91 | |\n 92 | |\n 93 | |\n 94 | |         Cow::Borrowed(..) => dummy(),\n 95 | |         Cow::Owned(..) => (),\n 96 | |     };\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n    = note: #[deny(single_match)] implied by #[deny(clippy)]\n help: try this\n@@ -112,15 +106,14 @@ help: try this\n error: you seem to be trying to match on a boolean expression\n    --> $DIR/matches.rs:114:5\n     |\n-114 |       match test {\n-    |  _____^ starting here...\n+114 | /     match test {\n 115 | |\n 116 | |\n 117 | |\n 118 | |         true => 0,\n 119 | |         false => 42,\n 120 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_bool)] implied by #[deny(clippy)]\n note: lint level defined here\n@@ -134,15 +127,14 @@ help: consider using an if/else expression\n error: you seem to be trying to match on a boolean expression\n    --> $DIR/matches.rs:123:5\n     |\n-123 |       match option == 1 {\n-    |  _____^ starting here...\n+123 | /     match option == 1 {\n 124 | |\n 125 | |\n 126 | |\n 127 | |         true => 1,\n 128 | |         false => 0,\n 129 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_bool)] implied by #[deny(clippy)]\n help: consider using an if/else expression\n@@ -151,15 +143,14 @@ help: consider using an if/else expression\n error: you seem to be trying to match on a boolean expression\n    --> $DIR/matches.rs:131:5\n     |\n-131 |       match test {\n-    |  _____^ starting here...\n+131 | /     match test {\n 132 | |\n 133 | |\n 134 | |\n 135 | |         true => (),\n 136 | |         false => { println!(\"Noooo!\"); }\n 137 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_bool)] implied by #[deny(clippy)]\n help: consider using an if/else expression\n@@ -168,15 +159,14 @@ help: consider using an if/else expression\n error: you seem to be trying to match on a boolean expression\n    --> $DIR/matches.rs:139:5\n     |\n-139 |       match test {\n-    |  _____^ starting here...\n+139 | /     match test {\n 140 | |\n 141 | |\n 142 | |\n 143 | |         false => { println!(\"Noooo!\"); }\n 144 | |         _ => (),\n 145 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_bool)] implied by #[deny(clippy)]\n help: consider using an if/else expression\n@@ -185,15 +175,14 @@ help: consider using an if/else expression\n error: you seem to be trying to match on a boolean expression\n    --> $DIR/matches.rs:147:5\n     |\n-147 |       match test && test {\n-    |  _____^ starting here...\n+147 | /     match test && test {\n 148 | |\n 149 | |\n 150 | |\n ...   |\n 153 | |         _ => (),\n 154 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_bool)] implied by #[deny(clippy)]\n help: consider using an if/else expression\n@@ -215,15 +204,14 @@ note: lint level defined here\n error: you seem to be trying to match on a boolean expression\n    --> $DIR/matches.rs:156:5\n     |\n-156 |       match test {\n-    |  _____^ starting here...\n+156 | /     match test {\n 157 | |\n 158 | |\n 159 | |\n 160 | |         false => { println!(\"Noooo!\"); }\n 161 | |         true => { println!(\"Yes!\"); }\n 162 | |     };\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_bool)] implied by #[deny(clippy)]\n help: consider using an if/else expression\n@@ -232,15 +220,14 @@ help: consider using an if/else expression\n error: you don't need to add `&` to all patterns\n    --> $DIR/matches.rs:175:9\n     |\n-175 |           match v {\n-    |  _________^ starting here...\n+175 | /         match v {\n 176 | |\n 177 | |\n 178 | |\n 179 | |             &Some(v) => println!(\"{:?}\", v),\n 180 | |             &None => println!(\"none\"),\n 181 | |         }\n-    | |_________^ ...ending here\n+    | |_________^\n     |\n     = note: #[deny(match_ref_pats)] implied by #[deny(clippy)]\n note: lint level defined here\n@@ -254,15 +241,14 @@ help: instead of prefixing all patterns with `&`, you can dereference the expres\n error: you don't need to add `&` to all patterns\n    --> $DIR/matches.rs:188:5\n     |\n-188 |       match tup {\n-    |  _____^ starting here...\n+188 | /     match tup {\n 189 | |\n 190 | |\n 191 | |\n 192 | |         &(v, 1) => println!(\"{}\", v),\n 193 | |         _ => println!(\"none\"),\n 194 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_ref_pats)] implied by #[deny(clippy)]\n help: instead of prefixing all patterns with `&`, you can dereference the expression\n@@ -271,15 +257,14 @@ help: instead of prefixing all patterns with `&`, you can dereference the expres\n error: you don't need to add `&` to both the expression and the patterns\n    --> $DIR/matches.rs:197:5\n     |\n-197 |       match &w {\n-    |  _____^ starting here...\n+197 | /     match &w {\n 198 | |\n 199 | |\n 200 | |\n 201 | |         &Some(v) => println!(\"{:?}\", v),\n 202 | |         &None => println!(\"none\"),\n 203 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_ref_pats)] implied by #[deny(clippy)]\n help: try\n@@ -288,14 +273,13 @@ help: try\n error: you don't need to add `&` to all patterns\n    --> $DIR/matches.rs:211:5\n     |\n-211 |       if let &None = a {\n-    |  _____^ starting here...\n+211 | /     if let &None = a {\n 212 | |\n 213 | |\n 214 | |\n 215 | |         println!(\"none\");\n 216 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_ref_pats)] implied by #[deny(clippy)]\n help: instead of prefixing all patterns with `&`, you can dereference the expression\n@@ -304,14 +288,13 @@ help: instead of prefixing all patterns with `&`, you can dereference the expres\n error: you don't need to add `&` to both the expression and the patterns\n    --> $DIR/matches.rs:219:5\n     |\n-219 |       if let &None = &b {\n-    |  _____^ starting here...\n+219 | /     if let &None = &b {\n 220 | |\n 221 | |\n 222 | |\n 223 | |         println!(\"none\");\n 224 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n     = note: #[deny(match_ref_pats)] implied by #[deny(clippy)]\n help: try"}, {"sha": "3d5289d2c1d570b64eec48398706d4e40df79b38", "filename": "tests/ui/methods.stderr", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmethods.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmethods.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmethods.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -65,10 +65,10 @@ error: called `map(f).unwrap_or(a)` on an Option value. This can be done more di\n    --> $DIR/methods.rs:99:13\n     |\n 99  |       let _ = opt.map(|x| x + 1)\n-    |  _____________^ starting here...\n+    |  _____________^\n 100 | |\n 101 | |                .unwrap_or(0); // should lint even though this call is on a separate line\n-    | |____________________________^ ...ending here\n+    | |____________________________^\n     |\n     = note: #[deny(option_map_unwrap_or)] implied by #[deny(clippy_pedantic)]\n note: lint level defined here\n@@ -82,34 +82,34 @@ error: called `map(f).unwrap_or(a)` on an Option value. This can be done more di\n    --> $DIR/methods.rs:103:13\n     |\n 103 |       let _ = opt.map(|x| {\n-    |  _____________^ starting here...\n+    |  _____________^\n 104 | |                         x + 1\n 105 | |                     }\n 106 | |               ).unwrap_or(0);\n-    | |____________________________^ ...ending here\n+    | |____________________________^\n     |\n     = note: #[deny(option_map_unwrap_or)] implied by #[deny(clippy_pedantic)]\n \n error: called `map(f).unwrap_or(a)` on an Option value. This can be done more directly by calling `map_or(a, f)` instead\n    --> $DIR/methods.rs:107:13\n     |\n 107 |       let _ = opt.map(|x| x + 1)\n-    |  _____________^ starting here...\n+    |  _____________^\n 108 | |                .unwrap_or({\n 109 | |                     0\n 110 | |                 });\n-    | |__________________^ ...ending here\n+    | |__________________^\n     |\n     = note: #[deny(option_map_unwrap_or)] implied by #[deny(clippy_pedantic)]\n \n error: called `map(f).unwrap_or_else(g)` on an Option value. This can be done more directly by calling `map_or_else(g, f)` instead\n    --> $DIR/methods.rs:116:13\n     |\n 116 |       let _ = opt.map(|x| x + 1)\n-    |  _____________^ starting here...\n+    |  _____________^\n 117 | |\n 118 | |                .unwrap_or_else(|| 0); // should lint even though this call is on a separate line\n-    | |____________________________________^ ...ending here\n+    | |____________________________________^\n     |\n     = note: #[deny(option_map_unwrap_or_else)] implied by #[deny(clippy_pedantic)]\n note: lint level defined here\n@@ -123,23 +123,23 @@ error: called `map(f).unwrap_or_else(g)` on an Option value. This can be done mo\n    --> $DIR/methods.rs:120:13\n     |\n 120 |       let _ = opt.map(|x| {\n-    |  _____________^ starting here...\n+    |  _____________^\n 121 | |                         x + 1\n 122 | |                     }\n 123 | |               ).unwrap_or_else(|| 0);\n-    | |____________________________________^ ...ending here\n+    | |____________________________________^\n     |\n     = note: #[deny(option_map_unwrap_or_else)] implied by #[deny(clippy_pedantic)]\n \n error: called `map(f).unwrap_or_else(g)` on an Option value. This can be done more directly by calling `map_or_else(g, f)` instead\n    --> $DIR/methods.rs:124:13\n     |\n 124 |       let _ = opt.map(|x| x + 1)\n-    |  _____________^ starting here...\n+    |  _____________^\n 125 | |                .unwrap_or_else(||\n 126 | |                     0\n 127 | |                 );\n-    | |_________________^ ...ending here\n+    | |_________________^\n     |\n     = note: #[deny(option_map_unwrap_or_else)] implied by #[deny(clippy_pedantic)]\n \n@@ -161,11 +161,11 @@ error: called `filter(p).next()` on an `Iterator`. This is more succinctly expre\n    --> $DIR/methods.rs:201:13\n     |\n 201 |       let _ = v.iter().filter(|&x| {\n-    |  _____________^ starting here...\n+    |  _____________^\n 202 | |                                 *x < 0\n 203 | |                             }\n 204 | |                    ).next();\n-    | |___________________________^ ...ending here\n+    | |___________________________^\n     |\n     = note: #[deny(filter_next)] implied by #[deny(clippy)]\n \n@@ -187,11 +187,11 @@ error: called `is_some()` after searching an `Iterator` with find. This is more\n    --> $DIR/methods.rs:221:13\n     |\n 221 |       let _ = v.iter().find(|&x| {\n-    |  _____________^ starting here...\n+    |  _____________^\n 222 | |                               *x < 0\n 223 | |                           }\n 224 | |                    ).is_some();\n-    | |______________________________^ ...ending here\n+    | |______________________________^\n     |\n     = note: #[deny(search_is_some)] implied by #[deny(clippy)]\n \n@@ -208,11 +208,11 @@ error: called `is_some()` after searching an `Iterator` with position. This is m\n    --> $DIR/methods.rs:232:13\n     |\n 232 |       let _ = v.iter().position(|&x| {\n-    |  _____________^ starting here...\n+    |  _____________^\n 233 | |                                   x < 0\n 234 | |                               }\n 235 | |                    ).is_some();\n-    | |______________________________^ ...ending here\n+    | |______________________________^\n     |\n     = note: #[deny(search_is_some)] implied by #[deny(clippy)]\n \n@@ -229,11 +229,11 @@ error: called `is_some()` after searching an `Iterator` with rposition. This is\n    --> $DIR/methods.rs:243:13\n     |\n 243 |       let _ = v.iter().rposition(|&x| {\n-    |  _____________^ starting here...\n+    |  _____________^\n 244 | |                                    x < 0\n 245 | |                                }\n 246 | |                    ).is_some();\n-    | |______________________________^ ...ending here\n+    | |______________________________^\n     |\n     = note: #[deny(search_is_some)] implied by #[deny(clippy)]\n "}, {"sha": "3e1e7b0135ecc0b7e7de578eb1040702a61257eb", "filename": "tests/ui/missing-doc.stderr", "status": "modified", "additions": 16, "deletions": 24, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmissing-doc.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmissing-doc.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmissing-doc.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -19,12 +19,11 @@ error: missing documentation for a type alias\n error: missing documentation for a struct\n   --> $DIR/missing-doc.rs:29:1\n    |\n-29 |   struct Foo {\n-   |  _^ starting here...\n+29 | / struct Foo {\n 30 | |     a: isize,\n 31 | |     b: isize,\n 32 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: missing documentation for a struct field\n   --> $DIR/missing-doc.rs:30:5\n@@ -41,12 +40,11 @@ error: missing documentation for a struct field\n error: missing documentation for a struct\n   --> $DIR/missing-doc.rs:34:1\n    |\n-34 |   pub struct PubFoo {\n-   |  _^ starting here...\n+34 | / pub struct PubFoo {\n 35 | |     pub a: isize,\n 36 | |     b: isize,\n 37 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: missing documentation for a struct field\n   --> $DIR/missing-doc.rs:35:5\n@@ -87,12 +85,11 @@ error: missing documentation for a function\n error: missing documentation for a trait\n   --> $DIR/missing-doc.rs:68:1\n    |\n-68 |   pub trait C {\n-   |  _^ starting here...\n+68 | / pub trait C {\n 69 | |     fn foo(&self);\n 70 | |     fn foo_with_impl(&self) {}\n 71 | | }\n-   | |_^ ...ending here\n+   | |_^\n \n error: missing documentation for a trait method\n   --> $DIR/missing-doc.rs:69:5\n@@ -145,25 +142,23 @@ error: missing documentation for a method\n error: missing documentation for an enum\n    --> $DIR/missing-doc.rs:126:1\n     |\n-126 |   enum Baz {\n-    |  _^ starting here...\n+126 | / enum Baz {\n 127 | |     BazA {\n 128 | |         a: isize,\n 129 | |         b: isize\n 130 | |     },\n 131 | |     BarB\n 132 | | }\n-    | |_^ ...ending here\n+    | |_^\n \n error: missing documentation for a variant\n    --> $DIR/missing-doc.rs:127:5\n     |\n-127 |       BazA {\n-    |  _____^ starting here...\n+127 | /     BazA {\n 128 | |         a: isize,\n 129 | |         b: isize\n 130 | |     },\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: missing documentation for a struct field\n    --> $DIR/missing-doc.rs:128:9\n@@ -186,22 +181,20 @@ error: missing documentation for a variant\n error: missing documentation for an enum\n    --> $DIR/missing-doc.rs:134:1\n     |\n-134 |   pub enum PubBaz {\n-    |  _^ starting here...\n+134 | / pub enum PubBaz {\n 135 | |     PubBazA {\n 136 | |         a: isize,\n 137 | |     },\n 138 | | }\n-    | |_^ ...ending here\n+    | |_^\n \n error: missing documentation for a variant\n    --> $DIR/missing-doc.rs:135:5\n     |\n-135 |       PubBazA {\n-    |  _____^ starting here...\n+135 | /     PubBazA {\n 136 | |         a: isize,\n 137 | |     },\n-    | |_____^ ...ending here\n+    | |_____^\n \n error: missing documentation for a struct field\n    --> $DIR/missing-doc.rs:136:9\n@@ -236,15 +229,14 @@ error: missing documentation for a static\n error: missing documentation for a module\n    --> $DIR/missing-doc.rs:180:1\n     |\n-180 |   mod internal_impl {\n-    |  _^ starting here...\n+180 | / mod internal_impl {\n 181 | |     /// dox\n 182 | |     pub fn documented() {}\n 183 | |     pub fn undocumented1() {}\n ...   |\n 192 | |     }\n 193 | | }\n-    | |_^ ...ending here\n+    | |_^\n \n error: missing documentation for a function\n    --> $DIR/missing-doc.rs:183:5"}, {"sha": "44041eae000e8c7bb0f3630ff04b9d4f5088971d", "filename": "tests/ui/module_inception.stderr", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmodule_inception.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fmodule_inception.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmodule_inception.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,11 +1,10 @@\n error: module has the same name as its containing module\n  --> $DIR/module_inception.rs:7:9\n   |\n-7 |           mod bar {\n-  |  _________^ starting here...\n+7 | /         mod bar {\n 8 | |             mod foo {}\n 9 | |         }\n-  | |_________^ ...ending here\n+  | |_________^\n   |\n note: lint level defined here\n  --> $DIR/module_inception.rs:3:9\n@@ -16,11 +15,10 @@ note: lint level defined here\n error: module has the same name as its containing module\n   --> $DIR/module_inception.rs:12:5\n    |\n-12 |       mod foo {\n-   |  _____^ starting here...\n+12 | /     mod foo {\n 13 | |         mod bar {}\n 14 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n \n error: aborting due to 2 previous errors\n "}, {"sha": "6f465716e5c348bd5a7a55c13f614e782b6f213b", "filename": "tests/ui/never_loop.stderr", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fnever_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fnever_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnever_loop.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,12 +1,11 @@\n error: this loop never actually loops\n   --> $DIR/never_loop.rs:8:5\n    |\n-8  |       loop {\n-   |  _____^ starting here...\n+8  | /     loop {\n 9  | |         println!(\"This is only ever printed once\");\n 10 | |         break;\n 11 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/never_loop.rs:4:9\n@@ -17,25 +16,23 @@ note: lint level defined here\n error: this loop never actually loops\n   --> $DIR/never_loop.rs:21:5\n    |\n-21 |       loop {\n-   |  _____^ starting here...\n+21 | /     loop {\n 22 | |         loop {\n 23 | |             // another one\n 24 | |             break;\n 25 | |         }\n 26 | |         break;\n 27 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n \n error: this loop never actually loops\n   --> $DIR/never_loop.rs:22:9\n    |\n-22 |           loop {\n-   |  _________^ starting here...\n+22 | /         loop {\n 23 | |             // another one\n 24 | |             break;\n 25 | |         }\n-   | |_________^ ...ending here\n+   | |_________^\n \n error: aborting due to 3 previous errors\n "}, {"sha": "fdde6303b0849b5682734dca99cad566af48b038", "filename": "tests/ui/ok_if_let.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fok_if_let.rs", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fok_if_let.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fok_if_let.rs?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -4,7 +4,7 @@\n #![deny(if_let_some_result)]\n \n fn str_to_int(x: &str) -> i32 {\n-    if let Some(y) = x.parse().ok() { \n+    if let Some(y) = x.parse().ok() {\n \n         y\n     } else {"}, {"sha": "42f60d4097d8b2982a8398abbbd84b7af6b12cc3", "filename": "tests/ui/ok_if_let.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fok_if_let.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fok_if_let.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fok_if_let.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,14 +1,13 @@\n error: Matching on `Some` with `ok()` is redundant\n   --> $DIR/ok_if_let.rs:7:5\n    |\n-7  |       if let Some(y) = x.parse().ok() { \n-   |  _____^ starting here...\n+7  | /     if let Some(y) = x.parse().ok() {\n 8  | |\n 9  | |         y\n 10 | |     } else {\n 11 | |         0\n 12 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/ok_if_let.rs:4:9"}, {"sha": "b8b489165d0ad5bb04b6dd37aaff4471ca8a2441", "filename": "tests/ui/serde.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fserde.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fserde.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fserde.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,14 +1,13 @@\n error: you should not implement `visit_string` without also implementing `visit_str`\n   --> $DIR/serde.rs:39:5\n    |\n-39 |       fn visit_string<E>(self, _v: String) -> Result<Self::Value, E>\n-   |  _____^ starting here...\n+39 | /     fn visit_string<E>(self, _v: String) -> Result<Self::Value, E>\n 40 | |\n 41 | |         where E: serde::de::Error,\n 42 | |     {\n 43 | |         unimplemented!()\n 44 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/serde.rs:3:9"}, {"sha": "5aaf351b241603d7cdd649be50fb3727b32c7eaa", "filename": "tests/ui/swap.stderr", "status": "modified", "additions": 14, "deletions": 19, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fswap.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fswap.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fswap.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,11 +1,10 @@\n error: this looks like you are swapping elements of `foo` manually\n   --> $DIR/swap.rs:11:5\n    |\n-11 |       let temp = foo[0];\n-   |  _____^ starting here...\n+11 | /     let temp = foo[0];\n 12 | |     foo[0] = foo[1];\n 13 | |     foo[1] = temp;\n-   | |_________________^ ...ending here\n+   | |_________________^\n    |\n    = note: #[deny(manual_swap)] implied by #[deny(clippy)]\n note: lint level defined here\n@@ -19,11 +18,10 @@ help: try\n error: this looks like you are swapping elements of `foo` manually\n   --> $DIR/swap.rs:23:5\n    |\n-23 |       let temp = foo[0];\n-   |  _____^ starting here...\n+23 | /     let temp = foo[0];\n 24 | |     foo[0] = foo[1];\n 25 | |     foo[1] = temp;\n-   | |_________________^ ...ending here\n+   | |_________________^\n    |\n    = note: #[deny(manual_swap)] implied by #[deny(clippy)]\n help: try\n@@ -32,11 +30,10 @@ help: try\n error: this looks like you are swapping elements of `foo` manually\n   --> $DIR/swap.rs:35:5\n    |\n-35 |       let temp = foo[0];\n-   |  _____^ starting here...\n+35 | /     let temp = foo[0];\n 36 | |     foo[0] = foo[1];\n 37 | |     foo[1] = temp;\n-   | |_________________^ ...ending here\n+   | |_________________^\n    |\n    = note: #[deny(manual_swap)] implied by #[deny(clippy)]\n help: try\n@@ -46,10 +43,10 @@ error: this looks like you are swapping `a` and `b` manually\n   --> $DIR/swap.rs:60:7\n    |\n 60 |       ; let t = a;\n-   |  _______^ starting here...\n+   |  _______^\n 61 | |     a = b;\n 62 | |     b = t;\n-   | |_________^ ...ending here\n+   | |_________^\n    |\n    = note: #[deny(manual_swap)] implied by #[deny(clippy)]\n help: try\n@@ -60,10 +57,10 @@ error: this looks like you are swapping `c.0` and `a` manually\n   --> $DIR/swap.rs:77:7\n    |\n 77 |       ; let t = c.0;\n-   |  _______^ starting here...\n+   |  _______^\n 78 | |     c.0 = a;\n 79 | |     a = t;\n-   | |_________^ ...ending here\n+   | |_________^\n    |\n    = note: #[deny(manual_swap)] implied by #[deny(clippy)]\n help: try\n@@ -73,10 +70,9 @@ help: try\n error: this looks like you are trying to swap `a` and `b`\n   --> $DIR/swap.rs:53:5\n    |\n-53 |       a = b;\n-   |  _____^ starting here...\n+53 | /     a = b;\n 54 | |     b = a;\n-   | |_________^ ...ending here\n+   | |_________^\n    |\n    = note: #[deny(almost_swapped)] implied by #[deny(clippy)]\n note: lint level defined here\n@@ -91,10 +87,9 @@ help: try\n error: this looks like you are trying to swap `c.0` and `a`\n   --> $DIR/swap.rs:70:5\n    |\n-70 |       c.0 = a;\n-   |  _____^ starting here...\n+70 | /     c.0 = a;\n 71 | |     a = c.0;\n-   | |___________^ ...ending here\n+   | |___________^\n    |\n    = note: #[deny(almost_swapped)] implied by #[deny(clippy)]\n help: try"}, {"sha": "8dce245ecc02fe5d930e26a5f8dec9e60c7264c9", "filename": "tests/ui/unused_labels.stderr", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Funused_labels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Funused_labels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funused_labels.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,11 +1,10 @@\n error: unused label `'label`\n   --> $DIR/unused_labels.rs:8:5\n    |\n-8  |       'label: for i in 1..2 {\n-   |  _____^ starting here...\n+8  | /     'label: for i in 1..2 {\n 9  | |         if i > 4 { continue }\n 10 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/unused_labels.rs:5:9\n@@ -22,11 +21,10 @@ error: unused label `'a`\n error: unused label `'same_label_in_two_fns`\n   --> $DIR/unused_labels.rs:32:5\n    |\n-32 |       'same_label_in_two_fns: loop {\n-   |  _____^ starting here...\n+32 | /     'same_label_in_two_fns: loop {\n 33 | |         let _ = 1;\n 34 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n \n error: aborting due to 3 previous errors\n "}, {"sha": "221b6a249b0593ac358eaefe2bb4f76f4f3722ee", "filename": "tests/ui/while_loop.stderr", "status": "modified", "additions": 16, "deletions": 24, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fwhile_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/613bde6e407c8e4162ceacadf13987bdebbc9597/tests%2Fui%2Fwhile_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwhile_loop.stderr?ref=613bde6e407c8e4162ceacadf13987bdebbc9597", "patch": "@@ -1,15 +1,14 @@\n error: this loop could be written as a `while let` loop\n   --> $DIR/while_loop.rs:9:5\n    |\n-9  |       loop {\n-   |  _____^ starting here...\n+9  | /     loop {\n 10 | |\n 11 | |\n 12 | |\n ...  |\n 17 | |         }\n 18 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/while_loop.rs:4:9\n@@ -22,78 +21,73 @@ help: try\n error: this loop could be written as a `while let` loop\n   --> $DIR/while_loop.rs:25:5\n    |\n-25 |       loop {\n-   |  _____^ starting here...\n+25 | /     loop {\n 26 | |\n 27 | |\n 28 | |\n ...  |\n 32 | |         };\n 33 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     while let Some(_x) = y { .. }\n \n error: this loop could be written as a `while let` loop\n   --> $DIR/while_loop.rs:34:5\n    |\n-34 |       loop {\n-   |  _____^ starting here...\n+34 | /     loop {\n 35 | |\n 36 | |\n 37 | |\n ...  |\n 43 | |         let _str = \"foo\";\n 44 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     while let Some(x) = y { .. }\n \n error: this loop could be written as a `while let` loop\n   --> $DIR/while_loop.rs:45:5\n    |\n-45 |       loop {\n-   |  _____^ starting here...\n+45 | /     loop {\n 46 | |\n 47 | |\n 48 | |\n ...  |\n 54 | |         { let _b = \"foobar\"; }\n 55 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     while let Some(x) = y { .. }\n \n error: this loop could be written as a `while let` loop\n   --> $DIR/while_loop.rs:70:5\n    |\n-70 |       loop {\n-   |  _____^ starting here...\n+70 | /     loop {\n 71 | |\n 72 | |\n 73 | |\n ...  |\n 79 | |         let _ = (e, l);\n 80 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     while let Some(word) = \"\".split_whitespace().next() { .. }\n \n error: this loop could be written as a `for` loop\n   --> $DIR/while_loop.rs:83:5\n    |\n-83 |       while let Option::Some(x) = iter.next() {\n-   |  _____^ starting here...\n+83 | /     while let Option::Some(x) = iter.next() {\n 84 | |\n 85 | |\n 86 | |\n 87 | |         println!(\"{}\", x);\n 88 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n note: lint level defined here\n   --> $DIR/while_loop.rs:4:37\n@@ -106,14 +100,13 @@ help: try\n error: this loop could be written as a `for` loop\n   --> $DIR/while_loop.rs:91:5\n    |\n-91 |       while let Some(x) = iter.next() {\n-   |  _____^ starting here...\n+91 | /     while let Some(x) = iter.next() {\n 92 | |\n 93 | |\n 94 | |\n 95 | |         println!(\"{}\", x);\n 96 | |     }\n-   | |_____^ ...ending here\n+   | |_____^\n    |\n help: try\n    |     for x in iter { .. }\n@@ -130,15 +123,14 @@ help: try\n error: this loop could be written as a `while let` loop\n    --> $DIR/while_loop.rs:142:5\n     |\n-142 |       loop {\n-    |  _____^ starting here...\n+142 | /     loop {\n 143 | |\n 144 | |\n 145 | |\n ...   |\n 150 | |         loop {}\n 151 | |     }\n-    | |_____^ ...ending here\n+    | |_____^\n     |\n help: try\n     |     while let Some(ele) = iter.next() { .. }"}]}