{"sha": "5ecc8ad8462574354a55162a0c16b10eb95e3e70", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVlY2M4YWQ4NDYyNTc0MzU0YTU1MTYyYTBjMTZiMTBlYjk1ZTNlNzA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-09-19T18:54:31Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-09-19T18:54:31Z"}, "message": "Auto merge of #89049 - Aaron1011:caching-sourcemap-assert, r=Mark-Simulacrum\n\nConvert `debug_assert` to `assert` in `CachingSourceMapView`\n\nI suspect that there's a bug somewhere in this code, which is\nleading to the `predicates_of` ICE being seen in #89035", "tree": {"sha": "8b411fd79ab26d2f548c7b02b0baa7078fe29adf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8b411fd79ab26d2f548c7b02b0baa7078fe29adf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5ecc8ad8462574354a55162a0c16b10eb95e3e70", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5ecc8ad8462574354a55162a0c16b10eb95e3e70", "html_url": "https://github.com/rust-lang/rust/commit/5ecc8ad8462574354a55162a0c16b10eb95e3e70", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5ecc8ad8462574354a55162a0c16b10eb95e3e70/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7b5f95270f1ef7118ef4d3b47428054d23113ad5", "url": "https://api.github.com/repos/rust-lang/rust/commits/7b5f95270f1ef7118ef4d3b47428054d23113ad5", "html_url": "https://github.com/rust-lang/rust/commit/7b5f95270f1ef7118ef4d3b47428054d23113ad5"}, {"sha": "95bea1594c8613988e54bd748d6d61fb02f4b562", "url": "https://api.github.com/repos/rust-lang/rust/commits/95bea1594c8613988e54bd748d6d61fb02f4b562", "html_url": "https://github.com/rust-lang/rust/commit/95bea1594c8613988e54bd748d6d61fb02f4b562"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "fdabf404a37fb0f0b1d76331c4d91c6d043becc5", "filename": "compiler/rustc_span/src/caching_source_map_view.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/5ecc8ad8462574354a55162a0c16b10eb95e3e70/compiler%2Frustc_span%2Fsrc%2Fcaching_source_map_view.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ecc8ad8462574354a55162a0c16b10eb95e3e70/compiler%2Frustc_span%2Fsrc%2Fcaching_source_map_view.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fcaching_source_map_view.rs?ref=5ecc8ad8462574354a55162a0c16b10eb95e3e70", "patch": "@@ -215,13 +215,13 @@ impl<'sm> CachingSourceMapView<'sm> {\n \n         // Span lo and hi may equal line end when last line doesn't\n         // end in newline, hence the inclusive upper bounds below.\n-        debug_assert!(span_data.lo >= lo.line.start);\n-        debug_assert!(span_data.lo <= lo.line.end);\n-        debug_assert!(span_data.hi >= hi.line.start);\n-        debug_assert!(span_data.hi <= hi.line.end);\n-        debug_assert!(lo.file.contains(span_data.lo));\n-        debug_assert!(lo.file.contains(span_data.hi));\n-        debug_assert_eq!(lo.file_index, hi.file_index);\n+        assert!(span_data.lo >= lo.line.start);\n+        assert!(span_data.lo <= lo.line.end);\n+        assert!(span_data.hi >= hi.line.start);\n+        assert!(span_data.hi <= hi.line.end);\n+        assert!(lo.file.contains(span_data.lo));\n+        assert!(lo.file.contains(span_data.hi));\n+        assert_eq!(lo.file_index, hi.file_index);\n \n         Some((\n             lo.file.clone(),"}]}