{"sha": "033741246cdb8c653cc3bf9a6cc12f23dac08e6e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzMzc0MTI0NmNkYjhjNjUzY2MzYmY5YTZjYzEyZjIzZGFjMDhlNmU=", "commit": {"author": {"name": "Johann Hofmann", "email": "mail@johann-hofmann.com", "date": "2016-07-02T20:19:04Z"}, "committer": {"name": "Johann Hofmann", "email": "mail@johann-hofmann.com", "date": "2016-07-04T05:42:18Z"}, "message": "Show more helpful error if rustfmt is not in PATH.\n\nThis fixes #1071.", "tree": {"sha": "6b7e98903d2eb6d07fd3a68be054a108b3da68ea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b7e98903d2eb6d07fd3a68be054a108b3da68ea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/033741246cdb8c653cc3bf9a6cc12f23dac08e6e", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXefc8AAoJEBXdlDVWycwWqL8P/ju+2NGSaqv6HC9z15SwYl2B\nusxLdJNBCd4yJMeOfxBryLz929+GJDV4PaD2bllgBpyYutvQknKrVrCYDcEEA6+x\nQtJ8dDdzgTXu18/rBRjFxUmN8l4Q+03inLrP+vSz6Ho2wID/HvCWeIOW14MhdaTh\nTYYPcdRSkkFVUeQNOdh5+yYfpjRNrMq5dH6MNdKyLoz4flQom+nrKrc/I4E5vlqi\nMi4RoFiCZhYQaenSbe6eiG5xMs3yzqXYCGk0yk0tD7JU2SyrS/sYo8UmAI0ALiUM\nP9BjcBeyItqEbfY06G8FsXDyg/WxRI16k+RAuoe7GfqLhaR6wg8DojoFxPqPiO/O\nI9fYH2biDFSeWg3MRAZxcPE6mpV08I8t6NtvoeWbfTCDIlCti/VFT6wAoY9Vm3N9\nc0eJxBdA4fPoUXtbDEKEJU21KyHMcBszF1svDix8evtMxhKQZ0gF8FpPaHZFgRCa\n4QFapR/s4Vqc9pMENlQPGtfAg3sVwqdjg1vgGiCfzvyI3udisckfzi3o7kkKDApy\neTUIbRwe3np0q49PaaCn5SVTFi/6iMJqj3uVlO/2EwybLIIK5Epna90kJNTOs/mo\nvzsmAvI+M4E6QWoVRv9U1g+GGSLUqgP2VoFS9NCXqgz1SxK7jdvvHyj08Tx7+G6+\nlu8peh2Kbf7pxg7uEdc2\n=W1RM\n-----END PGP SIGNATURE-----", "payload": "tree 6b7e98903d2eb6d07fd3a68be054a108b3da68ea\nparent 7c70254fd85d7128c3f7ddb3c418a8c623452d48\nauthor Johann Hofmann <mail@johann-hofmann.com> 1467490744 +0200\ncommitter Johann Hofmann <mail@johann-hofmann.com> 1467610938 +0200\n\nShow more helpful error if rustfmt is not in PATH.\n\nThis fixes #1071.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/033741246cdb8c653cc3bf9a6cc12f23dac08e6e", "html_url": "https://github.com/rust-lang/rust/commit/033741246cdb8c653cc3bf9a6cc12f23dac08e6e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/033741246cdb8c653cc3bf9a6cc12f23dac08e6e/comments", "author": {"login": "johannhof", "id": 2622601, "node_id": "MDQ6VXNlcjI2MjI2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2622601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johannhof", "html_url": "https://github.com/johannhof", "followers_url": "https://api.github.com/users/johannhof/followers", "following_url": "https://api.github.com/users/johannhof/following{/other_user}", "gists_url": "https://api.github.com/users/johannhof/gists{/gist_id}", "starred_url": "https://api.github.com/users/johannhof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johannhof/subscriptions", "organizations_url": "https://api.github.com/users/johannhof/orgs", "repos_url": "https://api.github.com/users/johannhof/repos", "events_url": "https://api.github.com/users/johannhof/events{/privacy}", "received_events_url": "https://api.github.com/users/johannhof/received_events", "type": "User", "site_admin": false}, "committer": {"login": "johannhof", "id": 2622601, "node_id": "MDQ6VXNlcjI2MjI2MDE=", "avatar_url": "https://avatars.githubusercontent.com/u/2622601?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johannhof", "html_url": "https://github.com/johannhof", "followers_url": "https://api.github.com/users/johannhof/followers", "following_url": "https://api.github.com/users/johannhof/following{/other_user}", "gists_url": "https://api.github.com/users/johannhof/gists{/gist_id}", "starred_url": "https://api.github.com/users/johannhof/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johannhof/subscriptions", "organizations_url": "https://api.github.com/users/johannhof/orgs", "repos_url": "https://api.github.com/users/johannhof/repos", "events_url": "https://api.github.com/users/johannhof/events{/privacy}", "received_events_url": "https://api.github.com/users/johannhof/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c70254fd85d7128c3f7ddb3c418a8c623452d48", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c70254fd85d7128c3f7ddb3c418a8c623452d48", "html_url": "https://github.com/rust-lang/rust/commit/7c70254fd85d7128c3f7ddb3c418a8c623452d48"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "7bd61dd1661ee811b501052f16bf450c265d85e0", "filename": "src/bin/cargo-fmt.rs", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/033741246cdb8c653cc3bf9a6cc12f23dac08e6e/src%2Fbin%2Fcargo-fmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/033741246cdb8c653cc3bf9a6cc12f23dac08e6e/src%2Fbin%2Fcargo-fmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbin%2Fcargo-fmt.rs?ref=033741246cdb8c653cc3bf9a6cc12f23dac08e6e", "patch": "@@ -204,6 +204,16 @@ fn format_files(files: &Vec<PathBuf>,\n         .stdout(stdout)\n         .args(files)\n         .args(fmt_args)\n-        .spawn());\n+        .spawn()\n+        .map_err(|e| {\n+            match e.kind() {\n+                std::io::ErrorKind::NotFound => {\n+                    std::io::Error::new(std::io::ErrorKind::Other,\n+                                        \"Could not run rustfmt, please make sure it is in your \\\n+                                         PATH.\")\n+                }\n+                _ => e,\n+            }\n+        }));\n     command.wait()\n }"}]}