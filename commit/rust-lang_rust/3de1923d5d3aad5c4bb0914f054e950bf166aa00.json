{"sha": "3de1923d5d3aad5c4bb0914f054e950bf166aa00", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkZTE5MjNkNWQzYWFkNWM0YmIwOTE0ZjA1NGU5NTBiZjE2NmFhMDA=", "commit": {"author": {"name": "Andrea Canciani", "email": "ranma42@gmail.com", "date": "2019-12-16T14:33:16Z"}, "committer": {"name": "Andrea Canciani", "email": "ranma42@gmail.com", "date": "2019-12-16T14:33:16Z"}, "message": "Add benchmarks for `start_with` and `ends_with`", "tree": {"sha": "5ae8c335da39a6b9ac0a67a87cb5d40421f88ceb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ae8c335da39a6b9ac0a67a87cb5d40421f88ceb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3de1923d5d3aad5c4bb0914f054e950bf166aa00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3de1923d5d3aad5c4bb0914f054e950bf166aa00", "html_url": "https://github.com/rust-lang/rust/commit/3de1923d5d3aad5c4bb0914f054e950bf166aa00", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3de1923d5d3aad5c4bb0914f054e950bf166aa00/comments", "author": {"login": "ranma42", "id": 1506030, "node_id": "MDQ6VXNlcjE1MDYwMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ranma42", "html_url": "https://github.com/ranma42", "followers_url": "https://api.github.com/users/ranma42/followers", "following_url": "https://api.github.com/users/ranma42/following{/other_user}", "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}", "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions", "organizations_url": "https://api.github.com/users/ranma42/orgs", "repos_url": "https://api.github.com/users/ranma42/repos", "events_url": "https://api.github.com/users/ranma42/events{/privacy}", "received_events_url": "https://api.github.com/users/ranma42/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ranma42", "id": 1506030, "node_id": "MDQ6VXNlcjE1MDYwMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1506030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ranma42", "html_url": "https://github.com/ranma42", "followers_url": "https://api.github.com/users/ranma42/followers", "following_url": "https://api.github.com/users/ranma42/following{/other_user}", "gists_url": "https://api.github.com/users/ranma42/gists{/gist_id}", "starred_url": "https://api.github.com/users/ranma42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ranma42/subscriptions", "organizations_url": "https://api.github.com/users/ranma42/orgs", "repos_url": "https://api.github.com/users/ranma42/repos", "events_url": "https://api.github.com/users/ranma42/events{/privacy}", "received_events_url": "https://api.github.com/users/ranma42/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "de7fefa04c74ecaa7618c910a74ae1cf62affa8e", "url": "https://api.github.com/repos/rust-lang/rust/commits/de7fefa04c74ecaa7618c910a74ae1cf62affa8e", "html_url": "https://github.com/rust-lang/rust/commit/de7fefa04c74ecaa7618c910a74ae1cf62affa8e"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "570fc4ab93390ecba7eb509c0be49cbd5ebba634", "filename": "src/libcore/benches/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3de1923d5d3aad5c4bb0914f054e950bf166aa00/src%2Flibcore%2Fbenches%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de1923d5d3aad5c4bb0914f054e950bf166aa00/src%2Flibcore%2Fbenches%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fbenches%2Flib.rs?ref=3de1923d5d3aad5c4bb0914f054e950bf166aa00", "patch": "@@ -11,4 +11,5 @@ mod hash;\n mod iter;\n mod num;\n mod ops;\n+mod pattern;\n mod slice;"}, {"sha": "a49490cec12190810d4c864f828da805c9f2bc61", "filename": "src/libcore/benches/pattern.rs", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/3de1923d5d3aad5c4bb0914f054e950bf166aa00/src%2Flibcore%2Fbenches%2Fpattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3de1923d5d3aad5c4bb0914f054e950bf166aa00/src%2Flibcore%2Fbenches%2Fpattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fbenches%2Fpattern.rs?ref=3de1923d5d3aad5c4bb0914f054e950bf166aa00", "patch": "@@ -0,0 +1,43 @@\n+use test::black_box;\n+use test::Bencher;\n+\n+#[bench]\n+fn starts_with_char(b: &mut Bencher) {\n+    let text = black_box(\"kdjsfhlakfhlsghlkvcnljknfqiunvcijqenwodind\");\n+    b.iter(|| {\n+        for _ in 0..1024 {\n+            black_box(text.starts_with('k'));\n+        }\n+    })\n+}\n+\n+#[bench]\n+fn starts_with_str(b: &mut Bencher) {\n+    let text = black_box(\"kdjsfhlakfhlsghlkvcnljknfqiunvcijqenwodind\");\n+    b.iter(|| {\n+        for _ in 0..1024 {\n+            black_box(text.starts_with(\"k\"));\n+        }\n+    })\n+}\n+\n+\n+#[bench]\n+fn ends_with_char(b: &mut Bencher) {\n+    let text = black_box(\"kdjsfhlakfhlsghlkvcnljknfqiunvcijqenwodind\");\n+    b.iter(|| {\n+        for _ in 0..1024 {\n+            black_box(text.ends_with('k'));\n+        }\n+    })\n+}\n+\n+#[bench]\n+fn ends_with_str(b: &mut Bencher) {\n+    let text = black_box(\"kdjsfhlakfhlsghlkvcnljknfqiunvcijqenwodind\");\n+    b.iter(|| {\n+        for _ in 0..1024 {\n+            black_box(text.ends_with(\"k\"));\n+        }\n+    })\n+}"}]}