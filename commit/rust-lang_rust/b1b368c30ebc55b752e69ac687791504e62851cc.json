{"sha": "b1b368c30ebc55b752e69ac687791504e62851cc", "node_id": "C_kwDOAAsO6NoAKGIxYjM2OGMzMGViYzU1Yjc1MmU2OWFjNjg3NzkxNTA0ZTYyODUxY2M", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-07-21T12:14:41Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-07-21T13:04:35Z"}, "message": "test page_size via test dependency support\n\nand move crate tests to their own folders", "tree": {"sha": "36e800c0a61dd3dacbd129167baa48a03bdace58", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/36e800c0a61dd3dacbd129167baa48a03bdace58"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b1b368c30ebc55b752e69ac687791504e62851cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b1b368c30ebc55b752e69ac687791504e62851cc", "html_url": "https://github.com/rust-lang/rust/commit/b1b368c30ebc55b752e69ac687791504e62851cc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b1b368c30ebc55b752e69ac687791504e62851cc/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8fa15428786e1e618791566b474e5b3bcf34775d", "url": "https://api.github.com/repos/rust-lang/rust/commits/8fa15428786e1e618791566b474e5b3bcf34775d", "html_url": "https://github.com/rust-lang/rust/commit/8fa15428786e1e618791566b474e5b3bcf34775d"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "a492deba4c52822eae944d7651520898068e7e91", "filename": "test_dependencies/Cargo.lock", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b1b368c30ebc55b752e69ac687791504e62851cc/test_dependencies%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/b1b368c30ebc55b752e69ac687791504e62851cc/test_dependencies%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/test_dependencies%2FCargo.lock?ref=b1b368c30ebc55b752e69ac687791504e62851cc", "patch": "@@ -107,6 +107,7 @@ dependencies = [\n  \"getrandom 0.1.16\",\n  \"getrandom 0.2.7\",\n  \"libc\",\n+ \"page_size\",\n  \"rand\",\n  \"tokio\",\n ]\n@@ -127,6 +128,16 @@ version = \"1.13.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"18a6dbe30758c9f83eb00cbea4ac95966305f5a7772f3f42ebfc7fc7eddbd8e1\"\n \n+[[package]]\n+name = \"page_size\"\n+version = \"0.4.2\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"eebde548fbbf1ea81a99b128872779c437752fb99f217c45245e1a61dcd9edcd\"\n+dependencies = [\n+ \"libc\",\n+ \"winapi\",\n+]\n+\n [[package]]\n name = \"parking_lot\"\n version = \"0.12.1\""}, {"sha": "0bf43aefebffbd646d745cbd9217ef2ee9c92af4", "filename": "test_dependencies/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1b368c30ebc55b752e69ac687791504e62851cc/test_dependencies%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b1b368c30ebc55b752e69ac687791504e62851cc/test_dependencies%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/test_dependencies%2FCargo.toml?ref=b1b368c30ebc55b752e69ac687791504e62851cc", "patch": "@@ -11,6 +11,7 @@ edition = \"2021\"\n # all dependencies (and their transitive ones) listed here can be used in `tests/`.\n tokio = { version = \"1.0\", features = [\"full\"] }\n libc = \"0.2\"\n+page_size = \"0.4.1\"\n \n getrandom_1 = { package = \"getrandom\", version = \"0.1\" }\n getrandom_2 = { package = \"getrandom\", version = \"0.2\" }"}, {"sha": "7cb42c09a9677015c6dfab3772fdd0404dcfd1ca", "filename": "tests/fail/crates/tokio_mvp.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Ffail%2Fcrates%2Ftokio_mvp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Ffail%2Fcrates%2Ftokio_mvp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fcrates%2Ftokio_mvp.rs?ref=b1b368c30ebc55b752e69ac687791504e62851cc", "previous_filename": "tests/fail/tokio_mvp.rs"}, {"sha": "cff948f364087733f5de80f8ec9b4b51136ab16f", "filename": "tests/fail/crates/tokio_mvp.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Ffail%2Fcrates%2Ftokio_mvp.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Ffail%2Fcrates%2Ftokio_mvp.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fcrates%2Ftokio_mvp.stderr?ref=b1b368c30ebc55b752e69ac687791504e62851cc", "previous_filename": "tests/fail/tokio_mvp.stderr"}, {"sha": "cdcabf3333814cc2939e94d4d07704c7bf7659bb", "filename": "tests/pass/crates/page_size.rs", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Fpass%2Fcrates%2Fpage_size.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Fpass%2Fcrates%2Fpage_size.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fcrates%2Fpage_size.rs?ref=b1b368c30ebc55b752e69ac687791504e62851cc", "patch": "@@ -0,0 +1,6 @@\n+fn main() {\n+    let page_size = page_size::get();\n+\n+    // In particular, this checks that it is not 0.\n+    assert!(page_size.is_power_of_two(), \"page size not a power of two: {}\", page_size);\n+}"}, {"sha": "808d1006d4f3a50739674b3be89a4e27c8b0e7da", "filename": "tests/pass/crates/random.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Fpass%2Fcrates%2Frandom.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1b368c30ebc55b752e69ac687791504e62851cc/tests%2Fpass%2Fcrates%2Frandom.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fcrates%2Frandom.rs?ref=b1b368c30ebc55b752e69ac687791504e62851cc", "previous_filename": "tests/pass/random.rs"}]}