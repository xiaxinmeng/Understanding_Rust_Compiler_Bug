{"sha": "834b6879ea89135d60b3903755589e14f816449a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzNGI2ODc5ZWE4OTEzNWQ2MGIzOTAzNzU1NTg5ZTE0ZjgxNjQ0OWE=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2011-11-16T20:15:54Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2011-11-16T23:27:09Z"}, "message": "temp workaround for failure to pass ulonglong successfully", "tree": {"sha": "c68a3618324aa5730e49d6389bccfa30b7c9ec06", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c68a3618324aa5730e49d6389bccfa30b7c9ec06"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/834b6879ea89135d60b3903755589e14f816449a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/834b6879ea89135d60b3903755589e14f816449a", "html_url": "https://github.com/rust-lang/rust/commit/834b6879ea89135d60b3903755589e14f816449a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/834b6879ea89135d60b3903755589e14f816449a/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "938b23e228f4fd313973190f8f78163476cc4a3f", "url": "https://api.github.com/repos/rust-lang/rust/commits/938b23e228f4fd313973190f8f78163476cc4a3f", "html_url": "https://github.com/rust-lang/rust/commit/938b23e228f4fd313973190f8f78163476cc4a3f"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "7010bc82f010f004ccb5f60babb8b01f1c32df10", "filename": "src/comp/lib/llvm.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/834b6879ea89135d60b3903755589e14f816449a/src%2Fcomp%2Flib%2Fllvm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834b6879ea89135d60b3903755589e14f816449a/src%2Fcomp%2Flib%2Fllvm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Flib%2Fllvm.rs?ref=834b6879ea89135d60b3903755589e14f816449a", "patch": "@@ -865,7 +865,7 @@ native mod llvm {\n     fn LLVMRustParseBitcode(MemBuf: MemoryBufferRef) -> ModuleRef;\n \n     /** FiXME: Hacky adaptor for lack of ULongLong in FFI: */\n-    fn LLVMRustConstSmallInt(IntTy: TypeRef, N: uint, SignExtend: Bool) ->\n+    fn LLVMRustConstInt(IntTy: TypeRef, N_hi: uint, N_lo: uint, SignExtend: Bool) ->\n        ValueRef;\n \n     fn LLVMRustAddPrintModulePass(PM: PassManagerRef, M: ModuleRef,"}, {"sha": "4b2791f66c81f3f8fc1764bc21467b5d59e2039b", "filename": "src/comp/middle/trans_common.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/834b6879ea89135d60b3903755589e14f816449a/src%2Fcomp%2Fmiddle%2Ftrans_common.rs", "raw_url": "https://github.com/rust-lang/rust/raw/834b6879ea89135d60b3903755589e14f816449a/src%2Fcomp%2Fmiddle%2Ftrans_common.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans_common.rs?ref=834b6879ea89135d60b3903755589e14f816449a", "patch": "@@ -725,7 +725,9 @@ fn T_opaque_chan_ptr() -> TypeRef { ret T_ptr(T_i8()); }\n fn C_null(t: TypeRef) -> ValueRef { ret llvm::LLVMConstNull(t); }\n \n fn C_integral(t: TypeRef, u: u64, sign_extend: Bool) -> ValueRef {\n-    ret llvm::LLVMConstInt(t, u, sign_extend);\n+    let u_hi = (u >> 32u64) as uint;\n+    let u_lo = u as uint;\n+    ret llvm::LLVMRustConstInt(t, u_hi, u_lo, sign_extend);\n }\n \n fn C_float(cx: @crate_ctxt, s: str) -> ValueRef {"}, {"sha": "635030fd0adb0dadc67f757afa715d7d5c218cd5", "filename": "src/rustllvm/RustWrapper.cpp", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/834b6879ea89135d60b3903755589e14f816449a/src%2Frustllvm%2FRustWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/834b6879ea89135d60b3903755589e14f816449a/src%2Frustllvm%2FRustWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FRustWrapper.cpp?ref=834b6879ea89135d60b3903755589e14f816449a", "patch": "@@ -126,6 +126,16 @@ extern \"C\" LLVMValueRef LLVMRustConstSmallInt(LLVMTypeRef IntTy, unsigned N,\n   return LLVMConstInt(IntTy, (unsigned long long)N, SignExtend);\n }\n \n+extern \"C\" LLVMValueRef LLVMRustConstInt(LLVMTypeRef IntTy, \n+\t\t\t\t\t unsigned N_hi,\n+\t\t\t\t\t unsigned N_lo,\n+\t\t\t\t\t LLVMBool SignExtend) {\n+  unsigned long long N = N_hi;\n+  N <<= 32;\n+  N |= N_lo;\n+  return LLVMConstInt(IntTy, N, SignExtend);\n+}\n+\n extern bool llvm::TimePassesIsEnabled;\n extern \"C\" void LLVMRustEnableTimePasses() {\n   TimePassesIsEnabled = true;"}, {"sha": "75d8dc8229e2c9a69678115c88c6cddee7489289", "filename": "src/rustllvm/rustllvm.def.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/834b6879ea89135d60b3903755589e14f816449a/src%2Frustllvm%2Frustllvm.def.in", "raw_url": "https://github.com/rust-lang/rust/raw/834b6879ea89135d60b3903755589e14f816449a/src%2Frustllvm%2Frustllvm.def.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2Frustllvm.def.in?ref=834b6879ea89135d60b3903755589e14f816449a", "patch": "@@ -4,6 +4,7 @@ LLVMRustWriteOutputFile\n LLVMRustGetLastError\n LLVMRustGetHostTriple\n LLVMRustConstSmallInt\n+LLVMRustConstInt\n LLVMRustParseBitcode\n LLVMRustPrintPassTimings\n LLVMRustEnableSegmentedStacks"}]}