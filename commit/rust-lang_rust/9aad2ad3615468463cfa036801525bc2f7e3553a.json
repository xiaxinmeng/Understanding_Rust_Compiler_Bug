{"sha": "9aad2ad3615468463cfa036801525bc2f7e3553a", "node_id": "C_kwDOAAsO6NoAKDlhYWQyYWQzNjE1NDY4NDYzY2ZhMDM2ODAxNTI1YmMyZjdlMzU1M2E", "commit": {"author": {"name": "Jakub Ber\u00e1nek", "email": "berykubik@gmail.com", "date": "2023-03-04T16:36:00Z"}, "committer": {"name": "Jakub Ber\u00e1nek", "email": "berykubik@gmail.com", "date": "2023-03-04T16:36:00Z"}, "message": "Add check for dry run", "tree": {"sha": "c55e0af3372fbca17a64bfc96434d2fd32a66462", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c55e0af3372fbca17a64bfc96434d2fd32a66462"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9aad2ad3615468463cfa036801525bc2f7e3553a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEzFQynJm4WzBnfhz8kJzQ0mSDUWsFAmQDc3wACgkQkJzQ0mSD\nUWtB0gv+IJs/j5W4lea3hjU67UCGAKMd+k44gHFvcX+lrDT0C39AM9NW9e+vRn+b\nj27nx+AHZyByt6pZdjfW3ETy/D3XAC5Dx7rRi+I0XppUHEJY8sdjYllrDd/UeOZj\nB/j6bRLkxcHdtpObUllNy3FMKxmpaeIk2B1o5rxM1HN1f5CN0X5TuR79ndqMzlld\nA+qVm5D4roy5qBbzoDfw4WXAIxu24civEcmrtuwKH/pVSsUMb3hAlhbIbC+GPHLY\nIiHIlCcFO1ItX+Yae4IuWWXArLMhqwb5vWi3rwOgJHE+E6LSwKgsxf/bbv5mm4Ey\nOZc7qkZ0iuzgCEpWzB08SYyng8zeqbSkeP3M/HaBZUQKgz09GVwjztEgRDbgXvBh\nvOvu+wpHN6QIv+XT1PxJztapVe5GiNWQ5V9cX69XPmuK/Jt3sq0pwMi2hKoH6DBu\ns9HUfaj4i/Lmh+XZU6/Mcnts0OtFnaQuQHR0z6fFJ7MYhnBzF0HHehAPniGmk0yg\nivD7Xd4G\n=JM7+\n-----END PGP SIGNATURE-----", "payload": "tree c55e0af3372fbca17a64bfc96434d2fd32a66462\nparent 91bb563e13a20f84b2f2027a33f4855f19720c67\nauthor Jakub Ber\u00e1nek <berykubik@gmail.com> 1677947760 +0100\ncommitter Jakub Ber\u00e1nek <berykubik@gmail.com> 1677947760 +0100\n\nAdd check for dry run\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9aad2ad3615468463cfa036801525bc2f7e3553a", "html_url": "https://github.com/rust-lang/rust/commit/9aad2ad3615468463cfa036801525bc2f7e3553a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9aad2ad3615468463cfa036801525bc2f7e3553a/comments", "author": {"login": "Kobzol", "id": 4539057, "node_id": "MDQ6VXNlcjQ1MzkwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4539057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kobzol", "html_url": "https://github.com/Kobzol", "followers_url": "https://api.github.com/users/Kobzol/followers", "following_url": "https://api.github.com/users/Kobzol/following{/other_user}", "gists_url": "https://api.github.com/users/Kobzol/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kobzol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kobzol/subscriptions", "organizations_url": "https://api.github.com/users/Kobzol/orgs", "repos_url": "https://api.github.com/users/Kobzol/repos", "events_url": "https://api.github.com/users/Kobzol/events{/privacy}", "received_events_url": "https://api.github.com/users/Kobzol/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Kobzol", "id": 4539057, "node_id": "MDQ6VXNlcjQ1MzkwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4539057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kobzol", "html_url": "https://github.com/Kobzol", "followers_url": "https://api.github.com/users/Kobzol/followers", "following_url": "https://api.github.com/users/Kobzol/following{/other_user}", "gists_url": "https://api.github.com/users/Kobzol/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kobzol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kobzol/subscriptions", "organizations_url": "https://api.github.com/users/Kobzol/orgs", "repos_url": "https://api.github.com/users/Kobzol/repos", "events_url": "https://api.github.com/users/Kobzol/events{/privacy}", "received_events_url": "https://api.github.com/users/Kobzol/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "91bb563e13a20f84b2f2027a33f4855f19720c67", "url": "https://api.github.com/repos/rust-lang/rust/commits/91bb563e13a20f84b2f2027a33f4855f19720c67", "html_url": "https://github.com/rust-lang/rust/commit/91bb563e13a20f84b2f2027a33f4855f19720c67"}], "stats": {"total": 6, "additions": 1, "deletions": 5}, "files": [{"sha": "d7008df41791edde6e7c2790f97ee2f2e1d7eebf", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9aad2ad3615468463cfa036801525bc2f7e3553a/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aad2ad3615468463cfa036801525bc2f7e3553a/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=9aad2ad3615468463cfa036801525bc2f7e3553a", "patch": "@@ -1907,7 +1907,7 @@ fn add_env(builder: &Builder<'_>, cmd: &mut Command, target: TargetSelection) {\n }\n \n fn install_llvm_file(builder: &Builder<'_>, source: &Path, destination: &Path) {\n-    if source.as_os_str().is_empty() {\n+    if builder.config.dry_run() {\n         return;\n     }\n \n@@ -2048,8 +2048,6 @@ impl Step for BoltInstrument {\n         run.never()\n     }\n \n-    fn make_run(_run: RunConfig<'_>) {}\n-\n     fn run(self, builder: &Builder<'_>) -> PathBuf {\n         if builder.build.config.dry_run() {\n             return self.file.clone();\n@@ -2102,8 +2100,6 @@ impl Step for BoltOptimize {\n         run.never()\n     }\n \n-    fn make_run(_run: RunConfig<'_>) {}\n-\n     fn run(self, builder: &Builder<'_>) -> PathBuf {\n         if builder.build.config.dry_run() {\n             return self.file.clone();"}]}