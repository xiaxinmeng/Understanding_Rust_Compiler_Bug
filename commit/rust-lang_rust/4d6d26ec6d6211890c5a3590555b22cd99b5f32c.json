{"sha": "4d6d26ec6d6211890c5a3590555b22cd99b5f32c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRkNmQyNmVjNmQ2MjExODkwYzVhMzU5MDU1NWIyMmNkOTliNWYzMmM=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-05-01T09:32:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-01T09:32:34Z"}, "message": "Rollup merge of #84724 - MaskRay:sys-fs, r=petrochenkov\n\nReplace llvm::sys::fs::F_None with llvm::sys::fs::OF_None\n\nThe former is deprecated.\nOF_None has been available in LLVM since 2018-06.\n\n-----\n\nOF_None (https://reviews.llvm.org/rG1f67a3cba9b09636c56e2109d8a35ae96dc15782) exists in LLVM 9.\nhttps://reviews.llvm.org/D101506 may drop `F_None` support.", "tree": {"sha": "685561ee31bd09b992e9dfec3c9eacac5c35cc79", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/685561ee31bd09b992e9dfec3c9eacac5c35cc79"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d6d26ec6d6211890c5a3590555b22cd99b5f32c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgjSAyCRBK7hj4Ov3rIwAAzoQIAG3cGLeHz0HoWyL7Oiv89pWk\nUUEixWTXkgjtfZ+qKpUT5d4EGHe9sWgRrySs89YpPrxIMtfWUs3Eq/vB8CQa4aVp\nRwxSEeyGE+MCTj+VlKuARL40PTpOCuZ2AgrcMp4H7PNv0pTRerCAsnnktSsZ+bCh\nnIui1i83DUB8HNACj7LnzdzwpBPHa+KOrJ2b5PeGod8TGrA0LBOWrFdQzLCD63aK\nLo68IEUBPb67t6E4QNoCDwaRcTdeAFf2mv9Va6aIAXduzMHBmAKXT12wzMGCFUzY\nfIklixrxQ1k4iqdjfQLg2x7oc00FIzHH02l31PHwXJLf8JhfDmXeADqeJPhRmXw=\n=dqJb\n-----END PGP SIGNATURE-----\n", "payload": "tree 685561ee31bd09b992e9dfec3c9eacac5c35cc79\nparent e69f1fd46ab2a87bca574435bb1b2d27232d85b2\nparent 0142d1cb97a46f8aa1ffc4cb3c5462eb148b96de\nauthor Yuki Okushi <jtitor@2k36.org> 1619861554 +0900\ncommitter GitHub <noreply@github.com> 1619861554 +0900\n\nRollup merge of #84724 - MaskRay:sys-fs, r=petrochenkov\n\nReplace llvm::sys::fs::F_None with llvm::sys::fs::OF_None\n\nThe former is deprecated.\nOF_None has been available in LLVM since 2018-06.\n\n-----\n\nOF_None (https://reviews.llvm.org/rG1f67a3cba9b09636c56e2109d8a35ae96dc15782) exists in LLVM 9.\nhttps://reviews.llvm.org/D101506 may drop `F_None` support.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d6d26ec6d6211890c5a3590555b22cd99b5f32c", "html_url": "https://github.com/rust-lang/rust/commit/4d6d26ec6d6211890c5a3590555b22cd99b5f32c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d6d26ec6d6211890c5a3590555b22cd99b5f32c/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e69f1fd46ab2a87bca574435bb1b2d27232d85b2", "url": "https://api.github.com/repos/rust-lang/rust/commits/e69f1fd46ab2a87bca574435bb1b2d27232d85b2", "html_url": "https://github.com/rust-lang/rust/commit/e69f1fd46ab2a87bca574435bb1b2d27232d85b2"}, {"sha": "0142d1cb97a46f8aa1ffc4cb3c5462eb148b96de", "url": "https://api.github.com/repos/rust-lang/rust/commits/0142d1cb97a46f8aa1ffc4cb3c5462eb148b96de", "html_url": "https://github.com/rust-lang/rust/commit/0142d1cb97a46f8aa1ffc4cb3c5462eb148b96de"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "65a988629c3b2646127e953561dd709dfb3f2470", "filename": "compiler/rustc_llvm/llvm-wrapper/PassWrapper.cpp", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4d6d26ec6d6211890c5a3590555b22cd99b5f32c/compiler%2Frustc_llvm%2Fllvm-wrapper%2FPassWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/4d6d26ec6d6211890c5a3590555b22cd99b5f32c/compiler%2Frustc_llvm%2Fllvm-wrapper%2FPassWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_llvm%2Fllvm-wrapper%2FPassWrapper.cpp?ref=4d6d26ec6d6211890c5a3590555b22cd99b5f32c", "patch": "@@ -609,7 +609,7 @@ LLVMRustWriteOutputFile(LLVMTargetMachineRef Target, LLVMPassManagerRef PMR,\n \n   std::string ErrorInfo;\n   std::error_code EC;\n-  raw_fd_ostream OS(Path, EC, sys::fs::F_None);\n+  raw_fd_ostream OS(Path, EC, sys::fs::OF_None);\n   if (EC)\n     ErrorInfo = EC.message();\n   if (ErrorInfo != \"\") {\n@@ -619,7 +619,7 @@ LLVMRustWriteOutputFile(LLVMTargetMachineRef Target, LLVMPassManagerRef PMR,\n \n   buffer_ostream BOS(OS);\n   if (DwoPath) {\n-    raw_fd_ostream DOS(DwoPath, EC, sys::fs::F_None);\n+    raw_fd_ostream DOS(DwoPath, EC, sys::fs::OF_None);\n     EC.clear();\n     if (EC)\n         ErrorInfo = EC.message();\n@@ -1146,7 +1146,7 @@ extern \"C\" LLVMRustResult\n LLVMRustPrintModule(LLVMModuleRef M, const char *Path, DemangleFn Demangle) {\n   std::string ErrorInfo;\n   std::error_code EC;\n-  raw_fd_ostream OS(Path, EC, sys::fs::F_None);\n+  raw_fd_ostream OS(Path, EC, sys::fs::OF_None);\n   if (EC)\n     ErrorInfo = EC.message();\n   if (ErrorInfo != \"\") {"}]}