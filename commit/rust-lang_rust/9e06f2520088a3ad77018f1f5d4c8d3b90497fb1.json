{"sha": "9e06f2520088a3ad77018f1f5d4c8d3b90497fb1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjllMDZmMjUyMDA4OGEzYWQ3NzAxOGYxZjVkNGM4ZDNiOTA0OTdmYjE=", "commit": {"author": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2019-03-21T21:35:54Z"}, "committer": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2019-04-25T17:12:57Z"}, "message": "Test debuginfo of different var liveness in generators", "tree": {"sha": "9ff2db76d97142fa07dca1b994bc0ae57fb7b761", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9ff2db76d97142fa07dca1b994bc0ae57fb7b761"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9e06f2520088a3ad77018f1f5d4c8d3b90497fb1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9e06f2520088a3ad77018f1f5d4c8d3b90497fb1", "html_url": "https://github.com/rust-lang/rust/commit/9e06f2520088a3ad77018f1f5d4c8d3b90497fb1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9e06f2520088a3ad77018f1f5d4c8d3b90497fb1/comments", "author": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "52e4407d46e687c17f49ab3046a56ab172c49709", "url": "https://api.github.com/repos/rust-lang/rust/commits/52e4407d46e687c17f49ab3046a56ab172c49709", "html_url": "https://github.com/rust-lang/rust/commit/52e4407d46e687c17f49ab3046a56ab172c49709"}], "stats": {"total": 53, "additions": 49, "deletions": 4}, "files": [{"sha": "59dbfecc39ffc28f65a85ed35dc0637243a05183", "filename": "src/test/debuginfo/generators.rs", "status": "modified", "additions": 49, "deletions": 4, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/9e06f2520088a3ad77018f1f5d4c8d3b90497fb1/src%2Ftest%2Fdebuginfo%2Fgenerators.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e06f2520088a3ad77018f1f5d4c8d3b90497fb1/src%2Ftest%2Fdebuginfo%2Fgenerators.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fgenerators.rs?ref=9e06f2520088a3ad77018f1f5d4c8d3b90497fb1", "patch": "@@ -7,18 +7,52 @@\n // gdb-command:run\n // gdb-command:print a\n // gdb-check:$1 = 5\n-// gdb-command:print d\n+// gdb-command:print c\n // gdb-check:$2 = 6\n+// gdb-command:print d\n+// gdb-check:$3 = 7\n+// gdb-command:continue\n+// gdb-command:print a\n+// gdb-check:$4 = 7\n+// gdb-command:print c\n+// gdb-check:$5 = 6\n+// gdb-command:print e\n+// gdb-check:$6 = 8\n+// gdb-command:continue\n+// gdb-command:print a\n+// gdb-check:$7 = 8\n+// gdb-command:print c\n+// gdb-check:$8 = 6\n \n // === LLDB TESTS ==================================================================================\n \n // lldb-command:run\n // lldb-command:print a\n // lldbg-check:(int) $0 = 5\n // lldbr-check:(int) a = 5\n-// lldb-command:print d\n+// lldb-command:print c\n // lldbg-check:(int) $1 = 6\n-// lldbr-check:(int) d = 6\n+// lldbr-check:(int) c = 6\n+// lldb-command:print d\n+// lldbg-check:(int) $2 = 7\n+// lldbr-check:(int) d = 7\n+// lldb-command:continue\n+// lldb-command:print a\n+// lldbg-check:(int) $3 = 7\n+// lldbr-check:(int) a = 7\n+// lldb-command:print c\n+// lldbg-check:(int) $4 = 6\n+// lldbr-check:(int) c = 6\n+// lldb-command:print e\n+// lldbg-check:(int) $5 = 8\n+// lldbr-check:(int) e = 8\n+// lldb-command:continue\n+// lldb-command:print a\n+// lldbg-check:(int) $6 = 8\n+// lldbr-check:(int) a = 8\n+// lldb-command:print c\n+// lldbg-check:(int) $7 = 6\n+// lldbr-check:(int) c = 6\n \n #![feature(omit_gdb_pretty_printer_section, generators, generator_trait)]\n #![omit_gdb_pretty_printer_section]\n@@ -29,13 +63,24 @@ use std::pin::Pin;\n fn main() {\n     let mut a = 5;\n     let mut b = || {\n-        let d = 6;\n+        let c = 6; // Live across multiple yield points\n+\n+        let d = 7; // Live across only one yield point\n         yield;\n         _zzz(); // #break\n         a = d;\n+\n+        let e = 8; // Live across zero yield points\n+        _zzz(); // #break\n+        a = e;\n+\n+        yield;\n+        _zzz(); // #break\n+        a = c;\n     };\n     Pin::new(&mut b).resume();\n     Pin::new(&mut b).resume();\n+    Pin::new(&mut b).resume();\n     _zzz(); // #break\n }\n "}]}