{"sha": "bfac73c0a6786644d0a58a12347839d442be26ac", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmYWM3M2MwYTY3ODY2NDRkMGE1OGExMjM0NzgzOWQ0NDJiZTI2YWM=", "commit": {"author": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2020-01-23T00:02:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-01-23T00:02:24Z"}, "message": "Rollup merge of #68462 - matthiaskrgr:novec, r=varkor\n\nlibrustc_mir: don't allocate vectors where slices will do.", "tree": {"sha": "7bbb599260f76a958a7365f8e535bd418020253c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7bbb599260f76a958a7365f8e535bd418020253c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bfac73c0a6786644d0a58a12347839d442be26ac", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeKOKQCRBK7hj4Ov3rIwAAdHIIAGm28J1d9GYSunZSjE+2PR8X\n/GqrcClj4a9hSZWjvMycyaIo0qGcrrWR9/MmDCRB+Ngqdd9ZNiHwJoVdZEZuQANN\nOrFGJlYj2VZ2+ltG9bezhtqV6UD5Rg/NLtektefjPOnhbGHEeULwE50YyFJqc/rm\n1OsoZdKH19S1jXiHjcj9pMjpY1BPdV+mmNkjnE7jfV2nc2DE9/sica9YXJsZsm4m\n7jj/2VJFgPVC23IfEHjR2vYH8naRVq37T4d/dSzrhI9wmZWLS5y7Rlz9Wf1tmcBy\n/yjKHsjhPbLEFVp/Q6GTrzP4JNRncioC4iut8XZcqOhcV5u2g5PvPuBPjTNOvNc=\n=Lp41\n-----END PGP SIGNATURE-----\n", "payload": "tree 7bbb599260f76a958a7365f8e535bd418020253c\nparent 14e6259c29ebaa5532b4429aa42ec56abb253ed5\nparent 71370c87f74fa38a6976bec27ebe4f449058872c\nauthor Tyler Mandry <tmandry@gmail.com> 1579737744 -0800\ncommitter GitHub <noreply@github.com> 1579737744 -0800\n\nRollup merge of #68462 - matthiaskrgr:novec, r=varkor\n\nlibrustc_mir: don't allocate vectors where slices will do.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bfac73c0a6786644d0a58a12347839d442be26ac", "html_url": "https://github.com/rust-lang/rust/commit/bfac73c0a6786644d0a58a12347839d442be26ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bfac73c0a6786644d0a58a12347839d442be26ac/comments", "author": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "14e6259c29ebaa5532b4429aa42ec56abb253ed5", "url": "https://api.github.com/repos/rust-lang/rust/commits/14e6259c29ebaa5532b4429aa42ec56abb253ed5", "html_url": "https://github.com/rust-lang/rust/commit/14e6259c29ebaa5532b4429aa42ec56abb253ed5"}, {"sha": "71370c87f74fa38a6976bec27ebe4f449058872c", "url": "https://api.github.com/repos/rust-lang/rust/commits/71370c87f74fa38a6976bec27ebe4f449058872c", "html_url": "https://github.com/rust-lang/rust/commit/71370c87f74fa38a6976bec27ebe4f449058872c"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "8ac7772ea481813526a50aa947be7f28fca49b55", "filename": "src/librustc_mir/transform/generator.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bfac73c0a6786644d0a58a12347839d442be26ac/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfac73c0a6786644d0a58a12347839d442be26ac/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs?ref=bfac73c0a6786644d0a58a12347839d442be26ac", "patch": "@@ -117,7 +117,7 @@ impl<'tcx> MutVisitor<'tcx> for DerefArgVisitor<'tcx> {\n                 place,\n                 Place {\n                     local: self_arg(),\n-                    projection: self.tcx().intern_place_elems(&vec![ProjectionElem::Deref]),\n+                    projection: self.tcx().intern_place_elems(&[ProjectionElem::Deref]),\n                 },\n                 self.tcx,\n             );\n@@ -153,7 +153,7 @@ impl<'tcx> MutVisitor<'tcx> for PinArgVisitor<'tcx> {\n                 place,\n                 Place {\n                     local: self_arg(),\n-                    projection: self.tcx().intern_place_elems(&vec![ProjectionElem::Field(\n+                    projection: self.tcx().intern_place_elems(&[ProjectionElem::Field(\n                         Field::new(0),\n                         self.ref_gen_ty,\n                     )]),"}, {"sha": "afe42e6357128d27d4a9ec972d220b4a51a47ea6", "filename": "src/librustc_mir/transform/instcombine.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfac73c0a6786644d0a58a12347839d442be26ac/src%2Flibrustc_mir%2Ftransform%2Finstcombine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfac73c0a6786644d0a58a12347839d442be26ac/src%2Flibrustc_mir%2Ftransform%2Finstcombine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Finstcombine.rs?ref=bfac73c0a6786644d0a58a12347839d442be26ac", "patch": "@@ -51,7 +51,7 @@ impl<'tcx> MutVisitor<'tcx> for InstCombineVisitor<'tcx> {\n             let new_place = match rvalue {\n                 Rvalue::Ref(_, _, place) => {\n                     if let &[ref proj_l @ .., proj_r] = place.projection.as_ref() {\n-                        place.projection = self.tcx().intern_place_elems(&vec![proj_r.clone()]);\n+                        place.projection = self.tcx().intern_place_elems(&[proj_r.clone()]);\n \n                         Place {\n                             // Replace with dummy"}]}