{"sha": "1c3f34dba6a8219822a48f3db7e6f50ff04e0f78", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFjM2YzNGRiYTZhODIxOTgyMmE0OGYzZGI3ZTZmNTBmZjA0ZTBmNzg=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2017-04-10T20:50:42Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2017-04-10T20:50:57Z"}, "message": "Convert HashMap to BTree in build-manifest", "tree": {"sha": "8ff2ed16984f9b49e9d2992aac18be2942d9a18e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ff2ed16984f9b49e9d2992aac18be2942d9a18e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1c3f34dba6a8219822a48f3db7e6f50ff04e0f78", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1c3f34dba6a8219822a48f3db7e6f50ff04e0f78", "html_url": "https://github.com/rust-lang/rust/commit/1c3f34dba6a8219822a48f3db7e6f50ff04e0f78", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1c3f34dba6a8219822a48f3db7e6f50ff04e0f78/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8493dd6d6e8f5e1280ae3dc05135a7e2897c36ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/8493dd6d6e8f5e1280ae3dc05135a7e2897c36ac", "html_url": "https://github.com/rust-lang/rust/commit/8493dd6d6e8f5e1280ae3dc05135a7e2897c36ac"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "a7a43e6858ef9dd267695177cafb36a21d8ea1f9", "filename": "src/tools/build-manifest/src/main.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/1c3f34dba6a8219822a48f3db7e6f50ff04e0f78/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1c3f34dba6a8219822a48f3db7e6f50ff04e0f78/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs?ref=1c3f34dba6a8219822a48f3db7e6f50ff04e0f78", "patch": "@@ -11,7 +11,7 @@\n extern crate toml;\n extern crate rustc_serialize;\n \n-use std::collections::{BTreeMap, HashMap};\n+use std::collections::BTreeMap;\n use std::env;\n use std::fs::File;\n use std::io::{self, Read, Write};\n@@ -101,13 +101,13 @@ static MINGW: &'static [&'static str] = &[\n struct Manifest {\n     manifest_version: String,\n     date: String,\n-    pkg: HashMap<String, Package>,\n+    pkg: BTreeMap<String, Package>,\n }\n \n #[derive(RustcEncodable)]\n struct Package {\n     version: String,\n-    target: HashMap<String, Target>,\n+    target: BTreeMap<String, Target>,\n }\n \n #[derive(RustcEncodable)]\n@@ -138,7 +138,7 @@ struct Builder {\n     input: PathBuf,\n     output: PathBuf,\n     gpg_passphrase: String,\n-    digests: HashMap<String, String>,\n+    digests: BTreeMap<String, String>,\n     s3_address: String,\n     date: String,\n     rust_version: String,\n@@ -162,7 +162,7 @@ fn main() {\n         input: input,\n         output: output,\n         gpg_passphrase: passphrase,\n-        digests: HashMap::new(),\n+        digests: BTreeMap::new(),\n         s3_address: s3_address,\n         date: date,\n         rust_version: String::new(),\n@@ -214,7 +214,7 @@ impl Builder {\n         let mut manifest = Manifest {\n             manifest_version: \"2\".to_string(),\n             date: self.date.to_string(),\n-            pkg: HashMap::new(),\n+            pkg: BTreeMap::new(),\n         };\n \n         self.package(\"rustc\", &mut manifest.pkg, HOSTS);\n@@ -230,7 +230,7 @@ impl Builder {\n \n         let mut pkg = Package {\n             version: self.cached_version(\"rust\").to_string(),\n-            target: HashMap::new(),\n+            target: BTreeMap::new(),\n         };\n         for host in HOSTS {\n             let filename = self.filename(\"rust\", host);\n@@ -299,7 +299,7 @@ impl Builder {\n \n     fn package(&mut self,\n                pkgname: &str,\n-               dst: &mut HashMap<String, Package>,\n+               dst: &mut BTreeMap<String, Package>,\n                targets: &[&str]) {\n         let targets = targets.iter().map(|name| {\n             let filename = self.filename(pkgname, name);"}]}