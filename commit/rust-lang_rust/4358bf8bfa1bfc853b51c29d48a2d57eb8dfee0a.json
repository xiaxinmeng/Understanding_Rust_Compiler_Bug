{"sha": "4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQzNThiZjhiZmExYmZjODUzYjUxYzI5ZDQ4YTJkNTdlYjhkZmVlMGE=", "commit": {"author": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2014-06-30T19:42:33Z"}, "committer": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2014-07-04T00:32:35Z"}, "message": "simplify and uncomment item-fn-arg hygiene unit test", "tree": {"sha": "cb4e12f8fd1fae8e9a63d4c00bb3fb1d25cc2405", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb4e12f8fd1fae8e9a63d4c00bb3fb1d25cc2405"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a", "html_url": "https://github.com/rust-lang/rust/commit/4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a/comments", "author": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d5c20647f45f2eb74f337e5434bbe63b0c43345", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d5c20647f45f2eb74f337e5434bbe63b0c43345", "html_url": "https://github.com/rust-lang/rust/commit/5d5c20647f45f2eb74f337e5434bbe63b0c43345"}], "stats": {"total": 15, "additions": 6, "deletions": 9}, "files": [{"sha": "253102ba5de6d9ead0ebaff782260fc14a1b6b62", "filename": "src/libsyntax/ext/expand.rs", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a/src%2Flibsyntax%2Fext%2Fexpand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a/src%2Flibsyntax%2Fext%2Fexpand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fexpand.rs?ref=4358bf8bfa1bfc853b51c29d48a2d57eb8dfee0a", "patch": "@@ -1172,7 +1172,6 @@ mod test {\n         name_finder.ident_accumulator\n     }\n \n-\n     //fn expand_and_resolve(crate_str: @str) -> ast::crate {\n         //let expanded_ast = expand_crate_str(crate_str);\n         // println!(\"expanded: {:?}\\n\",expanded_ast);\n@@ -1299,17 +1298,15 @@ mod test {\n     // can't write this test case until we have macro-generating macros.\n \n     // FIXME #9383 : lambda var hygiene\n-    // interesting... can't even write this test, yet, because the name-finder\n-    // only finds pattern vars. Time to upgrade test framework.\n-    /*#[test]\n+    // expands to fn q(x_1:int){fn g(x_2:int){x_2 + x_1};}\n+    #[test]\n     fn issue_9383(){\n         run_renaming_test(\n-            &(\"macro_rules! bad_macro (($ex:expr) => ({(|_x| { $ex }) (9) }))\n-              fn takes_x(_x : int) { assert_eq!(bad_macro!(_x),8); }\n-              fn main() { takes_x(8); }\",\n-              vec!(vec!()),false),\n+            &(\"macro_rules! bad_macro (($ex:expr) => (fn g(x:int){ x + $ex }))\n+              fn q(x:int) { bad_macro!(x); }\",\n+              vec!(vec!(1),vec!(0)),true),\n             0)\n-    }*/\n+    }\n \n     // run one of the renaming tests\n     fn run_renaming_test(t: &RenamingTest, test_idx: uint) {"}]}