{"sha": "24fdaedafff117611063cba7cbe722231119eaeb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI0ZmRhZWRhZmZmMTE3NjExMDYzY2JhN2NiZTcyMjIzMTExOWVhZWI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-09-17T18:06:33Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-09-17T18:06:33Z"}, "message": "Auto merge of #28457 - VHaravy:test-run-pass-x86stdcall2, r=huonw\n\nType `HANDLE` is defined on Windows as `PVOID`. Test `run-pass/x86stdcall2` defined it as `u32` that caused access violation in `catch_panic` routine at the line:\r\n\r\n```\r\ntry!(unwind::try(move || *result = Some(f())))\r\n```\r\n\r\nThe original failure is as follows:\r\n\r\n```\r\n---- [run-pass] run-pass/x86stdcall2.rs stdout ----\r\n\r\nerror: test run failed!\r\nstatus: exit code: -1073741819\r\ncommand: PATH=\"x86_64-pc-windows-msvc/stage2/bin/rustlib/x86_64-pc-windows-msvc/lib;D:\\Sources\\Rust\\x86_64-pc-windows-msvc\\stage2\\bin;C:\\MSYS2\\mingw64\\bin;C:\\MSYS2\\usr\\local\\bin;C:\\MSYS2\\usr\\bin;C:\\MSYS2\\usr\\bin;C:\\Program Files\\Python 3;C:\\Program Files\\Python 3\\Scripts;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit;C:\\Program Files\\SlikSvn\\bin;C:\\Program Files\\System Tools;C:\\Program Files (x86)\\System Tools;C:\\Program Files\\Vim\\vim74;C:\\Program Files\\Rust\\bin;C:\\Program Files\\Microsoft\\Web Platform Installer;C:\\Program Files\\MiKTeX\\miktex\\bin\\x64;C:\\Program Files (x86)\\Pandoc;C:\\Program Files\\LLVM\\bin;C:\\Program Files\\KDiff3;C:\\Program Files\\Git\\cmd;C:\\Users\\Vitali\\AppData\\Local\\atom\\bin;C:\\MSYS2\\usr\\bin\\site_perl;C:\\MSYS2\\usr\\bin\\vendor_perl;C:\\MSYS2\\usr\\bin\\core_perl\" x86_64-pc-windows-msvc/test/run-pass\\x86stdcall2.stage2-x86_64-pc-windows-msvc.exe\r\nstdout:\r\n------------------------------------------\r\n\r\n------------------------------------------\r\nstderr:\r\n------------------------------------------\r\n\r\n------------------------------------------\r\n\r\nthread '[run-pass] run-pass/x86stdcall2.rs' panicked at 'explicit panic', D:/Sources/Rust/src/compiletest\\runtest.rs:1501\r\n```\r\n\r\nP.S. I compiled rust for `x86_64-pc-windows-msvc`.", "tree": {"sha": "b499b0f38b8b9d63493304264b85caa2b7c7b4a9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b499b0f38b8b9d63493304264b85caa2b7c7b4a9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/24fdaedafff117611063cba7cbe722231119eaeb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/24fdaedafff117611063cba7cbe722231119eaeb", "html_url": "https://github.com/rust-lang/rust/commit/24fdaedafff117611063cba7cbe722231119eaeb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/24fdaedafff117611063cba7cbe722231119eaeb/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8ea2198215a6988414926238cbc45e3720d18313", "url": "https://api.github.com/repos/rust-lang/rust/commits/8ea2198215a6988414926238cbc45e3720d18313", "html_url": "https://github.com/rust-lang/rust/commit/8ea2198215a6988414926238cbc45e3720d18313"}, {"sha": "7ff85cd216c175a65ef1802891243998ca3d9fca", "url": "https://api.github.com/repos/rust-lang/rust/commits/7ff85cd216c175a65ef1802891243998ca3d9fca", "html_url": "https://github.com/rust-lang/rust/commit/7ff85cd216c175a65ef1802891243998ca3d9fca"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "f3bf5d9c6843fca5b00d4558959770ff67c61a86", "filename": "src/test/run-pass/x86stdcall2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/24fdaedafff117611063cba7cbe722231119eaeb/src%2Ftest%2Frun-pass%2Fx86stdcall2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/24fdaedafff117611063cba7cbe722231119eaeb/src%2Ftest%2Frun-pass%2Fx86stdcall2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fx86stdcall2.rs?ref=24fdaedafff117611063cba7cbe722231119eaeb", "patch": "@@ -10,7 +10,7 @@\n \n #![feature(std_misc)]\n \n-pub type HANDLE = u32;\n+pub type HANDLE = usize;\n pub type DWORD = u32;\n pub type SIZE_T = u32;\n pub type LPVOID = usize;"}]}