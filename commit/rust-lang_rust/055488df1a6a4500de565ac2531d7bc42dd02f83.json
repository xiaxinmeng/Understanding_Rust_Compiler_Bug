{"sha": "055488df1a6a4500de565ac2531d7bc42dd02f83", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1NTQ4OGRmMWE2YTQ1MDBkZTU2NWFjMjUzMWQ3YmM0MmRkMDJmODM=", "commit": {"author": {"name": "Jeff Olson", "email": "olson.jeffery@gmail.com", "date": "2013-09-03T03:23:12Z"}, "committer": {"name": "Jeff Olson", "email": "olson.jeffery@gmail.com", "date": "2013-09-17T06:17:46Z"}, "message": "merge cleanup", "tree": {"sha": "e0f775121222ed1a74aec4a670ea514fbb946fbb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e0f775121222ed1a74aec4a670ea514fbb946fbb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/055488df1a6a4500de565ac2531d7bc42dd02f83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/055488df1a6a4500de565ac2531d7bc42dd02f83", "html_url": "https://github.com/rust-lang/rust/commit/055488df1a6a4500de565ac2531d7bc42dd02f83", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/055488df1a6a4500de565ac2531d7bc42dd02f83/comments", "author": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "committer": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "af650572e0fceb94b387db50ee31f19ee000fe4b", "url": "https://api.github.com/repos/rust-lang/rust/commits/af650572e0fceb94b387db50ee31f19ee000fe4b", "html_url": "https://github.com/rust-lang/rust/commit/af650572e0fceb94b387db50ee31f19ee000fe4b"}], "stats": {"total": 45, "additions": 23, "deletions": 22}, "files": [{"sha": "850b28718d0d23f880323cf20ff04b4616d3e368", "filename": "src/libstd/rt/uv/file.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/055488df1a6a4500de565ac2531d7bc42dd02f83/src%2Flibstd%2Frt%2Fuv%2Ffile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/055488df1a6a4500de565ac2531d7bc42dd02f83/src%2Flibstd%2Frt%2Fuv%2Ffile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frt%2Fuv%2Ffile.rs?ref=055488df1a6a4500de565ac2531d7bc42dd02f83", "patch": "@@ -183,8 +183,9 @@ impl FsRequest {\n     // accessors/utility funcs\n     fn sync_cleanup(self, result: c_int)\n           -> Result<c_int, UvError> {\n+        let loop_ = self.get_loop().native_handle();\n         self.cleanup_and_delete();\n-        match status_to_maybe_uv_error(result as i32) {\n+        match status_to_maybe_uv_error_with_loop(loop_,result as i32) {\n             Some(err) => Err(err),\n             None => Ok(result)\n         }"}, {"sha": "5756ffb0de0a68b1e012eb6f090db8409a33af0d", "filename": "src/rt/rust_uv.cpp", "status": "modified", "additions": 21, "deletions": 21, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/055488df1a6a4500de565ac2531d7bc42dd02f83/src%2Frt%2Frust_uv.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/055488df1a6a4500de565ac2531d7bc42dd02f83/src%2Frt%2Frust_uv.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_uv.cpp?ref=055488df1a6a4500de565ac2531d7bc42dd02f83", "patch": "@@ -562,27 +562,27 @@ rust_uv_fs_fstat(uv_loop_t* loop, uv_fs_t* req, uv_file file, uv_fs_cb cb) {\n }\n \n extern \"C\" void\n-rust_uv_populate_uv_stat(uv_fs_t* req_in, uv_stat_t* stat_out) {\n-  stat_out->st_dev = req_in->statbuf.st_dev;\n-  stat_out->st_mode = req_in->statbuf.st_mode;\n-  stat_out->st_nlink = req_in->statbuf.st_nlink;\n-  stat_out->st_uid = req_in->statbuf.st_uid;\n-  stat_out->st_gid = req_in->statbuf.st_gid;\n-  stat_out->st_rdev = req_in->statbuf.st_rdev;\n-  stat_out->st_ino = req_in->statbuf.st_ino;\n-  stat_out->st_size = req_in->statbuf.st_size;\n-  stat_out->st_blksize = req_in->statbuf.st_blksize;\n-  stat_out->st_blocks = req_in->statbuf.st_blocks;\n-  stat_out->st_flags = req_in->statbuf.st_flags;\n-  stat_out->st_gen = req_in->statbuf.st_gen;\n-  stat_out->st_atim.tv_sec = req_in->statbuf.st_atim.tv_sec;\n-  stat_out->st_atim.tv_nsec = req_in->statbuf.st_atim.tv_nsec;\n-  stat_out->st_mtim.tv_sec = req_in->statbuf.st_mtim.tv_sec;\n-  stat_out->st_mtim.tv_nsec = req_in->statbuf.st_mtim.tv_nsec;\n-  stat_out->st_ctim.tv_sec = req_in->statbuf.st_ctim.tv_sec;\n-  stat_out->st_ctim.tv_nsec = req_in->statbuf.st_ctim.tv_nsec;\n-  stat_out->st_birthtim.tv_sec = req_in->statbuf.st_birthtim.tv_sec;\n-  stat_out->st_birthtim.tv_nsec = req_in->statbuf.st_birthtim.tv_nsec;\n+rust_uv_populate_uv_stat(uv_fs_t* req_in, uv_statbuf_t* stat_out) {\n+  stat_out->st_dev = ((uv_statbuf_t*)req_in->ptr)->st_dev;\n+  stat_out->st_mode = ((uv_statbuf_t*)req_in->ptr)->st_mode;\n+  stat_out->st_nlink = ((uv_statbuf_t*)req_in->ptr)->st_nlink;\n+  stat_out->st_uid = ((uv_statbuf_t*)req_in->ptr)->st_uid;\n+  stat_out->st_gid = ((uv_statbuf_t*)req_in->ptr)->st_gid;\n+  stat_out->st_rdev = ((uv_statbuf_t*)req_in->ptr)->st_rdev;\n+  stat_out->st_ino = ((uv_statbuf_t*)req_in->ptr)->st_ino;\n+  stat_out->st_size = ((uv_statbuf_t*)req_in->ptr)->st_size;\n+  stat_out->st_blksize = ((uv_statbuf_t*)req_in->ptr)->st_blksize;\n+  stat_out->st_blocks = ((uv_statbuf_t*)req_in->ptr)->st_blocks;\n+  //stat_out->st_flags = ((uv_statbuf_t*)req_in->ptr)->st_flags;\n+  //stat_out->st_gen = ((uv_statbuf_t*)req_in->ptr)->st_gen;\n+  stat_out->st_atim.tv_sec = ((uv_statbuf_t*)req_in->ptr)->st_atim.tv_sec;\n+  stat_out->st_atim.tv_nsec = ((uv_statbuf_t*)req_in->ptr)->st_atim.tv_nsec;\n+  stat_out->st_mtim.tv_sec = ((uv_statbuf_t*)req_in->ptr)->st_mtim.tv_sec;\n+  stat_out->st_mtim.tv_nsec = ((uv_statbuf_t*)req_in->ptr)->st_mtim.tv_nsec;\n+  stat_out->st_ctim.tv_sec = ((uv_statbuf_t*)req_in->ptr)->st_ctim.tv_sec;\n+  stat_out->st_ctim.tv_nsec = ((uv_statbuf_t*)req_in->ptr)->st_ctim.tv_nsec;\n+  //stat_out->st_birthtim.tv_sec = ((uv_statbuf_t*)req_in->ptr)->st_birthtim.tv_sec;\n+  //stat_out->st_birthtim.tv_nsec = ((uv_statbuf_t*)req_in->ptr)->st_birthtim.tv_nsec;\n }\n \n extern \"C\" int"}]}