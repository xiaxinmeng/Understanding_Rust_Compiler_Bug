{"sha": "6737f1abcfafd5f49613bec80a216e3373ce840f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY3MzdmMWFiY2ZhZmQ1ZjQ5NjEzYmVjODBhMjE2ZTMzNzNjZTg0MGY=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2016-12-20T19:16:46Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2016-12-20T20:59:10Z"}, "message": "Rollup merge of #38472 - alexcrichton:fix-cargotest, r=brson\n\ntravis: Fix the cargotest bot\n\nRecently the Cargo revision running on cargotest was updated in #38051, and the\nupdated version of Cargo pulls in the openssl-sys 0.9 crate instead of the old\nopenssl-sys 0.7 crate. The 0.9 release of openssl-sys has slightly different\nrequirements and logic for detecting OpenSSL, namely it requires `pkg-config` to\nbe present on Linux typically.\n\nThis commit fixes this problem by installing pkg-config in the cargotest\ncontainer that's running on the bots. This in turn should hopefully fix the\nbuild script and allow it to find the already-installed local OpenSSL libraries.", "tree": {"sha": "bd72c57c87fd78bbae3f6aec365f6141e8656146", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bd72c57c87fd78bbae3f6aec365f6141e8656146"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6737f1abcfafd5f49613bec80a216e3373ce840f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6737f1abcfafd5f49613bec80a216e3373ce840f", "html_url": "https://github.com/rust-lang/rust/commit/6737f1abcfafd5f49613bec80a216e3373ce840f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6737f1abcfafd5f49613bec80a216e3373ce840f/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da73b4e40b2c89ca058b57de3a7e6614524ae1a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/da73b4e40b2c89ca058b57de3a7e6614524ae1a7", "html_url": "https://github.com/rust-lang/rust/commit/da73b4e40b2c89ca058b57de3a7e6614524ae1a7"}, {"sha": "488359eba184ed8b7a58f30c9ce24e13e2af394c", "url": "https://api.github.com/repos/rust-lang/rust/commits/488359eba184ed8b7a58f30c9ce24e13e2af394c", "html_url": "https://github.com/rust-lang/rust/commit/488359eba184ed8b7a58f30c9ce24e13e2af394c"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "2c3db87d9fb1fdd716f22aa489483e44a983ea34", "filename": "src/ci/docker/x86_64-gnu-cargotest/Dockerfile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6737f1abcfafd5f49613bec80a216e3373ce840f/src%2Fci%2Fdocker%2Fx86_64-gnu-cargotest%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/6737f1abcfafd5f49613bec80a216e3373ce840f/src%2Fci%2Fdocker%2Fx86_64-gnu-cargotest%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fx86_64-gnu-cargotest%2FDockerfile?ref=6737f1abcfafd5f49613bec80a216e3373ce840f", "patch": "@@ -12,7 +12,8 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n   ccache \\\n   libssl-dev \\\n   sudo \\\n-  xz-utils\n+  xz-utils \\\n+  pkg-config\n \n ENV SCCACHE_DIGEST=7237e38e029342fa27b7ac25412cb9d52554008b12389727320bd533fd7f05b6a96d55485f305caf95e5c8f5f97c3313e10012ccad3e752aba2518f3522ba783\n RUN curl -L https://api.pub.build.mozilla.org/tooltool/sha512/$SCCACHE_DIGEST | \\"}]}