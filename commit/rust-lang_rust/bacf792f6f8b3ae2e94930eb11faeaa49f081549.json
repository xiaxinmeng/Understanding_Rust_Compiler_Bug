{"sha": "bacf792f6f8b3ae2e94930eb11faeaa49f081549", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJhY2Y3OTJmNmY4YjNhZTJlOTQ5MzBlYjExZmFlYWE0OWYwODE1NDk=", "commit": {"author": {"name": "Alexey Shmalko", "email": "rasen.dubi@gmail.com", "date": "2019-05-03T19:45:59Z"}, "committer": {"name": "Alexey Shmalko", "email": "rasen.dubi@gmail.com", "date": "2019-05-03T19:45:59Z"}, "message": "tidy: Extract `let mut part` out of `parts` block in `version.rs`", "tree": {"sha": "ae5152ed5538f5be1e86fa813e46294145b8d783", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae5152ed5538f5be1e86fa813e46294145b8d783"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bacf792f6f8b3ae2e94930eb11faeaa49f081549", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEE3PPB2N619bhpsT2i3O97zOswZsMFAlzMmqgACgkQ3O97zOsw\nZsNIyAf9FvWxhu3AdRZrCnd67ybGf/6ROGWbma4u8q5pc+IDpcms6n9ejcc8mWHo\nfTdJQnp6TWN72vSn5JOHqt3aSlZh0jZoU9rHy3IBK59VfOacaRIsVD/Yj50XKo0M\nZV202J0sGOxUT7U+GiokiYlSagkf4UqUDg7DJ2lyifBGYTe2R/2o6A9f1POu+PGJ\ngPWOnYD1p61kxR3ly7yaUejGAxDZHGThthBmPa3vaS38/G5Wl+Xnf11nA5I4OcSV\nhkr9tvi3YaEpwXcXKaEjAtTwPuYX2JfO3gWMFB8Ffd+ZoB5hYTGbG+cr7S3hnS/V\nOUOL6zq7Jm4Asi+ByacoHxu7tnCTlg==\n=xdup\n-----END PGP SIGNATURE-----", "payload": "tree ae5152ed5538f5be1e86fa813e46294145b8d783\nparent 1937bf26268d88fabd52873a2bb0ef60e078422f\nauthor Alexey Shmalko <rasen.dubi@gmail.com> 1556912759 +0300\ncommitter Alexey Shmalko <rasen.dubi@gmail.com> 1556912759 +0300\n\ntidy: Extract `let mut part` out of `parts` block in `version.rs`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bacf792f6f8b3ae2e94930eb11faeaa49f081549", "html_url": "https://github.com/rust-lang/rust/commit/bacf792f6f8b3ae2e94930eb11faeaa49f081549", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bacf792f6f8b3ae2e94930eb11faeaa49f081549/comments", "author": {"login": "rasendubi", "id": 1366419, "node_id": "MDQ6VXNlcjEzNjY0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1366419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasendubi", "html_url": "https://github.com/rasendubi", "followers_url": "https://api.github.com/users/rasendubi/followers", "following_url": "https://api.github.com/users/rasendubi/following{/other_user}", "gists_url": "https://api.github.com/users/rasendubi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasendubi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasendubi/subscriptions", "organizations_url": "https://api.github.com/users/rasendubi/orgs", "repos_url": "https://api.github.com/users/rasendubi/repos", "events_url": "https://api.github.com/users/rasendubi/events{/privacy}", "received_events_url": "https://api.github.com/users/rasendubi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rasendubi", "id": 1366419, "node_id": "MDQ6VXNlcjEzNjY0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1366419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rasendubi", "html_url": "https://github.com/rasendubi", "followers_url": "https://api.github.com/users/rasendubi/followers", "following_url": "https://api.github.com/users/rasendubi/following{/other_user}", "gists_url": "https://api.github.com/users/rasendubi/gists{/gist_id}", "starred_url": "https://api.github.com/users/rasendubi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rasendubi/subscriptions", "organizations_url": "https://api.github.com/users/rasendubi/orgs", "repos_url": "https://api.github.com/users/rasendubi/repos", "events_url": "https://api.github.com/users/rasendubi/events{/privacy}", "received_events_url": "https://api.github.com/users/rasendubi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1937bf26268d88fabd52873a2bb0ef60e078422f", "url": "https://api.github.com/repos/rust-lang/rust/commits/1937bf26268d88fabd52873a2bb0ef60e078422f", "html_url": "https://github.com/rust-lang/rust/commit/1937bf26268d88fabd52873a2bb0ef60e078422f"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "1ce9fe127dd9395984b959b0741aa49a8ac78482", "filename": "src/tools/tidy/src/features/version.rs", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/bacf792f6f8b3ae2e94930eb11faeaa49f081549/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures%2Fversion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bacf792f6f8b3ae2e94930eb11faeaa49f081549/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures%2Fversion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures%2Fversion.rs?ref=bacf792f6f8b3ae2e94930eb11faeaa49f081549", "patch": "@@ -31,15 +31,13 @@ impl FromStr for Version {\n     fn from_str(s: &str) -> Result<Self, Self::Err> {\n         let mut iter = s.split('.').map(|part| Ok(part.parse()?));\n \n-        let parts = {\n-            let mut part = || {\n-                iter.next()\n-                    .unwrap_or(Err(ParseVersionError::WrongNumberOfParts))\n-            };\n-\n-            [part()?, part()?, part()?]\n+        let mut part = || {\n+            iter.next()\n+                .unwrap_or(Err(ParseVersionError::WrongNumberOfParts))\n         };\n \n+        let parts = [part()?, part()?, part()?];\n+\n         if let Some(_) = iter.next() {\n             // Ensure we don't have more than 3 parts.\n             return Err(ParseVersionError::WrongNumberOfParts);"}]}