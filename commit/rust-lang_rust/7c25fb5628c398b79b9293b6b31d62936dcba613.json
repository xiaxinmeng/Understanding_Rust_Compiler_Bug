{"sha": "7c25fb5628c398b79b9293b6b31d62936dcba613", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdjMjVmYjU2MjhjMzk4Yjc5YjkyOTNiNmIzMWQ2MjkzNmRjYmE2MTM=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-02-11T01:33:08Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-02-11T01:33:08Z"}, "message": "Fix bug in trans_field, un-XFAIL two more tests.", "tree": {"sha": "a828950d73268acc5a7f95048106b331d08b09f5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a828950d73268acc5a7f95048106b331d08b09f5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7c25fb5628c398b79b9293b6b31d62936dcba613", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7c25fb5628c398b79b9293b6b31d62936dcba613", "html_url": "https://github.com/rust-lang/rust/commit/7c25fb5628c398b79b9293b6b31d62936dcba613", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7c25fb5628c398b79b9293b6b31d62936dcba613/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0d27eb13415d442a4f643c8cf4c0d839c0460744", "url": "https://api.github.com/repos/rust-lang/rust/commits/0d27eb13415d442a4f643c8cf4c0d839c0460744", "html_url": "https://github.com/rust-lang/rust/commit/0d27eb13415d442a4f643c8cf4c0d839c0460744"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "c1f33b91929f19cb5cd64adc8f78e10f8035f0c2", "filename": "src/Makefile", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7c25fb5628c398b79b9293b6b31d62936dcba613/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/7c25fb5628c398b79b9293b6b31d62936dcba613/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=7c25fb5628c398b79b9293b6b31d62936dcba613", "patch": "@@ -449,6 +449,7 @@ TEST_XFAILS_RUSTC := $(filter-out \\\n                         arith-0.rs \\\n                         arith-1.rs \\\n                         arith-2.rs \\\n+                        auto-instantiate.rs \\\n                         autoderef-full-lval.rs \\\n                         bind-exterior.rs \\\n                         bind-interior.rs \\\n@@ -479,6 +480,7 @@ TEST_XFAILS_RUSTC := $(filter-out \\\n                         generic-exterior-box.rs \\\n                         generic-drop-glue.rs \\\n                         generic-obj.rs \\\n+                        generic-obj-with-derived-type.rs \\\n                         generic-tup.rs \\\n                         generic-type.rs \\\n                         generic-type-synonym.rs \\"}, {"sha": "4135a6e59de92a2a704305078916229b31e2c596", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7c25fb5628c398b79b9293b6b31d62936dcba613/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7c25fb5628c398b79b9293b6b31d62936dcba613/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=7c25fb5628c398b79b9293b6b31d62936dcba613", "patch": "@@ -2376,10 +2376,8 @@ fn trans_path(@block_ctxt cx, &ast.path p, &option.t[ast.def] dopt,\n \n fn trans_field(@block_ctxt cx, &ast.span sp, @ast.expr base,\n                &ast.ident field, &ast.ann ann) -> lval_result {\n-    auto lv = trans_lval(cx, base);\n-    auto r = lv.res;\n+    auto r = trans_expr(cx, base);\n     r = autoderef(r.bcx, r.val, ty.expr_ty(base));\n-    check (lv.is_mem);\n     auto t = ty.expr_ty(base);\n     alt (t.struct) {\n         case (ty.ty_tup(?fields)) {"}]}