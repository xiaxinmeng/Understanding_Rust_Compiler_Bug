{"sha": "d9c9982f0aeb9e6e176007ef5c0490dd18834814", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ5Yzk5ODJmMGFlYjllNmUxNzYwMDdlZjVjMDQ5MGRkMTg4MzQ4MTQ=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2011-05-04T18:01:47Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-05-05T18:26:07Z"}, "message": "Update docs to reflect assert vs. check\n\nAlso added the --batch flag to texi2pdf, as it doesn't really ever\nseem useful to drop to the TeX prompt during a build.", "tree": {"sha": "23f896f88c3d2206cdaf68b74564d5f990b436a7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/23f896f88c3d2206cdaf68b74564d5f990b436a7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9c9982f0aeb9e6e176007ef5c0490dd18834814", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9c9982f0aeb9e6e176007ef5c0490dd18834814", "html_url": "https://github.com/rust-lang/rust/commit/d9c9982f0aeb9e6e176007ef5c0490dd18834814", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9c9982f0aeb9e6e176007ef5c0490dd18834814/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0da33de278593e721ecd430013e3b56e7ce17016", "url": "https://api.github.com/repos/rust-lang/rust/commits/0da33de278593e721ecd430013e3b56e7ce17016", "html_url": "https://github.com/rust-lang/rust/commit/0da33de278593e721ecd430013e3b56e7ce17016"}], "stats": {"total": 31, "additions": 22, "deletions": 9}, "files": [{"sha": "1404e9ca5b38cf27581faf638319363e44842bee", "filename": "doc/rust.texi", "status": "modified", "additions": 21, "deletions": 8, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/d9c9982f0aeb9e6e176007ef5c0490dd18834814/doc%2Frust.texi", "raw_url": "https://github.com/rust-lang/rust/raw/d9c9982f0aeb9e6e176007ef5c0490dd18834814/doc%2Frust.texi", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Frust.texi?ref=d9c9982f0aeb9e6e176007ef5c0490dd18834814", "patch": "@@ -683,6 +683,7 @@ The keywords are:\n @item @code{auth}\n @tab @code{unsafe}\n @tab @code{self}\n+@tab @code{log}\n @item @code{bind}\n @tab @code{type}\n @tab @code{true}\n@@ -727,12 +728,12 @@ The keywords are:\n @tab @code{while}\n @tab @code{break}\n @tab @code{cont}\n-@tab @code{fail}\n-@item @code{log}\n @tab @code{note}\n+@item @code{assert}\n @tab @code{claim}\n @tab @code{check}\n @tab @code{prove}\n+@tab @code{fail}\n @item @code{for}\n @tab @code{each}\n @tab @code{ret}\n@@ -1395,7 +1396,7 @@ An example of an implicit-dereference operation performed on box values:\n @example\n let @@int x = @@10;\n let @@int y = @@12;\n-check (x + y == 22);\n+assert (x + y == 22);\n @end example\n \n Other operations act on box values as single-word-sized address values,\n@@ -1887,7 +1888,7 @@ let counter c = counter(1);\n \n c.incr();\n c.incr();\n-check (c.get() == 3);\n+assert (c.get() == 3);\n @end example\n \n There is no @emph{this} or @emph{self} available inside an object's\n@@ -2232,9 +2233,9 @@ An example of a tuple type and its use:\n @example\n type pair = tup(int,str);\n let pair p = tup(10,\"hello\");\n-check (p._0 == 10);\n+assert (p._0 == 10);\n p._1 = \"world\";\n-check (p._1 == \"world\");\n+assert (p._1 == \"world\");\n @end example\n \n \n@@ -2898,6 +2899,8 @@ effects of the expression's evaluation.\n * Ref.Expr.Alt::                Expression for complex conditional branching.\n * Ref.Expr.Prove::              Expression for static assertion of typestate.\n * Ref.Expr.Check::              Expression for dynamic assertion of typestate.\n+* Ref.Expr.Assert::              Expression for halting the program if a\n+                                           boolean condition fails to hold.\n * Ref.Expr.IfCheck::            Expression for dynamic testing of typestate.\n @end menu\n \n@@ -3068,8 +3071,8 @@ let single_param_fn add4 = bind add(4, _);\n \n let single_param_fn add5 = bind add(_, 5);\n \n-check (add(4,5) == add4(5));\n-check (add(4,5) == add5(4));\n+assert (add(4,5) == add4(5));\n+assert (add(4,5) == add5(4));\n \n @end example\n \n@@ -3592,6 +3595,16 @@ if check even(x) @{\n @}\n @end example\n \n+@node       Ref.Expr.Assert\n+@subsection Ref.Expr.Assert\n+@c * Ref.Expr.Assert::            Expression that halts the program if a boolean condition fails to hold.\n+@cindex Assertions\n+\n+An @code{assert} expression is similar to a @code{check} expression, except\n+the condition may be any boolean-typed expression, and the compiler makes no\n+use of the knowledge that the condition holds if the program continues to\n+execute after the @code{assert}.\n+\n @page\n @node    Ref.Run\n @section Ref.Run"}, {"sha": "6e78ebe4352d2c0af78ddeeb7482d73abfdaffd4", "filename": "mk/docs.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d9c9982f0aeb9e6e176007ef5c0490dd18834814/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d9c9982f0aeb9e6e176007ef5c0490dd18834814/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=d9c9982f0aeb9e6e176007ef5c0490dd18834814", "patch": "@@ -7,7 +7,7 @@ doc/version.texi: $(MKFILES) rust.texi\n       --pretty=format:'@macro gitversion%n%h %ci%n@end macro%n') >$@\n \n doc/%.pdf: %.texi doc/version.texi\n-\ttexi2pdf -I doc -o $@ --clean $<\n+\ttexi2pdf --batch -I doc -o $@ --clean $<\n \n doc/%.html: %.texi doc/version.texi\n \tmakeinfo -I doc --html --ifhtml --force --no-split --output=$@ $<"}]}