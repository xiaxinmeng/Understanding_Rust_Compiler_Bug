{"sha": "6339abd338607ab1513899f11303ced1a7c3d57f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYzMzlhYmQzMzg2MDdhYjE1MTM4OTlmMTEzMDNjZWQxYTdjM2Q1N2Y=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-04T00:16:58Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-04T00:16:58Z"}, "message": "Rollup merge of #73861 - GuillaumeGomez:create-e0767, r=Dylan-DPC\n\nCreate E0768\n\nr? @Dylan-DPC", "tree": {"sha": "b9ffbce18963f8c58d0a5e851eaf1f403f39eaf4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b9ffbce18963f8c58d0a5e851eaf1f403f39eaf4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6339abd338607ab1513899f11303ced1a7c3d57f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe/8p6CRBK7hj4Ov3rIwAAdHIIABwUYLsS2/rYLrYgCCpwa8k/\nKJHi3zExegW+nQqm3QvhABjbyRpAMLgfmm0JROeK9Lnu5D8yP7tfNSBxAth+iyyi\nssPo8lIFUXvL3JYssm35ar4dFyVIZpVLQ/iIOAP3X+ik6CPYrqVA4juFwkoVRNob\nrw+cStv8RxMbAPRgbDwUUh+48fs2Cz3qToxsckBn7NwsLCn4bxzAcCTriLGbPUAu\nndw6CKJZcmDiOLeNl9/39+2BcRD/u/gOljOciDDe+PPG8VRT9SDWDlhp3kTjb5Le\nuApnzyCk2fKltGt2RW5SzLEhmu7TSKwOvSVqx7aUDt+giPIwiPC7NTIDCUTnuyk=\n=hQh4\n-----END PGP SIGNATURE-----\n", "payload": "tree b9ffbce18963f8c58d0a5e851eaf1f403f39eaf4\nparent 9a659c54e5c139d8d9a3e374b44c46bbd89788f8\nparent 6970c923d3c3dd4c174b621b45f0836600f1e4cd\nauthor Manish Goregaokar <manishsmail@gmail.com> 1593821818 -0700\ncommitter GitHub <noreply@github.com> 1593821818 -0700\n\nRollup merge of #73861 - GuillaumeGomez:create-e0767, r=Dylan-DPC\n\nCreate E0768\n\nr? @Dylan-DPC\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6339abd338607ab1513899f11303ced1a7c3d57f", "html_url": "https://github.com/rust-lang/rust/commit/6339abd338607ab1513899f11303ced1a7c3d57f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6339abd338607ab1513899f11303ced1a7c3d57f/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a659c54e5c139d8d9a3e374b44c46bbd89788f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a659c54e5c139d8d9a3e374b44c46bbd89788f8", "html_url": "https://github.com/rust-lang/rust/commit/9a659c54e5c139d8d9a3e374b44c46bbd89788f8"}, {"sha": "6970c923d3c3dd4c174b621b45f0836600f1e4cd", "url": "https://api.github.com/repos/rust-lang/rust/commits/6970c923d3c3dd4c174b621b45f0836600f1e4cd", "html_url": "https://github.com/rust-lang/rust/commit/6970c923d3c3dd4c174b621b45f0836600f1e4cd"}], "stats": {"total": 42, "additions": 33, "deletions": 9}, "files": [{"sha": "f687221d78e039a6f3f524faf1ea2cd54a240d6b", "filename": "src/librustc_error_codes/error_codes.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Flibrustc_error_codes%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Flibrustc_error_codes%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes.rs?ref=6339abd338607ab1513899f11303ced1a7c3d57f", "patch": "@@ -449,6 +449,7 @@ E0764: include_str!(\"./error_codes/E0764.md\"),\n E0765: include_str!(\"./error_codes/E0765.md\"),\n E0766: include_str!(\"./error_codes/E0766.md\"),\n E0767: include_str!(\"./error_codes/E0767.md\"),\n+E0768: include_str!(\"./error_codes/E0768.md\"),\n ;\n //  E0006, // merged with E0005\n //  E0008, // cannot bind by-move into a pattern guard"}, {"sha": "24169ef512efb64283409449ceae4e7ad222af54", "filename": "src/librustc_error_codes/error_codes/E0768.md", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Flibrustc_error_codes%2Ferror_codes%2FE0768.md", "raw_url": "https://github.com/rust-lang/rust/raw/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Flibrustc_error_codes%2Ferror_codes%2FE0768.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes%2FE0768.md?ref=6339abd338607ab1513899f11303ced1a7c3d57f", "patch": "@@ -0,0 +1,13 @@\n+A number in a non-decimal base has no digits.\n+\n+Erroneous code example:\n+\n+```compile_fail,E0768\n+let s: i32 = 0b; // error!\n+```\n+\n+To fix this error, add the missing digits:\n+\n+```\n+let s: i32 = 0b1; // ok!\n+```"}, {"sha": "2b0e637c74e5ab2b640c73ff36392f0eb2008159", "filename": "src/librustc_parse/lexer/mod.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Flibrustc_parse%2Flexer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Flibrustc_parse%2Flexer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Flexer%2Fmod.rs?ref=6339abd338607ab1513899f11303ced1a7c3d57f", "patch": "@@ -391,7 +391,14 @@ impl<'a> StringReader<'a> {\n             }\n             rustc_lexer::LiteralKind::Int { base, empty_int } => {\n                 return if empty_int {\n-                    self.err_span_(start, suffix_start, \"no valid digits found for number\");\n+                    self.sess\n+                        .span_diagnostic\n+                        .struct_span_err_with_code(\n+                            self.mk_sp(start, suffix_start),\n+                            \"no valid digits found for number\",\n+                            error_code!(E0768),\n+                        )\n+                        .emit();\n                     (token::Integer, sym::integer(0))\n                 } else {\n                     self.validate_int_literal(base, start, suffix_start);"}, {"sha": "954cc0beeef3e73025b4c7a246760e49ddff5671", "filename": "src/test/ui/parser/issue-1802-1.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Ftest%2Fui%2Fparser%2Fissue-1802-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Ftest%2Fui%2Fparser%2Fissue-1802-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-1802-1.stderr?ref=6339abd338607ab1513899f11303ced1a7c3d57f", "patch": "@@ -1,8 +1,9 @@\n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/issue-1802-1.rs:5:16\n    |\n LL |     log(error, 0b);\n    |                ^^\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0768`."}, {"sha": "49043d07b35ebc964ce589ea4e3c4dc5f3d0b984", "filename": "src/test/ui/parser/issue-1802-2.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Ftest%2Fui%2Fparser%2Fissue-1802-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Ftest%2Fui%2Fparser%2Fissue-1802-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fissue-1802-2.stderr?ref=6339abd338607ab1513899f11303ced1a7c3d57f", "patch": "@@ -1,8 +1,9 @@\n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/issue-1802-2.rs:5:16\n    |\n LL |     log(error, 0b);\n    |                ^^\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0768`."}, {"sha": "f05d61603023cbb1c9224dc1a7e42f37c1d1c87e", "filename": "src/test/ui/parser/lex-bad-numeric-literals.stderr", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Ftest%2Fui%2Fparser%2Flex-bad-numeric-literals.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6339abd338607ab1513899f11303ced1a7c3d57f/src%2Ftest%2Fui%2Fparser%2Flex-bad-numeric-literals.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Flex-bad-numeric-literals.stderr?ref=6339abd338607ab1513899f11303ced1a7c3d57f", "patch": "@@ -46,7 +46,7 @@ error: hexadecimal float literal is not supported\n LL |     0x9.0e-9;\n    |     ^^^^^^^^\n \n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/lex-bad-numeric-literals.rs:11:5\n    |\n LL |     0o;\n@@ -64,31 +64,31 @@ error: hexadecimal float literal is not supported\n LL |     0x539.0;\n    |     ^^^^^^^\n \n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/lex-bad-numeric-literals.rs:18:5\n    |\n LL |     0x;\n    |     ^^\n \n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/lex-bad-numeric-literals.rs:19:5\n    |\n LL |     0xu32;\n    |     ^^\n \n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/lex-bad-numeric-literals.rs:20:5\n    |\n LL |     0ou32;\n    |     ^^\n \n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/lex-bad-numeric-literals.rs:21:5\n    |\n LL |     0bu32;\n    |     ^^\n \n-error: no valid digits found for number\n+error[E0768]: no valid digits found for number\n   --> $DIR/lex-bad-numeric-literals.rs:22:5\n    |\n LL |     0b;\n@@ -138,3 +138,4 @@ LL |     0b101f64;\n \n error: aborting due to 23 previous errors\n \n+For more information about this error, try `rustc --explain E0768`."}]}