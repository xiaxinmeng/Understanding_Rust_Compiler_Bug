{"sha": "f1d8558cd5fe20a351496c39dbb8e15aa028803c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxZDg1NThjZDVmZTIwYTM1MTQ5NmMzOWRiYjhlMTVhYTAyODgwM2M=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-11-17T12:50:29Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-11-17T12:50:29Z"}, "message": "Merge #215\n\n215: Add Travis Windows build r=matklad a=phansch\n\nThis adds the Windows build to Travis.\r\n\r\nI had to use the `dos2unix` utility on the parser directory to fix some incorrect\r\nline endings. I'm not sure where they are coming from but I guess git is\r\nconverting them automatically when cloning on Windows.\r\n\r\nCloses #139 \n\nCo-authored-by: Philipp Hansch <dev@phansch.net>", "tree": {"sha": "bff7587643311fca68926fb519dcbefeb177c141", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bff7587643311fca68926fb519dcbefeb177c141"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1d8558cd5fe20a351496c39dbb8e15aa028803c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1d8558cd5fe20a351496c39dbb8e15aa028803c", "html_url": "https://github.com/rust-lang/rust/commit/f1d8558cd5fe20a351496c39dbb8e15aa028803c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1d8558cd5fe20a351496c39dbb8e15aa028803c/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "97532c8bf74b96336c1c553171b3ee787edbc66a", "url": "https://api.github.com/repos/rust-lang/rust/commits/97532c8bf74b96336c1c553171b3ee787edbc66a", "html_url": "https://github.com/rust-lang/rust/commit/97532c8bf74b96336c1c553171b3ee787edbc66a"}, {"sha": "cb659cd262f5b66de01b036e26cd51b04052d488", "url": "https://api.github.com/repos/rust-lang/rust/commits/cb659cd262f5b66de01b036e26cd51b04052d488", "html_url": "https://github.com/rust-lang/rust/commit/cb659cd262f5b66de01b036e26cd51b04052d488"}], "stats": {"total": 43, "additions": 16, "deletions": 27}, "files": [{"sha": "4c691f670a6d488f9fea57c8bb42585362189517", "filename": ".travis.yml", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/f1d8558cd5fe20a351496c39dbb8e15aa028803c/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/f1d8558cd5fe20a351496c39dbb8e15aa028803c/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=f1d8558cd5fe20a351496c39dbb8e15aa028803c", "patch": "@@ -7,14 +7,18 @@ before_cache:\n env:\n   - CARGO_INCREMENTAL=0\n \n+build: &rust_build\n+  language: rust\n+  rust: beta\n+  script:\n+    - cargo gen-tests --verify\n+    - cargo gen-syntax --verify\n+    - cargo test\n+\n matrix:\n   include:\n-    - language: rust\n-      rust: beta\n-      script:\n-        - cargo gen-syntax --verify\n-        - cargo gen-tests --verify\n-        - cargo test\n+    - os: linux\n+      <<: *rust_build\n     # - language: rust\n     #   rust: nightly\n     #   before_script:\n@@ -30,6 +34,12 @@ matrix:\n         - cd editors/code && npm ci && npm run travis\n \n   allow_failures:\n+    - os: windows\n+      if: branch = master\n+      before_script:\n+        - dos2unix ./crates/ra_syntax/tests/data/parser/**/*.txt\n+        - dos2unix ./crates/ra_syntax/tests/data/parser/**/*.rs\n+      <<: *rust_build\n     - rust nightly\n \n branches:"}, {"sha": "a6195237f4338ef9d36c86b24dfbab6d817f2cec", "filename": "README.md", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f1d8558cd5fe20a351496c39dbb8e15aa028803c/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/f1d8558cd5fe20a351496c39dbb8e15aa028803c/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=f1d8558cd5fe20a351496c39dbb8e15aa028803c", "patch": "@@ -1,8 +1,6 @@\n # Rust Analyzer\n \n [![Build Status](https://travis-ci.org/rust-analyzer/rust-analyzer.svg?branch=master)](https://travis-ci.org/rust-analyzer/rust-analyzer)\n-[![Build status](https://ci.appveyor.com/api/projects/status/vtt455oi3hjy9uvk/branch/master?svg=true)](https://ci.appveyor.com/project/matklad/rust-analyzer/branch/master)\n-\n \n Rust Analyzer is an **experimental** modular compiler frontend for the\n Rust language, which aims to lay a foundation for excellent IDE"}, {"sha": "a32a1e7b8a580287dd54a083a9e12e30cd8ef14e", "filename": "appveyor.yml", "status": "removed", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/97532c8bf74b96336c1c553171b3ee787edbc66a/appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/97532c8bf74b96336c1c553171b3ee787edbc66a/appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/appveyor.yml?ref=97532c8bf74b96336c1c553171b3ee787edbc66a", "patch": "@@ -1,19 +0,0 @@\n-os: Visual Studio 2015\n-\n-install:\n-  - curl https://win.rustup.rs/ --output rustup-init.exe\n-  - rustup-init -yv --default-toolchain beta --default-host x86_64-pc-windows-msvc\n-  - set PATH=%PATH%;%USERPROFILE%\\.cargo\\bin\n-  - rustc -vV\n-  - cargo -vV\n-\n-build: false\n-\n-test_script:\n-  - cargo test\n-\n-branches:\n-  only:\n-    - staging\n-    - master\n-    - trying"}]}