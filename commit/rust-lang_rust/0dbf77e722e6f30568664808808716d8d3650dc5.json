{"sha": "0dbf77e722e6f30568664808808716d8d3650dc5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkYmY3N2U3MjJlNmYzMDU2ODY2NDgwODgwODcxNmQ4ZDM2NTBkYzU=", "commit": {"author": {"name": "Ahmed Charles", "email": "acharles@outlook.com", "date": "2016-08-27T14:48:39Z"}, "committer": {"name": "Ahmed Charles", "email": "acharles@outlook.com", "date": "2016-09-11T23:02:44Z"}, "message": "Use question_mark feature in librustc_back.", "tree": {"sha": "b7f7e160654c17f2c5662cb6a24f0c55af5b6718", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b7f7e160654c17f2c5662cb6a24f0c55af5b6718"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0dbf77e722e6f30568664808808716d8d3650dc5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0dbf77e722e6f30568664808808716d8d3650dc5", "html_url": "https://github.com/rust-lang/rust/commit/0dbf77e722e6f30568664808808716d8d3650dc5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0dbf77e722e6f30568664808808716d8d3650dc5/comments", "author": {"login": "ahmedcharles", "id": 3112514, "node_id": "MDQ6VXNlcjMxMTI1MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3112514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahmedcharles", "html_url": "https://github.com/ahmedcharles", "followers_url": "https://api.github.com/users/ahmedcharles/followers", "following_url": "https://api.github.com/users/ahmedcharles/following{/other_user}", "gists_url": "https://api.github.com/users/ahmedcharles/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahmedcharles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahmedcharles/subscriptions", "organizations_url": "https://api.github.com/users/ahmedcharles/orgs", "repos_url": "https://api.github.com/users/ahmedcharles/repos", "events_url": "https://api.github.com/users/ahmedcharles/events{/privacy}", "received_events_url": "https://api.github.com/users/ahmedcharles/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ahmedcharles", "id": 3112514, "node_id": "MDQ6VXNlcjMxMTI1MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3112514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahmedcharles", "html_url": "https://github.com/ahmedcharles", "followers_url": "https://api.github.com/users/ahmedcharles/followers", "following_url": "https://api.github.com/users/ahmedcharles/following{/other_user}", "gists_url": "https://api.github.com/users/ahmedcharles/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahmedcharles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahmedcharles/subscriptions", "organizations_url": "https://api.github.com/users/ahmedcharles/orgs", "repos_url": "https://api.github.com/users/ahmedcharles/repos", "events_url": "https://api.github.com/users/ahmedcharles/events{/privacy}", "received_events_url": "https://api.github.com/users/ahmedcharles/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "637f1492e7beb768c039b962fb04b6855d6e9461", "url": "https://api.github.com/repos/rust-lang/rust/commits/637f1492e7beb768c039b962fb04b6855d6e9461", "html_url": "https://github.com/rust-lang/rust/commit/637f1492e7beb768c039b962fb04b6855d6e9461"}], "stats": {"total": 34, "additions": 17, "deletions": 17}, "files": [{"sha": "660ed0ac7b8439f97bf1deaa625931056217f045", "filename": "src/librustc_back/target/aarch64_apple_ios.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Faarch64_apple_ios.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Faarch64_apple_ios.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Faarch64_apple_ios.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -12,7 +12,7 @@ use target::{Target, TargetOptions, TargetResult};\n use super::apple_ios_base::{opts, Arch};\n \n pub fn target() -> TargetResult {\n-    let base = try!(opts(Arch::Arm64));\n+    let base = opts(Arch::Arm64)?;\n     Ok(Target {\n         llvm_target: \"arm64-apple-ios\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "17492b8bdcb64bf6537b9e71964872d8639ca41a", "filename": "src/librustc_back/target/apple_ios_base.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fapple_ios_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fapple_ios_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fapple_ios_base.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -68,7 +68,7 @@ fn build_pre_link_args(arch: Arch) -> Result<Vec<String>, String> {\n \n     let arch_name = arch.to_string();\n \n-    let sdk_root = try!(get_sdk_root(sdk_name));\n+    let sdk_root = get_sdk_root(sdk_name)?;\n \n     Ok(vec![\"-arch\".to_string(), arch_name.to_string(),\n          \"-Wl,-syslibroot\".to_string(), sdk_root])\n@@ -85,7 +85,7 @@ fn target_cpu(arch: Arch) -> String {\n }\n \n pub fn opts(arch: Arch) -> Result<TargetOptions, String> {\n-    let pre_link_args = try!(build_pre_link_args(arch));\n+    let pre_link_args = build_pre_link_args(arch)?;\n     Ok(TargetOptions {\n         cpu: target_cpu(arch),\n         dynamic_linking: false,"}, {"sha": "71533a09b16724cbd839801c64987eb39303c5df", "filename": "src/librustc_back/target/armv7_apple_ios.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Farmv7_apple_ios.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Farmv7_apple_ios.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Farmv7_apple_ios.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -12,7 +12,7 @@ use target::{Target, TargetOptions, TargetResult};\n use super::apple_ios_base::{opts, Arch};\n \n pub fn target() -> TargetResult {\n-    let base = try!(opts(Arch::Armv7));\n+    let base = opts(Arch::Armv7)?;\n     Ok(Target {\n         llvm_target: \"armv7-apple-ios\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "f24b9969910ef0e3f4f864c054fa2ae99c09930c", "filename": "src/librustc_back/target/armv7s_apple_ios.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Farmv7s_apple_ios.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Farmv7s_apple_ios.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Farmv7s_apple_ios.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -12,7 +12,7 @@ use target::{Target, TargetOptions, TargetResult};\n use super::apple_ios_base::{opts, Arch};\n \n pub fn target() -> TargetResult {\n-    let base = try!(opts(Arch::Armv7s));\n+    let base = opts(Arch::Armv7s)?;\n     Ok(Target {\n         llvm_target: \"armv7s-apple-ios\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "94146fe9d9885266e15a000dc356f2f9aeb6ece7", "filename": "src/librustc_back/target/i386_apple_ios.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fi386_apple_ios.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fi386_apple_ios.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fi386_apple_ios.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -12,7 +12,7 @@ use target::{Target, TargetOptions, TargetResult};\n use super::apple_ios_base::{opts, Arch};\n \n pub fn target() -> TargetResult {\n-    let base = try!(opts(Arch::I386));\n+    let base = opts(Arch::I386)?;\n     Ok(Target {\n         llvm_target: \"i386-apple-ios\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "9b88cde5989370da54e65423f397cd295831ac2c", "filename": "src/librustc_back/target/i586_pc_windows_msvc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fi586_pc_windows_msvc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fi586_pc_windows_msvc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fi586_pc_windows_msvc.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -11,7 +11,7 @@\n use target::TargetResult;\n \n pub fn target() -> TargetResult {\n-    let mut base = try!(super::i686_pc_windows_msvc::target());\n+    let mut base = super::i686_pc_windows_msvc::target()?;\n     base.options.cpu = \"pentium\".to_string();\n     base.llvm_target = \"i586-pc-windows-msvc\".to_string();\n     Ok(base)"}, {"sha": "40fb4a67acdf13506ca33077385b6a03432cf67e", "filename": "src/librustc_back/target/i586_unknown_linux_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fi586_unknown_linux_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fi586_unknown_linux_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fi586_unknown_linux_gnu.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -11,7 +11,7 @@\n use target::TargetResult;\n \n pub fn target() -> TargetResult {\n-    let mut base = try!(super::i686_unknown_linux_gnu::target());\n+    let mut base = super::i686_unknown_linux_gnu::target()?;\n     base.options.cpu = \"pentium\".to_string();\n     base.llvm_target = \"i586-unknown-linux-gnu\".to_string();\n     Ok(base)"}, {"sha": "e9fce9cee00d16a90045d391cd28f95a3367a6c4", "filename": "src/librustc_back/target/mod.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmod.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -77,12 +77,12 @@ macro_rules! supported_targets {\n             match target {\n                 $(\n                     $triple => {\n-                        let mut t = try!($module::target());\n+                        let mut t = $module::target()?;\n                         t.options.is_builtin = true;\n \n                         // round-trip through the JSON parser to ensure at\n                         // run-time that the parser works correctly\n-                        t = try!(Target::from_json(t.to_json()));\n+                        t = Target::from_json(t.to_json())?;\n                         debug!(\"Got builtin target: {:?}\", t);\n                         Ok(t)\n                     },\n@@ -442,12 +442,12 @@ impl Target {\n         };\n \n         let mut base = Target {\n-            llvm_target: try!(get_req_field(\"llvm-target\")),\n-            target_endian: try!(get_req_field(\"target-endian\")),\n-            target_pointer_width: try!(get_req_field(\"target-pointer-width\")),\n-            data_layout: try!(get_req_field(\"data-layout\")),\n-            arch: try!(get_req_field(\"arch\")),\n-            target_os: try!(get_req_field(\"os\")),\n+            llvm_target: get_req_field(\"llvm-target\")?,\n+            target_endian: get_req_field(\"target-endian\")?,\n+            target_pointer_width: get_req_field(\"target-pointer-width\")?,\n+            data_layout: get_req_field(\"data-layout\")?,\n+            arch: get_req_field(\"arch\")?,\n+            target_os: get_req_field(\"os\")?,\n             target_env: get_opt_field(\"env\", \"\"),\n             target_vendor: get_opt_field(\"vendor\", \"unknown\"),\n             options: Default::default(),"}, {"sha": "3b8b636b6dc66ef1e0c88de4617d4df3227f28d6", "filename": "src/librustc_back/target/x86_64_apple_ios.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fx86_64_apple_ios.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0dbf77e722e6f30568664808808716d8d3650dc5/src%2Flibrustc_back%2Ftarget%2Fx86_64_apple_ios.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fx86_64_apple_ios.rs?ref=0dbf77e722e6f30568664808808716d8d3650dc5", "patch": "@@ -12,7 +12,7 @@ use target::{Target, TargetOptions, TargetResult};\n use super::apple_ios_base::{opts, Arch};\n \n pub fn target() -> TargetResult {\n-    let base = try!(opts(Arch::X86_64));\n+    let base = opts(Arch::X86_64)?;\n     Ok(Target {\n         llvm_target: \"x86_64-apple-ios\".to_string(),\n         target_endian: \"little\".to_string(),"}]}