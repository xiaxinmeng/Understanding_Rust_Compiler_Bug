{"sha": "3a97b5fa2048211b16d362be34293912fe996113", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNhOTdiNWZhMjA0ODIxMWIxNmQzNjJiZTM0MjkzOTEyZmU5OTYxMTM=", "commit": {"author": {"name": "Unknown", "email": "dobbybabee@gmail.com", "date": "2019-01-13T21:26:20Z"}, "committer": {"name": "unknown", "email": "unknown@example.com", "date": "2019-02-01T18:21:19Z"}, "message": "Moving tests to ui-toml to make use of clippy.toml", "tree": {"sha": "b1466b8a4fdd49b5e6f9fd523b24b61df626bd96", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b1466b8a4fdd49b5e6f9fd523b24b61df626bd96"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3a97b5fa2048211b16d362be34293912fe996113", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3a97b5fa2048211b16d362be34293912fe996113", "html_url": "https://github.com/rust-lang/rust/commit/3a97b5fa2048211b16d362be34293912fe996113", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3a97b5fa2048211b16d362be34293912fe996113/comments", "author": null, "committer": null, "parents": [{"sha": "7fbd55c3291175229fb86ffd8a31c1e5fb544e27", "url": "https://api.github.com/repos/rust-lang/rust/commits/7fbd55c3291175229fb86ffd8a31c1e5fb544e27", "html_url": "https://github.com/rust-lang/rust/commit/7fbd55c3291175229fb86ffd8a31c1e5fb544e27"}], "stats": {"total": 246, "additions": 68, "deletions": 178}, "files": [{"sha": "951dbb523d9558c5b75e5197f0df52e4b8ee9448", "filename": "tests/ui-toml/functions_maxlines/clippy.toml", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3a97b5fa2048211b16d362be34293912fe996113/tests%2Fui-toml%2Ffunctions_maxlines%2Fclippy.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3a97b5fa2048211b16d362be34293912fe996113/tests%2Fui-toml%2Ffunctions_maxlines%2Fclippy.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Ffunctions_maxlines%2Fclippy.toml?ref=3a97b5fa2048211b16d362be34293912fe996113", "patch": "@@ -0,0 +1 @@\n+too-many-lines-threshold = 1"}, {"sha": "6ee75e4dbc1798868543272c8616e288de1df44d", "filename": "tests/ui-toml/functions_maxlines/test.rs", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/3a97b5fa2048211b16d362be34293912fe996113/tests%2Fui-toml%2Ffunctions_maxlines%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3a97b5fa2048211b16d362be34293912fe996113/tests%2Fui-toml%2Ffunctions_maxlines%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Ffunctions_maxlines%2Ftest.rs?ref=3a97b5fa2048211b16d362be34293912fe996113", "patch": "@@ -0,0 +1,44 @@\n+#![warn(clippy::too_many_lines)]\n+\n+\n+// This function should be considered one line.\n+fn many_comments_but_one_line_of_code() {\n+    /* println!(\"This is good.\"); */\n+    // println!(\"This is good.\");\n+    /* */ // println!(\"This is good.\");\n+    /* */ // println!(\"This is good.\");\n+    /* */ // println!(\"This is good.\");\n+    /* */ // println!(\"This is good.\");\n+    /* println!(\"This is good.\");\n+    println!(\"This is good.\");\n+    println!(\"This is good.\"); */\n+    println!(\"This is good.\");\n+}\n+\n+// This should be considered two and a fail.\n+fn too_many_lines() {\n+    println!(\"This is bad.\");\n+    println!(\"This is bad.\");\n+}\n+\n+// This should be considered one line.\n+fn comment_starts_after_code() {\n+    let _ = 5; /* closing comment. */ /*\n+    this line shouldn't be counted theoretically.\n+    */\n+}\n+\n+// This should be considered one line.\n+fn comment_after_code() {\n+    let _ = 5; /* this line should get counted once. */\n+}\n+\n+// This should fail since it is technically two lines.\n+fn comment_before_code() {\n+    let _ = \"test\";\n+    /* This comment extends to the front of\n+    teh code but this line should still count. */ let _ = 5;\n+}\n+\n+// This should be considered one line.\n+fn main() {}"}, {"sha": "f36c59787841c0892e0c9d7f222c690c4c39ca50", "filename": "tests/ui-toml/functions_maxlines/test.stderr", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/3a97b5fa2048211b16d362be34293912fe996113/tests%2Fui-toml%2Ffunctions_maxlines%2Ftest.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3a97b5fa2048211b16d362be34293912fe996113/tests%2Fui-toml%2Ffunctions_maxlines%2Ftest.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Ffunctions_maxlines%2Ftest.stderr?ref=3a97b5fa2048211b16d362be34293912fe996113", "patch": "@@ -0,0 +1,23 @@\n+error: This function has a large number of lines.\n+  --> $DIR/test.rs:19:1\n+   |\n+LL | / fn too_many_lines() {\n+LL | |     println!(\"This is bad.\");\n+LL | |     println!(\"This is bad.\");\n+LL | | }\n+   | |_^\n+   |\n+   = note: `-D clippy::too-many-lines` implied by `-D warnings`\n+\n+error: This function has a large number of lines.\n+  --> $DIR/test.rs:37:1\n+   |\n+LL | / fn comment_before_code() {\n+LL | |     let _ = \"test\";\n+LL | |     /* This comment extends to the front of\n+LL | |     teh code but this line should still count. */ let _ = 5;\n+LL | | }\n+   | |_^\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "5f93f8153400ffc5ac902423d1c0f30d964c0a67", "filename": "tests/ui/functions_maxlines.rs", "status": "removed", "additions": 0, "deletions": 162, "changes": 162, "blob_url": "https://github.com/rust-lang/rust/blob/7fbd55c3291175229fb86ffd8a31c1e5fb544e27/tests%2Fui%2Ffunctions_maxlines.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7fbd55c3291175229fb86ffd8a31c1e5fb544e27/tests%2Fui%2Ffunctions_maxlines.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffunctions_maxlines.rs?ref=7fbd55c3291175229fb86ffd8a31c1e5fb544e27", "patch": "@@ -1,162 +0,0 @@\n-#![warn(clippy::all, clippy::pedantic)]\n-\n-// TOO_MANY_LINES\n-fn good_lines() {\n-    /* println!(\"This is good.\"); */\n-    // println!(\"This is good.\");\n-    /* */ // println!(\"This is good.\");\n-    /* */ // println!(\"This is good.\");\n-    /* */ // println!(\"This is good.\");\n-    /* */ // println!(\"This is good.\");\n-    /* println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\"); */\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-    println!(\"This is good.\");\n-}\n-\n-fn bad_lines() {\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-    println!(\"This is bad.\");\n-}\n-\n-fn main() {}"}, {"sha": "9e1b2fe568a4e4ab675b29d2af1c662066126caf", "filename": "tests/ui/functions_maxlines.stderr", "status": "removed", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7fbd55c3291175229fb86ffd8a31c1e5fb544e27/tests%2Fui%2Ffunctions_maxlines.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7fbd55c3291175229fb86ffd8a31c1e5fb544e27/tests%2Fui%2Ffunctions_maxlines.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffunctions_maxlines.stderr?ref=7fbd55c3291175229fb86ffd8a31c1e5fb544e27", "patch": "@@ -1,16 +0,0 @@\n-error: This function has a large number of lines.\n-  --> $DIR/functions_maxlines.rs:59:1\n-   |\n-LL | / fn bad_lines() {\n-LL | |     println!(\"This is bad.\");\n-LL | |     println!(\"This is bad.\");\n-LL | |     println!(\"This is bad.\");\n-...  |\n-LL | |     println!(\"This is bad.\");\n-LL | | }\n-   | |_^\n-   |\n-   = note: `-D clippy::too-many-lines` implied by `-D warnings`\n-\n-error: aborting due to previous error\n-"}]}