{"sha": "f7540b165cfe800ff5bfd2be22cc08510d4d03eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3NTQwYjE2NWNmZTgwMGZmNWJmZDJiZTIyY2MwODUxMGQ0ZDAzZWI=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2011-12-14T23:41:14Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2011-12-14T23:41:41Z"}, "message": "remove unused tps_fn(); comment out unused var", "tree": {"sha": "258e3a3c252a27ec261f15a7fa701e796f0f7c88", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/258e3a3c252a27ec261f15a7fa701e796f0f7c88"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f7540b165cfe800ff5bfd2be22cc08510d4d03eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f7540b165cfe800ff5bfd2be22cc08510d4d03eb", "html_url": "https://github.com/rust-lang/rust/commit/f7540b165cfe800ff5bfd2be22cc08510d4d03eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f7540b165cfe800ff5bfd2be22cc08510d4d03eb/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "af8e471908841ff2ca925b49871dae4c68ddf86e", "url": "https://api.github.com/repos/rust-lang/rust/commits/af8e471908841ff2ca925b49871dae4c68ddf86e", "html_url": "https://github.com/rust-lang/rust/commit/af8e471908841ff2ca925b49871dae4c68ddf86e"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "39b280274281d4e49cca3115b9e73fcb9c9ea734", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f7540b165cfe800ff5bfd2be22cc08510d4d03eb/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7540b165cfe800ff5bfd2be22cc08510d4d03eb/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=f7540b165cfe800ff5bfd2be22cc08510d4d03eb", "patch": "@@ -937,7 +937,7 @@ fn trans_stack_local_derived_tydesc(cx: @block_ctxt, llsz: ValueRef,\n \n // Objects and closures store their type parameters differently (in the object\n // or closure itself rather than in the type descriptor).\n-tag ty_param_storage { tps_normal; tps_obj(uint); tps_fn(uint); }\n+tag ty_param_storage { tps_normal; tps_obj(uint); }\n \n fn get_derived_tydesc(cx: @block_ctxt, t: ty::t, escapes: bool,\n                       storage: ty_param_storage,\n@@ -958,7 +958,7 @@ fn get_derived_tydesc(cx: @block_ctxt, t: ty::t, escapes: bool,\n     let is_obj_body;\n     alt storage {\n         tps_normal. { is_obj_body = false; }\n-        tps_obj(_) | tps_fn(_) { is_obj_body = true; }\n+        tps_obj(_) { is_obj_body = true; }\n     }\n \n     bcx_ccx(cx).stats.n_derived_tydescs += 1u;\n@@ -1006,7 +1006,6 @@ fn get_derived_tydesc(cx: @block_ctxt, t: ty::t, escapes: bool,\n     alt storage {\n       tps_normal. { obj_params = 0u; }\n       tps_obj(np) { obj_params = np; }\n-      tps_fn(np) { obj_params = 0x80000000u | np; }\n     }\n \n     let v;"}, {"sha": "93cbbb6ae3c989e36220fdcf6e6a9ec269fc6d30", "filename": "src/comp/middle/trans_closure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7540b165cfe800ff5bfd2be22cc08510d4d03eb/src%2Fcomp%2Fmiddle%2Ftrans_closure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7540b165cfe800ff5bfd2be22cc08510d4d03eb/src%2Fcomp%2Fmiddle%2Ftrans_closure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans_closure.rs?ref=f7540b165cfe800ff5bfd2be22cc08510d4d03eb", "patch": "@@ -55,7 +55,7 @@ fn build_environment(bcx: @block_ctxt, lltydescs: [ValueRef],\n         };\n     }\n \n-    let ccx = bcx_ccx(bcx);\n+    //let ccx = bcx_ccx(bcx);\n     let tcx = bcx_tcx(bcx);\n \n     // First, synthesize a tuple type containing the types of all the"}]}