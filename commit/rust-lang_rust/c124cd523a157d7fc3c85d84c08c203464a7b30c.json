{"sha": "c124cd523a157d7fc3c85d84c08c203464a7b30c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMxMjRjZDUyM2ExNTdkN2ZjM2M4NWQ4NGMwOGMyMDM0NjRhN2IzMGM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-11-17T05:55:07Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-11-17T05:55:07Z"}, "message": "Auto merge of #29870 - petrochenkov:typaren, r=nrc\n\nLike https://github.com/nrc/rust/commit/d21bfff78cd949ce72be57d3528c4f6985190feb, but for the type grammar.\n\nr? @nrc", "tree": {"sha": "ddc5ce4229c9d37f31833058746aeb16861f328c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ddc5ce4229c9d37f31833058746aeb16861f328c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c124cd523a157d7fc3c85d84c08c203464a7b30c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c124cd523a157d7fc3c85d84c08c203464a7b30c", "html_url": "https://github.com/rust-lang/rust/commit/c124cd523a157d7fc3c85d84c08c203464a7b30c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c124cd523a157d7fc3c85d84c08c203464a7b30c/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3037b29a93fd65c7bd279140e4218935bbb4c52d", "url": "https://api.github.com/repos/rust-lang/rust/commits/3037b29a93fd65c7bd279140e4218935bbb4c52d", "html_url": "https://github.com/rust-lang/rust/commit/3037b29a93fd65c7bd279140e4218935bbb4c52d"}, {"sha": "4a850159cd56805aa0a79ab9cb0ab1f831a97144", "url": "https://api.github.com/repos/rust-lang/rust/commits/4a850159cd56805aa0a79ab9cb0ab1f831a97144", "html_url": "https://github.com/rust-lang/rust/commit/4a850159cd56805aa0a79ab9cb0ab1f831a97144"}], "stats": {"total": 17, "additions": 4, "deletions": 13}, "files": [{"sha": "835a96c64085423cfc9d3cd572e899b4a091dc62", "filename": "src/librustc/middle/infer/error_reporting.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -1444,7 +1444,6 @@ impl<'a, 'tcx> Rebuilder<'a, 'tcx> {\n                     hir::TyTup(tys) => {\n                         hir::TyTup(tys.into_iter().map(|ty| build_to(ty, to)).collect())\n                     }\n-                    hir::TyParen(typ) => hir::TyParen(build_to(typ, to)),\n                     other => other\n                 };\n                 hir::Ty { id: id, node: new_node, span: span }"}, {"sha": "b38aae240f53b136d82a70ad86c1eb1191c2a562", "filename": "src/librustc_front/fold.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Ffold.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -382,7 +382,6 @@ pub fn noop_fold_ty<T: Folder>(t: P<Ty>, fld: &mut T) -> P<Ty> {\n                     }))\n                 }\n                 TyTup(tys) => TyTup(tys.move_map(|ty| fld.fold_ty(ty))),\n-                TyParen(ty) => TyParen(fld.fold_ty(ty)),\n                 TyPath(qself, path) => {\n                     let qself = qself.map(|QSelf { ty, position }| {\n                         QSelf {"}, {"sha": "aa21c3ea0423e9865a27bb14a25ae6ef9634bc1e", "filename": "src/librustc_front/hir.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Fhir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Fhir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Fhir.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -848,8 +848,6 @@ pub enum Ty_ {\n     TyObjectSum(P<Ty>, TyParamBounds),\n     /// A type like `for<'a> Foo<&'a Bar>`\n     TyPolyTraitRef(TyParamBounds),\n-    /// No-op; kept solely so that we can pretty-print faithfully\n-    TyParen(P<Ty>),\n     /// Unused for now\n     TyTypeof(P<Expr>),\n     /// TyInfer means the type should be inferred instead of it having been"}, {"sha": "0a5919198225836ba3e151cfd92f19d8ea11c350", "filename": "src/librustc_front/lowering.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Flowering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Flowering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Flowering.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -225,7 +225,9 @@ pub fn lower_ty(_lctx: &LoweringContext, t: &Ty) -> P<hir::Ty> {\n                 }))\n             }\n             TyTup(ref tys) => hir::TyTup(tys.iter().map(|ty| lower_ty(_lctx, ty)).collect()),\n-            TyParen(ref ty) => hir::TyParen(lower_ty(_lctx, ty)),\n+            TyParen(ref ty) => {\n+                return lower_ty(_lctx, ty);\n+            }\n             TyPath(ref qself, ref path) => {\n                 let qself = qself.as_ref().map(|&QSelf { ref ty, position }| {\n                     hir::QSelf {"}, {"sha": "002181c357b334cc408967d4db0fe77922c4a65a", "filename": "src/librustc_front/print/pprust.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Fprint%2Fpprust.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -506,11 +506,6 @@ impl<'a> State<'a> {\n                 }\n                 try!(self.pclose());\n             }\n-            hir::TyParen(ref typ) => {\n-                try!(self.popen());\n-                try!(self.print_type(&**typ));\n-                try!(self.pclose());\n-            }\n             hir::TyBareFn(ref f) => {\n                 let generics = hir::Generics {\n                     lifetimes: f.lifetimes.clone(),"}, {"sha": "8307543958f9145c966e3176c1b4615046bdc064", "filename": "src/librustc_front/visit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_front%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_front%2Fvisit.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -349,7 +349,7 @@ pub fn walk_variant<'v, V: Visitor<'v>>(visitor: &mut V,\n \n pub fn walk_ty<'v, V: Visitor<'v>>(visitor: &mut V, typ: &'v Ty) {\n     match typ.node {\n-        TyVec(ref ty) | TyParen(ref ty) => {\n+        TyVec(ref ty) => {\n             visitor.visit_ty(ty)\n         }\n         TyPtr(ref mutable_type) => {"}, {"sha": "7de262dfa5b95adfcee85f47e2becf5847df1208", "filename": "src/librustc_typeck/astconv.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_typeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustc_typeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fastconv.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -1624,7 +1624,6 @@ pub fn ast_ty_to_ty<'tcx>(this: &AstConv<'tcx>,\n                              .collect();\n             tcx.mk_tup(flds)\n         }\n-        hir::TyParen(ref typ) => ast_ty_to_ty(this, rscope, &**typ),\n         hir::TyBareFn(ref bf) => {\n             require_c_abi_if_variadic(tcx, &bf.decl, bf.abi, ast_ty.span);\n             let bare_fn = ty_of_bare_fn(this, bf.unsafety, bf.abi, &*bf.decl);"}, {"sha": "dbf71e431d4d1d5dde4916c484fcdbb8c2821c5a", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c124cd523a157d7fc3c85d84c08c203464a7b30c/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=c124cd523a157d7fc3c85d84c08c203464a7b30c", "patch": "@@ -1606,7 +1606,6 @@ impl Clean<Type> for hir::Ty {\n                 }\n             }\n             TyBareFn(ref barefn) => BareFunction(box barefn.clean(cx)),\n-            TyParen(ref ty) => ty.clean(cx),\n             TyPolyTraitRef(ref bounds) => {\n                 PolyTraitRef(bounds.clean(cx))\n             },"}]}