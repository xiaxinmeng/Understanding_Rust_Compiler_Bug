{"sha": "af09bf9293ed89b93662bad02006bcabde587a16", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmMDliZjkyOTNlZDg5YjkzNjYyYmFkMDIwMDZiY2FiZGU1ODdhMTY=", "commit": {"author": {"name": "Pramod Bisht", "email": "pramodpsb@outlook.com", "date": "2018-09-09T13:43:41Z"}, "committer": {"name": "Pramod Bisht", "email": "pramodpsb@outlook.com", "date": "2018-09-09T13:43:41Z"}, "message": "53692: Addressed Estebank's Nits", "tree": {"sha": "2168a7d668a0f2fc536126ed58ff8d153dc7a97c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2168a7d668a0f2fc536126ed58ff8d153dc7a97c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af09bf9293ed89b93662bad02006bcabde587a16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af09bf9293ed89b93662bad02006bcabde587a16", "html_url": "https://github.com/rust-lang/rust/commit/af09bf9293ed89b93662bad02006bcabde587a16", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af09bf9293ed89b93662bad02006bcabde587a16/comments", "author": {"login": "PramodBisht", "id": 2766842, "node_id": "MDQ6VXNlcjI3NjY4NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2766842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PramodBisht", "html_url": "https://github.com/PramodBisht", "followers_url": "https://api.github.com/users/PramodBisht/followers", "following_url": "https://api.github.com/users/PramodBisht/following{/other_user}", "gists_url": "https://api.github.com/users/PramodBisht/gists{/gist_id}", "starred_url": "https://api.github.com/users/PramodBisht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PramodBisht/subscriptions", "organizations_url": "https://api.github.com/users/PramodBisht/orgs", "repos_url": "https://api.github.com/users/PramodBisht/repos", "events_url": "https://api.github.com/users/PramodBisht/events{/privacy}", "received_events_url": "https://api.github.com/users/PramodBisht/received_events", "type": "User", "site_admin": false}, "committer": {"login": "PramodBisht", "id": 2766842, "node_id": "MDQ6VXNlcjI3NjY4NDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2766842?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PramodBisht", "html_url": "https://github.com/PramodBisht", "followers_url": "https://api.github.com/users/PramodBisht/followers", "following_url": "https://api.github.com/users/PramodBisht/following{/other_user}", "gists_url": "https://api.github.com/users/PramodBisht/gists{/gist_id}", "starred_url": "https://api.github.com/users/PramodBisht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PramodBisht/subscriptions", "organizations_url": "https://api.github.com/users/PramodBisht/orgs", "repos_url": "https://api.github.com/users/PramodBisht/repos", "events_url": "https://api.github.com/users/PramodBisht/events{/privacy}", "received_events_url": "https://api.github.com/users/PramodBisht/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a673203ec83746bc0bc7e4579fa97519a66f570e", "url": "https://api.github.com/repos/rust-lang/rust/commits/a673203ec83746bc0bc7e4579fa97519a66f570e", "html_url": "https://github.com/rust-lang/rust/commit/a673203ec83746bc0bc7e4579fa97519a66f570e"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "997fdb0df616bf1d1490d93f05bb66267de7cc37", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/af09bf9293ed89b93662bad02006bcabde587a16/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af09bf9293ed89b93662bad02006bcabde587a16/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=af09bf9293ed89b93662bad02006bcabde587a16", "patch": "@@ -4726,13 +4726,15 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n                         if receiver.ends_with(&method_call) {\n                             None  // do not suggest code that is already there (#53348)\n                         } else {\n-                            // methods defined will be overwrite `.clone()`\n-                            // if suggesion is present in `method_call_list` (#53692)\n+                            /*\n+                            methods defined in `method_call_list` will overwrite\n+                            `.clone()` in copy of `receiver`\n+                            */\n                             let method_call_list = [\".to_vec()\", \".to_string()\"];\n-                            if receiver.ends_with(\"clone()\")\n+                            if receiver.ends_with(\".clone()\")\n                                     && method_call_list.contains(&method_call.as_str()){\n-                                // needed to clone receiver, because we don't want other\n-                                // suggestion to get affect because of that\n+                                // created copy of `receiver` because we don't want other\n+                                // suggestion to get affected\n                                 let mut new_receiver = receiver.clone();\n                                 let max_len = new_receiver.rfind(\".\").unwrap();\n                                 new_receiver.truncate(max_len);"}, {"sha": "0b6cc36fa52ef77025931c738f181a7ccb3cba5a", "filename": "src/test/ui/issue-53692.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/af09bf9293ed89b93662bad02006bcabde587a16/src%2Ftest%2Fui%2Fissue-53692.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af09bf9293ed89b93662bad02006bcabde587a16/src%2Ftest%2Fui%2Fissue-53692.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-53692.rs?ref=af09bf9293ed89b93662bad02006bcabde587a16", "patch": "@@ -12,6 +12,13 @@ fn main() {\n         let ref_items: &[i32] = &items;\n         let items_clone: Vec<i32> = ref_items.clone();\n \n+        // in that case no suggestion will be triggered\n+        let items_clone_2:Vec<i32> = items.clone();\n+\n         let s = \"hi\";\n         let string: String = s.clone();\n+\n+        // in that case no suggestion will be triggered\n+        let s2 = \"hi\";\n+        let string_2: String = s2.to_string();\n }"}, {"sha": "9cd8a53615529b2fb358f57d4b60f61ca4773f07", "filename": "src/test/ui/issue-53692.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/af09bf9293ed89b93662bad02006bcabde587a16/src%2Ftest%2Fui%2Fissue-53692.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af09bf9293ed89b93662bad02006bcabde587a16/src%2Ftest%2Fui%2Fissue-53692.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-53692.stderr?ref=af09bf9293ed89b93662bad02006bcabde587a16", "patch": "@@ -11,7 +11,7 @@ LL |         let items_clone: Vec<i32> = ref_items.clone();\n               found type `&[i32]`\n \n error[E0308]: mismatched types\n-  --> $DIR/issue-53692.rs:16:30\n+  --> $DIR/issue-53692.rs:19:30\n    |\n LL |         let string: String = s.clone();\n    |                              ^^^^^^^^^"}]}