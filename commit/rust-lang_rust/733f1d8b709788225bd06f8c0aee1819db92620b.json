{"sha": "733f1d8b709788225bd06f8c0aee1819db92620b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczM2YxZDhiNzA5Nzg4MjI1YmQwNmY4YzBhZWUxODE5ZGI5MjYyMGI=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2019-09-30T08:46:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-09-30T08:46:08Z"}, "message": "Merge #1934\n\n1934: Parse Path and AttrInput in Attr r=matklad a=uHOOCCOOHu\n\n[Syntax reference](https://doc.rust-lang.org/reference/attributes.html#attributes)\n\nCo-authored-by: uHOOCCOOHu <hooccooh1896@gmail.com>", "tree": {"sha": "d17395e4c3f7965c5cf9bdd50ef940e52eef1155", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d17395e4c3f7965c5cf9bdd50ef940e52eef1155"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/733f1d8b709788225bd06f8c0aee1819db92620b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdkcDQCRBK7hj4Ov3rIwAAdHIIAJ1gziXH29bm6+0u6n0xu9fJ\nTU2NVp6aBAceAm3D8iBJP6h8PhxCAjrpdyjbaeDhMupAKbdzOIS8sge9zkt1m+0e\n8haMz40asZ0pQW4Sq20MmjYL5Gn5CCEL7/6UyBLkWYnRrUt/m4IKthhjWQ1yy5tb\npzGUt/Eg9kuD+qQwywGE7VQPS5EW1ZVMIoxMerfWvMVThveRDHMiKeNvF1ZeyjOo\nrCWRkqcgoI/CyuJ+1MyM8bJ4VJA/M9u+LKBPWj+atKEkvmXZ0lJDj0p9FvA1p8Rw\n5uyppghT3bXhKk5Yg3FJA4aR8UQDl1mzNkdc6KTG+QJG4zhOGgQEOxxnvEVjGlg=\n=6t69\n-----END PGP SIGNATURE-----\n", "payload": "tree d17395e4c3f7965c5cf9bdd50ef940e52eef1155\nparent c913b48928107710d6ec87a455b1ae6891297c2b\nparent f7e12559cb26b59a9a2ecee4deecaf6fe9100d16\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1569833168 +0000\ncommitter GitHub <noreply@github.com> 1569833168 +0000\n\nMerge #1934\n\n1934: Parse Path and AttrInput in Attr r=matklad a=uHOOCCOOHu\n\n[Syntax reference](https://doc.rust-lang.org/reference/attributes.html#attributes)\n\nCo-authored-by: uHOOCCOOHu <hooccooh1896@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/733f1d8b709788225bd06f8c0aee1819db92620b", "html_url": "https://github.com/rust-lang/rust/commit/733f1d8b709788225bd06f8c0aee1819db92620b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/733f1d8b709788225bd06f8c0aee1819db92620b/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c913b48928107710d6ec87a455b1ae6891297c2b", "url": "https://api.github.com/repos/rust-lang/rust/commits/c913b48928107710d6ec87a455b1ae6891297c2b", "html_url": "https://github.com/rust-lang/rust/commit/c913b48928107710d6ec87a455b1ae6891297c2b"}, {"sha": "f7e12559cb26b59a9a2ecee4deecaf6fe9100d16", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7e12559cb26b59a9a2ecee4deecaf6fe9100d16", "html_url": "https://github.com/rust-lang/rust/commit/f7e12559cb26b59a9a2ecee4deecaf6fe9100d16"}], "stats": {"total": 1530, "additions": 870, "deletions": 660}, "files": [{"sha": "8f2c6266e4ce42abe8af6697a6932119157e1081", "filename": "crates/ra_assists/src/assists/add_derive.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_assists%2Fsrc%2Fassists%2Fadd_derive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_assists%2Fsrc%2Fassists%2Fadd_derive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fassists%2Fadd_derive.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -13,7 +13,7 @@ pub(crate) fn add_derive(mut ctx: AssistCtx<impl HirDatabase>) -> Option<Assist>\n     ctx.add_action(AssistId(\"add_derive\"), \"add `#[derive]`\", |edit| {\n         let derive_attr = nominal\n             .attrs()\n-            .filter_map(|x| x.as_call())\n+            .filter_map(|x| x.as_simple_call())\n             .filter(|(name, _arg)| name == \"derive\")\n             .map(|(_name, arg)| arg)\n             .next();"}, {"sha": "dbba433fe01354073fd2c9a3839bcc498b99e8aa", "filename": "crates/ra_hir/src/lang_item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_hir%2Fsrc%2Flang_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_hir%2Fsrc%2Flang_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Flang_item.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -151,7 +151,7 @@ impl LangItems {\n \n fn lang_item_name<T: AttrsOwner>(node: &T) -> Option<SmolStr> {\n     node.attrs()\n-        .filter_map(|a| a.as_key_value())\n+        .filter_map(|a| a.as_simple_key_value())\n         .filter(|(key, _)| key == \"lang\")\n         .map(|(_, val)| val)\n         .nth(0)"}, {"sha": "0e27dd2db318cfe610471a0dc3ba0ed3c2ac44b2", "filename": "crates/ra_hir/src/nameres/raw.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_hir%2Fsrc%2Fnameres%2Fraw.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_hir%2Fsrc%2Fnameres%2Fraw.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fnameres%2Fraw.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -353,8 +353,7 @@ impl<DB: AstDatabase> RawItemsCollector<&DB> {\n \n         let name = m.name().map(|it| it.as_name());\n         let ast_id = self.source_ast_id_map.ast_id(&m);\n-        let export = m.has_atom_attr(\"macro_export\")\n-            || m.attrs().filter_map(|x| x.as_call()).any(|(name, _)| name == \"macro_export\");\n+        let export = m.attrs().filter_map(|x| x.simple_name()).any(|name| name == \"macro_export\");\n \n         let m = self.raw_items.macros.alloc(MacroData { ast_id, path, name, export });\n         self.push_item(current_module, RawItem::Macro(m));\n@@ -385,7 +384,7 @@ impl<DB: AstDatabase> RawItemsCollector<&DB> {\n \n fn extract_mod_path_attribute(module: &ast::Module) -> Option<SmolStr> {\n     module.attrs().into_iter().find_map(|attr| {\n-        attr.as_key_value().and_then(|(name, value)| {\n+        attr.as_simple_key_value().and_then(|(name, value)| {\n             let is_path = name == \"path\";\n             if is_path {\n                 Some(value)"}, {"sha": "38a56d7524cbdaf2ac8b83c5cd34491bd223de56", "filename": "crates/ra_ide_api/src/display/structure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fstructure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fstructure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fdisplay%2Fstructure.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -77,7 +77,7 @@ fn structure_node(node: &SyntaxNode) -> Option<StructureNode> {\n             node_range: node.syntax().text_range(),\n             kind: node.syntax().kind(),\n             detail,\n-            deprecated: node.attrs().filter_map(|x| x.as_named()).any(|x| x == \"deprecated\"),\n+            deprecated: node.attrs().filter_map(|x| x.simple_name()).any(|x| x == \"deprecated\"),\n         })\n     }\n "}, {"sha": "ae30ebba383d06a6f2f287459ac9a112ee53e12c", "filename": "crates/ra_ide_api/src/snapshots/highlighting.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_ide_api%2Fsrc%2Fsnapshots%2Fhighlighting.html", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_ide_api%2Fsrc%2Fsnapshots%2Fhighlighting.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fsnapshots%2Fhighlighting.html?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -19,7 +19,7 @@\n .keyword\\.unsafe   { color: #DFAF8F; }\n .keyword\\.control  { color: #F0DFAF; font-weight: bold; }\n </style>\n-<pre><code><span class=\"attribute\">#</span><span class=\"attribute\">[</span><span class=\"attribute\">derive</span><span class=\"attribute\">(</span><span class=\"attribute\">Clone</span><span class=\"attribute\">,</span><span class=\"attribute\"> </span><span class=\"attribute\">Debug</span><span class=\"attribute\">)</span><span class=\"attribute\">]</span>\n+<pre><code><span class=\"attribute\">#</span><span class=\"attribute\">[</span><span class=\"attribute text\">derive</span><span class=\"attribute\">(</span><span class=\"attribute\">Clone</span><span class=\"attribute\">,</span><span class=\"attribute\"> </span><span class=\"attribute\">Debug</span><span class=\"attribute\">)</span><span class=\"attribute\">]</span>\n <span class=\"keyword\">struct</span> <span class=\"type\">Foo</span> {\n     <span class=\"keyword\">pub</span> <span class=\"field\">x</span>: <span class=\"type\">i32</span>,\n     <span class=\"keyword\">pub</span> <span class=\"field\">y</span>: <span class=\"type\">i32</span>,"}, {"sha": "63ca9ca3217dffa77b3cb204810e75f5b9e0552d", "filename": "crates/ra_parser/src/grammar/attributes.rs", "status": "modified", "additions": 17, "deletions": 2, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -22,8 +22,23 @@ fn attribute(p: &mut Parser, inner: bool) {\n         p.bump(T![!]);\n     }\n \n-    if p.at(T!['[']) {\n-        items::token_tree(p);\n+    if p.eat(T!['[']) {\n+        paths::use_path(p);\n+\n+        match p.current() {\n+            T![=] => {\n+                p.bump(T![=]);\n+                if expressions::literal(p).is_none() {\n+                    p.error(\"expected literal\");\n+                }\n+            }\n+            T!['('] | T!['['] | T!['{'] => items::token_tree(p),\n+            _ => {}\n+        }\n+\n+        if !p.eat(T![']']) {\n+            p.error(\"expected `]`\");\n+        }\n     } else {\n         p.error(\"expected `[`\");\n     }"}, {"sha": "cefc00402701cc2843cb6f9d5324dad85a44ab7c", "filename": "crates/ra_syntax/src/ast/extensions.rs", "status": "modified", "additions": 23, "deletions": 50, "changes": 73, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fast%2Fextensions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fast%2Fextensions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fast%2Fextensions.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -1,10 +1,8 @@\n //! Various extension methods to ast Nodes, which are hard to code-generate.\n //! Extensions for various expressions live in a sibling `expr_extensions` module.\n \n-use itertools::Itertools;\n-\n use crate::{\n-    ast::{self, child_opt, children, AstChildren, AstNode, SyntaxNode},\n+    ast::{self, child_opt, children, AstChildren, AstNode, AttrInput, SyntaxNode},\n     SmolStr, SyntaxElement,\n     SyntaxKind::*,\n     SyntaxToken, T,\n@@ -38,62 +36,37 @@ fn text_of_first_token(node: &SyntaxNode) -> &SmolStr {\n }\n \n impl ast::Attr {\n-    pub fn is_inner(&self) -> bool {\n-        let tt = match self.value() {\n-            None => return false,\n-            Some(tt) => tt,\n-        };\n-\n-        let prev = match tt.syntax().prev_sibling() {\n-            None => return false,\n-            Some(prev) => prev,\n-        };\n-\n-        prev.kind() == T![!]\n-    }\n-\n-    pub fn as_atom(&self) -> Option<SmolStr> {\n-        let tt = self.value()?;\n-        let (_bra, attr, _ket) = tt.syntax().children_with_tokens().collect_tuple()?;\n-        if attr.kind() == IDENT {\n-            Some(attr.as_token()?.text().clone())\n-        } else {\n-            None\n+    pub fn as_simple_atom(&self) -> Option<SmolStr> {\n+        match self.input() {\n+            None => self.simple_name(),\n+            Some(_) => None,\n         }\n     }\n \n-    pub fn as_call(&self) -> Option<(SmolStr, ast::TokenTree)> {\n-        let tt = self.value()?;\n-        let (_bra, attr, args, _ket) = tt.syntax().children_with_tokens().collect_tuple()?;\n-        let args = ast::TokenTree::cast(args.as_node()?.clone())?;\n-        if attr.kind() == IDENT {\n-            Some((attr.as_token()?.text().clone(), args))\n-        } else {\n-            None\n+    pub fn as_simple_call(&self) -> Option<(SmolStr, ast::TokenTree)> {\n+        match self.input() {\n+            Some(AttrInput::TokenTree(tt)) => Some((self.simple_name()?, tt)),\n+            _ => None,\n         }\n     }\n \n-    pub fn as_named(&self) -> Option<SmolStr> {\n-        let tt = self.value()?;\n-        let attr = tt.syntax().children_with_tokens().nth(1)?;\n-        if attr.kind() == IDENT {\n-            Some(attr.as_token()?.text().clone())\n-        } else {\n-            None\n+    pub fn as_simple_key_value(&self) -> Option<(SmolStr, SmolStr)> {\n+        match self.input() {\n+            Some(AttrInput::Literal(lit)) => {\n+                let key = self.simple_name()?;\n+                // FIXME: escape? raw string?\n+                let value = lit.syntax().first_token()?.text().trim_matches('\"').into();\n+                Some((key, value))\n+            }\n+            _ => None,\n         }\n     }\n \n-    pub fn as_key_value(&self) -> Option<(SmolStr, SmolStr)> {\n-        let tt = self.value()?;\n-        let tt_node = tt.syntax();\n-        let attr = tt_node.children_with_tokens().nth(1)?;\n-        if attr.kind() == IDENT {\n-            let key = attr.as_token()?.text().clone();\n-            let val_node = tt_node.children_with_tokens().find(|t| t.kind() == STRING)?;\n-            let val = val_node.as_token()?.text().trim_start_matches('\"').trim_end_matches('\"');\n-            Some((key, SmolStr::new(val)))\n-        } else {\n-            None\n+    pub fn simple_name(&self) -> Option<SmolStr> {\n+        let path = self.path()?;\n+        match (path.segment(), path.qualifier()) {\n+            (Some(segment), None) => Some(segment.syntax().first_token()?.text().clone()),\n+            _ => None,\n         }\n     }\n }"}, {"sha": "aaf03ce3f47e9973d657269ce4f594e18883c9b1", "filename": "crates/ra_syntax/src/ast/generated.rs", "status": "modified", "additions": 42, "deletions": 1, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -166,11 +166,52 @@ impl AstNode for Attr {\n     }\n }\n impl Attr {\n-    pub fn value(&self) -> Option<TokenTree> {\n+    pub fn path(&self) -> Option<Path> {\n+        AstChildren::new(&self.syntax).next()\n+    }\n+    pub fn input(&self) -> Option<AttrInput> {\n         AstChildren::new(&self.syntax).next()\n     }\n }\n #[derive(Debug, Clone, PartialEq, Eq, Hash)]\n+pub enum AttrInput {\n+    Literal(Literal),\n+    TokenTree(TokenTree),\n+}\n+impl From<Literal> for AttrInput {\n+    fn from(node: Literal) -> AttrInput {\n+        AttrInput::Literal(node)\n+    }\n+}\n+impl From<TokenTree> for AttrInput {\n+    fn from(node: TokenTree) -> AttrInput {\n+        AttrInput::TokenTree(node)\n+    }\n+}\n+impl AstNode for AttrInput {\n+    fn can_cast(kind: SyntaxKind) -> bool {\n+        match kind {\n+            LITERAL | TOKEN_TREE => true,\n+            _ => false,\n+        }\n+    }\n+    fn cast(syntax: SyntaxNode) -> Option<Self> {\n+        let res = match syntax.kind() {\n+            LITERAL => AttrInput::Literal(Literal { syntax }),\n+            TOKEN_TREE => AttrInput::TokenTree(TokenTree { syntax }),\n+            _ => return None,\n+        };\n+        Some(res)\n+    }\n+    fn syntax(&self) -> &SyntaxNode {\n+        match self {\n+            AttrInput::Literal(it) => &it.syntax,\n+            AttrInput::TokenTree(it) => &it.syntax,\n+        }\n+    }\n+}\n+impl AttrInput {}\n+#[derive(Debug, Clone, PartialEq, Eq, Hash)]\n pub struct AwaitExpr {\n     pub(crate) syntax: SyntaxNode,\n }"}, {"sha": "f275a49558d7ad2c264532046e8d4048b02f1258", "filename": "crates/ra_syntax/src/ast/traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fast%2Ftraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fast%2Ftraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fast%2Ftraits.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -99,7 +99,7 @@ pub trait AttrsOwner: AstNode {\n         children(self)\n     }\n     fn has_atom_attr(&self, atom: &str) -> bool {\n-        self.attrs().filter_map(|x| x.as_atom()).any(|x| x == atom)\n+        self.attrs().filter_map(|x| x.as_simple_atom()).any(|x| x == atom)\n     }\n }\n "}, {"sha": "30328f59faf2b4e635ea009113c74c44b213f13c", "filename": "crates/ra_syntax/src/grammar.ron", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fgrammar.ron", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Fsrc%2Fgrammar.ron", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fgrammar.ron?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -576,7 +576,8 @@ Grammar(\n             traits: [ \"NameOwner\", \"AttrsOwner\",\"DocCommentsOwner\" ],\n             options: [ \"TokenTree\", \"Path\" ],\n         ),\n-        \"Attr\": ( options: [ [\"value\", \"TokenTree\"] ] ),\n+        \"AttrInput\": ( enum: [ \"Literal\", \"TokenTree\" ] ),\n+        \"Attr\": ( options: [ \"Path\", [ \"input\", \"AttrInput\" ] ] ),\n         \"TokenTree\": (),\n         \"TypeParamList\": (\n             collections: ["}, {"sha": "7c1a23170189eb1249e50e373bee87ed65e04071", "filename": "crates/ra_syntax/test_data/parser/err/0005_attribute_recover.txt", "status": "modified", "additions": 36, "deletions": 32, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0005_attribute_recover.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0005_attribute_recover.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0005_attribute_recover.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -2,20 +2,22 @@ SOURCE_FILE@[0; 54)\n   FN_DEF@[0; 31)\n     ATTR@[0; 18)\n       POUND@[0; 1) \"#\"\n-      TOKEN_TREE@[1; 18)\n-        L_BRACK@[1; 2) \"[\"\n-        IDENT@[2; 5) \"foo\"\n-        TOKEN_TREE@[5; 17)\n-          L_PAREN@[5; 6) \"(\"\n-          IDENT@[6; 9) \"foo\"\n-          COMMA@[9; 10) \",\"\n-          WHITESPACE@[10; 11) \" \"\n-          PLUS@[11; 12) \"+\"\n-          COMMA@[12; 13) \",\"\n-          WHITESPACE@[13; 14) \" \"\n-          INT_NUMBER@[14; 16) \"92\"\n-          R_PAREN@[16; 17) \")\"\n-        R_BRACK@[17; 18) \"]\"\n+      L_BRACK@[1; 2) \"[\"\n+      PATH@[2; 5)\n+        PATH_SEGMENT@[2; 5)\n+          NAME_REF@[2; 5)\n+            IDENT@[2; 5) \"foo\"\n+      TOKEN_TREE@[5; 17)\n+        L_PAREN@[5; 6) \"(\"\n+        IDENT@[6; 9) \"foo\"\n+        COMMA@[9; 10) \",\"\n+        WHITESPACE@[10; 11) \" \"\n+        PLUS@[11; 12) \"+\"\n+        COMMA@[12; 13) \",\"\n+        WHITESPACE@[13; 14) \" \"\n+        INT_NUMBER@[14; 16) \"92\"\n+        R_PAREN@[16; 17) \")\"\n+      R_BRACK@[17; 18) \"]\"\n     WHITESPACE@[18; 19) \"\\n\"\n     FN_KW@[19; 21) \"fn\"\n     WHITESPACE@[21; 22) \" \"\n@@ -33,24 +35,26 @@ SOURCE_FILE@[0; 54)\n   WHITESPACE@[31; 34) \"\\n\\n\\n\"\n   ATTR@[34; 53)\n     POUND@[34; 35) \"#\"\n-    TOKEN_TREE@[35; 53)\n-      L_BRACK@[35; 36) \"[\"\n-      IDENT@[36; 39) \"foo\"\n-      TOKEN_TREE@[39; 53)\n-        L_PAREN@[39; 40) \"(\"\n-        WHITESPACE@[40; 41) \"\\n\"\n-        FN_KW@[41; 43) \"fn\"\n-        WHITESPACE@[43; 44) \" \"\n-        IDENT@[44; 47) \"foo\"\n-        TOKEN_TREE@[47; 49)\n-          L_PAREN@[47; 48) \"(\"\n-          R_PAREN@[48; 49) \")\"\n-        WHITESPACE@[49; 50) \" \"\n-        TOKEN_TREE@[50; 53)\n-          L_CURLY@[50; 51) \"{\"\n-          WHITESPACE@[51; 52) \"\\n\"\n-          R_CURLY@[52; 53) \"}\"\n+    L_BRACK@[35; 36) \"[\"\n+    PATH@[36; 39)\n+      PATH_SEGMENT@[36; 39)\n+        NAME_REF@[36; 39)\n+          IDENT@[36; 39) \"foo\"\n+    TOKEN_TREE@[39; 53)\n+      L_PAREN@[39; 40) \"(\"\n+      WHITESPACE@[40; 41) \"\\n\"\n+      FN_KW@[41; 43) \"fn\"\n+      WHITESPACE@[43; 44) \" \"\n+      IDENT@[44; 47) \"foo\"\n+      TOKEN_TREE@[47; 49)\n+        L_PAREN@[47; 48) \"(\"\n+        R_PAREN@[48; 49) \")\"\n+      WHITESPACE@[49; 50) \" \"\n+      TOKEN_TREE@[50; 53)\n+        L_CURLY@[50; 51) \"{\"\n+        WHITESPACE@[51; 52) \"\\n\"\n+        R_CURLY@[52; 53) \"}\"\n   WHITESPACE@[53; 54) \"\\n\"\n error 53: expected R_PAREN\n-error 53: expected R_BRACK\n+error 53: expected `]`\n error 53: expected an item"}, {"sha": "c5be73a5a08e8108a749fa7a33dde038e6725933", "filename": "crates/ra_syntax/test_data/parser/err/0028_macro_2.0.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0028_macro_2.0.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0028_macro_2.0.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0028_macro_2.0.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -60,10 +60,12 @@ SOURCE_FILE@[0; 349)\n   FN_DEF@[95; 348)\n     ATTR@[95; 102)\n       POUND@[95; 96) \"#\"\n-      TOKEN_TREE@[96; 102)\n-        L_BRACK@[96; 97) \"[\"\n-        IDENT@[97; 101) \"test\"\n-        R_BRACK@[101; 102) \"]\"\n+      L_BRACK@[96; 97) \"[\"\n+      PATH@[97; 101)\n+        PATH_SEGMENT@[97; 101)\n+          NAME_REF@[97; 101)\n+            IDENT@[97; 101) \"test\"\n+      R_BRACK@[101; 102) \"]\"\n     WHITESPACE@[102; 103) \"\\n\"\n     FN_KW@[103; 105) \"fn\"\n     WHITESPACE@[105; 106) \" \""}, {"sha": "522a0d0e0c93d84f2299d539272006320c41ea25", "filename": "crates/ra_syntax/test_data/parser/err/0031_block_inner_attrs.txt", "status": "modified", "additions": 40, "deletions": 32, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0031_block_inner_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0031_block_inner_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0031_block_inner_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -28,14 +28,16 @@ SOURCE_FILE@[0; 350)\n               ATTR@[39; 83)\n                 POUND@[39; 40) \"#\"\n                 EXCL@[40; 41) \"!\"\n-                TOKEN_TREE@[41; 83)\n-                  L_BRACK@[41; 42) \"[\"\n-                  IDENT@[42; 45) \"doc\"\n-                  TOKEN_TREE@[45; 82)\n-                    L_PAREN@[45; 46) \"(\"\n-                    STRING@[46; 81) \"\\\"Inner attributes not ...\"\n-                    R_PAREN@[81; 82) \")\"\n-                  R_BRACK@[82; 83) \"]\"\n+                L_BRACK@[41; 42) \"[\"\n+                PATH@[42; 45)\n+                  PATH_SEGMENT@[42; 45)\n+                    NAME_REF@[42; 45)\n+                      IDENT@[42; 45) \"doc\"\n+                TOKEN_TREE@[45; 82)\n+                  L_PAREN@[45; 46) \"(\"\n+                  STRING@[46; 81) \"\\\"Inner attributes not ...\"\n+                  R_PAREN@[81; 82) \")\"\n+                R_BRACK@[82; 83) \"]\"\n               WHITESPACE@[83; 92) \"\\n        \"\n               COMMENT@[92; 122) \"//! Nor are ModuleDoc ...\"\n               WHITESPACE@[122; 127) \"\\n    \"\n@@ -57,26 +59,30 @@ SOURCE_FILE@[0; 350)\n                 ATTR@[152; 171)\n                   POUND@[152; 153) \"#\"\n                   EXCL@[153; 154) \"!\"\n-                  TOKEN_TREE@[154; 171)\n-                    L_BRACK@[154; 155) \"[\"\n-                    IDENT@[155; 158) \"doc\"\n-                    TOKEN_TREE@[158; 170)\n-                      L_PAREN@[158; 159) \"(\"\n-                      STRING@[159; 169) \"\\\"Nor here\\\"\"\n-                      R_PAREN@[169; 170) \")\"\n-                    R_BRACK@[170; 171) \"]\"\n+                  L_BRACK@[154; 155) \"[\"\n+                  PATH@[155; 158)\n+                    PATH_SEGMENT@[155; 158)\n+                      NAME_REF@[155; 158)\n+                        IDENT@[155; 158) \"doc\"\n+                  TOKEN_TREE@[158; 170)\n+                    L_PAREN@[158; 159) \"(\"\n+                    STRING@[159; 169) \"\\\"Nor here\\\"\"\n+                    R_PAREN@[169; 170) \")\"\n+                  R_BRACK@[170; 171) \"]\"\n                 WHITESPACE@[171; 180) \"\\n        \"\n                 ATTR@[180; 212)\n                   POUND@[180; 181) \"#\"\n                   EXCL@[181; 182) \"!\"\n-                  TOKEN_TREE@[182; 212)\n-                    L_BRACK@[182; 183) \"[\"\n-                    IDENT@[183; 186) \"doc\"\n-                    TOKEN_TREE@[186; 211)\n-                      L_PAREN@[186; 187) \"(\"\n-                      STRING@[187; 210) \"\\\"We error on each attr\\\"\"\n-                      R_PAREN@[210; 211) \")\"\n-                    R_BRACK@[211; 212) \"]\"\n+                  L_BRACK@[182; 183) \"[\"\n+                  PATH@[183; 186)\n+                    PATH_SEGMENT@[183; 186)\n+                      NAME_REF@[183; 186)\n+                        IDENT@[183; 186) \"doc\"\n+                  TOKEN_TREE@[186; 211)\n+                    L_PAREN@[186; 187) \"(\"\n+                    STRING@[187; 210) \"\\\"We error on each attr\\\"\"\n+                    R_PAREN@[210; 211) \")\"\n+                  R_BRACK@[211; 212) \"]\"\n                 WHITESPACE@[212; 221) \"\\n        \"\n                 COMMENT@[221; 251) \"//! Nor are ModuleDoc ...\"\n                 WHITESPACE@[251; 256) \"\\n    \"\n@@ -96,14 +102,16 @@ SOURCE_FILE@[0; 350)\n               ATTR@[283; 302)\n                 POUND@[283; 284) \"#\"\n                 EXCL@[284; 285) \"!\"\n-                TOKEN_TREE@[285; 302)\n-                  L_BRACK@[285; 286) \"[\"\n-                  IDENT@[286; 289) \"doc\"\n-                  TOKEN_TREE@[289; 301)\n-                    L_PAREN@[289; 290) \"(\"\n-                    STRING@[290; 300) \"\\\"Nor here\\\"\"\n-                    R_PAREN@[300; 301) \")\"\n-                  R_BRACK@[301; 302) \"]\"\n+                L_BRACK@[285; 286) \"[\"\n+                PATH@[286; 289)\n+                  PATH_SEGMENT@[286; 289)\n+                    NAME_REF@[286; 289)\n+                      IDENT@[286; 289) \"doc\"\n+                TOKEN_TREE@[289; 301)\n+                  L_PAREN@[289; 290) \"(\"\n+                  STRING@[290; 300) \"\\\"Nor here\\\"\"\n+                  R_PAREN@[300; 301) \")\"\n+                R_BRACK@[301; 302) \"]\"\n               WHITESPACE@[302; 311) \"\\n        \"\n               COMMENT@[311; 341) \"//! Nor are ModuleDoc ...\"\n               WHITESPACE@[341; 346) \"\\n    \""}, {"sha": "dbc0081ac50ef5884e27a472727dbebda807ba93", "filename": "crates/ra_syntax/test_data/parser/err/0032_match_arms_inner_attrs.txt", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0032_match_arms_inner_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0032_match_arms_inner_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0032_match_arms_inner_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -135,14 +135,16 @@ SOURCE_FILE@[0; 293)\n             MATCH_ARM@[210; 250)\n               ATTR@[210; 222)\n                 POUND@[210; 211) \"#\"\n-                TOKEN_TREE@[211; 222)\n-                  L_BRACK@[211; 212) \"[\"\n-                  IDENT@[212; 215) \"cfg\"\n-                  TOKEN_TREE@[215; 221)\n-                    L_PAREN@[215; 216) \"(\"\n-                    IDENT@[216; 220) \"test\"\n-                    R_PAREN@[220; 221) \")\"\n-                  R_BRACK@[221; 222) \"]\"\n+                L_BRACK@[211; 212) \"[\"\n+                PATH@[212; 215)\n+                  PATH_SEGMENT@[212; 215)\n+                    NAME_REF@[212; 215)\n+                      IDENT@[212; 215) \"cfg\"\n+                TOKEN_TREE@[215; 221)\n+                  L_PAREN@[215; 216) \"(\"\n+                  IDENT@[216; 220) \"test\"\n+                  R_PAREN@[220; 221) \")\"\n+                R_BRACK@[221; 222) \"]\"\n               WHITESPACE@[222; 231) \"\\n        \"\n               ATTR@[231; 232)\n                 POUND@[231; 232) \"#\""}, {"sha": "fd5ccc3f250998aa3a1941d031ee66ff45132e6e", "filename": "crates/ra_syntax/test_data/parser/err/0033_match_arms_outer_attrs.txt", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0033_match_arms_outer_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0033_match_arms_outer_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0033_match_arms_outer_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -47,14 +47,16 @@ SOURCE_FILE@[0; 89)\n             MATCH_ARM@[68; 80)\n               ATTR@[68; 80)\n                 POUND@[68; 69) \"#\"\n-                TOKEN_TREE@[69; 80)\n-                  L_BRACK@[69; 70) \"[\"\n-                  IDENT@[70; 73) \"cfg\"\n-                  TOKEN_TREE@[73; 79)\n-                    L_PAREN@[73; 74) \"(\"\n-                    IDENT@[74; 78) \"test\"\n-                    R_PAREN@[78; 79) \")\"\n-                  R_BRACK@[79; 80) \"]\"\n+                L_BRACK@[69; 70) \"[\"\n+                PATH@[70; 73)\n+                  PATH_SEGMENT@[70; 73)\n+                    NAME_REF@[70; 73)\n+                      IDENT@[70; 73) \"cfg\"\n+                TOKEN_TREE@[73; 79)\n+                  L_PAREN@[73; 74) \"(\"\n+                  IDENT@[74; 78) \"test\"\n+                  R_PAREN@[78; 79) \")\"\n+                R_BRACK@[79; 80) \"]\"\n             WHITESPACE@[80; 85) \"\\n    \"\n             R_CURLY@[85; 86) \"}\"\n         WHITESPACE@[86; 87) \"\\n\""}, {"sha": "2ca5b8f32ff667efc7a9e6787bd8c0c0480524da", "filename": "crates/ra_syntax/test_data/parser/inline/err/0009_attr_on_expr_not_allowed.txt", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0009_attr_on_expr_not_allowed.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0009_attr_on_expr_not_allowed.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0009_attr_on_expr_not_allowed.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -15,10 +15,12 @@ SOURCE_FILE@[0; 48)\n         EXPR_STMT@[14; 25)\n           ATTR@[14; 18)\n             POUND@[14; 15) \"#\"\n-            TOKEN_TREE@[15; 18)\n-              L_BRACK@[15; 16) \"[\"\n-              IDENT@[16; 17) \"A\"\n-              R_BRACK@[17; 18) \"]\"\n+            L_BRACK@[15; 16) \"[\"\n+            PATH@[16; 17)\n+              PATH_SEGMENT@[16; 17)\n+                NAME_REF@[16; 17)\n+                  IDENT@[16; 17) \"A\"\n+            R_BRACK@[17; 18) \"]\"\n           WHITESPACE@[18; 19) \" \"\n           BIN_EXPR@[19; 24)\n             LITERAL@[19; 20)\n@@ -33,10 +35,12 @@ SOURCE_FILE@[0; 48)\n         EXPR_STMT@[29; 45)\n           ATTR@[29; 33)\n             POUND@[29; 30) \"#\"\n-            TOKEN_TREE@[30; 33)\n-              L_BRACK@[30; 31) \"[\"\n-              IDENT@[31; 32) \"B\"\n-              R_BRACK@[32; 33) \"]\"\n+            L_BRACK@[30; 31) \"[\"\n+            PATH@[31; 32)\n+              PATH_SEGMENT@[31; 32)\n+                NAME_REF@[31; 32)\n+                  IDENT@[31; 32) \"B\"\n+            R_BRACK@[32; 33) \"]\"\n           WHITESPACE@[33; 34) \" \"\n           IF_EXPR@[34; 44)\n             IF_KW@[34; 36) \"if\""}, {"sha": "731c31f7639372798a0eedce43ec421afc15cc65", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0054_record_field_attrs.txt", "status": "modified", "additions": 14, "deletions": 12, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0054_record_field_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0054_record_field_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0054_record_field_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -11,18 +11,20 @@ SOURCE_FILE@[0; 64)\n       RECORD_FIELD_DEF@[15; 60)\n         ATTR@[15; 43)\n           POUND@[15; 16) \"#\"\n-          TOKEN_TREE@[16; 43)\n-            L_BRACK@[16; 17) \"[\"\n-            IDENT@[17; 22) \"serde\"\n-            TOKEN_TREE@[22; 42)\n-              L_PAREN@[22; 23) \"(\"\n-              IDENT@[23; 27) \"with\"\n-              WHITESPACE@[27; 28) \" \"\n-              EQ@[28; 29) \"=\"\n-              WHITESPACE@[29; 30) \" \"\n-              STRING@[30; 41) \"\\\"url_serde\\\"\"\n-              R_PAREN@[41; 42) \")\"\n-            R_BRACK@[42; 43) \"]\"\n+          L_BRACK@[16; 17) \"[\"\n+          PATH@[17; 22)\n+            PATH_SEGMENT@[17; 22)\n+              NAME_REF@[17; 22)\n+                IDENT@[17; 22) \"serde\"\n+          TOKEN_TREE@[22; 42)\n+            L_PAREN@[22; 23) \"(\"\n+            IDENT@[23; 27) \"with\"\n+            WHITESPACE@[27; 28) \" \"\n+            EQ@[28; 29) \"=\"\n+            WHITESPACE@[29; 30) \" \"\n+            STRING@[30; 41) \"\\\"url_serde\\\"\"\n+            R_PAREN@[41; 42) \")\"\n+          R_BRACK@[42; 43) \"]\"\n         WHITESPACE@[43; 48) \"\\n    \"\n         VISIBILITY@[48; 51)\n           PUB_KW@[48; 51) \"pub\""}, {"sha": "8fe15d8e23c20d949ede1935e6b58de8f33bcbda", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0115_tuple_field_attrs.txt", "status": "modified", "additions": 14, "deletions": 12, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0115_tuple_field_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0115_tuple_field_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0115_tuple_field_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -11,18 +11,20 @@ SOURCE_FILE@[0; 60)\n       TUPLE_FIELD_DEF@[15; 55)\n         ATTR@[15; 43)\n           POUND@[15; 16) \"#\"\n-          TOKEN_TREE@[16; 43)\n-            L_BRACK@[16; 17) \"[\"\n-            IDENT@[17; 22) \"serde\"\n-            TOKEN_TREE@[22; 42)\n-              L_PAREN@[22; 23) \"(\"\n-              IDENT@[23; 27) \"with\"\n-              WHITESPACE@[27; 28) \" \"\n-              EQ@[28; 29) \"=\"\n-              WHITESPACE@[29; 30) \" \"\n-              STRING@[30; 41) \"\\\"url_serde\\\"\"\n-              R_PAREN@[41; 42) \")\"\n-            R_BRACK@[42; 43) \"]\"\n+          L_BRACK@[16; 17) \"[\"\n+          PATH@[17; 22)\n+            PATH_SEGMENT@[17; 22)\n+              NAME_REF@[17; 22)\n+                IDENT@[17; 22) \"serde\"\n+          TOKEN_TREE@[22; 42)\n+            L_PAREN@[22; 23) \"(\"\n+            IDENT@[23; 27) \"with\"\n+            WHITESPACE@[27; 28) \" \"\n+            EQ@[28; 29) \"=\"\n+            WHITESPACE@[29; 30) \" \"\n+            STRING@[30; 41) \"\\\"url_serde\\\"\"\n+            R_PAREN@[41; 42) \")\"\n+          R_BRACK@[42; 43) \"]\"\n         WHITESPACE@[43; 48) \"\\n    \"\n         VISIBILITY@[48; 51)\n           PUB_KW@[48; 51) \"pub\""}, {"sha": "0e9e9b95b09c42a38afaf4f7b580d5f5f1c96e86", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0118_impl_inner_attributes.txt", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -25,14 +25,16 @@ SOURCE_FILE@[0; 94)\n       ATTR@[54; 91)\n         POUND@[54; 55) \"#\"\n         EXCL@[55; 56) \"!\"\n-        TOKEN_TREE@[56; 91)\n-          L_BRACK@[56; 57) \"[\"\n-          IDENT@[57; 60) \"doc\"\n-          TOKEN_TREE@[60; 90)\n-            L_PAREN@[60; 61) \"(\"\n-            STRING@[61; 89) \"\\\"This is also a doc c ...\"\n-            R_PAREN@[89; 90) \")\"\n-          R_BRACK@[90; 91) \"]\"\n+        L_BRACK@[56; 57) \"[\"\n+        PATH@[57; 60)\n+          PATH_SEGMENT@[57; 60)\n+            NAME_REF@[57; 60)\n+              IDENT@[57; 60) \"doc\"\n+        TOKEN_TREE@[60; 90)\n+          L_PAREN@[60; 61) \"(\"\n+          STRING@[61; 89) \"\\\"This is also a doc c ...\"\n+          R_PAREN@[89; 90) \")\"\n+        R_BRACK@[90; 91) \"]\"\n       WHITESPACE@[91; 92) \"\\n\"\n       R_CURLY@[92; 93) \"}\"\n   WHITESPACE@[93; 94) \"\\n\""}, {"sha": "640e0640f47e45b31fe84f8d0f7ff8556d74c1f4", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0120_match_arms_inner_attribute.txt", "status": "modified", "additions": 30, "deletions": 24, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0120_match_arms_inner_attribute.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0120_match_arms_inner_attribute.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0120_match_arms_inner_attribute.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -25,38 +25,44 @@ SOURCE_FILE@[0; 139)\n             ATTR@[34; 60)\n               POUND@[34; 35) \"#\"\n               EXCL@[35; 36) \"!\"\n-              TOKEN_TREE@[36; 60)\n-                L_BRACK@[36; 37) \"[\"\n-                IDENT@[37; 40) \"doc\"\n-                TOKEN_TREE@[40; 59)\n-                  L_PAREN@[40; 41) \"(\"\n-                  STRING@[41; 58) \"\\\"Inner attribute\\\"\"\n-                  R_PAREN@[58; 59) \")\"\n-                R_BRACK@[59; 60) \"]\"\n+              L_BRACK@[36; 37) \"[\"\n+              PATH@[37; 40)\n+                PATH_SEGMENT@[37; 40)\n+                  NAME_REF@[37; 40)\n+                    IDENT@[37; 40) \"doc\"\n+              TOKEN_TREE@[40; 59)\n+                L_PAREN@[40; 41) \"(\"\n+                STRING@[41; 58) \"\\\"Inner attribute\\\"\"\n+                R_PAREN@[58; 59) \")\"\n+              R_BRACK@[59; 60) \"]\"\n             WHITESPACE@[60; 69) \"\\n        \"\n             ATTR@[69; 86)\n               POUND@[69; 70) \"#\"\n               EXCL@[70; 71) \"!\"\n-              TOKEN_TREE@[71; 86)\n-                L_BRACK@[71; 72) \"[\"\n-                IDENT@[72; 75) \"doc\"\n-                TOKEN_TREE@[75; 85)\n-                  L_PAREN@[75; 76) \"(\"\n-                  STRING@[76; 84) \"\\\"Can be\\\"\"\n-                  R_PAREN@[84; 85) \")\"\n-                R_BRACK@[85; 86) \"]\"\n+              L_BRACK@[71; 72) \"[\"\n+              PATH@[72; 75)\n+                PATH_SEGMENT@[72; 75)\n+                  NAME_REF@[72; 75)\n+                    IDENT@[72; 75) \"doc\"\n+              TOKEN_TREE@[75; 85)\n+                L_PAREN@[75; 76) \"(\"\n+                STRING@[76; 84) \"\\\"Can be\\\"\"\n+                R_PAREN@[84; 85) \")\"\n+              R_BRACK@[85; 86) \"]\"\n             WHITESPACE@[86; 95) \"\\n        \"\n             ATTR@[95; 113)\n               POUND@[95; 96) \"#\"\n               EXCL@[96; 97) \"!\"\n-              TOKEN_TREE@[97; 113)\n-                L_BRACK@[97; 98) \"[\"\n-                IDENT@[98; 101) \"doc\"\n-                TOKEN_TREE@[101; 112)\n-                  L_PAREN@[101; 102) \"(\"\n-                  STRING@[102; 111) \"\\\"Stacked\\\"\"\n-                  R_PAREN@[111; 112) \")\"\n-                R_BRACK@[112; 113) \"]\"\n+              L_BRACK@[97; 98) \"[\"\n+              PATH@[98; 101)\n+                PATH_SEGMENT@[98; 101)\n+                  NAME_REF@[98; 101)\n+                    IDENT@[98; 101) \"doc\"\n+              TOKEN_TREE@[101; 112)\n+                L_PAREN@[101; 102) \"(\"\n+                STRING@[102; 111) \"\\\"Stacked\\\"\"\n+                R_PAREN@[111; 112) \")\"\n+              R_BRACK@[112; 113) \"]\"\n             WHITESPACE@[113; 122) \"\\n        \"\n             MATCH_ARM@[122; 129)\n               PLACEHOLDER_PAT@[122; 123)"}, {"sha": "ff380b448608f24ac692806e0cb9f262bfe973ba", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0121_match_arms_outer_attributes.txt", "status": "modified", "additions": 70, "deletions": 60, "changes": 130, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0121_match_arms_outer_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0121_match_arms_outer_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0121_match_arms_outer_attributes.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -25,18 +25,20 @@ SOURCE_FILE@[0; 259)\n             MATCH_ARM@[34; 74)\n               ATTR@[34; 58)\n                 POUND@[34; 35) \"#\"\n-                TOKEN_TREE@[35; 58)\n-                  L_BRACK@[35; 36) \"[\"\n-                  IDENT@[36; 39) \"cfg\"\n-                  TOKEN_TREE@[39; 57)\n-                    L_PAREN@[39; 40) \"(\"\n-                    IDENT@[40; 47) \"feature\"\n-                    WHITESPACE@[47; 48) \" \"\n-                    EQ@[48; 49) \"=\"\n-                    WHITESPACE@[49; 50) \" \"\n-                    STRING@[50; 56) \"\\\"some\\\"\"\n-                    R_PAREN@[56; 57) \")\"\n-                  R_BRACK@[57; 58) \"]\"\n+                L_BRACK@[35; 36) \"[\"\n+                PATH@[36; 39)\n+                  PATH_SEGMENT@[36; 39)\n+                    NAME_REF@[36; 39)\n+                      IDENT@[36; 39) \"cfg\"\n+                TOKEN_TREE@[39; 57)\n+                  L_PAREN@[39; 40) \"(\"\n+                  IDENT@[40; 47) \"feature\"\n+                  WHITESPACE@[47; 48) \" \"\n+                  EQ@[48; 49) \"=\"\n+                  WHITESPACE@[49; 50) \" \"\n+                  STRING@[50; 56) \"\\\"some\\\"\"\n+                  R_PAREN@[56; 57) \")\"\n+                R_BRACK@[57; 58) \"]\"\n               WHITESPACE@[58; 67) \"\\n        \"\n               PLACEHOLDER_PAT@[67; 68)\n                 UNDERSCORE@[67; 68) \"_\"\n@@ -51,18 +53,20 @@ SOURCE_FILE@[0; 259)\n             MATCH_ARM@[84; 125)\n               ATTR@[84; 109)\n                 POUND@[84; 85) \"#\"\n-                TOKEN_TREE@[85; 109)\n-                  L_BRACK@[85; 86) \"[\"\n-                  IDENT@[86; 89) \"cfg\"\n-                  TOKEN_TREE@[89; 108)\n-                    L_PAREN@[89; 90) \"(\"\n-                    IDENT@[90; 97) \"feature\"\n-                    WHITESPACE@[97; 98) \" \"\n-                    EQ@[98; 99) \"=\"\n-                    WHITESPACE@[99; 100) \" \"\n-                    STRING@[100; 107) \"\\\"other\\\"\"\n-                    R_PAREN@[107; 108) \")\"\n-                  R_BRACK@[108; 109) \"]\"\n+                L_BRACK@[85; 86) \"[\"\n+                PATH@[86; 89)\n+                  PATH_SEGMENT@[86; 89)\n+                    NAME_REF@[86; 89)\n+                      IDENT@[86; 89) \"cfg\"\n+                TOKEN_TREE@[89; 108)\n+                  L_PAREN@[89; 90) \"(\"\n+                  IDENT@[90; 97) \"feature\"\n+                  WHITESPACE@[97; 98) \" \"\n+                  EQ@[98; 99) \"=\"\n+                  WHITESPACE@[99; 100) \" \"\n+                  STRING@[100; 107) \"\\\"other\\\"\"\n+                  R_PAREN@[107; 108) \")\"\n+                R_BRACK@[108; 109) \"]\"\n               WHITESPACE@[109; 118) \"\\n        \"\n               PLACEHOLDER_PAT@[118; 119)\n                 UNDERSCORE@[118; 119) \"_\"\n@@ -77,48 +81,54 @@ SOURCE_FILE@[0; 259)\n             MATCH_ARM@[135; 249)\n               ATTR@[135; 159)\n                 POUND@[135; 136) \"#\"\n-                TOKEN_TREE@[136; 159)\n-                  L_BRACK@[136; 137) \"[\"\n-                  IDENT@[137; 140) \"cfg\"\n-                  TOKEN_TREE@[140; 158)\n-                    L_PAREN@[140; 141) \"(\"\n-                    IDENT@[141; 148) \"feature\"\n-                    WHITESPACE@[148; 149) \" \"\n-                    EQ@[149; 150) \"=\"\n-                    WHITESPACE@[150; 151) \" \"\n-                    STRING@[151; 157) \"\\\"many\\\"\"\n-                    R_PAREN@[157; 158) \")\"\n-                  R_BRACK@[158; 159) \"]\"\n+                L_BRACK@[136; 137) \"[\"\n+                PATH@[137; 140)\n+                  PATH_SEGMENT@[137; 140)\n+                    NAME_REF@[137; 140)\n+                      IDENT@[137; 140) \"cfg\"\n+                TOKEN_TREE@[140; 158)\n+                  L_PAREN@[140; 141) \"(\"\n+                  IDENT@[141; 148) \"feature\"\n+                  WHITESPACE@[148; 149) \" \"\n+                  EQ@[149; 150) \"=\"\n+                  WHITESPACE@[150; 151) \" \"\n+                  STRING@[151; 157) \"\\\"many\\\"\"\n+                  R_PAREN@[157; 158) \")\"\n+                R_BRACK@[158; 159) \"]\"\n               WHITESPACE@[159; 168) \"\\n        \"\n               ATTR@[168; 198)\n                 POUND@[168; 169) \"#\"\n-                TOKEN_TREE@[169; 198)\n-                  L_BRACK@[169; 170) \"[\"\n-                  IDENT@[170; 173) \"cfg\"\n-                  TOKEN_TREE@[173; 197)\n-                    L_PAREN@[173; 174) \"(\"\n-                    IDENT@[174; 181) \"feature\"\n-                    WHITESPACE@[181; 182) \" \"\n-                    EQ@[182; 183) \"=\"\n-                    WHITESPACE@[183; 184) \" \"\n-                    STRING@[184; 196) \"\\\"attributes\\\"\"\n-                    R_PAREN@[196; 197) \")\"\n-                  R_BRACK@[197; 198) \"]\"\n+                L_BRACK@[169; 170) \"[\"\n+                PATH@[170; 173)\n+                  PATH_SEGMENT@[170; 173)\n+                    NAME_REF@[170; 173)\n+                      IDENT@[170; 173) \"cfg\"\n+                TOKEN_TREE@[173; 197)\n+                  L_PAREN@[173; 174) \"(\"\n+                  IDENT@[174; 181) \"feature\"\n+                  WHITESPACE@[181; 182) \" \"\n+                  EQ@[182; 183) \"=\"\n+                  WHITESPACE@[183; 184) \" \"\n+                  STRING@[184; 196) \"\\\"attributes\\\"\"\n+                  R_PAREN@[196; 197) \")\"\n+                R_BRACK@[197; 198) \"]\"\n               WHITESPACE@[198; 207) \"\\n        \"\n               ATTR@[207; 233)\n                 POUND@[207; 208) \"#\"\n-                TOKEN_TREE@[208; 233)\n-                  L_BRACK@[208; 209) \"[\"\n-                  IDENT@[209; 212) \"cfg\"\n-                  TOKEN_TREE@[212; 232)\n-                    L_PAREN@[212; 213) \"(\"\n-                    IDENT@[213; 220) \"feature\"\n-                    WHITESPACE@[220; 221) \" \"\n-                    EQ@[221; 222) \"=\"\n-                    WHITESPACE@[222; 223) \" \"\n-                    STRING@[223; 231) \"\\\"before\\\"\"\n-                    R_PAREN@[231; 232) \")\"\n-                  R_BRACK@[232; 233) \"]\"\n+                L_BRACK@[208; 209) \"[\"\n+                PATH@[209; 212)\n+                  PATH_SEGMENT@[209; 212)\n+                    NAME_REF@[209; 212)\n+                      IDENT@[209; 212) \"cfg\"\n+                TOKEN_TREE@[212; 232)\n+                  L_PAREN@[212; 213) \"(\"\n+                  IDENT@[213; 220) \"feature\"\n+                  WHITESPACE@[220; 221) \" \"\n+                  EQ@[221; 222) \"=\"\n+                  WHITESPACE@[222; 223) \" \"\n+                  STRING@[223; 231) \"\\\"before\\\"\"\n+                  R_PAREN@[231; 232) \")\"\n+                R_BRACK@[232; 233) \"]\"\n               WHITESPACE@[233; 242) \"\\n        \"\n               PLACEHOLDER_PAT@[242; 243)\n                 UNDERSCORE@[242; 243) \"_\""}, {"sha": "a73ff9c904bec214ed616e4866c38237071d1ad4", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0122_generic_lifetime_type_attribute.txt", "status": "modified", "additions": 20, "deletions": 16, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0122_generic_lifetime_type_attribute.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0122_generic_lifetime_type_attribute.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0122_generic_lifetime_type_attribute.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -9,29 +9,33 @@ SOURCE_FILE@[0; 64)\n       LIFETIME_PARAM@[7; 29)\n         ATTR@[7; 26)\n           POUND@[7; 8) \"#\"\n-          TOKEN_TREE@[8; 26)\n-            L_BRACK@[8; 9) \"[\"\n-            IDENT@[9; 15) \"derive\"\n-            TOKEN_TREE@[15; 25)\n-              L_PAREN@[15; 16) \"(\"\n-              IDENT@[16; 24) \"Lifetime\"\n-              R_PAREN@[24; 25) \")\"\n-            R_BRACK@[25; 26) \"]\"\n+          L_BRACK@[8; 9) \"[\"\n+          PATH@[9; 15)\n+            PATH_SEGMENT@[9; 15)\n+              NAME_REF@[9; 15)\n+                IDENT@[9; 15) \"derive\"\n+          TOKEN_TREE@[15; 25)\n+            L_PAREN@[15; 16) \"(\"\n+            IDENT@[16; 24) \"Lifetime\"\n+            R_PAREN@[24; 25) \")\"\n+          R_BRACK@[25; 26) \"]\"\n         WHITESPACE@[26; 27) \" \"\n         LIFETIME@[27; 29) \"\\'a\"\n       COMMA@[29; 30) \",\"\n       WHITESPACE@[30; 31) \" \"\n       TYPE_PARAM@[31; 48)\n         ATTR@[31; 46)\n           POUND@[31; 32) \"#\"\n-          TOKEN_TREE@[32; 46)\n-            L_BRACK@[32; 33) \"[\"\n-            IDENT@[33; 39) \"derive\"\n-            TOKEN_TREE@[39; 45)\n-              L_PAREN@[39; 40) \"(\"\n-              IDENT@[40; 44) \"Type\"\n-              R_PAREN@[44; 45) \")\"\n-            R_BRACK@[45; 46) \"]\"\n+          L_BRACK@[32; 33) \"[\"\n+          PATH@[33; 39)\n+            PATH_SEGMENT@[33; 39)\n+              NAME_REF@[33; 39)\n+                IDENT@[33; 39) \"derive\"\n+          TOKEN_TREE@[39; 45)\n+            L_PAREN@[39; 40) \"(\"\n+            IDENT@[40; 44) \"Type\"\n+            R_PAREN@[44; 45) \")\"\n+          R_BRACK@[45; 46) \"]\"\n         WHITESPACE@[46; 47) \" \"\n         NAME@[47; 48)\n           IDENT@[47; 48) \"T\""}, {"sha": "a36c3df0efa4195b640a248af311b317364934f7", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0125_record_literal_field_with_attr.txt", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0125_record_literal_field_with_attr.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0125_record_literal_field_with_attr.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0125_record_literal_field_with_attr.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -24,14 +24,16 @@ SOURCE_FILE@[0; 46)\n             RECORD_FIELD@[20; 41)\n               ATTR@[20; 32)\n                 POUND@[20; 21) \"#\"\n-                TOKEN_TREE@[21; 32)\n-                  L_BRACK@[21; 22) \"[\"\n-                  IDENT@[22; 25) \"cfg\"\n-                  TOKEN_TREE@[25; 31)\n-                    L_PAREN@[25; 26) \"(\"\n-                    IDENT@[26; 30) \"test\"\n-                    R_PAREN@[30; 31) \")\"\n-                  R_BRACK@[31; 32) \"]\"\n+                L_BRACK@[21; 22) \"[\"\n+                PATH@[22; 25)\n+                  PATH_SEGMENT@[22; 25)\n+                    NAME_REF@[22; 25)\n+                      IDENT@[22; 25) \"cfg\"\n+                TOKEN_TREE@[25; 31)\n+                  L_PAREN@[25; 26) \"(\"\n+                  IDENT@[26; 30) \"test\"\n+                  R_PAREN@[30; 31) \")\"\n+                R_BRACK@[31; 32) \"]\"\n               WHITESPACE@[32; 33) \" \"\n               NAME_REF@[33; 38)\n                 IDENT@[33; 38) \"field\""}, {"sha": "5c311d18a4c7d75f9d3316f82c8b23d790d5336f", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0126_attr_on_expr_stmt.txt", "status": "modified", "additions": 30, "deletions": 20, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0126_attr_on_expr_stmt.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0126_attr_on_expr_stmt.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0126_attr_on_expr_stmt.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -15,10 +15,12 @@ SOURCE_FILE@[0; 82)\n         EXPR_STMT@[15; 26)\n           ATTR@[15; 19)\n             POUND@[15; 16) \"#\"\n-            TOKEN_TREE@[16; 19)\n-              L_BRACK@[16; 17) \"[\"\n-              IDENT@[17; 18) \"A\"\n-              R_BRACK@[18; 19) \"]\"\n+            L_BRACK@[16; 17) \"[\"\n+            PATH@[17; 18)\n+              PATH_SEGMENT@[17; 18)\n+                NAME_REF@[17; 18)\n+                  IDENT@[17; 18) \"A\"\n+            R_BRACK@[18; 19) \"]\"\n           WHITESPACE@[19; 20) \" \"\n           CALL_EXPR@[20; 25)\n             PATH_EXPR@[20; 23)\n@@ -34,10 +36,12 @@ SOURCE_FILE@[0; 82)\n         EXPR_STMT@[31; 42)\n           ATTR@[31; 35)\n             POUND@[31; 32) \"#\"\n-            TOKEN_TREE@[32; 35)\n-              L_BRACK@[32; 33) \"[\"\n-              IDENT@[33; 34) \"B\"\n-              R_BRACK@[34; 35) \"]\"\n+            L_BRACK@[32; 33) \"[\"\n+            PATH@[33; 34)\n+              PATH_SEGMENT@[33; 34)\n+                NAME_REF@[33; 34)\n+                  IDENT@[33; 34) \"B\"\n+            R_BRACK@[34; 35) \"]\"\n           WHITESPACE@[35; 36) \" \"\n           MACRO_CALL@[36; 42)\n             PATH@[36; 39)\n@@ -52,17 +56,21 @@ SOURCE_FILE@[0; 82)\n         EXPR_STMT@[47; 59)\n           ATTR@[47; 51)\n             POUND@[47; 48) \"#\"\n-            TOKEN_TREE@[48; 51)\n-              L_BRACK@[48; 49) \"[\"\n-              IDENT@[49; 50) \"C\"\n-              R_BRACK@[50; 51) \"]\"\n+            L_BRACK@[48; 49) \"[\"\n+            PATH@[49; 50)\n+              PATH_SEGMENT@[49; 50)\n+                NAME_REF@[49; 50)\n+                  IDENT@[49; 50) \"C\"\n+            R_BRACK@[50; 51) \"]\"\n           WHITESPACE@[51; 52) \" \"\n           ATTR@[52; 56)\n             POUND@[52; 53) \"#\"\n-            TOKEN_TREE@[53; 56)\n-              L_BRACK@[53; 54) \"[\"\n-              IDENT@[54; 55) \"D\"\n-              R_BRACK@[55; 56) \"]\"\n+            L_BRACK@[53; 54) \"[\"\n+            PATH@[54; 55)\n+              PATH_SEGMENT@[54; 55)\n+                NAME_REF@[54; 55)\n+                  IDENT@[54; 55) \"D\"\n+            R_BRACK@[55; 56) \"]\"\n           WHITESPACE@[56; 57) \" \"\n           BLOCK_EXPR@[57; 59)\n             BLOCK@[57; 59)\n@@ -72,10 +80,12 @@ SOURCE_FILE@[0; 82)\n         EXPR_STMT@[64; 79)\n           ATTR@[64; 68)\n             POUND@[64; 65) \"#\"\n-            TOKEN_TREE@[65; 68)\n-              L_BRACK@[65; 66) \"[\"\n-              IDENT@[66; 67) \"D\"\n-              R_BRACK@[67; 68) \"]\"\n+            L_BRACK@[65; 66) \"[\"\n+            PATH@[66; 67)\n+              PATH_SEGMENT@[66; 67)\n+                NAME_REF@[66; 67)\n+                  IDENT@[66; 67) \"D\"\n+            R_BRACK@[67; 68) \"]\"\n           WHITESPACE@[68; 69) \" \"\n           RETURN_EXPR@[69; 78)\n             RETURN_KW@[69; 75) \"return\""}, {"sha": "21f49690a2e816f1aed23ffe2958c085b59995f7", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0127_attr_on_last_expr_in_block.txt", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0127_attr_on_last_expr_in_block.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0127_attr_on_last_expr_in_block.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0127_attr_on_last_expr_in_block.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -20,10 +20,12 @@ SOURCE_FILE@[0; 47)\n               TRY_EXPR@[17; 29)\n                 ATTR@[17; 21)\n                   POUND@[17; 18) \"#\"\n-                  TOKEN_TREE@[18; 21)\n-                    L_BRACK@[18; 19) \"[\"\n-                    IDENT@[19; 20) \"A\"\n-                    R_BRACK@[20; 21) \"]\"\n+                  L_BRACK@[18; 19) \"[\"\n+                  PATH@[19; 20)\n+                    PATH_SEGMENT@[19; 20)\n+                      NAME_REF@[19; 20)\n+                        IDENT@[19; 20) \"A\"\n+                  R_BRACK@[20; 21) \"]\"\n                 WHITESPACE@[21; 22) \" \"\n                 MACRO_CALL@[22; 28)\n                   PATH@[22; 25)\n@@ -41,10 +43,12 @@ SOURCE_FILE@[0; 47)\n         REF_EXPR@[36; 44)\n           ATTR@[36; 40)\n             POUND@[36; 37) \"#\"\n-            TOKEN_TREE@[37; 40)\n-              L_BRACK@[37; 38) \"[\"\n-              IDENT@[38; 39) \"B\"\n-              R_BRACK@[39; 40) \"]\"\n+            L_BRACK@[37; 38) \"[\"\n+            PATH@[38; 39)\n+              PATH_SEGMENT@[38; 39)\n+                NAME_REF@[38; 39)\n+                  IDENT@[38; 39) \"B\"\n+            R_BRACK@[39; 40) \"]\"\n           WHITESPACE@[40; 41) \" \"\n           AMP@[41; 42) \"&\"\n           TUPLE_EXPR@[42; 44)"}, {"sha": "8f2e91bdfeb81c184ae88f85cc8e96515f7496e3", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0135_first_array_member_attributes.txt", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -29,14 +29,16 @@ SOURCE_FILE@[0; 56)\n         WHITESPACE@[24; 28) \"\\n   \"\n         ATTR@[28; 40)\n           POUND@[28; 29) \"#\"\n-          TOKEN_TREE@[29; 40)\n-            L_BRACK@[29; 30) \"[\"\n-            IDENT@[30; 33) \"cfg\"\n-            TOKEN_TREE@[33; 39)\n-              L_PAREN@[33; 34) \"(\"\n-              IDENT@[34; 38) \"test\"\n-              R_PAREN@[38; 39) \")\"\n-            R_BRACK@[39; 40) \"]\"\n+          L_BRACK@[29; 30) \"[\"\n+          PATH@[30; 33)\n+            PATH_SEGMENT@[30; 33)\n+              NAME_REF@[30; 33)\n+                IDENT@[30; 33) \"cfg\"\n+          TOKEN_TREE@[33; 39)\n+            L_PAREN@[33; 34) \"(\"\n+            IDENT@[34; 38) \"test\"\n+            R_PAREN@[38; 39) \")\"\n+          R_BRACK@[39; 40) \"]\"\n         WHITESPACE@[40; 44) \"\\n   \"\n         LITERAL@[44; 45)\n           INT_NUMBER@[44; 45) \"1\""}, {"sha": "41914eb8e9a84be636c52ea628432150ee6dce40", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0136_subsequent_array_member_attributes.txt", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -33,14 +33,16 @@ SOURCE_FILE@[0; 56)\n         WHITESPACE@[30; 34) \"\\n   \"\n         ATTR@[34; 46)\n           POUND@[34; 35) \"#\"\n-          TOKEN_TREE@[35; 46)\n-            L_BRACK@[35; 36) \"[\"\n-            IDENT@[36; 39) \"cfg\"\n-            TOKEN_TREE@[39; 45)\n-              L_PAREN@[39; 40) \"(\"\n-              IDENT@[40; 44) \"test\"\n-              R_PAREN@[44; 45) \")\"\n-            R_BRACK@[45; 46) \"]\"\n+          L_BRACK@[35; 36) \"[\"\n+          PATH@[36; 39)\n+            PATH_SEGMENT@[36; 39)\n+              NAME_REF@[36; 39)\n+                IDENT@[36; 39) \"cfg\"\n+          TOKEN_TREE@[39; 45)\n+            L_PAREN@[39; 40) \"(\"\n+            IDENT@[40; 44) \"test\"\n+            R_PAREN@[44; 45) \")\"\n+          R_BRACK@[45; 46) \"]\"\n         WHITESPACE@[46; 50) \"\\n   \"\n         LITERAL@[50; 51)\n           INT_NUMBER@[50; 51) \"2\""}, {"sha": "e627b9746ebfbf7b0d2ae98d8e5bc7d578fbcb92", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0138_self_param_outer_attr.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0138_self_param_outer_attr.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0138_self_param_outer_attr.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0138_self_param_outer_attr.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -8,10 +8,12 @@ SOURCE_FILE@[0; 26)\n       L_PAREN@[4; 5) \"(\"\n       ATTR@[5; 16)\n         POUND@[5; 6) \"#\"\n-        TOKEN_TREE@[6; 16)\n-          L_BRACK@[6; 7) \"[\"\n-          IDENT@[7; 15) \"must_use\"\n-          R_BRACK@[15; 16) \"]\"\n+        L_BRACK@[6; 7) \"[\"\n+        PATH@[7; 15)\n+          PATH_SEGMENT@[7; 15)\n+            NAME_REF@[7; 15)\n+              IDENT@[7; 15) \"must_use\"\n+        R_BRACK@[15; 16) \"]\"\n       WHITESPACE@[16; 17) \" \"\n       SELF_PARAM@[17; 21)\n         SELF_KW@[17; 21) \"self\""}, {"sha": "cf202c94b78c2704e22c2e2808df3b37ba9ce328", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0139_param_outer_arg.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0139_param_outer_arg.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0139_param_outer_arg.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0139_param_outer_arg.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -8,10 +8,12 @@ SOURCE_FILE@[0; 28)\n       L_PAREN@[4; 5) \"(\"\n       ATTR@[5; 13)\n         POUND@[5; 6) \"#\"\n-        TOKEN_TREE@[6; 13)\n-          L_BRACK@[6; 7) \"[\"\n-          IDENT@[7; 12) \"attr1\"\n-          R_BRACK@[12; 13) \"]\"\n+        L_BRACK@[6; 7) \"[\"\n+        PATH@[7; 12)\n+          PATH_SEGMENT@[7; 12)\n+            NAME_REF@[7; 12)\n+              IDENT@[7; 12) \"attr1\"\n+        R_BRACK@[12; 13) \"]\"\n       WHITESPACE@[13; 14) \" \"\n       PARAM@[14; 23)\n         BIND_PAT@[14; 17)"}, {"sha": "d72b725610891ae0a591ae368672433365dbacc0", "filename": "crates/ra_syntax/test_data/parser/ok/0006_inner_attributes.txt", "status": "modified", "additions": 144, "deletions": 124, "changes": 268, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0006_inner_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0006_inner_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0006_inner_attributes.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -2,163 +2,183 @@ SOURCE_FILE@[0; 236)\n   ATTR@[0; 8)\n     POUND@[0; 1) \"#\"\n     EXCL@[1; 2) \"!\"\n-    TOKEN_TREE@[2; 8)\n-      L_BRACK@[2; 3) \"[\"\n-      IDENT@[3; 7) \"attr\"\n-      R_BRACK@[7; 8) \"]\"\n+    L_BRACK@[2; 3) \"[\"\n+    PATH@[3; 7)\n+      PATH_SEGMENT@[3; 7)\n+        NAME_REF@[3; 7)\n+          IDENT@[3; 7) \"attr\"\n+    R_BRACK@[7; 8) \"]\"\n   WHITESPACE@[8; 9) \"\\n\"\n   ATTR@[9; 23)\n     POUND@[9; 10) \"#\"\n     EXCL@[10; 11) \"!\"\n-    TOKEN_TREE@[11; 23)\n-      L_BRACK@[11; 12) \"[\"\n-      IDENT@[12; 16) \"attr\"\n-      TOKEN_TREE@[16; 22)\n-        L_PAREN@[16; 17) \"(\"\n-        TRUE_KW@[17; 21) \"true\"\n-        R_PAREN@[21; 22) \")\"\n-      R_BRACK@[22; 23) \"]\"\n+    L_BRACK@[11; 12) \"[\"\n+    PATH@[12; 16)\n+      PATH_SEGMENT@[12; 16)\n+        NAME_REF@[12; 16)\n+          IDENT@[12; 16) \"attr\"\n+    TOKEN_TREE@[16; 22)\n+      L_PAREN@[16; 17) \"(\"\n+      TRUE_KW@[17; 21) \"true\"\n+      R_PAREN@[21; 22) \")\"\n+    R_BRACK@[22; 23) \"]\"\n   WHITESPACE@[23; 24) \"\\n\"\n   ATTR@[24; 39)\n     POUND@[24; 25) \"#\"\n     EXCL@[25; 26) \"!\"\n-    TOKEN_TREE@[26; 39)\n-      L_BRACK@[26; 27) \"[\"\n-      IDENT@[27; 31) \"attr\"\n-      TOKEN_TREE@[31; 38)\n-        L_PAREN@[31; 32) \"(\"\n-        IDENT@[32; 37) \"ident\"\n-        R_PAREN@[37; 38) \")\"\n-      R_BRACK@[38; 39) \"]\"\n+    L_BRACK@[26; 27) \"[\"\n+    PATH@[27; 31)\n+      PATH_SEGMENT@[27; 31)\n+        NAME_REF@[27; 31)\n+          IDENT@[27; 31) \"attr\"\n+    TOKEN_TREE@[31; 38)\n+      L_PAREN@[31; 32) \"(\"\n+      IDENT@[32; 37) \"ident\"\n+      R_PAREN@[37; 38) \")\"\n+    R_BRACK@[38; 39) \"]\"\n   WHITESPACE@[39; 40) \"\\n\"\n   ATTR@[40; 116)\n     POUND@[40; 41) \"#\"\n     EXCL@[41; 42) \"!\"\n-    TOKEN_TREE@[42; 116)\n-      L_BRACK@[42; 43) \"[\"\n-      IDENT@[43; 47) \"attr\"\n-      TOKEN_TREE@[47; 115)\n-        L_PAREN@[47; 48) \"(\"\n-        IDENT@[48; 53) \"ident\"\n-        COMMA@[53; 54) \",\"\n-        WHITESPACE@[54; 55) \" \"\n-        INT_NUMBER@[55; 58) \"100\"\n-        COMMA@[58; 59) \",\"\n-        WHITESPACE@[59; 60) \" \"\n-        TRUE_KW@[60; 64) \"true\"\n-        COMMA@[64; 65) \",\"\n-        WHITESPACE@[65; 66) \" \"\n-        STRING@[66; 72) \"\\\"true\\\"\"\n-        COMMA@[72; 73) \",\"\n-        WHITESPACE@[73; 74) \" \"\n-        IDENT@[74; 79) \"ident\"\n-        WHITESPACE@[79; 80) \" \"\n-        EQ@[80; 81) \"=\"\n-        WHITESPACE@[81; 82) \" \"\n-        INT_NUMBER@[82; 85) \"100\"\n-        COMMA@[85; 86) \",\"\n-        WHITESPACE@[86; 87) \" \"\n-        IDENT@[87; 92) \"ident\"\n-        WHITESPACE@[92; 93) \" \"\n-        EQ@[93; 94) \"=\"\n-        WHITESPACE@[94; 95) \" \"\n-        STRING@[95; 102) \"\\\"hello\\\"\"\n-        COMMA@[102; 103) \",\"\n-        WHITESPACE@[103; 104) \" \"\n-        IDENT@[104; 109) \"ident\"\n-        TOKEN_TREE@[109; 114)\n-          L_PAREN@[109; 110) \"(\"\n-          INT_NUMBER@[110; 113) \"100\"\n-          R_PAREN@[113; 114) \")\"\n-        R_PAREN@[114; 115) \")\"\n-      R_BRACK@[115; 116) \"]\"\n+    L_BRACK@[42; 43) \"[\"\n+    PATH@[43; 47)\n+      PATH_SEGMENT@[43; 47)\n+        NAME_REF@[43; 47)\n+          IDENT@[43; 47) \"attr\"\n+    TOKEN_TREE@[47; 115)\n+      L_PAREN@[47; 48) \"(\"\n+      IDENT@[48; 53) \"ident\"\n+      COMMA@[53; 54) \",\"\n+      WHITESPACE@[54; 55) \" \"\n+      INT_NUMBER@[55; 58) \"100\"\n+      COMMA@[58; 59) \",\"\n+      WHITESPACE@[59; 60) \" \"\n+      TRUE_KW@[60; 64) \"true\"\n+      COMMA@[64; 65) \",\"\n+      WHITESPACE@[65; 66) \" \"\n+      STRING@[66; 72) \"\\\"true\\\"\"\n+      COMMA@[72; 73) \",\"\n+      WHITESPACE@[73; 74) \" \"\n+      IDENT@[74; 79) \"ident\"\n+      WHITESPACE@[79; 80) \" \"\n+      EQ@[80; 81) \"=\"\n+      WHITESPACE@[81; 82) \" \"\n+      INT_NUMBER@[82; 85) \"100\"\n+      COMMA@[85; 86) \",\"\n+      WHITESPACE@[86; 87) \" \"\n+      IDENT@[87; 92) \"ident\"\n+      WHITESPACE@[92; 93) \" \"\n+      EQ@[93; 94) \"=\"\n+      WHITESPACE@[94; 95) \" \"\n+      STRING@[95; 102) \"\\\"hello\\\"\"\n+      COMMA@[102; 103) \",\"\n+      WHITESPACE@[103; 104) \" \"\n+      IDENT@[104; 109) \"ident\"\n+      TOKEN_TREE@[109; 114)\n+        L_PAREN@[109; 110) \"(\"\n+        INT_NUMBER@[110; 113) \"100\"\n+        R_PAREN@[113; 114) \")\"\n+      R_PAREN@[114; 115) \")\"\n+    R_BRACK@[115; 116) \"]\"\n   WHITESPACE@[116; 117) \"\\n\"\n   ATTR@[117; 130)\n     POUND@[117; 118) \"#\"\n     EXCL@[118; 119) \"!\"\n-    TOKEN_TREE@[119; 130)\n-      L_BRACK@[119; 120) \"[\"\n-      IDENT@[120; 124) \"attr\"\n-      TOKEN_TREE@[124; 129)\n-        L_PAREN@[124; 125) \"(\"\n-        INT_NUMBER@[125; 128) \"100\"\n-        R_PAREN@[128; 129) \")\"\n-      R_BRACK@[129; 130) \"]\"\n+    L_BRACK@[119; 120) \"[\"\n+    PATH@[120; 124)\n+      PATH_SEGMENT@[120; 124)\n+        NAME_REF@[120; 124)\n+          IDENT@[120; 124) \"attr\"\n+    TOKEN_TREE@[124; 129)\n+      L_PAREN@[124; 125) \"(\"\n+      INT_NUMBER@[125; 128) \"100\"\n+      R_PAREN@[128; 129) \")\"\n+    R_BRACK@[129; 130) \"]\"\n   WHITESPACE@[130; 131) \"\\n\"\n   ATTR@[131; 155)\n     POUND@[131; 132) \"#\"\n     EXCL@[132; 133) \"!\"\n-    TOKEN_TREE@[133; 155)\n-      L_BRACK@[133; 134) \"[\"\n-      IDENT@[134; 138) \"attr\"\n-      TOKEN_TREE@[138; 154)\n-        L_PAREN@[138; 139) \"(\"\n-        IDENT@[139; 146) \"enabled\"\n-        WHITESPACE@[146; 147) \" \"\n-        EQ@[147; 148) \"=\"\n-        WHITESPACE@[148; 149) \" \"\n-        TRUE_KW@[149; 153) \"true\"\n-        R_PAREN@[153; 154) \")\"\n-      R_BRACK@[154; 155) \"]\"\n+    L_BRACK@[133; 134) \"[\"\n+    PATH@[134; 138)\n+      PATH_SEGMENT@[134; 138)\n+        NAME_REF@[134; 138)\n+          IDENT@[134; 138) \"attr\"\n+    TOKEN_TREE@[138; 154)\n+      L_PAREN@[138; 139) \"(\"\n+      IDENT@[139; 146) \"enabled\"\n+      WHITESPACE@[146; 147) \" \"\n+      EQ@[147; 148) \"=\"\n+      WHITESPACE@[148; 149) \" \"\n+      TRUE_KW@[149; 153) \"true\"\n+      R_PAREN@[153; 154) \")\"\n+    R_BRACK@[154; 155) \"]\"\n   WHITESPACE@[155; 156) \"\\n\"\n   ATTR@[156; 173)\n     POUND@[156; 157) \"#\"\n     EXCL@[157; 158) \"!\"\n-    TOKEN_TREE@[158; 173)\n-      L_BRACK@[158; 159) \"[\"\n-      IDENT@[159; 166) \"enabled\"\n-      TOKEN_TREE@[166; 172)\n-        L_PAREN@[166; 167) \"(\"\n-        TRUE_KW@[167; 171) \"true\"\n-        R_PAREN@[171; 172) \")\"\n-      R_BRACK@[172; 173) \"]\"\n+    L_BRACK@[158; 159) \"[\"\n+    PATH@[159; 166)\n+      PATH_SEGMENT@[159; 166)\n+        NAME_REF@[159; 166)\n+          IDENT@[159; 166) \"enabled\"\n+    TOKEN_TREE@[166; 172)\n+      L_PAREN@[166; 167) \"(\"\n+      TRUE_KW@[167; 171) \"true\"\n+      R_PAREN@[171; 172) \")\"\n+    R_BRACK@[172; 173) \"]\"\n   WHITESPACE@[173; 174) \"\\n\"\n   ATTR@[174; 191)\n     POUND@[174; 175) \"#\"\n     EXCL@[175; 176) \"!\"\n-    TOKEN_TREE@[176; 191)\n-      L_BRACK@[176; 177) \"[\"\n-      IDENT@[177; 181) \"attr\"\n-      TOKEN_TREE@[181; 190)\n-        L_PAREN@[181; 182) \"(\"\n-        STRING@[182; 189) \"\\\"hello\\\"\"\n-        R_PAREN@[189; 190) \")\"\n-      R_BRACK@[190; 191) \"]\"\n+    L_BRACK@[176; 177) \"[\"\n+    PATH@[177; 181)\n+      PATH_SEGMENT@[177; 181)\n+        NAME_REF@[177; 181)\n+          IDENT@[177; 181) \"attr\"\n+    TOKEN_TREE@[181; 190)\n+      L_PAREN@[181; 182) \"(\"\n+      STRING@[182; 189) \"\\\"hello\\\"\"\n+      R_PAREN@[189; 190) \")\"\n+    R_BRACK@[190; 191) \"]\"\n   WHITESPACE@[191; 192) \"\\n\"\n   ATTR@[192; 214)\n     POUND@[192; 193) \"#\"\n     EXCL@[193; 194) \"!\"\n-    TOKEN_TREE@[194; 214)\n-      L_BRACK@[194; 195) \"[\"\n-      IDENT@[195; 199) \"repr\"\n-      TOKEN_TREE@[199; 213)\n-        L_PAREN@[199; 200) \"(\"\n-        IDENT@[200; 201) \"C\"\n-        COMMA@[201; 202) \",\"\n-        WHITESPACE@[202; 203) \" \"\n-        IDENT@[203; 208) \"align\"\n-        WHITESPACE@[208; 209) \" \"\n-        EQ@[209; 210) \"=\"\n-        WHITESPACE@[210; 211) \" \"\n-        INT_NUMBER@[211; 212) \"4\"\n-        R_PAREN@[212; 213) \")\"\n-      R_BRACK@[213; 214) \"]\"\n+    L_BRACK@[194; 195) \"[\"\n+    PATH@[195; 199)\n+      PATH_SEGMENT@[195; 199)\n+        NAME_REF@[195; 199)\n+          IDENT@[195; 199) \"repr\"\n+    TOKEN_TREE@[199; 213)\n+      L_PAREN@[199; 200) \"(\"\n+      IDENT@[200; 201) \"C\"\n+      COMMA@[201; 202) \",\"\n+      WHITESPACE@[202; 203) \" \"\n+      IDENT@[203; 208) \"align\"\n+      WHITESPACE@[208; 209) \" \"\n+      EQ@[209; 210) \"=\"\n+      WHITESPACE@[210; 211) \" \"\n+      INT_NUMBER@[211; 212) \"4\"\n+      R_PAREN@[212; 213) \")\"\n+    R_BRACK@[213; 214) \"]\"\n   WHITESPACE@[214; 215) \"\\n\"\n   ATTR@[215; 236)\n     POUND@[215; 216) \"#\"\n     EXCL@[216; 217) \"!\"\n-    TOKEN_TREE@[217; 236)\n-      L_BRACK@[217; 218) \"[\"\n-      IDENT@[218; 222) \"repr\"\n-      TOKEN_TREE@[222; 235)\n-        L_PAREN@[222; 223) \"(\"\n-        IDENT@[223; 224) \"C\"\n-        COMMA@[224; 225) \",\"\n-        WHITESPACE@[225; 226) \" \"\n-        IDENT@[226; 231) \"align\"\n-        TOKEN_TREE@[231; 234)\n-          L_PAREN@[231; 232) \"(\"\n-          INT_NUMBER@[232; 233) \"4\"\n-          R_PAREN@[233; 234) \")\"\n-        R_PAREN@[234; 235) \")\"\n-      R_BRACK@[235; 236) \"]\"\n+    L_BRACK@[217; 218) \"[\"\n+    PATH@[218; 222)\n+      PATH_SEGMENT@[218; 222)\n+        NAME_REF@[218; 222)\n+          IDENT@[218; 222) \"repr\"\n+    TOKEN_TREE@[222; 235)\n+      L_PAREN@[222; 223) \"(\"\n+      IDENT@[223; 224) \"C\"\n+      COMMA@[224; 225) \",\"\n+      WHITESPACE@[225; 226) \" \"\n+      IDENT@[226; 231) \"align\"\n+      TOKEN_TREE@[231; 234)\n+        L_PAREN@[231; 232) \"(\"\n+        INT_NUMBER@[232; 233) \"4\"\n+        R_PAREN@[233; 234) \")\"\n+      R_PAREN@[234; 235) \")\"\n+    R_BRACK@[235; 236) \"]\""}, {"sha": "061019a733cb88599665a3a99b948bd2a591834e", "filename": "crates/ra_syntax/test_data/parser/ok/0008_mod_item.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0008_mod_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0008_mod_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0008_mod_item.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -65,10 +65,12 @@ SOURCE_FILE@[0; 118)\n       ATTR@[79; 87)\n         POUND@[79; 80) \"#\"\n         EXCL@[80; 81) \"!\"\n-        TOKEN_TREE@[81; 87)\n-          L_BRACK@[81; 82) \"[\"\n-          IDENT@[82; 86) \"attr\"\n-          R_BRACK@[86; 87) \"]\"\n+        L_BRACK@[81; 82) \"[\"\n+        PATH@[82; 86)\n+          PATH_SEGMENT@[82; 86)\n+            NAME_REF@[82; 86)\n+              IDENT@[82; 86) \"attr\"\n+        R_BRACK@[86; 87) \"]\"\n       WHITESPACE@[87; 92) \"\\n    \"\n       MODULE@[92; 98)\n         MOD_KW@[92; 95) \"mod\""}, {"sha": "3d2e01d5c6fcfaa135de27c666b8dbf5361b5ce9", "filename": "crates/ra_syntax/test_data/parser/ok/0011_outer_attribute.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0011_outer_attribute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0011_outer_attribute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0011_outer_attribute.rs?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -1,3 +1,6 @@\n #[cfg(test)]\n #[ignore]\n fn foo() {}\n+\n+#[path = \"a.rs\"]\n+mod b;"}, {"sha": "f7aa8afe4f89d86f1ba74e79273a97ef219f5d15", "filename": "crates/ra_syntax/test_data/parser/ok/0011_outer_attribute.txt", "status": "modified", "additions": 39, "deletions": 14, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0011_outer_attribute.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0011_outer_attribute.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0011_outer_attribute.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -1,22 +1,26 @@\n-SOURCE_FILE@[0; 35)\n+SOURCE_FILE@[0; 60)\n   FN_DEF@[0; 34)\n     ATTR@[0; 12)\n       POUND@[0; 1) \"#\"\n-      TOKEN_TREE@[1; 12)\n-        L_BRACK@[1; 2) \"[\"\n-        IDENT@[2; 5) \"cfg\"\n-        TOKEN_TREE@[5; 11)\n-          L_PAREN@[5; 6) \"(\"\n-          IDENT@[6; 10) \"test\"\n-          R_PAREN@[10; 11) \")\"\n-        R_BRACK@[11; 12) \"]\"\n+      L_BRACK@[1; 2) \"[\"\n+      PATH@[2; 5)\n+        PATH_SEGMENT@[2; 5)\n+          NAME_REF@[2; 5)\n+            IDENT@[2; 5) \"cfg\"\n+      TOKEN_TREE@[5; 11)\n+        L_PAREN@[5; 6) \"(\"\n+        IDENT@[6; 10) \"test\"\n+        R_PAREN@[10; 11) \")\"\n+      R_BRACK@[11; 12) \"]\"\n     WHITESPACE@[12; 13) \"\\n\"\n     ATTR@[13; 22)\n       POUND@[13; 14) \"#\"\n-      TOKEN_TREE@[14; 22)\n-        L_BRACK@[14; 15) \"[\"\n-        IDENT@[15; 21) \"ignore\"\n-        R_BRACK@[21; 22) \"]\"\n+      L_BRACK@[14; 15) \"[\"\n+      PATH@[15; 21)\n+        PATH_SEGMENT@[15; 21)\n+          NAME_REF@[15; 21)\n+            IDENT@[15; 21) \"ignore\"\n+      R_BRACK@[21; 22) \"]\"\n     WHITESPACE@[22; 23) \"\\n\"\n     FN_KW@[23; 25) \"fn\"\n     WHITESPACE@[25; 26) \" \"\n@@ -30,4 +34,25 @@ SOURCE_FILE@[0; 35)\n       BLOCK@[32; 34)\n         L_CURLY@[32; 33) \"{\"\n         R_CURLY@[33; 34) \"}\"\n-  WHITESPACE@[34; 35) \"\\n\"\n+  WHITESPACE@[34; 36) \"\\n\\n\"\n+  MODULE@[36; 59)\n+    ATTR@[36; 52)\n+      POUND@[36; 37) \"#\"\n+      L_BRACK@[37; 38) \"[\"\n+      PATH@[38; 42)\n+        PATH_SEGMENT@[38; 42)\n+          NAME_REF@[38; 42)\n+            IDENT@[38; 42) \"path\"\n+      WHITESPACE@[42; 43) \" \"\n+      EQ@[43; 44) \"=\"\n+      WHITESPACE@[44; 45) \" \"\n+      LITERAL@[45; 51)\n+        STRING@[45; 51) \"\\\"a.rs\\\"\"\n+      R_BRACK@[51; 52) \"]\"\n+    WHITESPACE@[52; 53) \"\\n\"\n+    MOD_KW@[53; 56) \"mod\"\n+    WHITESPACE@[56; 57) \" \"\n+    NAME@[57; 58)\n+      IDENT@[57; 58) \"b\"\n+    SEMI@[58; 59) \";\"\n+  WHITESPACE@[59; 60) \"\\n\""}, {"sha": "1d65b0d6e08ed933d75dc02d3924a3241bcfd288", "filename": "crates/ra_syntax/test_data/parser/ok/0017_attr_trailing_comma.txt", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0017_attr_trailing_comma.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0017_attr_trailing_comma.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0017_attr_trailing_comma.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -2,15 +2,17 @@ SOURCE_FILE@[0; 23)\n   FN_DEF@[0; 22)\n     ATTR@[0; 10)\n       POUND@[0; 1) \"#\"\n-      TOKEN_TREE@[1; 10)\n-        L_BRACK@[1; 2) \"[\"\n-        IDENT@[2; 5) \"foo\"\n-        TOKEN_TREE@[5; 9)\n-          L_PAREN@[5; 6) \"(\"\n-          IDENT@[6; 7) \"a\"\n-          COMMA@[7; 8) \",\"\n-          R_PAREN@[8; 9) \")\"\n-        R_BRACK@[9; 10) \"]\"\n+      L_BRACK@[1; 2) \"[\"\n+      PATH@[2; 5)\n+        PATH_SEGMENT@[2; 5)\n+          NAME_REF@[2; 5)\n+            IDENT@[2; 5) \"foo\"\n+      TOKEN_TREE@[5; 9)\n+        L_PAREN@[5; 6) \"(\"\n+        IDENT@[6; 7) \"a\"\n+        COMMA@[7; 8) \",\"\n+        R_PAREN@[8; 9) \")\"\n+      R_BRACK@[9; 10) \"]\"\n     WHITESPACE@[10; 11) \"\\n\"\n     FN_KW@[11; 13) \"fn\"\n     WHITESPACE@[13; 14) \" \""}, {"sha": "3260cc58964400295b8497d65bb8bcc95c31cb9a", "filename": "crates/ra_syntax/test_data/parser/ok/0035_weird_exprs.txt", "status": "modified", "additions": 50, "deletions": 39, "changes": 89, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0035_weird_exprs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0035_weird_exprs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0035_weird_exprs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -10,62 +10,73 @@ SOURCE_FILE@[0; 3813)\n   ATTR@[271; 302)\n     POUND@[271; 272) \"#\"\n     EXCL@[272; 273) \"!\"\n-    TOKEN_TREE@[273; 302)\n-      L_BRACK@[273; 274) \"[\"\n-      IDENT@[274; 279) \"allow\"\n-      TOKEN_TREE@[279; 301)\n-        L_PAREN@[279; 280) \"(\"\n-        IDENT@[280; 300) \"non_camel_case_types\"\n-        R_PAREN@[300; 301) \")\"\n-      R_BRACK@[301; 302) \"]\"\n+    L_BRACK@[273; 274) \"[\"\n+    PATH@[274; 279)\n+      PATH_SEGMENT@[274; 279)\n+        NAME_REF@[274; 279)\n+          IDENT@[274; 279) \"allow\"\n+    TOKEN_TREE@[279; 301)\n+      L_PAREN@[279; 280) \"(\"\n+      IDENT@[280; 300) \"non_camel_case_types\"\n+      R_PAREN@[300; 301) \")\"\n+    R_BRACK@[301; 302) \"]\"\n   WHITESPACE@[302; 303) \"\\n\"\n   ATTR@[303; 323)\n     POUND@[303; 304) \"#\"\n     EXCL@[304; 305) \"!\"\n-    TOKEN_TREE@[305; 323)\n-      L_BRACK@[305; 306) \"[\"\n-      IDENT@[306; 311) \"allow\"\n-      TOKEN_TREE@[311; 322)\n-        L_PAREN@[311; 312) \"(\"\n-        IDENT@[312; 321) \"dead_code\"\n-        R_PAREN@[321; 322) \")\"\n-      R_BRACK@[322; 323) \"]\"\n+    L_BRACK@[305; 306) \"[\"\n+    PATH@[306; 311)\n+      PATH_SEGMENT@[306; 311)\n+        NAME_REF@[306; 311)\n+          IDENT@[306; 311) \"allow\"\n+    TOKEN_TREE@[311; 322)\n+      L_PAREN@[311; 312) \"(\"\n+      IDENT@[312; 321) \"dead_code\"\n+      R_PAREN@[321; 322) \")\"\n+    R_BRACK@[322; 323) \"]\"\n   WHITESPACE@[323; 324) \"\\n\"\n   ATTR@[324; 351)\n     POUND@[324; 325) \"#\"\n     EXCL@[325; 326) \"!\"\n-    TOKEN_TREE@[326; 351)\n-      L_BRACK@[326; 327) \"[\"\n-      IDENT@[327; 332) \"allow\"\n-      TOKEN_TREE@[332; 350)\n-        L_PAREN@[332; 333) \"(\"\n-        IDENT@[333; 349) \"unreachable_code\"\n-        R_PAREN@[349; 350) \")\"\n-      R_BRACK@[350; 351) \"]\"\n+    L_BRACK@[326; 327) \"[\"\n+    PATH@[327; 332)\n+      PATH_SEGMENT@[327; 332)\n+        NAME_REF@[327; 332)\n+          IDENT@[327; 332) \"allow\"\n+    TOKEN_TREE@[332; 350)\n+      L_PAREN@[332; 333) \"(\"\n+      IDENT@[333; 349) \"unreachable_code\"\n+      R_PAREN@[349; 350) \")\"\n+    R_BRACK@[350; 351) \"]\"\n   WHITESPACE@[351; 352) \"\\n\"\n   ATTR@[352; 376)\n     POUND@[352; 353) \"#\"\n     EXCL@[353; 354) \"!\"\n-    TOKEN_TREE@[354; 376)\n-      L_BRACK@[354; 355) \"[\"\n-      IDENT@[355; 360) \"allow\"\n-      TOKEN_TREE@[360; 375)\n-        L_PAREN@[360; 361) \"(\"\n-        IDENT@[361; 374) \"unused_parens\"\n-        R_PAREN@[374; 375) \")\"\n-      R_BRACK@[375; 376) \"]\"\n+    L_BRACK@[354; 355) \"[\"\n+    PATH@[355; 360)\n+      PATH_SEGMENT@[355; 360)\n+        NAME_REF@[355; 360)\n+          IDENT@[355; 360) \"allow\"\n+    TOKEN_TREE@[360; 375)\n+      L_PAREN@[360; 361) \"(\"\n+      IDENT@[361; 374) \"unused_parens\"\n+      R_PAREN@[374; 375) \")\"\n+    R_BRACK@[375; 376) \"]\"\n   WHITESPACE@[376; 378) \"\\n\\n\"\n   ATTR@[378; 405)\n     POUND@[378; 379) \"#\"\n     EXCL@[379; 380) \"!\"\n-    TOKEN_TREE@[380; 405)\n-      L_BRACK@[380; 381) \"[\"\n-      IDENT@[381; 396) \"recursion_limit\"\n-      WHITESPACE@[396; 397) \" \"\n-      EQ@[397; 398) \"=\"\n-      WHITESPACE@[398; 399) \" \"\n+    L_BRACK@[380; 381) \"[\"\n+    PATH@[381; 396)\n+      PATH_SEGMENT@[381; 396)\n+        NAME_REF@[381; 396)\n+          IDENT@[381; 396) \"recursion_limit\"\n+    WHITESPACE@[396; 397) \" \"\n+    EQ@[397; 398) \"=\"\n+    WHITESPACE@[398; 399) \" \"\n+    LITERAL@[399; 404)\n       STRING@[399; 404) \"\\\"128\\\"\"\n-      R_BRACK@[404; 405) \"]\"\n+    R_BRACK@[404; 405) \"]\"\n   WHITESPACE@[405; 407) \"\\n\\n\"\n   USE_ITEM@[407; 427)\n     USE_KW@[407; 410) \"use\""}, {"sha": "bfc793dc15a6d18f3fc35fce2b1f2aad0c4417b5", "filename": "crates/ra_syntax/test_data/parser/ok/0044_let_attrs.txt", "status": "modified", "additions": 14, "deletions": 12, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0044_let_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0044_let_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0044_let_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -17,18 +17,20 @@ SOURCE_FILE@[0; 166)\n         LET_STMT@[77; 163)\n           ATTR@[77; 106)\n             POUND@[77; 78) \"#\"\n-            TOKEN_TREE@[78; 106)\n-              L_BRACK@[78; 79) \"[\"\n-              IDENT@[79; 82) \"cfg\"\n-              TOKEN_TREE@[82; 105)\n-                L_PAREN@[82; 83) \"(\"\n-                IDENT@[83; 90) \"feature\"\n-                WHITESPACE@[90; 91) \" \"\n-                EQ@[91; 92) \"=\"\n-                WHITESPACE@[92; 93) \" \"\n-                STRING@[93; 104) \"\\\"backtrace\\\"\"\n-                R_PAREN@[104; 105) \")\"\n-              R_BRACK@[105; 106) \"]\"\n+            L_BRACK@[78; 79) \"[\"\n+            PATH@[79; 82)\n+              PATH_SEGMENT@[79; 82)\n+                NAME_REF@[79; 82)\n+                  IDENT@[79; 82) \"cfg\"\n+            TOKEN_TREE@[82; 105)\n+              L_PAREN@[82; 83) \"(\"\n+              IDENT@[83; 90) \"feature\"\n+              WHITESPACE@[90; 91) \" \"\n+              EQ@[91; 92) \"=\"\n+              WHITESPACE@[92; 93) \" \"\n+              STRING@[93; 104) \"\\\"backtrace\\\"\"\n+              R_PAREN@[104; 105) \")\"\n+            R_BRACK@[105; 106) \"]\"\n           WHITESPACE@[106; 111) \"\\n    \"\n           LET_KW@[111; 114) \"let\"\n           WHITESPACE@[114; 115) \" \""}, {"sha": "3d9aab500445d827d386a915ef005a97b96cc05e", "filename": "crates/ra_syntax/test_data/parser/ok/0045_block_inner_attrs.txt", "status": "modified", "additions": 50, "deletions": 40, "changes": 90, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0045_block_inner_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0045_block_inner_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0045_block_inner_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -15,14 +15,16 @@ SOURCE_FILE@[0; 686)\n         ATTR@[17; 57)\n           POUND@[17; 18) \"#\"\n           EXCL@[18; 19) \"!\"\n-          TOKEN_TREE@[19; 57)\n-            L_BRACK@[19; 20) \"[\"\n-            IDENT@[20; 23) \"doc\"\n-            TOKEN_TREE@[23; 56)\n-              L_PAREN@[23; 24) \"(\"\n-              STRING@[24; 55) \"\\\"Inner attributes all ...\"\n-              R_PAREN@[55; 56) \")\"\n-            R_BRACK@[56; 57) \"]\"\n+          L_BRACK@[19; 20) \"[\"\n+          PATH@[20; 23)\n+            PATH_SEGMENT@[20; 23)\n+              NAME_REF@[20; 23)\n+                IDENT@[20; 23) \"doc\"\n+          TOKEN_TREE@[23; 56)\n+            L_PAREN@[23; 24) \"(\"\n+            STRING@[24; 55) \"\\\"Inner attributes all ...\"\n+            R_PAREN@[55; 56) \")\"\n+          R_BRACK@[56; 57) \"]\"\n         WHITESPACE@[57; 62) \"\\n    \"\n         COMMENT@[62; 97) \"//! As are ModuleDoc  ...\"\n         WHITESPACE@[97; 102) \"\\n    \"\n@@ -34,26 +36,30 @@ SOURCE_FILE@[0; 686)\n               ATTR@[112; 180)\n                 POUND@[112; 113) \"#\"\n                 EXCL@[113; 114) \"!\"\n-                TOKEN_TREE@[114; 180)\n-                  L_BRACK@[114; 115) \"[\"\n-                  IDENT@[115; 118) \"doc\"\n-                  TOKEN_TREE@[118; 179)\n-                    L_PAREN@[118; 119) \"(\"\n-                    STRING@[119; 178) \"\\\"Inner attributes are ...\"\n-                    R_PAREN@[178; 179) \")\"\n-                  R_BRACK@[179; 180) \"]\"\n+                L_BRACK@[114; 115) \"[\"\n+                PATH@[115; 118)\n+                  PATH_SEGMENT@[115; 118)\n+                    NAME_REF@[115; 118)\n+                      IDENT@[115; 118) \"doc\"\n+                TOKEN_TREE@[118; 179)\n+                  L_PAREN@[118; 119) \"(\"\n+                  STRING@[119; 178) \"\\\"Inner attributes are ...\"\n+                  R_PAREN@[178; 179) \")\"\n+                R_BRACK@[179; 180) \"]\"\n               WHITESPACE@[180; 189) \"\\n        \"\n               ATTR@[189; 244)\n                 POUND@[189; 190) \"#\"\n                 EXCL@[190; 191) \"!\"\n-                TOKEN_TREE@[191; 244)\n-                  L_BRACK@[191; 192) \"[\"\n-                  IDENT@[192; 195) \"doc\"\n-                  TOKEN_TREE@[195; 243)\n-                    L_PAREN@[195; 196) \"(\"\n-                    STRING@[196; 242) \"\\\"Being validated is n ...\"\n-                    R_PAREN@[242; 243) \")\"\n-                  R_BRACK@[243; 244) \"]\"\n+                L_BRACK@[191; 192) \"[\"\n+                PATH@[192; 195)\n+                  PATH_SEGMENT@[192; 195)\n+                    NAME_REF@[192; 195)\n+                      IDENT@[192; 195) \"doc\"\n+                TOKEN_TREE@[195; 243)\n+                  L_PAREN@[195; 196) \"(\"\n+                  STRING@[196; 242) \"\\\"Being validated is n ...\"\n+                  R_PAREN@[242; 243) \")\"\n+                R_BRACK@[243; 244) \"]\"\n               WHITESPACE@[244; 253) \"\\n        \"\n               COMMENT@[253; 288) \"//! As are ModuleDoc  ...\"\n               WHITESPACE@[288; 293) \"\\n    \"\n@@ -67,14 +73,16 @@ SOURCE_FILE@[0; 686)\n             ATTR@[310; 409)\n               POUND@[310; 311) \"#\"\n               EXCL@[311; 312) \"!\"\n-              TOKEN_TREE@[312; 409)\n-                L_BRACK@[312; 313) \"[\"\n-                IDENT@[313; 316) \"doc\"\n-                TOKEN_TREE@[316; 408)\n-                  L_PAREN@[316; 317) \"(\"\n-                  STRING@[317; 407) \"\\\"Inner attributes are ...\"\n-                  R_PAREN@[407; 408) \")\"\n-                R_BRACK@[408; 409) \"]\"\n+              L_BRACK@[312; 313) \"[\"\n+              PATH@[313; 316)\n+                PATH_SEGMENT@[313; 316)\n+                  NAME_REF@[313; 316)\n+                    IDENT@[313; 316) \"doc\"\n+              TOKEN_TREE@[316; 408)\n+                L_PAREN@[316; 317) \"(\"\n+                STRING@[317; 407) \"\\\"Inner attributes are ...\"\n+                R_PAREN@[407; 408) \")\"\n+              R_BRACK@[408; 409) \"]\"\n             WHITESPACE@[409; 418) \"\\n        \"\n             COMMENT@[418; 453) \"//! As are ModuleDoc  ...\"\n             WHITESPACE@[453; 458) \"\\n    \"\n@@ -154,14 +162,16 @@ SOURCE_FILE@[0; 686)\n             ATTR@[612; 639)\n               POUND@[612; 613) \"#\"\n               EXCL@[613; 614) \"!\"\n-              TOKEN_TREE@[614; 639)\n-                L_BRACK@[614; 615) \"[\"\n-                IDENT@[615; 620) \"allow\"\n-                TOKEN_TREE@[620; 638)\n-                  L_PAREN@[620; 621) \"(\"\n-                  IDENT@[621; 637) \"unused_variables\"\n-                  R_PAREN@[637; 638) \")\"\n-                R_BRACK@[638; 639) \"]\"\n+              L_BRACK@[614; 615) \"[\"\n+              PATH@[615; 620)\n+                PATH_SEGMENT@[615; 620)\n+                  NAME_REF@[615; 620)\n+                    IDENT@[615; 620) \"allow\"\n+              TOKEN_TREE@[620; 638)\n+                L_PAREN@[620; 621) \"(\"\n+                IDENT@[621; 637) \"unused_variables\"\n+                R_PAREN@[637; 638) \")\"\n+              R_BRACK@[638; 639) \"]\"\n             WHITESPACE@[639; 640) \" \"\n             COMMENT@[640; 677) \"// this is  `inner_at ...\"\n             WHITESPACE@[677; 682) \"\\n    \""}, {"sha": "8f192124b3ec0eb1e128a9ce9b1842f1f5827a40", "filename": "crates/ra_syntax/test_data/parser/ok/0046_extern_inner_attributes.txt", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0046_extern_inner_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0046_extern_inner_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0046_extern_inner_attributes.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -13,14 +13,16 @@ SOURCE_FILE@[0; 87)\n       ATTR@[47; 84)\n         POUND@[47; 48) \"#\"\n         EXCL@[48; 49) \"!\"\n-        TOKEN_TREE@[49; 84)\n-          L_BRACK@[49; 50) \"[\"\n-          IDENT@[50; 53) \"doc\"\n-          TOKEN_TREE@[53; 83)\n-            L_PAREN@[53; 54) \"(\"\n-            STRING@[54; 82) \"\\\"This is also a doc c ...\"\n-            R_PAREN@[82; 83) \")\"\n-          R_BRACK@[83; 84) \"]\"\n+        L_BRACK@[49; 50) \"[\"\n+        PATH@[50; 53)\n+          PATH_SEGMENT@[50; 53)\n+            NAME_REF@[50; 53)\n+              IDENT@[50; 53) \"doc\"\n+        TOKEN_TREE@[53; 83)\n+          L_PAREN@[53; 54) \"(\"\n+          STRING@[54; 82) \"\\\"This is also a doc c ...\"\n+          R_PAREN@[82; 83) \")\"\n+        R_BRACK@[83; 84) \"]\"\n       WHITESPACE@[84; 85) \"\\n\"\n       R_CURLY@[85; 86) \"}\"\n   WHITESPACE@[86; 87) \"\\n\""}, {"sha": "bfd47d2e18850a18b2bc2c46313389e4549784ae", "filename": "crates/ra_syntax/test_data/parser/ok/0051_parameter_attrs.txt", "status": "modified", "additions": 90, "deletions": 60, "changes": 150, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0051_parameter_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0051_parameter_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0051_parameter_attrs.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -8,17 +8,21 @@ SOURCE_FILE@[0; 519)\n       L_PAREN@[5; 6) \"(\"\n       ATTR@[6; 14)\n         POUND@[6; 7) \"#\"\n-        TOKEN_TREE@[7; 14)\n-          L_BRACK@[7; 8) \"[\"\n-          IDENT@[8; 13) \"attr1\"\n-          R_BRACK@[13; 14) \"]\"\n+        L_BRACK@[7; 8) \"[\"\n+        PATH@[8; 13)\n+          PATH_SEGMENT@[8; 13)\n+            NAME_REF@[8; 13)\n+              IDENT@[8; 13) \"attr1\"\n+        R_BRACK@[13; 14) \"]\"\n       WHITESPACE@[14; 15) \" \"\n       ATTR@[15; 23)\n         POUND@[15; 16) \"#\"\n-        TOKEN_TREE@[16; 23)\n-          L_BRACK@[16; 17) \"[\"\n-          IDENT@[17; 22) \"attr2\"\n-          R_BRACK@[22; 23) \"]\"\n+        L_BRACK@[16; 17) \"[\"\n+        PATH@[17; 22)\n+          PATH_SEGMENT@[17; 22)\n+            NAME_REF@[17; 22)\n+              IDENT@[17; 22) \"attr2\"\n+        R_BRACK@[22; 23) \"]\"\n       WHITESPACE@[23; 24) \" \"\n       PARAM@[24; 33)\n         BIND_PAT@[24; 27)\n@@ -47,10 +51,12 @@ SOURCE_FILE@[0; 519)\n       L_PAREN@[43; 44) \"(\"\n       ATTR@[44; 52)\n         POUND@[44; 45) \"#\"\n-        TOKEN_TREE@[45; 52)\n-          L_BRACK@[45; 46) \"[\"\n-          IDENT@[46; 51) \"attr1\"\n-          R_BRACK@[51; 52) \"]\"\n+        L_BRACK@[45; 46) \"[\"\n+        PATH@[46; 51)\n+          PATH_SEGMENT@[46; 51)\n+            NAME_REF@[46; 51)\n+              IDENT@[46; 51) \"attr1\"\n+        R_BRACK@[51; 52) \"]\"\n       WHITESPACE@[52; 53) \" \"\n       PARAM@[53; 58)\n         BIND_PAT@[53; 54)\n@@ -105,10 +111,12 @@ SOURCE_FILE@[0; 519)\n           WHITESPACE@[105; 106) \" \"\n           ATTR@[106; 113)\n             POUND@[106; 107) \"#\"\n-            TOKEN_TREE@[107; 113)\n-              L_BRACK@[107; 108) \"[\"\n-              IDENT@[108; 112) \"attr\"\n-              R_BRACK@[112; 113) \"]\"\n+            L_BRACK@[107; 108) \"[\"\n+            PATH@[108; 112)\n+              PATH_SEGMENT@[108; 112)\n+                NAME_REF@[108; 112)\n+                  IDENT@[108; 112) \"attr\"\n+            R_BRACK@[112; 113) \"]\"\n           WHITESPACE@[113; 114) \" \"\n           DOTDOTDOT@[114; 117) \"...\"\n           R_PAREN@[117; 118) \")\"\n@@ -148,10 +156,12 @@ SOURCE_FILE@[0; 519)\n                     L_PAREN@[145; 146) \"(\"\n                     ATTR@[146; 153)\n                       POUND@[146; 147) \"#\"\n-                      TOKEN_TREE@[147; 153)\n-                        L_BRACK@[147; 148) \"[\"\n-                        IDENT@[148; 152) \"attr\"\n-                        R_BRACK@[152; 153) \"]\"\n+                      L_BRACK@[147; 148) \"[\"\n+                      PATH@[148; 152)\n+                        PATH_SEGMENT@[148; 152)\n+                          NAME_REF@[148; 152)\n+                            IDENT@[148; 152) \"attr\"\n+                      R_BRACK@[152; 153) \"]\"\n                     WHITESPACE@[153; 154) \" \"\n                     PARAM@[154; 166)\n                       REFERENCE_TYPE@[154; 166)\n@@ -196,10 +206,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[196; 197) \"(\"\n           ATTR@[197; 204)\n             POUND@[197; 198) \"#\"\n-            TOKEN_TREE@[198; 204)\n-              L_BRACK@[198; 199) \"[\"\n-              IDENT@[199; 203) \"attr\"\n-              R_BRACK@[203; 204) \"]\"\n+            L_BRACK@[198; 199) \"[\"\n+            PATH@[199; 203)\n+              PATH_SEGMENT@[199; 203)\n+                NAME_REF@[199; 203)\n+                  IDENT@[199; 203) \"attr\"\n+            R_BRACK@[203; 204) \"]\"\n           WHITESPACE@[204; 205) \" \"\n           PARAM@[205; 211)\n             PLACEHOLDER_PAT@[205; 206)\n@@ -216,10 +228,12 @@ SOURCE_FILE@[0; 519)\n           ATTR@[213; 221)\n             POUND@[213; 214) \"#\"\n             WHITESPACE@[214; 215) \" \"\n-            TOKEN_TREE@[215; 221)\n-              L_BRACK@[215; 216) \"[\"\n-              IDENT@[216; 220) \"attr\"\n-              R_BRACK@[220; 221) \"]\"\n+            L_BRACK@[215; 216) \"[\"\n+            PATH@[216; 220)\n+              PATH_SEGMENT@[216; 220)\n+                NAME_REF@[216; 220)\n+                  IDENT@[216; 220) \"attr\"\n+            R_BRACK@[220; 221) \"]\"\n           WHITESPACE@[221; 222) \" \"\n           PARAM@[222; 232)\n             BIND_PAT@[222; 227)\n@@ -260,10 +274,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[256; 257) \"(\"\n           ATTR@[257; 268)\n             POUND@[257; 258) \"#\"\n-            TOKEN_TREE@[258; 268)\n-              L_BRACK@[258; 259) \"[\"\n-              IDENT@[259; 267) \"must_use\"\n-              R_BRACK@[267; 268) \"]\"\n+            L_BRACK@[258; 259) \"[\"\n+            PATH@[259; 267)\n+              PATH_SEGMENT@[259; 267)\n+                NAME_REF@[259; 267)\n+                  IDENT@[259; 267) \"must_use\"\n+            R_BRACK@[267; 268) \"]\"\n           WHITESPACE@[268; 269) \" \"\n           SELF_PARAM@[269; 273)\n             SELF_KW@[269; 273) \"self\"\n@@ -283,10 +299,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[288; 289) \"(\"\n           ATTR@[289; 296)\n             POUND@[289; 290) \"#\"\n-            TOKEN_TREE@[290; 296)\n-              L_BRACK@[290; 291) \"[\"\n-              IDENT@[291; 295) \"attr\"\n-              R_BRACK@[295; 296) \"]\"\n+            L_BRACK@[290; 291) \"[\"\n+            PATH@[291; 295)\n+              PATH_SEGMENT@[291; 295)\n+                NAME_REF@[291; 295)\n+                  IDENT@[291; 295) \"attr\"\n+            R_BRACK@[295; 296) \"]\"\n           WHITESPACE@[296; 297) \" \"\n           SELF_PARAM@[297; 301)\n             SELF_KW@[297; 301) \"self\"\n@@ -306,10 +324,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[316; 317) \"(\"\n           ATTR@[317; 324)\n             POUND@[317; 318) \"#\"\n-            TOKEN_TREE@[318; 324)\n-              L_BRACK@[318; 319) \"[\"\n-              IDENT@[319; 323) \"attr\"\n-              R_BRACK@[323; 324) \"]\"\n+            L_BRACK@[318; 319) \"[\"\n+            PATH@[319; 323)\n+              PATH_SEGMENT@[319; 323)\n+                NAME_REF@[319; 323)\n+                  IDENT@[319; 323) \"attr\"\n+            R_BRACK@[323; 324) \"]\"\n           WHITESPACE@[324; 325) \" \"\n           SELF_PARAM@[325; 330)\n             AMP@[325; 326) \"&\"\n@@ -335,10 +355,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[349; 350) \"(\"\n           ATTR@[350; 357)\n             POUND@[350; 351) \"#\"\n-            TOKEN_TREE@[351; 357)\n-              L_BRACK@[351; 352) \"[\"\n-              IDENT@[352; 356) \"attr\"\n-              R_BRACK@[356; 357) \"]\"\n+            L_BRACK@[351; 352) \"[\"\n+            PATH@[352; 356)\n+              PATH_SEGMENT@[352; 356)\n+                NAME_REF@[352; 356)\n+                  IDENT@[352; 356) \"attr\"\n+            R_BRACK@[356; 357) \"]\"\n           WHITESPACE@[357; 358) \" \"\n           SELF_PARAM@[358; 367)\n             AMP@[358; 359) \"&\"\n@@ -366,10 +388,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[386; 387) \"(\"\n           ATTR@[387; 394)\n             POUND@[387; 388) \"#\"\n-            TOKEN_TREE@[388; 394)\n-              L_BRACK@[388; 389) \"[\"\n-              IDENT@[389; 393) \"attr\"\n-              R_BRACK@[393; 394) \"]\"\n+            L_BRACK@[388; 389) \"[\"\n+            PATH@[389; 393)\n+              PATH_SEGMENT@[389; 393)\n+                NAME_REF@[389; 393)\n+                  IDENT@[389; 393) \"attr\"\n+            R_BRACK@[393; 394) \"]\"\n           WHITESPACE@[394; 395) \" \"\n           SELF_PARAM@[395; 403)\n             AMP@[395; 396) \"&\"\n@@ -397,10 +421,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[422; 423) \"(\"\n           ATTR@[423; 430)\n             POUND@[423; 424) \"#\"\n-            TOKEN_TREE@[424; 430)\n-              L_BRACK@[424; 425) \"[\"\n-              IDENT@[425; 429) \"attr\"\n-              R_BRACK@[429; 430) \"]\"\n+            L_BRACK@[424; 425) \"[\"\n+            PATH@[425; 429)\n+              PATH_SEGMENT@[425; 429)\n+                NAME_REF@[425; 429)\n+                  IDENT@[425; 429) \"attr\"\n+            R_BRACK@[429; 430) \"]\"\n           WHITESPACE@[430; 431) \" \"\n           SELF_PARAM@[431; 443)\n             AMP@[431; 432) \"&\"\n@@ -425,10 +451,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[457; 458) \"(\"\n           ATTR@[458; 465)\n             POUND@[458; 459) \"#\"\n-            TOKEN_TREE@[459; 465)\n-              L_BRACK@[459; 460) \"[\"\n-              IDENT@[460; 464) \"attr\"\n-              R_BRACK@[464; 465) \"]\"\n+            L_BRACK@[459; 460) \"[\"\n+            PATH@[460; 464)\n+              PATH_SEGMENT@[460; 464)\n+                NAME_REF@[460; 464)\n+                  IDENT@[460; 464) \"attr\"\n+            R_BRACK@[464; 465) \"]\"\n           WHITESPACE@[465; 466) \" \"\n           SELF_PARAM@[466; 476)\n             SELF_KW@[466; 470) \"self\"\n@@ -455,10 +483,12 @@ SOURCE_FILE@[0; 519)\n           L_PAREN@[490; 491) \"(\"\n           ATTR@[491; 498)\n             POUND@[491; 492) \"#\"\n-            TOKEN_TREE@[492; 498)\n-              L_BRACK@[492; 493) \"[\"\n-              IDENT@[493; 497) \"attr\"\n-              R_BRACK@[497; 498) \"]\"\n+            L_BRACK@[492; 493) \"[\"\n+            PATH@[493; 497)\n+              PATH_SEGMENT@[493; 497)\n+                NAME_REF@[493; 497)\n+                  IDENT@[493; 497) \"attr\"\n+            R_BRACK@[497; 498) \"]\"\n           WHITESPACE@[498; 499) \" \"\n           SELF_PARAM@[499; 513)\n             SELF_KW@[499; 503) \"self\""}, {"sha": "04ff0e2ff7062fb1f75461e1f45a21e2844c55e9", "filename": "crates/ra_syntax/test_data/parser/ok/0053_outer_attribute_on_macro_rules.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.txt", "raw_url": "https://github.com/rust-lang/rust/raw/733f1d8b709788225bd06f8c0aee1819db92620b/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.txt?ref=733f1d8b709788225bd06f8c0aee1819db92620b", "patch": "@@ -4,10 +4,12 @@ SOURCE_FILE@[0; 65)\n     WHITESPACE@[13; 14) \"\\n\"\n     ATTR@[14; 29)\n       POUND@[14; 15) \"#\"\n-      TOKEN_TREE@[15; 29)\n-        L_BRACK@[15; 16) \"[\"\n-        IDENT@[16; 28) \"macro_export\"\n-        R_BRACK@[28; 29) \"]\"\n+      L_BRACK@[15; 16) \"[\"\n+      PATH@[16; 28)\n+        PATH_SEGMENT@[16; 28)\n+          NAME_REF@[16; 28)\n+            IDENT@[16; 28) \"macro_export\"\n+      R_BRACK@[28; 29) \"]\"\n     WHITESPACE@[29; 30) \"\\n\"\n     PATH@[30; 41)\n       PATH_SEGMENT@[30; 41)"}]}