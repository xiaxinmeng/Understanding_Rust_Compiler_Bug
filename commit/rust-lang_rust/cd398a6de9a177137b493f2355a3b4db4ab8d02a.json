{"sha": "cd398a6de9a177137b493f2355a3b4db4ab8d02a", "node_id": "C_kwDOAAsO6NoAKGNkMzk4YTZkZTlhMTc3MTM3YjQ5M2YyMzU1YTNiNGRiNGFiOGQwMmE", "commit": {"author": {"name": "Lukas Markeffsky", "email": "@", "date": "2023-04-23T13:24:34Z"}, "committer": {"name": "Lukas Markeffsky", "email": "@", "date": "2023-04-25T16:11:28Z"}, "message": "test that we format the panic message only once", "tree": {"sha": "d9b24abdad15a8cf29252a9543011db5870cee72", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d9b24abdad15a8cf29252a9543011db5870cee72"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd398a6de9a177137b493f2355a3b4db4ab8d02a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd398a6de9a177137b493f2355a3b4db4ab8d02a", "html_url": "https://github.com/rust-lang/rust/commit/cd398a6de9a177137b493f2355a3b4db4ab8d02a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd398a6de9a177137b493f2355a3b4db4ab8d02a/comments", "author": null, "committer": null, "parents": [{"sha": "a7aa20517c80161a2ffe7c0c25fc2e0140c43c90", "url": "https://api.github.com/repos/rust-lang/rust/commits/a7aa20517c80161a2ffe7c0c25fc2e0140c43c90", "html_url": "https://github.com/rust-lang/rust/commit/a7aa20517c80161a2ffe7c0c25fc2e0140c43c90"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "6211bf961b3bcff4d4a5a4a0133269ba3e08e57c", "filename": "tests/ui/panics/fmt-only-once.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/cd398a6de9a177137b493f2355a3b4db4ab8d02a/tests%2Fui%2Fpanics%2Ffmt-only-once.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd398a6de9a177137b493f2355a3b4db4ab8d02a/tests%2Fui%2Fpanics%2Ffmt-only-once.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpanics%2Ffmt-only-once.rs?ref=cd398a6de9a177137b493f2355a3b4db4ab8d02a", "patch": "@@ -0,0 +1,21 @@\n+// run-fail\n+// check-run-results\n+// exec-env:RUST_BACKTRACE=0\n+\n+// Test that we format the panic message only once.\n+// Regression test for https://github.com/rust-lang/rust/issues/110717\n+\n+use std::fmt;\n+\n+struct PrintOnFmt;\n+\n+impl fmt::Display for PrintOnFmt {\n+    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n+        eprintln!(\"fmt\");\n+        f.write_str(\"PrintOnFmt\")\n+    }\n+}\n+\n+fn main() {\n+    panic!(\"{}\", PrintOnFmt)\n+}"}, {"sha": "39bd06881ad051252c4041ca9f1009febe1c447f", "filename": "tests/ui/panics/fmt-only-once.run.stderr", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/cd398a6de9a177137b493f2355a3b4db4ab8d02a/tests%2Fui%2Fpanics%2Ffmt-only-once.run.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd398a6de9a177137b493f2355a3b4db4ab8d02a/tests%2Fui%2Fpanics%2Ffmt-only-once.run.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpanics%2Ffmt-only-once.run.stderr?ref=cd398a6de9a177137b493f2355a3b4db4ab8d02a", "patch": "@@ -0,0 +1,3 @@\n+fmt\n+thread 'main' panicked at 'PrintOnFmt', $DIR/fmt-only-once.rs:20:5\n+note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace"}]}