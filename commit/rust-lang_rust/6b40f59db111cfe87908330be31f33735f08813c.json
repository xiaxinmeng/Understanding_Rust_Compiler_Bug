{"sha": "6b40f59db111cfe87908330be31f33735f08813c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiNDBmNTlkYjExMWNmZTg3OTA4MzMwYmUzMWYzMzczNWYwODgxM2M=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-02-12T13:21:13Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-02-12T13:21:13Z"}, "message": "Rollup merge of #69042 - yaahc:backtrace-header, r=dtolnay\n\nRemove backtrace header text\n\nFixes point 3 from https://github.com/rust-lang/rust/issues/65280\n\nrelated to https://github.com/rust-lang/rust/issues/53487\n\nThis should probably be double checked by someone who works on fuschia because theres some extra fuschia specific output in `add_context` that is also removed by this change.", "tree": {"sha": "b9394a9c2ee76f29fe60f9188ea5bdd9a2ea93ae", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b9394a9c2ee76f29fe60f9188ea5bdd9a2ea93ae"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6b40f59db111cfe87908330be31f33735f08813c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeQ/vJCRBK7hj4Ov3rIwAAdHIIAHc2QJhra9arRgiEYdaKX/jy\nVXfy8BBLsrjDfqUgT1Ormm+VDwlm1ShHqCVKgFuBi+8/g7jB6bWXiieTWjk8AX9d\nEHOxPbs9z5tnDUYF3lDv/xz33LV5qBi1haZ2c4Mb40G/2Hr+2leV+hJxtcqkJyJp\npLJyppS+eFzKPdrGNCM3Hll1uXKceXqtb5SORcjnBkmujQmkb6QC+cRLflmHRRWa\nn3uAxsIts3S7/6TCYpzJSnixHF9NvY/ZMMXdZw+8NZxqFgwYLRQDbs3jGeaS7o8S\niscrZGAewce95Gvr3CrHEeRhTlkSFmaM1NsJivb6d4FHqiD7zs+8hjTUDpyyMpI=\n=o/6X\n-----END PGP SIGNATURE-----\n", "payload": "tree b9394a9c2ee76f29fe60f9188ea5bdd9a2ea93ae\nparent 42f371c2eb0623b487c74f291956bb09af0b0351\nparent 090a1571d8c489588e2947ddb61b79f78b5b11b3\nauthor Dylan DPC <dylan.dpc@gmail.com> 1581513673 +0100\ncommitter GitHub <noreply@github.com> 1581513673 +0100\n\nRollup merge of #69042 - yaahc:backtrace-header, r=dtolnay\n\nRemove backtrace header text\n\nFixes point 3 from https://github.com/rust-lang/rust/issues/65280\n\nrelated to https://github.com/rust-lang/rust/issues/53487\n\nThis should probably be double checked by someone who works on fuschia because theres some extra fuschia specific output in `add_context` that is also removed by this change.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6b40f59db111cfe87908330be31f33735f08813c", "html_url": "https://github.com/rust-lang/rust/commit/6b40f59db111cfe87908330be31f33735f08813c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6b40f59db111cfe87908330be31f33735f08813c/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "42f371c2eb0623b487c74f291956bb09af0b0351", "url": "https://api.github.com/repos/rust-lang/rust/commits/42f371c2eb0623b487c74f291956bb09af0b0351", "html_url": "https://github.com/rust-lang/rust/commit/42f371c2eb0623b487c74f291956bb09af0b0351"}, {"sha": "090a1571d8c489588e2947ddb61b79f78b5b11b3", "url": "https://api.github.com/repos/rust-lang/rust/commits/090a1571d8c489588e2947ddb61b79f78b5b11b3", "html_url": "https://github.com/rust-lang/rust/commit/090a1571d8c489588e2947ddb61b79f78b5b11b3"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "1679cf320182a726a24197557d7bffc47ab8bcf6", "filename": "Cargo.lock", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6b40f59db111cfe87908330be31f33735f08813c/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/6b40f59db111cfe87908330be31f33735f08813c/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=6b40f59db111cfe87908330be31f33735f08813c", "patch": "@@ -121,9 +121,9 @@ checksum = \"1d49d90015b3c36167a20fe2810c5cd875ad504b39cff3d4eae7977e6b7c1cb2\"\n \n [[package]]\n name = \"backtrace\"\n-version = \"0.3.40\"\n+version = \"0.3.44\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"924c76597f0d9ca25d762c25a4d369d51267536465dc5064bdf0eb073ed477ea\"\n+checksum = \"e4036b9bf40f3cf16aba72a3d65e8a520fc4bafcdc7079aea8f848c58c5b5536\"\n dependencies = [\n  \"backtrace-sys\",\n  \"cfg-if\","}, {"sha": "b147aa55b2a6135617904eb213011d8f86169c08", "filename": "src/libstd/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6b40f59db111cfe87908330be31f33735f08813c/src%2Flibstd%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/6b40f59db111cfe87908330be31f33735f08813c/src%2Flibstd%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2FCargo.toml?ref=6b40f59db111cfe87908330be31f33735f08813c", "patch": "@@ -27,7 +27,7 @@ hashbrown = { version = \"0.6.2\", default-features = false, features = ['rustc-de\n \n [dependencies.backtrace_rs]\n package = \"backtrace\"\n-version = \"0.3.37\"\n+version = \"0.3.44\"\n default-features = false # without the libstd `backtrace` feature, stub out everything\n features = [ \"rustc-dep-of-std\" ] # enable build support for integrating into libstd\n "}, {"sha": "289ee07babfcf297480fd7d3fdd1c863689fc6b2", "filename": "src/libstd/sys_common/backtrace.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b40f59db111cfe87908330be31f33735f08813c/src%2Flibstd%2Fsys_common%2Fbacktrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b40f59db111cfe87908330be31f33735f08813c/src%2Flibstd%2Fsys_common%2Fbacktrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fbacktrace.rs?ref=6b40f59db111cfe87908330be31f33735f08813c", "patch": "@@ -70,6 +70,7 @@ unsafe fn _print_fmt(fmt: &mut fmt::Formatter<'_>, print_fmt: PrintFmt) -> fmt::\n     let mut print_path = move |fmt: &mut fmt::Formatter<'_>, bows: BytesOrWideString<'_>| {\n         output_filename(fmt, bows, print_fmt, cwd.as_ref())\n     };\n+    write!(fmt, \"stack backtrace:\\n\")?;\n     let mut bt_fmt = BacktraceFmt::new(fmt, print_fmt, &mut print_path);\n     bt_fmt.add_context()?;\n     let mut idx = 0;"}, {"sha": "902a2b6f5a0e96aa330e51701c6387f33ee4a088", "filename": "src/test/ui/std-backtrace.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6b40f59db111cfe87908330be31f33735f08813c/src%2Ftest%2Fui%2Fstd-backtrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b40f59db111cfe87908330be31f33735f08813c/src%2Ftest%2Fui%2Fstd-backtrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstd-backtrace.rs?ref=6b40f59db111cfe87908330be31f33735f08813c", "patch": "@@ -16,9 +16,9 @@ use std::str;\n fn main() {\n     let args: Vec<String> = env::args().collect();\n     if args.len() >= 2 && args[1] == \"force\" {\n-        println!(\"{}\", std::backtrace::Backtrace::force_capture());\n+        println!(\"stack backtrace:\\n{}\", std::backtrace::Backtrace::force_capture());\n     } else if args.len() >= 2 {\n-        println!(\"{}\", std::backtrace::Backtrace::capture());\n+        println!(\"stack backtrace:\\n{}\", std::backtrace::Backtrace::capture());\n     } else {\n         runtest(&args[0]);\n         println!(\"test ok\");"}]}