{"sha": "19510ac70bd29a0e0e2ef4d63007b85ba179582e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5NTEwYWM3MGJkMjlhMGUwZTJlZjRkNjMwMDdiODViYTE3OTU4MmU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-23T22:11:06Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-23T22:11:06Z"}, "message": "rollup merge of #23633: tomjakubowski/rustdoc-array-prim\n\nPreviously, impls for `[T; n]` were collected in the same place as impls for `[T]` and `&[T]`. This splits them out into their own primitive page in both core and std.", "tree": {"sha": "fbba867d2fdfe8ee335c0a373cc12eeb422f33b2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fbba867d2fdfe8ee335c0a373cc12eeb422f33b2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19510ac70bd29a0e0e2ef4d63007b85ba179582e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19510ac70bd29a0e0e2ef4d63007b85ba179582e", "html_url": "https://github.com/rust-lang/rust/commit/19510ac70bd29a0e0e2ef4d63007b85ba179582e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19510ac70bd29a0e0e2ef4d63007b85ba179582e/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "28fcdc0df70c360ef9892ff45b4fd91ef60500ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/28fcdc0df70c360ef9892ff45b4fd91ef60500ab", "html_url": "https://github.com/rust-lang/rust/commit/28fcdc0df70c360ef9892ff45b4fd91ef60500ab"}, {"sha": "2df8830642fffa6c68aa6318985cfcd2e63db81b", "url": "https://api.github.com/repos/rust-lang/rust/commits/2df8830642fffa6c68aa6318985cfcd2e63db81b", "html_url": "https://github.com/rust-lang/rust/commit/2df8830642fffa6c68aa6318985cfcd2e63db81b"}], "stats": {"total": 48, "additions": 38, "deletions": 10}, "files": [{"sha": "b2c23f051d5f1d1b96dd9eecd3b71915717c4078", "filename": "src/libcore/array.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibcore%2Farray.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibcore%2Farray.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Farray.rs?ref=19510ac70bd29a0e0e2ef4d63007b85ba179582e", "patch": "@@ -14,6 +14,8 @@\n \n #![unstable(feature = \"core\")] // not yet reviewed\n \n+#![doc(primitive = \"array\")]\n+\n use clone::Clone;\n use cmp::{PartialEq, Eq, PartialOrd, Ord, Ordering};\n use fmt;"}, {"sha": "41e05ff5162cfca0e849b00ca76d13f981572a2e", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=19510ac70bd29a0e0e2ef4d63007b85ba179582e", "patch": "@@ -1322,7 +1322,8 @@ pub enum Type {\n     /// For parameterized types, so the consumer of the JSON don't go\n     /// looking for types which don't exist anywhere.\n     Generic(String),\n-    /// Primitives are just the fixed-size numeric types (plus int/uint/float), and char.\n+    /// Primitives are the fixed-size numeric types (plus int/uint/float), char,\n+    /// arrays, slices, and tuples.\n     Primitive(PrimitiveType),\n     /// extern \"ABI\" fn\n     BareFunction(Box<BareFunctionDecl>),\n@@ -1362,6 +1363,7 @@ pub enum PrimitiveType {\n     Bool,\n     Str,\n     Slice,\n+    Array,\n     PrimitiveTuple,\n }\n \n@@ -1396,6 +1398,7 @@ impl PrimitiveType {\n             \"str\" => Some(Str),\n             \"f32\" => Some(F32),\n             \"f64\" => Some(F64),\n+            \"array\" => Some(Array),\n             \"slice\" => Some(Slice),\n             \"tuple\" => Some(PrimitiveTuple),\n             _ => None,\n@@ -1440,6 +1443,7 @@ impl PrimitiveType {\n             Str => \"str\",\n             Bool => \"bool\",\n             Char => \"char\",\n+            Array => \"array\",\n             Slice => \"slice\",\n             PrimitiveTuple => \"tuple\",\n         }"}, {"sha": "df6beab0f5832ebc75bbfdf62fbd0b6a412bbeef", "filename": "src/librustdoc/html/format.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fformat.rs?ref=19510ac70bd29a0e0e2ef4d63007b85ba179582e", "patch": "@@ -486,7 +486,7 @@ impl fmt::Display for clean::Type {\n                 primitive_link(f, clean::Slice, &format!(\"[{}]\", **t))\n             }\n             clean::FixedVector(ref t, ref s) => {\n-                primitive_link(f, clean::Slice,\n+                primitive_link(f, clean::PrimitiveType::Array,\n                                &format!(\"[{}; {}]\", **t, *s))\n             }\n             clean::Bottom => f.write_str(\"!\"),"}, {"sha": "d57739c4002494165c4f48cf4fbc7abbce720425", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=19510ac70bd29a0e0e2ef4d63007b85ba179582e", "patch": "@@ -1026,7 +1026,8 @@ impl DocFolder for Cache {\n                 match item {\n                     clean::Item{ attrs, inner: clean::ImplItem(i), .. } => {\n                         use clean::{Primitive, Vector, ResolvedPath, BorrowedRef};\n-                        use clean::{FixedVector, Slice, Tuple, PrimitiveTuple};\n+                        use clean::PrimitiveType::{Array, Slice, PrimitiveTuple};\n+                        use clean::{FixedVector, Tuple};\n \n                         // extract relevant documentation for this impl\n                         let dox = match attrs.into_iter().find(|a| {\n@@ -1056,12 +1057,16 @@ impl DocFolder for Cache {\n                                 Some(ast_util::local_def(p.to_node_id()))\n                             }\n \n-                            // In a DST world, we may only need\n-                            // Vector/FixedVector, but for now we also pick up\n-                            // borrowed references\n-                            Vector(..) | FixedVector(..) |\n-                                BorrowedRef{ type_: box Vector(..), ..  } |\n-                                BorrowedRef{ type_: box FixedVector(..), .. } =>\n+                            FixedVector(..) |\n+                                BorrowedRef { type_: box FixedVector(..), .. } =>\n+                            {\n+                                Some(ast_util::local_def(Array.to_node_id()))\n+                            }\n+\n+                            // In a DST world, we may only need Vector, but for now we\n+                            // also pick up borrowed references\n+                            Vector(..) |\n+                                BorrowedRef{ type_: box Vector(..), ..  } =>\n                             {\n                                 Some(ast_util::local_def(Slice.to_node_id()))\n                             }"}, {"sha": "a6b8cd71a3b3d31ae2e8955993431d88b4377387", "filename": "src/libstd/array.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibstd%2Farray.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibstd%2Farray.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Farray.rs?ref=19510ac70bd29a0e0e2ef4d63007b85ba179582e", "patch": "@@ -0,0 +1,13 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+//! The fixed-size array type (`[T; n]`).\n+\n+#![doc(primitive = \"array\")]"}, {"sha": "53c162b925946ee03bc22781101bc53f4b8acd25", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19510ac70bd29a0e0e2ef4d63007b85ba179582e/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=19510ac70bd29a0e0e2ef4d63007b85ba179582e", "patch": "@@ -215,6 +215,9 @@ pub mod prelude;\n \n /* Primitive types */\n \n+// NB: slice and str are primitive types too, but their module docs + primitive doc pages\n+// are inlined from the public re-exports of core_collections::{slice, str} above.\n+\n #[path = \"num/float_macros.rs\"]\n #[macro_use]\n mod float_macros;\n@@ -281,8 +284,9 @@ pub mod time;\n pub mod rt;\n mod panicking;\n \n-// Documentation for primitive types\n+// Modules that exist purely to document + host impl docs for primitive types\n \n+mod array;\n mod bool;\n mod unit;\n mod tuple;"}]}