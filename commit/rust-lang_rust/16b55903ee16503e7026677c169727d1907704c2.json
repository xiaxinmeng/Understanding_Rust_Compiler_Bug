{"sha": "16b55903ee16503e7026677c169727d1907704c2", "node_id": "C_kwDOAAsO6NoAKDE2YjU1OTAzZWUxNjUwM2U3MDI2Njc3YzE2OTcyN2QxOTA3NzA0YzI", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-11-17T13:31:34Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-11-17T15:35:04Z"}, "message": "Migrate tooltip style to CSS variables", "tree": {"sha": "0ec286e7bfa70459eaa60b47b085b0b2a723335f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0ec286e7bfa70459eaa60b47b085b0b2a723335f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/16b55903ee16503e7026677c169727d1907704c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/16b55903ee16503e7026677c169727d1907704c2", "html_url": "https://github.com/rust-lang/rust/commit/16b55903ee16503e7026677c169727d1907704c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/16b55903ee16503e7026677c169727d1907704c2/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c75fe4c8547c276574cacb144919d67fd8ab302", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c75fe4c8547c276574cacb144919d67fd8ab302", "html_url": "https://github.com/rust-lang/rust/commit/7c75fe4c8547c276574cacb144919d67fd8ab302"}], "stats": {"total": 42, "additions": 11, "deletions": 31}, "files": [{"sha": "c6800fea5eb5e284dd01ebeffcf5d8776732ccd0", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=16b55903ee16503e7026677c169727d1907704c2", "patch": "@@ -1162,6 +1162,8 @@ pre.rust .doccomment {\n \twidth: max-content;\n \ttop: -2px;\n \tz-index: 1;\n+\tbackground-color: var(--tooltip-background-color);\n+\tcolor: var(--tooltip-color);\n }\n \n .example-wrap .tooltip::before {\n@@ -1170,10 +1172,10 @@ pre.rust .doccomment {\n \ttop: 50%;\n \tleft: 16px;\n \tmargin-top: -5px;\n-\tborder-width: 5px;\n-\tborder-style: solid;\n \tdisplay: none;\n \tz-index: 1;\n+\tborder: 5px solid transparent;\n+\tborder-right-color: var(--tooltip-background-color);\n }\n \n .example-wrap.ignore .tooltip::after {"}, {"sha": "0e4dacb28f7cd0911b1855998bd4f49df402363f", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=16b55903ee16503e7026677c169727d1907704c2", "patch": "@@ -65,6 +65,8 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--test-arrow-hover-background-color: rgba(57, 175, 215, 0.368);\n \t--target-background-color: rgba(255, 236, 164, 0.06);\n \t--target-border-color: rgba(255, 180, 76, 0.85);\n+\t--tooltip-background-color: #314559;\n+\t--tooltip-color: #c5c5c5;\n \t--rust-logo-filter: drop-shadow(1px 0 0px #fff)\n \t\tdrop-shadow(0 1px 0 #fff)\n \t\tdrop-shadow(-1px 0 0 #fff)\n@@ -160,15 +162,6 @@ details.rustdoc-toggle > summary::before {\n \tcolor: #788797;\n }\n \n-.tooltip::after {\n-\tbackground-color: #314559;\n-\tcolor: #c5c5c5;\n-}\n-\n-.tooltip::before {\n-\tborder-color: transparent #314559 transparent transparent;\n-}\n-\n #titles > button.selected {\n \tbackground-color: #141920 !important;\n \tborder-bottom: 1px solid #ffb44c !important;"}, {"sha": "8e00591179f1f201e0dff4cf530f990151e4f440", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=16b55903ee16503e7026677c169727d1907704c2", "patch": "@@ -60,6 +60,8 @@\n \t--test-arrow-hover-background-color: #4e8bca;\n \t--target-background-color: #494a3d;\n \t--target-border-color: #bb7410;\n+\t--tooltip-background-color: #000;\n+\t--tooltip-color: #fff;\n \t--rust-logo-filter: drop-shadow(1px 0 0px #fff)\n \t\tdrop-shadow(0 1px 0 #fff)\n \t\tdrop-shadow(-1px 0 0 #fff)\n@@ -82,16 +84,6 @@ details.rustdoc-toggle > summary::before {\n \tfilter: invert(100%);\n }\n \n-.tooltip::after {\n-\tbackground-color: #000;\n-\tcolor: #fff;\n-\tborder-color: #000;\n-}\n-\n-.tooltip::before {\n-\tborder-color: transparent black transparent transparent;\n-}\n-\n #titles > button:not(.selected) {\n \tbackground-color: #252525;\n \tborder-top-color: #252525;"}, {"sha": "e23e3682b166ec3c459d95b56550bdb13698410c", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/16b55903ee16503e7026677c169727d1907704c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=16b55903ee16503e7026677c169727d1907704c2", "patch": "@@ -58,8 +58,10 @@\n \t--test-arrow-background-color: rgba(78, 139, 202, 0.2);\n \t--test-arrow-hover-color: #f5f5f5;\n \t--test-arrow-hover-background-color: #4e8bca;\n-\t--target-background-color: #fdFfd3;\n+\t--target-background-color: #fdffd3;\n \t--target-border-color: #ad7c37;\n+\t--tooltip-background-color: #fdffd3;\n+\t--tooltip-color: #fff;\n \t--rust-logo-filter: initial;\n \t/* match border-color; uses https://codepen.io/sosuke/pen/Pjoqqp */\n \t--crate-search-div-filter: invert(100%) sepia(0%) saturate(4223%) hue-rotate(289deg)\n@@ -75,15 +77,6 @@ body.source .example-wrap pre.rust a {\n \tbackground: #eee;\n }\n \n-.tooltip::after {\n-\tbackground-color: #000;\n-\tcolor: #fff;\n-}\n-\n-.tooltip::before {\n-\tborder-color: transparent black transparent transparent;\n-}\n-\n #titles > button:not(.selected) {\n \tbackground-color: #e6e6e6;\n \tborder-top-color: #e6e6e6;"}]}