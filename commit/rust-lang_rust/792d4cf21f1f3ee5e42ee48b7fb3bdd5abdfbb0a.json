{"sha": "792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5MmQ0Y2YyMWYxZjNlZTVlNDJlZTQ4YjdmYjNiZGQ1YWJkZmJiMGE=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-05-20T11:37:29Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-05-20T11:37:29Z"}, "message": "Extend escape key check", "tree": {"sha": "910b7bcf31591c484256d4589ffc82c1059bb048", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/910b7bcf31591c484256d4589ffc82c1059bb048"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a", "html_url": "https://github.com/rust-lang/rust/commit/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "35bab923c8e5a1e8291735e7630539002eb80d7b", "url": "https://api.github.com/repos/rust-lang/rust/commits/35bab923c8e5a1e8291735e7630539002eb80d7b", "html_url": "https://github.com/rust-lang/rust/commit/35bab923c8e5a1e8291735e7630539002eb80d7b"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "ec034f52c972c07be40e7b0f4159da6930242fd3", "filename": "src/test/rustdoc-gui/escape-key.goml", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a/src%2Ftest%2Frustdoc-gui%2Fescape-key.goml", "raw_url": "https://github.com/rust-lang/rust/raw/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a/src%2Ftest%2Frustdoc-gui%2Fescape-key.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fescape-key.goml?ref=792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a", "patch": "@@ -22,6 +22,13 @@ assert: (\"#help\", \"class\", \"hidden\")\n assert: (\"#search\", \"class\", \"content\")\n assert: (\"#main\", \"class\", \"content hidden\")\n \n-// FIXME: Once https://github.com/rust-lang/rust/pull/84462 is merged, add check to ensure\n-// that Escape hides the search results when a result is focused.\n-// press-key: \"ArrowDown\"\n+// Check that Escape hides the search results when a search result is focused.\n+focus: \".search-input\"\n+assert: \".search-input:focus\"\n+press-key: \"ArrowDown\"\n+assert-false: \".search-input:focus\"\n+assert: \"#results a:focus\"\n+press-key: \"Escape\"\n+assert: (\"#help\", \"class\", \"hidden\")\n+assert: (\"#search\", \"class\", \"content hidden\")\n+assert: (\"#main\", \"class\", \"content\")"}]}