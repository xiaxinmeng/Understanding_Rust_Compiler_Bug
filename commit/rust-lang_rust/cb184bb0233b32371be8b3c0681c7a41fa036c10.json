{"sha": "cb184bb0233b32371be8b3c0681c7a41fa036c10", "node_id": "C_kwDOAAsO6NoAKGNiMTg0YmIwMjMzYjMyMzcxYmU4YjNjMDY4MWM3YTQxZmEwMzZjMTA", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-11-04T22:13:13Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-11-04T23:00:57Z"}, "message": "rustdoc: clean up `.logo-container` layout CSS\n\nThis commit should result in no appearance changes.\n\nTo make the logo container exactly the desired height, you want to get rid\nof the part of the box used for typographic descenders (you know, the part\nof g, y, and j that descends below the baseline). After all, it contains no\ntext, but the space is still left open in the layout by default, because\n`<img>` is `display:inline`. The CSS used to employ three different tricks\nto accomplish this:\n\n* By making `.sidebar .logo-container` a flex container, the image becomes\n  a flex item and is [blockified], without synthesizing any inline boxes.\n  No inline boxes means no descenders.\n* By giving `.mobile-topbar .logo-container` a max-height exactly the same\n  as the height of the image plus the padding, the descender area gets\n  cut off.\n* By setting `.sub-logo-container { line-height: 0 }`, we ensure that the\n  only box that contributes to the height of the line box is the image\n  itself, and not any zero-content text boxes that neighbor it. See the\n  [logical height algorithm].\n\nThis commit gets rid of the first two hacks, leaving only the third,\nsince it requires only one line of code to accomplish and doesn't require\nsetting the value based on math.\n\n[blockified]: https://drafts.csswg.org/css-flexbox-1/#flex-items\n[logical height algorithm]: https://www.w3.org/TR/css-inline-3/#inline-height", "tree": {"sha": "76a2d4503572d126482280ada7b5c3c0b51d660b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76a2d4503572d126482280ada7b5c3c0b51d660b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb184bb0233b32371be8b3c0681c7a41fa036c10", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb184bb0233b32371be8b3c0681c7a41fa036c10", "html_url": "https://github.com/rust-lang/rust/commit/cb184bb0233b32371be8b3c0681c7a41fa036c10", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb184bb0233b32371be8b3c0681c7a41fa036c10/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c2a5c3a50fc3fb6d16cd140f55f7db61cbf08a01", "url": "https://api.github.com/repos/rust-lang/rust/commits/c2a5c3a50fc3fb6d16cd140f55f7db61cbf08a01", "html_url": "https://github.com/rust-lang/rust/commit/c2a5c3a50fc3fb6d16cd140f55f7db61cbf08a01"}], "stats": {"total": 10, "additions": 3, "deletions": 7}, "files": [{"sha": "41341e9c3c5603a7cdc3b0f2016fe68e9c9ae1c7", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/cb184bb0233b32371be8b3c0681c7a41fa036c10/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/cb184bb0233b32371be8b3c0681c7a41fa036c10/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=cb184bb0233b32371be8b3c0681c7a41fa036c10", "patch": "@@ -367,7 +367,8 @@ img {\n \toverflow: visible;\n }\n \n-.sub-logo-container {\n+.sub-logo-container, .logo-container {\n+\t/* zero text boxes so that computed line height = image height exactly */\n \tline-height: 0;\n }\n \n@@ -465,10 +466,9 @@ img {\n }\n \n .sidebar .logo-container {\n-\tdisplay: flex;\n \tmargin-top: 10px;\n \tmargin-bottom: 10px;\n-\tjustify-content: center;\n+\ttext-align: center;\n }\n \n .version {\n@@ -1762,10 +1762,6 @@ in storage.js\n \t\twhite-space: nowrap;\n \t}\n \n-\t.mobile-topbar .logo-container {\n-\t\tmax-height: 45px;\n-\t}\n-\n \t.mobile-topbar .logo-container > img {\n \t\tmax-width: 35px;\n \t\tmax-height: 35px;"}]}