{"sha": "325066051fd4652667d06b2bccc2c63d7ce0812b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMyNTA2NjA1MWZkNDY1MjY2N2QwNmIyYmNjYzJjNjNkN2NlMDgxMmI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-13T20:33:53Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-13T20:33:53Z"}, "message": "Auto merge of #26249 - steveklabnik:remove_extern_panic, r=alexcrichton\n\nThis test has an interesting history, because of fail -> panic. It was\r\noriginally called extern-fail.rs:\r\nhttps://github.com/rust-lang/rust/commits/master/src/test/run-fail/extern-fail.rs\r\n\r\nIt lived for a while, but was disabled in August 2013:\r\nhttps://github.com/rust-lang/rust/commit/ce95b01014391f29a655d165d9e6d31449ceb835\r\n\r\nAs you can see, that failure was not specific to this test, however,\r\nthis code does stuff with the runtime, which was removed. Given that\r\nit hasn't even been able to compile in a long time, we should just\r\nremove it.\r\n\r\nr? @brson", "tree": {"sha": "289e12dbffbf094a27f63eea6e517a94b0431561", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/289e12dbffbf094a27f63eea6e517a94b0431561"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/325066051fd4652667d06b2bccc2c63d7ce0812b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/325066051fd4652667d06b2bccc2c63d7ce0812b", "html_url": "https://github.com/rust-lang/rust/commit/325066051fd4652667d06b2bccc2c63d7ce0812b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/325066051fd4652667d06b2bccc2c63d7ce0812b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c43cdb8ffd98b53e312ad4fc455b941e014c71bf", "url": "https://api.github.com/repos/rust-lang/rust/commits/c43cdb8ffd98b53e312ad4fc455b941e014c71bf", "html_url": "https://github.com/rust-lang/rust/commit/c43cdb8ffd98b53e312ad4fc455b941e014c71bf"}, {"sha": "5a5499b36cbf0a298f549ba0d1172dec9f3fdfd9", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a5499b36cbf0a298f549ba0d1172dec9f3fdfd9", "html_url": "https://github.com/rust-lang/rust/commit/5a5499b36cbf0a298f549ba0d1172dec9f3fdfd9"}], "stats": {"total": 52, "additions": 0, "deletions": 52}, "files": [{"sha": "f4a3adba76eddae0a6365ea147b702e23cfccd8f", "filename": "src/test/run-fail/extern-panic.rs", "status": "removed", "additions": 0, "deletions": 52, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/c43cdb8ffd98b53e312ad4fc455b941e014c71bf/src%2Ftest%2Frun-fail%2Fextern-panic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c43cdb8ffd98b53e312ad4fc455b941e014c71bf/src%2Ftest%2Frun-fail%2Fextern-panic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Fextern-panic.rs?ref=c43cdb8ffd98b53e312ad4fc455b941e014c71bf", "patch": "@@ -1,52 +0,0 @@\n-// Copyright 2012-2014 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// ignore-test linked failure\n-// error-pattern:explicit failure\n-// Testing that runtime failure doesn't cause callbacks to abort abnormally.\n-// Instead the failure will be delivered after the callbacks return.\n-#![feature(std_misc, libc)]\n-\n-extern crate libc;\n-use std::task;\n-\n-mod rustrt {\n-    extern crate libc;\n-\n-    extern {\n-        pub fn rust_dbg_call(cb: *u8, data: libc::uintptr_t)\n-                             -> libc::uintptr_t;\n-    }\n-}\n-\n-extern fn cb(data: libc::uintptr_t) -> libc::uintptr_t {\n-    if data == 1 {\n-        data\n-    } else {\n-        count(data - 1) + count(data - 1)\n-    }\n-}\n-\n-fn count(n: usize) -> usize {\n-    unsafe {\n-        task::deschedule();\n-        rustrt::rust_dbg_call(cb, n)\n-    }\n-}\n-\n-fn main() {\n-    for _ in 0..10 {\n-        task::spawn(move|| {\n-            let result = count(5);\n-            println!(\"result = %?\", result);\n-            panic!();\n-        });\n-    }\n-}"}]}