{"sha": "aa1cdc0cce39949389347b5e0a50d80f8f4ade66", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFhMWNkYzBjY2UzOTk0OTM4OTM0N2I1ZTBhNTBkODBmOGY0YWRlNjY=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-08-31T12:47:33Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-31T12:47:33Z"}, "message": "Merge #10095\n\n10095: internal: Augment panic context when resolving path r=jonas-schievink a=jonas-schievink\n\nShould help with debugging https://github.com/rust-analyzer/rust-analyzer/issues/10084 and similar issues.\r\n\r\nMight have a perf impact since the string is created on every function call.\n\nCo-authored-by: Jonas Schievink <jonasschievink@gmail.com>", "tree": {"sha": "e4985be444fa8056d388355144c01fd3e2a44f2a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e4985be444fa8056d388355144c01fd3e2a44f2a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aa1cdc0cce39949389347b5e0a50d80f8f4ade66", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhLiTlCRBK7hj4Ov3rIwAAfvgIAAi5uQtdHcU0WPySLMqlX5tL\nvUsHxvxC6CMpDZyyxxJIsXoN+c/Qj3Y+2Zy89z+VwD2TOK6wFGq8yslthldPZe8u\nSbXBBQnhaAjKhTwIcKdYjsH26pj7Pj0pCFbSvHQiGTRR1Ctg+99jpYtBSHc66CnC\nTIIjh8wuWFFLyBZzjYMp7FjKjsumMcSTnjQP2H1QVK4bBqOPWQS8t75AheH2crnU\nC8S+KYsVJZojNuf2W/TwpfPwdfsuKFzJidzTPKTwSZ8WlhWDFpyYD/Iu2RUgb/2R\nU6YhcRqDgB3jUDQ6BDtqSMXYJbuGswCHZWuWjKpM5+pHujqppBxhJvxvI3UKy3c=\n=8JTz\n-----END PGP SIGNATURE-----\n", "payload": "tree e4985be444fa8056d388355144c01fd3e2a44f2a\nparent 4786a22787356b89e145ce36926d5d3c01e02140\nparent b1a4784c959f6d0a1a781556217df7000c32147a\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1630414053 +0000\ncommitter GitHub <noreply@github.com> 1630414053 +0000\n\nMerge #10095\n\n10095: internal: Augment panic context when resolving path r=jonas-schievink a=jonas-schievink\n\nShould help with debugging https://github.com/rust-analyzer/rust-analyzer/issues/10084 and similar issues.\r\n\r\nMight have a perf impact since the string is created on every function call.\n\nCo-authored-by: Jonas Schievink <jonasschievink@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aa1cdc0cce39949389347b5e0a50d80f8f4ade66", "html_url": "https://github.com/rust-lang/rust/commit/aa1cdc0cce39949389347b5e0a50d80f8f4ade66", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aa1cdc0cce39949389347b5e0a50d80f8f4ade66/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4786a22787356b89e145ce36926d5d3c01e02140", "url": "https://api.github.com/repos/rust-lang/rust/commits/4786a22787356b89e145ce36926d5d3c01e02140", "html_url": "https://github.com/rust-lang/rust/commit/4786a22787356b89e145ce36926d5d3c01e02140"}, {"sha": "b1a4784c959f6d0a1a781556217df7000c32147a", "url": "https://api.github.com/repos/rust-lang/rust/commits/b1a4784c959f6d0a1a781556217df7000c32147a", "html_url": "https://github.com/rust-lang/rust/commit/b1a4784c959f6d0a1a781556217df7000c32147a"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "667d31e6fadfb03059d90badfc09e899f7c452e6", "filename": "crates/hir_def/src/nameres/path_resolution.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/aa1cdc0cce39949389347b5e0a50d80f8f4ade66/crates%2Fhir_def%2Fsrc%2Fnameres%2Fpath_resolution.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa1cdc0cce39949389347b5e0a50d80f8f4ade66/crates%2Fhir_def%2Fsrc%2Fnameres%2Fpath_resolution.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fnameres%2Fpath_resolution.rs?ref=aa1cdc0cce39949389347b5e0a50d80f8f4ade66", "patch": "@@ -178,6 +178,11 @@ impl DefMap {\n         path: &ModPath,\n         shadow: BuiltinShadowMode,\n     ) -> ResolvePathResult {\n+        let _cx = stdx::panic_context::enter(format!(\n+            \"DefMap {:?} {:?} path {}\",\n+            self.krate, self.block, path\n+        ));\n+\n         let mut segments = path.segments().iter().enumerate();\n         let mut curr_per_ns: PerNs = match path.kind {\n             PathKind::DollarCrate(krate) => {"}]}