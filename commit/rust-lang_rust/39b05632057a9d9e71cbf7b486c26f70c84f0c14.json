{"sha": "39b05632057a9d9e71cbf7b486c26f70c84f0c14", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM5YjA1NjMyMDU3YTlkOWU3MWNiZjdiNDg2YzI2ZjcwYzg0ZjBjMTQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-04T00:18:43Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-04T00:18:43Z"}, "message": "rustc: Remove dead code that used to generate tag constants from trans_constant()", "tree": {"sha": "27b3416d8a0a1aa31f12c30269c4c25c6e4a9fb7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/27b3416d8a0a1aa31f12c30269c4c25c6e4a9fb7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/39b05632057a9d9e71cbf7b486c26f70c84f0c14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/39b05632057a9d9e71cbf7b486c26f70c84f0c14", "html_url": "https://github.com/rust-lang/rust/commit/39b05632057a9d9e71cbf7b486c26f70c84f0c14", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/39b05632057a9d9e71cbf7b486c26f70c84f0c14/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f44fea8b6d77c24785fc351c5ca334df47b804b3", "url": "https://api.github.com/repos/rust-lang/rust/commits/f44fea8b6d77c24785fc351c5ca334df47b804b3", "html_url": "https://github.com/rust-lang/rust/commit/f44fea8b6d77c24785fc351c5ca334df47b804b3"}], "stats": {"total": 6, "additions": 0, "deletions": 6}, "files": [{"sha": "5f163d106a8381c07ed6d8c8cc4aed8ccf9838a2", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/39b05632057a9d9e71cbf7b486c26f70c84f0c14/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39b05632057a9d9e71cbf7b486c26f70c84f0c14/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=39b05632057a9d9e71cbf7b486c26f70c84f0c14", "patch": "@@ -4932,12 +4932,6 @@ fn trans_constant(&@crate_ctxt cx, @ast.item it) -> @crate_ctxt {\n         case (ast.item_tag(_, ?variants, _, ?tag_id)) {\n             auto info = cx.tags.get(mk_plain_tag(tag_id));\n \n-            auto tag_ty = llvm.LLVMResolveTypeHandle(info.th.llth);\n-            check (llvm.LLVMCountStructElementTypes(tag_ty) == 2u);\n-            auto elts = vec(0 as TypeRef, 0 as TypeRef);\n-            llvm.LLVMGetStructElementTypes(tag_ty, _vec.buf[TypeRef](elts));\n-            auto union_ty = elts.(1);\n-\n             auto i = 0u;\n             auto n_variants = _vec.len[ast.variant](variants);\n             while (i < n_variants) {"}]}