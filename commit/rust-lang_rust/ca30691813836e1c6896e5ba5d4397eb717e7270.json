{"sha": "ca30691813836e1c6896e5ba5d4397eb717e7270", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhMzA2OTE4MTM4MzZlMWM2ODk2ZTViYTVkNDM5N2ViNzE3ZTcyNzA=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2016-09-30T23:26:44Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2016-11-01T17:08:24Z"}, "message": "std: Move sys_common to libstd/sys_common\n\nMake the directory structure reflect the module structure. I've always\nfound the existing structure confusing.", "tree": {"sha": "9079226fb2fa666135049c929ee654af15b635e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9079226fb2fa666135049c929ee654af15b635e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ca30691813836e1c6896e5ba5d4397eb717e7270", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ca30691813836e1c6896e5ba5d4397eb717e7270", "html_url": "https://github.com/rust-lang/rust/commit/ca30691813836e1c6896e5ba5d4397eb717e7270", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ca30691813836e1c6896e5ba5d4397eb717e7270/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f3a709dc52bb3e617ccb016a8b20a741c23da77d", "url": "https://api.github.com/repos/rust-lang/rust/commits/f3a709dc52bb3e617ccb016a8b20a741c23da77d", "html_url": "https://github.com/rust-lang/rust/commit/f3a709dc52bb3e617ccb016a8b20a741c23da77d"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "3eb828810909741427cff2d942f83e769d7e1737", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "patch": "@@ -456,8 +456,7 @@ pub mod time;\n mod memchr;\n \n #[macro_use]\n-#[path = \"sys/common/mod.rs\"] mod sys_common;\n-\n+mod sys_common;\n mod sys;\n \n pub mod rt;"}, {"sha": "ce6fd4cb0754b1cc9297b4a97394b08aebc1356c", "filename": "src/libstd/sys_common/at_exit_imp.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fat_exit_imp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fat_exit_imp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fat_exit_imp.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/at_exit_imp.rs"}, {"sha": "a8540fed9286f1aaae8f9843c25ec5f293d301e7", "filename": "src/libstd/sys_common/backtrace.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fbacktrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fbacktrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fbacktrace.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/backtrace.rs"}, {"sha": "b6f29dd5fc3d3184f6a528fcb36f70b64b3f1051", "filename": "src/libstd/sys_common/condvar.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fcondvar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fcondvar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fcondvar.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/condvar.rs"}, {"sha": "b5802afc109435ec1e5e2cf8dd1b71951780c592", "filename": "src/libstd/sys_common/gnu/libbacktrace.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fgnu%2Flibbacktrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fgnu%2Flibbacktrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fgnu%2Flibbacktrace.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/gnu/libbacktrace.rs"}, {"sha": "3a8cf2d84259173af8317ef21e96261c437cfec4", "filename": "src/libstd/sys_common/gnu/mod.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fgnu%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fgnu%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fgnu%2Fmod.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/gnu/mod.rs"}, {"sha": "23daeeb5187b7f75551ed3ea4612cdf194c715a4", "filename": "src/libstd/sys_common/io.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fio.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/io.rs"}, {"sha": "3824a5fb5284c85c430f148704c8a5516ddb44f1", "filename": "src/libstd/sys_common/memchr.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fmemchr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fmemchr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fmemchr.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/memchr.rs"}, {"sha": "2845f895f1869e30a174b6f3fde86c6ade9f73fd", "filename": "src/libstd/sys_common/mod.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fmod.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/mod.rs"}, {"sha": "d1a738770d3893fb66189c036009fd62375984db", "filename": "src/libstd/sys_common/mutex.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fmutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fmutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fmutex.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/mutex.rs"}, {"sha": "10ad61f4c800c26b9593a7979edbf2f5cac55ce1", "filename": "src/libstd/sys_common/net.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fnet.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/net.rs"}, {"sha": "bdc727f1dfcfe0f20536ce50054f7ec5e6cff3e7", "filename": "src/libstd/sys_common/poison.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fpoison.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fpoison.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fpoison.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/poison.rs"}, {"sha": "4d0407ccf6c8903bb20eee0059b492319a94d81f", "filename": "src/libstd/sys_common/remutex.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fremutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fremutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fremutex.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/remutex.rs"}, {"sha": "71a4f01ec4cab9f2d3edcee78af3373f2484e24f", "filename": "src/libstd/sys_common/rwlock.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Frwlock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Frwlock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Frwlock.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/rwlock.rs"}, {"sha": "3ee160da5fa5b7876ab1a2c957b77c9cc3aa75f8", "filename": "src/libstd/sys_common/thread.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fthread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fthread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fthread.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/thread.rs"}, {"sha": "95d8b6cc9516d2e3e5573863d9287ed65d70e105", "filename": "src/libstd/sys_common/thread_info.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fthread_info.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fthread_info.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fthread_info.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/thread_info.rs"}, {"sha": "25a9d5720d9338bfb14ed8dba43bd03edaf36362", "filename": "src/libstd/sys_common/thread_local.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fthread_local.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fthread_local.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fthread_local.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/thread_local.rs"}, {"sha": "daa0c15920b666703f323463a8952a5e753d937e", "filename": "src/libstd/sys_common/util.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Futil.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/util.rs"}, {"sha": "0a94ff1e958236e6337d8700ab4bb9f36bfff905", "filename": "src/libstd/sys_common/wtf8.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fwtf8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Flibstd%2Fsys_common%2Fwtf8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fwtf8.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "previous_filename": "src/libstd/sys/common/wtf8.rs"}, {"sha": "72970bbe6e3c1ec8bcd95abd2115d4fcce6e616d", "filename": "src/tools/tidy/src/pal.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Ftools%2Ftidy%2Fsrc%2Fpal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca30691813836e1c6896e5ba5d4397eb717e7270/src%2Ftools%2Ftidy%2Fsrc%2Fpal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fpal.rs?ref=ca30691813836e1c6896e5ba5d4397eb717e7270", "patch": "@@ -57,9 +57,8 @@ const EXCEPTION_PATHS: &'static [&'static str] = &[\n     \"src/libpanic_abort\",\n     \"src/libpanic_unwind\",\n     \"src/libunwind\",\n-    \"src/libstd/sys/unix\", // This is where platform-specific code for unix\n-    \"src/libstd/sys/windows\", // Ditto for windows\n-    \"src/libstd/sys/mod.rs\", // This file chooses the platform\n+    \"src/libstd/sys/\", // Platform-specific code for std lives here.\n+                       // This has the trailing slash so that sys_common is not excepted.\n     \"src/libstd/os\", // Platform-specific public interfaces\n     \"src/rtstartup\", // Not sure what to do about this. magic stuff for mingw\n \n@@ -68,8 +67,8 @@ const EXCEPTION_PATHS: &'static [&'static str] = &[\n     \"src/libstd/path.rs\",\n     \"src/libstd/num/f32.rs\",\n     \"src/libstd/num/f64.rs\",\n-    \"src/libstd/sys/common/mod.rs\",\n-    \"src/libstd/sys/common/net.rs\",\n+    \"src/libstd/sys_common/mod.rs\",\n+    \"src/libstd/sys_common/net.rs\",\n     \"src/libterm\", // Not sure how to make this crate portable, but test needs it\n     \"src/libtest\", // Probably should defer to unstable std::sys APIs\n "}]}