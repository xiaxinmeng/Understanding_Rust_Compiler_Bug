{"sha": "e4407811642f87b5e2bcf0a75cef3a7baef88414", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0NDA3ODExNjQyZjg3YjVlMmJjZjBhNzVjZWYzYTdiYWVmODg0MTQ=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-07T20:07:16Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-07T20:07:16Z"}, "message": "Makefile support for building std static.", "tree": {"sha": "0c01c03743c84a646efde893f0a56a05bbb49f3b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0c01c03743c84a646efde893f0a56a05bbb49f3b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4407811642f87b5e2bcf0a75cef3a7baef88414", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4407811642f87b5e2bcf0a75cef3a7baef88414", "html_url": "https://github.com/rust-lang/rust/commit/e4407811642f87b5e2bcf0a75cef3a7baef88414", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4407811642f87b5e2bcf0a75cef3a7baef88414/comments", "author": null, "committer": null, "parents": [{"sha": "0e2fff53375eba748b6d6727f69a2560f96bc8ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e2fff53375eba748b6d6727f69a2560f96bc8ec", "html_url": "https://github.com/rust-lang/rust/commit/0e2fff53375eba748b6d6727f69a2560f96bc8ec"}], "stats": {"total": 27, "additions": 24, "deletions": 3}, "files": [{"sha": "55b27874993f4bb2e586007a43f84ec5f892d13d", "filename": "mk/snap.mk", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fsnap.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fsnap.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fsnap.mk?ref=e4407811642f87b5e2bcf0a75cef3a7baef88414", "patch": "@@ -1,10 +1,13 @@\n \n-snap-stage1: stage1/rustc$(X) stage1/glue.o stage1/lib/$(CFG_STDLIB)\n+snap-stage1: stage1/rustc$(X) stage1/glue.o stage1/lib/$(CFG_STDLIB) \\\n+\tstage1/lib/libstd.rlib\n \t$(S)src/etc/make-snapshot.py stage1\n \n-snap-stage2: stage2/rustc$(X) stage2/glue.o stage2/lib/$(CFG_STDLIB)\n+snap-stage2: stage2/rustc$(X) stage2/glue.o stage2/lib/$(CFG_STDLIB) \\\n+\tstage2/lib/libstd.rlib\n \t$(S)src/etc/make-snapshot.py stage2\n \n-snap-stage3: stage3/rustc$(X) stage3/glue.o stage3/lib/$(CFG_STDLIB)\n+snap-stage3: stage3/rustc$(X) stage3/glue.o stage3/lib/$(CFG_STDLIB) \\\n+\tstage3/lib/libstd.rlib\n \t$(S)src/etc/make-snapshot.py stage3\n "}, {"sha": "5cf6f5ff6c79e42bca13b383391658a3b87bdf9d", "filename": "mk/stage1.mk", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fstage1.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fstage1.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage1.mk?ref=e4407811642f87b5e2bcf0a75cef3a7baef88414", "patch": "@@ -4,6 +4,12 @@ stage1/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE1) --lib -o $@ $<\n \n+stage1/lib/libstd.rlib:  $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n+              stage1/rustc$(X) stage0/lib/$(CFG_STDLIB) stage1/intrinsics.bc \\\n+              stage1/glue.o $(LREQ) $(MKFILES)\n+\t@$(call E, compile_and_link: $@)\n+\t$(STAGE1) --lib --static -o $@ $<\n+\n stage1/lib/glue.o: stage1/rustc$(X) stage0/lib/$(CFG_STDLIB) \\\n \tstage1/intrinsics.bc $(LREQ) $(MKFILES)\n \t@$(call E, generate: $@)"}, {"sha": "5a10d21c3c05dcaa83f8b7bf3aca1771c8ab03ef", "filename": "mk/stage2.mk", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fstage2.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fstage2.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage2.mk?ref=e4407811642f87b5e2bcf0a75cef3a7baef88414", "patch": "@@ -4,6 +4,12 @@ stage2/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE2)  --lib -o $@ $<\n \n+stage2/lib/libstd.rlib:  $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n+              stage2/rustc$(X) stage1/lib/$(CFG_STDLIB) stage2/intrinsics.bc \\\n+              stage2/glue.o $(LREQ) $(MKFILES)\n+\t@$(call E, compile_and_link: $@)\n+\t$(STAGE2) --lib --static -o $@ $<\n+\n stage2/lib/glue.o: stage2/rustc$(X) stage1/lib/$(CFG_STDLIB) \\\n \tstage2/intrinsics.bc rustllvm/$(CFG_RUSTLLVM) rt/$(CFG_RUNTIME)\n \t@$(call E, generate: $@)"}, {"sha": "0363a4245b543b8dfac3eb13ac8917a545c74d34", "filename": "mk/stage3.mk", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fstage3.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e4407811642f87b5e2bcf0a75cef3a7baef88414/mk%2Fstage3.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage3.mk?ref=e4407811642f87b5e2bcf0a75cef3a7baef88414", "patch": "@@ -4,6 +4,12 @@ stage3/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE3)  --lib -o $@ $<\n \n+stage3/lib/libstd.rlib:  $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n+              stage3/rustc$(X) stage2/lib/$(CFG_STDLIB) stage3/intrinsics.bc \\\n+              stage3/glue.o $(LREQ) $(MKFILES)\n+\t@$(call E, compile_and_link: $@)\n+\t$(STAGE3) --lib --static -o $@ $<\n+\n stage3/lib/glue.o: stage3/rustc$(X) stage2/lib/$(CFG_STDLIB) \\\n \t stage3/intrinsics.bc rustllvm/$(CFG_RUSTLLVM) rt/$(CFG_RUNTIME)\n \t@$(call E, generate: $@)"}]}