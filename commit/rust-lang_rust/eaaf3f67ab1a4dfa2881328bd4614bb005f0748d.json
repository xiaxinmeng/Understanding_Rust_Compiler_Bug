{"sha": "eaaf3f67ab1a4dfa2881328bd4614bb005f0748d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVhYWYzZjY3YWIxYTRkZmEyODgxMzI4YmQ0NjE0YmIwMDVmMDc0OGQ=", "commit": {"author": {"name": "John Barker", "email": "jebarker@gmail.com", "date": "2013-07-08T02:26:15Z"}, "committer": {"name": "John Barker", "email": "jebarker@gmail.com", "date": "2013-07-09T13:03:16Z"}, "message": "Always eat up mut when parsing general args, fixes #7483", "tree": {"sha": "6b876a2656f4d2e00f1d8e8eb9ba736f3946e284", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b876a2656f4d2e00f1d8e8eb9ba736f3946e284"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d", "html_url": "https://github.com/rust-lang/rust/commit/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d/comments", "author": {"login": "j16r", "id": 344071, "node_id": "MDQ6VXNlcjM0NDA3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/344071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j16r", "html_url": "https://github.com/j16r", "followers_url": "https://api.github.com/users/j16r/followers", "following_url": "https://api.github.com/users/j16r/following{/other_user}", "gists_url": "https://api.github.com/users/j16r/gists{/gist_id}", "starred_url": "https://api.github.com/users/j16r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j16r/subscriptions", "organizations_url": "https://api.github.com/users/j16r/orgs", "repos_url": "https://api.github.com/users/j16r/repos", "events_url": "https://api.github.com/users/j16r/events{/privacy}", "received_events_url": "https://api.github.com/users/j16r/received_events", "type": "User", "site_admin": false}, "committer": {"login": "j16r", "id": 344071, "node_id": "MDQ6VXNlcjM0NDA3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/344071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j16r", "html_url": "https://github.com/j16r", "followers_url": "https://api.github.com/users/j16r/followers", "following_url": "https://api.github.com/users/j16r/following{/other_user}", "gists_url": "https://api.github.com/users/j16r/gists{/gist_id}", "starred_url": "https://api.github.com/users/j16r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j16r/subscriptions", "organizations_url": "https://api.github.com/users/j16r/orgs", "repos_url": "https://api.github.com/users/j16r/repos", "events_url": "https://api.github.com/users/j16r/events{/privacy}", "received_events_url": "https://api.github.com/users/j16r/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "62bb843e3239844f25faff59065fa28c59a3ffac", "url": "https://api.github.com/repos/rust-lang/rust/commits/62bb843e3239844f25faff59065fa28c59a3ffac", "html_url": "https://github.com/rust-lang/rust/commit/62bb843e3239844f25faff59065fa28c59a3ffac"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "e8e7828e4656dbabfc48004b5abfce731e7edb5c", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=eaaf3f67ab1a4dfa2881328bd4614bb005f0748d", "patch": "@@ -1074,10 +1074,9 @@ impl Parser {\n     // This version of parse arg doesn't necessarily require\n     // identifier names.\n     pub fn parse_arg_general(&self, require_name: bool) -> arg {\n-        let mut is_mutbl = false;\n+        let mut is_mutbl = self.eat_keyword(keywords::Mut);\n         let pat = if require_name || self.is_named_argument() {\n             self.parse_arg_mode();\n-            is_mutbl = self.eat_keyword(keywords::Mut);\n             let pat = self.parse_pat();\n \n             if is_mutbl && !ast_util::pat_is_ident(pat) {\n@@ -1087,6 +1086,7 @@ impl Parser {\n             self.expect(&token::COLON);\n             pat\n         } else {\n+            is_mutbl = false;\n             ast_util::ident_to_pat(self.get_id(),\n                                    *self.last_span,\n                                    special_idents::invalid)"}, {"sha": "a36f0178c157cd233ae2e4f529202338327ff4c8", "filename": "src/test/run-pass/traits-default-method-mut.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d/src%2Ftest%2Frun-pass%2Ftraits-default-method-mut.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eaaf3f67ab1a4dfa2881328bd4614bb005f0748d/src%2Ftest%2Frun-pass%2Ftraits-default-method-mut.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftraits-default-method-mut.rs?ref=eaaf3f67ab1a4dfa2881328bd4614bb005f0748d", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[allow(default_methods)];\n+\n+trait Foo {\n+    fn foo(mut v: int) { v = 1; }\n+}\n+\n+fn main() {}"}]}