{"sha": "5b0223e8c6bfe89ab3697343d5314c72c806504e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViMDIyM2U4YzZiZmU4OWFiMzY5NzM0M2Q1MzE0YzcyYzgwNjUwNGU=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-10-10T01:53:53Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-10-10T01:53:53Z"}, "message": "Reword `rustc_on_unimplemented` errors for `Iterator`\n\n - Detect one element array of `Range` type, which is potentially a typo:\n   `for _ in [0..10] {}` where iterating between `0` and `10` was intended.\n   (#23141)\n - Suggest `.bytes()` and `.chars()` for `String`.\n - Suggest borrowing or `.iter()` on arrays (#36391)\n - Suggest using range literal when iterating on integers (#34353)\n - Do not suggest `.iter()` by default (#50773, #46806)", "tree": {"sha": "357f731e2f035e66fefd0389221a74be0a737d22", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/357f731e2f035e66fefd0389221a74be0a737d22"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b0223e8c6bfe89ab3697343d5314c72c806504e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b0223e8c6bfe89ab3697343d5314c72c806504e", "html_url": "https://github.com/rust-lang/rust/commit/5b0223e8c6bfe89ab3697343d5314c72c806504e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b0223e8c6bfe89ab3697343d5314c72c806504e/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cd7c8182dd48b2562153324915ba236f3c33cc5d", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd7c8182dd48b2562153324915ba236f3c33cc5d", "html_url": "https://github.com/rust-lang/rust/commit/cd7c8182dd48b2562153324915ba236f3c33cc5d"}], "stats": {"total": 106, "additions": 64, "deletions": 42}, "files": [{"sha": "b3fa5abd1c4eb02c8ac1453d8a0c1a2275bce3f9", "filename": "src/libcore/iter/iterator.rs", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Flibcore%2Fiter%2Fiterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Flibcore%2Fiter%2Fiterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter%2Fiterator.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -30,11 +30,30 @@ fn _assert_is_object_safe(_: &dyn Iterator<Item=()>) {}\n /// [impl]: index.html#implementing-iterator\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n #[rustc_on_unimplemented(\n+    on(\n+        _Self=\"[std::ops::Range<Idx>; 1]\",\n+        label=\"if you meant to iterate between two values, remove the square brackets\",\n+        note=\"`[start..end]` is an array of one `Range`, you might have meant to have a `Range`: `start..end`\"\n+    ),\n     on(\n         _Self=\"&str\",\n         label=\"`{Self}` is not an iterator; try calling `.chars()` or `.bytes()`\"\n     ),\n-    label=\"`{Self}` is not an iterator; maybe try calling `.iter()` or a similar method\"\n+    on(\n+        _Self=\"std::string::String\",\n+        label=\"`{Self}` is not an iterator; try calling `.chars()` or `.bytes()`\"\n+    ),\n+    on(\n+        _Self=\"[]\",\n+        label=\"borrow the array with `&` or call `.iter()` on it to iterate over it\",\n+        note=\"arrays are not an iterators, but slices like the following are: `&[1, 2, 3]`\"\n+    ),\n+    on(\n+        _Self=\"{integral}\",\n+        note=\"if you want to iterate between `0` until a value `end`, use the range syntax: `0..end`\"\n+    ),\n+    label=\"`{Self}` is not an iterator\",\n+    message=\"`{Self}` is not an iterator\"\n )]\n #[doc(spotlight)]\n pub trait Iterator {"}, {"sha": "8554b346beb28490f668518e833905187dcc2826", "filename": "src/test/ui/conservative_impl_trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fconservative_impl_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fconservative_impl_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconservative_impl_trait.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -11,7 +11,7 @@\n // #39872, #39553\n \n fn will_ice(something: &u32) -> impl Iterator<Item = &u32> {\n-    //~^ ERROR the trait bound `(): std::iter::Iterator` is not satisfied [E0277]\n+    //~^ ERROR `()` is not an iterator\n }\n \n fn main() {}"}, {"sha": "cfa4618566ef1cea057b3b1df1972be7749ed427", "filename": "src/test/ui/conservative_impl_trait.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fconservative_impl_trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fconservative_impl_trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconservative_impl_trait.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -1,8 +1,8 @@\n-error[E0277]: the trait bound `(): std::iter::Iterator` is not satisfied\n+error[E0277]: `()` is not an iterator\n   --> $DIR/conservative_impl_trait.rs:13:33\n    |\n LL | fn will_ice(something: &u32) -> impl Iterator<Item = &u32> {\n-   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^ `()` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^ `()` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `()`\n    = note: the return type of a function must have a statically known size"}, {"sha": "a37980d0d5122afe606304fa50ddd611b877ce86", "filename": "src/test/ui/feature-gates/feature-gate-trivial_bounds.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-trivial_bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-trivial_bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-trivial_bounds.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -75,15 +75,16 @@ LL | | }\n    = help: see issue #48214\n    = help: add #![feature(trivial_bounds)] to the crate attributes to enable\n \n-error[E0277]: the trait bound `i32: std::iter::Iterator` is not satisfied\n+error[E0277]: `i32` is not an iterator\n   --> $DIR/feature-gate-trivial_bounds.rs:50:1\n    |\n LL | / fn use_for() where i32: Iterator { //~ ERROR\n LL | |     for _ in 2i32 {}\n LL | | }\n-   | |_^ `i32` is not an iterator; maybe try calling `.iter()` or a similar method\n+   | |_^ `i32` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `i32`\n+   = note: if you want to iterate between `0` until a value `end`, use the range syntax: `0..end`\n    = help: see issue #48214\n    = help: add #![feature(trivial_bounds)] to the crate attributes to enable\n "}, {"sha": "83ec6c2db9b806c90f809659b5f92b52fb90754f", "filename": "src/test/ui/for/for-c-in-str.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-c-in-str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-c-in-str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffor%2Ffor-c-in-str.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -12,7 +12,7 @@\n \n fn main() {\n     for c in \"asdf\" {\n-    //~^ ERROR the trait bound `&str: std::iter::Iterator` is not satisfied\n+    //~^ ERROR `&str` is not an iterator\n     //~| NOTE `&str` is not an iterator\n     //~| HELP the trait `std::iter::Iterator` is not implemented for `&str`\n     //~| NOTE required by `std::iter::IntoIterator::into_iter`"}, {"sha": "d3db935166eb4e5f99fff2d4d37586ce628e5cd2", "filename": "src/test/ui/for/for-c-in-str.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-c-in-str.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-c-in-str.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffor%2Ffor-c-in-str.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -1,4 +1,4 @@\n-error[E0277]: the trait bound `&str: std::iter::Iterator` is not satisfied\n+error[E0277]: `&str` is not an iterator\n   --> $DIR/for-c-in-str.rs:14:14\n    |\n LL |     for c in \"asdf\" {"}, {"sha": "b54d445ae37f0f645ddda32ab8a87ebdb64ce33c", "filename": "src/test/ui/for/for-loop-bogosity.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-loop-bogosity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-loop-bogosity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffor%2Ffor-loop-bogosity.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -24,7 +24,8 @@ pub fn main() {\n         x: 1,\n         y: 2,\n     };\n-    for x in bogus { //~ ERROR `MyStruct: std::iter::Iterator` is not satisfied\n+    for x in bogus {\n+    //~^ ERROR `MyStruct` is not an iterator\n         drop(x);\n     }\n }"}, {"sha": "1aaf12c5da029277d87b3e3a9a811f95b3cda62d", "filename": "src/test/ui/for/for-loop-bogosity.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-loop-bogosity.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Ffor%2Ffor-loop-bogosity.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffor%2Ffor-loop-bogosity.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -1,8 +1,8 @@\n-error[E0277]: the trait bound `MyStruct: std::iter::Iterator` is not satisfied\n+error[E0277]: `MyStruct` is not an iterator\n   --> $DIR/for-loop-bogosity.rs:27:14\n    |\n-LL |     for x in bogus { //~ ERROR `MyStruct: std::iter::Iterator` is not satisfied\n-   |              ^^^^^ `MyStruct` is not an iterator; maybe try calling `.iter()` or a similar method\n+LL |     for x in bogus {\n+   |              ^^^^^ `MyStruct` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `MyStruct`\n    = note: required by `std::iter::IntoIterator::into_iter`"}, {"sha": "11990c34fbae44ac1a4501b2bf47421228204501", "filename": "src/test/ui/issues/issue-28098.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-28098.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-28098.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-28098.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -10,13 +10,13 @@\n \n fn main() {\n     let _ = Iterator::next(&mut ());\n-    //~^ ERROR `(): std::iter::Iterator` is not satisfied\n+    //~^ ERROR `()` is not an iterator\n \n     for _ in false {}\n-    //~^ ERROR `bool: std::iter::Iterator` is not satisfied\n+    //~^ ERROR `bool` is not an iterator\n \n     let _ = Iterator::next(&mut ());\n-    //~^ ERROR `(): std::iter::Iterator` is not satisfied\n+    //~^ ERROR `()` is not an iterator\n \n     other()\n }\n@@ -25,11 +25,11 @@ pub fn other() {\n     // check errors are still reported globally\n \n     let _ = Iterator::next(&mut ());\n-    //~^ ERROR `(): std::iter::Iterator` is not satisfied\n+    //~^ ERROR `()` is not an iterator\n \n     let _ = Iterator::next(&mut ());\n-    //~^ ERROR `(): std::iter::Iterator` is not satisfied\n+    //~^ ERROR `()` is not an iterator\n \n     for _ in false {}\n-    //~^ ERROR `bool: std::iter::Iterator` is not satisfied\n+    //~^ ERROR `bool` is not an iterator\n }"}, {"sha": "c7537065b32b6adae4abe98d52062a0a4d667930", "filename": "src/test/ui/issues/issue-28098.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-28098.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-28098.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-28098.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -1,53 +1,53 @@\n-error[E0277]: the trait bound `(): std::iter::Iterator` is not satisfied\n+error[E0277]: `()` is not an iterator\n   --> $DIR/issue-28098.rs:12:13\n    |\n LL |     let _ = Iterator::next(&mut ());\n-   |             ^^^^^^^^^^^^^^ `()` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |             ^^^^^^^^^^^^^^ `()` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `()`\n    = note: required by `std::iter::Iterator::next`\n \n-error[E0277]: the trait bound `bool: std::iter::Iterator` is not satisfied\n+error[E0277]: `bool` is not an iterator\n   --> $DIR/issue-28098.rs:15:14\n    |\n LL |     for _ in false {}\n-   |              ^^^^^ `bool` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |              ^^^^^ `bool` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `bool`\n    = note: required by `std::iter::IntoIterator::into_iter`\n \n-error[E0277]: the trait bound `(): std::iter::Iterator` is not satisfied\n+error[E0277]: `()` is not an iterator\n   --> $DIR/issue-28098.rs:18:13\n    |\n LL |     let _ = Iterator::next(&mut ());\n-   |             ^^^^^^^^^^^^^^ `()` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |             ^^^^^^^^^^^^^^ `()` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `()`\n    = note: required by `std::iter::Iterator::next`\n \n-error[E0277]: the trait bound `(): std::iter::Iterator` is not satisfied\n+error[E0277]: `()` is not an iterator\n   --> $DIR/issue-28098.rs:27:13\n    |\n LL |     let _ = Iterator::next(&mut ());\n-   |             ^^^^^^^^^^^^^^ `()` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |             ^^^^^^^^^^^^^^ `()` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `()`\n    = note: required by `std::iter::Iterator::next`\n \n-error[E0277]: the trait bound `(): std::iter::Iterator` is not satisfied\n+error[E0277]: `()` is not an iterator\n   --> $DIR/issue-28098.rs:30:13\n    |\n LL |     let _ = Iterator::next(&mut ());\n-   |             ^^^^^^^^^^^^^^ `()` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |             ^^^^^^^^^^^^^^ `()` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `()`\n    = note: required by `std::iter::Iterator::next`\n \n-error[E0277]: the trait bound `bool: std::iter::Iterator` is not satisfied\n+error[E0277]: `bool` is not an iterator\n   --> $DIR/issue-28098.rs:33:14\n    |\n LL |     for _ in false {}\n-   |              ^^^^^ `bool` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |              ^^^^^ `bool` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `bool`\n    = note: required by `std::iter::IntoIterator::into_iter`"}, {"sha": "565ba8dd4de45259d7ffc4de5ca7c6ae743de0ad", "filename": "src/test/ui/issues/issue-50480.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-50480.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-50480.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50480.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -12,6 +12,6 @@\n //~^ ERROR the trait `Copy` may not be implemented for this type\n struct Foo(NotDefined, <i32 as Iterator>::Item, Vec<i32>, String);\n //~^ ERROR cannot find type `NotDefined` in this scope\n-//~| ERROR the trait bound `i32: std::iter::Iterator` is not satisfied\n+//~| ERROR `i32` is not an iterator\n \n fn main() {}"}, {"sha": "672484f401a2fcb45405607e108ffe3262d66eb2", "filename": "src/test/ui/issues/issue-50480.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-50480.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fissues%2Fissue-50480.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-50480.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -4,13 +4,14 @@ error[E0412]: cannot find type `NotDefined` in this scope\n LL | struct Foo(NotDefined, <i32 as Iterator>::Item, Vec<i32>, String);\n    |            ^^^^^^^^^^ not found in this scope\n \n-error[E0277]: the trait bound `i32: std::iter::Iterator` is not satisfied\n+error[E0277]: `i32` is not an iterator\n   --> $DIR/issue-50480.rs:13:24\n    |\n LL | struct Foo(NotDefined, <i32 as Iterator>::Item, Vec<i32>, String);\n-   |                        ^^^^^^^^^^^^^^^^^^^^^^^ `i32` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |                        ^^^^^^^^^^^^^^^^^^^^^^^ `i32` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `i32`\n+   = note: if you want to iterate between `0` until a value `end`, use the range syntax: `0..end`\n \n error[E0204]: the trait `Copy` may not be implemented for this type\n   --> $DIR/issue-50480.rs:11:17"}, {"sha": "d7c80a677a5e13d334ca4a98d7e457e04dcc63b7", "filename": "src/test/ui/suggestions/suggest-remove-refs-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-1.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -12,7 +12,7 @@ fn main() {\n     let v = vec![0, 1, 2, 3];\n \n     for (i, n) in &v.iter().enumerate() {\n-        //~^ ERROR the trait bound\n+        //~^ ERROR `&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n         println!(\"{}\", i);\n     }\n }"}, {"sha": "1fc661efd91f4b7f9bdffa01771e6b4d9a1d6f8f", "filename": "src/test/ui/suggestions/suggest-remove-refs-1.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-1.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -1,10 +1,10 @@\n-error[E0277]: the trait bound `&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>: std::iter::Iterator` is not satisfied\n+error[E0277]: `&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n   --> $DIR/suggest-remove-refs-1.rs:14:19\n    |\n LL |     for (i, n) in &v.iter().enumerate() {\n    |                   -^^^^^^^^^^^^^^^^^^^^\n    |                   |\n-   |                   `&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |                   `&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n    |                   help: consider removing 1 leading `&`-references\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>`"}, {"sha": "37af97323d5980b8c7d2c00a2179aa4be94df74a", "filename": "src/test/ui/suggestions/suggest-remove-refs-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-2.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -12,7 +12,7 @@ fn main() {\n     let v = vec![0, 1, 2, 3];\n \n     for (i, n) in & & & & &v.iter().enumerate() {\n-        //~^ ERROR the trait bound\n+        //~^ ERROR `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n         println!(\"{}\", i);\n     }\n }"}, {"sha": "96c6c92d59baa94a356c17fac1267baa33e50691", "filename": "src/test/ui/suggestions/suggest-remove-refs-2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-2.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -1,10 +1,10 @@\n-error[E0277]: the trait bound `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>: std::iter::Iterator` is not satisfied\n+error[E0277]: `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n   --> $DIR/suggest-remove-refs-2.rs:14:19\n    |\n LL |     for (i, n) in & & & & &v.iter().enumerate() {\n    |                   ---------^^^^^^^^^^^^^^^^^^^^\n    |                   |\n-   |                   `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator; maybe try calling `.iter()` or a similar method\n+   |                   `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n    |                   help: consider removing 5 leading `&`-references\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>`"}, {"sha": "c9dff35f92c0b860f1f24fa76bb041a70251998b", "filename": "src/test/ui/suggestions/suggest-remove-refs-3.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-3.rs?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -15,7 +15,7 @@ fn main() {\n         & &v\n         .iter()\n         .enumerate() {\n-        //~^^^^ ERROR the trait bound\n+        //~^^^^ ERROR `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an\n         println!(\"{}\", i);\n     }\n }"}, {"sha": "4311c432b41d35a82f74a6caaaa6da91150087ad", "filename": "src/test/ui/suggestions/suggest-remove-refs-3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5b0223e8c6bfe89ab3697343d5314c72c806504e/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-remove-refs-3.stderr?ref=5b0223e8c6bfe89ab3697343d5314c72c806504e", "patch": "@@ -1,4 +1,4 @@\n-error[E0277]: the trait bound `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>: std::iter::Iterator` is not satisfied\n+error[E0277]: `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n   --> $DIR/suggest-remove-refs-3.rs:14:19\n    |\n LL |        for (i, n) in & & &\n@@ -9,7 +9,7 @@ LL | ||         & &v\n    | ||___________- help: consider removing 5 leading `&`-references\n LL | |          .iter()\n LL | |          .enumerate() {\n-   | |_____________________^ `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator; maybe try calling `.iter()` or a similar method\n+   | |_____________________^ `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>` is not an iterator\n    |\n    = help: the trait `std::iter::Iterator` is not implemented for `&&&&&std::iter::Enumerate<std::slice::Iter<'_, {integer}>>`\n    = note: required by `std::iter::IntoIterator::into_iter`"}]}