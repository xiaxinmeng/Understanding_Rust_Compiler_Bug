{"sha": "87cd53e63f4677d5bf4a542162449bc278b0aaa0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg3Y2Q1M2U2M2Y0Njc3ZDViZjRhNTQyMTYyNDQ5YmMyNzhiMGFhYTA=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-04-16T17:51:04Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-04-16T19:34:33Z"}, "message": "Rollup merge of #49965 - nikic:fix-49622, r=rkruppe\n\nRemove warning about f64->f32 cast being potential UB\n\nAs discussed in #15536, the LLVM documentation incorrect described overflowing f64->f32 casts as being undefined behavior. LLVM never treated them as such, and the documentation has been adjusted in https://reviews.llvm.org/rL329065. As such, this warning can now be removed.\n\nCloses #49622.\n\n---\n\nI could not find any existing test checking for this warning. Should I be adding a test for the absence of the warning instead?", "tree": {"sha": "9cf04c22f935c6adba30d13d7b678203ba12427c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9cf04c22f935c6adba30d13d7b678203ba12427c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/87cd53e63f4677d5bf4a542162449bc278b0aaa0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlrU+skACgkQ/vbIBR0O\nATxiGA//atwTO1a71Kg1IVyYm+hZVKqJHYxJ5uCt6UAgwUrIeDMWyEfbS1uyF1SI\n9SvfPUaXB4m6kmUwN4dfX4OWLtot2MYQqpzhuD140nQEhU1AAVaYTLG5/Lrw9XnN\nIfYTblLOQpqtLApLvU7qVDzemHNTTUyaHqoqlmCZUbsdsINLUQWP6F25dfnvf94J\nplYJXFr+JtqQ3EjNfEy667QLI2bl3W2qCm3LfVCp2ebwYauNLeN5GLeBol/+261+\n7ggM85hYFlv6lg/x+x3d1479v4yCOaCwMq/LeRK4m7wBEk8Cr8ZaFY2+GYtfxt1r\ntqZLVl1JW83qtEy/uQfRGKMJF/uFJ6KrA6GNmnjI9Erk+mYlUqTS/hIKyEGZ9JAY\n81pi8OkJ7tScb3sIw9g+d/CfgSqsdVOgvNLvz/asVm+oe7TN0dybebOcaBD5+s+4\n/rBM/yUVP4vjRN0oc2vcd6k6zVXFg+eo9WTwSh1OMkyKsjKV8rzaGuQq0QcCepcS\nlzj1fDLAj9S+k2sz1kp5Z0Gp3Ker8ogIrF+h+0TA1ymuY+8nxvmPBvrIQgKCNzEa\ntiaP+a21zNzCr/75FbUzMWwLFKfpConqP8TLVW5n46E+jm1ycCcNsVhbzipgkGys\nhBJRel0BrByWLO4IXCeDUEYlVJAPgnI6vZeQwP+kwHhkdvEDo8E=\n=sScj\n-----END PGP SIGNATURE-----", "payload": "tree 9cf04c22f935c6adba30d13d7b678203ba12427c\nparent 34ee31d6f2b7d7003ef8f623cd2c0b1fc1e010bb\nparent cbabb1be329b80f012223b230384cba8134820f6\nauthor kennytm <kennytm@gmail.com> 1523901064 +0800\ncommitter kennytm <kennytm@gmail.com> 1523907273 +0800\n\nRollup merge of #49965 - nikic:fix-49622, r=rkruppe\n\nRemove warning about f64->f32 cast being potential UB\n\nAs discussed in #15536, the LLVM documentation incorrect described overflowing f64->f32 casts as being undefined behavior. LLVM never treated them as such, and the documentation has been adjusted in https://reviews.llvm.org/rL329065. As such, this warning can now be removed.\n\nCloses #49622.\n\n---\n\nI could not find any existing test checking for this warning. Should I be adding a test for the absence of the warning instead?\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/87cd53e63f4677d5bf4a542162449bc278b0aaa0", "html_url": "https://github.com/rust-lang/rust/commit/87cd53e63f4677d5bf4a542162449bc278b0aaa0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/87cd53e63f4677d5bf4a542162449bc278b0aaa0/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "34ee31d6f2b7d7003ef8f623cd2c0b1fc1e010bb", "url": "https://api.github.com/repos/rust-lang/rust/commits/34ee31d6f2b7d7003ef8f623cd2c0b1fc1e010bb", "html_url": "https://github.com/rust-lang/rust/commit/34ee31d6f2b7d7003ef8f623cd2c0b1fc1e010bb"}, {"sha": "cbabb1be329b80f012223b230384cba8134820f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/cbabb1be329b80f012223b230384cba8134820f6", "html_url": "https://github.com/rust-lang/rust/commit/cbabb1be329b80f012223b230384cba8134820f6"}], "stats": {"total": 4, "additions": 0, "deletions": 4}, "files": [{"sha": "c0d6993c7d4dde1c133d3e11257dc3f5ce7951ae", "filename": "src/librustc_typeck/check/demand.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/87cd53e63f4677d5bf4a542162449bc278b0aaa0/src%2Flibrustc_typeck%2Fcheck%2Fdemand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87cd53e63f4677d5bf4a542162449bc278b0aaa0/src%2Flibrustc_typeck%2Fcheck%2Fdemand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fdemand.rs?ref=87cd53e63f4677d5bf4a542162449bc278b0aaa0", "patch": "@@ -502,10 +502,6 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n                                             &format!(\"{}, producing the closest possible value\",\n                                                      msg),\n                                             cast_suggestion);\n-                        err.warn(\"casting here will cause undefined behavior if the value is \\\n-                                  finite but larger or smaller than the largest or smallest \\\n-                                  finite value representable by `f32` (this is a bug and will be \\\n-                                  fixed)\");\n                     }\n                     true\n                 }"}]}