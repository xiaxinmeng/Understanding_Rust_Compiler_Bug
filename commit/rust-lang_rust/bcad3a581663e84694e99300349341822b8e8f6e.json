{"sha": "bcad3a581663e84694e99300349341822b8e8f6e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJjYWQzYTU4MTY2M2U4NDY5NGU5OTMwMDM0OTM0MTgyMmI4ZThmNmU=", "commit": {"author": {"name": "Peter Atashian", "email": "retep998@gmail.com", "date": "2014-09-13T05:13:38Z"}, "committer": {"name": "Peter Atashian", "email": "retep998@gmail.com", "date": "2014-09-13T05:13:59Z"}, "message": "Improve memory usage of libsyntax\nReplaces some usage of `.to_string()` with `.into_string()`\n\nSigned-off-by: Peter Atashian <retep998@gmail.com>", "tree": {"sha": "a59a04d785c6cfdeb361c79e6758c279e9fcea9d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a59a04d785c6cfdeb361c79e6758c279e9fcea9d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bcad3a581663e84694e99300349341822b8e8f6e", "comment_count": 9, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bcad3a581663e84694e99300349341822b8e8f6e", "html_url": "https://github.com/rust-lang/rust/commit/bcad3a581663e84694e99300349341822b8e8f6e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bcad3a581663e84694e99300349341822b8e8f6e/comments", "author": {"login": "retep998", "id": 666308, "node_id": "MDQ6VXNlcjY2NjMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retep998", "html_url": "https://github.com/retep998", "followers_url": "https://api.github.com/users/retep998/followers", "following_url": "https://api.github.com/users/retep998/following{/other_user}", "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}", "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retep998/subscriptions", "organizations_url": "https://api.github.com/users/retep998/orgs", "repos_url": "https://api.github.com/users/retep998/repos", "events_url": "https://api.github.com/users/retep998/events{/privacy}", "received_events_url": "https://api.github.com/users/retep998/received_events", "type": "User", "site_admin": false}, "committer": {"login": "retep998", "id": 666308, "node_id": "MDQ6VXNlcjY2NjMwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/666308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/retep998", "html_url": "https://github.com/retep998", "followers_url": "https://api.github.com/users/retep998/followers", "following_url": "https://api.github.com/users/retep998/following{/other_user}", "gists_url": "https://api.github.com/users/retep998/gists{/gist_id}", "starred_url": "https://api.github.com/users/retep998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/retep998/subscriptions", "organizations_url": "https://api.github.com/users/retep998/orgs", "repos_url": "https://api.github.com/users/retep998/repos", "events_url": "https://api.github.com/users/retep998/events{/privacy}", "received_events_url": "https://api.github.com/users/retep998/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8780d9c6b5abce83089ca1dafb7efd178569a052", "url": "https://api.github.com/repos/rust-lang/rust/commits/8780d9c6b5abce83089ca1dafb7efd178569a052", "html_url": "https://github.com/rust-lang/rust/commit/8780d9c6b5abce83089ca1dafb7efd178569a052"}], "stats": {"total": 84, "additions": 42, "deletions": 42}, "files": [{"sha": "c14cd0e001a12ab75e66f0357c14d9342fa9705d", "filename": "src/libsyntax/parse/token.rs", "status": "modified", "additions": 41, "deletions": 41, "changes": 82, "blob_url": "https://github.com/rust-lang/rust/blob/bcad3a581663e84694e99300349341822b8e8f6e/src%2Flibsyntax%2Fparse%2Ftoken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bcad3a581663e84694e99300349341822b8e8f6e/src%2Flibsyntax%2Fparse%2Ftoken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Ftoken.rs?ref=bcad3a581663e84694e99300349341822b8e8f6e", "patch": "@@ -165,45 +165,45 @@ pub fn binop_to_string(o: BinOp) -> &'static str {\n \n pub fn to_string(t: &Token) -> String {\n     match *t {\n-      EQ => \"=\".to_string(),\n-      LT => \"<\".to_string(),\n-      LE => \"<=\".to_string(),\n-      EQEQ => \"==\".to_string(),\n-      NE => \"!=\".to_string(),\n-      GE => \">=\".to_string(),\n-      GT => \">\".to_string(),\n-      NOT => \"!\".to_string(),\n-      TILDE => \"~\".to_string(),\n-      OROR => \"||\".to_string(),\n-      ANDAND => \"&&\".to_string(),\n-      BINOP(op) => binop_to_string(op).to_string(),\n+      EQ => \"=\".into_string(),\n+      LT => \"<\".into_string(),\n+      LE => \"<=\".into_string(),\n+      EQEQ => \"==\".into_string(),\n+      NE => \"!=\".into_string(),\n+      GE => \">=\".into_string(),\n+      GT => \">\".into_string(),\n+      NOT => \"!\".into_string(),\n+      TILDE => \"~\".into_string(),\n+      OROR => \"||\".into_string(),\n+      ANDAND => \"&&\".into_string(),\n+      BINOP(op) => binop_to_string(op).into_string(),\n       BINOPEQ(op) => {\n-          let mut s = binop_to_string(op).to_string();\n+          let mut s = binop_to_string(op).into_string();\n           s.push_str(\"=\");\n           s\n       }\n \n       /* Structural symbols */\n-      AT => \"@\".to_string(),\n-      DOT => \".\".to_string(),\n-      DOTDOT => \"..\".to_string(),\n-      DOTDOTDOT => \"...\".to_string(),\n-      COMMA => \",\".to_string(),\n-      SEMI => \";\".to_string(),\n-      COLON => \":\".to_string(),\n-      MOD_SEP => \"::\".to_string(),\n-      RARROW => \"->\".to_string(),\n-      LARROW => \"<-\".to_string(),\n-      FAT_ARROW => \"=>\".to_string(),\n-      LPAREN => \"(\".to_string(),\n-      RPAREN => \")\".to_string(),\n-      LBRACKET => \"[\".to_string(),\n-      RBRACKET => \"]\".to_string(),\n-      LBRACE => \"{\".to_string(),\n-      RBRACE => \"}\".to_string(),\n-      POUND => \"#\".to_string(),\n-      DOLLAR => \"$\".to_string(),\n-      QUESTION => \"?\".to_string(),\n+      AT => \"@\".into_string(),\n+      DOT => \".\".into_string(),\n+      DOTDOT => \"..\".into_string(),\n+      DOTDOTDOT => \"...\".into_string(),\n+      COMMA => \",\".into_string(),\n+      SEMI => \";\".into_string(),\n+      COLON => \":\".into_string(),\n+      MOD_SEP => \"::\".into_string(),\n+      RARROW => \"->\".into_string(),\n+      LARROW => \"<-\".into_string(),\n+      FAT_ARROW => \"=>\".into_string(),\n+      LPAREN => \"(\".into_string(),\n+      RPAREN => \")\".into_string(),\n+      LBRACKET => \"[\".into_string(),\n+      RBRACKET => \"]\".into_string(),\n+      LBRACE => \"{\".into_string(),\n+      RBRACE => \"}\".into_string(),\n+      POUND => \"#\".into_string(),\n+      DOLLAR => \"$\".into_string(),\n+      QUESTION => \"?\".into_string(),\n \n       /* Literals */\n       LIT_BYTE(b) => {\n@@ -213,7 +213,7 @@ pub fn to_string(t: &Token) -> String {\n           format!(\"'{}'\", c.as_str())\n       }\n       LIT_INTEGER(c) | LIT_FLOAT(c) => {\n-          c.as_str().to_string()\n+          c.as_str().into_string()\n       }\n \n       LIT_STR(s) => {\n@@ -232,17 +232,17 @@ pub fn to_string(t: &Token) -> String {\n       }\n \n       /* Name components */\n-      IDENT(s, _) => get_ident(s).get().to_string(),\n+      IDENT(s, _) => get_ident(s).get().into_string(),\n       LIFETIME(s) => {\n           format!(\"{}\", get_ident(s))\n       }\n-      UNDERSCORE => \"_\".to_string(),\n+      UNDERSCORE => \"_\".into_string(),\n \n       /* Other */\n-      DOC_COMMENT(s) => s.as_str().to_string(),\n-      EOF => \"<eof>\".to_string(),\n-      WS => \" \".to_string(),\n-      COMMENT => \"/* */\".to_string(),\n+      DOC_COMMENT(s) => s.as_str().into_string(),\n+      EOF => \"<eof>\".into_string(),\n+      WS => \" \".into_string(),\n+      COMMENT => \"/* */\".into_string(),\n       SHEBANG(s) => format!(\"/* shebang: {}*/\", s.as_str()),\n \n       INTERPOLATED(ref nt) => {\n@@ -252,7 +252,7 @@ pub fn to_string(t: &Token) -> String {\n             &NtTy(ref e) => ::print::pprust::ty_to_string(&**e),\n             &NtPath(ref e) => ::print::pprust::path_to_string(&**e),\n             _ => {\n-                let mut s = \"an interpolated \".to_string();\n+                let mut s = \"an interpolated \".into_string();\n                 match *nt {\n                     NtItem(..) => s.push_str(\"item\"),\n                     NtBlock(..) => s.push_str(\"block\"),"}, {"sha": "a919b3ce90338375c96a60b5f80bd8902d48d7f1", "filename": "src/libsyntax/util/interner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bcad3a581663e84694e99300349341822b8e8f6e/src%2Flibsyntax%2Futil%2Finterner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bcad3a581663e84694e99300349341822b8e8f6e/src%2Flibsyntax%2Futil%2Finterner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Futil%2Finterner.rs?ref=bcad3a581663e84694e99300349341822b8e8f6e", "patch": "@@ -121,7 +121,7 @@ impl fmt::Show for RcStr {\n impl RcStr {\n     pub fn new(string: &str) -> RcStr {\n         RcStr {\n-            string: Rc::new(string.to_string()),\n+            string: Rc::new(string.into_string()),\n         }\n     }\n }"}]}