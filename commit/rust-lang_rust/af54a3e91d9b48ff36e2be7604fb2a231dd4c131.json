{"sha": "af54a3e91d9b48ff36e2be7604fb2a231dd4c131", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmNTRhM2U5MWQ5YjQ4ZmYzNmUyYmU3NjA0ZmIyYTIzMWRkNGMxMzE=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-10-13T11:34:42Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-13T11:34:42Z"}, "message": "Rollup merge of #65359 - Centril:sil, r=davidtwco\n\nsimplify integer_lit\n\nExtracted from https://github.com/rust-lang/rust/pull/65324.\n\nr? @davidtwco", "tree": {"sha": "68ed7e2db280f99b6ef81506feb74e6ea981b361", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/68ed7e2db280f99b6ef81506feb74e6ea981b361"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af54a3e91d9b48ff36e2be7604fb2a231dd4c131", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdowvTCRBK7hj4Ov3rIwAAdHIIAKNN3VRShgJqb4epWIzxv+U6\nkdQtj8b/s7keBnzEK/+9ZueKx4F8WQA+ByjtkmRq+jeb6R01xsjKdWVVsSo1/2oQ\n2BPl71Pa2tFKIa41Sf01cJKbSIp6ehWRptcJ4A0I1CfmCvSN+xq584+Nf/Bj4FEK\nF7md9WOLLLQF4e/LKyvpdeVhReGFwVQPoRowxEiet9ExdH3jAkJghLIkfFTlfZad\nXSVsaieeS9RRZJWTQ93f+IWBNpvgwnM6sIrvpB6fYJIvHd187l09C60tLigy4lvJ\nsUZME6zmI8cLLas+Y6xuScGe+FtxzWQJwoE70fPR65CLA8eGO+96FEG5yoJ49Qg=\n=QvC2\n-----END PGP SIGNATURE-----\n", "payload": "tree 68ed7e2db280f99b6ef81506feb74e6ea981b361\nparent 5af528a03a0731651c303b9021c15fcb6404beba\nparent 7effe633b0a729b641c7b8f1f8a21b97f9154b14\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1570966482 +0200\ncommitter GitHub <noreply@github.com> 1570966482 +0200\n\nRollup merge of #65359 - Centril:sil, r=davidtwco\n\nsimplify integer_lit\n\nExtracted from https://github.com/rust-lang/rust/pull/65324.\n\nr? @davidtwco\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af54a3e91d9b48ff36e2be7604fb2a231dd4c131", "html_url": "https://github.com/rust-lang/rust/commit/af54a3e91d9b48ff36e2be7604fb2a231dd4c131", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af54a3e91d9b48ff36e2be7604fb2a231dd4c131/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5af528a03a0731651c303b9021c15fcb6404beba", "url": "https://api.github.com/repos/rust-lang/rust/commits/5af528a03a0731651c303b9021c15fcb6404beba", "html_url": "https://github.com/rust-lang/rust/commit/5af528a03a0731651c303b9021c15fcb6404beba"}, {"sha": "7effe633b0a729b641c7b8f1f8a21b97f9154b14", "url": "https://api.github.com/repos/rust-lang/rust/commits/7effe633b0a729b641c7b8f1f8a21b97f9154b14", "html_url": "https://github.com/rust-lang/rust/commit/7effe633b0a729b641c7b8f1f8a21b97f9154b14"}], "stats": {"total": 16, "additions": 7, "deletions": 9}, "files": [{"sha": "09a47795a822a89a96ee8a0181ce7d68821e003d", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/af54a3e91d9b48ff36e2be7604fb2a231dd4c131/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af54a3e91d9b48ff36e2be7604fb2a231dd4c131/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=af54a3e91d9b48ff36e2be7604fb2a231dd4c131", "patch": "@@ -17,6 +17,7 @@\n #![feature(proc_macro_internals)]\n #![feature(proc_macro_span)]\n #![feature(try_trait)]\n+#![feature(slice_patterns)]\n #![feature(unicode_internals)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "56a79bfe5d51cc24e525805cac1a5b953daa737c", "filename": "src/libsyntax/parse/literal.rs", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/af54a3e91d9b48ff36e2be7604fb2a231dd4c131/src%2Flibsyntax%2Fparse%2Fliteral.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af54a3e91d9b48ff36e2be7604fb2a231dd4c131/src%2Flibsyntax%2Fparse%2Fliteral.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fliteral.rs?ref=af54a3e91d9b48ff36e2be7604fb2a231dd4c131", "patch": "@@ -426,15 +426,12 @@ fn integer_lit(symbol: Symbol, suffix: Option<Symbol>) -> Result<LitKind, LitErr\n     let symbol = strip_underscores(symbol);\n     let s = symbol.as_str();\n \n-    let mut base = 10;\n-    if s.len() > 1 && s.as_bytes()[0] == b'0' {\n-        match s.as_bytes()[1] {\n-            b'x' => base = 16,\n-            b'o' => base = 8,\n-            b'b' => base = 2,\n-            _ => {}\n-        }\n-    }\n+    let base = match s.as_bytes() {\n+        [b'0', b'x', ..] => 16,\n+        [b'0', b'o', ..] => 8,\n+        [b'0', b'b', ..] => 2,\n+        _ => 10,\n+    };\n \n     let ty = match suffix {\n         Some(suf) => match suf {"}]}