{"sha": "581da523db1883247bd16f09a12ce9e480003dbd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4MWRhNTIzZGIxODgzMjQ3YmQxNmYwOWExMmNlOWU0ODAwMDNkYmQ=", "commit": {"author": {"name": "Caleb Cartwright", "email": "caleb.cartwright@outlook.com", "date": "2020-11-21T01:06:23Z"}, "committer": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2020-11-28T23:41:21Z"}, "message": "deps: bump rustc-ap to v687", "tree": {"sha": "363efc33daa60c29f232cb548792b7ba381c4fad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/363efc33daa60c29f232cb548792b7ba381c4fad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/581da523db1883247bd16f09a12ce9e480003dbd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/581da523db1883247bd16f09a12ce9e480003dbd", "html_url": "https://github.com/rust-lang/rust/commit/581da523db1883247bd16f09a12ce9e480003dbd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/581da523db1883247bd16f09a12ce9e480003dbd/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "003786228d65135b9bae20a260caefc0248eb375", "url": "https://api.github.com/repos/rust-lang/rust/commits/003786228d65135b9bae20a260caefc0248eb375", "html_url": "https://github.com/rust-lang/rust/commit/003786228d65135b9bae20a260caefc0248eb375"}], "stats": {"total": 114, "additions": 64, "deletions": 50}, "files": [{"sha": "d61421eb66d9cf3d0a583b2690a8459a0308783a", "filename": "Cargo.lock", "status": "modified", "additions": 54, "deletions": 38, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/581da523db1883247bd16f09a12ce9e480003dbd/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/581da523db1883247bd16f09a12ce9e480003dbd/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=581da523db1883247bd16f09a12ce9e480003dbd", "patch": "@@ -889,18 +889,18 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_arena\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"477085eefed2f12085c68577cc3827c8c39a31a4a750978aacb9af10f7903174\"\n+checksum = \"d9548efd0207ba77afed061282bfc77dce9ffc4f416fa8cefcdea45412e7077b\"\n dependencies = [\n  \"smallvec\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_ast\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4d4ad5ec25f6b3d122354595be0d1b513f37fca3299d9b448b1db28f4a9e4b12\"\n+checksum = \"253544514f2396fb2f496c447318ebe5c5b2f9063a8513a98dc5688fd06a42ef\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_data_structures\",\n@@ -915,9 +915,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_ast_passes\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0c6d8635298d7736decdb3c6e92e784d3eccde557462a9c10ac11a34fec3d756\"\n+checksum = \"024fb10af71ff71c99f3a55e10ffdb2530012928296e1c348c656e982dbb4e64\"\n dependencies = [\n  \"itertools 0.9.0\",\n  \"rustc-ap-rustc_ast\",\n@@ -934,9 +934,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_ast_pretty\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7a61bdb5252e1a95b7715038949e10f07ce770a436fcd497cdd9bc7255471de9\"\n+checksum = \"c4dee265aca1ab9be8aace2da5a61eda9d78ff40058c83a0e5b6730bc9e761f9\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_span\",\n@@ -946,9 +946,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_attr\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"84520a16cb61bd31e9c27e87eca5d933a9c94ac84f25649bddcc19989275ab2a\"\n+checksum = \"d23bc65cb684abc717e4c098413d20e421af066507ee1b6f2b9321898d6ce777\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_ast_pretty\",\n@@ -965,9 +965,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_data_structures\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b1cb2b6a38759cf7c0c1434c8b4cbfcab9cd24970d05f960f2ca01226ddb4d68\"\n+checksum = \"4927c77def1139bab23e23c6b6ebfa701a2dcbaf13729edbe6d802f61c5621c4\"\n dependencies = [\n  \"arrayvec 0.5.1\",\n  \"bitflags\",\n@@ -996,13 +996,14 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_errors\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"46cfb19536426bf9252827a78552d635be207a4be74f4e92832aad82d7f2135c\"\n+checksum = \"bd9d2bfa60d9829dcb3db7e6885e22a21d6a76f7a5a46b06466aa14802a33c89\"\n dependencies = [\n  \"annotate-snippets 0.8.0\",\n  \"atty\",\n  \"rustc-ap-rustc_data_structures\",\n+ \"rustc-ap-rustc_lint_defs\",\n  \"rustc-ap-rustc_macros\",\n  \"rustc-ap-rustc_serialize\",\n  \"rustc-ap-rustc_span\",\n@@ -1015,9 +1016,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_expand\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"6273e60042a0ef31f6cfe783c519873993eb426f055be2bc058a48b6ca3934d0\"\n+checksum = \"e87c0700c0dca2ac330689bdcf38c74948df83abd1b36f23e4202995753b2857\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_ast_passes\",\n@@ -1038,31 +1039,31 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_feature\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"2936e8346157e2848305e509f38aa3ed4e97697975ef68027587f5db6a38703f\"\n+checksum = \"aa77d05cc28c00ed1962a4d0798e377494cb0794e18b851b7fdaac7a6bf4a69c\"\n dependencies = [\n  \"rustc-ap-rustc_data_structures\",\n  \"rustc-ap-rustc_span\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_fs_util\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"9b4c3ae17776b5a5aa441ca510a650f75805e1f5569edd231caa8378552195a4\"\n+checksum = \"27cb1b1962503abdf9d1b384ed6c96312f5f5cc74c1765c13e38abc8cf87a0f3\"\n \n [[package]]\n name = \"rustc-ap-rustc_graphviz\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5611bf0ac0ac49c2a22c959c7d8b17f85f69959293f0e8c4f753eca832fe7ad0\"\n+checksum = \"2e3f43c9b6e397f1872340ff480b3f5061197816d63f5a6ca4f2c59f75a407eb\"\n \n [[package]]\n name = \"rustc-ap-rustc_index\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ca67cf37c427057192e451c7f912e94ae9a8ca5ad69fd481c011fad3f86982cb\"\n+checksum = \"a2c695641f0e1f101511a489af5dab8f5bd7e491555928530bc74612a04d751d\"\n dependencies = [\n  \"arrayvec 0.5.1\",\n  \"rustc-ap-rustc_macros\",\n@@ -1071,18 +1072,32 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_lexer\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a5b04cd2159495584d976d501c5394498470c2e94e4f0cebb8186562d407a678\"\n+checksum = \"14dfb7a447eb4b54302c64cb28edd1c8a903876d58078ee3efed3e9e5388bebe\"\n dependencies = [\n  \"unicode-xid\",\n ]\n \n+[[package]]\n+name = \"rustc-ap-rustc_lint_defs\"\n+version = \"687.0.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"59c169f74b94427a52ea2f13e2b141186dea96b2e02de22650728392b13bdb5a\"\n+dependencies = [\n+ \"rustc-ap-rustc_ast\",\n+ \"rustc-ap-rustc_data_structures\",\n+ \"rustc-ap-rustc_macros\",\n+ \"rustc-ap-rustc_serialize\",\n+ \"rustc-ap-rustc_span\",\n+ \"tracing\",\n+]\n+\n [[package]]\n name = \"rustc-ap-rustc_macros\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"61ec6d623853449acd3c65050d249d3674edab5f6e4d9f074c7bac183269f9c8\"\n+checksum = \"7184879bb46b49e5477c53974a9fdd059d640232b265e2d09d77ad1999794f44\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -1092,9 +1107,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_parse\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ca524bafce4b04d2b49fee2d40b4b26c3ebab9f1a4f731fdf561f00617862f02\"\n+checksum = \"202817bd5ed002b34276948c990025e9257ff121cd550fdac4a111732539c6a9\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_ast\",\n@@ -1112,19 +1127,19 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_serialize\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c67920561e58f98c4de864407c92b2dd05ace5d5e5301e17444f10f742c005b7\"\n+checksum = \"5d62c5c9e6757d4ebf4f02789aebe79c75520b9692fa852c9d2d6fa30cb68cb3\"\n dependencies = [\n  \"indexmap\",\n  \"smallvec\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_session\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0762fd855792e06ef639327237898e4e092ad68150e6a8e19aeb7dc06276ad7a\"\n+checksum = \"b8faa9b0da728e081df58c344e2a4103148184680c25e8889c4d31954fa63514\"\n dependencies = [\n  \"bitflags\",\n  \"getopts\",\n@@ -1134,6 +1149,7 @@ dependencies = [\n  \"rustc-ap-rustc_errors\",\n  \"rustc-ap-rustc_feature\",\n  \"rustc-ap-rustc_fs_util\",\n+ \"rustc-ap-rustc_lint_defs\",\n  \"rustc-ap-rustc_macros\",\n  \"rustc-ap-rustc_serialize\",\n  \"rustc-ap-rustc_span\",\n@@ -1143,9 +1159,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_span\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0bf3db7b4ca5d21c14c45475df155e5e020c9a3760346945a662c9a9053b49c8\"\n+checksum = \"96519323a26751576fb739a6e6f65bf9a1dd1898f835bea288a7de27f31931a2\"\n dependencies = [\n  \"cfg-if\",\n  \"md-5\",\n@@ -1162,9 +1178,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_target\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3aa6560bb9742b276064d67ab9edb5766ecb303f8ae3854835ad3fad4b432188\"\n+checksum = \"b22730b097a9330120046d78e2da2c6bed2bf220cc3e2751f4c619f0702912bc\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_data_structures\","}, {"sha": "63c188a1c8834ed4658ce6c093309c2c93c72c15", "filename": "Cargo.toml", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/581da523db1883247bd16f09a12ce9e480003dbd/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/581da523db1883247bd16f09a12ce9e480003dbd/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=581da523db1883247bd16f09a12ce9e480003dbd", "patch": "@@ -66,36 +66,36 @@ rustc-workspace-hack = \"1.0.0\"\n \n [dependencies.rustc_ast]\n package = \"rustc-ap-rustc_ast\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n \n [dependencies.rustc_ast_pretty]\n package = \"rustc-ap-rustc_ast_pretty\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n \n [dependencies.rustc_attr]\n package = \"rustc-ap-rustc_attr\"\n version = \"686.0.0\"\n \n [dependencies.rustc_data_structures]\n package = \"rustc-ap-rustc_data_structures\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n \n [dependencies.rustc_errors]\n package = \"rustc-ap-rustc_errors\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n \n [dependencies.rustc_expand]\n package = \"rustc-ap-rustc_expand\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n \n [dependencies.rustc_parse]\n package = \"rustc-ap-rustc_parse\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n \n [dependencies.rustc_session]\n package = \"rustc-ap-rustc_session\"\n-version = \"686.0.0\"\n+version = \"687.0.0\"\n \n [dependencies.rustc_span]\n package = \"rustc-ap-rustc_span\"\n-version = \"686.0.0\"\n+version = \"687.0.0\""}, {"sha": "e5a28751988ca334162687675e93cf11f7512c75", "filename": "src/macros.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/581da523db1883247bd16f09a12ce9e480003dbd/src%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/581da523db1883247bd16f09a12ce9e480003dbd/src%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmacros.rs?ref=581da523db1883247bd16f09a12ce9e480003dbd", "patch": "@@ -13,9 +13,7 @@ use std::collections::HashMap;\n use std::panic::{catch_unwind, AssertUnwindSafe};\n \n use rustc_ast::token::{BinOpToken, DelimToken, Token, TokenKind};\n-use rustc_ast::tokenstream::{\n-    Cursor, LazyTokenStream, LazyTokenStreamInner, TokenStream, TokenTree,\n-};\n+use rustc_ast::tokenstream::{Cursor, LazyTokenStream, TokenStream, TokenTree};\n use rustc_ast::{ast, ptr};\n use rustc_ast_pretty::pprust;\n use rustc_parse::parser::Parser;\n@@ -1214,7 +1212,7 @@ pub(crate) fn convert_try_mac(\n             kind: ast::ExprKind::Try(parser.parse_expr().ok()?),\n             span: mac.span(), // incorrect span, but shouldn't matter too much\n             attrs: ast::AttrVec::new(),\n-            tokens: Some(LazyTokenStream::new(LazyTokenStreamInner::Ready(ts))),\n+            tokens: Some(LazyTokenStream::new(ts)),\n         })\n     } else {\n         None"}]}