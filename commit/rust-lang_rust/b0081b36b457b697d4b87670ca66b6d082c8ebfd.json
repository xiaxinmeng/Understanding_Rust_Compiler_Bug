{"sha": "b0081b36b457b697d4b87670ca66b6d082c8ebfd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwMDgxYjM2YjQ1N2I2OTdkNGI4NzY3MGNhNjZiNmQwODJjOGViZmQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-06-24T07:10:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-06-24T07:10:10Z"}, "message": "Auto merge of #42724 - Mark-Simulacrum:tests, r=alexcrichton\n\nAdd tests for a few issues.\n\nFixes #41998\nFixes #38381\nFixes #37515\nFixes #37510\nFixes #37366\nFixes #37323\nFixes #37051\nFixes #36839\nFixes #35570\nFixes #34373\nFixes #34222\n\nCertainly not all of the E-needstest issues right now, but I started to get bored.", "tree": {"sha": "251d5a25ab5dbe540236a4470750f0835f1babb9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/251d5a25ab5dbe540236a4470750f0835f1babb9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b0081b36b457b697d4b87670ca66b6d082c8ebfd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b0081b36b457b697d4b87670ca66b6d082c8ebfd", "html_url": "https://github.com/rust-lang/rust/commit/b0081b36b457b697d4b87670ca66b6d082c8ebfd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b0081b36b457b697d4b87670ca66b6d082c8ebfd/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1ccc330d4b4741bbc0388fb55eb37b7b94f903d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/1ccc330d4b4741bbc0388fb55eb37b7b94f903d5", "html_url": "https://github.com/rust-lang/rust/commit/1ccc330d4b4741bbc0388fb55eb37b7b94f903d5"}, {"sha": "2346169f999043a1e9b46e6e5206a82c970f1c21", "url": "https://api.github.com/repos/rust-lang/rust/commits/2346169f999043a1e9b46e6e5206a82c970f1c21", "html_url": "https://github.com/rust-lang/rust/commit/2346169f999043a1e9b46e6e5206a82c970f1c21"}], "stats": {"total": 288, "additions": 288, "deletions": 0}, "files": [{"sha": "6c85414860f33a32d1354982a8c37c2726b1df96", "filename": "src/test/compile-fail/issue-34222-1.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-34222-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-34222-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-34222-1.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,13 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn main() {\n+    /// comment //~ ERROR found a documentation comment that doesn't document anything\n+}"}, {"sha": "4609c0ccb1cfb42796f6f7a4f17da6b2ee8b53ce", "filename": "src/test/compile-fail/issue-34222.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-34222.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-34222.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-34222.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+#![allow(warnings)]\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+    /// crash\n+    let x = 0;\n+}"}, {"sha": "7bbc680197e8499f1fc783bd7e6e78eeb0657f37", "filename": "src/test/compile-fail/issue-34373.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-34373.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-34373.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-34373.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(warnings)]\n+\n+trait Trait<T> {\n+    fn foo(_: T) {}\n+}\n+\n+pub struct Foo<T = Box<Trait<DefaultFoo>>>;\n+type DefaultFoo = Foo; //~ ERROR unsupported cyclic reference\n+\n+fn main() {\n+}"}, {"sha": "092bf00ddd6a4fd91bd309a8264eb9417ead3ae2", "filename": "src/test/compile-fail/issue-35570.rs", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-35570.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-35570.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-35570.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,40 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+use std::mem;\n+\n+trait Trait1<T> {}\n+trait Trait2<'a> {\n+  type Ty;\n+}\n+\n+fn _ice(param: Box<for <'a> Trait1<<() as Trait2<'a>>::Ty>>) {\n+    let _e: (usize, usize) = unsafe{mem::transmute(param)};\n+}\n+\n+trait Lifetime<'a> {\n+    type Out;\n+}\n+impl<'a> Lifetime<'a> for () {\n+    type Out = &'a ();\n+}\n+fn foo<'a>(x: &'a ()) -> <() as Lifetime<'a>>::Out {\n+    x\n+}\n+\n+fn takes_lifetime(_f: for<'a> fn(&'a ()) -> <() as Lifetime<'a>>::Out) {\n+}\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+    takes_lifetime(foo);\n+}"}, {"sha": "3e34b250672798c0df93abdc263f061ec9c86e90", "filename": "src/test/compile-fail/issue-36839.rs", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-36839.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-36839.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-36839.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,32 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+pub trait Foo {\n+    type Bar;\n+}\n+\n+pub trait Broken {\n+    type Assoc;\n+    fn broken(&self) where Self::Assoc: Foo;\n+}\n+\n+impl<T> Broken for T {\n+    type Assoc = ();\n+    fn broken(&self) where Self::Assoc: Foo {\n+        let _x: <Self::Assoc as Foo>::Bar;\n+    }\n+}\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+    let _m: &Broken<Assoc=()> = &();\n+}"}, {"sha": "ab08e1899a0ee6b28d149ea36025e88acb81e7a7", "filename": "src/test/compile-fail/issue-37051.rs", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37051.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37051.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-37051.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,29 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs, associated_type_defaults)]\n+#![allow(warnings)]\n+\n+trait State: Sized {\n+    type NextState: State = StateMachineEnded;\n+    fn execute(self) -> Option<Self::NextState>;\n+}\n+\n+struct StateMachineEnded;\n+\n+impl State for StateMachineEnded {\n+    fn execute(self) -> Option<Self::NextState> {\n+        None\n+    }\n+}\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+}"}, {"sha": "98806cdd1b9aff8e720f05d42568cf1588c2ca71", "filename": "src/test/compile-fail/issue-37323.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37323.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37323.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-37323.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+#![allow(warnings)]\n+\n+#[derive(Debug)]\n+struct Point {\n+}\n+\n+struct NestedA<'a, 'b> {\n+    x: &'a NestedB<'b>\n+    //~^ ERROR E0491\n+}\n+\n+struct NestedB<'a> {\n+    x: &'a i32,\n+}\n+\n+fn main() {\n+}"}, {"sha": "2a4808fb186bb7d81ecf154c869e97d04dcbcb8b", "filename": "src/test/compile-fail/issue-37366.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37366.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37366.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-37366.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// ignore-emscripten\n+\n+#![feature(rustc_attrs, asm)]\n+\n+macro_rules! interrupt_handler {\n+    () => {\n+        unsafe fn _interrupt_handler() {\n+            asm!(\"pop  eax\" :::: \"intel\");\n+        }\n+    }\n+}\n+interrupt_handler!{}\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+}"}, {"sha": "53c91f323d0811d292aa0a54175b01ef801bf55f", "filename": "src/test/compile-fail/issue-37510.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37510.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37510.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-37510.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+fn foo(_: &mut i32) -> bool { true }\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+    let opt = Some(92);\n+    let mut x = 62;\n+\n+    if let Some(_) = opt {\n+\n+    } else if foo(&mut x) {\n+\n+    }\n+}"}, {"sha": "fa452d6e74a057461e4233f6dbf4968c9740d544", "filename": "src/test/compile-fail/issue-37515.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37515.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-37515.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-37515.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+type Z = for<'x> Send;\n+//~^ WARN type alias is never used\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+}"}, {"sha": "6b7dde117dfd6d3252b840e0c024652b2be987f3", "filename": "src/test/compile-fail/issue-38381.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-38381.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-38381.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-38381.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+use std::ops::Deref;\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+    let _x: fn(&i32) -> <&i32 as Deref>::Target = unimplemented!();\n+}"}, {"sha": "406aadcd2129d8291b93c6bea55059ccef8ec8e0", "filename": "src/test/compile-fail/issue-41998.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-41998.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0081b36b457b697d4b87670ca66b6d082c8ebfd/src%2Ftest%2Fcompile-fail%2Fissue-41998.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-41998.rs?ref=b0081b36b457b697d4b87670ca66b6d082c8ebfd", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+#[rustc_error]\n+fn main() { //~ ERROR compilation successful\n+    if ('x' as char) < ('y' as char) {\n+        print!(\"x\");\n+    } else {\n+        print!(\"y\");\n+    }\n+}"}]}