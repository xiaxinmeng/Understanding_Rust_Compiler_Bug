{"sha": "d6159b7fe0ce668b6875d4551019d3946ed8388c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2MTU5YjdmZTBjZTY2OGI2ODc1ZDQ1NTEwMTlkMzk0NmVkODM4OGM=", "commit": {"author": {"name": "Christian Persson", "email": "saser@live.se", "date": "2015-06-27T14:58:18Z"}, "committer": {"name": "Christian Persson", "email": "saser@live.se", "date": "2015-06-27T14:58:18Z"}, "message": "Clarifying deallocation order of resources within same scope", "tree": {"sha": "6e9cef1458ed63c0792a97accb23bc43feb28c57", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e9cef1458ed63c0792a97accb23bc43feb28c57"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d6159b7fe0ce668b6875d4551019d3946ed8388c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d6159b7fe0ce668b6875d4551019d3946ed8388c", "html_url": "https://github.com/rust-lang/rust/commit/d6159b7fe0ce668b6875d4551019d3946ed8388c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d6159b7fe0ce668b6875d4551019d3946ed8388c/comments", "author": {"login": "saser", "id": 582273, "node_id": "MDQ6VXNlcjU4MjI3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/582273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saser", "html_url": "https://github.com/saser", "followers_url": "https://api.github.com/users/saser/followers", "following_url": "https://api.github.com/users/saser/following{/other_user}", "gists_url": "https://api.github.com/users/saser/gists{/gist_id}", "starred_url": "https://api.github.com/users/saser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saser/subscriptions", "organizations_url": "https://api.github.com/users/saser/orgs", "repos_url": "https://api.github.com/users/saser/repos", "events_url": "https://api.github.com/users/saser/events{/privacy}", "received_events_url": "https://api.github.com/users/saser/received_events", "type": "User", "site_admin": false}, "committer": {"login": "saser", "id": 582273, "node_id": "MDQ6VXNlcjU4MjI3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/582273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saser", "html_url": "https://github.com/saser", "followers_url": "https://api.github.com/users/saser/followers", "following_url": "https://api.github.com/users/saser/following{/other_user}", "gists_url": "https://api.github.com/users/saser/gists{/gist_id}", "starred_url": "https://api.github.com/users/saser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saser/subscriptions", "organizations_url": "https://api.github.com/users/saser/orgs", "repos_url": "https://api.github.com/users/saser/repos", "events_url": "https://api.github.com/users/saser/events{/privacy}", "received_events_url": "https://api.github.com/users/saser/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "04daae77be0c74a5df6076b3b0c3a121e464fedf", "url": "https://api.github.com/repos/rust-lang/rust/commits/04daae77be0c74a5df6076b3b0c3a121e464fedf", "html_url": "https://github.com/rust-lang/rust/commit/04daae77be0c74a5df6076b3b0c3a121e464fedf"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "d1d3063138e7e61228dd82652540ee86452dead2", "filename": "src/doc/trpl/references-and-borrowing.md", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/d6159b7fe0ce668b6875d4551019d3946ed8388c/src%2Fdoc%2Ftrpl%2Freferences-and-borrowing.md", "raw_url": "https://github.com/rust-lang/rust/raw/d6159b7fe0ce668b6875d4551019d3946ed8388c/src%2Fdoc%2Ftrpl%2Freferences-and-borrowing.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Freferences-and-borrowing.md?ref=d6159b7fe0ce668b6875d4551019d3946ed8388c", "patch": "@@ -336,7 +336,9 @@ In other words, `y` is only valid for the scope where `x` exists. As soon as\n the borrow \u2018doesn\u2019t live long enough\u2019 because it\u2019s not valid for the right\n amount of time.\n \n-The same problem occurs when the reference is declared _before_ the variable it refers to:\n+The same problem occurs when the reference is declared _before_ the variable it\n+refers to. This is because resources within the same scope are freed in the\n+opposite order they were declared:\n \n ```rust,ignore\n let y: &i32;\n@@ -369,3 +371,6 @@ statement 1 at 3:14\n     println!(\"{}\", y);\n }\n ```\n+\n+In the above example, `y` is declared before `x`, meaning that `y` lives longer\n+than `x`, which is not allowed."}]}