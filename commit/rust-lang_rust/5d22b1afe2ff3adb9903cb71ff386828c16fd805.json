{"sha": "5d22b1afe2ff3adb9903cb71ff386828c16fd805", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkMjJiMWFmZTJmZjNhZGI5OTAzY2I3MWZmMzg2ODI4YzE2ZmQ4MDU=", "commit": {"author": {"name": "John Paul Adrian Glaubitz", "email": "glaubitz@physik.fu-berlin.de", "date": "2021-08-30T18:36:39Z"}, "committer": {"name": "John Paul Adrian Glaubitz", "email": "glaubitz@physik.fu-berlin.de", "date": "2021-09-17T15:07:14Z"}, "message": "doc/platform-support: Add documentation for m68k-unknown-linux-gnu", "tree": {"sha": "78a31f25bf4d9812497869120f420088f2f9e7d6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/78a31f25bf4d9812497869120f420088f2f9e7d6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d22b1afe2ff3adb9903cb71ff386828c16fd805", "comment_count": 1, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d22b1afe2ff3adb9903cb71ff386828c16fd805", "html_url": "https://github.com/rust-lang/rust/commit/5d22b1afe2ff3adb9903cb71ff386828c16fd805", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d22b1afe2ff3adb9903cb71ff386828c16fd805/comments", "author": {"login": "glaubitz", "id": 1647645, "node_id": "MDQ6VXNlcjE2NDc2NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1647645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glaubitz", "html_url": "https://github.com/glaubitz", "followers_url": "https://api.github.com/users/glaubitz/followers", "following_url": "https://api.github.com/users/glaubitz/following{/other_user}", "gists_url": "https://api.github.com/users/glaubitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/glaubitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glaubitz/subscriptions", "organizations_url": "https://api.github.com/users/glaubitz/orgs", "repos_url": "https://api.github.com/users/glaubitz/repos", "events_url": "https://api.github.com/users/glaubitz/events{/privacy}", "received_events_url": "https://api.github.com/users/glaubitz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "glaubitz", "id": 1647645, "node_id": "MDQ6VXNlcjE2NDc2NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/1647645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glaubitz", "html_url": "https://github.com/glaubitz", "followers_url": "https://api.github.com/users/glaubitz/followers", "following_url": "https://api.github.com/users/glaubitz/following{/other_user}", "gists_url": "https://api.github.com/users/glaubitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/glaubitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glaubitz/subscriptions", "organizations_url": "https://api.github.com/users/glaubitz/orgs", "repos_url": "https://api.github.com/users/glaubitz/repos", "events_url": "https://api.github.com/users/glaubitz/events{/privacy}", "received_events_url": "https://api.github.com/users/glaubitz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c99d365d7e8334be95ad8d7b53bea28aea3862cd", "url": "https://api.github.com/repos/rust-lang/rust/commits/c99d365d7e8334be95ad8d7b53bea28aea3862cd", "html_url": "https://github.com/rust-lang/rust/commit/c99d365d7e8334be95ad8d7b53bea28aea3862cd"}], "stats": {"total": 97, "additions": 97, "deletions": 0}, "files": [{"sha": "d325ba3346ab137361a1505112a8d7a7cb130ea6", "filename": "src/doc/rustc/src/platform-support/m68k-unknown-linux-gnu.md", "status": "added", "additions": 97, "deletions": 0, "changes": 97, "blob_url": "https://github.com/rust-lang/rust/blob/5d22b1afe2ff3adb9903cb71ff386828c16fd805/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fm68k-unknown-linux-gnu.md", "raw_url": "https://github.com/rust-lang/rust/raw/5d22b1afe2ff3adb9903cb71ff386828c16fd805/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fm68k-unknown-linux-gnu.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fm68k-unknown-linux-gnu.md?ref=5d22b1afe2ff3adb9903cb71ff386828c16fd805", "patch": "@@ -0,0 +1,97 @@\n+# m68k-unknown-linux-gnu\n+\n+**Tier: 3**\n+\n+Motorola 680x0 Linux\n+\n+## Designated Developers\n+\n+* [@glaubitz](https://github.com/glaubitz)\n+* [@ricky26](https://github.com/ricky26)\n+\n+## Requirements\n+\n+This target requires a Linux/m68k build environment for cross-compilation which\n+is available on Debian and Debian-based systems, openSUSE and other distributions.\n+\n+On Debian, it should be sufficient to install a g++ cross-compiler for the m68k\n+architecture which will automatically pull in additional dependencies such as\n+the glibc cross development package:\n+\n+```text\n+# apt install g++-m68k-linux-gnu\n+```\n+\n+Binaries can be run using QEMU user emulation. On Debian-based systems, it should be\n+sufficient to install the package `qemu-user-static` to be able to run simple static\n+binaries:\n+\n+```text\n+# apt install qemu-user-static\n+```\n+\n+To run more complex programs, it will be necessary to set up a Debian/m68k chroot with\n+the help of the command `debootstrap`:\n+\n+```text\n+# apt install debootstrap debian-ports-archive-keyring\n+# debootstrap --keyring=/usr/share/keyrings/debian-ports-archive-keyring.gpg --arch=m68k unstable debian-68k http://ftp.ports.debian.org/debian-ports\n+```\n+\n+This chroot can then seamlessly entered using the normal `chroot` command thanks to\n+QEMU user emulation:\n+\n+```text\n+# chroot /path/to/debian-68k\n+```\n+\n+To get started with native builds, which are currently untested, a native Debian/m68k\n+system can be installed either on real hardware such as 68k-based Commodore Amiga or\n+Atari systems or emulated environments such as QEMU version 4.2 or newer or ARAnyM.\n+\n+ISO images for installation are provided by the Debian Ports team and can be obtained\n+from the Debian CD image server available at:\n+\n+[https://cdimage.debian.org/cdimage/ports/current](https://cdimage.debian.org/cdimage/ports/current/)\n+\n+Documentation for Debian/m68k is available on the Debian Wiki at:\n+\n+[https://wiki.debian.org/M68k](https://wiki.debian.org/M68k)\n+\n+Support is available either through the `debian-68k` mailing list:\n+\n+[https://lists.debian.org/debian-68k/](https://lists.debian.org/debian-68k/)\n+\n+or the `#debian-68k` IRC channel on OFTC network.\n+\n+## Building\n+\n+The codegen for this target should be built by default. However, core and std\n+are currently missing but are being worked on and should become available in\n+the near future.\n+\n+## Cross-compilation\n+\n+This target can be cross-compiled from a standard Debian or Debian-based, openSUSE or any\n+other distribution which has a basic m68k cross-toolchain available.\n+\n+## Testing\n+\n+Currently there is no support to run the rustc test suite for this target.\n+\n+## Building Rust programs\n+\n+Rust programs can be built for that target:\n+\n+```text\n+rustc --target m68k-unknown-linux-gnu your-code.rs\n+```\n+\n+Very simple progams can be run using the `qemu-m68k-static` program:\n+\n+```text\n+$ qemu-m68k-static your-code\n+```\n+\n+For more complex applications, a chroot or native (emulated) Debian/m68k system are required\n+for testing."}]}