{"sha": "3797b0335ab1e119438b7aadb7c8bf80607b0b03", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3OTdiMDMzNWFiMWUxMTk0MzhiN2FhZGI3YzhiZjgwNjA3YjBiMDM=", "commit": {"author": {"name": "LeSeulArtichaut", "email": "leseulartichaut@gmail.com", "date": "2021-05-15T09:42:10Z"}, "committer": {"name": "LeSeulArtichaut", "email": "leseulartichaut@gmail.com", "date": "2021-05-22T14:21:36Z"}, "message": "Remove some errors in UI tests\nAs we now need to run THIR unsafeck before MIR build, errors in unsafeck can cause the compilation to be aborted earlier.", "tree": {"sha": "0a5a441f540f42422a473b73afea28b3065b62cf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a5a441f540f42422a473b73afea28b3065b62cf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3797b0335ab1e119438b7aadb7c8bf80607b0b03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3797b0335ab1e119438b7aadb7c8bf80607b0b03", "html_url": "https://github.com/rust-lang/rust/commit/3797b0335ab1e119438b7aadb7c8bf80607b0b03", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3797b0335ab1e119438b7aadb7c8bf80607b0b03/comments", "author": {"login": "LeSeulArtichaut", "id": 38361244, "node_id": "MDQ6VXNlcjM4MzYxMjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/38361244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeSeulArtichaut", "html_url": "https://github.com/LeSeulArtichaut", "followers_url": "https://api.github.com/users/LeSeulArtichaut/followers", "following_url": "https://api.github.com/users/LeSeulArtichaut/following{/other_user}", "gists_url": "https://api.github.com/users/LeSeulArtichaut/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeSeulArtichaut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeSeulArtichaut/subscriptions", "organizations_url": "https://api.github.com/users/LeSeulArtichaut/orgs", "repos_url": "https://api.github.com/users/LeSeulArtichaut/repos", "events_url": "https://api.github.com/users/LeSeulArtichaut/events{/privacy}", "received_events_url": "https://api.github.com/users/LeSeulArtichaut/received_events", "type": "User", "site_admin": false}, "committer": {"login": "LeSeulArtichaut", "id": 38361244, "node_id": "MDQ6VXNlcjM4MzYxMjQ0", "avatar_url": "https://avatars.githubusercontent.com/u/38361244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LeSeulArtichaut", "html_url": "https://github.com/LeSeulArtichaut", "followers_url": "https://api.github.com/users/LeSeulArtichaut/followers", "following_url": "https://api.github.com/users/LeSeulArtichaut/following{/other_user}", "gists_url": "https://api.github.com/users/LeSeulArtichaut/gists{/gist_id}", "starred_url": "https://api.github.com/users/LeSeulArtichaut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LeSeulArtichaut/subscriptions", "organizations_url": "https://api.github.com/users/LeSeulArtichaut/orgs", "repos_url": "https://api.github.com/users/LeSeulArtichaut/repos", "events_url": "https://api.github.com/users/LeSeulArtichaut/events{/privacy}", "received_events_url": "https://api.github.com/users/LeSeulArtichaut/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6dfdea9800fddeeed8a94ea2bbd4afeab96bb05c", "url": "https://api.github.com/repos/rust-lang/rust/commits/6dfdea9800fddeeed8a94ea2bbd4afeab96bb05c", "html_url": "https://github.com/rust-lang/rust/commit/6dfdea9800fddeeed8a94ea2bbd4afeab96bb05c"}], "stats": {"total": 34, "additions": 5, "deletions": 29}, "files": [{"sha": "fc37822cb7b6c018f3dd59e5eb0ee91cce2cec4d", "filename": "src/test/ui/async-await/async-unsafe-fn-call-in-safe.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fasync-await%2Fasync-unsafe-fn-call-in-safe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fasync-await%2Fasync-unsafe-fn-call-in-safe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fasync-unsafe-fn-call-in-safe.rs?ref=3797b0335ab1e119438b7aadb7c8bf80607b0b03", "patch": "@@ -16,6 +16,6 @@ async fn g() {\n }\n \n fn main() {\n-    S::f(); //~ ERROR call to unsafe function is unsafe\n-    f(); //~ ERROR call to unsafe function is unsafe\n+    S::f(); //[mir]~ ERROR call to unsafe function is unsafe\n+    f(); //[mir]~ ERROR call to unsafe function is unsafe\n }"}, {"sha": "21ba45d7f1e15fbebaa8d44b89c58f5c5dbdc684", "filename": "src/test/ui/async-await/async-unsafe-fn-call-in-safe.thir.stderr", "status": "modified", "additions": 1, "deletions": 17, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fasync-await%2Fasync-unsafe-fn-call-in-safe.thir.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fasync-await%2Fasync-unsafe-fn-call-in-safe.thir.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fasync-unsafe-fn-call-in-safe.thir.stderr?ref=3797b0335ab1e119438b7aadb7c8bf80607b0b03", "patch": "@@ -14,22 +14,6 @@ LL |     f();\n    |\n    = note: consult the function's documentation for information on how to avoid undefined behavior\n \n-error[E0133]: call to unsafe function is unsafe and requires unsafe function or block\n-  --> $DIR/async-unsafe-fn-call-in-safe.rs:19:5\n-   |\n-LL |     S::f();\n-   |     ^^^^^^ call to unsafe function\n-   |\n-   = note: consult the function's documentation for information on how to avoid undefined behavior\n-\n-error[E0133]: call to unsafe function is unsafe and requires unsafe function or block\n-  --> $DIR/async-unsafe-fn-call-in-safe.rs:20:5\n-   |\n-LL |     f();\n-   |     ^^^ call to unsafe function\n-   |\n-   = note: consult the function's documentation for information on how to avoid undefined behavior\n-\n-error: aborting due to 4 previous errors\n+error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0133`."}, {"sha": "031e67a1e3c3f18dcf7f199406a6e977f966ca69", "filename": "src/test/ui/consts/const-extern-fn/const-extern-fn-requires-unsafe.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-requires-unsafe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-requires-unsafe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-requires-unsafe.rs?ref=3797b0335ab1e119438b7aadb7c8bf80607b0b03", "patch": "@@ -9,5 +9,5 @@ fn main() {\n     let a: [u8; foo()];\n     //~^ ERROR call to unsafe function is unsafe and requires unsafe function or block\n     foo();\n-    //~^ ERROR call to unsafe function is unsafe and requires unsafe function or block\n+    //[mir]~^ ERROR call to unsafe function is unsafe and requires unsafe function or block\n }"}, {"sha": "c6077da768baca3007784029d9389ae9881516f0", "filename": "src/test/ui/consts/const-extern-fn/const-extern-fn-requires-unsafe.thir.stderr", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-requires-unsafe.thir.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3797b0335ab1e119438b7aadb7c8bf80607b0b03/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-requires-unsafe.thir.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-extern-fn%2Fconst-extern-fn-requires-unsafe.thir.stderr?ref=3797b0335ab1e119438b7aadb7c8bf80607b0b03", "patch": "@@ -1,11 +1,3 @@\n-error[E0133]: call to unsafe function is unsafe and requires unsafe function or block\n-  --> $DIR/const-extern-fn-requires-unsafe.rs:11:5\n-   |\n-LL |     foo();\n-   |     ^^^^^ call to unsafe function\n-   |\n-   = note: consult the function's documentation for information on how to avoid undefined behavior\n-\n error[E0133]: call to unsafe function is unsafe and requires unsafe function or block\n   --> $DIR/const-extern-fn-requires-unsafe.rs:9:17\n    |\n@@ -14,6 +6,6 @@ LL |     let a: [u8; foo()];\n    |\n    = note: consult the function's documentation for information on how to avoid undefined behavior\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0133`."}]}