{"sha": "6a0abd60486d7301dea849e7107bc92380e6045e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZhMGFiZDYwNDg2ZDczMDFkZWE4NDllNzEwN2JjOTIzODBlNjA0NWU=", "commit": {"author": {"name": "Shotaro Yamada", "email": "sinkuu@sinkuu.xyz", "date": "2019-06-08T10:06:58Z"}, "committer": {"name": "Shotaro Yamada", "email": "sinkuu@sinkuu.xyz", "date": "2019-06-15T11:46:00Z"}, "message": "Remove unnecessary `.clone()`", "tree": {"sha": "6eb5af0a7c8a51aa1711e96da10fec8fe0ef31d3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6eb5af0a7c8a51aa1711e96da10fec8fe0ef31d3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6a0abd60486d7301dea849e7107bc92380e6045e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6a0abd60486d7301dea849e7107bc92380e6045e", "html_url": "https://github.com/rust-lang/rust/commit/6a0abd60486d7301dea849e7107bc92380e6045e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6a0abd60486d7301dea849e7107bc92380e6045e/comments", "author": {"login": "sinkuu", "id": 7091080, "node_id": "MDQ6VXNlcjcwOTEwODA=", "avatar_url": "https://avatars.githubusercontent.com/u/7091080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sinkuu", "html_url": "https://github.com/sinkuu", "followers_url": "https://api.github.com/users/sinkuu/followers", "following_url": "https://api.github.com/users/sinkuu/following{/other_user}", "gists_url": "https://api.github.com/users/sinkuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/sinkuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sinkuu/subscriptions", "organizations_url": "https://api.github.com/users/sinkuu/orgs", "repos_url": "https://api.github.com/users/sinkuu/repos", "events_url": "https://api.github.com/users/sinkuu/events{/privacy}", "received_events_url": "https://api.github.com/users/sinkuu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sinkuu", "id": 7091080, "node_id": "MDQ6VXNlcjcwOTEwODA=", "avatar_url": "https://avatars.githubusercontent.com/u/7091080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sinkuu", "html_url": "https://github.com/sinkuu", "followers_url": "https://api.github.com/users/sinkuu/followers", "following_url": "https://api.github.com/users/sinkuu/following{/other_user}", "gists_url": "https://api.github.com/users/sinkuu/gists{/gist_id}", "starred_url": "https://api.github.com/users/sinkuu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sinkuu/subscriptions", "organizations_url": "https://api.github.com/users/sinkuu/orgs", "repos_url": "https://api.github.com/users/sinkuu/repos", "events_url": "https://api.github.com/users/sinkuu/events{/privacy}", "received_events_url": "https://api.github.com/users/sinkuu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "165842ba1fe09b6e0f142dc3cb27597b85b96e85", "url": "https://api.github.com/repos/rust-lang/rust/commits/165842ba1fe09b6e0f142dc3cb27597b85b96e85", "html_url": "https://github.com/rust-lang/rust/commit/165842ba1fe09b6e0f142dc3cb27597b85b96e85"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "1c52b5775a0ccca83222e55ec30759458e7f2f08", "filename": "src/librustc/infer/opaque_types/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -307,7 +307,7 @@ impl<'a, 'tcx> InferCtxt<'a, 'tcx> {\n \n             let required_region_bounds = tcx.required_region_bounds(\n                 opaque_type,\n-                bounds.predicates.clone(),\n+                bounds.predicates,\n             );\n             debug_assert!(!required_region_bounds.is_empty());\n "}, {"sha": "29c624575c3c2328af0f0f0997bbcbe156bc1190", "filename": "src/librustc/middle/liveness.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fliveness.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -1617,7 +1617,7 @@ impl<'a, 'tcx> Liveness<'a, 'tcx> {\n                     self.ir.tcx.lint_hir_note(\n                         lint::builtin::UNUSED_VARIABLES,\n                         hir_id,\n-                        spans.clone(),\n+                        spans,\n                         &format!(\"variable `{}` is assigned to, but never used\", name),\n                         &format!(\"consider using `_{}` instead\", name),\n                     );"}, {"sha": "54989db46c1c5d10eb1e03692d97b572b17310fc", "filename": "src/librustc_borrowck/borrowck/check_loans.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -36,7 +36,7 @@ fn owned_ptr_base_path<'a, 'tcx>(loan_path: &'a LoanPath<'tcx>) -> &'a LoanPath<\n \n     return match helper(loan_path) {\n         Some(new_loan_path) => new_loan_path,\n-        None => loan_path.clone()\n+        None => loan_path,\n     };\n \n     fn helper<'a, 'tcx>(loan_path: &'a LoanPath<'tcx>) -> Option<&'a LoanPath<'tcx>> {"}, {"sha": "5d3cc0c0a255f63e39763ea4aaaf4581d0ce9ea2", "filename": "src/librustc_codegen_llvm/back/lto.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_codegen_llvm%2Fback%2Flto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_codegen_llvm%2Fback%2Flto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fback%2Flto.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -279,7 +279,7 @@ fn fat_lto(cgcx: &CodegenContext<LlvmCodegenBackend>,\n             }\n         }));\n         serialized_modules.extend(cached_modules.into_iter().map(|(buffer, wp)| {\n-            (buffer, CString::new(wp.cgu_name.clone()).unwrap())\n+            (buffer, CString::new(wp.cgu_name).unwrap())\n         }));\n \n         // For all serialized bitcode files we parse them and link them in as we did"}, {"sha": "588f7481cc06092adba92f262ec062835d9caa4f", "filename": "src/librustc_codegen_llvm/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_codegen_llvm%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_codegen_llvm%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fcontext.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -459,7 +459,7 @@ impl CodegenCx<'b, 'tcx> {\n         };\n         let f = self.declare_cfn(name, fn_ty);\n         llvm::SetUnnamedAddr(f, false);\n-        self.intrinsics.borrow_mut().insert(name, f.clone());\n+        self.intrinsics.borrow_mut().insert(name, f);\n         f\n     }\n "}, {"sha": "fbeda43af42b0aef48fa2cff6a4fed28e2651e13", "filename": "src/librustc_codegen_llvm/debuginfo/metadata.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -1609,7 +1609,7 @@ impl<'tcx> VariantInfo<'tcx> {\n                 // with every variant, make each variant name be just the value\n                 // of the discriminant. The struct name for the variant includes\n                 // the actual variant description.\n-                format!(\"{}\", variant_index.as_usize()).to_string()\n+                format!(\"{}\", variant_index.as_usize())\n             }\n         }\n     }"}, {"sha": "7ed2fddf72d23a3b49c9c59a9ebe62acf9e7c14e", "filename": "src/librustc_errors/annotate_snippet_emitter_writer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_errors%2Fannotate_snippet_emitter_writer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_errors%2Fannotate_snippet_emitter_writer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Fannotate_snippet_emitter_writer.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -194,7 +194,7 @@ impl AnnotateSnippetEmitterWriter {\n         let converter = DiagnosticConverter {\n             source_map: self.source_map.clone(),\n             level: level.clone(),\n-            message: message.clone(),\n+            message,\n             code: code.clone(),\n             msp: msp.clone(),\n             children,"}, {"sha": "5fef8e53e1d0c4dd18f927483b49b2c0e8779ceb", "filename": "src/librustc_metadata/creader.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_metadata%2Fcreader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_metadata%2Fcreader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fcreader.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -236,7 +236,7 @@ impl<'a> CrateLoader<'a> {\n                 let host_lib = host_lib.unwrap();\n                 self.load_derive_macros(\n                     &host_lib.metadata.get_root(),\n-                    host_lib.dylib.clone().map(|p| p.0),\n+                    host_lib.dylib.map(|p| p.0),\n                     span\n                 )\n             } else {"}, {"sha": "f9e503ee69b1278061ca6c6ffd642d7587f50651", "filename": "src/librustc_mir/build/matches/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -1737,7 +1737,7 @@ impl<'a, 'tcx> Builder<'a, 'tcx> {\n                 pat_span,\n             }))),\n         };\n-        let for_arm_body = self.local_decls.push(local.clone());\n+        let for_arm_body = self.local_decls.push(local);\n         let locals = if has_guard.0 {\n             let ref_for_guard = self.local_decls.push(LocalDecl::<'tcx> {\n                 // This variable isn't mutated but has a name, so has to be"}, {"sha": "bf64643e5a74583675173fb0baa463d902e191fb", "filename": "src/librustc_typeck/check/wfcheck.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -922,7 +922,7 @@ fn receiver_is_valid<'fcx, 'tcx>(\n         };\n \n         let obligation = traits::Obligation::new(\n-            cause.clone(),\n+            cause,\n             fcx.param_env,\n             trait_ref.to_predicate()\n         );"}, {"sha": "20a4f86aedb902e10de0fd8f69af97c68068f609", "filename": "src/librustdoc/core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustdoc%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustdoc%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fcore.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -317,7 +317,7 @@ pub fn run_core(options: RustdocOptions) -> (clean::Crate, RenderInfo, RenderOpt\n         // Ensure that rustdoc works even if rustc is feature-staged\n         unstable_features: UnstableFeatures::Allow,\n         actually_rustdoc: true,\n-        debugging_opts: debugging_options.clone(),\n+        debugging_opts: debugging_options,\n         error_format,\n         edition,\n         describe_lints,"}, {"sha": "baf99bacb8ee6cc234260002d649837d23dbfe25", "filename": "src/librustdoc/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustdoc%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibrustdoc%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Ftest.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -740,7 +740,7 @@ impl Tester for Collector {\n         debug!(\"Creating test {}: {}\", name, test);\n         self.tests.push(testing::TestDescAndFn {\n             desc: testing::TestDesc {\n-                name: testing::DynTestName(name.clone()),\n+                name: testing::DynTestName(name),\n                 ignore: config.ignore,\n                 // compiler failures are test failures\n                 should_panic: testing::ShouldPanic::No,"}, {"sha": "f44a6e7efa4f18e47b795eb94dcc6aecd55e8513", "filename": "src/libsyntax_ext/format.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibsyntax_ext%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibsyntax_ext%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Fformat.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -887,7 +887,7 @@ pub fn expand_preparsed_format_args(ecx: &mut ExtCtxt<'_>,\n     };\n \n     let fmt_str = &*fmt.node.0.as_str();  // for the suggestions below\n-    let mut parser = parse::Parser::new(fmt_str, str_style, skips.clone(), append_newline);\n+    let mut parser = parse::Parser::new(fmt_str, str_style, skips, append_newline);\n \n     let mut unverified_pieces = Vec::new();\n     while let Some(piece) = parser.next() {"}, {"sha": "b5d5a38ce5b3872872d06fba9ab68c57e2883024", "filename": "src/libsyntax_ext/proc_macro_server.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibsyntax_ext%2Fproc_macro_server.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a0abd60486d7301dea849e7107bc92380e6045e/src%2Flibsyntax_ext%2Fproc_macro_server.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Fproc_macro_server.rs?ref=6a0abd60486d7301dea849e7107bc92380e6045e", "patch": "@@ -409,7 +409,7 @@ impl server::TokenStream for Rustc<'_> {\n     }\n     fn from_str(&mut self, src: &str) -> Self::TokenStream {\n         parse::parse_stream_from_source_str(\n-            FileName::proc_macro_source_code(src.clone()),\n+            FileName::proc_macro_source_code(src),\n             src.to_string(),\n             self.sess,\n             Some(self.call_site),"}]}