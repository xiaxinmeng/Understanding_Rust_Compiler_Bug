{"sha": "65234e8828defc0a56cb1d5e20793b5163b5330d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY1MjM0ZTg4MjhkZWZjMGE1NmNiMWQ1ZTIwNzkzYjUxNjNiNTMzMGQ=", "commit": {"author": {"name": "Andrew Chin", "email": "achin@eminence32.net", "date": "2020-05-01T22:59:19Z"}, "committer": {"name": "Andrew Chin", "email": "achin@eminence32.net", "date": "2020-05-02T01:04:41Z"}, "message": "Remove `workspaceLoaded` setting\n\nThe `workspaceLoaded` notification setting was originally designed to\ncontrol the display of a popup message that said:\n\n  \"workspace loaded, {} rust packages\"\n\nThis popup was removed and replaced by a much sleeker message in the\nVSCode status bar that provides a real-time status while loading:\n\n  rust-analyzer: {}/{} packages\n\nThis was done as part of #3587\n\nThe new status-bar indicator is unobtrusive and shouldn't need to be\ndisabled.  So this setting is removed.", "tree": {"sha": "07047d818f29038f8208ad05429ce8002b320a9b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07047d818f29038f8208ad05429ce8002b320a9b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/65234e8828defc0a56cb1d5e20793b5163b5330d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/65234e8828defc0a56cb1d5e20793b5163b5330d", "html_url": "https://github.com/rust-lang/rust/commit/65234e8828defc0a56cb1d5e20793b5163b5330d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/65234e8828defc0a56cb1d5e20793b5163b5330d/comments", "author": {"login": "eminence", "id": 402454, "node_id": "MDQ6VXNlcjQwMjQ1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/402454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eminence", "html_url": "https://github.com/eminence", "followers_url": "https://api.github.com/users/eminence/followers", "following_url": "https://api.github.com/users/eminence/following{/other_user}", "gists_url": "https://api.github.com/users/eminence/gists{/gist_id}", "starred_url": "https://api.github.com/users/eminence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eminence/subscriptions", "organizations_url": "https://api.github.com/users/eminence/orgs", "repos_url": "https://api.github.com/users/eminence/repos", "events_url": "https://api.github.com/users/eminence/events{/privacy}", "received_events_url": "https://api.github.com/users/eminence/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eminence", "id": 402454, "node_id": "MDQ6VXNlcjQwMjQ1NA==", "avatar_url": "https://avatars.githubusercontent.com/u/402454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eminence", "html_url": "https://github.com/eminence", "followers_url": "https://api.github.com/users/eminence/followers", "following_url": "https://api.github.com/users/eminence/following{/other_user}", "gists_url": "https://api.github.com/users/eminence/gists{/gist_id}", "starred_url": "https://api.github.com/users/eminence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eminence/subscriptions", "organizations_url": "https://api.github.com/users/eminence/orgs", "repos_url": "https://api.github.com/users/eminence/repos", "events_url": "https://api.github.com/users/eminence/events{/privacy}", "received_events_url": "https://api.github.com/users/eminence/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3232fd5179f2e36dee69955ba8aae0463b142e67", "url": "https://api.github.com/repos/rust-lang/rust/commits/3232fd5179f2e36dee69955ba8aae0463b142e67", "html_url": "https://github.com/rust-lang/rust/commit/3232fd5179f2e36dee69955ba8aae0463b142e67"}], "stats": {"total": 15, "additions": 2, "deletions": 13}, "files": [{"sha": "15b7c691219bbbdf2c6aff483f6332b73d0462df", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/65234e8828defc0a56cb1d5e20793b5163b5330d/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65234e8828defc0a56cb1d5e20793b5163b5330d/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=65234e8828defc0a56cb1d5e20793b5163b5330d", "patch": "@@ -49,7 +49,6 @@ pub enum FilesWatcher {\n \n #[derive(Debug, Clone)]\n pub struct NotificationsConfig {\n-    pub workspace_loaded: bool,\n     pub cargo_toml_not_found: bool,\n }\n \n@@ -83,10 +82,7 @@ impl Default for Config {\n             lru_capacity: None,\n             proc_macro_srv: None,\n             files: FilesConfig { watcher: FilesWatcher::Notify, exclude: Vec::new() },\n-            notifications: NotificationsConfig {\n-                workspace_loaded: true,\n-                cargo_toml_not_found: true,\n-            },\n+            notifications: NotificationsConfig { cargo_toml_not_found: true },\n \n             cargo: CargoConfig::default(),\n             rustfmt: RustfmtConfig::Rustfmt { extra_args: Vec::new() },\n@@ -129,7 +125,6 @@ impl Config {\n             Some(\"client\") => FilesWatcher::Client,\n             Some(\"notify\") | _ => FilesWatcher::Notify\n         };\n-        set(value, \"/notifications/workspaceLoaded\", &mut self.notifications.workspace_loaded);\n         set(value, \"/notifications/cargoTomlNotFound\", &mut self.notifications.cargo_toml_not_found);\n \n         set(value, \"/cargo/noDefaultFeatures\", &mut self.cargo.no_default_features);"}, {"sha": "3bc2e0a4624e85db00e446e443067a11e9597e34", "filename": "crates/rust-analyzer/src/main_loop.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/65234e8828defc0a56cb1d5e20793b5163b5330d/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65234e8828defc0a56cb1d5e20793b5163b5330d/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs?ref=65234e8828defc0a56cb1d5e20793b5163b5330d", "patch": "@@ -415,8 +415,7 @@ fn loop_turn(\n         });\n     }\n \n-    let show_progress =\n-        !loop_state.workspace_loaded && world_state.config.notifications.workspace_loaded;\n+    let show_progress = !loop_state.workspace_loaded;\n \n     if !loop_state.workspace_loaded\n         && loop_state.roots_scanned == loop_state.roots_total"}, {"sha": "7ef727b9d09160fc444a287ef3b8b93c5d8bf431", "filename": "editors/code/package.json", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/65234e8828defc0a56cb1d5e20793b5163b5330d/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/65234e8828defc0a56cb1d5e20793b5163b5330d/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=65234e8828defc0a56cb1d5e20793b5163b5330d", "patch": "@@ -205,11 +205,6 @@\n                     \"default\": [],\n                     \"description\": \"Paths to exclude from analysis.\"\n                 },\n-                \"rust-analyzer.notifications.workspaceLoaded\": {\n-                    \"type\": \"boolean\",\n-                    \"default\": true,\n-                    \"markdownDescription\": \"Whether to show `workspace loaded` message.\"\n-                },\n                 \"rust-analyzer.notifications.cargoTomlNotFound\": {\n                     \"type\": \"boolean\",\n                     \"default\": true,"}]}