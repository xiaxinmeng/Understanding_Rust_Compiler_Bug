{"sha": "9a13ef2251531d5856ca62dd8822c9b8139f479a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhMTNlZjIyNTE1MzFkNTg1NmNhNjJkZDg4MjJjOWI4MTM5ZjQ3OWE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-07-03T21:16:31Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-07-03T21:16:31Z"}, "message": "Auto merge of #73650 - pietroalbini:ci-aarch64-gnu, r=Mark-Simulacrum\n\nAdd Docker image to run AArch64 Linux tests\n\nThis PR adds a Docker image to run the AArch64 Linux test suite on a native AArch64 host platform, which will be used in the future to run the test suite in our CI. The image will also be useful for ARM folks to ensure internally that the bugfixes they submit work.\n\nThis will be the first Docker image designed to run on a non-x86_64 host platform, and to prevent surprising behavior this PR moves all images requiring a x86_64 host in the `src/ci/docker/host-x86_64` directory. Paths and scripts are changed accordingly, and a helpful error message is added when someone tries to run an image on the wrong architecture:\n\n```\nInvalid image: aarch64-gnu\nNote: the image exists for the aarch64 host architecture\nNote: the current host architecture is x86_64\n```\n\nThe old emulated and disabled `aarch64-gnu` builder is also removed in this PR.\n\nThis PR is best reviewed commit-by-commit.\nr? @Mark-Simulacrum", "tree": {"sha": "3efca827a4e912f8c90a1e0cdcbed9b89982b807", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3efca827a4e912f8c90a1e0cdcbed9b89982b807"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9a13ef2251531d5856ca62dd8822c9b8139f479a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9a13ef2251531d5856ca62dd8822c9b8139f479a", "html_url": "https://github.com/rust-lang/rust/commit/9a13ef2251531d5856ca62dd8822c9b8139f479a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9a13ef2251531d5856ca62dd8822c9b8139f479a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f844ea1e561475e6023282ef167e76bc973773ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/f844ea1e561475e6023282ef167e76bc973773ef", "html_url": "https://github.com/rust-lang/rust/commit/f844ea1e561475e6023282ef167e76bc973773ef"}, {"sha": "775eeb32ca5ef218c24c38c0264c1b8dedb501a1", "url": "https://api.github.com/repos/rust-lang/rust/commits/775eeb32ca5ef218c24c38c0264c1b8dedb501a1", "html_url": "https://github.com/rust-lang/rust/commit/775eeb32ca5ef218c24c38c0264c1b8dedb501a1"}], "stats": {"total": 3388, "additions": 137, "deletions": 3251}, "files": [{"sha": "6ffc8a7ad5241c6d256a1d008d6658b7171ea361", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -428,7 +428,7 @@ jobs:\n             os: windows-latest-xl\n           - name: x86_64-msvc-tools\n             env:\n-              SCRIPT: src/ci/docker/x86_64-gnu-tools/checktools.sh x.py /tmp/toolstate/toolstates.json windows\n+              SCRIPT: src/ci/docker/host-x86_64/x86_64-gnu-tools/checktools.sh x.py /tmp/toolstate/toolstates.json windows\n               RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-msvc --save-toolstates=/tmp/toolstate/toolstates.json\"\n             os: windows-latest-xl\n           - name: i686-mingw-1"}, {"sha": "3de5a19f851645e2c2e1468c9296cf38f3b26b46", "filename": "src/ci/azure-pipelines/auto.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fazure-pipelines%2Fauto.yml", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fazure-pipelines%2Fauto.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fazure-pipelines%2Fauto.yml?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -151,7 +151,7 @@ jobs:\n         NO_LLVM_ASSERTIONS: 1\n       # MSVC tools tests\n       x86_64-msvc-tools:\n-        SCRIPT: src/ci/docker/x86_64-gnu-tools/checktools.sh x.py\n+        SCRIPT: src/ci/docker/host-x86_64/x86_64-gnu-tools/checktools.sh x.py\n         INITIAL_RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc --save-toolstates=/tmp/toolstate/toolstates.json\n \n       # 32/64-bit MinGW builds."}, {"sha": "7e79cc88513695f137a4936e9d6390fc15e17360", "filename": "src/ci/docker/README.md", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2FREADME.md?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -25,9 +25,11 @@ before running your command.\n \n ## Filesystem layout\n \n-- Each directory, excluding `scripts` and `disabled`, corresponds to a docker image\n-- `scripts` contains files shared by docker images\n-- `disabled` contains images that are not built on CI\n+- Each host architecture has its own `host-{arch}` directory, and those\n+  directories contain a subdirectory for each Docker image (plus the `disabled`\n+  subdirectory).\n+- `host-{arch}/disabled` contains images that are not built on CI.\n+- `scripts` contains files shared by multiple Docker images.\n \n ## Docker Toolbox on Windows\n "}, {"sha": "9dd0435ac4f0c9727988c71d401d9303ac2ae456", "filename": "src/ci/docker/disabled/aarch64-gnu/Dockerfile", "status": "removed", "additions": 0, "deletions": 79, "changes": 79, "blob_url": "https://github.com/rust-lang/rust/blob/f844ea1e561475e6023282ef167e76bc973773ef/src%2Fci%2Fdocker%2Fdisabled%2Faarch64-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/f844ea1e561475e6023282ef167e76bc973773ef/src%2Fci%2Fdocker%2Fdisabled%2Faarch64-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdisabled%2Faarch64-gnu%2FDockerfile?ref=f844ea1e561475e6023282ef167e76bc973773ef", "patch": "@@ -1,79 +0,0 @@\n-FROM ubuntu:16.04\n-\n-RUN apt-get update -y && apt-get install -y --no-install-recommends \\\n-      bc \\\n-      bzip2 \\\n-      ca-certificates \\\n-      cmake \\\n-      cpio \\\n-      curl \\\n-      file \\\n-      g++ \\\n-      gcc-aarch64-linux-gnu \\\n-      git \\\n-      libc6-dev \\\n-      libc6-dev-arm64-cross \\\n-      make \\\n-      python3 \\\n-      qemu-system-aarch64 \\\n-      xz-utils\n-\n-ENV ARCH=arm64 \\\n-    CROSS_COMPILE=aarch64-linux-gnu-\n-\n-WORKDIR /build\n-\n-# Compile the kernel that we're going to run and be emulating with. This is\n-# basically just done to be compatible with the QEMU target that we're going\n-# to be using when running tests. If any other kernel works or if any\n-# other QEMU target works with some other stock kernel, we can use that too!\n-#\n-# The `config` config file was a previously generated config file for\n-# the kernel. This file was generated by running `make defconfig`\n-# followed by `make menuconfig` and then enabling the IPv6 protocol page.\n-COPY aarch64-gnu/config /build/.config\n-RUN curl https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.4.42.tar.xz | \\\n-      tar xJf - && \\\n-      cd /build/linux-4.4.42 && \\\n-      cp /build/.config . && \\\n-      make -j$(nproc) all && \\\n-      cp arch/arm64/boot/Image /tmp && \\\n-      cd /build &&  \\\n-      rm -rf linux-4.4.42\n-\n-# Compile an instance of busybox as this provides a lightweight system and init\n-# binary which we will boot into. Only trick here is configuring busybox to\n-# build static binaries.\n-RUN curl https://www.busybox.net/downloads/busybox-1.21.1.tar.bz2 | tar xjf - && \\\n-      cd busybox-1.21.1 && \\\n-      make defconfig && \\\n-      sed -i 's/.*CONFIG_STATIC.*/CONFIG_STATIC=y/' .config && \\\n-      make -j$(nproc) && \\\n-      make install && \\\n-      mv _install /tmp/rootfs && \\\n-      cd /build && \\\n-      rm -rf busybox-1.12.1\n-\n-# Download the ubuntu rootfs, which we'll use as a chroot for all our tests.\n-WORKDIR /tmp\n-RUN mkdir rootfs/ubuntu\n-RUN curl http://cdimage.ubuntu.com/ubuntu-base/releases/16.04/release/ubuntu-base-16.04-core-arm64.tar.gz | \\\n-      tar xzf - -C rootfs/ubuntu && \\\n-      cd rootfs && mkdir proc sys dev etc etc/init.d\n-\n-# Copy over our init script, which starts up our test server and also a few\n-# other misc tasks.\n-COPY scripts/qemu-bare-bones-rcS rootfs/etc/init.d/rcS\n-RUN chmod +x rootfs/etc/init.d/rcS\n-\n-# Helper to quickly fill the entropy pool in the kernel.\n-COPY scripts/qemu-bare-bones-addentropy.c /tmp/addentropy.c\n-RUN aarch64-linux-gnu-gcc addentropy.c -o rootfs/addentropy -static\n-\n-COPY scripts/sccache.sh /scripts/\n-RUN sh /scripts/sccache.sh\n-\n-ENV RUST_CONFIGURE_ARGS \\\n-      --qemu-aarch64-rootfs=/tmp/rootfs\n-ENV SCRIPT python3 ../x.py test --target aarch64-unknown-linux-gnu\n-ENV NO_CHANGE_USER=1"}, {"sha": "a1792532392f43e7012d0d45dfb66750ddb08741", "filename": "src/ci/docker/disabled/aarch64-gnu/config", "status": "removed", "additions": 0, "deletions": 3100, "changes": 3100, "blob_url": "https://github.com/rust-lang/rust/blob/f844ea1e561475e6023282ef167e76bc973773ef/src%2Fci%2Fdocker%2Fdisabled%2Faarch64-gnu%2Fconfig", "raw_url": "https://github.com/rust-lang/rust/raw/f844ea1e561475e6023282ef167e76bc973773ef/src%2Fci%2Fdocker%2Fdisabled%2Faarch64-gnu%2Fconfig", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdisabled%2Faarch64-gnu%2Fconfig?ref=f844ea1e561475e6023282ef167e76bc973773ef"}, {"sha": "114ac832cf504c38c65e7574fbb9719b8998c080", "filename": "src/ci/docker/host-aarch64/aarch64-gnu/Dockerfile", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-aarch64%2Faarch64-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-aarch64%2Faarch64-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-aarch64%2Faarch64-gnu%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -0,0 +1,26 @@\n+FROM ubuntu:20.04\n+\n+RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install -y --no-install-recommends \\\n+  g++ \\\n+  make \\\n+  file \\\n+  curl \\\n+  ca-certificates \\\n+  python3 \\\n+  git \\\n+  cmake \\\n+  sudo \\\n+  gdb \\\n+  libssl-dev \\\n+  pkg-config \\\n+  xz-utils\n+\n+COPY scripts/sccache.sh /scripts/\n+RUN sh /scripts/sccache.sh\n+\n+ENV RUST_CONFIGURE_ARGS \\\n+ --build=aarch64-unknown-linux-gnu \\\n+ --enable-sanitizers \\\n+ --enable-profiler \\\n+ --enable-compiler-docs\n+ENV SCRIPT python3 ../x.py test"}, {"sha": "aa9335c473b5b34190ad9140f9892b5e7e57ac00", "filename": "src/ci/docker/host-x86_64/arm-android/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farm-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farm-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Farm-android%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -20,7 +20,7 @@ RUN dpkg --add-architecture i386 && \\\n \n COPY scripts/android-sdk.sh /scripts/\n COPY scripts/android-sdk-manager.py /scripts/\n-COPY arm-android/android-sdk.lock /android/sdk/android-sdk.lock\n+COPY host-x86_64/arm-android/android-sdk.lock /android/sdk/android-sdk.lock\n RUN /scripts/android-sdk.sh\n \n ENV PATH=$PATH:/android/sdk/emulator", "previous_filename": "src/ci/docker/arm-android/Dockerfile"}, {"sha": "a1be8a4346b6d87c2e1f5f5367e70b6a912a4285", "filename": "src/ci/docker/host-x86_64/arm-android/android-sdk.lock", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farm-android%2Fandroid-sdk.lock", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farm-android%2Fandroid-sdk.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Farm-android%2Fandroid-sdk.lock?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/arm-android/android-sdk.lock"}, {"sha": "71071761f05cdea1e11063ab3b4a73397ab8ee51", "filename": "src/ci/docker/host-x86_64/armhf-gnu/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farmhf-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farmhf-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Farmhf-gnu%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -31,7 +31,7 @@ WORKDIR /build\n # The `vexpress_config` config file was a previously generated config file for\n # the kernel. This file was generated by running `make vexpress_defconfig`\n # followed by `make menuconfig` and then enabling the IPv6 protocol page.\n-COPY armhf-gnu/vexpress_config /build/.config\n+COPY host-x86_64/armhf-gnu/vexpress_config /build/.config\n RUN curl https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.4.42.tar.xz | \\\n       tar xJf - && \\\n       cd /build/linux-4.4.42 && \\", "previous_filename": "src/ci/docker/armhf-gnu/Dockerfile"}, {"sha": "35835cff35dcf9f36fcf7bd309be9befe3c11863", "filename": "src/ci/docker/host-x86_64/armhf-gnu/vexpress_config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farmhf-gnu%2Fvexpress_config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Farmhf-gnu%2Fvexpress_config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Farmhf-gnu%2Fvexpress_config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/armhf-gnu/vexpress_config"}, {"sha": "3fa65511e94f783912f52b7f7d2619b9a7e41cce", "filename": "src/ci/docker/host-x86_64/disabled/asmjs/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fasmjs%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fasmjs%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fasmjs%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/asmjs/Dockerfile"}, {"sha": "dea445c295c994263ef8ce7886a8b76b84adbaec", "filename": "src/ci/docker/host-x86_64/disabled/dist-aarch64-android/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-aarch64-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-aarch64-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-aarch64-android%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-aarch64-android/Dockerfile"}, {"sha": "7227c41ccca9a7dda4f54bcac161c7163a50384a", "filename": "src/ci/docker/host-x86_64/disabled/dist-armv7-android/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-armv7-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-armv7-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-armv7-android%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-armv7-android/Dockerfile"}, {"sha": "b74dcefa3516c5566262896a62b18f781cf10b9a", "filename": "src/ci/docker/host-x86_64/disabled/dist-i686-android/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-i686-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-i686-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-i686-android%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-i686-android/Dockerfile"}, {"sha": "19df9d6cf6231e4712b79422c22cdf93d295340c", "filename": "src/ci/docker/host-x86_64/disabled/dist-powerpcspe-linux/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-powerpcspe-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-powerpcspe-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-powerpcspe-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-powerpcspe-linux/Dockerfile"}, {"sha": "62d0bfc71b2fa76a0cdf5cb635b9aa366804c703", "filename": "src/ci/docker/host-x86_64/disabled/dist-sparc64-linux/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-sparc64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-sparc64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-sparc64-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-sparc64-linux/Dockerfile"}, {"sha": "d44779763e5443901234b12dc213594a4def7222", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-android/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-android%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-x86_64-android/Dockerfile"}, {"sha": "5e743f0818a4f43ce26245efe3958f67db591381", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-dragonfly/Dockerfile", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -18,8 +18,8 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n   pkg-config\n \n \n-COPY dist-x86_64-dragonfly/build-toolchain.sh /tmp/\n-COPY dist-x86_64-dragonfly/patch-toolchain /tmp/\n+COPY host-x86_64/dist-x86_64-dragonfly/build-toolchain.sh /tmp/\n+COPY host-x86_64/dist-x86_64-dragonfly/patch-toolchain /tmp/\n RUN /tmp/build-toolchain.sh /tmp/patch-toolchain\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/disabled/dist-x86_64-dragonfly/Dockerfile"}, {"sha": "112d747fe4ed6b50b9f6ce2512a0012184eb834a", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-dragonfly/build-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2Fbuild-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2Fbuild-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2Fbuild-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-x86_64-dragonfly/build-toolchain.sh"}, {"sha": "98424309ee23dbca8f8fb1fd82cb678174c9c558", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-dragonfly/patch-toolchain", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2Fpatch-toolchain", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2Fpatch-toolchain", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-dragonfly%2Fpatch-toolchain?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-x86_64-dragonfly/patch-toolchain"}, {"sha": "61b3179d55fd879453901b23faa6aea1dd731cdc", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-haiku/Dockerfile", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -25,15 +25,15 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n   xz-utils \\\n   zlib1g-dev\n \n-COPY dist-x86_64-haiku/llvm-config.sh /bin/llvm-config-haiku\n+COPY host-x86_64/dist-x86_64-haiku/llvm-config.sh /bin/llvm-config-haiku\n \n ENV ARCH=x86_64\n \n WORKDIR /tmp\n-COPY dist-x86_64-haiku/build-toolchain.sh /tmp/\n+COPY host-x86_64/dist-x86_64-haiku/build-toolchain.sh /tmp/\n RUN /tmp/build-toolchain.sh $ARCH\n \n-COPY dist-x86_64-haiku/fetch-packages.sh /tmp/\n+COPY host-x86_64/dist-x86_64-haiku/fetch-packages.sh /tmp/\n RUN /tmp/fetch-packages.sh\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/disabled/dist-x86_64-haiku/Dockerfile"}, {"sha": "faf30f36a20f9e06fa9c2a58af3c218c3f9a6794", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-haiku/build-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Fbuild-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Fbuild-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Fbuild-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-x86_64-haiku/build-toolchain.sh"}, {"sha": "e4c9f86d268dc5d9a2442174f8adff58bc18f59b", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-haiku/fetch-packages.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Ffetch-packages.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Ffetch-packages.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Ffetch-packages.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-x86_64-haiku/fetch-packages.sh"}, {"sha": "83f3a6e5f121685435e6ee7ca0eac6565deda4ac", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-haiku/llvm-config.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Fllvm-config.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Fllvm-config.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-haiku%2Fllvm-config.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/dist-x86_64-haiku/llvm-config.sh"}, {"sha": "b32c498c74eeb0b578f199f2b4a3ff58d869d9d9", "filename": "src/ci/docker/host-x86_64/disabled/dist-x86_64-redox/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-redox%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-redox%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Fdist-x86_64-redox%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -7,7 +7,7 @@ COPY scripts/crosstool-ng.sh /scripts/\n RUN sh /scripts/crosstool-ng.sh\n \n WORKDIR /tmp\n-COPY dist-various-1/install-x86_64-redox.sh /scripts/\n+COPY host-x86_64/dist-various-1/install-x86_64-redox.sh /scripts/\n RUN sh /scripts/install-x86_64-redox.sh\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/disabled/dist-x86_64-redox/Dockerfile"}, {"sha": "08d0c5b2cac1e70e8b87dbd49348ad32c889c364", "filename": "src/ci/docker/host-x86_64/disabled/riscv64gc-linux/0001-Remove-stime-function-calls.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2F0001-Remove-stime-function-calls.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2F0001-Remove-stime-function-calls.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2F0001-Remove-stime-function-calls.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/riscv64gc-linux/0001-Remove-stime-function-calls.patch"}, {"sha": "40c02ba6510aa8f551040059e301aeec22b77d4c", "filename": "src/ci/docker/host-x86_64/disabled/riscv64gc-linux/Dockerfile", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -31,7 +31,7 @@ ENV CROSS_COMPILE=riscv64-linux-gnu-\n WORKDIR /build\n \n # From https://github.com/michaeljclark/busybear-linux/blob/master/conf/linux.config\n-COPY riscv64gc-linux/linux.config /build\n+COPY host-x86_64/riscv64gc-linux/linux.config /build\n \n # Compile the kernel that we're going to be emulating with. This is\n # basically just done to be compatible with the QEMU target that we're going\n@@ -48,7 +48,7 @@ RUN rm -rf linux-5.6.16\n # binary which we will boot into. Only trick here is configuring busybox to\n # build static binaries.\n RUN curl https://busybox.net/downloads/busybox-1.31.1.tar.bz2 | tar xjf -\n-COPY riscv64gc-linux/0001-Remove-stime-function-calls.patch /build/busybox-1.31.1/\n+COPY host-x86_64/riscv64gc-linux/0001-Remove-stime-function-calls.patch /build/busybox-1.31.1/\n RUN cd /build/busybox-1.31.1 && \\\n     patch -p1 -i 0001-Remove-stime-function-calls.patch && \\\n     make defconfig && \\", "previous_filename": "src/ci/docker/disabled/riscv64gc-linux/Dockerfile"}, {"sha": "5142664742f20248d66d550dfdbf64e94167adf5", "filename": "src/ci/docker/host-x86_64/disabled/riscv64gc-linux/linux.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2Flinux.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2Flinux.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdisabled%2Friscv64gc-linux%2Flinux.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/disabled/riscv64gc-linux/linux.config"}, {"sha": "df65f9df44127002be9037e0da9c8a5ddc6a8e0b", "filename": "src/ci/docker/host-x86_64/dist-aarch64-linux/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -16,7 +16,7 @@ RUN sh /scripts/rustbuild-setup.sh\n USER rustbuild\n WORKDIR /tmp\n \n-COPY dist-aarch64-linux/aarch64-linux-gnu.config dist-aarch64-linux/build-toolchains.sh /tmp/\n+COPY host-x86_64/dist-aarch64-linux/aarch64-linux-gnu.config host-x86_64/dist-aarch64-linux/build-toolchains.sh /tmp/\n RUN ./build-toolchains.sh\n \n USER root", "previous_filename": "src/ci/docker/dist-aarch64-linux/Dockerfile"}, {"sha": "3d30ee49022d8f9318abc0fa52d71cd8310799d1", "filename": "src/ci/docker/host-x86_64/dist-aarch64-linux/aarch64-linux-gnu.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2Faarch64-linux-gnu.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2Faarch64-linux-gnu.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2Faarch64-linux-gnu.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-aarch64-linux/aarch64-linux-gnu.config"}, {"sha": "390ba1a1ddf9cfd28f3566c583365e7736742f6f", "filename": "src/ci/docker/host-x86_64/dist-aarch64-linux/build-toolchains.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2Fbuild-toolchains.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2Fbuild-toolchains.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-aarch64-linux%2Fbuild-toolchains.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-aarch64-linux/build-toolchains.sh"}, {"sha": "6d38e199564b1d3de503864bbd36847f72031260", "filename": "src/ci/docker/host-x86_64/dist-android/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-android%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-android/Dockerfile"}, {"sha": "ba93f6ad8240304966f837b2bd430738701f367f", "filename": "src/ci/docker/host-x86_64/dist-arm-linux/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -11,7 +11,7 @@ RUN sh /scripts/rustbuild-setup.sh\n USER rustbuild\n WORKDIR /tmp\n \n-COPY dist-arm-linux/arm-linux-gnueabi.config dist-arm-linux/build-toolchains.sh /tmp/\n+COPY host-x86_64/dist-arm-linux/arm-linux-gnueabi.config host-x86_64/dist-arm-linux/build-toolchains.sh /tmp/\n RUN ./build-toolchains.sh\n \n USER root", "previous_filename": "src/ci/docker/dist-arm-linux/Dockerfile"}, {"sha": "1dcdbd1a9008be2eb76c7f5f8c781e8e234e953c", "filename": "src/ci/docker/host-x86_64/dist-arm-linux/arm-linux-gnueabi.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Farm-linux-gnueabi.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Farm-linux-gnueabi.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Farm-linux-gnueabi.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-arm-linux/arm-linux-gnueabi.config"}, {"sha": "2e790b77a96c2c60f636f99800e3ad3a22ea1515", "filename": "src/ci/docker/host-x86_64/dist-arm-linux/build-toolchains.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Fbuild-toolchains.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Fbuild-toolchains.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Fbuild-toolchains.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-arm-linux/build-toolchains.sh"}, {"sha": "977ef08c27478330f3d8f417818891a964906827", "filename": "src/ci/docker/host-x86_64/dist-armhf-linux/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -11,7 +11,7 @@ RUN sh /scripts/rustbuild-setup.sh\n USER rustbuild\n WORKDIR /tmp\n \n-COPY dist-armhf-linux/arm-linux-gnueabihf.config dist-armhf-linux/build-toolchains.sh /tmp/\n+COPY host-x86_64/dist-armhf-linux/arm-linux-gnueabihf.config host-x86_64/dist-armhf-linux/build-toolchains.sh /tmp/\n RUN ./build-toolchains.sh\n \n USER root", "previous_filename": "src/ci/docker/dist-armhf-linux/Dockerfile"}, {"sha": "a3dcff1c9363538d11ca2ad8967d948405d998eb", "filename": "src/ci/docker/host-x86_64/dist-armhf-linux/arm-linux-gnueabihf.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Farm-linux-gnueabihf.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Farm-linux-gnueabihf.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Farm-linux-gnueabihf.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-armhf-linux/arm-linux-gnueabihf.config"}, {"sha": "a01c2e0eb0a7c8817395273447e7f3edf6eeb594", "filename": "src/ci/docker/host-x86_64/dist-armhf-linux/build-toolchains.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Fbuild-toolchains.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Fbuild-toolchains.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Fbuild-toolchains.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-armhf-linux/build-toolchains.sh"}, {"sha": "65d713359d99ea841a3c247e54c35c46c50d14e1", "filename": "src/ci/docker/host-x86_64/dist-armv7-linux/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -11,7 +11,7 @@ RUN sh /scripts/rustbuild-setup.sh\n USER rustbuild\n WORKDIR /tmp\n \n-COPY dist-armv7-linux/build-toolchains.sh dist-armv7-linux/armv7-linux-gnueabihf.config /tmp/\n+COPY host-x86_64/dist-armv7-linux/build-toolchains.sh host-x86_64/dist-armv7-linux/armv7-linux-gnueabihf.config /tmp/\n RUN ./build-toolchains.sh\n \n USER root", "previous_filename": "src/ci/docker/dist-armv7-linux/Dockerfile"}, {"sha": "81b3d7477ec8d1537a5a9d787ca2bc6dc947a949", "filename": "src/ci/docker/host-x86_64/dist-armv7-linux/armv7-linux-gnueabihf.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Farmv7-linux-gnueabihf.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Farmv7-linux-gnueabihf.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Farmv7-linux-gnueabihf.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-armv7-linux/armv7-linux-gnueabihf.config"}, {"sha": "28f8ba2437b3d2166d19bd7301dcdeec1617f506", "filename": "src/ci/docker/host-x86_64/dist-armv7-linux/build-toolchains.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Fbuild-toolchains.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Fbuild-toolchains.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Fbuild-toolchains.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-armv7-linux/build-toolchains.sh"}, {"sha": "996fffeb871cfc9f7f6fe23e08f7ac33cc7b11ae", "filename": "src/ci/docker/host-x86_64/dist-i586-gnu-i586-i686-musl/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-i586-gnu-i586-i686-musl/Dockerfile"}, {"sha": "7978bb70869652f8e5c39ad66f2bff6a27a9ee5f", "filename": "src/ci/docker/host-x86_64/dist-i686-freebsd/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i686-freebsd%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i686-freebsd%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i686-freebsd%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-i686-freebsd/Dockerfile"}, {"sha": "eac0ed24d509e94a0be5377eab1af980702bd1a8", "filename": "src/ci/docker/host-x86_64/dist-i686-linux/Dockerfile", "status": "renamed", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i686-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i686-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i686-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -29,13 +29,13 @@ ENV PATH=/rustroot/bin:$PATH\n ENV LD_LIBRARY_PATH=/rustroot/lib64:/rustroot/lib\n ENV PKG_CONFIG_PATH=/rustroot/lib/pkgconfig\n WORKDIR /tmp\n-COPY dist-x86_64-linux/shared.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/shared.sh /tmp/\n \n # We need a build of openssl which supports SNI to download artifacts from\n # static.rust-lang.org. This'll be used to link into libcurl below (and used\n # later as well), so build a copy of OpenSSL with dynamic libraries into our\n # generic root.\n-COPY dist-x86_64-linux/build-openssl.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-openssl.sh /tmp/\n RUN ./build-openssl.sh\n \n # The `curl` binary on CentOS doesn't support SNI which is needed for fetching\n@@ -44,48 +44,48 @@ RUN ./build-openssl.sh\n #\n # Note that we also disable a bunch of optional features of curl that we don't\n # really need.\n-COPY dist-x86_64-linux/build-curl.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-curl.sh /tmp/\n RUN ./build-curl.sh\n \n # binutils < 2.22 has a bug where the 32-bit executables it generates\n # immediately segfault in Rust, so we need to install our own binutils.\n #\n # See https://github.com/rust-lang/rust/issues/20440 for more info\n-COPY dist-x86_64-linux/build-binutils.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-binutils.sh /tmp/\n RUN ./build-binutils.sh\n \n # libssh2 (a dependency of Cargo) requires cmake 2.8.11 or higher but CentOS\n # only has 2.6.4, so build our own\n-COPY dist-x86_64-linux/build-cmake.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-cmake.sh /tmp/\n RUN ./build-cmake.sh\n \n # Need a newer version of gcc than centos has to compile LLVM nowadays\n-COPY dist-x86_64-linux/build-gcc.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-gcc.sh /tmp/\n RUN ./build-gcc.sh\n \n # CentOS 5.5 has Python 2.4 by default, but LLVM needs 2.7+\n-COPY dist-x86_64-linux/build-python.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-python.sh /tmp/\n RUN ./build-python.sh\n \n # Now build LLVM+Clang 7, afterwards configuring further compilations to use the\n # clang/clang++ compilers.\n-COPY dist-x86_64-linux/build-clang.sh dist-x86_64-linux/llvm-project-centos.patch /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-clang.sh host-x86_64/dist-x86_64-linux/llvm-project-centos.patch /tmp/\n RUN ./build-clang.sh\n ENV CC=clang CXX=clang++\n \n # Apparently CentOS 5.5 desn't have `git` in yum, but we're gonna need it for\n # cloning, so download and build it here.\n-COPY dist-x86_64-linux/build-git.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-git.sh /tmp/\n RUN ./build-git.sh\n \n # for sanitizers, we need kernel headers files newer than the ones CentOS ships\n # with so we install newer ones here\n-COPY dist-x86_64-linux/build-headers.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-headers.sh /tmp/\n RUN ./build-headers.sh\n \n # OpenSSL requires a more recent version of perl\n # with so we install newer ones here\n-COPY dist-x86_64-linux/build-perl.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-perl.sh /tmp/\n RUN ./build-perl.sh\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/dist-i686-linux/Dockerfile"}, {"sha": "57a7fc25b5c13ead0cf11168a452b053c94dd58c", "filename": "src/ci/docker/host-x86_64/dist-mips-linux/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-mips-linux/Dockerfile"}, {"sha": "63f1028e2be593db9db9c0e533f9ae6c2f0a5f6c", "filename": "src/ci/docker/host-x86_64/dist-mips64-linux/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips64-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-mips64-linux/Dockerfile"}, {"sha": "a51edbc9c7923a49d0684efe54e5df4d0096f595", "filename": "src/ci/docker/host-x86_64/dist-mips64el-linux/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips64el-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips64el-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mips64el-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-mips64el-linux/Dockerfile"}, {"sha": "908cef90cef6900c801a8fab567b0a1f5e8587c5", "filename": "src/ci/docker/host-x86_64/dist-mipsel-linux/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mipsel-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mipsel-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-mipsel-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-mipsel-linux/Dockerfile"}, {"sha": "651daac86139db706c12f4135de3e9cbf248310d", "filename": "src/ci/docker/host-x86_64/dist-powerpc-linux/Dockerfile", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -16,8 +16,8 @@ RUN sh /scripts/rustbuild-setup.sh\n USER rustbuild\n WORKDIR /tmp\n \n-COPY dist-powerpc-linux/patches/ /tmp/patches/\n-COPY dist-powerpc-linux/powerpc-linux-gnu.config dist-powerpc-linux/build-powerpc-toolchain.sh /tmp/\n+COPY host-x86_64/dist-powerpc-linux/patches/ /tmp/patches/\n+COPY host-x86_64/dist-powerpc-linux/powerpc-linux-gnu.config host-x86_64/dist-powerpc-linux/build-powerpc-toolchain.sh /tmp/\n RUN ./build-powerpc-toolchain.sh\n \n USER root", "previous_filename": "src/ci/docker/dist-powerpc-linux/Dockerfile"}, {"sha": "d2e39834d6e96317b17984d5c86661410372cbf1", "filename": "src/ci/docker/host-x86_64/dist-powerpc-linux/build-powerpc-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fbuild-powerpc-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fbuild-powerpc-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fbuild-powerpc-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc-linux/build-powerpc-toolchain.sh"}, {"sha": "744eb180cd1f670cd52f3b47ccce8ce645e20a91", "filename": "src/ci/docker/host-x86_64/dist-powerpc-linux/patches/glibc/2.12.2/001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc-linux/patches/glibc/2.12.2/001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch"}, {"sha": "a96b4882c2d5765e3a600e77ebbef747f6e4d9ff", "filename": "src/ci/docker/host-x86_64/dist-powerpc-linux/patches/glibc/2.12.2/002-newer-gcc.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-newer-gcc.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-newer-gcc.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-newer-gcc.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc-linux/patches/glibc/2.12.2/002-newer-gcc.patch"}, {"sha": "7df41da2bf76e87cc5f3fe670b252b6850318578", "filename": "src/ci/docker/host-x86_64/dist-powerpc-linux/powerpc-linux-gnu.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpowerpc-linux-gnu.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpowerpc-linux-gnu.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc-linux%2Fpowerpc-linux-gnu.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc-linux/powerpc-linux-gnu.config"}, {"sha": "6ff4d787212a040655158a6f8dcfc3350efb1d4d", "filename": "src/ci/docker/host-x86_64/dist-powerpc64-linux/Dockerfile", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -17,8 +17,8 @@ RUN sh /scripts/rustbuild-setup.sh\n USER rustbuild\n WORKDIR /tmp\n \n-COPY dist-powerpc64-linux/patches/ /tmp/patches/\n-COPY dist-powerpc64-linux/shared.sh dist-powerpc64-linux/powerpc64-linux-gnu.config dist-powerpc64-linux/build-powerpc64-toolchain.sh /tmp/\n+COPY host-x86_64/dist-powerpc64-linux/patches/ /tmp/patches/\n+COPY host-x86_64/dist-powerpc64-linux/shared.sh host-x86_64/dist-powerpc64-linux/powerpc64-linux-gnu.config host-x86_64/dist-powerpc64-linux/build-powerpc64-toolchain.sh /tmp/\n RUN ./build-powerpc64-toolchain.sh\n \n USER root", "previous_filename": "src/ci/docker/dist-powerpc64-linux/Dockerfile"}, {"sha": "fc53849a2ada41f6094b3793e96b093d8ffc606a", "filename": "src/ci/docker/host-x86_64/dist-powerpc64-linux/build-powerpc64-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fbuild-powerpc64-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fbuild-powerpc64-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fbuild-powerpc64-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64-linux/build-powerpc64-toolchain.sh"}, {"sha": "744eb180cd1f670cd52f3b47ccce8ce645e20a91", "filename": "src/ci/docker/host-x86_64/dist-powerpc64-linux/patches/glibc/2.12.2/001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64-linux/patches/glibc/2.12.2/001-PowerPC-Remove-unnecessary-mnew-mnemonics.patch"}, {"sha": "47cc8b28d225a11d496593d510e43f6bc7fa2e7b", "filename": "src/ci/docker/host-x86_64/dist-powerpc64-linux/patches/glibc/2.12.2/002-Prevent-inlining-in-PPC64-initfini.s.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-Prevent-inlining-in-PPC64-initfini.s.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-Prevent-inlining-in-PPC64-initfini.s.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-Prevent-inlining-in-PPC64-initfini.s.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64-linux/patches/glibc/2.12.2/002-Prevent-inlining-in-PPC64-initfini.s.patch"}, {"sha": "a96b4882c2d5765e3a600e77ebbef747f6e4d9ff", "filename": "src/ci/docker/host-x86_64/dist-powerpc64-linux/patches/glibc/2.12.2/003-newer-gcc.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F003-newer-gcc.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F003-newer-gcc.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpatches%2Fglibc%2F2.12.2%2F003-newer-gcc.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64-linux/patches/glibc/2.12.2/003-newer-gcc.patch"}, {"sha": "4aab4f4fd44457eccf86ed90e8290bdd59f1e6e1", "filename": "src/ci/docker/host-x86_64/dist-powerpc64-linux/powerpc64-linux-gnu.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpowerpc64-linux-gnu.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpowerpc64-linux-gnu.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fpowerpc64-linux-gnu.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64-linux/powerpc64-linux-gnu.config"}, {"sha": "b873569278914e54c8dc3eb7e7871a4c793da72c", "filename": "src/ci/docker/host-x86_64/dist-powerpc64-linux/shared.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fshared.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fshared.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64-linux%2Fshared.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64-linux/shared.sh"}, {"sha": "c1a621ff105b7552ff3451223d720abe0b3db0d8", "filename": "src/ci/docker/host-x86_64/dist-powerpc64le-linux/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -19,7 +19,7 @@ WORKDIR /tmp\n USER root\n \n RUN apt-get install -y --no-install-recommends rpm2cpio cpio\n-COPY dist-powerpc64le-linux/shared.sh dist-powerpc64le-linux/build-powerpc64le-toolchain.sh /tmp/\n+COPY host-x86_64/dist-powerpc64le-linux/shared.sh host-x86_64/dist-powerpc64le-linux/build-powerpc64le-toolchain.sh /tmp/\n RUN ./build-powerpc64le-toolchain.sh\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/dist-powerpc64le-linux/Dockerfile"}, {"sha": "f866a24287f9e6d9aed7b0758bd4ee258f37ee1c", "filename": "src/ci/docker/host-x86_64/dist-powerpc64le-linux/build-powerpc64le-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2Fbuild-powerpc64le-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2Fbuild-powerpc64le-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2Fbuild-powerpc64le-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64le-linux/build-powerpc64le-toolchain.sh"}, {"sha": "b873569278914e54c8dc3eb7e7871a4c793da72c", "filename": "src/ci/docker/host-x86_64/dist-powerpc64le-linux/shared.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2Fshared.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2Fshared.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-powerpc64le-linux%2Fshared.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-powerpc64le-linux/shared.sh"}, {"sha": "1b261993cfc4f8a742e6a33e3c8b2837c441efa0", "filename": "src/ci/docker/host-x86_64/dist-s390x-linux/Dockerfile", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -16,8 +16,8 @@ RUN sh /scripts/rustbuild-setup.sh\n USER rustbuild\n WORKDIR /tmp\n \n-COPY dist-s390x-linux/patches/ /tmp/patches/\n-COPY dist-s390x-linux/s390x-linux-gnu.config dist-s390x-linux/build-s390x-toolchain.sh /tmp/\n+COPY host-x86_64/dist-s390x-linux/patches/ /tmp/patches/\n+COPY host-x86_64/dist-s390x-linux/s390x-linux-gnu.config host-x86_64/dist-s390x-linux/build-s390x-toolchain.sh /tmp/\n RUN ./build-s390x-toolchain.sh\n \n USER root", "previous_filename": "src/ci/docker/dist-s390x-linux/Dockerfile"}, {"sha": "df9529da8a1628c910d616a77b506d870e74320a", "filename": "src/ci/docker/host-x86_64/dist-s390x-linux/build-s390x-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fbuild-s390x-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fbuild-s390x-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fbuild-s390x-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-s390x-linux/build-s390x-toolchain.sh"}, {"sha": "cba416ed2f70bc12990229442e23feb47a0fdd3c", "filename": "src/ci/docker/host-x86_64/dist-s390x-linux/patches/glibc/2.12.2/001-Use-.machine-to-prevent-AS-from-complaining-about-z9.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-Use-.machine-to-prevent-AS-from-complaining-about-z9.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-Use-.machine-to-prevent-AS-from-complaining-about-z9.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fpatches%2Fglibc%2F2.12.2%2F001-Use-.machine-to-prevent-AS-from-complaining-about-z9.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-s390x-linux/patches/glibc/2.12.2/001-Use-.machine-to-prevent-AS-from-complaining-about-z9.patch"}, {"sha": "a96b4882c2d5765e3a600e77ebbef747f6e4d9ff", "filename": "src/ci/docker/host-x86_64/dist-s390x-linux/patches/glibc/2.12.2/002-newer-gcc.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-newer-gcc.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-newer-gcc.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fpatches%2Fglibc%2F2.12.2%2F002-newer-gcc.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-s390x-linux/patches/glibc/2.12.2/002-newer-gcc.patch"}, {"sha": "cd1c41b02e3122e53059ac6a9a5565cd8952cb62", "filename": "src/ci/docker/host-x86_64/dist-s390x-linux/s390x-linux-gnu.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fs390x-linux-gnu.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fs390x-linux-gnu.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-s390x-linux%2Fs390x-linux-gnu.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-s390x-linux/s390x-linux-gnu.config"}, {"sha": "87bab78f796c072b9b1c2e2f90474f426e7b4745", "filename": "src/ci/docker/host-x86_64/dist-various-1/Dockerfile", "status": "renamed", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -47,7 +47,7 @@ RUN add-apt-repository ppa:team-gcc-arm-embedded/ppa && \\\n     apt-get update && \\\n     apt-get install -y --no-install-recommends gcc-arm-embedded\n \n-COPY scripts/rustbuild-setup.sh dist-various-1/build-riscv-toolchain.sh dist-various-1/riscv64-unknown-linux-gnu.config dist-various-1/crosstool-ng.sh /build/\n+COPY scripts/rustbuild-setup.sh host-x86_64/dist-various-1/build-riscv-toolchain.sh host-x86_64/dist-various-1/riscv64-unknown-linux-gnu.config host-x86_64/dist-various-1/crosstool-ng.sh /build/\n RUN ./crosstool-ng.sh\n \n # Crosstool-ng will refuse to build as root\n@@ -59,19 +59,19 @@ RUN ./build-riscv-toolchain.sh\n USER root\n ENV PATH=/x-tools/riscv64-unknown-linux-gnu/bin:$PATH\n \n-COPY dist-various-1/build-rumprun.sh /build\n+COPY host-x86_64/dist-various-1/build-rumprun.sh /build\n RUN ./build-rumprun.sh\n \n-COPY dist-various-1/install-x86_64-redox.sh /build\n+COPY host-x86_64/dist-various-1/install-x86_64-redox.sh /build\n RUN ./install-x86_64-redox.sh\n \n-COPY dist-various-1/install-mips-musl.sh /build\n+COPY host-x86_64/dist-various-1/install-mips-musl.sh /build\n RUN ./install-mips-musl.sh\n \n-COPY dist-various-1/install-mipsel-musl.sh /build\n+COPY host-x86_64/dist-various-1/install-mipsel-musl.sh /build\n RUN ./install-mipsel-musl.sh\n \n-COPY dist-various-1/install-aarch64-none-elf.sh /build\n+COPY host-x86_64/dist-various-1/install-aarch64-none-elf.sh /build\n RUN ./install-aarch64-none-elf.sh\n \n # Suppress some warnings in the openwrt toolchains we downloaded", "previous_filename": "src/ci/docker/dist-various-1/Dockerfile"}, {"sha": "9cb5700b3b6fb1eb352863c3a81f7ce833207c3d", "filename": "src/ci/docker/host-x86_64/dist-various-1/build-riscv-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fbuild-riscv-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fbuild-riscv-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fbuild-riscv-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/build-riscv-toolchain.sh"}, {"sha": "9c7aaef4f436f6cbf5d833a3dc994f0c02183424", "filename": "src/ci/docker/host-x86_64/dist-various-1/build-rumprun.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fbuild-rumprun.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fbuild-rumprun.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fbuild-rumprun.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/build-rumprun.sh"}, {"sha": "b01fdd0bf65e7f355dc1c28207ee3cf13f3f53a8", "filename": "src/ci/docker/host-x86_64/dist-various-1/crosstool-ng.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fcrosstool-ng.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fcrosstool-ng.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Fcrosstool-ng.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/crosstool-ng.sh"}, {"sha": "d72976c28584225902eeed7ede849610ce3ee586", "filename": "src/ci/docker/host-x86_64/dist-various-1/install-aarch64-none-elf.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-aarch64-none-elf.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-aarch64-none-elf.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-aarch64-none-elf.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/install-aarch64-none-elf.sh"}, {"sha": "9584258d23403b12fcfbb0249cec584535852c6e", "filename": "src/ci/docker/host-x86_64/dist-various-1/install-mips-musl.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-mips-musl.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-mips-musl.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-mips-musl.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/install-mips-musl.sh"}, {"sha": "50a8e554b1675f789f074c09e657260f242d2ca2", "filename": "src/ci/docker/host-x86_64/dist-various-1/install-mipsel-musl.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-mipsel-musl.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-mipsel-musl.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-mipsel-musl.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/install-mipsel-musl.sh"}, {"sha": "dad9792233847fd7ad77a28fc72dc4d5aa439a6a", "filename": "src/ci/docker/host-x86_64/dist-various-1/install-x86_64-redox.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-x86_64-redox.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-x86_64-redox.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Finstall-x86_64-redox.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/install-x86_64-redox.sh"}, {"sha": "dd06065b19740a2456d9ebcaf759d483075f4672", "filename": "src/ci/docker/host-x86_64/dist-various-1/riscv64-unknown-linux-gnu.config", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Friscv64-unknown-linux-gnu.config", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Friscv64-unknown-linux-gnu.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2Friscv64-unknown-linux-gnu.config?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-1/riscv64-unknown-linux-gnu.config"}, {"sha": "498b289ae1aff40ba98fc3e1763adac8edfe9060", "filename": "src/ci/docker/host-x86_64/dist-various-2/Dockerfile", "status": "renamed", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -60,20 +60,20 @@ RUN env \\\n     rm -rf /build/*\n \n WORKDIR /tmp\n-COPY dist-various-2/shared.sh /tmp/\n-COPY dist-various-2/build-cloudabi-toolchain.sh /tmp/\n+COPY host-x86_64/dist-various-2/shared.sh /tmp/\n+COPY host-x86_64/dist-various-2/build-cloudabi-toolchain.sh /tmp/\n RUN /tmp/build-cloudabi-toolchain.sh x86_64-unknown-cloudabi\n-COPY dist-various-2/build-fuchsia-toolchain.sh /tmp/\n+COPY host-x86_64/dist-various-2/build-fuchsia-toolchain.sh /tmp/\n RUN /tmp/build-fuchsia-toolchain.sh\n-COPY dist-various-2/build-solaris-toolchain.sh /tmp/\n+COPY host-x86_64/dist-various-2/build-solaris-toolchain.sh /tmp/\n RUN /tmp/build-solaris-toolchain.sh x86_64  amd64   solaris-i386\n RUN /tmp/build-solaris-toolchain.sh sparcv9 sparcv9 solaris-sparc\n-COPY dist-various-2/build-x86_64-fortanix-unknown-sgx-toolchain.sh /tmp/\n-COPY dist-various-2/x86_64-fortanix-unknown-sgx-clang-wrap.sh /usr/bin/x86_64-fortanix-unknown-sgx-clang-11\n+COPY host-x86_64/dist-various-2/build-x86_64-fortanix-unknown-sgx-toolchain.sh /tmp/\n+COPY host-x86_64/dist-various-2/x86_64-fortanix-unknown-sgx-clang-wrap.sh /usr/bin/x86_64-fortanix-unknown-sgx-clang-11\n RUN ln -s /usr/bin/x86_64-fortanix-unknown-sgx-clang-11 /usr/bin/x86_64-fortanix-unknown-sgx-clang++-11\n RUN /tmp/build-x86_64-fortanix-unknown-sgx-toolchain.sh\n \n-COPY dist-various-2/build-wasi-toolchain.sh /tmp/\n+COPY host-x86_64/dist-various-2/build-wasi-toolchain.sh /tmp/\n RUN /tmp/build-wasi-toolchain.sh\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/dist-various-2/Dockerfile"}, {"sha": "3354a796c357e51672845828d83e4a0e94160722", "filename": "src/ci/docker/host-x86_64/dist-various-2/build-cloudabi-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-2/build-cloudabi-toolchain.sh"}, {"sha": "73acdf5be6356733909ae059d71837f5c64be18d", "filename": "src/ci/docker/host-x86_64/dist-various-2/build-fuchsia-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-fuchsia-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-fuchsia-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-fuchsia-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-2/build-fuchsia-toolchain.sh"}, {"sha": "4b3f284450eaa35a76351d5dc84fd0e1074e78dd", "filename": "src/ci/docker/host-x86_64/dist-various-2/build-solaris-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-solaris-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-solaris-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-solaris-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-2/build-solaris-toolchain.sh"}, {"sha": "c82031690ab6a81b1bcdbaab7311ce515501ba09", "filename": "src/ci/docker/host-x86_64/dist-various-2/build-wasi-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-2/build-wasi-toolchain.sh"}, {"sha": "78bf4527feff19e953c4d06d4f4bd4e0ecc6fd8d", "filename": "src/ci/docker/host-x86_64/dist-various-2/build-x86_64-fortanix-unknown-sgx-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-x86_64-fortanix-unknown-sgx-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-x86_64-fortanix-unknown-sgx-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-x86_64-fortanix-unknown-sgx-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-2/build-x86_64-fortanix-unknown-sgx-toolchain.sh"}, {"sha": "7abace65b9c03a1db28378137404e853c7b8bf4b", "filename": "src/ci/docker/host-x86_64/dist-various-2/shared.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fshared.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fshared.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fshared.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-2/shared.sh"}, {"sha": "c4ff44c37b1e35aa6e1a2d441d8fcfbaaaa305eb", "filename": "src/ci/docker/host-x86_64/dist-various-2/x86_64-fortanix-unknown-sgx-clang-wrap.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fx86_64-fortanix-unknown-sgx-clang-wrap.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fx86_64-fortanix-unknown-sgx-clang-wrap.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fx86_64-fortanix-unknown-sgx-clang-wrap.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-various-2/x86_64-fortanix-unknown-sgx-clang-wrap.sh"}, {"sha": "12170a366148755d884b97eb93cfaeb29e82cc2b", "filename": "src/ci/docker/host-x86_64/dist-x86_64-freebsd/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-freebsd%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-freebsd%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-freebsd%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-freebsd/Dockerfile"}, {"sha": "8b78214fbdd146138dcca92b622c5e51da17c5ed", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/Dockerfile", "status": "renamed", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -29,13 +29,13 @@ ENV PATH=/rustroot/bin:$PATH\n ENV LD_LIBRARY_PATH=/rustroot/lib64:/rustroot/lib\n ENV PKG_CONFIG_PATH=/rustroot/lib/pkgconfig\n WORKDIR /tmp\n-COPY dist-x86_64-linux/shared.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/shared.sh /tmp/\n \n # We need a build of openssl which supports SNI to download artifacts from\n # static.rust-lang.org. This'll be used to link into libcurl below (and used\n # later as well), so build a copy of OpenSSL with dynamic libraries into our\n # generic root.\n-COPY dist-x86_64-linux/build-openssl.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-openssl.sh /tmp/\n RUN ./build-openssl.sh\n \n # The `curl` binary on CentOS doesn't support SNI which is needed for fetching\n@@ -44,48 +44,48 @@ RUN ./build-openssl.sh\n #\n # Note that we also disable a bunch of optional features of curl that we don't\n # really need.\n-COPY dist-x86_64-linux/build-curl.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-curl.sh /tmp/\n RUN ./build-curl.sh\n \n # binutils < 2.22 has a bug where the 32-bit executables it generates\n # immediately segfault in Rust, so we need to install our own binutils.\n #\n # See https://github.com/rust-lang/rust/issues/20440 for more info\n-COPY dist-x86_64-linux/build-binutils.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-binutils.sh /tmp/\n RUN ./build-binutils.sh\n \n # libssh2 (a dependency of Cargo) requires cmake 2.8.11 or higher but CentOS\n # only has 2.6.4, so build our own\n-COPY dist-x86_64-linux/build-cmake.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-cmake.sh /tmp/\n RUN ./build-cmake.sh\n \n # Build a version of gcc capable of building LLVM 6\n-COPY dist-x86_64-linux/build-gcc.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-gcc.sh /tmp/\n RUN ./build-gcc.sh\n \n # CentOS 5.5 has Python 2.4 by default, but LLVM needs 2.7+\n-COPY dist-x86_64-linux/build-python.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-python.sh /tmp/\n RUN ./build-python.sh\n \n # Now build LLVM+Clang 7, afterwards configuring further compilations to use the\n # clang/clang++ compilers.\n-COPY dist-x86_64-linux/build-clang.sh dist-x86_64-linux/llvm-project-centos.patch /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-clang.sh host-x86_64/dist-x86_64-linux/llvm-project-centos.patch /tmp/\n RUN ./build-clang.sh\n ENV CC=clang CXX=clang++\n \n # Apparently CentOS 5.5 desn't have `git` in yum, but we're gonna need it for\n # cloning, so download and build it here.\n-COPY dist-x86_64-linux/build-git.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-git.sh /tmp/\n RUN ./build-git.sh\n \n # for sanitizers, we need kernel headers files newer than the ones CentOS ships\n # with so we install newer ones here\n-COPY dist-x86_64-linux/build-headers.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-headers.sh /tmp/\n RUN ./build-headers.sh\n \n # OpenSSL requires a more recent version of perl\n # with so we install newer ones here\n-COPY dist-x86_64-linux/build-perl.sh /tmp/\n+COPY host-x86_64/dist-x86_64-linux/build-perl.sh /tmp/\n RUN ./build-perl.sh\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/dist-x86_64-linux/Dockerfile"}, {"sha": "ed0b5c85f7ca9e9706c0b4a376d4c516d79112da", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-binutils.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-binutils.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-binutils.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-binutils.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-binutils.sh"}, {"sha": "518f6ef9b701dc249c0924788856f2d78905192e", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-clang.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-clang.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-clang.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-clang.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-clang.sh"}, {"sha": "84522a7b87a4b194d8f0531b82eb8d636057a959", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-cmake.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-cmake.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-cmake.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-cmake.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-cmake.sh"}, {"sha": "0c7eb5fdac9bea0425b92a8c4a8f31375546b3eb", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-curl.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-curl.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-curl.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-curl.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-curl.sh"}, {"sha": "ddc2066537cefa7f69d0b6599695a7da8defa5df", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-gcc.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-gcc.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-gcc.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-gcc.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-gcc.sh"}, {"sha": "38fea2a8094b981317fbb565092439bd6ae8d9d4", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-git.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-git.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-git.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-git.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-git.sh"}, {"sha": "b623e53583b5e6c92fcfb92a751864781c286710", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-headers.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-headers.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-headers.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-headers.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-headers.sh"}, {"sha": "d8f6bdb51b8d5bad24e0995de30e5babde6d0fa9", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-openssl.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-openssl.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-openssl.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-openssl.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-openssl.sh"}, {"sha": "a678d353d52f5881f69ffde98d10dfac6ceeb465", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-perl.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-perl.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-perl.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-perl.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-perl.sh"}, {"sha": "c172b9781120d75e2628140c5922e41ebde643d4", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/build-python.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-python.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-python.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fbuild-python.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/build-python.sh"}, {"sha": "52650062cc4026cae473dabfdcb91c89bf90c819", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/llvm-project-centos.patch", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fllvm-project-centos.patch", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fllvm-project-centos.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fllvm-project-centos.patch?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/llvm-project-centos.patch"}, {"sha": "b873569278914e54c8dc3eb7e7871a4c793da72c", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/shared.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fshared.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fshared.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2Fshared.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-linux/shared.sh"}, {"sha": "c026506b106618709844c4d7daa534eb9440cb99", "filename": "src/ci/docker/host-x86_64/dist-x86_64-musl/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-musl%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-musl%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-musl%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-musl/Dockerfile"}, {"sha": "f3f7255f154dcde7226ee9b11c0408abd789ed93", "filename": "src/ci/docker/host-x86_64/dist-x86_64-netbsd/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-netbsd%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-netbsd%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-netbsd%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -3,7 +3,7 @@ FROM ubuntu:16.04\n COPY scripts/cross-apt-packages.sh /scripts/\n RUN sh /scripts/cross-apt-packages.sh\n \n-COPY dist-x86_64-netbsd/build-netbsd-toolchain.sh /tmp/\n+COPY host-x86_64/dist-x86_64-netbsd/build-netbsd-toolchain.sh /tmp/\n RUN /tmp/build-netbsd-toolchain.sh\n \n COPY scripts/sccache.sh /scripts/", "previous_filename": "src/ci/docker/dist-x86_64-netbsd/Dockerfile"}, {"sha": "f8697c698b9fb67aac77c9145a960e9f55437b8e", "filename": "src/ci/docker/host-x86_64/dist-x86_64-netbsd/build-netbsd-toolchain.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-netbsd%2Fbuild-netbsd-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-netbsd%2Fbuild-netbsd-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-netbsd%2Fbuild-netbsd-toolchain.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/dist-x86_64-netbsd/build-netbsd-toolchain.sh"}, {"sha": "c15b437e6d3157dea376b816c82172a449564a41", "filename": "src/ci/docker/host-x86_64/i686-gnu-nopt/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu-nopt%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu-nopt%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu-nopt%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/i686-gnu-nopt/Dockerfile"}, {"sha": "377f07cef4e46e7444e7a21eea56d742e2eafa56", "filename": "src/ci/docker/host-x86_64/i686-gnu/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/i686-gnu/Dockerfile"}, {"sha": "e9570e8425e98ecb893b9ab62cec7e8b2ee87420", "filename": "src/ci/docker/host-x86_64/mingw-check/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -19,7 +19,7 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n-COPY mingw-check/validate-toolstate.sh /scripts/\n+COPY host-x86_64/mingw-check/validate-toolstate.sh /scripts/\n \n ENV RUN_CHECK_WITH_PARALLEL_QUERIES 1\n ENV SCRIPT python3 ../x.py test src/tools/expand-yaml-anchors && \\", "previous_filename": "src/ci/docker/mingw-check/Dockerfile"}, {"sha": "c6d728eb80dd080377bf0a575b30cd828b49ab26", "filename": "src/ci/docker/host-x86_64/mingw-check/validate-toolstate.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2Fvalidate-toolstate.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2Fvalidate-toolstate.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2Fvalidate-toolstate.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/mingw-check/validate-toolstate.sh"}, {"sha": "6775baa8c3273e7ef7a7b2a3a35c62a8d05c4eb3", "filename": "src/ci/docker/host-x86_64/test-various/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Ftest-various%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Ftest-various%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Ftest-various%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/test-various/Dockerfile"}, {"sha": "92461305320eee8d67e68f3f67c5d4bcc863c4a7", "filename": "src/ci/docker/host-x86_64/wasm32/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fwasm32%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fwasm32%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fwasm32%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/wasm32/Dockerfile"}, {"sha": "86ac0256d28201cd90cf9977171adf8e7fc9365f", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-aux/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-aux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-aux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-aux%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu-aux/Dockerfile"}, {"sha": "c5e41b8a75afe506048fa18eba18a27da91ae2d0", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-debug/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-debug%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-debug%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-debug%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu-debug/Dockerfile"}, {"sha": "cc07a591cc17bec1c7d1d853f8216f75165aa98f", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-distcheck/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-distcheck%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-distcheck%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-distcheck%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu-distcheck/Dockerfile"}, {"sha": "de7ee6950b51b26ca00c06b2c32af0bf8b2c51f0", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-full-bootstrap/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-full-bootstrap%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-full-bootstrap%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-full-bootstrap%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu-full-bootstrap/Dockerfile"}, {"sha": "1d9cad149d9aeb627e34d0a007546ca0cc365831", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-llvm-8/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-8%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-8%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-8%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu-llvm-8/Dockerfile"}, {"sha": "096f67e13d1e679c0414ca8445c63abece65cb49", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-nopt/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-nopt%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-nopt%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-nopt%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu-nopt/Dockerfile"}, {"sha": "ef17f0507ab11a0dfc0010288c3dfe20729e457f", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-tools/Dockerfile", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -17,7 +17,7 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n-COPY x86_64-gnu-tools/checktools.sh /tmp/\n+COPY host-x86_64/x86_64-gnu-tools/checktools.sh /tmp/\n \n ENV RUST_CONFIGURE_ARGS \\\n   --build=x86_64-unknown-linux-gnu \\", "previous_filename": "src/ci/docker/x86_64-gnu-tools/Dockerfile"}, {"sha": "b4b23a245e0aa928b0d7689e9ba8b07ba953f25c", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-tools/checktools.sh", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2Fchecktools.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2Fchecktools.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2Fchecktools.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu-tools/checktools.sh"}, {"sha": "af6e13180627688b881fc9cc49b7bd3715a5ca01", "filename": "src/ci/docker/host-x86_64/x86_64-gnu/Dockerfile", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu%2FDockerfile?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "previous_filename": "src/ci/docker/x86_64-gnu/Dockerfile"}, {"sha": "9bc61b56efbb2be77345062cd6905a0f1eb7d47c", "filename": "src/ci/docker/run.sh", "status": "modified", "additions": 32, "deletions": 5, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Frun.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Frun.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Frun.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -27,8 +27,9 @@ do\n   shift\n done\n \n-docker_dir=\"`dirname $script`\"\n-ci_dir=\"`dirname $docker_dir`\"\n+script_dir=\"`dirname $script`\"\n+docker_dir=\"${script_dir}/host-$(uname -m)\"\n+ci_dir=\"`dirname $script_dir`\"\n src_dir=\"`dirname $ci_dir`\"\n root_dir=\"`dirname $src_dir`\"\n \n@@ -51,11 +52,15 @@ if [ -f \"$docker_dir/$image/Dockerfile\" ]; then\n       rm -f \"$copied_files\"\n       for i in $(sed -n -e 's/^COPY \\(.*\\) .*$/\\1/p' \"$docker_dir/$image/Dockerfile\"); do\n         # List the file names\n-        find \"$docker_dir/$i\" -type f >> $copied_files\n+        find \"$script_dir/$i\" -type f >> $copied_files\n       done\n       # Sort the file names and cat the content into the hash key\n       sort $copied_files | xargs cat >> $hash_key\n \n+      # Include the architecture in the hash key, since our Linux CI does not\n+      # only run in x86_64 machines.\n+      uname -m >> $hash_key\n+\n       docker --version >> $hash_key\n       cksum=$(sha512sum $hash_key | \\\n         awk '{print $1}')\n@@ -73,10 +78,10 @@ if [ -f \"$docker_dir/$image/Dockerfile\" ]; then\n \n     dockerfile=\"$docker_dir/$image/Dockerfile\"\n     if [ -x /usr/bin/cygpath ]; then\n-        context=\"`cygpath -w $docker_dir`\"\n+        context=\"`cygpath -w $script_dir`\"\n         dockerfile=\"`cygpath -w $dockerfile`\"\n     else\n-        context=\"$docker_dir\"\n+        context=\"$script_dir\"\n     fi\n     retry docker \\\n       build \\\n@@ -122,6 +127,28 @@ elif [ -f \"$docker_dir/disabled/$image/Dockerfile\" ]; then\n       -\n else\n     echo Invalid image: $image\n+\n+    # Check whether the image exists for other architectures\n+    for arch_dir in \"${script_dir}\"/host-*; do\n+        # Avoid checking non-directories and the current host architecture directory\n+        if ! [[ -d \"${arch_dir}\" ]]; then\n+            continue\n+        fi\n+        if [[ \"${arch_dir}\" = \"${docker_dir}\" ]]; then\n+            continue\n+        fi\n+\n+        arch_name=\"$(basename \"${arch_dir}\" | sed 's/^host-//')\"\n+        if [[ -f \"${arch_dir}/${image}/Dockerfile\" ]]; then\n+            echo \"Note: the image exists for the ${arch_name} host architecture\"\n+        elif [[ -f \"${arch_dir}/disabled/${image}/Dockerfile\" ]]; then\n+            echo \"Note: the disabled image exists for the ${arch_name} host architecture\"\n+        else\n+            continue\n+        fi\n+        echo \"Note: the current host architecture is $(uname -m)\"\n+    done\n+\n     exit 1\n fi\n "}, {"sha": "cebba57344bfdff0c151e2a7cc434aa71d4fec18", "filename": "src/ci/docker/scripts/sccache.sh", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -1,6 +1,16 @@\n set -ex\n \n-curl -fo /usr/local/bin/sccache \\\n-  https://ci-mirrors.rust-lang.org/rustc/2018-04-02-sccache-x86_64-unknown-linux-musl\n+case \"$(uname -m)\" in\n+    x86_64)\n+        url=\"https://ci-mirrors.rust-lang.org/rustc/2018-04-02-sccache-x86_64-unknown-linux-musl\"\n+        ;;\n+    aarch64)\n+        url=\"https://ci-mirrors.rust-lang.org/rustc/2019-12-17-sccache-aarch64-unknown-linux-gnu\"\n+        ;;\n+    *)\n+        echo \"unsupported architecture: $(uname -m)\"\n+        exit 1\n+esac\n \n+curl -fo /usr/local/bin/sccache \"${url}\"\n chmod +x /usr/local/bin/sccache"}, {"sha": "0614d5e31d1ee80771ec6c504ca830d065d4b74d", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/9a13ef2251531d5856ca62dd8822c9b8139f479a/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=9a13ef2251531d5856ca62dd8822c9b8139f479a", "patch": "@@ -495,7 +495,7 @@ jobs:\n \n           - name: x86_64-msvc-tools\n             env:\n-              SCRIPT: src/ci/docker/x86_64-gnu-tools/checktools.sh x.py /tmp/toolstate/toolstates.json windows\n+              SCRIPT: src/ci/docker/host-x86_64/x86_64-gnu-tools/checktools.sh x.py /tmp/toolstate/toolstates.json windows\n               RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc --save-toolstates=/tmp/toolstate/toolstates.json\n             <<: *job-windows-xl\n "}]}