{"sha": "62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYyY2QzY2M0NmI1MzNjM2QxYjZjOTRjYzFkMTNhM2JlOGE4YzIzYWI=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "arielb1@mail.tau.ac.il", "date": "2015-08-07T10:57:39Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "arielb1@mail.tau.ac.il", "date": "2015-08-07T10:57:39Z"}, "message": "stop using skip_binder", "tree": {"sha": "6193d003b086f97760c01b4070cfd872db524074", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6193d003b086f97760c01b4070cfd872db524074"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab", "html_url": "https://github.com/rust-lang/rust/commit/62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab/comments", "author": null, "committer": null, "parents": [{"sha": "7d32533eabb5321a0b2690bf16d07077b4f91562", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d32533eabb5321a0b2690bf16d07077b4f91562", "html_url": "https://github.com/rust-lang/rust/commit/7d32533eabb5321a0b2690bf16d07077b4f91562"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "b0f7bab6c59302d0077bc0362e1aabc974c7481d", "filename": "src/librustc/metadata/decoder.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fdecoder.rs?ref=62cd3cc46b533c3d1b6c94cc1d13a3be8a8c23ab", "patch": "@@ -30,7 +30,7 @@ use middle::def;\n use middle::lang_items;\n use middle::subst;\n use middle::ty::{ImplContainer, TraitContainer};\n-use middle::ty::{self, Ty};\n+use middle::ty::{self, RegionEscape, Ty};\n use util::nodemap::FnvHashMap;\n \n use std::cell::{Cell, RefCell};\n@@ -477,7 +477,13 @@ pub fn get_adt_def<'tcx>(intr: &IdentInterner,\n                    variant.name,\n                    ctor_ty);\n             let field_tys = match ctor_ty.sty {\n-                ty::TyBareFn(_, ref f) => &f.sig.skip_binder().inputs,\n+                ty::TyBareFn(_, &ty::BareFnTy { sig: ty::Binder(ty::FnSig {\n+                    ref inputs, ..\n+                }), ..}) => {\n+                    // tuple-struct constructors don't have escaping regions\n+                    assert!(!inputs.has_escaping_regions());\n+                    inputs\n+                },\n                 _ => tcx.sess.bug(\"tuple-variant ctor is not an ADT\")\n             };\n             for (field, &ty) in variant.fields.iter().zip(field_tys.iter()) {"}]}