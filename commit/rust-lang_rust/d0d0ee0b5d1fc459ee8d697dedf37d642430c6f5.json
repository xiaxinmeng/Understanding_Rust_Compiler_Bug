{"sha": "d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQwZDBlZTBiNWQxZmM0NTllZThkNjk3ZGVkZjM3ZDY0MjQzMGM2ZjU=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2020-12-28T12:00:50Z"}, "committer": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2020-12-29T10:56:25Z"}, "message": "ci: stop producing gzip-compressed dist tarballs", "tree": {"sha": "15852a337177ab8b22993c4a9dba5aab49612012", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/15852a337177ab8b22993c4a9dba5aab49612012"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE1JbYPtLJAsc22U9xPgar6Auq8ZwFAl/rC1oACgkQPgar6Auq\n8ZyOcg/8DXRLTIUVTjVpXaaSazV5Yy07XZ2CqIsfQJwbjj2vVhDi+YeeZ+R2yytv\nRdLXpT2r1PlT0tWRDbV9J7nAPzmk913FsI3bJEsRBdMu1UGRsZSav9xWoB6qpvsf\nWsoaq8XEJWr2oCnX6dlOeSTFsYdw+BuhvKyXbsn13hpAZ9ZH/vQlG34GrI+laKRB\nNvks6N+KdomfxycTexWBNgBTUQWUU+HljEgMYTKuj04DR7J+sOnb2OKpA1PShn3y\nZYd4hLbPuLsrO+jIWF3CNneleh6CFXEy20UvZLUwekI/hTqUCDv7TxzWdL5IY7mN\n3LoQSsWfZdLr8lqdHYUNxmLc6vgD/3OCmMlIz505JLaarJiJQGDEGZPr++8k/qbs\n2Nh54EYPGPEe9LkSakhfQNv781gccQtNOmUIkZKsW5G7fqlXm5eqg4DGLQFbYBTN\n4aMaLGfBSxRn9UX1OYFhg0BavKam9VBJoKVK43zFu6LTRGqu/tjyqfnjW4Mi0uBe\nU8Ay9bqicR3AUdxCJFVkJr0cRjLRNUiFX2GzRLE2lgBgFpqsYNkCJNW0IESIFAfo\nHHl2487Vwff9nh+ZxG5rv8cW2fPu7wcal6Q+jTtnPKAdNgC7JsdrpCylYmyvQRmI\nE2K1nQKcxRZVa9hHBecWXCfgS4xnRpB7x7+xzqor5vrFjYoLakM=\n=7BRh\n-----END PGP SIGNATURE-----", "payload": "tree 15852a337177ab8b22993c4a9dba5aab49612012\nparent 0a2034dca46f72d24d94c04b47c48d30149693bd\nauthor Pietro Albini <pietro@pietroalbini.org> 1609156850 +0100\ncommitter Pietro Albini <pietro@pietroalbini.org> 1609239385 +0100\n\nci: stop producing gzip-compressed dist tarballs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5", "html_url": "https://github.com/rust-lang/rust/commit/d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a2034dca46f72d24d94c04b47c48d30149693bd", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a2034dca46f72d24d94c04b47c48d30149693bd", "html_url": "https://github.com/rust-lang/rust/commit/0a2034dca46f72d24d94c04b47c48d30149693bd"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "1958b6ee41d7fb9374ed619e8a1680e97652fece", "filename": "src/ci/run.sh", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5/src%2Fci%2Frun.sh", "raw_url": "https://github.com/rust-lang/rust/raw/d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5/src%2Fci%2Frun.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Frun.sh?ref=d0d0ee0b5d1fc459ee8d697dedf37d642430c6f5", "patch": "@@ -53,6 +53,11 @@ RUST_CONFIGURE_ARGS=\"$RUST_CONFIGURE_ARGS --enable-locked-deps\"\n RUST_CONFIGURE_ARGS=\"$RUST_CONFIGURE_ARGS --enable-cargo-native-static\"\n RUST_CONFIGURE_ARGS=\"$RUST_CONFIGURE_ARGS --set rust.codegen-units-std=1\"\n \n+# Only produce xz tarballs on CI. gz tarballs will be generated by the release\n+# process by recompressing the existing xz ones. This decreases the storage\n+# space required for CI artifacts.\n+RUST_CONFIGURE_ARGS=\"$RUST_CONFIGURE_ARGS --dist-compression-formats=xz\"\n+\n if [ \"$DIST_SRC\" = \"\" ]; then\n   RUST_CONFIGURE_ARGS=\"$RUST_CONFIGURE_ARGS --disable-dist-src\"\n fi"}]}