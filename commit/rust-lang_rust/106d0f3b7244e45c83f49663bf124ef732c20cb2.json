{"sha": "106d0f3b7244e45c83f49663bf124ef732c20cb2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwNmQwZjNiNzI0NGU0NWM4M2Y0OTY2M2JmMTI0ZWY3MzJjMjBjYjI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-07T23:52:01Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-08T00:19:24Z"}, "message": "Complete the transition of glue.o to the lib directory", "tree": {"sha": "552591a9611175a8ad3d3ab4a1dd00153ae50222", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/552591a9611175a8ad3d3ab4a1dd00153ae50222"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/106d0f3b7244e45c83f49663bf124ef732c20cb2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/106d0f3b7244e45c83f49663bf124ef732c20cb2", "html_url": "https://github.com/rust-lang/rust/commit/106d0f3b7244e45c83f49663bf124ef732c20cb2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/106d0f3b7244e45c83f49663bf124ef732c20cb2/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94f782e6a1e14b9eb89dd0429c4ad8f0e7ba0cf2", "url": "https://api.github.com/repos/rust-lang/rust/commits/94f782e6a1e14b9eb89dd0429c4ad8f0e7ba0cf2", "html_url": "https://github.com/rust-lang/rust/commit/94f782e6a1e14b9eb89dd0429c4ad8f0e7ba0cf2"}], "stats": {"total": 51, "additions": 21, "deletions": 30}, "files": [{"sha": "a61006181375d454bf6e0c4b5897dc20fe19a53b", "filename": "Makefile.in", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/106d0f3b7244e45c83f49663bf124ef732c20cb2/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/106d0f3b7244e45c83f49663bf124ef732c20cb2/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=106d0f3b7244e45c83f49663bf124ef732c20cb2", "patch": "@@ -152,11 +152,11 @@ COMPILER_INPUTS := $(wildcard $(addprefix $(S)src/comp/, \\\n ######################################################################\n \n LREQ := rt/$(CFG_RUNTIME) rustllvm/$(CFG_RUSTLLVM)\n-SREQ0 := stage0/rustc$(X) $(LREQ) rt/main.o stage0/glue.o \\\n+SREQ0 := stage0/rustc$(X) $(LREQ) rt/main.o stage0/lib/glue.o \\\n          stage0/lib/$(CFG_STDLIB)\n-SREQ1 := stage1/rustc$(X) $(LREQ) rt/main.o stage1/glue.o \\\n+SREQ1 := stage1/rustc$(X) $(LREQ) rt/main.o stage1/lib/glue.o \\\n          stage1/lib/$(CFG_STDLIB)\n-SREQ2 := stage2/rustc$(X) $(LREQ) rt/main.o stage2/glue.o \\\n+SREQ2 := stage2/rustc$(X) $(LREQ) rt/main.o stage2/lib/glue.o \\\n          stage2/lib/$(CFG_STDLIB)\n \n \n@@ -197,7 +197,7 @@ all: rt/$(CFG_RUNTIME)          \\\n      $(DOCS)                    \\\n      stage1/lib/$(CFG_STDLIB)   \\\n      stage1/intrinsics.bc       \\\n-     stage1/glue.o              \\\n+     stage1/lib/glue.o          \\\n      stage1/rustc$(X)           \\\n \n else\n@@ -211,14 +211,14 @@ all: rt/$(CFG_RUNTIME)          \\\n      $(DOCS)                    \\\n      stage1/lib/$(CFG_STDLIB)   \\\n      stage1/intrinsics.bc       \\\n-     stage1/glue.o              \\\n+     stage1/lib/glue.o          \\\n      stage1/rustc$(X)           \\\n      stage2/lib/$(CFG_STDLIB)   \\\n      stage2/intrinsics.bc       \\\n-     stage2/glue.o              \\\n+     stage2/lib/glue.o          \\\n      stage2/rustc$(X)           \\\n      stage3/lib/$(CFG_STDLIB)   \\\n-     stage3/glue.o              \\\n+     stage3/lib/glue.o          \\\n      stage3/intrinsics.bc       \\\n      stage3/rustc$(X)\n "}, {"sha": "a4af4ade3d0f8f82b0e45c5653a6affcbe2e2194", "filename": "mk/clean.mk", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fclean.mk", "raw_url": "https://github.com/rust-lang/rust/raw/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fclean.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fclean.mk?ref=106d0f3b7244e45c83f49663bf124ef732c20cb2", "patch": "@@ -13,10 +13,10 @@ clean:\n \t$(Q)rm -f $(C_DEPFILES:%.d=%.d.tmp)\n \t$(Q)rm -f $(CRATE_DEPFILES:%.d=%.d.tmp)\n \t$(Q)rm -f $(GENERATED)\n-\t$(Q)rm -f stage0/rustc$(X) stage0/lib/$(CFG_STDLIB)\n-\t$(Q)rm -f stage1/rustc$(X) stage1/lib/$(CFG_STDLIB) stage1/glue*\n-\t$(Q)rm -f stage2/rustc$(X) stage2/lib/$(CFG_STDLIB) stage2/glue*\n-\t$(Q)rm -f stage3/rustc$(X) stage3/lib/$(CFG_STDLIB) stage3/glue*\n+\t$(Q)rm -f stage0/rustc$(X) stage0/lib/$(CFG_STDLIB) stage0/lib/glue*\n+\t$(Q)rm -f stage1/rustc$(X) stage1/lib/$(CFG_STDLIB) stage1/lib/glue*\n+\t$(Q)rm -f stage2/rustc$(X) stage2/lib/$(CFG_STDLIB) stage2/lib/glue*\n+\t$(Q)rm -f stage3/rustc$(X) stage3/lib/$(CFG_STDLIB) stage3/lib/glue*\n \t$(Q)rm -f rustllvm/$(CFG_RUSTLLVM) rustllvm/rustllvmbits.a\n \t$(Q)rm -f rt/$(CFG_RUNTIME)\n \t$(Q)rm -f rt/main.o"}, {"sha": "b617fbe40f73d86fb07d807c4868f14f8d87359f", "filename": "mk/snap.mk", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fsnap.mk", "raw_url": "https://github.com/rust-lang/rust/raw/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fsnap.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fsnap.mk?ref=106d0f3b7244e45c83f49663bf124ef732c20cb2", "patch": "@@ -1,15 +1,15 @@\n \n-snap-stage1: stage1/rustc$(X) stage1/glue.o stage1/lib/$(CFG_STDLIB) \\\n+snap-stage1: stage1/rustc$(X) stage1/lib/glue.o stage1/lib/$(CFG_STDLIB) \\\n \tstage1/lib/libstd.rlib stage1/lib/$(CFG_RUNTIME) \\\n \tstage1/lib/$(CFG_RUSTLLVM)\n \t$(S)src/etc/make-snapshot.py stage1\n \n-snap-stage2: stage2/rustc$(X) stage2/glue.o stage2/lib/$(CFG_STDLIB) \\\n+snap-stage2: stage2/rustc$(X) stage2/lib/glue.o stage2/lib/$(CFG_STDLIB) \\\n \tstage2/lib/libstd.rlib stage2/lib/$(CFG_RUNTIME) \\\n \tstage2/lib/$(CFG_RUSTLLVM)\n \t$(S)src/etc/make-snapshot.py stage2\n \n-snap-stage3: stage3/rustc$(X) stage3/glue.o stage3/lib/$(CFG_STDLIB) \\\n+snap-stage3: stage3/rustc$(X) stage3/lib/glue.o stage3/lib/$(CFG_STDLIB) \\\n \tstage3/lib/libstd.rlib stage3/lib/$(CFG_RUNTIME) \\\n \tstage3/lib/$(CFG_RUSTLLVM)\n \t$(S)src/etc/make-snapshot.py stage3"}, {"sha": "8b57cfd800176643c53077785cbcdd9257c280ea", "filename": "mk/stage0.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage0.mk", "raw_url": "https://github.com/rust-lang/rust/raw/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage0.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage0.mk?ref=106d0f3b7244e45c83f49663bf124ef732c20cb2", "patch": "@@ -5,7 +5,7 @@ stage0/rustc$(X): $(S)src/snapshots.txt $(S)src/etc/get-snapshot.py $(MKFILES)\n \n # These two will be made in the process of making rustc above.\n \n-stage0/glue.o: stage0/rustc$(X)\n+stage0/lib/glue.o: stage0/rustc$(X)\n \t$(Q)touch $@\n \n stage0/lib/$(CFG_STDLIB): stage0/rustc$(X)"}, {"sha": "aedf4ff4217b66b7d40961a7bbd7d863f01b82a3", "filename": "mk/stage1.mk", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage1.mk", "raw_url": "https://github.com/rust-lang/rust/raw/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage1.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage1.mk?ref=106d0f3b7244e45c83f49663bf124ef732c20cb2", "patch": "@@ -1,13 +1,13 @@\n stage1/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n               stage1/rustc$(X) stage0/lib/$(CFG_STDLIB) stage1/intrinsics.bc \\\n               stage1/lib/$(CFG_RUNTIME) stage1/lib/$(CFG_RUSTLLVM) \\\n-              stage1/glue.o $(LREQ) $(MKFILES)\n+              stage1/lib/glue.o $(LREQ) $(MKFILES)\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE1) --lib -o $@ $<\n \n stage1/lib/libstd.rlib:  $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n               stage1/rustc$(X) stage0/lib/$(CFG_STDLIB) stage1/intrinsics.bc \\\n-              stage1/glue.o $(LREQ) $(MKFILES)\n+              stage1/lib/glue.o $(LREQ) $(MKFILES)\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE1) --lib --static -o $@ $<\n \n@@ -16,9 +16,6 @@ stage1/lib/glue.o: stage1/rustc$(X) stage0/lib/$(CFG_STDLIB) \\\n \t@$(call E, generate: $@)\n \t$(STAGE1) -c -o $@ --glue\n \n-stage1/glue.o: stage1/lib/glue.o\n-\tcp stage1/lib/glue.o stage1/glue.o\n-\n stage1/intrinsics.bc:\t$(INTRINSICS_BC)\n \t@$(call E, cp: $@)\n \t$(Q)cp $< $@"}, {"sha": "ed35ff4c593fd578c6f9fcebfd918a8747d253e6", "filename": "mk/stage2.mk", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage2.mk", "raw_url": "https://github.com/rust-lang/rust/raw/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage2.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage2.mk?ref=106d0f3b7244e45c83f49663bf124ef732c20cb2", "patch": "@@ -1,13 +1,13 @@\n stage2/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n               stage2/rustc$(X) stage1/lib/$(CFG_STDLIB) stage2/intrinsics.bc \\\n               stage2/lib/$(CFG_RUNTIME) stage2/lib/$(CFG_RUSTLLVM) \\\n-              stage2/glue.o $(LREQ) $(MKFILES)\n+              stage2/lib/glue.o $(LREQ) $(MKFILES)\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE2)  --lib -o $@ $<\n \n stage2/lib/libstd.rlib:  $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n               stage2/rustc$(X) stage1/lib/$(CFG_STDLIB) stage2/intrinsics.bc \\\n-              stage2/glue.o $(LREQ) $(MKFILES)\n+              stage2/lib/glue.o $(LREQ) $(MKFILES)\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE2) --lib --static -o $@ $<\n \n@@ -16,9 +16,6 @@ stage2/lib/glue.o: stage2/rustc$(X) stage1/lib/$(CFG_STDLIB) \\\n \t@$(call E, generate: $@)\n \t$(STAGE2) -c -o $@ --glue\n \n-stage2/glue.o: stage2/lib/glue.o\n-\tcp stage2/lib/glue.o stage2/glue.o\n-\n stage2/intrinsics.bc:\t$(INTRINSICS_BC)\n \t@$(call E, cp: $@)\n \t$(Q)cp $< $@"}, {"sha": "b1264d942e9ee54cad4b483398d161640a140f47", "filename": "mk/stage3.mk", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage3.mk", "raw_url": "https://github.com/rust-lang/rust/raw/106d0f3b7244e45c83f49663bf124ef732c20cb2/mk%2Fstage3.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage3.mk?ref=106d0f3b7244e45c83f49663bf124ef732c20cb2", "patch": "@@ -1,13 +1,13 @@\n stage3/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n               stage3/rustc$(X) stage2/lib/$(CFG_STDLIB) stage3/intrinsics.bc \\\n               stage3/lib/$(CFG_RUNTIME) stage3/lib/$(CFG_RUSTLLVM) \\\n-              stage3/glue.o $(LREQ) $(MKFILES)\n+              stage3/lib/glue.o $(LREQ) $(MKFILES)\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE3)  --lib -o $@ $<\n \n stage3/lib/libstd.rlib:  $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n               stage3/rustc$(X) stage2/lib/$(CFG_STDLIB) stage3/intrinsics.bc \\\n-              stage3/glue.o $(LREQ) $(MKFILES)\n+              stage3/lib/glue.o $(LREQ) $(MKFILES)\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE3) --lib --static -o $@ $<\n \n@@ -16,9 +16,6 @@ stage3/lib/glue.o: stage3/rustc$(X) stage2/lib/$(CFG_STDLIB) \\\n \t@$(call E, generate: $@)\n \t$(STAGE3) -c -o $@ --glue\n \n-stage3/glue.o: stage3/lib/glue.o\n-\tcp stage3/lib/glue.o stage3/glue.o\n-\n stage3/intrinsics.bc:\t$(INTRINSICS_BC)\n \t@$(call E, cp: $@)\n \t$(Q)cp $< $@"}]}