{"sha": "446895ad21b2dcb1a71044387cd6ebd203fab504", "node_id": "C_kwDOAAsO6NoAKDQ0Njg5NWFkMjFiMmRjYjFhNzEwNDQzODdjZDZlYmQyMDNmYWI1MDQ", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-08-02T15:17:36Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-08-02T15:17:36Z"}, "message": "Rollup merge of #100053 - flip1995:clippy_backport, r=xFrednet\n\nmove [`assertions_on_result_states`] to restriction\n\n\"Backports\" the first commit of https://github.com/rust-lang/rust-clippy/pull/9273, so that the lint doesn't go into beta as a warn-by-default lint.\n\nThe other changes in the linked PR can ride the train as usual.\n\nr? ``@xFrednet`` (only Clippy changes, so we don't need to bother compiler people)\n\n---\n\nFor Clippy:\n\nchangelog: none", "tree": {"sha": "ef02141bbdff669dfdfe029b662a723bffa603a1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ef02141bbdff669dfdfe029b662a723bffa603a1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/446895ad21b2dcb1a71044387cd6ebd203fab504", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJi6UAQCRBK7hj4Ov3rIwAADnUIAEly8XFE36ecF/jeLoKmPSFF\noDnSboUWnY8bo5pj4MuqPkYil71Lhuqex9CVy8nV/kWMnkYwjyhTAwROStgRz1el\nmrD6OrtnPeOJxMQOf9/DnjUv8k1aI8Bs5nGnUxEvj3DPyinI3InaOsfk/qclnfdU\nCx109DfWymJ4i74V7+UjARJ4fP9ayHYlPEPxIewzJZcAwUuSYlikmugF2BHvOBCj\niRYpzX0pPCVpGVQkg55PCka36VcC7ZVNKNbAC8Xmqys48ROFImZ5I9kNC9pcFIGy\nAII7ymmuYSpZr6WGxTkceLAxYejIWrmmu8RorN4M35LMbzYcMf5Al+5UC6K/BO8=\n=9DEM\n-----END PGP SIGNATURE-----\n", "payload": "tree ef02141bbdff669dfdfe029b662a723bffa603a1\nparent 0b3bbe6f9a4762a59d27c482d260062abde676fd\nparent b608ec8f4185b150d43db870cd153c3c836a15a5\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1659453456 +0200\ncommitter GitHub <noreply@github.com> 1659453456 +0200\n\nRollup merge of #100053 - flip1995:clippy_backport, r=xFrednet\n\nmove [`assertions_on_result_states`] to restriction\n\n\"Backports\" the first commit of https://github.com/rust-lang/rust-clippy/pull/9273, so that the lint doesn't go into beta as a warn-by-default lint.\n\nThe other changes in the linked PR can ride the train as usual.\n\nr? ``@xFrednet`` (only Clippy changes, so we don't need to bother compiler people)\n\n---\n\nFor Clippy:\n\nchangelog: none\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/446895ad21b2dcb1a71044387cd6ebd203fab504", "html_url": "https://github.com/rust-lang/rust/commit/446895ad21b2dcb1a71044387cd6ebd203fab504", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/446895ad21b2dcb1a71044387cd6ebd203fab504/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b3bbe6f9a4762a59d27c482d260062abde676fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b3bbe6f9a4762a59d27c482d260062abde676fd", "html_url": "https://github.com/rust-lang/rust/commit/0b3bbe6f9a4762a59d27c482d260062abde676fd"}, {"sha": "b608ec8f4185b150d43db870cd153c3c836a15a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/b608ec8f4185b150d43db870cd153c3c836a15a5", "html_url": "https://github.com/rust-lang/rust/commit/b608ec8f4185b150d43db870cd153c3c836a15a5"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "4caab6230909c519f52242b0e7ae8a66f2f83801", "filename": "src/tools/clippy/clippy_lints/src/assertions_on_result_states.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fassertions_on_result_states.rs", "raw_url": "https://github.com/rust-lang/rust/raw/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fassertions_on_result_states.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fassertions_on_result_states.rs?ref=446895ad21b2dcb1a71044387cd6ebd203fab504", "patch": "@@ -19,6 +19,9 @@ declare_clippy_lint! {\n     /// ### Why is this bad?\n     /// An assertion failure cannot output an useful message of the error.\n     ///\n+    /// ### Known problems\n+    /// The suggested replacement decreases the readability of code and log output.\n+    ///\n     /// ### Example\n     /// ```rust,ignore\n     /// # let r = Ok::<_, ()>(());\n@@ -28,7 +31,7 @@ declare_clippy_lint! {\n     /// ```\n     #[clippy::version = \"1.64.0\"]\n     pub ASSERTIONS_ON_RESULT_STATES,\n-    style,\n+    restriction,\n     \"`assert!(r.is_ok())`/`assert!(r.is_err())` gives worse error message than directly calling `r.unwrap()`/`r.unwrap_err()`\"\n }\n "}, {"sha": "0ba9b7ae7e581dd9783265bacc2c07482e9ac253", "filename": "src/tools/clippy/clippy_lints/src/lib.register_all.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_all.rs", "raw_url": "https://github.com/rust-lang/rust/raw/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_all.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_all.rs?ref=446895ad21b2dcb1a71044387cd6ebd203fab504", "patch": "@@ -6,7 +6,6 @@ store.register_group(true, \"clippy::all\", Some(\"clippy_all\"), vec![\n     LintId::of(almost_complete_letter_range::ALMOST_COMPLETE_LETTER_RANGE),\n     LintId::of(approx_const::APPROX_CONSTANT),\n     LintId::of(assertions_on_constants::ASSERTIONS_ON_CONSTANTS),\n-    LintId::of(assertions_on_result_states::ASSERTIONS_ON_RESULT_STATES),\n     LintId::of(async_yields_async::ASYNC_YIELDS_ASYNC),\n     LintId::of(attrs::BLANKET_CLIPPY_RESTRICTION_LINTS),\n     LintId::of(attrs::DEPRECATED_CFG_ATTR),"}, {"sha": "a7339ef272174d4ee4955b60edd66778cd032461", "filename": "src/tools/clippy/clippy_lints/src/lib.register_restriction.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_restriction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_restriction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_restriction.rs?ref=446895ad21b2dcb1a71044387cd6ebd203fab504", "patch": "@@ -7,6 +7,7 @@ store.register_group(true, \"clippy::restriction\", Some(\"clippy_restriction\"), ve\n     LintId::of(as_underscore::AS_UNDERSCORE),\n     LintId::of(asm_syntax::INLINE_ASM_X86_ATT_SYNTAX),\n     LintId::of(asm_syntax::INLINE_ASM_X86_INTEL_SYNTAX),\n+    LintId::of(assertions_on_result_states::ASSERTIONS_ON_RESULT_STATES),\n     LintId::of(attrs::ALLOW_ATTRIBUTES_WITHOUT_REASON),\n     LintId::of(casts::FN_TO_NUMERIC_CAST_ANY),\n     LintId::of(create_dir::CREATE_DIR),"}, {"sha": "e95bab1d0454d3d496e5fa65018b1dd0793141d6", "filename": "src/tools/clippy/clippy_lints/src/lib.register_style.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_style.rs", "raw_url": "https://github.com/rust-lang/rust/raw/446895ad21b2dcb1a71044387cd6ebd203fab504/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_style.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flib.register_style.rs?ref=446895ad21b2dcb1a71044387cd6ebd203fab504", "patch": "@@ -4,7 +4,6 @@\n \n store.register_group(true, \"clippy::style\", Some(\"clippy_style\"), vec![\n     LintId::of(assertions_on_constants::ASSERTIONS_ON_CONSTANTS),\n-    LintId::of(assertions_on_result_states::ASSERTIONS_ON_RESULT_STATES),\n     LintId::of(blacklisted_name::BLACKLISTED_NAME),\n     LintId::of(blocks_in_if_conditions::BLOCKS_IN_IF_CONDITIONS),\n     LintId::of(bool_assert_comparison::BOOL_ASSERT_COMPARISON),"}]}