{"sha": "2344dac183cf95c6d1ac9104fa5e55af38534402", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIzNDRkYWMxODNjZjk1YzZkMWFjOTEwNGZhNWU1NWFmMzg1MzQ0MDI=", "commit": {"author": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-11T00:29:11Z"}, "committer": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-11T00:29:11Z"}, "message": "vscode: filter out arm linux from using prebuilt binaries", "tree": {"sha": "2c334ee1616b39b82a146f75d543118144023545", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2c334ee1616b39b82a146f75d543118144023545"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2344dac183cf95c6d1ac9104fa5e55af38534402", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2344dac183cf95c6d1ac9104fa5e55af38534402", "html_url": "https://github.com/rust-lang/rust/commit/2344dac183cf95c6d1ac9104fa5e55af38534402", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2344dac183cf95c6d1ac9104fa5e55af38534402/comments", "author": null, "committer": null, "parents": [{"sha": "f8d6d6f23bfb15021be91031ba983da19f0d3ada", "url": "https://api.github.com/repos/rust-lang/rust/commits/f8d6d6f23bfb15021be91031ba983da19f0d3ada", "html_url": "https://github.com/rust-lang/rust/commit/f8d6d6f23bfb15021be91031ba983da19f0d3ada"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "41884543684ab004b6bd13cbf4dc102375c94cb0", "filename": "editors/code/src/config.ts", "status": "modified", "additions": 20, "deletions": 3, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/2344dac183cf95c6d1ac9104fa5e55af38534402/editors%2Fcode%2Fsrc%2Fconfig.ts", "raw_url": "https://github.com/rust-lang/rust/raw/2344dac183cf95c6d1ac9104fa5e55af38534402/editors%2Fcode%2Fsrc%2Fconfig.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fconfig.ts?ref=2344dac183cf95c6d1ac9104fa5e55af38534402", "patch": "@@ -64,9 +64,24 @@ export class Config {\n      * `platform` on GitHub releases. (It is also stored under the same name when\n      * downloaded by the extension).\n      */\n-    private static prebuiltLangServerFileName(platform: NodeJS.Platform): null | string {\n+    private static prebuiltLangServerFileName(\n+        platform: NodeJS.Platform,\n+        arch: string\n+    ): null | string {\n+        // See possible `arch` values here:\n+        // https://nodejs.org/api/process.html#process_process_arch\n+\n         switch (platform) {\n-            case \"linux\":  return \"ra_lsp_server-linux\";\n+\n+            case \"linux\": {\n+                switch (arch) {\n+                    case \"arm\":\n+                    case \"arm64\": return null;\n+\n+                    default: return \"ra_lsp_server-linux\";\n+                }\n+            }\n+\n             case \"darwin\": return \"ra_lsp_server-mac\";\n             case \"win32\":  return \"ra_lsp_server-windows.exe\";\n \n@@ -95,7 +110,9 @@ export class Config {\n             };\n         }\n \n-        const prebuiltBinaryName = Config.prebuiltLangServerFileName(process.platform);\n+        const prebuiltBinaryName = Config.prebuiltLangServerFileName(\n+            process.platform, process.arch\n+        );\n \n         if (!prebuiltBinaryName) return null;\n "}]}