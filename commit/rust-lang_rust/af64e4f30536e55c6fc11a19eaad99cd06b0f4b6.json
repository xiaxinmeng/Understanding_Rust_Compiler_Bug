{"sha": "af64e4f30536e55c6fc11a19eaad99cd06b0f4b6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmNjRlNGYzMDUzNmU1NWM2ZmMxMWExOWVhYWQ5OWNkMDZiMGY0YjY=", "commit": {"author": {"name": "Roy Frostig", "email": "rfrostig@mozilla.com", "date": "2010-08-20T19:48:45Z"}, "committer": {"name": "Roy Frostig", "email": "rfrostig@mozilla.com", "date": "2010-08-20T19:48:45Z"}, "message": "Allow every test to make a .tmp file that is cleaned up before execution.", "tree": {"sha": "ff186e28947c640c5e5307e9e573d4abf97014b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ff186e28947c640c5e5307e9e573d4abf97014b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6", "html_url": "https://github.com/rust-lang/rust/commit/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6/comments", "author": {"login": "froystig", "id": 123903, "node_id": "MDQ6VXNlcjEyMzkwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/123903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/froystig", "html_url": "https://github.com/froystig", "followers_url": "https://api.github.com/users/froystig/followers", "following_url": "https://api.github.com/users/froystig/following{/other_user}", "gists_url": "https://api.github.com/users/froystig/gists{/gist_id}", "starred_url": "https://api.github.com/users/froystig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/froystig/subscriptions", "organizations_url": "https://api.github.com/users/froystig/orgs", "repos_url": "https://api.github.com/users/froystig/repos", "events_url": "https://api.github.com/users/froystig/events{/privacy}", "received_events_url": "https://api.github.com/users/froystig/received_events", "type": "User", "site_admin": false}, "committer": {"login": "froystig", "id": 123903, "node_id": "MDQ6VXNlcjEyMzkwMw==", "avatar_url": "https://avatars.githubusercontent.com/u/123903?v=4", "gravatar_id": "", "url": "https://api.github.com/users/froystig", "html_url": "https://github.com/froystig", "followers_url": "https://api.github.com/users/froystig/followers", "following_url": "https://api.github.com/users/froystig/following{/other_user}", "gists_url": "https://api.github.com/users/froystig/gists{/gist_id}", "starred_url": "https://api.github.com/users/froystig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/froystig/subscriptions", "organizations_url": "https://api.github.com/users/froystig/orgs", "repos_url": "https://api.github.com/users/froystig/repos", "events_url": "https://api.github.com/users/froystig/events{/privacy}", "received_events_url": "https://api.github.com/users/froystig/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eecd1f47d78d2f4144999aa6901f75799e6bcec0", "url": "https://api.github.com/repos/rust-lang/rust/commits/eecd1f47d78d2f4144999aa6901f75799e6bcec0", "html_url": "https://github.com/rust-lang/rust/commit/eecd1f47d78d2f4144999aa6901f75799e6bcec0"}], "stats": {"total": 36, "additions": 30, "deletions": 6}, "files": [{"sha": "f515b922c464e4d5c4b7303db56126caafcd9262", "filename": ".gitignore", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6/.gitignore", "raw_url": "https://github.com/rust-lang/rust/raw/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6/.gitignore", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.gitignore?ref=af64e4f30536e55c6fc11a19eaad99cd06b0f4b6", "patch": "@@ -2,6 +2,8 @@\n *.x86\n *.llvm\n *.out\n+*.x86.tmp\n+*.llvm.tmp\n *.cmx\n *.dll\n *.exe"}, {"sha": "6ef4fe29090e9d3202f48d610a1fb264b84a665d", "filename": "src/Makefile", "status": "modified", "additions": 28, "deletions": 6, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/af64e4f30536e55c6fc11a19eaad99cd06b0f4b6/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=af64e4f30536e55c6fc11a19eaad99cd06b0f4b6", "patch": "@@ -481,6 +481,7 @@ TEST_XFAILS_LLVM := $(TASK_XFAILS) \\\n                       lazy-init.rs \\\n                       lazychan.rs \\\n                       lib-deque.rs \\\n+                      lib-io.rs \\\n                       lib-map.rs \\\n                       lib-rand.rs \\\n                       lib-vec-str-conversions.rs \\\n@@ -616,6 +617,10 @@ TEST_RPASS_OUTS_X86  := \\\n                     $(TEST_RPASS_EXES_X86:.x86$(CFG_EXE_SUFFIX)=.x86.out)\n TEST_RPASS_OUTS_LLVM := \\\n                     $(TEST_RPASS_EXES_LLVM:.llvm$(CFG_EXE_SUFFIX)=.llvm.out)\n+TEST_RPASS_TMPS_X86  := \\\n+    $(TEST_RPASS_EXES_X86:.x86$(CFG_EXE_SUFFIX)=.x86$(CFG_EXE_SUFFIX).tmp)\n+TEST_RPASS_TMPS_LLVM := \\\n+    $(TEST_RPASS_EXES_LLVM:.llvm$(CFG_EXE_SUFFIX)=.llvm$(CFG_EXE_SUFFIX).tmp)\n \n \n TEST_RFAIL_CRATES_X86 := $(filter-out $(TEST_XFAILS_X86), $(RFAIL_RC))\n@@ -633,6 +638,10 @@ TEST_RFAIL_OUTS_X86  := \\\n                     $(TEST_RFAIL_EXES_X86:.x86$(CFG_EXE_SUFFIX)=.x86.out)\n TEST_RFAIL_OUTS_LLVM := \\\n                     $(TEST_RFAIL_EXES_LLVM:.llvm$(CFG_EXE_SUFFIX)=.llvm.out)\n+TEST_RFAIL_TMPS_X86  := \\\n+    $(TEST_RFAIL_EXES_X86:.x86$(CFG_EXE_SUFFIX)=.x86$(CFG_EXE_SUFFIX).tmp)\n+TEST_RFAIL_TMPS_LLVM := \\\n+    $(TEST_RFAIL_EXES_LLVM:.llvm$(CFG_EXE_SUFFIX)=.llvm$(CFG_EXE_SUFFIX).tmp)\n \n \n TEST_CFAIL_CRATES_X86 := $(filter-out $(TEST_XFAILS_X86), $(CFAIL_RC))\n@@ -650,6 +659,11 @@ TEST_CFAIL_OUTS_X86 := \\\n                 $(TEST_CFAIL_EXES_X86:.x86$(CFG_EXE_SUFFIX)=.x86.out)\n TEST_CFAIL_OUTS_LLVM := \\\n                 $(TEST_CFAIL_EXES_LLVM:.llvm$(CFG_EXE_SUFFIX)=.llvm.out)\n+TEST_CFAIL_TMPS_X86 := \\\n+    $(TEST_CFAIL_EXES_X86:.x86$(CFG_EXE_SUFFIX)=.x86$(CFG_EXE_SUFFIX).tmp)\n+TEST_CFAIL_TMPS_LLVM := \\\n+    $(TEST_CFAIL_EXES_LLVM:.llvm$(CFG_EXE_SUFFIX)=.llvm$(CFG_EXE_SUFFIX).tmp)\n+\n \n ALL_TEST_CRATES := $(TEST_CFAIL_CRATES_X86) \\\n                    $(TEST_RFAIL_CRATES_X86) \\\n@@ -704,10 +718,12 @@ BOOT := $(CFG_QUIET)OCAMLRUNPARAM=\"b1\" $(CFG_BOOT) $(CFG_BOOT_FLAGS)\n \t$(CFG_QUIET)mv $< $@\n \n test/run-pass/%.out.tmp: test/run-pass/%$(CFG_EXE_SUFFIX) $(CFG_RUNTIME)\n+\t$(CFG_QUIET)rm -f $<.tmp\n \t@$(call CFG_ECHO, run: $<)\n \t$(CFG_QUIET)$(call CFG_RUN_TARG, $<) > $@\n \n test/run-fail/%.out.tmp: test/run-fail/%$(CFG_EXE_SUFFIX) $(CFG_RUNTIME)\n+\t$(CFG_QUIET)rm -f $<.tmp\n \t@$(call CFG_ECHO, run: $<)\n \t$(CFG_QUIET)rm -f $@\n \t$(CFG_QUIET)$(call CFG_RUN_TARG, $<) >$@ 2>&1 ; X=$$? ; \\\n@@ -900,12 +916,18 @@ clean:\n \t$(CFG_QUIET)rm -f $(ML_DEPFILES) $(C_DEPFILES) $(CRATE_DEPFILES)\n \t$(CFG_QUIET)rm -f $(GENERATED)\n \t$(CFG_QUIET)rm -f $(CFG_BOOT) $(CFG_RUNTIME) $(CFG_STDLIB)\n-\t$(CFG_QUIET)rm -f $(TEST_RPASS_EXES_X86) $(TEST_RPASS_OUTS_X86)\n-\t$(CFG_QUIET)rm -f $(TEST_RPASS_EXES_LLVM) $(TEST_RPASS_OUTS_LLVM)\n-\t$(CFG_QUIET)rm -f $(TEST_RFAIL_EXES_X86) $(TEST_RFAIL_OUTS_X86)\n-\t$(CFG_QUIET)rm -f $(TEST_RFAIL_EXES_LLVM) $(TEST_RFAIL_OUTS_LLVM)\n-\t$(CFG_QUIET)rm -f $(TEST_CFAIL_EXES_X86) $(TEST_CFAIL_OUTS_X86)\n-\t$(CFG_QUIET)rm -f $(TEST_CFAIL_EXES_LLVM) $(TEST_CFAIL_OUTS_LLVM)\n+\t$(CFG_QUIET)rm -f $(TEST_RPASS_EXES_X86) $(TEST_RPASS_OUTS_X86) \\\n+                          $(TEST_RPASS_TMPS_X86)\n+\t$(CFG_QUIET)rm -f $(TEST_RPASS_EXES_LLVM) $(TEST_RPASS_OUTS_LLVM) \\\n+                          $(TEST_RPASS_TMPS_LLVM)\n+\t$(CFG_QUIET)rm -f $(TEST_RFAIL_EXES_X86) $(TEST_RFAIL_OUTS_X86) \\\n+                          $(TEST_RFAIL_TMPS_X86)\n+\t$(CFG_QUIET)rm -f $(TEST_RFAIL_EXES_LLVM) $(TEST_RFAIL_OUTS_LLVM) \\\n+                          $(TEST_RFAIL_TMPS_LLVM)\n+\t$(CFG_QUIET)rm -f $(TEST_CFAIL_EXES_X86) $(TEST_CFAIL_OUTS_X86) \\\n+                          $(TEST_CFAIL_TMPS_X86)\n+\t$(CFG_QUIET)rm -f $(TEST_CFAIL_EXES_LLVM) $(TEST_CFAIL_OUTS_LLVM) \\\n+                          $(TEST_CFAIL_TMPS_LLVM)\n \t$(CFG_QUIET)rm -rf $(TEST_RPASS_EXES_LLVM:.llvm=.llvm.dSYM)\n \t$(CFG_QUIET)rm -rf $(TEST_RFAIL_EXES_LLVM:.llvm=.llvm.dSYM)\n \t$(CFG_QUIET)rm -Rf $(PKG_NAME)-*.tar.gz dist"}]}