{"sha": "ceacde31aeac4732a970ba253a99502b5d9f5280", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlYWNkZTMxYWVhYzQ3MzJhOTcwYmEyNTNhOTk1MDJiNWQ5ZjUyODA=", "commit": {"author": {"name": "Denys Zariaiev", "email": "denys.zariaiev@gmail.com", "date": "2019-01-27T22:52:22Z"}, "committer": {"name": "Denys Zariaiev", "email": "denys.zariaiev@gmail.com", "date": "2019-01-28T00:16:32Z"}, "message": "NVPTX: by-default use target cpu \"sm_30\"", "tree": {"sha": "0be86f2a86fe95d0ff1f92e9743b58be33c483b6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0be86f2a86fe95d0ff1f92e9743b58be33c483b6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ceacde31aeac4732a970ba253a99502b5d9f5280", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ceacde31aeac4732a970ba253a99502b5d9f5280", "html_url": "https://github.com/rust-lang/rust/commit/ceacde31aeac4732a970ba253a99502b5d9f5280", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ceacde31aeac4732a970ba253a99502b5d9f5280/comments", "author": {"login": "denzp", "id": 747869, "node_id": "MDQ6VXNlcjc0Nzg2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/747869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denzp", "html_url": "https://github.com/denzp", "followers_url": "https://api.github.com/users/denzp/followers", "following_url": "https://api.github.com/users/denzp/following{/other_user}", "gists_url": "https://api.github.com/users/denzp/gists{/gist_id}", "starred_url": "https://api.github.com/users/denzp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denzp/subscriptions", "organizations_url": "https://api.github.com/users/denzp/orgs", "repos_url": "https://api.github.com/users/denzp/repos", "events_url": "https://api.github.com/users/denzp/events{/privacy}", "received_events_url": "https://api.github.com/users/denzp/received_events", "type": "User", "site_admin": false}, "committer": {"login": "denzp", "id": 747869, "node_id": "MDQ6VXNlcjc0Nzg2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/747869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denzp", "html_url": "https://github.com/denzp", "followers_url": "https://api.github.com/users/denzp/followers", "following_url": "https://api.github.com/users/denzp/following{/other_user}", "gists_url": "https://api.github.com/users/denzp/gists{/gist_id}", "starred_url": "https://api.github.com/users/denzp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denzp/subscriptions", "organizations_url": "https://api.github.com/users/denzp/orgs", "repos_url": "https://api.github.com/users/denzp/repos", "events_url": "https://api.github.com/users/denzp/events{/privacy}", "received_events_url": "https://api.github.com/users/denzp/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "97c8e82fe03c079368e7913c46f6b26fefa30150", "url": "https://api.github.com/repos/rust-lang/rust/commits/97c8e82fe03c079368e7913c46f6b26fefa30150", "html_url": "https://github.com/rust-lang/rust/commit/97c8e82fe03c079368e7913c46f6b26fefa30150"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "b52865ced3e38cad1fe99dcf884e36b3187af371", "filename": "src/ci/docker/nvptx-cuda/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ceacde31aeac4732a970ba253a99502b5d9f5280/src%2Fci%2Fdocker%2Fnvptx-cuda%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/ceacde31aeac4732a970ba253a99502b5d9f5280/src%2Fci%2Fdocker%2Fnvptx-cuda%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fnvptx-cuda%2FDockerfile?ref=ceacde31aeac4732a970ba253a99502b5d9f5280", "patch": "@@ -5,7 +5,7 @@ RUN apt-get install -y --no-install-recommends \\\n     g++ make file curl ca-certificates python git \\\n     cmake sudo gdb\n \n-# TODO(denzp): setup `ptx-linker` CI for auttomatic binary releases.\n+# FIXME: setup `ptx-linker` CI for automatic binary releases.\n RUN curl -sL https://github.com/denzp/rust-ptx-linker/releases/download/v0.9.0-alpha/rust-ptx-linker.linux64.tar.gz | \\\n     tar -xzvC /usr/bin\n "}, {"sha": "e8512415e66a3c9c6f969ee7b2339865f4b7e482", "filename": "src/librustc_target/spec/nvptx64_nvidia_cuda.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ceacde31aeac4732a970ba253a99502b5d9f5280/src%2Flibrustc_target%2Fspec%2Fnvptx64_nvidia_cuda.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ceacde31aeac4732a970ba253a99502b5d9f5280/src%2Flibrustc_target%2Fspec%2Fnvptx64_nvidia_cuda.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fnvptx64_nvidia_cuda.rs?ref=ceacde31aeac4732a970ba253a99502b5d9f5280", "patch": "@@ -22,9 +22,9 @@ pub fn target() -> TargetResult {\n             linker: Some(\"rust-ptx-linker\".to_string()),\n \n             // With `ptx-linker` approach, it can be later overriden via link flags.\n-            cpu: \"sm_20\".to_string(),\n+            cpu: \"sm_30\".to_string(),\n \n-            // TODO(denzp): create tests for the atomics.\n+            // FIXME: create tests for the atomics.\n             max_atomic_width: Some(64),\n \n             // Unwinding on CUDA is neither feasible nor useful.\n@@ -51,7 +51,7 @@ pub fn target() -> TargetResult {\n             // This behavior is not supported by PTX ISA.\n             merge_functions: MergeFunctions::Disabled,\n \n-            // TODO(denzp): enable compilation tests for the target and\n+            // FIXME: enable compilation tests for the target and\n             // create the tests for this.\n             abi_blacklist: vec![\n                 Abi::Cdecl,"}, {"sha": "b71e18d910391c5889da894a52b6ecd442f6849e", "filename": "src/test/run-make/nvptx-emit-asm/kernel.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ceacde31aeac4732a970ba253a99502b5d9f5280/src%2Ftest%2Frun-make%2Fnvptx-emit-asm%2Fkernel.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ceacde31aeac4732a970ba253a99502b5d9f5280/src%2Ftest%2Frun-make%2Fnvptx-emit-asm%2Fkernel.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fnvptx-emit-asm%2Fkernel.rs?ref=ceacde31aeac4732a970ba253a99502b5d9f5280", "patch": "@@ -3,7 +3,7 @@\n #![feature(abi_ptx)]\n \n // Verify the default CUDA arch.\n-// CHECK: .target sm_20\n+// CHECK: .target sm_30\n // CHECK: .address_size 64\n \n // Verify function name doesn't contain unacceaptable characters."}]}