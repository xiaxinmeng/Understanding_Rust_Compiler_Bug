{"sha": "55ee06b8ce70cf86e9df7e501f700cc3e520376d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU1ZWUwNmI4Y2U3MGNmODZlOWRmN2U1MDFmNzAwY2MzZTUyMDM3NmQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-08-14T00:37:08Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-08-14T00:37:08Z"}, "message": "libsyntax: Accept \"1..3\" as the preferred form of \"1 to 3\" in patterns", "tree": {"sha": "f1adfcb85145ce8f3bdd855cc47894d87834734f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f1adfcb85145ce8f3bdd855cc47894d87834734f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/55ee06b8ce70cf86e9df7e501f700cc3e520376d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/55ee06b8ce70cf86e9df7e501f700cc3e520376d", "html_url": "https://github.com/rust-lang/rust/commit/55ee06b8ce70cf86e9df7e501f700cc3e520376d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/55ee06b8ce70cf86e9df7e501f700cc3e520376d/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "36d8682269fb29a10da93634cff4a9320c45a2f4", "url": "https://api.github.com/repos/rust-lang/rust/commits/36d8682269fb29a10da93634cff4a9320c45a2f4", "html_url": "https://github.com/rust-lang/rust/commit/36d8682269fb29a10da93634cff4a9320c45a2f4"}], "stats": {"total": 21, "additions": 11, "deletions": 10}, "files": [{"sha": "23f5eac07dfda7734b48846eb8ef5d3c0f656829", "filename": "src/libsyntax/parse/lexer.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Flibsyntax%2Fparse%2Flexer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Flibsyntax%2Fparse%2Flexer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Flexer.rs?ref=55ee06b8ce70cf86e9df7e501f700cc3e520376d", "patch": "@@ -377,7 +377,8 @@ fn scan_number(c: char, rdr: string_reader) -> token::token {\n         }\n     }\n     let mut is_float = false;\n-    if rdr.curr == '.' && !(is_alpha(nextch(rdr)) || nextch(rdr) == '_') {\n+    if rdr.curr == '.' && !(is_alpha(nextch(rdr)) || nextch(rdr) == '_' ||\n+                            nextch(rdr) == '.') {\n         is_float = true;\n         bump(rdr);\n         let dec_part = scan_digits(rdr, 10u);"}, {"sha": "685a6a34405eb488949e79a547ce08db09c4fd25", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=55ee06b8ce70cf86e9df7e501f700cc3e520376d", "patch": "@@ -1797,7 +1797,7 @@ class parser {\n                 || self.is_keyword(~\"false\")\n             {\n                 let val = self.parse_expr_res(RESTRICT_NO_BAR_OP);\n-                if self.eat_keyword(~\"to\") {\n+                if self.eat_keyword(~\"to\") || self.eat(token::DOTDOT) {\n                     let end = self.parse_expr_res(RESTRICT_NO_BAR_OP);\n                     pat = pat_range(val, end);\n                 } else {"}, {"sha": "64345dc97363d199d177fcea78ffa30cc25fa911", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=55ee06b8ce70cf86e9df7e501f700cc3e520376d", "patch": "@@ -1512,7 +1512,7 @@ fn print_pat(s: ps, &&pat: @ast::pat) {\n       ast::pat_range(begin, end) => {\n         print_expr(s, begin);\n         space(s.s);\n-        word_space(s, ~\"to\");\n+        word(s.s, ~\"..\");\n         print_expr(s, end);\n       }\n     }"}, {"sha": "dff4f91be210c931a90b644f97f6bc67f164f7b9", "filename": "src/test/run-pass/alt-range.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Ftest%2Frun-pass%2Falt-range.rs", "raw_url": "https://github.com/rust-lang/rust/raw/55ee06b8ce70cf86e9df7e501f700cc3e520376d/src%2Ftest%2Frun-pass%2Falt-range.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Falt-range.rs?ref=55ee06b8ce70cf86e9df7e501f700cc3e520376d", "patch": "@@ -1,30 +1,30 @@\n fn main() {\n     match 5u {\n-      1u to 5u => {}\n+      1u..5u => {}\n       _ => fail ~\"should match range\",\n     }\n     match 5u {\n-      6u to 7u => fail ~\"shouldn't match range\",\n+      6u..7u => fail ~\"shouldn't match range\",\n       _ => {}\n     }\n     match check 5u {\n       1u => fail ~\"should match non-first range\",\n-      2u to 6u => {}\n+      2u..6u => {}\n     }\n     match 'c' {\n-      'a' to 'z' => {}\n+      'a'..'z' => {}\n       _ => fail ~\"should suppport char ranges\"\n     }\n     match -3 {\n-      -7 to 5 => {}\n+      -7..5 => {}\n       _ => fail ~\"should match signed range\"\n     }\n     match 3.0 {\n-      1.0 to 5.0 => {}\n+      1.0..5.0 => {}\n       _ => fail ~\"should match float range\"\n     }\n     match -1.5 {\n-      -3.6 to 3.6 => {}\n+      -3.6..3.6 => {}\n       _ => fail ~\"should match negative float range\"\n     }\n }"}]}