{"sha": "4c246ecb64d147a2853747dedf1db76d06094891", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRjMjQ2ZWNiNjRkMTQ3YTI4NTM3NDdkZWRmMWRiNzZkMDYwOTQ4OTE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-07-03T02:32:27Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-07-03T02:32:27Z"}, "message": "Auto merge of #26740 - steveklabnik:gh26737, r=gankro\n\nFixes #26737.", "tree": {"sha": "8fb2cb44b29d9dcfc276a47e461d1ec8b1465cb3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8fb2cb44b29d9dcfc276a47e461d1ec8b1465cb3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c246ecb64d147a2853747dedf1db76d06094891", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c246ecb64d147a2853747dedf1db76d06094891", "html_url": "https://github.com/rust-lang/rust/commit/4c246ecb64d147a2853747dedf1db76d06094891", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c246ecb64d147a2853747dedf1db76d06094891/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4a217759ad5a0ca1ed08e4fec0f278f4e709cdc8", "url": "https://api.github.com/repos/rust-lang/rust/commits/4a217759ad5a0ca1ed08e4fec0f278f4e709cdc8", "html_url": "https://github.com/rust-lang/rust/commit/4a217759ad5a0ca1ed08e4fec0f278f4e709cdc8"}, {"sha": "57eed53041b9485d7c30d5601d3aacd266bd7819", "url": "https://api.github.com/repos/rust-lang/rust/commits/57eed53041b9485d7c30d5601d3aacd266bd7819", "html_url": "https://github.com/rust-lang/rust/commit/57eed53041b9485d7c30d5601d3aacd266bd7819"}], "stats": {"total": 21, "additions": 18, "deletions": 3}, "files": [{"sha": "6b20d6e2a3f9b99587acdae98ef3ae69a8165439", "filename": "src/libcollections/string.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/4c246ecb64d147a2853747dedf1db76d06094891/src%2Flibcollections%2Fstring.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c246ecb64d147a2853747dedf1db76d06094891/src%2Flibcollections%2Fstring.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fstring.rs?ref=4c246ecb64d147a2853747dedf1db76d06094891", "patch": "@@ -317,9 +317,14 @@ impl String {\n \n     /// Creates a new `String` from a length, capacity, and pointer.\n     ///\n-    /// This is unsafe because:\n+    /// # Unsafety\n     ///\n-    /// * We call `Vec::from_raw_parts` to get a `Vec<u8>`;\n+    /// This is _very_ unsafe because:\n+    ///\n+    /// * We call `Vec::from_raw_parts` to get a `Vec<u8>`. Therefore, this\n+    ///   function inherits all of its unsafety, see [its\n+    ///   documentation](../vec/struct.Vec.html#method.from_raw_parts)\n+    ///   for the invariants it expects, they also apply to this function.\n     /// * We assume that the `Vec` contains valid UTF-8.\n     #[inline]\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]"}, {"sha": "5b326b1a5b0ace445293e5c291fc24c01248af15", "filename": "src/libcollections/vec.rs", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/4c246ecb64d147a2853747dedf1db76d06094891/src%2Flibcollections%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c246ecb64d147a2853747dedf1db76d06094891/src%2Flibcollections%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fvec.rs?ref=4c246ecb64d147a2853747dedf1db76d06094891", "patch": "@@ -227,7 +227,17 @@ impl<T> Vec<T> {\n \n     /// Creates a `Vec<T>` directly from the raw components of another vector.\n     ///\n-    /// This is highly unsafe, due to the number of invariants that aren't checked.\n+    /// # Unsafety\n+    ///\n+    /// This is highly unsafe, due to the number of invariants that aren't\n+    /// checked:\n+    ///\n+    /// * `ptr` needs to have been previously allocated via `String`/`Vec<T>`\n+    ///   (at least, it's highly likely to be incorrect if it wasn't).\n+    /// * `capacity` needs to be the capacity that the pointer was allocated with.\n+    ///\n+    /// Violating these may cause problems like corrupting the allocator's\n+    /// internal datastructures.\n     ///\n     /// # Examples\n     ///"}]}