{"sha": "9a602243c422f183f574ff53e5d3e9e85fcc1210", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhNjAyMjQzYzQyMmYxODNmNTc0ZmY1M2U1ZDNlOWU4NWZjYzEyMTA=", "commit": {"author": {"name": "varkor", "email": "github@varkor.com", "date": "2019-12-22T23:09:54Z"}, "committer": {"name": "varkor", "email": "github@varkor.com", "date": "2019-12-23T11:20:13Z"}, "message": "Add new folder for destructuring assignment tests", "tree": {"sha": "b01c52309fd74cf74ca91d0940f3366aa9648415", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b01c52309fd74cf74ca91d0940f3366aa9648415"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9a602243c422f183f574ff53e5d3e9e85fcc1210", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9a602243c422f183f574ff53e5d3e9e85fcc1210", "html_url": "https://github.com/rust-lang/rust/commit/9a602243c422f183f574ff53e5d3e9e85fcc1210", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9a602243c422f183f574ff53e5d3e9e85fcc1210/comments", "author": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "35979a92bf6dba402885a1488ecfd84046e4bd71", "url": "https://api.github.com/repos/rust-lang/rust/commits/35979a92bf6dba402885a1488ecfd84046e4bd71", "html_url": "https://github.com/rust-lang/rust/commit/35979a92bf6dba402885a1488ecfd84046e4bd71"}], "stats": {"total": 44, "additions": 23, "deletions": 21}, "files": [{"sha": "3c7860ae02fe7494fee6dcf840bc89d396f29aef", "filename": "src/librustc/hir/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Flibrustc%2Fhir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Flibrustc%2Fhir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmod.rs?ref=9a602243c422f183f574ff53e5d3e9e85fcc1210", "patch": "@@ -1628,6 +1628,7 @@ pub enum ExprKind {\n     Block(P<Block>, Option<Label>),\n \n     /// An assignment (e.g., `a = foo()`).\n+    /// The `Span` argument is the span of the `=` token.\n     Assign(P<Expr>, P<Expr>, Span),\n     /// An assignment with an operator.\n     ///"}, {"sha": "542c2b16c602ec39ff569d49adea0fa7794d234b", "filename": "src/librustc_typeck/check/expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fexpr.rs?ref=9a602243c422f183f574ff53e5d3e9e85fcc1210", "patch": "@@ -751,7 +751,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             );\n             err.span_label(lhs.span, \"cannot assign to this expression\");\n             if self.is_destructuring_place_expr(lhs) {\n-                err.note(\"destructuring assignments are not yet supported\");\n+                err.note(\"destructuring assignments are not currently supported\");\n                 err.note(\n                     \"for more information, see https://github.com/rust-lang/rfcs/issues/372\",\n                 );"}, {"sha": "c98942abaf3c2ae26ec390c1add4ca09d856acc9", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=9a602243c422f183f574ff53e5d3e9e85fcc1210", "patch": "@@ -1216,6 +1216,7 @@ pub enum ExprKind {\n     TryBlock(P<Block>),\n \n     /// An assignment (`a = foo()`).\n+    /// The `Span` argument is the span of the `=` token.\n     Assign(P<Expr>, P<Expr>, Span),\n     /// An assignment with an operator.\n     ///"}, {"sha": "a195e1054d099e7b4211df6e3be396951cdbbfbd", "filename": "src/test/ui/bad/bad-expr-lhs.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Ftest%2Fui%2Fbad%2Fbad-expr-lhs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Ftest%2Fui%2Fbad%2Fbad-expr-lhs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbad%2Fbad-expr-lhs.stderr?ref=9a602243c422f183f574ff53e5d3e9e85fcc1210", "patch": "@@ -30,7 +30,7 @@ LL |     (a, b) = (3, 4);\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0070]: invalid left-hand side of assignment"}, {"sha": "876c9efea264782686750e125f0faece79496e1f", "filename": "src/test/ui/destructuring-assignment/note-unsupported.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Ftest%2Fui%2Fdestructuring-assignment%2Fnote-unsupported.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Ftest%2Fui%2Fdestructuring-assignment%2Fnote-unsupported.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdestructuring-assignment%2Fnote-unsupported.rs?ref=9a602243c422f183f574ff53e5d3e9e85fcc1210", "previous_filename": "src/test/ui/bad/destructuring-assignment.rs"}, {"sha": "a6805c32a6e5275143676bfe02052c595578b714", "filename": "src/test/ui/destructuring-assignment/note-unsupported.stderr", "status": "renamed", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Ftest%2Fui%2Fdestructuring-assignment%2Fnote-unsupported.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9a602243c422f183f574ff53e5d3e9e85fcc1210/src%2Ftest%2Fui%2Fdestructuring-assignment%2Fnote-unsupported.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdestructuring-assignment%2Fnote-unsupported.stderr?ref=9a602243c422f183f574ff53e5d3e9e85fcc1210", "patch": "@@ -1,16 +1,16 @@\n error[E0070]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:6:12\n+  --> $DIR/note-unsupported.rs:6:12\n    |\n LL |     (a, b) = (3, 4);\n    |     ------ ^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0368]: binary assignment operation `+=` cannot be applied to type `({integer}, {integer})`\n-  --> $DIR/destructuring-assignment.rs:7:5\n+  --> $DIR/note-unsupported.rs:7:5\n    |\n LL |     (a, b) += (3, 4);\n    |     ------^^^^^^^^^^\n@@ -20,29 +20,29 @@ LL |     (a, b) += (3, 4);\n    = note: an implementation of `std::ops::AddAssign` might be missing for `({integer}, {integer})`\n \n error[E0067]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:7:12\n+  --> $DIR/note-unsupported.rs:7:12\n    |\n LL |     (a, b) += (3, 4);\n    |     ------ ^^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0070]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:10:12\n+  --> $DIR/note-unsupported.rs:10:12\n    |\n LL |     [a, b] = [3, 4];\n    |     ------ ^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0368]: binary assignment operation `+=` cannot be applied to type `[{integer}; 2]`\n-  --> $DIR/destructuring-assignment.rs:11:5\n+  --> $DIR/note-unsupported.rs:11:5\n    |\n LL |     [a, b] += [3, 4];\n    |     ------^^^^^^^^^^\n@@ -52,29 +52,29 @@ LL |     [a, b] += [3, 4];\n    = note: an implementation of `std::ops::AddAssign` might be missing for `[{integer}; 2]`\n \n error[E0067]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:11:12\n+  --> $DIR/note-unsupported.rs:11:12\n    |\n LL |     [a, b] += [3, 4];\n    |     ------ ^^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0070]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:16:22\n+  --> $DIR/note-unsupported.rs:16:22\n    |\n LL |     S { x: a, y: b } = s;\n    |     ---------------- ^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0368]: binary assignment operation `+=` cannot be applied to type `S`\n-  --> $DIR/destructuring-assignment.rs:17:5\n+  --> $DIR/note-unsupported.rs:17:5\n    |\n LL |     S { x: a, y: b } += s;\n    |     ----------------^^^^^\n@@ -84,36 +84,36 @@ LL |     S { x: a, y: b } += s;\n    = note: an implementation of `std::ops::AddAssign` might be missing for `S`\n \n error[E0067]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:17:22\n+  --> $DIR/note-unsupported.rs:17:22\n    |\n LL |     S { x: a, y: b } += s;\n    |     ---------------- ^^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0070]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:20:21\n+  --> $DIR/note-unsupported.rs:20:21\n    |\n LL |     S { x: a, ..s } = S { x: 3, y: 4 };\n    |     --------------- ^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error[E0070]: invalid left-hand side of assignment\n-  --> $DIR/destructuring-assignment.rs:24:17\n+  --> $DIR/note-unsupported.rs:24:17\n    |\n LL |     ((a, b), c) = ((3, 4), 5);\n    |     ----------- ^\n    |     |\n    |     cannot assign to this expression\n    |\n-   = note: destructuring assignments are not yet supported\n+   = note: destructuring assignments are not currently supported\n    = note: for more information, see https://github.com/rust-lang/rfcs/issues/372\n \n error: aborting due to 11 previous errors", "previous_filename": "src/test/ui/bad/destructuring-assignment.stderr"}]}