{"sha": "9edaa76adce4de737db54194eb13d6c298827b37", "node_id": "C_kwDOAAsO6NoAKDllZGFhNzZhZGNlNGRlNzM3ZGI1NDE5NGViMTNkNmMyOTg4MjdiMzc", "commit": {"author": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2022-06-08T00:50:45Z"}, "committer": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2022-06-08T00:50:45Z"}, "message": "Stabilize $$ in Rust 1.63.0", "tree": {"sha": "e8f3985fd2f2b86fe5fc7ef743469169cc2583d0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e8f3985fd2f2b86fe5fc7ef743469169cc2583d0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9edaa76adce4de737db54194eb13d6c298827b37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9edaa76adce4de737db54194eb13d6c298827b37", "html_url": "https://github.com/rust-lang/rust/commit/9edaa76adce4de737db54194eb13d6c298827b37", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9edaa76adce4de737db54194eb13d6c298827b37/comments", "author": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "committer": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b17e9d76f2ad15022e0e69bc33745c4ef9025a8f", "url": "https://api.github.com/repos/rust-lang/rust/commits/b17e9d76f2ad15022e0e69bc33745c4ef9025a8f", "html_url": "https://github.com/rust-lang/rust/commit/b17e9d76f2ad15022e0e69bc33745c4ef9025a8f"}], "stats": {"total": 76, "additions": 19, "deletions": 57}, "files": [{"sha": "d4b8563a036664b58ed53249758ea58e367a318e", "filename": "compiler/rustc_expand/src/mbe/quoted.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9edaa76adce4de737db54194eb13d6c298827b37/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Fquoted.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9edaa76adce4de737db54194eb13d6c298827b37/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Fquoted.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_expand%2Fsrc%2Fmbe%2Fquoted.rs?ref=9edaa76adce4de737db54194eb13d6c298827b37", "patch": "@@ -234,8 +234,6 @@ fn parse_tree(\n                             sess,\n                             &Token { kind: token::Dollar, span },\n                         );\n-                    } else {\n-                        maybe_emit_macro_metavar_expr_feature(features, sess, span);\n                     }\n                     TokenTree::token(token::Dollar, span)\n                 }"}, {"sha": "c248c46f52cd35fa9676dbdd9e91247ca22f5ec7", "filename": "src/test/ui/macros/rfc-3086-metavar-expr/allowed-features.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/9edaa76adce4de737db54194eb13d6c298827b37/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Fallowed-features.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9edaa76adce4de737db54194eb13d6c298827b37/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Fallowed-features.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Fallowed-features.rs?ref=9edaa76adce4de737db54194eb13d6c298827b37", "patch": "@@ -0,0 +1,12 @@\n+// check-pass\n+\n+macro_rules! dollar_dollar {\n+    () => {\n+        macro_rules! bar {\n+            ( $$( $$any:tt )* ) => { $$( $$any )* };\n+        }\n+    };\n+}\n+\n+fn main() {\n+}"}, {"sha": "cce3e578aeafeaacf709b5f2209bbce656be1f4e", "filename": "src/test/ui/macros/rfc-3086-metavar-expr/required-features.rs", "status": "renamed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/9edaa76adce4de737db54194eb13d6c298827b37/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Frequired-features.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9edaa76adce4de737db54194eb13d6c298827b37/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Frequired-features.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Frequired-features.rs?ref=9edaa76adce4de737db54194eb13d6c298827b37", "patch": "@@ -5,18 +5,6 @@ macro_rules! count {\n     };\n }\n \n-macro_rules! dollar_dollar {\n-    () => {\n-        macro_rules! bar {\n-            ( $$( $$any:tt )* ) => { $$( $$any )* };\n-            //~^ ERROR meta-variable expressions are unstable\n-            //~| ERROR meta-variable expressions are unstable\n-            //~| ERROR meta-variable expressions are unstable\n-            //~| ERROR meta-variable expressions are unstable\n-        }\n-    };\n-}\n-\n macro_rules! index {\n     ( $( $e:stmt ),* ) => {\n         $( ${ignore(e)} ${index()} )*", "previous_filename": "src/test/ui/macros/rfc-3086-metavar-expr/required-feature.rs"}, {"sha": "5efd3b10442d10290aeed0c2af787042d469654a", "filename": "src/test/ui/macros/rfc-3086-metavar-expr/required-features.stderr", "status": "renamed", "additions": 7, "deletions": 43, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/9edaa76adce4de737db54194eb13d6c298827b37/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Frequired-features.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9edaa76adce4de737db54194eb13d6c298827b37/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Frequired-features.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Frfc-3086-metavar-expr%2Frequired-features.stderr?ref=9edaa76adce4de737db54194eb13d6c298827b37", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:3:10\n+  --> $DIR/required-features.rs:3:10\n    |\n LL |         ${ count(e) }\n    |          ^^^^^^^^^^^^\n@@ -8,43 +8,7 @@ LL |         ${ count(e) }\n    = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n \n error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:11:16\n-   |\n-LL |             ( $$( $$any:tt )* ) => { $$( $$any )* };\n-   |                ^\n-   |\n-   = note: see issue #83527 <https://github.com/rust-lang/rust/issues/83527> for more information\n-   = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n-\n-error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:11:20\n-   |\n-LL |             ( $$( $$any:tt )* ) => { $$( $$any )* };\n-   |                    ^\n-   |\n-   = note: see issue #83527 <https://github.com/rust-lang/rust/issues/83527> for more information\n-   = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n-\n-error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:11:39\n-   |\n-LL |             ( $$( $$any:tt )* ) => { $$( $$any )* };\n-   |                                       ^\n-   |\n-   = note: see issue #83527 <https://github.com/rust-lang/rust/issues/83527> for more information\n-   = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n-\n-error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:11:43\n-   |\n-LL |             ( $$( $$any:tt )* ) => { $$( $$any )* };\n-   |                                           ^\n-   |\n-   = note: see issue #83527 <https://github.com/rust-lang/rust/issues/83527> for more information\n-   = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n-\n-error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:22:13\n+  --> $DIR/required-features.rs:10:13\n    |\n LL |         $( ${ignore(e)} ${index()} )*\n    |             ^^^^^^^^^^^\n@@ -53,7 +17,7 @@ LL |         $( ${ignore(e)} ${index()} )*\n    = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n \n error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:22:26\n+  --> $DIR/required-features.rs:10:26\n    |\n LL |         $( ${ignore(e)} ${index()} )*\n    |                          ^^^^^^^^^\n@@ -62,7 +26,7 @@ LL |         $( ${ignore(e)} ${index()} )*\n    = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n \n error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:30:19\n+  --> $DIR/required-features.rs:18:19\n    |\n LL |         0 $( + 1 ${ignore(i)} )*\n    |                   ^^^^^^^^^^^\n@@ -71,7 +35,7 @@ LL |         0 $( + 1 ${ignore(i)} )*\n    = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n \n error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:37:13\n+  --> $DIR/required-features.rs:25:13\n    |\n LL |         $( ${ignore(e)} ${length()} )*\n    |             ^^^^^^^^^^^\n@@ -80,14 +44,14 @@ LL |         $( ${ignore(e)} ${length()} )*\n    = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n \n error[E0658]: meta-variable expressions are unstable\n-  --> $DIR/required-feature.rs:37:26\n+  --> $DIR/required-features.rs:25:26\n    |\n LL |         $( ${ignore(e)} ${length()} )*\n    |                          ^^^^^^^^^^\n    |\n    = note: see issue #83527 <https://github.com/rust-lang/rust/issues/83527> for more information\n    = help: add `#![feature(macro_metavar_expr)]` to the crate attributes to enable\n \n-error: aborting due to 10 previous errors\n+error: aborting due to 6 previous errors\n \n For more information about this error, try `rustc --explain E0658`.", "previous_filename": "src/test/ui/macros/rfc-3086-metavar-expr/required-feature.stderr"}]}