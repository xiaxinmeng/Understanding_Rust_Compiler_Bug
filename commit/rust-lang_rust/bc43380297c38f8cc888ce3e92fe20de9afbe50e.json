{"sha": "bc43380297c38f8cc888ce3e92fe20de9afbe50e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJjNDMzODAyOTdjMzhmOGNjODg4Y2UzZTkyZmUyMGRlOWFmYmU1MGU=", "commit": {"author": {"name": "Ngo Iok Ui", "email": "wusyong9104@gmail.com", "date": "2020-11-21T05:47:09Z"}, "committer": {"name": "Ngo Iok Ui", "email": "wusyong9104@gmail.com", "date": "2020-11-21T05:47:09Z"}, "message": "Fix comments of toogeneris test", "tree": {"sha": "f829f04ced2961c5c778bfd214be59681274d689", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f829f04ced2961c5c778bfd214be59681274d689"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bc43380297c38f8cc888ce3e92fe20de9afbe50e", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE4q3t44r++8ITffjc7N7wAbpdL1QFAl+4qeQACgkQ7N7wAbpd\nL1TAAw//YNaWKaYLwzVuHy9mujgVGvGabc8yfxC08sDFbbngsdI7A1DwDxu8Z3FH\n1D5lpzs1gaITEofbolR0Bm0v3HpNo7Q55T6/jn51U3VHkAGM3UVt1Kz/2lZlt3m7\ndR1mQbzrGSetKa9KzvUm44r+vhUCKWF3jiOrI014Bv2/beqFRKO4OprNU+0AkadH\n7emzzZDRAL+4q5SxYaCRlOvH6Tr7E4DU/II25zqp+BtEkhKuAmzLdnGC0VibOYbU\nHR/3BSRvscvFnWq5ZjexlMveO8ZrqmNr8z7DQJcPLZhtmTQv8BIC5whkvH8ZzQoU\nB3iJL3PfNqjb0cpACgqJJsfonEypadA+SPPWoGdsxXMOlK5QDPamlbGSXcWZ1EwT\nKksS6jRAmMD0XDD48JcKrX5zwxvw+ZQ/NZJiwjwOAcbHQ0DdOUY6Frpit7QloKZX\nGBDuyXEd0XPNr8+h/dTcak8A9le9KT9AjgIGP5CM7Kr54s82csRi0rQfUuRE5b3G\ns//z12DJmQKx5+MtTc6fpjv7Unxk+Wlza4q8YhUFlOwBm8OUmX7nNtRBkdF1gW7t\nYejDK4EmLOxa4mJdh2c97ZuLmA6zXupeMCQnW7dvSyIr5NQdfULIsBre+HcatpWs\ntFCD1BID2QaXyGqFb0p93/9HRoL9Yh3vBPMnfRcI+k0/odVJISM=\n=rUO+\n-----END PGP SIGNATURE-----", "payload": "tree f829f04ced2961c5c778bfd214be59681274d689\nparent ef34e067817448d8ffbb9ac70e97699bf8b7566e\nauthor Ngo Iok Ui <wusyong9104@gmail.com> 1605937629 +0800\ncommitter Ngo Iok Ui <wusyong9104@gmail.com> 1605937629 +0800\n\nFix comments of toogeneris test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bc43380297c38f8cc888ce3e92fe20de9afbe50e", "html_url": "https://github.com/rust-lang/rust/commit/bc43380297c38f8cc888ce3e92fe20de9afbe50e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bc43380297c38f8cc888ce3e92fe20de9afbe50e/comments", "author": null, "committer": null, "parents": [{"sha": "ef34e067817448d8ffbb9ac70e97699bf8b7566e", "url": "https://api.github.com/repos/rust-lang/rust/commits/ef34e067817448d8ffbb9ac70e97699bf8b7566e", "html_url": "https://github.com/rust-lang/rust/commit/ef34e067817448d8ffbb9ac70e97699bf8b7566e"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "456035458cfc562945722ec16509d346a650bd65", "filename": "src/test/ui/consts/issue-79137-toogeneric.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bc43380297c38f8cc888ce3e92fe20de9afbe50e/src%2Ftest%2Fui%2Fconsts%2Fissue-79137-toogeneric.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bc43380297c38f8cc888ce3e92fe20de9afbe50e/src%2Ftest%2Fui%2Fconsts%2Fissue-79137-toogeneric.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fissue-79137-toogeneric.rs?ref=bc43380297c38f8cc888ce3e92fe20de9afbe50e", "patch": "@@ -1,6 +1,4 @@\n-// The instrinsic call for variant count should exhaustively match on `tp_ty` and forbid\n-// `ty::Projection`, `ty::Opaque`, `ty::Param`, `ty::Bound`, `ty::Placeholder` and `ty::Infer`\n-// variant. This test checks that it will fail if it's too generic.\n+// Test that `variant_count` only gets evaluated once the type is concrete enough.\n \n #![feature(variant_count)]\n "}, {"sha": "579e6aa09bdbd34a250b7a5a8eee3c9c07b36a5a", "filename": "src/test/ui/consts/issue-79137-toogeneric.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bc43380297c38f8cc888ce3e92fe20de9afbe50e/src%2Ftest%2Fui%2Fconsts%2Fissue-79137-toogeneric.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bc43380297c38f8cc888ce3e92fe20de9afbe50e/src%2Ftest%2Fui%2Fconsts%2Fissue-79137-toogeneric.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fissue-79137-toogeneric.stderr?ref=bc43380297c38f8cc888ce3e92fe20de9afbe50e", "patch": "@@ -1,11 +1,11 @@\n error: constant pattern depends on a generic parameter\n-  --> $DIR/issue-79137-toogeneric.rs:14:43\n+  --> $DIR/issue-79137-toogeneric.rs:12:43\n    |\n LL |     matches!(GetVariantCount::<T>::VALUE, GetVariantCount::<T>::VALUE)\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: constant pattern depends on a generic parameter\n-  --> $DIR/issue-79137-toogeneric.rs:14:43\n+  --> $DIR/issue-79137-toogeneric.rs:12:43\n    |\n LL |     matches!(GetVariantCount::<T>::VALUE, GetVariantCount::<T>::VALUE)\n    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^"}]}