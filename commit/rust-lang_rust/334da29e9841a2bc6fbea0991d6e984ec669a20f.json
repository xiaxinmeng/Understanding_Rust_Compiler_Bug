{"sha": "334da29e9841a2bc6fbea0991d6e984ec669a20f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzNGRhMjllOTg0MWEyYmM2ZmJlYTA5OTFkNmU5ODRlYzY2OWEyMGY=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2018-08-01T19:46:22Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-08-01T19:46:22Z"}, "message": "Rollup merge of #52793 - davidtwco:issue-49824, r=pnkfelix\n\nAdd test for NLL: unexpected \"free region `` does not outlive\" error\n\nFixes #49824.\n\nr? @pnkfelix @nikomatsakis", "tree": {"sha": "8c470e5ec72ec3a62c3894e9fac71e9bb6f6141e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8c470e5ec72ec3a62c3894e9fac71e9bb6f6141e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/334da29e9841a2bc6fbea0991d6e984ec669a20f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbYg4OCRBK7hj4Ov3rIwAAdHIIAFXQOOJx5kAXLofy6Ztltg8O\nowyIraDIrD0F0ryoCQaRP4+RoZOSfQbAK/K53ExnSXhKpNJWw1I0EEASSRkwfYt9\nSQeMwg7/tGHyQAOlumfOvtXEveIdatC1Acw/IrKe/AuNvYQVw3vj4zOnYxglnxa5\nGLrQclK5mgR+px5XaI9efWlUvtd9PpwPHJPx62lTqi+MuPucE8JXU2ZrJpfmw146\nCSusi8/SKZ8tAvLGI7Fjv9tJH7VYKFiy/SNkKEXnlHrmxtdFx/o7sDAgH5Y9Itfz\nW3Q+H6huc9yEHOTzdEiMXFdKM1Z0SFeGHxHYgwkMuUx+alVnzC4Fcbgnx4oKpIw=\n=QAly\n-----END PGP SIGNATURE-----\n", "payload": "tree 8c470e5ec72ec3a62c3894e9fac71e9bb6f6141e\nparent 11f812aa7d1df09724f94c2b095f6dbfd367da17\nparent 8bbf0422d44ff54fff5760987d06250ebb5b60af\nauthor Pietro Albini <pietro@pietroalbini.org> 1533152782 +0200\ncommitter GitHub <noreply@github.com> 1533152782 +0200\n\nRollup merge of #52793 - davidtwco:issue-49824, r=pnkfelix\n\nAdd test for NLL: unexpected \"free region `` does not outlive\" error\n\nFixes #49824.\n\nr? @pnkfelix @nikomatsakis\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/334da29e9841a2bc6fbea0991d6e984ec669a20f", "html_url": "https://github.com/rust-lang/rust/commit/334da29e9841a2bc6fbea0991d6e984ec669a20f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/334da29e9841a2bc6fbea0991d6e984ec669a20f/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "11f812aa7d1df09724f94c2b095f6dbfd367da17", "url": "https://api.github.com/repos/rust-lang/rust/commits/11f812aa7d1df09724f94c2b095f6dbfd367da17", "html_url": "https://github.com/rust-lang/rust/commit/11f812aa7d1df09724f94c2b095f6dbfd367da17"}, {"sha": "8bbf0422d44ff54fff5760987d06250ebb5b60af", "url": "https://api.github.com/repos/rust-lang/rust/commits/8bbf0422d44ff54fff5760987d06250ebb5b60af", "html_url": "https://github.com/rust-lang/rust/commit/8bbf0422d44ff54fff5760987d06250ebb5b60af"}], "stats": {"total": 60, "additions": 60, "deletions": 0}, "files": [{"sha": "59345754e9f59284539b4eba2d035a803ea50807", "filename": "src/test/ui/issue-49824.nll.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/334da29e9841a2bc6fbea0991d6e984ec669a20f/src%2Ftest%2Fui%2Fissue-49824.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/334da29e9841a2bc6fbea0991d6e984ec669a20f/src%2Ftest%2Fui%2Fissue-49824.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-49824.nll.stderr?ref=334da29e9841a2bc6fbea0991d6e984ec669a20f", "patch": "@@ -0,0 +1,20 @@\n+error: unsatisfied lifetime constraints\n+  --> $DIR/issue-49824.rs:22:9\n+   |\n+LL |         || {\n+   |    _____-\n+   |   |_____|\n+   |  ||\n+LL |  ||         || {\n+   |  ||_________^\n+LL | |||             let _y = &mut x;\n+LL | |||         }\n+   | |||_________^ requires that `'1` must outlive `'2`\n+LL |  ||     };\n+   |  ||     -\n+   |  ||_____|\n+   |  |______lifetime `'1` represents the closure body\n+   |         lifetime `'2` appears in return type\n+\n+error: aborting due to previous error\n+"}, {"sha": "1f3e575288427ed8b53fc963a75e1676b8951399", "filename": "src/test/ui/issue-49824.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/334da29e9841a2bc6fbea0991d6e984ec669a20f/src%2Ftest%2Fui%2Fissue-49824.rs", "raw_url": "https://github.com/rust-lang/rust/raw/334da29e9841a2bc6fbea0991d6e984ec669a20f/src%2Ftest%2Fui%2Fissue-49824.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-49824.rs?ref=334da29e9841a2bc6fbea0991d6e984ec669a20f", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(rustc_attrs)]\n+\n+// This test checks that a failure occurs with NLL but does not fail with the\n+// legacy AST output. Check issue-49824.nll.stderr for expected compilation error\n+// output under NLL and #49824 for more information.\n+\n+#[rustc_error]\n+fn main() {\n+    //~^ compilation successful\n+    let mut x = 0;\n+    || {\n+        || {\n+            let _y = &mut x;\n+        }\n+    };\n+}"}, {"sha": "b6cafe5e9e9941bbd187579b426413cbd89eb0cc", "filename": "src/test/ui/issue-49824.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/334da29e9841a2bc6fbea0991d6e984ec669a20f/src%2Ftest%2Fui%2Fissue-49824.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/334da29e9841a2bc6fbea0991d6e984ec669a20f/src%2Ftest%2Fui%2Fissue-49824.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-49824.stderr?ref=334da29e9841a2bc6fbea0991d6e984ec669a20f", "patch": "@@ -0,0 +1,14 @@\n+error: compilation successful\n+  --> $DIR/issue-49824.rs:18:1\n+   |\n+LL | / fn main() {\n+LL | |     //~^ compilation successful\n+LL | |     let mut x = 0;\n+LL | |     || {\n+...  |\n+LL | |     };\n+LL | | }\n+   | |_^\n+\n+error: aborting due to previous error\n+"}]}