{"sha": "300162659504fed4798e535791023bf0174fc81c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwMDE2MjY1OTUwNGZlZDQ3OThlNTM1NzkxMDIzYmYwMTc0ZmM4MWM=", "commit": {"author": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2016-05-07T20:44:52Z"}, "committer": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2016-05-07T20:44:52Z"}, "message": "Always remove tmp/partitioning-tests before check-codegen-units to work around #33435.", "tree": {"sha": "303f9cff664ea8a283c0a92fec426e403c901e2b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/303f9cff664ea8a283c0a92fec426e403c901e2b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/300162659504fed4798e535791023bf0174fc81c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/300162659504fed4798e535791023bf0174fc81c", "html_url": "https://github.com/rust-lang/rust/commit/300162659504fed4798e535791023bf0174fc81c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/300162659504fed4798e535791023bf0174fc81c/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c42e694cb7eb2bc26336351a1fb4e1e4f94768e", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c42e694cb7eb2bc26336351a1fb4e1e4f94768e", "html_url": "https://github.com/rust-lang/rust/commit/5c42e694cb7eb2bc26336351a1fb4e1e4f94768e"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "a9e6c454ffa6f0bab9018699ff9c4b1fed2641ad", "filename": "src/tools/compiletest/src/main.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/300162659504fed4798e535791023bf0174fc81c/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/300162659504fed4798e535791023bf0174fc81c/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs?ref=300162659504fed4798e535791023bf0174fc81c", "patch": "@@ -261,6 +261,11 @@ pub fn run_tests(config: &Config) {\n         _ => { /* proceed */ }\n     }\n \n+    // FIXME(#33435) Avoid spurious failures in codegen-units/partitioning tests.\n+    if let Mode::CodegenUnits = config.mode {\n+        let _ = fs::remove_dir_all(\"tmp/partitioning-tests\");\n+    }\n+\n     let opts = test_opts(config);\n     let tests = make_tests(config);\n     // sadly osx needs some file descriptor limits raised for running tests in"}]}