{"sha": "4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd", "node_id": "C_kwDOAAsO6NoAKDRjYTI3NWFkZDBiNDQzYTNmZTlmM2EwZmM0NDcwYmI5ZDk2MjhjZmQ", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2022-01-05T15:30:49Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2022-01-05T15:30:49Z"}, "message": "Address review comments", "tree": {"sha": "57d6016282be013ceaf11b85016162bcc2b6c862", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/57d6016282be013ceaf11b85016162bcc2b6c862"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAmHVuakACgkQtAh+UQ6Y\nsWSahRAAqtk244G+xqPpf4PgQHyt4QC2KRS90+4Y8rykiNpX+XleZIbzyUyJCNvn\nKZSA6ux8Hm514BxlAMPvYiMX8U9BOJygfwxiPFnOkSO89S+GWIS46sPqsTmuuxCr\n4jl0y4/HsLkRg7khCnQNHfb5x64ww3PyMIoHqcR3DS3YoEHoIgPqz7wjiHwVP11X\nZByB3jN0zpaRHfrMUDOBpzaL9wPbkT8Y++LvqI8wzxjsUPoZEDN4JBR8EJ5LIbPU\nyio0kTZzMUNJZPfMIM/RI5f5l9OzqnTPT7AfgeNVHQSDBHm4JVy5Z6OYdrhBnk1k\nKfdsywe/dGdzQYlr1GG5zScRWMDCD+V+APpygr+7PsIAZUd0CzubA9nJpFKo5+JJ\n5j5DwP79ELMoaBSKcZ3R7ZeN1FikfM6vPI/ORbzOb1kU37KWvCDRJYWSTT6DV4+j\nlc63LCyp5hBkRLzFgCd+0NbHUPuW8nVSkdKZehrGjbvQwT+m/fXmc3IbPlMVLk+u\nUVBZJ03vhOI89uIrNOqXjhusdl0OUL39Dn5IUx64NfIAi40HHXGbmIqRQxG2/FXa\n3yN38e1W7CE7X8J3FWw+UwTMtDPtVLR8HxdFO+UtlqMRMP0FwcZrAqALQr8aiySz\nDPRWyY0d3UOtkUJRvmgvwxbYcktbqxd5bAtbQXk1QURylbFeMPU=\n=i0uB\n-----END PGP SIGNATURE-----", "payload": "tree 57d6016282be013ceaf11b85016162bcc2b6c862\nparent 560c90f5df4ecfbb75e20ae19bf10028756a3613\nauthor Aaron Hill <aa1ronham@gmail.com> 1641396649 -0500\ncommitter Aaron Hill <aa1ronham@gmail.com> 1641396649 -0500\n\nAddress review comments\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd", "html_url": "https://github.com/rust-lang/rust/commit/4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "560c90f5df4ecfbb75e20ae19bf10028756a3613", "url": "https://api.github.com/repos/rust-lang/rust/commits/560c90f5df4ecfbb75e20ae19bf10028756a3613", "html_url": "https://github.com/rust-lang/rust/commit/560c90f5df4ecfbb75e20ae19bf10028756a3613"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "76e21be17bc68e1665a02cc7e91d8a9d03a62c9b", "filename": "compiler/rustc_query_system/src/ich/hcx.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd/compiler%2Frustc_query_system%2Fsrc%2Fich%2Fhcx.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd/compiler%2Frustc_query_system%2Fsrc%2Fich%2Fhcx.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_query_system%2Fsrc%2Fich%2Fhcx.rs?ref=4ca275add0b443a3fe9f3a0fc4470bb9d9628cfd", "patch": "@@ -27,7 +27,9 @@ fn compute_ignored_attr_names() -> FxHashSet<Symbol> {\n pub struct StableHashingContext<'a> {\n     definitions: &'a Definitions,\n     cstore: &'a dyn CrateStore,\n-    sess: &'a Session,\n+    // The value of `-Z incremental-ignore-spans`.\n+    // This field should only be used by `debug_opts_incremental_ignore_span`\n+    incremental_ignore_spans: bool,\n     pub(super) body_resolver: BodyResolver<'a>,\n     // Very often, we are hashing something that does not need the\n     // `CachingSourceMapView`, so we initialize it lazily.\n@@ -64,7 +66,7 @@ impl<'a> StableHashingContext<'a> {\n             body_resolver: BodyResolver::Forbidden,\n             definitions,\n             cstore,\n-            sess,\n+            incremental_ignore_spans: sess.opts.debugging_opts.incremental_ignore_spans,\n             caching_source_map: None,\n             raw_source_map: sess.source_map(),\n             hashing_controls: HashingControls {\n@@ -181,6 +183,7 @@ impl<'a> StableHashingContext<'a> {\n         IGNORED_ATTRIBUTES.with(|attrs| attrs.contains(&name))\n     }\n \n+    #[inline]\n     pub fn hashing_controls(&self) -> HashingControls {\n         self.hashing_controls.clone()\n     }\n@@ -201,7 +204,7 @@ impl<'a> rustc_span::HashStableContext for StableHashingContext<'a> {\n \n     #[inline]\n     fn debug_opts_incremental_ignore_spans(&self) -> bool {\n-        self.sess.opts.debugging_opts.incremental_ignore_spans\n+        self.incremental_ignore_spans\n     }\n \n     #[inline]"}]}