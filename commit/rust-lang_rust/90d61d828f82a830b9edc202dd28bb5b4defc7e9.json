{"sha": "90d61d828f82a830b9edc202dd28bb5b4defc7e9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwZDYxZDgyOGY4MmE4MzBiOWVkYzIwMmRkMjhiYjViNGRlZmM3ZTk=", "commit": {"author": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2015-06-12T08:30:32Z"}, "committer": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2015-07-13T14:21:43Z"}, "message": "Add more tests for AsciiExt::is_ascii", "tree": {"sha": "434f07a8f03b9ca4ea3ca29700d2800ce9a34c60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/434f07a8f03b9ca4ea3ca29700d2800ce9a34c60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90d61d828f82a830b9edc202dd28bb5b4defc7e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90d61d828f82a830b9edc202dd28bb5b4defc7e9", "html_url": "https://github.com/rust-lang/rust/commit/90d61d828f82a830b9edc202dd28bb5b4defc7e9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90d61d828f82a830b9edc202dd28bb5b4defc7e9/comments", "author": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "304f5452749b139f518baf6fa6160b66af654223", "url": "https://api.github.com/repos/rust-lang/rust/commits/304f5452749b139f518baf6fa6160b66af654223", "html_url": "https://github.com/rust-lang/rust/commit/304f5452749b139f518baf6fa6160b66af654223"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "4a664acc32602737162d9e848257c4a9e3eab9c0", "filename": "src/libstd/ascii.rs", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/90d61d828f82a830b9edc202dd28bb5b4defc7e9/src%2Flibstd%2Fascii.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90d61d828f82a830b9edc202dd28bb5b4defc7e9/src%2Flibstd%2Fascii.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fascii.rs?ref=90d61d828f82a830b9edc202dd28bb5b4defc7e9", "patch": "@@ -469,16 +469,19 @@ mod tests {\n     use char::from_u32;\n \n     #[test]\n-    fn test_ascii() {\n-        assert!(\"banana\".chars().all(|c| c.is_ascii()));\n-        assert!(!\"\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam\".chars().all(|c| c.is_ascii()));\n-    }\n+    fn test_is_ascii() {\n+        assert!(b\"\".is_ascii());\n+        assert!(b\"banana\\0\\x7F\".is_ascii());\n+        assert!(b\"banana\\0\\x7F\".iter().all(|b| b.is_ascii()));\n+        assert!(!b\"Vi\\xe1\\xbb\\x87t Nam\".is_ascii());\n+        assert!(!b\"Vi\\xe1\\xbb\\x87t Nam\".iter().all(|b| b.is_ascii()));\n+        assert!(!b\"\\xe1\\xbb\\x87\".iter().any(|b| b.is_ascii()));\n \n-    #[test]\n-    fn test_ascii_vec() {\n         assert!(\"\".is_ascii());\n-        assert!(\"a\".is_ascii());\n-        assert!(!\"\\u{2009}\".is_ascii());\n+        assert!(\"banana\\0\\u{7F}\".is_ascii());\n+        assert!(\"banana\\0\\u{7F}\".chars().all(|c| c.is_ascii()));\n+        assert!(!\"\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam\".chars().all(|c| c.is_ascii()));\n+        assert!(!\"\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22\u4e2d\u534e\u1ec7\u00a0\".chars().any(|c| c.is_ascii()));\n     }\n \n     #[test]"}]}