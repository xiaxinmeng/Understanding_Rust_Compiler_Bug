{"sha": "df67bbdcb327e1b22219101f9b3c70fcb7649930", "node_id": "C_kwDOAAsO6NoAKGRmNjdiYmRjYjMyN2UxYjIyMjE5MTAxZjliM2M3MGZjYjc2NDk5MzA", "commit": {"author": {"name": "XFFXFF", "email": "1247714429@qq.com", "date": "2022-06-02T13:30:18Z"}, "committer": {"name": "XFFXFF", "email": "1247714429@qq.com", "date": "2022-06-02T13:30:18Z"}, "message": "fix: parsing of `?` opt-out trait bounds\n\nthanks to Veykril", "tree": {"sha": "c90ba741f11c4708b0e1c929c1860937657861f9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c90ba741f11c4708b0e1c929c1860937657861f9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/df67bbdcb327e1b22219101f9b3c70fcb7649930", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/df67bbdcb327e1b22219101f9b3c70fcb7649930", "html_url": "https://github.com/rust-lang/rust/commit/df67bbdcb327e1b22219101f9b3c70fcb7649930", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/df67bbdcb327e1b22219101f9b3c70fcb7649930/comments", "author": {"login": "xffxff", "id": 30254428, "node_id": "MDQ6VXNlcjMwMjU0NDI4", "avatar_url": "https://avatars.githubusercontent.com/u/30254428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xffxff", "html_url": "https://github.com/xffxff", "followers_url": "https://api.github.com/users/xffxff/followers", "following_url": "https://api.github.com/users/xffxff/following{/other_user}", "gists_url": "https://api.github.com/users/xffxff/gists{/gist_id}", "starred_url": "https://api.github.com/users/xffxff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xffxff/subscriptions", "organizations_url": "https://api.github.com/users/xffxff/orgs", "repos_url": "https://api.github.com/users/xffxff/repos", "events_url": "https://api.github.com/users/xffxff/events{/privacy}", "received_events_url": "https://api.github.com/users/xffxff/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xffxff", "id": 30254428, "node_id": "MDQ6VXNlcjMwMjU0NDI4", "avatar_url": "https://avatars.githubusercontent.com/u/30254428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xffxff", "html_url": "https://github.com/xffxff", "followers_url": "https://api.github.com/users/xffxff/followers", "following_url": "https://api.github.com/users/xffxff/following{/other_user}", "gists_url": "https://api.github.com/users/xffxff/gists{/gist_id}", "starred_url": "https://api.github.com/users/xffxff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xffxff/subscriptions", "organizations_url": "https://api.github.com/users/xffxff/orgs", "repos_url": "https://api.github.com/users/xffxff/repos", "events_url": "https://api.github.com/users/xffxff/events{/privacy}", "received_events_url": "https://api.github.com/users/xffxff/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2f0814ea351d323ee236f6757c3f7603fc7d714a", "url": "https://api.github.com/repos/rust-lang/rust/commits/2f0814ea351d323ee236f6757c3f7603fc7d714a", "html_url": "https://github.com/rust-lang/rust/commit/2f0814ea351d323ee236f6757c3f7603fc7d714a"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "78a75fad1cb695281457611a233df34f83961a66", "filename": "crates/parser/src/grammar/generic_params.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/df67bbdcb327e1b22219101f9b3c70fcb7649930/crates%2Fparser%2Fsrc%2Fgrammar%2Fgeneric_params.rs", "raw_url": "https://github.com/rust-lang/rust/raw/df67bbdcb327e1b22219101f9b3c70fcb7649930/crates%2Fparser%2Fsrc%2Fgrammar%2Fgeneric_params.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Fsrc%2Fgrammar%2Fgeneric_params.rs?ref=df67bbdcb327e1b22219101f9b3c70fcb7649930", "patch": "@@ -133,6 +133,12 @@ fn type_bound(p: &mut Parser) -> bool {\n     match p.current() {\n         LIFETIME_IDENT => lifetime(p),\n         T![for] => types::for_type(p, false),\n+        T![?] if p.nth_at(1, T![for]) => {\n+            // test question_for_type_trait_bound\n+            // fn f<T>() where T: ?for<> Sized {}\n+            p.bump_any();\n+            types::for_type(p, false)\n+        }\n         current => {\n             match current {\n                 T![?] => p.bump_any(),"}, {"sha": "56e2d1095d29b9f22b753eba9b564e9ddaacd13c", "filename": "crates/parser/test_data/parser/inline/ok/0201_question_for_type_trait_bound.rast", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/df67bbdcb327e1b22219101f9b3c70fcb7649930/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0201_question_for_type_trait_bound.rast", "raw_url": "https://github.com/rust-lang/rust/raw/df67bbdcb327e1b22219101f9b3c70fcb7649930/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0201_question_for_type_trait_bound.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0201_question_for_type_trait_bound.rast?ref=df67bbdcb327e1b22219101f9b3c70fcb7649930", "patch": "@@ -0,0 +1,47 @@\n+SOURCE_FILE\n+  FN\n+    FN_KW \"fn\"\n+    WHITESPACE \" \"\n+    NAME\n+      IDENT \"f\"\n+    GENERIC_PARAM_LIST\n+      L_ANGLE \"<\"\n+      TYPE_PARAM\n+        NAME\n+          IDENT \"T\"\n+      R_ANGLE \">\"\n+    PARAM_LIST\n+      L_PAREN \"(\"\n+      R_PAREN \")\"\n+    WHITESPACE \" \"\n+    WHERE_CLAUSE\n+      WHERE_KW \"where\"\n+      WHITESPACE \" \"\n+      WHERE_PRED\n+        PATH_TYPE\n+          PATH\n+            PATH_SEGMENT\n+              NAME_REF\n+                IDENT \"T\"\n+        COLON \":\"\n+        WHITESPACE \" \"\n+        TYPE_BOUND_LIST\n+          TYPE_BOUND\n+            QUESTION \"?\"\n+            FOR_TYPE\n+              FOR_KW \"for\"\n+              GENERIC_PARAM_LIST\n+                L_ANGLE \"<\"\n+                R_ANGLE \">\"\n+              WHITESPACE \" \"\n+              PATH_TYPE\n+                PATH\n+                  PATH_SEGMENT\n+                    NAME_REF\n+                      IDENT \"Sized\"\n+    WHITESPACE \" \"\n+    BLOCK_EXPR\n+      STMT_LIST\n+        L_CURLY \"{\"\n+        R_CURLY \"}\"\n+  WHITESPACE \"\\n\""}, {"sha": "f80dd90d446c5821428cc6efb8654dd98f5cf4d0", "filename": "crates/parser/test_data/parser/inline/ok/0201_question_for_type_trait_bound.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/df67bbdcb327e1b22219101f9b3c70fcb7649930/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0201_question_for_type_trait_bound.rs", "raw_url": "https://github.com/rust-lang/rust/raw/df67bbdcb327e1b22219101f9b3c70fcb7649930/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0201_question_for_type_trait_bound.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Ftest_data%2Fparser%2Finline%2Fok%2F0201_question_for_type_trait_bound.rs?ref=df67bbdcb327e1b22219101f9b3c70fcb7649930", "patch": "@@ -0,0 +1 @@\n+fn f<T>() where T: ?for<> Sized {}"}]}