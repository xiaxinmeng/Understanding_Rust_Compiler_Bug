{"sha": "b814d931514cdc250f9156dabd874edf685569d0", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI4MTRkOTMxNTE0Y2RjMjUwZjkxNTZkYWJkODc0ZWRmNjg1NTY5ZDA=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-02-10T11:23:41Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-02-10T11:23:41Z"}, "message": "Merge #46\n\n46: Names r=matklad a=matklad\n\nbors r+", "tree": {"sha": "6de85e5e662bc0c6eca78715496a02867da1eff9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6de85e5e662bc0c6eca78715496a02867da1eff9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b814d931514cdc250f9156dabd874edf685569d0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b814d931514cdc250f9156dabd874edf685569d0", "html_url": "https://github.com/rust-lang/rust/commit/b814d931514cdc250f9156dabd874edf685569d0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b814d931514cdc250f9156dabd874edf685569d0/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "c3b009b6d24225ad2add62fce8206918fceba3eb", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3b009b6d24225ad2add62fce8206918fceba3eb", "html_url": "https://github.com/rust-lang/rust/commit/c3b009b6d24225ad2add62fce8206918fceba3eb"}, {"sha": "199b3a1604095beee9eaeec541c8f158e85493ea", "url": "https://api.github.com/repos/rust-lang/rust/commits/199b3a1604095beee9eaeec541c8f158e85493ea", "html_url": "https://github.com/rust-lang/rust/commit/199b3a1604095beee9eaeec541c8f158e85493ea"}], "stats": {"total": 759, "additions": 465, "deletions": 294}, "files": [{"sha": "0130b7b37dcc35a0777e84648d6af823d0a453b3", "filename": "grammar.ron", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/grammar.ron", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/grammar.ron", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/grammar.ron?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -118,5 +118,7 @@ Grammar(\n         \"LIFETIME_PARAM\",\n         \"TYPE_PARAM\",\n         \"ABI\",\n+        \"NAME\",\n+        \"NAME_REF\",\n     ]\n )"}, {"sha": "8117af7060b506a59e5558b3ba232d5d76474ef3", "filename": "src/parser/grammar/items/consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fitems%2Fconsts.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -12,7 +12,7 @@ fn const_or_static(p: &mut Parser, kw: SyntaxKind) {\n     assert!(p.at(kw));\n     p.bump();\n     p.eat(MUT_KW); // TODO: validator to forbid const mut\n-    p.expect(IDENT);\n+    name(p);\n     p.expect(COLON);\n     types::type_ref(p);\n     p.expect(EQ);"}, {"sha": "8bb821fb6d76a12821b131b7dfa650a40a0a37ef", "filename": "src/parser/grammar/items/mod.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fitems%2Fmod.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -196,8 +196,9 @@ fn extern_crate_item(p: &mut Parser) {\n     p.bump();\n     assert!(p.at(CRATE_KW));\n     p.bump();\n-\n-    p.expect(IDENT) && alias(p) && p.expect(SEMI);\n+    name(p);\n+    alias(p);\n+    p.expect(SEMI);\n }\n \n fn extern_block(p: &mut Parser) {\n@@ -210,7 +211,7 @@ fn fn_item(p: &mut Parser) {\n     assert!(p.at(FN_KW));\n     p.bump();\n \n-    p.expect(IDENT);\n+    name(p);\n     if p.at(L_PAREN) {\n         fn_value_parameters(p);\n     } else {\n@@ -235,7 +236,7 @@ fn type_item(p: &mut Parser) {\n     assert!(p.at(TYPE_KW));\n     p.bump();\n \n-    p.expect(IDENT);\n+    name(p);\n \n     // test type_item_type_params\n     // type Result<T> = ();\n@@ -254,7 +255,8 @@ fn mod_item(p: &mut Parser) {\n     assert!(p.at(MOD_KW));\n     p.bump();\n \n-    if p.expect(IDENT) && !p.eat(SEMI) {\n+    name(p);\n+    if !p.eat(SEMI) {\n         if p.expect(L_CURLY) {\n             mod_contents(p, true);\n             p.expect(R_CURLY);"}, {"sha": "eca0d2e643f568f07b1aa5a7bbcca7539ec58051", "filename": "src/parser/grammar/items/structs.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Fstructs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Fstructs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fitems%2Fstructs.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -4,9 +4,7 @@ pub(super) fn struct_item(p: &mut Parser) {\n     assert!(p.at(STRUCT_KW));\n     p.bump();\n \n-    if !p.expect(IDENT) {\n-        return;\n-    }\n+    name(p);\n     type_params::list(p);\n     match p.current() {\n         WHERE_KW => {\n@@ -43,7 +41,7 @@ pub(super) fn struct_item(p: &mut Parser) {\n pub(super) fn enum_item(p: &mut Parser) {\n     assert!(p.at(ENUM_KW));\n     p.bump();\n-    p.expect(IDENT);\n+    name(p);\n     type_params::list(p);\n     type_params::where_clause(p);\n     if p.expect(L_CURLY) {\n@@ -88,7 +86,8 @@ fn named_fields(p: &mut Parser) {\n     fn named_field(p: &mut Parser) {\n         let field = p.start();\n         visibility(p);\n-        if p.expect(IDENT) {\n+        if p.at(IDENT) {\n+            name(p);\n             p.expect(COLON);\n             types::type_ref(p);\n             field.complete(p, NAMED_FIELD);"}, {"sha": "9961a88feeeb133084f65e62af33a424fe86ca31", "filename": "src/parser/grammar/items/traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Ftraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fitems%2Ftraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fitems%2Ftraits.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -3,7 +3,7 @@ use super::*;\n pub(super) fn trait_item(p: &mut Parser) {\n     assert!(p.at(TRAIT_KW));\n     p.bump();\n-    p.expect(IDENT);\n+    name(p);\n     p.expect(L_CURLY);\n     p.expect(R_CURLY);\n }"}, {"sha": "abf9fe86c43959e9183568aaf97f7c08608300f2", "filename": "src/parser/grammar/mod.rs", "status": "modified", "additions": 21, "deletions": 1, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fmod.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -44,12 +44,32 @@ fn alias(p: &mut Parser) -> bool {\n     if p.at(AS_KW) {\n         let alias = p.start();\n         p.bump();\n-        p.expect(IDENT);\n+        name(p);\n         alias.complete(p, ALIAS);\n     }\n     true //FIXME: return false if three are errors\n }\n \n+fn name(p: &mut Parser) {\n+    if p.at(IDENT) {\n+        let m = p.start();\n+        p.bump();\n+        m.complete(p, NAME);\n+    } else {\n+        p.error(\"expected a name\");\n+    }\n+}\n+\n+fn name_ref(p: &mut Parser) {\n+    if p.at(IDENT) {\n+        let m = p.start();\n+        p.bump();\n+        m.complete(p, NAME_REF);\n+    } else {\n+        p.error(\"expected identifier\");\n+    }\n+}\n+\n fn error_block(p: &mut Parser, message: &str) {\n     assert!(p.at(L_CURLY));\n     let err = p.start();"}, {"sha": "6ed315c3da9adc5f7b9e038cc6d4ea9df136f3b2", "filename": "src/parser/grammar/paths.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fpaths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/src%2Fparser%2Fgrammar%2Fpaths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fpaths.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -42,7 +42,8 @@ fn path_segment(p: &mut Parser, first: bool) {\n         p.eat(COLONCOLON);\n     }\n     match p.current() {\n-        IDENT | SELF_KW | SUPER_KW => p.bump(),\n+        IDENT => name_ref(p),\n+        SELF_KW | SUPER_KW => p.bump(),\n         _ => {\n             p.error(\"expected identifier\");\n         }"}, {"sha": "7450f9d6f2d957f7818e3d95d08ac8ac3f5497d7", "filename": "src/syntax_kinds.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/src%2Fsyntax_kinds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/src%2Fsyntax_kinds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsyntax_kinds.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -116,6 +116,8 @@ pub enum SyntaxKind {\n     LIFETIME_PARAM,\n     TYPE_PARAM,\n     ABI,\n+    NAME,\n+    NAME_REF,\n \n     // Technical SyntaxKinds: they appear temporally during parsing,\n     // but never end up in the final tree\n@@ -239,6 +241,8 @@ impl SyntaxKind {\n             LIFETIME_PARAM => &SyntaxInfo { name: \"LIFETIME_PARAM\" },\n             TYPE_PARAM => &SyntaxInfo { name: \"TYPE_PARAM\" },\n             ABI => &SyntaxInfo { name: \"ABI\" },\n+            NAME => &SyntaxInfo { name: \"NAME\" },\n+            NAME_REF => &SyntaxInfo { name: \"NAME_REF\" },\n \n             TOMBSTONE => &SyntaxInfo { name: \"TOMBSTONE\" },\n             EOF => &SyntaxInfo { name: \"EOF\" },"}, {"sha": "f1c772b8d77f84386c35a1e6a4a4e6845387b6cd", "filename": "tests/data/parser/err/0000_struct_field_missing_comma.txt", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0000_struct_field_missing_comma.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0000_struct_field_missing_comma.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0000_struct_field_missing_comma.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,20 +1,23 @@\n FILE@[0; 34)\n   STRUCT_ITEM@[0; 34)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"S\"\n-    WHITESPACE@[8; 9)\n+    NAME@[6; 9)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"S\"\n+      WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 26)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 16) \"a\"\n+      NAME@[10; 16)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 16) \"a\"\n       COLON@[16; 17)\n       WHITESPACE@[17; 18)\n       IDENT@[18; 21) \"u32\"\n       WHITESPACE@[21; 26)\n     err: `expected COMMA`\n     NAMED_FIELD@[26; 33)\n-      IDENT@[26; 27) \"b\"\n+      NAME@[26; 27)\n+        IDENT@[26; 27) \"b\"\n       COLON@[27; 28)\n       WHITESPACE@[28; 29)\n       IDENT@[29; 32) \"u32\""}, {"sha": "e41ddc0099a5452c7b0c35a25b8c820ddcd3cadf", "filename": "tests/data/parser/err/0001_item_recovery_in_file.txt", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0001_item_recovery_in_file.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0001_item_recovery_in_file.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0001_item_recovery_in_file.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -9,8 +9,9 @@ FILE@[0; 21)\n     WHITESPACE@[8; 10)\n   STRUCT_ITEM@[10; 21)\n     STRUCT_KW@[10; 16)\n-    WHITESPACE@[16; 17)\n-    IDENT@[17; 18) \"S\"\n-    WHITESPACE@[18; 19)\n+    NAME@[16; 19)\n+      WHITESPACE@[16; 17)\n+      IDENT@[17; 18) \"S\"\n+      WHITESPACE@[18; 19)\n     L_CURLY@[19; 20)\n     R_CURLY@[20; 21)"}, {"sha": "c835a14740f6fc34a24148c06f7b9e1eced5cea2", "filename": "tests/data/parser/err/0003_C++_semicolon.txt", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0003_C%2B%2B_semicolon.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0003_C%2B%2B_semicolon.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0003_C%2B%2B_semicolon.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,20 +1,23 @@\n FILE@[0; 40)\n   STRUCT_ITEM@[0; 39)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"S\"\n-    WHITESPACE@[8; 9)\n+    NAME@[6; 9)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"S\"\n+      WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 21)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 16) \"a\"\n+      NAME@[10; 16)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 16) \"a\"\n       COLON@[16; 17)\n       WHITESPACE@[17; 18)\n       IDENT@[18; 21) \"i32\"\n     COMMA@[21; 22)\n     NAMED_FIELD@[22; 36)\n-      WHITESPACE@[22; 27)\n-      IDENT@[27; 28) \"b\"\n+      NAME@[22; 28)\n+        WHITESPACE@[22; 27)\n+        IDENT@[27; 28) \"b\"\n       COLON@[28; 29)\n       WHITESPACE@[29; 30)\n       IDENT@[30; 36) \"String\""}, {"sha": "0a67002ac74ba022959faec8c5744a7e5f79f20d", "filename": "tests/data/parser/err/0004_use_path_bad_segment.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0004_use_path_bad_segment.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0004_use_path_bad_segment.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0004_use_path_bad_segment.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -5,8 +5,9 @@ FILE@[0; 12)\n       PATH@[3; 9)\n         PATH@[3; 7)\n           PATH_SEGMENT@[3; 7)\n-            WHITESPACE@[3; 4)\n-            IDENT@[4; 7) \"foo\"\n+            NAME_REF@[3; 7)\n+              WHITESPACE@[3; 4)\n+              IDENT@[4; 7) \"foo\"\n         COLONCOLON@[7; 9)\n         PATH_SEGMENT@[9; 9)\n         err: `expected identifier`"}, {"sha": "15e77f63bc66afc8bfb85be87b1751dd31ae121c", "filename": "tests/data/parser/err/0005_attribute_recover.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0005_attribute_recover.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0005_attribute_recover.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0005_attribute_recover.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -23,8 +23,9 @@ FILE@[0; 54)\n       R_BRACK@[17; 18)\n       WHITESPACE@[18; 19)\n     FN_KW@[19; 21)\n-    WHITESPACE@[21; 22)\n-    IDENT@[22; 25) \"foo\"\n+    NAME@[21; 25)\n+      WHITESPACE@[21; 22)\n+      IDENT@[22; 25) \"foo\"\n     L_PAREN@[25; 26)\n     R_PAREN@[26; 27)\n     WHITESPACE@[27; 28)\n@@ -43,8 +44,9 @@ FILE@[0; 54)\n         WHITESPACE@[40; 41)\n       err: `expected R_BRACK`\n     FN_KW@[41; 43)\n-    WHITESPACE@[43; 44)\n-    IDENT@[44; 47) \"foo\"\n+    NAME@[43; 47)\n+      WHITESPACE@[43; 44)\n+      IDENT@[44; 47) \"foo\"\n     L_PAREN@[47; 48)\n     R_PAREN@[48; 49)\n     WHITESPACE@[49; 50)"}, {"sha": "b772671e952db05e69db7c6e3f0f1fa7780c277f", "filename": "tests/data/parser/err/0006_named_field_recovery.txt", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0006_named_field_recovery.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0006_named_field_recovery.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0006_named_field_recovery.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,13 +1,15 @@\n FILE@[0; 74)\n   STRUCT_ITEM@[0; 74)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"S\"\n-    WHITESPACE@[8; 9)\n+    NAME@[6; 9)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"S\"\n+      WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 21)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 16) \"f\"\n+      NAME@[10; 16)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 16) \"f\"\n       COLON@[16; 17)\n       WHITESPACE@[17; 18)\n       IDENT@[18; 21) \"u32\"\n@@ -16,11 +18,11 @@ FILE@[0; 74)\n       WHITESPACE@[22; 27)\n       PUB_KW@[27; 30)\n       WHITESPACE@[30; 31)\n-    err: `expected IDENT`\n     ERROR@[31; 38)\n     err: `expected field declaration`\n       INT_NUMBER@[31; 33)\n       WHITESPACE@[33; 38)\n+    err: `expected COMMA`\n     ERROR@[38; 40)\n     err: `expected field declaration`\n       PLUS@[38; 39)\n@@ -37,14 +39,16 @@ FILE@[0; 74)\n       VISIBILITY@[48; 52)\n         PUB_KW@[48; 51)\n         WHITESPACE@[51; 52)\n-      IDENT@[52; 53) \"x\"\n+      NAME@[52; 53)\n+        IDENT@[52; 53) \"x\"\n       COLON@[53; 54)\n       WHITESPACE@[54; 55)\n       IDENT@[55; 58) \"u32\"\n     COMMA@[58; 59)\n     NAMED_FIELD@[59; 70)\n-      WHITESPACE@[59; 64)\n-      IDENT@[64; 65) \"z\"\n+      NAME@[59; 65)\n+        WHITESPACE@[59; 64)\n+        IDENT@[64; 65) \"z\"\n       COLON@[65; 66)\n       WHITESPACE@[66; 67)\n       IDENT@[67; 70) \"f64\""}, {"sha": "f20807bfecf916841de4d399170df1ff2cfe6e78", "filename": "tests/data/parser/err/0007_stray_curly_in_file.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0007_stray_curly_in_file.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0007_stray_curly_in_file.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0007_stray_curly_in_file.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -5,8 +5,9 @@ FILE@[0; 31)\n     WHITESPACE@[1; 3)\n   STRUCT_ITEM@[3; 14)\n     STRUCT_KW@[3; 9)\n-    WHITESPACE@[9; 10)\n-    IDENT@[10; 11) \"S\"\n+    NAME@[9; 11)\n+      WHITESPACE@[9; 10)\n+      IDENT@[10; 11) \"S\"\n     SEMI@[11; 12)\n     WHITESPACE@[12; 14)\n   ERROR@[14; 17)\n@@ -15,8 +16,9 @@ FILE@[0; 31)\n     WHITESPACE@[15; 17)\n   FN_ITEM@[17; 29)\n     FN_KW@[17; 19)\n-    WHITESPACE@[19; 20)\n-    IDENT@[20; 23) \"foo\"\n+    NAME@[19; 23)\n+      WHITESPACE@[19; 20)\n+      IDENT@[20; 23) \"foo\"\n     L_PAREN@[23; 24)\n     R_PAREN@[24; 25)\n     L_CURLY@[25; 26)"}, {"sha": "ddfb4b4dc484756c954ead87ef3617a080370abe", "filename": "tests/data/parser/err/0008_item_block_recovery.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0008_item_block_recovery.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0008_item_block_recovery.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0008_item_block_recovery.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 95)\n   FN_ITEM@[0; 14)\n     FN_KW@[0; 2)\n-    WHITESPACE@[2; 3)\n-    IDENT@[3; 6) \"foo\"\n+    NAME@[2; 6)\n+      WHITESPACE@[2; 3)\n+      IDENT@[3; 6) \"foo\"\n     L_PAREN@[6; 7)\n     R_PAREN@[7; 8)\n     WHITESPACE@[8; 9)\n@@ -50,8 +51,9 @@ FILE@[0; 95)\n     WHITESPACE@[80; 82)\n   FN_ITEM@[82; 95)\n     FN_KW@[82; 84)\n-    WHITESPACE@[84; 85)\n-    IDENT@[85; 88) \"baz\"\n+    NAME@[84; 88)\n+      WHITESPACE@[84; 85)\n+      IDENT@[85; 88) \"baz\"\n     L_PAREN@[88; 89)\n     R_PAREN@[89; 90)\n     WHITESPACE@[90; 91)"}, {"sha": "9434a764a7134068751c83e59d7e9bf4d0d0354a", "filename": "tests/data/parser/err/0009_broken_struct_type_parameter.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0009_broken_struct_type_parameter.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Ferr%2F0009_broken_struct_type_parameter.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0009_broken_struct_type_parameter.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 43)\n   STRUCT_ITEM@[0; 12)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"S\"\n+    NAME@[6; 8)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"S\"\n     TYPE_PARAM_LIST@[8; 12)\n       L_ANGLE@[8; 9)\n       ERROR@[9; 12)\n@@ -36,7 +37,8 @@ FILE@[0; 43)\n     WHITESPACE@[31; 33)\n   STRUCT_ITEM@[33; 43)\n     STRUCT_KW@[33; 39)\n-    WHITESPACE@[39; 40)\n-    IDENT@[40; 41) \"T\"\n+    NAME@[39; 41)\n+      WHITESPACE@[39; 40)\n+      IDENT@[40; 41) \"T\"\n     SEMI@[41; 42)\n     WHITESPACE@[42; 43)"}, {"sha": "59bf89ddb3422946c22aa94febc7c1c6c22a3193", "filename": "tests/data/parser/inline/0001_const_unsafe_fn.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0001_const_unsafe_fn.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0001_const_unsafe_fn.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0001_const_unsafe_fn.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -5,8 +5,9 @@ FILE@[0; 25)\n     UNSAFE_KW@[6; 12)\n     WHITESPACE@[12; 13)\n     FN_KW@[13; 15)\n-    WHITESPACE@[15; 16)\n-    IDENT@[16; 19) \"foo\"\n+    NAME@[15; 19)\n+      WHITESPACE@[15; 16)\n+      IDENT@[16; 19) \"foo\"\n     L_PAREN@[19; 20)\n     R_PAREN@[20; 21)\n     WHITESPACE@[21; 22)"}, {"sha": "2e9d18f7fbede8feadf831361aa6651c976b6fb0", "filename": "tests/data/parser/inline/0002_const_fn.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0002_const_fn.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0002_const_fn.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0002_const_fn.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -3,8 +3,9 @@ FILE@[0; 18)\n     CONST_KW@[0; 5)\n     WHITESPACE@[5; 6)\n     FN_KW@[6; 8)\n-    WHITESPACE@[8; 9)\n-    IDENT@[9; 12) \"foo\"\n+    NAME@[8; 12)\n+      WHITESPACE@[8; 9)\n+      IDENT@[9; 12) \"foo\"\n     L_PAREN@[12; 13)\n     R_PAREN@[13; 14)\n     WHITESPACE@[14; 15)"}, {"sha": "70a909ccfc57288768c632a1abbb688185065aaf", "filename": "tests/data/parser/inline/0004_extern_fn.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0004_extern_fn.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0004_extern_fn.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0004_extern_fn.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -4,8 +4,9 @@ FILE@[0; 19)\n       EXTERN_KW@[0; 6)\n       WHITESPACE@[6; 7)\n     FN_KW@[7; 9)\n-    WHITESPACE@[9; 10)\n-    IDENT@[10; 13) \"foo\"\n+    NAME@[9; 13)\n+      WHITESPACE@[9; 10)\n+      IDENT@[10; 13) \"foo\"\n     L_PAREN@[13; 14)\n     R_PAREN@[14; 15)\n     WHITESPACE@[15; 16)"}, {"sha": "cbdf5aba11515ada73a1a08a651d07f935b71a1c", "filename": "tests/data/parser/inline/0005_extern_crate.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0005_extern_crate.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0005_extern_crate.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0005_extern_crate.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -3,7 +3,8 @@ FILE@[0; 18)\n     EXTERN_KW@[0; 6)\n     WHITESPACE@[6; 7)\n     CRATE_KW@[7; 12)\n-    WHITESPACE@[12; 13)\n-    IDENT@[13; 16) \"foo\"\n+    NAME@[12; 16)\n+      WHITESPACE@[12; 13)\n+      IDENT@[13; 16) \"foo\"\n     SEMI@[16; 17)\n     WHITESPACE@[17; 18)"}, {"sha": "93a5b0477b4cb076d78761bef69dfb1a9194b843", "filename": "tests/data/parser/inline/0006_extern_struct.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0006_extern_struct.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0006_extern_struct.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0006_extern_struct.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -5,7 +5,8 @@ FILE@[0; 19)\n   err: `expected `fn` or `{``\n   STRUCT_ITEM@[7; 19)\n     STRUCT_KW@[7; 13)\n-    WHITESPACE@[13; 14)\n-    IDENT@[14; 17) \"Foo\"\n+    NAME@[13; 17)\n+      WHITESPACE@[13; 14)\n+      IDENT@[14; 17) \"Foo\"\n     SEMI@[17; 18)\n     WHITESPACE@[18; 19)"}, {"sha": "9e2f82587556e58e183bb1e04c19f749dd2a0f3d", "filename": "tests/data/parser/inline/0007_unsafe_trait.txt", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0007_unsafe_trait.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0007_unsafe_trait.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0007_unsafe_trait.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -3,9 +3,10 @@ FILE@[0; 18)\n     UNSAFE_KW@[0; 6)\n     WHITESPACE@[6; 7)\n     TRAIT_KW@[7; 12)\n-    WHITESPACE@[12; 13)\n-    IDENT@[13; 14) \"T\"\n-    WHITESPACE@[14; 15)\n+    NAME@[12; 15)\n+      WHITESPACE@[12; 13)\n+      IDENT@[13; 14) \"T\"\n+      WHITESPACE@[14; 15)\n     L_CURLY@[15; 16)\n     R_CURLY@[16; 17)\n     WHITESPACE@[17; 18)"}, {"sha": "aa1c99168c5e892c6e857e8f447060609a659624", "filename": "tests/data/parser/inline/0009_unsafe_auto_trait.txt", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0009_unsafe_auto_trait.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0009_unsafe_auto_trait.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0009_unsafe_auto_trait.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -5,9 +5,10 @@ FILE@[0; 23)\n     AUTO_KW@[7; 11)\n     WHITESPACE@[11; 12)\n     TRAIT_KW@[12; 17)\n-    WHITESPACE@[17; 18)\n-    IDENT@[18; 19) \"T\"\n-    WHITESPACE@[19; 20)\n+    NAME@[17; 20)\n+      WHITESPACE@[17; 18)\n+      IDENT@[18; 19) \"T\"\n+      WHITESPACE@[19; 20)\n     L_CURLY@[20; 21)\n     R_CURLY@[21; 22)\n     WHITESPACE@[22; 23)"}, {"sha": "ed790fe223cf4a182f6a55a9a5586df762914463", "filename": "tests/data/parser/inline/0011_unsafe_fn.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0011_unsafe_fn.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0011_unsafe_fn.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0011_unsafe_fn.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -3,8 +3,9 @@ FILE@[0; 19)\n     UNSAFE_KW@[0; 6)\n     WHITESPACE@[6; 7)\n     FN_KW@[7; 9)\n-    WHITESPACE@[9; 10)\n-    IDENT@[10; 13) \"foo\"\n+    NAME@[9; 13)\n+      WHITESPACE@[9; 10)\n+      IDENT@[10; 13) \"foo\"\n     L_PAREN@[13; 14)\n     R_PAREN@[14; 15)\n     WHITESPACE@[15; 16)"}, {"sha": "3c8a15d12fe84af06fd54a397c923eddfcd2a6f1", "filename": "tests/data/parser/inline/0012_unsafe_extern_fn.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0012_unsafe_extern_fn.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0012_unsafe_extern_fn.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0012_unsafe_extern_fn.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -8,8 +8,9 @@ FILE@[0; 30)\n       STRING@[14; 17)\n       WHITESPACE@[17; 18)\n     FN_KW@[18; 20)\n-    WHITESPACE@[20; 21)\n-    IDENT@[21; 24) \"foo\"\n+    NAME@[20; 24)\n+      WHITESPACE@[20; 21)\n+      IDENT@[21; 24) \"foo\"\n     L_PAREN@[24; 25)\n     R_PAREN@[25; 26)\n     WHITESPACE@[26; 27)"}, {"sha": "305e3058df77f6ee8a816197f9509a1db08e080a", "filename": "tests/data/parser/inline/0013_unsafe_block_in_mod.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0013_unsafe_block_in_mod.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0013_unsafe_block_in_mod.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0013_unsafe_block_in_mod.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 33)\n   FN_ITEM@[0; 11)\n     FN_KW@[0; 2)\n-    WHITESPACE@[2; 3)\n-    IDENT@[3; 6) \"foo\"\n+    NAME@[2; 6)\n+      WHITESPACE@[2; 3)\n+      IDENT@[3; 6) \"foo\"\n     L_PAREN@[6; 7)\n     R_PAREN@[7; 8)\n     L_CURLY@[8; 9)\n@@ -18,8 +19,9 @@ FILE@[0; 33)\n     WHITESPACE@[21; 22)\n   FN_ITEM@[22; 33)\n     FN_KW@[22; 24)\n-    WHITESPACE@[24; 25)\n-    IDENT@[25; 28) \"bar\"\n+    NAME@[24; 28)\n+      WHITESPACE@[24; 25)\n+      IDENT@[25; 28) \"bar\"\n     L_PAREN@[28; 29)\n     R_PAREN@[29; 30)\n     L_CURLY@[30; 31)"}, {"sha": "ca32faa42ab1b84a240a0d46164fb5e138116f24", "filename": "tests/data/parser/inline/0014_type_item_type_params.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0014_type_item_type_params.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0014_type_item_type_params.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0014_type_item_type_params.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 21)\n   TYPE_ITEM@[0; 21)\n     TYPE_KW@[0; 4)\n-    WHITESPACE@[4; 5)\n-    IDENT@[5; 11) \"Result\"\n+    NAME@[4; 11)\n+      WHITESPACE@[4; 5)\n+      IDENT@[5; 11) \"Result\"\n     TYPE_PARAM_LIST@[11; 15)\n       L_ANGLE@[11; 12)\n       TYPE_PARAM@[12; 13)"}, {"sha": "3818fe25db8124b1f9e226d290e9b24d7f0bc345", "filename": "tests/data/parser/inline/0015_type_item.txt", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0015_type_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0015_type_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0015_type_item.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,9 +1,10 @@\n FILE@[0; 16)\n   TYPE_ITEM@[0; 16)\n     TYPE_KW@[0; 4)\n-    WHITESPACE@[4; 5)\n-    IDENT@[5; 8) \"Foo\"\n-    WHITESPACE@[8; 9)\n+    NAME@[4; 9)\n+      WHITESPACE@[4; 5)\n+      IDENT@[5; 8) \"Foo\"\n+      WHITESPACE@[8; 9)\n     EQ@[9; 10)\n     WHITESPACE@[10; 11)\n     IDENT@[11; 14) \"Bar\""}, {"sha": "12bbc752abd6776be7b226709fa364b665b70947", "filename": "tests/data/parser/inline/0016_type_item_where_clause.txt", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0016_type_item_where_clause.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Finline%2F0016_type_item_where_clause.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Finline%2F0016_type_item_where_clause.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,10 +1,11 @@\n FILE@[0; 31)\n   TYPE_ITEM@[0; 31)\n     TYPE_KW@[0; 4)\n-    WHITESPACE@[4; 5)\n-    IDENT@[5; 8) \"Foo\"\n-    WHERE_CLAUSE@[8; 25)\n+    NAME@[4; 9)\n+      WHITESPACE@[4; 5)\n+      IDENT@[5; 8) \"Foo\"\n       WHITESPACE@[8; 9)\n+    WHERE_CLAUSE@[9; 25)\n       WHERE_KW@[9; 14)\n       WHITESPACE@[14; 15)\n       IDENT@[15; 18) \"Foo\""}, {"sha": "b0195c3168f5872f67cda20adcb3d3935e4b7f77", "filename": "tests/data/parser/ok/0001_struct_item.txt", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0001_struct_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0001_struct_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0001_struct_item.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,9 +1,10 @@\n FILE@[0; 13)\n   STRUCT_ITEM@[0; 13)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"S\"\n-    WHITESPACE@[8; 9)\n+    NAME@[6; 9)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"S\"\n+      WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     WHITESPACE@[10; 12)\n     R_CURLY@[12; 13)"}, {"sha": "31d3508dbc10191aa5a7bbc88eeaf9e4fd9a53e6", "filename": "tests/data/parser/ok/0002_struct_item_field.txt", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0002_struct_item_field.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0002_struct_item_field.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0002_struct_item_field.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,13 +1,15 @@\n FILE@[0; 25)\n   STRUCT_ITEM@[0; 25)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"S\"\n-    WHITESPACE@[8; 9)\n+    NAME@[6; 9)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"S\"\n+      WHITESPACE@[8; 9)\n     L_CURLY@[9; 10)\n     NAMED_FIELD@[10; 24)\n-      WHITESPACE@[10; 15)\n-      IDENT@[15; 18) \"foo\"\n+      NAME@[10; 18)\n+        WHITESPACE@[10; 15)\n+        IDENT@[15; 18) \"foo\"\n       COLON@[18; 19)\n       WHITESPACE@[19; 20)\n       IDENT@[20; 23) \"u32\""}, {"sha": "0324ae3eeec119189d33e845adb1eefe36e09e9c", "filename": "tests/data/parser/ok/0005_fn_item.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0005_fn_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0005_fn_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0005_fn_item.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 13)\n   FN_ITEM@[0; 13)\n     FN_KW@[0; 2)\n-    WHITESPACE@[2; 3)\n-    IDENT@[3; 6) \"foo\"\n+    NAME@[2; 6)\n+      WHITESPACE@[2; 3)\n+      IDENT@[3; 6) \"foo\"\n     L_PAREN@[6; 7)\n     R_PAREN@[7; 8)\n     WHITESPACE@[8; 9)"}, {"sha": "33ce2ae658d5d5f891ad843653e7a561180b0097", "filename": "tests/data/parser/ok/0007_extern_crate.txt", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -3,20 +3,23 @@ FILE@[0; 43)\n     EXTERN_KW@[0; 6)\n     WHITESPACE@[6; 7)\n     CRATE_KW@[7; 12)\n-    WHITESPACE@[12; 13)\n-    IDENT@[13; 16) \"foo\"\n+    NAME@[12; 16)\n+      WHITESPACE@[12; 13)\n+      IDENT@[13; 16) \"foo\"\n     SEMI@[16; 17)\n     WHITESPACE@[17; 18)\n   EXTERN_CRATE_ITEM@[18; 43)\n     EXTERN_KW@[18; 24)\n     WHITESPACE@[24; 25)\n     CRATE_KW@[25; 30)\n-    WHITESPACE@[30; 31)\n-    IDENT@[31; 34) \"foo\"\n-    ALIAS@[34; 41)\n+    NAME@[30; 35)\n+      WHITESPACE@[30; 31)\n+      IDENT@[31; 34) \"foo\"\n       WHITESPACE@[34; 35)\n+    ALIAS@[35; 41)\n       AS_KW@[35; 37)\n-      WHITESPACE@[37; 38)\n-      IDENT@[38; 41) \"bar\"\n+      NAME@[37; 41)\n+        WHITESPACE@[37; 38)\n+        IDENT@[38; 41) \"bar\"\n     SEMI@[41; 42)\n     WHITESPACE@[42; 43)"}, {"sha": "20321051cc755c10850289d8e011298c8b21c1d4", "filename": "tests/data/parser/ok/0008_mod_item.txt", "status": "modified", "additions": 29, "deletions": 21, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0008_mod_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0008_mod_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0008_mod_item.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,30 +1,34 @@\n FILE@[0; 118)\n   MOD_ITEM@[0; 8)\n     MOD_KW@[0; 3)\n-    WHITESPACE@[3; 4)\n-    IDENT@[4; 5) \"a\"\n+    NAME@[3; 5)\n+      WHITESPACE@[3; 4)\n+      IDENT@[4; 5) \"a\"\n     SEMI@[5; 6)\n     WHITESPACE@[6; 8)\n   MOD_ITEM@[8; 19)\n     MOD_KW@[8; 11)\n-    WHITESPACE@[11; 12)\n-    IDENT@[12; 13) \"b\"\n-    WHITESPACE@[13; 14)\n+    NAME@[11; 14)\n+      WHITESPACE@[11; 12)\n+      IDENT@[12; 13) \"b\"\n+      WHITESPACE@[13; 14)\n     L_CURLY@[14; 15)\n     WHITESPACE@[15; 16)\n     R_CURLY@[16; 17)\n     WHITESPACE@[17; 19)\n   MOD_ITEM@[19; 67)\n     MOD_KW@[19; 22)\n-    WHITESPACE@[22; 23)\n-    IDENT@[23; 24) \"c\"\n-    WHITESPACE@[24; 25)\n+    NAME@[22; 25)\n+      WHITESPACE@[22; 23)\n+      IDENT@[23; 24) \"c\"\n+      WHITESPACE@[24; 25)\n     L_CURLY@[25; 26)\n     FN_ITEM@[26; 52)\n       WHITESPACE@[26; 31)\n       FN_KW@[31; 33)\n-      WHITESPACE@[33; 34)\n-      IDENT@[34; 37) \"foo\"\n+      NAME@[33; 37)\n+        WHITESPACE@[33; 34)\n+        IDENT@[34; 37) \"foo\"\n       L_PAREN@[37; 38)\n       R_PAREN@[38; 39)\n       WHITESPACE@[39; 40)\n@@ -34,19 +38,21 @@ FILE@[0; 118)\n       WHITESPACE@[47; 52)\n     STRUCT_ITEM@[52; 64)\n       STRUCT_KW@[52; 58)\n-      WHITESPACE@[58; 59)\n-      IDENT@[59; 60) \"S\"\n-      WHITESPACE@[60; 61)\n+      NAME@[58; 61)\n+        WHITESPACE@[58; 59)\n+        IDENT@[59; 60) \"S\"\n+        WHITESPACE@[60; 61)\n       L_CURLY@[61; 62)\n       R_CURLY@[62; 63)\n       WHITESPACE@[63; 64)\n     R_CURLY@[64; 65)\n     WHITESPACE@[65; 67)\n   MOD_ITEM@[67; 118)\n     MOD_KW@[67; 70)\n-    WHITESPACE@[70; 71)\n-    IDENT@[71; 72) \"d\"\n-    WHITESPACE@[72; 73)\n+    NAME@[70; 73)\n+      WHITESPACE@[70; 71)\n+      IDENT@[71; 72) \"d\"\n+      WHITESPACE@[72; 73)\n     L_CURLY@[73; 74)\n     ATTR@[74; 92)\n       WHITESPACE@[74; 79)\n@@ -59,15 +65,17 @@ FILE@[0; 118)\n       WHITESPACE@[87; 92)\n     MOD_ITEM@[92; 103)\n       MOD_KW@[92; 95)\n-      WHITESPACE@[95; 96)\n-      IDENT@[96; 97) \"e\"\n+      NAME@[95; 97)\n+        WHITESPACE@[95; 96)\n+        IDENT@[96; 97) \"e\"\n       SEMI@[97; 98)\n       WHITESPACE@[98; 103)\n     MOD_ITEM@[103; 117)\n       MOD_KW@[103; 106)\n-      WHITESPACE@[106; 107)\n-      IDENT@[107; 108) \"f\"\n-      WHITESPACE@[108; 109)\n+      NAME@[106; 109)\n+        WHITESPACE@[106; 107)\n+        IDENT@[107; 108) \"f\"\n+        WHITESPACE@[108; 109)\n       L_CURLY@[109; 110)\n       WHITESPACE@[110; 115)\n       R_CURLY@[115; 116)"}, {"sha": "8daf4be0daf1d9d6c730e6eb7b35693e560f23f2", "filename": "tests/data/parser/ok/0009_use_item.txt", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0009_use_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0009_use_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0009_use_item.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -4,8 +4,9 @@ FILE@[0; 19)\n     USE_TREE@[3; 7)\n       PATH@[3; 7)\n         PATH_SEGMENT@[3; 7)\n-          WHITESPACE@[3; 4)\n-          IDENT@[4; 7) \"foo\"\n+          NAME_REF@[3; 7)\n+            WHITESPACE@[3; 4)\n+            IDENT@[4; 7) \"foo\"\n     SEMI@[7; 8)\n     WHITESPACE@[8; 9)\n   USE_ITEM@[9; 19)\n@@ -15,5 +16,6 @@ FILE@[0; 19)\n         PATH_SEGMENT@[12; 18)\n           WHITESPACE@[12; 13)\n           COLONCOLON@[13; 15)\n-          IDENT@[15; 18) \"bar\"\n+          NAME_REF@[15; 18)\n+            IDENT@[15; 18) \"bar\"\n     SEMI@[18; 19)"}, {"sha": "96d10d741bdbb42d8a4c2b222a31d75426bfa880", "filename": "tests/data/parser/ok/0010_use_path_segments.txt", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0010_use_path_segments.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0010_use_path_segments.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0010_use_path_segments.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -8,13 +8,16 @@ FILE@[0; 40)\n             PATH_SEGMENT@[3; 9)\n               WHITESPACE@[3; 4)\n               COLONCOLON@[4; 6)\n-              IDENT@[6; 9) \"foo\"\n+              NAME_REF@[6; 9)\n+                IDENT@[6; 9) \"foo\"\n           COLONCOLON@[9; 11)\n           PATH_SEGMENT@[11; 14)\n-            IDENT@[11; 14) \"bar\"\n+            NAME_REF@[11; 14)\n+              IDENT@[11; 14) \"bar\"\n         COLONCOLON@[14; 16)\n         PATH_SEGMENT@[16; 19)\n-          IDENT@[16; 19) \"baz\"\n+          NAME_REF@[16; 19)\n+            IDENT@[16; 19) \"baz\"\n     SEMI@[19; 20)\n     WHITESPACE@[20; 21)\n   USE_ITEM@[21; 40)\n@@ -24,13 +27,16 @@ FILE@[0; 40)\n         PATH@[24; 33)\n           PATH@[24; 28)\n             PATH_SEGMENT@[24; 28)\n-              WHITESPACE@[24; 25)\n-              IDENT@[25; 28) \"foo\"\n+              NAME_REF@[24; 28)\n+                WHITESPACE@[24; 25)\n+                IDENT@[25; 28) \"foo\"\n           COLONCOLON@[28; 30)\n           PATH_SEGMENT@[30; 33)\n-            IDENT@[30; 33) \"bar\"\n+            NAME_REF@[30; 33)\n+              IDENT@[30; 33) \"bar\"\n         COLONCOLON@[33; 35)\n         PATH_SEGMENT@[35; 38)\n-          IDENT@[35; 38) \"baz\"\n+          NAME_REF@[35; 38)\n+            IDENT@[35; 38) \"baz\"\n     SEMI@[38; 39)\n     WHITESPACE@[39; 40)"}, {"sha": "49023e7f332e1936afbb5fb4ac646d241c4f107e", "filename": "tests/data/parser/ok/0011_outer_attribute.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0011_outer_attribute.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0011_outer_attribute.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0011_outer_attribute.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -19,8 +19,9 @@ FILE@[0; 35)\n       R_BRACK@[21; 22)\n       WHITESPACE@[22; 23)\n     FN_KW@[23; 25)\n-    WHITESPACE@[25; 26)\n-    IDENT@[26; 29) \"foo\"\n+    NAME@[25; 29)\n+      WHITESPACE@[25; 26)\n+      IDENT@[26; 29) \"foo\"\n     L_PAREN@[29; 30)\n     R_PAREN@[30; 31)\n     WHITESPACE@[31; 32)"}, {"sha": "c138b73f369175a08bec58ea36225fa6683003c4", "filename": "tests/data/parser/ok/0012_visibility.txt", "status": "modified", "additions": 22, "deletions": 14, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0012_visibility.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0012_visibility.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0012_visibility.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 98)\n   FN_ITEM@[0; 10)\n     FN_KW@[0; 2)\n-    WHITESPACE@[2; 3)\n-    IDENT@[3; 4) \"a\"\n+    NAME@[2; 4)\n+      WHITESPACE@[2; 3)\n+      IDENT@[3; 4) \"a\"\n     L_PAREN@[4; 5)\n     R_PAREN@[5; 6)\n     WHITESPACE@[6; 7)\n@@ -14,8 +15,9 @@ FILE@[0; 98)\n       PUB_KW@[10; 13)\n       WHITESPACE@[13; 14)\n     FN_KW@[14; 16)\n-    WHITESPACE@[16; 17)\n-    IDENT@[17; 18) \"b\"\n+    NAME@[16; 18)\n+      WHITESPACE@[16; 17)\n+      IDENT@[17; 18) \"b\"\n     L_PAREN@[18; 19)\n     R_PAREN@[19; 20)\n     WHITESPACE@[20; 21)\n@@ -30,8 +32,9 @@ FILE@[0; 98)\n       R_PAREN@[33; 34)\n       WHITESPACE@[34; 35)\n     FN_KW@[35; 37)\n-    WHITESPACE@[37; 38)\n-    IDENT@[38; 39) \"c\"\n+    NAME@[37; 39)\n+      WHITESPACE@[37; 38)\n+      IDENT@[38; 39) \"c\"\n     L_PAREN@[39; 40)\n     R_PAREN@[40; 41)\n     WHITESPACE@[41; 42)\n@@ -46,8 +49,9 @@ FILE@[0; 98)\n       R_PAREN@[54; 55)\n       WHITESPACE@[55; 56)\n     FN_KW@[56; 58)\n-    WHITESPACE@[58; 59)\n-    IDENT@[59; 60) \"d\"\n+    NAME@[58; 60)\n+      WHITESPACE@[58; 59)\n+      IDENT@[59; 60) \"d\"\n     L_PAREN@[60; 61)\n     R_PAREN@[61; 62)\n     WHITESPACE@[62; 63)\n@@ -63,19 +67,23 @@ FILE@[0; 98)\n         PATH@[72; 81)\n           PATH@[72; 76)\n             PATH_SEGMENT@[72; 76)\n-              WHITESPACE@[72; 73)\n-              IDENT@[73; 76) \"foo\"\n+              NAME_REF@[72; 76)\n+                WHITESPACE@[72; 73)\n+                IDENT@[73; 76) \"foo\"\n           COLONCOLON@[76; 78)\n           PATH_SEGMENT@[78; 81)\n-            IDENT@[78; 81) \"bar\"\n+            NAME_REF@[78; 81)\n+              IDENT@[78; 81) \"bar\"\n         COLONCOLON@[81; 83)\n         PATH_SEGMENT@[83; 86)\n-          IDENT@[83; 86) \"baz\"\n+          NAME_REF@[83; 86)\n+            IDENT@[83; 86) \"baz\"\n       R_PAREN@[86; 87)\n       WHITESPACE@[87; 88)\n     FN_KW@[88; 90)\n-    WHITESPACE@[90; 91)\n-    IDENT@[91; 92) \"e\"\n+    NAME@[90; 92)\n+      WHITESPACE@[90; 91)\n+      IDENT@[91; 92) \"e\"\n     L_PAREN@[92; 93)\n     R_PAREN@[93; 94)\n     WHITESPACE@[94; 95)"}, {"sha": "3542b216415679caf7f1fb1304b6f2d6f789fbad", "filename": "tests/data/parser/ok/0013_use_path_self_super.txt", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0013_use_path_self_super.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0013_use_path_self_super.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0013_use_path_self_super.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -9,7 +9,8 @@ FILE@[0; 65)\n             SELF_KW@[4; 8)\n         COLONCOLON@[8; 10)\n         PATH_SEGMENT@[10; 13)\n-          IDENT@[10; 13) \"foo\"\n+          NAME_REF@[10; 13)\n+            IDENT@[10; 13) \"foo\"\n     SEMI@[13; 14)\n     WHITESPACE@[14; 15)\n   USE_ITEM@[15; 38)\n@@ -26,7 +27,8 @@ FILE@[0; 65)\n             SUPER_KW@[26; 31)\n         COLONCOLON@[31; 33)\n         PATH_SEGMENT@[33; 36)\n-          IDENT@[33; 36) \"bar\"\n+          NAME_REF@[33; 36)\n+            IDENT@[33; 36) \"bar\"\n     SEMI@[36; 37)\n     WHITESPACE@[37; 38)\n   USE_ITEM@[38; 65)\n@@ -42,12 +44,14 @@ FILE@[0; 65)\n                 SELF_KW@[44; 48)\n             COLONCOLON@[48; 50)\n             PATH_SEGMENT@[50; 51)\n-              IDENT@[50; 51) \"a\"\n+              NAME_REF@[50; 51)\n+                IDENT@[50; 51) \"a\"\n           COLONCOLON@[51; 53)\n           PATH_SEGMENT@[53; 58)\n             SUPER_KW@[53; 58)\n         COLONCOLON@[58; 60)\n         PATH_SEGMENT@[60; 63)\n-          IDENT@[60; 63) \"bar\"\n+          NAME_REF@[60; 63)\n+            IDENT@[60; 63) \"bar\"\n     SEMI@[63; 64)\n     WHITESPACE@[64; 65)"}, {"sha": "a7326214d858c4277406d3894df9a28352313287", "filename": "tests/data/parser/ok/0014_use_tree.txt", "status": "modified", "additions": 16, "deletions": 10, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0014_use_tree.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0014_use_tree.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0014_use_tree.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -36,8 +36,9 @@ FILE@[0; 81)\n     USE_TREE@[37; 44)\n       PATH@[37; 41)\n         PATH_SEGMENT@[37; 41)\n-          WHITESPACE@[37; 38)\n-          IDENT@[38; 41) \"foo\"\n+          NAME_REF@[37; 41)\n+            WHITESPACE@[37; 38)\n+            IDENT@[38; 41) \"foo\"\n       COLONCOLON@[41; 43)\n       STAR@[43; 44)\n     SEMI@[44; 45)\n@@ -47,8 +48,9 @@ FILE@[0; 81)\n     USE_TREE@[49; 57)\n       PATH@[49; 53)\n         PATH_SEGMENT@[49; 53)\n-          WHITESPACE@[49; 50)\n-          IDENT@[50; 53) \"foo\"\n+          NAME_REF@[49; 53)\n+            WHITESPACE@[49; 50)\n+            IDENT@[50; 53) \"foo\"\n       COLONCOLON@[53; 55)\n       L_CURLY@[55; 56)\n       R_CURLY@[56; 57)\n@@ -61,25 +63,29 @@ FILE@[0; 81)\n         PATH_SEGMENT@[62; 68)\n           WHITESPACE@[62; 63)\n           COLONCOLON@[63; 65)\n-          IDENT@[65; 68) \"foo\"\n+          NAME_REF@[65; 68)\n+            IDENT@[65; 68) \"foo\"\n       COLONCOLON@[68; 70)\n       L_CURLY@[70; 71)\n       USE_TREE@[71; 72)\n         PATH@[71; 72)\n           PATH_SEGMENT@[71; 72)\n-            IDENT@[71; 72) \"a\"\n+            NAME_REF@[71; 72)\n+              IDENT@[71; 72) \"a\"\n       COMMA@[72; 73)\n       USE_TREE@[73; 75)\n         PATH@[73; 75)\n           PATH_SEGMENT@[73; 75)\n-            WHITESPACE@[73; 74)\n-            IDENT@[74; 75) \"b\"\n+            NAME_REF@[73; 75)\n+              WHITESPACE@[73; 74)\n+              IDENT@[74; 75) \"b\"\n       COMMA@[75; 76)\n       USE_TREE@[76; 78)\n         PATH@[76; 78)\n           PATH_SEGMENT@[76; 78)\n-            WHITESPACE@[76; 77)\n-            IDENT@[77; 78) \"c\"\n+            NAME_REF@[76; 78)\n+              WHITESPACE@[76; 77)\n+              IDENT@[77; 78) \"c\"\n       R_CURLY@[78; 79)\n     SEMI@[79; 80)\n     WHITESPACE@[80; 81)"}, {"sha": "2ba15bbee5fb4a3ea14b4140fb0a72a4de3773a3", "filename": "tests/data/parser/ok/0015_use_tree.txt", "status": "modified", "additions": 22, "deletions": 15, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0015_use_tree.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0015_use_tree.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0015_use_tree.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -4,33 +4,38 @@ FILE@[0; 55)\n     USE_TREE@[3; 14)\n       PATH@[3; 8)\n         PATH_SEGMENT@[3; 8)\n-          WHITESPACE@[3; 4)\n-          IDENT@[4; 7) \"foo\"\n-          WHITESPACE@[7; 8)\n+          NAME_REF@[3; 8)\n+            WHITESPACE@[3; 4)\n+            IDENT@[4; 7) \"foo\"\n+            WHITESPACE@[7; 8)\n       ALIAS@[8; 14)\n         AS_KW@[8; 10)\n-        WHITESPACE@[10; 11)\n-        IDENT@[11; 14) \"bar\"\n+        NAME@[10; 14)\n+          WHITESPACE@[10; 11)\n+          IDENT@[11; 14) \"bar\"\n     SEMI@[14; 15)\n     WHITESPACE@[15; 16)\n   USE_ITEM@[16; 55)\n     USE_KW@[16; 19)\n     USE_TREE@[19; 53)\n       PATH@[19; 23)\n         PATH_SEGMENT@[19; 23)\n-          WHITESPACE@[19; 20)\n-          IDENT@[20; 23) \"foo\"\n+          NAME_REF@[19; 23)\n+            WHITESPACE@[19; 20)\n+            IDENT@[20; 23) \"foo\"\n       COLONCOLON@[23; 25)\n       L_CURLY@[25; 26)\n       USE_TREE@[26; 32)\n         PATH@[26; 28)\n           PATH_SEGMENT@[26; 28)\n-            IDENT@[26; 27) \"a\"\n-            WHITESPACE@[27; 28)\n+            NAME_REF@[26; 28)\n+              IDENT@[26; 27) \"a\"\n+              WHITESPACE@[27; 28)\n         ALIAS@[28; 32)\n           AS_KW@[28; 30)\n-          WHITESPACE@[30; 31)\n-          IDENT@[31; 32) \"b\"\n+          NAME@[30; 32)\n+            WHITESPACE@[30; 31)\n+            IDENT@[31; 32) \"b\"\n       COMMA@[32; 33)\n       USE_TREE@[33; 35)\n         WHITESPACE@[33; 34)\n@@ -46,12 +51,14 @@ FILE@[0; 55)\n           PATH_SEGMENT@[41; 48)\n             WHITESPACE@[41; 42)\n             COLONCOLON@[42; 44)\n-            IDENT@[44; 47) \"foo\"\n-            WHITESPACE@[47; 48)\n+            NAME_REF@[44; 48)\n+              IDENT@[44; 47) \"foo\"\n+              WHITESPACE@[47; 48)\n         ALIAS@[48; 52)\n           AS_KW@[48; 50)\n-          WHITESPACE@[50; 51)\n-          IDENT@[51; 52) \"x\"\n+          NAME@[50; 52)\n+            WHITESPACE@[50; 51)\n+            IDENT@[51; 52) \"x\"\n       R_CURLY@[52; 53)\n     SEMI@[53; 54)\n     WHITESPACE@[54; 55)"}, {"sha": "15462b9b93e6e68e48bc82a8e2d8a4e1256822d0", "filename": "tests/data/parser/ok/0016_struct_flavors.txt", "status": "modified", "additions": 22, "deletions": 15, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0016_struct_flavors.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0016_struct_flavors.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0016_struct_flavors.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,35 +1,40 @@\n FILE@[0; 97)\n   STRUCT_ITEM@[0; 10)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"A\"\n+    NAME@[6; 8)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"A\"\n     SEMI@[8; 9)\n     WHITESPACE@[9; 10)\n   STRUCT_ITEM@[10; 22)\n     STRUCT_KW@[10; 16)\n-    WHITESPACE@[16; 17)\n-    IDENT@[17; 18) \"B\"\n-    WHITESPACE@[18; 19)\n+    NAME@[16; 19)\n+      WHITESPACE@[16; 17)\n+      IDENT@[17; 18) \"B\"\n+      WHITESPACE@[18; 19)\n     L_CURLY@[19; 20)\n     R_CURLY@[20; 21)\n     WHITESPACE@[21; 22)\n   STRUCT_ITEM@[22; 35)\n     STRUCT_KW@[22; 28)\n-    WHITESPACE@[28; 29)\n-    IDENT@[29; 30) \"C\"\n+    NAME@[28; 30)\n+      WHITESPACE@[28; 29)\n+      IDENT@[29; 30) \"C\"\n     L_PAREN@[30; 31)\n     R_PAREN@[31; 32)\n     SEMI@[32; 33)\n     WHITESPACE@[33; 35)\n   STRUCT_ITEM@[35; 76)\n     STRUCT_KW@[35; 41)\n-    WHITESPACE@[41; 42)\n-    IDENT@[42; 43) \"D\"\n-    WHITESPACE@[43; 44)\n+    NAME@[41; 44)\n+      WHITESPACE@[41; 42)\n+      IDENT@[42; 43) \"D\"\n+      WHITESPACE@[43; 44)\n     L_CURLY@[44; 45)\n     NAMED_FIELD@[45; 56)\n-      WHITESPACE@[45; 50)\n-      IDENT@[50; 51) \"a\"\n+      NAME@[45; 51)\n+        WHITESPACE@[45; 50)\n+        IDENT@[50; 51) \"a\"\n       COLON@[51; 52)\n       WHITESPACE@[52; 53)\n       IDENT@[53; 56) \"u32\"\n@@ -39,7 +44,8 @@ FILE@[0; 97)\n         WHITESPACE@[57; 62)\n         PUB_KW@[62; 65)\n         WHITESPACE@[65; 66)\n-      IDENT@[66; 67) \"b\"\n+      NAME@[66; 67)\n+        IDENT@[66; 67) \"b\"\n       COLON@[67; 68)\n       WHITESPACE@[68; 69)\n       IDENT@[69; 72) \"u32\"\n@@ -48,8 +54,9 @@ FILE@[0; 97)\n     WHITESPACE@[74; 76)\n   STRUCT_ITEM@[76; 97)\n     STRUCT_KW@[76; 82)\n-    WHITESPACE@[82; 83)\n-    IDENT@[83; 84) \"E\"\n+    NAME@[82; 84)\n+      WHITESPACE@[82; 83)\n+      IDENT@[83; 84) \"E\"\n     L_PAREN@[84; 85)\n     POS_FIELD@[85; 90)\n       VISIBILITY@[85; 89)"}, {"sha": "a4a6b8807b9a3d66693e45de58dc018e6fb79c29", "filename": "tests/data/parser/ok/0017_attr_trailing_comma.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0017_attr_trailing_comma.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0017_attr_trailing_comma.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0017_attr_trailing_comma.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -13,8 +13,9 @@ FILE@[0; 23)\n       R_BRACK@[9; 10)\n       WHITESPACE@[10; 11)\n     FN_KW@[11; 13)\n-    WHITESPACE@[13; 14)\n-    IDENT@[14; 17) \"foo\"\n+    NAME@[13; 17)\n+      WHITESPACE@[13; 14)\n+      IDENT@[14; 17) \"foo\"\n     L_PAREN@[17; 18)\n     R_PAREN@[18; 19)\n     WHITESPACE@[19; 20)"}, {"sha": "fe14effceb7522aa76c7fd78c9e0ad2d229d61f3", "filename": "tests/data/parser/ok/0018_struct_type_params.txt", "status": "modified", "additions": 48, "deletions": 32, "changes": 80, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0018_struct_type_params.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 290)\n   STRUCT_ITEM@[0; 14)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 9) \"S1\"\n+    NAME@[6; 9)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 9) \"S1\"\n     TYPE_PARAM_LIST@[9; 12)\n       L_ANGLE@[9; 10)\n       TYPE_PARAM@[10; 11)\n@@ -12,8 +13,9 @@ FILE@[0; 290)\n     WHITESPACE@[13; 14)\n   STRUCT_ITEM@[14; 33)\n     STRUCT_KW@[14; 20)\n-    WHITESPACE@[20; 21)\n-    IDENT@[21; 23) \"S2\"\n+    NAME@[20; 23)\n+      WHITESPACE@[20; 21)\n+      IDENT@[21; 23) \"S2\"\n     TYPE_PARAM_LIST@[23; 26)\n       L_ANGLE@[23; 24)\n       TYPE_PARAM@[24; 25)\n@@ -27,8 +29,9 @@ FILE@[0; 290)\n     WHITESPACE@[32; 33)\n   STRUCT_ITEM@[33; 58)\n     STRUCT_KW@[33; 39)\n-    WHITESPACE@[39; 40)\n-    IDENT@[40; 42) \"S3\"\n+    NAME@[39; 42)\n+      WHITESPACE@[39; 40)\n+      IDENT@[40; 42) \"S3\"\n     TYPE_PARAM_LIST@[42; 46)\n       L_ANGLE@[42; 43)\n       TYPE_PARAM@[43; 44)\n@@ -37,8 +40,9 @@ FILE@[0; 290)\n       WHITESPACE@[45; 46)\n     L_CURLY@[46; 47)\n     NAMED_FIELD@[47; 55)\n-      WHITESPACE@[47; 48)\n-      IDENT@[48; 49) \"u\"\n+      NAME@[47; 49)\n+        WHITESPACE@[47; 48)\n+        IDENT@[48; 49) \"u\"\n       COLON@[49; 50)\n       WHITESPACE@[50; 51)\n       IDENT@[51; 54) \"u32\"\n@@ -47,17 +51,19 @@ FILE@[0; 290)\n     WHITESPACE@[56; 58)\n   STRUCT_ITEM@[58; 71)\n     STRUCT_KW@[58; 64)\n-    WHITESPACE@[64; 65)\n-    IDENT@[65; 67) \"S4\"\n+    NAME@[64; 67)\n+      WHITESPACE@[64; 65)\n+      IDENT@[65; 67) \"S4\"\n     TYPE_PARAM_LIST@[67; 69)\n       L_ANGLE@[67; 68)\n       R_ANGLE@[68; 69)\n     SEMI@[69; 70)\n     WHITESPACE@[70; 71)\n   STRUCT_ITEM@[71; 86)\n     STRUCT_KW@[71; 77)\n-    WHITESPACE@[77; 78)\n-    IDENT@[78; 80) \"S5\"\n+    NAME@[77; 80)\n+      WHITESPACE@[77; 78)\n+      IDENT@[78; 80) \"S5\"\n     TYPE_PARAM_LIST@[80; 84)\n       L_ANGLE@[80; 81)\n       LIFETIME_PARAM@[81; 83)\n@@ -67,8 +73,9 @@ FILE@[0; 290)\n     WHITESPACE@[85; 86)\n   STRUCT_ITEM@[86; 102)\n     STRUCT_KW@[86; 92)\n-    WHITESPACE@[92; 93)\n-    IDENT@[93; 95) \"S6\"\n+    NAME@[92; 95)\n+      WHITESPACE@[92; 93)\n+      IDENT@[93; 95) \"S6\"\n     TYPE_PARAM_LIST@[95; 100)\n       L_ANGLE@[95; 96)\n       LIFETIME_PARAM@[96; 99)\n@@ -79,8 +86,9 @@ FILE@[0; 290)\n     WHITESPACE@[101; 102)\n   STRUCT_ITEM@[102; 121)\n     STRUCT_KW@[102; 108)\n-    WHITESPACE@[108; 109)\n-    IDENT@[109; 111) \"S7\"\n+    NAME@[108; 111)\n+      WHITESPACE@[108; 109)\n+      IDENT@[109; 111) \"S7\"\n     TYPE_PARAM_LIST@[111; 119)\n       L_ANGLE@[111; 112)\n       LIFETIME_PARAM@[112; 118)\n@@ -93,8 +101,9 @@ FILE@[0; 290)\n     WHITESPACE@[120; 121)\n   STRUCT_ITEM@[121; 143)\n     STRUCT_KW@[121; 127)\n-    WHITESPACE@[127; 128)\n-    IDENT@[128; 130) \"S8\"\n+    NAME@[127; 130)\n+      WHITESPACE@[127; 128)\n+      IDENT@[128; 130) \"S8\"\n     TYPE_PARAM_LIST@[130; 141)\n       L_ANGLE@[130; 131)\n       LIFETIME_PARAM@[131; 140)\n@@ -110,8 +119,9 @@ FILE@[0; 290)\n     WHITESPACE@[142; 143)\n   STRUCT_ITEM@[143; 167)\n     STRUCT_KW@[143; 149)\n-    WHITESPACE@[149; 150)\n-    IDENT@[150; 152) \"S9\"\n+    NAME@[149; 152)\n+      WHITESPACE@[149; 150)\n+      IDENT@[150; 152) \"S9\"\n     TYPE_PARAM_LIST@[152; 165)\n       L_ANGLE@[152; 153)\n       LIFETIME_PARAM@[153; 164)\n@@ -128,8 +138,9 @@ FILE@[0; 290)\n     WHITESPACE@[166; 167)\n   STRUCT_ITEM@[167; 184)\n     STRUCT_KW@[167; 173)\n-    WHITESPACE@[173; 174)\n-    IDENT@[174; 177) \"S10\"\n+    NAME@[173; 177)\n+      WHITESPACE@[173; 174)\n+      IDENT@[174; 177) \"S10\"\n     TYPE_PARAM_LIST@[177; 182)\n       L_ANGLE@[177; 178)\n       LIFETIME_PARAM@[178; 180)\n@@ -140,8 +151,9 @@ FILE@[0; 290)\n     WHITESPACE@[183; 184)\n   STRUCT_ITEM@[184; 204)\n     STRUCT_KW@[184; 190)\n-    WHITESPACE@[190; 191)\n-    IDENT@[191; 194) \"S11\"\n+    NAME@[190; 194)\n+      WHITESPACE@[190; 191)\n+      IDENT@[191; 194) \"S11\"\n     TYPE_PARAM_LIST@[194; 202)\n       L_ANGLE@[194; 195)\n       LIFETIME_PARAM@[195; 197)\n@@ -155,8 +167,9 @@ FILE@[0; 290)\n     WHITESPACE@[203; 204)\n   STRUCT_ITEM@[204; 235)\n     STRUCT_KW@[204; 210)\n-    WHITESPACE@[210; 211)\n-    IDENT@[211; 214) \"S12\"\n+    NAME@[210; 214)\n+      WHITESPACE@[210; 211)\n+      IDENT@[211; 214) \"S12\"\n     TYPE_PARAM_LIST@[214; 232)\n       L_ANGLE@[214; 215)\n       LIFETIME_PARAM@[215; 222)\n@@ -178,8 +191,9 @@ FILE@[0; 290)\n     WHITESPACE@[233; 235)\n   STRUCT_ITEM@[235; 250)\n     STRUCT_KW@[235; 241)\n-    WHITESPACE@[241; 242)\n-    IDENT@[242; 245) \"S13\"\n+    NAME@[241; 245)\n+      WHITESPACE@[241; 242)\n+      IDENT@[242; 245) \"S13\"\n     TYPE_PARAM_LIST@[245; 248)\n       L_ANGLE@[245; 246)\n       TYPE_PARAM@[246; 247)\n@@ -189,8 +203,9 @@ FILE@[0; 290)\n     WHITESPACE@[249; 250)\n   STRUCT_ITEM@[250; 268)\n     STRUCT_KW@[250; 256)\n-    WHITESPACE@[256; 257)\n-    IDENT@[257; 260) \"S14\"\n+    NAME@[256; 260)\n+      WHITESPACE@[256; 257)\n+      IDENT@[257; 260) \"S14\"\n     TYPE_PARAM_LIST@[260; 266)\n       L_ANGLE@[260; 261)\n       TYPE_PARAM@[261; 262)\n@@ -204,8 +219,9 @@ FILE@[0; 290)\n     WHITESPACE@[267; 268)\n   STRUCT_ITEM@[268; 290)\n     STRUCT_KW@[268; 274)\n-    WHITESPACE@[274; 275)\n-    IDENT@[275; 278) \"S15\"\n+    NAME@[274; 278)\n+      WHITESPACE@[274; 275)\n+      IDENT@[275; 278) \"S15\"\n     TYPE_PARAM_LIST@[278; 288)\n       L_ANGLE@[278; 279)\n       LIFETIME_PARAM@[279; 281)"}, {"sha": "bad12bee39b0a4f63daacf1ecc01866a4edcd793", "filename": "tests/data/parser/ok/0019_enums.txt", "status": "modified", "additions": 24, "deletions": 17, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0019_enums.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,17 +1,19 @@\n FILE@[0; 182)\n   ENUM_ITEM@[0; 13)\n     ENUM_KW@[0; 4)\n-    WHITESPACE@[4; 5)\n-    IDENT@[5; 7) \"E1\"\n-    WHITESPACE@[7; 8)\n+    NAME@[4; 8)\n+      WHITESPACE@[4; 5)\n+      IDENT@[5; 7) \"E1\"\n+      WHITESPACE@[7; 8)\n     L_CURLY@[8; 9)\n     WHITESPACE@[9; 10)\n     R_CURLY@[10; 11)\n     WHITESPACE@[11; 13)\n   ENUM_ITEM@[13; 29)\n     ENUM_KW@[13; 17)\n-    WHITESPACE@[17; 18)\n-    IDENT@[18; 20) \"E2\"\n+    NAME@[17; 20)\n+      WHITESPACE@[17; 18)\n+      IDENT@[18; 20) \"E2\"\n     TYPE_PARAM_LIST@[20; 24)\n       L_ANGLE@[20; 21)\n       TYPE_PARAM@[21; 22)\n@@ -24,9 +26,10 @@ FILE@[0; 182)\n     WHITESPACE@[27; 29)\n   ENUM_ITEM@[29; 48)\n     ENUM_KW@[29; 33)\n-    WHITESPACE@[33; 34)\n-    IDENT@[34; 36) \"E3\"\n-    WHITESPACE@[36; 37)\n+    NAME@[33; 37)\n+      WHITESPACE@[33; 34)\n+      IDENT@[34; 36) \"E3\"\n+      WHITESPACE@[36; 37)\n     L_CURLY@[37; 38)\n     ENUM_VARIANT@[38; 45)\n       WHITESPACE@[38; 43)\n@@ -36,9 +39,10 @@ FILE@[0; 182)\n     WHITESPACE@[46; 48)\n   ENUM_ITEM@[48; 68)\n     ENUM_KW@[48; 52)\n-    WHITESPACE@[52; 53)\n-    IDENT@[53; 55) \"E4\"\n-    WHITESPACE@[55; 56)\n+    NAME@[52; 56)\n+      WHITESPACE@[52; 53)\n+      IDENT@[53; 55) \"E4\"\n+      WHITESPACE@[55; 56)\n     L_CURLY@[56; 57)\n     ENUM_VARIANT@[57; 63)\n       WHITESPACE@[57; 62)\n@@ -49,9 +53,10 @@ FILE@[0; 182)\n     WHITESPACE@[66; 68)\n   ENUM_ITEM@[68; 182)\n     ENUM_KW@[68; 72)\n-    WHITESPACE@[72; 73)\n-    IDENT@[73; 75) \"E5\"\n-    WHITESPACE@[75; 76)\n+    NAME@[72; 76)\n+      WHITESPACE@[72; 73)\n+      IDENT@[73; 75) \"E5\"\n+      WHITESPACE@[75; 76)\n     L_CURLY@[76; 77)\n     ENUM_VARIANT@[77; 83)\n       WHITESPACE@[77; 82)\n@@ -72,8 +77,9 @@ FILE@[0; 182)\n       WHITESPACE@[102; 103)\n       L_CURLY@[103; 104)\n       NAMED_FIELD@[104; 119)\n-        WHITESPACE@[104; 113)\n-        IDENT@[113; 114) \"a\"\n+        NAME@[104; 114)\n+          WHITESPACE@[104; 113)\n+          IDENT@[113; 114) \"a\"\n         COLON@[114; 115)\n         WHITESPACE@[115; 116)\n         IDENT@[116; 119) \"u32\"\n@@ -83,7 +89,8 @@ FILE@[0; 182)\n           WHITESPACE@[120; 129)\n           PUB_KW@[129; 132)\n           WHITESPACE@[132; 133)\n-        IDENT@[133; 134) \"b\"\n+        NAME@[133; 134)\n+          IDENT@[133; 134) \"b\"\n         COLON@[134; 135)\n         WHITESPACE@[135; 136)\n         IDENT@[136; 139) \"f64\""}, {"sha": "7132eec6e92510d70805e9607cf01775e9250aca", "filename": "tests/data/parser/ok/0020_type_param_bounds.txt", "status": "modified", "additions": 43, "deletions": 29, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 200)\n   STRUCT_ITEM@[0; 13)\n     STRUCT_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 8) \"A\"\n+    NAME@[6; 8)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 8) \"A\"\n     TYPE_PARAM_LIST@[8; 11)\n       L_ANGLE@[8; 9)\n       TYPE_PARAM@[9; 10)\n@@ -12,8 +13,9 @@ FILE@[0; 200)\n     WHITESPACE@[12; 13)\n   STRUCT_ITEM@[13; 27)\n     STRUCT_KW@[13; 19)\n-    WHITESPACE@[19; 20)\n-    IDENT@[20; 21) \"B\"\n+    NAME@[19; 21)\n+      WHITESPACE@[19; 20)\n+      IDENT@[20; 21) \"B\"\n     TYPE_PARAM_LIST@[21; 25)\n       L_ANGLE@[21; 22)\n       TYPE_PARAM@[22; 24)\n@@ -24,8 +26,9 @@ FILE@[0; 200)\n     WHITESPACE@[26; 27)\n   STRUCT_ITEM@[27; 44)\n     STRUCT_KW@[27; 33)\n-    WHITESPACE@[33; 34)\n-    IDENT@[34; 35) \"C\"\n+    NAME@[33; 35)\n+      WHITESPACE@[33; 34)\n+      IDENT@[34; 35) \"C\"\n     TYPE_PARAM_LIST@[35; 42)\n       L_ANGLE@[35; 36)\n       TYPE_PARAM@[36; 41)\n@@ -38,8 +41,9 @@ FILE@[0; 200)\n     WHITESPACE@[43; 44)\n   STRUCT_ITEM@[44; 64)\n     STRUCT_KW@[44; 50)\n-    WHITESPACE@[50; 51)\n-    IDENT@[51; 52) \"D\"\n+    NAME@[50; 52)\n+      WHITESPACE@[50; 51)\n+      IDENT@[51; 52) \"D\"\n     TYPE_PARAM_LIST@[52; 62)\n       L_ANGLE@[52; 53)\n       TYPE_PARAM@[53; 61)\n@@ -55,8 +59,9 @@ FILE@[0; 200)\n     WHITESPACE@[63; 64)\n   STRUCT_ITEM@[64; 87)\n     STRUCT_KW@[64; 70)\n-    WHITESPACE@[70; 71)\n-    IDENT@[71; 72) \"E\"\n+    NAME@[70; 72)\n+      WHITESPACE@[70; 71)\n+      IDENT@[71; 72) \"E\"\n     TYPE_PARAM_LIST@[72; 85)\n       L_ANGLE@[72; 73)\n       TYPE_PARAM@[73; 84)\n@@ -74,8 +79,9 @@ FILE@[0; 200)\n     WHITESPACE@[86; 87)\n   STRUCT_ITEM@[87; 117)\n     STRUCT_KW@[87; 93)\n-    WHITESPACE@[93; 94)\n-    IDENT@[94; 95) \"F\"\n+    NAME@[93; 95)\n+      WHITESPACE@[93; 94)\n+      IDENT@[94; 95) \"F\"\n     TYPE_PARAM_LIST@[95; 115)\n       L_ANGLE@[95; 96)\n       TYPE_PARAM@[96; 114)\n@@ -91,37 +97,42 @@ FILE@[0; 200)\n         PLUS@[107; 108)\n         PATH@[108; 114)\n           PATH_SEGMENT@[108; 114)\n-            WHITESPACE@[108; 109)\n-            IDENT@[109; 114) \"Clone\"\n+            NAME_REF@[108; 114)\n+              WHITESPACE@[108; 109)\n+              IDENT@[109; 114) \"Clone\"\n       R_ANGLE@[114; 115)\n     SEMI@[115; 116)\n     WHITESPACE@[116; 117)\n   STRUCT_ITEM@[117; 144)\n     STRUCT_KW@[117; 123)\n-    WHITESPACE@[123; 124)\n-    IDENT@[124; 125) \"G\"\n+    NAME@[123; 125)\n+      WHITESPACE@[123; 124)\n+      IDENT@[124; 125) \"G\"\n     TYPE_PARAM_LIST@[125; 142)\n       L_ANGLE@[125; 126)\n       TYPE_PARAM@[126; 141)\n         IDENT@[126; 127) \"T\"\n         COLON@[127; 128)\n         PATH@[128; 135)\n           PATH_SEGMENT@[128; 135)\n-            WHITESPACE@[128; 129)\n-            IDENT@[129; 134) \"Clone\"\n-            WHITESPACE@[134; 135)\n+            NAME_REF@[128; 135)\n+              WHITESPACE@[128; 129)\n+              IDENT@[129; 134) \"Clone\"\n+              WHITESPACE@[134; 135)\n         PLUS@[135; 136)\n         PATH@[136; 141)\n           PATH_SEGMENT@[136; 141)\n-            WHITESPACE@[136; 137)\n-            IDENT@[137; 141) \"Copy\"\n+            NAME_REF@[136; 141)\n+              WHITESPACE@[136; 137)\n+              IDENT@[137; 141) \"Copy\"\n       R_ANGLE@[141; 142)\n     SEMI@[142; 143)\n     WHITESPACE@[143; 144)\n   STRUCT_ITEM@[144; 181)\n     STRUCT_KW@[144; 150)\n-    WHITESPACE@[150; 151)\n-    IDENT@[151; 152) \"H\"\n+    NAME@[150; 152)\n+      WHITESPACE@[150; 151)\n+      IDENT@[151; 152) \"H\"\n     TYPE_PARAM_LIST@[152; 179)\n       L_ANGLE@[152; 153)\n       TYPE_PARAM@[153; 178)\n@@ -131,8 +142,9 @@ FILE@[0; 200)\n           PATH_SEGMENT@[155; 162)\n             WHITESPACE@[155; 156)\n             COLONCOLON@[156; 158)\n-            IDENT@[158; 161) \"Foo\"\n-            WHITESPACE@[161; 162)\n+            NAME_REF@[158; 162)\n+              IDENT@[158; 161) \"Foo\"\n+              WHITESPACE@[161; 162)\n         PLUS@[162; 163)\n         PATH@[163; 174)\n           PATH@[163; 168)\n@@ -141,8 +153,9 @@ FILE@[0; 200)\n               SELF_KW@[164; 168)\n           COLONCOLON@[168; 170)\n           PATH_SEGMENT@[170; 174)\n-            IDENT@[170; 173) \"Bar\"\n-            WHITESPACE@[173; 174)\n+            NAME_REF@[170; 174)\n+              IDENT@[170; 173) \"Bar\"\n+              WHITESPACE@[173; 174)\n         PLUS@[174; 175)\n         WHITESPACE@[175; 176)\n         LIFETIME@[176; 178) \"'a\"\n@@ -151,8 +164,9 @@ FILE@[0; 200)\n     WHITESPACE@[180; 181)\n   STRUCT_ITEM@[181; 200)\n     STRUCT_KW@[181; 187)\n-    WHITESPACE@[187; 188)\n-    IDENT@[188; 189) \"I\"\n+    NAME@[187; 189)\n+      WHITESPACE@[187; 188)\n+      IDENT@[188; 189) \"I\"\n     TYPE_PARAM_LIST@[189; 198)\n       L_ANGLE@[189; 190)\n       TYPE_PARAM@[190; 192)"}, {"sha": "8ed7f2a25843e2076b348c57a5a4046bd8876019", "filename": "tests/data/parser/ok/0021_extern_fn.txt", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0021_extern_fn.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0021_extern_fn.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0021_extern_fn.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -4,8 +4,9 @@ FILE@[0; 71)\n       EXTERN_KW@[0; 6)\n       WHITESPACE@[6; 7)\n     FN_KW@[7; 9)\n-    WHITESPACE@[9; 10)\n-    IDENT@[10; 13) \"foo\"\n+    NAME@[9; 13)\n+      WHITESPACE@[9; 10)\n+      IDENT@[10; 13) \"foo\"\n     L_PAREN@[13; 14)\n     R_PAREN@[14; 15)\n     WHITESPACE@[15; 16)\n@@ -20,8 +21,9 @@ FILE@[0; 71)\n       STRING@[28; 31)\n       WHITESPACE@[31; 32)\n     FN_KW@[32; 34)\n-    WHITESPACE@[34; 35)\n-    IDENT@[35; 38) \"bar\"\n+    NAME@[34; 38)\n+      WHITESPACE@[34; 35)\n+      IDENT@[35; 38) \"bar\"\n     L_PAREN@[38; 39)\n     R_PAREN@[39; 40)\n     WHITESPACE@[40; 41)\n@@ -36,8 +38,9 @@ FILE@[0; 71)\n       RAW_STRING@[53; 57)\n       WHITESPACE@[57; 58)\n     FN_KW@[58; 60)\n-    WHITESPACE@[60; 61)\n-    IDENT@[61; 64) \"baz\"\n+    NAME@[60; 64)\n+      WHITESPACE@[60; 61)\n+      IDENT@[61; 64) \"baz\"\n     L_PAREN@[64; 65)\n     R_PAREN@[65; 66)\n     WHITESPACE@[66; 67)"}, {"sha": "8872520c5da6e346900b7ccf1736471ea496e415", "filename": "tests/data/parser/ok/0023_static_items.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0023_static_items.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 47)\n   STATIC_ITEM@[0; 21)\n     STATIC_KW@[0; 6)\n-    WHITESPACE@[6; 7)\n-    IDENT@[7; 10) \"FOO\"\n+    NAME@[6; 10)\n+      WHITESPACE@[6; 7)\n+      IDENT@[7; 10) \"FOO\"\n     COLON@[10; 11)\n     WHITESPACE@[11; 12)\n     IDENT@[12; 15) \"u32\"\n@@ -17,8 +18,9 @@ FILE@[0; 47)\n     STATIC_KW@[21; 27)\n     WHITESPACE@[27; 28)\n     MUT_KW@[28; 31)\n-    WHITESPACE@[31; 32)\n-    IDENT@[32; 35) \"BAR\"\n+    NAME@[31; 35)\n+      WHITESPACE@[31; 32)\n+      IDENT@[32; 35) \"BAR\"\n     COLON@[35; 36)\n     WHITESPACE@[36; 37)\n     IDENT@[37; 40) \"i32\""}, {"sha": "0f31d19d367387805cbce2c27b5e979dc3e139d7", "filename": "tests/data/parser/ok/0024_const_item.txt", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0024_const_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Fdata%2Fparser%2Fok%2F0024_const_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0024_const_item.txt?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -1,8 +1,9 @@\n FILE@[0; 46)\n   CONST_ITEM@[0; 21)\n     CONST_KW@[0; 5)\n-    WHITESPACE@[5; 6)\n-    IDENT@[6; 9) \"FOO\"\n+    NAME@[5; 9)\n+      WHITESPACE@[5; 6)\n+      IDENT@[6; 9) \"FOO\"\n     COLON@[9; 10)\n     WHITESPACE@[10; 11)\n     IDENT@[11; 14) \"u32\"\n@@ -17,8 +18,9 @@ FILE@[0; 46)\n     CONST_KW@[21; 26)\n     WHITESPACE@[26; 27)\n     MUT_KW@[27; 30)\n-    WHITESPACE@[30; 31)\n-    IDENT@[31; 34) \"BAR\"\n+    NAME@[30; 34)\n+      WHITESPACE@[30; 31)\n+      IDENT@[31; 34) \"BAR\"\n     COLON@[34; 35)\n     WHITESPACE@[35; 36)\n     IDENT@[36; 39) \"u32\""}, {"sha": "b50e708495fc965da433aa4cda994b47498ad294", "filename": "tests/testutils/src/lib.rs", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/b814d931514cdc250f9156dabd874edf685569d0/tests%2Ftestutils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b814d931514cdc250f9156dabd874edf685569d0/tests%2Ftestutils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftestutils%2Fsrc%2Flib.rs?ref=b814d931514cdc250f9156dabd874edf685569d0", "patch": "@@ -73,16 +73,24 @@ fn test_from_dir(dir: &Path) -> Vec<PathBuf> {\n     acc\n }\n \n+const REWRITE: bool = false;\n+\n fn print_difference(expected: &str, actual: &str, path: &Path) {\n     let dir = project_dir();\n     let path = path.strip_prefix(&dir).unwrap_or_else(|_| path);\n     if expected.trim() == actual.trim() {\n         println!(\"whitespace difference, rewriting\");\n+        println!(\"file: {}\\n\", path.display());\n+        file::put_text(path, actual).unwrap();\n+        return;\n+    }\n+    if REWRITE {\n+        println!(\"rewriting {}\", path.display());\n         file::put_text(path, actual).unwrap();\n-    } else {\n-        let changeset = Changeset::new(actual, expected, \"\\n\");\n-        print!(\"{}\", changeset);\n+        return;\n     }\n+    let changeset = Changeset::new(actual, expected, \"\\n\");\n+    print!(\"{}\", changeset);\n     println!(\"file: {}\\n\", path.display());\n     panic!(\"Comparison failed\")\n }"}]}