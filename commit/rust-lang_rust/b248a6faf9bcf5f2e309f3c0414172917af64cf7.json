{"sha": "b248a6faf9bcf5f2e309f3c0414172917af64cf7", "node_id": "C_kwDOAAsO6NoAKGIyNDhhNmZhZjliY2Y1ZjJlMzA5ZjNjMDQxNDE3MjkxN2FmNjRjZjc", "commit": {"author": {"name": "Rageking8", "email": "tomleetyt@gmail.com", "date": "2022-09-16T14:49:43Z"}, "committer": {"name": "Rageking8", "email": "tomleetyt@gmail.com", "date": "2022-09-16T15:57:08Z"}, "message": "add help for invalid inline argument", "tree": {"sha": "58cf677ce5e5ad867cfba4571719abb85ba35d42", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/58cf677ce5e5ad867cfba4571719abb85ba35d42"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b248a6faf9bcf5f2e309f3c0414172917af64cf7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b248a6faf9bcf5f2e309f3c0414172917af64cf7", "html_url": "https://github.com/rust-lang/rust/commit/b248a6faf9bcf5f2e309f3c0414172917af64cf7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b248a6faf9bcf5f2e309f3c0414172917af64cf7/comments", "author": {"login": "Rageking8", "id": 106309953, "node_id": "U_kgDOBlYpQQ", "avatar_url": "https://avatars.githubusercontent.com/u/106309953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rageking8", "html_url": "https://github.com/Rageking8", "followers_url": "https://api.github.com/users/Rageking8/followers", "following_url": "https://api.github.com/users/Rageking8/following{/other_user}", "gists_url": "https://api.github.com/users/Rageking8/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rageking8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rageking8/subscriptions", "organizations_url": "https://api.github.com/users/Rageking8/orgs", "repos_url": "https://api.github.com/users/Rageking8/repos", "events_url": "https://api.github.com/users/Rageking8/events{/privacy}", "received_events_url": "https://api.github.com/users/Rageking8/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Rageking8", "id": 106309953, "node_id": "U_kgDOBlYpQQ", "avatar_url": "https://avatars.githubusercontent.com/u/106309953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rageking8", "html_url": "https://github.com/Rageking8", "followers_url": "https://api.github.com/users/Rageking8/followers", "following_url": "https://api.github.com/users/Rageking8/following{/other_user}", "gists_url": "https://api.github.com/users/Rageking8/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rageking8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rageking8/subscriptions", "organizations_url": "https://api.github.com/users/Rageking8/orgs", "repos_url": "https://api.github.com/users/Rageking8/repos", "events_url": "https://api.github.com/users/Rageking8/events{/privacy}", "received_events_url": "https://api.github.com/users/Rageking8/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d1aa57d1e05d1d745aaf864965eebd1fd8d6071", "url": "https://api.github.com/repos/rust-lang/rust/commits/2d1aa57d1e05d1d745aaf864965eebd1fd8d6071", "html_url": "https://github.com/rust-lang/rust/commit/2d1aa57d1e05d1d745aaf864965eebd1fd8d6071"}], "stats": {"total": 27, "additions": 9, "deletions": 18}, "files": [{"sha": "b9bd55f99cc34f863776e63c26a38bcc692224e7", "filename": "compiler/rustc_typeck/src/collect.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b248a6faf9bcf5f2e309f3c0414172917af64cf7/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b248a6faf9bcf5f2e309f3c0414172917af64cf7/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs?ref=b248a6faf9bcf5f2e309f3c0414172917af64cf7", "patch": "@@ -3129,6 +3129,7 @@ fn codegen_fn_attrs(tcx: TyCtxt<'_>, did: DefId) -> CodegenFnAttrs {\n                         E0535,\n                         \"invalid argument\"\n                     )\n+                    .help(\"valid inline arguments are `always` and `never`\")\n                     .emit();\n \n                     InlineAttr::None"}, {"sha": "2501b1e23f2f14737c12a963ef5b72345bc63749", "filename": "src/test/ui/invalid/invalid-inline.rs", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b248a6faf9bcf5f2e309f3c0414172917af64cf7/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b248a6faf9bcf5f2e309f3c0414172917af64cf7/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.rs?ref=b248a6faf9bcf5f2e309f3c0414172917af64cf7", "patch": "@@ -1,19 +1,14 @@\n #![allow(dead_code)]\n \n-#[inline(please_no)] //~ ERROR invalid argument\n-fn a() {\n-}\n-\n #[inline(please,no)] //~ ERROR expected one argument\n-fn b() {\n+fn a() {\n }\n \n #[inline()] //~ ERROR expected one argument\n-fn c() {\n+fn b() {\n }\n \n fn main() {\n     a();\n     b();\n-    c();\n }"}, {"sha": "7edbf936b1b4d2948958951be3111243a18f9b81", "filename": "src/test/ui/invalid/invalid-inline.stderr", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b248a6faf9bcf5f2e309f3c0414172917af64cf7/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b248a6faf9bcf5f2e309f3c0414172917af64cf7/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.stderr?ref=b248a6faf9bcf5f2e309f3c0414172917af64cf7", "patch": "@@ -1,22 +1,15 @@\n-error[E0535]: invalid argument\n-  --> $DIR/invalid-inline.rs:3:10\n-   |\n-LL | #[inline(please_no)]\n-   |          ^^^^^^^^^\n-\n error[E0534]: expected one argument\n-  --> $DIR/invalid-inline.rs:7:1\n+  --> $DIR/invalid-inline.rs:3:1\n    |\n LL | #[inline(please,no)]\n    | ^^^^^^^^^^^^^^^^^^^^\n \n error[E0534]: expected one argument\n-  --> $DIR/invalid-inline.rs:11:1\n+  --> $DIR/invalid-inline.rs:7:1\n    |\n LL | #[inline()]\n    | ^^^^^^^^^^^\n \n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-Some errors have detailed explanations: E0534, E0535.\n-For more information about an error, try `rustc --explain E0534`.\n+For more information about this error, try `rustc --explain E0534`."}, {"sha": "b1411bc436ae2f4edbd9049fa75d7219d9d380f0", "filename": "src/test/ui/span/E0535.stderr", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b248a6faf9bcf5f2e309f3c0414172917af64cf7/src%2Ftest%2Fui%2Fspan%2FE0535.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b248a6faf9bcf5f2e309f3c0414172917af64cf7/src%2Ftest%2Fui%2Fspan%2FE0535.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0535.stderr?ref=b248a6faf9bcf5f2e309f3c0414172917af64cf7", "patch": "@@ -3,6 +3,8 @@ error[E0535]: invalid argument\n    |\n LL | #[inline(unknown)]\n    |          ^^^^^^^\n+   |\n+   = help: valid inline arguments are `always` and `never`\n \n error: aborting due to previous error\n "}]}