{"sha": "87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd", "node_id": "C_kwDOAAsO6NoAKDg3YmI3ZDhhYzc4ZTVjMTEwZjhmOWJjZjZmZTk2ZjYzNDQ0NWVhZmQ", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-05-25T06:01:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-05-25T06:01:07Z"}, "message": "Rollup merge of #109899 - daxpedda:patch-1, r=jackh726\n\nUse apple-m1 as target CPU for aarch64-apple-darwin.\n\nThis updates the target CPU for the `aarch64-apple-darwin` target to `apple-m1`, which is the first generation of CPUs with this target anyway.\n\nThis wasn't able to be done before because of the minimum supported version of LLVM being 12, now that it was updated to 13 (in fact we are already at 14), this is available.\n\nSee previous update: https://github.com/rust-lang/rust/pull/90478.\nSee LLVM update: https://github.com/rust-lang/rust/pull/100460.", "tree": {"sha": "58c35bfbecd45ea0b33430703a597f30950317c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/58c35bfbecd45ea0b33430703a597f30950317c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkbvmjCRBK7hj4Ov3rIwAAKjEIAJ+hekKVBe7Q3/veNSoyb6Ym\nIcfEy49UoA0PTm1bxXZWpk4PFfris/TqNLrtoz/DRxB5Yp/LQUmwaMkWr+ow8ADt\nTSaf5d5xkUOqmJi9e6cvJrluWP0WsSx3a3XIS8EX14tiqx0m9qJpkKrT0yDLKH13\nFiQalF9tXusMvdjiWTfT3GtMMCnte6ZhMaGWnbQ746XowBDOg3haSEt0aboS8OsO\nsqVSopCsj85UCKi/QVc0nDzRDt1HQDQzcH2wUPoQeYtZXrSL1uvmPoMZ+Y51wWzR\nGL3Zq2Fm+RLJD3VU7c7mMXr2UwMDdGeGFxFW28DJGIW2/PSz2Bq6u9a69eiBi1A=\n=1p+N\n-----END PGP SIGNATURE-----\n", "payload": "tree 58c35bfbecd45ea0b33430703a597f30950317c0\nparent 8497948c7ac58dd467d280b40842b6545a9f56d0\nparent 0f90aed45fa514a852652f3239b3a684d81d4499\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1684994467 +0200\ncommitter GitHub <noreply@github.com> 1684994467 +0200\n\nRollup merge of #109899 - daxpedda:patch-1, r=jackh726\n\nUse apple-m1 as target CPU for aarch64-apple-darwin.\n\nThis updates the target CPU for the `aarch64-apple-darwin` target to `apple-m1`, which is the first generation of CPUs with this target anyway.\n\nThis wasn't able to be done before because of the minimum supported version of LLVM being 12, now that it was updated to 13 (in fact we are already at 14), this is available.\n\nSee previous update: https://github.com/rust-lang/rust/pull/90478.\nSee LLVM update: https://github.com/rust-lang/rust/pull/100460.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd", "html_url": "https://github.com/rust-lang/rust/commit/87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8497948c7ac58dd467d280b40842b6545a9f56d0", "url": "https://api.github.com/repos/rust-lang/rust/commits/8497948c7ac58dd467d280b40842b6545a9f56d0", "html_url": "https://github.com/rust-lang/rust/commit/8497948c7ac58dd467d280b40842b6545a9f56d0"}, {"sha": "0f90aed45fa514a852652f3239b3a684d81d4499", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f90aed45fa514a852652f3239b3a684d81d4499", "html_url": "https://github.com/rust-lang/rust/commit/0f90aed45fa514a852652f3239b3a684d81d4499"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "9ac732351411c8df5b65b0816182d29eb85a2068", "filename": "compiler/rustc_target/src/spec/aarch64_apple_darwin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_apple_darwin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_apple_darwin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_apple_darwin.rs?ref=87bb7d8ac78e5c110f8f9bcf6fe96f634445eafd", "patch": "@@ -4,7 +4,7 @@ use crate::spec::{FramePointer, SanitizerSet, Target, TargetOptions};\n pub fn target() -> Target {\n     let arch = Arch::Arm64;\n     let mut base = opts(\"macos\", arch);\n-    base.cpu = \"apple-a14\".into();\n+    base.cpu = \"apple-m1\".into();\n     base.max_atomic_width = Some(128);\n \n     // FIXME: The leak sanitizer currently fails the tests, see #88132."}]}