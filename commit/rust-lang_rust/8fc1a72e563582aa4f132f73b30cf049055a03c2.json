{"sha": "8fc1a72e563582aa4f132f73b30cf049055a03c2", "node_id": "C_kwDOAAsO6NoAKDhmYzFhNzJlNTYzNTgyYWE0ZjEzMmY3M2IzMGNmMDQ5MDU1YTAzYzI", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-12-17T22:44:29Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-17T22:44:29Z"}, "message": "Rollup merge of #105836 - evanj:fmt-doc-use-variables, r=Mark-Simulacrum\n\nstd::fmt: Use args directly in example code\n\nThe lint \"clippy::uninlined_format_args\" recommends inline variables in format strings. Fix two places in the docs that do not do this. I noticed this because I copy/pasted one example in to my project, then noticed this lint error. This fixes:\n\n```\nerror: variables can be used directly in the `format!` string\n  --> src/main.rs:30:22\n   |\n30 |         let string = format!(\"{:.*}\", decimals, magnitude);\n   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nerror: variables can be used directly in the `format!` string\n  --> src/main.rs:39:2\n   |\n39 |  write!(&mut io::stdout(), \"{}\", args).unwrap();\n```", "tree": {"sha": "6c1fa06db9f0962263fa5741a07b672907247199", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6c1fa06db9f0962263fa5741a07b672907247199"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8fc1a72e563582aa4f132f73b30cf049055a03c2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjnkZNCRBK7hj4Ov3rIwAAeGcIAEkAke3FkHC3DhgOc0ZHoImp\nBz1sFVP9nty94PmfbtSHf0Kc41iytSoqngluvuVBlawYSpcbKa/HZzogj0jBErwR\n3vcwiWhDIDlM4LT7PePqqi07E4EVit38To0DQmhkLwFfTS8NjfB4ewGsPOmyyl6y\nWbja/8BtfrPpa0etpTRFxxyV7ZgZ/Efn1JKMMVEJUnOGViZnQrt4+ci2Z6MqvWwc\n/fNxUIe9QXevJBRU/+naDSxmnoDA1N20XcOs46P1946VRZicEo+a0L5opAwiznFN\nG1y0b+9SIBNQw0X/yuixoWCMbhXLB352QJ4hT3iBCY/1Yp/dSSr/22NeBV1sZLI=\n=ScIW\n-----END PGP SIGNATURE-----\n", "payload": "tree 6c1fa06db9f0962263fa5741a07b672907247199\nparent cf08eda0b379cdce4983f6fa344059b6bc23a64d\nparent ab2151cbf8270be61db8add6bfb1aea03230803f\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1671317069 +0100\ncommitter GitHub <noreply@github.com> 1671317069 +0100\n\nRollup merge of #105836 - evanj:fmt-doc-use-variables, r=Mark-Simulacrum\n\nstd::fmt: Use args directly in example code\n\nThe lint \"clippy::uninlined_format_args\" recommends inline variables in format strings. Fix two places in the docs that do not do this. I noticed this because I copy/pasted one example in to my project, then noticed this lint error. This fixes:\n\n```\nerror: variables can be used directly in the `format!` string\n  --> src/main.rs:30:22\n   |\n30 |         let string = format!(\"{:.*}\", decimals, magnitude);\n   |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nerror: variables can be used directly in the `format!` string\n  --> src/main.rs:39:2\n   |\n39 |  write!(&mut io::stdout(), \"{}\", args).unwrap();\n```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8fc1a72e563582aa4f132f73b30cf049055a03c2", "html_url": "https://github.com/rust-lang/rust/commit/8fc1a72e563582aa4f132f73b30cf049055a03c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8fc1a72e563582aa4f132f73b30cf049055a03c2/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cf08eda0b379cdce4983f6fa344059b6bc23a64d", "url": "https://api.github.com/repos/rust-lang/rust/commits/cf08eda0b379cdce4983f6fa344059b6bc23a64d", "html_url": "https://github.com/rust-lang/rust/commit/cf08eda0b379cdce4983f6fa344059b6bc23a64d"}, {"sha": "ab2151cbf8270be61db8add6bfb1aea03230803f", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab2151cbf8270be61db8add6bfb1aea03230803f", "html_url": "https://github.com/rust-lang/rust/commit/ab2151cbf8270be61db8add6bfb1aea03230803f"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "eadb35cb96d422cfcdc84250b820b7cef65ea54c", "filename": "library/alloc/src/fmt.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8fc1a72e563582aa4f132f73b30cf049055a03c2/library%2Falloc%2Fsrc%2Ffmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8fc1a72e563582aa4f132f73b30cf049055a03c2/library%2Falloc%2Fsrc%2Ffmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Ffmt.rs?ref=8fc1a72e563582aa4f132f73b30cf049055a03c2", "patch": "@@ -419,7 +419,7 @@\n //!         // documentation for details, and the function `pad` can be used\n //!         // to pad strings.\n //!         let decimals = f.precision().unwrap_or(3);\n-//!         let string = format!(\"{:.*}\", decimals, magnitude);\n+//!         let string = format!(\"{magnitude:.decimals$}\");\n //!         f.pad_integral(true, \"\", &string)\n //!     }\n //! }\n@@ -518,7 +518,7 @@\n //! write!(&mut some_writer, \"{}\", format_args!(\"print with a {}\", \"macro\"));\n //!\n //! fn my_fmt_fn(args: fmt::Arguments) {\n-//!     write!(&mut io::stdout(), \"{}\", args);\n+//!     write!(&mut io::stdout(), \"{args}\");\n //! }\n //! my_fmt_fn(format_args!(\", or a {} too\", \"function\"));\n //! ```"}]}