{"sha": "cc28ae5201b0927683b253dbe893a62a188aa5a5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNjMjhhZTUyMDFiMDkyNzY4M2IyNTNkYmU4OTNhNjJhMTg4YWE1YTU=", "commit": {"author": {"name": "Hanno Braun", "email": "mail@hannobraun.de", "date": "2014-06-07T13:46:41Z"}, "committer": {"name": "Hanno Braun", "email": "mail@hannobraun.de", "date": "2014-06-07T13:46:41Z"}, "message": "Implement ToSource and ToToken for ast::Arg\n\nThis makes ast::Arg usable in the quote_ macros.\n\nPlease note that this commit doesn't include a regression test. There\nare tests that use the quote macros, but all of them are ignored. Due to\nthat, there is no obvious (to me) way to test this.\n\nSince this change is absolutely trivial and only hooks up an additional\ntype to existing infrastructure (which presumably is tested elsewhere),\nI concluded it's not worth the effort to follow up on this.", "tree": {"sha": "7f16fc4bd6a8ff23fff1a5a4ae9ee95d98e8ddf1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f16fc4bd6a8ff23fff1a5a4ae9ee95d98e8ddf1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cc28ae5201b0927683b253dbe893a62a188aa5a5", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cc28ae5201b0927683b253dbe893a62a188aa5a5", "html_url": "https://github.com/rust-lang/rust/commit/cc28ae5201b0927683b253dbe893a62a188aa5a5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cc28ae5201b0927683b253dbe893a62a188aa5a5/comments", "author": {"login": "hannobraun", "id": 85732, "node_id": "MDQ6VXNlcjg1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/85732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannobraun", "html_url": "https://github.com/hannobraun", "followers_url": "https://api.github.com/users/hannobraun/followers", "following_url": "https://api.github.com/users/hannobraun/following{/other_user}", "gists_url": "https://api.github.com/users/hannobraun/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannobraun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannobraun/subscriptions", "organizations_url": "https://api.github.com/users/hannobraun/orgs", "repos_url": "https://api.github.com/users/hannobraun/repos", "events_url": "https://api.github.com/users/hannobraun/events{/privacy}", "received_events_url": "https://api.github.com/users/hannobraun/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hannobraun", "id": 85732, "node_id": "MDQ6VXNlcjg1NzMy", "avatar_url": "https://avatars.githubusercontent.com/u/85732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hannobraun", "html_url": "https://github.com/hannobraun", "followers_url": "https://api.github.com/users/hannobraun/followers", "following_url": "https://api.github.com/users/hannobraun/following{/other_user}", "gists_url": "https://api.github.com/users/hannobraun/gists{/gist_id}", "starred_url": "https://api.github.com/users/hannobraun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hannobraun/subscriptions", "organizations_url": "https://api.github.com/users/hannobraun/orgs", "repos_url": "https://api.github.com/users/hannobraun/repos", "events_url": "https://api.github.com/users/hannobraun/events{/privacy}", "received_events_url": "https://api.github.com/users/hannobraun/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8e9e484d7089590ce63bfe21723d7ee0c50be8f4", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e9e484d7089590ce63bfe21723d7ee0c50be8f4", "html_url": "https://github.com/rust-lang/rust/commit/8e9e484d7089590ce63bfe21723d7ee0c50be8f4"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "0f5928ee19842b8fc184ab05a98768d454fe1cf8", "filename": "src/libsyntax/ext/quote.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/cc28ae5201b0927683b253dbe893a62a188aa5a5/src%2Flibsyntax%2Fext%2Fquote.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cc28ae5201b0927683b253dbe893a62a188aa5a5/src%2Flibsyntax%2Fext%2Fquote.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fquote.rs?ref=cc28ae5201b0927683b253dbe893a62a188aa5a5", "patch": "@@ -135,6 +135,12 @@ pub mod rt {\n         }\n     }\n \n+    impl ToSource for ast::Arg {\n+        fn to_source(&self) -> String {\n+            pprust::arg_to_str(self)\n+        }\n+    }\n+\n     impl<'a> ToSource for &'a str {\n         fn to_source(&self) -> String {\n             let lit = dummy_spanned(ast::LitStr(\n@@ -264,6 +270,7 @@ pub mod rt {\n     impl_to_tokens!(Generics)\n     impl_to_tokens!(@ast::Expr)\n     impl_to_tokens!(ast::Block)\n+    impl_to_tokens!(ast::Arg)\n     impl_to_tokens_self!(&'a str)\n     impl_to_tokens!(())\n     impl_to_tokens!(char)"}, {"sha": "05c2558da486f80a45d909b39b4172df68c19f87", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cc28ae5201b0927683b253dbe893a62a188aa5a5/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cc28ae5201b0927683b253dbe893a62a188aa5a5/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=cc28ae5201b0927683b253dbe893a62a188aa5a5", "patch": "@@ -242,6 +242,10 @@ pub fn variant_to_str(var: &ast::Variant) -> String {\n     to_str(|s| s.print_variant(var))\n }\n \n+pub fn arg_to_str(arg: &ast::Arg) -> String {\n+    to_str(|s| s.print_arg(arg))\n+}\n+\n pub fn visibility_qualified(vis: ast::Visibility, s: &str) -> String {\n     match vis {\n         ast::Public => format!(\"pub {}\", s).to_string(),"}]}