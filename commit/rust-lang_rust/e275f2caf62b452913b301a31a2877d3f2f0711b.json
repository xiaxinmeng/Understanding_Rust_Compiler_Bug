{"sha": "e275f2caf62b452913b301a31a2877d3f2f0711b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyNzVmMmNhZjYyYjQ1MjkxM2IzMDFhMzFhMjg3N2QzZjJmMDcxMWI=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-06-01T21:13:57Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-06-01T21:13:57Z"}, "message": "Extend docstring", "tree": {"sha": "f5b85ab738a72152c2e004b5c4e2c2ff7c80a60c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f5b85ab738a72152c2e004b5c4e2c2ff7c80a60c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e275f2caf62b452913b301a31a2877d3f2f0711b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e275f2caf62b452913b301a31a2877d3f2f0711b", "html_url": "https://github.com/rust-lang/rust/commit/e275f2caf62b452913b301a31a2877d3f2f0711b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e275f2caf62b452913b301a31a2877d3f2f0711b/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ad0d3b5d4064cfd9013c498299a53b3f1586553e", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad0d3b5d4064cfd9013c498299a53b3f1586553e", "html_url": "https://github.com/rust-lang/rust/commit/ad0d3b5d4064cfd9013c498299a53b3f1586553e"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "71d074b99eccecc44598cb92bddd0904eab2f650", "filename": "src/libsyntax/parse/diagnostics.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e275f2caf62b452913b301a31a2877d3f2f0711b/src%2Flibsyntax%2Fparse%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e275f2caf62b452913b301a31a2877d3f2f0711b/src%2Flibsyntax%2Fparse%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fdiagnostics.rs?ref=e275f2caf62b452913b301a31a2877d3f2f0711b", "patch": "@@ -1234,6 +1234,13 @@ impl<'a> Parser<'a> {\n     }\n \n     /// Replace duplicated recovered arguments with `_` pattern to avoid unecessary errors.\n+    ///\n+    /// This is necessary because at this point we don't know whether we parsed a function with\n+    /// anonymous arguments or a function with names but no types. In order to minimize\n+    /// unecessary errors, we assume the arguments are in the shape of `fn foo(a, b, c)` where\n+    /// the arguments are *names* (so we don't emit errors about not being able to find `b` in\n+    /// the local scope), but if we find the same name multiple times, like in `fn foo(i8, i8)`,\n+    /// we deduplicate them to not complain about duplicated argument names.\n     crate fn deduplicate_recovered_arg_names(&self, fn_inputs: &mut Vec<Arg>) {\n         let mut seen_inputs = FxHashSet::default();\n         for input in fn_inputs.iter_mut() {"}]}