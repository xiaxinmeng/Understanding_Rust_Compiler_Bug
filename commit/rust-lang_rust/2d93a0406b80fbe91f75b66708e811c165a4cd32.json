{"sha": "2d93a0406b80fbe91f75b66708e811c165a4cd32", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJkOTNhMDQwNmI4MGZiZTkxZjc1YjY2NzA4ZTgxMWMxNjVhNGNkMzI=", "commit": {"author": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2014-10-04T13:44:50Z"}, "committer": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2014-10-04T13:44:50Z"}, "message": "Register new snapshots", "tree": {"sha": "82d601268e6a4b5bacaaa88eb8bcbae1471e3b8f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/82d601268e6a4b5bacaaa88eb8bcbae1471e3b8f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2d93a0406b80fbe91f75b66708e811c165a4cd32", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2d93a0406b80fbe91f75b66708e811c165a4cd32", "html_url": "https://github.com/rust-lang/rust/commit/2d93a0406b80fbe91f75b66708e811c165a4cd32", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2d93a0406b80fbe91f75b66708e811c165a4cd32/comments", "author": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "749ff5e76a0d08837964e44c66654679a3a88bb8", "url": "https://api.github.com/repos/rust-lang/rust/commits/749ff5e76a0d08837964e44c66654679a3a88bb8", "html_url": "https://github.com/rust-lang/rust/commit/749ff5e76a0d08837964e44c66654679a3a88bb8"}], "stats": {"total": 24, "additions": 13, "deletions": 11}, "files": [{"sha": "97fde3922c870a91cad0e6c285c07eaac75379e5", "filename": "src/librustc/middle/resolve.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/2d93a0406b80fbe91f75b66708e811c165a4cd32/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d93a0406b80fbe91f75b66708e811c165a4cd32/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fresolve.rs?ref=2d93a0406b80fbe91f75b66708e811c165a4cd32", "patch": "@@ -5852,11 +5852,8 @@ impl<'a> Resolver<'a> {\n                 visit::walk_expr(self, expr);\n             }\n \n-            ExprFnBlock(_, ref fn_decl, ref block) => {\n-                // NOTE(stage0): After snapshot, change to:\n-                //\n-                //self.capture_mode_map.insert(expr.id, capture_clause);\n-                self.capture_mode_map.insert(expr.id, ast::CaptureByRef);\n+            ExprFnBlock(capture_clause, ref fn_decl, ref block) => {\n+                self.capture_mode_map.insert(expr.id, capture_clause);\n                 self.resolve_function(ClosureRibKind(expr.id, ast::DUMMY_NODE_ID),\n                                       Some(&**fn_decl), NoTypeParameters,\n                                       &**block);"}, {"sha": "dda41070431065cc2092c03f81d0f8c105fcaefb", "filename": "src/libsyntax/codemap.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2d93a0406b80fbe91f75b66708e811c165a4cd32/src%2Flibsyntax%2Fcodemap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d93a0406b80fbe91f75b66708e811c165a4cd32/src%2Flibsyntax%2Fcodemap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fcodemap.rs?ref=2d93a0406b80fbe91f75b66708e811c165a4cd32", "patch": "@@ -291,10 +291,8 @@ impl FileMap {\n \n     /// get a line from the list of pre-computed line-beginnings\n     ///\n-    /// NOTE(stage0, pcwalton): Remove `#[allow(unused_mut)]` after snapshot.\n-    #[allow(unused_mut)]\n     pub fn get_line(&self, line: int) -> String {\n-        let mut lines = self.lines.borrow_mut();\n+        let lines = self.lines.borrow();\n         let begin: BytePos = *lines.get(line as uint) - self.start_pos;\n         let begin = begin.to_uint();\n         let slice = self.src.as_slice().slice_from(begin);\n@@ -515,16 +513,14 @@ impl CodeMap {\n         return a;\n     }\n \n-    // NOTE(stage0, pcwalton): Remove `#[allow(unused_mut)]` after snapshot.\n-    #[allow(unused_mut)]\n     fn lookup_line(&self, pos: BytePos) -> FileMapAndLine {\n         let idx = self.lookup_filemap_idx(pos);\n \n         let files = self.files.borrow();\n         let f = files.get(idx).clone();\n         let mut a = 0u;\n         {\n-            let mut lines = f.lines.borrow_mut();\n+            let lines = f.lines.borrow();\n             let mut b = lines.len();\n             while b - a > 1u {\n                 let m = (a + b) / 2u;"}, {"sha": "ab5b6b280dc871f2c11f0adf85602b34184af3a8", "filename": "src/snapshots.txt", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/2d93a0406b80fbe91f75b66708e811c165a4cd32/src%2Fsnapshots.txt", "raw_url": "https://github.com/rust-lang/rust/raw/2d93a0406b80fbe91f75b66708e811c165a4cd32/src%2Fsnapshots.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsnapshots.txt?ref=2d93a0406b80fbe91f75b66708e811c165a4cd32", "patch": "@@ -1,3 +1,12 @@\n+S 2014-10-04 749ff5e\n+  freebsd-x86_64 f39d94487d29b3d48217b1295ad2cda8c941e694\n+  linux-i386 555aca74f9a268f80cab2df1147dc6406403e9e4\n+  linux-x86_64 6a43c2f6c8ba2cbbcb9da1f7b58f748aef99f431\n+  macos-i386 331bd7ef519cbb424188c546273e8c7d738f0894\n+  macos-x86_64 2c83a79a9febfe1d326acb17c3af76ba053c6ca9\n+  winnt-i386 fcf0526e5dc7ca4b149e074ff056ac03e2240ac7\n+  winnt-x86_64 611f19816fbfe0730b1fee51481b8d25dd78fa10\n+\n S 2014-09-28 7eb9337\n   freebsd-x86_64 d45e0edd44f40a976ea0affaadd98732684cfca0\n   linux-i386 3acb35755aa62b7ff78f76007d9a70696fce7aa7"}]}