{"sha": "4f826d81f611aa9486b25e1e123b24131659bd51", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmODI2ZDgxZjYxMWFhOTQ4NmIyNWUxZTEyM2IyNDEzMTY1OWJkNTE=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-12-16T09:11:00Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-12-16T10:46:57Z"}, "message": "Make 1.f parse as a field access on the integer 1\n\nA dot is only considered part of a number when not followed by a letter\n\nCloses #1306", "tree": {"sha": "e925d1634e84c43493b2c875b69b7cfb6e8ac395", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e925d1634e84c43493b2c875b69b7cfb6e8ac395"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4f826d81f611aa9486b25e1e123b24131659bd51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4f826d81f611aa9486b25e1e123b24131659bd51", "html_url": "https://github.com/rust-lang/rust/commit/4f826d81f611aa9486b25e1e123b24131659bd51", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4f826d81f611aa9486b25e1e123b24131659bd51/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "14fcb135a99c4eb02376f51dd51a75e4a5b31307", "url": "https://api.github.com/repos/rust-lang/rust/commits/14fcb135a99c4eb02376f51dd51a75e4a5b31307", "html_url": "https://github.com/rust-lang/rust/commit/14fcb135a99c4eb02376f51dd51a75e4a5b31307"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "3529a512a89db94f468b270aa1d3f195269a4c0b", "filename": "src/comp/syntax/parse/lexer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Fcomp%2Fsyntax%2Fparse%2Flexer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Fcomp%2Fsyntax%2Fparse%2Flexer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fsyntax%2Fparse%2Flexer.rs?ref=4f826d81f611aa9486b25e1e123b24131659bd51", "patch": "@@ -240,7 +240,7 @@ fn scan_number(c: char, rdr: reader) -> token::token {\n         }\n     }\n     let is_float = false;\n-    if rdr.curr() == '.' {\n+    if rdr.curr() == '.' && !(is_alpha(rdr.next()) || rdr.next() == '_') {\n         is_float = true;\n         rdr.bump();\n         let dec_part = scan_digits(rdr, 10u);"}, {"sha": "ab27b938b53f4b826cbfb70f563e9f3c2d4b8556", "filename": "src/libcore/float.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Flibcore%2Ffloat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Flibcore%2Ffloat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ffloat.rs?ref=4f826d81f611aa9486b25e1e123b24131659bd51", "patch": "@@ -173,14 +173,14 @@ fn from_str(num: str) -> float {\n    }\n \n    if c == '.' {//Examine decimal part\n-      let decimal = 1.f;\n+      let decimal = 1f;\n       while(pos < len) {\n          let char_range = str::char_range_at(num, pos);\n          c = char_range.ch;\n          pos = char_range.next;\n          alt c {\n             '0' | '1' | '2' | '3' | '4' | '5' | '6'| '7' | '8' | '9'  {\n-                 decimal /= 10.f;\n+                 decimal /= 10f;\n                  total += (((c as int) - ('0' as int)) as float)*decimal;\n              }\n              'e' | 'E' {"}, {"sha": "945845e6c5582ed3bb4e3b31be30be449b0994db", "filename": "src/libstd/json.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Flibstd%2Fjson.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Flibstd%2Fjson.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fjson.rs?ref=4f826d81f611aa9486b25e1e123b24131659bd51", "patch": "@@ -171,11 +171,11 @@ fn from_str_float(s: str) -> (option::t<json>, str) {\n     let pos = 0u;\n     let len = str::byte_len(s);\n     let res = 0f;\n-    let neg = 1.f;\n+    let neg = 1f;\n \n     alt str::char_at(s, 0u) {\n         '-' {\n-            neg = -1.f;\n+            neg = -1f;\n             pos = 1u;\n         }\n         '+' {\n@@ -205,15 +205,15 @@ fn from_str_float(s: str) -> (option::t<json>, str) {\n         ret (some(num(neg * res)), str::char_slice(s, pos, str::char_len(s)));\n     }\n \n-    let dec = 1.f;\n+    let dec = 1f;\n     while (pos < len) {\n         let opos = pos;\n         let chr = str::char_range_at(s, pos);\n         let c = chr.ch;\n         pos = chr.next;\n         alt c {\n             '0' to '9' {\n-                dec /= 10.f;\n+                dec /= 10f;\n                 res += (((c as int) - ('0' as int)) as float) * dec;\n             }\n             _ { ret (some(num(neg * res)),"}, {"sha": "f777a9b1a2aef84eba37b79bf9b9f761c454af65", "filename": "src/test/run-pass/float2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Ftest%2Frun-pass%2Ffloat2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f826d81f611aa9486b25e1e123b24131659bd51/src%2Ftest%2Frun-pass%2Ffloat2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ffloat2.rs?ref=4f826d81f611aa9486b25e1e123b24131659bd51", "patch": "@@ -7,7 +7,7 @@ fn main() {\n     let d = 1E6;\n     let e = 3.0f32;\n     let f = 5.9f64;\n-    let g = 1.e6f32;\n+    let g = 1e6f32;\n     let h = 1.0e7f64;\n     let i = 1.0E7f64;\n     let j = 3.1e+9;"}]}