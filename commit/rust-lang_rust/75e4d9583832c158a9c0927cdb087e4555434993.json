{"sha": "75e4d9583832c158a9c0927cdb087e4555434993", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc1ZTRkOTU4MzgzMmMxNThhOWMwOTI3Y2RiMDg3ZTQ1NTU0MzQ5OTM=", "commit": {"author": {"name": "Damien Radtke", "email": "dradtke@channeliq.com", "date": "2014-11-04T20:08:57Z"}, "committer": {"name": "Damien Radtke", "email": "dradtke@channeliq.com", "date": "2014-11-04T20:08:57Z"}, "message": "Added check for absolute file path, removed hard tab, and added documentation for new option.", "tree": {"sha": "3fb56be61986154546aca476c6907a4753848b8e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3fb56be61986154546aca476c6907a4753848b8e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/75e4d9583832c158a9c0927cdb087e4555434993", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/75e4d9583832c158a9c0927cdb087e4555434993", "html_url": "https://github.com/rust-lang/rust/commit/75e4d9583832c158a9c0927cdb087e4555434993", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/75e4d9583832c158a9c0927cdb087e4555434993/comments", "author": null, "committer": null, "parents": [{"sha": "0207e25d70b1a5733b170ac9f16a9702db8ee8ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/0207e25d70b1a5733b170ac9f16a9702db8ee8ed", "html_url": "https://github.com/rust-lang/rust/commit/0207e25d70b1a5733b170ac9f16a9702db8ee8ed"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "ed487a308e199d6a3d19fdfe8f16b0c1d3ebe6cf", "filename": "src/etc/vim/compiler/cargo.vim", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/75e4d9583832c158a9c0927cdb087e4555434993/src%2Fetc%2Fvim%2Fcompiler%2Fcargo.vim", "raw_url": "https://github.com/rust-lang/rust/raw/75e4d9583832c158a9c0927cdb087e4555434993/src%2Fetc%2Fvim%2Fcompiler%2Fcargo.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fcompiler%2Fcargo.vim?ref=75e4d9583832c158a9c0927cdb087e4555434993", "patch": "@@ -23,9 +23,13 @@ endif\n \" support variations like 'cargo.toml'.\n let s:cargo_manifest_name = get(g:, 'cargo_manifest_name', 'Cargo.toml')\n \n+function! s:is_absolute(path)\n+    return a:path[0] == '/' || a:path =~ '[A-Z]\\+:'\n+endfunction\n+\n let s:local_manifest = findfile(s:cargo_manifest_name, '.;')\n if s:local_manifest != ''\n-\tlet s:local_manifest = fnamemodify(s:local_manifest, ':p:h').'/'\n+    let s:local_manifest = fnamemodify(s:local_manifest, ':p:h').'/'\n     augroup cargo\n         au!\n         au QuickfixCmdPost make call s:FixPaths()\n@@ -43,14 +47,14 @@ if s:local_manifest != ''\n                     let manifest = m[1].'/'\n                     \" Manually strip another slash if needed; usually just an\n                     \" issue on Windows.\n-                    if manifest =~ '^/[A-Z]:/'\n+                    if manifest =~ '^/[A-Z]\\+:/'\n                         let manifest = manifest[1:]\n                     endif\n                 endif\n                 continue\n             endif\n             let filename = bufname(qf.bufnr)\n-            if filereadable(filename)\n+            if s:is_absolute(filename)\n                 continue\n             endif\n             let qf.filename = simplify(manifest.filename)"}, {"sha": "1693714f2154621bc3881057d0d61e9a0d26780c", "filename": "src/etc/vim/doc/rust.txt", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/75e4d9583832c158a9c0927cdb087e4555434993/src%2Fetc%2Fvim%2Fdoc%2Frust.txt", "raw_url": "https://github.com/rust-lang/rust/raw/75e4d9583832c158a9c0927cdb087e4555434993/src%2Fetc%2Fvim%2Fdoc%2Frust.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fdoc%2Frust.txt?ref=75e4d9583832c158a9c0927cdb087e4555434993", "patch": "@@ -79,6 +79,13 @@ g:ftplugin_rust_source_path~\n \t    let g:ftplugin_rust_source_path = $HOME.'/dev/rust'\n <\n \n+                                                       *g:cargo_manifest_name*\n+g:cargo_manifest_name~\n+\tSet this option to the name of the manifest file for your projects. If\n+\tnot specified it defaults to 'Cargo.toml' : >\n+\t    let g:cargo_manifest_name = 'Cargo.toml'\n+<\n+\n ==============================================================================\n COMMANDS                                                       *rust-commands*\n "}]}