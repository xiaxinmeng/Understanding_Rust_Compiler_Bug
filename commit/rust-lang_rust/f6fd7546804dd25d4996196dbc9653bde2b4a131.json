{"sha": "f6fd7546804dd25d4996196dbc9653bde2b4a131", "node_id": "C_kwDOAAsO6NoAKGY2ZmQ3NTQ2ODA0ZGQyNWQ0OTk2MTk2ZGJjOTY1M2JkZTJiNGExMzE", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2023-03-21T22:20:54Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2023-03-23T05:56:40Z"}, "message": "Printing alias-relate goals correctly", "tree": {"sha": "6baebcb04a04adc4f2f2c1c41bdd996800415a7c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6baebcb04a04adc4f2f2c1c41bdd996800415a7c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6fd7546804dd25d4996196dbc9653bde2b4a131", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6fd7546804dd25d4996196dbc9653bde2b4a131", "html_url": "https://github.com/rust-lang/rust/commit/f6fd7546804dd25d4996196dbc9653bde2b4a131", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6fd7546804dd25d4996196dbc9653bde2b4a131/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3a36a093ddb1c117247a8154970d5f8a5782da87", "url": "https://api.github.com/repos/rust-lang/rust/commits/3a36a093ddb1c117247a8154970d5f8a5782da87", "html_url": "https://github.com/rust-lang/rust/commit/3a36a093ddb1c117247a8154970d5f8a5782da87"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "23139e6be7abe5ca244aa4b88ee4ca9033126313", "filename": "compiler/rustc_middle/src/ty/mod.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f6fd7546804dd25d4996196dbc9653bde2b4a131/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6fd7546804dd25d4996196dbc9653bde2b4a131/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs?ref=f6fd7546804dd25d4996196dbc9653bde2b4a131", "patch": "@@ -661,6 +661,16 @@ impl AliasRelationDirection {\n     }\n }\n \n+impl std::fmt::Display for AliasRelationDirection {\n+    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {\n+        match self {\n+            AliasRelationDirection::Equate => write!(f, \" == \"),\n+            AliasRelationDirection::Subtype => write!(f, \" <: \"),\n+            AliasRelationDirection::Supertype => write!(f, \" :> \"),\n+        }\n+    }\n+}\n+\n /// The crate outlives map is computed during typeck and contains the\n /// outlives of every item in the local crate. You should not use it\n /// directly, because to do so will make your pass dependent on the"}, {"sha": "e9f8f2e58659274bb2fb7add6ee341d1e3970a2c", "filename": "compiler/rustc_middle/src/ty/print/pretty.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f6fd7546804dd25d4996196dbc9653bde2b4a131/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6fd7546804dd25d4996196dbc9653bde2b4a131/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs?ref=f6fd7546804dd25d4996196dbc9653bde2b4a131", "patch": "@@ -2847,8 +2847,7 @@ define_print_and_forward_display! {\n                 p!(\"the type `\", print(ty), \"` is found in the environment\")\n             }\n             ty::PredicateKind::Ambiguous => p!(\"ambiguous\"),\n-            // TODO\n-            ty::PredicateKind::AliasRelate(t1, t2, _) => p!(print(t1), \" == \", print(t2)),\n+            ty::PredicateKind::AliasRelate(t1, t2, dir) => p!(print(t1), write(\" {} \", dir), print(t2)),\n         }\n     }\n "}, {"sha": "c6bb8146795869ef95866a097556ea79766fae97", "filename": "compiler/rustc_middle/src/ty/structural_impls.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f6fd7546804dd25d4996196dbc9653bde2b4a131/compiler%2Frustc_middle%2Fsrc%2Fty%2Fstructural_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6fd7546804dd25d4996196dbc9653bde2b4a131/compiler%2Frustc_middle%2Fsrc%2Fty%2Fstructural_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fstructural_impls.rs?ref=f6fd7546804dd25d4996196dbc9653bde2b4a131", "patch": "@@ -177,8 +177,9 @@ impl<'tcx> fmt::Debug for ty::PredicateKind<'tcx> {\n                 write!(f, \"TypeWellFormedFromEnv({:?})\", ty)\n             }\n             ty::PredicateKind::Ambiguous => write!(f, \"Ambiguous\"),\n-            // TODO\n-            ty::PredicateKind::AliasRelate(t1, t2, _) => write!(f, \"AliasRelate({t1:?}, {t2:?})\"),\n+            ty::PredicateKind::AliasRelate(t1, t2, dir) => {\n+                write!(f, \"AliasRelate({t1:?}, {dir:?}, {t2:?})\")\n+            }\n         }\n     }\n }"}]}