{"sha": "5282d7d060a37e419c2d829b085c4429064bab5b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUyODJkN2QwNjBhMzdlNDE5YzJkODI5YjA4NWM0NDI5MDY0YmFiNWI=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-07-23T14:27:24Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-07-27T10:05:01Z"}, "message": "Update affected tests.", "tree": {"sha": "7046e4cad14d4a6252d4085e5e55c2a638d675dd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7046e4cad14d4a6252d4085e5e55c2a638d675dd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5282d7d060a37e419c2d829b085c4429064bab5b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlta7k0ACgkQAXYLT59T\n8VTN1A/+L64F/JF0W2tmi/v4cu1A+an+mcH6JF6eWzrKEHSnlZrCDu2sB6QmfbX+\nD6qe98gOOXJSKrI5LvpsTayLAfofXsyG8EZwWN1gu6++0K65Lb0FFHVLepR/idkg\n5vhgAovr86dI6DIGbgr68WFQzUSunoGSjIVoOx+D7C3yiyEUBL3ZOTIFhmtZSJb5\naGLpWaMz9P7BCsz3yAwcA21V03Wr33sViRJdlIKH4ATWYj1QOKk7eppmAZktgaX9\nu7FKcaTd0T1cFgzkeq5fZu1Ncxwh5cFU5uQw49mj2LnHndjBYsxB2wGcRc7Tr6D2\nA2z40QOI1IkY/HNgGwwUZRRHpwuXuVMJCknPAzsNVTk1lmsyjvefiLcJWeWLmiWK\nRZqdai165Z0OO6H9KyI380lbPLcggOU/EGS1fzVjSyP3Anw/I/qxbUxDFvu50FBR\nPZpTS3nCvIo2bcja+qUcxTaBB5dE7Y6xNVoSAPwPoFLlZ5CqVsvbVycGOuX+9fYG\nDefSMqNqFsCyM1qicoYxPqHVAYJfM2UBFc5VXRYl4u1x/JEGTBDTYp3DbuRobpxP\nf2wyt0uyaFdQkWKsx03bY38UOsri4K618rOWw+SprHJ5Sj/3XWKuIYpRsAjTNZ17\n8Red4/XKL7YwLVOznntopE0JZslF9oCwlS2CqyTDYH0hhXpqpYM=\n=DpDr\n-----END PGP SIGNATURE-----", "payload": "tree 7046e4cad14d4a6252d4085e5e55c2a638d675dd\nparent d4be95f0ffb46c752293c951eeebebdadd336180\nauthor David Wood <david@davidtw.co> 1532356044 +0200\ncommitter David Wood <david@davidtw.co> 1532685901 +0200\n\nUpdate affected tests.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5282d7d060a37e419c2d829b085c4429064bab5b", "html_url": "https://github.com/rust-lang/rust/commit/5282d7d060a37e419c2d829b085c4429064bab5b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5282d7d060a37e419c2d829b085c4429064bab5b/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d4be95f0ffb46c752293c951eeebebdadd336180", "url": "https://api.github.com/repos/rust-lang/rust/commits/d4be95f0ffb46c752293c951eeebebdadd336180", "html_url": "https://github.com/rust-lang/rust/commit/d4be95f0ffb46c752293c951eeebebdadd336180"}], "stats": {"total": 44, "additions": 22, "deletions": 22}, "files": [{"sha": "77f0ab5d6bdd29ed51c63afc170a995b108440ee", "filename": "src/test/ui/error-codes/E0621-does-not-trigger-for-closures.nll.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Ferror-codes%2FE0621-does-not-trigger-for-closures.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Ferror-codes%2FE0621-does-not-trigger-for-closures.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0621-does-not-trigger-for-closures.nll.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -11,7 +11,7 @@ LL |     invoke(&x, |a, b| if a > b { a } else { b }); //~ ERROR E0495\n    |                ----------^^^^^-----------------\n    |                |   |     |\n    |                |   |     free region requires that `'1` must outlive `'2`\n-   |                |   lifetime `'1` appears in this argument\n+   |                |   has type `&'1i32`\n    |                lifetime `'2` appears in return type\n \n error: aborting due to previous error"}, {"sha": "312ec6e742e9164b4e276828cb51a247f2441a1f", "filename": "src/test/ui/issue-40510-1.nll.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fissue-40510-1.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fissue-40510-1.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-40510-1.nll.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -6,7 +6,7 @@ LL |        || {\n    |  |_____|\n    | ||\n LL | ||         &mut x\n-   | ||         ^^^^^^ free region requires that `'1` must outlive `'2`\n+   | ||         ^^^^^^ return requires that `'1` must outlive `'2`\n LL | ||     };\n    | ||     -\n    | ||_____|"}, {"sha": "fb5da7d7a19470cbf2c995230f6c4356c791174b", "filename": "src/test/ui/issue-52213.nll.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fissue-52213.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fissue-52213.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-52213.nll.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -5,10 +5,10 @@ LL |     match (&t,) { //~ ERROR cannot infer an appropriate lifetime\n    |           ^^^^^\n \n error: unsatisfied lifetime constraints\n-  --> $DIR/issue-52213.rs:13:11\n+  --> $DIR/issue-52213.rs:12:11\n    |\n-LL |         ((u,),) => u,\n-   |           ^ free region requires that `'a` must outlive `'b`\n+LL |     match (&t,) { //~ ERROR cannot infer an appropriate lifetime\n+   |           ^^^^^ free region requires that `'a` must outlive `'b`\n \n error: aborting due to previous error\n "}, {"sha": "365ef2bac39082432217227c2690c708f94846d8", "filename": "src/test/ui/issue-52533.nll.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fissue-52533.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fissue-52533.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-52533.nll.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -8,10 +8,10 @@ error: unsatisfied lifetime constraints\n   --> $DIR/issue-52533.rs:15:16\n    |\n LL |     foo(|a, b| b)\n-   |          -  -  ^ free region requires that `'1` must outlive `'2`\n+   |          -  -  ^ closure was supposed to return data with lifetime `'1` but it is returning data with lifetime `'2`\n    |          |  |\n-   |          |  lifetime `'1` appears in this argument\n-   |          lifetime `'2` appears in this argument\n+   |          |  has type `&'1u32`\n+   |          has type `&'2u32`\n \n error: aborting due to previous error\n "}, {"sha": "c7fdbe1685c4a702162d1f900f3813d313fe9580", "filename": "src/test/ui/nll/closure-requirements/escape-argument-callee.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fescape-argument-callee.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fescape-argument-callee.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fescape-argument-callee.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -10,8 +10,8 @@ error: unsatisfied lifetime constraints\n LL |         let mut closure = expect_sig(|p, y| *p = y);\n    |                                       -  -  ^^^^^^ free region requires that `'1` must outlive `'2`\n    |                                       |  |\n-   |                                       |  lifetime `'1` appears in this argument\n-   |                                       lifetime `'2` appears in this argument\n+   |                                       |  has type `&'1 i32`\n+   |                                       has type `&'2 mut &'3 i32`\n \n note: No external requirements\n   --> $DIR/escape-argument-callee.rs:36:38"}, {"sha": "6882b08f330784f48867859a4f35f5be488317cf", "filename": "src/test/ui/nll/closure-requirements/propagate-approximated-fail-no-postdom.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-approximated-fail-no-postdom.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-approximated-fail-no-postdom.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-approximated-fail-no-postdom.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -8,12 +8,12 @@ error: unsatisfied lifetime constraints\n   --> $DIR/propagate-approximated-fail-no-postdom.rs:57:13\n    |\n LL |         |_outlives1, _outlives2, _outlives3, x, y| {\n-   |          ----------              ---------- lifetime `'2` appears in this argument\n+   |          ----------              ---------- has type `std::cell::Cell<&'3 &'4 u32>`\n    |          |\n-   |          lifetime `'1` appears in this argument\n+   |          has type `std::cell::Cell<&'1 &'2 u32>`\n ...\n LL |             demand_y(x, y, p) //~ ERROR\n-   |             ^^^^^^^^^^^^^^^^^ argument requires that `'1` must outlive `'2`\n+   |             ^^^^^^^^^^^^^^^^^ argument requires that `'1` must outlive `'3`\n \n note: No external requirements\n   --> $DIR/propagate-approximated-fail-no-postdom.rs:53:9"}, {"sha": "771d1df2df0ba4bd52cd9d4aad2c380509435e26", "filename": "src/test/ui/nll/closure-requirements/propagate-fail-to-approximate-longer-no-bounds.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-fail-to-approximate-longer-no-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-fail-to-approximate-longer-no-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-fail-to-approximate-longer-no-bounds.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -8,12 +8,12 @@ error: unsatisfied lifetime constraints\n   --> $DIR/propagate-fail-to-approximate-longer-no-bounds.rs:47:9\n    |\n LL |     establish_relationships(&cell_a, &cell_b, |_outlives, x, y| {\n-   |                                                ---------  - lifetime `'1` appears in this argument\n+   |                                                ---------  - has type `&'1 std::cell::Cell<&'2 u32>`\n    |                                                |\n-   |                                                lifetime `'2` appears in this argument\n+   |                                                has type `&'3 std::cell::Cell<&'4 &'5 u32>`\n LL |         // Only works if 'x: 'y:\n LL |         demand_y(x, y, x.get())\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^ argument requires that `'1` must outlive `'2`\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^ argument requires that `'1` must outlive `'3`\n \n note: No external requirements\n   --> $DIR/propagate-fail-to-approximate-longer-no-bounds.rs:45:47"}, {"sha": "1ac52e5e56012fb53404f2c2567d22e476ddda33", "filename": "src/test/ui/nll/closure-requirements/propagate-fail-to-approximate-longer-wrong-bounds.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-fail-to-approximate-longer-wrong-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-fail-to-approximate-longer-wrong-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fpropagate-fail-to-approximate-longer-wrong-bounds.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -8,12 +8,12 @@ error: unsatisfied lifetime constraints\n   --> $DIR/propagate-fail-to-approximate-longer-wrong-bounds.rs:51:9\n    |\n LL |     establish_relationships(&cell_a, &cell_b, |_outlives1, _outlives2, x, y| {\n-   |                                                ----------  ---------- lifetime `'2` appears in this argument\n+   |                                                ----------  ---------- has type `&'4 std::cell::Cell<&'5 &'6 u32>`\n    |                                                |\n-   |                                                lifetime `'1` appears in this argument\n+   |                                                has type `&'1 std::cell::Cell<&'2 &'3 u32>`\n LL |         // Only works if 'x: 'y:\n LL |         demand_y(x, y, x.get())\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^ argument requires that `'1` must outlive `'2`\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^ argument requires that `'1` must outlive `'4`\n \n note: No external requirements\n   --> $DIR/propagate-fail-to-approximate-longer-wrong-bounds.rs:49:47"}, {"sha": "d6d1645ceeacc755a3b727c34dd40171d4a0019b", "filename": "src/test/ui/nll/closure-requirements/return-wrong-bound-region.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Freturn-wrong-bound-region.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5282d7d060a37e419c2d829b085c4429064bab5b/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Freturn-wrong-bound-region.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Freturn-wrong-bound-region.stderr?ref=5282d7d060a37e419c2d829b085c4429064bab5b", "patch": "@@ -8,10 +8,10 @@ error: unsatisfied lifetime constraints\n   --> $DIR/return-wrong-bound-region.rs:21:23\n    |\n LL |     expect_sig(|a, b| b); // ought to return `a`\n-   |                 -  -  ^ free region requires that `'1` must outlive `'2`\n+   |                 -  -  ^ closure was supposed to return data with lifetime `'1` but it is returning data with lifetime `'2`\n    |                 |  |\n-   |                 |  lifetime `'1` appears in this argument\n-   |                 lifetime `'2` appears in this argument\n+   |                 |  has type `&'1 i32`\n+   |                 has type `&'2 i32`\n \n note: No external requirements\n   --> $DIR/return-wrong-bound-region.rs:21:16"}]}