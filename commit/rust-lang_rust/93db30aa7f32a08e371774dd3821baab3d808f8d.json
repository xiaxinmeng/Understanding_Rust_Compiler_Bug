{"sha": "93db30aa7f32a08e371774dd3821baab3d808f8d", "node_id": "C_kwDOAAsO6NoAKDkzZGIzMGFhN2YzMmEwOGUzNzE3NzRkZDM4MjFiYWFiM2Q4MDhmOGQ", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-04-25T23:21:20Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-04-25T23:21:20Z"}, "message": "Rollup merge of #96149 - est31:remove_unused_macro_matchers, r=petrochenkov\n\nRemove unused macro rules\n\nRemoves rules of internal macros that weren't triggered.", "tree": {"sha": "7b0becc6232b29fc93ecb8e656a27e86dd766f89", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7b0becc6232b29fc93ecb8e656a27e86dd766f89"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/93db30aa7f32a08e371774dd3821baab3d808f8d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiZyzxCRBK7hj4Ov3rIwAA8eUIABWAVl22W2079YvyiDEWBrDh\n58KYqBiIOf6N9e5YAo+WTCnImtUkQLjGqWApqauZevdabvWbIEvhDt89vgevtJZT\n8q/HwO4DQMRZNaDgYREBYjOxpoEbS+Ss/vvAFZUa+k/9osLhrOWKNVjJ+Wpt91MC\nkBS2mEv81EaoaqQIWW1+z7GAbMBvDkzfHGWsfdY+wjIsThQ/dOAgP4TytF52IeJe\n3ai/ZwfQFuC6Z45f113WZ+GGaNM5rBC5cpoeyYaY47KSo1MTtDc3pPGyd1QXKihQ\ntPVLEpt7Qa0cRk+egCFfZ2MPLIPcho7CKU801DD4lyNwkZ36ux7KXLEX+PFyN4M=\n=3PIE\n-----END PGP SIGNATURE-----\n", "payload": "tree 7b0becc6232b29fc93ecb8e656a27e86dd766f89\nparent 51b86848ffc4f8fa33a9195ee0b927a12a4ed2a5\nparent 3c1e1661e7dbb5b0eb98f4f389878b3ed16f5171\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1650928880 +0200\ncommitter GitHub <noreply@github.com> 1650928880 +0200\n\nRollup merge of #96149 - est31:remove_unused_macro_matchers, r=petrochenkov\n\nRemove unused macro rules\n\nRemoves rules of internal macros that weren't triggered.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/93db30aa7f32a08e371774dd3821baab3d808f8d", "html_url": "https://github.com/rust-lang/rust/commit/93db30aa7f32a08e371774dd3821baab3d808f8d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/93db30aa7f32a08e371774dd3821baab3d808f8d/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51b86848ffc4f8fa33a9195ee0b927a12a4ed2a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/51b86848ffc4f8fa33a9195ee0b927a12a4ed2a5", "html_url": "https://github.com/rust-lang/rust/commit/51b86848ffc4f8fa33a9195ee0b927a12a4ed2a5"}, {"sha": "3c1e1661e7dbb5b0eb98f4f389878b3ed16f5171", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c1e1661e7dbb5b0eb98f4f389878b3ed16f5171", "html_url": "https://github.com/rust-lang/rust/commit/3c1e1661e7dbb5b0eb98f4f389878b3ed16f5171"}], "stats": {"total": 58, "additions": 0, "deletions": 58}, "files": [{"sha": "d2180408477044b1e7e795874d2ab212ab415a13", "filename": "compiler/rustc_errors/src/diagnostic_builder.rs", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs?ref=93db30aa7f32a08e371774dd3821baab3d808f8d", "patch": "@@ -255,19 +255,6 @@ impl EmissionGuarantee for ! {\n /// instead of a `&DiagnosticBuilder<'a>`. This `forward!` macro makes\n /// it easy to declare such methods on the builder.\n macro_rules! forward {\n-    // Forward pattern for &self -> &Self\n-    (\n-        $(#[$attrs:meta])*\n-        pub fn $n:ident(&self, $($name:ident: $ty:ty),* $(,)?) -> &Self\n-    ) => {\n-        $(#[$attrs])*\n-        #[doc = concat!(\"See [`Diagnostic::\", stringify!($n), \"()`].\")]\n-        pub fn $n(&self, $($name: $ty),*) -> &Self {\n-            self.diagnostic.$n($($name),*);\n-            self\n-        }\n-    };\n-\n     // Forward pattern for &mut self -> &mut Self\n     (\n         $(#[$attrs:meta])*"}, {"sha": "23c377651cc6c8f1595e4f329052e8411eeb60a1", "filename": "compiler/rustc_middle/src/ty/codec.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcodec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcodec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcodec.rs?ref=93db30aa7f32a08e371774dd3821baab3d808f8d", "patch": "@@ -453,9 +453,6 @@ macro_rules! impl_arena_allocatable_decoder {\n             }\n         }\n     };\n-    ([$ignore:ident $(, $attrs:ident)*]$args:tt) => {\n-        impl_arena_allocatable_decoder!([$($attrs),*]$args);\n-    };\n }\n \n macro_rules! impl_arena_allocatable_decoders {"}, {"sha": "7d6b8c760ff6a4e3fde8b1c60691e0322388bc3d", "filename": "compiler/rustc_serialize/src/serialize.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_serialize%2Fsrc%2Fserialize.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_serialize%2Fsrc%2Fserialize.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_serialize%2Fsrc%2Fserialize.rs?ref=93db30aa7f32a08e371774dd3821baab3d808f8d", "patch": "@@ -498,7 +498,6 @@ macro_rules! peel {\n /// Therefore, the recursion depth is the binary logarithm of the number of\n /// tokens to count, and the expanded tree is likewise very small.\n macro_rules! count {\n-    ()                     => (0usize);\n     ($one:tt)              => (1usize);\n     ($($pairs:tt $_p:tt)*) => (count!($($pairs)*) << 1usize);\n     ($odd:tt $($rest:tt)*) => (count!($($rest)*) | 1usize);"}, {"sha": "965a3c109832ba2cfa79b7a1075955f03a04bc7d", "filename": "compiler/rustc_target/src/spec/mod.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs?ref=93db30aa7f32a08e371774dd3821baab3d808f8d", "patch": "@@ -2249,10 +2249,6 @@ impl ToJson for Target {\n                 let name = (stringify!($attr)).replace(\"_\", \"-\");\n                 d.insert(name, self.$attr.to_json());\n             }};\n-            ($attr:ident, $key_name:expr) => {{\n-                let name = $key_name;\n-                d.insert(name.into(), self.$attr.to_json());\n-            }};\n         }\n \n         macro_rules! target_option_val {"}, {"sha": "7ef78e0b48af161015ef27375dee5755afcdc9df", "filename": "library/core/src/internal_macros.rs", "status": "modified", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/library%2Fcore%2Fsrc%2Finternal_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/library%2Fcore%2Fsrc%2Finternal_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Finternal_macros.rs?ref=93db30aa7f32a08e371774dd3821baab3d808f8d", "patch": "@@ -1,10 +1,6 @@\n // implements the unary operator \"op &T\"\n // based on \"op T\" where T is expected to be `Copy`able\n macro_rules! forward_ref_unop {\n-    (impl $imp:ident, $method:ident for $t:ty) => {\n-        forward_ref_unop!(impl $imp, $method for $t,\n-                #[stable(feature = \"rust1\", since = \"1.0.0\")]);\n-    };\n     (impl const $imp:ident, $method:ident for $t:ty) => {\n         forward_ref_unop!(impl const $imp, $method for $t,\n                 #[stable(feature = \"rust1\", since = \"1.0.0\")]);\n@@ -38,10 +34,6 @@ macro_rules! forward_ref_unop {\n // implements binary operators \"&T op U\", \"T op &U\", \"&T op &U\"\n // based on \"T op U\" where T and U are expected to be `Copy`able\n macro_rules! forward_ref_binop {\n-    (impl $imp:ident, $method:ident for $t:ty, $u:ty) => {\n-        forward_ref_binop!(impl $imp, $method for $t, $u,\n-                #[stable(feature = \"rust1\", since = \"1.0.0\")]);\n-    };\n     (impl const $imp:ident, $method:ident for $t:ty, $u:ty) => {\n         forward_ref_binop!(impl const $imp, $method for $t, $u,\n                 #[stable(feature = \"rust1\", since = \"1.0.0\")]);\n@@ -230,22 +222,6 @@ macro_rules! cfg_if {\n         }\n     };\n \n-    // match if/else chains lacking a final `else`\n-    (\n-        if #[cfg( $i_meta:meta )] { $( $i_tokens:tt )* }\n-        $(\n-            else if #[cfg( $e_meta:meta )] { $( $e_tokens:tt )* }\n-        )*\n-    ) => {\n-        cfg_if! {\n-            @__items () ;\n-            (( $i_meta ) ( $( $i_tokens )* )) ,\n-            $(\n-                (( $e_meta ) ( $( $e_tokens )* )) ,\n-            )*\n-        }\n-    };\n-\n     // Internal and recursive macro to emit all the items\n     //\n     // Collects all the previous cfgs in a list at the beginning, so they can be"}, {"sha": "ae8b938250ec9177f680902e7de4ff0ee7876dad", "filename": "library/core/tests/num/ops.rs", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/library%2Fcore%2Ftests%2Fnum%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/library%2Fcore%2Ftests%2Fnum%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Fnum%2Fops.rs?ref=93db30aa7f32a08e371774dd3821baab3d808f8d", "patch": "@@ -43,18 +43,6 @@ macro_rules! impls_defined {\n }\n \n macro_rules! test_op {\n-    ($fn_name:ident, $op:ident::$method:ident($lhs:literal, $rhs:literal), $result:literal, $($t:ty),+) => {\n-        #[test]\n-        fn $fn_name() {\n-            impls_defined!($op, $method($lhs, $rhs), $result, $($t),+);\n-        }\n-    };\n-    ($fn_name:ident, $op:ident::$method:ident(&mut $lhs:literal, $rhs:literal), $result:literal, $($t:ty),+) => {\n-        #[test]\n-        fn $fn_name() {\n-            impls_defined!($op, $method(&mut $lhs, $rhs), $result, $($t),+);\n-        }\n-    };\n     ($fn_name:ident, $op:ident::$method:ident($lhs:literal), $result:literal, $($t:ty),+) => {\n         #[test]\n         fn $fn_name() {"}, {"sha": "04fa696d5e6be936a97f505aef6e14b7869587ca", "filename": "library/proc_macro/src/quote.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/93db30aa7f32a08e371774dd3821baab3d808f8d/library%2Fproc_macro%2Fsrc%2Fquote.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93db30aa7f32a08e371774dd3821baab3d808f8d/library%2Fproc_macro%2Fsrc%2Fquote.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fproc_macro%2Fsrc%2Fquote.rs?ref=93db30aa7f32a08e371774dd3821baab3d808f8d", "patch": "@@ -12,7 +12,6 @@ macro_rules! quote_tt {\n     ({$($t:tt)*}) => { Group::new(Delimiter::Brace, quote!($($t)*)) };\n     (,) => { Punct::new(',', Spacing::Alone) };\n     (.) => { Punct::new('.', Spacing::Alone) };\n-    (:) => { Punct::new(':', Spacing::Alone) };\n     (;) => { Punct::new(';', Spacing::Alone) };\n     (!) => { Punct::new('!', Spacing::Alone) };\n     (<) => { Punct::new('<', Spacing::Alone) };"}]}