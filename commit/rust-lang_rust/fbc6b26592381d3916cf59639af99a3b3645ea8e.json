{"sha": "fbc6b26592381d3916cf59639af99a3b3645ea8e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZiYzZiMjY1OTIzODFkMzkxNmNmNTk2MzlhZjk5YTNiMzY0NWVhOGU=", "commit": {"author": {"name": "Luis de Bethencourt", "email": "luisbg@osg.samsung.com", "date": "2017-05-11T11:06:12Z"}, "committer": {"name": "Luis de Bethencourt", "email": "luisbg@osg.samsung.com", "date": "2017-05-11T15:22:32Z"}, "message": "clean tests/ui/eta.rs\n\nCleaning the empty lines for clarity.", "tree": {"sha": "6faea3b3bbfca01120819d66aa02f9613e73c4d3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6faea3b3bbfca01120819d66aa02f9613e73c4d3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fbc6b26592381d3916cf59639af99a3b3645ea8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fbc6b26592381d3916cf59639af99a3b3645ea8e", "html_url": "https://github.com/rust-lang/rust/commit/fbc6b26592381d3916cf59639af99a3b3645ea8e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fbc6b26592381d3916cf59639af99a3b3645ea8e/comments", "author": {"login": "luisbg", "id": 303663, "node_id": "MDQ6VXNlcjMwMzY2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/303663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luisbg", "html_url": "https://github.com/luisbg", "followers_url": "https://api.github.com/users/luisbg/followers", "following_url": "https://api.github.com/users/luisbg/following{/other_user}", "gists_url": "https://api.github.com/users/luisbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/luisbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luisbg/subscriptions", "organizations_url": "https://api.github.com/users/luisbg/orgs", "repos_url": "https://api.github.com/users/luisbg/repos", "events_url": "https://api.github.com/users/luisbg/events{/privacy}", "received_events_url": "https://api.github.com/users/luisbg/received_events", "type": "User", "site_admin": false}, "committer": {"login": "luisbg", "id": 303663, "node_id": "MDQ6VXNlcjMwMzY2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/303663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luisbg", "html_url": "https://github.com/luisbg", "followers_url": "https://api.github.com/users/luisbg/followers", "following_url": "https://api.github.com/users/luisbg/following{/other_user}", "gists_url": "https://api.github.com/users/luisbg/gists{/gist_id}", "starred_url": "https://api.github.com/users/luisbg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luisbg/subscriptions", "organizations_url": "https://api.github.com/users/luisbg/orgs", "repos_url": "https://api.github.com/users/luisbg/repos", "events_url": "https://api.github.com/users/luisbg/events{/privacy}", "received_events_url": "https://api.github.com/users/luisbg/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8fc00c57b6604f60599e18d18b0f1252d61df260", "url": "https://api.github.com/repos/rust-lang/rust/commits/8fc00c57b6604f60599e18d18b0f1252d61df260", "html_url": "https://github.com/rust-lang/rust/commit/8fc00c57b6604f60599e18d18b0f1252d61df260"}], "stats": {"total": 39, "additions": 12, "deletions": 27}, "files": [{"sha": "91e081f5ec672403370849da91830d4d1eeed605", "filename": "tests/ui/eta.rs", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/fbc6b26592381d3916cf59639af99a3b3645ea8e/tests%2Fui%2Feta.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fbc6b26592381d3916cf59639af99a3b3645ea8e/tests%2Fui%2Feta.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Feta.rs?ref=fbc6b26592381d3916cf59639af99a3b3645ea8e", "patch": "@@ -5,32 +5,18 @@\n \n fn main() {\n     let a = Some(1u8).map(|a| foo(a));\n-\n-\n-\n     meta(|a| foo(a));\n-\n-\n-\n     let c = Some(1u8).map(|a| {1+2; foo}(a));\n-\n-\n-\n     let d = Some(1u8).map(|a| foo((|b| foo2(b))(a))); //is adjusted?\n     all(&[1, 2, 3], &&2, |x, y| below(x, y)); //is adjusted\n-\n     unsafe {\n         Some(1u8).map(|a| unsafe_fn(a)); // unsafe fn\n     }\n \n     // See #815\n     let e = Some(1u8).map(|a| divergent(a));\n     let e = Some(1u8).map(|a| generic(a));\n-\n-\n-\n     let e = Some(1u8).map(generic);\n-\n     // See #515\n     let a: Option<Box<::std::ops::Deref<Target = [i32]>>> =\n         Some(vec![1i32, 2]).map(|v| -> Box<::std::ops::Deref<Target = [i32]>> { Box::new(v) });\n@@ -41,7 +27,6 @@ fn meta<F>(f: F) where F: Fn(u8) {\n }\n \n fn foo(_: u8) {\n-\n }\n \n fn foo2(_: u8) -> u8 {"}, {"sha": "b218523ba5f5d0083e542a84383bbade37088699", "filename": "tests/ui/eta.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/fbc6b26592381d3916cf59639af99a3b3645ea8e/tests%2Fui%2Feta.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/fbc6b26592381d3916cf59639af99a3b3645ea8e/tests%2Fui%2Feta.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Feta.stderr?ref=fbc6b26592381d3916cf59639af99a3b3645ea8e", "patch": "@@ -11,29 +11,29 @@ note: lint level defined here\n   |         ^^^^^^^^^^^^^^^^^\n \n error: redundant closure found\n-  --> $DIR/eta.rs:11:10\n-   |\n-11 |     meta(|a| foo(a));\n-   |          ^^^^^^^^^^ help: remove closure as shown: `foo`\n+ --> $DIR/eta.rs:8:10\n+  |\n+8 |     meta(|a| foo(a));\n+  |          ^^^^^^^^^^ help: remove closure as shown: `foo`\n \n error: redundant closure found\n-  --> $DIR/eta.rs:15:27\n-   |\n-15 |     let c = Some(1u8).map(|a| {1+2; foo}(a));\n-   |                           ^^^^^^^^^^^^^^^^^ help: remove closure as shown: `{1+2; foo}`\n+ --> $DIR/eta.rs:9:27\n+  |\n+9 |     let c = Some(1u8).map(|a| {1+2; foo}(a));\n+  |                           ^^^^^^^^^^^^^^^^^ help: remove closure as shown: `{1+2; foo}`\n \n warning: this expression borrows a reference that is immediately dereferenced by the compiler\n-  --> $DIR/eta.rs:20:21\n+  --> $DIR/eta.rs:11:21\n    |\n-20 |     all(&[1, 2, 3], &&2, |x, y| below(x, y)); //is adjusted\n+11 |     all(&[1, 2, 3], &&2, |x, y| below(x, y)); //is adjusted\n    |                     ^^^\n    |\n    = note: #[warn(needless_borrow)] on by default\n \n error: redundant closure found\n-  --> $DIR/eta.rs:28:27\n+  --> $DIR/eta.rs:18:27\n    |\n-28 |     let e = Some(1u8).map(|a| generic(a));\n+18 |     let e = Some(1u8).map(|a| generic(a));\n    |                           ^^^^^^^^^^^^^^ help: remove closure as shown: `generic`\n \n error: aborting due to 4 previous errors"}]}