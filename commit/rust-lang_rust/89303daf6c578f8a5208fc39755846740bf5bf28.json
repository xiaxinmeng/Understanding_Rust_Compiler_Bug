{"sha": "89303daf6c578f8a5208fc39755846740bf5bf28", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg5MzAzZGFmNmM1NzhmOGE1MjA4ZmMzOTc1NTg0Njc0MGJmNWJmMjg=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-03-22T18:54:58Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-03-22T18:54:58Z"}, "message": "Auto merge of #5353 - flip1995:conf_doc, r=Manishearth\n\nFix documentation generation for configurable lints\n\nIn #5135, the configuration macro changed, but the documentation generation script wasn't updated. This PR catches up on this.\n\n[Preview](https://flip1995.github.io/rust-clippy/master/index.html)\n\nr? @Manishearth\n\nchangelog: Document configuration options of lints again.", "tree": {"sha": "d45023c0ec2f17ccc3023ab1ae67b457c9ea183c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d45023c0ec2f17ccc3023ab1ae67b457c9ea183c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/89303daf6c578f8a5208fc39755846740bf5bf28", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/89303daf6c578f8a5208fc39755846740bf5bf28", "html_url": "https://github.com/rust-lang/rust/commit/89303daf6c578f8a5208fc39755846740bf5bf28", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/89303daf6c578f8a5208fc39755846740bf5bf28/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e5e2c436584ca9ad02d3c7edec8ffa116f1419f", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e5e2c436584ca9ad02d3c7edec8ffa116f1419f", "html_url": "https://github.com/rust-lang/rust/commit/0e5e2c436584ca9ad02d3c7edec8ffa116f1419f"}, {"sha": "a1dc609f2182be97caf23fc22ab02d962033c8e9", "url": "https://api.github.com/repos/rust-lang/rust/commits/a1dc609f2182be97caf23fc22ab02d962033c8e9", "html_url": "https://github.com/rust-lang/rust/commit/a1dc609f2182be97caf23fc22ab02d962033c8e9"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "16cc6ccfdae3730ceb353cb2181360f9b978e235", "filename": "util/lintlib.py", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/89303daf6c578f8a5208fc39755846740bf5bf28/util%2Flintlib.py", "raw_url": "https://github.com/rust-lang/rust/raw/89303daf6c578f8a5208fc39755846740bf5bf28/util%2Flintlib.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Flintlib.py?ref=89303daf6c578f8a5208fc39755846740bf5bf28", "patch": "@@ -14,7 +14,7 @@\n group_re = re.compile(r'''\\s*([a-z_][a-z_0-9]+)''')\n conf_re = re.compile(r'''define_Conf! {\\n([^}]*)\\n}''', re.MULTILINE)\n confvar_re = re.compile(\n-    r'''/// Lint: (\\w+). (.*).*\\n\\s*\\([^,]+,\\s+\"([^\"]+)\",\\s+([^=\\)]+)=>\\s+(.*)\\),''', re.MULTILINE)\n+    r'''/// Lint: (\\w+)\\. (.*)\\n\\s*\\([^,]+,\\s+\"([^\"]+)\":\\s+([^,]+),\\s+([^\\.\\)]+).*\\),''', re.MULTILINE)\n comment_re = re.compile(r'''\\s*/// ?(.*)''')\n \n lint_levels = {\n@@ -93,7 +93,7 @@ def parse_configs(path):\n     match = re.search(conf_re, contents)\n     confvars = re.findall(confvar_re, match.group(1))\n \n-    for (lint, doc, name, default, ty) in confvars:\n+    for (lint, doc, name, ty, default) in confvars:\n         configs[lint.lower()] = Config(name.replace(\"_\", \"-\"), ty, doc, default)\n \n     return configs"}]}