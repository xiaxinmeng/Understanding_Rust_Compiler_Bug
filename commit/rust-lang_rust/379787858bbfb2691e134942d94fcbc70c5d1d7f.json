{"sha": "379787858bbfb2691e134942d94fcbc70c5d1d7f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3OTc4Nzg1OGJiZmIyNjkxZTEzNDk0MmQ5NGZjYmM3MGM1ZDFkN2Y=", "commit": {"author": {"name": "Benjamin Coenen", "email": "5719034+bnjjj@users.noreply.github.com", "date": "2020-04-17T08:59:04Z"}, "committer": {"name": "Benjamin Coenen", "email": "5719034+bnjjj@users.noreply.github.com", "date": "2020-04-17T08:59:04Z"}, "message": "feat: improve dot completions with scoring\n\nSigned-off-by: Benjamin Coenen <5719034+bnjjj@users.noreply.github.com>", "tree": {"sha": "bdd00e7636f7e89f38a0bc601899a27038140f5b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bdd00e7636f7e89f38a0bc601899a27038140f5b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/379787858bbfb2691e134942d94fcbc70c5d1d7f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/379787858bbfb2691e134942d94fcbc70c5d1d7f", "html_url": "https://github.com/rust-lang/rust/commit/379787858bbfb2691e134942d94fcbc70c5d1d7f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/379787858bbfb2691e134942d94fcbc70c5d1d7f/comments", "author": {"login": "bnjjj", "id": 5719034, "node_id": "MDQ6VXNlcjU3MTkwMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5719034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bnjjj", "html_url": "https://github.com/bnjjj", "followers_url": "https://api.github.com/users/bnjjj/followers", "following_url": "https://api.github.com/users/bnjjj/following{/other_user}", "gists_url": "https://api.github.com/users/bnjjj/gists{/gist_id}", "starred_url": "https://api.github.com/users/bnjjj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bnjjj/subscriptions", "organizations_url": "https://api.github.com/users/bnjjj/orgs", "repos_url": "https://api.github.com/users/bnjjj/repos", "events_url": "https://api.github.com/users/bnjjj/events{/privacy}", "received_events_url": "https://api.github.com/users/bnjjj/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bnjjj", "id": 5719034, "node_id": "MDQ6VXNlcjU3MTkwMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5719034?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bnjjj", "html_url": "https://github.com/bnjjj", "followers_url": "https://api.github.com/users/bnjjj/followers", "following_url": "https://api.github.com/users/bnjjj/following{/other_user}", "gists_url": "https://api.github.com/users/bnjjj/gists{/gist_id}", "starred_url": "https://api.github.com/users/bnjjj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bnjjj/subscriptions", "organizations_url": "https://api.github.com/users/bnjjj/orgs", "repos_url": "https://api.github.com/users/bnjjj/repos", "events_url": "https://api.github.com/users/bnjjj/events{/privacy}", "received_events_url": "https://api.github.com/users/bnjjj/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18802ebe41eb88688c6619b3a975b73d2823baea", "url": "https://api.github.com/repos/rust-lang/rust/commits/18802ebe41eb88688c6619b3a975b73d2823baea", "html_url": "https://github.com/rust-lang/rust/commit/18802ebe41eb88688c6619b3a975b73d2823baea"}], "stats": {"total": 6, "additions": 1, "deletions": 5}, "files": [{"sha": "46e2431924350da986489044076205c0a08d11cd", "filename": "crates/ra_ide/src/completion/completion_context.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/379787858bbfb2691e134942d94fcbc70c5d1d7f/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "raw_url": "https://github.com/rust-lang/rust/raw/379787858bbfb2691e134942d94fcbc70c5d1d7f/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs?ref=379787858bbfb2691e134942d94fcbc70c5d1d7f", "patch": "@@ -11,7 +11,7 @@ use ra_syntax::{\n };\n use ra_text_edit::AtomTextEdit;\n \n-use crate::{call_info::call_info, completion::CompletionConfig, CallInfo, FilePosition};\n+use crate::{completion::CompletionConfig, FilePosition};\n \n /// `CompletionContext` is created early during completion to figure out, where\n /// exactly is the cursor, syntax-wise.\n@@ -34,7 +34,6 @@ pub(crate) struct CompletionContext<'a> {\n     pub(super) record_pat_syntax: Option<ast::RecordPat>,\n     pub(super) record_field_syntax: Option<ast::RecordField>,\n     pub(super) impl_def: Option<ast::ImplDef>,\n-    pub(super) call_info: Option<CallInfo>,\n     pub(super) is_param: bool,\n     /// If a name-binding or reference to a const in a pattern.\n     /// Irrefutable patterns (like let) are excluded.\n@@ -95,7 +94,6 @@ impl<'a> CompletionContext<'a> {\n             krate,\n             name_ref_syntax: None,\n             function_syntax: None,\n-            call_info: None,\n             use_item_syntax: None,\n             record_lit_syntax: None,\n             record_pat_syntax: None,\n@@ -268,8 +266,6 @@ impl<'a> CompletionContext<'a> {\n         self.use_item_syntax =\n             self.sema.ancestors_with_macros(self.token.parent()).find_map(ast::UseItem::cast);\n \n-        self.call_info = call_info(self.db, self.file_position);\n-\n         self.function_syntax = self\n             .sema\n             .ancestors_with_macros(self.token.parent())"}]}