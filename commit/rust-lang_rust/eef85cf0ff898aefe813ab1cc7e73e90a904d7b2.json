{"sha": "eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVlZjg1Y2YwZmY4OThhZWZlODEzYWIxY2M3ZTczZTkwYTkwNGQ3YjI=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2017-12-18T20:42:58Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2017-12-20T19:43:47Z"}, "message": "Add tests checking taht \"priority\" of qpath recovery is higher than unary and binary operators", "tree": {"sha": "660c7f6c8fe3a02ff5089a2896da88e6e4ccaf21", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/660c7f6c8fe3a02ff5089a2896da88e6e4ccaf21"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "html_url": "https://github.com/rust-lang/rust/commit/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a68098e87bdc5a73c6714064eb1627590b4c0bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a68098e87bdc5a73c6714064eb1627590b4c0bc", "html_url": "https://github.com/rust-lang/rust/commit/9a68098e87bdc5a73c6714064eb1627590b4c0bc"}], "stats": {"total": 100, "additions": 97, "deletions": 3}, "files": [{"sha": "779aa952c81b9d0848c34355f8aa4aebfcb2e399", "filename": "src/test/ui/did_you_mean/bad-assoc-expr.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-expr.rs?ref=eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "patch": "@@ -21,4 +21,10 @@ fn main() {\n \n     (u8, u8)::clone(&(0, 0));\n     //~^ ERROR missing angle brackets in associated item path\n+\n+    &(u8)::clone(&0);\n+    //~^ ERROR missing angle brackets in associated item path\n+\n+    10 + (u8)::clone(&0);\n+    //~^ ERROR missing angle brackets in associated item path\n }"}, {"sha": "1affdc5fda208965baab0b33f5fcc0a9874c5d17", "filename": "src/test/ui/did_you_mean/bad-assoc-expr.stderr", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-expr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-expr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-expr.stderr?ref=eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "patch": "@@ -22,5 +22,17 @@ error: missing angle brackets in associated item path\n 22 |     (u8, u8)::clone(&(0, 0));\n    |     ^^^^^^^^^^^^^^^ help: try: `<(u8, u8)>::clone`\n \n-error: aborting due to 4 previous errors\n+error: missing angle brackets in associated item path\n+  --> $DIR/bad-assoc-expr.rs:25:6\n+   |\n+25 |     &(u8)::clone(&0);\n+   |      ^^^^^^^^^^^ help: try: `<(u8)>::clone`\n+\n+error: missing angle brackets in associated item path\n+  --> $DIR/bad-assoc-expr.rs:28:10\n+   |\n+28 |     10 + (u8)::clone(&0);\n+   |          ^^^^^^^^^^^ help: try: `<(u8)>::clone`\n+\n+error: aborting due to 6 previous errors\n "}, {"sha": "bf6be0ee98545c9749672222438346791ecb9fb2", "filename": "src/test/ui/did_you_mean/bad-assoc-pat.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-pat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-pat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-pat.rs?ref=eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "patch": "@@ -20,4 +20,9 @@ fn main() {\n         //~^ ERROR missing angle brackets in associated item path\n         //~| ERROR no associated item named `AssocItem` found for type `_` in the current scope\n     }\n+    match &0u8 {\n+        &(u8,)::AssocItem => {}\n+        //~^ ERROR missing angle brackets in associated item path\n+        //~| ERROR no associated item named `AssocItem` found for type `(u8,)` in the current scope\n+    }\n }"}, {"sha": "1ca4576d88f609203ec8359d0a0bbfdd2708074f", "filename": "src/test/ui/did_you_mean/bad-assoc-pat.stderr", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-pat.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-pat.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-pat.stderr?ref=eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "patch": "@@ -16,6 +16,12 @@ error: missing angle brackets in associated item path\n 19 |         _::AssocItem => {}\n    |         ^^^^^^^^^^^^ help: try: `<_>::AssocItem`\n \n+error: missing angle brackets in associated item path\n+  --> $DIR/bad-assoc-pat.rs:24:10\n+   |\n+24 |         &(u8,)::AssocItem => {}\n+   |          ^^^^^^^^^^^^^^^^ help: try: `<(u8,)>::AssocItem`\n+\n error[E0599]: no associated item named `AssocItem` found for type `[u8]` in the current scope\n   --> $DIR/bad-assoc-pat.rs:13:9\n    |\n@@ -34,5 +40,11 @@ error[E0599]: no associated item named `AssocItem` found for type `_` in the cur\n 19 |         _::AssocItem => {}\n    |         ^^^^^^^^^^^^ associated item not found in `_`\n \n-error: aborting due to 6 previous errors\n+error[E0599]: no associated item named `AssocItem` found for type `(u8,)` in the current scope\n+  --> $DIR/bad-assoc-pat.rs:24:10\n+   |\n+24 |         &(u8,)::AssocItem => {}\n+   |          ^^^^^^^^^^^^^^^^ associated item not found in `(u8,)`\n+\n+error: aborting due to 8 previous errors\n "}, {"sha": "74305b73f99c0ab337517871c4f523086df3eac3", "filename": "src/test/ui/did_you_mean/bad-assoc-ty.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.rs?ref=eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "patch": "@@ -28,4 +28,21 @@ type E = _::AssocTy;\n //~^ ERROR missing angle brackets in associated item path\n //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n+type F = &'static (u8)::AssocTy;\n+//~^ ERROR missing angle brackets in associated item path\n+//~| ERROR ambiguous associated type\n+\n+// Qualified paths cannot appear in bounds, so the recovery\n+// should apply to the whole sum and not `(Send)`.\n+type G = 'static + (Send)::AssocTy;\n+//~^ ERROR missing angle brackets in associated item path\n+//~| ERROR ambiguous associated type\n+\n+// FIXME\n+// This is actually a legal path with fn-like generic arguments in the middle!\n+// Recovery should not apply in this context.\n+type H = Fn(u8) -> (u8)::Output;\n+//~^ ERROR missing angle brackets in associated item path\n+//~| ERROR ambiguous associated type\n+\n fn main() {}"}, {"sha": "a11be411fed9d1017c8aee776ed9f1db8f21c542", "filename": "src/test/ui/did_you_mean/bad-assoc-ty.stderr", "status": "modified", "additions": 43, "deletions": 1, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/eef85cf0ff898aefe813ab1cc7e73e90a904d7b2/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.stderr?ref=eef85cf0ff898aefe813ab1cc7e73e90a904d7b2", "patch": "@@ -28,6 +28,24 @@ error: missing angle brackets in associated item path\n 27 | type E = _::AssocTy;\n    |          ^^^^^^^^^^ help: try: `<_>::AssocTy`\n \n+error: missing angle brackets in associated item path\n+  --> $DIR/bad-assoc-ty.rs:31:19\n+   |\n+31 | type F = &'static (u8)::AssocTy;\n+   |                   ^^^^^^^^^^^^^ help: try: `<(u8)>::AssocTy`\n+\n+error: missing angle brackets in associated item path\n+  --> $DIR/bad-assoc-ty.rs:37:10\n+   |\n+37 | type G = 'static + (Send)::AssocTy;\n+   |          ^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `< 'static + Send>::AssocTy`\n+\n+error: missing angle brackets in associated item path\n+  --> $DIR/bad-assoc-ty.rs:44:20\n+   |\n+44 | type H = Fn(u8) -> (u8)::Output;\n+   |                    ^^^^^^^^^^^^ help: try: `<(u8)>::Output`\n+\n error[E0223]: ambiguous associated type\n   --> $DIR/bad-assoc-ty.rs:11:10\n    |\n@@ -66,5 +84,29 @@ error[E0121]: the type placeholder `_` is not allowed within types on item signa\n 27 | type E = _::AssocTy;\n    |          ^ not allowed in type signatures\n \n-error: aborting due to 10 previous errors\n+error[E0223]: ambiguous associated type\n+  --> $DIR/bad-assoc-ty.rs:31:19\n+   |\n+31 | type F = &'static (u8)::AssocTy;\n+   |                   ^^^^^^^^^^^^^ ambiguous associated type\n+   |\n+   = note: specify the type using the syntax `<u8 as Trait>::AssocTy`\n+\n+error[E0223]: ambiguous associated type\n+  --> $DIR/bad-assoc-ty.rs:37:10\n+   |\n+37 | type G = 'static + (Send)::AssocTy;\n+   |          ^^^^^^^^^^^^^^^^^^^^^^^^^ ambiguous associated type\n+   |\n+   = note: specify the type using the syntax `<std::marker::Send + 'static as Trait>::AssocTy`\n+\n+error[E0223]: ambiguous associated type\n+  --> $DIR/bad-assoc-ty.rs:44:20\n+   |\n+44 | type H = Fn(u8) -> (u8)::Output;\n+   |                    ^^^^^^^^^^^^ ambiguous associated type\n+   |\n+   = note: specify the type using the syntax `<u8 as Trait>::Output`\n+\n+error: aborting due to 16 previous errors\n "}]}