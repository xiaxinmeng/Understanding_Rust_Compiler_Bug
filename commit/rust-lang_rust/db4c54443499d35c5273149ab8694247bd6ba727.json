{"sha": "db4c54443499d35c5273149ab8694247bd6ba727", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRiNGM1NDQ0MzQ5OWQzNWM1MjczMTQ5YWI4Njk0MjQ3YmQ2YmE3Mjc=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2021-04-29T19:12:46Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2021-04-29T19:13:36Z"}, "message": "Remove tests introduced or cahnged by PR #77885, which is reverted in this PR.", "tree": {"sha": "f3f1809c38808d2f296bc85024e300a04a839c00", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f3f1809c38808d2f296bc85024e300a04a839c00"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/db4c54443499d35c5273149ab8694247bd6ba727", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/db4c54443499d35c5273149ab8694247bd6ba727", "html_url": "https://github.com/rust-lang/rust/commit/db4c54443499d35c5273149ab8694247bd6ba727", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/db4c54443499d35c5273149ab8694247bd6ba727/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8d1083e319841624f64400e1524805a40d725439", "url": "https://api.github.com/repos/rust-lang/rust/commits/8d1083e319841624f64400e1524805a40d725439", "html_url": "https://github.com/rust-lang/rust/commit/8d1083e319841624f64400e1524805a40d725439"}], "stats": {"total": 44, "additions": 0, "deletions": 44}, "files": [{"sha": "9597e242f1b0f6b743a800e932f3975b7c000c18", "filename": "src/test/assembly/stack-probes.rs", "status": "removed", "additions": 0, "deletions": 42, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/8d1083e319841624f64400e1524805a40d725439/src%2Ftest%2Fassembly%2Fstack-probes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d1083e319841624f64400e1524805a40d725439/src%2Ftest%2Fassembly%2Fstack-probes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fassembly%2Fstack-probes.rs?ref=8d1083e319841624f64400e1524805a40d725439", "patch": "@@ -1,42 +0,0 @@\n-// min-llvm-version: 11.0.1\n-// revisions: x86_64 i686\n-// assembly-output: emit-asm\n-//[x86_64] compile-flags: --target x86_64-unknown-linux-gnu\n-//[i686] compile-flags: --target i686-unknown-linux-gnu\n-// compile-flags: -C llvm-args=--x86-asm-syntax=intel\n-\n-#![feature(no_core, lang_items)]\n-#![crate_type = \"lib\"]\n-#![no_core]\n-\n-#[lang = \"sized\"]\n-trait Sized {}\n-#[lang = \"copy\"]\n-trait Copy {}\n-\n-impl Copy for u8 {}\n-\n-// Check that inline-asm stack probes are generated correctly.\n-// To avoid making this test fragile to slight asm changes,\n-// we only check that the stack pointer is decremented by a page at a time,\n-// instead of matching the whole probe sequence.\n-\n-// CHECK-LABEL: small_stack_probe:\n-#[no_mangle]\n-pub fn small_stack_probe(x: u8, f: fn([u8; 8192])) {\n-    // CHECK-NOT: __rust_probestack\n-    // x86_64: sub rsp, 4096\n-    // i686: sub esp, 4096\n-    let a = [x; 8192];\n-    f(a);\n-}\n-\n-// CHECK-LABEL: big_stack_probe:\n-#[no_mangle]\n-pub fn big_stack_probe(x: u8, f: fn([u8; 65536])) {\n-    // CHECK-NOT: __rust_probestack\n-    // x86_64: sub rsp, 4096\n-    // i686: sub esp, 4096\n-    let a = [x; 65536];\n-    f(a);\n-}"}, {"sha": "9bd351df3eaa069d45a1356c1582fc2b638382de", "filename": "src/test/codegen/stack-probes.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db4c54443499d35c5273149ab8694247bd6ba727/src%2Ftest%2Fcodegen%2Fstack-probes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db4c54443499d35c5273149ab8694247bd6ba727/src%2Ftest%2Fcodegen%2Fstack-probes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstack-probes.rs?ref=db4c54443499d35c5273149ab8694247bd6ba727", "patch": "@@ -13,12 +13,10 @@\n // ignore-emscripten\n // ignore-windows\n // compile-flags: -C no-prepopulate-passes\n-// min-llvm-version: 11.0.1\n \n #![crate_type = \"lib\"]\n \n #[no_mangle]\n pub fn foo() {\n // CHECK: @foo() unnamed_addr #0\n-// CHECK: attributes #0 = { {{.*}}\"probe-stack\"=\"inline-asm\"{{.*}} }\n }"}]}