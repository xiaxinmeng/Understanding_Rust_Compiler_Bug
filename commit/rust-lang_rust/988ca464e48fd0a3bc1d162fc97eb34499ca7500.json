{"sha": "988ca464e48fd0a3bc1d162fc97eb34499ca7500", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk4OGNhNDY0ZTQ4ZmQwYTNiYzFkMTYyZmM5N2ViMzQ0OTljYTc1MDA=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-06-25T16:25:53Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-06-25T16:25:53Z"}, "message": "Fix E0269 error explanation", "tree": {"sha": "42d57a35a272a6d57386dc4bec144973faa70f1e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/42d57a35a272a6d57386dc4bec144973faa70f1e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/988ca464e48fd0a3bc1d162fc97eb34499ca7500", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/988ca464e48fd0a3bc1d162fc97eb34499ca7500", "html_url": "https://github.com/rust-lang/rust/commit/988ca464e48fd0a3bc1d162fc97eb34499ca7500", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/988ca464e48fd0a3bc1d162fc97eb34499ca7500/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c128e9bb2e58d7e2fe9679ac81c33a859522d5a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/c128e9bb2e58d7e2fe9679ac81c33a859522d5a5", "html_url": "https://github.com/rust-lang/rust/commit/c128e9bb2e58d7e2fe9679ac81c33a859522d5a5"}], "stats": {"total": 40, "additions": 15, "deletions": 25}, "files": [{"sha": "9040e4bf8db5f23661174bb68a27822e63aa5d88", "filename": "src/librustc/diagnostics.rs", "status": "modified", "additions": 15, "deletions": 25, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/988ca464e48fd0a3bc1d162fc97eb34499ca7500/src%2Flibrustc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/988ca464e48fd0a3bc1d162fc97eb34499ca7500/src%2Flibrustc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdiagnostics.rs?ref=988ca464e48fd0a3bc1d162fc97eb34499ca7500", "patch": "@@ -673,45 +673,35 @@ extern \"C\" {\n \"##,\n \n E0269: r##\"\n-Functions must eventually return a value of their return type. For example, in\n-the following function:\n+A returned value was expected but not all control paths return one.\n+\n+Erroneous code example:\n \n ```compile_fail,E0269\n fn abracada_FAIL() -> String {\n     \"this won't work\".to_string();\n+    // error: not all control paths return a value\n }\n ```\n \n-If the condition is true, the value `x` is returned, but if the condition is\n-false, control exits the `if` block and reaches a place where nothing is being\n-returned. All possible control paths must eventually return a `u8`, which is not\n-happening here.\n-\n-An easy fix for this in a complicated function is to specify a default return\n-value, if possible:\n+In the previous code, the function is supposed to return a `String`, however,\n+the code returns nothing (because of the ';'). Another erroneous code would be:\n \n-```ignore\n-fn foo(x: u8) -> u8 {\n-    if x > 0 {\n-        x // alternatively, `return x`\n+```compile_fail\n+fn abracada_FAIL(b: bool) -> u32 {\n+    if b {\n+        0\n+    } else {\n+        \"a\" // It fails because an `u32` was expected and something else is\n+            // returned.\n     }\n-    // lots of other if branches\n-    0 // return 0 if all else fails\n }\n ```\n \n It is advisable to find out what the unhandled cases are and check for them,\n returning an appropriate value or panicking if necessary. Check if you need\n-to remove a semicolon from the last expression, like in this case:\n-\n-```ignore\n-fn foo(x: u8) -> u8 {\n-    inner(2*x + 1);\n-}\n-```\n-\n-The semicolon discards the return value of `inner`, instead of returning\n-it from `foo`.\n+to remove a semicolon from the last expression, like in the first erroneous\n+code example.\n \"##,\n \n E0270: r##\""}]}