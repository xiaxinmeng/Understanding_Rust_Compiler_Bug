{"sha": "b310a259f80210d3ea2b4eac4ab19cd611b6bfba", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIzMTBhMjU5ZjgwMjEwZDNlYTJiNGVhYzRhYjE5Y2Q2MTFiNmJmYmE=", "commit": {"author": {"name": "Marc-Antoine Perennou", "email": "Marc-Antoine@Perennou.com", "date": "2017-04-28T09:01:15Z"}, "committer": {"name": "Marc-Antoine Perennou", "email": "Marc-Antoine@Perennou.com", "date": "2017-05-16T06:21:26Z"}, "message": "rustbuild: allow configuring bindir\n\nSigned-off-by: Marc-Antoine Perennou <Marc-Antoine@Perennou.com>", "tree": {"sha": "e592472945f38a55c4ca4117b85e7607d05247d6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e592472945f38a55c4ca4117b85e7607d05247d6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b310a259f80210d3ea2b4eac4ab19cd611b6bfba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b310a259f80210d3ea2b4eac4ab19cd611b6bfba", "html_url": "https://github.com/rust-lang/rust/commit/b310a259f80210d3ea2b4eac4ab19cd611b6bfba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b310a259f80210d3ea2b4eac4ab19cd611b6bfba/comments", "author": {"login": "Keruspe", "id": 222942, "node_id": "MDQ6VXNlcjIyMjk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/222942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keruspe", "html_url": "https://github.com/Keruspe", "followers_url": "https://api.github.com/users/Keruspe/followers", "following_url": "https://api.github.com/users/Keruspe/following{/other_user}", "gists_url": "https://api.github.com/users/Keruspe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keruspe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keruspe/subscriptions", "organizations_url": "https://api.github.com/users/Keruspe/orgs", "repos_url": "https://api.github.com/users/Keruspe/repos", "events_url": "https://api.github.com/users/Keruspe/events{/privacy}", "received_events_url": "https://api.github.com/users/Keruspe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Keruspe", "id": 222942, "node_id": "MDQ6VXNlcjIyMjk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/222942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keruspe", "html_url": "https://github.com/Keruspe", "followers_url": "https://api.github.com/users/Keruspe/followers", "following_url": "https://api.github.com/users/Keruspe/following{/other_user}", "gists_url": "https://api.github.com/users/Keruspe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keruspe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keruspe/subscriptions", "organizations_url": "https://api.github.com/users/Keruspe/orgs", "repos_url": "https://api.github.com/users/Keruspe/repos", "events_url": "https://api.github.com/users/Keruspe/events{/privacy}", "received_events_url": "https://api.github.com/users/Keruspe/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae33d99bcd1c1f99b4605d2bb1150c590ffa3044", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae33d99bcd1c1f99b4605d2bb1150c590ffa3044", "html_url": "https://github.com/rust-lang/rust/commit/ae33d99bcd1c1f99b4605d2bb1150c590ffa3044"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "28ff14ab30fe26c5a183c909ff94094c1fd91b89", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b310a259f80210d3ea2b4eac4ab19cd611b6bfba/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b310a259f80210d3ea2b4eac4ab19cd611b6bfba/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=b310a259f80210d3ea2b4eac4ab19cd611b6bfba", "patch": "@@ -100,6 +100,7 @@ pub struct Config {\n     pub musl_root: Option<PathBuf>,\n     pub prefix: Option<PathBuf>,\n     pub docdir: Option<PathBuf>,\n+    pub bindir: Option<PathBuf>,\n     pub libdir: Option<PathBuf>,\n     pub libdir_relative: Option<PathBuf>,\n     pub mandir: Option<PathBuf>,\n@@ -165,9 +166,10 @@ struct Build {\n #[derive(RustcDecodable, Default, Clone)]\n struct Install {\n     prefix: Option<String>,\n-    mandir: Option<String>,\n     docdir: Option<String>,\n+    bindir: Option<String>,\n     libdir: Option<String>,\n+    mandir: Option<String>,\n }\n \n /// TOML representation of how the LLVM build is configured.\n@@ -315,9 +317,10 @@ impl Config {\n \n         if let Some(ref install) = toml.install {\n             config.prefix = install.prefix.clone().map(PathBuf::from);\n-            config.mandir = install.mandir.clone().map(PathBuf::from);\n             config.docdir = install.docdir.clone().map(PathBuf::from);\n+            config.bindir = install.bindir.clone().map(PathBuf::from);\n             config.libdir = install.libdir.clone().map(PathBuf::from);\n+            config.mandir = install.mandir.clone().map(PathBuf::from);\n         }\n \n         if let Some(ref llvm) = toml.llvm {\n@@ -526,6 +529,9 @@ impl Config {\n                 \"CFG_DOCDIR\" => {\n                     self.docdir = Some(PathBuf::from(value));\n                 }\n+                \"CFG_BINDIR\" => {\n+                    self.bindir = Some(PathBuf::from(value));\n+                }\n                 \"CFG_LIBDIR\" => {\n                     self.libdir = Some(PathBuf::from(value));\n                 }"}, {"sha": "57cafbaf28095b2e222992d0f66db73eacb28669", "filename": "src/bootstrap/config.toml.example", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b310a259f80210d3ea2b4eac4ab19cd611b6bfba/src%2Fbootstrap%2Fconfig.toml.example", "raw_url": "https://github.com/rust-lang/rust/raw/b310a259f80210d3ea2b4eac4ab19cd611b6bfba/src%2Fbootstrap%2Fconfig.toml.example", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.toml.example?ref=b310a259f80210d3ea2b4eac4ab19cd611b6bfba", "patch": "@@ -160,15 +160,18 @@\n # Instead of installing to /usr/local, install to this path instead.\n #prefix = \"/usr/local\"\n \n+# Where to install documentation in `prefix` above\n+#docdir = \"share/doc/rust\"\n+\n+# Where to install binaries in `prefix` above\n+#bindir = \"bin\"\n+\n # Where to install libraries in `prefix` above\n #libdir = \"lib\"\n \n # Where to install man pages in `prefix` above\n #mandir = \"share/man\"\n \n-# Where to install documentation in `prefix` above\n-#docdir = \"share/doc/rust\"\n-\n # =============================================================================\n # Options for compiling Rust code itself\n # ============================================================================="}]}