{"sha": "3eb642bcdd0ce547c4e361b1b8635c69aabb37ca", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlYjY0MmJjZGQwY2U1NDdjNGUzNjFiMWI4NjM1YzY5YWFiYjM3Y2E=", "commit": {"author": {"name": "laurent", "email": "laurent.mazare@gmail.com", "date": "2017-11-29T20:52:49Z"}, "committer": {"name": "laurent", "email": "laurent.mazare@gmail.com", "date": "2017-11-29T20:52:49Z"}, "message": "Add another test.", "tree": {"sha": "639df5f97fa80d24467cc49f32ecb6b7ef10f34e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/639df5f97fa80d24467cc49f32ecb6b7ef10f34e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca", "html_url": "https://github.com/rust-lang/rust/commit/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca/comments", "author": {"login": "LaurentMazare", "id": 1041292, "node_id": "MDQ6VXNlcjEwNDEyOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1041292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaurentMazare", "html_url": "https://github.com/LaurentMazare", "followers_url": "https://api.github.com/users/LaurentMazare/followers", "following_url": "https://api.github.com/users/LaurentMazare/following{/other_user}", "gists_url": "https://api.github.com/users/LaurentMazare/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaurentMazare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaurentMazare/subscriptions", "organizations_url": "https://api.github.com/users/LaurentMazare/orgs", "repos_url": "https://api.github.com/users/LaurentMazare/repos", "events_url": "https://api.github.com/users/LaurentMazare/events{/privacy}", "received_events_url": "https://api.github.com/users/LaurentMazare/received_events", "type": "User", "site_admin": false}, "committer": {"login": "LaurentMazare", "id": 1041292, "node_id": "MDQ6VXNlcjEwNDEyOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/1041292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LaurentMazare", "html_url": "https://github.com/LaurentMazare", "followers_url": "https://api.github.com/users/LaurentMazare/followers", "following_url": "https://api.github.com/users/LaurentMazare/following{/other_user}", "gists_url": "https://api.github.com/users/LaurentMazare/gists{/gist_id}", "starred_url": "https://api.github.com/users/LaurentMazare/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LaurentMazare/subscriptions", "organizations_url": "https://api.github.com/users/LaurentMazare/orgs", "repos_url": "https://api.github.com/users/LaurentMazare/repos", "events_url": "https://api.github.com/users/LaurentMazare/events{/privacy}", "received_events_url": "https://api.github.com/users/LaurentMazare/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f8dbd32433bce7e63f48604423ba8d88e2bf47aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/f8dbd32433bce7e63f48604423ba8d88e2bf47aa", "html_url": "https://github.com/rust-lang/rust/commit/f8dbd32433bce7e63f48604423ba8d88e2bf47aa"}], "stats": {"total": 38, "additions": 32, "deletions": 6}, "files": [{"sha": "7da2858d6ecd56fd1694a69552c9a5ffdccfddbf", "filename": "tests/ui/matches.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca/tests%2Fui%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca/tests%2Fui%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmatches.rs?ref=3eb642bcdd0ce547c4e361b1b8635c69aabb37ca", "patch": "@@ -285,6 +285,14 @@ fn match_wild_err_arm() {\n         Err(_) => println!(\"err\")\n     }\n \n+    // this is a current false positive, see #1996\n+    match x {\n+        Ok(3) => println!(\"ok\"),\n+        Ok(x) if x*x == 64 => println!(\"ok 64\"),\n+        Ok(_) => println!(\"ok\"),\n+        Err(_) => println!(\"err\")\n+    }\n+\n     match (x, Some(1i32)) {\n         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n         (Ok(_), Some(x)) => println!(\"ok {}\", x),"}, {"sha": "49c0e900d06117e9b5c9f51c83c73ac8ff0ac573", "filename": "tests/ui/matches.stderr", "status": "modified", "additions": 24, "deletions": 6, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca/tests%2Fui%2Fmatches.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3eb642bcdd0ce547c4e361b1b8635c69aabb37ca/tests%2Fui%2Fmatches.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmatches.stderr?ref=3eb642bcdd0ce547c4e361b1b8635c69aabb37ca", "patch": "@@ -391,20 +391,38 @@ note: consider refactoring into `Ok(3) | Ok(_)`\n     = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: this `match` has identical arm bodies\n-   --> $DIR/matches.rs:290:29\n+   --> $DIR/matches.rs:292:18\n     |\n-290 |         (Ok(_), Some(x)) => println!(\"ok {}\", x),\n+292 |         Ok(_) => println!(\"ok\"),\n+    |                  ^^^^^^^^^^^^^^\n+    |\n+note: same as this\n+   --> $DIR/matches.rs:290:18\n+    |\n+290 |         Ok(3) => println!(\"ok\"),\n+    |                  ^^^^^^^^^^^^^^\n+note: consider refactoring into `Ok(3) | Ok(_)`\n+   --> $DIR/matches.rs:290:18\n+    |\n+290 |         Ok(3) => println!(\"ok\"),\n+    |                  ^^^^^^^^^^^^^^\n+    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n+\n+error: this `match` has identical arm bodies\n+   --> $DIR/matches.rs:298:29\n+    |\n+298 |         (Ok(_), Some(x)) => println!(\"ok {}\", x),\n     |                             ^^^^^^^^^^^^^^^^^^^^\n     |\n note: same as this\n-   --> $DIR/matches.rs:289:29\n+   --> $DIR/matches.rs:297:29\n     |\n-289 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n+297 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n     |                             ^^^^^^^^^^^^^^^^^^^^\n note: consider refactoring into `(Ok(x), Some(_)) | (Ok(_), Some(x))`\n-   --> $DIR/matches.rs:289:29\n+   --> $DIR/matches.rs:297:29\n     |\n-289 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n+297 |         (Ok(x), Some(_)) => println!(\"ok {}\", x),\n     |                             ^^^^^^^^^^^^^^^^^^^^\n     = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n "}]}