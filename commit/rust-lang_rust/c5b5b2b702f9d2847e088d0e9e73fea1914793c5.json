{"sha": "c5b5b2b702f9d2847e088d0e9e73fea1914793c5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1YjViMmI3MDJmOWQyODQ3ZTA4OGQwZTllNzNmZWExOTE0NzkzYzU=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-03-10T19:53:05Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-03-10T19:53:05Z"}, "message": "Don't disable multithreading in libtest", "tree": {"sha": "7459c450d0495d3206e2c9e6ab9a0b352d2e042b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7459c450d0495d3206e2c9e6ab9a0b352d2e042b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c5b5b2b702f9d2847e088d0e9e73fea1914793c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c5b5b2b702f9d2847e088d0e9e73fea1914793c5", "html_url": "https://github.com/rust-lang/rust/commit/c5b5b2b702f9d2847e088d0e9e73fea1914793c5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c5b5b2b702f9d2847e088d0e9e73fea1914793c5/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8878d0079402d2cc0a0db731da71f18cd4d1880a", "url": "https://api.github.com/repos/rust-lang/rust/commits/8878d0079402d2cc0a0db731da71f18cd4d1880a", "html_url": "https://github.com/rust-lang/rust/commit/8878d0079402d2cc0a0db731da71f18cd4d1880a"}], "stats": {"total": 24, "additions": 0, "deletions": 24}, "files": [{"sha": "5998c26a4902fd7064c209a36b52933bbf7f0cd7", "filename": "patches/0017-Fix-libtest-compilation.patch", "status": "removed", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/8878d0079402d2cc0a0db731da71f18cd4d1880a/patches%2F0017-Fix-libtest-compilation.patch", "raw_url": "https://github.com/rust-lang/rust/raw/8878d0079402d2cc0a0db731da71f18cd4d1880a/patches%2F0017-Fix-libtest-compilation.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/patches%2F0017-Fix-libtest-compilation.patch?ref=8878d0079402d2cc0a0db731da71f18cd4d1880a", "patch": "@@ -1,24 +0,0 @@\n-From e06143d3373293d0490df482261cd4a842f1a5c5 Mon Sep 17 00:00:00 2001\n-From: bjorn3 <bjorn3@users.noreply.github.com>\n-Date: Thu, 3 Oct 2019 16:51:34 +0200\n-Subject: [PATCH] Fix libtest compilation\n-\n----\n- src/libtest/lib.rs | 28 ++++++++--------------------\n- 1 file changed, 8 insertions(+), 20 deletions(-)\n-\n-diff --git a/src/libtest/lib.rs b/src/libtest/lib.rs\n-index 8b76080..9e65de2 100644\n---- a/src/libtest/lib.rs\n-+++ b/src/libtest/lib.rs\n-@@ -1509,7 +1509,7 @@ pub fn run_test(\n-         // If the platform is single-threaded we're just going to run\n-         // the test synchronously, regardless of the concurrency\n-         // level.\n--        let supports_threads = !cfg!(target_os = \"emscripten\") && !cfg!(target_arch = \"wasm32\");\n-+        let supports_threads = false;\n-         if concurrency == Concurrent::Yes && supports_threads {\n-             let cfg = thread::Builder::new().name(name.as_slice().to_owned());\n-             cfg.spawn(runtest).unwrap();\n--- \n-2.20.1"}]}