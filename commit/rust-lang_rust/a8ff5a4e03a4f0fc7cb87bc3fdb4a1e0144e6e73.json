{"sha": "a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE4ZmY1YTRlMDNhNGYwZmM3Y2I4N2JjM2ZkYjRhMWUwMTQ0ZTZlNzM=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-10-24T20:39:59Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-10-24T20:39:59Z"}, "message": "Rollup merge of #78318 - bugadani:tyctx-impl, r=petrochenkov\n\nTyCtxt: generate single impl block with `slice_interners` macro\n\nReduces the work needed to check overlapping impls a bit.", "tree": {"sha": "39933b4c398339c5f457463486eafbcf1cedaeb7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/39933b4c398339c5f457463486eafbcf1cedaeb7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJflJEfCRBK7hj4Ov3rIwAAdHIIAA+vLH/vIdc6HwT0k9edfA6v\nDSUSuBt7HGiiLaRJaYMazfbygmTA2EfoOd5fF7aGC2P+Q+E5GnAm24162BXjoQZG\nE+Ry+11T80RJ64V8ZtirJNk3Pks2cfjq3rmLahmEirbQeYn4gtDgitrr6Qt1/cso\nReOgq4ZM0dq8SwqlVVxUfok2hZ8nUrWBWx4nODeF3NROiqqUev2no3f1n52GVIhH\neJ5ko27Y9TWow2Sokd2W6w4A1G9XZLA9NqO2yczrch6SCghLviQT3E+2gje4lPge\nSu/4LbxP+/q/4QTDy25iQ5GB1Cb4yBwY5BsfbgHUNKNVUpRd19c1QFtdWjR/4f8=\n=dSE0\n-----END PGP SIGNATURE-----\n", "payload": "tree 39933b4c398339c5f457463486eafbcf1cedaeb7\nparent 5ed8ac45d493698c0715ba02a90d7310298a9da0\nparent 6533d010cfe931f5f39f299b94eb4768855fe712\nauthor Jonas Schievink <jonasschievink@gmail.com> 1603571999 +0200\ncommitter GitHub <noreply@github.com> 1603571999 +0200\n\nRollup merge of #78318 - bugadani:tyctx-impl, r=petrochenkov\n\nTyCtxt: generate single impl block with `slice_interners` macro\n\nReduces the work needed to check overlapping impls a bit.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73", "html_url": "https://github.com/rust-lang/rust/commit/a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5ed8ac45d493698c0715ba02a90d7310298a9da0", "url": "https://api.github.com/repos/rust-lang/rust/commits/5ed8ac45d493698c0715ba02a90d7310298a9da0", "html_url": "https://github.com/rust-lang/rust/commit/5ed8ac45d493698c0715ba02a90d7310298a9da0"}, {"sha": "6533d010cfe931f5f39f299b94eb4768855fe712", "url": "https://api.github.com/repos/rust-lang/rust/commits/6533d010cfe931f5f39f299b94eb4768855fe712", "html_url": "https://github.com/rust-lang/rust/commit/6533d010cfe931f5f39f299b94eb4768855fe712"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "f6ea6743a0e0476a6dec16e2a0184d3ad5f3d7be", "filename": "compiler/rustc_middle/src/ty/context.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs?ref=a8ff5a4e03a4f0fc7cb87bc3fdb4a1e0144e6e73", "patch": "@@ -2036,13 +2036,13 @@ direct_interners! {\n \n macro_rules! slice_interners {\n     ($($field:ident: $method:ident($ty:ty)),+ $(,)?) => (\n-        $(impl<'tcx> TyCtxt<'tcx> {\n-            pub fn $method(self, v: &[$ty]) -> &'tcx List<$ty> {\n+        impl<'tcx> TyCtxt<'tcx> {\n+            $(pub fn $method(self, v: &[$ty]) -> &'tcx List<$ty> {\n                 self.interners.$field.intern_ref(v, || {\n                     Interned(List::from_arena(&*self.arena, v))\n                 }).0\n-            }\n-        })+\n+            })+\n+        }\n     );\n }\n "}]}