{"sha": "8ab5be13a31261317c0e4b52bd4743da03e5bf74", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhYjViZTEzYTMxMjYxMzE3YzBlNGI1MmJkNDc0M2RhMDNlNWJmNzQ=", "commit": {"author": {"name": "Masaki Hara", "email": "ackie.h.gmai@gmail.com", "date": "2018-11-18T15:19:14Z"}, "committer": {"name": "Masaki Hara", "email": "ackie.h.gmai@gmail.com", "date": "2018-11-21T13:20:22Z"}, "message": "Add tests verifying #50940.", "tree": {"sha": "2a1bfe8e5ae051cd3b891ad3857fc6d5a2e1f35a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a1bfe8e5ae051cd3b891ad3857fc6d5a2e1f35a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8ab5be13a31261317c0e4b52bd4743da03e5bf74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8ab5be13a31261317c0e4b52bd4743da03e5bf74", "html_url": "https://github.com/rust-lang/rust/commit/8ab5be13a31261317c0e4b52bd4743da03e5bf74", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8ab5be13a31261317c0e4b52bd4743da03e5bf74/comments", "author": {"login": "qnighy", "id": 41755, "node_id": "MDQ6VXNlcjQxNzU1", "avatar_url": "https://avatars.githubusercontent.com/u/41755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qnighy", "html_url": "https://github.com/qnighy", "followers_url": "https://api.github.com/users/qnighy/followers", "following_url": "https://api.github.com/users/qnighy/following{/other_user}", "gists_url": "https://api.github.com/users/qnighy/gists{/gist_id}", "starred_url": "https://api.github.com/users/qnighy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qnighy/subscriptions", "organizations_url": "https://api.github.com/users/qnighy/orgs", "repos_url": "https://api.github.com/users/qnighy/repos", "events_url": "https://api.github.com/users/qnighy/events{/privacy}", "received_events_url": "https://api.github.com/users/qnighy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "qnighy", "id": 41755, "node_id": "MDQ6VXNlcjQxNzU1", "avatar_url": "https://avatars.githubusercontent.com/u/41755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qnighy", "html_url": "https://github.com/qnighy", "followers_url": "https://api.github.com/users/qnighy/followers", "following_url": "https://api.github.com/users/qnighy/following{/other_user}", "gists_url": "https://api.github.com/users/qnighy/gists{/gist_id}", "starred_url": "https://api.github.com/users/qnighy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qnighy/subscriptions", "organizations_url": "https://api.github.com/users/qnighy/orgs", "repos_url": "https://api.github.com/users/qnighy/repos", "events_url": "https://api.github.com/users/qnighy/events{/privacy}", "received_events_url": "https://api.github.com/users/qnighy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b426232eef0629265bbfd0bc81fab75e113762b", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b426232eef0629265bbfd0bc81fab75e113762b", "html_url": "https://github.com/rust-lang/rust/commit/8b426232eef0629265bbfd0bc81fab75e113762b"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "3e5d39ab311509000c230009f630ad744c9f3f0f", "filename": "src/test/ui/unsized-locals/issue-50940-with-feature.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.rs?ref=8ab5be13a31261317c0e4b52bd4743da03e5bf74", "patch": "@@ -0,0 +1,7 @@\n+#![feature(unsized_locals)]\n+\n+fn main() {\n+    struct A<X: ?Sized>(X);\n+    A as fn(str) -> A<str>;\n+    //~^ERROR the size for values of type `str` cannot be known at compilation time\n+}"}, {"sha": "f4f015fa1906580163766991d7440ce76d97e64c", "filename": "src/test/ui/unsized-locals/issue-50940-with-feature.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940-with-feature.stderr?ref=8ab5be13a31261317c0e4b52bd4743da03e5bf74", "patch": "@@ -0,0 +1,14 @@\n+error[E0277]: the size for values of type `str` cannot be known at compilation time\n+  --> $DIR/issue-50940-with-feature.rs:5:5\n+   |\n+LL |     A as fn(str) -> A<str>;\n+   |     ^ doesn't have a size known at compile-time\n+   |\n+   = help: within `main::A<str>`, the trait `std::marker::Sized` is not implemented for `str`\n+   = note: to learn more, visit <https://doc.rust-lang.org/book/second-edition/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n+   = note: required because it appears within the type `main::A<str>`\n+   = note: the return type of a function must have a statically known size\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0277`."}, {"sha": "7ba809b7e83e3a3117f3fca835330481fb1c30cf", "filename": "src/test/ui/unsized-locals/issue-50940.rs", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.rs?ref=8ab5be13a31261317c0e4b52bd4743da03e5bf74", "patch": "@@ -0,0 +1,5 @@\n+fn main() {\n+    struct A<X: ?Sized>(X);\n+    A as fn(str) -> A<str>;\n+    //~^ERROR the size for values of type `str` cannot be known at compilation time\n+}"}, {"sha": "9f3669ccf1f15dbb662b54f37871da749d371fba", "filename": "src/test/ui/unsized-locals/issue-50940.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8ab5be13a31261317c0e4b52bd4743da03e5bf74/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fissue-50940.stderr?ref=8ab5be13a31261317c0e4b52bd4743da03e5bf74", "patch": "@@ -0,0 +1,14 @@\n+error[E0277]: the size for values of type `str` cannot be known at compilation time\n+  --> $DIR/issue-50940.rs:3:5\n+   |\n+LL |     A as fn(str) -> A<str>;\n+   |     ^ doesn't have a size known at compile-time\n+   |\n+   = help: the trait `std::marker::Sized` is not implemented for `str`\n+   = note: to learn more, visit <https://doc.rust-lang.org/book/second-edition/ch19-04-advanced-types.html#dynamically-sized-types-and-the-sized-trait>\n+   = note: all function arguments must have a statically known size\n+   = help: unsized locals are gated as an unstable feature\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0277`."}]}