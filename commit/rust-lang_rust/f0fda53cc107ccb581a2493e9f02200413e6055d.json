{"sha": "f0fda53cc107ccb581a2493e9f02200413e6055d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwZmRhNTNjYzEwN2NjYjU4MWEyNDkzZTlmMDIyMDA0MTNlNjA1NWQ=", "commit": {"author": {"name": "Danek Duvall", "email": "danek.duvall@oracle.com", "date": "2017-07-25T21:32:08Z"}, "committer": {"name": "Danek Duvall", "email": "danek.duvall@oracle.com", "date": "2017-07-25T21:32:08Z"}, "message": "Constrain the layout of Blake2bCtx for proper SPARC compilation\n\nOn SPARC, optimization fuel ends up emitting incorrect load and store\ninstructions for the transmute() call in blake2b_compress().  If we\nforce Blake2bCtx to be repr(C), the problem disappears.\n\nFixes #43346", "tree": {"sha": "bf9ba28997d16d5ce1e570673a4313fe83fd8c9b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bf9ba28997d16d5ce1e570673a4313fe83fd8c9b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f0fda53cc107ccb581a2493e9f02200413e6055d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f0fda53cc107ccb581a2493e9f02200413e6055d", "html_url": "https://github.com/rust-lang/rust/commit/f0fda53cc107ccb581a2493e9f02200413e6055d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f0fda53cc107ccb581a2493e9f02200413e6055d/comments", "author": null, "committer": null, "parents": [{"sha": "c417ee9ae8c30ac307c58591da46cf62e91caac1", "url": "https://api.github.com/repos/rust-lang/rust/commits/c417ee9ae8c30ac307c58591da46cf62e91caac1", "html_url": "https://github.com/rust-lang/rust/commit/c417ee9ae8c30ac307c58591da46cf62e91caac1"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "5adeef1ab3a6db5487265ac25fa444b3af8192a2", "filename": "src/librustc_data_structures/blake2b.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f0fda53cc107ccb581a2493e9f02200413e6055d/src%2Flibrustc_data_structures%2Fblake2b.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f0fda53cc107ccb581a2493e9f02200413e6055d/src%2Flibrustc_data_structures%2Fblake2b.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Fblake2b.rs?ref=f0fda53cc107ccb581a2493e9f02200413e6055d", "patch": "@@ -23,6 +23,7 @@\n use std::mem;\n use std::slice;\n \n+#[repr(C)]\n pub struct Blake2bCtx {\n     b: [u8; 128],\n     h: [u64; 8],"}]}