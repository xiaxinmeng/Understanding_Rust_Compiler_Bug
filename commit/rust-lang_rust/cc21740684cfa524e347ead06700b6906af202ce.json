{"sha": "cc21740684cfa524e347ead06700b6906af202ce", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNjMjE3NDA2ODRjZmE1MjRlMzQ3ZWFkMDY3MDBiNjkwNmFmMjAyY2U=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-10-20T09:40:28Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-10-20T09:40:28Z"}, "message": "Auto merge of #1587 - lzutao:only-gha, r=RalfJung\n\nbuild: Gate only on GHA: remove travis and appveyor ci config\n\nIt's been over a week since #1571 merged.\nThe GHA evaluation is successful.\n\nThis PR removes CI config of travis and appveyor.\nNow MIRI gates on github actions CI only.\n\nWill need <https://github.com/rust-lang/homu/pull/109> to merge first,\notherwise bors will stuck.\n\nAlso, one may need to remove `continuous-integration/appveyor/pr` CI checks\nin repo settings or appeveyor website.", "tree": {"sha": "1e43f4294b4f3cc52bb835bf3bcb1a12aa37a86b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1e43f4294b4f3cc52bb835bf3bcb1a12aa37a86b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cc21740684cfa524e347ead06700b6906af202ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cc21740684cfa524e347ead06700b6906af202ce", "html_url": "https://github.com/rust-lang/rust/commit/cc21740684cfa524e347ead06700b6906af202ce", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cc21740684cfa524e347ead06700b6906af202ce/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5380be209a8262abd3feafbb1c62a0018f97768", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5380be209a8262abd3feafbb1c62a0018f97768", "html_url": "https://github.com/rust-lang/rust/commit/d5380be209a8262abd3feafbb1c62a0018f97768"}, {"sha": "8462558b6c819e4dc9c82981f101fcb3e2853811", "url": "https://api.github.com/repos/rust-lang/rust/commits/8462558b6c819e4dc9c82981f101fcb3e2853811", "html_url": "https://github.com/rust-lang/rust/commit/8462558b6c819e4dc9c82981f101fcb3e2853811"}], "stats": {"total": 110, "additions": 0, "deletions": 110}, "files": [{"sha": "82c668f0e75d7a5efad441b3a8fc505920809efb", "filename": ".appveyor.yml", "status": "removed", "additions": 0, "deletions": 50, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/d5380be209a8262abd3feafbb1c62a0018f97768/.appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/d5380be209a8262abd3feafbb1c62a0018f97768/.appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.appveyor.yml?ref=d5380be209a8262abd3feafbb1c62a0018f97768", "patch": "@@ -1,50 +0,0 @@\n-build: off # No Visual Studio auto-build.\n-environment:\n-  global:\n-    PROJECT_NAME: miri\n-  matrix:\n-    - HOST_TARGET: i686-pc-windows-msvc\n-matrix:\n-  fast_finish: true # Immediately finish build once one of the jobs fails.\n-cache:\n-- '%USERPROFILE%\\.cargo'\n-- '%USERPROFILE%\\.rustup'\n-\n-# branches to build\n-branches:\n-  # whitelist\n-  only:\n-  - auto\n-  - try\n-\n-install:\n-# Compute the Rust version we use.\n-- set /p RUSTC_HASH=<rust-version\n-# Install Rust. We use the \"stable\" toolchain for better caching, it is just used to build `rustup-toolchain-install-master`.\n-# But we also need to take into account that the build cache might have a different, outdated default.\n-- curl -sSf --retry 3 -o rustup-init.exe https://win.rustup.rs/\n-- rustup-init.exe -y --default-host %HOST_TARGET% --default-toolchain none --profile minimal\n-- set PATH=%USERPROFILE%\\.cargo\\bin;%PATH%\n-- rustup default stable\n-- rustup toolchain uninstall beta nightly\n-- rustup update\n-# Install \"master\" toolchain.\n-- cargo install rustup-toolchain-install-master\n-- rustup-toolchain-install-master -f -n master %RUSTC_HASH% -c rust-src -c rustc-dev -c llvm-tools\n-- rustup default master\n-- rustc --version\n-- cargo --version\n-\n-test_script:\n-# Add python3 path: https://www.appveyor.com/docs/windows-images-software/#python\n-- set PATH=C:\\Python35-x64;%PATH%\n-- bash ci.sh\n-\n-after_test:\n-# Don't cache \"master\" toolchain, it's a waste.\n-- rustup default stable\n-- rustup toolchain uninstall master\n-\n-notifications:\n-- provider: Email\n-  on_build_success: false"}, {"sha": "86dcf78435b2b66ff5eaaf85c91d261d94a24eea", "filename": ".travis.yml", "status": "removed", "additions": 0, "deletions": 60, "changes": 60, "blob_url": "https://github.com/rust-lang/rust/blob/d5380be209a8262abd3feafbb1c62a0018f97768/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/d5380be209a8262abd3feafbb1c62a0018f97768/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=d5380be209a8262abd3feafbb1c62a0018f97768", "patch": "@@ -1,60 +0,0 @@\n-language: generic\n-jobs:\n-  include:\n-  - os: linux\n-    env: HOST_TARGET=x86_64-unknown-linux-gnu\n-  - os: osx\n-    env: HOST_TARGET=x86_64-apple-darwin\n-dist: xenial\n-cache:\n-  # Cache the global cargo directory, but NOT the local `target` directory which\n-  # we cannot reuse anyway when the nightly changes (and it grows quite large\n-  # over time).\n-  directories:\n-  - $HOME/.cargo\n-  - $HOME/.rustup\n-\n-# Run in PRs and for bors, but not on master.\n-branches:\n-  only:\n-  - master\n-  - auto\n-  - try\n-if: branch = auto OR branch = try OR type = pull_request OR type = cron\n-\n-before_script:\n-# Compute the Rust version we use. We do not use \"language: rust\" to have more control here.\n-- |\n-  if [[ \"$TRAVIS_EVENT_TYPE\" == cron ]]; then\n-    RUSTC_HASH=$(git ls-remote https://github.com/rust-lang/rust.git master | awk '{print $1}')\n-  else\n-    RUSTC_HASH=$(cat rust-version)\n-  fi\n-# Install Rust. We use the \"stable\" toolchain for better caching, it is just used to build `rustup-toolchain-install-master`.\n-# But we also need to take into account that the build cache might have a different, outdated default.\n-- curl https://build.travis-ci.org/files/rustup-init.sh -sSf | sh -s -- -y --default-toolchain none --profile minimal\n-- export PATH=$HOME/.cargo/bin:$PATH\n-- rustup default stable\n-- rustup toolchain uninstall beta nightly\n-- rustup update\n-# Install \"master\" toolchain.\n-- cargo install rustup-toolchain-install-master\n-- travis_retry rustup-toolchain-install-master -f -n master $RUSTC_HASH -c rust-src -c rustc-dev -c llvm-tools\n-- rustup default master\n-- rustc --version\n-- cargo --version\n-\n-script:\n-- ./ci.sh\n-\n-before_cache:\n-# Don't cache \"master\" toolchain, it's a waste.\n-- rustup default stable\n-- rustup toolchain uninstall master\n-\n-notifications:\n-  email:\n-    on_success: never\n-    recipients:\n-    - post+travis@ralfj.de\n-    - travis-miri@oli-obk.de"}]}