{"sha": "fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "node_id": "C_kwDOAAsO6NoAKGZiZDljMjg0ZDdmMDE4ZGIwN2RhOGFhNmUwM2NmZmRmMGNlMTc4NmI", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-03-08T17:11:29Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-03-08T22:12:11Z"}, "message": "Update GUI tests for impl blocks path changes", "tree": {"sha": "36723f3674b74f7f4d0326717d84039facc67a4a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/36723f3674b74f7f4d0326717d84039facc67a4a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "html_url": "https://github.com/rust-lang/rust/commit/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a5216cf67d93de97091b41ecba85de2e08f39863", "url": "https://api.github.com/repos/rust-lang/rust/commits/a5216cf67d93de97091b41ecba85de2e08f39863", "html_url": "https://github.com/rust-lang/rust/commit/a5216cf67d93de97091b41ecba85de2e08f39863"}], "stats": {"total": 20, "additions": 11, "deletions": 9}, "files": [{"sha": "af76d2ea42760c7fcbc3159f8566529858abc68b", "filename": "src/test/rustdoc-gui/docblock-table-overflow.goml", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fdocblock-table-overflow.goml?ref=fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "patch": "@@ -12,10 +12,10 @@ assert-property: (\".top-doc .docblock table\", {\"scrollWidth\": \"1573\"})\n \n // Logically, the \".docblock\" and the \"<p>\" should have the same scroll width.\n compare-elements-property: (\n-    \"#implementations + details .docblock\",\n-    \"#implementations + details .docblock > p\",\n+    \"#implementations-list > details .docblock\",\n+    \"#implementations-list > details .docblock > p\",\n     [\"scrollWidth\"],\n )\n-assert-property: (\"#implementations + details .docblock\", {\"scrollWidth\": \"801\"})\n+assert-property: (\"#implementations-list > details .docblock\", {\"scrollWidth\": \"801\"})\n // However, since there is overflow in the <table>, its scroll width is bigger.\n-assert-property: (\"#implementations + details .docblock table\", {\"scrollWidth\": \"1573\"})\n+assert-property: (\"#implementations-list > details .docblock table\", {\"scrollWidth\": \"1573\"})"}, {"sha": "861f6928362c28e841541b3d91620b56c828fd85", "filename": "src/test/rustdoc-gui/hash-item-expansion.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Fhash-item-expansion.goml", "raw_url": "https://github.com/rust-lang/rust/raw/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Fhash-item-expansion.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fhash-item-expansion.goml?ref=fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "patch": "@@ -3,9 +3,9 @@ goto: file://|DOC_PATH|/test_docs/struct.Foo.html#method.borrow\n // In the blanket implementations list, \"Borrow\" is the second one, hence the \":nth(2)\".\n assert-attribute: (\"#blanket-implementations-list > details:nth-child(2)\", {\"open\": \"\"})\n // We first check that the impl block is open by default.\n-assert-attribute: (\"#implementations + details\", {\"open\": \"\"})\n+assert-attribute: (\"#implementations-list details\", {\"open\": \"\"})\n // To ensure that we will click on the currently hidden method.\n assert-text: (\".sidebar-elems section .block li > a\", \"must_use\")\n click: \".sidebar-elems section .block li > a\"\n // We check that the impl block was opened as expected so that we can see the method.\n-assert-attribute: (\"#implementations + details\", {\"open\": \"\"})\n+assert-attribute: (\"#implementations-list > details\", {\"open\": \"\"})"}, {"sha": "6df2661e6c2bb800f67dc40e8878f3a2312263ba", "filename": "src/test/rustdoc-gui/impl-default-expansion.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Fimpl-default-expansion.goml", "raw_url": "https://github.com/rust-lang/rust/raw/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Fimpl-default-expansion.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fimpl-default-expansion.goml?ref=fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "patch": "@@ -1,3 +1,3 @@\n // This test ensures that the impl blocks are open by default.\n goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n-assert-attribute: (\"#main-content > details.implementors-toggle\", {\"open\": \"\"})\n+assert-attribute: (\"#implementations-list details.implementors-toggle\", {\"open\": \"\"})"}, {"sha": "ee6bc3cf7675c3d1dbf4428db04f2c2a9ce73328", "filename": "src/test/rustdoc-gui/toggle-docs-mobile.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs-mobile.goml", "raw_url": "https://github.com/rust-lang/rust/raw/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs-mobile.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs-mobile.goml?ref=fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "patch": "@@ -14,7 +14,7 @@ assert-attribute: (\".top-doc\", {\"open\": \"\"})\n // Assert the position of the toggle on the top doc block.\n assert-position: (\".top-doc summary::before\", {\"x\": 4})\n // Assert the position of the toggle on the impl block.\n-assert-position: (\"#implementations + details > summary::before\", {\"x\": 4})\n+assert-position: (\"#implementations-list > details > summary::before\", {\"x\": 4})\n // Assert the position of the toggle on a method.\n assert-position: (\n     \"#trait-implementations-list .impl-items .method-toggle > summary::before\","}, {"sha": "f98111484f315b428bc6f3632d3fbe843a304be0", "filename": "src/test/rustdoc-gui/toggle-docs.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs.goml", "raw_url": "https://github.com/rust-lang/rust/raw/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs.goml?ref=fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "patch": "@@ -24,7 +24,7 @@ wait-for: 50\n assert-text: (\"#toggle-all-docs\", \"[+]\")\n // We check that all <details> are collapsed (except for the impl block ones).\n assert-attribute-false: (\"details.rustdoc-toggle:not(.implementors-toggle)\", {\"open\": \"\"}, ALL)\n-assert-attribute: (\"details.rustdoc-toggle.implementors-toggle\", {\"open\": \"\"})\n+assert-attribute: (\"#implementations-list > details.implementors-toggle\", {\"open\": \"\"})\n // We now check that the other impl blocks are collapsed.\n assert-attribute-false: (\n     \"#blanket-implementations-list > details.rustdoc-toggle.implementors-toggle\","}, {"sha": "84c9e4ac0cd8449200f19b4252e8c825a3adc312", "filename": "src/test/rustdoc/duplicate_impls/issue-33054.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc%2Fduplicate_impls%2Fissue-33054.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fbd9c284d7f018db07da8aa6e03cffdf0ce1786b/src%2Ftest%2Frustdoc%2Fduplicate_impls%2Fissue-33054.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fduplicate_impls%2Fissue-33054.rs?ref=fbd9c284d7f018db07da8aa6e03cffdf0ce1786b", "patch": "@@ -1,3 +1,5 @@\n+// ignore-tidy-linelength\n+\n // @has issue_33054/impls/struct.Foo.html\n // @has - '//h3[@class=\"code-header in-band\"]' 'impl Foo'\n // @has - '//h3[@class=\"code-header in-band\"]' 'impl Bar for Foo'"}]}