{"sha": "97bbcabef15309ba9ab9bc9d365d4524ce26fc09", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk3YmJjYWJlZjE1MzA5YmE5YWI5YmM5ZDM2NWQ0NTI0Y2UyNmZjMDk=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-09-17T08:48:44Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-09-23T12:18:34Z"}, "message": "Added multiple parameter closure test.\n\nNew test has multiple parameters in a closure with longer names in order\nto clarify the issues relating to odd spans.", "tree": {"sha": "cdf3386d9c1626992fb91d90d257a17d4e9cfec1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cdf3386d9c1626992fb91d90d257a17d4e9cfec1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/97bbcabef15309ba9ab9bc9d365d4524ce26fc09", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlunhJoACgkQAXYLT59T\n8VTNFA/+KPbQ8WN+LMa4QwEbLDG5cP6XpAGSdM+Az9sMpQ9yxl0Nds1c0kfiNfci\n62On0gGaB2ZWOip8QxpP8zttgDkMgGlO2+MooB8BJzDeqAtzH0WNKpnkQvrmkte1\nlicAyvVtxIEQcWm4cTgF594JElRYN5UE4iXabJmoxMhg3VMnLh3EHBxMNAEbBA04\nce91kY3lPql2WYA/+HsL+rgQ4WTW//Ccgo9Aq13uQtaEgV2v28g5DTspmQknBRfW\nFsaJ5fUf2oCUEapcWWfMtPpeaDkjKsl7OVN0dafi+2QJRp0NIapGyRfKbd6iBN6m\nXW+CXk8Sep1ErVUsHnAh8BGZ5RjvID/4o/KUoXozskIb3DVT1rGUfsZLXHoJPagd\nix2DTM1rS0Puc9vfhCEKbVUAVWLqaWsrIAfyk2y4lyll72C51CDbb3PpCnrmv3PH\nDP72X9vdS+km6pqDeQtLJ9RQ1lmp+XMmLuyVL4jb4tHlmIPx36qTzHnkK4O02mSw\ndR1zVt7GubPh3YH3703d+uOL2JlInYhJGyyuWKkrdKJFuVZJ2IlSgrtIG0VNfkZl\nA3i4R+hCB35Duk7VJuEgSqBBetcSpztZBYQdolXXsX6zhY3BgPY1xo6dZpXnLw+8\n8FZCxjY3pb5ImgsR8X2PpwKkg2SfNfGvSRfbpdMeP247QIN4e4c=\n=oBoB\n-----END PGP SIGNATURE-----", "payload": "tree cdf3386d9c1626992fb91d90d257a17d4e9cfec1\nparent 876774bf71765cd7a1f2a8dfd775392bb162aae8\nauthor David Wood <david@davidtw.co> 1537174124 +0200\ncommitter David Wood <david@davidtw.co> 1537705114 +0200\n\nAdded multiple parameter closure test.\n\nNew test has multiple parameters in a closure with longer names in order\nto clarify the issues relating to odd spans.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/97bbcabef15309ba9ab9bc9d365d4524ce26fc09", "html_url": "https://github.com/rust-lang/rust/commit/97bbcabef15309ba9ab9bc9d365d4524ce26fc09", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/97bbcabef15309ba9ab9bc9d365d4524ce26fc09/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "876774bf71765cd7a1f2a8dfd775392bb162aae8", "url": "https://api.github.com/repos/rust-lang/rust/commits/876774bf71765cd7a1f2a8dfd775392bb162aae8", "html_url": "https://github.com/rust-lang/rust/commit/876774bf71765cd7a1f2a8dfd775392bb162aae8"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "273c9b3c8020c9121b235cb82d6e4badf01d269c", "filename": "src/test/ui/nll/issue-52534.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/97bbcabef15309ba9ab9bc9d365d4524ce26fc09/src%2Ftest%2Fui%2Fnll%2Fissue-52534.rs", "raw_url": "https://github.com/rust-lang/rust/raw/97bbcabef15309ba9ab9bc9d365d4524ce26fc09/src%2Ftest%2Fui%2Fnll%2Fissue-52534.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fissue-52534.rs?ref=97bbcabef15309ba9ab9bc9d365d4524ce26fc09", "patch": "@@ -14,9 +14,17 @@\n fn foo(_: impl FnOnce(&u32) -> &u32) {\n }\n \n+fn baz(_: impl FnOnce(&u32, u32) -> &u32) {\n+}\n+\n fn bar() {\n     let x = 22;\n     foo(|a| &x)\n }\n \n+fn foobar() {\n+    let y = 22;\n+    baz(|first, second| &y)\n+}\n+\n fn main() { }"}, {"sha": "873f17d8deb1f6daecf503b1dcb32a1b327748b5", "filename": "src/test/ui/nll/issue-52534.stderr", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/97bbcabef15309ba9ab9bc9d365d4524ce26fc09/src%2Ftest%2Fui%2Fnll%2Fissue-52534.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/97bbcabef15309ba9ab9bc9d365d4524ce26fc09/src%2Ftest%2Fui%2Fnll%2Fissue-52534.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fissue-52534.stderr?ref=97bbcabef15309ba9ab9bc9d365d4524ce26fc09", "patch": "@@ -1,5 +1,5 @@\n error[E0597]: `x` does not live long enough\n-  --> $DIR/issue-52534.rs:19:14\n+  --> $DIR/issue-52534.rs:22:14\n    |\n LL |     foo(|a| &x)\n    |           -  ^ `x` would have to be valid for `'0`\n@@ -8,6 +8,16 @@ LL |     foo(|a| &x)\n LL | }\n    | - ...but `x` is only valid for the duration of the `bar` function, so it is dropped here while still borrowed\n \n-error: aborting due to previous error\n+error[E0597]: `y` does not live long enough\n+  --> $DIR/issue-52534.rs:27:26\n+   |\n+LL |     baz(|first, second| &y)\n+   |               -          ^ `y` would have to be valid for `'0`\n+   |               |\n+   |               has type `&'0 u32`\n+LL | }\n+   | - ...but `y` is only valid for the duration of the `foobar` function, so it is dropped here while still borrowed\n+\n+error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0597`."}]}