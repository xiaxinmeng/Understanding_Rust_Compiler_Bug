{"sha": "bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmYTIyY2ZiY2FmMjA3Yjg4MDA2YTU2NDk4OTkwNGY2ZDBjMWI1Yzc=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-03T14:25:00Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-05-03T14:25:00Z"}, "message": "Rollup merge of #60401 - JohnTitor:rename-log, r=davidtwco\n\nRename `RUST_LOG` to `RUSTC_LOG`\n\ncc: #57985\n\nI think we should also change these submodules:\n\n- rustc-guide\n- Cargo (rename to `CARGO_LOG`, cc: https://github.com/rust-lang/cargo/pull/6605, https://github.com/rust-lang/cargo/issues/6189)\n- miri\n- rls\n- rustfmt\n\nr? @davidtwco", "tree": {"sha": "92a4a3c8698d64fd2e784fa86dd20e4007c5ca17", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92a4a3c8698d64fd2e784fa86dd20e4007c5ca17"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJczE89CRBK7hj4Ov3rIwAAdHIIAEorL0IB5EAr0paKcYdiBA/B\nJTkjD7xaf2pDJ9pfelp7EdzxpAEZEZ31V5Lv0S2qLH02/0UDBLgYzLIsxsjTUp11\nzCRxrCJkYxUePK1qvWMUbH/1ZkYDvladwWUi/yCCpUBq62kKItNLfob4jiXVgHjY\no/zgE7M4+1son4kr08L+AvgUTmr1lP2ohk8rfSuO5C86dbg+YlYkxEp6pPm9Br1p\nuE2hf4hhDUPQcASDHwqMuEY/6b2jq9Rlkq2bWEIBw3SujVi+cyArKgUeJx2S7fuq\nMBCw0/FIkMm5VKv62fsg2mexhqpKmUhjHBbWVYDyoXwtChiW3C9CXxsO6ARNtoI=\n=Xznl\n-----END PGP SIGNATURE-----\n", "payload": "tree 92a4a3c8698d64fd2e784fa86dd20e4007c5ca17\nparent 3e536e8ac6a722285190416b21a1684289f18b64\nparent bf4d0adf2395a260b024586e105f2e109222201c\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1556893500 +0200\ncommitter GitHub <noreply@github.com> 1556893500 +0200\n\nRollup merge of #60401 - JohnTitor:rename-log, r=davidtwco\n\nRename `RUST_LOG` to `RUSTC_LOG`\n\ncc: #57985\n\nI think we should also change these submodules:\n\n- rustc-guide\n- Cargo (rename to `CARGO_LOG`, cc: https://github.com/rust-lang/cargo/pull/6605, https://github.com/rust-lang/cargo/issues/6189)\n- miri\n- rls\n- rustfmt\n\nr? @davidtwco\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "html_url": "https://github.com/rust-lang/rust/commit/bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3e536e8ac6a722285190416b21a1684289f18b64", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e536e8ac6a722285190416b21a1684289f18b64", "html_url": "https://github.com/rust-lang/rust/commit/3e536e8ac6a722285190416b21a1684289f18b64"}, {"sha": "bf4d0adf2395a260b024586e105f2e109222201c", "url": "https://api.github.com/repos/rust-lang/rust/commits/bf4d0adf2395a260b024586e105f2e109222201c", "html_url": "https://github.com/rust-lang/rust/commit/bf4d0adf2395a260b024586e105f2e109222201c"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "285f9458c44b6a6f3cd8fe26dbacf5b3e0f3f98b", "filename": "src/bootstrap/native.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Fbootstrap%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Fbootstrap%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fnative.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -436,7 +436,7 @@ fn configure_cmake(builder: &Builder<'_>,\n     }\n \n     if env::var_os(\"SCCACHE_ERROR_LOG\").is_some() {\n-        cfg.env(\"RUST_LOG\", \"sccache=warn\");\n+        cfg.env(\"RUSTC_LOG\", \"sccache=warn\");\n     }\n }\n "}, {"sha": "a8f39e441309afb06fdd3c8239ebfb7175a29325", "filename": "src/librustc/infer/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Flibrustc%2Finfer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Flibrustc%2Finfer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fmod.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -704,7 +704,7 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n     /// potentially leaving \"dangling type variables\" behind.\n     /// In such cases, an assertion will fail when attempting to\n     /// register obligations, within a snapshot. Very useful, much\n-    /// better than grovelling through megabytes of `RUST_LOG` output.\n+    /// better than grovelling through megabytes of `RUSTC_LOG` output.\n     ///\n     /// HOWEVER, in some cases the flag is unhelpful. In particular, we\n     /// sometimes create a \"mini-fulfilment-cx\" in which we enroll"}, {"sha": "5b42b049b5b189862f57adf3e262e2597487e2d3", "filename": "src/librustc_driver/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Flibrustc_driver%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Flibrustc_driver%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Flib.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -1163,7 +1163,7 @@ pub fn report_ices_to_stderr_if_any<F: FnOnce() -> R, R>(f: F) -> Result<R, Erro\n /// This allows tools to enable rust logging without having to magically match rustc's\n /// log crate version\n pub fn init_rustc_env_logger() {\n-    env_logger::init();\n+    env_logger::init_from_env(\"RUSTC_LOG\");\n }\n \n pub fn main() {"}, {"sha": "8be2e234fea1fcb0c2ad8dbe23a25ef9ddc9f12c", "filename": "src/test/run-make-fulldeps/libs-through-symlinks/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-make-fulldeps%2Flibs-through-symlinks%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-make-fulldeps%2Flibs-through-symlinks%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Flibs-through-symlinks%2FMakefile?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -8,4 +8,4 @@ all:\n \tmkdir -p $(TMPDIR)/outdir\n \t$(RUSTC) foo.rs -o $(TMPDIR)/outdir/$(NAME)\n \tln -nsf outdir/$(NAME) $(TMPDIR)\n-\tRUST_LOG=rustc_metadata::loader $(RUSTC) bar.rs\n+\tRUSTC_LOG=rustc_metadata::loader $(RUSTC) bar.rs"}, {"sha": "ee6845c1278b8cff92ecfd39591a50df8b9feaa3", "filename": "src/test/run-pass/issues/issue-18075.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Fissues%2Fissue-18075.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Fissues%2Fissue-18075.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissues%2Fissue-18075.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -1,5 +1,5 @@\n // run-pass\n-// exec-env:RUST_LOG=rustc::middle=debug\n+// exec-env:RUSTC_LOG=rustc::middle=debug\n \n fn main() {\n     let b = 1isize;"}, {"sha": "1a4c4d89e7dc85ac844d5ce8bd438c9b8dcc92d5", "filename": "src/test/run-pass/logging-only-prints-once.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Flogging-only-prints-once.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Flogging-only-prints-once.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Flogging-only-prints-once.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -1,6 +1,6 @@\n // ignore-windows\n // ignore-emscripten no threads support\n-// exec-env:RUST_LOG=debug\n+// exec-env:RUSTC_LOG=debug\n \n use std::cell::Cell;\n use std::fmt;"}, {"sha": "69cfc54c465b5f14e38162d481af44c25bd356ca", "filename": "src/test/run-pass/logging_before_rt_started.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Flogging_before_rt_started.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Flogging_before_rt_started.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Flogging_before_rt_started.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -1,4 +1,4 @@\n-// exec-env:RUST_LOG=std::ptr\n+// exec-env:RUSTC_LOG=std::ptr\n \n // In issue #9487, it was realized that std::ptr was invoking the logging\n // infrastructure, and when std::ptr was used during runtime initialization,"}, {"sha": "b6642572418338c844e91d751c7d9514b35ea69e", "filename": "src/test/run-pass/rustc-rust-log.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Frustc-rust-log.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Frustc-rust-log.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frustc-rust-log.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -8,6 +8,6 @@\n // dont-check-compiler-stderr\n // compile-flags: --error-format human\n \n-// rustc-env:RUST_LOG=debug\n+// rustc-env:RUSTC_LOG=debug\n \n fn main() {}"}, {"sha": "388d62aa7101c9bf2c38aad77fceab92bbeb8cbe", "filename": "src/test/run-pass/threads-sendsync/spawning-with-debug.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Fthreads-sendsync%2Fspawning-with-debug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfa22cfbcaf207b88006a564989904f6d0c1b5c7/src%2Ftest%2Frun-pass%2Fthreads-sendsync%2Fspawning-with-debug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fthreads-sendsync%2Fspawning-with-debug.rs?ref=bfa22cfbcaf207b88006a564989904f6d0c1b5c7", "patch": "@@ -2,7 +2,7 @@\n #![allow(unused_must_use)]\n #![allow(unused_mut)]\n // ignore-windows\n-// exec-env:RUST_LOG=debug\n+// exec-env:RUSTC_LOG=debug\n // ignore-emscripten no threads support\n \n // regression test for issue #10405, make sure we don't call println! too soon."}]}