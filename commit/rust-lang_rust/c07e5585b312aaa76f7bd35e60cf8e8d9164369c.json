{"sha": "c07e5585b312aaa76f7bd35e60cf8e8d9164369c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMwN2U1NTg1YjMxMmFhYTc2ZjdiZDM1ZTYwY2Y4ZThkOTE2NDM2OWM=", "commit": {"author": {"name": "Giles Cope", "email": "gilescope@gmail.com", "date": "2021-01-26T11:36:02Z"}, "committer": {"name": "Giles Cope", "email": "gilescope@gmail.com", "date": "2021-01-26T11:36:02Z"}, "message": "Let's try the most idiomatic way.", "tree": {"sha": "6d52238e8c1c78a3b4433f1ea0680d83de0726ad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6d52238e8c1c78a3b4433f1ea0680d83de0726ad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c07e5585b312aaa76f7bd35e60cf8e8d9164369c", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEElfpt1fswGixBWxap34UWHa4P82sFAmAP/qIACgkQ34UWHa4P\n82vgIQ//XqjcvnfC9kfHBVg6znXrx0JMz5ITffjQOO0G4zadKwFZ4fzWIVFoB0vL\nyJEz5ZKR6XX9rsdiDtERGc8RuKewgWT6HwEbu0TBAQn8nK/Fhjg70Hcy0ibpQeH5\nRbNZviPN/kmkwvrHZlchvF7CLs73JPwqy8blb0GEqEJwvNL5WkGyx/01UR5Mp15O\nd57TFQgsBRVyJxcdyF3YWDJsBNUR2bR8Yc5dgLdrregL+n8k5+1NFkHhdF/FFG+M\ngTF5bKytZn62rHTAX2MIA3xz9tD8ZeoXy8h7652b+xD5Kgq8Kwb421Upe4ATVWez\nRaztJUrMx0YKpeqrH7/tyOU81LU35L6IYh6f9vH17bte84PDyMCpSDEjjEvjceCn\nSmCyu0HocFiWwfe0AA6S9TkXRhxWwkqYrYqLP0yZ9xbYPO6GvmfQcEc3/d6z0JIR\n7N+rAgn3oTIoZSUzyl9nHrC6TChasIFE2uKg5oKGJq0zXFdPoW2SIDa9Jmxqy11I\ngrYfvWyOgESIyLoYg6ZAyp0NsJrAwuy6rlvUtilY8L6DdSqtbGVuHtNpVLEIQXYd\nYYc/ul+k84BVyOppsAgA2JmuFPwe2Qwb5LHX7pjxbD2d44qBtbXmRhzOKhVtWGKp\nHAbw1M6F3USt9BX1ICQKyyXt5PDFdxqxFg4YYEYP2MIiDSEhdWA=\n=FBKc\n-----END PGP SIGNATURE-----", "payload": "tree 6d52238e8c1c78a3b4433f1ea0680d83de0726ad\nparent 425a70a460abac1182a792c6c2af6dff69663c3c\nauthor Giles Cope <gilescope@gmail.com> 1611660962 +0000\ncommitter Giles Cope <gilescope@gmail.com> 1611660962 +0000\n\nLet's try the most idiomatic way.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c07e5585b312aaa76f7bd35e60cf8e8d9164369c", "html_url": "https://github.com/rust-lang/rust/commit/c07e5585b312aaa76f7bd35e60cf8e8d9164369c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c07e5585b312aaa76f7bd35e60cf8e8d9164369c/comments", "author": {"login": "gilescope", "id": 803976, "node_id": "MDQ6VXNlcjgwMzk3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/803976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gilescope", "html_url": "https://github.com/gilescope", "followers_url": "https://api.github.com/users/gilescope/followers", "following_url": "https://api.github.com/users/gilescope/following{/other_user}", "gists_url": "https://api.github.com/users/gilescope/gists{/gist_id}", "starred_url": "https://api.github.com/users/gilescope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gilescope/subscriptions", "organizations_url": "https://api.github.com/users/gilescope/orgs", "repos_url": "https://api.github.com/users/gilescope/repos", "events_url": "https://api.github.com/users/gilescope/events{/privacy}", "received_events_url": "https://api.github.com/users/gilescope/received_events", "type": "User", "site_admin": false}, "committer": {"login": "gilescope", "id": 803976, "node_id": "MDQ6VXNlcjgwMzk3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/803976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gilescope", "html_url": "https://github.com/gilescope", "followers_url": "https://api.github.com/users/gilescope/followers", "following_url": "https://api.github.com/users/gilescope/following{/other_user}", "gists_url": "https://api.github.com/users/gilescope/gists{/gist_id}", "starred_url": "https://api.github.com/users/gilescope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gilescope/subscriptions", "organizations_url": "https://api.github.com/users/gilescope/orgs", "repos_url": "https://api.github.com/users/gilescope/repos", "events_url": "https://api.github.com/users/gilescope/events{/privacy}", "received_events_url": "https://api.github.com/users/gilescope/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "425a70a460abac1182a792c6c2af6dff69663c3c", "url": "https://api.github.com/repos/rust-lang/rust/commits/425a70a460abac1182a792c6c2af6dff69663c3c", "html_url": "https://github.com/rust-lang/rust/commit/425a70a460abac1182a792c6c2af6dff69663c3c"}], "stats": {"total": 6, "additions": 1, "deletions": 5}, "files": [{"sha": "0c74f6e45a784aad980422cca75d8163d995c162", "filename": "library/core/src/str/iter.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c07e5585b312aaa76f7bd35e60cf8e8d9164369c/library%2Fcore%2Fsrc%2Fstr%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c07e5585b312aaa76f7bd35e60cf8e8d9164369c/library%2Fcore%2Fsrc%2Fstr%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fstr%2Fiter.rs?ref=c07e5585b312aaa76f7bd35e60cf8e8d9164369c", "patch": "@@ -47,11 +47,7 @@ impl<'a> Iterator for Chars<'a> {\n     #[inline]\n     fn count(self) -> usize {\n         // length in `char` is equal to the number of non-continuation bytes\n-        let mut char_count = 0;\n-        for &byte in self.iter {\n-            char_count += !utf8_is_cont_byte(byte) as usize;\n-        }\n-        char_count\n+        self.iter.map(|&byte| !utf8_is_cont_byte(byte) as usize).sum()\n     }\n \n     #[inline]"}]}