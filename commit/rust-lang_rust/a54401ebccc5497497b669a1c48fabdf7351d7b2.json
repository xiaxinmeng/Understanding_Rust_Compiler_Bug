{"sha": "a54401ebccc5497497b669a1c48fabdf7351d7b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1NDQwMWViY2NjNTQ5NzQ5N2I2NjlhMWM0OGZhYmRmNzM1MWQ3YjI=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-07-22T14:20:48Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-07-24T21:11:31Z"}, "message": "implement `Step` for `Idx` types\n\nThis way, we can iterate over a `Range<T>` where `T: Idx`", "tree": {"sha": "865b20ad3dd5c798c4abf4264ef62d21ff0db4c3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/865b20ad3dd5c798c4abf4264ef62d21ff0db4c3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a54401ebccc5497497b669a1c48fabdf7351d7b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a54401ebccc5497497b669a1c48fabdf7351d7b2", "html_url": "https://github.com/rust-lang/rust/commit/a54401ebccc5497497b669a1c48fabdf7351d7b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a54401ebccc5497497b669a1c48fabdf7351d7b2/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f498e4ec1b57c3245a2fb8e0d5d836ed56760d2d", "url": "https://api.github.com/repos/rust-lang/rust/commits/f498e4ec1b57c3245a2fb8e0d5d836ed56760d2d", "html_url": "https://github.com/rust-lang/rust/commit/f498e4ec1b57c3245a2fb8e0d5d836ed56760d2d"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "d709a4debd1d38bedc8d4e2f71a79a8faacfb6df", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a54401ebccc5497497b669a1c48fabdf7351d7b2/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a54401ebccc5497497b669a1c48fabdf7351d7b2/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=a54401ebccc5497497b669a1c48fabdf7351d7b2", "patch": "@@ -69,6 +69,7 @@\n #![feature(trusted_len)]\n #![feature(vec_remove_item)]\n #![feature(catch_expr)]\n+#![feature(step_trait)]\n #![feature(integer_atomics)]\n #![feature(test)]\n #![feature(in_band_lifetimes)]"}, {"sha": "08c518d5ba634798989b80174f7debd3477e930b", "filename": "src/librustc_data_structures/indexed_vec.rs", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/a54401ebccc5497497b669a1c48fabdf7351d7b2/src%2Flibrustc_data_structures%2Findexed_vec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a54401ebccc5497497b669a1c48fabdf7351d7b2/src%2Flibrustc_data_structures%2Findexed_vec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Findexed_vec.rs?ref=a54401ebccc5497497b669a1c48fabdf7351d7b2", "patch": "@@ -89,6 +89,35 @@ macro_rules! newtype_index {\n             }\n         }\n \n+        impl ::std::iter::Step for $type {\n+            fn steps_between(start: &Self, end: &Self) -> Option<usize> {\n+                <usize as ::std::iter::Step>::steps_between(\n+                    &Idx::index(*start),\n+                    &Idx::index(*end),\n+                )\n+            }\n+\n+            fn replace_one(&mut self) -> Self {\n+                ::std::mem::replace(self, Self::new(1))\n+            }\n+\n+            fn replace_zero(&mut self) -> Self {\n+                ::std::mem::replace(self, Self::new(0))\n+            }\n+\n+            fn add_one(&self) -> Self {\n+                Self::new(Idx::index(*self) + 1)\n+            }\n+\n+            fn sub_one(&self) -> Self {\n+                Self::new(Idx::index(*self) - 1)\n+            }\n+\n+            fn add_usize(&self, u: usize) -> Option<Self> {\n+                Idx::index(*self).checked_add(u).map(Self::new)\n+            }\n+        }\n+\n         newtype_index!(\n             @handle_debug\n             @derives      [$($derives,)*]"}, {"sha": "6483b9b3c68f0676fcf2616be67352ab8472f171", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a54401ebccc5497497b669a1c48fabdf7351d7b2/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a54401ebccc5497497b669a1c48fabdf7351d7b2/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=a54401ebccc5497497b669a1c48fabdf7351d7b2", "patch": "@@ -36,6 +36,7 @@ Rust MIR: a lowered representation of Rust. Also: an experiment!\n #![feature(specialization)]\n #![feature(try_trait)]\n #![feature(unicode_internals)]\n+#![feature(step_trait)]\n \n #![recursion_limit=\"256\"]\n "}]}