{"sha": "74370042aa698c0360aadf356ccc4305cc2c0cd2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0MzcwMDQyYWE2OThjMDM2MGFhZGYzNTZjY2M0MzA1Y2MyYzBjZDI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-08-06T21:07:37Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-08-06T21:07:51Z"}, "message": "core: Rename task::osmain to platform_thread. #3090", "tree": {"sha": "7d41b1e27b4195ef89c868e5f5838c55e356a3e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7d41b1e27b4195ef89c868e5f5838c55e356a3e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74370042aa698c0360aadf356ccc4305cc2c0cd2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74370042aa698c0360aadf356ccc4305cc2c0cd2", "html_url": "https://github.com/rust-lang/rust/commit/74370042aa698c0360aadf356ccc4305cc2c0cd2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74370042aa698c0360aadf356ccc4305cc2c0cd2/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c973732a23da75b09dd6d35ce6f951c8bcd6cb01", "url": "https://api.github.com/repos/rust-lang/rust/commits/c973732a23da75b09dd6d35ce6f951c8bcd6cb01", "html_url": "https://github.com/rust-lang/rust/commit/c973732a23da75b09dd6d35ce6f951c8bcd6cb01"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "cf354f0f8094f032edb0451e7954866041fc46e2", "filename": "src/libcore/task.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/74370042aa698c0360aadf356ccc4305cc2c0cd2/src%2Flibcore%2Ftask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74370042aa698c0360aadf356ccc4305cc2c0cd2/src%2Flibcore%2Ftask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftask.rs?ref=74370042aa698c0360aadf356ccc4305cc2c0cd2", "patch": "@@ -71,7 +71,7 @@ export single_threaded;\n export thread_per_core;\n export thread_per_task;\n export manual_threads;\n-export osmain;\n+export platform_thread;\n \n /* Data types */\n \n@@ -116,7 +116,7 @@ enum sched_mode {\n      * The main OS thread is the thread used to launch the runtime which,\n      * in most cases, is the process's initial thread as created by the OS.\n      */\n-    osmain\n+    platform_thread\n }\n \n /**\n@@ -1176,10 +1176,10 @@ fn spawn_raw(opts: task_opts, +f: fn~()) {\n             }\n             threads\n           }\n-          osmain => 0u /* Won't be used */\n+          platform_thread => 0u /* Won't be used */\n         };\n \n-        let sched_id = if opts.mode != osmain {\n+        let sched_id = if opts.mode != platform_thread {\n             rustrt::rust_new_sched(num_threads)\n         } else {\n             rustrt::rust_osmain_sched_id()\n@@ -1899,10 +1899,10 @@ fn test_avoid_copying_the_body_unlinked() {\n }\n \n #[test]\n-fn test_osmain() {\n+fn test_platform_thread() {\n     let po = comm::port();\n     let ch = comm::chan(po);\n-    do task().sched_mode(osmain).spawn {\n+    do task().sched_mode(platform_thread).spawn {\n         comm::send(ch, ());\n     }\n     comm::recv(po);"}, {"sha": "9b26744870a2c0e71e8969074eb1654d914509d6", "filename": "src/test/run-pass/platform_thread.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/74370042aa698c0360aadf356ccc4305cc2c0cd2/src%2Ftest%2Frun-pass%2Fplatform_thread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74370042aa698c0360aadf356ccc4305cc2c0cd2/src%2Ftest%2Frun-pass%2Fplatform_thread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fplatform_thread.rs?ref=74370042aa698c0360aadf356ccc4305cc2c0cd2", "patch": "@@ -14,7 +14,7 @@ fn run(i: int) {\n         return;\n     }\n \n-    do task::task().sched_mode(task::osmain).unlinked().spawn {\n+    do task::task().sched_mode(task::platform_thread).unlinked().spawn {\n         task::yield();\n         do task::task().sched_mode(task::single_threaded).unlinked().spawn {\n             task::yield();", "previous_filename": "src/test/run-pass/osmain.rs"}]}