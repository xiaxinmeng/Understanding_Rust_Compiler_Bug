{"sha": "67eabc6bec67e1953cb944f0654fada3151b7e21", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY3ZWFiYzZiZWM2N2UxOTUzY2I5NDRmMDY1NGZhZGEzMTUxYjdlMjE=", "commit": {"author": {"name": "Jethro Beekman", "email": "jethro@fortanix.com", "date": "2019-03-05T21:32:41Z"}, "committer": {"name": "Jethro Beekman", "email": "jethro@fortanix.com", "date": "2019-03-05T21:35:57Z"}, "message": "SGX target: Expose thread id function in os module", "tree": {"sha": "b2a860fd1b21a7fd5a297d4939f755c7bbb31e8e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b2a860fd1b21a7fd5a297d4939f755c7bbb31e8e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/67eabc6bec67e1953cb944f0654fada3151b7e21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/67eabc6bec67e1953cb944f0654fada3151b7e21", "html_url": "https://github.com/rust-lang/rust/commit/67eabc6bec67e1953cb944f0654fada3151b7e21", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/67eabc6bec67e1953cb944f0654fada3151b7e21/comments", "author": null, "committer": null, "parents": [{"sha": "f22dca0a1bef4141e75326caacc3cd59f3d5be8e", "url": "https://api.github.com/repos/rust-lang/rust/commits/f22dca0a1bef4141e75326caacc3cd59f3d5be8e", "html_url": "https://github.com/rust-lang/rust/commit/f22dca0a1bef4141e75326caacc3cd59f3d5be8e"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "4e30b1edd15e82dc7171328699fd3e23f2de679a", "filename": "src/libstd/os/fortanix_sgx/mod.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/67eabc6bec67e1953cb944f0654fada3151b7e21/src%2Flibstd%2Fos%2Ffortanix_sgx%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67eabc6bec67e1953cb944f0654fada3151b7e21/src%2Flibstd%2Fos%2Ffortanix_sgx%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fos%2Ffortanix_sgx%2Fmod.rs?ref=67eabc6bec67e1953cb944f0654fada3151b7e21", "patch": "@@ -43,3 +43,8 @@ pub mod mem {\n }\n \n pub use crate::sys::ext::{io, arch, ffi};\n+\n+/// Functions for querying thread-related information.\n+pub mod thread {\n+    pub use crate::sys::abi::thread::current;\n+}"}, {"sha": "c17fa2d00159ee305a1db0df35a248e714b4b350", "filename": "src/libstd/sys/sgx/abi/thread.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/67eabc6bec67e1953cb944f0654fada3151b7e21/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fthread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67eabc6bec67e1953cb944f0654fada3151b7e21/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fthread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fthread.rs?ref=67eabc6bec67e1953cb944f0654fada3151b7e21", "patch": "@@ -4,6 +4,7 @@ use fortanix_sgx_abi::Tcs;\n /// all currently running threads in the enclave, and it is guaranteed to be\n /// constant for the lifetime of the thread. More specifically for SGX, there\n /// is a one-to-one correspondence of the ID to the address of the TCS.\n+#[unstable(feature = \"sgx_platform\", issue = \"56975\")]\n pub fn current() -> Tcs {\n     extern \"C\" { fn get_tcs_addr() -> Tcs; }\n     unsafe { get_tcs_addr() }"}]}