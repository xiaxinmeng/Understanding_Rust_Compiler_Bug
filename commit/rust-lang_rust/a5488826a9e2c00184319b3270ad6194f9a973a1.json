{"sha": "a5488826a9e2c00184319b3270ad6194f9a973a1", "node_id": "C_kwDOAAsO6NoAKGE1NDg4ODI2YTllMmMwMDE4NDMxOWIzMjcwYWQ2MTk0ZjlhOTczYTE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-10-03T18:58:56Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-10-03T18:58:56Z"}, "message": "Rollup merge of #101308 - nerdypepper:feature/is-ascii-octdigit, r=joshtriplett\n\nintroduce `{char, u8}::is_ascii_octdigit`\n\nThis feature adds two new APIs: `char::is_ascii_octdigit` and `u8::is_ascii_octdigit`, under the feature gate `is_ascii_octdigit`. These methods are shorthands for `char::is_digit(self, 8)` and `u8::is_digit(self, 8)`:\n\n```rust\n// core::char\n\nimpl char {\n    pub fn is_ascii_octdigit(self) -> bool;\n}\n\n// core::num\n\nimpl u8 {\n    pub fn is_ascii_octdigit(self) -> bool;\n}\n```\n\n---\n\nCouple of things I need help understanding:\n\n- `const`ness: have I used the right attribute in this case?\n- is there a way to run the tests for `core::char` alone, instead of `./x.py test library/core`?", "tree": {"sha": "2c8a7eca634e2a02632513c26ff203b7dc1f064e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2c8a7eca634e2a02632513c26ff203b7dc1f064e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a5488826a9e2c00184319b3270ad6194f9a973a1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjOzDwCRBK7hj4Ov3rIwAAW4QIAJRBclHNmYnDF5o6TtefT/qd\nTp13S3bo3PytWex8maVUmCbczAB+QTTYLKJKt+PkLA0m5RFN6pBgLZm5H1XlIbnR\nd7OpEa7x6NtjnPoltRtQ4n9UvdQidf2VB9rvf0yim2QasDRQxlzeMVrKsWAlYUAv\nZd/tH7WvzSakFVPhddAMRCmFIRVF1xrOqUKec4vNm2lzjrI7np0vmsIOwkBpyKT/\nwZRaAD3MUu8uhPUwBM7M7PT28h1+xLTi0yPf+x1RsQRCc68B9jQEFqGyKtZ9u6Q2\npKLEMXUSmVUcj9Vxv6qIbCOUdXxSGBDbSIpk333XhhPdEvTgcmP2w4uhkZbqVoo=\n=yj5Z\n-----END PGP SIGNATURE-----\n", "payload": "tree 2c8a7eca634e2a02632513c26ff203b7dc1f064e\nparent df11395a55fc00e1f8fa9d452af179160b91896f\nparent 591c1f25b297c446ac13211f955d06a859206f1a\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1664823536 +0200\ncommitter GitHub <noreply@github.com> 1664823536 +0200\n\nRollup merge of #101308 - nerdypepper:feature/is-ascii-octdigit, r=joshtriplett\n\nintroduce `{char, u8}::is_ascii_octdigit`\n\nThis feature adds two new APIs: `char::is_ascii_octdigit` and `u8::is_ascii_octdigit`, under the feature gate `is_ascii_octdigit`. These methods are shorthands for `char::is_digit(self, 8)` and `u8::is_digit(self, 8)`:\n\n```rust\n// core::char\n\nimpl char {\n    pub fn is_ascii_octdigit(self) -> bool;\n}\n\n// core::num\n\nimpl u8 {\n    pub fn is_ascii_octdigit(self) -> bool;\n}\n```\n\n---\n\nCouple of things I need help understanding:\n\n- `const`ness: have I used the right attribute in this case?\n- is there a way to run the tests for `core::char` alone, instead of `./x.py test library/core`?\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a5488826a9e2c00184319b3270ad6194f9a973a1", "html_url": "https://github.com/rust-lang/rust/commit/a5488826a9e2c00184319b3270ad6194f9a973a1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a5488826a9e2c00184319b3270ad6194f9a973a1/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "df11395a55fc00e1f8fa9d452af179160b91896f", "url": "https://api.github.com/repos/rust-lang/rust/commits/df11395a55fc00e1f8fa9d452af179160b91896f", "html_url": "https://github.com/rust-lang/rust/commit/df11395a55fc00e1f8fa9d452af179160b91896f"}, {"sha": "591c1f25b297c446ac13211f955d06a859206f1a", "url": "https://api.github.com/repos/rust-lang/rust/commits/591c1f25b297c446ac13211f955d06a859206f1a", "html_url": "https://github.com/rust-lang/rust/commit/591c1f25b297c446ac13211f955d06a859206f1a"}], "stats": {"total": 84, "additions": 84, "deletions": 0}, "files": [{"sha": "224bc9effe61e1eb3016c53af46af94a473be1b1", "filename": "library/core/src/char/methods.rs", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Fsrc%2Fchar%2Fmethods.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Fsrc%2Fchar%2Fmethods.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fchar%2Fmethods.rs?ref=a5488826a9e2c00184319b3270ad6194f9a973a1", "patch": "@@ -1444,6 +1444,38 @@ impl char {\n         matches!(*self, '0'..='9')\n     }\n \n+    /// Checks if the value is an ASCII octal digit:\n+    /// U+0030 '0' ..= U+0037 '7'.\n+    ///\n+    /// # Examples\n+    ///\n+    /// ```\n+    /// #![feature(is_ascii_octdigit)]\n+    ///\n+    /// let uppercase_a = 'A';\n+    /// let a = 'a';\n+    /// let zero = '0';\n+    /// let seven = '7';\n+    /// let nine = '9';\n+    /// let percent = '%';\n+    /// let lf = '\\n';\n+    ///\n+    /// assert!(!uppercase_a.is_ascii_octdigit());\n+    /// assert!(!a.is_ascii_octdigit());\n+    /// assert!(zero.is_ascii_octdigit());\n+    /// assert!(seven.is_ascii_octdigit());\n+    /// assert!(!nine.is_ascii_octdigit());\n+    /// assert!(!percent.is_ascii_octdigit());\n+    /// assert!(!lf.is_ascii_octdigit());\n+    /// ```\n+    #[must_use]\n+    #[unstable(feature = \"is_ascii_octdigit\", issue = \"101288\")]\n+    #[rustc_const_unstable(feature = \"is_ascii_octdigit\", issue = \"101288\")]\n+    #[inline]\n+    pub const fn is_ascii_octdigit(&self) -> bool {\n+        matches!(*self, '0'..='7')\n+    }\n+\n     /// Checks if the value is an ASCII hexadecimal digit:\n     ///\n     /// - U+0030 '0' ..= U+0039 '9', or"}, {"sha": "ca02ae90fdeb2e2969734f017bbd628e05f0685a", "filename": "library/core/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Flib.rs?ref=a5488826a9e2c00184319b3270ad6194f9a973a1", "patch": "@@ -164,6 +164,7 @@\n #![feature(const_slice_index)]\n #![feature(const_is_char_boundary)]\n #![feature(const_cstr_methods)]\n+#![feature(is_ascii_octdigit)]\n //\n // Language features:\n #![feature(abi_unadjusted)]"}, {"sha": "311c5fa5b683419ffce434ee57c879bae8375964", "filename": "library/core/src/num/mod.rs", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Fsrc%2Fnum%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Fsrc%2Fnum%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fnum%2Fmod.rs?ref=a5488826a9e2c00184319b3270ad6194f9a973a1", "patch": "@@ -622,6 +622,38 @@ impl u8 {\n         matches!(*self, b'0'..=b'9')\n     }\n \n+    /// Checks if the value is an ASCII octal digit:\n+    /// U+0030 '0' ..= U+0037 '7'.\n+    ///\n+    /// # Examples\n+    ///\n+    /// ```\n+    /// #![feature(is_ascii_octdigit)]\n+    ///\n+    /// let uppercase_a = b'A';\n+    /// let a = b'a';\n+    /// let zero = b'0';\n+    /// let seven = b'7';\n+    /// let nine = b'9';\n+    /// let percent = b'%';\n+    /// let lf = b'\\n';\n+    ///\n+    /// assert!(!uppercase_a.is_ascii_octdigit());\n+    /// assert!(!a.is_ascii_octdigit());\n+    /// assert!(zero.is_ascii_octdigit());\n+    /// assert!(seven.is_ascii_octdigit());\n+    /// assert!(!nine.is_ascii_octdigit());\n+    /// assert!(!percent.is_ascii_octdigit());\n+    /// assert!(!lf.is_ascii_octdigit());\n+    /// ```\n+    #[must_use]\n+    #[unstable(feature = \"is_ascii_octdigit\", issue = \"101288\")]\n+    #[rustc_const_unstable(feature = \"is_ascii_octdigit\", issue = \"101288\")]\n+    #[inline]\n+    pub const fn is_ascii_octdigit(&self) -> bool {\n+        matches!(*self, b'0'..=b'7')\n+    }\n+\n     /// Checks if the value is an ASCII hexadecimal digit:\n     ///\n     /// - U+0030 '0' ..= U+0039 '9', or"}, {"sha": "f5f2dd047788539a0aa893ae1bc92ce39a8627f5", "filename": "library/core/tests/ascii.rs", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Ftests%2Fascii.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Ftests%2Fascii.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Fascii.rs?ref=a5488826a9e2c00184319b3270ad6194f9a973a1", "patch": "@@ -251,6 +251,23 @@ fn test_is_ascii_digit() {\n     );\n }\n \n+#[test]\n+fn test_is_ascii_octdigit() {\n+    assert_all!(is_ascii_octdigit, \"\", \"01234567\");\n+    assert_none!(\n+        is_ascii_octdigit,\n+        \"abcdefghijklmnopqrstuvwxyz\",\n+        \"ABCDEFGHIJKLMNOQPRSTUVWXYZ\",\n+        \"!\\\"#$%&'()*+,-./:;<=>?@[\\\\]^_`{|}~\",\n+        \" \\t\\n\\x0c\\r\",\n+        \"\\x00\\x01\\x02\\x03\\x04\\x05\\x06\\x07\",\n+        \"\\x08\\x09\\x0a\\x0b\\x0c\\x0d\\x0e\\x0f\",\n+        \"\\x10\\x11\\x12\\x13\\x14\\x15\\x16\\x17\",\n+        \"\\x18\\x19\\x1a\\x1b\\x1c\\x1d\\x1e\\x1f\",\n+        \"\\x7f\",\n+    );\n+}\n+\n #[test]\n fn test_is_ascii_hexdigit() {\n     assert_all!(is_ascii_hexdigit, \"\", \"0123456789\", \"abcdefABCDEF\",);\n@@ -454,6 +471,7 @@ fn ascii_ctype_const() {\n         is_ascii_lowercase    => [true,  false, false, false, false];\n         is_ascii_alphanumeric => [true,  true,  true,  false, false];\n         is_ascii_digit        => [false, false, true,  false, false];\n+        is_ascii_octdigit     => [false, false, false, false, false];\n         is_ascii_hexdigit     => [true,  true,  true,  false, false];\n         is_ascii_punctuation  => [false, false, false, true,  false];\n         is_ascii_graphic      => [true,  true,  true,  true,  false];"}, {"sha": "ca0c7a54b3e24b70daa2559401a757f754bc41db", "filename": "library/core/tests/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a5488826a9e2c00184319b3270ad6194f9a973a1/library%2Fcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Flib.rs?ref=a5488826a9e2c00184319b3270ad6194f9a973a1", "patch": "@@ -100,6 +100,7 @@\n #![feature(slice_flatten)]\n #![feature(provide_any)]\n #![feature(utf8_chunks)]\n+#![feature(is_ascii_octdigit)]\n #![deny(unsafe_op_in_unsafe_fn)]\n \n extern crate test;"}]}