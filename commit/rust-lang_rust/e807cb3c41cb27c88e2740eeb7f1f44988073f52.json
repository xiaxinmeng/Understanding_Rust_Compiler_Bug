{"sha": "e807cb3c41cb27c88e2740eeb7f1f44988073f52", "node_id": "C_kwDOAAsO6NoAKGU4MDdjYjNjNDFjYjI3Yzg4ZTI3NDBlZWI3ZjFmNDQ5ODgwNzNmNTI", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-10-07T02:05:57Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-11-09T19:42:23Z"}, "message": "Make span_suggestions take IntoIterator", "tree": {"sha": "c40383fc297ecf59d9de6f1e2cc731388acd4b09", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c40383fc297ecf59d9de6f1e2cc731388acd4b09"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e807cb3c41cb27c88e2740eeb7f1f44988073f52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e807cb3c41cb27c88e2740eeb7f1f44988073f52", "html_url": "https://github.com/rust-lang/rust/commit/e807cb3c41cb27c88e2740eeb7f1f44988073f52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e807cb3c41cb27c88e2740eeb7f1f44988073f52/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fbce7decd82482466b8da8b1826a73ff49b8fbbd", "url": "https://api.github.com/repos/rust-lang/rust/commits/fbce7decd82482466b8da8b1826a73ff49b8fbbd", "html_url": "https://github.com/rust-lang/rust/commit/fbce7decd82482466b8da8b1826a73ff49b8fbbd"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "7457369aa58cb42bad748f68492f6d9c79462e88", "filename": "compiler/rustc_borrowck/src/diagnostics/mutability_errors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmutability_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmutability_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmutability_errors.rs?ref=e807cb3c41cb27c88e2740eeb7f1f44988073f52", "patch": "@@ -698,7 +698,7 @@ impl<'a, 'tcx> MirBorrowckCtxt<'a, 'tcx> {\n                                     ),\n                                     (rv.span.shrink_to_hi(), \")\".to_string()),\n                                 ],\n-                            ].into_iter(),\n+                            ],\n                             Applicability::MachineApplicable,\n                         );\n                         self.suggested = true;"}, {"sha": "81e6b8da1d630c3b60738c342e536679f715d014", "filename": "compiler/rustc_errors/src/diagnostic.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic.rs?ref=e807cb3c41cb27c88e2740eeb7f1f44988073f52", "patch": "@@ -717,7 +717,7 @@ impl Diagnostic {\n         &mut self,\n         sp: Span,\n         msg: impl Into<SubdiagnosticMessage>,\n-        suggestions: impl Iterator<Item = String>,\n+        suggestions: impl IntoIterator<Item = String>,\n         applicability: Applicability,\n     ) -> &mut Self {\n         self.span_suggestions_with_style(\n@@ -738,7 +738,7 @@ impl Diagnostic {\n         applicability: Applicability,\n         style: SuggestionStyle,\n     ) -> &mut Self {\n-        let mut suggestions: Vec<_> = suggestions.collect();\n+        let mut suggestions: Vec<_> = suggestions.into_iter().collect();\n         suggestions.sort();\n \n         debug_assert!(\n@@ -765,7 +765,7 @@ impl Diagnostic {\n     pub fn multipart_suggestions(\n         &mut self,\n         msg: impl Into<SubdiagnosticMessage>,\n-        suggestions: impl Iterator<Item = Vec<(Span, String)>>,\n+        suggestions: impl IntoIterator<Item = Vec<(Span, String)>>,\n         applicability: Applicability,\n     ) -> &mut Self {\n         let suggestions: Vec<_> = suggestions.collect();"}, {"sha": "18cbf963494fc4ec0a7d3a86aa621371e5befcda", "filename": "compiler/rustc_errors/src/diagnostic_builder.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs?ref=e807cb3c41cb27c88e2740eeb7f1f44988073f52", "patch": "@@ -599,13 +599,13 @@ impl<'a, G: EmissionGuarantee> DiagnosticBuilder<'a, G> {\n         &mut self,\n         sp: Span,\n         msg: impl Into<SubdiagnosticMessage>,\n-        suggestions: impl Iterator<Item = String>,\n+        suggestions: impl IntoIterator<Item = String>,\n         applicability: Applicability,\n     ) -> &mut Self);\n     forward!(pub fn multipart_suggestions(\n         &mut self,\n         msg: impl Into<SubdiagnosticMessage>,\n-        suggestions: impl Iterator<Item = Vec<(Span, String)>>,\n+        suggestions: impl IntoIterator<Item = Vec<(Span, String)>>,\n         applicability: Applicability,\n     ) -> &mut Self);\n     forward!(pub fn span_suggestion_short("}, {"sha": "3a67c032b3bdd3cd234cada09cf413a4f506fdea", "filename": "compiler/rustc_parse/src/parser/ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fty.rs?ref=e807cb3c41cb27c88e2740eeb7f1f44988073f52", "patch": "@@ -401,7 +401,7 @@ impl<'a> Parser<'a> {\n                 .span_suggestions(\n                     span.shrink_to_hi(),\n                     \"add `mut` or `const` here\",\n-                    [\"mut \".to_string(), \"const \".to_string()].into_iter(),\n+                    [\"mut \".to_string(), \"const \".to_string()],\n                     Applicability::HasPlaceholders,\n                 )\n                 .emit();"}, {"sha": "cdc28db13f3ac756c5c523439210915dbd8ac43f", "filename": "compiler/rustc_resolve/src/late/diagnostics.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs?ref=e807cb3c41cb27c88e2740eeb7f1f44988073f52", "patch": "@@ -1941,7 +1941,7 @@ impl<'a: 'ast, 'ast> LateResolutionVisitor<'a, '_, 'ast> {\n                 err.span_suggestions(\n                     span,\n                     &msg,\n-                    suggestable_variants.into_iter(),\n+                    suggestable_variants,\n                     Applicability::MaybeIncorrect,\n                 );\n             }\n@@ -1995,7 +1995,7 @@ impl<'a: 'ast, 'ast> LateResolutionVisitor<'a, '_, 'ast> {\n                 err.span_suggestions(\n                     span,\n                     msg,\n-                    suggestable_variants.into_iter(),\n+                    suggestable_variants,\n                     Applicability::MaybeIncorrect,\n                 );\n             }\n@@ -2025,7 +2025,7 @@ impl<'a: 'ast, 'ast> LateResolutionVisitor<'a, '_, 'ast> {\n                 err.span_suggestions(\n                     span,\n                     msg,\n-                    suggestable_variants_with_placeholders.into_iter(),\n+                    suggestable_variants_with_placeholders,\n                     Applicability::HasPlaceholders,\n                 );\n             }"}, {"sha": "d573229f71714ccdc023801eb43cd4aac342fdcd", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/suggestions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e807cb3c41cb27c88e2740eeb7f1f44988073f52/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fsuggestions.rs?ref=e807cb3c41cb27c88e2740eeb7f1f44988073f52", "patch": "@@ -1117,7 +1117,7 @@ impl<'tcx> TypeErrCtxtExt<'tcx> for TypeErrCtxt<'_, 'tcx> {\n                         err.span_suggestions(\n                             span.shrink_to_lo(),\n                             \"consider borrowing here\",\n-                            [\"&\".to_string(), \"&mut \".to_string()].into_iter(),\n+                            [\"&\".to_string(), \"&mut \".to_string()],\n                             Applicability::MaybeIncorrect,\n                         );\n                     } else {"}]}