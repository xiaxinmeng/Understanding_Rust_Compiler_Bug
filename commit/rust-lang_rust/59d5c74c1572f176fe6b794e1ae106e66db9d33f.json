{"sha": "59d5c74c1572f176fe6b794e1ae106e66db9d33f", "node_id": "C_kwDOAAsO6NoAKDU5ZDVjNzRjMTU3MmYxNzZmZTZiNzk0ZTFhZTEwNmU2NmRiOWQzM2Y", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2022-03-04T22:14:34Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2022-03-04T22:14:34Z"}, "message": "Update use_suggestion_placement.rs test, removing the FIXME that this PR fixes.\n\n(There is another issue, in that the fixed output is not ideally indented, but\nthat is a pre-existing issue and should not block this PR.)", "tree": {"sha": "3ed5513bf433700b67f9086c9d1099892643f5f5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3ed5513bf433700b67f9086c9d1099892643f5f5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59d5c74c1572f176fe6b794e1ae106e66db9d33f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59d5c74c1572f176fe6b794e1ae106e66db9d33f", "html_url": "https://github.com/rust-lang/rust/commit/59d5c74c1572f176fe6b794e1ae106e66db9d33f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59d5c74c1572f176fe6b794e1ae106e66db9d33f/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fda9a561df39b60196c0a6e7417a6d50b163e92a", "url": "https://api.github.com/repos/rust-lang/rust/commits/fda9a561df39b60196c0a6e7417a6d50b163e92a", "html_url": "https://github.com/rust-lang/rust/commit/fda9a561df39b60196c0a6e7417a6d50b163e92a"}], "stats": {"total": 18, "additions": 5, "deletions": 13}, "files": [{"sha": "d1686f7fd2b9cc55a92613411420939c6b44ccac", "filename": "src/test/ui/resolve/use_suggestion_placement.fixed", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/59d5c74c1572f176fe6b794e1ae106e66db9d33f/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/59d5c74c1572f176fe6b794e1ae106e66db9d33f/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.fixed?ref=59d5c74c1572f176fe6b794e1ae106e66db9d33f", "patch": "@@ -14,13 +14,9 @@ mod m {\n }\n \n mod foo {\n-    // FIXME: UsePlacementFinder is broken because active attributes are\n-    // removed, and thus the `derive` attribute here is not in the AST.\n-    // An inert attribute should work, though.\n-    // #[derive(Debug)]\n     use std::path::Path;\n \n-#[allow(warnings)]\n+#[derive(Debug)]\n     pub struct Foo;\n \n     // test whether the use suggestion isn't"}, {"sha": "5be91f27092fa1f3c5040473d32b4c69084898e6", "filename": "src/test/ui/resolve/use_suggestion_placement.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/59d5c74c1572f176fe6b794e1ae106e66db9d33f/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59d5c74c1572f176fe6b794e1ae106e66db9d33f/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.rs?ref=59d5c74c1572f176fe6b794e1ae106e66db9d33f", "patch": "@@ -10,11 +10,7 @@ mod m {\n }\n \n mod foo {\n-    // FIXME: UsePlacementFinder is broken because active attributes are\n-    // removed, and thus the `derive` attribute here is not in the AST.\n-    // An inert attribute should work, though.\n-    // #[derive(Debug)]\n-    #[allow(warnings)]\n+    #[derive(Debug)]\n     pub struct Foo;\n \n     // test whether the use suggestion isn't"}, {"sha": "0aadd82f6c29253cd290b5f39c864af59b91f9a2", "filename": "src/test/ui/resolve/use_suggestion_placement.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/59d5c74c1572f176fe6b794e1ae106e66db9d33f/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/59d5c74c1572f176fe6b794e1ae106e66db9d33f/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.stderr?ref=59d5c74c1572f176fe6b794e1ae106e66db9d33f", "patch": "@@ -1,5 +1,5 @@\n error[E0412]: cannot find type `Path` in this scope\n-  --> $DIR/use_suggestion_placement.rs:22:16\n+  --> $DIR/use_suggestion_placement.rs:18:16\n    |\n LL |     type Bar = Path;\n    |                ^^^^ not found in this scope\n@@ -10,7 +10,7 @@ LL |     use std::path::Path;\n    |\n \n error[E0425]: cannot find value `A` in this scope\n-  --> $DIR/use_suggestion_placement.rs:27:13\n+  --> $DIR/use_suggestion_placement.rs:23:13\n    |\n LL |     let _ = A;\n    |             ^ not found in this scope\n@@ -21,7 +21,7 @@ LL | use m::A;\n    |\n \n error[E0412]: cannot find type `HashMap` in this scope\n-  --> $DIR/use_suggestion_placement.rs:32:23\n+  --> $DIR/use_suggestion_placement.rs:28:23\n    |\n LL |     type Dict<K, V> = HashMap<K, V>;\n    |                       ^^^^^^^ not found in this scope"}]}