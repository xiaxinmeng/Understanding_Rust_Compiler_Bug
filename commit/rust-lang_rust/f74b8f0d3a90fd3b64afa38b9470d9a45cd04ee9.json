{"sha": "f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3NGI4ZjBkM2E5MGZkM2I2NGFmYTM4Yjk0NzBkOWE0NWNkMDRlZTk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-12-26T19:36:37Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-12-26T19:36:37Z"}, "message": "auto merge of #11148 : alexcrichton/rust/snapshots, r=luqmana\n\nC++ is gone for good and `crate_id` is the new `pkgid`.", "tree": {"sha": "c5076a8b6b18f7cf7bb88b7f55546f7d8f9b2a8a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c5076a8b6b18f7cf7bb88b7f55546f7d8f9b2a8a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "html_url": "https://github.com/rust-lang/rust/commit/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1f34f50ce6a2b5a9c045df21b9147d61cc54b6cd", "url": "https://api.github.com/repos/rust-lang/rust/commits/1f34f50ce6a2b5a9c045df21b9147d61cc54b6cd", "html_url": "https://github.com/rust-lang/rust/commit/1f34f50ce6a2b5a9c045df21b9147d61cc54b6cd"}, {"sha": "ab431a20c0fe3f00f3d124200d10e13877dcf20b", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab431a20c0fe3f00f3d124200d10e13877dcf20b", "html_url": "https://github.com/rust-lang/rust/commit/ab431a20c0fe3f00f3d124200d10e13877dcf20b"}], "stats": {"total": 145, "additions": 9, "deletions": 136}, "files": [{"sha": "ddffcb3ffb96a7cd285aa4d82b6152d8208f9aaa", "filename": "mk/rt.mk", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -74,7 +74,6 @@ endif\n \n RUNTIME_CS_$(1)_$(2) := \\\n               rt/rust_builtin.c \\\n-              rt/rust_upcall.c \\\n               rt/miniz.c \\\n               rt/rust_android_dummy.c \\\n               rt/rust_test_helpers.c"}, {"sha": "fdc191414afe430d707d9a2ac0af8333d719d44b", "filename": "src/libextra/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibextra%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibextra%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -20,8 +20,6 @@ Rust extras are part of the standard Rust distribution.\n \n */\n \n-// NOTE: remove after snapshot\n-#[pkgid = \"extra#0.9-pre\"];\n #[crate_id = \"extra#0.9-pre\"];\n #[comment = \"Rust extras\"];\n #[license = \"MIT/ASL2\"];"}, {"sha": "33d45b0f6e7d25d49691700547cd661a633c8f12", "filename": "src/libgreen/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibgreen%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibgreen%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgreen%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -17,7 +17,6 @@\n //! This can be optionally linked in to rust programs in order to provide M:N\n //! functionality inside of 1:1 programs.\n \n-#[pkgid = \"green#0.9-pre\"];\n #[crate_id = \"green#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"rlib\"];"}, {"sha": "d92127cfbb25811652adc7b1cd601f5907f10944", "filename": "src/libnative/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibnative%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibnative%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibnative%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -14,7 +14,6 @@\n //! runtime. In addition, all I/O provided by this crate is the thread blocking\n //! version of I/O.\n \n-#[pkgid = \"native#0.9-pre\"];\n #[crate_id = \"native#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"rlib\"];"}, {"sha": "710a5dc93c0edc06eeb9eafebbbceaa3c206217a", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// NOTE: remove after snapshot\n-#[pkgid = \"rustc#0.9-pre\"];\n #[crate_id = \"rustc#0.9-pre\"];\n #[comment = \"The Rust compiler\"];\n #[license = \"MIT/ASL2\"];"}, {"sha": "cb4208128d5c7824ba60b68332c80d173b901ecf", "filename": "src/librustc/middle/lint.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustc%2Fmiddle%2Flint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustc%2Fmiddle%2Flint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Flint.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -828,8 +828,7 @@ fn check_heap_item(cx: &Context, it: &ast::item) {\n }\n \n static crate_attrs: &'static [&'static str] = &[\n-// NOTE: remove pkgid after snapshot\n-    \"crate_type\", \"feature\", \"no_uv\", \"no_main\", \"no_std\", \"pkgid\", \"crate_id\",\n+    \"crate_type\", \"feature\", \"no_uv\", \"no_main\", \"no_std\", \"crate_id\",\n     \"desc\", \"comment\", \"license\", \"copyright\", // not used in rustc now\n ];\n "}, {"sha": "c60f19d3ad26fa7a903649eff03c9a230e20c7b4", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// NOTE: remove after snapshot\n-#[pkgid = \"rustdoc#0.9-pre\"];\n #[crate_id = \"rustdoc#0.9-pre\"];\n #[desc = \"rustdoc, the Rust documentation extractor\"];\n #[license = \"MIT/ASL2\"];"}, {"sha": "6bb6add407a41eb26130e958c32f98f866503bd5", "filename": "src/librustpkg/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustpkg%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustpkg%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -10,8 +10,6 @@\n \n // rustpkg - a package manager and build system for Rust\n \n-// NOTE: remove after snapshot\n-#[pkgid = \"rustpkg#0.9-pre\"];\n #[crate_id = \"rustpkg#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"dylib\"];"}, {"sha": "62cd0c4836ce612712e4ddf54792295060b6f9f9", "filename": "src/librustuv/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustuv%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibrustuv%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -34,8 +34,6 @@ via `close` and `delete` methods.\n \n */\n \n-// NOTE: remove after snapshot\n-#[pkgid = \"rustuv#0.9-pre\"];\n #[crate_id = \"rustuv#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"rlib\"];"}, {"sha": "442c7f3f856e67ee894288ea66427140ed4d8cff", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -43,8 +43,6 @@\n //!\n //!     use std::prelude::*;\n \n-// NOTE: remove after snapshot\n-#[pkgid = \"std#0.9-pre\"];\n #[crate_id = \"std#0.9-pre\"];\n #[comment = \"The Rust standard library\"];\n #[license = \"MIT/ASL2\"];"}, {"sha": "1ecfc1f25d02e47e9f278468d717b8633cf685ca", "filename": "src/libstd/rtdeps.rs", "status": "modified", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibstd%2Frtdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibstd%2Frtdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frtdeps.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -43,28 +43,3 @@ extern {}\n #[cfg(target_os = \"macos\")]\n #[link(name = \"pthread\")]\n extern {}\n-\n-// NOTE: remove after snapshot\n-// stage0-generated code still depends on c++\n-#[cfg(stage0)]\n-mod stage0 {\n-    #[cfg(target_os = \"linux\")]\n-    #[link(name = \"stdc++\")]\n-    extern {}\n-\n-    #[cfg(target_os = \"android\")]\n-    #[link(name = \"supc++\")]\n-    extern {}\n-\n-    #[cfg(target_os = \"freebsd\")]\n-    #[link(name = \"stdc++\")]\n-    extern {}\n-\n-    #[cfg(target_os = \"macos\")]\n-    #[link(name = \"stdc++\")]\n-    extern {}\n-\n-    #[cfg(target_os = \"win32\")]\n-    #[link(name = \"stdc++\")]\n-    extern {}\n-}"}, {"sha": "a8c5ba0153db9717f664ace87dc90d32c032346c", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -13,8 +13,6 @@\n  *  macros.\n  */\n \n-// NOTE: remove pkgid after snapshot\n-#[pkgid = \"syntax#0.9-pre\"];\n #[crate_id = \"syntax#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"dylib\"];"}, {"sha": "945ed2f8b55f79faea4ed0262377f4ea8565410e", "filename": "src/rt/rust_upcall.c", "status": "removed", "additions": 0, "deletions": 92, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/1f34f50ce6a2b5a9c045df21b9147d61cc54b6cd/src%2Frt%2Frust_upcall.c", "raw_url": "https://github.com/rust-lang/rust/raw/1f34f50ce6a2b5a9c045df21b9147d61cc54b6cd/src%2Frt%2Frust_upcall.c", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_upcall.c?ref=1f34f50ce6a2b5a9c045df21b9147d61cc54b6cd", "patch": "@@ -1,92 +0,0 @@\n-// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// NOTE: remove this file after snapshot\n-// unwind personality routine lives now in libstd/rt/unwind.rs\n-\n-/*\n-  Upcalls\n-\n-  These are runtime functions that the compiler knows about and generates\n-  calls to. They are called on the Rust stack and, in most cases, immediately\n-  switch to the C stack.\n- */\n-\n-#include <stdint.h>\n-\n-//Unwinding ABI declarations.\n-typedef int _Unwind_Reason_Code;\n-typedef int _Unwind_Action;\n-\n-struct _Unwind_Context;\n-struct _Unwind_Exception;\n-\n-#if __USING_SJLJ_EXCEPTIONS__\n-#   define PERSONALITY_FUNC __gxx_personality_sj0\n-#else\n-#   ifdef __SEH__\n-#       define PERSONALITY_FUNC __gxx_personality_seh0\n-#   else\n-#       define PERSONALITY_FUNC __gxx_personality_v0\n-#   endif\n-#endif\n-\n-_Unwind_Reason_Code\n-PERSONALITY_FUNC(int version,\n-                     _Unwind_Action actions,\n-                     uint64_t exception_class,\n-                     struct _Unwind_Exception *ue_header,\n-                     struct _Unwind_Context *context);\n-\n-struct s_rust_personality_args {\n-    _Unwind_Reason_Code retval;\n-    int version;\n-    _Unwind_Action actions;\n-    uint64_t exception_class;\n-    struct _Unwind_Exception *ue_header;\n-    struct _Unwind_Context *context;\n-};\n-\n-static void\n-upcall_s_rust_personality(struct s_rust_personality_args *args) {\n-    args->retval = PERSONALITY_FUNC(args->version,\n-                                    args->actions,\n-                                    args->exception_class,\n-                                    args->ue_header,\n-                                    args->context);\n-}\n-\n-/**\n-   The exception handling personality function. It figures\n-   out what to do with each landing pad. Just a stack-switching\n-   wrapper around the C++ personality function.\n-*/\n-_Unwind_Reason_Code\n-upcall_rust_personality(int version,\n-                        _Unwind_Action actions,\n-                        uint64_t exception_class,\n-                        struct _Unwind_Exception *ue_header,\n-                        struct _Unwind_Context *context) {\n-    struct s_rust_personality_args args = {(_Unwind_Reason_Code)0,\n-                                           version, actions, exception_class,\n-                                           ue_header, context};\n-    upcall_s_rust_personality(&args);\n-    return args.retval;\n-}\n-\n-//\n-// Local Variables:\n-// mode: C++\n-// fill-column: 78;\n-// indent-tabs-mode: nil\n-// c-basic-offset: 4\n-// buffer-file-coding-system: utf-8-unix\n-// End:\n-//"}, {"sha": "2d6e42e005f00382474f7c421a1f6e9d3fba0086", "filename": "src/snapshots.txt", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Fsnapshots.txt", "raw_url": "https://github.com/rust-lang/rust/raw/f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9/src%2Fsnapshots.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsnapshots.txt?ref=f74b8f0d3a90fd3b64afa38b9470d9a45cd04ee9", "patch": "@@ -1,3 +1,11 @@\n+S 2013-12-25 cab6af5\n+  freebsd-x86_64 bf06667e19a24ffad3a4111c704e9e919f08b076\n+  linux-i386 1d3c54daa6192f823dab694e5ea42c636633df6b\n+  linux-x86_64 1af14ca2b248061d5a999062d6bb0825420c0add\n+  macos-i386 7cee8aefd84c8d93cde40b89bf787b669e911171\n+  macos-x86_64 d4a4ef8f2b28d3d5eafbccf0df07999efd8115af\n+  winnt-i386 847e8858bcae47cd56bf1ea3b3c0d536897c8d68\n+\n S 2013-12-17 d5798b3\n   freebsd-x86_64 8f71dbd1aef6c59867ce6287cc82c6033e1ee5e5\n   linux-i386 3a6e8950ef704ec57ab690b30beda19d7a63a537"}]}