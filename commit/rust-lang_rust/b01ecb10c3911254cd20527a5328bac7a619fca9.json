{"sha": "b01ecb10c3911254cd20527a5328bac7a619fca9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwMWVjYjEwYzM5MTEyNTRjZDIwNTI3YTUzMjhiYWM3YTYxOWZjYTk=", "commit": {"author": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2011-07-21T18:58:01Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-21T19:15:36Z"}, "message": "Instantiate the stage0/lib/stdlib rules from stage0.mk instead of stageN.mk.", "tree": {"sha": "a79789032342c435e0a9a57b1afff69e15fcf4c4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a79789032342c435e0a9a57b1afff69e15fcf4c4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b01ecb10c3911254cd20527a5328bac7a619fca9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b01ecb10c3911254cd20527a5328bac7a619fca9", "html_url": "https://github.com/rust-lang/rust/commit/b01ecb10c3911254cd20527a5328bac7a619fca9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b01ecb10c3911254cd20527a5328bac7a619fca9/comments", "author": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d9286c8bdd7f90d1d1cf69281781bdf358238fb8", "url": "https://api.github.com/repos/rust-lang/rust/commits/d9286c8bdd7f90d1d1cf69281781bdf358238fb8", "html_url": "https://github.com/rust-lang/rust/commit/d9286c8bdd7f90d1d1cf69281781bdf358238fb8"}], "stats": {"total": 14, "additions": 6, "deletions": 8}, "files": [{"sha": "cc265795ce8e3cec407c0e58903be2d1719fbbd0", "filename": "Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b01ecb10c3911254cd20527a5328bac7a619fca9/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/b01ecb10c3911254cd20527a5328bac7a619fca9/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=b01ecb10c3911254cd20527a5328bac7a619fca9", "patch": "@@ -226,8 +226,8 @@ config.mk: $(S)configure $(S)Makefile.in $(S)src/snapshots.txt\n ######################################################################\n \n include $(CFG_SRC_DIR)/mk/intrinsics.mk\n-include $(CFG_SRC_DIR)/mk/stage0.mk\n include $(CFG_SRC_DIR)/mk/stageN.mk\n+include $(CFG_SRC_DIR)/mk/stage0.mk\n include $(CFG_SRC_DIR)/mk/rt.mk\n include $(CFG_SRC_DIR)/mk/rustllvm.mk\n include $(CFG_SRC_DIR)/mk/autodep.mk\n@@ -269,4 +269,4 @@ endif\n ifneq ($(findstring clean,$(MAKECMDGOALS)),)\n   CFG_INFO := $(info cfg: including clean rules)\n   include $(CFG_SRC_DIR)/mk/clean.mk\n-endif\n\\ No newline at end of file\n+endif"}, {"sha": "c125e4a9faf10aa0d5eefe89aee83f82fc16f8ed", "filename": "mk/stage0.mk", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b01ecb10c3911254cd20527a5328bac7a619fca9/mk%2Fstage0.mk", "raw_url": "https://github.com/rust-lang/rust/raw/b01ecb10c3911254cd20527a5328bac7a619fca9/mk%2Fstage0.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage0.mk?ref=b01ecb10c3911254cd20527a5328bac7a619fca9", "patch": "@@ -35,6 +35,8 @@ stage0/lib/main.o: rt/main.o\n stage0/lib/$(CFG_RUNTIME): stage0/rustc$(X)\n \t$(Q)touch $@\n \n-# stage0/lib/$(CFG_STDLIB) and stage0/lib/libstd.rlib rules are generated\n-# in stageN.mk\n+# Instantiate template (in stageN.mk) for building\n+# stage0/lib/$(CFG_STDLIB) and stage0/lib/libstd.rlib.\n+SREQpre = stage0/lib/main.o $(MKFILES)\n+$(eval $(call STDLIBGEN,pre,0))\n "}, {"sha": "eda991722dc81d655091e954e6bf374e6eff0465", "filename": "mk/stageN.mk", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b01ecb10c3911254cd20527a5328bac7a619fca9/mk%2FstageN.mk", "raw_url": "https://github.com/rust-lang/rust/raw/b01ecb10c3911254cd20527a5328bac7a619fca9/mk%2FstageN.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2FstageN.mk?ref=b01ecb10c3911254cd20527a5328bac7a619fca9", "patch": "@@ -96,10 +96,6 @@ stage$(2)/lib/$$(CFG_LIBRUSTC): $$(COMPILER_CRATE) $$(COMPILER_INPUTS) \\\n \n endef\n \n-# Instantiate template for building initial stdlib\n-SREQpre = stage0/lib/main.o $(MKFILES)\n-$(eval $(call STDLIBGEN,pre,0))\n-\n # Instantiate template for 0->1, 1->2, 2->3 build dirs\n \n $(eval $(call STAGEN,0,1))"}]}