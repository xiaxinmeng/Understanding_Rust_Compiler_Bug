{"sha": "ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlOWVmMzdmZTY4MmUyNjc3ZjE5YTczZDZhOTBkMzRiNjA4NWViZGI=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-02T00:37:14Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-15T10:03:03Z"}, "message": "Readd suggestion in enum variants with incorrect args", "tree": {"sha": "4873dc56429a716af016f248d14dfa8307b2f34c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4873dc56429a716af016f248d14dfa8307b2f34c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "html_url": "https://github.com/rust-lang/rust/commit/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a317da42b16ffe4d06c12ab795aef3cbc0859de9", "url": "https://api.github.com/repos/rust-lang/rust/commits/a317da42b16ffe4d06c12ab795aef3cbc0859de9", "html_url": "https://github.com/rust-lang/rust/commit/a317da42b16ffe4d06c12ab795aef3cbc0859de9"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "e21f619d6c37c28f9a6f59259acdd1e298841ead", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "patch": "@@ -2730,6 +2730,18 @@ impl<'a> Resolver<'a> {\n                         }\n                         return (err, candidates);\n                     }\n+                    (Def::VariantCtor(_, ctor_kind), _) if ns == ValueNS && is_struct_like(def) => {\n+                        let block = match ctor_kind {\n+                            CtorKind::Fn => \"(/* fields */)\",\n+                            CtorKind::Fictive => \" { /* fields */ }\",\n+                            def => bug!(\"found def `{:?}` when looking for a ctor\",\n+                                        def),\n+                        };\n+                        err.span_label(span, format!(\"did you mean `{}{}`?\",\n+                                                     path_str,\n+                                                     block));\n+                        return (err, candidates);\n+                    }\n                     _ => {}\n                 }\n             }"}, {"sha": "edc7196d8464570222f235bd0a0b9b3e10947f20", "filename": "src/test/ui/resolve/issue-18252.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb/src%2Ftest%2Fui%2Fresolve%2Fissue-18252.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb/src%2Ftest%2Fui%2Fresolve%2Fissue-18252.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-18252.stderr?ref=ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "patch": "@@ -2,7 +2,7 @@ error[E0423]: expected function, found struct variant `Foo::Variant`\n   --> $DIR/issue-18252.rs:16:13\n    |\n 16 |     let f = Foo::Variant(42);\n-   |             ^^^^^^^^^^^^ not a function\n+   |             ^^^^^^^^^^^^ did you mean `Foo::Variant { /* fields */ }`?\n \n error: aborting due to previous error\n "}, {"sha": "7b14d49af51dd8c79cddd54c83372dd9b8929395", "filename": "src/test/ui/resolve/issue-19452.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb/src%2Ftest%2Fui%2Fresolve%2Fissue-19452.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb/src%2Ftest%2Fui%2Fresolve%2Fissue-19452.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-19452.stderr?ref=ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "patch": "@@ -2,13 +2,13 @@ error[E0423]: expected value, found struct variant `Homura::Madoka`\n   --> $DIR/issue-19452.rs:19:18\n    |\n 19 |     let homura = Homura::Madoka;\n-   |                  ^^^^^^^^^^^^^^ not a value\n+   |                  ^^^^^^^^^^^^^^ did you mean `Homura::Madoka { /* fields */ }`?\n \n error[E0423]: expected value, found struct variant `issue_19452_aux::Homura::Madoka`\n   --> $DIR/issue-19452.rs:22:18\n    |\n 22 |     let homura = issue_19452_aux::Homura::Madoka;\n-   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ not a value\n+   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ did you mean `issue_19452_aux::Homura::Madoka { /* fields */ }`?\n \n error: aborting due to 2 previous errors\n "}]}