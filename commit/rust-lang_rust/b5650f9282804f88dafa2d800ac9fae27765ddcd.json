{"sha": "b5650f9282804f88dafa2d800ac9fae27765ddcd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1NjUwZjkyODI4MDRmODhkYWZhMmQ4MDBhYzlmYWUyNzc2NWRkY2Q=", "commit": {"author": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2018-03-15T09:08:52Z"}, "committer": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2018-06-19T01:19:48Z"}, "message": "Parallel code", "tree": {"sha": "1e6e7dd393bd29512524b53b5d4194d2cc05bbd4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1e6e7dd393bd29512524b53b5d4194d2cc05bbd4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b5650f9282804f88dafa2d800ac9fae27765ddcd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b5650f9282804f88dafa2d800ac9fae27765ddcd", "html_url": "https://github.com/rust-lang/rust/commit/b5650f9282804f88dafa2d800ac9fae27765ddcd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b5650f9282804f88dafa2d800ac9fae27765ddcd/comments", "author": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6ee8e0fc112fbc126405a75dff0275dd50b1dbe4", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ee8e0fc112fbc126405a75dff0275dd50b1dbe4", "html_url": "https://github.com/rust-lang/rust/commit/6ee8e0fc112fbc126405a75dff0275dd50b1dbe4"}], "stats": {"total": 20, "additions": 11, "deletions": 9}, "files": [{"sha": "684fd10c8c652df33fa0f9069c59e05249d52027", "filename": "src/librustc_borrowck/borrowck/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs?ref=b5650f9282804f88dafa2d800ac9fae27765ddcd", "patch": "@@ -67,9 +67,9 @@ pub struct LoanDataFlowOperator;\n pub type LoanDataFlow<'a, 'tcx> = DataFlowContext<'a, 'tcx, LoanDataFlowOperator>;\n \n pub fn check_crate<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>) {\n-    for body_owner_def_id in tcx.body_owners() {\n+    tcx.par_body_owners(|body_owner_def_id| {\n         tcx.borrowck(body_owner_def_id);\n-    }\n+    });\n }\n \n pub fn provide(providers: &mut Providers) {"}, {"sha": "a5a20af0e4e4ae880558ce2a5bbd653984987c65", "filename": "src/librustc_borrowck/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_borrowck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_borrowck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Flib.rs?ref=b5650f9282804f88dafa2d800ac9fae27765ddcd", "patch": "@@ -17,6 +17,8 @@\n #![feature(from_ref)]\n #![feature(quote)]\n \n+#![recursion_limit=\"256\"]\n+\n #[macro_use] extern crate log;\n extern crate syntax;\n extern crate syntax_pos;"}, {"sha": "c18a089268659e06668c04083748f609239539f9", "filename": "src/librustc_driver/driver.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_driver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_driver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Fdriver.rs?ref=b5650f9282804f88dafa2d800ac9fae27765ddcd", "patch": "@@ -1272,11 +1272,9 @@ where\n \n             time(sess, \"borrow checking\", || borrowck::check_crate(tcx));\n \n-            time(sess, \"MIR borrow checking\", || {\n-                for def_id in tcx.body_owners() {\n-                    tcx.mir_borrowck(def_id);\n-                }\n-            });\n+            time(sess,\n+                 \"MIR borrow checking\",\n+                 || tcx.par_body_owners(|def_id| { tcx.mir_borrowck(def_id); }));\n \n             time(sess, \"dumping chalk-like clauses\", || {\n                 rustc_traits::lowering::dump_program_clauses(tcx);"}, {"sha": "b70b61d191594f0baa9c8e2c6b4ee983a5b7de33", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=b5650f9282804f88dafa2d800ac9fae27765ddcd", "patch": "@@ -702,9 +702,9 @@ fn typeck_item_bodies<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>, crate_num: CrateNum\n {\n     debug_assert!(crate_num == LOCAL_CRATE);\n     Ok(tcx.sess.track_errors(|| {\n-        for body_owner_def_id in tcx.body_owners() {\n+        tcx.par_body_owners(|body_owner_def_id| {\n             ty::query::queries::typeck_tables_of::ensure(tcx, body_owner_def_id);\n-        }\n+        });\n     })?)\n }\n "}, {"sha": "80f57adf580bfc6b5743025a4a812c2c14effd55", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5650f9282804f88dafa2d800ac9fae27765ddcd/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=b5650f9282804f88dafa2d800ac9fae27765ddcd", "patch": "@@ -83,6 +83,8 @@ This API is completely unstable and subject to change.\n #![feature(slice_sort_by_cached_key)]\n #![feature(never_type)]\n \n+#![recursion_limit=\"256\"]\n+\n #[macro_use] extern crate log;\n #[macro_use] extern crate syntax;\n extern crate syntax_pos;"}]}