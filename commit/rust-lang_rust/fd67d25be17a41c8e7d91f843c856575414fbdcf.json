{"sha": "fd67d25be17a41c8e7d91f843c856575414fbdcf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkNjdkMjViZTE3YTQxYzhlN2Q5MWY4NDNjODU2NTc1NDE0ZmJkY2Y=", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2021-01-04T10:04:58Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2021-01-04T10:31:55Z"}, "message": "Build aarch64-pc-windows-msvc releases", "tree": {"sha": "96f5f132b30af8f92d11de84901b5b160724857a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96f5f132b30af8f92d11de84901b5b160724857a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fd67d25be17a41c8e7d91f843c856575414fbdcf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fd67d25be17a41c8e7d91f843c856575414fbdcf", "html_url": "https://github.com/rust-lang/rust/commit/fd67d25be17a41c8e7d91f843c856575414fbdcf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fd67d25be17a41c8e7d91f843c856575414fbdcf/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5b86ff3e91838e58397ec39502d85056e46fcfcb", "url": "https://api.github.com/repos/rust-lang/rust/commits/5b86ff3e91838e58397ec39502d85056e46fcfcb", "html_url": "https://github.com/rust-lang/rust/commit/5b86ff3e91838e58397ec39502d85056e46fcfcb"}], "stats": {"total": 68, "additions": 51, "deletions": 17}, "files": [{"sha": "cc39943ab6f2396b59ba985fa81cd41a17a30177", "filename": ".github/workflows/release.yaml", "status": "modified", "additions": 51, "deletions": 17, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/fd67d25be17a41c8e7d91f843c856575414fbdcf/.github%2Fworkflows%2Frelease.yaml", "raw_url": "https://github.com/rust-lang/rust/raw/fd67d25be17a41c8e7d91f843c856575414fbdcf/.github%2Fworkflows%2Frelease.yaml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Frelease.yaml?ref=fd67d25be17a41c8e7d91f843c856575414fbdcf", "patch": "@@ -15,8 +15,8 @@ env:\n   RUSTUP_MAX_RETRIES: 10\n \n jobs:\n-  dist-windows:\n-    name: dist (Windows)\n+  dist-x86_64-pc-windows-msvc:\n+    name: dist (x86_64-pc-windows-msvc)\n     runs-on: windows-latest\n     env:\n       RA_TARGET: x86_64-pc-windows-msvc\n@@ -45,11 +45,41 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-windows-latest\n+        name: x86_64-pc-windows-msvc\n         path: ./dist\n \n-  dist-ubuntu:\n-    name: dist (Ubuntu 16.04)\n+  dist-aarch64-pc-windows-msvc:\n+    name: dist (aarch64-pc-windows-msvc)\n+    runs-on: windows-latest\n+    env:\n+      RA_TARGET: aarch64-pc-windows-msvc\n+\n+    steps:\n+    - name: Checkout repository\n+      uses: actions/checkout@v2\n+\n+    - name: Rename existing rust toolchain\n+      run: Rename-Item C:\\Users\\runneradmin\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc C:\\Users\\runneradmin\\.rustup\\toolchains\\stable-x86_64-pc-windows-msvc.old\n+\n+    - name: Install Rust toolchain\n+      uses: actions-rs/toolchain@v1\n+      with:\n+        toolchain: stable\n+        target: aarch64-pc-windows-msvc\n+        profile: minimal\n+        override: true\n+\n+    - name: Dist\n+      run: cargo xtask dist\n+\n+    - name: Upload artifacts\n+      uses: actions/upload-artifact@v1\n+      with:\n+        name: dist-aarch64-pc-windows-msvc\n+        path: ./dist\n+\n+  dist-x86_64-unknown-linux-gnu:\n+    name: dist (x86_64-unknown-linux-gnu)\n     runs-on: ubuntu-16.04\n     env:\n       RA_TARGET: x86_64-unknown-linux-gnu\n@@ -85,11 +115,11 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-ubuntu-16.04\n+        name: dist-x86_64-unknown-linux-gnu\n         path: ./dist\n \n-  dist-macos-latest:\n-    name: dist (MacOS latest)\n+  dist-x86_64-apple-darwin:\n+    name: dist (x86_64-apple-darwin)\n     runs-on: macos-latest\n     env:\n       RA_TARGET: x86_64-apple-darwin\n@@ -111,11 +141,11 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-macos-latest\n+        name: dist-x86_64-apple-darwin\n         path: ./dist\n \n-  dist-macos-11:\n-    name: dist (MacOS 11.0)\n+  dist-aarch64-apple-darwin:\n+    name: dist (aarch64-apple-darwin)\n     runs-on: macos-11.0\n     env:\n       RA_TARGET: aarch64-apple-darwin\n@@ -138,13 +168,13 @@ jobs:\n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n       with:\n-        name: dist-macos-11.0\n+        name: dist-aarch64-apple-darwin\n         path: ./dist\n \n   publish:\n     name: publish\n     runs-on: ubuntu-16.04\n-    needs: ['dist-windows', 'dist-ubuntu', 'dist-macos-latest', 'dist-macos-11']\n+    needs: ['dist-x86_64-pc-windows-msvc', 'dist-aarch64-pc-windows-msvc', 'dist-x86_64-unknown-linux-gnu', 'dist-x86_64-apple-darwin', 'dist-aarch64-apple-darwin']\n     steps:\n     - name: Install Nodejs\n       uses: actions/setup-node@v1\n@@ -165,19 +195,23 @@ jobs:\n \n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-macos-11.0\n+        name: dist-aarch64-apple-darwin\n+        path: dist\n+    - uses: actions/download-artifact@v1\n+      with:\n+        name: dist-x86_64-apple-darwin\n         path: dist\n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-macos-latest\n+        name: dist-x86_64-unknown-linux-gnu\n         path: dist\n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-ubuntu-16.04\n+        name: dist-x86_64-pc-windows-msvc\n         path: dist\n     - uses: actions/download-artifact@v1\n       with:\n-        name: dist-windows-latest\n+        name: dist-aarch64-pc-windows-msvc\n         path: dist\n     - run: ls -al ./dist\n "}]}