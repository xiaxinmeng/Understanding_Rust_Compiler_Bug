{"sha": "b9b42e867066288f2cd1fc835c77a31e27439496", "node_id": "C_kwDOAAsO6NoAKGI5YjQyZTg2NzA2NjI4OGYyY2QxZmM4MzVjNzdhMzFlMjc0Mzk0OTY", "commit": {"author": {"name": "Artur Sinila", "email": "personal@logarithmus.dev", "date": "2022-07-13T21:32:25Z"}, "committer": {"name": "Artur Sinila", "email": "personal@logarithmus.dev", "date": "2022-07-16T23:13:09Z"}, "message": "tests: add hover tests for const generics", "tree": {"sha": "24a7cc3768cb4e6ceedd9fd0ec0da12d26eb4e07", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/24a7cc3768cb4e6ceedd9fd0ec0da12d26eb4e07"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b9b42e867066288f2cd1fc835c77a31e27439496", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQRdoiNI+SeWALw+khR3DmnWkHNcYQUCYtNGLwAKCRB3DmnWkHNc\nYdR/AQCff4XN9Ijb18oKzN8DCulozkvPaYjnuXvHslfrsSfuswD/Wb9m8WoY2g4f\ndUY+K5p1c1MUkCmc/pCXcI/twfAlMAM=\n=OC7I\n-----END PGP SIGNATURE-----", "payload": "tree 24a7cc3768cb4e6ceedd9fd0ec0da12d26eb4e07\nparent 4cbf23c192517cfebb0d754987aae95bc683b7a4\nauthor Artur Sinila <personal@logarithmus.dev> 1657747945 +0300\ncommitter Artur Sinila <personal@logarithmus.dev> 1658013189 +0300\n\ntests: add hover tests for const generics\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b9b42e867066288f2cd1fc835c77a31e27439496", "html_url": "https://github.com/rust-lang/rust/commit/b9b42e867066288f2cd1fc835c77a31e27439496", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b9b42e867066288f2cd1fc835c77a31e27439496/comments", "author": {"login": "Logarithmus", "id": 29541480, "node_id": "MDQ6VXNlcjI5NTQxNDgw", "avatar_url": "https://avatars.githubusercontent.com/u/29541480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Logarithmus", "html_url": "https://github.com/Logarithmus", "followers_url": "https://api.github.com/users/Logarithmus/followers", "following_url": "https://api.github.com/users/Logarithmus/following{/other_user}", "gists_url": "https://api.github.com/users/Logarithmus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Logarithmus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Logarithmus/subscriptions", "organizations_url": "https://api.github.com/users/Logarithmus/orgs", "repos_url": "https://api.github.com/users/Logarithmus/repos", "events_url": "https://api.github.com/users/Logarithmus/events{/privacy}", "received_events_url": "https://api.github.com/users/Logarithmus/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Logarithmus", "id": 29541480, "node_id": "MDQ6VXNlcjI5NTQxNDgw", "avatar_url": "https://avatars.githubusercontent.com/u/29541480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Logarithmus", "html_url": "https://github.com/Logarithmus", "followers_url": "https://api.github.com/users/Logarithmus/followers", "following_url": "https://api.github.com/users/Logarithmus/following{/other_user}", "gists_url": "https://api.github.com/users/Logarithmus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Logarithmus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Logarithmus/subscriptions", "organizations_url": "https://api.github.com/users/Logarithmus/orgs", "repos_url": "https://api.github.com/users/Logarithmus/repos", "events_url": "https://api.github.com/users/Logarithmus/events{/privacy}", "received_events_url": "https://api.github.com/users/Logarithmus/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4cbf23c192517cfebb0d754987aae95bc683b7a4", "url": "https://api.github.com/repos/rust-lang/rust/commits/4cbf23c192517cfebb0d754987aae95bc683b7a4", "html_url": "https://github.com/rust-lang/rust/commit/4cbf23c192517cfebb0d754987aae95bc683b7a4"}], "stats": {"total": 100, "additions": 100, "deletions": 0}, "files": [{"sha": "867d1f54d4feb99257042408277287163ff093cd", "filename": "crates/ide/src/hover/tests.rs", "status": "modified", "additions": 100, "deletions": 0, "changes": 100, "blob_url": "https://github.com/rust-lang/rust/blob/b9b42e867066288f2cd1fc835c77a31e27439496/crates%2Fide%2Fsrc%2Fhover%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b9b42e867066288f2cd1fc835c77a31e27439496/crates%2Fide%2Fsrc%2Fhover%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fhover%2Ftests.rs?ref=b9b42e867066288f2cd1fc835c77a31e27439496", "patch": "@@ -2958,6 +2958,106 @@ struct S$0T<const C: usize = 1, T = Foo>(T);\n     );\n }\n \n+#[test]\n+fn const_generic_positive_i8_literal() {\n+    check(\n+        r#\"\n+struct Const<const N: i8>;\n+\n+fn main() {\n+    let v$0alue = Const::<1>;\n+}\n+\"#,\n+        expect![[r#\"\n+            *value*\n+\n+            ```rust\n+            let value: Const<1>\n+            ```\n+        \"#]],\n+    );\n+}\n+\n+#[test]\n+fn const_generic_zero_i8_literal() {\n+    check(\n+        r#\"\n+struct Const<const N: i8>;\n+\n+fn main() {\n+    let v$0alue = Const::<0>;\n+}\n+\"#,\n+        expect![[r#\"\n+            *value*\n+\n+            ```rust\n+            let value: Const<0>\n+            ```\n+        \"#]],\n+    );\n+}\n+\n+#[test]\n+fn const_generic_negative_i8_literal() {\n+    check(\n+        r#\"\n+struct Const<const N: i8>;\n+\n+fn main() {\n+    let v$0alue = Const::<-1>;\n+}\n+\"#,\n+        expect![[r#\"\n+            *value*\n+\n+            ```rust\n+            let value: Const<-1>\n+            ```\n+        \"#]],\n+    );\n+}\n+\n+#[test]\n+fn const_generic_bool_literal() {\n+    check(\n+        r#\"\n+struct Const<const F: bool>;\n+\n+fn main() {\n+    let v$0alue = Const::<true>;\n+}\n+\"#,\n+        expect![[r#\"\n+            *value*\n+\n+            ```rust\n+            let value: Const<true>\n+            ```\n+        \"#]],\n+    );\n+}\n+\n+#[test]\n+fn const_generic_char_literal() {\n+    check(\n+        r#\"\n+struct Const<const C: char>;\n+\n+fn main() {\n+    let v$0alue = Const::<'\ud83e\udd80'>;\n+}\n+\"#,\n+        expect![[r#\"\n+            *value*\n+\n+            ```rust\n+            let value: Const<'\ud83e\udd80'>\n+            ```\n+        \"#]],\n+    );\n+}\n+\n #[test]\n fn hover_self_param_shows_type() {\n     check("}]}