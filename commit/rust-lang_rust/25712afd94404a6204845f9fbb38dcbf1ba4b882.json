{"sha": "25712afd94404a6204845f9fbb38dcbf1ba4b882", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI1NzEyYWZkOTQ0MDRhNjIwNDg0NWY5ZmJiMzhkY2JmMWJhNGI4ODI=", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2021-04-30T15:24:49Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2021-05-06T01:41:51Z"}, "message": "Add `#[link]` attributes to dll imports\n\nThis avoids using jmp stubs when calling functions exported from a dll.", "tree": {"sha": "834bbb5e4d645d4a864c422fd7aecd434c470e6d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/834bbb5e4d645d4a864c422fd7aecd434c470e6d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/25712afd94404a6204845f9fbb38dcbf1ba4b882", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmCTSV8ACgkQcTRy8vRW\nJ95vxg/+JyFyKVo11DuCYW9B4hZI0uFCsluBroI2Rrb1TZ1fJpHg6WlyJVs0mm+i\nlnfCE5X9ZriQ1mnqeR7FvEZjk5MluR8VDrl1hLWmYr9n931XBfyP91SNfignjYVH\n1m7q6FkHpgGfzSYdtUJ9XSyiv5tcjUbaTEYdpcyBpve2coc14OePoP9JbiWxzrh9\nMnQ0+ynqD0Vi+Iiziht1JlXVsZHVzzGwUlonMBBa5sxi2VHvaMlnaBc1XkLeAtJL\n6ko/OfbNcV3QuUtQhcSZzrx0ObcFtpyvVc3qh8C4ChcGC/ET1R2uSxJQX3wPwYH6\nyeg6p0xCYjFbamQVeOCC3adA5W8yRGDRnoFLbKAfY1ruFDVw0CQKpi8vOyi9P+jH\nhuZlefkXmjyqAA+AMrhBhgJddU4mlz/3gGCWFy8UQFS3u5cIU/lb3u6R8ZhhCgJX\nn+s6jyY6vCgI4kOdAQDpHB7c9TJfGv9oc+cqGDEgqNbRHqopaQTRECt4BIxw+62z\n4OOv8nYP+RWzVyHSh58d5MwAhelPdR3DSAbycoGk8NhbwJgWR3eTZLJnotudZqiT\n4duVGf6WY/Mx9sda6VOTBdi0XelOkkmv5DobIO7uNIWPIen8yvWKuJB2X6vEvdJQ\nhQv0k/+fKkMPDmlIcmedVl8XjlGUvdP3/+cI8aIj26Flje6uock=\n=XMe6\n-----END PGP SIGNATURE-----", "payload": "tree 834bbb5e4d645d4a864c422fd7aecd434c470e6d\nparent bacf770f2983a52f31e3537db5f0fe1ef2eaa874\nauthor Chris Denton <christophersdenton@gmail.com> 1619796289 +0100\ncommitter Chris Denton <christophersdenton@gmail.com> 1620265311 +0100\n\nAdd `#[link]` attributes to dll imports\n\nThis avoids using jmp stubs when calling functions exported from a dll.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/25712afd94404a6204845f9fbb38dcbf1ba4b882", "html_url": "https://github.com/rust-lang/rust/commit/25712afd94404a6204845f9fbb38dcbf1ba4b882", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/25712afd94404a6204845f9fbb38dcbf1ba4b882/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bacf770f2983a52f31e3537db5f0fe1ef2eaa874", "url": "https://api.github.com/repos/rust-lang/rust/commits/bacf770f2983a52f31e3537db5f0fe1ef2eaa874", "html_url": "https://github.com/rust-lang/rust/commit/bacf770f2983a52f31e3537db5f0fe1ef2eaa874"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "57885c9bcf929e56b1046e6045f0b8e89826ed81", "filename": "library/std/src/sys/windows/c.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/25712afd94404a6204845f9fbb38dcbf1ba4b882/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/25712afd94404a6204845f9fbb38dcbf1ba4b882/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fc.rs?ref=25712afd94404a6204845f9fbb38dcbf1ba4b882", "patch": "@@ -688,6 +688,7 @@ if #[cfg(not(target_vendor = \"uwp\"))] {\n \n     pub const TOKEN_READ: DWORD = 0x20008;\n \n+    #[link(name=\"kernel32\")]\n     extern \"system\" {\n         #[link_name = \"SystemFunction036\"]\n         pub fn RtlGenRandom(RandomBuffer: *mut u8, RandomBufferLength: ULONG) -> BOOLEAN;\n@@ -744,6 +745,7 @@ if #[cfg(target_vendor = \"uwp\")] {\n         pub Directory: BOOLEAN,\n     }\n \n+    #[link(name=\"kernel32\")]\n     extern \"system\" {\n         pub fn GetFileInformationByHandleEx(hFile: HANDLE,\n                                             fileInfoClass: FILE_INFO_BY_HANDLE_CLASS,\n@@ -756,6 +758,7 @@ if #[cfg(target_vendor = \"uwp\")] {\n }\n \n // Shared between Desktop & UWP\n+#[link(name = \"kernel32\")]\n extern \"system\" {\n     pub fn WSAStartup(wVersionRequested: WORD, lpWSAData: LPWSADATA) -> c_int;\n     pub fn WSACleanup() -> c_int;"}]}