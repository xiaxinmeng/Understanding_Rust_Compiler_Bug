{"sha": "59905d1f27192797bd5fd81c8ace934955be8a81", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU5OTA1ZDFmMjcxOTI3OTdiZDVmZDgxYzhhY2U5MzQ5NTViZThhODE=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-06-27T22:36:05Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-06-28T02:00:10Z"}, "message": "mk: Make windows installer work with -pre versions", "tree": {"sha": "62df77532b9ef7caa34dca6c9150dc9d1deb9dd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/62df77532b9ef7caa34dca6c9150dc9d1deb9dd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59905d1f27192797bd5fd81c8ace934955be8a81", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59905d1f27192797bd5fd81c8ace934955be8a81", "html_url": "https://github.com/rust-lang/rust/commit/59905d1f27192797bd5fd81c8ace934955be8a81", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59905d1f27192797bd5fd81c8ace934955be8a81/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4c86a0431b637edd23b91234765402bb41edcae8", "url": "https://api.github.com/repos/rust-lang/rust/commits/4c86a0431b637edd23b91234765402bb41edcae8", "html_url": "https://github.com/rust-lang/rust/commit/4c86a0431b637edd23b91234765402bb41edcae8"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "dfeb735f5f1e6354ede1e634f1a8557cd4e79dee", "filename": "Makefile.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/59905d1f27192797bd5fd81c8ace934955be8a81/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/59905d1f27192797bd5fd81c8ace934955be8a81/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=59905d1f27192797bd5fd81c8ace934955be8a81", "patch": "@@ -141,6 +141,9 @@ endif\n CFG_GIT_DIR := $(CFG_SRC_DIR).git\n CFG_RELEASE = 0.7-pre\n CFG_VERSION = $(CFG_RELEASE)\n+# windows exe's need numeric versions - don't use anything but\n+# numbers and dots here\n+CFG_VERSION_WIN = 0.7\n \n ifneq ($(wildcard $(CFG_GIT)),)\n ifneq ($(wildcard $(CFG_GIT_DIR)),)\n@@ -311,6 +314,7 @@ $(foreach host,$(CFG_HOST_TRIPLES), \\\n export CFG_SRC_DIR\n export CFG_BUILD_DIR\n export CFG_VERSION\n+export CFG_VERSION_WIN\n export CFG_BUILD_TRIPLE\n export CFG_LLVM_ROOT\n export CFG_ENABLE_MINGW_CROSS"}, {"sha": "0375a041a39e97ab9a009b35fced5d015b0fd3e3", "filename": "src/etc/pkg/rust.iss", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/59905d1f27192797bd5fd81c8ace934955be8a81/src%2Fetc%2Fpkg%2Frust.iss", "raw_url": "https://github.com/rust-lang/rust/raw/59905d1f27192797bd5fd81c8ace934955be8a81/src%2Fetc%2Fpkg%2Frust.iss", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fpkg%2Frust.iss?ref=59905d1f27192797bd5fd81c8ace934955be8a81", "patch": "@@ -1,4 +1,5 @@\n #define CFG_VERSION GetEnv(\"CFG_VERSION\")\n+#define CFG_VERSION_WIN GetEnv(\"CFG_VERSION_WIN\")\n \n [Setup]\n \n@@ -8,7 +9,7 @@ AppVersion={#CFG_VERSION}\n AppCopyright=Copyright (C) 2006-2013 Mozilla Foundation, MIT license\n AppPublisher=Mozilla Foundation\n AppPublisherURL=http://www.rust-lang.org\n-VersionInfoVersion={#CFG_VERSION}\n+VersionInfoVersion={#CFG_VERSION_WIN}\n LicenseFile=LICENSE.txt\n \n DisableWelcomePage=true"}]}