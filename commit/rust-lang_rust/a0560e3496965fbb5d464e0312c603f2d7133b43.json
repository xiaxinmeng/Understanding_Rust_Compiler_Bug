{"sha": "a0560e3496965fbb5d464e0312c603f2d7133b43", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwNTYwZTM0OTY5NjVmYmI1ZDQ2NGUwMzEyYzYwM2YyZDcxMzNiNDM=", "commit": {"author": {"name": "David Ross", "email": "daboross@daboross.net", "date": "2017-02-26T19:34:32Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-02-26T19:34:32Z"}, "message": "Update travis section of README\n\nThis fixes the example travis config to not ignore install errors for rustfmt, while still not trying to overwrite a previous install.\r\n\r\nIn addition, this rewrites the script: section to include multiple commands in a way that travis can more accurately indicate which failed and which succeeded.", "tree": {"sha": "a8d78fbb8e4578a178d4b25c7290510c5b2a7861", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a8d78fbb8e4578a178d4b25c7290510c5b2a7861"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a0560e3496965fbb5d464e0312c603f2d7133b43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a0560e3496965fbb5d464e0312c603f2d7133b43", "html_url": "https://github.com/rust-lang/rust/commit/a0560e3496965fbb5d464e0312c603f2d7133b43", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a0560e3496965fbb5d464e0312c603f2d7133b43/comments", "author": {"login": "daboross", "id": 1152146, "node_id": "MDQ6VXNlcjExNTIxNDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1152146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daboross", "html_url": "https://github.com/daboross", "followers_url": "https://api.github.com/users/daboross/followers", "following_url": "https://api.github.com/users/daboross/following{/other_user}", "gists_url": "https://api.github.com/users/daboross/gists{/gist_id}", "starred_url": "https://api.github.com/users/daboross/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daboross/subscriptions", "organizations_url": "https://api.github.com/users/daboross/orgs", "repos_url": "https://api.github.com/users/daboross/repos", "events_url": "https://api.github.com/users/daboross/events{/privacy}", "received_events_url": "https://api.github.com/users/daboross/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7ad352239acbc5c2824ab97ab8881ea843496d0e", "url": "https://api.github.com/repos/rust-lang/rust/commits/7ad352239acbc5c2824ab97ab8881ea843496d0e", "html_url": "https://github.com/rust-lang/rust/commit/7ad352239acbc5c2824ab97ab8881ea843496d0e"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "145f9bac3d8f2c7c7495e763b592280678df60b2", "filename": "README.md", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a0560e3496965fbb5d464e0312c603f2d7133b43/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/a0560e3496965fbb5d464e0312c603f2d7133b43/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=a0560e3496965fbb5d464e0312c603f2d7133b43", "patch": "@@ -124,13 +124,13 @@ A minimal Travis setup could look like this:\n ```yaml\n language: rust\n cache: cargo\n-before_script: (cargo install rustfmt || true)\n+before_script:\n+- export PATH=\"$PATH:$HOME/.cargo/bin\"\n+- which rustfmt || cargo install rustfmt\n script:\n-- |\n-  export PATH=$PATH:~/.cargo/bin &&\n-  cargo fmt -- --write-mode=diff &&\n-  cargo build &&\n-  cargo test\n+- cargo fmt -- --write-mode=diff\n+- cargo build\n+- cargo test\n ```\n \n Note that using `cache: cargo` is optional but highly recommended to speed up the installation."}]}