{"sha": "e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2YmJlZDkwOWVlNTE2YjVlNTBiZmIxYTNiMmI4NmE2YjI5ODhiYzM=", "commit": {"author": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-07-18T18:43:10Z"}, "committer": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-07-18T18:43:10Z"}, "message": "Add test", "tree": {"sha": "07df17cac10f47edd18cfc79440774c287cdf29f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07df17cac10f47edd18cfc79440774c287cdf29f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEXLDp5dXVcfV/VA/qztOS3gxIPQAFAl0wvb4ACgkQztOS3gxI\nPQALZRAApX3xVY1v5Htn87+bXeX32YcbrMsnXBjETK7cx9Sv9O2D7ulWSBHlMric\nmnAgZfqdRpjNsetQ00U04CU8WXDG/RSjNvYkdrcNKjo42SdIrvl60Hk6tTzbcX1Z\n6RBGK3BlFwwMRLheMtqWFshpoEpxBDQUJSCgkDLWRVD1/nYat49SjE02UPdOx7RH\naS/yyxBU2nhSSdQnx2rueVQsRfgjIItNt47zReflFIU/4TvNRsHDUZZKHCrrYKJy\nALj4DkC82mbxQs8gUwMSz+g4g3x4fXDmsRKVxOIVtrlryF2LkFc8bkVvBXR9hgqz\nnYphjjDaYFL+PNC/VzMioN6GmoXfXE5/h1jkejNYIgwPnCPL9HMxsk9yDqMgnCv8\nxxOpdugXDhqWmo4GQ3kvpXwK0FHzYQv9cJWyHM+CfWEopmyHK5r4ofh6jdGOYwng\nazC8Haxjh9Ol0shKJX2/uf1bq2V/jnUSE3sb5rf4zlBBMJOkoKXcpzc4ue0PXtV8\n5ELpcI72hK2ZsJ0K8dJN+OzS/0/u1r8HuFf/EwsG9NVzpu9B6rAl/nTpEzoFj9yx\nCXSXMOXecV6xrL0IPva2IzuZLI3KK6vf5KBlkVo5u1peao+9PYEcJLydP6xU5WP5\ngmWyNvnAhCE2+yiqgCwUWlyfQAQMw20wzK9fPFQqVwkKDBuPQuw=\n=/e2J\n-----END PGP SIGNATURE-----", "payload": "tree 07df17cac10f47edd18cfc79440774c287cdf29f\nparent a9bec0c8a6020ed61ca150f046455b309283848d\nauthor uHOOCCOOHu <hooccooh1896@gmail.com> 1563475390 +0800\ncommitter uHOOCCOOHu <hooccooh1896@gmail.com> 1563475390 +0800\n\nAdd test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3", "html_url": "https://github.com/rust-lang/rust/commit/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3/comments", "author": null, "committer": null, "parents": [{"sha": "a9bec0c8a6020ed61ca150f046455b309283848d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9bec0c8a6020ed61ca150f046455b309283848d", "html_url": "https://github.com/rust-lang/rust/commit/a9bec0c8a6020ed61ca150f046455b309283848d"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "dbf482ea11ae7611d0402ce98e966ae29684e439", "filename": "tests/ui/issue_4266.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3/tests%2Fui%2Fissue_4266.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3/tests%2Fui%2Fissue_4266.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue_4266.rs?ref=e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3", "patch": "@@ -0,0 +1,24 @@\n+// compile-flags: --edition 2018\n+#![feature(async_await)]\n+#![allow(dead_code)]\n+\n+async fn sink1<'a>(_: &'a str) {} // lint\n+async fn sink1_elided(_: &str) {} // ok\n+\n+async fn one_to_one<'a>(s: &'a str) -> &'a str { s } // lint\n+async fn one_to_one_elided(s: &str) -> &str { s } // ok\n+async fn all_to_one<'a>(a: &'a str, _b: &'a str) -> &'a str { a } // ok\n+// async fn unrelated(_: &str, _: &str) {} // Not allowed in async fn\n+\n+// #3988\n+struct Foo;\n+impl Foo {\n+    pub async fn foo(&mut self) {} // ok\n+}\n+\n+// rust-lang/rust#61115\n+async fn print(s: &str) { // ok\n+    println!(\"{}\", s);\n+}\n+\n+fn main() {}"}, {"sha": "3c9740c4a222ffcc8b33158554c20e28f19909db", "filename": "tests/ui/issue_4266.stderr", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3/tests%2Fui%2Fissue_4266.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3/tests%2Fui%2Fissue_4266.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue_4266.stderr?ref=e6bbed909ee516b5e50bfb1a3b2b86a6b2988bc3", "patch": "@@ -0,0 +1,16 @@\n+error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n+  --> $DIR/issue_4266.rs:5:1\n+   |\n+LL | async fn sink1<'a>(_: &'a str) {} // lint\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `-D clippy::needless-lifetimes` implied by `-D warnings`\n+\n+error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n+  --> $DIR/issue_4266.rs:8:1\n+   |\n+LL | async fn one_to_one<'a>(s: &'a str) -> &'a str { s } // lint\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 2 previous errors\n+"}]}