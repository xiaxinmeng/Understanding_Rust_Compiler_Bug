{"sha": "0184e10f2f1cfcdf845c680e9fd43b07c16483bd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAxODRlMTBmMmYxY2ZjZGY4NDVjNjgwZTlmZDQzYjA3YzE2NDgzYmQ=", "commit": {"author": {"name": "Christian Poveda", "email": "git@christianpoveda.xyz", "date": "2019-12-24T17:10:36Z"}, "committer": {"name": "Christian Poveda", "email": "git@christianpoveda.xyz", "date": "2019-12-25T13:27:50Z"}, "message": "fix size for file mode", "tree": {"sha": "a64658e23dc8f1f9d5cf57b004c76c8f69c360b5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a64658e23dc8f1f9d5cf57b004c76c8f69c360b5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0184e10f2f1cfcdf845c680e9fd43b07c16483bd", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niI4EABYIADYWIQRsB8A/3NrzTlMMjT0nUl7150IKUAUCXgNj1hgcZ2l0QGNocmlz\ndGlhbnBvdmVkYS54eXoACgkQJ1Je9edCClBv9wEAsjc56T0MYTIo8qSdaXpEkZEU\nnlXZ+htJ2CPP9QFk+WIA/A+Rz01+LA4EFP4VfzmCUrYVWX3GO4Ai+RjGX6HwUz8M\n=vdFi\n-----END PGP SIGNATURE-----", "payload": "tree a64658e23dc8f1f9d5cf57b004c76c8f69c360b5\nparent b2c4ff2aee08854d13b33877a4275307e27091ee\nauthor Christian Poveda <git@christianpoveda.xyz> 1577207436 -0500\ncommitter Christian Poveda <git@christianpoveda.xyz> 1577280470 -0500\n\nfix size for file mode\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0184e10f2f1cfcdf845c680e9fd43b07c16483bd", "html_url": "https://github.com/rust-lang/rust/commit/0184e10f2f1cfcdf845c680e9fd43b07c16483bd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0184e10f2f1cfcdf845c680e9fd43b07c16483bd/comments", "author": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2c4ff2aee08854d13b33877a4275307e27091ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/b2c4ff2aee08854d13b33877a4275307e27091ee", "html_url": "https://github.com/rust-lang/rust/commit/b2c4ff2aee08854d13b33877a4275307e27091ee"}], "stats": {"total": 22, "additions": 4, "deletions": 18}, "files": [{"sha": "b3d16dba6e6e2e2444af43c67c3fb7dc50579a52", "filename": "src/shims/fs.rs", "status": "modified", "additions": 4, "deletions": 18, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/0184e10f2f1cfcdf845c680e9fd43b07c16483bd/src%2Fshims%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0184e10f2f1cfcdf845c680e9fd43b07c16483bd/src%2Fshims%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Ffs.rs?ref=0184e10f2f1cfcdf845c680e9fd43b07c16483bd", "patch": "@@ -291,27 +291,13 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n             \"S_IFLNK\"\n         };\n \n-        let mode = this.eval_libc(mode_name)?.to_u32()?;\n+        let mode = this.eval_libc(mode_name)?.to_bits(Size::from_bits(16))? as u16;\n \n         let size = metadata.len();\n \n-        let (access_sec, access_nsec) = extract_sec_and_nsec(\n-            metadata.accessed(),\n-            &mut 0,\n-            0,\n-        )?;\n-\n-        let (created_sec, created_nsec) = extract_sec_and_nsec(\n-            metadata.created(),\n-            &mut 0,\n-            0,\n-        )?;\n-\n-        let (modified_sec, modified_nsec) = extract_sec_and_nsec(\n-            metadata.modified(),\n-            &mut 0,\n-            0,\n-        )?;\n+        let (access_sec, access_nsec) = extract_sec_and_nsec(metadata.accessed(), &mut 0, 0)?;\n+        let (created_sec, created_nsec) = extract_sec_and_nsec(metadata.created(), &mut 0, 0)?;\n+        let (modified_sec, modified_nsec) = extract_sec_and_nsec(metadata.modified(), &mut 0, 0)?;\n \n         let dev_t_layout = this.libc_ty_layout(\"dev_t\")?;\n         let mode_t_layout = this.libc_ty_layout(\"mode_t\")?;"}]}