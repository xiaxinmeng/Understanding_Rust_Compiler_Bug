{"sha": "da190278e900b2f9302fd0ae898d904e3134d938", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhMTkwMjc4ZTkwMGIyZjkzMDJmZDBhZTg5OGQ5MDRlMzEzNGQ5Mzg=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2019-10-10T15:15:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-10T15:15:46Z"}, "message": "Merge #1981\n\n1981: tweak fn labels in completion r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "a2321ac640ebb44f94eaca103941b6abb6d9379f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a2321ac640ebb44f94eaca103941b6abb6d9379f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/da190278e900b2f9302fd0ae898d904e3134d938", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdn0siCRBK7hj4Ov3rIwAAdHIIAEEhvy+V64EBalAIBYZQEXa3\nEpbFrrbjbPUCyKQIEWKmHvc0a3nl0h/bC9ZuQUnjrAJFav6ZSOmHmPUU5qeNKEzN\nZZnnY8nTHKCl53R5DlYW6d2+1q+P1Dp01cYSqCoamLAxdGRs7NLQWcPgpUO09Exy\n+V8qPi83OL4NeOrxuvKxPQmxi0W2k0VzejFcBpA6zKADq0DIuqVvgaj7/KQBfpin\nHTOvWSMLHdO0Ukh5/2y8ixhKNxZ/FAcA2cCEPW9q4igtopcUpLoq3mNzG3UXFqC2\n3y8tBmJkbsjJdDN8anF7dMkKp22gFhWptvgAtw8Tb84ydXPXEvmL6L+zxdPxFwA=\n=p2k7\n-----END PGP SIGNATURE-----\n", "payload": "tree a2321ac640ebb44f94eaca103941b6abb6d9379f\nparent ceb6cddb8b63dc283ef7a5fd2abf9bf7662c68fb\nparent 8d3d5cbdb0418e72737158d82bdd64e177960dfa\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1570720546 +0000\ncommitter GitHub <noreply@github.com> 1570720546 +0000\n\nMerge #1981\n\n1981: tweak fn labels in completion r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/da190278e900b2f9302fd0ae898d904e3134d938", "html_url": "https://github.com/rust-lang/rust/commit/da190278e900b2f9302fd0ae898d904e3134d938", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/da190278e900b2f9302fd0ae898d904e3134d938/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ceb6cddb8b63dc283ef7a5fd2abf9bf7662c68fb", "url": "https://api.github.com/repos/rust-lang/rust/commits/ceb6cddb8b63dc283ef7a5fd2abf9bf7662c68fb", "html_url": "https://github.com/rust-lang/rust/commit/ceb6cddb8b63dc283ef7a5fd2abf9bf7662c68fb"}, {"sha": "8d3d5cbdb0418e72737158d82bdd64e177960dfa", "url": "https://api.github.com/repos/rust-lang/rust/commits/8d3d5cbdb0418e72737158d82bdd64e177960dfa", "html_url": "https://github.com/rust-lang/rust/commit/8d3d5cbdb0418e72737158d82bdd64e177960dfa"}], "stats": {"total": 69, "additions": 33, "deletions": 36}, "files": [{"sha": "b4df6ee2ad04ef47f04fa2741689c9834bcea745", "filename": "crates/ra_ide_api/src/completion/complete_dot.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_dot.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_dot.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_dot.rs?ref=da190278e900b2f9302fd0ae898d904e3134d938", "patch": "@@ -121,7 +121,7 @@ mod tests {\n         @r###\"\n         [\n             CompletionItem {\n-                label: \"foo(\u2026)\",\n+                label: \"foo()\",\n                 source_range: [187; 187),\n                 delete: [187; 187),\n                 insert: \"foo()$0\",\n@@ -161,7 +161,7 @@ mod tests {\n         @r###\"\n         [\n             CompletionItem {\n-                label: \"foo(\u2026)\",\n+                label: \"foo()\",\n                 source_range: [126; 126),\n                 delete: [126; 126),\n                 insert: \"foo()$0\",\n@@ -214,7 +214,7 @@ mod tests {\n         @r###\"\n         [\n             CompletionItem {\n-                label: \"the_method(\u2026)\",\n+                label: \"the_method()\",\n                 source_range: [144; 144),\n                 delete: [144; 144),\n                 insert: \"the_method()$0\",\n@@ -243,7 +243,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"the_method(\u2026)\",\n+                label: \"the_method()\",\n                 source_range: [151; 151),\n                 delete: [151; 151),\n                 insert: \"the_method()$0\",\n@@ -272,7 +272,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"the_method(\u2026)\",\n+                label: \"the_method()\",\n                 source_range: [155; 155),\n                 delete: [155; 155),\n                 insert: \"the_method()$0\",\n@@ -324,7 +324,7 @@ mod tests {\n         @r###\"\n         [\n             CompletionItem {\n-                label: \"the_method(\u2026)\",\n+                label: \"the_method()\",\n                 source_range: [249; 249),\n                 delete: [249; 249),\n                 insert: \"the_method()$0\",\n@@ -394,7 +394,7 @@ mod tests {\n         @r###\"\n         [\n             CompletionItem {\n-                label: \"blah(\u2026)\",\n+                label: \"blah()\",\n                 source_range: [299; 300),\n                 delete: [299; 300),\n                 insert: \"blah()$0\","}, {"sha": "23dece73c2fa1fc31b2bf76b020d46b7b7fe4fe2", "filename": "crates/ra_ide_api/src/completion/complete_path.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_path.rs?ref=da190278e900b2f9302fd0ae898d904e3134d938", "patch": "@@ -378,7 +378,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"m(\u2026)\",\n+                label: \"m()\",\n                 source_range: [100; 100),\n                 delete: [100; 100),\n                 insert: \"m()$0\",\n@@ -480,7 +480,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"m(\u2026)\",\n+                label: \"m()\",\n                 source_range: [100; 100),\n                 delete: [100; 100),\n                 insert: \"m()$0\",\n@@ -516,7 +516,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"m(\u2026)\",\n+                label: \"m()\",\n                 source_range: [101; 101),\n                 delete: [101; 101),\n                 insert: \"m()$0\",\n@@ -576,7 +576,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"bar(\u2026)\",\n+                label: \"bar()\",\n                 source_range: [185; 185),\n                 delete: [185; 185),\n                 insert: \"bar()$0\",\n@@ -585,7 +585,7 @@ mod tests {\n                 detail: \"fn bar()\",\n             },\n             CompletionItem {\n-                label: \"foo(\u2026)\",\n+                label: \"foo()\",\n                 source_range: [185; 185),\n                 delete: [185; 185),\n                 insert: \"foo()$0\",\n@@ -624,7 +624,7 @@ mod tests {\n                 detail: \"#[macro_export]\\nmacro_rules! foo\",\n             },\n             CompletionItem {\n-                label: \"main(\u2026)\",\n+                label: \"main()\",\n                 source_range: [179; 179),\n                 delete: [179; 179),\n                 insert: \"main()$0\","}, {"sha": "4e56de3f542439c78f1e649aa822494438dad8de", "filename": "crates/ra_ide_api/src/completion/complete_scope.rs", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_scope.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_scope.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcomplete_scope.rs?ref=da190278e900b2f9302fd0ae898d904e3134d938", "patch": "@@ -211,7 +211,7 @@ mod tests {\n                 detail: \"i32\",\n             },\n             CompletionItem {\n-                label: \"quux(\u2026)\",\n+                label: \"quux()\",\n                 source_range: [242; 242),\n                 delete: [242; 242),\n                 insert: \"quux()$0\",\n@@ -239,7 +239,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"quux(\u2026)\",\n+                label: \"quux()\",\n                 source_range: [95; 95),\n                 delete: [95; 95),\n                 insert: \"quux()$0\",\n@@ -279,7 +279,7 @@ mod tests {\n                 kind: TypeParam,\n             },\n             CompletionItem {\n-                label: \"quux(\u2026)\",\n+                label: \"quux()\",\n                 source_range: [52; 52),\n                 delete: [52; 52),\n                 insert: \"quux()$0\",\n@@ -384,7 +384,7 @@ mod tests {\n                 kind: Struct,\n             },\n             CompletionItem {\n-                label: \"quux(\u2026)\",\n+                label: \"quux()\",\n                 source_range: [105; 105),\n                 delete: [105; 105),\n                 insert: \"quux()$0\",\n@@ -443,7 +443,7 @@ mod tests {\n                 kind: Struct,\n             },\n             CompletionItem {\n-                label: \"quux(\u2026)\",\n+                label: \"quux()\",\n                 source_range: [117; 117),\n                 delete: [117; 117),\n                 insert: \"quux()$0\",\n@@ -475,7 +475,7 @@ mod tests {\n                 kind: Struct,\n             },\n             CompletionItem {\n-                label: \"x(\u2026)\",\n+                label: \"x()\",\n                 source_range: [55; 55),\n                 delete: [55; 55),\n                 insert: \"x()$0\",\n@@ -513,7 +513,7 @@ mod tests {\n                 detail: \"i32\",\n             },\n             CompletionItem {\n-                label: \"foo(\u2026)\",\n+                label: \"foo()\",\n                 source_range: [146; 146),\n                 delete: [146; 146),\n                 insert: \"foo()$0\",\n@@ -577,7 +577,7 @@ mod tests {\n                 kind: Struct,\n             },\n             CompletionItem {\n-                label: \"foo(\u2026)\",\n+                label: \"foo()\",\n                 source_range: [18; 18),\n                 delete: [18; 18),\n                 insert: \"foo()$0\",\n@@ -671,7 +671,7 @@ mod tests {\n                 kind: Module,\n             },\n             CompletionItem {\n-                label: \"main(\u2026)\",\n+                label: \"main()\",\n                 source_range: [252; 252),\n                 delete: [252; 252),\n                 insert: \"main()$0\",\n@@ -710,7 +710,7 @@ mod tests {\n                 detail: \"macro_rules! foo\",\n             },\n             CompletionItem {\n-                label: \"foo(\u2026)\",\n+                label: \"foo()\",\n                 source_range: [49; 49),\n                 delete: [49; 49),\n                 insert: \"foo()$0\",\n@@ -749,7 +749,7 @@ mod tests {\n                 detail: \"macro_rules! foo\",\n             },\n             CompletionItem {\n-                label: \"main(\u2026)\",\n+                label: \"main()\",\n                 source_range: [57; 57),\n                 delete: [57; 57),\n                 insert: \"main()$0\",\n@@ -788,7 +788,7 @@ mod tests {\n                 detail: \"macro_rules! foo\",\n             },\n             CompletionItem {\n-                label: \"main(\u2026)\",\n+                label: \"main()\",\n                 source_range: [50; 50),\n                 delete: [50; 50),\n                 insert: \"main()$0\","}, {"sha": "20242d293c0e89fad00e9881f889fe440180d71b", "filename": "crates/ra_ide_api/src/completion/presentation.rs", "status": "modified", "additions": 8, "deletions": 11, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fpresentation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da190278e900b2f9302fd0ae898d904e3134d938/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fpresentation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fpresentation.rs?ref=da190278e900b2f9302fd0ae898d904e3134d938", "patch": "@@ -188,16 +188,13 @@ impl Completions {\n             && ctx.db.feature_flags.get(\"completion.insertion.add-call-parenthesis\")\n         {\n             tested_by!(inserts_parens_for_function_calls);\n-            let snippet =\n+            let (snippet, label) =\n                 if data.params().is_empty() || data.has_self_param() && data.params().len() == 1 {\n-                    format!(\"{}()$0\", data.name())\n+                    (format!(\"{}()$0\", data.name()), format!(\"{}()\", name))\n                 } else {\n-                    format!(\"{}($0)\", data.name())\n+                    (format!(\"{}($0)\", data.name()), format!(\"{}(\u2026)\", name))\n                 };\n-            builder = builder\n-                .lookup_by(name.clone())\n-                .label(format!(\"{}(\u2026)\", name))\n-                .insert_snippet(snippet);\n+            builder = builder.lookup_by(name.clone()).label(label).insert_snippet(snippet);\n         }\n \n         self.add(builder)\n@@ -279,7 +276,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"main(\u2026)\",\n+                label: \"main()\",\n                 source_range: [61; 64),\n                 delete: [61; 64),\n                 insert: \"main()$0\",\n@@ -288,7 +285,7 @@ mod tests {\n                 detail: \"fn main()\",\n             },\n             CompletionItem {\n-                label: \"no_args(\u2026)\",\n+                label: \"no_args()\",\n                 source_range: [61; 64),\n                 delete: [61; 64),\n                 insert: \"no_args()$0\",\n@@ -309,7 +306,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"main(\u2026)\",\n+                label: \"main()\",\n                 source_range: [80; 85),\n                 delete: [80; 85),\n                 insert: \"main()$0\",\n@@ -344,7 +341,7 @@ mod tests {\n             @r###\"\n         [\n             CompletionItem {\n-                label: \"foo(\u2026)\",\n+                label: \"foo()\",\n                 source_range: [163; 164),\n                 delete: [163; 164),\n                 insert: \"foo()$0\","}]}