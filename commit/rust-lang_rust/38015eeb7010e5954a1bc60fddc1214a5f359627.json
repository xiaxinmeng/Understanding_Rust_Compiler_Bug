{"sha": "38015eeb7010e5954a1bc60fddc1214a5f359627", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4MDE1ZWViNzAxMGU1OTU0YTFiYzYwZmRkYzEyMTRhNWYzNTk2Mjc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-09-30T12:27:27Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-09-30T12:27:27Z"}, "message": "auto merge of #17640 : brson/rust/wininst, r=alexcrichton\n\nThis makes the windows `make dist` target start producing binary tarballs, and tweaks install.sh so they work, in preparation for working on a combined Rust+Cargo installer.", "tree": {"sha": "abb52be267ac04a2f568714ecfe65e5547c8883f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/abb52be267ac04a2f568714ecfe65e5547c8883f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/38015eeb7010e5954a1bc60fddc1214a5f359627", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/38015eeb7010e5954a1bc60fddc1214a5f359627", "html_url": "https://github.com/rust-lang/rust/commit/38015eeb7010e5954a1bc60fddc1214a5f359627", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/38015eeb7010e5954a1bc60fddc1214a5f359627/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d2f8d4c5050be01923f28308b71ad14a2776b30e", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2f8d4c5050be01923f28308b71ad14a2776b30e", "html_url": "https://github.com/rust-lang/rust/commit/d2f8d4c5050be01923f28308b71ad14a2776b30e"}, {"sha": "887da8d33a81865c2841751f3106fb8607a31b26", "url": "https://api.github.com/repos/rust-lang/rust/commits/887da8d33a81865c2841751f3106fb8607a31b26", "html_url": "https://github.com/rust-lang/rust/commit/887da8d33a81865c2841751f3106fb8607a31b26"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "4d82857ecea984542ac592eb04b2ab02c186cb9f", "filename": "mk/dist.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/38015eeb7010e5954a1bc60fddc1214a5f359627/mk%2Fdist.mk", "raw_url": "https://github.com/rust-lang/rust/raw/38015eeb7010e5954a1bc60fddc1214a5f359627/mk%2Fdist.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdist.mk?ref=38015eeb7010e5954a1bc60fddc1214a5f359627", "patch": "@@ -283,7 +283,7 @@ distcheck-docs: dist-docs\n \n ifdef CFG_WINDOWSY_$(CFG_BUILD)\n \n-dist: dist-win\n+dist: dist-win dist-tar-bins\n \n distcheck: distcheck-win\n \t$(Q)rm -Rf tmp/distcheck"}, {"sha": "4f43b1ed130337afbfcbda523d92c750fe96f714", "filename": "src/etc/install.sh", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/38015eeb7010e5954a1bc60fddc1214a5f359627/src%2Fetc%2Finstall.sh", "raw_url": "https://github.com/rust-lang/rust/raw/38015eeb7010e5954a1bc60fddc1214a5f359627/src%2Fetc%2Finstall.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Finstall.sh?ref=38015eeb7010e5954a1bc60fddc1214a5f359627", "patch": "@@ -325,7 +325,7 @@ then\n     if [ -z \"${CFG_UNINSTALL}\" ]\n     then\n         msg \"verifying platform can run binaries\"\n-        export $CFG_LD_PATH_VAR=\"${CFG_SRC_DIR}/lib\":$CFG_OLD_LD_PATH_VAR\n+        export $CFG_LD_PATH_VAR=\"${CFG_SRC_DIR}/lib:$CFG_OLD_LD_PATH_VAR\"\n         \"${CFG_SRC_DIR}/bin/rustc\" --version > /dev/null\n         if [ $? -ne 0 ]\n         then\n@@ -489,7 +489,7 @@ then\n     \"${CFG_PREFIX}/bin/rustc\" --version 2> /dev/null 1> /dev/null\n     if [ $? -ne 0 ]\n     then\n-        export $CFG_LD_PATH_VAR=\"${CFG_PREFIX}/lib\":$CFG_OLD_LD_PATH_VAR\n+        export $CFG_LD_PATH_VAR=\"${CFG_PREFIX}/lib:$CFG_OLD_LD_PATH_VAR\"\n         \"${CFG_PREFIX}/bin/rustc\" --version > /dev/null\n         if [ $? -ne 0 ]\n         then"}]}