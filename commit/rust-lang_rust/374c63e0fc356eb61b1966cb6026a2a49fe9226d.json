{"sha": "374c63e0fc356eb61b1966cb6026a2a49fe9226d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3NGM2M2UwZmMzNTZlYjYxYjE5NjZjYjYwMjZhMmE0OWZlOTIyNmQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-06-16T04:46:14Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-06-16T04:46:14Z"}, "message": "Auto merge of #61886 - Centril:rollup-3p3m2fu, r=Centril\n\nRollup of 6 pull requests\n\nSuccessful merges:\n\n - #61447 (Add some Vec <-> VecDeque documentation)\n - #61704 (Pass LLVM linker flags to librustc_llvm build)\n - #61829 (rustbuild: include llvm-libunwind in dist tarball)\n - #61832 (update miri)\n - #61866 (Remove redundant `clone()`s)\n - #61869 (Cleanup some new active feature gates)\n\nFailed merges:\n\nr? @ghost", "tree": {"sha": "165c6815c4a77a98a3d2f243ba0825d51faf7221", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/165c6815c4a77a98a3d2f243ba0825d51faf7221"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/374c63e0fc356eb61b1966cb6026a2a49fe9226d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/374c63e0fc356eb61b1966cb6026a2a49fe9226d", "html_url": "https://github.com/rust-lang/rust/commit/374c63e0fc356eb61b1966cb6026a2a49fe9226d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/374c63e0fc356eb61b1966cb6026a2a49fe9226d/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0dc9e9c10ca6dc78cba8b9f9b15038c977b10a77", "url": "https://api.github.com/repos/rust-lang/rust/commits/0dc9e9c10ca6dc78cba8b9f9b15038c977b10a77", "html_url": "https://github.com/rust-lang/rust/commit/0dc9e9c10ca6dc78cba8b9f9b15038c977b10a77"}, {"sha": "cd9bb48f7f6755fb32abf50799d3a6873c9af160", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd9bb48f7f6755fb32abf50799d3a6873c9af160", "html_url": "https://github.com/rust-lang/rust/commit/cd9bb48f7f6755fb32abf50799d3a6873c9af160"}], "stats": {"total": 91, "additions": 71, "deletions": 20}, "files": [{"sha": "576267e6948f526eff699e2a790e20d8978b9896", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -775,6 +775,10 @@ pub fn build_codegen_backend(builder: &Builder<'_>,\n                     cargo.env(\"CFG_LLVM_ROOT\", s);\n                 }\n             }\n+            // Some LLVM linker flags (-L and -l) may be needed to link librustc_llvm.\n+            if let Some(ref s) = builder.config.llvm_ldflags {\n+                cargo.env(\"LLVM_LINKER_FLAGS\", s);\n+            }\n             // Building with a static libstdc++ is only supported on linux right now,\n             // not for MSVC or macOS\n             if builder.config.llvm_static_stdcpp &&"}, {"sha": "45bc77ec97d4794ceaa164a2f6cd734aae068108", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -804,6 +804,7 @@ fn copy_src_dirs(builder: &Builder<'_>, src_dirs: &[&str], exclude_dirs: &[&str]\n \n         const LLVM_PROJECTS: &[&str] = &[\n             \"llvm-project/clang\", \"llvm-project\\\\clang\",\n+            \"llvm-project/libunwind\", \"llvm-project\\\\libunwind\",\n             \"llvm-project/lld\", \"llvm-project\\\\lld\",\n             \"llvm-project/lldb\", \"llvm-project\\\\lldb\",\n             \"llvm-project/llvm\", \"llvm-project\\\\llvm\","}, {"sha": "71faf672962b3312bd7052ae44c117ca9b321de2", "filename": "src/liballoc/collections/vec_deque.rs", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Fliballoc%2Fcollections%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Fliballoc%2Fcollections%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fcollections%2Fvec_deque.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -2709,6 +2709,11 @@ impl<T: fmt::Debug> fmt::Debug for VecDeque<T> {\n \n #[stable(feature = \"vecdeque_vec_conversions\", since = \"1.10.0\")]\n impl<T> From<Vec<T>> for VecDeque<T> {\n+    /// Turn a [`Vec<T>`] into a [`VecDeque<T>`].\n+    ///\n+    /// This avoids reallocating where possible, but the conditions for that are\n+    /// strict, and subject to change, and so shouldn't be relied upon unless the\n+    /// `Vec<T>` came from `From<VecDeque<T>>` and hasn't been reallocated.\n     fn from(mut other: Vec<T>) -> Self {\n         unsafe {\n             let other_buf = other.as_mut_ptr();\n@@ -2735,6 +2740,32 @@ impl<T> From<Vec<T>> for VecDeque<T> {\n \n #[stable(feature = \"vecdeque_vec_conversions\", since = \"1.10.0\")]\n impl<T> From<VecDeque<T>> for Vec<T> {\n+    /// Turn a [`VecDeque<T>`] into a [`Vec<T>`].\n+    ///\n+    /// This never needs to re-allocate, but does need to do O(n) data movement if\n+    /// the circular buffer doesn't happen to be at the beginning of the allocation.\n+    ///\n+    /// # Examples\n+    ///\n+    /// ```\n+    /// use std::collections::VecDeque;\n+    ///\n+    /// // This one is O(1).\n+    /// let deque: VecDeque<_> = (1..5).collect();\n+    /// let ptr = deque.as_slices().0.as_ptr();\n+    /// let vec = Vec::from(deque);\n+    /// assert_eq!(vec, [1, 2, 3, 4]);\n+    /// assert_eq!(vec.as_ptr(), ptr);\n+    ///\n+    /// // This one needs data rearranging.\n+    /// let mut deque: VecDeque<_> = (1..5).collect();\n+    /// deque.push_front(9);\n+    /// deque.push_front(8);\n+    /// let ptr = deque.as_slices().1.as_ptr();\n+    /// let vec = Vec::from(deque);\n+    /// assert_eq!(vec, [8, 9, 1, 2, 3, 4]);\n+    /// assert_eq!(vec.as_ptr(), ptr);\n+    /// ```\n     fn from(other: VecDeque<T>) -> Self {\n         unsafe {\n             let buf = other.buf.ptr();"}, {"sha": "1c52b5775a0ccca83222e55ec30759458e7f2f08", "filename": "src/librustc/infer/opaque_types/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -307,7 +307,7 @@ impl<'a, 'tcx> InferCtxt<'a, 'tcx> {\n \n             let required_region_bounds = tcx.required_region_bounds(\n                 opaque_type,\n-                bounds.predicates.clone(),\n+                bounds.predicates,\n             );\n             debug_assert!(!required_region_bounds.is_empty());\n "}, {"sha": "29c624575c3c2328af0f0f0997bbcbe156bc1190", "filename": "src/librustc/middle/liveness.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fliveness.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -1617,7 +1617,7 @@ impl<'a, 'tcx> Liveness<'a, 'tcx> {\n                     self.ir.tcx.lint_hir_note(\n                         lint::builtin::UNUSED_VARIABLES,\n                         hir_id,\n-                        spans.clone(),\n+                        spans,\n                         &format!(\"variable `{}` is assigned to, but never used\", name),\n                         &format!(\"consider using `_{}` instead\", name),\n                     );"}, {"sha": "54989db46c1c5d10eb1e03692d97b572b17310fc", "filename": "src/librustc_borrowck/borrowck/check_loans.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -36,7 +36,7 @@ fn owned_ptr_base_path<'a, 'tcx>(loan_path: &'a LoanPath<'tcx>) -> &'a LoanPath<\n \n     return match helper(loan_path) {\n         Some(new_loan_path) => new_loan_path,\n-        None => loan_path.clone()\n+        None => loan_path,\n     };\n \n     fn helper<'a, 'tcx>(loan_path: &'a LoanPath<'tcx>) -> Option<&'a LoanPath<'tcx>> {"}, {"sha": "5d3cc0c0a255f63e39763ea4aaaf4581d0ce9ea2", "filename": "src/librustc_codegen_llvm/back/lto.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_codegen_llvm%2Fback%2Flto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_codegen_llvm%2Fback%2Flto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fback%2Flto.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -279,7 +279,7 @@ fn fat_lto(cgcx: &CodegenContext<LlvmCodegenBackend>,\n             }\n         }));\n         serialized_modules.extend(cached_modules.into_iter().map(|(buffer, wp)| {\n-            (buffer, CString::new(wp.cgu_name.clone()).unwrap())\n+            (buffer, CString::new(wp.cgu_name).unwrap())\n         }));\n \n         // For all serialized bitcode files we parse them and link them in as we did"}, {"sha": "588f7481cc06092adba92f262ec062835d9caa4f", "filename": "src/librustc_codegen_llvm/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_codegen_llvm%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_codegen_llvm%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fcontext.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -459,7 +459,7 @@ impl CodegenCx<'b, 'tcx> {\n         };\n         let f = self.declare_cfn(name, fn_ty);\n         llvm::SetUnnamedAddr(f, false);\n-        self.intrinsics.borrow_mut().insert(name, f.clone());\n+        self.intrinsics.borrow_mut().insert(name, f);\n         f\n     }\n "}, {"sha": "fbeda43af42b0aef48fa2cff6a4fed28e2651e13", "filename": "src/librustc_codegen_llvm/debuginfo/metadata.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -1609,7 +1609,7 @@ impl<'tcx> VariantInfo<'tcx> {\n                 // with every variant, make each variant name be just the value\n                 // of the discriminant. The struct name for the variant includes\n                 // the actual variant description.\n-                format!(\"{}\", variant_index.as_usize()).to_string()\n+                format!(\"{}\", variant_index.as_usize())\n             }\n         }\n     }"}, {"sha": "7ed2fddf72d23a3b49c9c59a9ebe62acf9e7c14e", "filename": "src/librustc_errors/annotate_snippet_emitter_writer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_errors%2Fannotate_snippet_emitter_writer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_errors%2Fannotate_snippet_emitter_writer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Fannotate_snippet_emitter_writer.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -194,7 +194,7 @@ impl AnnotateSnippetEmitterWriter {\n         let converter = DiagnosticConverter {\n             source_map: self.source_map.clone(),\n             level: level.clone(),\n-            message: message.clone(),\n+            message,\n             code: code.clone(),\n             msp: msp.clone(),\n             children,"}, {"sha": "21fa872c8dadb854d95952e59dc61a9901353890", "filename": "src/librustc_llvm/build.rs", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_llvm%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_llvm%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_llvm%2Fbuild.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -234,6 +234,21 @@ fn main() {\n         }\n     }\n \n+    // Some LLVM linker flags (-L and -l) may be needed even when linking\n+    // librustc_llvm, for example when using static libc++, we may need to\n+    // manually specify the library search path and -ldl -lpthread as link\n+    // dependencies.\n+    let llvm_linker_flags = env::var_os(\"LLVM_LINKER_FLAGS\");\n+    if let Some(s) = llvm_linker_flags {\n+        for lib in s.into_string().unwrap().split_whitespace() {\n+            if lib.starts_with(\"-l\") {\n+                println!(\"cargo:rustc-link-lib={}\", &lib[2..]);\n+            } else if lib.starts_with(\"-L\") {\n+                println!(\"cargo:rustc-link-search=native={}\", &lib[2..]);\n+            }\n+        }\n+    }\n+\n     let llvm_static_stdcpp = env::var_os(\"LLVM_STATIC_STDCPP\");\n     let llvm_use_libcxx = env::var_os(\"LLVM_USE_LIBCXX\");\n "}, {"sha": "5fef8e53e1d0c4dd18f927483b49b2c0e8779ceb", "filename": "src/librustc_metadata/creader.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_metadata%2Fcreader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_metadata%2Fcreader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fcreader.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -236,7 +236,7 @@ impl<'a> CrateLoader<'a> {\n                 let host_lib = host_lib.unwrap();\n                 self.load_derive_macros(\n                     &host_lib.metadata.get_root(),\n-                    host_lib.dylib.clone().map(|p| p.0),\n+                    host_lib.dylib.map(|p| p.0),\n                     span\n                 )\n             } else {"}, {"sha": "f9e503ee69b1278061ca6c6ffd642d7587f50651", "filename": "src/librustc_mir/build/matches/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -1737,7 +1737,7 @@ impl<'a, 'tcx> Builder<'a, 'tcx> {\n                 pat_span,\n             }))),\n         };\n-        let for_arm_body = self.local_decls.push(local.clone());\n+        let for_arm_body = self.local_decls.push(local);\n         let locals = if has_guard.0 {\n             let ref_for_guard = self.local_decls.push(LocalDecl::<'tcx> {\n                 // This variable isn't mutated but has a name, so has to be"}, {"sha": "bf64643e5a74583675173fb0baa463d902e191fb", "filename": "src/librustc_typeck/check/wfcheck.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -922,7 +922,7 @@ fn receiver_is_valid<'fcx, 'tcx>(\n         };\n \n         let obligation = traits::Obligation::new(\n-            cause.clone(),\n+            cause,\n             fcx.param_env,\n             trait_ref.to_predicate()\n         );"}, {"sha": "20a4f86aedb902e10de0fd8f69af97c68068f609", "filename": "src/librustdoc/core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustdoc%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustdoc%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fcore.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -317,7 +317,7 @@ pub fn run_core(options: RustdocOptions) -> (clean::Crate, RenderInfo, RenderOpt\n         // Ensure that rustdoc works even if rustc is feature-staged\n         unstable_features: UnstableFeatures::Allow,\n         actually_rustdoc: true,\n-        debugging_opts: debugging_options.clone(),\n+        debugging_opts: debugging_options,\n         error_format,\n         edition,\n         describe_lints,"}, {"sha": "baf99bacb8ee6cc234260002d649837d23dbfe25", "filename": "src/librustdoc/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustdoc%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibrustdoc%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Ftest.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -740,7 +740,7 @@ impl Tester for Collector {\n         debug!(\"Creating test {}: {}\", name, test);\n         self.tests.push(testing::TestDescAndFn {\n             desc: testing::TestDesc {\n-                name: testing::DynTestName(name.clone()),\n+                name: testing::DynTestName(name),\n                 ignore: config.ignore,\n                 // compiler failures are test failures\n                 should_panic: testing::ShouldPanic::No,"}, {"sha": "22745a1a76d536eb55745cd729bddb8fbf6fbeca", "filename": "src/libsyntax/ext/tt/macro_rules.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -23,6 +23,7 @@ use log::debug;\n use rustc_data_structures::fx::{FxHashMap};\n use std::borrow::Cow;\n use std::collections::hash_map::Entry;\n+use std::slice;\n \n use rustc_data_structures::sync::Lrc;\n use errors::Applicability;\n@@ -359,10 +360,10 @@ pub fn compile(\n \n     // don't abort iteration early, so that errors for multiple lhses can be reported\n     for lhs in &lhses {\n-        valid &= check_lhs_no_empty_seq(sess, &[lhs.clone()]);\n+        valid &= check_lhs_no_empty_seq(sess, slice::from_ref(lhs));\n         valid &= check_lhs_duplicate_matcher_bindings(\n             sess,\n-            &[lhs.clone()],\n+            slice::from_ref(lhs),\n             &mut FxHashMap::default(),\n             def.id\n         );"}, {"sha": "1d8f68ec63a4169584580a6edbeedba8659702bc", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -557,11 +557,10 @@ declare_features! (\n     // Allows the user of associated type bounds.\n     (active, associated_type_bounds, \"1.34.0\", Some(52662), None),\n \n-    // Attributes on formal function params\n+    // Attributes on formal function params.\n     (active, param_attrs, \"1.36.0\", Some(60406), None),\n \n-    // Allows calling constructor functions in `const fn`\n-    // FIXME Create issue\n+    // Allows calling constructor functions in `const fn`.\n     (active, const_constructor, \"1.37.0\", Some(61456), None),\n \n     // #[repr(transparent)] on enums."}, {"sha": "f44a6e7efa4f18e47b795eb94dcc6aecd55e8513", "filename": "src/libsyntax_ext/format.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax_ext%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax_ext%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Fformat.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -887,7 +887,7 @@ pub fn expand_preparsed_format_args(ecx: &mut ExtCtxt<'_>,\n     };\n \n     let fmt_str = &*fmt.node.0.as_str();  // for the suggestions below\n-    let mut parser = parse::Parser::new(fmt_str, str_style, skips.clone(), append_newline);\n+    let mut parser = parse::Parser::new(fmt_str, str_style, skips, append_newline);\n \n     let mut unverified_pieces = Vec::new();\n     while let Some(piece) = parser.next() {"}, {"sha": "b5d5a38ce5b3872872d06fba9ab68c57e2883024", "filename": "src/libsyntax_ext/proc_macro_server.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax_ext%2Fproc_macro_server.rs", "raw_url": "https://github.com/rust-lang/rust/raw/374c63e0fc356eb61b1966cb6026a2a49fe9226d/src%2Flibsyntax_ext%2Fproc_macro_server.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Fproc_macro_server.rs?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -409,7 +409,7 @@ impl server::TokenStream for Rustc<'_> {\n     }\n     fn from_str(&mut self, src: &str) -> Self::TokenStream {\n         parse::parse_stream_from_source_str(\n-            FileName::proc_macro_source_code(src.clone()),\n+            FileName::proc_macro_source_code(src),\n             src.to_string(),\n             self.sess,\n             Some(self.call_site),"}, {"sha": "fd0dccd4b12169e0aac42aff8addbb26b6d72197", "filename": "src/tools/miri", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri?ref=374c63e0fc356eb61b1966cb6026a2a49fe9226d", "patch": "@@ -1 +1 @@\n-Subproject commit 965160d4d7976ddead182b4a65b73f59818537de\n+Subproject commit fd0dccd4b12169e0aac42aff8addbb26b6d72197"}]}