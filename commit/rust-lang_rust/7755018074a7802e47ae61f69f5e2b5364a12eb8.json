{"sha": "7755018074a7802e47ae61f69f5e2b5364a12eb8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc3NTUwMTgwNzRhNzgwMmU0N2FlNjFmNjlmNWUyYjUzNjRhMTJlYjg=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-06-14T02:06:47Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-06-14T02:06:47Z"}, "message": "Revert \"std: convert {vec,str}::to_owned to methods.\"\n\nThis fixes the strange random crashes in compile-fail tests.\n\nThis reverts commit 96cd61ad034cc9e88ab6a7845c3480dbc1ea62f3.\n\nConflicts:\n\tsrc/librustc/driver/driver.rs\n\tsrc/libstd/str.rs\n\tsrc/libsyntax/ext/quote.rs", "tree": {"sha": "0cc0d7770c01720c0b3d470935d68e4caabea945", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0cc0d7770c01720c0b3d470935d68e4caabea945"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7755018074a7802e47ae61f69f5e2b5364a12eb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7755018074a7802e47ae61f69f5e2b5364a12eb8", "html_url": "https://github.com/rust-lang/rust/commit/7755018074a7802e47ae61f69f5e2b5364a12eb8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7755018074a7802e47ae61f69f5e2b5364a12eb8/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b417bc8511a0a38e73312cee8086ed04eeb21b75", "url": "https://api.github.com/repos/rust-lang/rust/commits/b417bc8511a0a38e73312cee8086ed04eeb21b75", "html_url": "https://github.com/rust-lang/rust/commit/b417bc8511a0a38e73312cee8086ed04eeb21b75"}], "stats": {"total": 194, "additions": 104, "deletions": 90}, "files": [{"sha": "c0f619c1b858d9d89c014a6f6cf75c240c02ab55", "filename": "src/libextra/flatpipes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fflatpipes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fflatpipes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Fflatpipes.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -450,7 +450,7 @@ pub mod flatteners {\n                               T: Decodable<D>>(\n                               buf: &[u8])\n                               -> T {\n-        let buf = buf.to_owned();\n+        let buf = vec::to_owned(buf);\n         let buf_reader = @BufReader::new(buf);\n         let reader = buf_reader as @Reader;\n         let mut deser: D = FromReader::from_reader(reader);"}, {"sha": "f07a2f0c25bff95d45f41897535a66355fb02e27", "filename": "src/libextra/getopts.rs", "status": "modified", "additions": 22, "deletions": 22, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fgetopts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fgetopts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Fgetopts.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -345,7 +345,7 @@ pub fn getopts(args: &[~str], opts: &[Opt]) -> Result {\n         }\n         i += 1;\n     }\n-    return Ok(Matches {opts: opts.to_owned(),\n+    return Ok(Matches {opts: vec::to_owned(opts),\n                vals: vals,\n                free: free});\n }\n@@ -447,7 +447,7 @@ pub fn opt_default(mm: &Matches, nm: &str, def: &str) -> Option<~str> {\n     let vals = opt_vals(mm, nm);\n     if vals.is_empty() { return None::<~str>; }\n     return match vals[0] { Val(ref s) => Some::<~str>(copy *s),\n-                           _      => Some::<~str>(def.to_owned()) }\n+                           _      => Some::<~str>(str::to_owned(def)) }\n }\n \n #[deriving(Eq)]\n@@ -487,10 +487,10 @@ pub mod groups {\n                   desc: &str, hint: &str) -> OptGroup {\n         let len = short_name.len();\n         assert!(len == 1 || len == 0);\n-        return OptGroup { short_name: short_name.to_owned(),\n-                long_name: long_name.to_owned(),\n-                hint: hint.to_owned(),\n-                desc: desc.to_owned(),\n+        return OptGroup { short_name: str::to_owned(short_name),\n+                long_name: str::to_owned(long_name),\n+                hint: str::to_owned(hint),\n+                desc: str::to_owned(desc),\n                 hasarg: Yes,\n                 occur: Req};\n     }\n@@ -500,10 +500,10 @@ pub mod groups {\n                   desc: &str, hint: &str) -> OptGroup {\n         let len = short_name.len();\n         assert!(len == 1 || len == 0);\n-        return OptGroup {short_name: short_name.to_owned(),\n-                long_name: long_name.to_owned(),\n-                hint: hint.to_owned(),\n-                desc: desc.to_owned(),\n+        return OptGroup {short_name: str::to_owned(short_name),\n+                long_name: str::to_owned(long_name),\n+                hint: str::to_owned(hint),\n+                desc: str::to_owned(desc),\n                 hasarg: Yes,\n                 occur: Optional};\n     }\n@@ -513,10 +513,10 @@ pub mod groups {\n                    desc: &str) -> OptGroup {\n         let len = short_name.len();\n         assert!(len == 1 || len == 0);\n-        return OptGroup {short_name: short_name.to_owned(),\n-                long_name: long_name.to_owned(),\n+        return OptGroup {short_name: str::to_owned(short_name),\n+                long_name: str::to_owned(long_name),\n                 hint: ~\"\",\n-                desc: desc.to_owned(),\n+                desc: str::to_owned(desc),\n                 hasarg: No,\n                 occur: Optional};\n     }\n@@ -526,10 +526,10 @@ pub mod groups {\n                       desc: &str, hint: &str) -> OptGroup {\n         let len = short_name.len();\n         assert!(len == 1 || len == 0);\n-        return OptGroup {short_name: short_name.to_owned(),\n-                long_name: long_name.to_owned(),\n-                hint: hint.to_owned(),\n-                desc: desc.to_owned(),\n+        return OptGroup {short_name: str::to_owned(short_name),\n+                long_name: str::to_owned(long_name),\n+                hint: str::to_owned(hint),\n+                desc: str::to_owned(desc),\n                 hasarg: Maybe,\n                 occur: Optional};\n     }\n@@ -542,10 +542,10 @@ pub mod groups {\n                     desc: &str, hint: &str) -> OptGroup {\n         let len = short_name.len();\n         assert!(len == 1 || len == 0);\n-        return OptGroup {short_name: short_name.to_owned(),\n-                long_name: long_name.to_owned(),\n-                hint: hint.to_owned(),\n-                desc: desc.to_owned(),\n+        return OptGroup {short_name: str::to_owned(short_name),\n+                long_name: str::to_owned(long_name),\n+                hint: str::to_owned(hint),\n+                desc: str::to_owned(desc),\n                 hasarg: Yes,\n                 occur: Multi};\n     }\n@@ -654,7 +654,7 @@ pub mod groups {\n             row\n         });\n \n-        return brief.to_owned() +\n+        return str::to_owned(brief) +\n                \"\\n\\nOptions:\\n\" +\n                rows.connect(\"\\n\") +\n                \"\\n\\n\";"}, {"sha": "6c972a313c4208f0f54bf20c81a713cdbf6b3a6e", "filename": "src/libextra/md4.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fmd4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fmd4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Fmd4.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -29,7 +29,7 @@ pub fn md4(msg: &[u8]) -> Quad {\n     let orig_len: u64 = (msg.len() * 8u) as u64;\n \n     // pad message\n-    let mut msg = vec::append(msg.to_owned(), [0x80u8]);\n+    let mut msg = vec::append(vec::to_owned(msg), [0x80u8]);\n     let mut bitlen = orig_len + 8u64;\n     while (bitlen + 64u64) % 512u64 > 0u64 {\n         msg.push(0u8);"}, {"sha": "4baa8877bda1e3c5ac3a8cb00a136f271170cf87", "filename": "src/libextra/num/bigint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fnum%2Fbigint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fnum%2Fbigint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Fnum%2Fbigint.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -564,7 +564,7 @@ impl BigUint {\n     /// Creates and initializes an BigUint.\n \n     pub fn from_slice(slice: &[BigDigit]) -> BigUint {\n-        return BigUint::new(slice.to_owned());\n+        return BigUint::new(vec::to_owned(slice));\n     }\n \n     /// Creates and initializes an BigUint."}, {"sha": "88b2fddb9d9e4a813fa27e8685bc82d4b2550237", "filename": "src/libextra/stats.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fstats.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Fstats.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Fstats.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -16,6 +16,7 @@ use core::iterator::*;\n use core::f64;\n use core::cmp;\n use core::num;\n+use core::vec;\n use sort;\n \n // NB: this can probably be rewritten in terms of num::Num\n@@ -56,7 +57,7 @@ impl<'self> Stats for &'self [f64] {\n \n     fn median(self) -> f64 {\n         assert!(self.len() != 0);\n-        let mut tmp = self.to_owned();\n+        let mut tmp = vec::to_owned(self);\n         sort::tim_sort(tmp);\n         if tmp.len() & 1 == 0 {\n             let m = tmp.len() / 2;"}, {"sha": "caaa2994405e01b984c3eca0eb7194bed2de06da", "filename": "src/libextra/time.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Ftime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibextra%2Ftime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Ftime.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -1029,7 +1029,7 @@ mod tests {\n \n         fn test(s: &str, format: &str) -> bool {\n             match strptime(s, format) {\n-              Ok(ref tm) => tm.strftime(format) == s.to_owned(),\n+              Ok(ref tm) => tm.strftime(format) == str::to_owned(s),\n               Err(e) => fail!(e)\n             }\n         }"}, {"sha": "4e2103fcd7047ba4dbf15e70776f2e2be0f87a0f", "filename": "src/libfuzzer/fuzzer.rc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibfuzzer%2Ffuzzer.rc", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibfuzzer%2Ffuzzer.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibfuzzer%2Ffuzzer.rc?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -328,7 +328,7 @@ pub fn check_variants_T<T:Copy>(crate: @ast::crate,\n     if L < 100 {\n         do under(uint::min(L, 20)) |i| {\n             error!(\"Replacing... #%?\", uint::to_str(i));\n-            let fname = filename.to_str();\n+            let fname = str::to_owned(filename.to_str());\n             do under(uint::min(L, 30)) |j| {\n                 let fname = fname.to_str();\n                 error!(\"With... %?\", stringifier(things[j], intr));"}, {"sha": "fdef25b5e711af2db618c1ec1f77bc4d905f1fdd", "filename": "src/librustc/metadata/decoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fdecoder.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -570,7 +570,7 @@ pub fn maybe_get_item_ast(cdata: cmd, tcx: ty::ctxt,\n     let item_doc = lookup_item(id, cdata.data);\n     let path = {\n         let item_path = item_path(item_doc);\n-        item_path.init().to_owned()\n+        vec::to_owned(item_path.init())\n     };\n     match decode_inlined_item(cdata, tcx, copy path, item_doc) {\n       Some(ref ii) => csearch::found((/*bad*/copy *ii)),"}, {"sha": "afa76eae4cfb5cb9229d0e29827c841f6c86d0b9", "filename": "src/librustc/metadata/encoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fencoder.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -1521,7 +1521,7 @@ pub fn encode_metadata(parms: EncodeParams, crate: &crate) -> ~[u8] {\n \n     let writer_bytes: &mut ~[u8] = wr.bytes;\n \n-    metadata_encoding_version.to_owned() +\n+    vec::to_owned(metadata_encoding_version) +\n         flate::deflate_bytes(*writer_bytes)\n }\n "}, {"sha": "6314cb6269768d666117bfc7d9a9b8d21edf1f2b", "filename": "src/librustc/metadata/filesearch.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Ffilesearch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Ffilesearch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Ffilesearch.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -13,6 +13,7 @@ use core::prelude::*;\n use core::option;\n use core::os;\n use core::result;\n+use core::str;\n \n // A module for searching for libraries\n // FIXME (#2658): I'm not happy how this module turned out. Should\n@@ -80,7 +81,7 @@ pub fn mk_filesearch(maybe_sysroot: &Option<@Path>,\n     @FileSearchImpl {\n         sysroot: sysroot,\n         addl_lib_search_paths: addl_lib_search_paths,\n-        target_triple: target_triple.to_owned()\n+        target_triple: str::to_owned(target_triple)\n     } as @FileSearch\n }\n \n@@ -106,7 +107,7 @@ pub fn search<T:Copy>(filesearch: @FileSearch, pick: pick<T>) -> Option<T> {\n \n pub fn relative_target_lib_path(target_triple: &str) -> Path {\n     Path(libdir()).push_many([~\"rustc\",\n-                              target_triple.to_owned(),\n+                              str::to_owned(target_triple),\n                               libdir()])\n }\n "}, {"sha": "5d9355053de949e210bab1788fcd82571603587a", "filename": "src/librustc/metadata/loader.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Floader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmetadata%2Floader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Floader.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -80,7 +80,7 @@ fn libname(cx: &Context) -> (~str, ~str) {\n         os_freebsd => (freebsd::DLL_PREFIX, freebsd::DLL_SUFFIX),\n     };\n \n-    (dll_prefix.to_owned(), dll_suffix.to_owned())\n+    (str::to_owned(dll_prefix), str::to_owned(dll_suffix))\n }\n \n fn find_library_crate_aux("}, {"sha": "1833cc96e323b28e4ea5bc53a17addaf0e9b796e", "filename": "src/librustc/middle/check_match.rs", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Fcheck_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Fcheck_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fcheck_match.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -495,7 +495,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                 match cx.tcx.def_map.find(&pat_id) {\n                     Some(&def_variant(_, id)) => {\n                         if variant(id) == *ctor_id {\n-                            Some(r.tail().to_owned())\n+                            Some(vec::to_owned(r.tail()))\n                         } else {\n                             None\n                         }\n@@ -533,7 +533,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                             _ => fail!(\"type error\")\n                         };\n                         if match_ {\n-                            Some(r.tail().to_owned())\n+                            Some(vec::to_owned(r.tail()))\n                         } else {\n                             None\n                         }\n@@ -580,7 +580,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                             _ => fail!(\"type error\")\n                         };\n                         if match_ {\n-                            Some(r.tail().to_owned())\n+                            Some(vec::to_owned(r.tail()))\n                         } else {\n                             None\n                         }\n@@ -590,7 +590,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                             Some(args) => args,\n                             None => vec::from_elem(arity, wild())\n                         };\n-                        Some(vec::append(args, r.tail().to_owned()))\n+                        Some(vec::append(args, vec::to_owned(r.tail())))\n                     }\n                     def_variant(_, _) => None,\n \n@@ -602,7 +602,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                             Some(args) => new_args = args,\n                             None => new_args = vec::from_elem(arity, wild())\n                         }\n-                        Some(vec::append(new_args, r.tail().to_owned()))\n+                        Some(vec::append(new_args, vec::to_owned(r.tail())))\n                     }\n                     _ => None\n                 }\n@@ -620,7 +620,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                                     _ => wild()\n                                 }\n                             });\n-                            Some(vec::append(args, r.tail().to_owned()))\n+                            Some(vec::append(args, vec::to_owned(r.tail())))\n                         } else {\n                             None\n                         }\n@@ -651,7 +651,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                                 _ => wild()\n                             }\n                         });\n-                        Some(vec::append(args, r.tail().to_owned()))\n+                        Some(vec::append(args, vec::to_owned(r.tail())))\n                     }\n                 }\n             }\n@@ -687,14 +687,14 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                     single => true,\n                     _ => fail!(\"type error\")\n                 };\n-                if match_ { Some(r.tail().to_owned()) } else { None }\n+                if match_ { Some(vec::to_owned(r.tail())) } else { None }\n             }\n             pat_range(lo, hi) => {\n                 let (c_lo, c_hi) = match *ctor_id {\n                     val(ref v) => ((/*bad*/copy *v), (/*bad*/copy *v)),\n                     range(ref lo, ref hi) =>\n                         ((/*bad*/copy *lo), (/*bad*/copy *hi)),\n-                    single => return Some(r.tail().to_owned()),\n+                    single => return Some(vec::to_owned(r.tail())),\n                     _ => fail!(\"type error\")\n                 };\n                 let v_lo = eval_const_expr(cx.tcx, lo);\n@@ -704,7 +704,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n                 let m2 = compare_const_vals(&c_hi, &v_hi);\n                 match (m1, m2) {\n                     (Some(val1), Some(val2)) if val1 >= 0 && val2 <= 0 => {\n-                        Some(r.tail().to_owned())\n+                        Some(vec::to_owned(r.tail()))\n                     },\n                     (Some(_), Some(_)) => None,\n                     _ => {\n@@ -745,7 +745,7 @@ pub fn specialize(cx: @MatchCheckCtxt,\n }\n \n pub fn default(cx: @MatchCheckCtxt, r: &[@pat]) -> Option<~[@pat]> {\n-    if is_wild(cx, r[0]) { Some(r.tail().to_owned()) }\n+    if is_wild(cx, r[0]) { Some(vec::to_owned(r.tail())) }\n     else { None }\n }\n "}, {"sha": "8601dfc5db8de7c76fe79ff27176a37def79b55e", "filename": "src/librustc/middle/trans/adt.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Ftrans%2Fadt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Ftrans%2Fadt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fadt.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -48,6 +48,8 @@ use core::iterator::IteratorUtil;\n use core::container::Map;\n use core::libc::c_ulonglong;\n use core::option::{Option, Some, None};\n+use core::str;\n+use core::vec;\n \n use lib::llvm::{ValueRef, TypeRef, True, IntEQ, IntNE};\n use middle::trans::_match;\n@@ -217,7 +219,7 @@ fn mk_struct(cx: @CrateContext, tys: &[ty::t], packed: bool) -> Struct {\n         size: machine::llsize_of_alloc(cx, llty_rec) /*bad*/as u64,\n         align: machine::llalign_of_min(cx, llty_rec) /*bad*/as u64,\n         packed: packed,\n-        fields: tys.to_owned()\n+        fields: vec::to_owned(tys)\n     }\n }\n "}, {"sha": "60725fa6b73468d668747afda41877a35e6087b8", "filename": "src/librustc/middle/trans/base.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -113,7 +113,7 @@ impl get_insn_ctxt for @CrateContext {\n     fn insn_ctxt(&self, s: &str) -> icx_popper {\n         debug!(\"new insn_ctxt: %s\", s);\n         if self.sess.count_llvm_insns() {\n-            self.stats.llvm_insn_ctxt.push(s.to_owned());\n+            self.stats.llvm_insn_ctxt.push(str::to_owned(s));\n         }\n         icx_popper(*self)\n     }"}, {"sha": "fe533f6ad80a5d6e461325243bc635559b13ad6e", "filename": "src/librustc/middle/ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fty.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -3898,7 +3898,7 @@ pub fn item_path(cx: ctxt, id: ast::def_id) -> ast_map::path {\n           }\n \n           ast_map::node_variant(ref variant, _, path) => {\n-            vec::append_one(path.init().to_owned(),\n+            vec::append_one(vec::to_owned(vec::init(*path)),\n                             ast_map::path_name((*variant).node.name))\n           }\n "}, {"sha": "38a0ed7cf44a7c08cdfae13dc5359c9e885ccd28", "filename": "src/librustdoc/desc_to_brief_pass.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustdoc%2Fdesc_to_brief_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibrustdoc%2Fdesc_to_brief_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fdesc_to_brief_pass.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -131,13 +131,13 @@ fn first_sentence_(s: &str) -> ~str {\n     });\n     match idx {\n         Some(idx) if idx > 2u => {\n-            s.slice_to(idx - 1).to_owned()\n+            str::to_owned(s.slice(0, idx - 1))\n         }\n         _ => {\n             if s.ends_with(\".\") {\n-                s.to_owned()\n+                str::to_owned(s)\n             } else {\n-                s.to_owned()\n+                str::to_owned(s)\n             }\n         }\n     }"}, {"sha": "6f065d74fa2e6ff3574df62b41b94b88c8755d60", "filename": "src/libstd/io.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -761,7 +761,7 @@ impl<T:Reader> ReaderUtil for T {\n     fn read_lines(&self) -> ~[~str] {\n         do vec::build |push| {\n             for self.each_line |line| {\n-                push(line.to_owned());\n+                push(str::to_owned(line));\n             }\n         }\n     }"}, {"sha": "abe902dec0be369c5be4865770062315d46c0e2f", "filename": "src/libstd/path.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -515,7 +515,7 @@ impl GenericPath for PosixPath {\n     fn with_filestem(&self, s: &str) -> PosixPath {\n         match self.filetype() {\n             None => self.with_filename(s),\n-            Some(ref t) => self.with_filename(s.to_owned() + *t),\n+            Some(ref t) => self.with_filename(str::to_owned(s) + *t),\n         }\n     }\n \n@@ -657,7 +657,7 @@ impl GenericPath for WindowsPath {\n             (None, None) => {\n                 host = None;\n                 device = None;\n-                rest = s.to_owned();\n+                rest = str::to_owned(s);\n             }\n         }\n \n@@ -729,7 +729,7 @@ impl GenericPath for WindowsPath {\n     fn with_filestem(&self, s: &str) -> WindowsPath {\n         match self.filetype() {\n             None => self.with_filename(s),\n-            Some(ref t) => self.with_filename(s.to_owned() + *t),\n+            Some(ref t) => self.with_filename(str::to_owned(s) + *t),\n         }\n     }\n \n@@ -983,7 +983,7 @@ mod tests {\n     fn test_posix_paths() {\n         fn t(wp: &PosixPath, s: &str) {\n             let ss = wp.to_str();\n-            let sss = s.to_owned();\n+            let sss = str::to_owned(s);\n             if (ss != sss) {\n                 debug!(\"got %s\", ss);\n                 debug!(\"expected %s\", sss);\n@@ -1041,7 +1041,7 @@ mod tests {\n     fn test_normalize() {\n         fn t(wp: &PosixPath, s: &str) {\n             let ss = wp.to_str();\n-            let sss = s.to_owned();\n+            let sss = str::to_owned(s);\n             if (ss != sss) {\n                 debug!(\"got %s\", ss);\n                 debug!(\"expected %s\", sss);\n@@ -1104,7 +1104,7 @@ mod tests {\n     fn test_windows_paths() {\n         fn t(wp: &WindowsPath, s: &str) {\n             let ss = wp.to_str();\n-            let sss = s.to_owned();\n+            let sss = str::to_owned(s);\n             if (ss != sss) {\n                 debug!(\"got %s\", ss);\n                 debug!(\"expected %s\", sss);"}, {"sha": "7946f7e4f13f6b1cc9c5a4f01b54cf34b8506529", "filename": "src/libstd/rand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Frand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Frand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frand.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -577,7 +577,7 @@ impl<R: Rng> RngUtil for R {\n \n     /// Shuffle a vec\n     fn shuffle<T:Copy>(&mut self, values: &[T]) -> ~[T] {\n-        let mut m = values.to_owned();\n+        let mut m = vec::to_owned(values);\n         self.shuffle_mut(m);\n         m\n     }"}, {"sha": "1086fcaa75cfcf0ccb9ce888a6db0dba7d5e6160", "filename": "src/libstd/str.rs", "status": "modified", "additions": 13, "deletions": 17, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fstr.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -107,17 +107,23 @@ pub fn from_bytes_slice<'a>(vector: &'a [u8]) -> &'a str {\n     }\n }\n \n+/// Copy a slice into a new unique str\n+#[inline(always)]\n+pub fn to_owned(s: &str) -> ~str {\n+    unsafe { raw::slice_bytes_owned(s, 0, s.len()) }\n+}\n+\n impl ToStr for ~str {\n     #[inline(always)]\n-    fn to_str(&self) -> ~str { self.to_owned() }\n+    fn to_str(&self) -> ~str { to_owned(*self) }\n }\n impl<'self> ToStr for &'self str {\n     #[inline(always)]\n-    fn to_str(&self) -> ~str { self.to_owned() }\n+    fn to_str(&self) -> ~str { to_owned(*self) }\n }\n impl ToStr for @str {\n     #[inline(always)]\n-    fn to_str(&self) -> ~str { self.to_owned() }\n+    fn to_str(&self) -> ~str { to_owned(*self) }\n }\n \n /**\n@@ -950,7 +956,7 @@ impl<'self> StrUtil for &'self str {\n             // NB: len includes the trailing null.\n             assert!(len > 0);\n             if unsafe { *(ptr::offset(buf,len-1)) != 0 } {\n-                self.to_owned().as_c_str(f)\n+                to_owned(self).as_c_str(f)\n             } else {\n                 f(buf as *libc::c_char)\n             }\n@@ -1204,9 +1210,7 @@ pub mod traits {\n     impl<'self> Add<&'self str,~str> for ~str {\n         #[inline(always)]\n         fn add(&self, rhs: & &'self str) -> ~str {\n-            let mut s = self.to_owned();\n-            s.push_str(*rhs);\n-            s\n+            self.append((*rhs))\n         }\n     }\n }\n@@ -1665,11 +1669,8 @@ impl<'self> StrSlice<'self> for &'self str {\n \n     /// Copy a slice into a new unique str\n     #[inline]\n-    fn to_owned(&self) -> ~str {\n-        unsafe { raw::slice_bytes_owned(*self, 0, self.len()) }\n-    }\n+    fn to_owned(&self) -> ~str { to_owned(*self) }\n \n-    /// Copy a slice into a new @str\n     #[inline]\n     fn to_managed(&self) -> @str {\n         let v = at_vec::from_fn(self.len() + 1, |i| {\n@@ -2180,7 +2181,7 @@ impl OwnedStr for ~str {\n impl Clone for ~str {\n     #[inline(always)]\n     fn clone(&self) -> ~str {\n-        self.to_owned()\n+        to_owned(*self)\n     }\n }\n \n@@ -3172,11 +3173,6 @@ mod tests {\n         assert_eq!(\"abc\".to_managed(), @\"abc\");\n         assert_eq!(\"abcdef\".slice(1, 5).to_managed(), @\"bcde\");\n     }\n-    #[test]\n-    fn test_to_owned() {\n-        assert_eq!(\"abc\".to_owned(), ~\"abc\");\n-        assert_eq!(\"abcdef\".slice(1, 5).to_owned(), ~\"bcde\");\n-    }\n \n     #[test]\n     fn test_total_ord() {"}, {"sha": "19233c533481e01a9542d55129f8f15eb6751f57", "filename": "src/libstd/vec.rs", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibstd%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fvec.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -171,6 +171,11 @@ pub fn from_elem<T:Copy>(n_elts: uint, t: T) -> ~[T] {\n     }\n }\n \n+/// Creates a new unique vector with the same contents as the slice\n+pub fn to_owned<T:Copy>(t: &[T]) -> ~[T] {\n+    from_fn(t.len(), |i| t[i])\n+}\n+\n /// Creates a new vector with a capacity of `capacity`\n pub fn with_capacity<T>(capacity: uint) -> ~[T] {\n     let mut vec = ~[];\n@@ -1782,7 +1787,7 @@ pub trait CopyableVector<T> {\n \n /// Extension methods for vectors\n impl<'self,T:Copy> CopyableVector<T> for &'self [T] {\n-    /// Creates a new unique vector with the same contents as the slice\n+    /// Returns a copy of `v`.\n     #[inline]\n     fn to_owned(&self) -> ~[T] {\n         let mut result = ~[];\n@@ -1791,6 +1796,7 @@ impl<'self,T:Copy> CopyableVector<T> for &'self [T] {\n             result.push(copy *e);\n         }\n         result\n+\n     }\n }\n \n@@ -3355,19 +3361,19 @@ mod tests {\n         let mut results: ~[~[int]];\n \n         results = ~[];\n-        for each_permutation([]) |v| { results.push(v.to_owned()); }\n+        for each_permutation([]) |v| { results.push(to_owned(v)); }\n         assert_eq!(results, ~[~[]]);\n \n         results = ~[];\n-        for each_permutation([7]) |v| { results.push(v.to_owned()); }\n+        for each_permutation([7]) |v| { results.push(to_owned(v)); }\n         assert_eq!(results, ~[~[7]]);\n \n         results = ~[];\n-        for each_permutation([1,1]) |v| { results.push(v.to_owned()); }\n+        for each_permutation([1,1]) |v| { results.push(to_owned(v)); }\n         assert_eq!(results, ~[~[1,1],~[1,1]]);\n \n         results = ~[];\n-        for each_permutation([5,2,0]) |v| { results.push(v.to_owned()); }\n+        for each_permutation([5,2,0]) |v| { results.push(to_owned(v)); }\n         assert!(results ==\n             ~[~[5,2,0],~[5,0,2],~[2,5,0],~[2,0,5],~[0,5,2],~[0,2,5]]);\n     }"}, {"sha": "68ede15e754bb6a7d6f9883cfaa5765fd8363908", "filename": "src/libsyntax/attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fattr.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -259,7 +259,7 @@ pub fn last_meta_item_list_by_name(items: ~[@ast::meta_item], name: &str)\n \n pub fn sort_meta_items(items: &[@ast::meta_item]) -> ~[@ast::meta_item] {\n     // This is sort of stupid here, converting to a vec of mutables and back\n-    let mut v = items.to_owned();\n+    let mut v = vec::to_owned(items);\n     do extra::sort::quick_sort(v) |ma, mb| {\n         get_meta_item_name(*ma) <= get_meta_item_name(*mb)\n     }"}, {"sha": "febb6b324b9f008ecceb69caa8345ca8392df8c0", "filename": "src/libsyntax/ext/asm.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fasm.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -14,6 +14,7 @@\n \n use core::prelude::*;\n \n+use core::vec;\n use ast;\n use codemap::span;\n use ext::base;\n@@ -43,7 +44,7 @@ pub fn expand_asm(cx: @ExtCtxt, sp: span, tts: &[ast::token_tree])\n                -> base::MacResult {\n     let p = parse::new_parser_from_tts(cx.parse_sess(),\n                                        cx.cfg(),\n-                                       tts.to_owned());\n+                                       vec::to_owned(tts));\n \n     let mut asm = @\"\";\n     let mut outputs = ~[];"}, {"sha": "997f4e2621fca6372882f878068a6752bdd0eeb5", "filename": "src/libsyntax/ext/base.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbase.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -10,6 +10,7 @@\n \n use core::prelude::*;\n \n+use core::vec;\n use ast;\n use ast::Name;\n use codemap;\n@@ -366,7 +367,7 @@ pub fn get_exprs_from_tts(cx: @ExtCtxt, tts: &[ast::token_tree])\n                        -> ~[@ast::expr] {\n     let p = parse::new_parser_from_tts(cx.parse_sess(),\n                                        cx.cfg(),\n-                                       tts.to_owned());\n+                                       vec::to_owned(tts));\n     let mut es = ~[];\n     while *p.token != token::EOF {\n         if es.len() != 0 {"}, {"sha": "4b61d4da218a1cf5e36b67d0541f8e66b74f41ec", "filename": "src/libsyntax/ext/log_syntax.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Flog_syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Flog_syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Flog_syntax.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -10,6 +10,7 @@\n \n use core::prelude::*;\n \n+use core::vec;\n use ast;\n use codemap;\n use ext::base::*;\n@@ -27,7 +28,7 @@ pub fn expand_syntax_ext(cx: @ExtCtxt,\n     cx.print_backtrace();\n     io::stdout().write_line(\n         print::pprust::tt_to_str(\n-            ast::tt_delim(tt.to_owned()),\n+            ast::tt_delim(vec::to_owned(tt)),\n             get_ident_interner()));\n \n     //trivial expression"}, {"sha": "25166eca7bb05e862b568cc4472d55cdb693ad0e", "filename": "src/libsyntax/ext/quote.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Fquote.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Fquote.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fquote.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -10,6 +10,7 @@\n \n use core::prelude::*;\n \n+use core::vec;\n use ast;\n use codemap::{BytePos, Pos, span};\n use ext::base::ExtCtxt;\n@@ -38,6 +39,8 @@ pub mod rt {\n     use parse;\n     use print::pprust;\n \n+    use core::str;\n+\n     pub use ast::*;\n     pub use parse::token::*;\n     pub use parse::new_parser_from_tts;\n@@ -655,7 +658,7 @@ fn expand_tts(cx: @ExtCtxt,\n     let p = parse::new_parser_from_tts(\n         cx.parse_sess(),\n         cx.cfg(),\n-        tts.to_owned()\n+        vec::to_owned(tts)\n     );\n     *p.quote_depth += 1u;\n     let tts = p.parse_all_token_trees();"}, {"sha": "09965b921c1e611028da14c129b4d818ab0c4cf6", "filename": "src/libsyntax/ext/trace_macros.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Ftrace_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Ftrace_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftrace_macros.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -10,6 +10,7 @@\n \n use core::prelude::*;\n \n+use core::vec;\n use ast;\n use codemap::span;\n use ext::base::ExtCtxt;\n@@ -27,7 +28,7 @@ pub fn expand_trace_macros(cx: @ExtCtxt,\n     let tt_rdr = new_tt_reader(\n         copy cx.parse_sess().span_diagnostic,\n         None,\n-        tt.to_owned()\n+        vec::to_owned(tt)\n     );\n     let rdr = tt_rdr as @reader;\n     let rust_parser = Parser("}, {"sha": "7cca7162fc86e6d0316b4c735b28035b129990a7", "filename": "src/libsyntax/ext/tt/macro_rules.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -10,6 +10,7 @@\n \n use core::prelude::*;\n \n+use core::vec;\n use ast::{ident, matcher_, matcher, match_tok, match_nonterminal, match_seq};\n use ast::{tt_delim};\n use ast;\n@@ -83,7 +84,7 @@ pub fn add_new_extension(cx: @ExtCtxt,\n             io::println(fmt!(\"%s! { %s }\",\n                              cx.str_of(name),\n                              print::pprust::tt_to_str(\n-                                 ast::tt_delim(arg.to_owned()),\n+                                 ast::tt_delim(vec::to_owned(arg)),\n                                  get_ident_interner())));\n         }\n \n@@ -100,7 +101,7 @@ pub fn add_new_extension(cx: @ExtCtxt,\n                 let arg_rdr = new_tt_reader(\n                     s_d,\n                     None,\n-                    arg.to_owned()\n+                    vec::to_owned(arg)\n                 ) as @reader;\n                 match parse(cx.parse_sess(), cx.cfg(), arg_rdr, *mtcs) {\n                   success(named_matches) => {"}, {"sha": "cfa0401e5b942209da7588d567fc6a098d88ee06", "filename": "src/test/run-pass/struct-order-of-eval-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Ftest%2Frun-pass%2Fstruct-order-of-eval-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Ftest%2Frun-pass%2Fstruct-order-of-eval-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstruct-order-of-eval-1.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -14,5 +14,5 @@ struct S { f0: ~str, f1: int }\n \n pub fn main() {\n     let s = ~\"Hello, world!\";\n-    let _s = S { f0: s.to_owned(), ..S { f0: s, f1: 23 } };\n+    let _s = S { f0: str::to_owned(s), ..S { f0: s, f1: 23 } };\n }"}, {"sha": "f58e5bab3febfb521df48bd0fe7d655d3b02c741", "filename": "src/test/run-pass/struct-order-of-eval-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Ftest%2Frun-pass%2Fstruct-order-of-eval-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7755018074a7802e47ae61f69f5e2b5364a12eb8/src%2Ftest%2Frun-pass%2Fstruct-order-of-eval-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstruct-order-of-eval-2.rs?ref=7755018074a7802e47ae61f69f5e2b5364a12eb8", "patch": "@@ -14,5 +14,5 @@ struct S { f0: ~str, f1: ~str }\n \n pub fn main() {\n     let s = ~\"Hello, world!\";\n-    let _s = S { f1: s.to_owned(), f0: s };\n+    let _s = S { f1: str::to_owned(s), f0: s };\n }"}]}