{"sha": "e76d3f62cc34a77496305639f22a7da168ebc301", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3NmQzZjYyY2MzNGE3NzQ5NjMwNTYzOWYyMmE3ZGExNjhlYmMzMDE=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-22T03:19:07Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-22T23:46:50Z"}, "message": "Fix test for variadic error change", "tree": {"sha": "13fe021c958e778c157dfd9ee8fd1bb7e36b5f73", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/13fe021c958e778c157dfd9ee8fd1bb7e36b5f73"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e76d3f62cc34a77496305639f22a7da168ebc301", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e76d3f62cc34a77496305639f22a7da168ebc301", "html_url": "https://github.com/rust-lang/rust/commit/e76d3f62cc34a77496305639f22a7da168ebc301", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e76d3f62cc34a77496305639f22a7da168ebc301/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fdfb9a2963952f19d9f66a8e50981478fe2bca48", "url": "https://api.github.com/repos/rust-lang/rust/commits/fdfb9a2963952f19d9f66a8e50981478fe2bca48", "html_url": "https://github.com/rust-lang/rust/commit/fdfb9a2963952f19d9f66a8e50981478fe2bca48"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "4d54f2a3677f7b685e1c371f4fba6a9c58444275", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e76d3f62cc34a77496305639f22a7da168ebc301/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e76d3f62cc34a77496305639f22a7da168ebc301/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=e76d3f62cc34a77496305639f22a7da168ebc301", "patch": "@@ -1626,7 +1626,7 @@ pub fn build_session_options_and_crate_config(matches: &getopts::Matches)\n     }\n \n     if !debugging_opts.unstable_options && debugging_opts.explain {\n-        early_error(ErrorOutputType::Json(false), \"-Z --explain is unstable\");\n+        early_error(error_format, \"-Z --explain is unstable\");\n     }\n \n     let mut output_types = BTreeMap::new();"}, {"sha": "1bf3798b95a79af7f9f2aeee99b99feebc343534", "filename": "src/test/ui/variadic-ffi-3.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e76d3f62cc34a77496305639f22a7da168ebc301/src%2Ftest%2Fui%2Fvariadic-ffi-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e76d3f62cc34a77496305639f22a7da168ebc301/src%2Ftest%2Fui%2Fvariadic-ffi-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fvariadic-ffi-3.stderr?ref=e76d3f62cc34a77496305639f22a7da168ebc301", "patch": "@@ -34,41 +34,41 @@ error[E0308]: mismatched types\n    = note: expected type `extern \"C\" fn(isize, u8, ...)`\n               found type `extern \"C\" fn(isize, u8) {bar}`\n \n-error[E0617]: can't pass `f32` to variadic function, cast to `c_double`\n+error[E0617]: can't pass `f32` to variadic function\n   --> $DIR/variadic-ffi-3.rs:34:19\n    |\n 34 |         foo(1, 2, 3f32); //~ ERROR can't pass `f32` to variadic function, cast to `c_double`\n-   |                   ^^^^\n+   |                   ^^^^ help: cast the value to `c_double`: `3f32 as c_double`\n \n-error[E0617]: can't pass `bool` to variadic function, cast to `c_int`\n+error[E0617]: can't pass `bool` to variadic function\n   --> $DIR/variadic-ffi-3.rs:35:19\n    |\n 35 |         foo(1, 2, true); //~ ERROR can't pass `bool` to variadic function, cast to `c_int`\n-   |                   ^^^^\n+   |                   ^^^^ help: cast the value to `c_int`: `true as c_int`\n \n-error[E0617]: can't pass `i8` to variadic function, cast to `c_int`\n+error[E0617]: can't pass `i8` to variadic function\n   --> $DIR/variadic-ffi-3.rs:36:19\n    |\n 36 |         foo(1, 2, 1i8); //~ ERROR can't pass `i8` to variadic function, cast to `c_int`\n-   |                   ^^^\n+   |                   ^^^ help: cast the value to `c_int`: `1i8 as c_int`\n \n-error[E0617]: can't pass `u8` to variadic function, cast to `c_uint`\n+error[E0617]: can't pass `u8` to variadic function\n   --> $DIR/variadic-ffi-3.rs:37:19\n    |\n 37 |         foo(1, 2, 1u8); //~ ERROR can't pass `u8` to variadic function, cast to `c_uint`\n-   |                   ^^^\n+   |                   ^^^ help: cast the value to `c_uint`: `1u8 as c_uint`\n \n-error[E0617]: can't pass `i16` to variadic function, cast to `c_int`\n+error[E0617]: can't pass `i16` to variadic function\n   --> $DIR/variadic-ffi-3.rs:38:19\n    |\n 38 |         foo(1, 2, 1i16); //~ ERROR can't pass `i16` to variadic function, cast to `c_int`\n-   |                   ^^^^\n+   |                   ^^^^ help: cast the value to `c_int`: `1i16 as c_int`\n \n-error[E0617]: can't pass `u16` to variadic function, cast to `c_uint`\n+error[E0617]: can't pass `u16` to variadic function\n   --> $DIR/variadic-ffi-3.rs:39:19\n    |\n 39 |         foo(1, 2, 1u16); //~ ERROR can't pass `u16` to variadic function, cast to `c_uint`\n-   |                   ^^^^\n+   |                   ^^^^ help: cast the value to `c_uint`: `1u16 as c_uint`\n \n error: aborting due to 10 previous errors\n "}]}