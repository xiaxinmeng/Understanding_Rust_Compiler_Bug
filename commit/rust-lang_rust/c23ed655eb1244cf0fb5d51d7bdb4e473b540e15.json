{"sha": "c23ed655eb1244cf0fb5d51d7bdb4e473b540e15", "node_id": "C_kwDOAAsO6NoAKGMyM2VkNjU1ZWIxMjQ0Y2YwZmI1ZDUxZDdiZGI0ZTQ3M2I1NDBlMTU", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-09-13T10:01:07Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2022-10-10T16:28:29Z"}, "message": "Update rustdoc tests", "tree": {"sha": "10a824142466f7a309a835d639f7eef5aef611da", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/10a824142466f7a309a835d639f7eef5aef611da"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15", "html_url": "https://github.com/rust-lang/rust/commit/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6add6a1e1e5681d8d80f48326795b734c7966518", "url": "https://api.github.com/repos/rust-lang/rust/commits/6add6a1e1e5681d8d80f48326795b734c7966518", "html_url": "https://github.com/rust-lang/rust/commit/6add6a1e1e5681d8d80f48326795b734c7966518"}], "stats": {"total": 93, "additions": 79, "deletions": 14}, "files": [{"sha": "161625ed28c295e22467744333a63e81288397b8", "filename": "src/test/rustdoc-ui/intra-doc/malformed-generics.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.rs?ref=c23ed655eb1244cf0fb5d51d7bdb4e473b540e15", "patch": "@@ -3,17 +3,26 @@\n //! [Vec<] //~ ERROR\n //! [Vec<Box<T] //~ ERROR\n //! [Vec<Box<T>] //~ ERROR\n+//~^ WARN\n //! [Vec<Box<T>>>] //~ ERROR\n+//~^ WARN\n //! [Vec<T>>>] //~ ERROR\n+//~^ WARN\n //! [<Vec] //~ ERROR\n //! [Vec::<] //~ ERROR\n //! [<T>] //~ ERROR\n+//~^ WARN\n //! [<invalid syntax>] //~ ERROR\n+//~^ WARN\n //! [Vec:<T>:new()] //~ ERROR\n+//~^ WARN\n //! [Vec<<T>>] //~ ERROR\n+//~^ WARN\n //! [Vec<>] //~ ERROR\n //! [Vec<<>>] //~ ERROR\n \n // FIXME(#74563) support UFCS\n //! [<Vec as IntoIterator>::into_iter] //~ ERROR\n+//~^ WARN\n //! [<Vec<T> as IntoIterator>::iter] //~ ERROR\n+//~^ WARN"}, {"sha": "08349fef88d380327baba3c33e4f30651df7e278", "filename": "src/test/rustdoc-ui/intra-doc/malformed-generics.stderr", "status": "modified", "additions": 69, "deletions": 13, "changes": 82, "blob_url": "https://github.com/rust-lang/rust/blob/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fintra-doc%2Fmalformed-generics.stderr?ref=c23ed655eb1244cf0fb5d51d7bdb4e473b540e15", "patch": "@@ -23,80 +23,136 @@ LL | //! [Vec<Box<T>]\n    |      ^^^^^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `Vec<Box<T>>>`\n-  --> $DIR/malformed-generics.rs:6:6\n+  --> $DIR/malformed-generics.rs:7:6\n    |\n LL | //! [Vec<Box<T>>>]\n    |      ^^^^^^^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `Vec<T>>>`\n-  --> $DIR/malformed-generics.rs:7:6\n+  --> $DIR/malformed-generics.rs:9:6\n    |\n LL | //! [Vec<T>>>]\n    |      ^^^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `<Vec`\n-  --> $DIR/malformed-generics.rs:8:6\n+  --> $DIR/malformed-generics.rs:11:6\n    |\n LL | //! [<Vec]\n    |      ^^^^ unbalanced angle brackets\n \n error: unresolved link to `Vec::<`\n-  --> $DIR/malformed-generics.rs:9:6\n+  --> $DIR/malformed-generics.rs:12:6\n    |\n LL | //! [Vec::<]\n    |      ^^^^^^ unbalanced angle brackets\n \n error: unresolved link to `<T>`\n-  --> $DIR/malformed-generics.rs:10:6\n+  --> $DIR/malformed-generics.rs:13:6\n    |\n LL | //! [<T>]\n    |      ^^^ missing type for generic parameters\n \n error: unresolved link to `<invalid syntax>`\n-  --> $DIR/malformed-generics.rs:11:6\n+  --> $DIR/malformed-generics.rs:15:6\n    |\n LL | //! [<invalid syntax>]\n    |      ^^^^^^^^^^^^^^^^ missing type for generic parameters\n \n error: unresolved link to `Vec:<T>:new`\n-  --> $DIR/malformed-generics.rs:12:6\n+  --> $DIR/malformed-generics.rs:17:6\n    |\n LL | //! [Vec:<T>:new()]\n    |      ^^^^^^^^^^^^^ has invalid path separator\n \n error: unresolved link to `Vec<<T>>`\n-  --> $DIR/malformed-generics.rs:13:6\n+  --> $DIR/malformed-generics.rs:19:6\n    |\n LL | //! [Vec<<T>>]\n    |      ^^^^^^^^ too many angle brackets\n \n error: unresolved link to `Vec<>`\n-  --> $DIR/malformed-generics.rs:14:6\n+  --> $DIR/malformed-generics.rs:21:6\n    |\n LL | //! [Vec<>]\n    |      ^^^^^ empty angle brackets\n \n error: unresolved link to `Vec<<>>`\n-  --> $DIR/malformed-generics.rs:15:6\n+  --> $DIR/malformed-generics.rs:22:6\n    |\n LL | //! [Vec<<>>]\n    |      ^^^^^^^ too many angle brackets\n \n error: unresolved link to `<Vec as IntoIterator>::into_iter`\n-  --> $DIR/malformed-generics.rs:18:6\n+  --> $DIR/malformed-generics.rs:25:6\n    |\n LL | //! [<Vec as IntoIterator>::into_iter]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ fully-qualified syntax is unsupported\n    |\n    = note: see https://github.com/rust-lang/rust/issues/74563 for more information\n \n error: unresolved link to `<Vec<T> as IntoIterator>::iter`\n-  --> $DIR/malformed-generics.rs:19:6\n+  --> $DIR/malformed-generics.rs:27:6\n    |\n LL | //! [<Vec<T> as IntoIterator>::iter]\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ fully-qualified syntax is unsupported\n    |\n    = note: see https://github.com/rust-lang/rust/issues/74563 for more information\n \n-error: aborting due to 15 previous errors\n+warning: unclosed HTML tag `T`\n+  --> $DIR/malformed-generics.rs:5:13\n+   |\n+LL | //! [Vec<Box<T>]\n+   |             ^^^\n+   |\n+   = note: `#[warn(rustdoc::invalid_html_tags)]` on by default\n+\n+warning: unclosed HTML tag `T`\n+  --> $DIR/malformed-generics.rs:7:13\n+   |\n+LL | //! [Vec<Box<T>>>]\n+   |             ^^^\n+\n+warning: unclosed HTML tag `T`\n+  --> $DIR/malformed-generics.rs:9:9\n+   |\n+LL | //! [Vec<T>>>]\n+   |         ^^^\n+\n+warning: unclosed HTML tag `T`\n+  --> $DIR/malformed-generics.rs:13:6\n+   |\n+LL | //! [<T>]\n+   |      ^^^\n+\n+warning: unclosed HTML tag `invalid`\n+  --> $DIR/malformed-generics.rs:15:6\n+   |\n+LL | //! [<invalid syntax>]\n+   |      ^^^^^^^^\n+\n+warning: unclosed HTML tag `T`\n+  --> $DIR/malformed-generics.rs:17:10\n+   |\n+LL | //! [Vec:<T>:new()]\n+   |          ^^^\n+\n+warning: unclosed HTML tag `T`\n+  --> $DIR/malformed-generics.rs:19:10\n+   |\n+LL | //! [Vec<<T>>]\n+   |          ^^^\n+\n+warning: unclosed HTML tag `Vec`\n+  --> $DIR/malformed-generics.rs:25:6\n+   |\n+LL | //! [<Vec as IntoIterator>::into_iter]\n+   |      ^^^^\n+\n+warning: unclosed HTML tag `T`\n+  --> $DIR/malformed-generics.rs:27:10\n+   |\n+LL | //! [<Vec<T> as IntoIterator>::iter]\n+   |          ^^^\n+\n+error: aborting due to 15 previous errors; 9 warnings emitted\n "}, {"sha": "ad50887e9221c571f0e4319a37c175c158fd1a3d", "filename": "src/test/rustdoc/intra-doc/extern-crate-only-used-in-link.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-crate-only-used-in-link.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c23ed655eb1244cf0fb5d51d7bdb4e473b540e15/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-crate-only-used-in-link.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fextern-crate-only-used-in-link.rs?ref=c23ed655eb1244cf0fb5d51d7bdb4e473b540e15", "patch": "@@ -16,4 +16,4 @@\n //! [`empty`]\n \n // @has - '//a[@href=\"../empty2/index.html\"]' 'empty2'\n-//! [empty2<x>]\n+//! [`empty2<x>`]"}]}