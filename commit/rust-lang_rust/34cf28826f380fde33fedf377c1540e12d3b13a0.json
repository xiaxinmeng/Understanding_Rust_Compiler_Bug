{"sha": "34cf28826f380fde33fedf377c1540e12d3b13a0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM0Y2YyODgyNmYzODBmZGUzM2ZlZGYzNzdjMTU0MGUxMmQzYjEzYTA=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-03-20T19:49:13Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-04-01T13:36:48Z"}, "message": "rustc: Stabilize the `#![windows_subsystem]` attribute\n\nThis commit stabilizes the `#![windows_subsystem]` attribute which is a\nconservative exposure of the `/SUBSYSTEM` linker flag on Widnows platforms. This\nis useful for creating applications as well as console programs.\n\nCloses #37499", "tree": {"sha": "168332dadb7d222fbc651a5f180fa7011594f76d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/168332dadb7d222fbc651a5f180fa7011594f76d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/34cf28826f380fde33fedf377c1540e12d3b13a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/34cf28826f380fde33fedf377c1540e12d3b13a0", "html_url": "https://github.com/rust-lang/rust/commit/34cf28826f380fde33fedf377c1540e12d3b13a0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/34cf28826f380fde33fedf377c1540e12d3b13a0/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e122f59ba23494d460466cca53c71646d99c767", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e122f59ba23494d460466cca53c71646d99c767", "html_url": "https://github.com/rust-lang/rust/commit/5e122f59ba23494d460466cca53c71646d99c767"}], "stats": {"total": 42, "additions": 3, "deletions": 39}, "files": [{"sha": "72c2461c8bb5e55586b1f19a0cbf213750db87ec", "filename": "src/doc/unstable-book/src/SUMMARY.md", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md?ref=34cf28826f380fde33fedf377c1540e12d3b13a0", "patch": "@@ -209,5 +209,4 @@\n - [windows_handle](windows-handle.md)\n - [windows_net](windows-net.md)\n - [windows_stdio](windows-stdio.md)\n-- [windows_subsystem](windows-subsystem.md)\n - [zero_one](zero-one.md)"}, {"sha": "80583352fbf967d5a77b9d525b3d993f7a2525fc", "filename": "src/doc/unstable-book/src/windows-subsystem.md", "status": "removed", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5e122f59ba23494d460466cca53c71646d99c767/src%2Fdoc%2Funstable-book%2Fsrc%2Fwindows-subsystem.md", "raw_url": "https://github.com/rust-lang/rust/raw/5e122f59ba23494d460466cca53c71646d99c767/src%2Fdoc%2Funstable-book%2Fsrc%2Fwindows-subsystem.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Fwindows-subsystem.md?ref=5e122f59ba23494d460466cca53c71646d99c767", "patch": "@@ -1,10 +0,0 @@\n-# `windows_subsystem`\n-\n-The tracking issue for this feature is: [#37499]\n-\n-[#37499]: https://github.com/rust-lang/rust/issues/37499\n-\n-------------------------\n-\n-\n-"}, {"sha": "412803ddcd5a3d1b5eb160dddc82c3c1d03824c2", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=34cf28826f380fde33fedf377c1540e12d3b13a0", "patch": "@@ -292,9 +292,6 @@ declare_features! (\n     // Allows attributes on lifetime/type formal parameters in generics (RFC 1327)\n     (active, generic_param_attrs, \"1.11.0\", Some(34761)),\n \n-    // The #![windows_subsystem] attribute\n-    (active, windows_subsystem, \"1.14.0\", Some(37499)),\n-\n     // Allows #[link(..., cfg(..))]\n     (active, link_cfg, \"1.14.0\", Some(37406)),\n \n@@ -408,7 +405,8 @@ declare_features! (\n     (accepted, static_recursion, \"1.17.0\", Some(29719)),\n     // pub(restricted) visibilities (RFC 1422)\n     (accepted, pub_restricted, \"1.17.0\", Some(32409)),\n-\n+    // The #![windows_subsystem] attribute\n+    (accepted, windows_subsystem, \"1.18.0\", Some(37499)),\n );\n // If you change this, please modify src/doc/unstable-book as well. You must\n // move that documentation into the relevant place in the other docs, and\n@@ -768,11 +766,7 @@ pub const BUILTIN_ATTRIBUTES: &'static [(&'static str, AttributeType, AttributeG\n                                         \"unboxed_closures are still evolving\",\n                                         cfg_fn!(unboxed_closures))),\n \n-    (\"windows_subsystem\", Whitelisted, Gated(Stability::Unstable,\n-                                             \"windows_subsystem\",\n-                                             \"the windows subsystem attribute \\\n-                                              is currently unstable\",\n-                                             cfg_fn!(windows_subsystem))),\n+    (\"windows_subsystem\", Whitelisted, Ungated),\n \n     (\"proc_macro_attribute\", Normal, Gated(Stability::Unstable,\n                                            \"proc_macro\","}, {"sha": "63f891a2af7bf9b6491c9661a5d44b1df82c74cd", "filename": "src/test/compile-fail/windows-subsystem-gated.rs", "status": "removed", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/5e122f59ba23494d460466cca53c71646d99c767/src%2Ftest%2Fcompile-fail%2Fwindows-subsystem-gated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e122f59ba23494d460466cca53c71646d99c767/src%2Ftest%2Fcompile-fail%2Fwindows-subsystem-gated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fwindows-subsystem-gated.rs?ref=5e122f59ba23494d460466cca53c71646d99c767", "patch": "@@ -1,16 +0,0 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// gate-test-windows_subsystem\n-\n-#![windows_subsystem = \"console\"]\n-//~^ ERROR: the windows subsystem attribute is currently unstable\n-\n-fn main() {}"}, {"sha": "7772cfd6a2c93894bd9e7e843661c6922b214c60", "filename": "src/test/compile-fail/windows-subsystem-invalid.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Ftest%2Fcompile-fail%2Fwindows-subsystem-invalid.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Ftest%2Fcompile-fail%2Fwindows-subsystem-invalid.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fwindows-subsystem-invalid.rs?ref=34cf28826f380fde33fedf377c1540e12d3b13a0", "patch": "@@ -10,7 +10,6 @@\n \n // error-pattern: invalid windows subsystem `wrong`, only `windows` and `console` are allowed\n \n-#![feature(windows_subsystem)]\n #![windows_subsystem = \"wrong\"]\n \n fn main() {}"}, {"sha": "ffad1e35ee6607df6e3a0854e5e8310690cdcf19", "filename": "src/test/run-make/windows-subsystem/console.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Ftest%2Frun-make%2Fwindows-subsystem%2Fconsole.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Ftest%2Frun-make%2Fwindows-subsystem%2Fconsole.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fwindows-subsystem%2Fconsole.rs?ref=34cf28826f380fde33fedf377c1540e12d3b13a0", "patch": "@@ -8,7 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(windows_subsystem)]\n #![windows_subsystem = \"console\"]\n \n fn main() {}"}, {"sha": "33cbe32059190fb2c0bebe95db127534827a192b", "filename": "src/test/run-make/windows-subsystem/windows.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Ftest%2Frun-make%2Fwindows-subsystem%2Fwindows.rs", "raw_url": "https://github.com/rust-lang/rust/raw/34cf28826f380fde33fedf377c1540e12d3b13a0/src%2Ftest%2Frun-make%2Fwindows-subsystem%2Fwindows.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fwindows-subsystem%2Fwindows.rs?ref=34cf28826f380fde33fedf377c1540e12d3b13a0", "patch": "@@ -8,7 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(windows_subsystem)]\n #![windows_subsystem = \"windows\"]\n \n fn main() {}"}]}