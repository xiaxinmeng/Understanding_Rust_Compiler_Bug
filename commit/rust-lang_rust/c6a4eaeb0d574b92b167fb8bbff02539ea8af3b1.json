{"sha": "c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM2YTRlYWViMGQ1NzRiOTJiMTY3ZmI4YmJmZjAyNTM5ZWE4YWYzYjE=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-11-15T07:38:43Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-11-15T07:38:43Z"}, "message": "Rustup", "tree": {"sha": "fa3c682d74a391c1a876165e83da6c60e957ca32", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fa3c682d74a391c1a876165e83da6c60e957ca32"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAloL7wMACgkQpp+NIls6\n19n1qhAAnf3u+iyV166wWTxQa+XAw19+DRe3zmCmyOG36IH8fDEuVkO8Yp5uEgjR\n6lq6lcZomB3YtQaQMsJf5Jo6CUb7so/rRRWqtckblSvZVLHA5SIdvF7xRXmmyGYT\nwiLlT+d0DBXbWZQXpZAUL0C8hRgHAbaQCN3Fx+to8O1aKVsWYZTUO/qQm998h/FP\nrC0ITKuKDHN/YwS85XJmc31p6itHX5OEpQ5alaBk3pDuDADXFdrmYLJUsa0YT+Yd\nzyZyUvxaZI2II4gZfr7+LQR6P0cLp6I4cSNUEb4uFdF9m2UCuonEGXfyfpuRuU03\n8VVaYjcMZ4N24GuM7AlS9KHQbrYSzpvQCBWKU5UpUA6C144S+7zeXRFMPb4anUh+\nyw0py/YsnSJ6G+Y6SEdk8rLeP6tPpkge26qaTu5PxcEqDWcfZCAljtgGDTAy2ggl\nmzoWMJUx8b6xDBiKxv4a9MpGF4sobwm89d6sAxWllMZLLo0rCZwrS9O9kCz+16gm\nGS/I147YdTnQid5LfwZH1UzKpDRbuDSt89ZjHdNZooGT0nYGGc2OOQqRSJTb7U3V\nIs1dz5EWvnTn5yU4Eucr1ujA5Ns5Pxjb3qv7jxXVwmcna+qP1DIgcg+CPIe4rvxr\nu6lSA/pNimVhU99BS/9EWj8Cxjs1tMcWVmPqxoiNDxr9mhWKtP0=\n=lxeI\n-----END PGP SIGNATURE-----", "payload": "tree fa3c682d74a391c1a876165e83da6c60e957ca32\nparent b4644329729ae6a455c82771f2c3b6d564fd9fd3\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1510731523 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1510731523 +0100\n\nRustup\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "html_url": "https://github.com/rust-lang/rust/commit/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b4644329729ae6a455c82771f2c3b6d564fd9fd3", "url": "https://api.github.com/repos/rust-lang/rust/commits/b4644329729ae6a455c82771f2c3b6d564fd9fd3", "html_url": "https://github.com/rust-lang/rust/commit/b4644329729ae6a455c82771f2c3b6d564fd9fd3"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "60a42ac1f9a4028d547b719b7dca70f78538addc", "filename": "CHANGELOG.md", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "patch": "@@ -1,6 +1,9 @@\n # Change Log\n All notable changes to this project will be documented in this file.\n \n+## 0.0.171\n+* Rustup to *rustc 1.23.0-nightly (ff0f5de3b 2017-11-14)*\n+\n ## 0.0.170\n * Rustup to *rustc 1.23.0-nightly (d6b06c63a 2017-11-09)*\n "}, {"sha": "a022264985db61e125da34177d0439539d708c99", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy\"\n-version = \"0.0.170\"\n+version = \"0.0.171\"\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\",\n \t\"Andre Bogus <bogusandre@gmail.com>\",\n@@ -37,7 +37,7 @@ path = \"src/driver.rs\"\n \n [dependencies]\n # begin automatic update\n-clippy_lints = { version = \"0.0.170\", path = \"clippy_lints\" }\n+clippy_lints = { version = \"0.0.171\", path = \"clippy_lints\" }\n # end automatic update\n cargo_metadata = \"0.2\"\n regex = \"0.2\""}, {"sha": "94f4621987f0ef99089969e2ab242724899a4f04", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "patch": "@@ -1,7 +1,7 @@\n [package]\n name = \"clippy_lints\"\n # begin automatic update\n-version = \"0.0.170\"\n+version = \"0.0.171\"\n # end automatic update\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\","}, {"sha": "8571e5bb5631b1dae219ae6965e3aa7ca40482df", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=c6a4eaeb0d574b92b167fb8bbff02539ea8af3b1", "patch": "@@ -9,7 +9,6 @@ use rustc::lint::{LateContext, Level, Lint, LintContext};\n use rustc::session::Session;\n use rustc::traits;\n use rustc::ty::{self, Ty, TyCtxt};\n-use rustc::mir::transform::MirSource;\n use rustc_errors;\n use std::borrow::Cow;\n use std::env;\n@@ -48,9 +47,9 @@ pub fn differing_macro_contexts(lhs: Span, rhs: Span) -> bool {\n \n pub fn in_constant(cx: &LateContext, id: NodeId) -> bool {\n     let parent_id = cx.tcx.hir.get_parent(id);\n-    match MirSource::from_node(cx.tcx, parent_id) {\n-        MirSource::GeneratorDrop(_) | MirSource::Fn(_) => false,\n-        MirSource::Const(_) | MirSource::Static(..) | MirSource::Promoted(..) => true,\n+    match cx.tcx.hir.body_owner_kind(parent_id) {\n+        hir::BodyOwnerKind::Fn => false,\n+        hir::BodyOwnerKind::Const | hir::BodyOwnerKind::Static(..) => true,\n     }\n }\n "}]}