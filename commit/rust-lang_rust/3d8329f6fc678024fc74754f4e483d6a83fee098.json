{"sha": "3d8329f6fc678024fc74754f4e483d6a83fee098", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkODMyOWY2ZmM2NzgwMjRmYzc0NzU0ZjRlNDgzZDZhODNmZWUwOTg=", "commit": {"author": {"name": "William Woodruff", "email": "william@yossarian.net", "date": "2020-11-24T19:55:35Z"}, "committer": {"name": "William Woodruff", "email": "william@yossarian.net", "date": "2020-11-24T19:55:35Z"}, "message": "ext/ucred: fmt check", "tree": {"sha": "42467147c875c45dc1e158cb8bffcc2b030bfd73", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/42467147c875c45dc1e158cb8bffcc2b030bfd73"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d8329f6fc678024fc74754f4e483d6a83fee098", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEkOgaiEpmzctQWwiUYA1oMgvkWswFAl+9ZVcACgkQYA1oMgvk\nWszEbw/+I6eCQaif8HmALgr4+9TIc1SmQabZ4J4cVsg11c4DrAr+ZhbLhYluLO0h\nSBEr1lqldUohQq3EtMfMCmaGVidwqCWZbRVFRkUBoZbQnr7hyhX9awWfj/0eCuGC\nyaKu6PwLipV1f+uouCYsiY6vsi0Y/QMbvqEPwGG0lmy9KcLoMjBLLK+eXcCTpuqb\njdJQ5qcJFvUbVh2YL8bI9X9pqt1pJSLVl6M7pn4rfBwRtQdLIb2KQlStkU+gTezV\nlywQpGHJjsEQKluvHDLIo+mXIjJysbVfy/zI7ndD98W+H2zOmmJZr0iWVxxF03Yy\nOhl1SRPpYpbTjgu7GzbvF6NMOMeGKQC5zoMCnp40LS5AiR+eruBn7+KhSiyYqLB3\nQYTamS/1bAcBoQ5itrXeTyPL+yE6aBlBC8e+Vahn0DD3B94iyXRRjiAdX6xirQwq\ndQmo8RqGnxFvi8W/3Rm99TthSYwgXSWJhKjqNkztyM2lD5yozv3XI5Ri3CMzaMxm\nbo2g4QHcjsv3Mrsl/WVe8vL0YypHH26hRkRaqCkBLG4RArphqp4yEmf88x2VtFsX\nDvhsmJLgS605aPCS5J274pFJKZtDM9GMQz3ELJqR29/pFUJpFMeN9WWi5ixQdA1G\nqq/la2ue6pl8ua6DnkIDVTMw5EYrPLOjjMeykGpVqy3XDOhC4Fk=\n=0sGJ\n-----END PGP SIGNATURE-----", "payload": "tree 42467147c875c45dc1e158cb8bffcc2b030bfd73\nparent fe0bea2cc191fcdf8ca79a17168d696c664eded3\nauthor William Woodruff <william@yossarian.net> 1606247735 -0500\ncommitter William Woodruff <william@yossarian.net> 1606247735 -0500\n\next/ucred: fmt check\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d8329f6fc678024fc74754f4e483d6a83fee098", "html_url": "https://github.com/rust-lang/rust/commit/3d8329f6fc678024fc74754f4e483d6a83fee098", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d8329f6fc678024fc74754f4e483d6a83fee098/comments", "author": {"login": "woodruffw", "id": 3059210, "node_id": "MDQ6VXNlcjMwNTkyMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3059210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodruffw", "html_url": "https://github.com/woodruffw", "followers_url": "https://api.github.com/users/woodruffw/followers", "following_url": "https://api.github.com/users/woodruffw/following{/other_user}", "gists_url": "https://api.github.com/users/woodruffw/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodruffw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodruffw/subscriptions", "organizations_url": "https://api.github.com/users/woodruffw/orgs", "repos_url": "https://api.github.com/users/woodruffw/repos", "events_url": "https://api.github.com/users/woodruffw/events{/privacy}", "received_events_url": "https://api.github.com/users/woodruffw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "woodruffw", "id": 3059210, "node_id": "MDQ6VXNlcjMwNTkyMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3059210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodruffw", "html_url": "https://github.com/woodruffw", "followers_url": "https://api.github.com/users/woodruffw/followers", "following_url": "https://api.github.com/users/woodruffw/following{/other_user}", "gists_url": "https://api.github.com/users/woodruffw/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodruffw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodruffw/subscriptions", "organizations_url": "https://api.github.com/users/woodruffw/orgs", "repos_url": "https://api.github.com/users/woodruffw/repos", "events_url": "https://api.github.com/users/woodruffw/events{/privacy}", "received_events_url": "https://api.github.com/users/woodruffw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fe0bea2cc191fcdf8ca79a17168d696c664eded3", "url": "https://api.github.com/repos/rust-lang/rust/commits/fe0bea2cc191fcdf8ca79a17168d696c664eded3", "html_url": "https://github.com/rust-lang/rust/commit/fe0bea2cc191fcdf8ca79a17168d696c664eded3"}], "stats": {"total": 34, "additions": 8, "deletions": 26}, "files": [{"sha": "1b4c18d3d84c420c3a20d0214f9ee3ddd68a9070", "filename": "library/std/src/sys/unix/ext/ucred.rs", "status": "modified", "additions": 7, "deletions": 21, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/3d8329f6fc678024fc74754f4e483d6a83fee098/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fext%2Fucred.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d8329f6fc678024fc74754f4e483d6a83fee098/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fext%2Fucred.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fext%2Fucred.rs?ref=3d8329f6fc678024fc74754f4e483d6a83fee098", "patch": "@@ -28,17 +28,10 @@ pub struct UCred {\n #[cfg(any(target_os = \"android\", target_os = \"linux\"))]\n pub use self::impl_linux::peer_cred;\n \n-#[cfg(any(\n-    target_os = \"dragonfly\",\n-    target_os = \"freebsd\",\n-    target_os = \"openbsd\"\n-))]\n+#[cfg(any(target_os = \"dragonfly\", target_os = \"freebsd\", target_os = \"openbsd\"))]\n pub use self::impl_bsd::peer_cred;\n \n-#[cfg(any(\n-    target_os = \"macos\",\n-    target_os = \"ios\",\n-))]\n+#[cfg(any(target_os = \"macos\", target_os = \"ios\",))]\n pub use self::impl_mac::peer_cred;\n \n #[cfg(any(target_os = \"linux\", target_os = \"android\"))]\n@@ -77,11 +70,7 @@ pub mod impl_linux {\n     }\n }\n \n-#[cfg(any(\n-    target_os = \"dragonfly\",\n-    target_os = \"freebsd\",\n-    target_os = \"openbsd\"\n-))]\n+#[cfg(any(target_os = \"dragonfly\", target_os = \"freebsd\", target_os = \"openbsd\"))]\n pub mod impl_bsd {\n     use super::UCred;\n     use crate::io;\n@@ -98,16 +87,13 @@ pub mod impl_bsd {\n     }\n }\n \n-#[cfg(any(\n-    target_os = \"macos\",\n-    target_os = \"ios\",\n-))]\n+#[cfg(any(target_os = \"macos\", target_os = \"ios\",))]\n pub mod impl_mac {\n     use super::UCred;\n-    use crate::{io, mem};\n     use crate::os::unix::io::AsRawFd;\n     use crate::os::unix::net::UnixStream;\n-    use libc::{c_void, getpeereid, getsockopt, pid_t, socklen_t, SOL_LOCAL, LOCAL_PEERPID};\n+    use crate::{io, mem};\n+    use libc::{c_void, getpeereid, getsockopt, pid_t, socklen_t, LOCAL_PEERPID, SOL_LOCAL};\n \n     pub fn peer_cred(socket: &UnixStream) -> io::Result<UCred> {\n         let mut cred = UCred { uid: 1, gid: 1, pid: None };\n@@ -126,7 +112,7 @@ pub mod impl_mac {\n                 SOL_LOCAL,\n                 LOCAL_PEERPID,\n                 &mut pid as *mut pid_t as *mut c_void,\n-                &mut pid_size\n+                &mut pid_size,\n             );\n \n             if ret == 0 && pid_size as usize == mem::size_of::<pid_t>() {"}, {"sha": "42d79418cf78f81bbd204accfe10ed97e06ebb59", "filename": "library/std/src/sys/unix/ext/ucred/tests.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3d8329f6fc678024fc74754f4e483d6a83fee098/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fext%2Fucred%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d8329f6fc678024fc74754f4e483d6a83fee098/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fext%2Fucred%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fext%2Fucred%2Ftests.rs?ref=3d8329f6fc678024fc74754f4e483d6a83fee098", "patch": "@@ -25,11 +25,7 @@ fn test_socket_pair() {\n }\n \n #[test]\n-#[cfg(any(\n-    target_os = \"linux\",\n-    target_os = \"ios\",\n-    target_os = \"macos\",\n-))]\n+#[cfg(any(target_os = \"linux\", target_os = \"ios\", target_os = \"macos\",))]\n fn test_socket_pair_pids(arg: Type) -> RetType {\n     // Create two connected sockets and get their peer credentials.\n     let (sock_a, sock_b) = UnixStream::pair().unwrap();"}]}