{"sha": "0cb8439aa3ce2b19b3965fdfa3b244004206bfe2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjYjg0MzlhYTNjZTJiMTliMzk2NWZkZmEzYjI0NDAwNDIwNmJmZTI=", "commit": {"author": {"name": "srdja", "email": "sp@srdja.me", "date": "2016-08-08T21:36:50Z"}, "committer": {"name": "srdja", "email": "sp@srdja.me", "date": "2016-08-08T21:36:50Z"}, "message": "Update E0008 to new format", "tree": {"sha": "b7e50c8d794707775010f15947f7db0c8d676e60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b7e50c8d794707775010f15947f7db0c8d676e60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2", "html_url": "https://github.com/rust-lang/rust/commit/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2/comments", "author": null, "committer": null, "parents": [{"sha": "b42a384a8078d79b299f2029b6c183b5e9288062", "url": "https://api.github.com/repos/rust-lang/rust/commits/b42a384a8078d79b299f2029b6c183b5e9288062", "html_url": "https://github.com/rust-lang/rust/commit/b42a384a8078d79b299f2029b6c183b5e9288062"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "b3485e6fe5be43285963832198ba3d56fa2095ea", "filename": "src/librustc_const_eval/check_match.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2/src%2Flibrustc_const_eval%2Fcheck_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2/src%2Flibrustc_const_eval%2Fcheck_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_const_eval%2Fcheck_match.rs?ref=0cb8439aa3ce2b19b3965fdfa3b244004206bfe2", "patch": "@@ -1114,7 +1114,10 @@ fn check_legality_of_move_bindings(cx: &MatchCheckCtxt,\n         if sub.map_or(false, |p| pat_contains_bindings(&p)) {\n             span_err!(cx.tcx.sess, p.span, E0007, \"cannot bind by-move with sub-bindings\");\n         } else if has_guard {\n-            span_err!(cx.tcx.sess, p.span, E0008, \"cannot bind by-move into a pattern guard\");\n+            struct_span_err!(cx.tcx.sess, p.span, E0008,\n+                      \"cannot bind by-move into a pattern guard\")\n+                .span_label(p.span, &format!(\"moves value into pattern guard\"))\n+                .emit();\n         } else if by_ref_span.is_some() {\n             let mut err = struct_span_err!(cx.tcx.sess, p.span, E0009,\n                                            \"cannot bind by-move and by-ref in the same pattern\");"}, {"sha": "20cc1cbd2232df233d3e92734901b112247bc1a5", "filename": "src/test/compile-fail/E0008.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2/src%2Ftest%2Fcompile-fail%2FE0008.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0cb8439aa3ce2b19b3965fdfa3b244004206bfe2/src%2Ftest%2Fcompile-fail%2FE0008.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0008.rs?ref=0cb8439aa3ce2b19b3965fdfa3b244004206bfe2", "patch": "@@ -10,7 +10,9 @@\n \n fn main() {\n     match Some(\"hi\".to_string()) {\n-        Some(s) if s.len() == 0 => {}, //~ ERROR E0008\n+        Some(s) if s.len() == 0 => {},\n+        //~^ ERROR E0008\n+        //~| NOTE moves value into pattern guard\n         _ => {},\n     }\n }"}]}