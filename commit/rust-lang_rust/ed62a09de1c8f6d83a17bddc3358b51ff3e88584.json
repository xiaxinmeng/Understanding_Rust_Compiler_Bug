{"sha": "ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "node_id": "C_kwDOAAsO6NoAKGVkNjJhMDlkZTFjOGY2ZDgzYTE3YmRkYzMzNThiNTFmZjNlODg1ODQ", "commit": {"author": {"name": "Shivani Bhardwaj", "email": "shivanib134@gmail.com", "date": "2021-09-15T01:28:59Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-06-27T08:43:51Z"}, "message": "Add test for default rustdoc run", "tree": {"sha": "8df820d79aef157ebfcbf03e9883a0a8fc41f494", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8df820d79aef157ebfcbf03e9883a0a8fc41f494"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "html_url": "https://github.com/rust-lang/rust/commit/ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/comments", "author": {"login": "inashivb", "id": 57791542, "node_id": "MDQ6VXNlcjU3NzkxNTQy", "avatar_url": "https://avatars.githubusercontent.com/u/57791542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inashivb", "html_url": "https://github.com/inashivb", "followers_url": "https://api.github.com/users/inashivb/followers", "following_url": "https://api.github.com/users/inashivb/following{/other_user}", "gists_url": "https://api.github.com/users/inashivb/gists{/gist_id}", "starred_url": "https://api.github.com/users/inashivb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inashivb/subscriptions", "organizations_url": "https://api.github.com/users/inashivb/orgs", "repos_url": "https://api.github.com/users/inashivb/repos", "events_url": "https://api.github.com/users/inashivb/events{/privacy}", "received_events_url": "https://api.github.com/users/inashivb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1b6f16fd4ae507d9484e20bfbf9355e551c2bb2", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1b6f16fd4ae507d9484e20bfbf9355e551c2bb2", "html_url": "https://github.com/rust-lang/rust/commit/e1b6f16fd4ae507d9484e20bfbf9355e551c2bb2"}], "stats": {"total": 199, "additions": 199, "deletions": 0}, "files": [{"sha": "88f18c67087d72c0918e14197f14078e4d7dbeb4", "filename": "src/test/run-make/issue-88756-default-output/Makefile", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2FMakefile?ref=ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "patch": "@@ -0,0 +1,4 @@\n+-include ../../run-make-fulldeps/tools.mk\n+\n+all:\n+\t$(BARE_RUSTDOC) 2>&1 | diff - output-default.stdout"}, {"sha": "8cbfac4f7d2f10d659e80fa048961e12d8981234", "filename": "src/test/run-make/issue-88756-default-output/README.md", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2FREADME.md?ref=ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "patch": "@@ -0,0 +1 @@\n+This is a test to verify that the default behavior of `rustdoc` is printing out help output instead of erroring out (#88756)."}, {"sha": "5c2949d0fd79015ecf5395155487f559f7fcf235", "filename": "src/test/run-make/issue-88756-default-output/output-default.stdout", "status": "added", "additions": 193, "deletions": 0, "changes": 193, "blob_url": "https://github.com/rust-lang/rust/blob/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2Foutput-default.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2Foutput-default.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2Foutput-default.stdout?ref=ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "patch": "@@ -0,0 +1,193 @@\n+rustdoc [options] <input>\n+\n+Options:\n+    -h, --help          show this help message\n+    -V, --version       print rustdoc's version\n+    -v, --verbose       use verbose output\n+    -w, --output-format [html]\n+                        the output type to write\n+        --output PATH   Which directory to place the output. This option is\n+                        deprecated, use --out-dir instead.\n+    -o, --out-dir PATH  which directory to place the output\n+        --crate-name NAME\n+                        specify the name of this crate\n+        --crate-type [bin|lib|rlib|dylib|cdylib|staticlib|proc-macro]\n+                        Comma separated list of types of crates\n+                        for the compiler to emit\n+    -L, --library-path DIR\n+                        directory to add to crate search path\n+        --cfg           pass a --cfg to rustc\n+        --check-cfg     pass a --check-cfg to rustc\n+        --extern NAME[=PATH]\n+                        pass an --extern to rustc\n+        --extern-html-root-url NAME=URL\n+                        base URL to use for dependencies; for example,\n+                        \"std=/doc\" links std::vec::Vec to\n+                        /doc/std/vec/struct.Vec.html\n+        --extern-html-root-takes-precedence \n+                        give precedence to `--extern-html-root-url`, not\n+                        `html_root_url`\n+    -C, --codegen OPT[=VALUE]\n+                        pass a codegen option to rustc\n+        --document-private-items \n+                        document private items\n+        --document-hidden-items \n+                        document items that have doc(hidden)\n+        --test          run code examples as tests\n+        --test-args ARGS\n+                        arguments to pass to the test runner\n+        --test-run-directory PATH\n+                        The working directory in which to run tests\n+        --target TRIPLE target triple to document\n+        --markdown-css FILES\n+                        CSS files to include via <link> in a rendered Markdown\n+                        file\n+        --html-in-header FILES\n+                        files to include inline in the <head> section of a\n+                        rendered Markdown file or generated documentation\n+        --html-before-content FILES\n+                        files to include inline between <body> and the content\n+                        of a rendered Markdown file or generated documentation\n+        --html-after-content FILES\n+                        files to include inline between the content and\n+                        </body> of a rendered Markdown file or generated\n+                        documentation\n+        --markdown-before-content FILES\n+                        files to include inline between <body> and the content\n+                        of a rendered Markdown file or generated documentation\n+        --markdown-after-content FILES\n+                        files to include inline between the content and\n+                        </body> of a rendered Markdown file or generated\n+                        documentation\n+        --markdown-playground-url URL\n+                        URL to send code snippets to\n+        --markdown-no-toc \n+                        don't include table of contents\n+    -e, --extend-css PATH\n+                        To add some CSS rules with a given file to generate\n+                        doc with your own theme. However, your theme might\n+                        break if the rustdoc's generated HTML changes, so be\n+                        careful!\n+    -Z FLAG             internal and debugging options (only on nightly build)\n+        --sysroot PATH  Override the system root\n+        --playground-url URL\n+                        URL to send code snippets to, may be reset by\n+                        --markdown-playground-url or\n+                        `#![doc(html_playground_url=...)]`\n+        --display-doctest-warnings \n+                        show warnings that originate in doctests\n+        --crate-version VERSION\n+                        crate version to print into documentation\n+        --sort-modules-by-appearance \n+                        sort modules by where they appear in the program,\n+                        rather than alphabetically\n+        --default-theme THEME\n+                        Set the default theme. THEME should be the theme name,\n+                        generally lowercase. If an unknown default theme is\n+                        specified, the builtin default is used. The set of\n+                        themes, and the rustdoc built-in default, are not\n+                        stable.\n+        --default-setting SETTING[=VALUE]\n+                        Default value for a rustdoc setting (used when\n+                        \"rustdoc-SETTING\" is absent from web browser Local\n+                        Storage). If VALUE is not supplied, \"true\" is used.\n+                        Supported SETTINGs and VALUEs are not documented and\n+                        not stable.\n+        --theme FILES   additional themes which will be added to the generated\n+                        docs\n+        --check-theme FILES\n+                        check if given theme is valid\n+        --resource-suffix PATH\n+                        suffix to add to CSS and JavaScript files, e.g.,\n+                        \"light.css\" will become \"light-suffix.css\"\n+        --edition EDITION\n+                        edition to use when compiling rust code (default:\n+                        2015)\n+        --color auto|always|never\n+                        Configure coloring of output:\n+                        auto = colorize, if output goes to a tty (default);\n+                        always = always colorize output;\n+                        never = never colorize output\n+        --error-format human|json|short\n+                        How errors and other messages are produced\n+        --json CONFIG   Configure the structure of JSON diagnostics\n+        --disable-minification \n+                        Disable minification applied on JS files\n+    -A, --allow LINT    Set lint allowed\n+    -W, --warn LINT     Set lint warnings\n+        --force-warn LINT\n+                        Set lint force-warn\n+    -D, --deny LINT     Set lint denied\n+    -F, --forbid LINT   Set lint forbidden\n+        --cap-lints LEVEL\n+                        Set the most restrictive lint level. More restrictive\n+                        lints are capped at this level. By default, it is at\n+                        `forbid` level.\n+        --index-page PATH\n+                        Markdown file to be used as index page\n+        --enable-index-page \n+                        To enable generation of the index page\n+        --static-root-path PATH\n+                        Path string to force loading static files from in\n+                        output pages. If not set, uses combinations of '../'\n+                        to reach the documentation root.\n+        --disable-per-crate-search \n+                        disables generating the crate selector on the search\n+                        box\n+        --persist-doctests PATH\n+                        Directory to persist doctest executables into\n+        --show-coverage \n+                        calculate percentage of public items with\n+                        documentation\n+        --enable-per-target-ignores \n+                        parse ignore-foo for ignoring doctests on a per-target\n+                        basis\n+        --runtool The tool to run tests with when building for a different target than host\n+                        \n+        --runtool-arg One (of possibly many) arguments to pass to the runtool\n+                        \n+        --test-builder PATH\n+                        The rustc-like binary to use as the test builder\n+        --check         Run rustdoc checks\n+        --generate-redirect-map \n+                        Generate JSON file at the top level instead of\n+                        generating HTML redirection files\n+        --emit [unversioned-shared-resources,toolchain-shared-resources,invocation-specific]\n+                        Comma separated list of types of output for rustdoc to\n+                        emit\n+        --no-run        Compile doctests without running them\n+        --show-type-layout \n+                        Include the memory layout of types in the docs\n+        --nocapture     Don't capture stdout and stderr of tests\n+        --generate-link-to-definition \n+                        Make the identifiers in the HTML source code pages\n+                        navigable\n+        --scrape-examples-output-path collect function call information and output at the given path\n+                        \n+        --scrape-examples-target-crate collect function call information for functions from the target crate\n+                        \n+        --scrape-tests  Include test code when scraping examples\n+        --with-examples path to function call information (for displaying examples in the documentation)\n+                        \n+        --plugin-path DIR\n+                        removed, see issue #44136\n+                        <https://github.com/rust-lang/rust/issues/44136> for\n+                        more information\n+        --passes PASSES removed, see issue #44136\n+                        <https://github.com/rust-lang/rust/issues/44136> for\n+                        more information\n+        --plugins PLUGINS\n+                        removed, see issue #44136\n+                        <https://github.com/rust-lang/rust/issues/44136> for\n+                        more information\n+        --no-defaults   removed, see issue #44136\n+                        <https://github.com/rust-lang/rust/issues/44136> for\n+                        more information\n+    -r, --input-format [rust]\n+                        removed, see issue #44136\n+                        <https://github.com/rust-lang/rust/issues/44136> for\n+                        more information\n+\n+    @path               Read newline separated options from `path`\n+\n+More information available at https://doc.rust-lang.org/nightly/rustdoc/what-is-rustdoc.html"}, {"sha": "5df7576133a684ab8f887f442084e99062eb4886", "filename": "src/test/run-make/issue-88756-default-output/x.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2Fx.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed62a09de1c8f6d83a17bddc3358b51ff3e88584/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2Fx.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fissue-88756-default-output%2Fx.rs?ref=ed62a09de1c8f6d83a17bddc3358b51ff3e88584", "patch": "@@ -0,0 +1 @@\n+// nothing to see here"}]}