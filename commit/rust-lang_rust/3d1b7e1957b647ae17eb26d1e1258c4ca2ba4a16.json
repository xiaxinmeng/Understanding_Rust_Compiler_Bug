{"sha": "3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkMWI3ZTE5NTdiNjQ3YWUxN2ViMjZkMWUxMjU4YzRjYTJiYTRhMTY=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2015-11-18T16:09:48Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2015-12-03T15:41:55Z"}, "message": "high-speed-dogfood", "tree": {"sha": "a433af9f93ad548e78ee16dfca492296584493cf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a433af9f93ad548e78ee16dfca492296584493cf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16", "html_url": "https://github.com/rust-lang/rust/commit/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "617c820e6b0edebacdf5295cfa8333af023f98e1", "url": "https://api.github.com/repos/rust-lang/rust/commits/617c820e6b0edebacdf5295cfa8333af023f98e1", "html_url": "https://github.com/rust-lang/rust/commit/617c820e6b0edebacdf5295cfa8333af023f98e1"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "57a92f9990012ca6d8eb35755976a7d65accf1c8", "filename": "src/lib.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16", "patch": "@@ -3,6 +3,10 @@\n #![feature(num_bits_bytes, iter_arith)]\n #![allow(unknown_lints)]\n \n+// this only exists to allow the \"dogfood\" integration test to work\n+#[allow(dead_code)]\n+fn main() { println!(\"What are you doing? Don't run clippy as an executable\"); }\n+\n #[macro_use]\n extern crate syntax;\n #[macro_use]"}, {"sha": "61e37c28c94525857ff06f28530274ed13980a17", "filename": "tests/dogfood.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16/tests%2Fdogfood.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16/tests%2Fdogfood.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdogfood.rs?ref=3d1b7e1957b647ae17eb26d1e1258c4ca2ba4a16", "patch": "@@ -0,0 +1,24 @@\n+extern crate compiletest_rs as compiletest;\n+\n+use std::path::Path;\n+use std::env::var;\n+\n+#[test]\n+fn dogfood() {\n+    let mut config = compiletest::default_config();\n+\n+    let cfg_mode = \"run-pass\".parse().ok().expect(\"Invalid mode\");\n+    let mut s = String::new();\n+    s.push_str(\" -L target/debug/\");\n+    s.push_str(\" -L target/debug/deps\");\n+    s.push_str(\" -Zextra-plugins=clippy -Ltarget_recur/debug -Dclippy_pedantic -Dclippy\");\n+    config.target_rustcflags = Some(s);\n+    if let Ok(name) = var::<&str>(\"TESTNAME\") {\n+        let s : String = name.to_owned();\n+        config.filter = Some(s)\n+    }\n+\n+    config.mode = cfg_mode;\n+\n+    compiletest::runtest::run(config, &Path::new(\"src/lib.rs\"));\n+}"}]}