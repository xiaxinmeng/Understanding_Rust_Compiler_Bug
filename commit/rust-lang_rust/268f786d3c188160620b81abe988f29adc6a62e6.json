{"sha": "268f786d3c188160620b81abe988f29adc6a62e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI2OGY3ODZkM2MxODgxNjA2MjBiODFhYmU5ODhmMjlhZGM2YTYyZTY=", "commit": {"author": {"name": "Antoine Martin", "email": "antoine97.martin@gmail.com", "date": "2020-10-01T08:08:09Z"}, "committer": {"name": "Antoine Martin", "email": "antoine97.martin@gmail.com", "date": "2020-10-01T08:08:09Z"}, "message": "Add test for multiple terminator optimization", "tree": {"sha": "7abb5695cd54972514b3883145b6658df46f6bed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7abb5695cd54972514b3883145b6658df46f6bed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/268f786d3c188160620b81abe988f29adc6a62e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/268f786d3c188160620b81abe988f29adc6a62e6", "html_url": "https://github.com/rust-lang/rust/commit/268f786d3c188160620b81abe988f29adc6a62e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/268f786d3c188160620b81abe988f29adc6a62e6/comments", "author": {"login": "alarsyo", "id": 15170378, "node_id": "MDQ6VXNlcjE1MTcwMzc4", "avatar_url": "https://avatars.githubusercontent.com/u/15170378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alarsyo", "html_url": "https://github.com/alarsyo", "followers_url": "https://api.github.com/users/alarsyo/followers", "following_url": "https://api.github.com/users/alarsyo/following{/other_user}", "gists_url": "https://api.github.com/users/alarsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/alarsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alarsyo/subscriptions", "organizations_url": "https://api.github.com/users/alarsyo/orgs", "repos_url": "https://api.github.com/users/alarsyo/repos", "events_url": "https://api.github.com/users/alarsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/alarsyo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alarsyo", "id": 15170378, "node_id": "MDQ6VXNlcjE1MTcwMzc4", "avatar_url": "https://avatars.githubusercontent.com/u/15170378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alarsyo", "html_url": "https://github.com/alarsyo", "followers_url": "https://api.github.com/users/alarsyo/followers", "following_url": "https://api.github.com/users/alarsyo/following{/other_user}", "gists_url": "https://api.github.com/users/alarsyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/alarsyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alarsyo/subscriptions", "organizations_url": "https://api.github.com/users/alarsyo/orgs", "repos_url": "https://api.github.com/users/alarsyo/repos", "events_url": "https://api.github.com/users/alarsyo/events{/privacy}", "received_events_url": "https://api.github.com/users/alarsyo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f0d407ed0fe6604d44cc3fbcfba8bd1fa65f8f9c", "url": "https://api.github.com/repos/rust-lang/rust/commits/f0d407ed0fe6604d44cc3fbcfba8bd1fa65f8f9c", "html_url": "https://github.com/rust-lang/rust/commit/f0d407ed0fe6604d44cc3fbcfba8bd1fa65f8f9c"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "b73a51d483561543bba28a121e88bd0fb8de83f9", "filename": "src/test/mir-opt/multiple_return_terminators.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/268f786d3c188160620b81abe988f29adc6a62e6/src%2Ftest%2Fmir-opt%2Fmultiple_return_terminators.rs", "raw_url": "https://github.com/rust-lang/rust/raw/268f786d3c188160620b81abe988f29adc6a62e6/src%2Ftest%2Fmir-opt%2Fmultiple_return_terminators.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fmultiple_return_terminators.rs?ref=268f786d3c188160620b81abe988f29adc6a62e6", "patch": "@@ -0,0 +1,14 @@\n+// compile-flags: -Z mir-opt-level=3\n+// EMIT_MIR multiple_return_terminators.test.MultipleReturnTerminators.diff\n+\n+fn test(x: bool) {\n+    if x {\n+        // test\n+    } else {\n+        // test\n+    }\n+}\n+\n+fn main() {\n+    test(true)\n+}"}, {"sha": "997c021d2ef2180fa68500fdb68ebef8265af0e1", "filename": "src/test/mir-opt/multiple_return_terminators.test.MultipleReturnTerminators.diff", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/268f786d3c188160620b81abe988f29adc6a62e6/src%2Ftest%2Fmir-opt%2Fmultiple_return_terminators.test.MultipleReturnTerminators.diff", "raw_url": "https://github.com/rust-lang/rust/raw/268f786d3c188160620b81abe988f29adc6a62e6/src%2Ftest%2Fmir-opt%2Fmultiple_return_terminators.test.MultipleReturnTerminators.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fmultiple_return_terminators.test.MultipleReturnTerminators.diff?ref=268f786d3c188160620b81abe988f29adc6a62e6", "patch": "@@ -0,0 +1,30 @@\n+- // MIR for `test` before MultipleReturnTerminators\n++ // MIR for `test` after MultipleReturnTerminators\n+  \n+  fn test(_1: bool) -> () {\n+      debug x => _1;                       // in scope 0 at $DIR/multiple_return_terminators.rs:4:9: 4:10\n+      let mut _0: ();                      // return place in scope 0 at $DIR/multiple_return_terminators.rs:4:18: 4:18\n+      let mut _2: bool;                    // in scope 0 at $DIR/multiple_return_terminators.rs:5:8: 5:9\n+  \n+      bb0: {\n+          StorageLive(_2);                 // scope 0 at $DIR/multiple_return_terminators.rs:5:8: 5:9\n+          _2 = _1;                         // scope 0 at $DIR/multiple_return_terminators.rs:5:8: 5:9\n+          switchInt(_2) -> [false: bb1, otherwise: bb2]; // scope 0 at $DIR/multiple_return_terminators.rs:5:5: 9:6\n+      }\n+  \n+      bb1: {\n+          _0 = const ();                   // scope 0 at $DIR/multiple_return_terminators.rs:7:12: 9:6\n+          goto -> bb3;                     // scope 0 at $DIR/multiple_return_terminators.rs:5:5: 9:6\n+      }\n+  \n+      bb2: {\n+          _0 = const ();                   // scope 0 at $DIR/multiple_return_terminators.rs:5:10: 7:6\n+          goto -> bb3;                     // scope 0 at $DIR/multiple_return_terminators.rs:5:5: 9:6\n+      }\n+  \n+      bb3: {\n+          StorageDead(_2);                 // scope 0 at $DIR/multiple_return_terminators.rs:10:1: 10:2\n+          return;                          // scope 0 at $DIR/multiple_return_terminators.rs:10:2: 10:2\n+      }\n+  }\n+  "}]}