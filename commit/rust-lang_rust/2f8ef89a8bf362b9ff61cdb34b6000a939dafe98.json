{"sha": "2f8ef89a8bf362b9ff61cdb34b6000a939dafe98", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmOGVmODlhOGJmMzYyYjlmZjYxY2RiMzRiNjAwMGE5MzlkYWZlOTg=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-01-20T15:03:26Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-02-12T08:34:25Z"}, "message": "Add integration test GitHub action", "tree": {"sha": "8edf7f1770cb40b3ed0a0981433ca4b3c9ff6300", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8edf7f1770cb40b3ed0a0981433ca4b3c9ff6300"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f8ef89a8bf362b9ff61cdb34b6000a939dafe98", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl5DuJEACgkQaTCGhp1Q\nZjcEaQ/9G1D6u+uYAv2c4Cr5HZC6KHcxxo+xnO+XVZ5UB4qpRF1v0rzOtEmYMQ2Y\nIn2Bua+zEhgGNQ9ws8NQ9rIrC7ZYuVZIT1RKbSRKYwyILGrXdWyNxmDIZR20ZkUH\nuODLFZkWm9YqKE2uLhJtgftDkVk9HxMGn9U+b9jqAXHfyrly1VV4Ldew9v+h+Ajt\nN+se+1YevqSAysZlg5FGUDWqhiPx6UZbxZbmnHVnpD2SYN7sfbqbH7uX7nBFwTeL\nGNmqzjwQw74xAmM0aRDOvKMyHFQq8a3v3XEBF+V+Q6ROK+tgra1nppuN59WLfIm8\nQ4n43yi3WjoJHhXxojjfEPWTTF88ag7xSzZFvUMo33K0mBr2DgqgljbIOOYG97KJ\ncxkewdCXb6xs68deM4r4E84vsYmwiQ5yJW8tEtU8e1hBJyjDEQGnkUyEmICrLQg/\nSQwvQUpOYDwSqdnPY6nET+qhNcFoWLt5fQgcoKMPtbNnUpzcjRVQpZ38qeSsIF7k\nc22tGUqP7ZbhhVa1gLXoZ3OaQIfRRao+1UPyg5VqEOLKAVnka9bfqwj3ITGRtqNn\nYQWfowtC/ara/GWeLirD0wJRnt4u89FtA4Kn6R/O3yugJgAhnj9gVvwz5gc/siti\nuhM9v0Z4Ui71jZT4GZcrEQzLHvtNWqVuSzJ4WWPosapSAOyPh7U=\n=vIAe\n-----END PGP SIGNATURE-----", "payload": "tree 8edf7f1770cb40b3ed0a0981433ca4b3c9ff6300\nparent 07f1736390e1d4dd88cf9fae4ab7737ee5e086b7\nauthor flip1995 <hello@philkrones.com> 1579532606 +0100\ncommitter flip1995 <hello@philkrones.com> 1581496465 +0100\n\nAdd integration test GitHub action\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f8ef89a8bf362b9ff61cdb34b6000a939dafe98", "html_url": "https://github.com/rust-lang/rust/commit/2f8ef89a8bf362b9ff61cdb34b6000a939dafe98", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f8ef89a8bf362b9ff61cdb34b6000a939dafe98/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "07f1736390e1d4dd88cf9fae4ab7737ee5e086b7", "url": "https://api.github.com/repos/rust-lang/rust/commits/07f1736390e1d4dd88cf9fae4ab7737ee5e086b7", "html_url": "https://github.com/rust-lang/rust/commit/07f1736390e1d4dd88cf9fae4ab7737ee5e086b7"}], "stats": {"total": 69, "additions": 69, "deletions": 0}, "files": [{"sha": "fc05ee9b9210ea8bbbb733d9b29dd1a146cbb11e", "filename": ".github/workflows/integration.yml", "status": "added", "additions": 69, "deletions": 0, "changes": 69, "blob_url": "https://github.com/rust-lang/rust/blob/2f8ef89a8bf362b9ff61cdb34b6000a939dafe98/.github%2Fworkflows%2Fintegration.yml", "raw_url": "https://github.com/rust-lang/rust/raw/2f8ef89a8bf362b9ff61cdb34b6000a939dafe98/.github%2Fworkflows%2Fintegration.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fintegration.yml?ref=2f8ef89a8bf362b9ff61cdb34b6000a939dafe98", "patch": "@@ -0,0 +1,69 @@\n+name: Integration\n+\n+on:\n+  push:\n+    branches:\n+    - auto\n+    - try\n+    # Don't run integration tests, when only textfiles were modified\n+    paths-ignore:\n+    - 'COPYRIGHT'\n+    - 'LICENSE-*'\n+    - '**.md'\n+    - '**.txt'\n+\n+env:\n+  RUST_BACKTRACE: 1\n+\n+jobs:\n+  integration:\n+    strategy:\n+      fail-fast: false\n+      matrix:\n+        integration:\n+        - 'rust-lang/rls'\n+        - 'rust-lang/cargo'\n+        - 'rust-lang/chalk'\n+        - 'Geal/nom'\n+        - 'rust-lang/rustfmt'\n+        - 'hyperium/hyper'\n+        - 'rust-itertools/itertools'\n+        - 'serde-rs/serde'\n+        - 'rust-lang/stdarch'\n+        - 'rust-random/rand'\n+        - 'rust-lang/futures-rs'\n+        - 'Marwes/combine'\n+        - 'rust-lang-nursery/failure'\n+        - 'rust-lang/log'\n+        - 'chronotope/chrono'\n+    runs-on: ubuntu-latest\n+\n+    steps:\n+    - name: rust-toolchain\n+      uses: actions-rs/toolchain@v1.0.3\n+      with:\n+        toolchain: nightly\n+        target: x86_64-unknown-linux-gnu\n+        profile: minimal\n+    - name: Cache cargo dir\n+      uses: actions/cache@v1\n+      with:\n+        path: ~/.cargo\n+        key: ${{ runner.os }}-x86_64-unknown-linux-gnu\n+    - name: Checkout\n+      uses: actions/checkout@v2.0.0\n+    - name: Master Toolchain Setup\n+      run: bash setup-toolchain.sh\n+\n+    - name: Build\n+      run: cargo build --features integration\n+    - name: Test ${{ matrix.integration }}\n+      run: cargo test --test integration --features integration\n+      env:\n+        INTEGRATION: ${{ matrix.integration }}\n+\n+    - name: Run cargo-cache --autoclean\n+      run: |\n+        cargo install cargo-cache --debug\n+        find ~/.cargo/bin ! -type d -exec strip {} \\;\n+        cargo cache --autoclean"}]}