{"sha": "e150aebbdc8cca565525b0057b9e0aae5c129537", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxNTBhZWJiZGM4Y2NhNTY1NTI1YjAwNTdiOWUwYWFlNWMxMjk1Mzc=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-05-11T09:34:47Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-05-12T09:27:59Z"}, "message": "Remove \"loading content\" which is now unnecessary", "tree": {"sha": "03edebb2d364362c8cf2dddb1a1a3e4afff9b168", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/03edebb2d364362c8cf2dddb1a1a3e4afff9b168"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e150aebbdc8cca565525b0057b9e0aae5c129537", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e150aebbdc8cca565525b0057b9e0aae5c129537", "html_url": "https://github.com/rust-lang/rust/commit/e150aebbdc8cca565525b0057b9e0aae5c129537", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e150aebbdc8cca565525b0057b9e0aae5c129537/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f6717c15e516935641ff93f4521d3d76030763c", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f6717c15e516935641ff93f4521d3d76030763c", "html_url": "https://github.com/rust-lang/rust/commit/9f6717c15e516935641ff93f4521d3d76030763c"}], "stats": {"total": 73, "additions": 8, "deletions": 65}, "files": [{"sha": "20e82cf2caf388f6169ace9577668fcd4d8476c7", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 8, "deletions": 15, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=e150aebbdc8cca565525b0057b9e0aae5c129537", "patch": "@@ -573,10 +573,6 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n         )\n     }\n \n-    fn write_loading_content(w: &mut Buffer, extra_content: &str) {\n-        write!(w, \"{}<span class=\\\"loading-content\\\">Loading content...</span>\", extra_content)\n-    }\n-\n     fn trait_item(w: &mut Buffer, cx: &Context<'_>, m: &clean::Item, t: &clean::Item) {\n         let name = m.name.as_ref().unwrap();\n         info!(\"Documenting {} on {:?}\", name, t.name);\n@@ -601,7 +597,7 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n         for t in types {\n             trait_item(w, cx, t, it);\n         }\n-        write_loading_content(w, \"</div>\");\n+        w.write_str(\"</div>\");\n     }\n \n     if !consts.is_empty() {\n@@ -614,7 +610,7 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n         for t in consts {\n             trait_item(w, cx, t, it);\n         }\n-        write_loading_content(w, \"</div>\");\n+        w.write_str(\"</div>\");\n     }\n \n     // Output the documentation for each function individually\n@@ -628,7 +624,7 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n         for m in required {\n             trait_item(w, cx, m, it);\n         }\n-        write_loading_content(w, \"</div>\");\n+        w.write_str(\"</div>\");\n     }\n     if !provided.is_empty() {\n         write_small_section_header(\n@@ -640,7 +636,7 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n         for m in provided {\n             trait_item(w, cx, m, it);\n         }\n-        write_loading_content(w, \"</div>\");\n+        w.write_str(\"</div>\");\n     }\n \n     // If there are methods directly on this trait object, render them here.\n@@ -703,7 +699,6 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n                     &[],\n                 );\n             }\n-            write_loading_content(w, \"\");\n         }\n \n         write_small_section_header(\n@@ -715,7 +710,7 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n         for implementor in concrete {\n             render_implementor(cx, implementor, it, w, &implementor_dups, &[]);\n         }\n-        write_loading_content(w, \"</div>\");\n+        w.write_str(\"</div>\");\n \n         if t.is_auto {\n             write_small_section_header(\n@@ -734,7 +729,7 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n                     &collect_paths_for_type(implementor.inner_impl().for_.clone(), &cx.cache),\n                 );\n             }\n-            write_loading_content(w, \"</div>\");\n+            w.write_str(\"</div>\");\n         }\n     } else {\n         // even without any implementations to write in, we still want the heading and list, so the\n@@ -743,18 +738,16 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n             w,\n             \"implementors\",\n             \"Implementors\",\n-            \"<div class=\\\"item-list\\\" id=\\\"implementors-list\\\">\",\n+            \"<div class=\\\"item-list\\\" id=\\\"implementors-list\\\"></div>\",\n         );\n-        write_loading_content(w, \"</div>\");\n \n         if t.is_auto {\n             write_small_section_header(\n                 w,\n                 \"synthetic-implementors\",\n                 \"Auto implementors\",\n-                \"<div class=\\\"item-list\\\" id=\\\"synthetic-implementors-list\\\">\",\n+                \"<div class=\\\"item-list\\\" id=\\\"synthetic-implementors-list\\\"></div>\",\n             );\n-            write_loading_content(w, \"</div>\");\n         }\n     }\n "}, {"sha": "597d07e85b39802eefa2e9b63a5c48038b3cc148", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=e150aebbdc8cca565525b0057b9e0aae5c129537", "patch": "@@ -1140,26 +1140,6 @@ function hideThemeButtonState() {\n         };\n     }\n \n-    if (main) {\n-        onEachLazy(main.getElementsByClassName(\"loading-content\"), function(e) {\n-            e.remove();\n-        });\n-        onEachLazy(main.childNodes, function(e) {\n-            // Unhide the actual content once loading is complete. Headers get\n-            // flex treatment for their horizontal layout, divs get block treatment\n-            // for vertical layout (column-oriented flex layout for divs caused\n-            // errors in mobile browsers).\n-            if (e.tagName === \"H2\" || e.tagName === \"H3\") {\n-                var nextTagName = e.nextElementSibling.tagName;\n-                if (nextTagName === \"H2\" || nextTagName === \"H3\") {\n-                    e.nextElementSibling.style.display = \"flex\";\n-                } else if (nextTagName !== \"DETAILS\") {\n-                    e.nextElementSibling.style.display = \"block\";\n-                }\n-            }\n-        });\n-    }\n-\n     function buildHelperPopup() {\n         var popup = document.createElement(\"aside\");\n         addClass(popup, \"hidden\");"}, {"sha": "0a196edd53b1dd063900a27a45a598e8e49be2f8", "filename": "src/librustdoc/html/static/noscript.css", "status": "modified", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoscript.css", "raw_url": "https://github.com/rust-lang/rust/raw/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoscript.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoscript.css?ref=e150aebbdc8cca565525b0057b9e0aae5c129537", "patch": "@@ -4,31 +4,6 @@ of content is hidden by default (depending on the settings too), we have to over\n rules.\n */\n \n-#main > h2 + div, #main > h2 + h3, #main > h3 + div {\n-\tdisplay: block;\n-}\n-\n-.loading-content {\n-\tdisplay: none;\n-}\n-\n-#main > h2 + div, #main > h3 + div {\n-\tdisplay: block;\n-}\n-\n-#main > h2 + h3 {\n-\tdisplay: flex;\n-}\n-\n-#main .impl-items .hidden {\n-\tdisplay: block !important;\n-}\n-\n-#main .impl-items h4.hidden {\n-\t/* Without this rule, the version and the \"[src]\" span aren't on the same line as the header. */\n-\tdisplay: flex !important;\n-}\n-\n #main .attributes {\n \t/* Since there is no toggle (the \"[-]\") when JS is disabled, no need for this margin either. */\n \tmargin-left: 0 !important;"}, {"sha": "fc2a88b65c7e40d5d40df70d154af03366eb9a22", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/e150aebbdc8cca565525b0057b9e0aae5c129537/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=e150aebbdc8cca565525b0057b9e0aae5c129537", "patch": "@@ -431,11 +431,6 @@ nav.sub {\n #main > .docblock h2 { font-size: 1.15em; }\n #main > .docblock h3, #main > .docblock h4, #main > .docblock h5 { font-size: 1em; }\n \n-#main > h2 + div, #main > h2 + h3, #main > h3 + div {\n-\tdisplay: none; /* Changed to flex or block via js once the page is loaded */\n-\tflex-wrap: wrap;\n-}\n-\n .docblock h1 { font-size: 1em; }\n .docblock h2 { font-size: 0.95em; }\n .docblock h3, .docblock h4, .docblock h5 { font-size: 0.9em; }"}]}