{"sha": "062ea9ce4ded4e5a864dfb4109d6533e03d67679", "node_id": "C_kwDOAAsO6NoAKDA2MmVhOWNlNGRlZDRlNWE4NjRkZmI0MTA5ZDY1MzNlMDNkNjc2Nzk", "commit": {"author": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-10-14T17:45:11Z"}, "committer": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-10-14T17:45:11Z"}, "message": "remove no_core feature", "tree": {"sha": "ae3a033aecc5cc3146583f978250700d6303702b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae3a033aecc5cc3146583f978250700d6303702b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/062ea9ce4ded4e5a864dfb4109d6533e03d67679", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/062ea9ce4ded4e5a864dfb4109d6533e03d67679", "html_url": "https://github.com/rust-lang/rust/commit/062ea9ce4ded4e5a864dfb4109d6533e03d67679", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/062ea9ce4ded4e5a864dfb4109d6533e03d67679/comments", "author": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5378677c31e89ae2fe4de954631bde8efeac91d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/5378677c31e89ae2fe4de954631bde8efeac91d1", "html_url": "https://github.com/rust-lang/rust/commit/5378677c31e89ae2fe4de954631bde8efeac91d1"}], "stats": {"total": 40, "additions": 12, "deletions": 28}, "files": [{"sha": "62f95272fbfd26637104a676bead5a2ff712bca0", "filename": "src/test/ui/traits/issue-102989.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/062ea9ce4ded4e5a864dfb4109d6533e03d67679/src%2Ftest%2Fui%2Ftraits%2Fissue-102989.rs", "raw_url": "https://github.com/rust-lang/rust/raw/062ea9ce4ded4e5a864dfb4109d6533e03d67679/src%2Ftest%2Fui%2Ftraits%2Fissue-102989.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fissue-102989.rs?ref=062ea9ce4ded4e5a864dfb4109d6533e03d67679", "patch": "@@ -1,9 +1,6 @@\n-//~ ERROR can't find crate for `profiler_builtins`\n-// compile-flags: -Cinstrument-coverage\n // normalize-stderr-test \"loaded from .*libcore-.*.rlib\" -> \"loaded from SYSROOT/libcore-*.rlib\"\n \n-#![no_core]\n-#![feature(no_core, lang_items)]\n+#![feature(lang_items)]\n #[lang=\"sized\"]\n trait Sized { } //~ ERROR found duplicate lang item `sized`\n "}, {"sha": "efe1a246774576a450cc5c0b25c610f89080c481", "filename": "src/test/ui/traits/issue-102989.stderr", "status": "modified", "additions": 11, "deletions": 24, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/062ea9ce4ded4e5a864dfb4109d6533e03d67679/src%2Ftest%2Fui%2Ftraits%2Fissue-102989.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/062ea9ce4ded4e5a864dfb4109d6533e03d67679/src%2Ftest%2Fui%2Ftraits%2Fissue-102989.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fissue-102989.stderr?ref=062ea9ce4ded4e5a864dfb4109d6533e03d67679", "patch": "@@ -1,72 +1,59 @@\n error: `self` parameter is only allowed in associated functions\n-  --> $DIR/issue-102989.rs:10:15\n+  --> $DIR/issue-102989.rs:7:15\n    |\n LL | fn ref_Struct(self: &Struct, f: &u32) -> &u32 {\n    |               ^^^^ not semantically valid as function parameter\n    |\n    = note: associated functions are those in `impl` or `trait` definitions\n \n error[E0412]: cannot find type `Struct` in this scope\n-  --> $DIR/issue-102989.rs:10:22\n+  --> $DIR/issue-102989.rs:7:22\n    |\n LL | fn ref_Struct(self: &Struct, f: &u32) -> &u32 {\n    |                      ^^^^^^ not found in this scope\n \n error[E0425]: cannot find value `x` in this scope\n-  --> $DIR/issue-102989.rs:14:13\n+  --> $DIR/issue-102989.rs:11:13\n    |\n LL |     let x = x << 1;\n    |             ^ help: a local variable with a similar name exists: `f`\n \n-error: `profiler_builtins` crate (required by compiler options) is not compatible with crate attribute `#![no_core]`\n-\n-error[E0463]: can't find crate for `profiler_builtins`\n-   |\n-   = note: the compiler may have been built without the profiler runtime\n-\n error[E0152]: found duplicate lang item `sized`\n-  --> $DIR/issue-102989.rs:8:1\n+  --> $DIR/issue-102989.rs:5:1\n    |\n LL | trait Sized { }\n    | ^^^^^^^^^^^\n    |\n-   = note: the lang item is first defined in crate `core`.\n+   = note: the lang item is first defined in crate `core` (which `std` depends on)\n    = note: first definition in `core` loaded from SYSROOT/libcore-*.rlib\n    = note: second definition in the local crate (`issue_102989`)\n \n-error: `#[panic_handler]` function required, but not found\n-\n-error: language item required, but not found: `eh_personality`\n-   |\n-   = note: this can occur when a binary crate with `#![no_std]` is compiled for a target where `eh_personality` is defined in the standard library\n-   = help: you may be able to compile for a target that doesn't need `eh_personality`, specify a target with `--target` or in `.cargo/config`\n-\n error[E0277]: the size for values of type `{integer}` cannot be known at compilation time\n-  --> $DIR/issue-102989.rs:14:15\n+  --> $DIR/issue-102989.rs:11:15\n    |\n LL |     let x = x << 1;\n    |               ^^ doesn't have a size known at compile-time\n    |\n-   = help: the trait `core::marker::Sized` is not implemented for `{integer}`\n+   = help: the trait `std::marker::Sized` is not implemented for `{integer}`\n \n error[E0308]: mismatched types\n-  --> $DIR/issue-102989.rs:10:42\n+  --> $DIR/issue-102989.rs:7:42\n    |\n LL | fn ref_Struct(self: &Struct, f: &u32) -> &u32 {\n    |    ----------                            ^^^^ expected `&u32`, found `()`\n    |    |\n    |    implicitly returns `()` as its body has no tail or `return` expression\n    |\n note: consider returning one of these bindings\n-  --> $DIR/issue-102989.rs:10:30\n+  --> $DIR/issue-102989.rs:7:30\n    |\n LL | fn ref_Struct(self: &Struct, f: &u32) -> &u32 {\n    |                              ^\n ...\n LL |     let x = x << 1;\n    |         ^\n \n-error: aborting due to 10 previous errors\n+error: aborting due to 6 previous errors\n \n-Some errors have detailed explanations: E0152, E0277, E0308, E0412, E0425, E0463.\n+Some errors have detailed explanations: E0152, E0277, E0308, E0412, E0425.\n For more information about an error, try `rustc --explain E0152`."}]}