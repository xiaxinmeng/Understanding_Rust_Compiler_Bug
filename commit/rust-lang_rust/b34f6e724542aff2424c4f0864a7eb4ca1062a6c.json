{"sha": "b34f6e724542aff2424c4f0864a7eb4ca1062a6c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIzNGY2ZTcyNDU0MmFmZjI0MjRjNGYwODY0YTdlYjRjYTEwNjJhNmM=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-06-28T14:05:15Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-06-28T14:05:15Z"}, "message": "Rollup merge of #34471 - GuillaumeGomez:fix_expl, r=steveklabnik\n\nFix E0269 error explanation\n\nr? @steveklabnik", "tree": {"sha": "16677ea1828d1f14f772c2b1732a14a0940b313c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/16677ea1828d1f14f772c2b1732a14a0940b313c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b34f6e724542aff2424c4f0864a7eb4ca1062a6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b34f6e724542aff2424c4f0864a7eb4ca1062a6c", "html_url": "https://github.com/rust-lang/rust/commit/b34f6e724542aff2424c4f0864a7eb4ca1062a6c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b34f6e724542aff2424c4f0864a7eb4ca1062a6c/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b765edf440ae7ecb8a5026d101767a331012f1e9", "url": "https://api.github.com/repos/rust-lang/rust/commits/b765edf440ae7ecb8a5026d101767a331012f1e9", "html_url": "https://github.com/rust-lang/rust/commit/b765edf440ae7ecb8a5026d101767a331012f1e9"}, {"sha": "988ca464e48fd0a3bc1d162fc97eb34499ca7500", "url": "https://api.github.com/repos/rust-lang/rust/commits/988ca464e48fd0a3bc1d162fc97eb34499ca7500", "html_url": "https://github.com/rust-lang/rust/commit/988ca464e48fd0a3bc1d162fc97eb34499ca7500"}], "stats": {"total": 40, "additions": 15, "deletions": 25}, "files": [{"sha": "9040e4bf8db5f23661174bb68a27822e63aa5d88", "filename": "src/librustc/diagnostics.rs", "status": "modified", "additions": 15, "deletions": 25, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/b34f6e724542aff2424c4f0864a7eb4ca1062a6c/src%2Flibrustc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b34f6e724542aff2424c4f0864a7eb4ca1062a6c/src%2Flibrustc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdiagnostics.rs?ref=b34f6e724542aff2424c4f0864a7eb4ca1062a6c", "patch": "@@ -673,45 +673,35 @@ extern \"C\" {\n \"##,\n \n E0269: r##\"\n-Functions must eventually return a value of their return type. For example, in\n-the following function:\n+A returned value was expected but not all control paths return one.\n+\n+Erroneous code example:\n \n ```compile_fail,E0269\n fn abracada_FAIL() -> String {\n     \"this won't work\".to_string();\n+    // error: not all control paths return a value\n }\n ```\n \n-If the condition is true, the value `x` is returned, but if the condition is\n-false, control exits the `if` block and reaches a place where nothing is being\n-returned. All possible control paths must eventually return a `u8`, which is not\n-happening here.\n-\n-An easy fix for this in a complicated function is to specify a default return\n-value, if possible:\n+In the previous code, the function is supposed to return a `String`, however,\n+the code returns nothing (because of the ';'). Another erroneous code would be:\n \n-```ignore\n-fn foo(x: u8) -> u8 {\n-    if x > 0 {\n-        x // alternatively, `return x`\n+```compile_fail\n+fn abracada_FAIL(b: bool) -> u32 {\n+    if b {\n+        0\n+    } else {\n+        \"a\" // It fails because an `u32` was expected and something else is\n+            // returned.\n     }\n-    // lots of other if branches\n-    0 // return 0 if all else fails\n }\n ```\n \n It is advisable to find out what the unhandled cases are and check for them,\n returning an appropriate value or panicking if necessary. Check if you need\n-to remove a semicolon from the last expression, like in this case:\n-\n-```ignore\n-fn foo(x: u8) -> u8 {\n-    inner(2*x + 1);\n-}\n-```\n-\n-The semicolon discards the return value of `inner`, instead of returning\n-it from `foo`.\n+to remove a semicolon from the last expression, like in the first erroneous\n+code example.\n \"##,\n \n E0270: r##\""}]}