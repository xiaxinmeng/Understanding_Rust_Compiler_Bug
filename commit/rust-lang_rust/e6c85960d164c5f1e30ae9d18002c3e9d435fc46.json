{"sha": "e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2Yzg1OTYwZDE2NGM1ZjFlMzBhZTlkMTgwMDJjM2U5ZDQzNWZjNDY=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2020-02-27T23:59:08Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2020-02-27T23:59:08Z"}, "message": "Revert \"Backport only: avoid ICE on bad placeholder type\"\n\nThis reverts commit 1cb555a1dc809a8d310354678ef9c43f01e41ad4.", "tree": {"sha": "473363a3b93dab0d5bbc124a5a431614150a8ed8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/473363a3b93dab0d5bbc124a5a431614150a8ed8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "html_url": "https://github.com/rust-lang/rust/commit/e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d69caba110c0c2fb90180df1cbc8be5033b91d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/6d69caba110c0c2fb90180df1cbc8be5033b91d4", "html_url": "https://github.com/rust-lang/rust/commit/6d69caba110c0c2fb90180df1cbc8be5033b91d4"}], "stats": {"total": 397, "additions": 68, "deletions": 329}, "files": [{"sha": "6c4e9ecee1c39089582458640f27332307ba0a0e", "filename": "src/librustc_typeck/collect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Flibrustc_typeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Flibrustc_typeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcollect.rs?ref=e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "patch": "@@ -320,7 +320,7 @@ impl AstConv<'tcx> for ItemCtxt<'tcx> {\n     }\n \n     fn ty_infer(&self, _: Option<&ty::GenericParamDef>, span: Span) -> Ty<'tcx> {\n-        placeholder_type_error(self.tcx(), span, &[], vec![span], false);\n+        self.tcx().sess.delay_span_bug(span, \"bad placeholder type\");\n         self.tcx().types.err\n     }\n "}, {"sha": "fccfb7911cecf5636db62ca774f0ba902ef7d3fc", "filename": "src/test/ui/did_you_mean/bad-assoc-ty.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.rs?ref=e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "patch": "@@ -17,7 +17,6 @@ type D = (u8, u8)::AssocTy;\n type E = _::AssocTy;\n //~^ ERROR missing angle brackets in associated item path\n //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n type F = &'static (u8)::AssocTy;\n //~^ ERROR missing angle brackets in associated item path"}, {"sha": "64e49934d876203748c997ebf51f066f8e601d42", "filename": "src/test/ui/did_you_mean/bad-assoc-ty.stderr", "status": "modified", "additions": 10, "deletions": 16, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fbad-assoc-ty.stderr?ref=e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "patch": "@@ -29,25 +29,25 @@ LL | type E = _::AssocTy;\n    |          ^^^^^^^^^^ help: try: `<_>::AssocTy`\n \n error: missing angle brackets in associated item path\n-  --> $DIR/bad-assoc-ty.rs:22:19\n+  --> $DIR/bad-assoc-ty.rs:21:19\n    |\n LL | type F = &'static (u8)::AssocTy;\n    |                   ^^^^^^^^^^^^^ help: try: `<(u8)>::AssocTy`\n \n error: missing angle brackets in associated item path\n-  --> $DIR/bad-assoc-ty.rs:28:10\n+  --> $DIR/bad-assoc-ty.rs:27:10\n    |\n LL | type G = dyn 'static + (Send)::AssocTy;\n    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `<dyn 'static + (Send)>::AssocTy`\n \n error: missing angle brackets in associated item path\n-  --> $DIR/bad-assoc-ty.rs:45:10\n+  --> $DIR/bad-assoc-ty.rs:44:10\n    |\n LL | type I = ty!()::AssocTy;\n    |          ^^^^^^^^^^^^^^ help: try: `<ty!()>::AssocTy`\n \n error: missing angle brackets in associated item path\n-  --> $DIR/bad-assoc-ty.rs:38:19\n+  --> $DIR/bad-assoc-ty.rs:37:19\n    |\n LL |     ($ty: ty) => ($ty::AssocTy);\n    |                   ^^^^^^^^^^^^ help: try: `<$ty>::AssocTy`\n@@ -87,32 +87,26 @@ error[E0121]: the type placeholder `_` is not allowed within types on item signa\n LL | type E = _::AssocTy;\n    |          ^ not allowed in type signatures\n \n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/bad-assoc-ty.rs:17:10\n-   |\n-LL | type E = _::AssocTy;\n-   |          ^ not allowed in type signatures\n-\n error[E0223]: ambiguous associated type\n-  --> $DIR/bad-assoc-ty.rs:22:19\n+  --> $DIR/bad-assoc-ty.rs:21:19\n    |\n LL | type F = &'static (u8)::AssocTy;\n    |                   ^^^^^^^^^^^^^ help: use fully-qualified syntax: `<u8 as Trait>::AssocTy`\n \n error[E0223]: ambiguous associated type\n-  --> $DIR/bad-assoc-ty.rs:28:10\n+  --> $DIR/bad-assoc-ty.rs:27:10\n    |\n LL | type G = dyn 'static + (Send)::AssocTy;\n    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use fully-qualified syntax: `<(dyn std::marker::Send + 'static) as Trait>::AssocTy`\n \n error[E0223]: ambiguous associated type\n-  --> $DIR/bad-assoc-ty.rs:34:10\n+  --> $DIR/bad-assoc-ty.rs:33:10\n    |\n LL | type H = Fn(u8) -> (u8)::Output;\n    |          ^^^^^^^^^^^^^^^^^^^^^^ help: use fully-qualified syntax: `<(dyn std::ops::Fn(u8) -> u8 + 'static) as Trait>::Output`\n \n error[E0223]: ambiguous associated type\n-  --> $DIR/bad-assoc-ty.rs:38:19\n+  --> $DIR/bad-assoc-ty.rs:37:19\n    |\n LL |     ($ty: ty) => ($ty::AssocTy);\n    |                   ^^^^^^^^^^^^ help: use fully-qualified syntax: `<u8 as Trait>::AssocTy`\n@@ -123,12 +117,12 @@ LL | type J = ty!(u8);\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n \n error[E0223]: ambiguous associated type\n-  --> $DIR/bad-assoc-ty.rs:45:10\n+  --> $DIR/bad-assoc-ty.rs:44:10\n    |\n LL | type I = ty!()::AssocTy;\n    |          ^^^^^^^^^^^^^^ help: use fully-qualified syntax: `<u8 as Trait>::AssocTy`\n \n-error: aborting due to 20 previous errors\n+error: aborting due to 19 previous errors\n \n Some errors have detailed explanations: E0121, E0223.\n For more information about an error, try `rustc --explain E0121`."}, {"sha": "0956f2a56918cdffc065749cfce011d302244220", "filename": "src/test/ui/self/self-infer.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fself%2Fself-infer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fself%2Fself-infer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fself%2Fself-infer.rs?ref=e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "patch": "@@ -2,9 +2,7 @@ struct S;\n \n impl S {\n     fn f(self: _) {} //~ERROR the type placeholder `_` is not allowed within types on item sig\n-    //~^ ERROR the type placeholder `_` is not allowed within types on item sig\n     fn g(self: &_) {} //~ERROR the type placeholder `_` is not allowed within types on item sig\n-    //~^ ERROR the type placeholder `_` is not allowed within types on item sig\n }\n \n fn main() {}"}, {"sha": "1475b212b56a6a3b89d20c3e13f28e7f3294bb90", "filename": "src/test/ui/self/self-infer.stderr", "status": "modified", "additions": 2, "deletions": 14, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fself%2Fself-infer.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Fself%2Fself-infer.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fself%2Fself-infer.stderr?ref=e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "patch": "@@ -1,9 +1,3 @@\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/self-infer.rs:4:16\n-   |\n-LL |     fn f(self: _) {}\n-   |                ^ not allowed in type signatures\n-\n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n   --> $DIR/self-infer.rs:4:16\n    |\n@@ -16,13 +10,7 @@ LL |     fn f<T>(self: T) {}\n    |         ^^^       ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/self-infer.rs:6:17\n-   |\n-LL |     fn g(self: &_) {}\n-   |                 ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/self-infer.rs:6:17\n+  --> $DIR/self-infer.rs:5:17\n    |\n LL |     fn g(self: &_) {}\n    |                 ^ not allowed in type signatures\n@@ -32,6 +20,6 @@ help: use type parameters instead\n LL |     fn g<T>(self: &T) {}\n    |         ^^^        ^\n \n-error: aborting due to 4 previous errors\n+error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0121`."}, {"sha": "86c7c52b27166ed608d80c9353c31e5db16e8eef", "filename": "src/test/ui/typeck/typeck_type_placeholder_item.rs", "status": "modified", "additions": 0, "deletions": 34, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.rs?ref=e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "patch": "@@ -19,24 +19,19 @@ static TEST5: (_, _) = (1, 2);\n \n fn test6(_: _) { }\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n fn test6_b<T>(_: _, _: T) { }\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n fn test6_c<T, K, L, A, B>(_: _, _: (T, K, L, A, B)) { }\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n fn test7(x: _) { let _x: usize = x; }\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n fn test8(_f: fn() -> _) { }\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n struct Test9;\n \n@@ -46,7 +41,6 @@ impl Test9 {\n \n     fn test10(&self, _x : _) { }\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n }\n \n fn test11(x: &usize) -> &_ {\n@@ -65,16 +59,12 @@ impl Clone for Test9 {\n \n     fn clone_from(&mut self, other: _) { *self = Test9; }\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n }\n \n struct Test10 {\n     a: _,\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     b: (_, _),\n-    //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n }\n \n pub fn main() {\n@@ -102,16 +92,13 @@ pub fn main() {\n \n     fn fn_test6(_: _) { }\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n     fn fn_test7(x: _) { let _x: usize = x; }\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n     fn fn_test8(_f: fn() -> _) { }\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n     //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n     struct FnTest9;\n \n@@ -121,7 +108,6 @@ pub fn main() {\n \n         fn fn_test10(&self, _x : _) { }\n         //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-        //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     }\n \n     impl Clone for FnTest9 {\n@@ -130,16 +116,12 @@ pub fn main() {\n \n         fn clone_from(&mut self, other: _) { *self = FnTest9; }\n         //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-        //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     }\n \n     struct FnTest10 {\n         a: _,\n         //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-        //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n         b: (_, _),\n-        //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-        //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     }\n \n     fn fn_test11(_: _) -> (_, _) { panic!() }\n@@ -156,40 +138,28 @@ pub fn main() {\n trait T {\n     fn method_test1(&self, x: _);\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     fn method_test2(&self, x: _) -> _;\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     fn method_test3(&self) -> _;\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     fn assoc_fn_test1(x: _);\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     fn assoc_fn_test2(x: _) -> _;\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     fn assoc_fn_test3() -> _;\n     //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-    //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n }\n \n struct BadStruct<_>(_);\n //~^ ERROR expected identifier, found reserved identifier `_`\n //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n trait BadTrait<_> {}\n //~^ ERROR expected identifier, found reserved identifier `_`\n impl BadTrait<_> for BadStruct<_> {}\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n fn impl_trait() -> impl BadTrait<_> {\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n     unimplemented!()\n }\n \n@@ -198,22 +168,18 @@ struct BadStruct1<_, _>(_);\n //~| ERROR expected identifier, found reserved identifier `_`\n //~| ERROR the name `_` is already used\n //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n struct BadStruct2<_, T>(_, T);\n //~^ ERROR expected identifier, found reserved identifier `_`\n //~| ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n type X = Box<_>;\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n \n struct Struct;\n trait Trait<T> {}\n impl Trait<usize> for Struct {}\n type Y = impl Trait<_>;\n //~^ ERROR the type placeholder `_` is not allowed within types on item signatures\n-//~| ERROR the type placeholder `_` is not allowed within types on item signatures\n fn foo() -> Y {\n     Struct\n }"}, {"sha": "95e8f94c6f3e7d126916a9274dbc7fccca3f3ac1", "filename": "src/test/ui/typeck/typeck_type_placeholder_item.stderr", "status": "modified", "additions": 55, "deletions": 261, "changes": 316, "blob_url": "https://github.com/rust-lang/rust/blob/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e6c85960d164c5f1e30ae9d18002c3e9d435fc46/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.stderr?ref=e6c85960d164c5f1e30ae9d18002c3e9d435fc46", "patch": "@@ -1,35 +1,35 @@\n error: expected identifier, found reserved identifier `_`\n-  --> $DIR/typeck_type_placeholder_item.rs:179:18\n+  --> $DIR/typeck_type_placeholder_item.rs:153:18\n    |\n LL | struct BadStruct<_>(_);\n    |                  ^ expected identifier, found reserved identifier\n \n error: expected identifier, found reserved identifier `_`\n-  --> $DIR/typeck_type_placeholder_item.rs:183:16\n+  --> $DIR/typeck_type_placeholder_item.rs:156:16\n    |\n LL | trait BadTrait<_> {}\n    |                ^ expected identifier, found reserved identifier\n \n error: expected identifier, found reserved identifier `_`\n-  --> $DIR/typeck_type_placeholder_item.rs:196:19\n+  --> $DIR/typeck_type_placeholder_item.rs:166:19\n    |\n LL | struct BadStruct1<_, _>(_);\n    |                   ^ expected identifier, found reserved identifier\n \n error: expected identifier, found reserved identifier `_`\n-  --> $DIR/typeck_type_placeholder_item.rs:196:22\n+  --> $DIR/typeck_type_placeholder_item.rs:166:22\n    |\n LL | struct BadStruct1<_, _>(_);\n    |                      ^ expected identifier, found reserved identifier\n \n error: expected identifier, found reserved identifier `_`\n-  --> $DIR/typeck_type_placeholder_item.rs:202:19\n+  --> $DIR/typeck_type_placeholder_item.rs:171:19\n    |\n LL | struct BadStruct2<_, T>(_, T);\n    |                   ^ expected identifier, found reserved identifier\n \n error[E0403]: the name `_` is already used for a generic parameter in this item's generic parameters\n-  --> $DIR/typeck_type_placeholder_item.rs:196:22\n+  --> $DIR/typeck_type_placeholder_item.rs:166:22\n    |\n LL | struct BadStruct1<_, _>(_);\n    |                   -  ^ already used\n@@ -79,12 +79,6 @@ error[E0121]: the type placeholder `_` is not allowed within types on item signa\n LL | static TEST5: (_, _) = (1, 2);\n    |               ^^^^^^ not allowed in type signatures\n \n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:20:13\n-   |\n-LL | fn test6(_: _) { }\n-   |             ^ not allowed in type signatures\n-\n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n   --> $DIR/typeck_type_placeholder_item.rs:20:13\n    |\n@@ -97,13 +91,7 @@ LL | fn test6<T>(_: T) { }\n    |         ^^^    ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:24:18\n-   |\n-LL | fn test6_b<T>(_: _, _: T) { }\n-   |                  ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:24:18\n+  --> $DIR/typeck_type_placeholder_item.rs:23:18\n    |\n LL | fn test6_b<T>(_: _, _: T) { }\n    |                  ^ not allowed in type signatures\n@@ -114,13 +102,7 @@ LL | fn test6_b<T, K>(_: K, _: T) { }\n    |             ^^^     ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:28:30\n-   |\n-LL | fn test6_c<T, K, L, A, B>(_: _, _: (T, K, L, A, B)) { }\n-   |                              ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:28:30\n+  --> $DIR/typeck_type_placeholder_item.rs:26:30\n    |\n LL | fn test6_c<T, K, L, A, B>(_: _, _: (T, K, L, A, B)) { }\n    |                              ^ not allowed in type signatures\n@@ -131,13 +113,7 @@ LL | fn test6_c<T, K, L, A, B, C>(_: C, _: (T, K, L, A, B)) { }\n    |                         ^^^     ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:32:13\n-   |\n-LL | fn test7(x: _) { let _x: usize = x; }\n-   |             ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:32:13\n+  --> $DIR/typeck_type_placeholder_item.rs:29:13\n    |\n LL | fn test7(x: _) { let _x: usize = x; }\n    |             ^ not allowed in type signatures\n@@ -148,19 +124,13 @@ LL | fn test7<T>(x: T) { let _x: usize = x; }\n    |         ^^^    ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:36:22\n+  --> $DIR/typeck_type_placeholder_item.rs:32:22\n    |\n LL | fn test8(_f: fn() -> _) { }\n    |                      ^ not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:36:22\n-   |\n-LL | fn test8(_f: fn() -> _) { }\n-   |                      ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:36:22\n+  --> $DIR/typeck_type_placeholder_item.rs:32:22\n    |\n LL | fn test8(_f: fn() -> _) { }\n    |                      ^ not allowed in type signatures\n@@ -171,61 +141,7 @@ LL | fn test8<T>(_f: fn() -> T) { }\n    |         ^^^             ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:72:8\n-   |\n-LL |     a: _,\n-   |        ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:75:9\n-   |\n-LL |     b: (_, _),\n-   |         ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:75:12\n-   |\n-LL |     b: (_, _),\n-   |            ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:137:12\n-   |\n-LL |         a: _,\n-   |            ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:140:13\n-   |\n-LL |         b: (_, _),\n-   |             ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:140:16\n-   |\n-LL |         b: (_, _),\n-   |                ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:179:21\n-   |\n-LL | struct BadStruct<_>(_);\n-   |                     ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:196:25\n-   |\n-LL | struct BadStruct1<_, _>(_);\n-   |                         ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:202:25\n-   |\n-LL | struct BadStruct2<_, T>(_, T);\n-   |                         ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:52:26\n+  --> $DIR/typeck_type_placeholder_item.rs:46:26\n    |\n LL | fn test11(x: &usize) -> &_ {\n    |                         -^\n@@ -234,7 +150,7 @@ LL | fn test11(x: &usize) -> &_ {\n    |                         help: replace with the correct return type: `&&usize`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:57:52\n+  --> $DIR/typeck_type_placeholder_item.rs:51:52\n    |\n LL | unsafe fn test12(x: *const usize) -> *const *const _ {\n    |                                      --------------^\n@@ -243,11 +159,11 @@ LL | unsafe fn test12(x: *const usize) -> *const *const _ {\n    |                                      help: replace with the correct return type: `*const *const usize`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:72:8\n+  --> $DIR/typeck_type_placeholder_item.rs:65:8\n    |\n LL |     a: _,\n    |        ^ not allowed in type signatures\n-...\n+LL |\n LL |     b: (_, _),\n    |         ^  ^ not allowed in type signatures\n    |         |\n@@ -258,18 +174,17 @@ help: use type parameters instead\n LL | struct Test10<T> {\n LL |     a: T,\n LL |\n-LL |\n LL |     b: (T, T),\n    |\n \n error: missing type for `static` item\n-  --> $DIR/typeck_type_placeholder_item.rs:81:12\n+  --> $DIR/typeck_type_placeholder_item.rs:71:12\n    |\n LL |     static A = 42;\n    |            ^ help: provide a type for the item: `A: i32`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:83:15\n+  --> $DIR/typeck_type_placeholder_item.rs:73:15\n    |\n LL |     static B: _ = 42;\n    |               ^\n@@ -278,13 +193,13 @@ LL |     static B: _ = 42;\n    |               help: replace `_` with the correct type: `i32`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:85:15\n+  --> $DIR/typeck_type_placeholder_item.rs:75:15\n    |\n LL |     static C: Option<_> = Some(42);\n    |               ^^^^^^^^^ not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:88:21\n+  --> $DIR/typeck_type_placeholder_item.rs:78:21\n    |\n LL |     fn fn_test() -> _ { 5 }\n    |                     ^\n@@ -293,7 +208,7 @@ LL |     fn fn_test() -> _ { 5 }\n    |                     help: replace with the correct return type: `i32`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:91:23\n+  --> $DIR/typeck_type_placeholder_item.rs:81:23\n    |\n LL |     fn fn_test2() -> (_, _) { (5, 5) }\n    |                      -^--^-\n@@ -303,7 +218,7 @@ LL |     fn fn_test2() -> (_, _) { (5, 5) }\n    |                      help: replace with the correct return type: `(i32, i32)`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:94:22\n+  --> $DIR/typeck_type_placeholder_item.rs:84:22\n    |\n LL |     static FN_TEST3: _ = \"test\";\n    |                      ^\n@@ -312,7 +227,7 @@ LL |     static FN_TEST3: _ = \"test\";\n    |                      help: replace `_` with the correct type: `&'static str`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:97:22\n+  --> $DIR/typeck_type_placeholder_item.rs:87:22\n    |\n LL |     static FN_TEST4: _ = 145;\n    |                      ^\n@@ -321,19 +236,13 @@ LL |     static FN_TEST4: _ = 145;\n    |                      help: replace `_` with the correct type: `i32`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:100:22\n+  --> $DIR/typeck_type_placeholder_item.rs:90:22\n    |\n LL |     static FN_TEST5: (_, _) = (1, 2);\n    |                      ^^^^^^ not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:103:20\n-   |\n-LL |     fn fn_test6(_: _) { }\n-   |                    ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:103:20\n+  --> $DIR/typeck_type_placeholder_item.rs:93:20\n    |\n LL |     fn fn_test6(_: _) { }\n    |                    ^ not allowed in type signatures\n@@ -344,13 +253,7 @@ LL |     fn fn_test6<T>(_: T) { }\n    |                ^^^    ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:107:20\n-   |\n-LL |     fn fn_test7(x: _) { let _x: usize = x; }\n-   |                    ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:107:20\n+  --> $DIR/typeck_type_placeholder_item.rs:96:20\n    |\n LL |     fn fn_test7(x: _) { let _x: usize = x; }\n    |                    ^ not allowed in type signatures\n@@ -361,19 +264,13 @@ LL |     fn fn_test7<T>(x: T) { let _x: usize = x; }\n    |                ^^^    ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:111:29\n-   |\n-LL |     fn fn_test8(_f: fn() -> _) { }\n-   |                             ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:111:29\n+  --> $DIR/typeck_type_placeholder_item.rs:99:29\n    |\n LL |     fn fn_test8(_f: fn() -> _) { }\n    |                             ^ not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:111:29\n+  --> $DIR/typeck_type_placeholder_item.rs:99:29\n    |\n LL |     fn fn_test8(_f: fn() -> _) { }\n    |                             ^ not allowed in type signatures\n@@ -384,11 +281,11 @@ LL |     fn fn_test8<T>(_f: fn() -> T) { }\n    |                ^^^             ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:137:12\n+  --> $DIR/typeck_type_placeholder_item.rs:122:12\n    |\n LL |         a: _,\n    |            ^ not allowed in type signatures\n-...\n+LL |\n LL |         b: (_, _),\n    |             ^  ^ not allowed in type signatures\n    |             |\n@@ -399,26 +296,25 @@ help: use type parameters instead\n LL |     struct FnTest10<T> {\n LL |         a: T,\n LL |\n-LL |\n LL |         b: (T, T),\n    |\n \n error[E0282]: type annotations needed\n-  --> $DIR/typeck_type_placeholder_item.rs:145:18\n+  --> $DIR/typeck_type_placeholder_item.rs:127:18\n    |\n LL |     fn fn_test11(_: _) -> (_, _) { panic!() }\n    |                  ^ cannot infer type\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:145:28\n+  --> $DIR/typeck_type_placeholder_item.rs:127:28\n    |\n LL |     fn fn_test11(_: _) -> (_, _) { panic!() }\n    |                            ^  ^ not allowed in type signatures\n    |                            |\n    |                            not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:149:30\n+  --> $DIR/typeck_type_placeholder_item.rs:131:30\n    |\n LL |     fn fn_test12(x: i32) -> (_, _) { (x, x) }\n    |                             -^--^-\n@@ -428,7 +324,7 @@ LL |     fn fn_test12(x: i32) -> (_, _) { (x, x) }\n    |                             help: replace with the correct return type: `(i32, i32)`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:152:33\n+  --> $DIR/typeck_type_placeholder_item.rs:134:33\n    |\n LL |     fn fn_test13(x: _) -> (i32, _) { (x, x) }\n    |                           ------^-\n@@ -437,7 +333,7 @@ LL |     fn fn_test13(x: _) -> (i32, _) { (x, x) }\n    |                           help: replace with the correct return type: `(i32, i32)`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:179:21\n+  --> $DIR/typeck_type_placeholder_item.rs:153:21\n    |\n LL | struct BadStruct<_>(_);\n    |                     ^ not allowed in type signatures\n@@ -448,19 +344,7 @@ LL | struct BadStruct<T>(T);\n    |                  ^  ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:185:32\n-   |\n-LL | impl BadTrait<_> for BadStruct<_> {}\n-   |                                ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:185:15\n-   |\n-LL | impl BadTrait<_> for BadStruct<_> {}\n-   |               ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:185:15\n+  --> $DIR/typeck_type_placeholder_item.rs:158:15\n    |\n LL | impl BadTrait<_> for BadStruct<_> {}\n    |               ^                ^ not allowed in type signatures\n@@ -473,13 +357,13 @@ LL | impl<T> BadTrait<T> for BadStruct<T> {}\n    |     ^^^          ^                ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:190:34\n+  --> $DIR/typeck_type_placeholder_item.rs:161:34\n    |\n LL | fn impl_trait() -> impl BadTrait<_> {\n    |                                  ^ not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:196:25\n+  --> $DIR/typeck_type_placeholder_item.rs:166:25\n    |\n LL | struct BadStruct1<_, _>(_);\n    |                         ^ not allowed in type signatures\n@@ -490,7 +374,7 @@ LL | struct BadStruct1<T, _>(T);\n    |                   ^     ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:202:25\n+  --> $DIR/typeck_type_placeholder_item.rs:171:25\n    |\n LL | struct BadStruct2<_, T>(_, T);\n    |                         ^ not allowed in type signatures\n@@ -501,25 +385,13 @@ LL | struct BadStruct2<K, T>(K, T);\n    |                   ^     ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:207:14\n+  --> $DIR/typeck_type_placeholder_item.rs:175:14\n    |\n LL | type X = Box<_>;\n    |              ^ not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:207:14\n-   |\n-LL | type X = Box<_>;\n-   |              ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:47:27\n-   |\n-LL |     fn test10(&self, _x : _) { }\n-   |                           ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:47:27\n+  --> $DIR/typeck_type_placeholder_item.rs:42:27\n    |\n LL |     fn test10(&self, _x : _) { }\n    |                           ^ not allowed in type signatures\n@@ -530,13 +402,7 @@ LL |     fn test10<T>(&self, _x : T) { }\n    |              ^^^             ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:157:31\n-   |\n-LL |     fn method_test1(&self, x: _);\n-   |                               ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:157:31\n+  --> $DIR/typeck_type_placeholder_item.rs:139:31\n    |\n LL |     fn method_test1(&self, x: _);\n    |                               ^ not allowed in type signatures\n@@ -547,19 +413,7 @@ LL |     fn method_test1<T>(&self, x: T);\n    |                    ^^^           ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:160:37\n-   |\n-LL |     fn method_test2(&self, x: _) -> _;\n-   |                                     ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:160:31\n-   |\n-LL |     fn method_test2(&self, x: _) -> _;\n-   |                               ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:160:31\n+  --> $DIR/typeck_type_placeholder_item.rs:141:31\n    |\n LL |     fn method_test2(&self, x: _) -> _;\n    |                               ^     ^ not allowed in type signatures\n@@ -572,13 +426,7 @@ LL |     fn method_test2<T>(&self, x: T) -> T;\n    |                    ^^^           ^     ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:164:31\n-   |\n-LL |     fn method_test3(&self) -> _;\n-   |                               ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:164:31\n+  --> $DIR/typeck_type_placeholder_item.rs:143:31\n    |\n LL |     fn method_test3(&self) -> _;\n    |                               ^ not allowed in type signatures\n@@ -589,13 +437,7 @@ LL |     fn method_test3<T>(&self) -> T;\n    |                    ^^^           ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:167:26\n-   |\n-LL |     fn assoc_fn_test1(x: _);\n-   |                          ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:167:26\n+  --> $DIR/typeck_type_placeholder_item.rs:145:26\n    |\n LL |     fn assoc_fn_test1(x: _);\n    |                          ^ not allowed in type signatures\n@@ -606,19 +448,7 @@ LL |     fn assoc_fn_test1<T>(x: T);\n    |                      ^^^    ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:170:32\n-   |\n-LL |     fn assoc_fn_test2(x: _) -> _;\n-   |                                ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:170:26\n-   |\n-LL |     fn assoc_fn_test2(x: _) -> _;\n-   |                          ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:170:26\n+  --> $DIR/typeck_type_placeholder_item.rs:147:26\n    |\n LL |     fn assoc_fn_test2(x: _) -> _;\n    |                          ^     ^ not allowed in type signatures\n@@ -631,13 +461,7 @@ LL |     fn assoc_fn_test2<T>(x: T) -> T;\n    |                      ^^^    ^     ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:174:28\n-   |\n-LL |     fn assoc_fn_test3() -> _;\n-   |                            ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:174:28\n+  --> $DIR/typeck_type_placeholder_item.rs:149:28\n    |\n LL |     fn assoc_fn_test3() -> _;\n    |                            ^ not allowed in type signatures\n@@ -648,13 +472,7 @@ LL |     fn assoc_fn_test3<T>() -> T;\n    |                      ^^^      ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:66:37\n-   |\n-LL |     fn clone_from(&mut self, other: _) { *self = Test9; }\n-   |                                     ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:66:37\n+  --> $DIR/typeck_type_placeholder_item.rs:60:37\n    |\n LL |     fn clone_from(&mut self, other: _) { *self = Test9; }\n    |                                     ^ not allowed in type signatures\n@@ -665,13 +483,7 @@ LL |     fn clone_from<T>(&mut self, other: T) { *self = Test9; }\n    |                  ^^^                   ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:122:34\n-   |\n-LL |         fn fn_test10(&self, _x : _) { }\n-   |                                  ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:122:34\n+  --> $DIR/typeck_type_placeholder_item.rs:109:34\n    |\n LL |         fn fn_test10(&self, _x : _) { }\n    |                                  ^ not allowed in type signatures\n@@ -682,13 +494,7 @@ LL |         fn fn_test10<T>(&self, _x : T) { }\n    |                     ^^^             ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:131:41\n-   |\n-LL |         fn clone_from(&mut self, other: _) { *self = FnTest9; }\n-   |                                         ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:131:41\n+  --> $DIR/typeck_type_placeholder_item.rs:117:41\n    |\n LL |         fn clone_from(&mut self, other: _) { *self = FnTest9; }\n    |                                         ^ not allowed in type signatures\n@@ -699,25 +505,13 @@ LL |         fn clone_from<T>(&mut self, other: T) { *self = FnTest9; }\n    |                      ^^^                   ^\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:190:34\n-   |\n-LL | fn impl_trait() -> impl BadTrait<_> {\n-   |                                  ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:214:21\n-   |\n-LL | type Y = impl Trait<_>;\n-   |                     ^ not allowed in type signatures\n-\n-error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:214:21\n+  --> $DIR/typeck_type_placeholder_item.rs:181:21\n    |\n LL | type Y = impl Trait<_>;\n    |                     ^ not allowed in type signatures\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:44:24\n+  --> $DIR/typeck_type_placeholder_item.rs:39:24\n    |\n LL |     fn test9(&self) -> _ { () }\n    |                        ^\n@@ -726,7 +520,7 @@ LL |     fn test9(&self) -> _ { () }\n    |                        help: replace with the correct return type: `()`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:63:24\n+  --> $DIR/typeck_type_placeholder_item.rs:57:24\n    |\n LL |     fn clone(&self) -> _ { Test9 }\n    |                        ^\n@@ -735,7 +529,7 @@ LL |     fn clone(&self) -> _ { Test9 }\n    |                        help: replace with the correct return type: `Test9`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:119:31\n+  --> $DIR/typeck_type_placeholder_item.rs:106:31\n    |\n LL |         fn fn_test9(&self) -> _ { () }\n    |                               ^\n@@ -744,15 +538,15 @@ LL |         fn fn_test9(&self) -> _ { () }\n    |                               help: replace with the correct return type: `()`\n \n error[E0121]: the type placeholder `_` is not allowed within types on item signatures\n-  --> $DIR/typeck_type_placeholder_item.rs:128:28\n+  --> $DIR/typeck_type_placeholder_item.rs:114:28\n    |\n LL |         fn clone(&self) -> _ { FnTest9 }\n    |                            ^\n    |                            |\n    |                            not allowed in type signatures\n    |                            help: replace with the correct return type: `main::FnTest9`\n \n-error: aborting due to 92 previous errors\n+error: aborting due to 58 previous errors\n \n Some errors have detailed explanations: E0121, E0282, E0403.\n For more information about an error, try `rustc --explain E0121`."}]}