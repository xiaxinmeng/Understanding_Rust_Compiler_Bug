{"sha": "483e140bcea938a119ae5a93109e9c8d3f2c4188", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4M2UxNDBiY2VhOTM4YTExOWFlNWE5MzEwOWU5YzhkM2YyYzQxODg=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2019-09-25T11:50:23Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2019-09-25T21:45:18Z"}, "message": "map_flatten: make it a rustfix test", "tree": {"sha": "b68c9b289ad211b1f07e63c7730f59b9293240a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b68c9b289ad211b1f07e63c7730f59b9293240a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/483e140bcea938a119ae5a93109e9c8d3f2c4188", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/483e140bcea938a119ae5a93109e9c8d3f2c4188", "html_url": "https://github.com/rust-lang/rust/commit/483e140bcea938a119ae5a93109e9c8d3f2c4188", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/483e140bcea938a119ae5a93109e9c8d3f2c4188/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d29f6d28b5644edc1450f4f2adc4f525724c7e47", "url": "https://api.github.com/repos/rust-lang/rust/commits/d29f6d28b5644edc1450f4f2adc4f525724c7e47", "html_url": "https://github.com/rust-lang/rust/commit/d29f6d28b5644edc1450f4f2adc4f525724c7e47"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "51732e02be4fe9244a703f4c2547b275e160f891", "filename": "tests/ui/map_flatten.fixed", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/483e140bcea938a119ae5a93109e9c8d3f2c4188/tests%2Fui%2Fmap_flatten.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/483e140bcea938a119ae5a93109e9c8d3f2c4188/tests%2Fui%2Fmap_flatten.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmap_flatten.fixed?ref=483e140bcea938a119ae5a93109e9c8d3f2c4188", "patch": "@@ -0,0 +1,8 @@\n+// run-rustfix\n+\n+#![warn(clippy::all, clippy::pedantic)]\n+#![allow(clippy::missing_docs_in_private_items)]\n+\n+fn main() {\n+    let _: Vec<_> = vec![5_i8; 6].into_iter().flat_map(|x| 0..x).collect();\n+}"}, {"sha": "66137a50ae8da563188dbe3845516b86d15c730b", "filename": "tests/ui/map_flatten.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/483e140bcea938a119ae5a93109e9c8d3f2c4188/tests%2Fui%2Fmap_flatten.rs", "raw_url": "https://github.com/rust-lang/rust/raw/483e140bcea938a119ae5a93109e9c8d3f2c4188/tests%2Fui%2Fmap_flatten.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmap_flatten.rs?ref=483e140bcea938a119ae5a93109e9c8d3f2c4188", "patch": "@@ -1,3 +1,5 @@\n+// run-rustfix\n+\n #![warn(clippy::all, clippy::pedantic)]\n #![allow(clippy::missing_docs_in_private_items)]\n "}, {"sha": "478c7e780d9634b1419304a5f92bc4858c56d0ba", "filename": "tests/ui/map_flatten.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/483e140bcea938a119ae5a93109e9c8d3f2c4188/tests%2Fui%2Fmap_flatten.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/483e140bcea938a119ae5a93109e9c8d3f2c4188/tests%2Fui%2Fmap_flatten.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmap_flatten.stderr?ref=483e140bcea938a119ae5a93109e9c8d3f2c4188", "patch": "@@ -1,5 +1,5 @@\n error: called `map(..).flatten()` on an `Iterator`. This is more succinctly expressed by calling `.flat_map(..)`\n-  --> $DIR/map_flatten.rs:5:21\n+  --> $DIR/map_flatten.rs:7:21\n    |\n LL |     let _: Vec<_> = vec![5_i8; 6].into_iter().map(|x| 0..x).flatten().collect();\n    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try using flat_map instead: `vec![5_i8; 6].into_iter().flat_map(|x| 0..x)`"}]}