{"sha": "6a62390c86cb9f72465f1c314b64c94c273956b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZhNjIzOTBjODZjYjlmNzI0NjVmMWMzMTRiNjRjOTRjMjczOTU2Yjc=", "commit": {"author": {"name": "Hirochika Matsumoto", "email": "matsujika@gmail.com", "date": "2020-09-22T17:57:47Z"}, "committer": {"name": "Hirochika Matsumoto", "email": "matsujika@gmail.com", "date": "2020-11-17T16:28:37Z"}, "message": "Optout rustfix test", "tree": {"sha": "8e0fdf6595fca42b60926520cbf52bfffada752b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8e0fdf6595fca42b60926520cbf52bfffada752b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6a62390c86cb9f72465f1c314b64c94c273956b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6a62390c86cb9f72465f1c314b64c94c273956b7", "html_url": "https://github.com/rust-lang/rust/commit/6a62390c86cb9f72465f1c314b64c94c273956b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6a62390c86cb9f72465f1c314b64c94c273956b7/comments", "author": {"login": "hkmatsumoto", "id": 57856193, "node_id": "MDQ6VXNlcjU3ODU2MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/57856193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkmatsumoto", "html_url": "https://github.com/hkmatsumoto", "followers_url": "https://api.github.com/users/hkmatsumoto/followers", "following_url": "https://api.github.com/users/hkmatsumoto/following{/other_user}", "gists_url": "https://api.github.com/users/hkmatsumoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkmatsumoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkmatsumoto/subscriptions", "organizations_url": "https://api.github.com/users/hkmatsumoto/orgs", "repos_url": "https://api.github.com/users/hkmatsumoto/repos", "events_url": "https://api.github.com/users/hkmatsumoto/events{/privacy}", "received_events_url": "https://api.github.com/users/hkmatsumoto/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hkmatsumoto", "id": 57856193, "node_id": "MDQ6VXNlcjU3ODU2MTkz", "avatar_url": "https://avatars.githubusercontent.com/u/57856193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkmatsumoto", "html_url": "https://github.com/hkmatsumoto", "followers_url": "https://api.github.com/users/hkmatsumoto/followers", "following_url": "https://api.github.com/users/hkmatsumoto/following{/other_user}", "gists_url": "https://api.github.com/users/hkmatsumoto/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkmatsumoto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkmatsumoto/subscriptions", "organizations_url": "https://api.github.com/users/hkmatsumoto/orgs", "repos_url": "https://api.github.com/users/hkmatsumoto/repos", "events_url": "https://api.github.com/users/hkmatsumoto/events{/privacy}", "received_events_url": "https://api.github.com/users/hkmatsumoto/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ebdd4e2c723c6902851a050ec8bdc7b966dc2c64", "url": "https://api.github.com/repos/rust-lang/rust/commits/ebdd4e2c723c6902851a050ec8bdc7b966dc2c64", "html_url": "https://github.com/rust-lang/rust/commit/ebdd4e2c723c6902851a050ec8bdc7b966dc2c64"}], "stats": {"total": 81, "additions": 3, "deletions": 78}, "files": [{"sha": "e7e3120f82f329b51355620844aec13a93f1e4a9", "filename": "tests/ui/unnecessary_wrap.fixed", "status": "removed", "additions": 0, "deletions": 73, "changes": 73, "blob_url": "https://github.com/rust-lang/rust/blob/ebdd4e2c723c6902851a050ec8bdc7b966dc2c64/tests%2Fui%2Funnecessary_wrap.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/ebdd4e2c723c6902851a050ec8bdc7b966dc2c64/tests%2Fui%2Funnecessary_wrap.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_wrap.fixed?ref=ebdd4e2c723c6902851a050ec8bdc7b966dc2c64", "patch": "@@ -1,73 +0,0 @@\n-// run-rustfix\n-\n-#![warn(clippy::unnecessary_wrap)]\n-#![allow(clippy::no_effect)]\n-#![allow(clippy::needless_return)]\n-#![allow(clippy::if_same_then_else)]\n-#![allow(dead_code)]\n-\n-// should be linted\n-fn func1(a: bool, b: bool) -> Option<i32> {\n-    if a && b {\n-        return Some(42);\n-    }\n-    if a {\n-        Some(-1);\n-        Some(2)\n-    } else {\n-        return Some(1337);\n-    }\n-}\n-\n-// public fns should not be linted\n-pub fn func2(a: bool) -> Option<i32> {\n-    if a {\n-        Some(1)\n-    } else {\n-        Some(1)\n-    }\n-}\n-\n-// should not be linted\n-fn func3(a: bool) -> Option<i32> {\n-    if a {\n-        Some(1)\n-    } else {\n-        None\n-    }\n-}\n-\n-// should be linted\n-fn func4() -> Option<i32> {\n-    Some(1)\n-}\n-\n-// should not be linted\n-fn func5() -> Option<i32> {\n-    None\n-}\n-\n-// should be linted\n-fn func6() -> Result<i32, ()> {\n-    Ok(1)\n-}\n-\n-// should not be linted\n-fn func7(a: bool) -> Result<i32, ()> {\n-    if a {\n-        Ok(1)\n-    } else {\n-        Err(())\n-    }\n-}\n-\n-// should not be linted\n-fn func8(a: bool) -> Result<i32, ()> {\n-    Err(())\n-}\n-\n-fn main() {\n-    // method calls are not linted\n-    func1(true, true);\n-    func2(true);\n-}"}, {"sha": "f78a7604a5a359af8e13091ee626f9a485683cbb", "filename": "tests/ui/unnecessary_wrap.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6a62390c86cb9f72465f1c314b64c94c273956b7/tests%2Fui%2Funnecessary_wrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a62390c86cb9f72465f1c314b64c94c273956b7/tests%2Fui%2Funnecessary_wrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_wrap.rs?ref=6a62390c86cb9f72465f1c314b64c94c273956b7", "patch": "@@ -1,5 +1,3 @@\n-// run-rustfix\n-\n #![warn(clippy::unnecessary_wrap)]\n #![allow(clippy::no_effect)]\n #![allow(clippy::needless_return)]"}, {"sha": "cd05104f4900f6c4dda10ddb02c1a936ba1519c6", "filename": "tests/ui/unnecessary_wrap.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6a62390c86cb9f72465f1c314b64c94c273956b7/tests%2Fui%2Funnecessary_wrap.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6a62390c86cb9f72465f1c314b64c94c273956b7/tests%2Fui%2Funnecessary_wrap.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_wrap.stderr?ref=6a62390c86cb9f72465f1c314b64c94c273956b7", "patch": "@@ -1,5 +1,5 @@\n error: this function returns unnecessarily wrapping data\n-  --> $DIR/unnecessary_wrap.rs:10:1\n+  --> $DIR/unnecessary_wrap.rs:8:1\n    |\n LL | / fn func1(a: bool, b: bool) -> Option<i32> {\n LL | |     if a && b {\n@@ -22,7 +22,7 @@ LL |         Some(-1);\n  ...\n \n error: this function returns unnecessarily wrapping data\n-  --> $DIR/unnecessary_wrap.rs:41:1\n+  --> $DIR/unnecessary_wrap.rs:39:1\n    |\n LL | / fn func4() -> Option<i32> {\n LL | |     Some(1)\n@@ -36,7 +36,7 @@ LL |     1\n    |\n \n error: this function returns unnecessarily wrapping data\n-  --> $DIR/unnecessary_wrap.rs:51:1\n+  --> $DIR/unnecessary_wrap.rs:49:1\n    |\n LL | / fn func6() -> Result<i32, ()> {\n LL | |     Ok(1)"}]}