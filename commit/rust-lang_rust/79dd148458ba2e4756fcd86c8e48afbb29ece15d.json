{"sha": "79dd148458ba2e4756fcd86c8e48afbb29ece15d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5ZGQxNDg0NThiYTJlNDc1NmZjZDg2YzhlNDhhZmJiMjllY2UxNWQ=", "commit": {"author": {"name": "Mark Simulacrum", "email": "mark.simulacrum@gmail.com", "date": "2018-06-04T00:18:04Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-06-04T00:18:04Z"}, "message": "Rollup merge of #51317 - oli-obk:incremental_all_the_way, r=Mark-Simulacrum\n\nAllow enabling incremental via config.toml\n\nr? @QuietMisdreavus", "tree": {"sha": "612594158d3985592e6513ca98bbc4e6acd777e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/612594158d3985592e6513ca98bbc4e6acd777e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79dd148458ba2e4756fcd86c8e48afbb29ece15d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbFIU8CRBK7hj4Ov3rIwAAdHIIAFIzkIDOfsxS009ehUxHaTny\nl+SDWzbOAny/dc50YnywaScFki51Q+uAZ1T5CUuzIoEy6nGJ/o7UfGe+d31PqoHe\nifQJyW1/+cpRFzLH42a7lSRph+CuBCCUxpCli0J8c7ANm130q3sI2IPvbDMy/Wln\nti329uWhO91qmdi2mSz2iE7fHTOu9YSxFW1knDuzlrixtm3gj92DuY2STL3gtwd/\n5+RJcENEb7Q9vMm2nBElm4AZACbSoGDdw5rAO9xnprv23PZWtEDNZYTR/RFwnyLL\nGm+8IwlCpv9PnYBM0+aCxU6HF2U59+HGOVujQx3ZJtNv+npHvnVNGZnEL4H+Vx8=\n=lPzm\n-----END PGP SIGNATURE-----\n", "payload": "tree 612594158d3985592e6513ca98bbc4e6acd777e8\nparent b35c60e95e99a02fdc3ce57121aad558164b0f76\nparent 3b02376c8f9ea0d41c164931f60c52bea68df225\nauthor Mark Simulacrum <mark.simulacrum@gmail.com> 1528071484 -0600\ncommitter GitHub <noreply@github.com> 1528071484 -0600\n\nRollup merge of #51317 - oli-obk:incremental_all_the_way, r=Mark-Simulacrum\n\nAllow enabling incremental via config.toml\n\nr? @QuietMisdreavus\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79dd148458ba2e4756fcd86c8e48afbb29ece15d", "html_url": "https://github.com/rust-lang/rust/commit/79dd148458ba2e4756fcd86c8e48afbb29ece15d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79dd148458ba2e4756fcd86c8e48afbb29ece15d/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b35c60e95e99a02fdc3ce57121aad558164b0f76", "url": "https://api.github.com/repos/rust-lang/rust/commits/b35c60e95e99a02fdc3ce57121aad558164b0f76", "html_url": "https://github.com/rust-lang/rust/commit/b35c60e95e99a02fdc3ce57121aad558164b0f76"}, {"sha": "3b02376c8f9ea0d41c164931f60c52bea68df225", "url": "https://api.github.com/repos/rust-lang/rust/commits/3b02376c8f9ea0d41c164931f60c52bea68df225", "html_url": "https://github.com/rust-lang/rust/commit/3b02376c8f9ea0d41c164931f60c52bea68df225"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "5054a8f44b971174adef42ff8a281fbfd857fc26", "filename": "config.toml.example", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/79dd148458ba2e4756fcd86c8e48afbb29ece15d/config.toml.example", "raw_url": "https://github.com/rust-lang/rust/raw/79dd148458ba2e4756fcd86c8e48afbb29ece15d/config.toml.example", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/config.toml.example?ref=79dd148458ba2e4756fcd86c8e48afbb29ece15d", "patch": "@@ -279,6 +279,9 @@\n # Whether or not `panic!`s generate backtraces (RUST_BACKTRACE)\n #backtrace = true\n \n+# Whether to always use incremental compilation when building rustc\n+#incremental = false\n+\n # Build rustc with experimental parallelization\n #experimental-parallel-queries = false\n "}, {"sha": "47feb8a8ab66d51c30733139b79f1fa2c53baf35", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/79dd148458ba2e4756fcd86c8e48afbb29ece15d/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79dd148458ba2e4756fcd86c8e48afbb29ece15d/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=79dd148458ba2e4756fcd86c8e48afbb29ece15d", "patch": "@@ -303,6 +303,7 @@ struct Rust {\n     dist_src: Option<bool>,\n     quiet_tests: Option<bool>,\n     test_miri: Option<bool>,\n+    incremental: Option<bool>,\n     save_toolstates: Option<String>,\n     codegen_backends: Option<Vec<String>>,\n     codegen_backends_dir: Option<String>,\n@@ -529,6 +530,10 @@ impl Config {\n             set(&mut config.rust_dist_src, rust.dist_src);\n             set(&mut config.quiet_tests, rust.quiet_tests);\n             set(&mut config.test_miri, rust.test_miri);\n+            // in the case \"false\" is set explicitly, do not overwrite the command line args\n+            if let Some(true) = rust.incremental {\n+                config.incremental = true;\n+            }\n             set(&mut config.wasm_syscall, rust.wasm_syscall);\n             set(&mut config.lld_enabled, rust.lld);\n             config.rustc_parallel_queries = rust.experimental_parallel_queries.unwrap_or(false);"}]}