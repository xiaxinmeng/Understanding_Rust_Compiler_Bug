{"sha": "d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQwM2ViMmNjMmQ1NTgxYmMxZmFiMTNiZDhlMGM2YmRlZjVmMDBiMTE=", "commit": {"author": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-11-05T19:56:53Z"}, "committer": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-11-07T18:36:10Z"}, "message": "Fix some of the tests\n\n- removed the inherent impls compile-fail test, because we\u2019ll be\nsupporting them\n- remove E0308-2 because it\u2019s gonna be supported now (behind a feature\ngate)\n- replaced the mismatched method receiver error message with something\nbetter, so fixed the tests that that broke", "tree": {"sha": "8bdf3a7de489ff5873a30e35a5cc26ef7cb43d8d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8bdf3a7de489ff5873a30e35a5cc26ef7cb43d8d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11", "html_url": "https://github.com/rust-lang/rust/commit/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11/comments", "author": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a592e61ff36640eb8898724a55aa893454ec7d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a592e61ff36640eb8898724a55aa893454ec7d3", "html_url": "https://github.com/rust-lang/rust/commit/9a592e61ff36640eb8898724a55aa893454ec7d3"}], "stats": {"total": 45, "additions": 7, "deletions": 38}, "files": [{"sha": "8c9fc9551561ddc2d8603d012ece766c8cdcc640", "filename": "src/test/compile-fail/E0308-2.rs", "status": "removed", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/9a592e61ff36640eb8898724a55aa893454ec7d3/src%2Ftest%2Fcompile-fail%2FE0308-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a592e61ff36640eb8898724a55aa893454ec7d3/src%2Ftest%2Fcompile-fail%2FE0308-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0308-2.rs?ref=9a592e61ff36640eb8898724a55aa893454ec7d3", "patch": "@@ -1,20 +0,0 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-use std::rc::Rc;\n-\n-struct Foo;\n-\n-impl Foo {\n-    fn x(self: Rc<Foo>) {} //~ ERROR E0308\n-}\n-\n-fn main() {\n-}"}, {"sha": "6f72636f45e434421859fd3edf322ad691ec5828", "filename": "src/test/compile-fail/arbitrary-self-types-inherent-impl.rs", "status": "removed", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/9a592e61ff36640eb8898724a55aa893454ec7d3/src%2Ftest%2Fcompile-fail%2Farbitrary-self-types-inherent-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9a592e61ff36640eb8898724a55aa893454ec7d3/src%2Ftest%2Fcompile-fail%2Farbitrary-self-types-inherent-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Farbitrary-self-types-inherent-impl.rs?ref=9a592e61ff36640eb8898724a55aa893454ec7d3", "patch": "@@ -1,11 +0,0 @@\n-#![feature(arbitrary_self_types)]\n-\n-use std::rc::Rc;\n-\n-struct Foo;\n-\n-impl Foo {\n-    fn foo(self: Rc<Self>) {} //~ ERROR arbitrary self types are only allowed for trait methods\n-}\n-\n-fn main() {}"}, {"sha": "7eaebe6b26aae8e001d820f81a72d0881c4788ca", "filename": "src/test/compile-fail/feature-gate-arbitrary-self-types.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11/src%2Ftest%2Fcompile-fail%2Ffeature-gate-arbitrary-self-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11/src%2Ftest%2Fcompile-fail%2Ffeature-gate-arbitrary-self-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-arbitrary-self-types.rs?ref=d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11", "patch": "@@ -1,17 +1,17 @@\n use std::rc::Rc;\n \n trait Foo {\n-    fn foo(self: Rc<Box<Self>>); //~ ERROR arbitrary self types are unstable\n+    fn foo(self: Rc<Box<Self>>); //~ ERROR arbitrary `self` types are unstable\n }\n \n struct Bar;\n \n impl Foo for Bar {\n-    fn foo(self: Rc<Box<Self>>) {} //~ ERROR arbitrary self types are unstable\n+    fn foo(self: Rc<Box<Self>>) {} //~ ERROR arbitrary `self` types are unstable\n }\n \n impl Bar {\n-    fn bar(self: Box<Rc<Self>>) {} //~ ERROR arbitrary self types are unstable\n+    fn bar(self: Box<Rc<Self>>) {} //~ ERROR arbitrary `self` types are unstable\n }\n \n fn main() {}"}, {"sha": "7ddd56229ceb772c0a7dd04864b905949a000e92", "filename": "src/test/compile-fail/issue-26194.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11/src%2Ftest%2Fcompile-fail%2Fissue-26194.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11/src%2Ftest%2Fcompile-fail%2Fissue-26194.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-26194.rs?ref=d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11", "patch": "@@ -12,7 +12,7 @@ struct S(String);\n \n impl S {\n     fn f(self: *mut S) -> String { self.0 }\n-    //~^ ERROR mismatched method receiver\n+    //~^ ERROR invalid `self` type\n }\n \n fn main() { S(\"\".to_owned()).f(); }"}, {"sha": "9c98ead4d195569b008d4e841a512b18302f93c8", "filename": "src/test/compile-fail/ufcs-explicit-self-bad.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs?ref=d03eb2cc2d5581bc1fab13bd8e0c6bdef5f00b11", "patch": "@@ -15,7 +15,7 @@ struct Foo {\n }\n \n impl Foo {\n-    fn foo(self: isize, x: isize) -> isize {  //~ ERROR mismatched method receiver\n+    fn foo(self: isize, x: isize) -> isize {  //~ ERROR invalid `self` type\n         self.f + x\n     }\n }\n@@ -25,10 +25,10 @@ struct Bar<T> {\n }\n \n impl<T> Bar<T> {\n-    fn foo(self: Bar<isize>, x: isize) -> isize { //~ ERROR mismatched method receiver\n+    fn foo(self: Bar<isize>, x: isize) -> isize { //~ ERROR invalid `self` type\n         x\n     }\n-    fn bar(self: &Bar<usize>, x: isize) -> isize {   //~ ERROR mismatched method receiver\n+    fn bar(self: &Bar<usize>, x: isize) -> isize {   //~ ERROR invalid `self` type\n         x\n     }\n }"}]}