{"sha": "40ba0e84d53f605ccf01836e9c2d27892728ae81", "node_id": "C_kwDOAAsO6NoAKDQwYmEwZTg0ZDUzZjYwNWNjZjAxODM2ZTljMmQyNzg5MjcyOGFlODE", "commit": {"author": {"name": "Albert Larsan", "email": "74931857+albertlarsan68@users.noreply.github.com", "date": "2023-01-05T08:45:44Z"}, "committer": {"name": "Albert Larsan", "email": "74931857+albertlarsan68@users.noreply.github.com", "date": "2023-01-11T09:32:13Z"}, "message": "Change `src/test` to `tests` in source files, fix tidy and tests", "tree": {"sha": "e8cb2c8310381b238e1b0e3b42f2d313712ba7f8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e8cb2c8310381b238e1b0e3b42f2d313712ba7f8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40ba0e84d53f605ccf01836e9c2d27892728ae81", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEECtuvMkQcAKCG3qpZknCbiLuPE+oFAmO+gh0ACgkQknCbiLuP\nE+pIMw//cOJMvigY2DjS7otLDud73d7Dlgqopf0FuzsgwoqcCFAyl5AS3KPPOrQA\n5S8c5bnVguqCOYyeY/TTzity3XDf/KPbjinTYQuzVHjOTl23uszu/BgHls7nW4ET\n6EUVYo+gsgDCVRtIK/1KmayAOhqCfr2u316bgF7UQph2NSqBu2yeFy3h16wA6SVy\nAeU0yJ3zIqeyKrqtMR7MJRfKKCS6Smbl+WGBjEoK1jHwriqR+rybpdBC9Pw7zWDR\nZ58UlUX3SrapAJjcY1it+0I2IhQzqh8NS4BWaqxRuB0SPEK6tQauThp9A0Cezzqn\nLRIFzA7lSli9GWszPkF3UA6dJeLEHq6vG5m0SkFFA7339vsdTM26fxk8jQVtOuIH\nNpnAt5DRFiZERp/CgrRLU45RQZ38xolrTMtZieYFKOJA/YN4biW7t6w1GY8jxLfa\nU1ruZ9FYE/XwFNiSrRxFFN1t6eqjc3wUJCNj26j3GWAqthkHgwVVFE+U37vQ51kr\nLYoGrFLtj/igznDgaIlycDkt7batvbp6cT3WSN2jfk1uBGFNpdfT8X9f2aDMTyjN\nT3juTMbWzf1jyGVPbdAIexTQ5t9gjqxMGARJ7KCBVG4d7HAL0BPAQbf0eD9RBv6G\n6ukjWFB0kOrG8lWpm1hz2vPohb+yQyJsZRCbBufrnU4GcXQUDdg=\n=GzA1\n-----END PGP SIGNATURE-----", "payload": "tree e8cb2c8310381b238e1b0e3b42f2d313712ba7f8\nparent cf2dff2b1e3fa55fa5415d524200070d0d7aacfe\nauthor Albert Larsan <74931857+albertlarsan68@users.noreply.github.com> 1672908344 +0100\ncommitter Albert Larsan <74931857+albertlarsan68@users.noreply.github.com> 1673429533 +0000\n\nChange `src/test` to `tests` in source files, fix tidy and tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40ba0e84d53f605ccf01836e9c2d27892728ae81", "html_url": "https://github.com/rust-lang/rust/commit/40ba0e84d53f605ccf01836e9c2d27892728ae81", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40ba0e84d53f605ccf01836e9c2d27892728ae81/comments", "author": {"login": "albertlarsan68", "id": 74931857, "node_id": "MDQ6VXNlcjc0OTMxODU3", "avatar_url": "https://avatars.githubusercontent.com/u/74931857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertlarsan68", "html_url": "https://github.com/albertlarsan68", "followers_url": "https://api.github.com/users/albertlarsan68/followers", "following_url": "https://api.github.com/users/albertlarsan68/following{/other_user}", "gists_url": "https://api.github.com/users/albertlarsan68/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertlarsan68/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertlarsan68/subscriptions", "organizations_url": "https://api.github.com/users/albertlarsan68/orgs", "repos_url": "https://api.github.com/users/albertlarsan68/repos", "events_url": "https://api.github.com/users/albertlarsan68/events{/privacy}", "received_events_url": "https://api.github.com/users/albertlarsan68/received_events", "type": "User", "site_admin": false}, "committer": {"login": "albertlarsan68", "id": 74931857, "node_id": "MDQ6VXNlcjc0OTMxODU3", "avatar_url": "https://avatars.githubusercontent.com/u/74931857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertlarsan68", "html_url": "https://github.com/albertlarsan68", "followers_url": "https://api.github.com/users/albertlarsan68/followers", "following_url": "https://api.github.com/users/albertlarsan68/following{/other_user}", "gists_url": "https://api.github.com/users/albertlarsan68/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertlarsan68/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertlarsan68/subscriptions", "organizations_url": "https://api.github.com/users/albertlarsan68/orgs", "repos_url": "https://api.github.com/users/albertlarsan68/repos", "events_url": "https://api.github.com/users/albertlarsan68/events{/privacy}", "received_events_url": "https://api.github.com/users/albertlarsan68/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cf2dff2b1e3fa55fa5415d524200070d0d7aacfe", "url": "https://api.github.com/repos/rust-lang/rust/commits/cf2dff2b1e3fa55fa5415d524200070d0d7aacfe", "html_url": "https://github.com/rust-lang/rust/commit/cf2dff2b1e3fa55fa5415d524200070d0d7aacfe"}], "stats": {"total": 626, "additions": 315, "deletions": 311}, "files": [{"sha": "82048f800d0e889e3318e59f48043e6e515f529f", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -342,7 +342,7 @@ jobs:\n             os: macos-12-xl\n           - name: x86_64-apple-1\n             env:\n-              SCRIPT: \"./x.py --stage 2 test --exclude src/test/ui --exclude src/test/rustdoc --exclude src/test/run-make-fulldeps\"\n+              SCRIPT: \"./x.py --stage 2 test --exclude tests/ui --exclude tests/rustdoc --exclude tests/run-make-fulldeps\"\n               RUST_CONFIGURE_ARGS: \"--build=x86_64-apple-darwin --enable-sanitizers --enable-profiler --set rust.jemalloc --set llvm.ninja=false\"\n               RUSTC_RETRY_LINKER_ON_SEGFAULT: 1\n               MACOSX_DEPLOYMENT_TARGET: 10.8\n@@ -353,7 +353,7 @@ jobs:\n             os: macos-12-xl\n           - name: x86_64-apple-2\n             env:\n-              SCRIPT: \"./x.py --stage 2 test src/test/ui src/test/rustdoc src/test/run-make-fulldeps\"\n+              SCRIPT: \"./x.py --stage 2 test tests/ui tests/rustdoc tests/run-make-fulldeps\"\n               RUST_CONFIGURE_ARGS: \"--build=x86_64-apple-darwin --enable-sanitizers --enable-profiler --set rust.jemalloc --set llvm.ninja=false\"\n               RUSTC_RETRY_LINKER_ON_SEGFAULT: 1\n               MACOSX_DEPLOYMENT_TARGET: 10.8"}, {"sha": "e5ca3e503130f63c8fb35475b0658dd4316a31b5", "filename": ".gitignore", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/.gitignore", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/.gitignore", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.gitignore?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -26,7 +26,7 @@ Session.vim\n .valgrindrc\n .cargo\n # Included because it is part of the test case\n-!/src/test/run-make/thumb-none-qemu/example/.cargo\n+!/tests/run-make/thumb-none-qemu/example/.cargo\n \n ## Configuration\n /config.toml\n@@ -74,6 +74,6 @@ package-lock.json\n package.json\n \n ## Rustdoc GUI tests\n-src/test/rustdoc-gui/src/**.lock\n+tests/rustdoc-gui/src/**.lock\n \n # Before adding new lines, see the comment at the top."}, {"sha": "15cbb2659c9b335ea3f1bb9b77af86f3b74bd8fc", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -51,7 +51,7 @@ exclude = [\n   \"compiler/rustc_codegen_cranelift\",\n   \"compiler/rustc_codegen_gcc\",\n   \"src/bootstrap\",\n-  \"src/test/rustdoc-gui\",\n+  \"tests/rustdoc-gui\",\n   # HACK(eddyb) This hardcodes the fact that our CI uses `/checkout/obj`.\n   \"obj\",\n   # The `x` binary is a thin wrapper that calls `x.py`, which initializes"}, {"sha": "14f082be9ba8c0293797f7aebab975c423085cab", "filename": "compiler/rustc_ast_lowering/src/expr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_ast_lowering%2Fsrc%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_ast_lowering%2Fsrc%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_lowering%2Fsrc%2Fexpr.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -689,8 +689,8 @@ impl<'hir> LoweringContext<'_, 'hir> {\n         // call (like the identity function), as otherwise type and lifetime\n         // inference have a hard time figuring things out.\n         // Without this, we would get:\n-        // E0720 in src/test/ui/impl-trait/in-trait/default-body-with-rpit.rs\n-        // E0700 in src/test/ui/self/self_lifetime-async.rs\n+        // E0720 in tests/ui/impl-trait/in-trait/default-body-with-rpit.rs\n+        // E0700 in tests/ui/self/self_lifetime-async.rs\n \n         // `future::identity_future`:\n         let identity_future ="}, {"sha": "055b281bc2e70fb587aa5a48b2b09b8f4e70080f", "filename": "compiler/rustc_borrowck/src/consumers.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_borrowck%2Fsrc%2Fconsumers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_borrowck%2Fsrc%2Fconsumers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fconsumers.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -25,7 +25,7 @@ pub use super::{\n ///     can, for example, happen when requesting a body of a `const` function\n ///     because they are evaluated during typechecking. The panic can be avoided\n ///     by overriding the `mir_borrowck` query. You can find a complete example\n-///     that shows how to do this at `src/test/run-make/obtain-borrowck/`.\n+///     that shows how to do this at `tests/run-make/obtain-borrowck/`.\n ///\n /// *   Polonius is highly unstable, so expect regular changes in its signature or other details.\n pub fn get_body_with_borrowck_facts("}, {"sha": "6658ee89ad6f1bd0c86c011afc14e83be2413d0b", "filename": "compiler/rustc_borrowck/src/diagnostics/conflict_errors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1737,7 +1737,7 @@ impl<'cx, 'tcx> MirBorrowckCtxt<'cx, 'tcx> {\n \n                 /// We check that there's a single level of block nesting to ensure always correct\n                 /// suggestions. If we don't, then we only provide a free-form message to avoid\n-                /// misleading users in cases like `src/test/ui/nll/borrowed-temporary-error.rs`.\n+                /// misleading users in cases like `tests/ui/nll/borrowed-temporary-error.rs`.\n                 /// We could expand the analysis to suggest hoising all of the relevant parts of\n                 /// the users' code to make the code compile, but that could be too much.\n                 struct NestedStatementVisitor {"}, {"sha": "767f9fe39c68b7162092c6b53e2cb00383373a84", "filename": "compiler/rustc_borrowck/src/region_infer/opaque_types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_borrowck%2Fsrc%2Fregion_infer%2Fopaque_types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_borrowck%2Fsrc%2Fregion_infer%2Fopaque_types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fregion_infer%2Fopaque_types.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -262,7 +262,7 @@ impl<'tcx> InferCtxtExt<'tcx> for InferCtxt<'tcx> {\n             return self.tcx.ty_error();\n         }\n \n-        // Only check this for TAIT. RPIT already supports `src/test/ui/impl-trait/nested-return-type2.rs`\n+        // Only check this for TAIT. RPIT already supports `tests/ui/impl-trait/nested-return-type2.rs`\n         // on stable and we'd break that.\n         let OpaqueTyOrigin::TyAlias = origin else {\n             return definition_ty;"}, {"sha": "12ecb8cf4e17d6473d36610183c6e5224d196db9", "filename": "compiler/rustc_codegen_cranelift/scripts/test_rustc_tests.sh", "status": "modified", "additions": 66, "deletions": 66, "changes": 132, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_codegen_cranelift%2Fscripts%2Ftest_rustc_tests.sh", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_codegen_cranelift%2Fscripts%2Ftest_rustc_tests.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_cranelift%2Fscripts%2Ftest_rustc_tests.sh?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -10,118 +10,118 @@ pushd rust\n \n command -v rg >/dev/null 2>&1 || cargo install ripgrep\n \n-rm -r src/test/ui/{extern/,unsized-locals/,lto/,linkage*} || true\n-for test in $(rg --files-with-matches \"lto|// needs-asm-support|// needs-unwind\" src/test/{ui,incremental}); do\n+rm -r tests/ui/{extern/,unsized-locals/,lto/,linkage*} || true\n+for test in $(rg --files-with-matches \"lto|// needs-asm-support|// needs-unwind\" tests/{ui,incremental}); do\n   rm $test\n done\n \n-for test in $(rg -i --files-with-matches \"//(\\[\\w+\\])?~[^\\|]*\\s*ERR|// error-pattern:|// build-fail|// run-fail|-Cllvm-args\" src/test/ui); do\n+for test in $(rg -i --files-with-matches \"//(\\[\\w+\\])?~[^\\|]*\\s*ERR|// error-pattern:|// build-fail|// run-fail|-Cllvm-args\" tests/ui); do\n   rm $test\n done\n \n-git checkout -- src/test/ui/issues/auxiliary/issue-3136-a.rs # contains //~ERROR, but shouldn't be removed\n-git checkout -- src/test/ui/proc-macro/pretty-print-hack/\n+git checkout -- tests/ui/issues/auxiliary/issue-3136-a.rs # contains //~ERROR, but shouldn't be removed\n+git checkout -- tests/ui/proc-macro/pretty-print-hack/\n \n # missing features\n # ================\n \n # requires stack unwinding\n-rm src/test/incremental/change_crate_dep_kind.rs\n-rm src/test/incremental/issue-80691-bad-eval-cache.rs # -Cpanic=abort causes abort instead of exit(101)\n+rm tests/incremental/change_crate_dep_kind.rs\n+rm tests/incremental/issue-80691-bad-eval-cache.rs # -Cpanic=abort causes abort instead of exit(101)\n \n # requires compiling with -Cpanic=unwind\n-rm -r src/test/ui/macros/rfc-2011-nicer-assert-messages/\n-rm -r src/test/run-make/test-benches\n+rm -r tests/ui/macros/rfc-2011-nicer-assert-messages/\n+rm -r tests/run-make/test-benches\n \n # vendor intrinsics\n-rm src/test/ui/sse2.rs # cpuid not supported, so sse2 not detected\n-rm src/test/ui/intrinsics/const-eval-select-x86_64.rs # requires x86_64 vendor intrinsics\n-rm src/test/ui/simd/array-type.rs # \"Index argument for `simd_insert` is not a constant\"\n-rm src/test/ui/simd/intrinsic/generic-bitmask-pass.rs # simd_bitmask unimplemented\n-rm src/test/ui/simd/intrinsic/generic-as.rs # simd_as unimplemented\n-rm src/test/ui/simd/intrinsic/generic-arithmetic-saturating-pass.rs # simd_saturating_add unimplemented\n-rm src/test/ui/simd/intrinsic/float-math-pass.rs # simd_fcos unimplemented\n-rm src/test/ui/simd/intrinsic/generic-gather-pass.rs # simd_gather unimplemented\n-rm src/test/ui/simd/intrinsic/generic-select-pass.rs # simd_select_bitmask unimplemented\n-rm src/test/ui/simd/issue-85915-simd-ptrs.rs # simd_gather unimplemented\n-rm src/test/ui/simd/issue-89193.rs # simd_gather unimplemented\n-rm src/test/ui/simd/simd-bitmask.rs # simd_bitmask unimplemented\n+rm tests/ui/sse2.rs # cpuid not supported, so sse2 not detected\n+rm tests/ui/intrinsics/const-eval-select-x86_64.rs # requires x86_64 vendor intrinsics\n+rm tests/ui/simd/array-type.rs # \"Index argument for `simd_insert` is not a constant\"\n+rm tests/ui/simd/intrinsic/generic-bitmask-pass.rs # simd_bitmask unimplemented\n+rm tests/ui/simd/intrinsic/generic-as.rs # simd_as unimplemented\n+rm tests/ui/simd/intrinsic/generic-arithmetic-saturating-pass.rs # simd_saturating_add unimplemented\n+rm tests/ui/simd/intrinsic/float-math-pass.rs # simd_fcos unimplemented\n+rm tests/ui/simd/intrinsic/generic-gather-pass.rs # simd_gather unimplemented\n+rm tests/ui/simd/intrinsic/generic-select-pass.rs # simd_select_bitmask unimplemented\n+rm tests/ui/simd/issue-85915-simd-ptrs.rs # simd_gather unimplemented\n+rm tests/ui/simd/issue-89193.rs # simd_gather unimplemented\n+rm tests/ui/simd/simd-bitmask.rs # simd_bitmask unimplemented\n \n # exotic linkages\n-rm src/test/ui/issues/issue-33992.rs # unsupported linkages\n-rm src/test/incremental/hashes/function_interfaces.rs # same\n-rm src/test/incremental/hashes/statics.rs # same\n+rm tests/ui/issues/issue-33992.rs # unsupported linkages\n+rm tests/incremental/hashes/function_interfaces.rs # same\n+rm tests/incremental/hashes/statics.rs # same\n \n # variadic arguments\n-rm src/test/ui/abi/mir/mir_codegen_calls_variadic.rs # requires float varargs\n-rm src/test/ui/abi/variadic-ffi.rs # requires callee side vararg support\n+rm tests/ui/abi/mir/mir_codegen_calls_variadic.rs # requires float varargs\n+rm tests/ui/abi/variadic-ffi.rs # requires callee side vararg support\n \n # unsized locals\n-rm -r src/test/run-pass-valgrind/unsized-locals\n+rm -r tests/run-pass-valgrind/unsized-locals\n \n # misc unimplemented things\n-rm src/test/ui/intrinsics/intrinsic-nearby.rs # unimplemented nearbyintf32 and nearbyintf64 intrinsics\n-rm src/test/ui/target-feature/missing-plusminus.rs # error not implemented\n-rm src/test/ui/fn/dyn-fn-alignment.rs # wants a 256 byte alignment\n-rm -r src/test/run-make/emit-named-files # requires full --emit support\n-rm src/test/ui/abi/stack-probes.rs # stack probes not yet implemented\n-rm src/test/ui/simd/intrinsic/ptr-cast.rs # simd_expose_addr intrinsic unimplemented\n-rm -r src/test/run-make/repr128-dwarf # debuginfo test\n-rm src/test/codegen-units/item-collection/asm-sym.rs # requires support for sym in asm!()\n+rm tests/ui/intrinsics/intrinsic-nearby.rs # unimplemented nearbyintf32 and nearbyintf64 intrinsics\n+rm tests/ui/target-feature/missing-plusminus.rs # error not implemented\n+rm tests/ui/fn/dyn-fn-alignment.rs # wants a 256 byte alignment\n+rm -r tests/run-make/emit-named-files # requires full --emit support\n+rm tests/ui/abi/stack-probes.rs # stack probes not yet implemented\n+rm tests/ui/simd/intrinsic/ptr-cast.rs # simd_expose_addr intrinsic unimplemented\n+rm -r tests/run-make/repr128-dwarf # debuginfo test\n+rm tests/codegen-units/item-collection/asm-sym.rs # requires support for sym in asm!()\n \n # optimization tests\n # ==================\n-rm src/test/ui/codegen/issue-28950.rs # depends on stack size optimizations\n-rm src/test/ui/codegen/init-large-type.rs # same\n-rm src/test/ui/issues/issue-40883.rs # same\n-rm -r src/test/run-make/fmt-write-bloat/ # tests an optimization\n+rm tests/ui/codegen/issue-28950.rs # depends on stack size optimizations\n+rm tests/ui/codegen/init-large-type.rs # same\n+rm tests/ui/issues/issue-40883.rs # same\n+rm -r tests/run-make/fmt-write-bloat/ # tests an optimization\n \n # backend specific tests\n # ======================\n-rm src/test/incremental/thinlto/cgu_invalidated_when_import_{added,removed}.rs # requires LLVM\n-rm src/test/ui/abi/stack-protector.rs # requires stack protector support\n+rm tests/incremental/thinlto/cgu_invalidated_when_import_{added,removed}.rs # requires LLVM\n+rm tests/ui/abi/stack-protector.rs # requires stack protector support\n \n # giving different but possibly correct results\n # =============================================\n-rm src/test/ui/mir/mir_misc_casts.rs # depends on deduplication of constants\n-rm src/test/ui/mir/mir_raw_fat_ptr.rs # same\n-rm src/test/ui/consts/issue-33537.rs # same\n-rm src/test/ui/layout/valid_range_oob.rs # different ICE message\n+rm tests/ui/mir/mir_misc_casts.rs # depends on deduplication of constants\n+rm tests/ui/mir/mir_raw_fat_ptr.rs # same\n+rm tests/ui/consts/issue-33537.rs # same\n+rm tests/ui/layout/valid_range_oob.rs # different ICE message\n \n # doesn't work due to the way the rustc test suite is invoked.\n # should work when using ./x.py test the way it is intended\n # ============================================================\n-rm -r src/test/run-make/emit-shared-files # requires the rustdoc executable in dist/bin/\n-rm -r src/test/run-make/unstable-flag-required # same\n-rm -r src/test/run-make/rustdoc-* # same\n-rm -r src/test/run-make/issue-88756-default-output # same\n-rm -r src/test/run-make/remap-path-prefix-dwarf # requires llvm-dwarfdump\n-rm -r src/test/ui/consts/missing_span_in_backtrace.rs # expects sysroot source to be elsewhere\n+rm -r tests/run-make/emit-shared-files # requires the rustdoc executable in dist/bin/\n+rm -r tests/run-make/unstable-flag-required # same\n+rm -r tests/run-make/rustdoc-* # same\n+rm -r tests/run-make/issue-88756-default-output # same\n+rm -r tests/run-make/remap-path-prefix-dwarf # requires llvm-dwarfdump\n+rm -r tests/ui/consts/missing_span_in_backtrace.rs # expects sysroot source to be elsewhere\n \n # genuine bugs\n # ============\n-rm src/test/incremental/spike-neg1.rs # errors out for some reason\n-rm src/test/incremental/spike-neg2.rs # same\n-rm src/test/ui/issues/issue-74564-if-expr-stack-overflow.rs # gives a stackoverflow before the backend runs\n-rm src/test/ui/mir/ssa-analysis-regression-50041.rs # produces ICE\n-rm src/test/ui/type-alias-impl-trait/assoc-projection-ice.rs # produces ICE\n+rm tests/incremental/spike-neg1.rs # errors out for some reason\n+rm tests/incremental/spike-neg2.rs # same\n+rm tests/ui/issues/issue-74564-if-expr-stack-overflow.rs # gives a stackoverflow before the backend runs\n+rm tests/ui/mir/ssa-analysis-regression-50041.rs # produces ICE\n+rm tests/ui/type-alias-impl-trait/assoc-projection-ice.rs # produces ICE\n \n-rm src/test/ui/simd/intrinsic/generic-reduction-pass.rs # simd_reduce_add_unordered doesn't accept an accumulator for integer vectors\n+rm tests/ui/simd/intrinsic/generic-reduction-pass.rs # simd_reduce_add_unordered doesn't accept an accumulator for integer vectors\n \n-rm src/test/ui/runtime/out-of-stack.rs # SIGSEGV instead of SIGABRT for some reason (#1301)\n+rm tests/ui/runtime/out-of-stack.rs # SIGSEGV instead of SIGABRT for some reason (#1301)\n \n # bugs in the test suite\n # ======================\n-rm src/test/ui/backtrace.rs # TODO warning\n-rm src/test/ui/simple_global_asm.rs # TODO add needs-asm-support\n-rm src/test/ui/test-attrs/test-type.rs # TODO panic message on stderr. correct stdout\n+rm tests/ui/backtrace.rs # TODO warning\n+rm tests/ui/simple_global_asm.rs # TODO add needs-asm-support\n+rm tests/ui/test-attrs/test-type.rs # TODO panic message on stderr. correct stdout\n # not sure if this is actually a bug in the test suite, but the symbol list shows the function without leading _ for some reason\n-rm -r src/test/run-make/native-link-modifier-bundle\n-rm src/test/ui/process/nofile-limit.rs # TODO some AArch64 linking issue\n-rm src/test/ui/dyn-star/dispatch-on-pin-mut.rs # TODO failed assertion in vtable::get_ptr_and_method_ref\n+rm -r tests/run-make/native-link-modifier-bundle\n+rm tests/ui/process/nofile-limit.rs # TODO some AArch64 linking issue\n+rm tests/ui/dyn-star/dispatch-on-pin-mut.rs # TODO failed assertion in vtable::get_ptr_and_method_ref\n \n-rm src/test/ui/stdio-is-blocking.rs # really slow with unoptimized libstd\n+rm tests/ui/stdio-is-blocking.rs # really slow with unoptimized libstd\n \n echo \"[TEST] rustc test suite\"\n-RUST_TEST_NOCAPTURE=1 COMPILETEST_FORCE_STAGE0=1 ./x.py test --stage 0 src/test/{codegen-units,run-make,run-pass-valgrind,ui,incremental}\n+RUST_TEST_NOCAPTURE=1 COMPILETEST_FORCE_STAGE0=1 ./x.py test --stage 0 tests/{codegen-units,run-make,run-pass-valgrind,ui,incremental}\n popd"}, {"sha": "c5ffb763673d291c30391612140cec68cbc6bc34", "filename": "compiler/rustc_codegen_gcc/test.sh", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_codegen_gcc%2Ftest.sh", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_codegen_gcc%2Ftest.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_gcc%2Ftest.sh?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -253,25 +253,25 @@ rustc = \"$HOME/.rustup/toolchains/$rust_toolchain-$TARGET_TRIPLE/bin/rustc\"\n EOF\n \n     rustc -V | cut -d' ' -f3 | tr -d '('\n-    git checkout $(rustc -V | cut -d' ' -f3 | tr -d '(') src/test\n+    git checkout $(rustc -V | cut -d' ' -f3 | tr -d '(') tests\n \n-    for test in $(rg -i --files-with-matches \"//(\\[\\w+\\])?~|// error-pattern:|// build-fail|// run-fail|-Cllvm-args\" src/test/ui); do\n+    for test in $(rg -i --files-with-matches \"//(\\[\\w+\\])?~|// error-pattern:|// build-fail|// run-fail|-Cllvm-args\" tests/ui); do\n       rm $test\n     done\n \n-    git checkout -- src/test/ui/issues/auxiliary/issue-3136-a.rs # contains //~ERROR, but shouldn't be removed\n+    git checkout -- tests/ui/issues/auxiliary/issue-3136-a.rs # contains //~ERROR, but shouldn't be removed\n \n-    rm -r src/test/ui/{abi*,extern/,panic-runtime/,panics/,unsized-locals/,proc-macro/,threads-sendsync/,thinlto/,borrowck/,test*,*lto*.rs} || true\n-    for test in $(rg --files-with-matches \"catch_unwind|should_panic|thread|lto\" src/test/ui); do\n+    rm -r tests/ui/{abi*,extern/,panic-runtime/,panics/,unsized-locals/,proc-macro/,threads-sendsync/,thinlto/,borrowck/,test*,*lto*.rs} || true\n+    for test in $(rg --files-with-matches \"catch_unwind|should_panic|thread|lto\" tests/ui); do\n       rm $test\n     done\n-    git checkout src/test/ui/type-alias-impl-trait/auxiliary/cross_crate_ice.rs\n-    git checkout src/test/ui/type-alias-impl-trait/auxiliary/cross_crate_ice2.rs\n+    git checkout tests/ui/type-alias-impl-trait/auxiliary/cross_crate_ice.rs\n+    git checkout tests/ui/type-alias-impl-trait/auxiliary/cross_crate_ice2.rs\n \n     RUSTC_ARGS=\"-Zpanic-abort-tests -Csymbol-mangling-version=v0 -Zcodegen-backend=\"$(pwd)\"/../target/\"$CHANNEL\"/librustc_codegen_gcc.\"$dylib_ext\" --sysroot \"$(pwd)\"/../build_sysroot/sysroot -Cpanic=abort\"\n \n     echo \"[TEST] rustc test suite\"\n-    COMPILETEST_FORCE_STAGE0=1 ./x.py test --run always --stage 0 src/test/ui/ --rustc-args \"$RUSTC_ARGS\"\n+    COMPILETEST_FORCE_STAGE0=1 ./x.py test --run always --stage 0 tests/ui/ --rustc-args \"$RUSTC_ARGS\"\n }\n \n function clean_ui_tests() {"}, {"sha": "cf4e875c91f0b57b12abcf2ad4dee083e10fbd77", "filename": "compiler/rustc_const_eval/src/transform/check_consts/post_drop_elaboration.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fpost_drop_elaboration.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fpost_drop_elaboration.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fpost_drop_elaboration.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -95,7 +95,7 @@ impl<'tcx> Visitor<'tcx> for CheckLiveDrops<'_, 'tcx> {\n                 }\n \n                 // Drop elaboration is not precise enough to accept code like\n-                // `src/test/ui/consts/control-flow/drop-pass.rs`; e.g., when an `Option<Vec<T>>` is\n+                // `tests/ui/consts/control-flow/drop-pass.rs`; e.g., when an `Option<Vec<T>>` is\n                 // initialized with `None` and never changed, it still emits drop glue.\n                 // Hence we additionally check the qualifs here to allow more code to pass.\n                 if self.qualifs.needs_non_const_drop(self.ccx, dropped_place.local, location) {"}, {"sha": "5368dc0735bc1994e6e4135284ef9616dbb50820", "filename": "compiler/rustc_hir_analysis/src/astconv/errors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Ferrors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Ferrors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Ferrors.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -267,7 +267,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                 // segments, even though `trait_ref.path.segments` is of length `1`. Work\n                 // around that bug here, even though it should be fixed elsewhere.\n                 // This would otherwise cause an invalid suggestion. For an example, look at\n-                // `src/test/ui/issues/issue-28344.rs` where instead of the following:\n+                // `tests/ui/issues/issue-28344.rs` where instead of the following:\n                 //\n                 //   error[E0191]: the value of the associated type `Output`\n                 //                 (from trait `std::ops::BitXor`) must be specified"}, {"sha": "a0e086bc26103c408a21e31919749129b6366f7e", "filename": "compiler/rustc_hir_typeck/src/coercion.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fcoercion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fcoercion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fcoercion.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -13,7 +13,7 @@\n //! useful for freezing mut things (that is, when the expected type is &T\n //! but you have &mut T) and also for avoiding the linearity\n //! of mut things (when the expected is &mut T and you have &mut T). See\n-//! the various `src/test/ui/coerce/*.rs` tests for\n+//! the various `tests/ui/coerce/*.rs` tests for\n //! examples of where this is useful.\n //!\n //! ## Subtle note"}, {"sha": "6c128d0aa1a658ffa149a45c995d75d0c3b3c555", "filename": "compiler/rustc_hir_typeck/src/demand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1855,7 +1855,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         let mut expectation = Some(expected_ty);\n         while let hir::ExprKind::MethodCall(_, rcvr, ..) = expr.kind {\n             // Getting to the root receiver and asserting it is a fn call let's us ignore cases in\n-            // `src/test/ui/methods/issues/issue-90315.stderr`.\n+            // `tests/ui/methods/issues/issue-90315.stderr`.\n             expr = rcvr;\n             // If we have more than one layer of calls, then the expected ty\n             // cannot guide the method probe."}, {"sha": "2cc7b357c0a466afdce888e0f5998f8e532e0771", "filename": "compiler/rustc_hir_typeck/src/fallback.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Ffallback.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Ffallback.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Ffallback.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -308,7 +308,7 @@ impl<'tcx> FnCtxt<'_, 'tcx> {\n \n             if relationship.self_in_trait && relationship.output {\n                 // This case falls back to () to ensure that the code pattern in\n-                // src/test/ui/never_type/fallback-closure-ret.rs continues to\n+                // tests/ui/never_type/fallback-closure-ret.rs continues to\n                 // compile when never_type_fallback is enabled.\n                 //\n                 // This rule is not readily explainable from first principles,"}, {"sha": "47c4b7d7431938d226e6ec6f201b362d2611dc33", "filename": "compiler/rustc_hir_typeck/src/fn_ctxt/_impl.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2F_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2F_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2F_impl.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -670,8 +670,8 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         // Note: this check is pessimistic, as the inference type could be matched with something other\n         // than the opaque type, but then we need a new `TypeRelation` just for this specific case and\n         // can't re-use `sup` below.\n-        // See src/test/ui/impl-trait/hidden-type-is-opaque.rs and\n-        // src/test/ui/impl-trait/hidden-type-is-opaque-2.rs for examples that hit this path.\n+        // See tests/ui/impl-trait/hidden-type-is-opaque.rs and\n+        // tests/ui/impl-trait/hidden-type-is-opaque-2.rs for examples that hit this path.\n         if formal_ret.has_infer_types() {\n             for ty in ret_ty.walk() {\n                 if let ty::subst::GenericArgKind::Type(ty) = ty.unpack()"}, {"sha": "7990d95310be59489989d8d4753c74b39aaa7eb1", "filename": "compiler/rustc_hir_typeck/src/generator_interior/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fgenerator_interior%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fgenerator_interior%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fgenerator_interior%2Fmod.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -448,7 +448,7 @@ impl<'a, 'tcx> Visitor<'tcx> for InteriorVisitor<'a, 'tcx> {\n         // the yield, even if it's not borrowed or referenced after the yield. Ideally this would\n         // *only* happen for types with observable drop, not all types which wrap them, but that\n         // doesn't match the behavior of MIR borrowck and causes ICEs. See the FIXME comment in\n-        // src/test/ui/generator/drop-tracking-parent-expression.rs.\n+        // tests/ui/generator/drop-tracking-parent-expression.rs.\n         let scope = if self.drop_ranges.is_borrowed_temporary(expr)\n             || ty.map_or(true, |ty| {\n                 // Avoid ICEs in needs_drop."}, {"sha": "7d2ba1fd09df59f999cf4c45196f60e53906f7f6", "filename": "compiler/rustc_hir_typeck/src/method/confirm.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fconfirm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fconfirm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fconfirm.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -90,7 +90,7 @@ impl<'a, 'tcx> ConfirmContext<'a, 'tcx> {\n         // If there is a `Self: Sized` bound and `Self` is a trait object, it is possible that\n         // something which derefs to `Self` actually implements the trait and the caller\n         // wanted to make a static dispatch on it but forgot to import the trait.\n-        // See test `src/test/ui/issue-35976.rs`.\n+        // See test `tests/ui/issue-35976.rs`.\n         //\n         // In that case, we'll error anyway, but we'll also re-run the search with all traits\n         // in scope, and if we find another method which can be used, we'll output an"}, {"sha": "5d8383170f0dcd7508acc8a2a78a7359206faf70", "filename": "compiler/rustc_hir_typeck/src/method/probe.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fprobe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fprobe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fprobe.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1713,7 +1713,7 @@ impl<'a, 'tcx> ProbeContext<'a, 'tcx> {\n     /// probe. This will result in a pending obligation so when more type-info is available we can\n     /// make the final decision.\n     ///\n-    /// Example (`src/test/ui/method-two-trait-defer-resolution-1.rs`):\n+    /// Example (`tests/ui/method-two-trait-defer-resolution-1.rs`):\n     ///\n     /// ```ignore (illustrative)\n     /// trait Foo { ... }"}, {"sha": "e12a575d5acde1278a19d7b36ee036b8b3a3695d", "filename": "compiler/rustc_hir_typeck/src/upvar.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fupvar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_hir_typeck%2Fsrc%2Fupvar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fupvar.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -663,7 +663,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         // fields of some type, the observable drop order will remain the same as it previously\n         // was even though we're dropping each capture individually.\n         // See https://github.com/rust-lang/project-rfc-2229/issues/42 and\n-        // `src/test/ui/closures/2229_closure_analysis/preserve_field_drop_order.rs`.\n+        // `tests/ui/closures/2229_closure_analysis/preserve_field_drop_order.rs`.\n         for (_, captures) in &mut root_var_min_capture_list {\n             captures.sort_by(|capture1, capture2| {\n                 for (p1, p2) in capture1.place.projections.iter().zip(&capture2.place.projections) {"}, {"sha": "77e38e47fcfa0b5ee9eb1e0dfd676ac9dae4ecab", "filename": "compiler/rustc_infer/src/infer/combine.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fcombine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fcombine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fcombine.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -219,7 +219,7 @@ impl<'tcx> InferCtxt<'tcx> {\n     ///\n     /// As `3 + 4` contains `N` in its substs, this must not succeed.\n     ///\n-    /// See `src/test/ui/const-generics/occurs-check/` for more examples where this is relevant.\n+    /// See `tests/ui/const-generics/occurs-check/` for more examples where this is relevant.\n     #[instrument(level = \"debug\", skip(self))]\n     fn unify_const_variable(\n         &self,"}, {"sha": "66db1a2f92890fd53fb7f1bce5d30a4cc9b73e02", "filename": "compiler/rustc_infer/src/infer/error_reporting/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fmod.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -310,7 +310,7 @@ pub fn unexpected_hidden_region_diagnostic<'tcx>(\n             // Ugh. This is a painful case: the hidden region is not one\n             // that we can easily summarize or explain. This can happen\n             // in a case like\n-            // `src/test/ui/multiple-lifetimes/ordinary-bounds-unsuited.rs`:\n+            // `tests/ui/multiple-lifetimes/ordinary-bounds-unsuited.rs`:\n             //\n             // ```\n             // fn upper_bounds<'a, 'b>(a: Ordinary<'a>, b: Ordinary<'b>) -> impl Trait<'a, 'b> {\n@@ -1395,7 +1395,7 @@ impl<'tcx> TypeErrCtxt<'_, 'tcx> {\n     /// `swap_secondary_and_primary` is used to make projection errors in particular nicer by using\n     /// the message in `secondary_span` as the primary label, and apply the message that would\n     /// otherwise be used for the primary label on the `secondary_span` `Span`. This applies on\n-    /// E0271, like `src/test/ui/issues/issue-39970.stderr`.\n+    /// E0271, like `tests/ui/issues/issue-39970.stderr`.\n     #[instrument(\n         level = \"debug\",\n         skip(self, diag, secondary_span, swap_secondary_and_primary, prefer_label)"}, {"sha": "d4b1cfe433723c26157c035d3a66a07bfe8fb0bf", "filename": "compiler/rustc_mir_transform/src/unreachable_prop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_mir_transform%2Fsrc%2Funreachable_prop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_mir_transform%2Fsrc%2Funreachable_prop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Funreachable_prop.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -87,7 +87,7 @@ where\n                 // unless otherwise is unreachable, in which case deleting a normal branch causes it to be merged with\n                 // the otherwise, keeping its unreachable.\n                 // This looses information about reachability causing worse codegen.\n-                // For example (see src/test/codegen/match-optimizes-away.rs)\n+                // For example (see tests/codegen/match-optimizes-away.rs)\n                 //\n                 // pub enum Two { A, B }\n                 // pub fn identity(x: Two) -> Two {"}, {"sha": "564cb1baa690914fca320ceb77a56a07e17b5706", "filename": "compiler/rustc_privacy/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_privacy%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_privacy%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_privacy%2Fsrc%2Flib.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1755,7 +1755,7 @@ impl SearchInterfaceForPrivateItemsVisitor<'_> {\n         // clauses that the compiler inferred. We only want to\n         // consider the ones that the user wrote. This is important\n         // for the inferred outlives rules; see\n-        // `src/test/ui/rfc-2093-infer-outlives/privacy.rs`.\n+        // `tests/ui/rfc-2093-infer-outlives/privacy.rs`.\n         self.visit_predicates(self.tcx.explicit_predicates_of(self.item_def_id));\n         self\n     }"}, {"sha": "58f6fd2b006ffdab465124685911464d99a31a7f", "filename": "compiler/rustc_resolve/src/build_reduced_graph.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_resolve%2Fsrc%2Fbuild_reduced_graph.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_resolve%2Fsrc%2Fbuild_reduced_graph.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Fbuild_reduced_graph.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -514,7 +514,7 @@ impl<'a, 'b> BuildReducedGraphVisitor<'a, 'b> {\n                             ModuleKind::Block => unreachable!(),\n                         };\n                         // HACK(eddyb) unclear how good this is, but keeping `$crate`\n-                        // in `source` breaks `src/test/ui/imports/import-crate-var.rs`,\n+                        // in `source` breaks `tests/ui/imports/import-crate-var.rs`,\n                         // while the current crate doesn't have a valid `crate_name`.\n                         if crate_name != kw::Empty {\n                             // `crate_name` should not be interpreted as relative."}, {"sha": "258d2e2d28c9db5db8efc8e8dfcfb9b734d20be0", "filename": "compiler/rustc_trait_selection/src/traits/coherence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -749,7 +749,7 @@ impl<'tcx> TypeVisitor<'tcx> for OrphanChecker<'tcx> {\n     ///\n     /// This means that we can completely ignore constants during the orphan check.\n     ///\n-    /// See `src/test/ui/coherence/const-generics-orphan-check-ok.rs` for examples.\n+    /// See `tests/ui/coherence/const-generics-orphan-check-ok.rs` for examples.\n     ///\n     /// [^1]: This might not hold for function pointers or trait objects in the future.\n     /// As these should be quite rare as const arguments and especially rare as impl"}, {"sha": "81966f3fcb231791b5cc098dab611e9b81fde698", "filename": "compiler/rustc_trait_selection/src/traits/project.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -282,7 +282,7 @@ fn project_and_unify_type<'cx, 'tcx>(\n     };\n     debug!(?normalized, ?obligations, \"project_and_unify_type result\");\n     let actual = obligation.predicate.term;\n-    // For an example where this is necessary see src/test/ui/impl-trait/nested-return-type2.rs\n+    // For an example where this is necessary see tests/ui/impl-trait/nested-return-type2.rs\n     // This allows users to omit re-mentioning all bounds on an associated type and just use an\n     // `impl Trait` for the assoc type to add more bounds.\n     let InferOk { value: actual, obligations: new } ="}, {"sha": "fec4047ff49ba4d4a675b7cd97c4bd8d31c1085a", "filename": "compiler/rustc_trait_selection/src/traits/wf.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fwf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fwf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fwf.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -232,7 +232,7 @@ fn extend_cause_with_original_assoc_item_obligation<'tcx>(\n             // The obligation comes not from the current `impl` nor the `trait` being implemented,\n             // but rather from a \"second order\" obligation, where an associated type has a\n             // projection coming from another associated type. See\n-            // `src/test/ui/associated-types/point-at-type-on-obligation-failure.rs` and\n+            // `tests/ui/associated-types/point-at-type-on-obligation-failure.rs` and\n             // `traits-assoc-type-in-supertrait-bad.rs`.\n             if let Some(ty::Alias(ty::Projection, projection_ty)) = proj.term.ty().map(|ty| ty.kind())\n                 && let Some(&impl_item_id) =\n@@ -640,7 +640,7 @@ impl<'tcx> WfPredicates<'tcx> {\n                     // hidden type that is not actually well formed and\n                     // can cause compiler crashes when the user abuses unsafe\n                     // code to procure such a closure.\n-                    // See src/test/ui/type-alias-impl-trait/wf_check_closures.rs\n+                    // See tests/ui/type-alias-impl-trait/wf_check_closures.rs\n                     let obligations = self.nominal_obligations(did, substs);\n                     self.out.extend(obligations);\n                 }"}, {"sha": "dc1dd1bfaf8e7f30ddd14374c59375957472ed3c", "filename": "compiler/rustc_ty_utils/src/abi.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_ty_utils%2Fsrc%2Fabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/compiler%2Frustc_ty_utils%2Fsrc%2Fabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Fabi.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -35,7 +35,7 @@ fn fn_sig_for_fn_abi<'tcx>(\n             // HACK(davidtwco,eddyb): This is a workaround for polymorphization considering\n             // parameters unused if they show up in the signature, but not in the `mir::Body`\n             // (i.e. due to being inside a projection that got normalized, see\n-            // `src/test/ui/polymorphization/normalized_sig_types.rs`), and codegen not keeping\n+            // `tests/ui/polymorphization/normalized_sig_types.rs`), and codegen not keeping\n             // track of a polymorphization `ParamEnv` to allow normalizing later.\n             //\n             // We normalize the `fn_sig` again after substituting at a later point."}, {"sha": "4c87f633a260919fb958b204c0cdf6c1a2ff9aaf", "filename": "library/std/src/sys/unix/process/process_unix/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix%2Ftests.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -3,7 +3,7 @@ use crate::panic::catch_unwind;\n use crate::process::Command;\n \n // Many of the other aspects of this situation, including heap alloc concurrency\n-// safety etc., are tested in src/test/ui/process/process-panic-after-fork.rs\n+// safety etc., are tested in tests/ui/process/process-panic-after-fork.rs\n \n #[test]\n fn exitstatus_display_tests() {"}, {"sha": "828d492a3d19c892b53168bbe8f280641f6b28bd", "filename": "rustfmt.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/rustfmt.toml", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/rustfmt.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustfmt.toml?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -13,7 +13,7 @@ ignore = [\n \n     # tests for now are not formatted, as they are sometimes pretty-printing constrained\n     # (and generally rustfmt can move around comments in UI-testing incompatible ways)\n-    \"src/test\",\n+    \"tests\",\n \n     # do not format submodules\n     \"library/backtrace\","}, {"sha": "8dce9e79e16b88aeecae40e1b00219f0cfdb1448", "filename": "src/bootstrap/README.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2FREADME.md?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -59,10 +59,10 @@ The script accepts commands, flags, and arguments to determine what to do:\n   ./x.py test tidy\n \n   # execute the UI test suite\n-  ./x.py test src/test/ui\n+  ./x.py test tests/ui\n \n   # execute only some tests in the UI test suite\n-  ./x.py test src/test/ui --test-args substring-of-test-name\n+  ./x.py test tests/ui --test-args substring-of-test-name\n \n   # execute tests in the standard library in stage0\n   ./x.py test --stage 0 library/std"}, {"sha": "52a83fa29c7047b3596a30d78a675cba601293bd", "filename": "src/bootstrap/builder.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -191,9 +191,9 @@ pub enum PathSet {\n     /// A \"suite\" of paths.\n     ///\n     /// These can match as a path suffix (like `Set`), or as a prefix. For\n-    /// example, a command-line value of `src/test/ui/abi/variadic-ffi.rs`\n-    /// will match `src/test/ui`. A command-line value of `ui` would also\n-    /// match `src/test/ui`.\n+    /// example, a command-line value of `tests/ui/abi/variadic-ffi.rs`\n+    /// will match `tests/ui`. A command-line value of `ui` would also\n+    /// match `tests/ui`.\n     Suite(TaskPath),\n }\n "}, {"sha": "d5fcd107502e3b84082a924b6dd89385a012351d", "filename": "src/bootstrap/builder/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fbuilder%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fbuilder%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder%2Ftests.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -78,7 +78,7 @@ macro_rules! rustc {\n #[test]\n fn test_valid() {\n     // make sure multi suite paths are accepted\n-    check_cli([\"test\", \"src/test/ui/attr-start.rs\", \"src/test/ui/attr-shebang.rs\"]);\n+    check_cli([\"test\", \"tests/ui/attr-start.rs\", \"tests/ui/attr-shebang.rs\"]);\n }\n \n #[test]"}, {"sha": "68d1db0160a2e7cd0872fd56dd6003245f9acc7d", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1193,7 +1193,7 @@ impl Step for Sysroot {\n             );\n             if builder.config.rust_remap_debuginfo {\n                 eprintln!(\n-                    \"warning: some `src/test/ui` tests will fail when lacking `{}`\",\n+                    \"warning: some `tests/ui` tests will fail when lacking `{}`\",\n                     sysroot_lib_rustlib_src_rust.display(),\n                 );\n             }"}, {"sha": "0af329e7007ac7016f4f1df9e0104f1804a71c28", "filename": "src/bootstrap/configure.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fconfigure.py", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fconfigure.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfigure.py?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -45,7 +45,7 @@ def v(*args):\n o(\"llvm-link-shared\", \"llvm.link-shared\", \"prefer shared linking to LLVM (llvm-config --link-shared)\")\n o(\"rpath\", \"rust.rpath\", \"build rpaths into rustc itself\")\n o(\"llvm-version-check\", \"llvm.version-check\", \"check if the LLVM version is supported, build anyway\")\n-o(\"codegen-tests\", \"rust.codegen-tests\", \"run the src/test/codegen tests\")\n+o(\"codegen-tests\", \"rust.codegen-tests\", \"run the tests/codegen tests\")\n o(\"option-checking\", None, \"complain about unrecognized options in this configure script\")\n o(\"ninja\", \"llvm.ninja\", \"build LLVM using the Ninja generator (for MSVC, requires building in the correct environment)\")\n o(\"locked-deps\", \"build.locked-deps\", \"force Cargo.lock to be up to date\")"}, {"sha": "52c3dc0bf7591b6a03ea000519151e8fe2d76e7a", "filename": "src/bootstrap/flags.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fflags.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fflags.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fflags.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -487,13 +487,13 @@ Arguments:\n     This subcommand accepts a number of paths to test directories that\n     should be compiled and run. For example:\n \n-        ./x.py test src/test/ui\n+        ./x.py test tests/ui\n         ./x.py test library/std --test-args hash_map\n         ./x.py test library/std --stage 0 --no-doc\n-        ./x.py test src/test/ui --bless\n-        ./x.py test src/test/ui --compare-mode chalk\n+        ./x.py test tests/ui --bless\n+        ./x.py test tests/ui --compare-mode chalk\n \n-    Note that `test src/test/* --stage N` does NOT depend on `build compiler/rustc --stage N`;\n+    Note that `test tests/* --stage N` does NOT depend on `build compiler/rustc --stage N`;\n     just like `build library/std --stage N` it tests the compiler produced by the previous\n     stage.\n "}, {"sha": "d54a21b9f16415d24ed1e555b5ff5708f4154eb0", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -58,7 +58,7 @@ prepare:\n \t$(Q)$(BOOTSTRAP) build --stage 2 nonexistent/path/to/trigger/cargo/metadata\n \n TESTS_IN_2 := \\\n-\tsrc/test/ui \\\n+\ttests/ui \\\n \tsrc/tools/linkchecker\n \n ## MSVC native builders\n@@ -72,7 +72,7 @@ ci-subset-2:\n ## MingW native builders\n \n TESTS_IN_MINGW_2 := \\\n-\tsrc/test/ui\n+\ttests/ui\n \n ci-mingw-subset-1:\n \t$(Q)$(CFG_SRC_DIR)/x test --stage 2 $(TESTS_IN_MINGW_2:%=--exclude %)"}, {"sha": "e0d1504c9c780a85ae83d32f81ae8fc0c7086375", "filename": "src/bootstrap/native.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fnative.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -907,7 +907,7 @@ impl Step for TestHelpers {\n     type Output = ();\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n-        run.path(\"src/test/auxiliary/rust_test_helpers.c\")\n+        run.path(\"tests/auxiliary/rust_test_helpers.c\")\n     }\n \n     fn make_run(run: RunConfig<'_>) {\n@@ -929,7 +929,7 @@ impl Step for TestHelpers {\n             self.target\n         };\n         let dst = builder.test_helpers_out(target);\n-        let src = builder.src.join(\"src/test/auxiliary/rust_test_helpers.c\");\n+        let src = builder.src.join(\"tests/auxiliary/rust_test_helpers.c\");\n         if up_to_date(&src, &dst.join(\"librust_test_helpers.a\")) {\n             return;\n         }\n@@ -958,7 +958,7 @@ impl Step for TestHelpers {\n             .opt_level(0)\n             .warnings(false)\n             .debug(false)\n-            .file(builder.src.join(\"src/test/auxiliary/rust_test_helpers.c\"))\n+            .file(builder.src.join(\"tests/auxiliary/rust_test_helpers.c\"))\n             .compile(\"rust_test_helpers\");\n     }\n }"}, {"sha": "004601cb68b10b1dbc36f2c5e3bb37e7c86af23c", "filename": "src/bootstrap/setup.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fsetup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Fsetup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fsetup.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -144,7 +144,7 @@ pub fn setup(config: &Config, profile: Profile) {\n         Profile::Tools => &[\n             \"check\",\n             \"build\",\n-            \"test src/test/rustdoc*\",\n+            \"test tests/rustdoc*\",\n             \"test src/tools/clippy\",\n             \"test src/tools/miri\",\n             \"test src/tools/rustfmt\","}, {"sha": "159f2fba671c99c6f1e46bbe1ca43ea604a0b906", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 30, "deletions": 38, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -841,7 +841,7 @@ impl Step for RustdocJSStd {\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n-        run.suite_path(\"src/test/rustdoc-js-std\")\n+        run.suite_path(\"tests/rustdoc-js-std\")\n     }\n \n     fn make_run(run: RunConfig<'_>) {\n@@ -860,10 +860,10 @@ impl Step for RustdocJSStd {\n                 .arg(\"--doc-folder\")\n                 .arg(builder.doc_out(self.target))\n                 .arg(\"--test-folder\")\n-                .arg(builder.src.join(\"src/test/rustdoc-js-std\"));\n+                .arg(builder.src.join(\"tests/rustdoc-js-std\"));\n             for path in &builder.paths {\n                 if let Some(p) =\n-                    util::is_valid_test_suite_arg(path, \"src/test/rustdoc-js-std\", builder)\n+                    util::is_valid_test_suite_arg(path, \"tests/rustdoc-js-std\", builder)\n                 {\n                     if !p.ends_with(\".js\") {\n                         eprintln!(\"A non-js file was given: `{}`\", path.display());\n@@ -879,7 +879,7 @@ impl Step for RustdocJSStd {\n             });\n             builder.run(&mut command);\n         } else {\n-            builder.info(\"No nodejs found, skipping \\\"src/test/rustdoc-js-std\\\" tests\");\n+            builder.info(\"No nodejs found, skipping \\\"tests/rustdoc-js-std\\\" tests\");\n         }\n     }\n }\n@@ -896,7 +896,7 @@ impl Step for RustdocJSNotStd {\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n-        run.suite_path(\"src/test/rustdoc-js\")\n+        run.suite_path(\"tests/rustdoc-js\")\n     }\n \n     fn make_run(run: RunConfig<'_>) {\n@@ -911,11 +911,11 @@ impl Step for RustdocJSNotStd {\n                 target: self.target,\n                 mode: \"js-doc-test\",\n                 suite: \"rustdoc-js\",\n-                path: \"src/test/rustdoc-js\",\n+                path: \"tests/rustdoc-js\",\n                 compare_mode: None,\n             });\n         } else {\n-            builder.info(\"No nodejs found, skipping \\\"src/test/rustdoc-js\\\" tests\");\n+            builder.info(\"No nodejs found, skipping \\\"tests/rustdoc-js\\\" tests\");\n         }\n     }\n }\n@@ -976,7 +976,7 @@ impl Step for RustdocGUI {\n \n     fn should_run(run: ShouldRun<'_>) -> ShouldRun<'_> {\n         let builder = run.builder;\n-        let run = run.suite_path(\"src/test/rustdoc-gui\");\n+        let run = run.suite_path(\"tests/rustdoc-gui\");\n         run.lazy_default_condition(Box::new(move || {\n             builder.config.nodejs.is_some()\n                 && builder\n@@ -1025,7 +1025,7 @@ impl Step for RustdocGUI {\n         // We remove existing folder to be sure there won't be artifacts remaining.\n         builder.clear_if_dirty(&out_dir, &builder.rustdoc(self.compiler));\n \n-        let src_path = builder.build.src.join(\"src/test/rustdoc-gui/src\");\n+        let src_path = builder.build.src.join(\"tests/rustdoc-gui/src\");\n         // We generate docs for the libraries present in the rustdoc-gui's src folder.\n         for entry in src_path.read_dir().expect(\"read_dir call failed\") {\n             if let Ok(entry) = entry {\n@@ -1064,9 +1064,9 @@ impl Step for RustdocGUI {\n             .arg(\"--doc-folder\")\n             .arg(out_dir.join(\"doc\"))\n             .arg(\"--tests-folder\")\n-            .arg(builder.build.src.join(\"src/test/rustdoc-gui\"));\n+            .arg(builder.build.src.join(\"tests/rustdoc-gui\"));\n         for path in &builder.paths {\n-            if let Some(p) = util::is_valid_test_suite_arg(path, \"src/test/rustdoc-gui\", builder) {\n+            if let Some(p) = util::is_valid_test_suite_arg(path, \"tests/rustdoc-gui\", builder) {\n                 if !p.ends_with(\".goml\") {\n                     eprintln!(\"A non-goml file was given: `{}`\", path.display());\n                     panic!(\"Cannot run rustdoc-gui tests\");\n@@ -1308,59 +1308,51 @@ macro_rules! test_definitions {\n     };\n }\n \n-default_test!(Ui { path: \"src/test/ui\", mode: \"ui\", suite: \"ui\" });\n+default_test!(Ui { path: \"tests/ui\", mode: \"ui\", suite: \"ui\" });\n \n default_test!(RunPassValgrind {\n-    path: \"src/test/run-pass-valgrind\",\n+    path: \"tests/run-pass-valgrind\",\n     mode: \"run-pass-valgrind\",\n     suite: \"run-pass-valgrind\"\n });\n \n-default_test!(MirOpt { path: \"src/test/mir-opt\", mode: \"mir-opt\", suite: \"mir-opt\" });\n+default_test!(MirOpt { path: \"tests/mir-opt\", mode: \"mir-opt\", suite: \"mir-opt\" });\n \n-default_test!(Codegen { path: \"src/test/codegen\", mode: \"codegen\", suite: \"codegen\" });\n+default_test!(Codegen { path: \"tests/codegen\", mode: \"codegen\", suite: \"codegen\" });\n \n default_test!(CodegenUnits {\n-    path: \"src/test/codegen-units\",\n+    path: \"tests/codegen-units\",\n     mode: \"codegen-units\",\n     suite: \"codegen-units\"\n });\n \n-default_test!(Incremental {\n-    path: \"src/test/incremental\",\n-    mode: \"incremental\",\n-    suite: \"incremental\"\n-});\n+default_test!(Incremental { path: \"tests/incremental\", mode: \"incremental\", suite: \"incremental\" });\n \n default_test_with_compare_mode!(Debuginfo {\n-    path: \"src/test/debuginfo\",\n+    path: \"tests/debuginfo\",\n     mode: \"debuginfo\",\n     suite: \"debuginfo\",\n     compare_mode: \"split-dwarf\"\n });\n \n-host_test!(UiFullDeps { path: \"src/test/ui-fulldeps\", mode: \"ui\", suite: \"ui-fulldeps\" });\n+host_test!(UiFullDeps { path: \"tests/ui-fulldeps\", mode: \"ui\", suite: \"ui-fulldeps\" });\n \n-host_test!(Rustdoc { path: \"src/test/rustdoc\", mode: \"rustdoc\", suite: \"rustdoc\" });\n-host_test!(RustdocUi { path: \"src/test/rustdoc-ui\", mode: \"ui\", suite: \"rustdoc-ui\" });\n+host_test!(Rustdoc { path: \"tests/rustdoc\", mode: \"rustdoc\", suite: \"rustdoc\" });\n+host_test!(RustdocUi { path: \"tests/rustdoc-ui\", mode: \"ui\", suite: \"rustdoc-ui\" });\n \n-host_test!(RustdocJson {\n-    path: \"src/test/rustdoc-json\",\n-    mode: \"rustdoc-json\",\n-    suite: \"rustdoc-json\"\n-});\n+host_test!(RustdocJson { path: \"tests/rustdoc-json\", mode: \"rustdoc-json\", suite: \"rustdoc-json\" });\n \n-host_test!(Pretty { path: \"src/test/pretty\", mode: \"pretty\", suite: \"pretty\" });\n+host_test!(Pretty { path: \"tests/pretty\", mode: \"pretty\", suite: \"pretty\" });\n \n-default_test!(RunMake { path: \"src/test/run-make\", mode: \"run-make\", suite: \"run-make\" });\n+default_test!(RunMake { path: \"tests/run-make\", mode: \"run-make\", suite: \"run-make\" });\n \n host_test!(RunMakeFullDeps {\n-    path: \"src/test/run-make-fulldeps\",\n+    path: \"tests/run-make-fulldeps\",\n     mode: \"run-make\",\n     suite: \"run-make-fulldeps\"\n });\n \n-default_test!(Assembly { path: \"src/test/assembly\", mode: \"assembly\", suite: \"assembly\" });\n+default_test!(Assembly { path: \"tests/assembly\", mode: \"assembly\", suite: \"assembly\" });\n \n #[derive(Debug, Copy, Clone, PartialEq, Eq, Hash)]\n struct Compiletest {\n@@ -1472,7 +1464,7 @@ note: if you're sure you want to do this, please open an issue as to why. In the\n             cmd.arg(\"--rust-demangler-path\").arg(rust_demangler);\n         }\n \n-        cmd.arg(\"--src-base\").arg(builder.src.join(\"src/test\").join(suite));\n+        cmd.arg(\"--src-base\").arg(builder.src.join(\"tests\").join(suite));\n         cmd.arg(\"--build-base\").arg(testdir(builder, compiler.host).join(suite));\n         cmd.arg(\"--sysroot-base\").arg(builder.sysroot(compiler));\n         cmd.arg(\"--stage-id\").arg(format!(\"stage{}-{}\", compiler.stage, target));\n@@ -1936,7 +1928,7 @@ impl Step for ErrorIndex {\n     fn make_run(run: RunConfig<'_>) {\n         // error_index_generator depends on librustdoc. Use the compiler that\n         // is normally used to build rustdoc for other tests (like compiletest\n-        // tests in src/test/rustdoc) so that it shares the same artifacts.\n+        // tests in tests/rustdoc) so that it shares the same artifacts.\n         let compiler = run.builder.compiler(run.builder.top_stage, run.builder.config.build);\n         run.builder.ensure(ErrorIndex { compiler });\n     }\n@@ -2233,7 +2225,7 @@ impl Step for CrateRustdoc {\n             builder.compiler(builder.top_stage, target)\n         } else {\n             // Use the previous stage compiler to reuse the artifacts that are\n-            // created when running compiletest for src/test/rustdoc. If this used\n+            // created when running compiletest for tests/rustdoc. If this used\n             // `compiler`, then it would cause rustdoc to be built *again*, which\n             // isn't really necessary.\n             builder.compiler_for(builder.top_stage, target, target)\n@@ -2349,7 +2341,7 @@ impl Step for CrateRustdocJsonTypes {\n         let target = self.host;\n \n         // Use the previous stage compiler to reuse the artifacts that are\n-        // created when running compiletest for src/test/rustdoc. If this used\n+        // created when running compiletest for tests/rustdoc. If this used\n         // `compiler`, then it would cause rustdoc to be built *again*, which\n         // isn't really necessary.\n         let compiler = builder.compiler_for(builder.top_stage, target, target);"}, {"sha": "34829adf79bcf936c400c0abfc6e381ea01494db", "filename": "src/ci/docker/host-x86_64/dist-i586-gnu-i586-i686-musl/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -48,7 +48,7 @@ RUN CC=gcc CFLAGS=\"-m32 -Wa,-mrelax-relocations=no\" \\\n     rm -rf /build\n \n # FIXME: musl really shouldn't be linking libgcc_s.so, as it's linked to glibc,\n-# but it's required by src/test/ui/proc-macro/crt-static.rs. Ubuntu:16.04 gcc-5\n+# but it's required by tests/ui/proc-macro/crt-static.rs. Ubuntu:16.04 gcc-5\n # had libgcc_s.so as a symlink to the absolute libgcc_s.so.1, but now it's an\n # ld-script that expects to find libgcc_s.so.1 in the library search path.\n # See also https://github.com/rust-lang/rust/issues/82521"}, {"sha": "4576e6d4fa2560c57fd051688d5ff04433e26d2f", "filename": "src/ci/docker/host-x86_64/dist-various-1/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-1%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -183,7 +183,7 @@ ENV RUST_CONFIGURE_ARGS \\\n       --disable-docs\n \n ENV SCRIPT \\\n-      python3 ../x.py --stage 2 test --host='' --target $RUN_MAKE_TARGETS src/test/run-make && \\\n+      python3 ../x.py --stage 2 test --host='' --target $RUN_MAKE_TARGETS tests/run-make && \\\n       python3 ../x.py dist --host='' --target $TARGETS\n \n # sccache"}, {"sha": "d9e58386256d37753a4b7c9c0ee3fb7f5a610c69", "filename": "src/ci/docker/host-x86_64/i686-gnu/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fi686-gnu%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -27,6 +27,6 @@ ENV RUST_CONFIGURE_ARGS --build=i686-unknown-linux-gnu\n # this slow job.\n ENV SCRIPT python3 ../x.py --stage 2 test \\\n   --exclude src/bootstrap \\\n-  --exclude src/test/rustdoc-js \\\n+  --exclude tests/rustdoc-js \\\n   --exclude src/tools/error_index_generator \\\n   --exclude src/tools/linkchecker"}, {"sha": "930f58baf02e26425b9d042a2a0ccca82f2b8cd1", "filename": "src/ci/docker/host-x86_64/test-various/Dockerfile", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Ftest-various%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Ftest-various%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Ftest-various%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -59,16 +59,16 @@ ENV NO_OVERFLOW_CHECKS=1\n \n ENV WASM_TARGETS=wasm32-unknown-unknown\n ENV WASM_SCRIPT python3 /checkout/x.py --stage 2 test --host='' --target $WASM_TARGETS \\\n-  src/test/run-make \\\n-  src/test/ui \\\n-  src/test/mir-opt \\\n-  src/test/codegen-units \\\n+  tests/run-make \\\n+  tests/ui \\\n+  tests/mir-opt \\\n+  tests/codegen-units \\\n   library/core\n \n ENV NVPTX_TARGETS=nvptx64-nvidia-cuda\n ENV NVPTX_SCRIPT python3 /checkout/x.py --stage 2 test --host='' --target $NVPTX_TARGETS \\\n-  src/test/run-make \\\n-  src/test/assembly\n+  tests/run-make \\\n+  tests/assembly\n \n ENV MUSL_TARGETS=x86_64-unknown-linux-musl \\\n     CC_x86_64_unknown_linux_musl=x86_64-linux-musl-gcc \\"}, {"sha": "735d4d4dfcfa103486f69f34d21e5a6082be0680", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-debug/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-debug%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-debug%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-debug%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -46,4 +46,4 @@ ENV RUST_CONFIGURE_ARGS \\\n \n ENV SCRIPT \\\n   python3 ../x.py --stage 2 build && \\\n-  python3 ../x.py --stage 2 test src/test/run-make-fulldeps --test-args clang\n+  python3 ../x.py --stage 2 test tests/run-make-fulldeps --test-args clang"}, {"sha": "bcbf58253b1902901f8b95d7f2037c60c05f9c50", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-llvm-13-stage1/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-13-stage1%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-13-stage1%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-13-stage1%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -45,5 +45,5 @@ ENV SCRIPT python2.7 ../x.py --stage 1 test --exclude src/tools/tidy && \\\n     # the PR is approved and tested for merging.\n     # It will also detect tests lacking `// EMIT_MIR_FOR_EACH_BIT_WIDTH`,\n     # despite having different output on 32-bit vs 64-bit targets.\n-    python2.7 ../x.py --stage 1 test src/test/mir-opt \\\n+    python2.7 ../x.py --stage 1 test tests/mir-opt \\\n     --host='' --target=i686-unknown-linux-gnu"}, {"sha": "9fc9e9cbffbed349157cd0f9f28756cce69a54a0", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-llvm-13/Dockerfile", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-13%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-13%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-13%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -56,14 +56,14 @@ ENV SCRIPT ../x.py --stage 2 test --exclude src/tools/tidy && \\\n            # the PR is approved and tested for merging.\n            # It will also detect tests lacking `// EMIT_MIR_FOR_EACH_BIT_WIDTH`,\n            # despite having different output on 32-bit vs 64-bit targets.\n-           ../x --stage 2 test src/test/mir-opt \\\n+           ../x --stage 2 test tests/mir-opt \\\n                              --host='' --target=i686-unknown-linux-gnu && \\\n            # Run the UI test suite again, but in `--pass=check` mode\n            #\n            # This is intended to make sure that both `--pass=check` continues to\n            # work.\n            #\n-           ../x.ps1 --stage 2 test src/test/ui --pass=check \\\n+           ../x.ps1 --stage 2 test tests/ui --pass=check \\\n                              --host='' --target=i686-unknown-linux-gnu && \\\n            # Run tidy at the very end, after all the other tests.\n            python2.7 ../x.py --stage 2 test src/tools/tidy"}, {"sha": "85f2f84a44c32087c79075d016bcaecc8cc23610", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-tools/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -84,5 +84,5 @@ ENV RUST_CONFIGURE_ARGS \\\n   --save-toolstates=/tmp/toolstate/toolstates.json\n \n ENV SCRIPT /tmp/checktools.sh ../x.py && \\\n-  NODE_PATH=`npm root -g` python3 ../x.py test src/test/rustdoc-gui --stage 2 \\\n+  NODE_PATH=`npm root -g` python3 ../x.py test tests/rustdoc-gui --stage 2 \\\n     --test-args \"'--no-sandbox --jobs 1'\""}, {"sha": "d2a9264c84a12c77dd0abb631ac01537564a28e3", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -511,7 +511,7 @@ jobs:\n \n           - name: x86_64-apple-1\n             env: &env-x86_64-apple-tests\n-              SCRIPT: ./x.py --stage 2 test --exclude src/test/ui --exclude src/test/rustdoc --exclude src/test/run-make-fulldeps\n+              SCRIPT: ./x.py --stage 2 test --exclude tests/ui --exclude tests/rustdoc --exclude tests/run-make-fulldeps\n               RUST_CONFIGURE_ARGS: --build=x86_64-apple-darwin --enable-sanitizers --enable-profiler --set rust.jemalloc --set llvm.ninja=false\n               RUSTC_RETRY_LINKER_ON_SEGFAULT: 1\n               MACOSX_DEPLOYMENT_TARGET: 10.8\n@@ -523,7 +523,7 @@ jobs:\n \n           - name: x86_64-apple-2\n             env:\n-              SCRIPT: ./x.py --stage 2 test src/test/ui src/test/rustdoc src/test/run-make-fulldeps\n+              SCRIPT: ./x.py --stage 2 test tests/ui tests/rustdoc tests/run-make-fulldeps\n               <<: *env-x86_64-apple-tests\n             <<: *job-macos-xl\n "}, {"sha": "85d772253808ae5a6cdfe74ad6b336f214aec102", "filename": "src/ci/scripts/should-skip-this.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fscripts%2Fshould-skip-this.sh", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fci%2Fscripts%2Fshould-skip-this.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fscripts%2Fshould-skip-this.sh?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -27,7 +27,7 @@ if [[ -n \"${CI_ONLY_WHEN_SUBMODULES_CHANGED-}\" ]]; then\n         # that breaks Miri.\n         echo \"Tool subtrees were updated\"\n     elif ! (git diff --quiet \"$BASE_COMMIT\" -- \\\n-             src/test/rustdoc-gui \\\n+             tests/rustdoc-gui \\\n              src/librustdoc \\\n              src/ci/docker/host-x86_64/x86_64-gnu-tools/Dockerfile \\\n              src/ci/docker/host-x86_64/x86_64-gnu-tools/browser-ui-test.version \\"}, {"sha": "29e70129a62ed42527835c9be04dfe89ecbdb283", "filename": "src/doc/rustc/src/platform-support/fuchsia.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Ffuchsia.md", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Ffuchsia.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Ffuchsia.md?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -705,15 +705,15 @@ Where `${RUST_SRC_PATH}/install` is the `prefix` set in `config.toml` and\n \n Once our environment is started, we can run our tests using `x.py` as usual. The\n test runner script will run the compiled tests on an emulated Fuchsia device. To\n-run the full `src/test/ui` test suite:\n+run the full `tests/ui` test suite:\n \n ```sh\n ( \\\n     source config-env.sh &&                                                   \\\n     ./x.py                                                                    \\\n     --config config.toml                                                      \\\n     --stage=2                                                                 \\\n-    test src/test/ui                                                          \\\n+    test tests/ui                                                             \\\n     --target x86_64-unknown-fuchsia                                           \\\n     --run=always --jobs 1                                                     \\\n     --test-args --target-rustcflags                                           \\"}, {"sha": "67634be6993169370eae0973ab3321df46efe610", "filename": "src/doc/unstable-book/src/compiler-flags/codegen-backend.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fcodegen-backend.md", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fcodegen-backend.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-flags%2Fcodegen-backend.md?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -12,7 +12,7 @@ backend. The library must be of crate type `dylib` and must contain a function\n named `__rustc_codegen_backend` with a signature of `fn() -> Box<dyn rustc_codegen_ssa::traits::CodegenBackend>`.\n \n ## Example\n-See also the [`hotplug_codegen_backend`](https://github.com/rust-lang/rust/tree/master/src/test/run-make-fulldeps/hotplug_codegen_backend) test\n+See also the [`hotplug_codegen_backend`](https://github.com/rust-lang/rust/tree/master/tests/run-make-fulldeps/hotplug_codegen_backend) test\n for a full example.\n \n ```rust,ignore (partial-example)"}, {"sha": "dfbb468d4df94298fd5c4f3d97aef579a2a0c10b", "filename": "src/doc/unstable-book/src/language-features/plugin.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fplugin.md", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fplugin.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fplugin.md?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -33,7 +33,7 @@ of a library.\n Plugins can extend [Rust's lint\n infrastructure](../../reference/attributes/diagnostics.md#lint-check-attributes) with\n additional checks for code style, safety, etc. Now let's write a plugin\n-[`lint-plugin-test.rs`](https://github.com/rust-lang/rust/blob/master/src/test/ui-fulldeps/auxiliary/lint-plugin-test.rs)\n+[`lint-plugin-test.rs`](https://github.com/rust-lang/rust/blob/master/tests/ui-fulldeps/auxiliary/lint-plugin-test.rs)\n that warns about any item named `lintme`.\n \n ```rust,ignore (requires-stage-2)"}, {"sha": "b2fa6e82acce263db35d53ea01688ea98d8cedf2", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -707,7 +707,7 @@ h2.small-section-header > .anchor {\n \n /*  In most contexts we use `overflow-wrap: anywhere` to ensure that we can wrap\n \tas much as needed on mobile (see\n-\tsrc/test/rustdoc-gui/type-declaration-overflow.goml for an example of why\n+\ttests/rustdoc-gui/type-declaration-overflow.goml for an example of why\n \tthis matters). The `anywhere` value means:\n \n \t\"Soft wrap opportunities introduced by the word break are considered when"}, {"sha": "8af60890390e79d7b48dd6fecd83045f93875e63", "filename": "src/tools/clippy/tests/ui/crashes/ice-6254.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6254.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6254.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6254.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n-// originally from ./src/test/ui/pattern/usefulness/consts-opaque.rs\n+// originally from ./tests/ui/pattern/usefulness/consts-opaque.rs\n // panicked at 'assertion failed: rows.iter().all(|r| r.len() == v.len())',\n // compiler/rustc_mir_build/src/thir/pattern/_match.rs:2030:5\n "}, {"sha": "ccde6aa2b0f770147abb8cbae217bab9ff83e3b4", "filename": "src/tools/clippy/tests/ui/crashes/ice-6255.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6255.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6255.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6255.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n-// originally from rustc ./src/test/ui/macros/issue-78325-inconsistent-resolution.rs\n+// originally from rustc ./tests/ui/macros/issue-78325-inconsistent-resolution.rs\n // inconsistent resolution for a macro\n \n macro_rules! define_other_core {"}, {"sha": "f9ee3e058c111470ba38775b7780044ae245e75e", "filename": "src/tools/clippy/tests/ui/crashes/ice-6256.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6256.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6256.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Ftests%2Fui%2Fcrashes%2Fice-6256.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n-// originally from rustc ./src/test/ui/regions/issue-78262.rs\n+// originally from rustc ./tests/ui/regions/issue-78262.rs\n // ICE: to get the signature of a closure, use substs.as_closure().sig() not fn_sig()\n #![allow(clippy::upper_case_acronyms)]\n "}, {"sha": "a5f5eb447da6ccdde644a47e48c4ef2705986ec4", "filename": "src/tools/compiletest/src/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fcommon.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -240,7 +240,7 @@ pub struct Config {\n     pub mode: Mode,\n \n     /// The test suite (essentially which directory is running, but without the\n-    /// directory prefix such as src/test)\n+    /// directory prefix such as tests)\n     pub suite: String,\n \n     /// The debugger to use in debuginfo mode. Unset otherwise."}, {"sha": "2aea30870ff5e6dc97ebf1543ebe6b5cb34fd34b", "filename": "src/tools/compiletest/src/main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fmain.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -774,7 +774,7 @@ fn make_test_name(\n     revision: Option<&String>,\n ) -> test::TestName {\n     // Print the name of the file, relative to the repository root.\n-    // `src_base` looks like `/path/to/rust/src/test/ui`\n+    // `src_base` looks like `/path/to/rust/tests/ui`\n     let root_directory = config.src_base.parent().unwrap().parent().unwrap().parent().unwrap();\n     let path = testpaths.file.strip_prefix(root_directory).unwrap();\n     let debugger = match config.debugger {"}, {"sha": "a16ab11e2f9788b377edbae1511983c05b9d3b60", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -2102,9 +2102,7 @@ impl<'test> TestCx<'test> {\n                 .parent()\n                 .unwrap() // chop off `ui`\n                 .parent()\n-                .unwrap() // chop off `test`\n-                .parent()\n-                .unwrap(); // chop off `src`\n+                .unwrap(); // chop off `tests`\n             args.push(src.join(\"src/etc/wasm32-shim.js\").display().to_string());\n         }\n \n@@ -2932,7 +2930,7 @@ impl<'test> TestCx<'test> {\n \n     fn run_rmake_test(&self) {\n         let cwd = env::current_dir().unwrap();\n-        let src_root = self.config.src_base.parent().unwrap().parent().unwrap().parent().unwrap();\n+        let src_root = self.config.src_base.parent().unwrap().parent().unwrap();\n         let src_root = cwd.join(&src_root);\n \n         let tmpdir = cwd.join(self.output_base_name());\n@@ -3548,8 +3546,8 @@ impl<'test> TestCx<'test> {\n         normalize_path(parent_dir, \"$DIR\");\n \n         let source_bases = &[\n-            // Source base on the current filesystem (calculated as parent of `src/test/$suite`):\n-            Some(self.config.src_base.parent().unwrap().parent().unwrap().parent().unwrap().into()),\n+            // Source base on the current filesystem (calculated as parent of `tests/$suite`):\n+            Some(self.config.src_base.parent().unwrap().parent().unwrap().into()),\n             // Source base on the sysroot (from the src components downloaded by `download-rustc`):\n             Some(self.config.sysroot_base.join(\"lib\").join(\"rustlib\").join(\"src\").join(\"rust\")),\n             // Virtual `/rustc/$sha` remapped paths (if `remap-debuginfo` is enabled):"}, {"sha": "7e7b40044218774b3673b1b407502e3ea851c02f", "filename": "src/tools/rust-analyzer/crates/hir-def/src/macro_expansion_tests/mbe/meta_syntax.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frust-analyzer%2Fcrates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fmbe%2Fmeta_syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frust-analyzer%2Fcrates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fmbe%2Fmeta_syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frust-analyzer%2Fcrates%2Fhir-def%2Fsrc%2Fmacro_expansion_tests%2Fmbe%2Fmeta_syntax.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -94,7 +94,7 @@ macro_rules! m2 { () => ( ${invalid()} ) }\n \n #[test]\n fn test_rustc_issue_57597() {\n-    // <https://github.com/rust-lang/rust/blob/master/src/test/ui/issues/issue-57597.rs>\n+    // <https://github.com/rust-lang/rust/blob/master/tests/ui/issues/issue-57597.rs>\n     check(\n         r#\"\n macro_rules! m0 { ($($($i:ident)?)+) => {}; }"}, {"sha": "f0c3690962aff09652baaade9cad1f882a38822a", "filename": "src/tools/rust-analyzer/crates/ide-db/src/generated/lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frust-analyzer%2Fcrates%2Fide-db%2Fsrc%2Fgenerated%2Flints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frust-analyzer%2Fcrates%2Fide-db%2Fsrc%2Fgenerated%2Flints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frust-analyzer%2Fcrates%2Fide-db%2Fsrc%2Fgenerated%2Flints.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -3624,7 +3624,7 @@ of a library.\n Plugins can extend [Rust's lint\n infrastructure](../../reference/attributes/diagnostics.md#lint-check-attributes) with\n additional checks for code style, safety, etc. Now let's write a plugin\n-[`lint-plugin-test.rs`](https://github.com/rust-lang/rust/blob/master/src/test/ui-fulldeps/auxiliary/lint-plugin-test.rs)\n+[`lint-plugin-test.rs`](https://github.com/rust-lang/rust/blob/master/tests/ui-fulldeps/auxiliary/lint-plugin-test.rs)\n that warns about any item named `lintme`.\n \n ```rust,ignore (requires-stage-2)"}, {"sha": "2f0ca1ec3d0bfb62e4596de3d2842dac63397163", "filename": "src/tools/rustdoc-gui/tester.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frustdoc-gui%2Ftester.js", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frustdoc-gui%2Ftester.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustdoc-gui%2Ftester.js?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -262,7 +262,7 @@ async function main(argv) {\n             console.log(\"\");\n             console.log(\n                 \"`browser-ui-test` crashed unexpectedly. Please try again with adding `--test-args \\\n---no-sandbox` at the end. For example: `x.py test src/test/rustdoc-gui --test-args --no-sandbox`\");\n+--no-sandbox` at the end. For example: `x.py test tests/rustdoc-gui --test-args --no-sandbox`\");\n             console.log(\"\");\n         }\n     };"}, {"sha": "deef429dbee08b2d154b9fd35861f7eb51636409", "filename": "src/tools/rustfmt/tests/source/issue-2445.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frustfmt%2Ftests%2Fsource%2Fissue-2445.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frustfmt%2Ftests%2Fsource%2Fissue-2445.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustfmt%2Ftests%2Fsource%2Fissue-2445.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n test!(RunPassPretty {\n             // comment\n-    path: \"src/test/run-pass/pretty\",\n+    path: \"tests/run-pass/pretty\",\n     mode: \"pretty\",\n     suite: \"run-pass\",\n     default: false,\n@@ -9,7 +9,7 @@ test!(RunPassPretty {\n \n test!(RunPassPretty {\n             // comment\n-    path: \"src/test/run-pass/pretty\",\n+    path: \"tests/run-pass/pretty\",\n     mode: \"pretty\",\n     suite: \"run-pass\",\n     default: false,"}, {"sha": "463c5d4957686470d7d91bcf10cd6a47a599e2f3", "filename": "src/tools/rustfmt/tests/target/issue-2445.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frustfmt%2Ftests%2Ftarget%2Fissue-2445.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Frustfmt%2Ftests%2Ftarget%2Fissue-2445.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustfmt%2Ftests%2Ftarget%2Fissue-2445.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n test!(RunPassPretty {\n     // comment\n-    path: \"src/test/run-pass/pretty\",\n+    path: \"tests/run-pass/pretty\",\n     mode: \"pretty\",\n     suite: \"run-pass\",\n     default: false,\n@@ -9,7 +9,7 @@ test!(RunPassPretty {\n \n test!(RunPassPretty {\n     // comment\n-    path: \"src/test/run-pass/pretty\",\n+    path: \"tests/run-pass/pretty\",\n     mode: \"pretty\",\n     suite: \"run-pass\",\n     default: false,"}, {"sha": "0dd9c1e160ceef3d3825aca2ecec36f4d16864b4", "filename": "src/tools/tidy/src/debug_artifacts.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fdebug_artifacts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fdebug_artifacts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdebug_artifacts.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,14 +1,12 @@\n //! Tidy check to prevent creation of unnecessary debug artifacts while running tests.\n \n use crate::walk::{filter_dirs, walk};\n-use std::path::{Path, PathBuf};\n+use std::path::Path;\n \n const GRAPHVIZ_POSTFLOW_MSG: &str = \"`borrowck_graphviz_postflow` attribute in test\";\n \n-pub fn check(path: &Path, bad: &mut bool) {\n-    let test_dir: PathBuf = path.join(\"test\");\n-\n-    walk(&test_dir, &mut filter_dirs, &mut |entry, contents| {\n+pub fn check(test_dir: &Path, bad: &mut bool) {\n+    walk(test_dir, &mut filter_dirs, &mut |entry, contents| {\n         let filename = entry.path();\n         let is_rust = filename.extension().map_or(false, |ext| ext == \"rs\");\n         if !is_rust {"}, {"sha": "8172e3d292bd98a5734f56102f8396707423f501", "filename": "src/tools/tidy/src/edition.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fedition.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fedition.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fedition.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -11,7 +11,10 @@ fn is_edition_2021(mut line: &str) -> bool {\n pub fn check(path: &Path, bad: &mut bool) {\n     walk(\n         path,\n-        &mut |path| filter_dirs(path) || path.ends_with(\"src/test\"),\n+        &mut |path| {\n+            filter_dirs(path)\n+                || (path.ends_with(\"tests\") && path.join(\"COMPILER_TESTS.md\").exists())\n+        },\n         &mut |entry, contents| {\n             let file = entry.path();\n             let filename = file.file_name().unwrap();"}, {"sha": "ac8b5f6834c63472ccd98b81f3af96139b884d8b", "filename": "src/tools/tidy/src/error_codes.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -8,7 +8,7 @@\n //!   - The explanation is expected to contain a `doctest` that fails with the correct error code. (`EXEMPT_FROM_DOCTEST` *currently* bypasses this check)\n //!   - Note that other stylistic conventions for markdown files are checked in the `style.rs` tidy check.\n //!\n-//! 3. We check that the error code has a UI test in `src/test/ui/error-codes/`.\n+//! 3. We check that the error code has a UI test in `tests/ui/error-codes/`.\n //!   - We ensure that there is both a `Exxxx.rs` file and a corresponding `Exxxx.stderr` file.\n //!   - We also ensure that the error code is used in the tests.\n //!   - *Currently*, it is possible to opt-out of this check with the `EXEMPTED_FROM_TEST` constant.\n@@ -24,7 +24,7 @@ use crate::walk::{filter_dirs, walk, walk_many};\n \n const ERROR_CODES_PATH: &str = \"compiler/rustc_error_codes/src/error_codes.rs\";\n const ERROR_DOCS_PATH: &str = \"compiler/rustc_error_codes/src/error_codes/\";\n-const ERROR_TESTS_PATH: &str = \"src/test/ui/error-codes/\";\n+const ERROR_TESTS_PATH: &str = \"tests/ui/error-codes/\";\n \n // Error codes that (for some reason) can't have a doctest in their explanation. Error codes are still expected to provide a code example, even if untested.\n const IGNORE_DOCTEST_CHECK: &[&str] =\n@@ -270,14 +270,14 @@ fn check_error_codes_tests(\n         if !test_path.exists() && !IGNORE_UI_TEST_CHECK.contains(&code.as_str()) {\n             verbose_print!(\n                 verbose,\n-                \"warning: Error code `{code}` needs to have at least one UI test in the `src/test/ui/error-codes/` directory`!\"\n+                \"warning: Error code `{code}` needs to have at least one UI test in the `tests/error-codes/` directory`!\"\n             );\n             continue;\n         }\n         if IGNORE_UI_TEST_CHECK.contains(&code.as_str()) {\n             if test_path.exists() {\n                 errors.push(format!(\n-                    \"Error code `{code}` has a UI test in `src/test/ui/error-codes/{code}.rs`, it shouldn't be listed in `EXEMPTED_FROM_TEST`!\"\n+                    \"Error code `{code}` has a UI test in `tests/ui/error-codes/{code}.rs`, it shouldn't be listed in `EXEMPTED_FROM_TEST`!\"\n                 ));\n             }\n             continue;"}, {"sha": "af92e6eb8637605a0906d60965ade46036b01ae6", "filename": "src/tools/tidy/src/features.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -82,6 +82,7 @@ pub fn collect_lib_features(base_src_path: &Path) -> Features {\n \n pub fn check(\n     src_path: &Path,\n+    tests_path: &Path,\n     compiler_path: &Path,\n     lib_path: &Path,\n     bad: &mut bool,\n@@ -95,10 +96,10 @@ pub fn check(\n \n     walk_many(\n         &[\n-            &src_path.join(\"test/ui\"),\n-            &src_path.join(\"test/ui-fulldeps\"),\n-            &src_path.join(\"test/rustdoc-ui\"),\n-            &src_path.join(\"test/rustdoc\"),\n+            &tests_path.join(\"ui\"),\n+            &tests_path.join(\"ui-fulldeps\"),\n+            &tests_path.join(\"rustdoc-ui\"),\n+            &tests_path.join(\"rustdoc\"),\n         ],\n         &mut filter_dirs,\n         &mut |entry, contents| {\n@@ -480,7 +481,7 @@ fn map_lib_features(\n ) {\n     walk(\n         base_src_path,\n-        &mut |path| filter_dirs(path) || path.ends_with(\"src/test\"),\n+        &mut |path| filter_dirs(path) || path.ends_with(\"tests\"),\n         &mut |entry, contents| {\n             let file = entry.path();\n             let filename = file.file_name().unwrap().to_string_lossy();"}, {"sha": "2a4853b37be391e402553505ea4da3072508ae1c", "filename": "src/tools/tidy/src/main.rs", "status": "modified", "additions": 17, "deletions": 5, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fmain.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -25,6 +25,7 @@ fn main() {\n             .expect(\"concurrency must be a number\");\n \n     let src_path = root_path.join(\"src\");\n+    let tests_path = root_path.join(\"tests\");\n     let library_path = root_path.join(\"library\");\n     let compiler_path = root_path.join(\"compiler\");\n     let librustdoc_path = src_path.join(\"librustdoc\");\n@@ -68,16 +69,16 @@ fn main() {\n             }\n         }\n \n-        check!(target_specific_tests, &src_path);\n+        check!(target_specific_tests, &tests_path);\n \n         // Checks that are done on the cargo workspace.\n         check!(deps, &root_path, &cargo);\n         check!(extdeps, &root_path);\n \n         // Checks over tests.\n-        check!(debug_artifacts, &src_path);\n-        check!(ui_tests, &src_path);\n-        check!(mir_opt_tests, &src_path, bless);\n+        check!(debug_artifacts, &tests_path);\n+        check!(ui_tests, &tests_path);\n+        check!(mir_opt_tests, &tests_path, bless);\n \n         // Checks that only make sense for the compiler.\n         check!(error_codes, &root_path, &[&compiler_path, &librustdoc_path], verbose);\n@@ -88,6 +89,7 @@ fn main() {\n \n         // Checks that need to be done for both the compiler and std libraries.\n         check!(unit_tests, &src_path);\n+        check!(unit_tests, &tests_path);\n         check!(unit_tests, &compiler_path);\n         check!(unit_tests, &library_path);\n \n@@ -96,14 +98,17 @@ fn main() {\n         }\n \n         check!(style, &src_path);\n+        check!(style, &tests_path);\n         check!(style, &compiler_path);\n         check!(style, &library_path);\n \n         check!(edition, &src_path);\n         check!(edition, &compiler_path);\n         check!(edition, &library_path);\n+        check!(edition, &tests_path);\n \n         check!(alphabetical, &src_path);\n+        check!(alphabetical, &tests_path);\n         check!(alphabetical, &compiler_path);\n         check!(alphabetical, &library_path);\n \n@@ -113,7 +118,14 @@ fn main() {\n             drain_handles(&mut handles);\n \n             let mut flag = false;\n-            let r = features::check(&src_path, &compiler_path, &library_path, &mut flag, verbose);\n+            let r = features::check(\n+                &src_path,\n+                &tests_path,\n+                &compiler_path,\n+                &library_path,\n+                &mut flag,\n+                verbose,\n+            );\n             if flag {\n                 bad.store(true, Ordering::Relaxed);\n             }"}, {"sha": "2a9dcac2e8d38e4f6bf21e8637bcbbe8ccf4fd78", "filename": "src/tools/tidy/src/mir_opt_tests.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fmir_opt_tests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fmir_opt_tests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fmir_opt_tests.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -6,7 +6,7 @@ use std::path::{Path, PathBuf};\n fn check_unused_files(path: &Path, bless: bool, bad: &mut bool) {\n     let mut rs_files = Vec::<PathBuf>::new();\n     let mut output_files = HashSet::<PathBuf>::new();\n-    let files = walkdir::WalkDir::new(&path.join(\"test/mir-opt\")).into_iter();\n+    let files = walkdir::WalkDir::new(&path.join(\"mir-opt\")).into_iter();\n \n     for file in files.filter_map(Result::ok).filter(|e| e.file_type().is_file()) {\n         let filepath = file.path();\n@@ -41,7 +41,7 @@ fn check_unused_files(path: &Path, bless: bool, bad: &mut bool) {\n }\n \n fn check_dash_files(path: &Path, bless: bool, bad: &mut bool) {\n-    for file in walkdir::WalkDir::new(&path.join(\"test/mir-opt\"))\n+    for file in walkdir::WalkDir::new(&path.join(\"mir-opt\"))\n         .into_iter()\n         .filter_map(Result::ok)\n         .filter(|e| e.file_type().is_file())"}, {"sha": "5c4ba86936456f683e6dd5386be061cba7ec57f2", "filename": "src/tools/tidy/src/style.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fstyle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fstyle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fstyle.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -246,7 +246,7 @@ pub fn check(path: &Path, bad: &mut bool) {\n             // This list should ideally be sourced from rustfmt.toml but we don't want to add a toml\n             // parser to tidy.\n             !file.ancestors().any(|a| {\n-                a.ends_with(\"src/test\") ||\n+                (a.ends_with(\"tests\") && a.join(\"COMPILER_TESTS.md\").exists()) ||\n                     a.ends_with(\"src/doc/book\")\n             });\n \n@@ -324,9 +324,10 @@ pub fn check(path: &Path, bad: &mut bool) {\n \n             if trimmed.contains(\"dbg!\")\n                 && !trimmed.starts_with(\"//\")\n-                && !file\n-                    .ancestors()\n-                    .any(|a| a.ends_with(\"src/test\") || a.ends_with(\"library/alloc/tests\"))\n+                && !file.ancestors().any(|a| {\n+                    (a.ends_with(\"tests\") && a.join(\"COMPILER_TESTS.md\").exists())\n+                        || a.ends_with(\"library/alloc/tests\")\n+                })\n                 && filename != \"tests.rs\"\n             {\n                 suppressible_tidy_err!("}, {"sha": "d7a157672cf5b633766de637521bbc74cd684e2d", "filename": "src/tools/tidy/src/target_specific_tests.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Ftarget_specific_tests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Ftarget_specific_tests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ftarget_specific_tests.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -35,9 +35,8 @@ struct RevisionInfo<'a> {\n }\n \n pub fn check(path: &Path, bad: &mut bool) {\n-    let tests = path.join(\"test\");\n     crate::walk::walk(\n-        &tests,\n+        path,\n         &mut |path| path.extension().map(|p| p == \"rs\") == Some(false),\n         &mut |entry, content| {\n             let file = entry.path().display();"}, {"sha": "806e84025c4a28cb37b5f841f70e6580e27d1bcc", "filename": "src/tools/tidy/src/ui_tests.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fui_tests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Fui_tests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fui_tests.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -13,13 +13,13 @@ const ROOT_ENTRY_LIMIT: usize = 939;\n const ISSUES_ENTRY_LIMIT: usize = 1998;\n \n fn check_entries(path: &Path, bad: &mut bool) {\n-    for dir in Walk::new(&path.join(\"test/ui\")) {\n+    for dir in Walk::new(&path.join(\"ui\")) {\n         if let Ok(entry) = dir {\n             if entry.file_type().map(|ft| ft.is_dir()).unwrap_or(false) {\n                 let dir_path = entry.path();\n                 // Use special values for these dirs.\n-                let is_root = path.join(\"test/ui\") == dir_path;\n-                let is_issues_dir = path.join(\"test/ui/issues\") == dir_path;\n+                let is_root = path.join(\"ui\") == dir_path;\n+                let is_issues_dir = path.join(\"ui/issues\") == dir_path;\n                 let limit = if is_root {\n                     ROOT_ENTRY_LIMIT\n                 } else if is_issues_dir {\n@@ -53,7 +53,7 @@ fn check_entries(path: &Path, bad: &mut bool) {\n \n pub fn check(path: &Path, bad: &mut bool) {\n     check_entries(&path, bad);\n-    for path in &[&path.join(\"test/ui\"), &path.join(\"test/ui-fulldeps\")] {\n+    for path in &[&path.join(\"ui\"), &path.join(\"ui-fulldeps\")] {\n         crate::walk::walk_no_read(path, &mut |_| false, &mut |entry| {\n             let file_path = entry.path();\n             if let Some(ext) = file_path.extension() {"}, {"sha": "27f36c855613d69b2c85004ec1b309d62b26a99c", "filename": "src/tools/tidy/src/unit_tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Funit_tests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/src%2Ftools%2Ftidy%2Fsrc%2Funit_tests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Funit_tests.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -22,7 +22,7 @@ pub fn check(root_path: &Path, bad: &mut bool) {\n         let file_name = path.file_name().unwrap_or_default();\n         if path.is_dir() {\n             filter_dirs(path)\n-                || path.ends_with(\"src/test\")\n+                || path.ends_with(\"tests\")\n                 || path.ends_with(\"src/doc\")\n                 || (file_name == \"tests\" || file_name == \"benches\") && !is_core(path)\n         } else {"}, {"sha": "5c5d93863d71e70a1a1f9841bdd185e93ba5179a", "filename": "tests/assembly/target-feature-multiple.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fassembly%2Ftarget-feature-multiple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fassembly%2Ftarget-feature-multiple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fassembly%2Ftarget-feature-multiple.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -14,7 +14,7 @@\n // > LLVM ERROR: Cannot select: 0x7f00f400c010: i32,i32,ch = X86ISD::RDSEED 0x7f00f400bfa8:2\n // > In function: foo\n //\n-// See also src/test/codegen/target-feature-overrides.rs\n+// See also tests/codegen/target-feature-overrides.rs\n #![feature(no_core, lang_items, link_llvm_intrinsics, abi_unadjusted)]\n #![crate_type = \"lib\"]\n #![no_core]"}, {"sha": "520c46a0d570fea63720853cf872187d34a65583", "filename": "tests/codegen/match-optimized.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fcodegen%2Fmatch-optimized.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fcodegen%2Fmatch-optimized.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcodegen%2Fmatch-optimized.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -42,7 +42,7 @@ pub enum E2 {\n }\n \n // For optimized code we produce a switch with an unreachable target as the `otherwise` so LLVM\n-// knows the possible values. Compare with `src/test/codegen/match-unoptimized.rs`.\n+// knows the possible values. Compare with `tests/codegen/match-unoptimized.rs`.\n \n // CHECK-LABEL: @exhaustive_match_2\n #[no_mangle]"}, {"sha": "78ea4f9b4094682bb8ba086c135fb32693c60459", "filename": "tests/codegen/match-unoptimized.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fcodegen%2Fmatch-unoptimized.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fcodegen%2Fmatch-unoptimized.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcodegen%2Fmatch-unoptimized.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -9,7 +9,7 @@ pub enum E2 {\n }\n \n // For unoptimized code we produce a `br` instead of a `switch`. Compare with\n-// `src/test/codegen/match-optimized.rs`\n+// `tests/codegen/match-optimized.rs`\n \n // CHECK-LABEL: @exhaustive_match_2\n #[no_mangle]"}, {"sha": "1bebf66f0df43f89c5f045924b6a33852da766ae", "filename": "tests/codegen/target-feature-overrides.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fcodegen%2Ftarget-feature-overrides.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fcodegen%2Ftarget-feature-overrides.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcodegen%2Ftarget-feature-overrides.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -4,7 +4,7 @@\n // [COMPAT] compile-flags: -Ctarget-feature=+avx2,+avx\n // [INCOMPAT] compile-flags: -Ctarget-feature=-avx2,-avx\n \n-// See also src/test/assembly/target-feature-multiple.rs\n+// See also tests/assembly/target-feature-multiple.rs\n #![feature(no_core, lang_items)]\n #![crate_type = \"lib\"]\n #![no_core]"}, {"sha": "160cc955534c245b61b6ead5be72287035c87ac6", "filename": "tests/mir-opt/remove_never_const.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fmir-opt%2Fremove_never_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fmir-opt%2Fremove_never_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fmir-opt%2Fremove_never_const.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // This was originally a regression test for #66975 - ensure that we do not generate never typed\n // consts in codegen. We also have tests for this that catches the error, see\n-// src/test/ui/consts/const-eval/index-out-of-bounds-never-type.rs.\n+// tests/ui/consts/const-eval/index-out-of-bounds-never-type.rs.\n \n // Force generation of optimized mir for functions that do not reach codegen.\n // compile-flags: --emit mir,link"}, {"sha": "9d64fb4156ca162bd7e0bbdfb9765e379d367149", "filename": "tests/pretty/block-comment-wchar.pp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fpretty%2Fblock-comment-wchar.pp", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fpretty%2Fblock-comment-wchar.pp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpretty%2Fblock-comment-wchar.pp?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // This is meant as a test case for Issue 3961.\n //\n-// Test via: rustc -Zunpretty normal src/test/pretty/block-comment-wchar.rs\n+// Test via: rustc -Zunpretty normal tests/pretty/block-comment-wchar.rs\n // ignore-tidy-cr\n // ignore-tidy-tab\n // pp-exact:block-comment-wchar.pp"}, {"sha": "c042ea6859009dc7910aceb3bfcd9a8b177b552e", "filename": "tests/pretty/block-comment-wchar.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fpretty%2Fblock-comment-wchar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fpretty%2Fblock-comment-wchar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpretty%2Fblock-comment-wchar.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // This is meant as a test case for Issue 3961.\n //\n-// Test via: rustc -Zunpretty normal src/test/pretty/block-comment-wchar.rs\n+// Test via: rustc -Zunpretty normal tests/pretty/block-comment-wchar.rs\n // ignore-tidy-cr\n // ignore-tidy-tab\n // pp-exact:block-comment-wchar.pp"}, {"sha": "87f74c69c793963b1d8f2d8ee108c277d6965b21", "filename": "tests/run-make-fulldeps/alloc-no-oom-handling/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Falloc-no-oom-handling%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Falloc-no-oom-handling%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make-fulldeps%2Falloc-no-oom-handling%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n include ../tools.mk\n \n all:\n-\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../../library/alloc/src/lib.rs --cfg no_global_oom_handling\n+\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../library/alloc/src/lib.rs --cfg no_global_oom_handling"}, {"sha": "9824b17e6c2a7a9d443a27336db0fcc6a6c4d46b", "filename": "tests/run-make-fulldeps/alloc-no-rc/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Falloc-no-rc%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Falloc-no-rc%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make-fulldeps%2Falloc-no-rc%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n include ../tools.mk\n \n all:\n-\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../../library/alloc/src/lib.rs --cfg no_rc\n+\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../library/alloc/src/lib.rs --cfg no_rc"}, {"sha": "04ec4c7d8bc9a1831b7dfe38246fd99d3da25366", "filename": "tests/run-make-fulldeps/alloc-no-sync/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Falloc-no-sync%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Falloc-no-sync%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make-fulldeps%2Falloc-no-sync%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n include ../tools.mk\n \n all:\n-\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../../library/alloc/src/lib.rs --cfg no_sync\n+\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../library/alloc/src/lib.rs --cfg no_sync"}, {"sha": "837664d92b93842daf3707f07427cc641c77c41c", "filename": "tests/run-make-fulldeps/core-no-fp-fmt-parse/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Fcore-no-fp-fmt-parse%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Fcore-no-fp-fmt-parse%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make-fulldeps%2Fcore-no-fp-fmt-parse%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n include ../tools.mk\n \n all:\n-\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../../library/core/src/lib.rs --cfg no_fp_fmt_parse\n+\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../library/core/src/lib.rs --cfg no_fp_fmt_parse"}, {"sha": "212d0f67d0063919f122095f889d2ddc22ea5693", "filename": "tests/run-make-fulldeps/obtain-borrowck/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Fobtain-borrowck%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make-fulldeps%2Fobtain-borrowck%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make-fulldeps%2Fobtain-borrowck%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -4,7 +4,7 @@ include ../tools.mk\n # together with the borrow checker information.\n \n # How to run this\n-# $ ./x.py test src/test/run-make-fulldeps/obtain-borrowck\n+# $ ./x.py test tests/run-make-fulldeps/obtain-borrowck\n \n DRIVER_BINARY := \"$(TMPDIR)\"/driver\n SYSROOT := $(shell $(RUSTC) --print sysroot)"}, {"sha": "470ff996098b357d6c21c49326962ddb185169c7", "filename": "tests/run-make/coverage/compiletest-ignore-dir", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fcoverage%2Fcompiletest-ignore-dir", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fcoverage%2Fcompiletest-ignore-dir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make%2Fcoverage%2Fcompiletest-ignore-dir?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,3 +1,3 @@\n # Directory \"coverage\" supports the tests at prefix ../coverage-*\n \n-# Use ./x.py [options] test src/test/run-make/coverage to run all related tests.\n+# Use ./x.py [options] test tests/run-make/coverage to run all related tests."}, {"sha": "2b03c22c0d0d2a80ad3bb73f2d22c42a26934c48", "filename": "tests/run-make/repr128-dwarf/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Frepr128-dwarf%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Frepr128-dwarf%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make%2Frepr128-dwarf%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,5 +1,5 @@\n # ignore-windows\n-# This test should be replaced with one in src/test/debuginfo once GDB or LLDB support 128-bit\n+# This test should be replaced with one in tests/debuginfo once GDB or LLDB support 128-bit\n # enums.\n \n include ../../run-make-fulldeps/tools.mk"}, {"sha": "f4e6adf1b183cc676e76de3e9869f6d0d525a756", "filename": "tests/run-make/static-pie/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fstatic-pie%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fstatic-pie%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make%2Fstatic-pie%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -5,7 +5,7 @@ include ../../run-make-fulldeps/tools.mk\n # ignore-gnux32\n \n # How to manually run this\n-# $ ./x.py test --target x86_64-unknown-linux-[musl,gnu] src/test/run-make/static-pie\n+# $ ./x.py test --target x86_64-unknown-linux-[musl,gnu] tests/run-make/static-pie\n \n all: test-clang test-gcc\n "}, {"sha": "3065141c08a398a62c8784814f2d766bed579dc8", "filename": "tests/run-make/thumb-none-cortex-m/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fthumb-none-cortex-m%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fthumb-none-cortex-m%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make%2Fthumb-none-cortex-m%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -2,7 +2,7 @@ include ../../run-make-fulldeps/tools.mk\n \n # How to run this\n # $ ./x.py clean\n-# $ ./x.py test --target thumbv6m-none-eabi,thumbv7m-none-eabi src/test/run-make\n+# $ ./x.py test --target thumbv6m-none-eabi,thumbv7m-none-eabi tests/run-make\n \n # Supported targets:\n # - thumbv6m-none-eabi (Bare Cortex-M0, M0+, M1)"}, {"sha": "a1c2ba12cd069574c1de1792fa942967639279fb", "filename": "tests/run-make/thumb-none-qemu/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fthumb-none-qemu%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frun-make%2Fthumb-none-qemu%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make%2Fthumb-none-qemu%2FMakefile?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -4,7 +4,7 @@ include ../../run-make-fulldeps/tools.mk\n \n # How to run this\n # $ ./x.py clean\n-# $ ./x.py test --target thumbv7m-none-eabi src/test/run-make\n+# $ ./x.py test --target thumbv7m-none-eabi tests/run-make\n \n # For cargo setting\n export RUSTC := $(RUSTC_ORIGINAL)"}, {"sha": "1126a72ab67eae6de43659511812bed5047c4245", "filename": "tests/rustdoc-gui/README.md", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-gui%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-gui%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2FREADME.md?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -11,14 +11,14 @@ You can find more information and its documentation in its [repository][browser-\n If you need to have more information on the tests run, you can use `--test-args`:\n \n ```bash\n-$ ./x.py test src/test/rustdoc-gui --stage 1 --test-args --debug\n+$ ./x.py test tests/rustdoc-gui --stage 1 --test-args --debug\n ```\n \n If you don't want to run in headless mode (helpful to debug sometimes), you can use\n `--no-headless`:\n \n ```bash\n-$ ./x.py test src/test/rustdoc-gui --stage 1 --test-args --no-headless\n+$ ./x.py test tests/rustdoc-gui --stage 1 --test-args --no-headless\n ```\n \n To see the supported options, use `--help`.\n@@ -27,7 +27,7 @@ Important to be noted: if the chromium instance crashes when you run it, you mig\n use `--no-sandbox` to make it work:\n \n ```bash\n-$ ./x.py test src/test/rustdoc-gui --stage 1 --test-args --no-sandbox\n+$ ./x.py test tests/rustdoc-gui --stage 1 --test-args --no-sandbox\n ```\n \n [browser-ui-test]: https://github.com/GuillaumeGomez/browser-UI-test/"}, {"sha": "d40b928373555d09f9d0f0057c37dc91ac8e19b6", "filename": "tests/rustdoc-ui/cfg-test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcfg-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcfg-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcfg-test.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n // compile-flags:--test --test-args --test-threads=1\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n // Crates like core have doctests gated on `cfg(not(test))` so we need to make"}, {"sha": "920432276cba0f45f56a4c9854baf11b356affa8", "filename": "tests/rustdoc-ui/check-cfg-test.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcheck-cfg-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcheck-cfg-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcheck-cfg-test.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n // check-pass\n // compile-flags: --test --nocapture --check-cfg=values(feature,\"test\") -Z unstable-options\n-// normalize-stderr-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stderr-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n /// The doctest will produce a warning because feature invalid is unexpected"}, {"sha": "545662f0f3d1d5a73718b024cae3bd80c418ea75", "filename": "tests/rustdoc-ui/coverage/basic.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fbasic.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fbasic.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcoverage%2Fbasic.stdout?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n +-------------------------------------+------------+------------+------------+------------+\n | File                                | Documented | Percentage |   Examples | Percentage |\n +-------------------------------------+------------+------------+------------+------------+\n-| ...est/rustdoc-ui/coverage/basic.rs |          7 |      50.0% |          0 |       0.0% |\n+| ...sts/rustdoc-ui/coverage/basic.rs |          7 |      50.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+\n | Total                               |          7 |      50.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+"}, {"sha": "d486825287b1c897ae69ad97aeb564ed3c0fcd92", "filename": "tests/rustdoc-ui/coverage/empty.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fempty.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fempty.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcoverage%2Fempty.stdout?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n +-------------------------------------+------------+------------+------------+------------+\n | File                                | Documented | Percentage |   Examples | Percentage |\n +-------------------------------------+------------+------------+------------+------------+\n-| ...est/rustdoc-ui/coverage/empty.rs |          0 |       0.0% |          0 |       0.0% |\n+| ...sts/rustdoc-ui/coverage/empty.rs |          0 |       0.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+\n | Total                               |          0 |       0.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+"}, {"sha": "bb224aac8c0b75fcff19d2e66229e4a843fc4de2", "filename": "tests/rustdoc-ui/coverage/enums.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fenums.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fenums.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcoverage%2Fenums.stdout?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n +-------------------------------------+------------+------------+------------+------------+\n | File                                | Documented | Percentage |   Examples | Percentage |\n +-------------------------------------+------------+------------+------------+------------+\n-| ...est/rustdoc-ui/coverage/enums.rs |          6 |      75.0% |          0 |       0.0% |\n+| ...sts/rustdoc-ui/coverage/enums.rs |          6 |      75.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+\n | Total                               |          6 |      75.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+"}, {"sha": "bd894898cc45c46afe4245727d82aa08e8210444", "filename": "tests/rustdoc-ui/coverage/exotic.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fexotic.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fexotic.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcoverage%2Fexotic.stdout?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n +-------------------------------------+------------+------------+------------+------------+\n | File                                | Documented | Percentage |   Examples | Percentage |\n +-------------------------------------+------------+------------+------------+------------+\n-| ...st/rustdoc-ui/coverage/exotic.rs |          3 |     100.0% |          0 |       0.0% |\n+| ...ts/rustdoc-ui/coverage/exotic.rs |          3 |     100.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+\n | Total                               |          3 |     100.0% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+"}, {"sha": "b9981c7c50aacd5a69d367a8f7772189ecca7dca", "filename": "tests/rustdoc-ui/coverage/private.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fprivate.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Fprivate.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcoverage%2Fprivate.stdout?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n +-------------------------------------+------------+------------+------------+------------+\n | File                                | Documented | Percentage |   Examples | Percentage |\n +-------------------------------------+------------+------------+------------+------------+\n-| ...t/rustdoc-ui/coverage/private.rs |          4 |      57.1% |          0 |       0.0% |\n+| ...s/rustdoc-ui/coverage/private.rs |          4 |      57.1% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+\n | Total                               |          4 |      57.1% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+"}, {"sha": "0c7857cf29cef51dc1ccd46da24bd1bb83d961a0", "filename": "tests/rustdoc-ui/coverage/traits.stdout", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Ftraits.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fcoverage%2Ftraits.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fcoverage%2Ftraits.stdout?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n +-------------------------------------+------------+------------+------------+------------+\n | File                                | Documented | Percentage |   Examples | Percentage |\n +-------------------------------------+------------+------------+------------+------------+\n-| ...st/rustdoc-ui/coverage/traits.rs |          8 |      88.9% |          0 |       0.0% |\n+| ...ts/rustdoc-ui/coverage/traits.rs |          8 |      88.9% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+\n | Total                               |          8 |      88.9% |          0 |       0.0% |\n +-------------------------------------+------------+------------+------------+------------+"}, {"sha": "23bc54e3cde1a6c67c47c134a12dabc20b21cfc8", "filename": "tests/rustdoc-ui/display-output.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdisplay-output.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdisplay-output.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fdisplay-output.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -3,7 +3,7 @@\n // check-pass\n // edition:2018\n // compile-flags:--test --test-args=--show-output\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n /// ```"}, {"sha": "db674e229fc0d367c1d21dd16596cd0effda28da", "filename": "tests/rustdoc-ui/doc-comment-multi-line-attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-comment-multi-line-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-comment-multi-line-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fdoc-comment-multi-line-attr.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // Regression test for #97440: Multiline inner attribute triggers ICE during doctest\n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // check-pass\n "}, {"sha": "6ce3cb9fc07070de948ac5bbf2e27d3cb64f8838", "filename": "tests/rustdoc-ui/doc-comment-multi-line-cfg-attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-comment-multi-line-cfg-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-comment-multi-line-cfg-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fdoc-comment-multi-line-cfg-attr.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,5 +1,5 @@\n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // check-pass\n "}, {"sha": "88cf44e643be0df18eac2af4361e396166e66600", "filename": "tests/rustdoc-ui/doc-test-doctest-feature.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-test-doctest-feature.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-test-doctest-feature.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fdoc-test-doctest-feature.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n // Make sure `cfg(doctest)` is set when finding doctests but not inside"}, {"sha": "dc72a4857645ebf40f2b8b45ae22f1a28f92cf69", "filename": "tests/rustdoc-ui/doc-test-rustdoc-feature.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-test-rustdoc-feature.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoc-test-rustdoc-feature.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fdoc-test-rustdoc-feature.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n #![feature(doc_cfg)]"}, {"sha": "260f5a7a64f50bd13bed46a2ffffc2da69a472b3", "filename": "tests/rustdoc-ui/doctest-multiline-crate-attribute.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoctest-multiline-crate-attribute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoctest-multiline-crate-attribute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fdoctest-multiline-crate-attribute.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,5 +1,5 @@\n // compile-flags:--test --test-args=--test-threads=1\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // check-pass\n "}, {"sha": "303f7689698178b4a99a30a3cd35b3948b467536", "filename": "tests/rustdoc-ui/doctest-output.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoctest-output.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fdoctest-output.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fdoctest-output.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n // edition:2018\n // aux-build:extern_macros.rs\n // compile-flags:--test --test-args=--test-threads=1\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // check-pass\n "}, {"sha": "4dfca600f1627176aeff0bc7fcc535c96ab931a1", "filename": "tests/rustdoc-ui/failed-doctest-compile-fail.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-compile-fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-compile-fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ffailed-doctest-compile-fail.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -2,7 +2,7 @@\n // adapted to use that, and that normalize line can go away\n \n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n "}, {"sha": "03a5b9d5d842fcf550d8ab91398c39570760b6af", "filename": "tests/rustdoc-ui/failed-doctest-extra-semicolon-on-item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-extra-semicolon-on-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-extra-semicolon-on-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ffailed-doctest-extra-semicolon-on-item.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -2,7 +2,7 @@\n // adapted to use that, and that normalize line can go away\n \n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n "}, {"sha": "66a229a0c75763ebef6aad608e29897fa1edbc4f", "filename": "tests/rustdoc-ui/failed-doctest-missing-codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-missing-codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-missing-codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ffailed-doctest-missing-codes.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -2,7 +2,7 @@\n // adapted to use that, and that normalize line can go away\n \n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n "}, {"sha": "456a9e68f20c13afd02f53c7f461175275331ab6", "filename": "tests/rustdoc-ui/failed-doctest-output-windows.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-output-windows.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-output-windows.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ffailed-doctest-output-windows.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -7,7 +7,7 @@\n \n // compile-flags:--test --test-args --test-threads=1\n // rustc-env:RUST_BACKTRACE=0\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n "}, {"sha": "77647f8eca9547c62364b88c3be8429dcdfab502", "filename": "tests/rustdoc-ui/failed-doctest-output.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-output.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-output.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ffailed-doctest-output.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -7,7 +7,7 @@\n \n // compile-flags:--test --test-args --test-threads=1\n // rustc-env:RUST_BACKTRACE=0\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n "}, {"sha": "c134f80064d55d5bb971d21a2bf28f43b52cb0ff", "filename": "tests/rustdoc-ui/failed-doctest-should-panic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-should-panic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ffailed-doctest-should-panic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ffailed-doctest-should-panic.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -2,7 +2,7 @@\n // adapted to use that, and that normalize line can go away\n \n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n "}, {"sha": "80ff225b8791fc4adf2e59431762cd8c5e9e254f", "filename": "tests/rustdoc-ui/issue-80992.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fissue-80992.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fissue-80992.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fissue-80992.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n pub fn test() -> Result<(), ()> {"}, {"sha": "8a90813b31d5276727d210f5737619d4af285207", "filename": "tests/rustdoc-ui/issue-81662-shortness.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fissue-81662-shortness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fissue-81662-shortness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fissue-81662-shortness.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,5 +1,5 @@\n // compile-flags:--test --error-format=short\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n "}, {"sha": "42703ee4d79981234c8813fc427aa80481c0eac0", "filename": "tests/rustdoc-ui/issue-91134.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fissue-91134.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fissue-91134.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fissue-91134.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n // compile-flags: --test --crate-name=empty_fn --extern=empty_fn --test-args=--test-threads=1\n // aux-build:empty-fn.rs\n // check-pass\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // edition:2021\n "}, {"sha": "181730eb41618edac5b232c6a9eed4e0baffe77d", "filename": "tests/rustdoc-ui/no-run-flag.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fno-run-flag.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fno-run-flag.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fno-run-flag.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -2,7 +2,7 @@\n \n // check-pass\n // compile-flags:-Z unstable-options --test --no-run --test-args=--test-threads=1\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n /// ```"}, {"sha": "9a3fb592c6304af2aaf57ac39ab3666a6c961a6b", "filename": "tests/rustdoc-ui/nocapture-fail.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fnocapture-fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fnocapture-fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fnocapture-fail.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n // check-pass\n // compile-flags:--test -Zunstable-options --nocapture\n-// normalize-stderr-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stderr-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n /// ```compile_fail"}, {"sha": "3eb38f2fb3b8b47f08d75349fc0c865b908e90ac", "filename": "tests/rustdoc-ui/nocapture.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fnocapture.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Fnocapture.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Fnocapture.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n // compile-flags:--test -Zunstable-options --nocapture\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n /// ```"}, {"sha": "bbceaaf824f92c75f40d14e564e30df2499ee4f5", "filename": "tests/rustdoc-ui/run-directory.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Frun-directory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Frun-directory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Frun-directory.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -4,7 +4,7 @@\n // check-pass\n // [correct]compile-flags:--test --test-run-directory={{src-base}} -Zunstable-options\n // [incorrect]compile-flags:--test --test-run-directory={{src-base}}/coverage -Zunstable-options\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n /// ```"}, {"sha": "51abf1c721768ec2f099063f64e60de5baec58d6", "filename": "tests/rustdoc-ui/test-no_std.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ftest-no_std.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ftest-no_std.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ftest-no_std.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,5 +1,5 @@\n // compile-flags:--test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // check-pass\n "}, {"sha": "7f5a8f3fc415a6c257d13daeb0e5b324f681d1ed", "filename": "tests/rustdoc-ui/test-type.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ftest-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Ftest-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Ftest-type.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // compile-flags: --test --test-args=--test-threads=1\n // check-pass\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n \n /// ```"}, {"sha": "f0a56a91bf549cf4a3932f8363b125d7b17c4429", "filename": "tests/rustdoc-ui/unparseable-doc-test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Funparseable-doc-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Frustdoc-ui%2Funparseable-doc-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-ui%2Funparseable-doc-test.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,5 +1,5 @@\n // compile-flags: --test\n-// normalize-stdout-test: \"src/test/rustdoc-ui\" -> \"$$DIR\"\n+// normalize-stdout-test: \"tests/rustdoc-ui\" -> \"$$DIR\"\n // normalize-stdout-test \"finished in \\d+\\.\\d+s\" -> \"finished in $$TIME\"\n // failure-status: 101\n // rustc-env: RUST_BACKTRACE=0"}, {"sha": "4600bd090cc644dda6a7f31b9a55fa76c95aa0fe", "filename": "tests/ui/abi/homogenous-floats-target-feature-mixup.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fabi%2Fhomogenous-floats-target-feature-mixup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fabi%2Fhomogenous-floats-target-feature-mixup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fabi%2Fhomogenous-floats-target-feature-mixup.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n // This test check that even if we mixup target feature of function with homogenous floats,\n // the abi is sound and still produce the right answer.\n //\n-// This is basically the same test as src/test/ui/simd/target-feature-mixup.rs but for floats and\n+// This is basically the same test as tests/ui/simd/target-feature-mixup.rs but for floats and\n // without #[repr(simd)]\n \n // run-pass"}, {"sha": "067c620f5fe85f5a143c945f13e9496794688122", "filename": "tests/ui/cfg/assume-incomplete-release/auxiliary/ver-cfg-rel.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fcfg%2Fassume-incomplete-release%2Fauxiliary%2Fver-cfg-rel.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fcfg%2Fassume-incomplete-release%2Fauxiliary%2Fver-cfg-rel.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcfg%2Fassume-incomplete-release%2Fauxiliary%2Fver-cfg-rel.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -8,7 +8,7 @@ use proc_macro::{TokenStream, TokenTree as Tt};\n use std::str::FromStr;\n \n // String containing the current version number of the tip, i.e. \"1.41.2\"\n-static VERSION_NUMBER: &str = include_str!(\"../../../../../version\");\n+static VERSION_NUMBER: &str = include_str!(\"../../../../../src/version\");\n \n #[derive(Clone, Debug, PartialEq, Eq, PartialOrd, Ord)]\n struct Version {"}, {"sha": "61a1ee263eded4d6e9c3b4c25149a15cf4ec2abb", "filename": "tests/ui/crate-loading/crateresolve1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fcrate-loading%2Fcrateresolve1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fcrate-loading%2Fcrateresolve1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcrate-loading%2Fcrateresolve1.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -6,7 +6,7 @@\n // normalize-stderr-test: \"\\\\\\?\\\\\" -> \"\"\n // normalize-stderr-test: \"(lib)?crateresolve1-([123])\\.[a-z]+\" -> \"libcrateresolve1-$2.somelib\"\n \n-// NOTE: This test is duplicated at `src/test/ui/error-codes/E0464.rs`.\n+// NOTE: This test is duplicated at `tests/ui/error-codes/E0464.rs`.\n \n extern crate crateresolve1;\n //~^ ERROR multiple candidates for `rlib` dependency `crateresolve1` found"}, {"sha": "47717fbd508a899d03729d19e5623e1fa33f6d24", "filename": "tests/ui/error-codes/E0464.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Ferror-codes%2FE0464.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Ferror-codes%2FE0464.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0464.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -6,7 +6,7 @@\n // normalize-stderr-test: \"\\\\\\?\\\\\" -> \"\"\n // normalize-stderr-test: \"(lib)?crateresolve1-([123])\\.[a-z]+\" -> \"libcrateresolve1-$2.somelib\"\n \n-// NOTE: This test is duplicated from `src/test/ui/crate-loading/crateresolve1.rs`.\n+// NOTE: This test is duplicated from `tests/ui/crate-loading/crateresolve1.rs`.\n \n extern crate crateresolve1;\n //~^ ERROR multiple candidates for `rlib` dependency `crateresolve1` found"}, {"sha": "7b1a217bdeca96ba2ec13c39ebe8985735d433c8", "filename": "tests/ui/error-codes/E0711.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Ferror-codes%2FE0711.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Ferror-codes%2FE0711.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0711.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,4 +1,4 @@\n-// copied from: src/test/ui/feature-gates/stability-attribute-consistency.rs\n+// copied from: tests/ui/feature-gates/stability-attribute-consistency.rs\n \n #![feature(staged_api)]\n "}, {"sha": "0b749040a0e3abdae7d62c3bed6e1e822c1d6a53", "filename": "tests/ui/functions-closures/closure-expected-type/README.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Ffunctions-closures%2Fclosure-expected-type%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Ffunctions-closures%2Fclosure-expected-type%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffunctions-closures%2Fclosure-expected-type%2FREADME.md?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -5,4 +5,4 @@ inputs. This investigation was kicked off by #38714, which revealed\n some pretty deep flaws in the ad-hoc way that we were doing things\n before.\n \n-See also `src/test/ui/closure-expected-type`.\n+See also `tests/ui/closure-expected-type`."}, {"sha": "c6efda9541fb18efb98610b5f10c1dca30b46023", "filename": "tests/ui/generator/drop-control-flow.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fgenerator%2Fdrop-control-flow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fgenerator%2Fdrop-control-flow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fgenerator%2Fdrop-control-flow.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -18,7 +18,7 @@ impl !Send for NonSend {}\n \n fn assert_send<T: Send>(_: T) {}\n \n-// This test case is reduced from src/test/ui/drop/dynamic-drop-async.rs\n+// This test case is reduced from tests/ui/drop/dynamic-drop-async.rs\n fn one_armed_if(arg: bool) {\n     let _ = || {\n         let arr = [Ptr];"}, {"sha": "89124ad7289acdc64764e7be72380bfdb0840cc8", "filename": "tests/ui/generator/print/generator-print-verbose-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fgenerator%2Fprint%2Fgenerator-print-verbose-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fgenerator%2Fprint%2Fgenerator-print-verbose-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fgenerator%2Fprint%2Fgenerator-print-verbose-1.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,6 +1,6 @@\n // compile-flags: -Zverbose\n \n-// Same as: src/test/ui/generator/issue-68112.stderr\n+// Same as: tests/ui/generator/issue-68112.stderr\n \n #![feature(generators, generator_trait)]\n "}, {"sha": "87f8b6ad5730b81b59aa664f17e9746358fa03e3", "filename": "tests/ui/hashmap/hashmap-memory.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fhashmap%2Fhashmap-memory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fhashmap%2Fhashmap-memory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fhashmap%2Fhashmap-memory.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -90,5 +90,5 @@ mod map_reduce {\n \n pub fn main() {\n     map_reduce::map_reduce(\n-        vec![\"../src/test/run-pass/hashmap-memory.rs\".to_string()]);\n+        vec![\"../tests/run-pass/hashmap-memory.rs\".to_string()]);\n }"}, {"sha": "73dd71d482ff53cff4a687550cf24ba7e0bef04d", "filename": "tests/ui/intrinsics/intrinsic-unreachable.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fintrinsics%2Fintrinsic-unreachable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fintrinsics%2Fintrinsic-unreachable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fintrinsics%2Fintrinsic-unreachable.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -3,7 +3,7 @@\n \n use std::intrinsics;\n \n-// See also src/test/run-make/intrinsic-unreachable.\n+// See also tests/run-make/intrinsic-unreachable.\n \n unsafe fn f(x: usize) -> usize {\n     match x {"}, {"sha": "53ac398b8f5231c9f98c326742d1a6f663407c33", "filename": "tests/ui/let-else/let-else-bindings.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Flet-else%2Flet-else-bindings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Flet-else%2Flet-else-bindings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flet-else%2Flet-else-bindings.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,5 +1,5 @@\n // run-pass\n-// adapted from src/test/ui/binding/if-let.rs\n+// adapted from tests/ui/binding/if-let.rs\n \n #![allow(dead_code)]\n "}, {"sha": "c65e2d73fadec2040203464ab7c71631b26592c0", "filename": "tests/ui/save-analysis/issue-89066.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fsave-analysis%2Fissue-89066.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/tests%2Fui%2Fsave-analysis%2Fissue-89066.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsave-analysis%2Fissue-89066.rs?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -1,7 +1,7 @@\n // compile-flags: -Zsave-analysis\n \n // Check that this does not ICE.\n-// Stolen from src/test/ui/const-generics/generic_arg_infer/infer-arg-test.rs\n+// Stolen from tests/ui/const-generics/generic_arg_infer/infer-arg-test.rs\n \n #![feature(generic_arg_infer)]\n "}, {"sha": "a3eec63e36894bdc061a2d909335ea26f591a129", "filename": "triagebot.toml", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/40ba0e84d53f605ccf01836e9c2d27892728ae81/triagebot.toml", "raw_url": "https://github.com/rust-lang/rust/raw/40ba0e84d53f605ccf01836e9c2d27892728ae81/triagebot.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/triagebot.toml?ref=40ba0e84d53f605ccf01836e9c2d27892728ae81", "patch": "@@ -120,12 +120,12 @@ trigger_files = [\n     \"src/rustdoc-json-types\",\n \n     # Tests\n-    \"src/test/rustdoc\",\n-    \"src/test/rustdoc-ui\",\n-    \"src/test/rustdoc-gui\",\n-    \"src/test/rustdoc-js\",\n-    \"src/test/rustdoc-js-std\",\n-    \"src/test/rustdoc-json\",\n+    \"tests/rustdoc\",\n+    \"tests/rustdoc-ui\",\n+    \"tests/rustdoc-gui\",\n+    \"tests/rustdoc-js\",\n+    \"tests/rustdoc-js-std\",\n+    \"tests/rustdoc-json\",\n \n     # Internal tooling\n     \"src/etc/htmldocck.py\",\n@@ -143,7 +143,7 @@ exclude_labels = [\n trigger_files = [\n     \"src/librustdoc/json/\",\n     \"src/rustdoc-json-types\",\n-    \"src/test/rustdoc-json\",\n+    \"tests/rustdoc-json\",\n     \"src/tools/jsondocck\",\n     \"src/tools/jsondoclint\",\n ]\n@@ -154,7 +154,7 @@ trigger_files = [\n     \"compiler\",\n \n     # Tests\n-    \"src/test/ui\",\n+    \"tests/ui\",\n ]\n exclude_labels = [\n     \"T-*\",\n@@ -601,7 +601,7 @@ fallback = [\n \"/src/llvm-project\" =                        [\"@cuviper\"]\n \"/src/rustdoc-json-types\" =                  [\"rustdoc\"]\n \"/src/stage0.json\" =                         [\"bootstrap\"]\n-\"/src/test/ui\" =                             [\"compiler\"]\n+\"/tests/ui\" =                                [\"compiler\"]\n \"/src/tools/cargo\" =                         [\"@ehuss\", \"@joshtriplett\"]\n \"/src/tools/compiletest\" =                   [\"bootstrap\"]\n \"/src/tools/linkchecker\" =                   [\"@ehuss\"]"}]}