{"sha": "efb908991b2c2cd43c40c8e62f563fdd17d84204", "node_id": "C_kwDOAAsO6NoAKGVmYjkwODk5MWIyYzJjZDQzYzQwYzhlNjJmNTYzZmRkMTdkODQyMDQ", "commit": {"author": {"name": "b-naber", "email": "bn263@gmx.de", "date": "2022-09-21T16:55:32Z"}, "committer": {"name": "b-naber", "email": "bn263@gmx.de", "date": "2022-09-22T10:35:29Z"}, "message": "address review", "tree": {"sha": "9842b772c2c8de3bc7f4147d596f5cacac5a1a28", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9842b772c2c8de3bc7f4147d596f5cacac5a1a28"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/efb908991b2c2cd43c40c8e62f563fdd17d84204", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/efb908991b2c2cd43c40c8e62f563fdd17d84204", "html_url": "https://github.com/rust-lang/rust/commit/efb908991b2c2cd43c40c8e62f563fdd17d84204", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/efb908991b2c2cd43c40c8e62f563fdd17d84204/comments", "author": {"login": "b-naber", "id": 71934879, "node_id": "MDQ6VXNlcjcxOTM0ODc5", "avatar_url": "https://avatars.githubusercontent.com/u/71934879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b-naber", "html_url": "https://github.com/b-naber", "followers_url": "https://api.github.com/users/b-naber/followers", "following_url": "https://api.github.com/users/b-naber/following{/other_user}", "gists_url": "https://api.github.com/users/b-naber/gists{/gist_id}", "starred_url": "https://api.github.com/users/b-naber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b-naber/subscriptions", "organizations_url": "https://api.github.com/users/b-naber/orgs", "repos_url": "https://api.github.com/users/b-naber/repos", "events_url": "https://api.github.com/users/b-naber/events{/privacy}", "received_events_url": "https://api.github.com/users/b-naber/received_events", "type": "User", "site_admin": false}, "committer": {"login": "b-naber", "id": 71934879, "node_id": "MDQ6VXNlcjcxOTM0ODc5", "avatar_url": "https://avatars.githubusercontent.com/u/71934879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b-naber", "html_url": "https://github.com/b-naber", "followers_url": "https://api.github.com/users/b-naber/followers", "following_url": "https://api.github.com/users/b-naber/following{/other_user}", "gists_url": "https://api.github.com/users/b-naber/gists{/gist_id}", "starred_url": "https://api.github.com/users/b-naber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b-naber/subscriptions", "organizations_url": "https://api.github.com/users/b-naber/orgs", "repos_url": "https://api.github.com/users/b-naber/repos", "events_url": "https://api.github.com/users/b-naber/events{/privacy}", "received_events_url": "https://api.github.com/users/b-naber/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db7df5941890a7f5482b137ddb8ff34e6aec613b", "url": "https://api.github.com/repos/rust-lang/rust/commits/db7df5941890a7f5482b137ddb8ff34e6aec613b", "html_url": "https://github.com/rust-lang/rust/commit/db7df5941890a7f5482b137ddb8ff34e6aec613b"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "9ff57502a385e6613dbbf50e194e63212eb614e9", "filename": "compiler/rustc_middle/src/mir/mod.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/efb908991b2c2cd43c40c8e62f563fdd17d84204/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/efb908991b2c2cd43c40c8e62f563fdd17d84204/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs?ref=efb908991b2c2cd43c40c8e62f563fdd17d84204", "patch": "@@ -2055,7 +2055,7 @@ pub enum ConstantKind<'tcx> {\n     Ty(ty::Const<'tcx>),\n \n     /// An unevaluated mir constant which is not part of the type system.\n-    Unevaluated(Unevaluated<'tcx, Option<Promoted>>, Ty<'tcx>),\n+    Unevaluated(Unevaluated<'tcx>, Ty<'tcx>),\n \n     /// This constant cannot go back into the type system, as it represents\n     /// something the type system cannot handle (e.g. pointers).\n@@ -2442,10 +2442,10 @@ impl<'tcx> ConstantKind<'tcx> {\n /// An unevaluated (potentially generic) constant used in MIR.\n #[derive(Copy, Clone, Debug, Eq, PartialEq, PartialOrd, Ord, TyEncodable, TyDecodable, Lift)]\n #[derive(Hash, HashStable)]\n-pub struct Unevaluated<'tcx, P = Option<Promoted>> {\n+pub struct Unevaluated<'tcx> {\n     pub def: ty::WithOptConstParam<DefId>,\n     pub substs: SubstsRef<'tcx>,\n-    pub promoted: P,\n+    pub promoted: Option<Promoted>,\n }\n \n impl<'tcx> Unevaluated<'tcx> {\n@@ -2457,9 +2457,9 @@ impl<'tcx> Unevaluated<'tcx> {\n     }\n }\n \n-impl<'tcx, P: Default> Unevaluated<'tcx, P> {\n+impl<'tcx> Unevaluated<'tcx> {\n     #[inline]\n-    pub fn new(def: ty::WithOptConstParam<DefId>, substs: SubstsRef<'tcx>) -> Unevaluated<'tcx, P> {\n+    pub fn new(def: ty::WithOptConstParam<DefId>, substs: SubstsRef<'tcx>) -> Unevaluated<'tcx> {\n         Unevaluated { def, substs, promoted: Default::default() }\n     }\n }"}]}