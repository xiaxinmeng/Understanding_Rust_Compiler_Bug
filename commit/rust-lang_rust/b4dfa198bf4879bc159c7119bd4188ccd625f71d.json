{"sha": "b4dfa198bf4879bc159c7119bd4188ccd625f71d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI0ZGZhMTk4YmY0ODc5YmMxNTljNzExOWJkNDE4OGNjZDYyNWY3MWQ=", "commit": {"author": {"name": "Dan Gohman", "email": "dev@sunfishcode.online", "date": "2021-08-19T23:15:29Z"}, "committer": {"name": "Dan Gohman", "email": "dev@sunfishcode.online", "date": "2021-08-19T23:15:29Z"}, "message": "Fix doc test failures on Windows.", "tree": {"sha": "1a49af6d6d3da17d8310b137632edcc3fe1fb232", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1a49af6d6d3da17d8310b137632edcc3fe1fb232"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b4dfa198bf4879bc159c7119bd4188ccd625f71d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b4dfa198bf4879bc159c7119bd4188ccd625f71d", "html_url": "https://github.com/rust-lang/rust/commit/b4dfa198bf4879bc159c7119bd4188ccd625f71d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b4dfa198bf4879bc159c7119bd4188ccd625f71d/comments", "author": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e555003e6d6b6d71ce5509a6b6c7a15861208d6c", "url": "https://api.github.com/repos/rust-lang/rust/commits/e555003e6d6b6d71ce5509a6b6c7a15861208d6c", "html_url": "https://github.com/rust-lang/rust/commit/e555003e6d6b6d71ce5509a6b6c7a15861208d6c"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "52d7d4690d39fe9f8414aca445e27f91aa84b057", "filename": "library/std/src/os/fd/owned.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b4dfa198bf4879bc159c7119bd4188ccd625f71d/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4dfa198bf4879bc159c7119bd4188ccd625f71d/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs?ref=b4dfa198bf4879bc159c7119bd4188ccd625f71d", "patch": "@@ -159,6 +159,7 @@ pub trait AsFd {\n     /// # use std::os::unix::io::{AsFd, BorrowedFd};\n     ///\n     /// let mut f = File::open(\"foo.txt\")?;\n+    /// # #[cfg(any(unix, target_os = \"wasi\"))]\n     /// let borrowed_fd: BorrowedFd<'_> = f.as_fd();\n     /// # Ok::<(), io::Error>(())\n     /// ```"}, {"sha": "f874cf0b42d74fefbe97ae3929675b8a31f84398", "filename": "library/std/src/os/fd/raw.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b4dfa198bf4879bc159c7119bd4188ccd625f71d/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fraw.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4dfa198bf4879bc159c7119bd4188ccd625f71d/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fraw.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fraw.rs?ref=b4dfa198bf4879bc159c7119bd4188ccd625f71d", "patch": "@@ -40,6 +40,7 @@ pub trait AsRawFd {\n     ///\n     /// let mut f = File::open(\"foo.txt\")?;\n     /// // Note that `raw_fd` is only valid as long as `f` exists.\n+    /// #[cfg(any(unix, target_os = \"wasi\"))]\n     /// let raw_fd: RawFd = f.as_raw_fd();\n     /// # Ok::<(), io::Error>(())\n     /// ```\n@@ -75,9 +76,11 @@ pub trait FromRawFd {\n     /// use std::os::wasi::io::{FromRawFd, IntoRawFd, RawFd};\n     ///\n     /// let f = File::open(\"foo.txt\")?;\n+    /// # #[cfg(any(unix, target_os = \"wasi\"))]\n     /// let raw_fd: RawFd = f.into_raw_fd();\n     /// // SAFETY: no other functions should call `from_raw_fd`, so there\n     /// // is only one owner for the file descriptor.\n+    /// # #[cfg(any(unix, target_os = \"wasi\"))]\n     /// let f = unsafe { File::from_raw_fd(raw_fd) };\n     /// # Ok::<(), io::Error>(())\n     /// ```\n@@ -106,6 +109,7 @@ pub trait IntoRawFd {\n     /// use std::os::wasi::io::{IntoRawFd, RawFd};\n     ///\n     /// let f = File::open(\"foo.txt\")?;\n+    /// #[cfg(any(unix, target_os = \"wasi\"))]\n     /// let raw_fd: RawFd = f.into_raw_fd();\n     /// # Ok::<(), io::Error>(())\n     /// ```"}, {"sha": "72a17adb3b4707b3353a63c27073c98ad43b338c", "filename": "library/std/src/os/windows/io/handle.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b4dfa198bf4879bc159c7119bd4188ccd625f71d/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4dfa198bf4879bc159c7119bd4188ccd625f71d/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs?ref=b4dfa198bf4879bc159c7119bd4188ccd625f71d", "patch": "@@ -237,9 +237,10 @@ pub trait AsHandle {\n     /// # Example\n     ///\n     /// ```rust,no_run\n+    /// # #![feature(io_safety)]\n     /// use std::fs::File;\n     /// # use std::io;\n-    /// use std::os::windows::{AsHandle, BorrowedHandle};\n+    /// use std::os::windows::io::{AsHandle, BorrowedHandle};\n     ///\n     /// let mut f = File::open(\"foo.txt\")?;\n     /// let borrowed_handle: BorrowedHandle<'_> = f.as_handle();"}]}