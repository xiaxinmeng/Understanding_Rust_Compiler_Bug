{"sha": "23674be0b1ff920773520c7fec96c3a4b2068b21", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIzNjc0YmUwYjFmZjkyMDc3MzUyMGM3ZmVjOTZjM2E0YjIwNjhiMjE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-11-27T14:17:40Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-11-27T14:17:40Z"}, "message": "auto merge of #10684 : jld/rust/unstruct-unhack-typekind, r=alexcrichton", "tree": {"sha": "fd36b567f08cb76640e3803c574674271f1985bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fd36b567f08cb76640e3803c574674271f1985bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/23674be0b1ff920773520c7fec96c3a4b2068b21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/23674be0b1ff920773520c7fec96c3a4b2068b21", "html_url": "https://github.com/rust-lang/rust/commit/23674be0b1ff920773520c7fec96c3a4b2068b21", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/23674be0b1ff920773520c7fec96c3a4b2068b21/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "17af6f7d0c92ee66df6b96d088e999db378ce125", "url": "https://api.github.com/repos/rust-lang/rust/commits/17af6f7d0c92ee66df6b96d088e999db378ce125", "html_url": "https://github.com/rust-lang/rust/commit/17af6f7d0c92ee66df6b96d088e999db378ce125"}, {"sha": "57c1a01a93d68452c3c1612006cab16d2a28f3da", "url": "https://api.github.com/repos/rust-lang/rust/commits/57c1a01a93d68452c3c1612006cab16d2a28f3da", "html_url": "https://github.com/rust-lang/rust/commit/57c1a01a93d68452c3c1612006cab16d2a28f3da"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "6443d8469de4d4afae34f4db4915be077adfbe68", "filename": "src/librustc/lib/llvm.rs", "status": "modified", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/23674be0b1ff920773520c7fec96c3a4b2068b21/src%2Flibrustc%2Flib%2Fllvm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/23674be0b1ff920773520c7fec96c3a4b2068b21/src%2Flibrustc%2Flib%2Fllvm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib%2Fllvm.rs?ref=23674be0b1ff920773520c7fec96c3a4b2068b21", "patch": "@@ -128,22 +128,62 @@ pub enum RealPredicate {\n \n // The LLVM TypeKind type - must stay in sync with the def of\n // LLVMTypeKind in llvm/include/llvm-c/Core.h\n+#[cfg(not(stage0))]\n+#[deriving(Eq)]\n+#[repr(C)]\n+pub enum TypeKind {\n+    Void      = 0,\n+    Half      = 1,\n+    Float     = 2,\n+    Double    = 3,\n+    X86_FP80  = 4,\n+    FP128     = 5,\n+    PPC_FP128 = 6,\n+    Label     = 7,\n+    Integer   = 8,\n+    Function  = 9,\n+    Struct    = 10,\n+    Array     = 11,\n+    Pointer   = 12,\n+    Vector    = 13,\n+    Metadata  = 14,\n+    X86_MMX   = 15,\n+}\n+\n+// NOTE remove these after snapshot.  (See also #10308.)\n+#[cfg(stage0)]\n pub type TypeKind = u32;\n+#[cfg(stage0)]\n pub static Void: TypeKind      = 0;\n+#[cfg(stage0)]\n pub static Half: TypeKind      = 1;\n+#[cfg(stage0)]\n pub static Float: TypeKind     = 2;\n+#[cfg(stage0)]\n pub static Double: TypeKind    = 3;\n+#[cfg(stage0)]\n pub static X86_FP80: TypeKind  = 4;\n+#[cfg(stage0)]\n pub static FP128: TypeKind     = 5;\n+#[cfg(stage0)]\n pub static PPC_FP128: TypeKind = 6;\n+#[cfg(stage0)]\n pub static Label: TypeKind     = 7;\n+#[cfg(stage0)]\n pub static Integer: TypeKind   = 8;\n+#[cfg(stage0)]\n pub static Function: TypeKind  = 9;\n+#[cfg(stage0)]\n pub static Struct: TypeKind    = 10;\n+#[cfg(stage0)]\n pub static Array: TypeKind     = 11;\n+#[cfg(stage0)]\n pub static Pointer: TypeKind   = 12;\n+#[cfg(stage0)]\n pub static Vector: TypeKind    = 13;\n+#[cfg(stage0)]\n pub static Metadata: TypeKind  = 14;\n+#[cfg(stage0)]\n pub static X86_MMX: TypeKind   = 15;\n \n #[repr(C)]"}]}