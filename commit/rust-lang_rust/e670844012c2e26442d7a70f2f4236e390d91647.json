{"sha": "e670844012c2e26442d7a70f2f4236e390d91647", "node_id": "C_kwDOAAsO6NoAKGU2NzA4NDQwMTJjMmUyNjQ0MmQ3YTcwZjJmNDIzNmUzOTBkOTE2NDc", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-12-31T05:08:24Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-12-31T05:08:24Z"}, "message": "Auto merge of #91929 - anuvratsingh:remove_in_band_lifetimes_compiler_rustc_traits, r=jackh726\n\nRemoved `in_band_lifetimes` from `rustc_traits`\n\nIssue: [#91867](https://github.com/rust-lang/rust/issues/91867)", "tree": {"sha": "db2c4c75834b01d32803ce7f8feb9ccb1a99105b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db2c4c75834b01d32803ce7f8feb9ccb1a99105b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e670844012c2e26442d7a70f2f4236e390d91647", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e670844012c2e26442d7a70f2f4236e390d91647", "html_url": "https://github.com/rust-lang/rust/commit/e670844012c2e26442d7a70f2f4236e390d91647", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e670844012c2e26442d7a70f2f4236e390d91647/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8baeddfe8f101ca18822c4030caefa8e56d8c16c", "url": "https://api.github.com/repos/rust-lang/rust/commits/8baeddfe8f101ca18822c4030caefa8e56d8c16c", "html_url": "https://github.com/rust-lang/rust/commit/8baeddfe8f101ca18822c4030caefa8e56d8c16c"}, {"sha": "58a888fcc1fcbc50092d3d00bccba1bdbd24a6ad", "url": "https://api.github.com/repos/rust-lang/rust/commits/58a888fcc1fcbc50092d3d00bccba1bdbd24a6ad", "html_url": "https://github.com/rust-lang/rust/commit/58a888fcc1fcbc50092d3d00bccba1bdbd24a6ad"}], "stats": {"total": 19, "additions": 9, "deletions": 10}, "files": [{"sha": "c38680651af7f276c605de1c0cffb5da3aaa2aca", "filename": "compiler/rustc_traits/src/chalk/db.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Fchalk%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Fchalk%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Fchalk%2Fdb.rs?ref=e670844012c2e26442d7a70f2f4236e390d91647", "patch": "@@ -724,7 +724,7 @@ impl<'tcx> chalk_ir::UnificationDatabase<RustInterner<'tcx>> for RustIrDatabase<\n /// var bound at index `0`. For types, we use a `BoundVar` index equal to\n /// the type parameter index. For regions, we use the `BoundRegionKind::BrNamed`\n /// variant (which has a `DefId`).\n-fn bound_vars_for_item(tcx: TyCtxt<'tcx>, def_id: DefId) -> SubstsRef<'tcx> {\n+fn bound_vars_for_item<'tcx>(tcx: TyCtxt<'tcx>, def_id: DefId) -> SubstsRef<'tcx> {\n     InternalSubsts::for_item(tcx, def_id, |param, substs| match param.kind {\n         ty::GenericParamDefKind::Type { .. } => tcx\n             .mk_ty(ty::Bound("}, {"sha": "90c698db8fb542eb212b88623332213d1ab8e7f6", "filename": "compiler/rustc_traits/src/implied_outlives_bounds.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Fimplied_outlives_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Fimplied_outlives_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Fimplied_outlives_bounds.rs?ref=e670844012c2e26442d7a70f2f4236e390d91647", "patch": "@@ -138,7 +138,7 @@ fn compute_implied_outlives_bounds<'tcx>(\n /// this down to determine what relationships would have to hold for\n /// `T: 'a` to hold. We get to assume that the caller has validated\n /// those relationships.\n-fn implied_bounds_from_components(\n+fn implied_bounds_from_components<'tcx>(\n     sub_region: ty::Region<'tcx>,\n     sup_components: SmallVec<[Component<'tcx>; 4]>,\n ) -> Vec<OutlivesBound<'tcx>> {"}, {"sha": "b814b984daeefcbd47ca7bb0f9a5bee18cdf28a8", "filename": "compiler/rustc_traits/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Flib.rs?ref=e670844012c2e26442d7a70f2f4236e390d91647", "patch": "@@ -2,7 +2,6 @@\n //! the guts are broken up into modules; see the comments in those modules.\n \n #![feature(crate_visibility_modifier)]\n-#![feature(in_band_lifetimes)]\n #![feature(nll)]\n #![recursion_limit = \"256\"]\n "}, {"sha": "46c2f7e4cf2ed2ada9587a72a69ff03ec8b77f54", "filename": "compiler/rustc_traits/src/normalize_erasing_regions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Fnormalize_erasing_regions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Fnormalize_erasing_regions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Fnormalize_erasing_regions.rs?ref=e670844012c2e26442d7a70f2f4236e390d91647", "patch": "@@ -57,7 +57,7 @@ fn try_normalize_after_erasing_regions<'tcx, T: TypeFoldable<'tcx> + PartialEq +\n     })\n }\n \n-fn not_outlives_predicate(p: &ty::Predicate<'tcx>) -> bool {\n+fn not_outlives_predicate<'tcx>(p: &ty::Predicate<'tcx>) -> bool {\n     match p.kind().skip_binder() {\n         ty::PredicateKind::RegionOutlives(..) | ty::PredicateKind::TypeOutlives(..) => false,\n         ty::PredicateKind::Trait(..)"}, {"sha": "6fcac9fcdc622aa0fdedcfcff850a9d99854aee0", "filename": "compiler/rustc_traits/src/type_op.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Ftype_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e670844012c2e26442d7a70f2f4236e390d91647/compiler%2Frustc_traits%2Fsrc%2Ftype_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Ftype_op.rs?ref=e670844012c2e26442d7a70f2f4236e390d91647", "patch": "@@ -70,7 +70,7 @@ struct AscribeUserTypeCx<'me, 'tcx> {\n     fulfill_cx: &'me mut dyn TraitEngine<'tcx>,\n }\n \n-impl AscribeUserTypeCx<'me, 'tcx> {\n+impl<'me, 'tcx> AscribeUserTypeCx<'me, 'tcx> {\n     fn normalize<T>(&mut self, value: T) -> T\n     where\n         T: TypeFoldable<'tcx>,\n@@ -195,7 +195,7 @@ fn type_op_eq<'tcx>(\n     })\n }\n \n-fn type_op_normalize<T>(\n+fn type_op_normalize<'tcx, T>(\n     infcx: &InferCtxt<'_, 'tcx>,\n     fulfill_cx: &mut dyn TraitEngine<'tcx>,\n     key: ParamEnvAnd<'tcx, Normalize<T>>,\n@@ -210,28 +210,28 @@ where\n     Ok(value)\n }\n \n-fn type_op_normalize_ty(\n+fn type_op_normalize_ty<'tcx>(\n     tcx: TyCtxt<'tcx>,\n     canonicalized: Canonical<'tcx, ParamEnvAnd<'tcx, Normalize<Ty<'tcx>>>>,\n ) -> Result<&'tcx Canonical<'tcx, QueryResponse<'tcx, Ty<'tcx>>>, NoSolution> {\n     tcx.infer_ctxt().enter_canonical_trait_query(&canonicalized, type_op_normalize)\n }\n \n-fn type_op_normalize_predicate(\n+fn type_op_normalize_predicate<'tcx>(\n     tcx: TyCtxt<'tcx>,\n     canonicalized: Canonical<'tcx, ParamEnvAnd<'tcx, Normalize<Predicate<'tcx>>>>,\n ) -> Result<&'tcx Canonical<'tcx, QueryResponse<'tcx, Predicate<'tcx>>>, NoSolution> {\n     tcx.infer_ctxt().enter_canonical_trait_query(&canonicalized, type_op_normalize)\n }\n \n-fn type_op_normalize_fn_sig(\n+fn type_op_normalize_fn_sig<'tcx>(\n     tcx: TyCtxt<'tcx>,\n     canonicalized: Canonical<'tcx, ParamEnvAnd<'tcx, Normalize<FnSig<'tcx>>>>,\n ) -> Result<&'tcx Canonical<'tcx, QueryResponse<'tcx, FnSig<'tcx>>>, NoSolution> {\n     tcx.infer_ctxt().enter_canonical_trait_query(&canonicalized, type_op_normalize)\n }\n \n-fn type_op_normalize_poly_fn_sig(\n+fn type_op_normalize_poly_fn_sig<'tcx>(\n     tcx: TyCtxt<'tcx>,\n     canonicalized: Canonical<'tcx, ParamEnvAnd<'tcx, Normalize<PolyFnSig<'tcx>>>>,\n ) -> Result<&'tcx Canonical<'tcx, QueryResponse<'tcx, PolyFnSig<'tcx>>>, NoSolution> {"}]}