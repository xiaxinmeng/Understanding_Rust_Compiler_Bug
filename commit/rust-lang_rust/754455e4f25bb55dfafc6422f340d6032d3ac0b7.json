{"sha": "754455e4f25bb55dfafc6422f340d6032d3ac0b7", "node_id": "C_kwDOAAsO6NoAKDc1NDQ1NWU0ZjI1YmI1NWRmYWZjNjQyMmYzNDBkNjAzMmQzYWMwYjc", "commit": {"author": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2021-11-04T03:00:00Z"}, "committer": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2021-11-04T03:00:00Z"}, "message": "Clean up some `-Z unstable-options` in tests.", "tree": {"sha": "2634858318a56c6d02a364362aacda60aead74a1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2634858318a56c6d02a364362aacda60aead74a1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/754455e4f25bb55dfafc6422f340d6032d3ac0b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/754455e4f25bb55dfafc6422f340d6032d3ac0b7", "html_url": "https://github.com/rust-lang/rust/commit/754455e4f25bb55dfafc6422f340d6032d3ac0b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/754455e4f25bb55dfafc6422f340d6032d3ac0b7/comments", "author": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4ff90232a0c0c6adb9d2052da2206b26c3c723e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/4ff90232a0c0c6adb9d2052da2206b26c3c723e4", "html_url": "https://github.com/rust-lang/rust/commit/4ff90232a0c0c6adb9d2052da2206b26c3c723e4"}], "stats": {"total": 65, "additions": 27, "deletions": 38}, "files": [{"sha": "134d8af5bfb8aba42320695460111a4b87ca45cf", "filename": "src/test/ui/hello2021.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fhello2021.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fhello2021.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhello2021.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,5 @@\n // run-pass\n // edition:2021\n-// compile-flags: -Zunstable-options\n \n fn main() {\n     println!(\"hello, 2021\");"}, {"sha": "158317efe4782c9b1e23014e26503f5c76a304d3", "filename": "src/test/ui/iterators/into-iter-on-arrays-2021.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fiterators%2Finto-iter-on-arrays-2021.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fiterators%2Finto-iter-on-arrays-2021.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fiterators%2Finto-iter-on-arrays-2021.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,5 @@\n // check-pass\n // edition:2021\n-// compile-flags: -Zunstable-options\n \n use std::array::IntoIter;\n use std::ops::Deref;"}, {"sha": "3a3d81176d691363bd6488e7bc2d8fb7f78ee668", "filename": "src/test/ui/lint/force-warn/allowed-cli-deny-by-default-lint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-cli-deny-by-default-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-cli-deny-by-default-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fallowed-cli-deny-by-default-lint.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,6 @@\n // --force-warn $LINT causes $LINT (which is deny-by-default) to warn\n // despite $LINT being allowed on command line\n-// compile-flags: -A const_err --force-warn const_err -Zunstable-options\n+// compile-flags: -A const_err --force-warn const_err\n // check-pass\n \n const C: i32 = 1 / 0;"}, {"sha": "9736027452a8df0811863d80ea2d3c1cceaa7e9f", "filename": "src/test/ui/lint/force-warn/lint-group-allowed-cli-warn-by-default-lint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Flint-group-allowed-cli-warn-by-default-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Flint-group-allowed-cli-warn-by-default-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Flint-group-allowed-cli-warn-by-default-lint.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,6 @@\n // --force-warn $LINT_GROUP causes $LINT (which is warn-by-default) to warn\n // despite $LINT being allowed on command line\n-// compile-flags: -A bare-trait-objects --force-warn rust-2018-idioms -Zunstable-options\n+// compile-flags: -A bare-trait-objects --force-warn rust-2018-idioms\n // check-pass\n \n pub trait SomeTrait {}"}, {"sha": "267e7b45f0c2137c3666950640ffc551332c68c2", "filename": "src/test/ui/lint/force-warn/warn-by-default-lint-two-modules.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarn-by-default-lint-two-modules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarn-by-default-lint-two-modules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarn-by-default-lint-two-modules.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,6 @@\n // --force-warn $LINT causes $LINT (which is warn-by-default) to warn\n // despite being allowed in one submodule (but not the other)\n-// compile-flags: --force-warn dead_code -Zunstable-options\n+// compile-flags: --force-warn dead_code\n // check-pass\n \n mod one {"}, {"sha": "d1d4f5602f271eeb0bb1034c5279667cc55f0659", "filename": "src/test/ui/lint/force-warn/warnings-lint-group.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarnings-lint-group.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarnings-lint-group.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarnings-lint-group.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,5 +1,5 @@\n // --force-warn warnings is an error\n-// compile-flags: --force-warn warnings -Zunstable-options\n+// compile-flags: --force-warn warnings\n // error-pattern: `warnings` lint group is not supported\n \n fn main() {}"}, {"sha": "1faeed33704511d900175c73dfe6577a2b283179", "filename": "src/test/ui/lint/force-warn/warnings-lint-group.stderr", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarnings-lint-group.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarnings-lint-group.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fforce-warn%2Fwarnings-lint-group.stderr?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -2,8 +2,6 @@ error[E0602]: `warnings` lint group is not supported with \u00b4--force-warn\u00b4\n \n error[E0602]: `warnings` lint group is not supported with \u00b4--force-warn\u00b4\n \n-error[E0602]: `warnings` lint group is not supported with \u00b4--force-warn\u00b4\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n For more information about this error, try `rustc --explain E0602`."}, {"sha": "c4004540467488bc5319d45436bc5153b6750e72", "filename": "src/test/ui/lint/unused_parens_json_suggestion.fixed", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.fixed?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: --error-format json -Zunstable-options\n+// compile-flags: --error-format json\n // run-rustfix\n \n // The output for humans should just highlight the whole span without showing"}, {"sha": "962c8bdd7d78957dcf7c837f8f1685cdbffe8734", "filename": "src/test/ui/lint/unused_parens_json_suggestion.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: --error-format json -Zunstable-options\n+// compile-flags: --error-format json\n // run-rustfix\n \n // The output for humans should just highlight the whole span without showing"}, {"sha": "169fb824021ed6e4eea48bb74b0ce135a10fdfdf", "filename": "src/test/ui/lint/unused_parens_json_suggestion.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_parens_json_suggestion.stderr?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,4 +1,4 @@\n-{\"message\":\"unnecessary parentheses around assigned value\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_json_suggestion.rs\",\"byte_start\":596,\"byte_end\":597,\"line_start\":16,\"line_end\":16,\"column_start\":14,\"column_end\":15,\"is_primary\":true,\"text\":[{\"text\":\"    let _a = (1 / (2 + 3));\n+{\"message\":\"unnecessary parentheses around assigned value\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_json_suggestion.rs\",\"byte_start\":577,\"byte_end\":578,\"line_start\":16,\"line_end\":16,\"column_start\":14,\"column_end\":15,\"is_primary\":true,\"text\":[{\"text\":\"    let _a = (1 / (2 + 3));\n   --> $DIR/unused_parens_json_suggestion.rs:16:14\n    |\n LL |     let _a = (1 / (2 + 3));"}, {"sha": "8a57cd57385f31238c90f3327b72924dc5852b48", "filename": "src/test/ui/lint/unused_parens_remove_json_suggestion.fixed", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.fixed?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: --error-format json -Zunstable-options\n+// compile-flags: --error-format json\n // run-rustfix\n \n // The output for humans should just highlight the whole span without showing"}, {"sha": "952332d54e9c10f0e94f2a644551502c90b2a37f", "filename": "src/test/ui/lint/unused_parens_remove_json_suggestion.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: --error-format json -Zunstable-options\n+// compile-flags: --error-format json\n // run-rustfix\n \n // The output for humans should just highlight the whole span without showing"}, {"sha": "43367aaa9113b67fbe28c01104edb6dbb8953dc9", "filename": "src/test/ui/lint/unused_parens_remove_json_suggestion.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_parens_remove_json_suggestion.stderr?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,4 +1,4 @@\n-{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":500,\"byte_end\":501,\"line_start\":17,\"line_end\":17,\"column_start\":8,\"column_end\":9,\"is_primary\":true,\"text\":[{\"text\":\"    if (_b) {\n+{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":481,\"byte_end\":482,\"line_start\":17,\"line_end\":17,\"column_start\":8,\"column_end\":9,\"is_primary\":true,\"text\":[{\"text\":\"    if (_b) {\n   --> $DIR/unused_parens_remove_json_suggestion.rs:17:8\n    |\n LL |     if (_b) {\n@@ -16,7 +16,7 @@ LL +     if _b {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":631,\"byte_end\":632,\"line_start\":28,\"line_end\":28,\"column_start\":7,\"column_end\":8,\"is_primary\":true,\"text\":[{\"text\":\"    if(c) {\n+{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":612,\"byte_end\":613,\"line_start\":28,\"line_end\":28,\"column_start\":7,\"column_end\":8,\"is_primary\":true,\"text\":[{\"text\":\"    if(c) {\n   --> $DIR/unused_parens_remove_json_suggestion.rs:28:7\n    |\n LL |     if(c) {\n@@ -29,7 +29,7 @@ LL +     if c {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":711,\"byte_end\":712,\"line_start\":32,\"line_end\":32,\"column_start\":8,\"column_end\":9,\"is_primary\":true,\"text\":[{\"text\":\"    if (c){\n+{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":692,\"byte_end\":693,\"line_start\":32,\"line_end\":32,\"column_start\":8,\"column_end\":9,\"is_primary\":true,\"text\":[{\"text\":\"    if (c){\n   --> $DIR/unused_parens_remove_json_suggestion.rs:32:8\n    |\n LL |     if (c){\n@@ -42,7 +42,7 @@ LL +     if c {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `while` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":793,\"byte_end\":794,\"line_start\":36,\"line_end\":36,\"column_start\":11,\"column_end\":12,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":11,\"highlight_end\":12}],\"label\":null,\"suggested_replacement\":null,\"suggestion_applicability\":null,\"expansion\":null},{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":807,\"byte_end\":808,\"line_start\":36,\"line_end\":36,\"column_start\":25,\"column_end\":26,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":25,\"highlight_end\":26}],\"label\":null,\"suggested_replacement\":null,\"suggestion_applicability\":null,\"expansion\":null}],\"children\":[{\"message\":\"remove these parentheses\",\"code\":null,\"level\":\"help\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":793,\"byte_end\":794,\"line_start\":36,\"line_end\":36,\"column_start\":11,\"column_end\":12,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":11,\"highlight_end\":12}],\"label\":null,\"suggested_replacement\":\"\",\"suggestion_applicability\":\"MachineApplicable\",\"expansion\":null},{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":807,\"byte_end\":808,\"line_start\":36,\"line_end\":36,\"column_start\":25,\"column_end\":26,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":25,\"highlight_end\":26}],\"label\":null,\"suggested_replacement\":\" \",\"suggestion_applicability\":\"MachineApplicable\",\"expansion\":null}],\"children\":[],\"rendered\":null}],\"rendered\":\"error: unnecessary parentheses around `while` condition\n+{\"message\":\"unnecessary parentheses around `while` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":774,\"byte_end\":775,\"line_start\":36,\"line_end\":36,\"column_start\":11,\"column_end\":12,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":11,\"highlight_end\":12}],\"label\":null,\"suggested_replacement\":null,\"suggestion_applicability\":null,\"expansion\":null},{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":788,\"byte_end\":789,\"line_start\":36,\"line_end\":36,\"column_start\":25,\"column_end\":26,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":25,\"highlight_end\":26}],\"label\":null,\"suggested_replacement\":null,\"suggestion_applicability\":null,\"expansion\":null}],\"children\":[{\"message\":\"remove these parentheses\",\"code\":null,\"level\":\"help\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":774,\"byte_end\":775,\"line_start\":36,\"line_end\":36,\"column_start\":11,\"column_end\":12,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":11,\"highlight_end\":12}],\"label\":null,\"suggested_replacement\":\"\",\"suggestion_applicability\":\"MachineApplicable\",\"expansion\":null},{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":788,\"byte_end\":789,\"line_start\":36,\"line_end\":36,\"column_start\":25,\"column_end\":26,\"is_primary\":true,\"text\":[{\"text\":\"    while (false && true){\",\"highlight_start\":25,\"highlight_end\":26}],\"label\":null,\"suggested_replacement\":\" \",\"suggestion_applicability\":\"MachineApplicable\",\"expansion\":null}],\"children\":[],\"rendered\":null}],\"rendered\":\"error: unnecessary parentheses around `while` condition\n   --> $DIR/unused_parens_remove_json_suggestion.rs:36:11\n    |\n LL |     while (false && true){\n@@ -55,7 +55,7 @@ LL +     while false && true {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":821,\"byte_end\":822,\"line_start\":37,\"line_end\":37,\"column_start\":12,\"column_end\":13,\"is_primary\":true,\"text\":[{\"text\":\"        if (c) {\n+{\"message\":\"unnecessary parentheses around `if` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":802,\"byte_end\":803,\"line_start\":37,\"line_end\":37,\"column_start\":12,\"column_end\":13,\"is_primary\":true,\"text\":[{\"text\":\"        if (c) {\n   --> $DIR/unused_parens_remove_json_suggestion.rs:37:12\n    |\n LL |         if (c) {\n@@ -68,7 +68,7 @@ LL +         if c {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `while` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":918,\"byte_end\":919,\"line_start\":43,\"line_end\":43,\"column_start\":10,\"column_end\":11,\"is_primary\":true,\"text\":[{\"text\":\"    while(true && false) {\n+{\"message\":\"unnecessary parentheses around `while` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":899,\"byte_end\":900,\"line_start\":43,\"line_end\":43,\"column_start\":10,\"column_end\":11,\"is_primary\":true,\"text\":[{\"text\":\"    while(true && false) {\n   --> $DIR/unused_parens_remove_json_suggestion.rs:43:10\n    |\n LL |     while(true && false) {\n@@ -81,7 +81,7 @@ LL +     while true && false {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `for` iterator expression\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":987,\"byte_end\":988,\"line_start\":44,\"line_end\":44,\"column_start\":18,\"column_end\":19,\"is_primary\":true,\"text\":[{\"text\":\"        for _ in (0 .. 3){\n+{\"message\":\"unnecessary parentheses around `for` iterator expression\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":968,\"byte_end\":969,\"line_start\":44,\"line_end\":44,\"column_start\":18,\"column_end\":19,\"is_primary\":true,\"text\":[{\"text\":\"        for _ in (0 .. 3){\n   --> $DIR/unused_parens_remove_json_suggestion.rs:44:18\n    |\n LL |         for _ in (0 .. 3){\n@@ -94,7 +94,7 @@ LL +         for _ in 0 .. 3 {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `for` iterator expression\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":1088,\"byte_end\":1089,\"line_start\":49,\"line_end\":49,\"column_start\":14,\"column_end\":15,\"is_primary\":true,\"text\":[{\"text\":\"    for _ in (0 .. 3) {\n+{\"message\":\"unnecessary parentheses around `for` iterator expression\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":1069,\"byte_end\":1070,\"line_start\":49,\"line_end\":49,\"column_start\":14,\"column_end\":15,\"is_primary\":true,\"text\":[{\"text\":\"    for _ in (0 .. 3) {\n   --> $DIR/unused_parens_remove_json_suggestion.rs:49:14\n    |\n LL |     for _ in (0 .. 3) {\n@@ -107,7 +107,7 @@ LL +     for _ in 0 .. 3 {\n    | \n \n \"}\n-{\"message\":\"unnecessary parentheses around `while` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":1147,\"byte_end\":1148,\"line_start\":50,\"line_end\":50,\"column_start\":15,\"column_end\":16,\"is_primary\":true,\"text\":[{\"text\":\"        while (true && false) {\n+{\"message\":\"unnecessary parentheses around `while` condition\",\"code\":{\"code\":\"unused_parens\",\"explanation\":null},\"level\":\"error\",\"spans\":[{\"file_name\":\"$DIR/unused_parens_remove_json_suggestion.rs\",\"byte_start\":1128,\"byte_end\":1129,\"line_start\":50,\"line_end\":50,\"column_start\":15,\"column_end\":16,\"is_primary\":true,\"text\":[{\"text\":\"        while (true && false) {\n   --> $DIR/unused_parens_remove_json_suggestion.rs:50:15\n    |\n LL |         while (true && false) {"}, {"sha": "9143a8cdd59bc915e1daff145d699adcb6fa5cd6", "filename": "src/test/ui/matches2021.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fmatches2021.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fmatches2021.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmatches2021.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,5 @@\n // run-pass\n // edition:2021\n-// compile-flags: -Zunstable-options\n \n // regression test for https://github.com/rust-lang/rust/pull/85678\n "}, {"sha": "ec8666f93f096392d13343e876983af073e7bba8", "filename": "src/test/ui/privacy/pub-priv-dep/pub-priv1.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fprivacy%2Fpub-priv-dep%2Fpub-priv1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fprivacy%2Fpub-priv-dep%2Fpub-priv1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fpub-priv-dep%2Fpub-priv1.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,5 +1,6 @@\n // aux-crate:priv:priv_dep=priv_dep.rs\n // aux-build:pub_dep.rs\n+// compile-flags: -Zunstable-options\n #![deny(exported_private_dependencies)]\n \n // This crate is a private dependency"}, {"sha": "f64b8569015d8fc881c2c50dd5d44cdd20a21b04", "filename": "src/test/ui/privacy/pub-priv-dep/pub-priv1.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fprivacy%2Fpub-priv-dep%2Fpub-priv1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Fprivacy%2Fpub-priv-dep%2Fpub-priv1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fpub-priv-dep%2Fpub-priv1.stderr?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,23 +1,23 @@\n error: type `OtherType` from private dependency 'priv_dep' in public interface\n-  --> $DIR/pub-priv1.rs:20:5\n+  --> $DIR/pub-priv1.rs:21:5\n    |\n LL |     pub field: OtherType,\n    |     ^^^^^^^^^^^^^^^^^^^^\n    |\n note: the lint level is defined here\n-  --> $DIR/pub-priv1.rs:3:9\n+  --> $DIR/pub-priv1.rs:4:9\n    |\n LL | #![deny(exported_private_dependencies)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: type `OtherType` from private dependency 'priv_dep' in public interface\n-  --> $DIR/pub-priv1.rs:27:5\n+  --> $DIR/pub-priv1.rs:28:5\n    |\n LL |     pub fn pub_fn(param: OtherType) {}\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: trait `OtherTrait` from private dependency 'priv_dep' in public interface\n-  --> $DIR/pub-priv1.rs:34:5\n+  --> $DIR/pub-priv1.rs:35:5\n    |\n LL |     type Foo: OtherTrait;\n    |     ^^^^^^^^^^^^^^^^^^^^^"}, {"sha": "a63b6fcf2627ab8294f0a0e050b63a466c3bdf16", "filename": "src/test/ui/rust-2021/prelude2021.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Frust-2021%2Fprelude2021.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Frust-2021%2Fprelude2021.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2021%2Fprelude2021.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,5 @@\n // check-pass\n // edition:2021\n-// compile-flags: -Zunstable-options\n \n fn main() {\n     let _: u16 = 123i32.try_into().unwrap();"}, {"sha": "eed2f313abe6ec70ced488c3246db67e05f4dab7", "filename": "src/test/ui/rust-2021/reserved-prefixes-migration.fixed", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Frust-2021%2Freserved-prefixes-migration.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Frust-2021%2Freserved-prefixes-migration.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2021%2Freserved-prefixes-migration.fixed?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n // run-rustfix\n-// compile-flags: -Z unstable-options --edition 2018\n+// edition:2018\n \n #![warn(rust_2021_prefixes_incompatible_syntax)]\n "}, {"sha": "0565db793df66accbff7d51319f204b0fb307197", "filename": "src/test/ui/rust-2021/reserved-prefixes-migration.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Frust-2021%2Freserved-prefixes-migration.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Frust-2021%2Freserved-prefixes-migration.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2021%2Freserved-prefixes-migration.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n // run-rustfix\n-// compile-flags: -Z unstable-options --edition 2018\n+// edition:2018\n \n #![warn(rust_2021_prefixes_incompatible_syntax)]\n "}, {"sha": "6ac558974d0c5476e6a606ffe3006a0b050607ac", "filename": "src/test/ui/unused-crate-deps/extern-loc-missing-loc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Funused-crate-deps%2Fextern-loc-missing-loc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftest%2Fui%2Funused-crate-deps%2Fextern-loc-missing-loc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funused-crate-deps%2Fextern-loc-missing-loc.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1,7 +1,7 @@\n // --extern-location with a raw reference\n \n // aux-crate:bar=bar.rs\n-// compile-flags:--extern-location bar\n+// compile-flags:--extern-location bar -Zunstable-options\n \n #![warn(unused_crate_dependencies)]\n "}, {"sha": "5fcaa452ca30e6eaf9278d3e0647fc98de15e09d", "filename": "src/tools/compiletest/src/header.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -242,9 +242,6 @@ impl TestProps {\n                 if let Some(edition) = config.parse_edition(ln) {\n                     self.compile_flags.push(format!(\"--edition={}\", edition));\n                     has_edition = true;\n-                    if edition == \"2021\" {\n-                        self.compile_flags.push(\"-Zunstable-options\".to_string());\n-                    }\n                 }\n \n                 config.parse_and_update_revisions(ln, &mut self.revisions);"}, {"sha": "3c85b9076dd1af977591fc0fcbdcd6d54a3fbf01", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/754455e4f25bb55dfafc6422f340d6032d3ac0b7/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=754455e4f25bb55dfafc6422f340d6032d3ac0b7", "patch": "@@ -1607,9 +1607,6 @@ impl<'test> TestCx<'test> {\n                 get_lib_name(&aux_path.trim_end_matches(\".rs\").replace('-', \"_\"), is_dylib);\n             rustc.arg(\"--extern\").arg(format!(\"{}={}/{}\", aux_name, aux_dir.display(), lib_name));\n         }\n-        if !self.props.aux_crates.is_empty() {\n-            rustc.arg(\"-Zunstable-options\");\n-        }\n \n         aux_dir\n     }"}]}