{"sha": "e2c982369346210cf0a8121d364d3f67bca413bf", "node_id": "C_kwDOAAsO6NoAKGUyYzk4MjM2OTM0NjIxMGNmMGE4MTIxZDM2NGQzZjY3YmNhNDEzYmY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-12-14T16:17:58Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-14T16:17:58Z"}, "message": "Rollup merge of #105630 - albertlarsan68:test-92481, r=TaKO8Ki\n\nAdd a test for #92481\n\nThe test was copied ad-hoc from #92481, but I can't get the test to pass, because of needing to get twice the same error on the last line of the source.\n\nCloses #92481", "tree": {"sha": "f1e3b42a4db4254717f6f1c447d7eeaf3016a5b5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f1e3b42a4db4254717f6f1c447d7eeaf3016a5b5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e2c982369346210cf0a8121d364d3f67bca413bf", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjmfc2CRBK7hj4Ov3rIwAAO8sIAAvZnxc4aLjuAudPrAbUcf44\nxB1qm71k3XUYZk1+m8BwMf4Dd7ns7VPwkxEB+RfFL35jr8hqIqbJnqJWt7gjwtCJ\nN0I7dBrLwC08PRQpfB48lphNDhzsILI0TzYrX/7XOUXVTaCnDYQCUngrQokAKIe9\nCvCX8EW+zPsD5E7KmjeXgHCKC8n7V59nh3gCK9jxVfGi4WBGhIRCLAJ0ghs46fWe\nyhSjhJgkgahB1V0+KjSv897sCddkzIj8AVitKx2KEXX1wjxBHLlbCdWSgM6v8upH\nenEBnWv5uMo2U0Icwf8sqLc5E1bk+bvZ0+XJgGFMYI2+wVpwvmGDOj9GncKN7TA=\n=4VcL\n-----END PGP SIGNATURE-----\n", "payload": "tree f1e3b42a4db4254717f6f1c447d7eeaf3016a5b5\nparent 0e861ccb9e86b54715089ea96ff37b891f5b44f0\nparent f7db4f0a4ceb5175155fdddb7e3609e4de33ddc5\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1671034678 +0100\ncommitter GitHub <noreply@github.com> 1671034678 +0100\n\nRollup merge of #105630 - albertlarsan68:test-92481, r=TaKO8Ki\n\nAdd a test for #92481\n\nThe test was copied ad-hoc from #92481, but I can't get the test to pass, because of needing to get twice the same error on the last line of the source.\n\nCloses #92481\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e2c982369346210cf0a8121d364d3f67bca413bf", "html_url": "https://github.com/rust-lang/rust/commit/e2c982369346210cf0a8121d364d3f67bca413bf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e2c982369346210cf0a8121d364d3f67bca413bf/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e861ccb9e86b54715089ea96ff37b891f5b44f0", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e861ccb9e86b54715089ea96ff37b891f5b44f0", "html_url": "https://github.com/rust-lang/rust/commit/0e861ccb9e86b54715089ea96ff37b891f5b44f0"}, {"sha": "f7db4f0a4ceb5175155fdddb7e3609e4de33ddc5", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7db4f0a4ceb5175155fdddb7e3609e4de33ddc5", "html_url": "https://github.com/rust-lang/rust/commit/f7db4f0a4ceb5175155fdddb7e3609e4de33ddc5"}], "stats": {"total": 74, "additions": 74, "deletions": 0}, "files": [{"sha": "0a6b1843d996cb488e5d029dc691b9a99777f119", "filename": "src/test/ui/typeck/issue-92481.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e2c982369346210cf0a8121d364d3f67bca413bf/src%2Ftest%2Fui%2Ftypeck%2Fissue-92481.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2c982369346210cf0a8121d364d3f67bca413bf/src%2Ftest%2Fui%2Ftypeck%2Fissue-92481.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Fissue-92481.rs?ref=e2c982369346210cf0a8121d364d3f67bca413bf", "patch": "@@ -0,0 +1,14 @@\n+//check-fail\n+\n+#![crate_type=\"lib\"]\n+\n+fn r({) {\n+    Ok {             //~ ERROR mismatched types [E0308]\n+        d..||_=m\n+    }\n+}\n+//~^^^^^ ERROR expected parameter name, found `{`\n+//~| ERROR expected one of `,`, `:`, or `}`, found `..`\n+//~^^^^^ ERROR cannot find value `d` in this scope [E0425]\n+//~| ERROR cannot find value `m` in this scope [E0425]\n+//~| ERROR variant `Result<_, _>::Ok` has no field named `d` [E0559]"}, {"sha": "cd778a649b621003694cd24858a3676316db0536", "filename": "src/test/ui/typeck/issue-92481.stderr", "status": "added", "additions": 60, "deletions": 0, "changes": 60, "blob_url": "https://github.com/rust-lang/rust/blob/e2c982369346210cf0a8121d364d3f67bca413bf/src%2Ftest%2Fui%2Ftypeck%2Fissue-92481.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2c982369346210cf0a8121d364d3f67bca413bf/src%2Ftest%2Fui%2Ftypeck%2Fissue-92481.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Fissue-92481.stderr?ref=e2c982369346210cf0a8121d364d3f67bca413bf", "patch": "@@ -0,0 +1,60 @@\n+error: expected parameter name, found `{`\n+  --> $DIR/issue-92481.rs:5:6\n+   |\n+LL | fn r({) {\n+   |      ^ expected parameter name\n+\n+error: expected one of `,`, `:`, or `}`, found `..`\n+  --> $DIR/issue-92481.rs:5:6\n+   |\n+LL | fn r({) {\n+   |      ^ unclosed delimiter\n+LL |     Ok {\n+LL |         d..||_=m\n+   |          -^\n+   |          |\n+   |          help: `}` may belong here\n+\n+error[E0425]: cannot find value `d` in this scope\n+  --> $DIR/issue-92481.rs:7:9\n+   |\n+LL |         d..||_=m\n+   |         ^ not found in this scope\n+\n+error[E0425]: cannot find value `m` in this scope\n+  --> $DIR/issue-92481.rs:7:16\n+   |\n+LL |         d..||_=m\n+   |                ^ not found in this scope\n+\n+error[E0559]: variant `Result<_, _>::Ok` has no field named `d`\n+  --> $DIR/issue-92481.rs:7:9\n+   |\n+LL |         d..||_=m\n+   |         ^ field does not exist\n+  --> $SRC_DIR/core/src/result.rs:LL:COL\n+   |\n+   = note: `Result<_, _>::Ok` defined here\n+   |\n+help: `Result<_, _>::Ok` is a tuple variant, use the appropriate syntax\n+   |\n+LL |     Result<_, _>::Ok(/* fields */)\n+   |\n+\n+error[E0308]: mismatched types\n+  --> $DIR/issue-92481.rs:6:5\n+   |\n+LL |   fn r({) {\n+   |           - help: a return type might be missing here: `-> _`\n+LL | /     Ok {\n+LL | |         d..||_=m\n+LL | |     }\n+   | |_____^ expected `()`, found enum `Result`\n+   |\n+   = note: expected unit type `()`\n+                   found enum `Result<_, _>`\n+\n+error: aborting due to 6 previous errors\n+\n+Some errors have detailed explanations: E0308, E0425, E0559.\n+For more information about an error, try `rustc --explain E0308`."}]}