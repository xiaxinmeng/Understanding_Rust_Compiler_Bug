{"sha": "aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjYTU2NzI3ZGI5ZTEzYjFjM2VmOGIxM2UxZmEzZmJjNTQ3MGY3ZTQ=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-05-24T06:19:51Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-05-24T06:19:51Z"}, "message": "Rustup to https://github.com/rust-lang/rust/pull/59545", "tree": {"sha": "dc9a89308c1e459c4d99404228cfc492c70b81cb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc9a89308c1e459c4d99404228cfc492c70b81cb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJEBAABCgAuFiEEj4U0bmbiMSg/mWqvgqphyqETl+YFAlznjR4QHGRldkBwaGFu\nc2NoLm5ldAAKCRCCqmHKoROX5mf4EAC7zTu8SiqWWeQXmy//8nJrpKIMTpAD1bwX\nl2ZMRwOn3cw/folc8G4c/J5O3v0yoN3C4iUncAUOutAQXyd24H+PKILshpIwlpVw\nuDOYSZa54HFa9OIoOWXcx12Ue1U8xLD8RY6A1KYxadbiVCLxH0voOJ1Dcs360hts\nO0as1QApnPYQAYpUANvdbj60nlL3g6EMIog+C9lCfpEiuATAno2ujzrarfEW1pYP\nTYZZdQ/qcN59U/eVBw3P/ergvj7LNlfM/6TpYdd2TypMeGYLws/yPVlrh8n/PMTh\ncfRhs/Be7BLXgZoMHg9hQDIJJKAqX4HsBPQPxLS7TnFuhcTfn38Ny05fsbP/MYIY\n4VpLf+G26e6yqgpBL1gD4Yq05hH34JP5UHZwvkJtpM257BzzmClr3nvqPTgaJ9WA\n41bNVi4crL789L8R+OqM1BWm4PG6ZOwKI3RdnuMKCTIyOnervk5S0j5afz2iifXE\nS3P8QU/hdmo2DEzPxwCjaEVaKEnIyyzsRbrRNCWDJkY+Y7qQ2oNDclrP4eNl8Eyw\n+qTAGv3IuV0rmyjiw1xTuMdKokQ1lMt1/ActRS+HSac8RIHkjQRMcDudWgOKwZoj\n9ipHzRvZObsxMBYOH0XBqvO47g5ZeKHTDSLyFU4FHxgLUwaidJFC+gjERoWihIlR\npqiylIsPuA==\n=ImVV\n-----END PGP SIGNATURE-----", "payload": "tree dc9a89308c1e459c4d99404228cfc492c70b81cb\nparent 345ac82934c27342ec45230a5dcd66500ff7da65\nauthor Philipp Hansch <dev@phansch.net> 1558678791 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1558678791 +0200\n\nRustup to https://github.com/rust-lang/rust/pull/59545\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4", "html_url": "https://github.com/rust-lang/rust/commit/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "345ac82934c27342ec45230a5dcd66500ff7da65", "url": "https://api.github.com/repos/rust-lang/rust/commits/345ac82934c27342ec45230a5dcd66500ff7da65", "html_url": "https://github.com/rust-lang/rust/commit/345ac82934c27342ec45230a5dcd66500ff7da65"}], "stats": {"total": 31, "additions": 16, "deletions": 15}, "files": [{"sha": "179e006ed058a40fd82fde53c719b1a084707816", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4", "patch": "@@ -39,8 +39,8 @@ use rustc::ty::{\n     subst::Kind,\n     Binder, Ty, TyCtxt,\n };\n-use rustc_data_structures::sync::Lrc;\n use rustc_errors::Applicability;\n+use smallvec::SmallVec;\n use syntax::ast::{self, LitKind};\n use syntax::attr;\n use syntax::ext::hygiene::ExpnFormat;\n@@ -248,7 +248,8 @@ pub fn path_to_res(cx: &LateContext<'_, '_>, path: &[&str]) -> Option<(def::Res)\n                 None => return None,\n             };\n \n-            for item in mem::replace(&mut items, Lrc::new(vec![])).iter() {\n+            let result = SmallVec::<[_; 8]>::new();\n+            for item in mem::replace(&mut items, cx.tcx.arena.alloc_slice(&result)).iter() {\n                 if item.ident.name.as_str() == *segment {\n                     if path_it.peek().is_none() {\n                         return Some(item.res);"}, {"sha": "14082e8790b4bb6a4da594d86563b91f11470c4d", "filename": "tests/ui/for_loop.stderr", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4/tests%2Fui%2Ffor_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4/tests%2Fui%2Ffor_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ffor_loop.stderr?ref=aca56727db9e13b1c3ef8b13e1fa3fbc5470f7e4", "patch": "@@ -66,83 +66,83 @@ error: it is more concise to loop over references to containers instead of using\n   --> $DIR/for_loop.rs:107:15\n    |\n LL |     for _v in vec.iter() {}\n-   |               ^^^^^^^^^^\n+   |               ^^^^^^^^^^ help: to write this more concisely, try: `&vec`\n    |\n    = note: `-D clippy::explicit-iter-loop` implied by `-D warnings`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:109:15\n    |\n LL |     for _v in vec.iter_mut() {}\n-   |               ^^^^^^^^^^^^^^\n+   |               ^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut vec`\n \n error: it is more concise to loop over containers instead of using explicit iteration methods`\n   --> $DIR/for_loop.rs:112:15\n    |\n LL |     for _v in out_vec.into_iter() {}\n-   |               ^^^^^^^^^^^^^^^^^^^\n+   |               ^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `out_vec`\n    |\n    = note: `-D clippy::explicit-into-iter-loop` implied by `-D warnings`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:115:15\n    |\n LL |     for _v in array.into_iter() {}\n-   |               ^^^^^^^^^^^^^^^^^\n+   |               ^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&array`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:120:15\n    |\n LL |     for _v in [1, 2, 3].iter() {}\n-   |               ^^^^^^^^^^^^^^^^\n+   |               ^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&[1, 2, 3]`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:124:15\n    |\n LL |     for _v in [0; 32].iter() {}\n-   |               ^^^^^^^^^^^^^^\n+   |               ^^^^^^^^^^^^^^ help: to write this more concisely, try: `&[0; 32]`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:129:15\n    |\n LL |     for _v in ll.iter() {}\n-   |               ^^^^^^^^^\n+   |               ^^^^^^^^^ help: to write this more concisely, try: `&ll`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:132:15\n    |\n LL |     for _v in vd.iter() {}\n-   |               ^^^^^^^^^\n+   |               ^^^^^^^^^ help: to write this more concisely, try: `&vd`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:135:15\n    |\n LL |     for _v in bh.iter() {}\n-   |               ^^^^^^^^^\n+   |               ^^^^^^^^^ help: to write this more concisely, try: `&bh`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:138:15\n    |\n LL |     for _v in hm.iter() {}\n-   |               ^^^^^^^^^\n+   |               ^^^^^^^^^ help: to write this more concisely, try: `&hm`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:141:15\n    |\n LL |     for _v in bt.iter() {}\n-   |               ^^^^^^^^^\n+   |               ^^^^^^^^^ help: to write this more concisely, try: `&bt`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:144:15\n    |\n LL |     for _v in hs.iter() {}\n-   |               ^^^^^^^^^\n+   |               ^^^^^^^^^ help: to write this more concisely, try: `&hs`\n \n error: it is more concise to loop over references to containers instead of using explicit iteration methods\n   --> $DIR/for_loop.rs:147:15\n    |\n LL |     for _v in bs.iter() {}\n-   |               ^^^^^^^^^\n+   |               ^^^^^^^^^ help: to write this more concisely, try: `&bs`\n \n error: you are iterating over `Iterator::next()` which is an Option; this will compile but is probably not what you want\n   --> $DIR/for_loop.rs:149:15"}]}