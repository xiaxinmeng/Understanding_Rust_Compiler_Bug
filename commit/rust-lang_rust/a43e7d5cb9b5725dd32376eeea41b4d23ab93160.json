{"sha": "a43e7d5cb9b5725dd32376eeea41b4d23ab93160", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE0M2U3ZDVjYjliNTcyNWRkMzIzNzZlZWVhNDFiNGQyM2FiOTMxNjA=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-07-25T22:54:10Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-07-25T22:54:10Z"}, "message": "core: Remove unneeded cfgs", "tree": {"sha": "b00b1ce06c8c9e4bdc3c359b41ad3e6ed8ce8a53", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b00b1ce06c8c9e4bdc3c359b41ad3e6ed8ce8a53"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a43e7d5cb9b5725dd32376eeea41b4d23ab93160", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a43e7d5cb9b5725dd32376eeea41b4d23ab93160", "html_url": "https://github.com/rust-lang/rust/commit/a43e7d5cb9b5725dd32376eeea41b4d23ab93160", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a43e7d5cb9b5725dd32376eeea41b4d23ab93160/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f7ab07c7806bb4a7418f228c1cf266cdf011a878", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7ab07c7806bb4a7418f228c1cf266cdf011a878", "html_url": "https://github.com/rust-lang/rust/commit/f7ab07c7806bb4a7418f228c1cf266cdf011a878"}], "stats": {"total": 37, "additions": 0, "deletions": 37}, "files": [{"sha": "5965603770ba7ca671152abb34b476666a5a160b", "filename": "src/libcore/failure.rs", "status": "modified", "additions": 0, "deletions": 37, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/a43e7d5cb9b5725dd32376eeea41b4d23ab93160/src%2Flibcore%2Ffailure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a43e7d5cb9b5725dd32376eeea41b4d23ab93160/src%2Flibcore%2Ffailure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ffailure.rs?ref=a43e7d5cb9b5725dd32376eeea41b4d23ab93160", "patch": "@@ -33,7 +33,6 @@\n use fmt;\n use intrinsics;\n \n-#[cfg(stage0)]\n #[cold] #[inline(never)] // this is the slow path, always\n #[lang=\"fail_\"]\n fn fail_(expr: &'static str, file: &'static str, line: uint) -> ! {\n@@ -44,7 +43,6 @@ fn fail_(expr: &'static str, file: &'static str, line: uint) -> ! {\n     unsafe { intrinsics::abort() }\n }\n \n-#[cfg(stage0)]\n #[cold]\n #[lang=\"fail_bounds_check\"]\n fn fail_bounds_check(file: &'static str, line: uint,\n@@ -55,7 +53,6 @@ fn fail_bounds_check(file: &'static str, line: uint,\n     unsafe { intrinsics::abort() }\n }\n \n-#[cfg(stage0)]\n #[cold]\n pub fn begin_unwind(fmt: &fmt::Arguments, file_line: &(&'static str, uint)) -> ! {\n     #[allow(ctypes)]\n@@ -68,37 +65,3 @@ pub fn begin_unwind(fmt: &fmt::Arguments, file_line: &(&'static str, uint)) -> !\n     unsafe { begin_unwind(fmt, file, line) }\n }\n \n-#[cfg(not(stage0))]\n-#[cold] #[inline(never)] // this is the slow path, always\n-#[lang=\"fail_\"]\n-fn fail_(expr: &'static str, file: &'static str, line: uint) -> ! {\n-    format_args!(|args| -> () {\n-        begin_unwind(args, &(file, line));\n-    }, \"{}\", expr);\n-\n-    unsafe { intrinsics::abort() }\n-}\n-\n-#[cfg(not(stage0))]\n-#[cold]\n-#[lang=\"fail_bounds_check\"]\n-fn fail_bounds_check(file: &'static str, line: uint,\n-                     index: uint, len: uint) -> ! {\n-    format_args!(|args| -> () {\n-        begin_unwind(args, &(file, line));\n-    }, \"index out of bounds: the len is {} but the index is {}\", len, index);\n-    unsafe { intrinsics::abort() }\n-}\n-\n-#[cfg(not(stage0))]\n-#[cold]\n-pub fn begin_unwind(fmt: &fmt::Arguments, file_line: &(&'static str, uint)) -> ! {\n-    #[allow(ctypes)]\n-    extern {\n-        #[lang = \"begin_unwind\"]\n-        fn begin_unwind(fmt: &fmt::Arguments, file_line: &'static str,\n-                        line: uint) -> !;\n-    }\n-    let (file, line) = *file_line;\n-    unsafe { begin_unwind(fmt, file, line) }\n-}"}]}