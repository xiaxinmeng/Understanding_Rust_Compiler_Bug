{"sha": "0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAwNDdmOGJiZDhmOTRjN2JhNTRkNDJlYjcyNzJjODlhNDhkNmFlNTQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-02-11T06:45:25Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-02-11T06:45:25Z"}, "message": "Auto merge of #22163 - bleibig:grammar-updates, r=sanxiyn\n\nUpdates to the bison grammar:\r\n\r\n* Fixes to range syntax - allow `expr[..]`, and fix precedence to allow `for _ in i.. { }`\r\n* Allow \"extern crate\" in stmts\r\n* Add qualified path expressions (`<TYPE as TRAIT_REF>::item`)", "tree": {"sha": "1533706b3cf82ded5313d858c1fbb0f5aa895dae", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1533706b3cf82ded5313d858c1fbb0f5aa895dae"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54", "html_url": "https://github.com/rust-lang/rust/commit/0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5936278ed6bef736f6eb8c0dd4d650fd8e10461b", "url": "https://api.github.com/repos/rust-lang/rust/commits/5936278ed6bef736f6eb8c0dd4d650fd8e10461b", "html_url": "https://github.com/rust-lang/rust/commit/5936278ed6bef736f6eb8c0dd4d650fd8e10461b"}, {"sha": "3bca5f23aa8ac7a9e27ec582e05c2420313515d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/3bca5f23aa8ac7a9e27ec582e05c2420313515d7", "html_url": "https://github.com/rust-lang/rust/commit/3bca5f23aa8ac7a9e27ec582e05c2420313515d7"}], "stats": {"total": 131, "additions": 48, "deletions": 83}, "files": [{"sha": "6a6f7e0e9f92cb99627b0fe24cdf71f2e71f8a60", "filename": "src/grammar/parser-lalr.y", "status": "modified", "additions": 48, "deletions": 83, "changes": 131, "blob_url": "https://github.com/rust-lang/rust/blob/0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54/src%2Fgrammar%2Fparser-lalr.y", "raw_url": "https://github.com/rust-lang/rust/raw/0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54/src%2Fgrammar%2Fparser-lalr.y", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fgrammar%2Fparser-lalr.y?ref=0047f8bbd8f94c7ba54d42eb7272c89a48d6ae54", "patch": "@@ -177,6 +177,8 @@ extern char *yytext;\n \n %precedence '{' '[' '(' '.'\n \n+%precedence RANGE\n+\n %start crate\n \n %%\n@@ -258,11 +260,7 @@ mod_item\n \n // items that can appear outside of a fn block\n item\n-: item_static\n-| item_const\n-| item_type\n-| block_item\n-| view_item\n+: stmt_item\n | item_macro\n ;\n \n@@ -272,8 +270,7 @@ stmt_item\n | item_const\n | item_type\n | block_item\n-| use_item\n-| extern_fn_item\n+| view_item\n ;\n \n item_static\n@@ -295,7 +292,6 @@ view_item\n : use_item\n | extern_fn_item\n | EXTERN CRATE ident ';'                      { $$ = mk_node(\"ViewItemExternCrate\", 1, $3); }\n-| EXTERN CRATE ident '=' str ';'              { $$ = mk_node(\"ViewItemExternCrate\", 2, $3, $5); }\n | EXTERN CRATE str AS ident ';'               { $$ = mk_node(\"ViewItemExternCrate\", 2, $3, $5); }\n ;\n \n@@ -1193,12 +1189,10 @@ maybe_stmts\n //\n // In non-stmts contexts, expr can relax this trichotomy.\n //\n-// There are also two other expr subtypes: first, nonparen_expr\n-// disallows exprs surrounded by parens (including tuple expressions),\n-// this is necessary for BOX (place) expressions, so a parens expr\n-// following the BOX is always parsed as the place. There is also\n-// expr_norange used in index_expr, which disallows '..' in\n-// expressions as that has special meaning inside of brackets.\n+// There is also one other expr subtype: nonparen_expr disallows exprs\n+// surrounded by parens (including tuple expressions), this is\n+// necessary for BOX (place) expressions, so a parens expr following\n+// the BOX is always parsed as the place.\n \n stmts\n : stmt           { $$ = mk_node(\"stmts\", 1, $1); }\n@@ -1265,7 +1259,7 @@ nonblock_expr\n | path_expr '{' struct_expr_fields '}'                          { $$ = mk_node(\"ExprStruct\", 2, $1, $3); }\n | nonblock_expr '.' path_generic_args_with_colons               { $$ = mk_node(\"ExprField\", 2, $1, $3); }\n | nonblock_expr '.' LIT_INTEGER                                 { $$ = mk_node(\"ExprTupleIndex\", 1, $1); }\n-| nonblock_expr '[' index_expr ']'                              { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n+| nonblock_expr '[' maybe_expr ']'                              { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n | nonblock_expr '(' maybe_exprs ')'                             { $$ = mk_node(\"ExprCall\", 2, $1, $3); }\n | '[' vec_expr ']'                                              { $$ = mk_node(\"ExprVec\", 1, $2); }\n | '(' maybe_exprs ')'                                           { $$ = mk_node(\"ExprParen\", 1, $2); }\n@@ -1307,9 +1301,11 @@ nonblock_expr\n | nonblock_expr DOTDOT                                          { $$ = mk_node(\"ExprRange\", 2, $1, mk_none()); }\n | nonblock_expr DOTDOT expr                                     { $$ = mk_node(\"ExprRange\", 2, $1, $3); }\n |               DOTDOT expr                                     { $$ = mk_node(\"ExprRange\", 2, mk_none(), $2); }\n+|               DOTDOT                                          { $$ = mk_node(\"ExprRange\", 2, mk_none(), mk_none()); }\n | nonblock_expr AS ty                                           { $$ = mk_node(\"ExprCast\", 2, $1, $3); }\n | BOX nonparen_expr                                             { $$ = mk_node(\"ExprBox\", 1, $2); }\n | %prec BOXPLACE BOX '(' maybe_expr ')' nonblock_expr           { $$ = mk_node(\"ExprBox\", 2, $3, $5); }\n+| expr_qualified_path\n | nonblock_prefix_expr\n ;\n \n@@ -1322,7 +1318,7 @@ expr\n | path_expr '{' struct_expr_fields '}'                { $$ = mk_node(\"ExprStruct\", 2, $1, $3); }\n | expr '.' path_generic_args_with_colons              { $$ = mk_node(\"ExprField\", 2, $1, $3); }\n | expr '.' LIT_INTEGER                                { $$ = mk_node(\"ExprTupleIndex\", 1, $1); }\n-| expr '[' index_expr ']'                             { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n+| expr '[' maybe_expr ']'                             { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n | expr '(' maybe_exprs ')'                            { $$ = mk_node(\"ExprCall\", 2, $1, $3); }\n | '(' maybe_exprs ')'                                 { $$ = mk_node(\"ExprParen\", 1, $2); }\n | '[' vec_expr ']'                                    { $$ = mk_node(\"ExprVec\", 1, $2); }\n@@ -1364,9 +1360,11 @@ expr\n | expr DOTDOT                                         { $$ = mk_node(\"ExprRange\", 2, $1, mk_none()); }\n | expr DOTDOT expr                                    { $$ = mk_node(\"ExprRange\", 2, $1, $3); }\n |      DOTDOT expr                                    { $$ = mk_node(\"ExprRange\", 2, mk_none(), $2); }\n+|      DOTDOT                                         { $$ = mk_node(\"ExprRange\", 2, mk_none(), mk_none()); }\n | expr AS ty                                          { $$ = mk_node(\"ExprCast\", 2, $1, $3); }\n | BOX nonparen_expr                                   { $$ = mk_node(\"ExprBox\", 1, $2); }\n | %prec BOXPLACE BOX '(' maybe_expr ')' expr          { $$ = mk_node(\"ExprBox\", 2, $3, $5); }\n+| expr_qualified_path\n | block_expr\n | block\n | nonblock_prefix_expr\n@@ -1381,7 +1379,7 @@ nonparen_expr\n | path_expr '{' struct_expr_fields '}'                { $$ = mk_node(\"ExprStruct\", 2, $1, $3); }\n | nonparen_expr '.' path_generic_args_with_colons     { $$ = mk_node(\"ExprField\", 2, $1, $3); }\n | nonparen_expr '.' LIT_INTEGER                       { $$ = mk_node(\"ExprTupleIndex\", 1, $1); }\n-| nonparen_expr '[' index_expr ']'                    { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n+| nonparen_expr '[' maybe_expr ']'                    { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n | nonparen_expr '(' maybe_exprs ')'                   { $$ = mk_node(\"ExprCall\", 2, $1, $3); }\n | '[' vec_expr ']'                                    { $$ = mk_node(\"ExprVec\", 1, $2); }\n | CONTINUE                                            { $$ = mk_node(\"ExprAgain\", 0); }\n@@ -1422,65 +1420,11 @@ nonparen_expr\n | nonparen_expr DOTDOT                                { $$ = mk_node(\"ExprRange\", 2, $1, mk_none()); }\n | nonparen_expr DOTDOT nonparen_expr                  { $$ = mk_node(\"ExprRange\", 2, $1, $3); }\n |               DOTDOT nonparen_expr                  { $$ = mk_node(\"ExprRange\", 2, mk_none(), $2); }\n+|               DOTDOT                                { $$ = mk_node(\"ExprRange\", 2, mk_none(), mk_none()); }\n | nonparen_expr AS ty                                 { $$ = mk_node(\"ExprCast\", 2, $1, $3); }\n | BOX nonparen_expr                                   { $$ = mk_node(\"ExprBox\", 1, $2); }\n | %prec BOXPLACE BOX '(' maybe_expr ')' expr          { $$ = mk_node(\"ExprBox\", 1, $3, $5); }\n-| block_expr\n-| block\n-| nonblock_prefix_expr\n-;\n-\n-expr_norange\n-: lit                                                 { $$ = mk_node(\"ExprLit\", 1, $1); }\n-| %prec IDENT\n-  path_expr                                           { $$ = mk_node(\"ExprPath\", 1, $1); }\n-| SELF                                                { $$ = mk_node(\"ExprPath\", 1, mk_node(\"ident\", 1, mk_atom(\"self\"))); }\n-| macro_expr                                          { $$ = mk_node(\"ExprMac\", 1, $1); }\n-| path_expr '{' struct_expr_fields '}'                { $$ = mk_node(\"ExprStruct\", 2, $1, $3); }\n-| expr_norange '.' path_generic_args_with_colons      { $$ = mk_node(\"ExprField\", 2, $1, $3); }\n-| expr_norange '.' LIT_INTEGER                        { $$ = mk_node(\"ExprTupleIndex\", 1, $1); }\n-| expr_norange '[' index_expr ']'                     { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n-| expr_norange '(' maybe_exprs ')'                    { $$ = mk_node(\"ExprCall\", 2, $1, $3); }\n-| '(' maybe_exprs ')'                                 { $$ = mk_node(\"ExprParen\", 1, $2); }\n-| '[' vec_expr ']'                                    { $$ = mk_node(\"ExprVec\", 1, $2); }\n-| CONTINUE                                            { $$ = mk_node(\"ExprAgain\", 0); }\n-| CONTINUE ident                                      { $$ = mk_node(\"ExprAgain\", 1, $2); }\n-| RETURN                                              { $$ = mk_node(\"ExprRet\", 0); }\n-| RETURN expr                                         { $$ = mk_node(\"ExprRet\", 1, $2); }\n-| BREAK                                               { $$ = mk_node(\"ExprBreak\", 0); }\n-| BREAK ident                                         { $$ = mk_node(\"ExprBreak\", 1, $2); }\n-| expr_norange '=' expr_norange                       { $$ = mk_node(\"ExprAssign\", 2, $1, $3); }\n-| expr_norange SHLEQ expr_norange                     { $$ = mk_node(\"ExprAssignShl\", 2, $1, $3); }\n-| expr_norange SHREQ expr_norange                     { $$ = mk_node(\"ExprAssignShr\", 2, $1, $3); }\n-| expr_norange MINUSEQ expr_norange                   { $$ = mk_node(\"ExprAssignSub\", 2, $1, $3); }\n-| expr_norange ANDEQ expr_norange                     { $$ = mk_node(\"ExprAssignBitAnd\", 2, $1, $3); }\n-| expr_norange OREQ expr_norange                      { $$ = mk_node(\"ExprAssignBitOr\", 2, $1, $3); }\n-| expr_norange PLUSEQ expr_norange                    { $$ = mk_node(\"ExprAssignAdd\", 2, $1, $3); }\n-| expr_norange STAREQ expr_norange                    { $$ = mk_node(\"ExprAssignMul\", 2, $1, $3); }\n-| expr_norange SLASHEQ expr_norange                   { $$ = mk_node(\"ExprAssignDiv\", 2, $1, $3); }\n-| expr_norange CARETEQ expr_norange                   { $$ = mk_node(\"ExprAssignBitXor\", 2, $1, $3); }\n-| expr_norange PERCENTEQ expr_norange                 { $$ = mk_node(\"ExprAssignRem\", 2, $1, $3); }\n-| expr_norange OROR expr_norange                      { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiOr\"), $1, $3); }\n-| expr_norange ANDAND expr_norange                    { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiAnd\"), $1, $3); }\n-| expr_norange EQEQ expr_norange                      { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiEq\"), $1, $3); }\n-| expr_norange NE expr_norange                        { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiNe\"), $1, $3); }\n-| expr_norange '<' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiLt\"), $1, $3); }\n-| expr_norange '>' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiGt\"), $1, $3); }\n-| expr_norange LE expr_norange                        { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiLe\"), $1, $3); }\n-| expr_norange GE expr_norange                        { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiGe\"), $1, $3); }\n-| expr_norange '|' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiBitOr\"), $1, $3); }\n-| expr_norange '^' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiBitXor\"), $1, $3); }\n-| expr_norange '&' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiBitAnd\"), $1, $3); }\n-| expr_norange SHL expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiShl\"), $1, $3); }\n-| expr_norange SHR expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiShr\"), $1, $3); }\n-| expr_norange '+' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiAdd\"), $1, $3); }\n-| expr_norange '-' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiSub\"), $1, $3); }\n-| expr_norange '*' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiMul\"), $1, $3); }\n-| expr_norange '/' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiDiv\"), $1, $3); }\n-| expr_norange '%' expr_norange                       { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiRem\"), $1, $3); }\n-| expr_norange AS ty                                  { $$ = mk_node(\"Expr_NorangeCast\", 2, $1, $3); }\n-| BOX nonparen_expr                                   { $$ = mk_node(\"ExprBox\", 1, $2); }\n-| %prec BOXPLACE BOX '(' maybe_expr ')' expr_norange  { $$ = mk_node(\"ExprBox\", 2, $3, $5); }\n+| expr_qualified_path\n | block_expr\n | block\n | nonblock_prefix_expr\n@@ -1494,7 +1438,7 @@ expr_nostruct\n | macro_expr                                          { $$ = mk_node(\"ExprMac\", 1, $1); }\n | expr_nostruct '.' path_generic_args_with_colons     { $$ = mk_node(\"ExprField\", 2, $1, $3); }\n | expr_nostruct '.' LIT_INTEGER                       { $$ = mk_node(\"ExprTupleIndex\", 1, $1); }\n-| expr_nostruct '[' index_expr ']'                    { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n+| expr_nostruct '[' maybe_expr ']'                    { $$ = mk_node(\"ExprIndex\", 2, $1, $3); }\n | expr_nostruct '(' maybe_exprs ')'                   { $$ = mk_node(\"ExprCall\", 2, $1, $3); }\n | '[' vec_expr ']'                                    { $$ = mk_node(\"ExprVec\", 1, $2); }\n | '(' maybe_exprs ')'                                 { $$ = mk_node(\"ExprParen\", 1, $2); }\n@@ -1533,12 +1477,14 @@ expr_nostruct\n | expr_nostruct '*' expr_nostruct                     { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiMul\"), $1, $3); }\n | expr_nostruct '/' expr_nostruct                     { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiDiv\"), $1, $3); }\n | expr_nostruct '%' expr_nostruct                     { $$ = mk_node(\"ExprBinary\", 3, mk_atom(\"BiRem\"), $1, $3); }\n-| expr_nostruct DOTDOT                                { $$ = mk_node(\"ExprRange\", 2, $1, mk_none()); }\n+| expr_nostruct DOTDOT               %prec RANGE      { $$ = mk_node(\"ExprRange\", 2, $1, mk_none()); }\n | expr_nostruct DOTDOT expr_nostruct                  { $$ = mk_node(\"ExprRange\", 2, $1, $3); }\n |               DOTDOT expr_nostruct                  { $$ = mk_node(\"ExprRange\", 2, mk_none(), $2); }\n+|               DOTDOT                                { $$ = mk_node(\"ExprRange\", 2, mk_none(), mk_none()); }\n | expr_nostruct AS ty                                 { $$ = mk_node(\"ExprCast\", 2, $1, $3); }\n | BOX nonparen_expr                                   { $$ = mk_node(\"ExprBox\", 1, $2); }\n | %prec BOXPLACE BOX '(' maybe_expr ')' expr_nostruct { $$ = mk_node(\"ExprBox\", 1, $3, $5); }\n+| expr_qualified_path\n | block_expr\n | block\n | nonblock_prefix_expr_nostruct\n@@ -1566,6 +1512,33 @@ nonblock_prefix_expr\n | proc_expr\n ;\n \n+expr_qualified_path\n+: '<' ty_sum AS trait_ref '>' MOD_SEP ident\n+{\n+  $$ = mk_node(\"ExprQualifiedPath\", 3, $2, $4, $7);\n+}\n+| '<' ty_sum AS trait_ref '>' MOD_SEP ident generic_args\n+{\n+  $$ = mk_node(\"ExprQualifiedPath\", 4, $2, $4, $7, $8);\n+}\n+| SHL ty_sum AS trait_ref '>' MOD_SEP ident AS trait_ref '>' MOD_SEP ident\n+{\n+  $$ = mk_node(\"ExprQualifiedPath\", 3, mk_node(\"ExprQualifiedPath\", 3, $2, $4, $7), $9, $12);\n+}\n+| SHL ty_sum AS trait_ref '>' MOD_SEP ident generic_args AS trait_ref '>' MOD_SEP ident\n+{\n+  $$ = mk_node(\"ExprQualifiedPath\", 3, mk_node(\"ExprQualifiedPath\", 4, $2, $4, $7, $8), $10, $13);\n+}\n+| SHL ty_sum AS trait_ref '>' MOD_SEP ident AS trait_ref '>' MOD_SEP ident generic_args\n+{\n+  $$ = mk_node(\"ExprQualifiedPath\", 4, mk_node(\"ExprQualifiedPath\", 3, $2, $4, $7), $9, $12, $13);\n+}\n+| SHL ty_sum AS trait_ref '>' MOD_SEP ident generic_args AS trait_ref '>' MOD_SEP ident generic_args\n+{\n+  $$ = mk_node(\"ExprQualifiedPath\", 4, mk_node(\"ExprQualifiedPath\", 4, $2, $4, $7, $8), $10, $13, $14);\n+}\n+\n+\n lambda_expr\n : %prec LAMBDA\n   OROR ret_ty expr                                        { $$ = mk_node(\"ExprFnBlock\", 3, mk_none(), $2, $3); }\n@@ -1612,14 +1585,6 @@ vec_expr\n | exprs ';' expr { $$ = mk_node(\"VecRepeat\", 2, $1, $3); }\n ;\n \n-index_expr\n-: expr_norange                     { $$ = mk_node(\"Index\", 1, $1); }\n-| expr_norange DOTDOT              { $$ = mk_node(\"SliceToEnd\", 1, $1); }\n-|              DOTDOT expr_norange { $$ = mk_node(\"SliceFromBeginning\", 1, $2); }\n-| expr_norange DOTDOT expr_norange { $$ = mk_node(\"Slice\", 2, $1, $3); }\n-| %empty                           { $$ = mk_none(); }\n-;\n-\n struct_expr_fields\n : field_inits\n | field_inits ','"}]}