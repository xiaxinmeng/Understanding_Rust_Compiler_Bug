{"sha": "2e7b88b5256bd6c51226b63b93481a77ac901e14", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlN2I4OGI1MjU2YmQ2YzUxMjI2YjYzYjkzNDgxYTc3YWM5MDFlMTQ=", "commit": {"author": {"name": "Florian Diebold", "email": "flodiebold@gmail.com", "date": "2020-04-13T12:39:44Z"}, "committer": {"name": "Florian Diebold", "email": "flodiebold@gmail.com", "date": "2020-04-13T12:46:03Z"}, "message": "Nicer display of projections in Chalk logs", "tree": {"sha": "598e62fba5a307149a4212232c9d5fb5c188b761", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/598e62fba5a307149a4212232c9d5fb5c188b761"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e7b88b5256bd6c51226b63b93481a77ac901e14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e7b88b5256bd6c51226b63b93481a77ac901e14", "html_url": "https://github.com/rust-lang/rust/commit/2e7b88b5256bd6c51226b63b93481a77ac901e14", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e7b88b5256bd6c51226b63b93481a77ac901e14/comments", "author": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7886513f89795e06eef258e0c54dbd1224c98317", "url": "https://api.github.com/repos/rust-lang/rust/commits/7886513f89795e06eef258e0c54dbd1224c98317", "html_url": "https://github.com/rust-lang/rust/commit/7886513f89795e06eef258e0c54dbd1224c98317"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "c2779afc2b4af05182a03bbea92269b83444e74e", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2e7b88b5256bd6c51226b63b93481a77ac901e14/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/2e7b88b5256bd6c51226b63b93481a77ac901e14/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=2e7b88b5256bd6c51226b63b93481a77ac901e14", "patch": "@@ -1013,6 +1013,7 @@ dependencies = [\n  \"chalk-solve\",\n  \"ena\",\n  \"insta\",\n+ \"itertools\",\n  \"log\",\n  \"ra_arena\",\n  \"ra_db\","}, {"sha": "c863112c0f3fddf7c7541038579b84cd12799a01", "filename": "crates/ra_hir_ty/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2e7b88b5256bd6c51226b63b93481a77ac901e14/crates%2Fra_hir_ty%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/2e7b88b5256bd6c51226b63b93481a77ac901e14/crates%2Fra_hir_ty%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2FCargo.toml?ref=2e7b88b5256bd6c51226b63b93481a77ac901e14", "patch": "@@ -8,6 +8,7 @@ authors = [\"rust-analyzer developers\"]\n doctest = false\n \n [dependencies]\n+itertools = \"0.9.0\"\n arrayvec = \"0.5.1\"\n smallvec = \"1.2.0\"\n ena = \"0.13.1\""}, {"sha": "fa8e4d1ad182da56909d1e9d044b61c95fddc2cd", "filename": "crates/ra_hir_ty/src/traits/chalk/tls.rs", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/2e7b88b5256bd6c51226b63b93481a77ac901e14/crates%2Fra_hir_ty%2Fsrc%2Ftraits%2Fchalk%2Ftls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e7b88b5256bd6c51226b63b93481a77ac901e14/crates%2Fra_hir_ty%2Fsrc%2Ftraits%2Fchalk%2Ftls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftraits%2Fchalk%2Ftls.rs?ref=2e7b88b5256bd6c51226b63b93481a77ac901e14", "patch": "@@ -2,6 +2,7 @@\n use std::fmt;\n \n use chalk_ir::{AliasTy, Goal, Goals, Lifetime, Parameter, ProgramClauseImplication, TypeName};\n+use itertools::Itertools;\n \n use super::{from_chalk, Interner};\n use crate::{db::HirDatabase, CallableDef, TypeCtor};\n@@ -133,14 +134,15 @@ impl DebugContext<'_> {\n         };\n         let trait_data = self.0.trait_data(trait_);\n         let params = alias.substitution.parameters(&Interner);\n-        write!(\n-            fmt,\n-            \"<{:?} as {}<{:?}>>::{}\",\n-            &params[0],\n-            trait_data.name,\n-            &params[1..],\n-            type_alias_data.name\n-        )\n+        write!(fmt, \"<{:?} as {}\", &params[0], trait_data.name,)?;\n+        if params.len() > 1 {\n+            write!(\n+                fmt,\n+                \"<{}>\",\n+                &params[1..].iter().format_with(\", \", |x, f| f(&format_args!(\"{:?}\", x))),\n+            )?;\n+        }\n+        write!(fmt, \">::{}\", type_alias_data.name)\n     }\n \n     pub fn debug_ty("}]}