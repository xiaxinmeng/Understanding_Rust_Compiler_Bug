{"sha": "e084bb2abc7f318955f3d0b20b1398c5b393926f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUwODRiYjJhYmM3ZjMxODk1NWYzZDBiMjBiMTM5OGM1YjM5MzkyNmY=", "commit": {"author": {"name": "Nikita Baksalyar", "email": "nikita.baksalyar@gmail.com", "date": "2017-07-07T05:32:18Z"}, "committer": {"name": "Nikita Baksalyar", "email": "nikita.baksalyar@gmail.com", "date": "2017-07-07T05:32:18Z"}, "message": "Fix Rustbuild linking on Illumos\n\nIllumos (an OpenSolaris fork) expects to get several\nextra library references for some system functions used\nby Rust standard library. This commit adds required linker\noptions to rustbuild, which is currently doesn't work on\nIllumos-based operating systems.", "tree": {"sha": "b1121a90668f78ecd6b4f7f5779a009ebc6d2b1c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b1121a90668f78ecd6b4f7f5779a009ebc6d2b1c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e084bb2abc7f318955f3d0b20b1398c5b393926f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEcBAABAgAGBQJZXxziAAoJECNBZ4Q7HSfuI3oIAIN2NX38afGZ7ksHGdB2Idze\nWFihkCA+t+TzyHl2L6dXriR/+uH+LZwFNB7Xg2U17dTie85WB3x95nRDwUnKklXy\ntFJ/H2BBpRqYjA/2jd1ks/+yzlVmOKKu+SENd4SrYYnJn6jW0KIv9AwaAjRy3ovs\naY1UUfJMGXsALE25glToFLGEH04+tb86QIBRjn1Nb/XF7BHY1QFMGfzawGkxWU3c\nb8qvBe8SpTdM/VxO4x+vjJAv1caT8NVah55dyoBkQFccjpK8+x+reW0v4+28gDz3\nt10dpOM9j3KzXZD3XCHPL9DSKpmGXjs54XHhTtMtQepEubVzN4ZhqOPIoIV6rh4=\n=Q+YF\n-----END PGP SIGNATURE-----", "payload": "tree b1121a90668f78ecd6b4f7f5779a009ebc6d2b1c\nparent b80b659d674fa19b2b48142e4f7974544bc8d5f6\nauthor Nikita Baksalyar <nikita.baksalyar@gmail.com> 1499405538 +0300\ncommitter Nikita Baksalyar <nikita.baksalyar@gmail.com> 1499405538 +0300\n\nFix Rustbuild linking on Illumos\n\nIllumos (an OpenSolaris fork) expects to get several\nextra library references for some system functions used\nby Rust standard library. This commit adds required linker\noptions to rustbuild, which is currently doesn't work on\nIllumos-based operating systems.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e084bb2abc7f318955f3d0b20b1398c5b393926f", "html_url": "https://github.com/rust-lang/rust/commit/e084bb2abc7f318955f3d0b20b1398c5b393926f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e084bb2abc7f318955f3d0b20b1398c5b393926f/comments", "author": {"login": "nbaksalyar", "id": 217316, "node_id": "MDQ6VXNlcjIxNzMxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/217316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbaksalyar", "html_url": "https://github.com/nbaksalyar", "followers_url": "https://api.github.com/users/nbaksalyar/followers", "following_url": "https://api.github.com/users/nbaksalyar/following{/other_user}", "gists_url": "https://api.github.com/users/nbaksalyar/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbaksalyar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbaksalyar/subscriptions", "organizations_url": "https://api.github.com/users/nbaksalyar/orgs", "repos_url": "https://api.github.com/users/nbaksalyar/repos", "events_url": "https://api.github.com/users/nbaksalyar/events{/privacy}", "received_events_url": "https://api.github.com/users/nbaksalyar/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nbaksalyar", "id": 217316, "node_id": "MDQ6VXNlcjIxNzMxNg==", "avatar_url": "https://avatars.githubusercontent.com/u/217316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbaksalyar", "html_url": "https://github.com/nbaksalyar", "followers_url": "https://api.github.com/users/nbaksalyar/followers", "following_url": "https://api.github.com/users/nbaksalyar/following{/other_user}", "gists_url": "https://api.github.com/users/nbaksalyar/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbaksalyar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbaksalyar/subscriptions", "organizations_url": "https://api.github.com/users/nbaksalyar/orgs", "repos_url": "https://api.github.com/users/nbaksalyar/repos", "events_url": "https://api.github.com/users/nbaksalyar/events{/privacy}", "received_events_url": "https://api.github.com/users/nbaksalyar/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b80b659d674fa19b2b48142e4f7974544bc8d5f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/b80b659d674fa19b2b48142e4f7974544bc8d5f6", "html_url": "https://github.com/rust-lang/rust/commit/b80b659d674fa19b2b48142e4f7974544bc8d5f6"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "2abd47ab8dfbd938238bd0667bfe129eed887237", "filename": "src/libstd/build.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e084bb2abc7f318955f3d0b20b1398c5b393926f/src%2Flibstd%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e084bb2abc7f318955f3d0b20b1398c5b393926f/src%2Flibstd%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fbuild.rs?ref=e084bb2abc7f318955f3d0b20b1398c5b393926f", "patch": "@@ -41,6 +41,10 @@ fn main() {\n     } else if target.contains(\"dragonfly\") || target.contains(\"bitrig\") ||\n               target.contains(\"netbsd\") || target.contains(\"openbsd\") {\n         println!(\"cargo:rustc-link-lib=pthread\");\n+    } else if target.contains(\"solaris\") {\n+        println!(\"cargo:rustc-link-lib=socket\");\n+        println!(\"cargo:rustc-link-lib=posix4\");\n+        println!(\"cargo:rustc-link-lib=pthread\");\n     } else if target.contains(\"apple-darwin\") {\n         println!(\"cargo:rustc-link-lib=System\");\n "}]}