{"sha": "1a461598280f3f0ed047c89d1f2ec10be354e609", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhNDYxNTk4MjgwZjNmMGVkMDQ3Yzg5ZDFmMmVjMTBiZTM1NGU2MDk=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-04-18T16:03:43Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-04-18T16:03:43Z"}, "message": "Explain why we shouldn't add inline attr to into_vec", "tree": {"sha": "0b0d5b783fa91f16378e43b712d2d0c27847c10c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0b0d5b783fa91f16378e43b712d2d0c27847c10c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a461598280f3f0ed047c89d1f2ec10be354e609", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEXmatGLoofN5+9u4rsJhshcDi2qEFAl6bJN8ACgkQsJhshcDi\n2qH9qw/8Dg9cUxbODQuYoVrfw2Zb93CV4HqcVk7XphmoKupKYWGzaqS9ud8d97If\ni8JWl9MtYmohN+zzLfm4MTkV4aqQ2oTJAN5oFkq9kAsHUzzWUVWHM5J2uKymYrYS\n4uM+WwO3sz+bBCkrARmzdFbRnrreCHf9rX+pNZc6cSk6S+x9K7wiXDaD9SjoYI9e\nvzkR6cok6FS9a4eEUXaJDTj4gtBEejYN7iLWI1mMjO8LIadKIRwSXk5GCRZcG7sV\nO0xhq0qzgN/4AAVlFdAUWyFW/jfIk5Y3juQDr8xtdl/Yss5XcwMY0SpglwU2g3ZD\nHTjs/E1arN8kz307BLDyw5DXFI17ToL3BQLERtjT89uqKIDAFPSdCTYPi3EasyhH\ntX3edDL0SM9nt9Efb0oukOFviFtYXZ6MlON783+b5GWEqI8wkLtuiXcI37iZinOy\n07ubbqkzPlPfvJftl64C+9nmY16LX8zp7TowRI7VP4oCq7cs5jQo9gJ6/6YekKUU\nS9JlmqEP1wSliK4/1KDz8kOoH3reQy1PYio1YOmlIHvI9N9zxxHyCA/5q3aYBbYy\nqBbaR43lEhtne2ClreAtKPSi9bCeeTbgzwzraxnqxBOa2Sf+5Gg/U2m8LDawDMkJ\nksPAGZ8sCPzSmU2+CgVXoJE4fx+gvjkDdjJxmn4NSzzvxjLe4yg=\n=d/CB\n-----END PGP SIGNATURE-----", "payload": "tree 0b0d5b783fa91f16378e43b712d2d0c27847c10c\nparent 339a938fa6582d5c6f84d811680a1031c684c1c6\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1587225823 +0900\ncommitter Yuki Okushi <huyuumi.dev@gmail.com> 1587225823 +0900\n\nExplain why we shouldn't add inline attr to into_vec\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a461598280f3f0ed047c89d1f2ec10be354e609", "html_url": "https://github.com/rust-lang/rust/commit/1a461598280f3f0ed047c89d1f2ec10be354e609", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a461598280f3f0ed047c89d1f2ec10be354e609/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "339a938fa6582d5c6f84d811680a1031c684c1c6", "url": "https://api.github.com/repos/rust-lang/rust/commits/339a938fa6582d5c6f84d811680a1031c684c1c6", "html_url": "https://github.com/rust-lang/rust/commit/339a938fa6582d5c6f84d811680a1031c684c1c6"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "53477288b59ee8a89d39bb2bbbd5eceb0730ea8e", "filename": "src/liballoc/slice.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1a461598280f3f0ed047c89d1f2ec10be354e609/src%2Fliballoc%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a461598280f3f0ed047c89d1f2ec10be354e609/src%2Fliballoc%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fslice.rs?ref=1a461598280f3f0ed047c89d1f2ec10be354e609", "patch": "@@ -140,6 +140,9 @@ mod hack {\n     use crate::string::ToString;\n     use crate::vec::Vec;\n \n+    // We shouldn't add inline attribute to this since this is used in\n+    // `vec!` macro mostly and causes perf regression. See #71204 for\n+    // discussion and perf results.\n     pub fn into_vec<T>(b: Box<[T]>) -> Vec<T> {\n         unsafe {\n             let len = b.len();"}]}