{"sha": "f4f18586e755f239b5be3a60a6e3bfd382524210", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY0ZjE4NTg2ZTc1NWYyMzliNWJlM2E2MGE2ZTNiZmQzODI1MjQyMTA=", "commit": {"author": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2017-09-15T18:31:48Z"}, "committer": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2017-10-23T11:12:12Z"}, "message": "Move cargotest to separate jobs on Travis-CI and AppVeyor", "tree": {"sha": "c1d8fe6c533f0336937a4318f3ace3435302e839", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c1d8fe6c533f0336937a4318f3ace3435302e839"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f4f18586e755f239b5be3a60a6e3bfd382524210", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f4f18586e755f239b5be3a60a6e3bfd382524210", "html_url": "https://github.com/rust-lang/rust/commit/f4f18586e755f239b5be3a60a6e3bfd382524210", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f4f18586e755f239b5be3a60a6e3bfd382524210/comments", "author": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5167aac3c43fb3e727831658b780acde49b42ff7", "url": "https://api.github.com/repos/rust-lang/rust/commits/5167aac3c43fb3e727831658b780acde49b42ff7", "html_url": "https://github.com/rust-lang/rust/commit/5167aac3c43fb3e727831658b780acde49b42ff7"}], "stats": {"total": 29, "additions": 28, "deletions": 1}, "files": [{"sha": "db34f1404481bd758a898174f135f2ca188bdb76", "filename": ".travis.yml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f4f18586e755f239b5be3a60a6e3bfd382524210/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/f4f18586e755f239b5be3a60a6e3bfd382524210/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=f4f18586e755f239b5be3a60a6e3bfd382524210", "patch": "@@ -169,6 +169,8 @@ matrix:\n       if: branch = auto\n     - env: IMAGE=x86_64-gnu-aux\n       if: branch = auto\n+    - env: IMAGE=x86_64-gnu-cargotest\n+      if: branch = auto\n     - env: IMAGE=x86_64-gnu-debug\n       if: branch = auto\n     - env: IMAGE=x86_64-gnu-nopt"}, {"sha": "b86fa25337b009e850820843c7cdeeffcbec2a56", "filename": "appveyor.yml", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f4f18586e755f239b5be3a60a6e3bfd382524210/appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/f4f18586e755f239b5be3a60a6e3bfd382524210/appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/appveyor.yml?ref=f4f18586e755f239b5be3a60a6e3bfd382524210", "patch": "@@ -25,6 +25,11 @@ environment:\n     RUST_CHECK_TARGET: check-aux\n     RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc\n \n+  # MSVC cargotest\n+  - MSYS_BITS: 64\n+    SCRIPT: python x.py test src/tools/cargotest\n+    RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc\n+\n   # 32/64-bit MinGW builds.\n   #\n   # We are using MinGW with posix threads since LLVM does not compile with"}, {"sha": "eb92c8f143befb9e897ef45d72d2b7860f710284", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f4f18586e755f239b5be3a60a6e3bfd382524210/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/f4f18586e755f239b5be3a60a6e3bfd382524210/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=f4f18586e755f239b5be3a60a6e3bfd382524210", "patch": "@@ -52,7 +52,6 @@ check:\n \t$(Q)$(BOOTSTRAP) test $(BOOTSTRAP_ARGS)\n check-aux:\n \t$(Q)$(BOOTSTRAP) test \\\n-\t\tsrc/tools/cargotest \\\n \t\tsrc/tools/cargo \\\n \t\tsrc/tools/rls \\\n \t\tsrc/tools/rustfmt \\"}, {"sha": "05c9f06ca9a79df63b6e1ca7cae0112ade638987", "filename": "src/ci/docker/x86_64-gnu-cargotest/Dockerfile", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/f4f18586e755f239b5be3a60a6e3bfd382524210/src%2Fci%2Fdocker%2Fx86_64-gnu-cargotest%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/f4f18586e755f239b5be3a60a6e3bfd382524210/src%2Fci%2Fdocker%2Fx86_64-gnu-cargotest%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fx86_64-gnu-cargotest%2FDockerfile?ref=f4f18586e755f239b5be3a60a6e3bfd382524210", "patch": "@@ -0,0 +1,21 @@\n+FROM ubuntu:16.04\n+\n+RUN apt-get update && apt-get install -y --no-install-recommends \\\n+  g++ \\\n+  make \\\n+  file \\\n+  curl \\\n+  ca-certificates \\\n+  python2.7 \\\n+  git \\\n+  cmake \\\n+  libssl-dev \\\n+  sudo \\\n+  xz-utils \\\n+  pkg-config\n+\n+COPY scripts/sccache.sh /scripts/\n+RUN sh /scripts/sccache.sh\n+\n+ENV RUST_CONFIGURE_ARGS --build=x86_64-unknown-linux-gnu\n+ENV SCRIPT python2.7 ../x.py test src/tools/cargotest"}]}