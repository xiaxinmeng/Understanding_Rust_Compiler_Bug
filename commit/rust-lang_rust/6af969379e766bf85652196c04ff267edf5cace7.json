{"sha": "6af969379e766bf85652196c04ff267edf5cace7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZhZjk2OTM3OWU3NjZiZjg1NjUyMTk2YzA0ZmYyNjdlZGY1Y2FjZTc=", "commit": {"author": {"name": "Dmitry Murzin", "email": "diralik@yandex.ru", "date": "2020-08-09T17:21:09Z"}, "committer": {"name": "Dmitry Murzin", "email": "diralik@yandex.ru", "date": "2020-08-09T17:21:09Z"}, "message": "Prevent compile parts of rustc when using `cargo dev ra-setup`", "tree": {"sha": "75766572ea0f1aa6f6d13ffcb40ec19a9c3ac158", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/75766572ea0f1aa6f6d13ffcb40ec19a9c3ac158"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6af969379e766bf85652196c04ff267edf5cace7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEL6jLL1MPjzOQhhDzPafrjjExpFQFAl8wMIUACgkQPafrjjEx\npFToZQ//WijmSNYIjssv4CrZXLTqClUSdULVJyf1K7tJuZwA3nyaJ4UAtPFdB3/V\n3TGVNejDF8ZW94BBakJw3c+SvFChGZOlG2c2kQgSSriY0x5D9higQeSCJ82sF8sx\neAMrxSjgmFigDpU079eCq51+hq8UoVC9EqFNbK6fZNcs5MF7f1uhcC8JE8Hhkrus\n9rLflr/aQu6iAJWFklSz5jXcLf6Z5WTx+6MTxnU1fExwuLmSLRpGY1QvmBCi4n4C\nrHcYtp6tnJcnY7bgWGTzmVnzdNhKRKdyTZ2AvbLUDS9XlLgyb+pm3aMq2VN7tOec\nSh6rxvEBHpZ91xAOQcjsHEXkM3BtJ/YP6epxtjtMMQjgF+NllnqTrKs5b+GhqWbP\nF50KxcZZ8Tj4SPovTbjpMzTdX4kEj9heOunGjIOz/aHT2FEwbcVM85RGB2FdYUST\nL0DgHBAept+edF2VB84zhIAU8BqSU7K+ngOELOhqIm8oArlDf38Q4Rfr2o1vUHkm\nZ79cjUyP1KtTUkZEhsPsAfaQ+hMHFzKG9zm7ZHrFhngiYVu8n0PYZY7cj8pFh6I4\nvExKMH3N5f0SflBFVOGP3GLQktZi26M+7cMEGa/2Pg/ZwEKWGjE0Z1ds1EO8YMCD\nuI//E9JLrHKvaJHSjIV/5BtAHZZtoUs9J4ajxUHM6ChJMf2ISjU=\n=7llZ\n-----END PGP SIGNATURE-----", "payload": "tree 75766572ea0f1aa6f6d13ffcb40ec19a9c3ac158\nparent 70c46de012fe73fb57662085c02ef921e2e5b93c\nauthor Dmitry Murzin <diralik@yandex.ru> 1596993669 +0500\ncommitter Dmitry Murzin <diralik@yandex.ru> 1596993669 +0500\n\nPrevent compile parts of rustc when using `cargo dev ra-setup`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6af969379e766bf85652196c04ff267edf5cace7", "html_url": "https://github.com/rust-lang/rust/commit/6af969379e766bf85652196c04ff267edf5cace7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6af969379e766bf85652196c04ff267edf5cace7/comments", "author": {"login": "dima74", "id": 6505554, "node_id": "MDQ6VXNlcjY1MDU1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6505554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dima74", "html_url": "https://github.com/dima74", "followers_url": "https://api.github.com/users/dima74/followers", "following_url": "https://api.github.com/users/dima74/following{/other_user}", "gists_url": "https://api.github.com/users/dima74/gists{/gist_id}", "starred_url": "https://api.github.com/users/dima74/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dima74/subscriptions", "organizations_url": "https://api.github.com/users/dima74/orgs", "repos_url": "https://api.github.com/users/dima74/repos", "events_url": "https://api.github.com/users/dima74/events{/privacy}", "received_events_url": "https://api.github.com/users/dima74/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dima74", "id": 6505554, "node_id": "MDQ6VXNlcjY1MDU1NTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6505554?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dima74", "html_url": "https://github.com/dima74", "followers_url": "https://api.github.com/users/dima74/followers", "following_url": "https://api.github.com/users/dima74/following{/other_user}", "gists_url": "https://api.github.com/users/dima74/gists{/gist_id}", "starred_url": "https://api.github.com/users/dima74/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dima74/subscriptions", "organizations_url": "https://api.github.com/users/dima74/orgs", "repos_url": "https://api.github.com/users/dima74/repos", "events_url": "https://api.github.com/users/dima74/events{/privacy}", "received_events_url": "https://api.github.com/users/dima74/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70c46de012fe73fb57662085c02ef921e2e5b93c", "url": "https://api.github.com/repos/rust-lang/rust/commits/70c46de012fe73fb57662085c02ef921e2e5b93c", "html_url": "https://github.com/rust-lang/rust/commit/70c46de012fe73fb57662085c02ef921e2e5b93c"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "f2bd651ab253c6419ce6395e22d7d5a18562dd78", "filename": "clippy_dev/src/ra_setup.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6af969379e766bf85652196c04ff267edf5cace7/clippy_dev%2Fsrc%2Fra_setup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6af969379e766bf85652196c04ff267edf5cace7/clippy_dev%2Fsrc%2Fra_setup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fra_setup.rs?ref=6af969379e766bf85652196c04ff267edf5cace7", "patch": "@@ -68,10 +68,11 @@ fn inject_deps_into_manifest(\n     });\n \n     // format a new [dependencies]-block with the new deps we need to inject\n-    let mut all_deps = String::from(\"[dependencies]\\n\");\n+    let mut all_deps = String::from(\"[target.'cfg(NOT_A_PLATFORM)'.dependencies]\\n\");\n     new_deps.for_each(|dep_line| {\n         all_deps.push_str(&dep_line);\n     });\n+    all_deps.push_str(\"\\n[dependencies]\\n\");\n \n     // replace \"[dependencies]\" with\n     // [dependencies]"}]}