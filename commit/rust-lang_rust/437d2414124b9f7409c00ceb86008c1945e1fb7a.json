{"sha": "437d2414124b9f7409c00ceb86008c1945e1fb7a", "node_id": "C_kwDOAAsO6NoAKDQzN2QyNDE0MTI0YjlmNzQwOWMwMGNlYjg2MDA4YzE5NDVlMWZiN2E", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-06T15:53:18Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-06T18:37:46Z"}, "message": "move tests covering the env:: module into their own directory", "tree": {"sha": "92b8e1f932d9f965e4e9952d9de95d68d0cf25c7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92b8e1f932d9f965e4e9952d9de95d68d0cf25c7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/437d2414124b9f7409c00ceb86008c1945e1fb7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/437d2414124b9f7409c00ceb86008c1945e1fb7a", "html_url": "https://github.com/rust-lang/rust/commit/437d2414124b9f7409c00ceb86008c1945e1fb7a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/437d2414124b9f7409c00ceb86008c1945e1fb7a/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61be3bae40ffe16dff1fc2e0147ecf125064fde3", "url": "https://api.github.com/repos/rust-lang/rust/commits/61be3bae40ffe16dff1fc2e0147ecf125064fde3", "html_url": "https://github.com/rust-lang/rust/commit/61be3bae40ffe16dff1fc2e0147ecf125064fde3"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "67cbed4f826d838617e501196a172e93057de093", "filename": "ci.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/ci.sh", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/ci.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci.sh?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "patch": "@@ -80,7 +80,7 @@ case $HOST_TARGET in\n     MIRI_TEST_TARGET=i686-unknown-linux-gnu run_tests\n     MIRI_TEST_TARGET=aarch64-apple-darwin run_tests\n     MIRI_TEST_TARGET=i686-pc-windows-msvc run_tests\n-    MIRI_TEST_TARGET=x86_64-unknown-freebsd run_tests_minimal hello integer vec current_dir data_race env\n+    MIRI_TEST_TARGET=x86_64-unknown-freebsd run_tests_minimal hello integer vec data_race env/var\n     MIRI_TEST_TARGET=thumbv7em-none-eabihf MIRI_NO_STD=1 run_tests_minimal no_std # no_std embedded architecture\n     ;;\n   x86_64-apple-darwin)"}, {"sha": "0116dce4992dcab2c92df739ed408773f601ee99", "filename": "tests/pass/env/args.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fargs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fargs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fargs.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/args.rs"}, {"sha": "9564f5a1aa056804e6b7f35d533c3a06afd76af9", "filename": "tests/pass/env/args.stdout", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fargs.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fargs.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fargs.stdout?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/args.stdout"}, {"sha": "069b462ab371aa148ef3fe76aaa129bc6d2df69f", "filename": "tests/pass/env/current_dir.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_dir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_dir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fcurrent_dir.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/current_dir.rs"}, {"sha": "9dbcfeae2d644d2642e819cc8b4071da6eff9165", "filename": "tests/pass/env/current_dir_with_isolation.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_dir_with_isolation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_dir_with_isolation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fcurrent_dir_with_isolation.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/current_dir_with_isolation.rs"}, {"sha": "589ca65a1e47e410396d8f353e3909de7283b690", "filename": "tests/pass/env/current_dir_with_isolation.stderr", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_dir_with_isolation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_dir_with_isolation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fcurrent_dir_with_isolation.stderr?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/current_dir_with_isolation.stderr"}, {"sha": "15ea6a52b7b6b6d12147e0625079e47e070824fe", "filename": "tests/pass/env/current_exe.rs", "status": "renamed", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_exe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fcurrent_exe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fcurrent_exe.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "patch": "@@ -1,4 +1,5 @@\n //@ignore-target-windows\n+//@only-on-host: the Linux std implementation opens /proc/self/exe, which doesn't work cross-target\n //@compile-flags: -Zmiri-disable-isolation\n use std::env;\n ", "previous_filename": "tests/pass/current_exe.rs"}, {"sha": "0fb69aad007707c271c35ca9ca2c2c81a7021695", "filename": "tests/pass/env/home.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fhome.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fhome.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fhome.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/home.rs"}, {"sha": "14ad827463a4ea3ddddd0fd7c3e0e458d8a8b4b2", "filename": "tests/pass/env/var-exclude.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar-exclude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar-exclude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fvar-exclude.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/env-exclude.rs"}, {"sha": "da7730b00f089bacabda0c2977ac58fe0c541c60", "filename": "tests/pass/env/var-forward.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar-forward.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar-forward.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fvar-forward.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/env-forward.rs"}, {"sha": "3d7461eecfe88b3e4e3ab779ed66e961d1243a1d", "filename": "tests/pass/env/var-without-isolation.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar-without-isolation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar-without-isolation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fvar-without-isolation.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/env-without-isolation.rs"}, {"sha": "23a3724ff7fd3117c7a9865b2dfaab52f828e978", "filename": "tests/pass/env/var.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fvar.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/env.rs"}, {"sha": "9a8f979598ebc0f3a3bee7fcb097b02a72acdcf9", "filename": "tests/pass/env/var.stdout", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Fenv%2Fvar.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fenv%2Fvar.stdout?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "previous_filename": "tests/pass/env.stdout"}, {"sha": "b5848560214848abaf5787204f6f131361c3e1e2", "filename": "tests/pass/libc.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Flibc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/437d2414124b9f7409c00ceb86008c1945e1fb7a/tests%2Fpass%2Flibc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Flibc.rs?ref=437d2414124b9f7409c00ceb86008c1945e1fb7a", "patch": "@@ -88,7 +88,7 @@ fn test_posix_realpath_errors() {\n     assert_eq!(e.kind(), ErrorKind::NotFound);\n }\n \n-#[cfg(any(target_os = \"linux\", target_os = \"freebsd\"))]\n+#[cfg(any(target_os = \"linux\"))]\n fn test_posix_fadvise() {\n     use std::convert::TryInto;\n     use std::io::Write;\n@@ -452,7 +452,7 @@ fn test_posix_mkstemp() {\n }\n \n fn main() {\n-    #[cfg(any(target_os = \"linux\", target_os = \"freebsd\"))]\n+    #[cfg(any(target_os = \"linux\"))]\n     test_posix_fadvise();\n \n     test_posix_gettimeofday();"}]}