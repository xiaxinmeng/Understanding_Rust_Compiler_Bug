{"sha": "04314a60616ab40f8cc5e146dc8297691d1b7f5e", "node_id": "C_kwDOAAsO6NoAKDA0MzE0YTYwNjE2YWI0MGY4Y2M1ZTE0NmRjODI5NzY5MWQxYjdmNWU", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2021-10-05T06:56:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-10-05T06:56:23Z"}, "message": "Rollup merge of #89482 - hkmatsumoto:patch-diagnostics, r=joshtriplett\n\nFollow the diagnostic output style guide\n\nDetected by #89455.", "tree": {"sha": "07f0af24de7bc47ca596742445a84aef777c2a17", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07f0af24de7bc47ca596742445a84aef777c2a17"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/04314a60616ab40f8cc5e146dc8297691d1b7f5e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhW/cXCRBK7hj4Ov3rIwAAeq4IAEKH+ZCIsQ/RM6ripmnBuF5g\nuMnsVzGI5Lx2OTJB0zvDuQSZdQq9IrO7VFL8WXoF06e18Qver31u70oamN9uTPI4\nVqd/QQEUYEIduUZnX3pYDjMLCDEcAgH1IjG+aWVKdu7kq+VqQd5Ri285nU4qZ9jP\nzzALZvpKyURNcn9AlIv7a+CoKo1Zvq5zciQGdHW71oAius46+fyYJzEGpOMwoJUS\nOSbzZtdvmZ7pAiow38dIyODGOPB+clAD1ZXuSJYII80PAYnd3kjinNDc+28iJbNl\nMcJM8F6ReaosrBgkNFrWKlJZyjwR1x7S6aq96/xYA9+MILXY4xF3iseCaN63kXk=\n=ugU+\n-----END PGP SIGNATURE-----\n", "payload": "tree 07f0af24de7bc47ca596742445a84aef777c2a17\nparent a23d7f01d3d486d02fe18949d7097fd4bda27f43\nparent fb0b1a54663ca96dd406847b9268cda547f0d8d6\nauthor Manish Goregaokar <manishsmail@gmail.com> 1633416983 -0700\ncommitter GitHub <noreply@github.com> 1633416983 -0700\n\nRollup merge of #89482 - hkmatsumoto:patch-diagnostics, r=joshtriplett\n\nFollow the diagnostic output style guide\n\nDetected by #89455.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/04314a60616ab40f8cc5e146dc8297691d1b7f5e", "html_url": "https://github.com/rust-lang/rust/commit/04314a60616ab40f8cc5e146dc8297691d1b7f5e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/04314a60616ab40f8cc5e146dc8297691d1b7f5e/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a23d7f01d3d486d02fe18949d7097fd4bda27f43", "url": "https://api.github.com/repos/rust-lang/rust/commits/a23d7f01d3d486d02fe18949d7097fd4bda27f43", "html_url": "https://github.com/rust-lang/rust/commit/a23d7f01d3d486d02fe18949d7097fd4bda27f43"}, {"sha": "fb0b1a54663ca96dd406847b9268cda547f0d8d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/fb0b1a54663ca96dd406847b9268cda547f0d8d6", "html_url": "https://github.com/rust-lang/rust/commit/fb0b1a54663ca96dd406847b9268cda547f0d8d6"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "230d023efb9fbfbd41f86a8c302f35eb0b1db25c", "filename": "compiler/rustc_const_eval/src/transform/check_consts/ops.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -102,7 +102,7 @@ impl NonConstOp for FnCallUnstable {\n         );\n \n         if ccx.is_const_stable_const_fn() {\n-            err.help(\"Const-stable functions can only call other const-stable functions\");\n+            err.help(\"const-stable functions can only call other const-stable functions\");\n         } else if ccx.tcx.sess.is_nightly_build() {\n             if let Some(feature) = feature {\n                 err.help(&format!("}, {"sha": "db50c5d891e1360c8f6dfebf347ab83dd3d20a25", "filename": "compiler/rustc_typeck/src/check/check.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fcheck.rs?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -58,7 +58,7 @@ pub(super) fn check_abi(tcx: TyCtxt<'_>, hir_id: hir::HirId, span: Span, abi: Ab\n             tcx.sess,\n             span,\n             E0781,\n-            \"the `\\\"C-cmse-nonsecure-call\\\"` ABI is only allowed on function pointers.\"\n+            \"the `\\\"C-cmse-nonsecure-call\\\"` ABI is only allowed on function pointers\"\n         )\n         .emit()\n     }"}, {"sha": "08b763b260822e3e970a3ce274f55fa362fb5950", "filename": "src/test/ui/cmse-nonsecure/cmse-nonsecure-call/wrong-abi-location-1.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fcmse-nonsecure%2Fcmse-nonsecure-call%2Fwrong-abi-location-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fcmse-nonsecure%2Fcmse-nonsecure-call%2Fwrong-abi-location-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcmse-nonsecure%2Fcmse-nonsecure-call%2Fwrong-abi-location-1.stderr?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -1,4 +1,4 @@\n-error[E0781]: the `\"C-cmse-nonsecure-call\"` ABI is only allowed on function pointers.\n+error[E0781]: the `\"C-cmse-nonsecure-call\"` ABI is only allowed on function pointers\n   --> $DIR/wrong-abi-location-1.rs:8:1\n    |\n LL | pub extern \"C-cmse-nonsecure-call\" fn test() {}"}, {"sha": "3ade9891e48a5cdd5bb921cd9c1ecfac2c208a53", "filename": "src/test/ui/cmse-nonsecure/cmse-nonsecure-call/wrong-abi-location-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fcmse-nonsecure%2Fcmse-nonsecure-call%2Fwrong-abi-location-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fcmse-nonsecure%2Fcmse-nonsecure-call%2Fwrong-abi-location-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcmse-nonsecure%2Fcmse-nonsecure-call%2Fwrong-abi-location-2.stderr?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -1,4 +1,4 @@\n-error[E0781]: the `\"C-cmse-nonsecure-call\"` ABI is only allowed on function pointers.\n+error[E0781]: the `\"C-cmse-nonsecure-call\"` ABI is only allowed on function pointers\n   --> $DIR/wrong-abi-location-2.rs:8:1\n    |\n LL | / extern \"C-cmse-nonsecure-call\" {"}, {"sha": "778b0e55f662079e504ec5e141ba1ede64b25715", "filename": "src/test/ui/consts/min_const_fn/min_const_fn_libstd_stability.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_libstd_stability.stderr?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -4,15 +4,15 @@ error: `foo` is not yet stable as a const fn\n LL | const fn bar() -> u32 { foo() }\n    |                         ^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: `foo2` is not yet stable as a const fn\n   --> $DIR/min_const_fn_libstd_stability.rs:24:26\n    |\n LL | const fn bar2() -> u32 { foo2() }\n    |                          ^^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: const-stable function cannot use `#[feature(const_fn_floating_point_arithmetic)]`\n   --> $DIR/min_const_fn_libstd_stability.rs:29:26\n@@ -35,7 +35,7 @@ error: `foo2_gated` is not yet stable as a const fn\n LL | const fn bar2_gated() -> u32 { foo2_gated() }\n    |                                ^^^^^^^^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: aborting due to 4 previous errors\n "}, {"sha": "0174cb77f332dcdfd3b06b2c2efffd85706cea34", "filename": "src/test/ui/consts/min_const_fn/min_const_unsafe_fn_libstd_stability.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability.stderr?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -4,15 +4,15 @@ error: `foo` is not yet stable as a const fn\n LL | const unsafe fn bar() -> u32 { unsafe { foo() } }\n    |                                         ^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: `foo2` is not yet stable as a const fn\n   --> $DIR/min_const_unsafe_fn_libstd_stability.rs:24:42\n    |\n LL | const unsafe fn bar2() -> u32 { unsafe { foo2() } }\n    |                                          ^^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: const-stable function cannot use `#[feature(const_fn_floating_point_arithmetic)]`\n   --> $DIR/min_const_unsafe_fn_libstd_stability.rs:29:33\n@@ -35,7 +35,7 @@ error: `foo2_gated` is not yet stable as a const fn\n LL | const unsafe fn bar2_gated() -> u32 { unsafe { foo2_gated() } }\n    |                                                ^^^^^^^^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: aborting due to 4 previous errors\n "}, {"sha": "e90ba9b912fe1a2abc34c36ef46e99b4072b01c6", "filename": "src/test/ui/consts/min_const_fn/min_const_unsafe_fn_libstd_stability2.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_unsafe_fn_libstd_stability2.stderr?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -4,23 +4,23 @@ error: `foo` is not yet stable as a const fn\n LL | const unsafe fn bar() -> u32 { foo() }\n    |                                ^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: `foo2` is not yet stable as a const fn\n   --> $DIR/min_const_unsafe_fn_libstd_stability2.rs:24:33\n    |\n LL | const unsafe fn bar2() -> u32 { foo2() }\n    |                                 ^^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: `foo2_gated` is not yet stable as a const fn\n   --> $DIR/min_const_unsafe_fn_libstd_stability2.rs:33:39\n    |\n LL | const unsafe fn bar2_gated() -> u32 { foo2_gated() }\n    |                                       ^^^^^^^^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: aborting due to 3 previous errors\n "}, {"sha": "5649f688fe7c6211c762abae3f7e75b66c65f57a", "filename": "src/test/ui/rfc-2632-const-trait-impl/stability.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fstability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/04314a60616ab40f8cc5e146dc8297691d1b7f5e/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fstability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fstability.stderr?ref=04314a60616ab40f8cc5e146dc8297691d1b7f5e", "patch": "@@ -13,7 +13,7 @@ error: `<Int as Add>::add` is not yet stable as a const fn\n LL |     Int(1i32) + Int(2i32)\n    |     ^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = help: Const-stable functions can only call other const-stable functions\n+   = help: const-stable functions can only call other const-stable functions\n \n error: aborting due to 2 previous errors\n "}]}