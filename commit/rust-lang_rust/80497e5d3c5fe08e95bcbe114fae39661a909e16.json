{"sha": "80497e5d3c5fe08e95bcbe114fae39661a909e16", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgwNDk3ZTVkM2M1ZmUwOGU5NWJjYmUxMTRmYWUzOTY2MWE5MDllMTY=", "commit": {"author": {"name": "David Cook", "email": "divergentdave@gmail.com", "date": "2020-04-06T12:23:58Z"}, "committer": {"name": "David Cook", "email": "divergentdave@gmail.com", "date": "2020-04-06T12:23:58Z"}, "message": "Clean up conditional compilation", "tree": {"sha": "735d2bafd0393da97be46cb4acc9db29aac56f26", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/735d2bafd0393da97be46cb4acc9db29aac56f26"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/80497e5d3c5fe08e95bcbe114fae39661a909e16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/80497e5d3c5fe08e95bcbe114fae39661a909e16", "html_url": "https://github.com/rust-lang/rust/commit/80497e5d3c5fe08e95bcbe114fae39661a909e16", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/80497e5d3c5fe08e95bcbe114fae39661a909e16/comments", "author": {"login": "divergentdave", "id": 181772, "node_id": "MDQ6VXNlcjE4MTc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/181772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/divergentdave", "html_url": "https://github.com/divergentdave", "followers_url": "https://api.github.com/users/divergentdave/followers", "following_url": "https://api.github.com/users/divergentdave/following{/other_user}", "gists_url": "https://api.github.com/users/divergentdave/gists{/gist_id}", "starred_url": "https://api.github.com/users/divergentdave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/divergentdave/subscriptions", "organizations_url": "https://api.github.com/users/divergentdave/orgs", "repos_url": "https://api.github.com/users/divergentdave/repos", "events_url": "https://api.github.com/users/divergentdave/events{/privacy}", "received_events_url": "https://api.github.com/users/divergentdave/received_events", "type": "User", "site_admin": false}, "committer": {"login": "divergentdave", "id": 181772, "node_id": "MDQ6VXNlcjE4MTc3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/181772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/divergentdave", "html_url": "https://github.com/divergentdave", "followers_url": "https://api.github.com/users/divergentdave/followers", "following_url": "https://api.github.com/users/divergentdave/following{/other_user}", "gists_url": "https://api.github.com/users/divergentdave/gists{/gist_id}", "starred_url": "https://api.github.com/users/divergentdave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/divergentdave/subscriptions", "organizations_url": "https://api.github.com/users/divergentdave/orgs", "repos_url": "https://api.github.com/users/divergentdave/repos", "events_url": "https://api.github.com/users/divergentdave/events{/privacy}", "received_events_url": "https://api.github.com/users/divergentdave/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f5f0e1520a4f001674478ee5b8eb7a644b2c66a", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f5f0e1520a4f001674478ee5b8eb7a644b2c66a", "html_url": "https://github.com/rust-lang/rust/commit/0f5f0e1520a4f001674478ee5b8eb7a644b2c66a"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "fc154c05c8fc38c1797d27e82af2d0ca56f1d8a9", "filename": "tests/run-pass/libc.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/80497e5d3c5fe08e95bcbe114fae39661a909e16/tests%2Frun-pass%2Flibc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/80497e5d3c5fe08e95bcbe114fae39661a909e16/tests%2Frun-pass%2Flibc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Flibc.rs?ref=80497e5d3c5fe08e95bcbe114fae39661a909e16", "patch": "@@ -12,7 +12,7 @@ fn tmp() -> PathBuf {\n     std::env::var(\"MIRI_TEMP\").map(PathBuf::from).unwrap_or_else(|_| std::env::temp_dir())\n }\n \n-#[cfg(not(target_os = \"macos\"))]\n+#[cfg(target_os = \"linux\")]\n fn test_posix_fadvise() {\n     use std::convert::TryInto;\n     use std::fs::{remove_file, File};\n@@ -144,7 +144,7 @@ fn test_rwlock_libc_static_initializer() {\n }\n \n fn main() {\n-    #[cfg(not(target_os = \"macos\"))]\n+    #[cfg(target_os = \"linux\")]\n     test_posix_fadvise();\n \n     test_mutex_libc_init_recursive();"}]}