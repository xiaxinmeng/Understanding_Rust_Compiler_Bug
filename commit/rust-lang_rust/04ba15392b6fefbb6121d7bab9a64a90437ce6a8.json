{"sha": "04ba15392b6fefbb6121d7bab9a64a90437ce6a8", "node_id": "C_kwDOAAsO6NoAKDA0YmExNTM5MmI2ZmVmYmI2MTIxZDdiYWI5YTY0YTkwNDM3Y2U2YTg", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2021-10-01T21:46:50Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-10-01T21:46:50Z"}, "message": "Rollup merge of #89422 - GuillaumeGomez:doctest-whitespace-name, r=CraftSpider\n\nReplace whitespaces in doctests' name with dashes\n\nFixes #88263.\n\nInstead of handling white spaces when we filter tests (which would be quite complicated since we split on them!), I propose to instead replace them with dashes.\n\nSo for example, this:\n\n```console\ntest foo.rs - Iter2<T, P>::len (line 13) ... ok\ntest foo.rs - Iter<T, P>::len (line 4) ... ok\n```\n\nbecomes:\n\n```console\ntest foo.rs - Iter<T,-P>::len (line 4) ... ok\ntest foo.rs - Iter2<T,-P>::len (line 13) ... ok\n```\n\nr? `@jyn514`", "tree": {"sha": "ad879cd8887ea25129fba5120fa314e68ee2a9fe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad879cd8887ea25129fba5120fa314e68ee2a9fe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/04ba15392b6fefbb6121d7bab9a64a90437ce6a8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhV4HKCRBK7hj4Ov3rIwAAFPwIACsezP62nf4SQkb2RI/q5HOf\niLfp1k8OD6Oh7Y2tX2p8sl9zlnnGiZ7EwnSEWiniLpuoD9U0xlraBOCN0OGIz5IK\n43E3wk/+qN4YY2s3rYCvuvMqHqitW8eWmzuCF2USkduXsahuYrSOuOx93yHN4DH9\nZ6A0N5ojeHsp0IiLVPu0cgW12ssPsJsB4Mk7k+BBgx1cskSBuBw9T0lW/PF8ZkgA\nLe0e0bxzGFdoAhLrIsrCcKSDPzE0CkEREiAcvZbyynkiuC3y94Ebq7Rq5JxNouW4\nP0nLuTBqhAtHJX7npGKWcIYiIZIPuimw63pf/Yo1ihbVnYXitXFYcklwnu9f/fM=\n=n+pP\n-----END PGP SIGNATURE-----\n", "payload": "tree ad879cd8887ea25129fba5120fa314e68ee2a9fe\nparent 1781e4b81af0440ce58b6905724df5d3e2afd548\nparent 3792be6ac94186f3cffeaea98eff7477a0b1776f\nauthor Manish Goregaokar <manishsmail@gmail.com> 1633124810 -0700\ncommitter GitHub <noreply@github.com> 1633124810 -0700\n\nRollup merge of #89422 - GuillaumeGomez:doctest-whitespace-name, r=CraftSpider\n\nReplace whitespaces in doctests' name with dashes\n\nFixes #88263.\n\nInstead of handling white spaces when we filter tests (which would be quite complicated since we split on them!), I propose to instead replace them with dashes.\n\nSo for example, this:\n\n```console\ntest foo.rs - Iter2<T, P>::len (line 13) ... ok\ntest foo.rs - Iter<T, P>::len (line 4) ... ok\n```\n\nbecomes:\n\n```console\ntest foo.rs - Iter<T,-P>::len (line 4) ... ok\ntest foo.rs - Iter2<T,-P>::len (line 13) ... ok\n```\n\nr? `@jyn514`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/04ba15392b6fefbb6121d7bab9a64a90437ce6a8", "html_url": "https://github.com/rust-lang/rust/commit/04ba15392b6fefbb6121d7bab9a64a90437ce6a8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/04ba15392b6fefbb6121d7bab9a64a90437ce6a8/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1781e4b81af0440ce58b6905724df5d3e2afd548", "url": "https://api.github.com/repos/rust-lang/rust/commits/1781e4b81af0440ce58b6905724df5d3e2afd548", "html_url": "https://github.com/rust-lang/rust/commit/1781e4b81af0440ce58b6905724df5d3e2afd548"}, {"sha": "3792be6ac94186f3cffeaea98eff7477a0b1776f", "url": "https://api.github.com/repos/rust-lang/rust/commits/3792be6ac94186f3cffeaea98eff7477a0b1776f", "html_url": "https://github.com/rust-lang/rust/commit/3792be6ac94186f3cffeaea98eff7477a0b1776f"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "43abcf095d858e140c264e6f0a9c6fa48fac45f6", "filename": "src/librustdoc/doctest.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/04ba15392b6fefbb6121d7bab9a64a90437ce6a8/src%2Flibrustdoc%2Fdoctest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/04ba15392b6fefbb6121d7bab9a64a90437ce6a8/src%2Flibrustdoc%2Fdoctest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fdoctest.rs?ref=04ba15392b6fefbb6121d7bab9a64a90437ce6a8", "patch": "@@ -853,6 +853,7 @@ impl Collector {\n \n     fn generate_name(&self, line: usize, filename: &FileName) -> String {\n         let mut item_path = self.names.join(\"::\");\n+        item_path.retain(|c| c != ' ');\n         if !item_path.is_empty() {\n             item_path.push(' ');\n         }"}]}