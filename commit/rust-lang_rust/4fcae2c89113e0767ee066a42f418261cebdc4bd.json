{"sha": "4fcae2c89113e0767ee066a42f418261cebdc4bd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmY2FlMmM4OTExM2UwNzY3ZWUwNjZhNDJmNDE4MjYxY2ViZGM0YmQ=", "commit": {"author": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2021-08-25T23:32:31Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2021-08-25T23:32:31Z"}, "message": "Add const and static TAIT tests", "tree": {"sha": "455a3fe4d9f52b514958854526911510586ae09a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/455a3fe4d9f52b514958854526911510586ae09a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4fcae2c89113e0767ee066a42f418261cebdc4bd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEF0ntrgrd9qf9uuThgTGiTgx5768FAmEm0w8ACgkQgTGiTgx5\n76+ZGBAArDlJ2vJCsb/gmyIGtqM6Pkd/PCqzQtZ2R7ZmXDlVOq04lDogUzv9MB9e\n2egFLSS/amhvumJw7gv5DSSDvGhUm+t9O1+hJeUk7n3ZwQKcRfWEBjwBsmsYlmhQ\niNOijo2WOlu1nsg6XQ9O2kyoMzJc1k3XylkH2AjImtL84qi9ZFwJ0u6en2pE35yK\nq79nuMTnzzZzGps/4qUE9XvLsX3WsmGroAgRlDLAACsj4KkQxRRPjKKsj+uVKYaX\nVNDz/MqMuvTCGhs9ln/ft/39i2WHNpzTGp+wEhvpuqeNAcvO8wj955KMeFXaRfpN\nPHAEf0swrEaHasrGnOExm8ndWVEsbfzKhBTeXNb1eSEmgx8JDYNJxS8/2KlKESeD\ndo5QEKMKFVOJJQRjCZJ8jq4s570jXB1ixUjbCzoNaHXO7PqqG8gBiCbHlAAlLcBn\ngMie/326BDXPgZ/2f6Ibt4NvaB0JKTjLPN33olurahvlqcGFnkKSPBrI4qpAkVL2\nOeqXMxhdK2gwUSKSzrFnAwT9GVOy8AEFORK8OsnlzAgdgya+HjsGkmy/4kuR42pM\nNJBTtGb555AbPNrTc30NefeATlOHkjXSC/RB/wUZzao7dVF/6dMH8fSMJNE+mchE\nK02GtVN/cvU2LFdJkDxmfqoZI4RGyH5IK7z64y13CEXQU7jV0cw=\n=BM0I\n-----END PGP SIGNATURE-----", "payload": "tree 455a3fe4d9f52b514958854526911510586ae09a\nparent 7b0e554ee2c94e9b3865a8c2d24d720224512dec\nauthor Santiago Pastorino <spastorino@gmail.com> 1629934351 -0300\ncommitter Santiago Pastorino <spastorino@gmail.com> 1629934351 -0300\n\nAdd const and static TAIT tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4fcae2c89113e0767ee066a42f418261cebdc4bd", "html_url": "https://github.com/rust-lang/rust/commit/4fcae2c89113e0767ee066a42f418261cebdc4bd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4fcae2c89113e0767ee066a42f418261cebdc4bd/comments", "author": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7b0e554ee2c94e9b3865a8c2d24d720224512dec", "url": "https://api.github.com/repos/rust-lang/rust/commits/7b0e554ee2c94e9b3865a8c2d24d720224512dec", "html_url": "https://github.com/rust-lang/rust/commit/7b0e554ee2c94e9b3865a8c2d24d720224512dec"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "f630d2783350306983396776befcecc2bb8d6f21", "filename": "src/test/ui/type-alias-impl-trait/static-const-types.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/4fcae2c89113e0767ee066a42f418261cebdc4bd/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4fcae2c89113e0767ee066a42f418261cebdc4bd/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.rs?ref=4fcae2c89113e0767ee066a42f418261cebdc4bd", "patch": "@@ -0,0 +1,16 @@\n+#![feature(type_alias_impl_trait)]\n+#![allow(dead_code)]\n+\n+// FIXME: This should compile, but it currently doesn't\n+\n+use std::fmt::Debug;\n+\n+type Foo = impl Debug;\n+//~^ ERROR: could not find defining uses\n+\n+static FOO1: Foo = 22_u32;\n+//~^ ERROR: mismatched types [E0308]\n+const FOO2: Foo = 22_u32;\n+//~^ ERROR: mismatched types [E0308]\n+\n+fn main() {}"}, {"sha": "72083d014fe3a0006ad14af3949cbec9828b858a", "filename": "src/test/ui/type-alias-impl-trait/static-const-types.stderr", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/4fcae2c89113e0767ee066a42f418261cebdc4bd/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4fcae2c89113e0767ee066a42f418261cebdc4bd/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstatic-const-types.stderr?ref=4fcae2c89113e0767ee066a42f418261cebdc4bd", "patch": "@@ -0,0 +1,33 @@\n+error[E0308]: mismatched types\n+  --> $DIR/static-const-types.rs:11:20\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the expected opaque type\n+...\n+LL | static FOO1: Foo = 22_u32;\n+   |                    ^^^^^^ expected opaque type, found `u32`\n+   |\n+   = note: expected opaque type `impl Debug`\n+                     found type `u32`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/static-const-types.rs:13:19\n+   |\n+LL | type Foo = impl Debug;\n+   |            ---------- the expected opaque type\n+...\n+LL | const FOO2: Foo = 22_u32;\n+   |                   ^^^^^^ expected opaque type, found `u32`\n+   |\n+   = note: expected opaque type `impl Debug`\n+                     found type `u32`\n+\n+error: could not find defining uses\n+  --> $DIR/static-const-types.rs:8:12\n+   |\n+LL | type Foo = impl Debug;\n+   |            ^^^^^^^^^^\n+\n+error: aborting due to 3 previous errors\n+\n+For more information about this error, try `rustc --explain E0308`."}]}