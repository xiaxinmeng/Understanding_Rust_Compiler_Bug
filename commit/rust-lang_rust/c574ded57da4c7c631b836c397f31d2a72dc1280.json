{"sha": "c574ded57da4c7c631b836c397f31d2a72dc1280", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1NzRkZWQ1N2RhNGM3YzYzMWI4MzZjMzk3ZjMxZDJhNzJkYzEyODA=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-11-30T21:11:29Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-12-31T18:06:09Z"}, "message": "Consistently call editions \"Rust 20xx\" in messages.", "tree": {"sha": "2e0966db60bf795aeb4ab97310ee7974b0c3600b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2e0966db60bf795aeb4ab97310ee7974b0c3600b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c574ded57da4c7c631b836c397f31d2a72dc1280", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c574ded57da4c7c631b836c397f31d2a72dc1280", "html_url": "https://github.com/rust-lang/rust/commit/c574ded57da4c7c631b836c397f31d2a72dc1280", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c574ded57da4c7c631b836c397f31d2a72dc1280/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f16ef7d7ce0357d63435201ae51e2c0a6916e07d", "url": "https://api.github.com/repos/rust-lang/rust/commits/f16ef7d7ce0357d63435201ae51e2c0a6916e07d", "html_url": "https://github.com/rust-lang/rust/commit/f16ef7d7ce0357d63435201ae51e2c0a6916e07d"}], "stats": {"total": 62, "additions": 31, "deletions": 31}, "files": [{"sha": "d11db74a3bd22dab0ff3030702b67840409febd4", "filename": "compiler/rustc_parse/src/parser/expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fexpr.rs?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -2109,7 +2109,7 @@ impl<'a> Parser<'a> {\n \n         let mut async_block_err = |e: &mut DiagnosticBuilder<'_>, span: Span| {\n             recover_async = true;\n-            e.span_label(span, \"`async` blocks are only allowed in edition 2018 or later\");\n+            e.span_label(span, \"`async` blocks are only allowed in Rust 2018 or later\");\n             e.help(&format!(\"set `edition = \\\"{}\\\"` in `Cargo.toml`\", LATEST_STABLE_EDITION));\n             e.note(\"for more on editions, read https://doc.rust-lang.org/edition-guide\");\n         };"}, {"sha": "e49b1a54e9b123113ba6af7c0ec6e5ec5f8f09eb", "filename": "compiler/rustc_parse/src/parser/item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -1667,7 +1667,7 @@ impl<'a> Parser<'a> {\n     fn ban_async_in_2015(&self, span: Span) {\n         if span.rust_2015() {\n             let diag = self.diagnostic();\n-            struct_span_err!(diag, span, E0670, \"`async fn` is not permitted in the 2015 edition\")\n+            struct_span_err!(diag, span, E0670, \"`async fn` is not permitted in Rust 2015\")\n                 .span_label(span, \"to use `async fn`, switch to Rust 2018 or later\")\n                 .help(&format!(\"set `edition = \\\"{}\\\"` in `Cargo.toml`\", LATEST_STABLE_EDITION))\n                 .note(\"for more on editions, read https://doc.rust-lang.org/edition-guide\")"}, {"sha": "55623c9bd9cf66f07ec1c70c6ce8222b144376af", "filename": "compiler/rustc_resolve/src/late/diagnostics.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -180,7 +180,7 @@ impl<'a: 'ast, 'ast> LateResolutionVisitor<'a, '_, 'ast> {\n             (\n                 format!(\"cannot find {} `{}` in {}{}\", expected, item_str, mod_prefix, mod_str),\n                 if path_str == \"async\" && expected.starts_with(\"struct\") {\n-                    \"`async` blocks are only allowed in the 2018 edition\".to_string()\n+                    \"`async` blocks are only allowed in Rust 2018 or later\".to_string()\n                 } else {\n                     format!(\"not found in {}\", mod_str)\n                 },\n@@ -904,7 +904,7 @@ impl<'a: 'ast, 'ast> LateResolutionVisitor<'a, '_, 'ast> {\n                     Applicability::MaybeIncorrect,\n                 );\n                 if path_str == \"try\" && span.rust_2015() {\n-                    err.note(\"if you want the `try` keyword, you need to be in the 2018 edition\");\n+                    err.note(\"if you want the `try` keyword, you need Rust 2018 or later\");\n                 }\n             }\n             (Res::Def(DefKind::TyAlias, def_id), PathSource::Trait(_)) => {"}, {"sha": "e5dc9c8a5fee8bee0aaafc2528c9b22e494065e3", "filename": "src/test/ui/async-await/edition-deny-async-fns-2015.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.rs?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -1,38 +1,38 @@\n // edition:2015\n \n-async fn foo() {} //~ ERROR `async fn` is not permitted in the 2015 edition\n+async fn foo() {} //~ ERROR `async fn` is not permitted in Rust 2015\n \n-fn baz() { async fn foo() {} } //~ ERROR `async fn` is not permitted in the 2015 edition\n+fn baz() { async fn foo() {} } //~ ERROR `async fn` is not permitted in Rust 2015\n \n-async fn async_baz() { //~ ERROR `async fn` is not permitted in the 2015 edition\n-    async fn bar() {} //~ ERROR `async fn` is not permitted in the 2015 edition\n+async fn async_baz() { //~ ERROR `async fn` is not permitted in Rust 2015\n+    async fn bar() {} //~ ERROR `async fn` is not permitted in Rust 2015\n }\n \n struct Foo {}\n \n impl Foo {\n-    async fn foo() {} //~ ERROR `async fn` is not permitted in the 2015 edition\n+    async fn foo() {} //~ ERROR `async fn` is not permitted in Rust 2015\n }\n \n trait Bar {\n-    async fn foo() {} //~ ERROR `async fn` is not permitted in the 2015 edition\n+    async fn foo() {} //~ ERROR `async fn` is not permitted in Rust 2015\n                       //~^ ERROR functions in traits cannot be declared `async`\n }\n \n fn main() {\n     macro_rules! accept_item { ($x:item) => {} }\n \n     accept_item! {\n-        async fn foo() {} //~ ERROR `async fn` is not permitted in the 2015 edition\n+        async fn foo() {} //~ ERROR `async fn` is not permitted in Rust 2015\n     }\n \n     accept_item! {\n         impl Foo {\n-            async fn bar() {} //~ ERROR `async fn` is not permitted in the 2015 edition\n+            async fn bar() {} //~ ERROR `async fn` is not permitted in Rust 2015\n         }\n     }\n \n     let inside_closure = || {\n-        async fn bar() {} //~ ERROR `async fn` is not permitted in the 2015 edition\n+        async fn bar() {} //~ ERROR `async fn` is not permitted in Rust 2015\n     };\n }"}, {"sha": "43364a8e85896071df82add403f150d1c053855c", "filename": "src/test/ui/async-await/edition-deny-async-fns-2015.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.stderr?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -1,4 +1,4 @@\n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:3:1\n    |\n LL | async fn foo() {}\n@@ -7,7 +7,7 @@ LL | async fn foo() {}\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:5:12\n    |\n LL | fn baz() { async fn foo() {} }\n@@ -16,7 +16,7 @@ LL | fn baz() { async fn foo() {} }\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:7:1\n    |\n LL | async fn async_baz() {\n@@ -25,7 +25,7 @@ LL | async fn async_baz() {\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:8:5\n    |\n LL |     async fn bar() {}\n@@ -34,7 +34,7 @@ LL |     async fn bar() {}\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:14:5\n    |\n LL |     async fn foo() {}\n@@ -43,7 +43,7 @@ LL |     async fn foo() {}\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:18:5\n    |\n LL |     async fn foo() {}\n@@ -52,7 +52,7 @@ LL |     async fn foo() {}\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:36:9\n    |\n LL |         async fn bar() {}\n@@ -61,7 +61,7 @@ LL |         async fn bar() {}\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:26:9\n    |\n LL |         async fn foo() {}\n@@ -70,7 +70,7 @@ LL |         async fn foo() {}\n    = help: set `edition = \"2018\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/edition-deny-async-fns-2015.rs:31:13\n    |\n LL |             async fn bar() {}"}, {"sha": "92eae9e3c14f8ca4df0e01a23a461fff82cd65bf", "filename": "src/test/ui/editions/async-block-2015.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.rs?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -1,21 +1,21 @@\n async fn foo() {\n-//~^ ERROR `async fn` is not permitted in the 2015 edition\n+//~^ ERROR `async fn` is not permitted in Rust 2015\n //~| NOTE to use `async fn`, switch to Rust 2018 or later\n //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n \n     let x = async {};\n     //~^ ERROR cannot find struct, variant or union type `async` in this scope\n-    //~| NOTE `async` blocks are only allowed in the 2018 edition\n-    let y = async { //~ NOTE `async` blocks are only allowed in edition 2018 or later\n+    //~| NOTE `async` blocks are only allowed in Rust 2018 or later\n+    let y = async { //~ NOTE `async` blocks are only allowed in Rust 2018 or later\n         let x = 42;\n         //~^ ERROR expected identifier, found keyword `let`\n         //~| NOTE expected identifier, found keyword\n         //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n         //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n         42\n     };\n-    let z = async { //~ NOTE `async` blocks are only allowed in edition 2018 or later\n+    let z = async { //~ NOTE `async` blocks are only allowed in Rust 2018 or later\n         42\n         //~^ ERROR expected identifier, found `42`\n         //~| NOTE expected identifier"}, {"sha": "e42747c804c714c0ceb98052838b4562d53926f2", "filename": "src/test/ui/editions/async-block-2015.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.stderr?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -1,4 +1,4 @@\n-error[E0670]: `async fn` is not permitted in the 2015 edition\n+error[E0670]: `async fn` is not permitted in Rust 2015\n   --> $DIR/async-block-2015.rs:1:1\n    |\n LL | async fn foo() {\n@@ -11,7 +11,7 @@ error: expected identifier, found keyword `let`\n   --> $DIR/async-block-2015.rs:11:9\n    |\n LL |     let y = async {\n-   |             ----- `async` blocks are only allowed in edition 2018 or later\n+   |             ----- `async` blocks are only allowed in Rust 2018 or later\n LL |         let x = 42;\n    |         ^^^ expected identifier, found keyword\n    |\n@@ -22,7 +22,7 @@ error: expected identifier, found `42`\n   --> $DIR/async-block-2015.rs:19:9\n    |\n LL |     let z = async {\n-   |             ----- `async` blocks are only allowed in edition 2018 or later\n+   |             ----- `async` blocks are only allowed in Rust 2018 or later\n LL |         42\n    |         ^^ expected identifier\n    |\n@@ -33,7 +33,7 @@ error[E0422]: cannot find struct, variant or union type `async` in this scope\n   --> $DIR/async-block-2015.rs:7:13\n    |\n LL |     let x = async {};\n-   |             ^^^^^ `async` blocks are only allowed in the 2018 edition\n+   |             ^^^^^ `async` blocks are only allowed in Rust 2018 or later\n \n error: aborting due to 4 previous errors\n "}, {"sha": "0f3c14b1386e79bdc24d38e08f997e612c2d59d3", "filename": "src/test/ui/try-block/try-block-in-edition2015.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Ftry-block%2Ftry-block-in-edition2015.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c574ded57da4c7c631b836c397f31d2a72dc1280/src%2Ftest%2Fui%2Ftry-block%2Ftry-block-in-edition2015.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftry-block%2Ftry-block-in-edition2015.stderr?ref=c574ded57da4c7c631b836c397f31d2a72dc1280", "patch": "@@ -13,7 +13,7 @@ error[E0574]: expected struct, variant or union type, found macro `try`\n LL |     let try_result: Option<_> = try {\n    |                                 ^^^ not a struct, variant or union type\n    |\n-   = note: if you want the `try` keyword, you need to be in the 2018 edition\n+   = note: if you want the `try` keyword, you need Rust 2018 or later\n help: use `!` to invoke the macro\n    |\n LL |     let try_result: Option<_> = try! {"}]}