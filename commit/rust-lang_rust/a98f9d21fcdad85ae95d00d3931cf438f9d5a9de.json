{"sha": "a98f9d21fcdad85ae95d00d3931cf438f9d5a9de", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5OGY5ZDIxZmNkYWQ4NWFlOTVkMDBkMzkzMWNmNDM4ZjlkNWE5ZGU=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-10-09T20:22:21Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-10-09T20:22:21Z"}, "message": "(Hacky) Fix for ICE #6139", "tree": {"sha": "32b6e22056403f1f621abfa2b19227cf3e7f95ae", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/32b6e22056403f1f621abfa2b19227cf3e7f95ae"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a98f9d21fcdad85ae95d00d3931cf438f9d5a9de", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl+Axn0ACgkQLO/Nsn7Q\nvnk2sA//aFjsEF148Wd7BFcqBYJgIdtWOy92mV00JW8INm1xBaqF4OLEME5sQdV6\n7gSkuhNsWpwf89KhgZ9QG3xLl5OU4ormGyPCqj6fSIcHnlkj89nHMk+Ow0vARtBh\n9AK+iLuLiYoVxFC2OU3oY1xRLTsIvrLjvxO+7YScHrJmKPFs2OMCT/9LpNEVCVQL\nm3Z6rvcL1zTsPHhTmCxChub9ZwKNdPFgLpZ0L8mxIDFmTS50y7ig2rSm0XNWA5Wc\nhA8ZEO1dLn/W9LlOQsHszrberPav6EwiNJAQrV5OwJvRmJ+8zlv7L3jyq8yrSTR4\nNyiXpYo6V4QgtCmhpthCWjY38DzJkcmG4zmpR9AfeWYdsw80DZIafX40znJiFihJ\ntMwOCWRgI/0YUGPmn4wLNIYhOSMj5WnbpmHyOE/V1vtpl987ah6FTr5vnaPymZzm\nBLgapmYxwl1fAXbeDiLWh5fOiT8plFsMs4A3C6Q/qQTopvCxkDXmX5hQ6hbdUE1b\nxbYPsfM+K4uF3rJ4LqiPhNXP5qoGECUrf95mU3vRkhS3AalOU/n7tmNUCOMNJZZo\nHTh2Ueig4iX52vQwTWtwV7SyaZKyqNYVq76liPSVGaHnu2KP7K3y/4XO+zpNvA9K\ndAP3LlnuFlcCUwJpG0lLYwRR+38FGIeiUwN1+b9i32K6FaNegKw=\n=5PcS\n-----END PGP SIGNATURE-----", "payload": "tree 32b6e22056403f1f621abfa2b19227cf3e7f95ae\nparent 6d88803a1c5516fda1d1030e5676d6b15be130fc\nauthor flip1995 <hello@philkrones.com> 1602274941 +0200\ncommitter flip1995 <hello@philkrones.com> 1602274941 +0200\n\n(Hacky) Fix for ICE #6139\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a98f9d21fcdad85ae95d00d3931cf438f9d5a9de", "html_url": "https://github.com/rust-lang/rust/commit/a98f9d21fcdad85ae95d00d3931cf438f9d5a9de", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a98f9d21fcdad85ae95d00d3931cf438f9d5a9de/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d88803a1c5516fda1d1030e5676d6b15be130fc", "url": "https://api.github.com/repos/rust-lang/rust/commits/6d88803a1c5516fda1d1030e5676d6b15be130fc", "html_url": "https://github.com/rust-lang/rust/commit/6d88803a1c5516fda1d1030e5676d6b15be130fc"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "a982b92bb2b3f498c45fd9ac74f9539555a39d10", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a98f9d21fcdad85ae95d00d3931cf438f9d5a9de/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a98f9d21fcdad85ae95d00d3931cf438f9d5a9de/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=a98f9d21fcdad85ae95d00d3931cf438f9d5a9de", "patch": "@@ -541,6 +541,11 @@ impl Types {\n                                 _ => None,\n                             });\n                             let ty_ty = hir_ty_to_ty(cx.tcx, boxed_ty);\n+                            // HACK(flip1995): This is a fix for an ICE occuring when `ty_ty` is a\n+                            // trait object with a lifetime, e.g. `dyn T<'_>`. Since trait objects\n+                            // don't have a known size, this shouldn't introduce FNs. But there\n+                            // should be a better solution.\n+                            if !matches!(ty_ty.kind(), ty::Dynamic(..));\n                             if ty_ty.is_sized(cx.tcx.at(ty.span), cx.param_env);\n                             if let Ok(ty_ty_size) = cx.layout_of(ty_ty).map(|l| l.size.bytes());\n                             if ty_ty_size <= self.vec_box_size_threshold;"}]}