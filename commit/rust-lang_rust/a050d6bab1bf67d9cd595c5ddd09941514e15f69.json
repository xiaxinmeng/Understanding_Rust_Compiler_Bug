{"sha": "a050d6bab1bf67d9cd595c5ddd09941514e15f69", "node_id": "C_kwDOAAsO6NoAKGEwNTBkNmJhYjFiZjY3ZDljZDU5NWM1ZGRkMDk5NDE1MTRlMTVmNjk", "commit": {"author": {"name": "Jakub Ber\u00e1nek", "email": "berykubik@gmail.com", "date": "2022-05-23T15:55:50Z"}, "committer": {"name": "Jakub Ber\u00e1nek", "email": "berykubik@gmail.com", "date": "2022-05-23T15:55:50Z"}, "message": "Add bitmaps and diesel to `rustc` PGO benchmarks", "tree": {"sha": "8802f29bada1aa357baf5bc8764a5fe2778c1d20", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8802f29bada1aa357baf5bc8764a5fe2778c1d20"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a050d6bab1bf67d9cd595c5ddd09941514e15f69", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEzFQynJm4WzBnfhz8kJzQ0mSDUWsFAmKLroYACgkQkJzQ0mSD\nUWsRFgwAmwbfAWLm2ifqpwdvvYkq9z2ZGZU0ynv8UWvist4fnl95h5X2D5wwesqT\naJLujQVpNCqBi3hQJlCJZWOhWOK+QKzjfY54T+MgaZGb3hoKq7BmUhQR+IFn3+Jl\nZ7DZ5dhsQ4czBYa0uTLIZL9RP8GB5QpNoR43U3YoAAnmmWebRizDi6jdrtvzJaXM\nxfttpOfTlgd+CYAYdFayIpYK5ZMh99GDShdG55BKwouTN9SyKFBqJWe2uFB9kCh2\nf7MXYj0MZSAdqlLx9ZCdFdWD2RNod0Dgq1SHtbGCBMd0DyGyjaqsCzlgEwj6VVGc\npT1JWk7rw3XofW3R8zTvuPWueAi5w8Kmg1KQ9OzeYKeD0ClavvT+hMb8n6lx6j1k\nyJgH11clzQLDVSb34Gfls8atU0JtJJ6Vc7R9d9u0TVQeJRdVQLqCOPWAF6YSW4kG\nxnC7/M2CXPbx4b+w5eT7MofM5h+mx1efDfO4aFmPgHaf7ByRUFSPulNukzijzOHf\nrU7fyulH\n=eO/c\n-----END PGP SIGNATURE-----", "payload": "tree 8802f29bada1aa357baf5bc8764a5fe2778c1d20\nparent 67a9bcb31b85e87cc8bb327022632e48a0ca64a8\nauthor Jakub Ber\u00e1nek <berykubik@gmail.com> 1653321350 +0200\ncommitter Jakub Ber\u00e1nek <berykubik@gmail.com> 1653321350 +0200\n\nAdd bitmaps and diesel to `rustc` PGO benchmarks\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a050d6bab1bf67d9cd595c5ddd09941514e15f69", "html_url": "https://github.com/rust-lang/rust/commit/a050d6bab1bf67d9cd595c5ddd09941514e15f69", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a050d6bab1bf67d9cd595c5ddd09941514e15f69/comments", "author": {"login": "Kobzol", "id": 4539057, "node_id": "MDQ6VXNlcjQ1MzkwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4539057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kobzol", "html_url": "https://github.com/Kobzol", "followers_url": "https://api.github.com/users/Kobzol/followers", "following_url": "https://api.github.com/users/Kobzol/following{/other_user}", "gists_url": "https://api.github.com/users/Kobzol/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kobzol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kobzol/subscriptions", "organizations_url": "https://api.github.com/users/Kobzol/orgs", "repos_url": "https://api.github.com/users/Kobzol/repos", "events_url": "https://api.github.com/users/Kobzol/events{/privacy}", "received_events_url": "https://api.github.com/users/Kobzol/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Kobzol", "id": 4539057, "node_id": "MDQ6VXNlcjQ1MzkwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4539057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kobzol", "html_url": "https://github.com/Kobzol", "followers_url": "https://api.github.com/users/Kobzol/followers", "following_url": "https://api.github.com/users/Kobzol/following{/other_user}", "gists_url": "https://api.github.com/users/Kobzol/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kobzol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kobzol/subscriptions", "organizations_url": "https://api.github.com/users/Kobzol/orgs", "repos_url": "https://api.github.com/users/Kobzol/repos", "events_url": "https://api.github.com/users/Kobzol/events{/privacy}", "received_events_url": "https://api.github.com/users/Kobzol/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67a9bcb31b85e87cc8bb327022632e48a0ca64a8", "url": "https://api.github.com/repos/rust-lang/rust/commits/67a9bcb31b85e87cc8bb327022632e48a0ca64a8", "html_url": "https://github.com/rust-lang/rust/commit/67a9bcb31b85e87cc8bb327022632e48a0ca64a8"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "ab6c888030e1bf783f863aadcc2cbf695fce5876", "filename": "src/ci/docker/host-x86_64/dist-x86_64-linux/Dockerfile", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a050d6bab1bf67d9cd595c5ddd09941514e15f69/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/a050d6bab1bf67d9cd595c5ddd09941514e15f69/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-linux%2FDockerfile?ref=a050d6bab1bf67d9cd595c5ddd09941514e15f69", "patch": "@@ -98,8 +98,8 @@ COPY host-x86_64/dist-x86_64-linux/build-clang.sh /tmp/\n RUN ./build-clang.sh\n ENV CC=clang CXX=clang++\n \n-# rustc-perf version from 2022-04-05\n-ENV PERF_COMMIT 04fccd80396f954b339c366e30221f4bd52c5e03\n+# rustc-perf version from 2022-05-18\n+ENV PERF_COMMIT f66cc8f3e04392b0e2fd811f21fd1ece6ebaded3\n RUN curl -LS -o perf.zip https://github.com/rust-lang/rustc-perf/archive/$PERF_COMMIT.zip && \\\n     unzip perf.zip && \\\n     mv rustc-perf-$PERF_COMMIT rustc-perf && \\"}, {"sha": "9b727947f6ad1c9d570a265926eefa2c77fb4b1f", "filename": "src/ci/pgo.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a050d6bab1bf67d9cd595c5ddd09941514e15f69/src%2Fci%2Fpgo.sh", "raw_url": "https://github.com/rust-lang/rust/raw/a050d6bab1bf67d9cd595c5ddd09941514e15f69/src%2Fci%2Fpgo.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fpgo.sh?ref=a050d6bab1bf67d9cd595c5ddd09941514e15f69", "patch": "@@ -1,4 +1,5 @@\n #!/bin/bash\n+# ignore-tidy-linelength\n \n set -euxo pipefail\n \n@@ -87,7 +88,7 @@ python3 ../x.py build --target=$PGO_HOST --host=$PGO_HOST \\\n # That's why we override the profile path to include the PID. This will produce many more profiling\n # files, but the resulting profile will produce a slightly faster rustc binary.\n LLVM_PROFILE_FILE=/tmp/rustc-pgo/default_%m_%p.profraw gather_profiles \"Check,Debug,Opt\" \"All\" \\\n-  \"externs,ctfe-stress-4,cargo-0.60.0,token-stream-stress,match-stress,tuple-stress\"\n+\"externs,ctfe-stress-5,cargo-0.60.0,token-stream-stress,match-stress,tuple-stress,diesel-1.4.8,bitmaps-3.1.0\"\n \n # Merge the profile data we gathered\n ./build/$PGO_HOST/llvm/bin/llvm-profdata \\"}]}