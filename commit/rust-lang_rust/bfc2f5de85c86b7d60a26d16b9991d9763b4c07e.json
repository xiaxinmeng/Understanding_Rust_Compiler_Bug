{"sha": "bfc2f5de85c86b7d60a26d16b9991d9763b4c07e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmYzJmNWRlODVjODZiN2Q2MGEyNmQxNmI5OTkxZDk3NjNiNGMwN2U=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-04-01T00:18:32Z"}, "committer": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-04-01T00:18:32Z"}, "message": "Improvements to PhantomData<T>'s docs \ud83d\udc7b\n\nFixes #22914", "tree": {"sha": "5a1084af717de170724c8c5997d63d19c6787833", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a1084af717de170724c8c5997d63d19c6787833"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bfc2f5de85c86b7d60a26d16b9991d9763b4c07e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bfc2f5de85c86b7d60a26d16b9991d9763b4c07e", "html_url": "https://github.com/rust-lang/rust/commit/bfc2f5de85c86b7d60a26d16b9991d9763b4c07e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bfc2f5de85c86b7d60a26d16b9991d9763b4c07e/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d754722a04b99fdcae0fd97fa2a4395521145ef2", "url": "https://api.github.com/repos/rust-lang/rust/commits/d754722a04b99fdcae0fd97fa2a4395521145ef2", "html_url": "https://github.com/rust-lang/rust/commit/d754722a04b99fdcae0fd97fa2a4395521145ef2"}], "stats": {"total": 18, "additions": 6, "deletions": 12}, "files": [{"sha": "a07b37a8026296a33f939dd81ab967287eacc5d3", "filename": "src/libcore/marker.rs", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/bfc2f5de85c86b7d60a26d16b9991d9763b4c07e/src%2Flibcore%2Fmarker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfc2f5de85c86b7d60a26d16b9991d9763b4c07e/src%2Flibcore%2Fmarker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fmarker.rs?ref=bfc2f5de85c86b7d60a26d16b9991d9763b4c07e", "patch": "@@ -346,17 +346,16 @@ impl<T:?Sized> MarkerTrait for T { }\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub trait PhantomFn<A:?Sized,R:?Sized=()> { }\n \n-/// `PhantomData` is a way to tell the compiler about fake fields.\n-/// Phantom data is required whenever type parameters are not used.\n-/// The idea is that if the compiler encounters a `PhantomData<T>`\n-/// instance, it will behave *as if* an instance of the type `T` were\n-/// present for the purpose of various automatic analyses.\n+/// `PhantomData<T>` allows you to describe that a type acts as if it stores a value of type `T`,\n+/// even though it does not. This allows you to inform the compiler about certain safety properties\n+/// of your code.\n+///\n+/// Though they both have scary names, `PhantomData<T>` and \"phantom types\" are unrelated. \ud83d\udc7b\ud83d\udc7b\ud83d\udc7b\n ///\n /// # Examples\n ///\n /// When handling external resources over a foreign function interface, `PhantomData<T>` can\n-/// prevent mismatches by enforcing types in the method implementations, although the struct\n-/// doesn't actually contain values of the resource type.\n+/// prevent mismatches by enforcing types in the method implementations:\n ///\n /// ```\n /// # trait ResType { fn foo(&self); };\n@@ -397,11 +396,6 @@ pub trait PhantomFn<A:?Sized,R:?Sized=()> { }\n /// commonly necessary if the structure is using an unsafe pointer\n /// like `*mut T` whose referent may be dropped when the type is\n /// dropped, as a `*mut T` is otherwise not treated as owned.\n-///\n-/// FIXME. Better documentation and examples of common patterns needed\n-/// here! For now, please see [RFC 738][738] for more information.\n-///\n-/// [738]: https://github.com/rust-lang/rfcs/blob/master/text/0738-variance.md\n #[lang=\"phantom_data\"]\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub struct PhantomData<T:?Sized>;"}]}