{"sha": "635b57c2ede8eb311b418104f027ad4fae1ee548", "node_id": "C_kwDOAAsO6NoAKDYzNWI1N2MyZWRlOGViMzExYjQxODEwNGYwMjdhZDRmYWUxZWU1NDg", "commit": {"author": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-09-12T14:50:52Z"}, "committer": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-09-15T02:08:12Z"}, "message": "enclose else block in terminating scope", "tree": {"sha": "4e62ea43491081d6bdb11bf9583bd065eceb4cd3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4e62ea43491081d6bdb11bf9583bd065eceb4cd3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/635b57c2ede8eb311b418104f027ad4fae1ee548", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE0u8S3YU336XkLsQOPNdIZH7vY1kFAmMiiQwACgkQPNdIZH7v\nY1lgpBAAi4MI3+PR7fv7byg1tuMMfVv0dNIil8X0u8CgOwbd8/YflcrpXz2Lw7zE\nVOT4cKbooKCAoiVjElU56FcaIjclC6Uqjb7rr5YAlzXjbjbnZ2g9ZUtI3frbEqKJ\nGdHXnV7c7rJDSg1rMG+lp1Hq+ZjXbVYb/6LcNhl7Yt39NBDYNF6KK/yCtlJLqFmT\n2SFZdngdCYvMMzDav/eW8++Q4izdbIc3ztpQcjmJ7gM5HRcEZX939eM5q+6CZm/9\nfyuKcOG00cV2bw4Mw+DHNEOhehoTMPrhYZ64uRWqSgN6e+dwUmKl1XbEc3Em6wEH\nEG6SwLQmVrP4M7oQ5Sl/bAOOkib47jrO3GHFt0IeuX9AiaL+RMWaeY3Ur8E+7/Su\nxmUhWzHUKo39wGhiB0Dqbsouwoz9GQKsPfQ0qzOBueJyWnQIfsbJBfTKo9C0E3WG\nUoF6cf1q6tTHWbyQB+InHsrMuPdxVTNdwqL+ThW/77CbJ/iEIUk1fbOou9SfYE5e\nF+7/QRuMSRHE3UT8xnU6bya+GtEqkFV5NIkQxHILGVytiLUt+wQJhrl3cAwoQVYL\nZuzxCQ8pget49Z3dlO1jRbanI9FFGXZIhzCimwv1rzOBUvhuoGVNZvhBkkdW59Wr\nlYiW82BUCU2B05WhQIRCnP1kMmB/+qEHPi/7q90wfqQ0Uo0RZxA=\n=0XQj\n-----END PGP SIGNATURE-----", "payload": "tree 4e62ea43491081d6bdb11bf9583bd065eceb4cd3\nparent 34f0c4502f6d64724478a5bf73c9ec616c3bde23\nauthor Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1662994252 +0800\ncommitter Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1663207692 +0800\n\nenclose else block in terminating scope\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/635b57c2ede8eb311b418104f027ad4fae1ee548", "html_url": "https://github.com/rust-lang/rust/commit/635b57c2ede8eb311b418104f027ad4fae1ee548", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/635b57c2ede8eb311b418104f027ad4fae1ee548/comments", "author": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "34f0c4502f6d64724478a5bf73c9ec616c3bde23", "url": "https://api.github.com/repos/rust-lang/rust/commits/34f0c4502f6d64724478a5bf73c9ec616c3bde23", "html_url": "https://github.com/rust-lang/rust/commit/34f0c4502f6d64724478a5bf73c9ec616c3bde23"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "b89db79bef8d9513646b955a3c57fa9001289cc2", "filename": "compiler/rustc_typeck/src/check/region.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/635b57c2ede8eb311b418104f027ad4fae1ee548/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fregion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/635b57c2ede8eb311b418104f027ad4fae1ee548/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fregion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fregion.rs?ref=635b57c2ede8eb311b418104f027ad4fae1ee548", "patch": "@@ -144,6 +144,7 @@ fn resolve_block<'tcx>(visitor: &mut RegionResolutionVisitor<'tcx>, blk: &'tcx h\n                     // the sequence of visits agree with the order in the default\n                     // `hir::intravisit` visitor.\n                     mem::swap(&mut prev_cx, &mut visitor.cx);\n+                    visitor.terminating_scopes.insert(els.hir_id.local_id);\n                     visitor.visit_block(els);\n                     // From now on, we continue normally.\n                     visitor.cx = prev_cx;"}, {"sha": "7f93563e28842119a6b983edbf1418a09b5955ec", "filename": "src/test/ui/async-await/async-await-let-else.no-drop-tracking.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/635b57c2ede8eb311b418104f027ad4fae1ee548/src%2Ftest%2Fui%2Fasync-await%2Fasync-await-let-else.no-drop-tracking.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/635b57c2ede8eb311b418104f027ad4fae1ee548/src%2Ftest%2Fui%2Fasync-await%2Fasync-await-let-else.no-drop-tracking.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fasync-await-let-else.no-drop-tracking.stderr?ref=635b57c2ede8eb311b418104f027ad4fae1ee548", "patch": "@@ -35,8 +35,7 @@ LL |         bar2(Rc::new(())).await\n    |              |\n    |              has type `Rc<()>` which is not `Send`\n LL |     };\n-LL | }\n-   | - `Rc::new(())` is later dropped here\n+   |     - `Rc::new(())` is later dropped here\n note: required by a bound in `is_send`\n   --> $DIR/async-await-let-else.rs:19:15\n    |"}]}