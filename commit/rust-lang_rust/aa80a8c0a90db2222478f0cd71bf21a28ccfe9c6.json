{"sha": "aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFhODBhOGMwYTkwZGIyMjIyNDc4ZjBjZDcxYmYyMWEyOGNjZmU5YzY=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-10-31T11:27:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-10-31T11:27:24Z"}, "message": "Rollup merge of #37475 - AndiDog:feature/error-explanation-E0532, r=GuillaumeGomez\n\nAdd E0532 error explanation\n\nThis resolves one of the error list in https://github.com/rust-lang/rust/issues/35347 - just because I stumbled over it today.\n\nI assumed the error code should be removed from `register_diagnostics!` because it's now defined above.\n\nSince that is my first code contribution, please check that all is in order. It would be helpful to know how to run the test for the `compile_fail,E0532` part. I did `make check-stage1-cfail NO_REBUILD=1` but that doesn't test the inlined example.\n\nr? @GuillaumeGomez", "tree": {"sha": "dcb56f02300aa2275c2de1533a27b06e7b0dd1b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dcb56f02300aa2275c2de1533a27b06e7b0dd1b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6", "html_url": "https://github.com/rust-lang/rust/commit/aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "46cfba29cf4e1c37f1880e06fa3fe812189d4692", "url": "https://api.github.com/repos/rust-lang/rust/commits/46cfba29cf4e1c37f1880e06fa3fe812189d4692", "html_url": "https://github.com/rust-lang/rust/commit/46cfba29cf4e1c37f1880e06fa3fe812189d4692"}, {"sha": "c8937e0e6a595b8024881dc42676e8d74ce650a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/c8937e0e6a595b8024881dc42676e8d74ce650a7", "html_url": "https://github.com/rust-lang/rust/commit/c8937e0e6a595b8024881dc42676e8d74ce650a7"}], "stats": {"total": 42, "additions": 41, "deletions": 1}, "files": [{"sha": "5eb269030a004fa2b1ce8b2d43ee9809cf027321", "filename": "src/librustc_resolve/diagnostics.rs", "status": "modified", "additions": 41, "deletions": 1, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6/src%2Flibrustc_resolve%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6/src%2Flibrustc_resolve%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fdiagnostics.rs?ref=aa80a8c0a90db2222478f0cd71bf21a28ccfe9c6", "patch": "@@ -1461,6 +1461,47 @@ match r {\n ```\n \"##,\n \n+E0532: r##\"\n+Pattern arm did not match expected kind.\n+\n+Erroneous code example:\n+\n+```compile_fail,E0532\n+enum State {\n+    Succeeded,\n+    Failed(String),\n+}\n+\n+fn print_on_failure(state: &State) {\n+    match *state {\n+        // error: expected unit struct/variant or constant, found tuple\n+        //        variant `State::Failed`\n+        State::Failed => println!(\"Failed\"),\n+        _ => ()\n+    }\n+}\n+```\n+\n+To fix this error, ensure the match arm kind is the same as the expression\n+matched.\n+\n+Fixed example:\n+\n+```\n+enum State {\n+    Succeeded,\n+    Failed(String),\n+}\n+\n+fn print_on_failure(state: &State) {\n+    match *state {\n+        State::Failed(ref msg) => println!(\"Failed with {}\", msg),\n+        _ => ()\n+    }\n+}\n+```\n+\"##,\n+\n }\n \n register_diagnostics! {\n@@ -1480,6 +1521,5 @@ register_diagnostics! {\n //  E0421, merged into 531\n //  E0422, merged into 531/532\n     E0531, // unresolved pattern path kind `name`\n-    E0532, // expected pattern path kind, found another pattern path kind\n //  E0427, merged into 530\n }"}]}