{"sha": "b29353af09893b8b70a9d84595966b7712b60b1b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIyOTM1M2FmMDk4OTNiOGI3MGE5ZDg0NTk1OTY2Yjc3MTJiNjBiMWI=", "commit": {"author": {"name": "pierwill", "email": "pierwill@users.noreply.github.com", "date": "2021-01-17T19:16:17Z"}, "committer": {"name": "pierwill", "email": "pierwill@users.noreply.github.com", "date": "2021-01-22T23:15:05Z"}, "message": "Edit rustc_middle::dep_graph module documentation\n\nCo-authored-by: Joshua Nelson <joshua@yottadb.com>\nCo-authored-by: Camelid <camelidcamel@gmail.com>", "tree": {"sha": "c6915ebdd2902da7562805a7509f93cccc54e9ee", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c6915ebdd2902da7562805a7509f93cccc54e9ee"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b29353af09893b8b70a9d84595966b7712b60b1b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b29353af09893b8b70a9d84595966b7712b60b1b", "html_url": "https://github.com/rust-lang/rust/commit/b29353af09893b8b70a9d84595966b7712b60b1b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b29353af09893b8b70a9d84595966b7712b60b1b/comments", "author": {"login": "pierwill", "id": 19642016, "node_id": "MDQ6VXNlcjE5NjQyMDE2", "avatar_url": "https://avatars.githubusercontent.com/u/19642016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierwill", "html_url": "https://github.com/pierwill", "followers_url": "https://api.github.com/users/pierwill/followers", "following_url": "https://api.github.com/users/pierwill/following{/other_user}", "gists_url": "https://api.github.com/users/pierwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierwill/subscriptions", "organizations_url": "https://api.github.com/users/pierwill/orgs", "repos_url": "https://api.github.com/users/pierwill/repos", "events_url": "https://api.github.com/users/pierwill/events{/privacy}", "received_events_url": "https://api.github.com/users/pierwill/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pierwill", "id": 19642016, "node_id": "MDQ6VXNlcjE5NjQyMDE2", "avatar_url": "https://avatars.githubusercontent.com/u/19642016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierwill", "html_url": "https://github.com/pierwill", "followers_url": "https://api.github.com/users/pierwill/followers", "following_url": "https://api.github.com/users/pierwill/following{/other_user}", "gists_url": "https://api.github.com/users/pierwill/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierwill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierwill/subscriptions", "organizations_url": "https://api.github.com/users/pierwill/orgs", "repos_url": "https://api.github.com/users/pierwill/repos", "events_url": "https://api.github.com/users/pierwill/events{/privacy}", "received_events_url": "https://api.github.com/users/pierwill/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "edeb631ad0cd6fdf31e2e31ec90e105d1768be28", "url": "https://api.github.com/repos/rust-lang/rust/commits/edeb631ad0cd6fdf31e2e31ec90e105d1768be28", "html_url": "https://github.com/rust-lang/rust/commit/edeb631ad0cd6fdf31e2e31ec90e105d1768be28"}], "stats": {"total": 17, "additions": 10, "deletions": 7}, "files": [{"sha": "1cb75757379c99b9ddfb1daeab2dc7fa37c1d36c", "filename": "compiler/rustc_middle/src/dep_graph/dep_node.rs", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/b29353af09893b8b70a9d84595966b7712b60b1b/compiler%2Frustc_middle%2Fsrc%2Fdep_graph%2Fdep_node.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b29353af09893b8b70a9d84595966b7712b60b1b/compiler%2Frustc_middle%2Fsrc%2Fdep_graph%2Fdep_node.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fdep_graph%2Fdep_node.rs?ref=b29353af09893b8b70a9d84595966b7712b60b1b", "patch": "@@ -1,16 +1,17 @@\n-//! This module defines the `DepNode` type which the compiler uses to represent\n-//! nodes in the dependency graph.\n+//! Nodes in the dependency graph.\n //!\n-//! A `DepNode` consists of a `DepKind` (which\n-//! specifies the kind of thing it represents, like a piece of HIR, MIR, etc)\n-//! and a `Fingerprint`, a 128-bit hash value the exact meaning of which\n+//! A node in the [dependency graph] is represented by a [`DepNode`].\n+//! A `DepNode` consists of a [`DepKind`] (which\n+//! specifies the kind of thing it represents, like a piece of HIR, MIR, etc.)\n+//! and a [`Fingerprint`], a 128-bit hash value, the exact meaning of which\n //! depends on the node's `DepKind`. Together, the kind and the fingerprint\n //! fully identify a dependency node, even across multiple compilation sessions.\n //! In other words, the value of the fingerprint does not depend on anything\n //! that is specific to a given compilation session, like an unpredictable\n-//! interning key (e.g., NodeId, DefId, Symbol) or the numeric value of a\n+//! interning key (e.g., `NodeId`, `DefId`, `Symbol`) or the numeric value of a\n //! pointer. The concept behind this could be compared to how git commit hashes\n-//! uniquely identify a given commit and has a few advantages:\n+//! uniquely identify a given commit. The fingerprinting approach has\n+//! a few advantages:\n //!\n //! * A `DepNode` can simply be serialized to disk and loaded in another session\n //!   without the need to do any \"rebasing\" (like we have to do for Spans and\n@@ -51,6 +52,8 @@\n //! than a zeroed out fingerprint. More generally speaking, it relieves the\n //! user of the `DepNode` API of having to know how to compute the expected\n //! fingerprint for a given set of node parameters.\n+//!\n+//! [dependency graph]: https://rustc-dev-guide.rust-lang.org/query.html\n \n use crate::ty::TyCtxt;\n "}]}