{"sha": "9ff540ba3771a1c0a396ca3f7a685a94b4e0f622", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlmZjU0MGJhMzc3MWExYzBhMzk2Y2EzZjdhNjg1YTk0YjRlMGY2MjI=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-01-30T20:02:48Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-01-30T20:02:48Z"}, "message": "rollup merge of #21494: jatinn/jsnav\n\nAdded javascript code to insert next/prev links in the rust book.\nRelated Issue - https://github.com/rust-lang/rust/issues/20835", "tree": {"sha": "37e9f5baa41270232e785ddb11c125cb57be3484", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/37e9f5baa41270232e785ddb11c125cb57be3484"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622", "html_url": "https://github.com/rust-lang/rust/commit/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "15dd0a5acba78e7d086f0b9fe610e66f3369ed63", "url": "https://api.github.com/repos/rust-lang/rust/commits/15dd0a5acba78e7d086f0b9fe610e66f3369ed63", "html_url": "https://github.com/rust-lang/rust/commit/15dd0a5acba78e7d086f0b9fe610e66f3369ed63"}, {"sha": "e371d23486a5b42f41cd220ebef1689d49e3fe94", "url": "https://api.github.com/repos/rust-lang/rust/commits/e371d23486a5b42f41cd220ebef1689d49e3fe94", "html_url": "https://github.com/rust-lang/rust/commit/e371d23486a5b42f41cd220ebef1689d49e3fe94"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "8b933fdd6dd57802f0d60b20a9efa0d559d8d575", "filename": "src/rustbook/css.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622/src%2Frustbook%2Fcss.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622/src%2Frustbook%2Fcss.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustbook%2Fcss.rs?ref=9ff540ba3771a1c0a396ca3f7a685a94b4e0f622", "patch": "@@ -48,6 +48,7 @@ body {\n     margin-left: auto;\n     margin-right:auto;\n     max-width: 750px;\n+    padding-bottom: 50px;\n }\n \n .chapter {\n@@ -125,4 +126,12 @@ body {\n     padding: 0;\n }\n \n+.left {\n+    float: left;\n+}\n+\n+.right {\n+    float: right;\n+}\n+\n \"#;"}, {"sha": "d34887d2b08b59e6af92c34c6b7b2f48d62d97fe", "filename": "src/rustbook/javascript.rs", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622/src%2Frustbook%2Fjavascript.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ff540ba3771a1c0a396ca3f7a685a94b4e0f622/src%2Frustbook%2Fjavascript.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustbook%2Fjavascript.rs?ref=9ff540ba3771a1c0a396ca3f7a685a94b4e0f622", "patch": "@@ -38,6 +38,37 @@ document.addEventListener(\"DOMContentLoaded\", function(event) {\n        el.className = classes.join(' ');\n      }\n   }\n+\n+  // The below code is used to add prev and next navigation links to the bottom\n+  // of each of the sections.\n+  // It works by extracting the current page based on the url and iterates over\n+  // the menu links until it finds the menu item for the current page. We then\n+  // create a copy of the preceeding and following menu links and add the\n+  // correct css class and insert them into the bottom of the page.\n+  var toc = document.getElementById('toc').getElementsByTagName('a');\n+  var href = document.location.pathname.split('/').pop();\n+  if (href === 'index.html' || href === '') {\n+    href = 'README.html';\n+  }\n+\n+  for (var i = 0; i < toc.length; i++) {\n+    if (toc[i].attributes['href'].value === href) {\n+      var nav = document.createElement('p');\n+      if (i > 0) {\n+        var prevNode = toc[i-1].cloneNode(true);\n+        prevNode.className = 'left';\n+        nav.appendChild(prevNode);\n+      }\n+      if (i < toc.length - 1) {\n+        var nextNode = toc[i+1].cloneNode(true);\n+        nextNode.className = 'right';\n+        nav.appendChild(nextNode);\n+      }\n+      document.getElementById('page').appendChild(nav);\n+      break;\n+    }\n+  }\n+\n });\n </script>\n \"#;"}]}