{"sha": "f98f00f7f6afac993fd2a08e7135bfdb8e70dec6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY5OGYwMGY3ZjZhZmFjOTkzZmQyYTA4ZTcxMzViZmRiOGU3MGRlYzY=", "commit": {"author": {"name": "Simon BD", "email": "simon@server", "date": "2012-09-27T23:15:57Z"}, "committer": {"name": "Simon BD", "email": "simon@server", "date": "2012-09-27T23:15:57Z"}, "message": "Fix timsort to use updated vec::reserve", "tree": {"sha": "447d2a00cef0db137e817d2265b3f647cb4a58b0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/447d2a00cef0db137e817d2265b3f647cb4a58b0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f98f00f7f6afac993fd2a08e7135bfdb8e70dec6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f98f00f7f6afac993fd2a08e7135bfdb8e70dec6", "html_url": "https://github.com/rust-lang/rust/commit/f98f00f7f6afac993fd2a08e7135bfdb8e70dec6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f98f00f7f6afac993fd2a08e7135bfdb8e70dec6/comments", "author": {"login": "14427", "id": 2423611, "node_id": "MDQ6VXNlcjI0MjM2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2423611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/14427", "html_url": "https://github.com/14427", "followers_url": "https://api.github.com/users/14427/followers", "following_url": "https://api.github.com/users/14427/following{/other_user}", "gists_url": "https://api.github.com/users/14427/gists{/gist_id}", "starred_url": "https://api.github.com/users/14427/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/14427/subscriptions", "organizations_url": "https://api.github.com/users/14427/orgs", "repos_url": "https://api.github.com/users/14427/repos", "events_url": "https://api.github.com/users/14427/events{/privacy}", "received_events_url": "https://api.github.com/users/14427/received_events", "type": "User", "site_admin": false}, "committer": {"login": "14427", "id": 2423611, "node_id": "MDQ6VXNlcjI0MjM2MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2423611?v=4", "gravatar_id": "", "url": "https://api.github.com/users/14427", "html_url": "https://github.com/14427", "followers_url": "https://api.github.com/users/14427/followers", "following_url": "https://api.github.com/users/14427/following{/other_user}", "gists_url": "https://api.github.com/users/14427/gists{/gist_id}", "starred_url": "https://api.github.com/users/14427/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/14427/subscriptions", "organizations_url": "https://api.github.com/users/14427/orgs", "repos_url": "https://api.github.com/users/14427/repos", "events_url": "https://api.github.com/users/14427/events{/privacy}", "received_events_url": "https://api.github.com/users/14427/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cef77636497fad5f3e07c5089ef8ed68fa739689", "url": "https://api.github.com/repos/rust-lang/rust/commits/cef77636497fad5f3e07c5089ef8ed68fa739689", "html_url": "https://github.com/rust-lang/rust/commit/cef77636497fad5f3e07c5089ef8ed68fa739689"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "4f8102515ce86f14ae155ef736a62b23e5e2aa1d", "filename": "src/libstd/sort.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f98f00f7f6afac993fd2a08e7135bfdb8e70dec6/src%2Flibstd%2Fsort.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f98f00f7f6afac993fd2a08e7135bfdb8e70dec6/src%2Flibstd%2Fsort.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsort.rs?ref=f98f00f7f6afac993fd2a08e7135bfdb8e70dec6", "patch": "@@ -219,8 +219,8 @@ fn binarysort<T: Ord>(array: &[mut T], start: uint) {\n \n     if start == 0 { start += 1; }\n \n-    let mut pivot = ~[mut];\n-    vec::reserve(pivot, 1);\n+    let mut pivot = ~[];\n+    vec::reserve(&mut pivot, 1);\n     unsafe { vec::raw::set_len(pivot, 1); };\n \n     while start < size {\n@@ -409,7 +409,7 @@ struct MergeState<T> {\n \n fn MergeState<T>() -> MergeState<T> {\n     let mut tmp = ~[];\n-    vec::reserve(tmp, INITIAL_TMP_STORAGE); \n+    vec::reserve(&mut tmp, INITIAL_TMP_STORAGE); \n     MergeState {\n         minGallop: MIN_GALLOP,\n         tmp: tmp,\n@@ -467,7 +467,7 @@ impl<T: Ord> &MergeState<T> {\n     fn mergeLo(array: &[mut T], base1: uint, len1: uint, base2: uint, len2: uint) {\n         assert len1 != 0 && len2 != 0 && base1+len1 == base2;\n         \n-        vec::reserve(self.tmp, len1);\n+        vec::reserve(&mut self.tmp, len1);\n \n         unsafe {\n             vec::raw::set_len(self.tmp, len1);\n@@ -587,7 +587,7 @@ impl<T: Ord> &MergeState<T> {\n     fn mergeHi(array: &[mut T], base1: uint, len1: uint, base2: uint, len2: uint) {\n         assert len1 != 1 && len2 != 0 && base1 + len1 == base2;\n \n-        vec::reserve(self.tmp, len2);\n+        vec::reserve(&mut self.tmp, len2);\n \n         unsafe {\n             vec::raw::set_len(self.tmp, len2);"}]}