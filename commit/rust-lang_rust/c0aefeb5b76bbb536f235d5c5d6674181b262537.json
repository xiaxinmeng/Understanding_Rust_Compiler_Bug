{"sha": "c0aefeb5b76bbb536f235d5c5d6674181b262537", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMwYWVmZWI1Yjc2YmJiNTM2ZjIzNWQ1YzVkNjY3NDE4MWIyNjI1Mzc=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-01-21T13:51:28Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-01-21T13:51:28Z"}, "message": "Rustup to rustc 1.51.0-nightly (a4cbb44ae 2021-01-20)", "tree": {"sha": "4123c9749930b0c5f50436043b22831c128a0141", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4123c9749930b0c5f50436043b22831c128a0141"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c0aefeb5b76bbb536f235d5c5d6674181b262537", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c0aefeb5b76bbb536f235d5c5d6674181b262537", "html_url": "https://github.com/rust-lang/rust/commit/c0aefeb5b76bbb536f235d5c5d6674181b262537", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c0aefeb5b76bbb536f235d5c5d6674181b262537/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cfedad1f75bf22468fce59f754daf1501fa2827d", "url": "https://api.github.com/repos/rust-lang/rust/commits/cfedad1f75bf22468fce59f754daf1501fa2827d", "html_url": "https://github.com/rust-lang/rust/commit/cfedad1f75bf22468fce59f754daf1501fa2827d"}], "stats": {"total": 61, "additions": 51, "deletions": 10}, "files": [{"sha": "b49518ee39a76e8e75a31b77f63cc464f1721f88", "filename": "build_sysroot/Cargo.lock", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c0aefeb5b76bbb536f235d5c5d6674181b262537/build_sysroot%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/c0aefeb5b76bbb536f235d5c5d6674181b262537/build_sysroot%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build_sysroot%2FCargo.lock?ref=c0aefeb5b76bbb536f235d5c5d6674181b262537", "patch": "@@ -63,9 +63,7 @@ dependencies = [\n \n [[package]]\n name = \"compiler_builtins\"\n-version = \"0.1.36\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7cd0782e0a7da7598164153173e5a5d4d9b1da094473c98dce0ff91406112369\"\n+version = \"0.1.39\"\n dependencies = [\n  \"rustc-std-workspace-core\",\n ]\n@@ -130,9 +128,9 @@ dependencies = [\n \n [[package]]\n name = \"hermit-abi\"\n-version = \"0.1.17\"\n+version = \"0.1.18\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5aca5565f760fb5b220e499d72710ed156fdb74e631659e99377d9ebfbd13ae8\"\n+checksum = \"322f4de77956e22ed0e5032c359a0f1273f1f7f0d79bfa3b8ffbc730d7fbcc5c\"\n dependencies = [\n  \"compiler_builtins\",\n  \"libc\",\n@@ -141,9 +139,9 @@ dependencies = [\n \n [[package]]\n name = \"libc\"\n-version = \"0.2.81\"\n+version = \"0.2.82\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1482821306169ec4d07f6aca392a4681f66c75c9918aa49641a2595db64053cb\"\n+checksum = \"89203f3fba0a3795506acaad8ebce3c80c0af93f994d5a1d7a0b1eeb23271929\"\n dependencies = [\n  \"rustc-std-workspace-core\",\n ]"}, {"sha": "82516c98af2a2c9501ec695a40c27c1777985267", "filename": "build_sysroot/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c0aefeb5b76bbb536f235d5c5d6674181b262537/build_sysroot%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/c0aefeb5b76bbb536f235d5c5d6674181b262537/build_sysroot%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build_sysroot%2FCargo.toml?ref=c0aefeb5b76bbb536f235d5c5d6674181b262537", "patch": "@@ -11,12 +11,13 @@ test = { path = \"./sysroot_src/library/test\" }\n \n alloc_system = { path = \"./alloc_system\" }\n \n-compiler_builtins = { version = \"=0.1.36\", default-features = false }\n+compiler_builtins = { version = \"0.1.39\", default-features = false, features = [\"no-asm\"] }\n \n [patch.crates-io]\n rustc-std-workspace-core = { path = \"./sysroot_src/library/rustc-std-workspace-core\" }\n rustc-std-workspace-alloc = { path = \"./sysroot_src/library/rustc-std-workspace-alloc\" }\n rustc-std-workspace-std = { path = \"./sysroot_src/library/rustc-std-workspace-std\" }\n+compiler_builtins = { path = \"./compiler-builtins\" }\n \n [profile.dev]\n lto = \"off\""}, {"sha": "d3b87e02ba8913997bb5a600f77deb8301a8edeb", "filename": "build_sysroot/prepare_sysroot_src.sh", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/c0aefeb5b76bbb536f235d5c5d6674181b262537/build_sysroot%2Fprepare_sysroot_src.sh", "raw_url": "https://github.com/rust-lang/rust/raw/c0aefeb5b76bbb536f235d5c5d6674181b262537/build_sysroot%2Fprepare_sysroot_src.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build_sysroot%2Fprepare_sysroot_src.sh?ref=c0aefeb5b76bbb536f235d5c5d6674181b262537", "patch": "@@ -29,4 +29,11 @@ git commit --no-gpg-sign -m \"Patch $file\"\n done\n popd\n \n-echo \"Successfully prepared libcore for building\"\n+git clone https://github.com/rust-lang/compiler-builtins.git || echo \"rust-lang/compiler-builtins has already been cloned\"\n+pushd compiler-builtins\n+git checkout -- .\n+git checkout 0.1.39\n+git apply ../../crate_patches/0001-compiler-builtins-Remove-rotate_left-from-Int.patch\n+popd\n+\n+echo \"Successfully prepared sysroot source for building\""}, {"sha": "e14768910a9ac49d3ffb144994e67e2f5367daa9", "filename": "crate_patches/0001-compiler-builtins-Remove-rotate_left-from-Int.patch", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/c0aefeb5b76bbb536f235d5c5d6674181b262537/crate_patches%2F0001-compiler-builtins-Remove-rotate_left-from-Int.patch", "raw_url": "https://github.com/rust-lang/rust/raw/c0aefeb5b76bbb536f235d5c5d6674181b262537/crate_patches%2F0001-compiler-builtins-Remove-rotate_left-from-Int.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crate_patches%2F0001-compiler-builtins-Remove-rotate_left-from-Int.patch?ref=c0aefeb5b76bbb536f235d5c5d6674181b262537", "patch": "@@ -0,0 +1,35 @@\n+From 7078cca3cb614e1e82da428380b4e16fc3afef46 Mon Sep 17 00:00:00 2001\n+From: bjorn3 <bjorn3@users.noreply.github.com>\n+Date: Thu, 21 Jan 2021 14:46:36 +0100\n+Subject: [PATCH] Remove rotate_left from Int\n+\n+---\n+ src/int/mod.rs | 5 -----\n+ 1 file changed, 5 deletions(-)\n+\n+diff --git a/src/int/mod.rs b/src/int/mod.rs\n+index 06054c8..3bea17b 100644\n+--- a/src/int/mod.rs\n++++ b/src/int/mod.rs\n+@@ -85,7 +85,6 @@ pub trait Int:\n+     fn wrapping_sub(self, other: Self) -> Self;\n+     fn wrapping_shl(self, other: u32) -> Self;\n+     fn wrapping_shr(self, other: u32) -> Self;\n+-    fn rotate_left(self, other: u32) -> Self;\n+     fn overflowing_add(self, other: Self) -> (Self, bool);\n+     fn aborting_div(self, other: Self) -> Self;\n+     fn aborting_rem(self, other: Self) -> Self;\n+@@ -209,10 +208,6 @@ macro_rules! int_impl_common {\n+             <Self>::wrapping_shr(self, other)\n+         }\n+ \n+-        fn rotate_left(self, other: u32) -> Self {\n+-            <Self>::rotate_left(self, other)\n+-        }\n+-\n+         fn overflowing_add(self, other: Self) -> (Self, bool) {\n+             <Self>::overflowing_add(self, other)\n+         }\n+-- \n+2.26.2.7.g19db9cfb68\n+"}, {"sha": "ff530ab260ed6f1b0ea74138dcbd93c2726e060c", "filename": "rust-toolchain", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c0aefeb5b76bbb536f235d5c5d6674181b262537/rust-toolchain", "raw_url": "https://github.com/rust-lang/rust/raw/c0aefeb5b76bbb536f235d5c5d6674181b262537/rust-toolchain", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rust-toolchain?ref=c0aefeb5b76bbb536f235d5c5d6674181b262537", "patch": "@@ -1 +1 @@\n-nightly-2021-01-01\n+nightly-2021-01-21"}]}