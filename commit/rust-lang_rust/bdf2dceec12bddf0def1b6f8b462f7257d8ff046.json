{"sha": "bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkZjJkY2VlYzEyYmRkZjBkZWYxYjZmOGI0NjJmNzI1N2Q4ZmYwNDY=", "commit": {"author": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2021-03-15T18:20:01Z"}, "committer": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2021-03-16T13:51:57Z"}, "message": "Get rid of some unused dependecies", "tree": {"sha": "fe35ace251cf5d5cae9bd114ea261bdfcd01d366", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe35ace251cf5d5cae9bd114ea261bdfcd01d366"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEij1UXJ/PQTcb99vTHKDfKvWdaKUFAmBQt/8ACgkQHKDfKvWd\naKV0OA//RZSjwGQHWZPNj0UXkRKQnIuPbo1+3yNwUerRS3NL6x3XWFJUN6/sIvli\nn+eYclaH5NMkc6xk2BmYICbr6BjcBI/IsgphYFH86bj4td9Et751zeBhhWJpjEwP\nnMS1Ht2D3RHD66mEpTs2N1F+QXIQjlNpSm55obQ7+0A1mTKHc02GwuQRSZdn36yp\nsbprKZBEYbA5JbsDvn32CEiZiJnAQWo1iYCxtPM/6qcvsyOrENolM01cK9iT7YVl\nQIFaw4OVaKZF17kHp21JNHUP26MIAYjgp9zw2p/yyr0P7niby0zWhlJVj0HfxWtw\ny6DqL+DPBi4lYma3onPL2hFTJ7mA80C0r+iOeZyIxEoLdu+wlD6oPNP3XxQ6sefX\nSCl0+k38z2RLxWonEw51eMAGrUrlnNjxfc1vyQRrLnPvxV7WF3P9qdzdXKQmIHeq\nc7MQZpSl2/oFf9SjNXxT4EcDzH5yKQzx80Wa/8CkDZHL3bqCyw4KLBNv2KTVQt2g\nW//L8XIyMFPD4zUetkI+9zaBr1c+J4RJhu2/3geKILo5V23iJs/VKCkWtdmvadyQ\nQyr3DVcPNYWzSvVFchiPJ3QyLh4JutSR5GEybtt8J88+kKj5CVmyWe2EuRWWJzV9\nCz3V6pZnkRKvKY17V3gJ5oflSlzR3hEgKQStLG5DNlpDDxXPApQ=\n=epCd\n-----END PGP SIGNATURE-----", "payload": "tree fe35ace251cf5d5cae9bd114ea261bdfcd01d366\nparent 1a206fc4abae0b57a3f393481367cf3efca23586\nauthor flip1995 <philipp.krones@embecosm.com> 1615832401 +0100\ncommitter flip1995 <philipp.krones@embecosm.com> 1615902717 +0100\n\nGet rid of some unused dependecies\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "html_url": "https://github.com/rust-lang/rust/commit/bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1a206fc4abae0b57a3f393481367cf3efca23586", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a206fc4abae0b57a3f393481367cf3efca23586", "html_url": "https://github.com/rust-lang/rust/commit/1a206fc4abae0b57a3f393481367cf3efca23586"}], "stats": {"total": 16, "additions": 5, "deletions": 11}, "files": [{"sha": "dcc3294f8a7d8b88fbd2c0ad0cca8b7fa5a939ed", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "patch": "@@ -37,6 +37,8 @@ clippy-mini-macro-test = { version = \"0.2\", path = \"mini-macro\" }\n serde = { version = \"1.0\", features = [\"derive\"] }\n derive-new = \"0.5\"\n regex = \"1.4\"\n+quote = \"1\"\n+syn = { version = \"1\", features = [\"full\"] }\n \n # A noop dependency that changes in the Rust repository, it's a bit of a hack.\n # See the `src/tools/rustc-workspace-hack/README.md` file in `rust-lang/rust`"}, {"sha": "e67d03d3338107fc538a230f0f30ff75c6ecb0e2", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "patch": "@@ -20,16 +20,13 @@ pulldown-cmark = { version = \"0.8\", default-features = false }\n quine-mc_cluskey = \"0.2.2\"\n regex-syntax = \"0.6\"\n serde = { version = \"1.0\", features = [\"derive\"] }\n-smallvec = { version = \"1\", features = [\"union\"] }\n toml = \"0.5.3\"\n unicode-normalization = \"0.1\"\n semver = \"0.11\"\n rustc-semver = \"1.1.0\"\n # NOTE: cargo requires serde feat in its url dep\n # see <https://github.com/rust-lang/rust/pull/63587#issuecomment-522343864>\n url = { version = \"2.1.0\", features = [\"serde\"] }\n-quote = \"1\"\n-syn = { version = \"1\", features = [\"full\"] }\n \n [features]\n deny-warnings = []"}, {"sha": "bd592dc03da4336fca022b525eae44bf65154a38", "filename": "clippy_utils/Cargo.toml", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/clippy_utils%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/clippy_utils%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2FCargo.toml?ref=bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "patch": "@@ -10,8 +10,6 @@ if_chain = \"1.0.0\"\n itertools = \"0.9\"\n regex-syntax = \"0.6\"\n serde = { version = \"1.0\", features = [\"derive\"] }\n-smallvec = { version = \"1\", features = [\"union\"] }\n-toml = \"0.5.3\"\n unicode-normalization = \"0.1\"\n rustc-semver=\"1.1.0\"\n "}, {"sha": "3efa84f6b864d171c3293c62ec479e015ce3028b", "filename": "clippy_utils/src/lib.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/clippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bdf2dceec12bddf0def1b6f8b462f7257d8ff046/clippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Flib.rs?ref=bdf2dceec12bddf0def1b6f8b462f7257d8ff046", "patch": "@@ -79,7 +79,6 @@ use rustc_span::sym;\n use rustc_span::symbol::{kw, Ident, Symbol};\n use rustc_span::{Span, DUMMY_SP};\n use rustc_target::abi::Integer;\n-use smallvec::SmallVec;\n \n use crate::consts::{constant, Constant};\n use crate::ty::is_recursively_primitive_type;\n@@ -1152,11 +1151,9 @@ pub fn match_panic_def_id(cx: &LateContext<'_>, did: DefId) -> bool {\n /// sequence of `if/else`.\n /// E.g., this returns `([a, b], [c, d, e])` for the expression\n /// `if a { c } else if b { d } else { e }`.\n-pub fn if_sequence<'tcx>(\n-    mut expr: &'tcx Expr<'tcx>,\n-) -> (SmallVec<[&'tcx Expr<'tcx>; 1]>, SmallVec<[&'tcx Block<'tcx>; 1]>) {\n-    let mut conds = SmallVec::new();\n-    let mut blocks: SmallVec<[&Block<'_>; 1]> = SmallVec::new();\n+pub fn if_sequence<'tcx>(mut expr: &'tcx Expr<'tcx>) -> (Vec<&'tcx Expr<'tcx>>, Vec<&'tcx Block<'tcx>>) {\n+    let mut conds = Vec::new();\n+    let mut blocks: Vec<&Block<'_>> = Vec::new();\n \n     while let ExprKind::If(ref cond, ref then_expr, ref else_expr) = expr.kind {\n         conds.push(&**cond);"}]}