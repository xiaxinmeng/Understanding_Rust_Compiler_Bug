{"sha": "bd98a935587ad988b5780b75021b1a45d0f508d7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkOThhOTM1NTg3YWQ5ODhiNTc4MGI3NTAyMWIxYTQ1ZDBmNTA4ZDc=", "commit": {"author": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2018-01-26T23:08:50Z"}, "committer": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2018-01-30T18:42:51Z"}, "message": "Fix more tests", "tree": {"sha": "257fbdc6bdf99baad5a854bc038a89b5c256068d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/257fbdc6bdf99baad5a854bc038a89b5c256068d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd98a935587ad988b5780b75021b1a45d0f508d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd98a935587ad988b5780b75021b1a45d0f508d7", "html_url": "https://github.com/rust-lang/rust/commit/bd98a935587ad988b5780b75021b1a45d0f508d7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd98a935587ad988b5780b75021b1a45d0f508d7/comments", "author": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c4b4fe4d6b528e1500fc75154b9c701645ac274", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c4b4fe4d6b528e1500fc75154b9c701645ac274", "html_url": "https://github.com/rust-lang/rust/commit/5c4b4fe4d6b528e1500fc75154b9c701645ac274"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "6886a02cb921012d6ccd24bda6a561cf0021f8ad", "filename": "src/test/compile-fail/macro-at-most-once-rep-ambig.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd98a935587ad988b5780b75021b1a45d0f508d7/src%2Ftest%2Fcompile-fail%2Fmacro-at-most-once-rep-ambig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd98a935587ad988b5780b75021b1a45d0f508d7/src%2Ftest%2Fcompile-fail%2Fmacro-at-most-once-rep-ambig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-at-most-once-rep-ambig.rs?ref=bd98a935587ad988b5780b75021b1a45d0f508d7", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_at_most_once_rep)]\n+\n macro_rules! foo {\n     ($(a)?) => {}\n }"}, {"sha": "9ebc438ad5a0071e8bed7f8c1c902845adf47743", "filename": "src/test/run-pass-fulldeps/auxiliary/procedural_mbe_matching.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/bd98a935587ad988b5780b75021b1a45d0f508d7/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fprocedural_mbe_matching.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd98a935587ad988b5780b75021b1a45d0f508d7/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fprocedural_mbe_matching.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fprocedural_mbe_matching.rs?ref=bd98a935587ad988b5780b75021b1a45d0f508d7", "patch": "@@ -18,6 +18,7 @@ extern crate syntax_pos;\n extern crate rustc;\n extern crate rustc_plugin;\n \n+use syntax::feature_gate::Features;\n use syntax::parse::token::{NtExpr, NtPat};\n use syntax::ast::{Ident, Pat};\n use syntax::tokenstream::{TokenTree};\n@@ -31,11 +32,17 @@ use syntax::ptr::P;\n use syntax_pos::Span;\n use rustc_plugin::Registry;\n \n+use std::cell::RefCell;\n+\n fn expand_mbe_matches(cx: &mut ExtCtxt, _: Span, args: &[TokenTree])\n         -> Box<MacResult + 'static> {\n \n     let mbe_matcher = quote_tokens!(cx, $$matched:expr, $$($$pat:pat)|+);\n-    let mbe_matcher = quoted::parse(mbe_matcher.into_iter().collect(), true, cx.parse_sess);\n+    let mbe_matcher = quoted::parse(mbe_matcher.into_iter().collect(),\n+                                    true,\n+                                    cx.parse_sess,\n+                                    &RefCell::new(Features::new()),\n+                                    &[]);\n     let map = match TokenTree::parse(cx, &mbe_matcher, args.iter().cloned().collect()) {\n         Success(map) => map,\n         Failure(_, tok) => {"}, {"sha": "ecfa92d5a738b1e680e1bbe78ab663364e580ef9", "filename": "src/test/run-pass/macro-at-most-once-rep.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd98a935587ad988b5780b75021b1a45d0f508d7/src%2Ftest%2Frun-pass%2Fmacro-at-most-once-rep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd98a935587ad988b5780b75021b1a45d0f508d7/src%2Ftest%2Frun-pass%2Fmacro-at-most-once-rep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmacro-at-most-once-rep.rs?ref=bd98a935587ad988b5780b75021b1a45d0f508d7", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_at_most_once_rep)]\n+\n macro_rules! foo {\n     ($(a)?) => {}\n }"}]}