{"sha": "46b241004dbc4d6f77e81868304af4e79df9fe6f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ2YjI0MTAwNGRiYzRkNmY3N2U4MTg2ODMwNGFmNGU3OWRmOWZlNmY=", "commit": {"author": {"name": "Benjamin Brittain", "email": "bwb@google.com", "date": "2018-07-30T00:20:11Z"}, "committer": {"name": "Benjamin Brittain", "email": "bwb@google.com", "date": "2018-07-30T00:20:21Z"}, "message": "fix nits", "tree": {"sha": "09aaefd8ecec315e48b128a564ebf7affc90e3df", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/09aaefd8ecec315e48b128a564ebf7affc90e3df"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/46b241004dbc4d6f77e81868304af4e79df9fe6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/46b241004dbc4d6f77e81868304af4e79df9fe6f", "html_url": "https://github.com/rust-lang/rust/commit/46b241004dbc4d6f77e81868304af4e79df9fe6f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/46b241004dbc4d6f77e81868304af4e79df9fe6f/comments", "author": {"login": "benbrittain", "id": 207432, "node_id": "MDQ6VXNlcjIwNzQzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/207432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benbrittain", "html_url": "https://github.com/benbrittain", "followers_url": "https://api.github.com/users/benbrittain/followers", "following_url": "https://api.github.com/users/benbrittain/following{/other_user}", "gists_url": "https://api.github.com/users/benbrittain/gists{/gist_id}", "starred_url": "https://api.github.com/users/benbrittain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benbrittain/subscriptions", "organizations_url": "https://api.github.com/users/benbrittain/orgs", "repos_url": "https://api.github.com/users/benbrittain/repos", "events_url": "https://api.github.com/users/benbrittain/events{/privacy}", "received_events_url": "https://api.github.com/users/benbrittain/received_events", "type": "User", "site_admin": false}, "committer": {"login": "benbrittain", "id": 207432, "node_id": "MDQ6VXNlcjIwNzQzMg==", "avatar_url": "https://avatars.githubusercontent.com/u/207432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benbrittain", "html_url": "https://github.com/benbrittain", "followers_url": "https://api.github.com/users/benbrittain/followers", "following_url": "https://api.github.com/users/benbrittain/following{/other_user}", "gists_url": "https://api.github.com/users/benbrittain/gists{/gist_id}", "starred_url": "https://api.github.com/users/benbrittain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benbrittain/subscriptions", "organizations_url": "https://api.github.com/users/benbrittain/orgs", "repos_url": "https://api.github.com/users/benbrittain/repos", "events_url": "https://api.github.com/users/benbrittain/events{/privacy}", "received_events_url": "https://api.github.com/users/benbrittain/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fedde3790c32c4956b06ae45699f0f76b4502865", "url": "https://api.github.com/repos/rust-lang/rust/commits/fedde3790c32c4956b06ae45699f0f76b4502865", "html_url": "https://github.com/rust-lang/rust/commit/fedde3790c32c4956b06ae45699f0f76b4502865"}], "stats": {"total": 49, "additions": 42, "deletions": 7}, "files": [{"sha": "b352294d3f3c807b785ae6df2106be13c0ea843e", "filename": "src/items.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/46b241004dbc4d6f77e81868304af4e79df9fe6f/src%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46b241004dbc4d6f77e81868304af4e79df9fe6f/src%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fitems.rs?ref=46b241004dbc4d6f77e81868304af4e79df9fe6f", "patch": "@@ -164,7 +164,7 @@ pub struct FnSig<'a> {\n     decl: &'a ast::FnDecl,\n     generics: &'a ast::Generics,\n     abi: abi::Abi,\n-    asyncness: ast::IsAsync,\n+    is_async: ast::IsAsync,\n     constness: ast::Constness,\n     defaultness: ast::Defaultness,\n     unsafety: ast::Unsafety,\n@@ -181,7 +181,7 @@ impl<'a> FnSig<'a> {\n             decl,\n             generics,\n             abi: abi::Abi::Rust,\n-            asyncness: ast::IsAsync::NotAsync,\n+            is_async: ast::IsAsync::NotAsync,\n             constness: ast::Constness::NotConst,\n             defaultness: ast::Defaultness::Final,\n             unsafety: ast::Unsafety::Normal,\n@@ -195,7 +195,7 @@ impl<'a> FnSig<'a> {\n     ) -> FnSig<'a> {\n         FnSig {\n             unsafety: method_sig.header.unsafety,\n-            asyncness: method_sig.header.asyncness,\n+            is_async: method_sig.header.asyncness,\n             constness: method_sig.header.constness.node,\n             defaultness: ast::Defaultness::Final,\n             abi: method_sig.header.abi,\n@@ -217,7 +217,7 @@ impl<'a> FnSig<'a> {\n                 generics,\n                 abi: fn_header.abi,\n                 constness: fn_header.constness.node,\n-                asyncness: fn_header.asyncness,\n+                is_async: fn_header.asyncness,\n                 defaultness,\n                 unsafety: fn_header.unsafety,\n                 visibility: visibility.clone(),\n@@ -241,7 +241,7 @@ impl<'a> FnSig<'a> {\n         result.push_str(format_defaultness(self.defaultness));\n         result.push_str(format_constness(self.constness));\n         result.push_str(format_unsafety(self.unsafety));\n-        result.push_str(format_asyncness(self.asyncness));\n+        result.push_str(format_async(self.is_async));\n         result.push_str(&format_abi(\n             self.abi,\n             context.config.force_explicit_abi(),"}, {"sha": "5f92255e79cad80fcd253f1ba70c4501f7fd9998", "filename": "src/utils.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/46b241004dbc4d6f77e81868304af4e79df9fe6f/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46b241004dbc4d6f77e81868304af4e79df9fe6f/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=46b241004dbc4d6f77e81868304af4e79df9fe6f", "patch": "@@ -82,8 +82,8 @@ pub fn format_visibility(context: &RewriteContext, vis: &Visibility) -> Cow<'sta\n }\n \n #[inline]\n-pub fn format_asyncness(asyncness: ast::IsAsync) -> &'static str {\n-    match asyncness {\n+pub fn format_async(is_async: ast::IsAsync) -> &'static str {\n+    match is_async {\n         ast::IsAsync::Async { .. } => \"async \",\n         ast::IsAsync::NotAsync => \"\",\n     }"}, {"sha": "5e05e58c6c12d0ee77690daf0c06a049804eaeab", "filename": "tests/source/async_block.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Fsource%2Fasync_block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Fsource%2Fasync_block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fasync_block.rs?ref=46b241004dbc4d6f77e81868304af4e79df9fe6f", "patch": "@@ -5,3 +5,15 @@ fn main() {\n         Ok(())\n     };\n }\n+\n+fn baz() {\n+    // test\n+    let x = async {\n+        // async blocks are great\n+        Ok(())\n+    };\n+\n+    let y = async {\n+        Ok(())\n+    }; // comment\n+}"}, {"sha": "cae9d5badafaab7d1617002d13bf6544a1013de0", "filename": "tests/source/async_fn.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Fsource%2Fasync_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Fsource%2Fasync_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fasync_fn.rs?ref=46b241004dbc4d6f77e81868304af4e79df9fe6f", "patch": "@@ -13,3 +13,9 @@ unsafe async fn foo() {\n         Ok(())\n     }\n }\n+\n+unsafe async fn rust() {\n+    async move { // comment\n+        Ok(())\n+    }\n+}"}, {"sha": "611c719e95f7512623cd097396d66920f2eee232", "filename": "tests/target/async_block.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Ftarget%2Fasync_block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Ftarget%2Fasync_block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fasync_block.rs?ref=46b241004dbc4d6f77e81868304af4e79df9fe6f", "patch": "@@ -3,3 +3,13 @@\n fn main() {\n     let x = async { Ok(()) };\n }\n+\n+fn baz() {\n+    // test\n+    let x = async {\n+        // async blocks are great\n+        Ok(())\n+    };\n+\n+    let y = async { Ok(()) }; // comment\n+}"}, {"sha": "e23f04d28c02013cd3b26e383cff09fcd78706f0", "filename": "tests/target/async_fn.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Ftarget%2Fasync_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/46b241004dbc4d6f77e81868304af4e79df9fe6f/tests%2Ftarget%2Fasync_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fasync_fn.rs?ref=46b241004dbc4d6f77e81868304af4e79df9fe6f", "patch": "@@ -11,3 +11,10 @@ pub async fn baz() -> Result<(), ()> {\n unsafe async fn foo() {\n     async move { Ok(()) }\n }\n+\n+unsafe async fn rust() {\n+    async move {\n+        // comment\n+        Ok(())\n+    }\n+}"}]}