{"sha": "d9680f5b36b10cadf0de01b2ef6df0bec899e3b6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ5NjgwZjViMzZiMTBjYWRmMGRlMDFiMmVmNmRmMGJlYzg5OWUzYjY=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2016-05-25T12:52:40Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2016-05-25T12:52:40Z"}, "message": "Fix some comments.", "tree": {"sha": "20b041d7942d205c4d4e5506767465eeb1b7f915", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/20b041d7942d205c4d4e5506767465eeb1b7f915"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9680f5b36b10cadf0de01b2ef6df0bec899e3b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9680f5b36b10cadf0de01b2ef6df0bec899e3b6", "html_url": "https://github.com/rust-lang/rust/commit/d9680f5b36b10cadf0de01b2ef6df0bec899e3b6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9680f5b36b10cadf0de01b2ef6df0bec899e3b6/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4412c7ab375452badb2b5052e6b78a87e2c36260", "url": "https://api.github.com/repos/rust-lang/rust/commits/4412c7ab375452badb2b5052e6b78a87e2c36260", "html_url": "https://github.com/rust-lang/rust/commit/4412c7ab375452badb2b5052e6b78a87e2c36260"}], "stats": {"total": 15, "additions": 8, "deletions": 7}, "files": [{"sha": "da7a85c1a8a683fa4eef08ee9e64596f35a83036", "filename": "src/librustc_borrowck/borrowck/mir/dataflow/mod.rs", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/d9680f5b36b10cadf0de01b2ef6df0bec899e3b6/src%2Flibrustc_borrowck%2Fborrowck%2Fmir%2Fdataflow%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9680f5b36b10cadf0de01b2ef6df0bec899e3b6/src%2Flibrustc_borrowck%2Fborrowck%2Fmir%2Fdataflow%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fmir%2Fdataflow%2Fmod.rs?ref=d9680f5b36b10cadf0de01b2ef6df0bec899e3b6", "patch": "@@ -324,9 +324,9 @@ pub trait BitDenotation {\n     /// \"transfer-function\" represnting the overall-effect of the\n     /// block, represented via GEN and KILL sets.\n     ///\n-    /// The statement here is `idx_stmt.1`; `idx_stmt.0` is just\n-    /// an identifying index: namely, the index of the statement\n-    /// in the basic block.\n+    /// The statement is identified as `bb_data[idx_stmt]`, where\n+    /// `bb_data` is the sequence of statements identifed by `bb` in\n+    /// the MIR.\n     fn statement_effect(&self,\n                         ctxt: &Self::Ctxt,\n                         sets: &mut BlockSets<Self::Idx>,\n@@ -341,10 +341,6 @@ pub trait BitDenotation {\n     /// \"transfer-function\" represnting the overall-effect of the\n     /// block, represented via GEN and KILL sets.\n     ///\n-    /// The terminator here is `idx_term.1`; `idx_term.0` is just an\n-    /// identifying index: namely, the number of statements in `bb`\n-    /// itself.\n-    ///\n     /// The effects applied here cannot depend on which branch the\n     /// terminator took.\n     fn terminator_effect(&self,\n@@ -367,6 +363,11 @@ pub trait BitDenotation {\n     /// flow-dependent, the current MIR cannot encode them via just\n     /// GEN and KILL sets attached to the block, and so instead we add\n     /// this extra machinery to represent the flow-dependent effect.\n+    ///\n+    /// FIXME: Right now this is a bit of a wart in the API. It might\n+    /// be better to represent this as an additional gen- and\n+    /// kill-sets associated with each edge coming out of the basic\n+    /// block.\n     fn propagate_call_return(&self,\n                              ctxt: &Self::Ctxt,\n                              in_out: &mut IdxSet<Self::Idx>,"}]}