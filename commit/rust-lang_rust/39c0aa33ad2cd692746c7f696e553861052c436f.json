{"sha": "39c0aa33ad2cd692746c7f696e553861052c436f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM5YzBhYTMzYWQyY2Q2OTI3NDZjN2Y2OTZlNTUzODYxMDUyYzQzNmY=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-02-24T01:43:48Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-02-24T06:38:32Z"}, "message": "Rollup merge of #22726 - semarie:openbsd-Wl-as-needed, r=alexcrichton\n\n The `-Wl,--as-needed` option was removed during first stages of\nbootstrapping between Linux and OpenBSD.\n\nRestore it, as it seems to be ok now.", "tree": {"sha": "c0edc2f8aae0bdabb777f52f456bc743f69b9c9f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c0edc2f8aae0bdabb777f52f456bc743f69b9c9f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/39c0aa33ad2cd692746c7f696e553861052c436f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/39c0aa33ad2cd692746c7f696e553861052c436f", "html_url": "https://github.com/rust-lang/rust/commit/39c0aa33ad2cd692746c7f696e553861052c436f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/39c0aa33ad2cd692746c7f696e553861052c436f/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ed6c33391f3f5a6c07ed355f48965c59b630a3a", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ed6c33391f3f5a6c07ed355f48965c59b630a3a", "html_url": "https://github.com/rust-lang/rust/commit/9ed6c33391f3f5a6c07ed355f48965c59b630a3a"}, {"sha": "cfd2a5cfa148b1c927571cc2e9f06e242831b696", "url": "https://api.github.com/repos/rust-lang/rust/commits/cfd2a5cfa148b1c927571cc2e9f06e242831b696", "html_url": "https://github.com/rust-lang/rust/commit/cfd2a5cfa148b1c927571cc2e9f06e242831b696"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "759147b939cb850a5f84279de7d8859e850c9c9d", "filename": "src/librustc_back/target/openbsd_base.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/39c0aa33ad2cd692746c7f696e553861052c436f/src%2Flibrustc_back%2Ftarget%2Fopenbsd_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39c0aa33ad2cd692746c7f696e553861052c436f/src%2Flibrustc_back%2Ftarget%2Fopenbsd_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fopenbsd_base.rs?ref=39c0aa33ad2cd692746c7f696e553861052c436f", "patch": "@@ -20,6 +20,11 @@ pub fn opts() -> TargetOptions {\n         linker_is_gnu: true,\n         has_rpath: true,\n         pre_link_args: vec!(\n+            // GNU-style linkers will use this to omit linking to libraries\n+            // which don't actually fulfill any relocations, but only for\n+            // libraries which follow this flag.  Thus, use it before\n+            // specifying libraries to link to.\n+            \"-Wl,--as-needed\".to_string(),\n         ),\n         position_independent_executables: true,\n         .. Default::default()"}]}