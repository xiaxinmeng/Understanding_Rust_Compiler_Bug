{"sha": "ee40a67cd9283a9e8b0de87926581456252c6c9f", "node_id": "C_kwDOAAsO6NoAKGVlNDBhNjdjZDkyODNhOWU4YjBkZTg3OTI2NTgxNDU2MjUyYzZjOWY", "commit": {"author": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-12-12T17:06:24Z"}, "committer": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-12-12T17:06:24Z"}, "message": "remove unnecessary uses of `clone`", "tree": {"sha": "61de3c03f9e0643c40ddc028094bf1aeccd58792", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/61de3c03f9e0643c40ddc028094bf1aeccd58792"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee40a67cd9283a9e8b0de87926581456252c6c9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee40a67cd9283a9e8b0de87926581456252c6c9f", "html_url": "https://github.com/rust-lang/rust/commit/ee40a67cd9283a9e8b0de87926581456252c6c9f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee40a67cd9283a9e8b0de87926581456252c6c9f/comments", "author": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f34356eaceeb5540f4e2e20abc1d824daf395806", "url": "https://api.github.com/repos/rust-lang/rust/commits/f34356eaceeb5540f4e2e20abc1d824daf395806", "html_url": "https://github.com/rust-lang/rust/commit/f34356eaceeb5540f4e2e20abc1d824daf395806"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "7b8c0d79a17e8519f3fc79a3f65149db2f2537dc", "filename": "compiler/rustc_ast/src/token.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_ast%2Fsrc%2Ftoken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_ast%2Fsrc%2Ftoken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast%2Fsrc%2Ftoken.rs?ref=ee40a67cd9283a9e8b0de87926581456252c6c9f", "patch": "@@ -114,7 +114,7 @@ impl Lit {\n                 if let NtExpr(expr) | NtLiteral(expr) = &**nt\n                 && let ast::ExprKind::Lit(token_lit) = expr.kind =>\n             {\n-                Some(token_lit.clone())\n+                Some(token_lit)\n             }\n             _ => None,\n         }"}, {"sha": "039338f543cc591b19b88055b80f6888d47a9310", "filename": "compiler/rustc_ast_passes/src/feature_gate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs?ref=ee40a67cd9283a9e8b0de87926581456252c6c9f", "patch": "@@ -630,7 +630,7 @@ fn check_incompatible_features(sess: &Session) {\n             {\n                 let spans = vec![f1_span, f2_span];\n                 sess.struct_span_err(\n-                    spans.clone(),\n+                    spans,\n                     &format!(\n                         \"features `{}` and `{}` are incompatible, using them at the same time \\\n                         is not allowed\","}, {"sha": "5fb4dcf09f5df920d9ed096e8dd9a8b517d42056", "filename": "compiler/rustc_borrowck/src/diagnostics/conflict_errors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs?ref=ee40a67cd9283a9e8b0de87926581456252c6c9f", "patch": "@@ -745,7 +745,7 @@ impl<'cx, 'tcx> MirBorrowckCtxt<'cx, 'tcx> {\n             err.span_suggestion_verbose(\n                 span.shrink_to_hi(),\n                 \"consider cloning the value if the performance cost is acceptable\",\n-                \".clone()\".to_string(),\n+                \".clone()\",\n                 Applicability::MachineApplicable,\n             );\n         }"}, {"sha": "dcf500ddbd3c8d9fc576d6eb8de1261a05f129b8", "filename": "compiler/rustc_builtin_macros/src/alloc_error_handler.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_builtin_macros%2Fsrc%2Falloc_error_handler.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_builtin_macros%2Fsrc%2Falloc_error_handler.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Falloc_error_handler.rs?ref=ee40a67cd9283a9e8b0de87926581456252c6c9f", "patch": "@@ -32,7 +32,7 @@ pub fn expand(\n             (item, true, ecx.with_def_site_ctxt(fn_kind.sig.span))\n         } else {\n             ecx.sess.parse_sess.span_diagnostic.span_err(item.span(), \"alloc_error_handler must be a function\");\n-            return vec![orig_item.clone()];\n+            return vec![orig_item];\n         };\n \n     // Generate a bunch of new items using the AllocFnFactory"}, {"sha": "392bd93ff84144bea2a1fee8e36cf86c21537034", "filename": "compiler/rustc_builtin_macros/src/concat_bytes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_builtin_macros%2Fsrc%2Fconcat_bytes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_builtin_macros%2Fsrc%2Fconcat_bytes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Fconcat_bytes.rs?ref=ee40a67cd9283a9e8b0de87926581456252c6c9f", "patch": "@@ -196,7 +196,7 @@ pub fn expand_concat_bytes(\n         }\n     }\n     if !missing_literals.is_empty() {\n-        let mut err = cx.struct_span_err(missing_literals.clone(), \"expected a byte literal\");\n+        let mut err = cx.struct_span_err(missing_literals, \"expected a byte literal\");\n         err.note(\"only byte literals (like `b\\\"foo\\\"`, `b's'`, and `[3, 4, 5]`) can be passed to `concat_bytes!()`\");\n         err.emit();\n         return base::MacEager::expr(DummyResult::raw_expr(sp, true));"}, {"sha": "b5e0736774f798120643830601aba354f3884353", "filename": "compiler/rustc_codegen_llvm/src/back/lto.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Flto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Flto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fback%2Flto.rs?ref=ee40a67cd9283a9e8b0de87926581456252c6c9f", "patch": "@@ -206,7 +206,7 @@ pub(crate) fn run_thin(\n }\n \n pub(crate) fn prepare_thin(module: ModuleCodegen<ModuleLlvm>) -> (String, ThinBuffer) {\n-    let name = module.name.clone();\n+    let name = module.name;\n     let buffer = ThinBuffer::new(module.module_llvm.llmod(), true);\n     (name, buffer)\n }"}, {"sha": "9bd2202d2601e6f54dcb7a7bac0a5c001e2eb325", "filename": "compiler/rustc_infer/src/infer/error_reporting/nice_region_error/static_impl_trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fstatic_impl_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee40a67cd9283a9e8b0de87926581456252c6c9f/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fstatic_impl_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fstatic_impl_trait.rs?ref=ee40a67cd9283a9e8b0de87926581456252c6c9f", "patch": "@@ -330,7 +330,7 @@ pub fn suggest_new_region_bound(\n                             Applicability::MaybeIncorrect,\n                         );\n                     }\n-                    if let Some((param_span, param_ty)) = param.clone() {\n+                    if let Some((param_span, ref param_ty)) = param {\n                         err.span_suggestion_verbose(\n                             param_span,\n                             add_static_bound,"}]}