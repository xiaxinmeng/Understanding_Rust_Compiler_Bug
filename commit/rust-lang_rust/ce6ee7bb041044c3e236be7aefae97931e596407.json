{"sha": "ce6ee7bb041044c3e236be7aefae97931e596407", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlNmVlN2JiMDQxMDQ0YzNlMjM2YmU3YWVmYWU5NzkzMWU1OTY0MDc=", "commit": {"author": {"name": "Brendan Zabarauskas", "email": "bjzaba@yahoo.com.au", "date": "2013-04-13T16:19:35Z"}, "committer": {"name": "Brendan Zabarauskas", "email": "bjzaba@yahoo.com.au", "date": "2013-04-13T16:19:35Z"}, "message": "Restore Num trait\n\nThis restores the trait that was lost in 216e85fadf465c25fe7bc4a9f06f8162ec12b552. It will eventually be broken up into a more fine-grained trait hierarchy in the future once a design can be agreed upon.", "tree": {"sha": "32077b5a247e5a07c34e1deff7b62b0da50d2ddf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/32077b5a247e5a07c34e1deff7b62b0da50d2ddf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce6ee7bb041044c3e236be7aefae97931e596407", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce6ee7bb041044c3e236be7aefae97931e596407", "html_url": "https://github.com/rust-lang/rust/commit/ce6ee7bb041044c3e236be7aefae97931e596407", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce6ee7bb041044c3e236be7aefae97931e596407/comments", "author": {"login": "brendanzab", "id": 695077, "node_id": "MDQ6VXNlcjY5NTA3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendanzab", "html_url": "https://github.com/brendanzab", "followers_url": "https://api.github.com/users/brendanzab/followers", "following_url": "https://api.github.com/users/brendanzab/following{/other_user}", "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions", "organizations_url": "https://api.github.com/users/brendanzab/orgs", "repos_url": "https://api.github.com/users/brendanzab/repos", "events_url": "https://api.github.com/users/brendanzab/events{/privacy}", "received_events_url": "https://api.github.com/users/brendanzab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brendanzab", "id": 695077, "node_id": "MDQ6VXNlcjY5NTA3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/695077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendanzab", "html_url": "https://github.com/brendanzab", "followers_url": "https://api.github.com/users/brendanzab/followers", "following_url": "https://api.github.com/users/brendanzab/following{/other_user}", "gists_url": "https://api.github.com/users/brendanzab/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendanzab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendanzab/subscriptions", "organizations_url": "https://api.github.com/users/brendanzab/orgs", "repos_url": "https://api.github.com/users/brendanzab/repos", "events_url": "https://api.github.com/users/brendanzab/events{/privacy}", "received_events_url": "https://api.github.com/users/brendanzab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fde6995229ff1bf99fccbcfee8b55e27afdb11ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/fde6995229ff1bf99fccbcfee8b55e27afdb11ec", "html_url": "https://github.com/rust-lang/rust/commit/fde6995229ff1bf99fccbcfee8b55e27afdb11ec"}], "stats": {"total": 36, "additions": 29, "deletions": 7}, "files": [{"sha": "41db07ca34c577e3dc3fdaa31904bb8bfe130985", "filename": "src/libcore/core.rc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Flibcore%2Fcore.rc", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Flibcore%2Fcore.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcore.rc?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -99,7 +99,7 @@ pub use vec::{OwnedVector, OwnedCopyableVector};\n pub use iter::{BaseIter, ExtendedIter, EqIter, CopyableIter};\n pub use iter::{CopyableOrderedIter, CopyableNonstrictIter, Times};\n \n-pub use num::NumCast;\n+pub use num::{Num, NumCast};\n pub use ptr::Ptr;\n pub use to_str::ToStr;\n pub use clone::Clone;"}, {"sha": "333c7ce02b28154259d49d6448da1b98afbb95a3", "filename": "src/libcore/num/num.rs", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Flibcore%2Fnum%2Fnum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Flibcore%2Fnum%2Fnum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fnum%2Fnum.rs?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -16,6 +16,28 @@ use kinds::Copy;\n \n pub mod strconv;\n \n+pub trait Num: Eq + Zero + One\n+             + Neg<Self>\n+             + Add<Self,Self>\n+             + Sub<Self,Self>\n+             + Mul<Self,Self>\n+             + Div<Self,Self>\n+             + Modulo<Self,Self> {}\n+\n+impl Num for u8 {}\n+impl Num for u16 {}\n+impl Num for u32 {}\n+impl Num for u64 {}\n+impl Num for uint {}\n+impl Num for i8 {}\n+impl Num for i16 {}\n+impl Num for i32 {}\n+impl Num for i64 {}\n+impl Num for int {}\n+impl Num for f32 {}\n+impl Num for f64 {}\n+impl Num for float {}\n+\n pub trait IntConvertible {\n     fn to_int(&self) -> int;\n     fn from_int(n: int) -> Self;"}, {"sha": "e148493ca45121a29f39fec847ed9837f5a5fd4a", "filename": "src/libcore/prelude.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Flibcore%2Fprelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Flibcore%2Fprelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fprelude.rs?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -34,7 +34,7 @@ pub use hash::Hash;\n pub use iter::{BaseIter, ReverseIter, MutableIter, ExtendedIter, EqIter};\n pub use iter::{CopyableIter, CopyableOrderedIter, CopyableNonstrictIter};\n pub use iter::Times;\n-pub use num::NumCast;\n+pub use num::{Num, NumCast};\n pub use path::GenericPath;\n pub use path::Path;\n pub use path::PosixPath;"}, {"sha": "0fb2a6b2e724bf7c453f146025161c831525e196", "filename": "src/test/run-pass/trait-inheritance-num.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num.rs?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -16,7 +16,7 @@ use core::cmp::{Eq, Ord};\n use core::num::NumCast::from;\n use std::cmp::FuzzyEq;\n \n-pub trait NumExt: NumCast + Eq + Ord {}\n+pub trait NumExt: Num + NumCast + Eq + Ord {}\n \n pub trait FloatExt: NumExt + FuzzyEq<Self> {}\n "}, {"sha": "d580b99012fa5a3b6878f27eaaceb1519bd32b7d", "filename": "src/test/run-pass/trait-inheritance-num1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num1.rs?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -11,7 +11,7 @@\n use core::cmp::Ord;\n use core::num::NumCast::from;\n \n-pub trait NumExt: NumCast + Ord { }\n+pub trait NumExt: Num + NumCast + Ord { }\n \n fn greater_than_one<T:NumExt>(n: &T) -> bool {\n     *n > from(1)"}, {"sha": "b40f647814f0c87cdfb17b55b4d45cb8491b475d", "filename": "src/test/run-pass/trait-inheritance-num2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num2.rs?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -38,7 +38,7 @@ impl TypeExt for f64 {}\n impl TypeExt for float {}\n \n \n-pub trait NumExt: TypeExt + Eq + Ord + NumCast {}\n+pub trait NumExt: TypeExt + Eq + Ord + Num + NumCast {}\n \n impl NumExt for u8 {}\n impl NumExt for u16 {}"}, {"sha": "5f1fef80ef20139e00fe2b059ff7e72d29f43104", "filename": "src/test/run-pass/trait-inheritance-num3.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num3.rs?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -11,7 +11,7 @@\n use core::cmp::{Eq, Ord};\n use core::num::NumCast::from;\n \n-pub trait NumExt: Eq + Ord + NumCast {}\n+pub trait NumExt: Eq + Ord + Num + NumCast {}\n \n impl NumExt for f32 {}\n "}, {"sha": "02cc9a3d221f8f8db465eb16cfad3c7ab2c8a476", "filename": "src/test/run-pass/trait-inheritance-num5.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num5.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce6ee7bb041044c3e236be7aefae97931e596407/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num5.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftrait-inheritance-num5.rs?ref=ce6ee7bb041044c3e236be7aefae97931e596407", "patch": "@@ -11,7 +11,7 @@\n use core::cmp::{Eq, Ord};\n use core::num::NumCast::from;\n \n-pub trait NumExt: Eq + NumCast {}\n+pub trait NumExt: Eq + Num + NumCast {}\n \n impl NumExt for f32 {}\n impl NumExt for int {}"}]}