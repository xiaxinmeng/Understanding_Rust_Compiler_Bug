{"sha": "842f9d8616af2b652bbfe6d568a45106c6a12ffe", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0MmY5ZDg2MTZhZjJiNjUyYmJmZTZkNTY4YTQ1MTA2YzZhMTJmZmU=", "commit": {"author": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2012-05-24T20:58:45Z"}, "committer": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2012-05-25T22:16:17Z"}, "message": "Remove from_const hack from vec.rs.", "tree": {"sha": "de5cb5800e2eced87cd00795ba9251c675c291b9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/de5cb5800e2eced87cd00795ba9251c675c291b9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/842f9d8616af2b652bbfe6d568a45106c6a12ffe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/842f9d8616af2b652bbfe6d568a45106c6a12ffe", "html_url": "https://github.com/rust-lang/rust/commit/842f9d8616af2b652bbfe6d568a45106c6a12ffe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/842f9d8616af2b652bbfe6d568a45106c6a12ffe/comments", "author": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "266fdd032b3b5ab7c573352f8bfbcb948d794dd6", "url": "https://api.github.com/repos/rust-lang/rust/commits/266fdd032b3b5ab7c573352f8bfbcb948d794dd6", "html_url": "https://github.com/rust-lang/rust/commit/266fdd032b3b5ab7c573352f8bfbcb948d794dd6"}], "stats": {"total": 11, "additions": 2, "deletions": 9}, "files": [{"sha": "c72cef85cd137f7c334819c41cec3518db35eb34", "filename": "src/libcore/vec.rs", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/842f9d8616af2b652bbfe6d568a45106c6a12ffe/src%2Flibcore%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/842f9d8616af2b652bbfe6d568a45106c6a12ffe/src%2Flibcore%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fvec.rs?ref=842f9d8616af2b652bbfe6d568a45106c6a12ffe", "patch": "@@ -199,13 +199,6 @@ fn from_mut<T>(+v: [mut T]) -> [T] unsafe {\n     r\n }\n \n-// This function only exists to work around bugs in the type checker.\n-fn from_const<T>(+v: [const T]) -> [T] unsafe {\n-    let r = ::unsafe::reinterpret_cast(v);\n-    ::unsafe::forget(v);\n-    r\n-}\n-\n // Accessors\n \n #[doc = \"Returns the first element of a vector\"]\n@@ -534,7 +527,7 @@ Flattens a vector of vectors of T into a single vector of T.\n \"]\n fn concat<T: copy>(v: [const [const T]]) -> [T] {\n     let mut r = [];\n-    for each(v) {|inner| r += from_const(inner); }\n+    for each(v) {|inner| r += inner; }\n     ret r;\n }\n \n@@ -546,7 +539,7 @@ fn connect<T: copy>(v: [const [const T]], sep: T) -> [T] {\n     let mut first = true;\n     for each(v) {|inner|\n         if first { first = false; } else { push(r, sep); }\n-        r += from_const(inner);\n+        r += inner;\n     }\n     ret r;\n }"}]}