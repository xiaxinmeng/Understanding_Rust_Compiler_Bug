{"sha": "4757d9bcc41ca59b6d52bd85d57faab0b71802e9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3NTdkOWJjYzQxY2E1OWI2ZDUyYmQ4NWQ1N2ZhYWIwYjcxODAyZTk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-24T21:17:00Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-24T21:17:00Z"}, "message": "Auto merge of #26185 - dhuseby:fixing_freebsd_configure, r=brson\n\nOn FreeBSD machines without GCC installed, the configure script will now fall back to using clang.", "tree": {"sha": "e587b7a3048657d33a60a3d7a2a59c3e4a61c23e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e587b7a3048657d33a60a3d7a2a59c3e4a61c23e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4757d9bcc41ca59b6d52bd85d57faab0b71802e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4757d9bcc41ca59b6d52bd85d57faab0b71802e9", "html_url": "https://github.com/rust-lang/rust/commit/4757d9bcc41ca59b6d52bd85d57faab0b71802e9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4757d9bcc41ca59b6d52bd85d57faab0b71802e9/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "21dd4e2a0627daa2f9023084e253e75ccfaa5137", "url": "https://api.github.com/repos/rust-lang/rust/commits/21dd4e2a0627daa2f9023084e253e75ccfaa5137", "html_url": "https://github.com/rust-lang/rust/commit/21dd4e2a0627daa2f9023084e253e75ccfaa5137"}, {"sha": "44d487d37ca2a29c26ca46106955d85482b3754f", "url": "https://api.github.com/repos/rust-lang/rust/commits/44d487d37ca2a29c26ca46106955d85482b3754f", "html_url": "https://github.com/rust-lang/rust/commit/44d487d37ca2a29c26ca46106955d85482b3754f"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "891f524a706e0848d0ed12e650e841f6735cfd09", "filename": "configure", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/4757d9bcc41ca59b6d52bd85d57faab0b71802e9/configure", "raw_url": "https://github.com/rust-lang/rust/raw/4757d9bcc41ca59b6d52bd85d57faab0b71802e9/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=4757d9bcc41ca59b6d52bd85d57faab0b71802e9", "patch": "@@ -899,6 +899,18 @@ then\n     fi\n fi\n \n+# If the clang isn't already enabled, check for GCC, and if it is missing, turn\n+# on clang as a backup.\n+if [ -z \"$CFG_ENABLE_CLANG\" ]\n+then\n+  CFG_GCC_VERSION=$(\"$CFG_GCC\" --version 2>&1)\n+  if [ $? -ne 0 ]\n+  then\n+    step_msg \"GCC not installed, will try using Clang\"\n+    CFG_ENABLE_CLANG=1\n+  fi\n+fi\n+\n # Okay, at this point, we have made up our minds about whether we are\n # going to force CFG_ENABLE_CLANG or not; save the setting if so.\n if [ ! -z \"$CFG_ENABLE_CLANG\" ]"}]}