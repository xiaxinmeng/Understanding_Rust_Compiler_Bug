{"sha": "0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBhNGQ5NDhiNGE4YzY5ZGUwZTNmZGIyMzFmZGIxNDA5Nzg0OWY2Y2U=", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2020-06-07T16:45:10Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2020-10-22T20:35:32Z"}, "message": "Remove unused ProfileCategory.", "tree": {"sha": "2f41a210fc4f5b80607c2c02748ebe03e89bf98d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f41a210fc4f5b80607c2c02748ebe03e89bf98d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "html_url": "https://github.com/rust-lang/rust/commit/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "500ddc5efda9d4b0c8f90b654d220ffc9e24ecb5", "url": "https://api.github.com/repos/rust-lang/rust/commits/500ddc5efda9d4b0c8f90b654d220ffc9e24ecb5", "html_url": "https://github.com/rust-lang/rust/commit/500ddc5efda9d4b0c8f90b654d220ffc9e24ecb5"}], "stats": {"total": 16, "additions": 0, "deletions": 16}, "files": [{"sha": "0ae3c75fcc2cbafd1364405568e907a75e2fd724", "filename": "compiler/rustc_data_structures/src/profiling.rs", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_data_structures%2Fsrc%2Fprofiling.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_data_structures%2Fsrc%2Fprofiling.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Fprofiling.rs?ref=0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "patch": "@@ -111,17 +111,6 @@ cfg_if! {\n \n type Profiler = measureme::Profiler<SerializationSink>;\n \n-#[derive(Clone, Copy, Debug, PartialEq, Eq, Ord, PartialOrd)]\n-pub enum ProfileCategory {\n-    Parsing,\n-    Expansion,\n-    TypeChecking,\n-    BorrowChecking,\n-    Codegen,\n-    Linking,\n-    Other,\n-}\n-\n bitflags::bitflags! {\n     struct EventFilter: u32 {\n         const GENERIC_ACTIVITIES = 1 << 0;"}, {"sha": "0becd7326b19c883250c92fc009fed2c610fbd8a", "filename": "compiler/rustc_middle/src/ty/query/mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery%2Fmod.rs?ref=0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "patch": "@@ -34,7 +34,6 @@ use crate::ty::util::AlwaysRequiresDrop;\n use crate::ty::{self, AdtSizedConstraint, CrateInherentImpls, ParamEnvAnd, Ty, TyCtxt};\n use rustc_data_structures::fingerprint::Fingerprint;\n use rustc_data_structures::fx::{FxHashMap, FxHashSet, FxIndexMap};\n-use rustc_data_structures::profiling::ProfileCategory::*;\n use rustc_data_structures::stable_hasher::StableVec;\n use rustc_data_structures::svh::Svh;\n use rustc_data_structures::sync::Lrc;"}, {"sha": "df79c4c9601d9577f58809e404198a5f66c2fe5a", "filename": "compiler/rustc_middle/src/ty/query/plumbing.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery%2Fplumbing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery%2Fplumbing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery%2Fplumbing.rs?ref=0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "patch": "@@ -268,7 +268,6 @@ macro_rules! define_queries_inner {\n             rustc_data_structures::stable_hasher::StableHasher,\n             ich::StableHashingContext\n         };\n-        use rustc_data_structures::profiling::ProfileCategory;\n \n         define_queries_struct! {\n             tcx: $tcx,\n@@ -362,7 +361,6 @@ macro_rules! define_queries_inner {\n                 as QueryStorage\n             >::Stored;\n             const NAME: &'static str = stringify!($name);\n-            const CATEGORY: ProfileCategory = $category;\n         }\n \n         impl<$tcx> QueryAccessors<TyCtxt<$tcx>> for queries::$name<$tcx> {"}, {"sha": "0f0684b354791b549120d1e29101ac9a0095955b", "filename": "compiler/rustc_query_system/src/query/config.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_query_system%2Fsrc%2Fquery%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a4d948b4a8c69de0e3fdb231fdb14097849f6ce/compiler%2Frustc_query_system%2Fsrc%2Fquery%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_query_system%2Fsrc%2Fquery%2Fconfig.rs?ref=0a4d948b4a8c69de0e3fdb231fdb14097849f6ce", "patch": "@@ -5,7 +5,6 @@ use crate::dep_graph::SerializedDepNodeIndex;\n use crate::query::caches::QueryCache;\n use crate::query::plumbing::CycleError;\n use crate::query::{QueryContext, QueryState};\n-use rustc_data_structures::profiling::ProfileCategory;\n \n use rustc_data_structures::fingerprint::Fingerprint;\n use std::borrow::Cow;\n@@ -14,7 +13,6 @@ use std::hash::Hash;\n \n pub trait QueryConfig {\n     const NAME: &'static str;\n-    const CATEGORY: ProfileCategory;\n \n     type Key: Eq + Hash + Clone + Debug;\n     type Value;"}]}