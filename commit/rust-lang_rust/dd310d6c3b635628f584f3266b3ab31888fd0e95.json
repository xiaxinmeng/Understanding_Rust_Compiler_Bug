{"sha": "dd310d6c3b635628f584f3266b3ab31888fd0e95", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkMzEwZDZjM2I2MzU2MjhmNTg0ZjMyNjZiM2FiMzE4ODhmZDBlOTU=", "commit": {"author": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2013-04-18T21:48:59Z"}, "committer": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2013-04-30T23:31:45Z"}, "message": "Got test cases to pass, after some major surgery", "tree": {"sha": "d3fab7a6f5d9432ef2941520179b398f0f41a99f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d3fab7a6f5d9432ef2941520179b398f0f41a99f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dd310d6c3b635628f584f3266b3ab31888fd0e95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dd310d6c3b635628f584f3266b3ab31888fd0e95", "html_url": "https://github.com/rust-lang/rust/commit/dd310d6c3b635628f584f3266b3ab31888fd0e95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dd310d6c3b635628f584f3266b3ab31888fd0e95/comments", "author": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9455eaf77bef8f225e146e61107d26010f137b51", "url": "https://api.github.com/repos/rust-lang/rust/commits/9455eaf77bef8f225e146e61107d26010f137b51", "html_url": "https://github.com/rust-lang/rust/commit/9455eaf77bef8f225e146e61107d26010f137b51"}], "stats": {"total": 37, "additions": 21, "deletions": 16}, "files": [{"sha": "1873aca5909ca1695d148f82a3d3c6ea888f4ae0", "filename": "src/test/auxiliary/issue2378a.rs", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/dd310d6c3b635628f584f3266b3ab31888fd0e95/src%2Ftest%2Fauxiliary%2Fissue2378a.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dd310d6c3b635628f584f3266b3ab31888fd0e95/src%2Ftest%2Fauxiliary%2Fissue2378a.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fissue2378a.rs?ref=dd310d6c3b635628f584f3266b3ab31888fd0e95", "patch": "@@ -8,13 +8,16 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#[link (name = \"issue2378a\")];\n+#[crate_type = \"lib\"];\n+\n enum maybe<T> { just(T), nothing }\n \n-impl copy> for maybe<T> for methods<T {\n-    fn ~[](idx: uint) -> T {\n+impl <T:Copy> Index<uint,T> for maybe<T> {\n+    fn index(&self, idx: &uint) -> T {\n         match self {\n-          just(t) { t }\n-          nothing { fail!(); }\n+            &just(ref t) => copy *t,\n+            &nothing => { fail!(); }\n         }\n     }\n }"}, {"sha": "20f07a5cb546b2cac515e3ec4609bef2eecdb1c2", "filename": "src/test/auxiliary/issue2378b.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/dd310d6c3b635628f584f3266b3ab31888fd0e95/src%2Ftest%2Fauxiliary%2Fissue2378b.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dd310d6c3b635628f584f3266b3ab31888fd0e95/src%2Ftest%2Fauxiliary%2Fissue2378b.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fissue2378b.rs?ref=dd310d6c3b635628f584f3266b3ab31888fd0e95", "patch": "@@ -8,15 +8,17 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use issue2378a;\n+#[link (name = \"issue2378b\")];\n+#[crate_type = \"lib\"];\n+\n+extern mod issue2378a;\n \n use issue2378a::maybe;\n-use issue2378a::methods;\n \n-type two_maybes<T> = {a: maybe<T>, b: maybe<T>};\n+struct two_maybes<T> {a: maybe<T>, b: maybe<T>}\n \n-impl copy> for two_maybes<T> for methods<T {\n-    fn ~[](idx: uint) -> (T, T) {\n-        (self.a[idx], self.b[idx])\n+impl <T:Copy> Index<uint,(T,T)> for two_maybes<T> {\n+    fn index(&self, idx: &uint) -> (T, T) {\n+        (self.a[*idx], self.b[*idx])\n     }\n }"}, {"sha": "98e60c56476d8a9e92faf20f08271b556ce150e9", "filename": "src/test/run-pass/issue2378c.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/dd310d6c3b635628f584f3266b3ab31888fd0e95/src%2Ftest%2Frun-pass%2Fissue2378c.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dd310d6c3b635628f584f3266b3ab31888fd0e95/src%2Ftest%2Frun-pass%2Fissue2378c.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue2378c.rs?ref=dd310d6c3b635628f584f3266b3ab31888fd0e95", "patch": "@@ -8,17 +8,17 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// xfail-test -- #2378 unfixed \n // aux-build:issue2378a.rs\n // aux-build:issue2378b.rs\n+// xfail-fast - check-fast doesn't understand aux-build\n \n-use issue2378a;\n-use issue2378b;\n+extern mod issue2378a;\n+extern mod issue2378b;\n \n-use issue2378a::{just, methods};\n-use issue2378b::{methods};\n+use issue2378a::{just};\n+use issue2378b::{two_maybes};\n \n pub fn main() {\n-    let x = {a: just(3), b: just(5)};\n+    let x = two_maybes{a: just(3), b: just(5)};\n     assert!(x[0u] == (3, 5));\n }"}]}