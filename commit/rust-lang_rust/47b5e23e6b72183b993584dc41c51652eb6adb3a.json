{"sha": "47b5e23e6b72183b993584dc41c51652eb6adb3a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3YjVlMjNlNmI3MjE4M2I5OTM1ODRkYzQxYzUxNjUyZWI2YWRiM2E=", "commit": {"author": {"name": "Dale Wijnand", "email": "dale.wijnand@gmail.com", "date": "2018-11-26T18:36:03Z"}, "committer": {"name": "Dale Wijnand", "email": "dale.wijnand@gmail.com", "date": "2018-11-26T18:36:03Z"}, "message": "Introduce ptr::hash for references", "tree": {"sha": "82e7ace523f4bf25a05164b15fed7357a9c12f4e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/82e7ace523f4bf25a05164b15fed7357a9c12f4e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/47b5e23e6b72183b993584dc41c51652eb6adb3a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEERGS9JmrgEHKCFADQTyVuPRUd9e8FAlv8PRMACgkQTyVuPRUd\n9e+fmRAAhK5qluCo7EnyadJaBbzCVS1KIiRxO1dU5v2/fQi9GiWKga2FjvWIQ/cw\nJJ9p4w6ERYEjm0rprHYZfwm9gjkGcenjCPu3eydHdkPR2mPTMj1qKqbZfhspWrvH\nLXpZN6KDyG8AkrdpUJtNKHvvHQGZk88Dmsr/zt7SfRhAzmZmFe1Qze25+VPg0bAZ\n7nznwBZ99eMTcGpLBgapdngmd5IvwTkAHQ3DDZcI54RAN950ksWycORRFYcpp0Kl\nbzVTtZYfGOb4EaE6ia+qA40GuiJlN24jXbvF6hogclFMN4mARrNKZfIRrEG1Neiv\nK+t5CMQ6lQ/2MdKpu28hhF59mr9fQMp+Lw3Fy729clWG+PBoXAK1jUfI0xSGqdny\ntQh4UkcTRh33Onehb01XGADh9qYzHOIR8xHAEp7DTXY/KcpJ6f86m3mbq2tLhJD+\nkMAs9uPSljYfM9RgYfABzGtq/JrALmtmBr1tE/H7vL6c4yTH2lrgrRdvn1Ejdh0k\neoc915AQHAXItwxkvBKxIGLjdJU2d4+nPtECndf69+iQpUvQKvM1SF5JK1K+p4Ov\n5MkIj0TT1SuodRIZDuXobx3S9+VlqhCxKvb/7+JrL0vPGWuRg+TvgQ5TQclDSoU4\nxlfbVlR5xWxWAnyLP7gSZC53POPWhG3ByX9EbwBnnqxsO6Ww9gw=\n=lV5T\n-----END PGP SIGNATURE-----", "payload": "tree 82e7ace523f4bf25a05164b15fed7357a9c12f4e\nparent 6bfb46e4ac9a2704f06de1a2ff7a4612cd70c8cb\nauthor Dale Wijnand <dale.wijnand@gmail.com> 1543257363 +0000\ncommitter Dale Wijnand <dale.wijnand@gmail.com> 1543257363 +0000\n\nIntroduce ptr::hash for references\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/47b5e23e6b72183b993584dc41c51652eb6adb3a", "html_url": "https://github.com/rust-lang/rust/commit/47b5e23e6b72183b993584dc41c51652eb6adb3a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/47b5e23e6b72183b993584dc41c51652eb6adb3a/comments", "author": {"login": "dwijnand", "id": 344610, "node_id": "MDQ6VXNlcjM0NDYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/344610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwijnand", "html_url": "https://github.com/dwijnand", "followers_url": "https://api.github.com/users/dwijnand/followers", "following_url": "https://api.github.com/users/dwijnand/following{/other_user}", "gists_url": "https://api.github.com/users/dwijnand/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwijnand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwijnand/subscriptions", "organizations_url": "https://api.github.com/users/dwijnand/orgs", "repos_url": "https://api.github.com/users/dwijnand/repos", "events_url": "https://api.github.com/users/dwijnand/events{/privacy}", "received_events_url": "https://api.github.com/users/dwijnand/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dwijnand", "id": 344610, "node_id": "MDQ6VXNlcjM0NDYxMA==", "avatar_url": "https://avatars.githubusercontent.com/u/344610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dwijnand", "html_url": "https://github.com/dwijnand", "followers_url": "https://api.github.com/users/dwijnand/followers", "following_url": "https://api.github.com/users/dwijnand/following{/other_user}", "gists_url": "https://api.github.com/users/dwijnand/gists{/gist_id}", "starred_url": "https://api.github.com/users/dwijnand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dwijnand/subscriptions", "organizations_url": "https://api.github.com/users/dwijnand/orgs", "repos_url": "https://api.github.com/users/dwijnand/repos", "events_url": "https://api.github.com/users/dwijnand/events{/privacy}", "received_events_url": "https://api.github.com/users/dwijnand/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6bfb46e4ac9a2704f06de1a2ff7a4612cd70c8cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/6bfb46e4ac9a2704f06de1a2ff7a4612cd70c8cb", "html_url": "https://github.com/rust-lang/rust/commit/6bfb46e4ac9a2704f06de1a2ff7a4612cd70c8cb"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "6b4ee66bb02cf8e79d4a29fb8f6d9df206b75f2b", "filename": "src/libcore/ptr.rs", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/47b5e23e6b72183b993584dc41c51652eb6adb3a/src%2Flibcore%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/47b5e23e6b72183b993584dc41c51652eb6adb3a/src%2Flibcore%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fptr.rs?ref=47b5e23e6b72183b993584dc41c51652eb6adb3a", "patch": "@@ -2509,6 +2509,29 @@ pub fn eq<T: ?Sized>(a: *const T, b: *const T) -> bool {\n     a == b\n }\n \n+/// Hash the raw pointer address behind a reference, rather than the value\n+/// it points to.\n+///\n+/// # Examples\n+///\n+/// ```\n+/// use std::collections::hash_map::DefaultHasher;\n+/// use std::hash::Hasher;\n+/// use std::ptr;\n+///\n+/// let five = 5;\n+/// let five_ref = &five;\n+///\n+/// let mut hasher = DefaultHasher::new();\n+/// ptr::hash(five_ref, hasher);\n+/// println!(\"Hash is {:x}!\", hasher.finish());\n+/// ```\n+#[stable(feature = \"rust1\", since = \"1.0.0\")] // TODO: replace with ???\n+pub fn hash<T, S: hash::Hasher>(a: &T, into: &mut S) {\n+    use hash::Hash;\n+    NonNull::from(a).hash(into)\n+}\n+\n // Impls for function pointers\n macro_rules! fnptr_impls_safety_abi {\n     ($FnTy: ty, $($Arg: ident),*) => {"}]}