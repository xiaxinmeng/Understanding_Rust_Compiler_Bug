{"sha": "7e255335d2027f32d78748b0a557014b6e14866b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdlMjU1MzM1ZDIwMjdmMzJkNzg3NDhiMGE1NTcwMTRiNmUxNDg2NmI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-11T23:45:07Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-12T19:08:26Z"}, "message": "Convert str::is_utf8 to ivecs", "tree": {"sha": "7fab68606a76321f31890e3f64fa3c15efd201bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7fab68606a76321f31890e3f64fa3c15efd201bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7e255335d2027f32d78748b0a557014b6e14866b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7e255335d2027f32d78748b0a557014b6e14866b", "html_url": "https://github.com/rust-lang/rust/commit/7e255335d2027f32d78748b0a557014b6e14866b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7e255335d2027f32d78748b0a557014b6e14866b/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2e7e58812b4b6a295c06f73b72288dcf8cd801cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/2e7e58812b4b6a295c06f73b72288dcf8cd801cb", "html_url": "https://github.com/rust-lang/rust/commit/2e7e58812b4b6a295c06f73b72288dcf8cd801cb"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "b4183ab966d34d81fb456d50250ad599877a447e", "filename": "src/lib/str.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7e255335d2027f32d78748b0a557014b6e14866b/src%2Flib%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7e255335d2027f32d78748b0a557014b6e14866b/src%2Flib%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fstr.rs?ref=7e255335d2027f32d78748b0a557014b6e14866b", "patch": "@@ -135,9 +135,9 @@ const max_five_b: uint = 67108864u;\n \n const tag_six_b: uint = 252u;\n \n-fn is_utf8(v: vec[u8]) -> bool {\n+fn is_utf8(v: &[u8]) -> bool {\n     let i = 0u;\n-    let total = vec::len[u8](v);\n+    let total = ivec::len[u8](v);\n     while i < total {\n         let chsize = utf8_char_width(v.(i));\n         if chsize == 0u { ret false; }"}, {"sha": "44ef1d78c071237fc7a3b26a0fbe4c874ea537b2", "filename": "src/test/run-pass/utf8_chars.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7e255335d2027f32d78748b0a557014b6e14866b/src%2Ftest%2Frun-pass%2Futf8_chars.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7e255335d2027f32d78748b0a557014b6e14866b/src%2Ftest%2Frun-pass%2Futf8_chars.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Futf8_chars.rs?ref=7e255335d2027f32d78748b0a557014b6e14866b", "patch": "@@ -16,10 +16,10 @@ fn main() {\n     assert (str::char_at(s, 0u) == 'e');\n     assert (str::char_at(s, 1u) == '\u00e9');\n \n-    assert (str::is_utf8(ivec::to_vec(str::bytes(s))));\n-    assert (!str::is_utf8([0x80_u8]));\n-    assert (!str::is_utf8([0xc0_u8]));\n-    assert (!str::is_utf8([0xc0_u8, 0x10_u8]));\n+    assert (str::is_utf8(str::bytes(s)));\n+    assert (!str::is_utf8(~[0x80_u8]));\n+    assert (!str::is_utf8(~[0xc0_u8]));\n+    assert (!str::is_utf8(~[0xc0_u8, 0x10_u8]));\n \n     let stack = \"a\u00d7c\u20ac\";\n     assert (str::pop_char(stack) == '\u20ac');"}]}