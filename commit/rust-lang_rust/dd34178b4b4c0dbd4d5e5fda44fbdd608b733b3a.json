{"sha": "dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkMzQxNzhiNGI0YzBkYmQ0ZDVlNWZkYTQ0ZmJkZDYwOGI3MzNiM2E=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-03-04T20:30:51Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-03-04T20:30:51Z"}, "message": "auto merge of #5211 : apasel422/rust/kate, r=graydon\n\nThese commits remove some obsolete language features, make some highlighting more correct with respect to the language spec, and introduce highlighting for macros, attributes, core traits, and the new region syntax.", "tree": {"sha": "50044fac5e247c5ceac8d1cb9ee563f7d5f62336", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/50044fac5e247c5ceac8d1cb9ee563f7d5f62336"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a", "html_url": "https://github.com/rust-lang/rust/commit/dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "40e733a1509044a5dacc0012426879a664c7a146", "url": "https://api.github.com/repos/rust-lang/rust/commits/40e733a1509044a5dacc0012426879a664c7a146", "html_url": "https://github.com/rust-lang/rust/commit/40e733a1509044a5dacc0012426879a664c7a146"}, {"sha": "39b713f93ede9c5f8d6ef7bbac3e50a64518389c", "url": "https://api.github.com/repos/rust-lang/rust/commits/39b713f93ede9c5f8d6ef7bbac3e50a64518389c", "html_url": "https://github.com/rust-lang/rust/commit/39b713f93ede9c5f8d6ef7bbac3e50a64518389c"}], "stats": {"total": 74, "additions": 62, "deletions": 12}, "files": [{"sha": "0359a56f7c184a6efe8cad8c991fac01c51d400b", "filename": "src/etc/kate/rust.xml", "status": "modified", "additions": 62, "deletions": 12, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a/src%2Fetc%2Fkate%2Frust.xml", "raw_url": "https://github.com/rust-lang/rust/raw/dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a/src%2Fetc%2Fkate%2Frust.xml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fkate%2Frust.xml?ref=dd34178b4b4c0dbd4d5e5fda44fbdd608b733b3a", "patch": "@@ -1,6 +1,13 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<!DOCTYPE language SYSTEM \"language.dtd\">\n-<language name=\"Rust\" version=\"0.4.0\" kateversion=\"2.4\" section=\"Sources\" extensions=\"*.rs;*.rc\" mimetype=\"text/x-rust\" priority=\"15\">\n+<!DOCTYPE language SYSTEM \"language.dtd\"\n+[\n+\t<!-- TODO: Kate's regex engine has very limited support for\n+\tpredefined char classes, so making rustIdent consistent with actual\n+\tRust identifiers will be a bit difficult -->\n+\t<!ENTITY rustIdent \"[a-zA-Z_][a-zA-Z_0-9]*\">\n+\t<!ENTITY rustIntSuf \"([iu](8|16|32|64)?)?\">\n+]>\n+<language name=\"Rust\" version=\"0.6\" kateversion=\"2.4\" section=\"Sources\" extensions=\"*.rs;*.rc\" mimetype=\"text/x-rust\" priority=\"15\">\n <highlighting>\n \t<list name=\"fn\">\n \t\t<item> fn </item>\n@@ -18,9 +25,7 @@\n \t\t<item> drop </item>\n \t\t<item> else </item>\n \t\t<item> enum </item>\n-\t\t<item> export </item>\n \t\t<item> extern </item>\n-\t\t<item> fail </item>\n \t\t<item> for </item>\n \t\t<item> if </item>\n \t\t<item> impl </item>\n@@ -29,7 +34,6 @@\n \t\t<item> loop </item>\n \t\t<item> match </item>\n \t\t<item> mod </item>\n-\t\t<item> move </item>\n \t\t<item> mut </item>\n \t\t<item> priv </item>\n \t\t<item> pub </item>\n@@ -43,6 +47,29 @@\n \t\t<item> use </item>\n \t\t<item> while </item>\n \t</list>\n+\t<list name=\"traits\">\n+\t\t<item> Const </item>\n+\t\t<item> Copy </item>\n+\t\t<item> Send </item>\n+\t\t<item> Owned </item>\n+\t\t<item> Eq </item>\n+\t\t<item> Ord </item>\n+\t\t<item> Num </item>\n+\t\t<item> Ptr </item>\n+\t\t<item> Drop </item>\n+\t\t<item> Add </item>\n+\t\t<item> Sub </item>\n+\t\t<item> Mul </item>\n+\t\t<item> Div </item>\n+\t\t<item> Modulo </item>\n+\t\t<item> Neg </item>\n+\t\t<item> BitAnd </item>\n+\t\t<item> BitOr </item>\n+\t\t<item> BitXor </item>\n+\t\t<item> Shl </item>\n+\t\t<item> Shr </item>\n+\t\t<item> Index </item>\n+\t</list>\n \t<list name=\"types\">\n \t\t<item> bool </item>\n \t\t<item> int </item>\n@@ -63,6 +90,7 @@\n \t\t<item> Either </item>\n \t\t<item> Option </item>\n \t\t<item> Result </item>\n+\t\t<item> Self </item>\n \t</list>\n \t<list name=\"ctypes\">\n \t\t<item> c_float </item>\n@@ -164,23 +192,33 @@\n \t\t\t<keyword String=\"type\" attribute=\"Keyword\" context=\"Type\"/>\n \t\t\t<keyword String=\"keywords\" attribute=\"Keyword\" context=\"#stay\"/>\n \t\t\t<keyword String=\"types\" attribute=\"Type\" context=\"#stay\"/>\n+\t\t\t<keyword String=\"traits\" attribute=\"Trait\" context=\"#stay\"/>\n \t\t\t<keyword String=\"ctypes\" attribute=\"CType\" context=\"#stay\"/>\n \t\t\t<keyword String=\"self\" attribute=\"Self\" context=\"#stay\"/>\n \t\t\t<keyword String=\"constants\" attribute=\"Constant\" context=\"#stay\"/>\n \t\t\t<keyword String=\"cconstants\" attribute=\"CConstant\" context=\"#stay\"/>\n \t\t\t<Detect2Chars char=\"/\" char1=\"/\" attribute=\"Comment\" context=\"Commentar 1\"/>\n \t\t\t<Detect2Chars char=\"/\" char1=\"*\" attribute=\"Comment\" context=\"Commentar 2\" beginRegion=\"Comment\"/>\n-\t\t\t<RegExpr String=\"0x[0-9a-fA-F_]+(u8|u16|u32|u64|i8|i16|i32|i64|u|i)?\" attribute=\"Number\" context=\"#stay\"/>\n-\t\t\t<RegExpr String=\"0b[0-1_]+(u8|u16|u32|u64|i8|i16|i32|i64|u|i)?\" attribute=\"Number\" context=\"#stay\"/>\n+\t\t\t<RegExpr String=\"0x[0-9a-fA-F_]+&rustIntSuf;\" attribute=\"Number\" context=\"#stay\"/>\n+\t\t\t<RegExpr String=\"0b[0-1_]+&rustIntSuf;\" attribute=\"Number\" context=\"#stay\"/>\n \t\t\t<RegExpr String=\"[0-9][0-9_]*\\.[0-9_]*([eE][+-]?[0-9_]+)?(f32|f64|f)?\" attribute=\"Number\" context=\"#stay\"/>\n-\t\t\t<RegExpr String=\"[0-9][0-9_]*(u8|u16|u32|u64|i8|i16|i32|i64|u|i)?\" attribute=\"Number\" context=\"#stay\"/>\n-\t\t\t<RegExpr String=\"[a-zA-Z_][a-zA-Z0-9_]*::\" attribute=\"Scope\"/>\n+\t\t\t<RegExpr String=\"[0-9][0-9_]*&rustIntSuf;\" attribute=\"Number\" context=\"#stay\"/>\n+\t\t\t<Detect2Chars char=\"#\" char1=\"[\" attribute=\"Attribute\" context=\"Attribute\" beginRegion=\"Attribute\"/>\n+\t\t\t<RegExpr String=\"&rustIdent;::\" attribute=\"Scope\"/>\n+\t\t\t<RegExpr String=\"&rustIdent;!\" attribute=\"Macro\"/>\n+\t\t\t<RegExpr String=\"&apos;&rustIdent;(?!&apos;)\" attribute=\"Lifetime\"/>\n \t\t\t<DetectChar char=\"{\" attribute=\"Symbol\" context=\"#stay\" beginRegion=\"Brace\" />\n \t\t\t<DetectChar char=\"}\" attribute=\"Symbol\" context=\"#stay\" endRegion=\"Brace\" />\n \t\t\t<DetectChar char=\"&quot;\" attribute=\"String\" context=\"String\"/>\n \t\t\t<DetectChar char=\"&apos;\" attribute=\"Character\" context=\"Character\"/>\n+\t\t\t<DetectChar char=\"[\" attribute=\"Symbol\" context=\"#stay\" beginRegion=\"Bracket\" />\n+\t\t\t<DetectChar char=\"]\" attribute=\"Symbol\" context=\"#stay\" endRegion=\"Bracket\" />\n \t\t\t<DetectIdentifier/>\n \t\t</context>\n+\t\t<context attribute=\"Attribute\" lineEndContext=\"#stay\" name=\"Attribute\">\n+\t\t\t<DetectChar char=\"]\" attribute=\"Attribute\" context=\"#pop\" endRegion=\"Attribute\"/>\n+\t\t\t<IncludeRules context=\"Normal\"/>\n+\t\t</context>\n \t\t<context attribute=\"Definition\" lineEndContext=\"#stay\" name=\"Function\">\n \t\t\t<DetectSpaces/>\n \t\t\t<DetectChar char=\"(\" attribute=\"Normal Text\" context=\"#pop\"/>\n@@ -193,13 +231,20 @@\n \t\t</context>\n \t\t<context attribute=\"String\" lineEndContext=\"#stay\" name=\"String\">\n \t\t\t<LineContinue attribute=\"String\" context=\"#stay\"/>\n-\t\t\t<HlCStringChar attribute=\"String Char\" context=\"#stay\"/>\n+\t\t\t<DetectChar char=\"\\\" attribute=\"CharEscape\" context=\"CharEscape\"/>\n \t\t\t<DetectChar attribute=\"String\" context=\"#pop\" char=\"&quot;\"/>\n \t\t</context>\n \t\t<context attribute=\"Character\" lineEndContext=\"#pop\" name=\"Character\">\n-\t\t\t<HlCStringChar attribute=\"Character\" context=\"#stay\"/>\n+\t\t\t<DetectChar char=\"\\\" attribute=\"CharEscape\" context=\"CharEscape\"/>\n \t\t\t<DetectChar attribute=\"Character\" context=\"#pop\" char=\"&apos;\"/>\n \t\t</context>\n+\t\t<context attribute=\"CharEscape\" lineEndContext=\"#pop\" name=\"CharEscape\">\n+\t\t\t<AnyChar String=\"nrt\\&apos;&quot;\" attribute=\"CharEscape\" context=\"#pop\"/>\n+\t\t\t<RegExpr String=\"x[0-9a-fA-F]{2}\" attribute=\"CharEscape\" context=\"#pop\"/>\n+\t\t\t<RegExpr String=\"u[0-9a-fA-F]{4}\" attribute=\"CharEscape\" context=\"#pop\"/>\n+\t\t\t<RegExpr String=\"U[0-9a-fA-F]{8}\" attribute=\"CharEscape\" context=\"#pop\"/>\n+\t\t\t<RegExpr String=\".\" attribute=\"Error\" context=\"#pop\"/>\n+\t\t</context>\n \t\t<context attribute=\"Comment\" lineEndContext=\"#pop\" name=\"Commentar 1\"/>\n \t\t<context attribute=\"Comment\" lineEndContext=\"#stay\" name=\"Commentar 2\">\n \t\t\t<DetectSpaces/>\n@@ -211,6 +256,7 @@\n \t\t<itemData name=\"Keyword\"      defStyleNum=\"dsKeyword\" color=\"#770088\" bold=\"1\"/>\n \t\t<itemData name=\"Self\"         defStyleNum=\"dsKeyword\" color=\"#FF0000\" bold=\"1\"/>\n \t\t<itemData name=\"Type\"         defStyleNum=\"dsKeyword\" color=\"#4e9a06\" bold=\"1\"/>\n+\t\t<itemData name=\"Trait\"        defStyleNum=\"dsKeyword\" color=\"#4e9a06\" bold=\"1\"/>\n \t\t<itemData name=\"CType\"        defStyleNum=\"dsNormal\" color=\"#4e9a06\"/>\n \t\t<itemData name=\"Constant\"     defStyleNum=\"dsKeyword\" color=\"#116644\"/>\n \t\t<itemData name=\"CConstant\"    defStyleNum=\"dsNormal\" color=\"#116644\"/>\n@@ -219,8 +265,12 @@\n \t\t<itemData name=\"Scope\"        defStyleNum=\"dsNormal\" color=\"#0055AA\"/>\n \t\t<itemData name=\"Number\"       defStyleNum=\"dsDecVal\" color=\"#116644\"/>\n \t\t<itemData name=\"String\"       defStyleNum=\"dsString\" color=\"#FF0000\"/>\n-\t\t<itemData name=\"String Char\"  defStyleNum=\"dsChar\" color=\"#FF0000\"/>\n+\t\t<itemData name=\"CharEscape\"   defStyleNum=\"dsChar\" color=\"#FF0000\" bold=\"1\"/>\n \t\t<itemData name=\"Character\"    defStyleNum=\"dsChar\" color=\"#FF0000\"/>\n+\t\t<itemData name=\"Macro\"        defStyleNum=\"dsOthers\"/>\n+\t\t<itemData name=\"Attribute\"    defStyleNum=\"dsOthers\"/>\n+\t\t<itemData name=\"Lifetime\"     defStyleNum=\"dsOthers\" bold=\"1\"/>\n+\t\t<itemData name=\"Error\"        defStyleNum=\"dsError\"/>\n \t</itemDatas>\n </highlighting>\n <general>"}]}