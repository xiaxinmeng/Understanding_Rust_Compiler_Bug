{"sha": "7b637b778db0ec1063662f731773dd7917790a66", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiNjM3Yjc3OGRiMGVjMTA2MzY2MmY3MzE3NzNkZDc5MTc3OTBhNjY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-12-07T07:16:44Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-12-07T07:16:44Z"}, "message": "Auto merge of #46187 - notriddle:patch-1, r=QuietMisdreavus\n\nRename C-like enum to Field-less enum\n\nThere is no need to reference the C programming language to explain this concept.", "tree": {"sha": "a90bb2b7f9614417cd4f8cec975c87298fb5cb15", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a90bb2b7f9614417cd4f8cec975c87298fb5cb15"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7b637b778db0ec1063662f731773dd7917790a66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7b637b778db0ec1063662f731773dd7917790a66", "html_url": "https://github.com/rust-lang/rust/commit/7b637b778db0ec1063662f731773dd7917790a66", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7b637b778db0ec1063662f731773dd7917790a66/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd7021fd57ad595711aaaaba03e0a058cf931056", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd7021fd57ad595711aaaaba03e0a058cf931056", "html_url": "https://github.com/rust-lang/rust/commit/bd7021fd57ad595711aaaaba03e0a058cf931056"}, {"sha": "a126a732eb47dbd13b44452820a4d2b249330126", "url": "https://api.github.com/repos/rust-lang/rust/commits/a126a732eb47dbd13b44452820a4d2b249330126", "html_url": "https://github.com/rust-lang/rust/commit/a126a732eb47dbd13b44452820a4d2b249330126"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "85ae529ae329a62cb152aa068563f1c4a9837d3a", "filename": "src/librustc/diagnostics.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7b637b778db0ec1063662f731773dd7917790a66/src%2Flibrustc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b637b778db0ec1063662f731773dd7917790a66/src%2Flibrustc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdiagnostics.rs?ref=7b637b778db0ec1063662f731773dd7917790a66", "patch": "@@ -1641,14 +1641,14 @@ impl Foo {\n These attributes do not work on typedefs, since typedefs are just aliases.\n \n Representations like `#[repr(u8)]`, `#[repr(i64)]` are for selecting the\n-discriminant size for C-like enums (when there is no associated data, e.g.\n-`enum Color {Red, Blue, Green}`), effectively setting the size of the enum to\n+discriminant size for enums with no data fields on any of the variants, e.g.\n+`enum Color {Red, Blue, Green}`, effectively setting the size of the enum to\n the size of the provided type. Such an enum can be cast to a value of the same\n type as well. In short, `#[repr(u8)]` makes the enum behave like an integer\n with a constrained set of allowed values.\n \n-Only C-like enums can be cast to numerical primitives, so this attribute will\n-not apply to structs.\n+Only field-less enums can be cast to numerical primitives, so this attribute\n+will not apply to structs.\n \n `#[repr(packed)]` reduces padding to make the struct size smaller. The\n representation of enums isn't strictly defined in Rust, and this attribute"}, {"sha": "726db7334824ec033a56ad98d5c38e4818564e35", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7b637b778db0ec1063662f731773dd7917790a66/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b637b778db0ec1063662f731773dd7917790a66/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=7b637b778db0ec1063662f731773dd7917790a66", "patch": "@@ -5995,7 +5995,7 @@ impl<'a> Parser<'a> {\n         match any_disr {\n             Some(disr_span) if !all_nullary =>\n                 self.span_err(disr_span,\n-                    \"discriminator values can only be used with a c-like enum\"),\n+                    \"discriminator values can only be used with a field-less enum\"),\n             _ => ()\n         }\n "}, {"sha": "48f629fd82873d345a3088fa886f73f6514e0d34", "filename": "src/test/parse-fail/issue-17383.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7b637b778db0ec1063662f731773dd7917790a66/src%2Ftest%2Fparse-fail%2Fissue-17383.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b637b778db0ec1063662f731773dd7917790a66/src%2Ftest%2Fparse-fail%2Fissue-17383.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fparse-fail%2Fissue-17383.rs?ref=7b637b778db0ec1063662f731773dd7917790a66", "patch": "@@ -12,7 +12,7 @@\n \n enum X {\n     A =\n-        b'a' //~ ERROR discriminator values can only be used with a c-like enum\n+        b'a' //~ ERROR discriminator values can only be used with a field-less enum\n     ,\n     B(isize)\n }"}, {"sha": "2d86589285c1aaad49f995008108430b3bcb1b1a", "filename": "src/test/parse-fail/tag-variant-disr-non-nullary.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7b637b778db0ec1063662f731773dd7917790a66/src%2Ftest%2Fparse-fail%2Ftag-variant-disr-non-nullary.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b637b778db0ec1063662f731773dd7917790a66/src%2Ftest%2Fparse-fail%2Ftag-variant-disr-non-nullary.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fparse-fail%2Ftag-variant-disr-non-nullary.rs?ref=7b637b778db0ec1063662f731773dd7917790a66", "patch": "@@ -10,7 +10,7 @@\n \n // compile-flags: -Z parse-only\n \n-//error-pattern: discriminator values can only be used with a c-like enum\n+//error-pattern: discriminator values can only be used with a field-less enum\n \n enum color {\n     red = 0xff0000,"}]}