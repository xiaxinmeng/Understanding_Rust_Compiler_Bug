{"sha": "0eae4906693b21d837dd230e1d2104ae5c3c2dde", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlYWU0OTA2NjkzYjIxZDgzN2RkMjMwZTFkMjEwNGFlNWMzYzJkZGU=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-03-24T00:28:24Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2012-03-24T00:28:24Z"}, "message": "rustc: Stub a table of borrowings", "tree": {"sha": "a993071e1d69247168905dae6d2f3a0435ba1818", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a993071e1d69247168905dae6d2f3a0435ba1818"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0eae4906693b21d837dd230e1d2104ae5c3c2dde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0eae4906693b21d837dd230e1d2104ae5c3c2dde", "html_url": "https://github.com/rust-lang/rust/commit/0eae4906693b21d837dd230e1d2104ae5c3c2dde", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0eae4906693b21d837dd230e1d2104ae5c3c2dde/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c56910fc9ac5120d8637d6121753e4dc1670a390", "url": "https://api.github.com/repos/rust-lang/rust/commits/c56910fc9ac5120d8637d6121753e4dc1670a390", "html_url": "https://github.com/rust-lang/rust/commit/c56910fc9ac5120d8637d6121753e4dc1670a390"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "233f5e38e9d73f70cdd2b55f9e8f8782fcc177e9", "filename": "src/rustc/middle/ty.rs", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0eae4906693b21d837dd230e1d2104ae5c3c2dde/src%2Frustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0eae4906693b21d837dd230e1d2104ae5c3c2dde/src%2Frustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fty.rs?ref=0eae4906693b21d837dd230e1d2104ae5c3c2dde", "patch": "@@ -177,6 +177,12 @@ enum ast_ty_to_ty_cache_entry {\n     atttce_resolved(t)  /* resolved to a type, irrespective of region */\n }\n \n+enum borrowing {\n+    bo_none,\n+    bo_box(@borrowing),\n+    bo_uniq(@borrowing)\n+}\n+\n type ctxt =\n     @{interner: hashmap<intern_key, t_box>,\n       mutable next_id: uint,\n@@ -196,7 +202,8 @@ type ctxt =\n       enum_var_cache: hashmap<def_id, @[variant_info]>,\n       iface_method_cache: hashmap<def_id, @[method]>,\n       ty_param_bounds: hashmap<ast::node_id, param_bounds>,\n-      inferred_modes: hashmap<ast::node_id, ast::mode>};\n+      inferred_modes: hashmap<ast::node_id, ast::mode>,\n+      borrowings: hashmap<ast::node_id, borrowing>};\n \n type t_box = @{struct: sty,\n                id: uint,\n@@ -381,7 +388,8 @@ fn mk_ctxt(s: session::session, dm: resolve::def_map, amap: ast_map::map,\n       enum_var_cache: new_def_hash(),\n       iface_method_cache: new_def_hash(),\n       ty_param_bounds: map::int_hash(),\n-      inferred_modes: map::int_hash()}\n+      inferred_modes: map::int_hash(),\n+      borrowings: map::int_hash()}\n }\n \n "}]}