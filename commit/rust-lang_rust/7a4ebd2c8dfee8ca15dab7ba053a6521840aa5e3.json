{"sha": "7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhNGViZDJjOGRmZWU4Y2ExNWRhYjdiYTA1M2E2NTIxODQwYWE1ZTM=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-04-02T10:56:14Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-04-02T10:56:14Z"}, "message": "Remove vscode_lldb setting", "tree": {"sha": "0dbb6b8c37601a7d0c617a1d88a342b8f4c97a32", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0dbb6b8c37601a7d0c617a1d88a342b8f4c97a32"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3", "html_url": "https://github.com/rust-lang/rust/commit/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e21bf1b2b91041be601d22c3415daf9bcb7246a8", "url": "https://api.github.com/repos/rust-lang/rust/commits/e21bf1b2b91041be601d22c3415daf9bcb7246a8", "html_url": "https://github.com/rust-lang/rust/commit/e21bf1b2b91041be601d22c3415daf9bcb7246a8"}], "stats": {"total": 38, "additions": 18, "deletions": 20}, "files": [{"sha": "f3d8773cc11b63bee72267ab81edd690e7811f6a", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3", "patch": "@@ -19,8 +19,6 @@ pub struct Config {\n \n     pub with_sysroot: bool,\n     pub publish_diagnostics: bool,\n-    // TODO: move to experimental capabilities\n-    pub vscode_lldb: bool,\n     pub lru_capacity: Option<usize>,\n     pub proc_macro_srv: Option<String>,\n     pub files: FilesConfig,\n@@ -78,7 +76,6 @@ impl Default for Config {\n \n             with_sysroot: true,\n             publish_diagnostics: true,\n-            vscode_lldb: false,\n             lru_capacity: None,\n             proc_macro_srv: None,\n             files: FilesConfig { watcher: FilesWatcher::Notify, exclude: Vec::new() },\n@@ -122,7 +119,6 @@ impl Config {\n \n         set(value, \"/withSysroot\", &mut self.with_sysroot);\n         set(value, \"/featureFlags/lsp.diagnostics\", &mut self.publish_diagnostics);\n-        set(value, \"/vscodeLldb\", &mut self.vscode_lldb);\n         set(value, \"/lruCapacity\", &mut self.lru_capacity);\n         if let Some(watcher) =  get::<String>(value, \"/files/watcher\") {\n             self.files.watcher = match watcher.as_str() {"}, {"sha": "b207f0764cde144910bdb1185dc2a6e3c7ab9b95", "filename": "crates/rust-analyzer/src/main_loop/handlers.rs", "status": "modified", "additions": 14, "deletions": 16, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop%2Fhandlers.rs?ref=7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3", "patch": "@@ -810,23 +810,21 @@ pub fn handle_code_lens(\n         };\n         lenses.push(lens);\n \n-        if world.config.vscode_lldb {\n-            if r.args[0] == \"run\" {\n-                r.args[0] = \"build\".into();\n-            } else {\n-                r.args.push(\"--no-run\".into());\n-            }\n-            let debug_lens = CodeLens {\n-                range: r.range,\n-                command: Some(Command {\n-                    title: \"Debug\".into(),\n-                    command: \"rust-analyzer.debugSingle\".into(),\n-                    arguments: Some(vec![to_value(r).unwrap()]),\n-                }),\n-                data: None,\n-            };\n-            lenses.push(debug_lens);\n+        if r.args[0] == \"run\" {\n+            r.args[0] = \"build\".into();\n+        } else {\n+            r.args.push(\"--no-run\".into());\n         }\n+        let debug_lens = CodeLens {\n+            range: r.range,\n+            command: Some(Command {\n+                title: \"Debug\".into(),\n+                command: \"rust-analyzer.debugSingle\".into(),\n+                arguments: Some(vec![to_value(r).unwrap()]),\n+            }),\n+            data: None,\n+        };\n+        lenses.push(debug_lens);\n     }\n \n     // Handle impls"}, {"sha": "2635a1440863f29739187920965e33745692f96c", "filename": "editors/code/src/commands/runnables.ts", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "raw_url": "https://github.com/rust-lang/rust/raw/7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Frunnables.ts?ref=7a4ebd2c8dfee8ca15dab7ba053a6521840aa5e3", "patch": "@@ -66,6 +66,10 @@ export function debugSingle(ctx: Ctx): Cmd {\n     return async (config: ra.Runnable) => {\n         const editor = ctx.activeRustEditor;\n         if (!editor) return;\n+        if (!vscode.extensions.getExtension(\"vadimcn.vscode-lldb\")) {\n+            vscode.window.showErrorMessage(\"Install `vadimcn.vscode-lldb` extension for debugging\");\n+            return;\n+        }\n \n         const debugConfig = {\n             type: \"lldb\","}]}