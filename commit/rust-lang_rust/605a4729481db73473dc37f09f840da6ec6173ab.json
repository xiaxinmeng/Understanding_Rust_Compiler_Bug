{"sha": "605a4729481db73473dc37f09f840da6ec6173ab", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwNWE0NzI5NDgxZGI3MzQ3M2RjMzdmMDlmODQwZGE2ZWM2MTczYWI=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2015-09-11T11:03:38Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2015-09-18T12:26:09Z"}, "message": "Add some more tests", "tree": {"sha": "08c547b85020fbc41bcadb1f0771a74acfd4fd85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/08c547b85020fbc41bcadb1f0771a74acfd4fd85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/605a4729481db73473dc37f09f840da6ec6173ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/605a4729481db73473dc37f09f840da6ec6173ab", "html_url": "https://github.com/rust-lang/rust/commit/605a4729481db73473dc37f09f840da6ec6173ab", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/605a4729481db73473dc37f09f840da6ec6173ab/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5fa6e857c9f43a69661ebca278c99155ee7d5db7", "url": "https://api.github.com/repos/rust-lang/rust/commits/5fa6e857c9f43a69661ebca278c99155ee7d5db7", "html_url": "https://github.com/rust-lang/rust/commit/5fa6e857c9f43a69661ebca278c99155ee7d5db7"}], "stats": {"total": 36, "additions": 34, "deletions": 2}, "files": [{"sha": "95a58686cf27ec53ec5c4cfb0dbd82eb9eb00729", "filename": "src/doc/reference.md", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/605a4729481db73473dc37f09f840da6ec6173ab/src%2Fdoc%2Freference.md", "raw_url": "https://github.com/rust-lang/rust/raw/605a4729481db73473dc37f09f840da6ec6173ab/src%2Fdoc%2Freference.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Freference.md?ref=605a4729481db73473dc37f09f840da6ec6173ab", "patch": "@@ -1178,11 +1178,20 @@ let px: i32 = match p { Point(x, _) => x };\n ```\n \n A _unit-like struct_ is a structure without any fields, defined by leaving off\n-the list of fields entirely. Such types will have a single value. For example:\n+the list of fields entirely. Such structure implicitly defines a constant of\n+its type with the same name. For example:\n \n ```\n struct Cookie;\n-let c = [Cookie, Cookie, Cookie, Cookie];\n+let c = [Cookie, Cookie {}, Cookie, Cookie {}];\n+```\n+\n+is equivalent to\n+\n+```\n+struct Cookie {}\n+const Cookie: Cookie = Cookie {};\n+let c = [Cookie, Cookie {}, Cookie, Cookie {}];\n ```\n \n The precise memory layout of a structure is not specified. One can specify a"}, {"sha": "6ed5f6954a017555ac5b3e8fbad9b7c328fb44af", "filename": "src/test/run-pass/empty-struct-with-braces.rs", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/605a4729481db73473dc37f09f840da6ec6173ab/src%2Ftest%2Frun-pass%2Fempty-struct-with-braces.rs", "raw_url": "https://github.com/rust-lang/rust/raw/605a4729481db73473dc37f09f840da6ec6173ab/src%2Ftest%2Frun-pass%2Fempty-struct-with-braces.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fempty-struct-with-braces.rs?ref=605a4729481db73473dc37f09f840da6ec6173ab", "patch": "@@ -13,11 +13,15 @@\n \n struct Empty1 {}\n struct Empty2;\n+struct Empty3 {}\n+const Empty3: Empty3 = Empty3 {};\n \n fn main() {\n     let e1: Empty1 = Empty1 {};\n     let e2: Empty2 = Empty2 {};\n     let e2: Empty2 = Empty2;\n+    let e3: Empty3 = Empty3 {};\n+    let e3: Empty3 = Empty3;\n \n     match e1 {\n         Empty1 {} => ()\n@@ -28,4 +32,23 @@ fn main() {\n     match e2 {\n         Empty2 => ()\n     }\n+    match e3 {\n+        Empty3 {} => ()\n+    }\n+    match e3 {\n+        Empty3 => ()\n+    }\n+    match e1 {\n+        Empty1 { .. } => ()\n+    }\n+    match e2 {\n+        Empty2 { .. } => ()\n+    }\n+    match e3 {\n+        Empty3 { .. } => ()\n+    }\n+\n+    let e11 = Empty1 { ..e1 };\n+    let e22 = Empty2 { ..e2 };\n+    let e33 = Empty3 { ..e3 };\n }"}]}