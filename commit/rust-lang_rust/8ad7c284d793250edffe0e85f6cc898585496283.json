{"sha": "8ad7c284d793250edffe0e85f6cc898585496283", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhZDdjMjg0ZDc5MzI1MGVkZmZlMGU4NWY2Y2M4OTg1ODU0OTYyODM=", "commit": {"author": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2017-10-25T11:04:59Z"}, "committer": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2017-10-26T10:54:35Z"}, "message": "Add comments to clarify function argument ownership", "tree": {"sha": "2feedde62752a7564b15fb8326f2cbfa958397ca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2feedde62752a7564b15fb8326f2cbfa958397ca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8ad7c284d793250edffe0e85f6cc898585496283", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8ad7c284d793250edffe0e85f6cc898585496283", "html_url": "https://github.com/rust-lang/rust/commit/8ad7c284d793250edffe0e85f6cc898585496283", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8ad7c284d793250edffe0e85f6cc898585496283/comments", "author": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0473a4f1d8f5e10c1ec97b1f7b4918308e1c1090", "url": "https://api.github.com/repos/rust-lang/rust/commits/0473a4f1d8f5e10c1ec97b1f7b4918308e1c1090", "html_url": "https://github.com/rust-lang/rust/commit/0473a4f1d8f5e10c1ec97b1f7b4918308e1c1090"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "f5a3c1989cf839cd43e7e494fce9a09967575195", "filename": "src/librustc/mir/mod.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8ad7c284d793250edffe0e85f6cc898585496283/src%2Flibrustc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ad7c284d793250edffe0e85f6cc898585496283/src%2Flibrustc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fmod.rs?ref=8ad7c284d793250edffe0e85f6cc898585496283", "patch": "@@ -650,7 +650,9 @@ pub enum TerminatorKind<'tcx> {\n     Call {\n         /// The function that\u2019s being called\n         func: Operand<'tcx>,\n-        /// Arguments the function is called with\n+        /// Arguments the function is called with. These are owned by the callee, which is free to\n+        /// modify them. This is important as \"by-value\" arguments might be passed by-reference at\n+        /// the ABI level.\n         args: Vec<Operand<'tcx>>,\n         /// Destination for the return value. If some, the call is converging.\n         destination: Option<(Lvalue<'tcx>, BasicBlock)>,"}, {"sha": "280e1c81966361b347f6f6044b7dc31e2c598b37", "filename": "src/librustc_mir/build/expr/into.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8ad7c284d793250edffe0e85f6cc898585496283/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Finto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ad7c284d793250edffe0e85f6cc898585496283/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Finto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Finto.rs?ref=8ad7c284d793250edffe0e85f6cc898585496283", "patch": "@@ -249,6 +249,8 @@ impl<'a, 'gcx, 'tcx> Builder<'a, 'gcx, 'tcx> {\n                         args.into_iter()\n                             .map(|arg| {\n                                 let scope = this.local_scope();\n+                                // Function arguments are owned by the callee, so we need as_temp()\n+                                // instead of as_operand() to enforce copies\n                                 let operand = unpack!(block = this.as_temp(block, scope, arg));\n                                 Operand::Consume(Lvalue::Local(operand))\n                             })"}]}