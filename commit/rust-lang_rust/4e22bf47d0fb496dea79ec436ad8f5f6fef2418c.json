{"sha": "4e22bf47d0fb496dea79ec436ad8f5f6fef2418c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRlMjJiZjQ3ZDBmYjQ5NmRlYTc5ZWM0MzZhZDhmNWY2ZmVmMjQxOGM=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-08-22T16:15:07Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-08-23T14:57:59Z"}, "message": "Show what things are, but also what they are not.", "tree": {"sha": "b4e20041046064e617579e56d9e776d8506c8d9e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b4e20041046064e617579e56d9e776d8506c8d9e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c", "html_url": "https://github.com/rust-lang/rust/commit/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a13c66e0a522957591b04237ccc72b411671fc9c", "url": "https://api.github.com/repos/rust-lang/rust/commits/a13c66e0a522957591b04237ccc72b411671fc9c", "html_url": "https://github.com/rust-lang/rust/commit/a13c66e0a522957591b04237ccc72b411671fc9c"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "a6e26d06bb12acf67c1cc50ca023aeb927d229b5", "filename": "compiler/rustc_resolve/src/diagnostics.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c/compiler%2Frustc_resolve%2Fsrc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c/compiler%2Frustc_resolve%2Fsrc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Fdiagnostics.rs?ref=4e22bf47d0fb496dea79ec436ad8f5f6fef2418c", "patch": "@@ -978,7 +978,13 @@ impl<'a> Resolver<'a> {\n                     Some(MacroKind::Derive) => format!(\"a derive macro: `#[derive({})]`\", ident),\n                     // Don't confuse the user with tool modules.\n                     None if res == Res::ToolMod => continue,\n-                    None => format!(\"{} {}\", res.article(), res.descr()),\n+                    None => format!(\n+                        \"{} {}, not {} {}\",\n+                        res.article(),\n+                        res.descr(),\n+                        macro_kind.article(),\n+                        macro_kind.descr_expected(),\n+                    ),\n                 };\n                 if let crate::NameBindingKind::Import { import, .. } = binding.kind {\n                     if !import.span.is_dummy() {"}, {"sha": "0413605fdb7f2d1bba1c6d8be9f8a7e0e91fa094", "filename": "src/test/ui/macros/issue-88206.stderr", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c/src%2Ftest%2Fui%2Fmacros%2Fissue-88206.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4e22bf47d0fb496dea79ec436ad8f5f6fef2418c/src%2Ftest%2Fui%2Fmacros%2Fissue-88206.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fissue-88206.stderr?ref=4e22bf47d0fb496dea79ec436ad8f5f6fef2418c", "patch": "@@ -4,7 +4,7 @@ error: cannot find macro `X` in this scope\n LL |     X!();\n    |     ^\n    |\n-note: `X` is imported here, but it is a struct\n+note: `X` is imported here, but it is a struct, not a macro\n   --> $DIR/issue-88206.rs:17:35\n    |\n LL | use hey::{Serialize, Deserialize, X};\n@@ -32,15 +32,15 @@ error: cannot find macro `Box` in this scope\n LL |     Box!();\n    |     ^^^\n    |\n-   = note: `Box` is in scope, but it is a struct\n+   = note: `Box` is in scope, but it is a struct, not a macro\n \n error: cannot find macro `from_utf8` in this scope\n   --> $DIR/issue-88206.rs:49:5\n    |\n LL |     from_utf8!();\n    |     ^^^^^^^^^\n    |\n-note: `from_utf8` is imported here, but it is a function\n+note: `from_utf8` is imported here, but it is a function, not a macro\n   --> $DIR/issue-88206.rs:5:5\n    |\n LL | use std::str::*;\n@@ -60,7 +60,7 @@ error: cannot find attribute `from_utf8_unchecked` in this scope\n LL | #[from_utf8_unchecked]\n    |   ^^^^^^^^^^^^^^^^^^^\n    |\n-note: `from_utf8_unchecked` is imported here, but it is a function\n+note: `from_utf8_unchecked` is imported here, but it is a function, not an attribute\n   --> $DIR/issue-88206.rs:5:5\n    |\n LL | use std::str::*;\n@@ -72,7 +72,7 @@ error: cannot find attribute `Deserialize` in this scope\n LL | #[Deserialize]\n    |   ^^^^^^^^^^^\n    |\n-note: `Deserialize` is imported here, but it is a trait\n+note: `Deserialize` is imported here, but it is a trait, not an attribute\n   --> $DIR/issue-88206.rs:17:22\n    |\n LL | use hey::{Serialize, Deserialize, X};\n@@ -92,7 +92,7 @@ error: cannot find derive macro `from_utf8_mut` in this scope\n LL | #[derive(from_utf8_mut)]\n    |          ^^^^^^^^^^^^^\n    |\n-note: `from_utf8_mut` is imported here, but it is a function\n+note: `from_utf8_mut` is imported here, but it is a function, not a derive macro\n   --> $DIR/issue-88206.rs:5:5\n    |\n LL | use std::str::*;\n@@ -104,7 +104,7 @@ error: cannot find derive macro `Serialize` in this scope\n LL | #[derive(Serialize)]\n    |          ^^^^^^^^^\n    |\n-note: `Serialize` is imported here, but it is a trait\n+note: `Serialize` is imported here, but it is a trait, not a derive macro\n   --> $DIR/issue-88206.rs:17:11\n    |\n LL | use hey::{Serialize, Deserialize, X};"}]}