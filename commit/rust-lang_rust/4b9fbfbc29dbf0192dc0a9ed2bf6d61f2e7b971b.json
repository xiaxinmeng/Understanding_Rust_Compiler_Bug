{"sha": "4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiOWZiZmJjMjlkYmYwMTkyZGMwYTllZDJiZjZkNjFmMmU3Yjk3MWI=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-10-23T20:19:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-23T20:19:08Z"}, "message": "Rollup merge of #65144 - clarfon:moo, r=sfackler\n\nAdd Cow::is_borrowed and Cow::is_owned\n\nImplements #65143.", "tree": {"sha": "9dca0196997c4fa2ba795a0f45d6006151ea67ad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9dca0196997c4fa2ba795a0f45d6006151ea67ad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdsLW8CRBK7hj4Ov3rIwAAdHIIADyps7koGXw4eQ97u7ZStrMg\nQxJ1L525NAyylt8AJMqa8VPJjGJMhjKlvsgAwJVbTvkaFW5kem933m/bA6WkGZUF\n6OEbSpee1iat25C7HPIXnQP/YNP+4P1qJV3SEHGQ4ED83ZYB5xih0vRZfh6s8MwT\n53+BiGTsc4i3oF4rau8sJWjjUkdZA1ydsC1Aix7kEpJiQrl16/XYca+dlku1dZxJ\nhWIWHu4LB76bF5ZQYPU6cjfi2ATmPDzHmKNFlRwkG6oy73Sg6LavT95I6oCGOBZL\nG66v2/t+2ZMDrx25e7m3XTIXEw6z70rXJk7G/rhwg9htjYPuaczFHg0z2GJfqP4=\n=MAg8\n-----END PGP SIGNATURE-----\n", "payload": "tree 9dca0196997c4fa2ba795a0f45d6006151ea67ad\nparent 426c6cf84fd6230240abe5e2e9007fcc7d1cddff\nparent eeb549bfc31c27c6cec98eb852409a51f0a8162c\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1571861948 +0200\ncommitter GitHub <noreply@github.com> 1571861948 +0200\n\nRollup merge of #65144 - clarfon:moo, r=sfackler\n\nAdd Cow::is_borrowed and Cow::is_owned\n\nImplements #65143.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b", "html_url": "https://github.com/rust-lang/rust/commit/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "url": "https://api.github.com/repos/rust-lang/rust/commits/426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "html_url": "https://github.com/rust-lang/rust/commit/426c6cf84fd6230240abe5e2e9007fcc7d1cddff"}, {"sha": "eeb549bfc31c27c6cec98eb852409a51f0a8162c", "url": "https://api.github.com/repos/rust-lang/rust/commits/eeb549bfc31c27c6cec98eb852409a51f0a8162c", "html_url": "https://github.com/rust-lang/rust/commit/eeb549bfc31c27c6cec98eb852409a51f0a8162c"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "d2bdda83fa998ae4e8e195d955627c7c88887fba", "filename": "src/liballoc/borrow.rs", "status": "modified", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b/src%2Fliballoc%2Fborrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b/src%2Fliballoc%2Fborrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fborrow.rs?ref=4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b", "patch": "@@ -207,6 +207,47 @@ impl<B: ?Sized + ToOwned> Clone for Cow<'_, B> {\n }\n \n impl<B: ?Sized + ToOwned> Cow<'_, B> {\n+    /// Returns true if the data is borrowed, i.e. if `to_mut` would require additional work.\n+    ///\n+    /// # Examples\n+    ///\n+    /// ```\n+    /// #![feature(cow_is_borrowed)]\n+    /// use std::borrow::Cow;\n+    ///\n+    /// let cow = Cow::Borrowed(\"moo\");\n+    /// assert!(cow.is_borrowed());\n+    ///\n+    /// let bull: Cow<'_, str> = Cow::Owned(\"...moo?\".to_string());\n+    /// assert!(!bull.is_borrowed());\n+    /// ```\n+    #[unstable(feature = \"cow_is_borrowed\", issue = \"65143\")]\n+    pub fn is_borrowed(&self) -> bool {\n+        match *self {\n+            Borrowed(_) => true,\n+            Owned(_) => false,\n+        }\n+    }\n+\n+    /// Returns true if the data is owned, i.e. if `to_mut` would be a no-op.\n+    ///\n+    /// # Examples\n+    ///\n+    /// ```\n+    /// #![feature(cow_is_borrowed)]\n+    /// use std::borrow::Cow;\n+    ///\n+    /// let cow: Cow<'_, str> = Cow::Owned(\"moo\".to_string());\n+    /// assert!(cow.is_owned());\n+    ///\n+    /// let bull = Cow::Borrowed(\"...moo?\");\n+    /// assert!(!bull.is_owned());\n+    /// ```\n+    #[unstable(feature = \"cow_is_borrowed\", issue = \"65143\")]\n+    pub fn is_owned(&self) -> bool {\n+        !self.is_borrowed()\n+    }\n+\n     /// Acquires a mutable reference to the owned form of the data.\n     ///\n     /// Clones the data if it is not already owned."}, {"sha": "94379afc2bd454e1071243647cbd7b77c790f279", "filename": "src/liballoc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b/src%2Fliballoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b/src%2Fliballoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Flib.rs?ref=4b9fbfbc29dbf0192dc0a9ed2bf6d61f2e7b971b", "patch": "@@ -85,6 +85,7 @@\n #![feature(const_generic_impls_guard)]\n #![feature(const_generics)]\n #![feature(const_in_array_repeat_expressions)]\n+#![feature(cow_is_borrowed)]\n #![feature(dispatch_from_dyn)]\n #![feature(core_intrinsics)]\n #![feature(container_error_extra)]"}]}