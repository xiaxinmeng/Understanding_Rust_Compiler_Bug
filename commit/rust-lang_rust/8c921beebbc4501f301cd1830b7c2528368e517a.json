{"sha": "8c921beebbc4501f301cd1830b7c2528368e517a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhjOTIxYmVlYmJjNDUwMWYzMDFjZDE4MzBiN2MyNTI4MzY4ZTUxN2E=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-08-27T22:10:47Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2019-08-27T22:11:12Z"}, "message": "Apply review comments", "tree": {"sha": "9a17a5e45e95963b675ae9d97b65f16f4508f519", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a17a5e45e95963b675ae9d97b65f16f4508f519"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8c921beebbc4501f301cd1830b7c2528368e517a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8c921beebbc4501f301cd1830b7c2528368e517a", "html_url": "https://github.com/rust-lang/rust/commit/8c921beebbc4501f301cd1830b7c2528368e517a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8c921beebbc4501f301cd1830b7c2528368e517a/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "82f2b376357e68cdde86d75259fed39ea4df79e3", "url": "https://api.github.com/repos/rust-lang/rust/commits/82f2b376357e68cdde86d75259fed39ea4df79e3", "html_url": "https://github.com/rust-lang/rust/commit/82f2b376357e68cdde86d75259fed39ea4df79e3"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "a77421ce15008011058ce3a83241cd2f24c0f257", "filename": "src/librustc_mir/transform/qualify_consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -1754,7 +1754,7 @@ impl<'tcx> MirPass<'tcx> for QualifyAndPromoteConstants<'tcx> {\n                                               ty,\n                                               tcx.require_lang_item(\n                                                   lang_items::SyncTraitLangItem,\n-                                                  None\n+                                                  Some(body.span)\n                                               ),\n                                               cause);\n                 if let Err(err) = fulfillment_cx.select_all_or_error(&infcx) {"}, {"sha": "f3e03e7f81daa89c9f5c09bfeb8135c85e92403c", "filename": "src/librustc_mir/util/elaborate_drops.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_mir%2Futil%2Felaborate_drops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_mir%2Futil%2Felaborate_drops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Futil%2Felaborate_drops.rs?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -897,7 +897,10 @@ where\n     ) -> BasicBlock {\n         let tcx = self.tcx();\n         let unit_temp = Place::from(self.new_temp(tcx.mk_unit()));\n-        let free_func = tcx.require_lang_item(lang_items::BoxFreeFnLangItem, None);\n+        let free_func = tcx.require_lang_item(\n+            lang_items::BoxFreeFnLangItem,\n+            Some(self.source_info.span)\n+        );\n         let args = adt.variants[VariantIdx::new(0)].fields.iter().enumerate().map(|(i, f)| {\n             let field = Field::new(i);\n             let field_ty = f.ty(self.tcx(), substs);"}, {"sha": "6b88144d1fc103cb11addc94358383e86f746ae6", "filename": "src/librustc_typeck/check/cast.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_typeck%2Fcheck%2Fcast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_typeck%2Fcheck%2Fcast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fcast.rs?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -649,7 +649,7 @@ impl<'a, 'tcx> CastCheck<'tcx> {\n \n impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n     fn type_is_known_to_be_sized_modulo_regions(&self, ty: Ty<'tcx>, span: Span) -> bool {\n-        let lang_item = self.tcx.require_lang_item(lang_items::SizedTraitLangItem, None);\n+        let lang_item = self.tcx.require_lang_item(lang_items::SizedTraitLangItem, Some(span));\n         traits::type_known_to_meet_bound_modulo_regions(self, self.param_env, ty, lang_item, span)\n     }\n }"}, {"sha": "62e11fb421ee7c6c65b762453ff3f5d442a8a984", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -2622,7 +2622,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                                  span: Span,\n                                  code: traits::ObligationCauseCode<'tcx>)\n     {\n-        let lang_item = self.tcx.require_lang_item(lang_items::SizedTraitLangItem, None);\n+        let lang_item = self.tcx.require_lang_item(lang_items::SizedTraitLangItem, Some(span));\n         self.require_type_meets(ty, span, code, lang_item);\n     }\n "}, {"sha": "94d62023f356281eaba6e394be3879a8938c8943", "filename": "src/test/ui/lang-item-missing.stderr", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Flang-item-missing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Flang-item-missing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flang-item-missing.stderr?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -1,4 +1,8 @@\n error: requires `sized` lang_item\n+  --> $DIR/lang-item-missing.rs:10:50\n+   |\n+LL | fn start(argc: isize, argv: *const *const u8) -> isize {\n+   |                                                  ^^^^^\n \n error: aborting due to previous error\n "}, {"sha": "07634d9132e781fb801c143ab52392c7242aa668", "filename": "src/test/ui/privacy/privacy2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fprivacy2.rs?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -11,7 +11,7 @@ mod bar {\n     }\n }\n \n-pub fn foo() {}\n+pub fn foo() {} //~ ERROR: requires `sized` lang_item\n \n fn test1() {\n     use bar::foo;"}, {"sha": "eaa9f1ad6528ec099e4c55f2ff36f22cb6835ca0", "filename": "src/test/ui/privacy/privacy2.stderr", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fprivacy2.stderr?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -11,6 +11,10 @@ LL |     use bar::glob::foo;\n    |                    ^^^\n \n error: requires `sized` lang_item\n+  --> $DIR/privacy2.rs:14:14\n+   |\n+LL | pub fn foo() {}\n+   |              ^\n \n error: aborting due to 3 previous errors\n "}, {"sha": "8853700180dbc75a688c78ef36db16272b06dcae", "filename": "src/test/ui/privacy/privacy3.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fprivacy3.rs?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -8,7 +8,7 @@ mod bar {\n     pub use self::glob::*;\n \n     mod glob {\n-        fn gpriv() {}\n+        fn gpriv() {} //~ ERROR: requires `sized` lang_item\n     }\n }\n "}, {"sha": "6826fbf9df290b3ee214408462848f795d88fd10", "filename": "src/test/ui/privacy/privacy3.stderr", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8c921beebbc4501f301cd1830b7c2528368e517a/src%2Ftest%2Fui%2Fprivacy%2Fprivacy3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fprivacy3.stderr?ref=8c921beebbc4501f301cd1830b7c2528368e517a", "patch": "@@ -5,6 +5,10 @@ LL |     use bar::gpriv;\n    |         ^^^^^^^^^^ no `gpriv` in `bar`\n \n error: requires `sized` lang_item\n+  --> $DIR/privacy3.rs:11:20\n+   |\n+LL |         fn gpriv() {}\n+   |                    ^\n \n error: aborting due to 2 previous errors\n "}]}