{"sha": "81a643731d987aa320c936110326ab9dfe812bd0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgxYTY0MzczMWQ5ODdhYTMyMGM5MzYxMTAzMjZhYjlkZmU4MTJiZDA=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2018-04-20T00:54:20Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2018-04-20T00:54:20Z"}, "message": "rustc: Blanket whitelist `#[target_feature]`\n\nThis commit transitions the `target_feature` attribute from `Normal` to\n`Whitelisted`. Discovered in #50095 the fact of whether this attribute is used\nor not is dependent on typechecking running and executing `check_name`, but\nincremental compilation doesn't currently account for this, meaning that the\nattribute ends up being flagged as unused when it shouldn't be.\n\nI was a little too ambitious it seems hoping that `Normal` could be used, so\ninstead this transitions to `Whitelisted` to be the same as other codegen\nattributes like `#[inline]`\n\nCloses #50095", "tree": {"sha": "912ebd776e9aa7b0c52b24c04fbf2992af9dda39", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/912ebd776e9aa7b0c52b24c04fbf2992af9dda39"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/81a643731d987aa320c936110326ab9dfe812bd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/81a643731d987aa320c936110326ab9dfe812bd0", "html_url": "https://github.com/rust-lang/rust/commit/81a643731d987aa320c936110326ab9dfe812bd0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/81a643731d987aa320c936110326ab9dfe812bd0/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fc9da8f795b2670dd1f211d17c0896cc2ea85d45", "url": "https://api.github.com/repos/rust-lang/rust/commits/fc9da8f795b2670dd1f211d17c0896cc2ea85d45", "html_url": "https://github.com/rust-lang/rust/commit/fc9da8f795b2670dd1f211d17c0896cc2ea85d45"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "21d0fecea216394d7c65f1f67ee9b9bda10c29f7", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/81a643731d987aa320c936110326ab9dfe812bd0/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81a643731d987aa320c936110326ab9dfe812bd0/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=81a643731d987aa320c936110326ab9dfe812bd0", "patch": "@@ -921,7 +921,7 @@ pub const BUILTIN_ATTRIBUTES: &'static [(&'static str, AttributeType, AttributeG\n                                  \"the `#[naked]` attribute \\\n                                   is an experimental feature\",\n                                  cfg_fn!(naked_functions))),\n-    (\"target_feature\", Normal, Ungated),\n+    (\"target_feature\", Whitelisted, Ungated),\n     (\"export_name\", Whitelisted, Ungated),\n     (\"inline\", Whitelisted, Ungated),\n     (\"link\", Whitelisted, Ungated),"}]}