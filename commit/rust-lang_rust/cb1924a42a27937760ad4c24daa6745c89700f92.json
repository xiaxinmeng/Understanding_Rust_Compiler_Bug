{"sha": "cb1924a42a27937760ad4c24daa6745c89700f92", "node_id": "C_kwDOAAsO6NoAKGNiMTkyNGE0MmEyNzkzNzc2MGFkNGMyNGRhYTY3NDVjODk3MDBmOTI", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-17T12:56:19Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-17T12:56:19Z"}, "message": "Auto merge of #95779 - cjgillot:ast-lifetimes-undeclared, r=petrochenkov\n\nReport undeclared lifetimes during late resolution.\n\nFirst step in https://github.com/rust-lang/rust/pull/91557\n\nWe reuse the rib design of the current resolution framework. Specific `LifetimeRib` and `LifetimeRibKind` types are introduced. The most important variant is `LifetimeRibKind::Generics`, which happens each time we encounter something which may introduce generic lifetime parameters. It can be an item or a `for<...>` binder. The `LifetimeBinderKind` specifies how this rib behaves with respect to in-band lifetimes.\n\nr? `@petrochenkov`", "tree": {"sha": "08d80892c4ea1be618c879f21e1daf4da581bdcb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/08d80892c4ea1be618c879f21e1daf4da581bdcb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb1924a42a27937760ad4c24daa6745c89700f92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb1924a42a27937760ad4c24daa6745c89700f92", "html_url": "https://github.com/rust-lang/rust/commit/cb1924a42a27937760ad4c24daa6745c89700f92", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb1924a42a27937760ad4c24daa6745c89700f92/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cc25cbd24341d9e96c03756c09e841d504f6f4ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc25cbd24341d9e96c03756c09e841d504f6f4ef", "html_url": "https://github.com/rust-lang/rust/commit/cc25cbd24341d9e96c03756c09e841d504f6f4ef"}, {"sha": "e4110cf6333bcf6174b9277669a9b71aede2e67e", "url": "https://api.github.com/repos/rust-lang/rust/commits/e4110cf6333bcf6174b9277669a9b71aede2e67e", "html_url": "https://github.com/rust-lang/rust/commit/e4110cf6333bcf6174b9277669a9b71aede2e67e"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "0d2cb77855be1198a45f9ee31bb930a56312e151", "filename": "tests/ui/unused_unit.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/cb1924a42a27937760ad4c24daa6745c89700f92/tests%2Fui%2Funused_unit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cb1924a42a27937760ad4c24daa6745c89700f92/tests%2Fui%2Funused_unit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funused_unit.stderr?ref=cb1924a42a27937760ad4c24daa6745c89700f92", "patch": "@@ -1,8 +1,8 @@\n error: unneeded unit return type\n-  --> $DIR/unused_unit.rs:19:28\n+  --> $DIR/unused_unit.rs:19:58\n    |\n LL |     pub fn get_unit<F: Fn() -> (), G>(&self, f: F, _g: G) -> ()\n-   |                            ^^^^^^ help: remove the `-> ()`\n+   |                                                          ^^^^^^ help: remove the `-> ()`\n    |\n note: the lint level is defined here\n   --> $DIR/unused_unit.rs:12:9\n@@ -11,16 +11,16 @@ LL | #![deny(clippy::unused_unit)]\n    |         ^^^^^^^^^^^^^^^^^^^\n \n error: unneeded unit return type\n-  --> $DIR/unused_unit.rs:20:18\n+  --> $DIR/unused_unit.rs:19:28\n    |\n-LL |     where G: Fn() -> () {\n-   |                  ^^^^^^ help: remove the `-> ()`\n+LL |     pub fn get_unit<F: Fn() -> (), G>(&self, f: F, _g: G) -> ()\n+   |                            ^^^^^^ help: remove the `-> ()`\n \n error: unneeded unit return type\n-  --> $DIR/unused_unit.rs:19:58\n+  --> $DIR/unused_unit.rs:20:18\n    |\n-LL |     pub fn get_unit<F: Fn() -> (), G>(&self, f: F, _g: G) -> ()\n-   |                                                          ^^^^^^ help: remove the `-> ()`\n+LL |     where G: Fn() -> () {\n+   |                  ^^^^^^ help: remove the `-> ()`\n \n error: unneeded unit return type\n   --> $DIR/unused_unit.rs:21:26"}]}