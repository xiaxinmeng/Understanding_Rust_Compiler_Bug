{"sha": "53202b40296f198ff30f46444b1c12197f616eb5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUzMjAyYjQwMjk2ZjE5OGZmMzBmNDY0NDRiMWMxMjE5N2Y2MTZlYjU=", "commit": {"author": {"name": "Seiichi Uchida", "email": "topecongiro@localhost.localdomain", "date": "2017-06-19T14:39:59Z"}, "committer": {"name": "Seiichi Uchida", "email": "topecongiro@localhost.localdomain", "date": "2017-06-19T14:39:59Z"}, "message": "Do not run cargo fmt if there are unnecessary arguments", "tree": {"sha": "1893b834a7889a2c6bed70fd87138a4c52f52705", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1893b834a7889a2c6bed70fd87138a4c52f52705"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/53202b40296f198ff30f46444b1c12197f616eb5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/53202b40296f198ff30f46444b1c12197f616eb5", "html_url": "https://github.com/rust-lang/rust/commit/53202b40296f198ff30f46444b1c12197f616eb5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/53202b40296f198ff30f46444b1c12197f616eb5/comments", "author": null, "committer": null, "parents": [{"sha": "a87a4450aad8a0d8f7855bf42d29141b9df8c7f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/a87a4450aad8a0d8f7855bf42d29141b9df8c7f9", "html_url": "https://github.com/rust-lang/rust/commit/a87a4450aad8a0d8f7855bf42d29141b9df8c7f9"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "c8202eb7e41bd09a77ec05c6b3f2ca50b2e95025", "filename": "src/bin/cargo-fmt.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/53202b40296f198ff30f46444b1c12197f616eb5/src%2Fbin%2Fcargo-fmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/53202b40296f198ff30f46444b1c12197f616eb5/src%2Fbin%2Fcargo-fmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbin%2Fcargo-fmt.rs?ref=53202b40296f198ff30f46444b1c12197f616eb5", "patch": "@@ -50,6 +50,16 @@ fn execute() -> i32 {\n     );\n     opts.optflag(\"\", \"all\", \"format all packages (only usable in workspaces)\");\n \n+    // If there is any invalid argument passed to `cargo fmt`, return without formatting.\n+    if let Some(arg) = env::args()\n+        .skip(2)\n+        .take_while(|a| a != \"--\")\n+        .find(|a| !a.starts_with('-'))\n+    {\n+        print_usage(&opts, &format!(\"Invalid argument: `{}`.\", arg));\n+        return failure;\n+    }\n+\n     let matches = match opts.parse(env::args().skip(1).take_while(|a| a != \"--\")) {\n         Ok(m) => m,\n         Err(e) => {"}]}