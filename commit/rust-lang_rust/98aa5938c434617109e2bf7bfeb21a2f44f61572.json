{"sha": "98aa5938c434617109e2bf7bfeb21a2f44f61572", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk4YWE1OTM4YzQzNDYxNzEwOWUyYmY3YmZlYjIxYTJmNDRmNjE1NzI=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-04-02T20:29:41Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-04-02T20:29:41Z"}, "message": "Rustup to rust-lang/rust#70634", "tree": {"sha": "62f7dcd2cfc175cd4fb6b93aa08453daca4222db", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/62f7dcd2cfc175cd4fb6b93aa08453daca4222db"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/98aa5938c434617109e2bf7bfeb21a2f44f61572", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl6GSzUACgkQLO/Nsn7Q\nvnlMYBAAqF78nXrqLzfiMFgZB4fDIBlw45iluErSpgMuNxRvjT+ewwXacLCkkDqG\nGH0+iz060icoG5GkwcE0BJL64zh3qIO9uSz5dsDTxADg+YxW75HsHmnFUNPY/m8P\n1pwzmD318uJlVFRsPOUmMdBKHWcy6a4JpaZXF/V4oFs+SuX6SZQ0Kl+ULZz1xIUh\nW06UibHa4a0Neox2tM0UwCe7nqPna+ye12voHNGBR0sc2Lp7pyyEBlzSOHqSfU9P\nZ3Jkplnk0wD+12jxhCgYrYonHWEgEyVkeSuSzAqdj8ehBzXmR+Ct+jkrFAgb3g39\nDAJ3yMKzsFjC6EbampxMkwbC9Zgx9A1+JARrntsUq0mKSwOzhaOzG7vSd812bVgM\n4sRHBdySoY9QC21h32s3RjGnf2AkH5LYh0f403NSAYrrDqCGktEKQHtn6CsLA300\nWU1xhV0oh2XRBl5YmZuVbwUI4H3m/ag66Uvs0iyghOETyElQBxrvH5goH24lXZ4G\nRQGyylYle+ohoWYiCwp+4MdgZvXOjZrJjxqHzbmATLwdypa+5a7DgcFP7dqlyL5j\nN5iEkERQmISN7Jw2C2RFF2QEgieFGTX/254us0NA8pjmN4phrQdYuyxTjGtqsbx0\nAoZ7V6Xjb0PeXq3xVMOpHv9orwnwbXR/2OPY12De1HL0gKqF5zo=\n=O2nB\n-----END PGP SIGNATURE-----", "payload": "tree 62f7dcd2cfc175cd4fb6b93aa08453daca4222db\nparent 949a5bab3333adc5ffcbca618cc93718d0615281\nauthor flip1995 <hello@philkrones.com> 1585859381 +0200\ncommitter flip1995 <hello@philkrones.com> 1585859381 +0200\n\nRustup to rust-lang/rust#70634\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/98aa5938c434617109e2bf7bfeb21a2f44f61572", "html_url": "https://github.com/rust-lang/rust/commit/98aa5938c434617109e2bf7bfeb21a2f44f61572", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/98aa5938c434617109e2bf7bfeb21a2f44f61572/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "949a5bab3333adc5ffcbca618cc93718d0615281", "url": "https://api.github.com/repos/rust-lang/rust/commits/949a5bab3333adc5ffcbca618cc93718d0615281", "html_url": "https://github.com/rust-lang/rust/commit/949a5bab3333adc5ffcbca618cc93718d0615281"}], "stats": {"total": 22, "additions": 7, "deletions": 15}, "files": [{"sha": "1ec60a0e6e67ac9e00c42e4920d438fafd25ad8c", "filename": "clippy_lints/src/escape.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Fescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Fescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fescape.rs?ref=98aa5938c434617109e2bf7bfeb21a2f44f61572", "patch": "@@ -2,10 +2,10 @@ use rustc_hir::intravisit;\n use rustc_hir::{self, Body, FnDecl, HirId, HirIdSet, ItemKind, Node};\n use rustc_infer::infer::TyCtxtInferExt;\n use rustc_lint::{LateContext, LateLintPass};\n-use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, Ty};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::source_map::Span;\n+use rustc_target::abi::LayoutOf;\n use rustc_typeck::expr_use_visitor::{ConsumeMode, Delegate, ExprUseVisitor, Place, PlaceBase};\n \n use crate::utils::span_lint;"}, {"sha": "961a645a62e97ebde1a3c8e03f9a916d5e0b3a8e", "filename": "clippy_lints/src/large_enum_variant.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Flarge_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_enum_variant.rs?ref=98aa5938c434617109e2bf7bfeb21a2f44f61572", "patch": "@@ -4,8 +4,8 @@ use crate::utils::{snippet_opt, span_lint_and_then};\n use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind, VariantData};\n use rustc_lint::{LateContext, LateLintPass};\n-use rustc_middle::ty::layout::LayoutOf;\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n+use rustc_target::abi::LayoutOf;\n \n declare_clippy_lint! {\n     /// **What it does:** Checks for large size differences between variants on"}, {"sha": "271459bd1e94de75496e17ed036d5d33f866f650", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=98aa5938c434617109e2bf7bfeb21a2f44f61572", "patch": "@@ -17,12 +17,12 @@ use rustc_hir::{\n use rustc_lint::{LateContext, LateLintPass, LintContext};\n use rustc_middle::hir::map::Map;\n use rustc_middle::lint::in_external_macro;\n-use rustc_middle::ty::layout::LayoutOf;\n use rustc_middle::ty::{self, InferTy, Ty, TyCtxt, TypeckTables};\n use rustc_session::{declare_lint_pass, declare_tool_lint, impl_lint_pass};\n use rustc_span::hygiene::{ExpnKind, MacroKind};\n use rustc_span::source_map::Span;\n use rustc_span::symbol::{sym, Symbol};\n+use rustc_target::abi::LayoutOf;\n use rustc_target::spec::abi::Abi;\n use rustc_typeck::hir_ty_to_ty;\n "}, {"sha": "315869e2aea3d4f8e3620fce8cb3494c7cc08cd9", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 4, "deletions": 12, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/98aa5938c434617109e2bf7bfeb21a2f44f61572/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=98aa5938c434617109e2bf7bfeb21a2f44f61572", "patch": "@@ -41,16 +41,12 @@ use rustc_infer::infer::TyCtxtInferExt;\n use rustc_lint::{LateContext, Level, Lint, LintContext};\n use rustc_middle::hir::map::Map;\n use rustc_middle::traits;\n-use rustc_middle::ty::{\n-    self,\n-    layout::{self, IntegerExt},\n-    subst::GenericArg,\n-    Binder, Ty, TyCtxt, TypeFoldable,\n-};\n+use rustc_middle::ty::{self, layout::IntegerExt, subst::GenericArg, Binder, Ty, TyCtxt, TypeFoldable};\n use rustc_span::hygiene::{ExpnKind, MacroKind};\n use rustc_span::source_map::original_sp;\n use rustc_span::symbol::{self, kw, Symbol};\n use rustc_span::{BytePos, Pos, Span, DUMMY_SP};\n+use rustc_target::abi::Integer;\n use rustc_trait_selection::traits::predicate_for_trait_def;\n use rustc_trait_selection::traits::query::evaluate_obligation::InferCtxtExt;\n use rustc_trait_selection::traits::query::normalize::AtExt;\n@@ -1080,9 +1076,7 @@ pub fn get_arg_name(pat: &Pat<'_>) -> Option<ast::Name> {\n }\n \n pub fn int_bits(tcx: TyCtxt<'_>, ity: ast::IntTy) -> u64 {\n-    layout::Integer::from_attr(&tcx, attr::IntType::SignedInt(ity))\n-        .size()\n-        .bits()\n+    Integer::from_attr(&tcx, attr::IntType::SignedInt(ity)).size().bits()\n }\n \n #[allow(clippy::cast_possible_wrap)]\n@@ -1101,9 +1095,7 @@ pub fn unsext(tcx: TyCtxt<'_>, u: i128, ity: ast::IntTy) -> u128 {\n \n /// clip unused bytes\n pub fn clip(tcx: TyCtxt<'_>, u: u128, ity: ast::UintTy) -> u128 {\n-    let bits = layout::Integer::from_attr(&tcx, attr::IntType::UnsignedInt(ity))\n-        .size()\n-        .bits();\n+    let bits = Integer::from_attr(&tcx, attr::IntType::UnsignedInt(ity)).size().bits();\n     let amt = 128 - bits;\n     (u << amt) >> amt\n }"}]}