{"sha": "89db345859a3f4e33aa334713767e79870319369", "node_id": "C_kwDOAAsO6NoAKDg5ZGIzNDU4NTlhM2Y0ZTMzYWEzMzQ3MTM3NjdlNzk4NzAzMTkzNjk", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-04-28T00:40:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-04-28T00:40:37Z"}, "message": "Rollup merge of #96483 - Urgau:check-cfg-target_feature, r=petrochenkov\n\nAdd missing `target_feature` to the list of well known cfg names\n\nThis PR adds the missing `target_feature` cfg name to the list of well known cfg names.\n\nIt was notice missing in https://github.com/rust-lang/rust/issues/96472 thanks to `@bjorn3,` the reason being that `--check-cfg=names()` automatically inherit the names passed by `--cfg` (or internal to `rustc`) and is seems that the vast majority of targets have at least one target feature leading to `target_feature` being a well known name in most target but it should always be a well known name so this PR add it unconditionally to list.\n\nr? `@petrochenkov`", "tree": {"sha": "dd98eee53ea80c1870ba82851d369af60a09d649", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dd98eee53ea80c1870ba82851d369af60a09d649"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/89db345859a3f4e33aa334713767e79870319369", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiaeKFCRBK7hj4Ov3rIwAAGP8IAH0tJ65WFjUFf5NPOJIuWJbU\nmWPBre2d84E24Impn6ckplLsFjxPv5h2Gj12ztuQogqz9++GdGxNcG2guQPm51H7\nIMp8L93p1mfDpAPVeUm/5kPd3H0DKRA5gHnoushNiG/RmgLjf4DTxSTyxijdpjmL\nrvjCEWQrXsDC3CTgFJKaLh8D0g/JkDF/Lr2ZjEvt3xCORSy1xQh497q3GM46cGlJ\nDgH2Vc2w087I1RvaCzgl6OfS9QufNflNpv4aOPuq93TZQvPuzgZm++8eT6HFzImf\nxWmqLRSDK1QMC+AjqmgDhjdCskTy3rpZeOnMB5GVpSu6IbjT862aIQ45A4tPyYA=\n=/Vpj\n-----END PGP SIGNATURE-----\n", "payload": "tree dd98eee53ea80c1870ba82851d369af60a09d649\nparent 4c628bbb1c266a8513b364dca5ae7e311a1e0777\nparent beb4e16f055aa7925194fd2c360105a6d55f10f6\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1651106437 +0200\ncommitter GitHub <noreply@github.com> 1651106437 +0200\n\nRollup merge of #96483 - Urgau:check-cfg-target_feature, r=petrochenkov\n\nAdd missing `target_feature` to the list of well known cfg names\n\nThis PR adds the missing `target_feature` cfg name to the list of well known cfg names.\n\nIt was notice missing in https://github.com/rust-lang/rust/issues/96472 thanks to `@bjorn3,` the reason being that `--check-cfg=names()` automatically inherit the names passed by `--cfg` (or internal to `rustc`) and is seems that the vast majority of targets have at least one target feature leading to `target_feature` being a well known name in most target but it should always be a well known name so this PR add it unconditionally to list.\n\nr? `@petrochenkov`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/89db345859a3f4e33aa334713767e79870319369", "html_url": "https://github.com/rust-lang/rust/commit/89db345859a3f4e33aa334713767e79870319369", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/89db345859a3f4e33aa334713767e79870319369/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4c628bbb1c266a8513b364dca5ae7e311a1e0777", "url": "https://api.github.com/repos/rust-lang/rust/commits/4c628bbb1c266a8513b364dca5ae7e311a1e0777", "html_url": "https://github.com/rust-lang/rust/commit/4c628bbb1c266a8513b364dca5ae7e311a1e0777"}, {"sha": "beb4e16f055aa7925194fd2c360105a6d55f10f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/beb4e16f055aa7925194fd2c360105a6d55f10f6", "html_url": "https://github.com/rust-lang/rust/commit/beb4e16f055aa7925194fd2c360105a6d55f10f6"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "adb2b79038f66c80185c118c6a5578a957bbbe3f", "filename": "compiler/rustc_session/src/config.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/89db345859a3f4e33aa334713767e79870319369/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/89db345859a3f4e33aa334713767e79870319369/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Fconfig.rs?ref=89db345859a3f4e33aa334713767e79870319369", "patch": "@@ -1043,6 +1043,7 @@ impl CrateCheckConfig {\n             sym::target_has_atomic_load_store,\n             sym::target_has_atomic,\n             sym::target_has_atomic_equal_alignment,\n+            sym::target_feature,\n             sym::panic,\n             sym::sanitize,\n             sym::debug_assertions,\n@@ -1086,6 +1087,10 @@ impl CrateCheckConfig {\n             .into_iter()\n             .map(|sanitizer| Symbol::intern(sanitizer.as_str().unwrap()));\n \n+        // Unknown possible values:\n+        //  - `feature`\n+        //  - `target_feature`\n+\n         // No-values\n         for name in [\n             sym::doc,"}]}