{"sha": "aca1b8112026d9707b8041abfd4349c9b865db1f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjYTFiODExMjAyNmQ5NzA3YjgwNDFhYmZkNDM0OWM5Yjg2NWRiMWY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-01-25T17:47:54Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-01-25T17:47:54Z"}, "message": "Auto merge of #3691 - phansch:update_changelog, r=oli-obk\n\nUpdate changelog with all changes since 0.0.212\n\nThis updates the changelog with all notable and user-facing changes since\n0.0.212 has been released. I decided to group the changes by the Rust version\nthey are included in, as that's what makes the most sense to users.\n\nWhenever a new rust version is released, we will have to go through the list\nof commits and then update the changelog with the relevant changes.\n\n[Rendered](https://github.com/rust-lang/rust-clippy/pull/3691/files?short_path=4ac32a7#diff-4ac32a78649ca5bdd8e0ba38b7006a1e)", "tree": {"sha": "8a9dfae9f29ef302de02f23aae124ab81064bed3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8a9dfae9f29ef302de02f23aae124ab81064bed3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aca1b8112026d9707b8041abfd4349c9b865db1f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aca1b8112026d9707b8041abfd4349c9b865db1f", "html_url": "https://github.com/rust-lang/rust/commit/aca1b8112026d9707b8041abfd4349c9b865db1f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aca1b8112026d9707b8041abfd4349c9b865db1f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c5325063c8fba725970c50708a4694902069cf35", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5325063c8fba725970c50708a4694902069cf35", "html_url": "https://github.com/rust-lang/rust/commit/c5325063c8fba725970c50708a4694902069cf35"}, {"sha": "1adc35703f22c9ee4e825ca0441961cbc832e5c8", "url": "https://api.github.com/repos/rust-lang/rust/commits/1adc35703f22c9ee4e825ca0441961cbc832e5c8", "html_url": "https://github.com/rust-lang/rust/commit/1adc35703f22c9ee4e825ca0441961cbc832e5c8"}], "stats": {"total": 145, "additions": 143, "deletions": 2}, "files": [{"sha": "21e91c666b7e76d7140d344cab4ba7abbebeeb39", "filename": "CHANGELOG.md", "status": "modified", "additions": 123, "deletions": 2, "changes": 125, "blob_url": "https://github.com/rust-lang/rust/blob/aca1b8112026d9707b8041abfd4349c9b865db1f/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/aca1b8112026d9707b8041abfd4349c9b865db1f/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=aca1b8112026d9707b8041abfd4349c9b865db1f", "patch": "@@ -1,7 +1,128 @@\n # Change Log\n+\n All notable changes to this project will be documented in this file.\n \n-## 0.0.212\n+## Unreleased / In Rust Beta or Nightly\n+\n+[b2601be...master](https://github.com/rust-lang/rust-clippy/compare/b2601be...master)\n+\n+## Rust 1.32 (2019-01-17)\n+\n+[2e26fdc2...b2601be](https://github.com/rust-lang/rust-clippy/compare/2e26fdc2...b2601be)\n+\n+* New lints: [`slow_vector_initialization`], [`unsafe_vector_initialization`],\n+  [`mem_discriminant_non_enum`], [`redundant_clone`], [`wildcard_dependencies`],\n+  [`into_iter_on_ref`], [`into_iter_on_array`], [`deprecated_cfg_attr`],\n+  [`mem_discriminant_non_enum`], [`cargo_common_metadata`]\n+* Add support for `u128` and `i128` to integer related lints\n+* Add float support to `mistyped_literal_suffixes`\n+* Fix false positives in `use_self`\n+* Fix false positives in `missing_comma`\n+* Fix false positives in `new_ret_no_self`\n+* Fix false positives in `possible_missing_comma`\n+* Fix false positive in `integer_arithmetic` in constant items\n+* Fix false positive in `needless_borrow`\n+* Fix false positive in `out_of_bounds_indexing`\n+* Fix false positive in `new_without_default_derive`\n+* Fix false positive in `string_lit_as_bytes`\n+* Fix false negative in `out_of_bounds_indexing`\n+* Fix false negative in `use_self`. It will now also check existential types\n+* Fix incorrect suggestion for `redundant_closure_call`\n+* Fix various suggestions that contained expanded macros\n+* Fix `bool_comparison` triggering 3 times on on on the same code\n+* Expand `trivially_copy_pass_by_ref` to work on trait methods\n+* Improve suggestion for `needless_range_loop`\n+* Move `needless_pass_by_value` from `pedantic` group to `style`\n+\n+## Rust 1.31 (2018-12-06)\n+\n+[125907ad..2e26fdc2](https://github.com/rust-lang/rust-clippy/compare/125907ad..2e26fdc2)\n+\n+* Clippy has been relicensed under a dual MIT / Apache license.\n+  See [#3093](https://github.com/rust-lang/rust-clippy/issues/3093) for more\n+  information.\n+* With Rust 1.31, Clippy is no longer available via crates.io. The recommended\n+  installation method is via `rustup component add clippy`.\n+* New lints: [`redundant_pattern_matching`], [`unnecessary_filter_map`],\n+  [`unused_unit`], [`map_flatten`], [`mem_replace_option_with_none`]\n+* Fix ICE in `if_let_redundant_pattern_matching`\n+* Fix ICE in `needless_pass_by_value` when encountering a generic function\n+  argument with a lifetime parameter\n+* Fix ICE in `needless_range_loop`\n+* Fix ICE in `single_char_pattern` when encountering a constant value\n+* Fix false positive in `assign_op_pattern`\n+* Fix false positive in `boxed_local` on trait implementations\n+* Fix false positive in `cmp_owned`\n+* Fix false positive in `collapsible_if` when conditionals have comments\n+* Fix false positive in `double_parens`\n+* Fix false positive in `excessive_precision`\n+* Fix false positive in `explicit_counter_loop`\n+* Fix false positive in `fn_to_numeric_cast_with_truncation`\n+* Fix false positive in `map_clone`\n+* Fix false positive in `new_ret_no_self`\n+* Fix false positive in `new_without_default` when `new` is unsafe\n+* Fix false positive in `type_complexity` when using extern types\n+* Fix false positive in `useless_format`\n+* Fix false positive in `wrong_self_convention`\n+* Fix incorrect suggestion for `excessive_precision`\n+* Fix incorrect suggestion for `expect_fun_call`\n+* Fix incorrect suggestion for `get_unwrap`\n+* Fix incorrect suggestion for `useless_format`\n+* `fn_to_numeric_cast_with_truncation` lint can be disabled again\n+* Improve suggestions for `manual_memcpy`\n+* Improve help message for `needless_lifetimes`\n+\n+## Rust 1.30 (2018-10-25)\n+\n+[14207503...125907ad](https://github.com/rust-lang/rust-clippy/compare/14207503...125907ad)\n+\n+* Deprecate `assign_ops` lint\n+* New lints: [`mistyped_literal_suffixes`], [`ptr_offset_with_cast`],\n+  [`needless_collect`], [`copy_iterator`]\n+* `cargo clippy -V` now includes the Clippy commit hash of the Rust\n+  Clippy component\n+* Fix ICE in `implicit_hasher`\n+* Fix ICE when encountering `println!(\"{}\" a);`\n+* Fix ICE when encountering a macro call in match statements\n+* Fix false positive in `default_trait_access`\n+* Fix false positive in `trivially_copy_pass_by_ref`\n+* Fix false positive in `similar_names`\n+* Fix false positive in `redundant_field_name`\n+* Fix false positive in `expect_fun_call`\n+* Fix false negative in `identity_conversion`\n+* Fix false negative in `explicit_counter_loop`\n+* Fix `range_plus_one` suggestion and false negative\n+* `print_with_newline` / `write_with_newline`: don't warn about string with several `\\n`s in them\n+* Fix `useless_attribute` to also whitelist `unused_extern_crates`\n+* Fix incorrect suggestion for `single_char_pattern`\n+* Improve suggestion for `identity_conversion` lint\n+* Move `explicit_iter_loop` and `explicit_into_iter_loop` from `style` group to `pedantic`\n+* Move `range_plus_one` and `range_minus_one` from `nursery` group to `complexity`\n+* Move `shadow_unrelated` from `restriction` group to `pedantic`\n+* Move `indexing_slicing` from `pedantic` group to `restriction`\n+\n+## Rust 1.29 (2018-09-13)\n+\n+[v0.0.212...14207503](https://github.com/rust-lang/rust-clippy/compare/v0.0.212...14207503)\n+\n+* :tada: :tada: **Rust 1.29 is the first stable Rust that includes a bundled Clippy** :tada:\n+  :tada:\n+  You can now run `rustup component add clippy-preview` and then `cargo\n+  clippy` to run Clippy. This should put an end to the continuous nightly\n+  upgrades for Clippy users.\n+* Clippy now follows the Rust versioning scheme instead of its own\n+* Fix ICE when encountering a `while let (..) = x.iter()` construct\n+* Fix false positives in `use_self`\n+* Fix false positive in `trivially_copy_pass_by_ref`\n+* Fix false positive in `useless_attribute` lint\n+* Fix false positive in `print_literal`\n+* Fix `use_self` regressions\n+* Improve lint message for `neg_cmp_op_on_partial_ord`\n+* Improve suggestion highlight for `single_char_pattern`\n+* Improve suggestions for various print/write macro lints\n+* Improve website header\n+\n+## 0.0.212 (2018-07-10)\n * Rustup to *rustc 1.29.0-nightly (e06c87544 2018-07-06)*\n \n ## 0.0.211\n@@ -31,7 +152,7 @@ All notable changes to this project will be documented in this file.\n \n ## 0.0.203\n * Rustup to *rustc 1.28.0-nightly (a3085756e 2018-05-19)*\n-* clippy attributes are now of the form `clippy::cyclomatic_complexity` instead of `clippy(cyclomatic_complexity)`\n+* Clippy attributes are now of the form `clippy::cyclomatic_complexity` instead of `clippy(cyclomatic_complexity)`\n \n ## 0.0.202\n * Rustup to *rustc 1.28.0-nightly (952f344cd 2018-05-18)*"}, {"sha": "dbe73b1ba9856e08b5f430eae175a91fb5784881", "filename": "util/fetch_prs_between", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/aca1b8112026d9707b8041abfd4349c9b865db1f/util%2Ffetch_prs_between", "raw_url": "https://github.com/rust-lang/rust/raw/aca1b8112026d9707b8041abfd4349c9b865db1f/util%2Ffetch_prs_between", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Ffetch_prs_between?ref=aca1b8112026d9707b8041abfd4349c9b865db1f", "patch": "@@ -0,0 +1,20 @@\n+#!/bin/sh\n+\n+# Fetches the merge commits between two git commits and prints the PR URL\n+# together with the full commit message\n+#\n+# If you want to use this to update the Clippy changelog, be sure to manually\n+# exclude the non-user facing changes like 'rustup' PRs, typo fixes, etc.\n+\n+first=$1\n+last=$2\n+\n+IFS='\n+'\n+for pr in $(git log --oneline --grep \"Merge #\" --grep \"Merge pull request\" --grep \"Auto merge of\" \"$first...$last\" | sort -rn | uniq); do\n+  id=$(echo $pr | rg -o '#[0-9]{3,5}' | cut -c 2-)\n+  commit=$(echo $pr | cut -d' ' -f 1)\n+  echo \"URL: https://github.com/rust-lang/rust-clippy/pull/$id\"\n+  echo \"$(git --no-pager show --pretty=medium $commit)\"\n+  echo \"---------------------------------------------------------\\n\"\n+done"}]}