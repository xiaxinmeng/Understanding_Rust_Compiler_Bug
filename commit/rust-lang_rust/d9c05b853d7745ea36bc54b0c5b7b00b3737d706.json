{"sha": "d9c05b853d7745ea36bc54b0c5b7b00b3737d706", "node_id": "C_kwDOAAsO6NoAKGQ5YzA1Yjg1M2Q3NzQ1ZWEzNmJjNTRiMGM1YjdiMDBiMzczN2Q3MDY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-03-24T00:22:04Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-03-24T00:22:04Z"}, "message": "Rollup merge of #108924 - tmiasko:panic-immediate-abort, r=thomcc\n\npanic_immediate_abort requires abort as a panic strategy\n\nGuide `panic_immediate_abort` users away from `-Cpanic=unwind` and towards `-Cpanic=abort` to avoid an accidental use of the feature with the unwind strategy, e.g., on a targets where unwind is the default.\n\nThe `-Cpanic=unwind` combination doesn't offer the same benefits, since the code would still be generated under the assumption that functions implemented in Rust can unwind.", "tree": {"sha": "15a9efb4f98cf8774b45f6e3ecacf8a7d679b6ed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/15a9efb4f98cf8774b45f6e3ecacf8a7d679b6ed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9c05b853d7745ea36bc54b0c5b7b00b3737d706", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkHO0sCRBK7hj4Ov3rIwAAXcsIAG6A7Nqzqjr6G6pKysBPVnoS\n4lMPHoxjQZkU2oaoatnHHAWWKwtWxsNbs+6x6ent+Mw7TNjyNJI6tIgOczTZxmw/\nezkj4Pbda0njMu/mWJuHVYJWLeh2COdXfmP+THLzFYhDQVcV4azMW5cphzo/qspt\n60KtkE+kOG+TRyRpFaTCWWUKoKdgTDtliBesHAo+mFz/PH+I+7gu6icf6d44VBfG\nfmtUQ5vGi39r6FjgDmJwYsbUgRqmNrf3XXyGb/TEjzqcrqOnxuE2xnEezfGTMBuB\nz2+2WsdQPGpuxnR2uFSgCGxmuxCP3r0wT9bd9jvOn10tCj0c+dM/rHTAUjmcQtU=\n=YZbB\n-----END PGP SIGNATURE-----\n", "payload": "tree 15a9efb4f98cf8774b45f6e3ecacf8a7d679b6ed\nparent eb46afb21683bc54f86c556bacff7c9bd82f9933\nparent 7c75e39790a6cfd5f4f8e90a2554286d3d9eabea\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1679617324 +0100\ncommitter GitHub <noreply@github.com> 1679617324 +0100\n\nRollup merge of #108924 - tmiasko:panic-immediate-abort, r=thomcc\n\npanic_immediate_abort requires abort as a panic strategy\n\nGuide `panic_immediate_abort` users away from `-Cpanic=unwind` and towards `-Cpanic=abort` to avoid an accidental use of the feature with the unwind strategy, e.g., on a targets where unwind is the default.\n\nThe `-Cpanic=unwind` combination doesn't offer the same benefits, since the code would still be generated under the assumption that functions implemented in Rust can unwind.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9c05b853d7745ea36bc54b0c5b7b00b3737d706", "html_url": "https://github.com/rust-lang/rust/commit/d9c05b853d7745ea36bc54b0c5b7b00b3737d706", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9c05b853d7745ea36bc54b0c5b7b00b3737d706/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb46afb21683bc54f86c556bacff7c9bd82f9933", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb46afb21683bc54f86c556bacff7c9bd82f9933", "html_url": "https://github.com/rust-lang/rust/commit/eb46afb21683bc54f86c556bacff7c9bd82f9933"}, {"sha": "7c75e39790a6cfd5f4f8e90a2554286d3d9eabea", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c75e39790a6cfd5f4f8e90a2554286d3d9eabea", "html_url": "https://github.com/rust-lang/rust/commit/7c75e39790a6cfd5f4f8e90a2554286d3d9eabea"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "35da9151b6f72c5d197615ab0d087e96e028be7b", "filename": "library/core/src/panicking.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d9c05b853d7745ea36bc54b0c5b7b00b3737d706/library%2Fcore%2Fsrc%2Fpanicking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9c05b853d7745ea36bc54b0c5b7b00b3737d706/library%2Fcore%2Fsrc%2Fpanicking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fpanicking.rs?ref=d9c05b853d7745ea36bc54b0c5b7b00b3737d706", "patch": "@@ -29,6 +29,9 @@\n use crate::fmt;\n use crate::panic::{Location, PanicInfo};\n \n+#[cfg(feature = \"panic_immediate_abort\")]\n+const _: () = assert!(cfg!(panic = \"abort\"), \"panic_immediate_abort requires -C panic=abort\");\n+\n // First we define the two main entry points that all panics go through.\n // In the end both are just convenience wrappers around `panic_impl`.\n "}]}