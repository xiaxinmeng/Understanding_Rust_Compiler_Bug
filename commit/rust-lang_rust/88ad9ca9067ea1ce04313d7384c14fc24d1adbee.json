{"sha": "88ad9ca9067ea1ce04313d7384c14fc24d1adbee", "node_id": "C_kwDOAAsO6NoAKDg4YWQ5Y2E5MDY3ZWExY2UwNDMxM2Q3Mzg0YzE0ZmMyNGQxYWRiZWU", "commit": {"author": {"name": "Rain", "email": "rain@sunshowers.io", "date": "2022-07-20T02:37:24Z"}, "committer": {"name": "Rain", "email": "rain@sunshowers.io", "date": "2022-07-21T01:44:20Z"}, "message": "[cargo-miri] support nextest\n\nAdd the ability to run the `list` and `run` nextest commands, which\nenable per-test isolation.", "tree": {"sha": "6999064ea6fbde87b759be3b4c51b11fed20a83c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6999064ea6fbde87b759be3b4c51b11fed20a83c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/88ad9ca9067ea1ce04313d7384c14fc24d1adbee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/88ad9ca9067ea1ce04313d7384c14fc24d1adbee", "html_url": "https://github.com/rust-lang/rust/commit/88ad9ca9067ea1ce04313d7384c14fc24d1adbee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/88ad9ca9067ea1ce04313d7384c14fc24d1adbee/comments", "author": {"login": "sunshowers", "id": 180618, "node_id": "MDQ6VXNlcjE4MDYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/180618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunshowers", "html_url": "https://github.com/sunshowers", "followers_url": "https://api.github.com/users/sunshowers/followers", "following_url": "https://api.github.com/users/sunshowers/following{/other_user}", "gists_url": "https://api.github.com/users/sunshowers/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunshowers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunshowers/subscriptions", "organizations_url": "https://api.github.com/users/sunshowers/orgs", "repos_url": "https://api.github.com/users/sunshowers/repos", "events_url": "https://api.github.com/users/sunshowers/events{/privacy}", "received_events_url": "https://api.github.com/users/sunshowers/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sunshowers", "id": 180618, "node_id": "MDQ6VXNlcjE4MDYxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/180618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunshowers", "html_url": "https://github.com/sunshowers", "followers_url": "https://api.github.com/users/sunshowers/followers", "following_url": "https://api.github.com/users/sunshowers/following{/other_user}", "gists_url": "https://api.github.com/users/sunshowers/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunshowers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunshowers/subscriptions", "organizations_url": "https://api.github.com/users/sunshowers/orgs", "repos_url": "https://api.github.com/users/sunshowers/repos", "events_url": "https://api.github.com/users/sunshowers/events{/privacy}", "received_events_url": "https://api.github.com/users/sunshowers/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ecdc9ea6180118efcf4192ce5e073c39fb5db30", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ecdc9ea6180118efcf4192ce5e073c39fb5db30", "html_url": "https://github.com/rust-lang/rust/commit/9ecdc9ea6180118efcf4192ce5e073c39fb5db30"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "9f6603f80b7eb6baf2df15ecda38f5319ddd22c2", "filename": "cargo-miri/bin.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/88ad9ca9067ea1ce04313d7384c14fc24d1adbee/cargo-miri%2Fbin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88ad9ca9067ea1ce04313d7384c14fc24d1adbee/cargo-miri%2Fbin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri%2Fbin.rs?ref=88ad9ca9067ea1ce04313d7384c14fc24d1adbee", "patch": "@@ -27,6 +27,7 @@ Usage:\n Subcommands:\n     run, r                   Run binaries\n     test, t                  Run tests\n+    nextest                  Run tests with nextest (requires cargo-nextest installed)\n     setup                    Only perform automatic setup, but without asking questions (for getting a proper libstd)\n \n The cargo options are exactly the same as for `cargo run` and `cargo test`, respectively.\n@@ -586,11 +587,10 @@ fn phase_cargo_miri(mut args: env::Args) {\n     };\n     let subcommand = match &*subcommand {\n         \"setup\" => MiriCommand::Setup,\n-        \"test\" | \"t\" | \"run\" | \"r\" => MiriCommand::Forward(subcommand),\n-        // Invalid command.\n+        \"test\" | \"t\" | \"run\" | \"r\" | \"nextest\" => MiriCommand::Forward(subcommand),\n         _ =>\n             show_error(format!(\n-                \"`cargo miri` supports the following subcommands: `run`, `test`, and `setup`.\"\n+                \"`cargo miri` supports the following subcommands: `run`, `test`, `nextest`, and `setup`.\"\n             )),\n     };\n     let verbose = num_arg_flag(\"-v\");"}]}