{"sha": "a4342a7feeaca642a64ad908432a17b31f081e01", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE0MzQyYTdmZWVhY2E2NDJhNjRhZDkwODQzMmExN2IzMWYwODFlMDE=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-01-30T20:25:02Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-01-31T20:23:30Z"}, "message": "add conversion boilerplate", "tree": {"sha": "e4c86474cf385784c8b9e73c0b442860e52eb3c5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e4c86474cf385784c8b9e73c0b442860e52eb3c5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a4342a7feeaca642a64ad908432a17b31f081e01", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a4342a7feeaca642a64ad908432a17b31f081e01", "html_url": "https://github.com/rust-lang/rust/commit/a4342a7feeaca642a64ad908432a17b31f081e01", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a4342a7feeaca642a64ad908432a17b31f081e01/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca327f35addd2be36f2463f28c7fc044e5f7cf55", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca327f35addd2be36f2463f28c7fc044e5f7cf55", "html_url": "https://github.com/rust-lang/rust/commit/ca327f35addd2be36f2463f28c7fc044e5f7cf55"}], "stats": {"total": 24, "additions": 17, "deletions": 7}, "files": [{"sha": "647df4260cf6876b0cc82261ec289d370a1db10e", "filename": "crates/ra_hir/src/macros.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a4342a7feeaca642a64ad908432a17b31f081e01/crates%2Fra_hir%2Fsrc%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a4342a7feeaca642a64ad908432a17b31f081e01/crates%2Fra_hir%2Fsrc%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fmacros.rs?ref=a4342a7feeaca642a64ad908432a17b31f081e01", "patch": "@@ -200,3 +200,7 @@ pub(crate) fn expand_macro_invocation(\n     let (def, input) = MacroDef::from_call(macro_call)?;\n     def.expand(input).map(Arc::new)\n }\n+\n+fn macro_call_to_tt(call: &ast::MacroCall) -> Option<tt::TokenTree> {\n+    None\n+}"}, {"sha": "2d7965b62103f4ff6cdb955ae9d44201565becfb", "filename": "crates/ra_hir/src/macros/mbe.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a4342a7feeaca642a64ad908432a17b31f081e01/crates%2Fra_hir%2Fsrc%2Fmacros%2Fmbe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a4342a7feeaca642a64ad908432a17b31f081e01/crates%2Fra_hir%2Fsrc%2Fmacros%2Fmbe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fmacros%2Fmbe.rs?ref=a4342a7feeaca642a64ad908432a17b31f081e01", "patch": "@@ -1,5 +1,7 @@\n use ra_syntax::SmolStr;\n \n+use crate::macros::tt;\n+\n struct MacroRules {\n     rules: Vec<Rule>,\n }\n@@ -48,3 +50,7 @@ struct Ident {\n struct Var {\n     text: SmolStr,\n }\n+\n+fn parse(tt: tt::TokenTree) -> MacroRules {\n+    MacroRules { rules: Vec::new() }\n+}"}, {"sha": "817cb262ea888083ddfc0847baffc0f50ca19376", "filename": "crates/ra_hir/src/macros/tt.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a4342a7feeaca642a64ad908432a17b31f081e01/crates%2Fra_hir%2Fsrc%2Fmacros%2Ftt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a4342a7feeaca642a64ad908432a17b31f081e01/crates%2Fra_hir%2Fsrc%2Fmacros%2Ftt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fmacros%2Ftt.rs?ref=a4342a7feeaca642a64ad908432a17b31f081e01", "patch": "@@ -1,36 +1,36 @@\n use ra_syntax::SmolStr;\n \n-enum TokenTree {\n+pub(crate) enum TokenTree {\n     Leaf(Leaf),\n     Subtree(Subtree),\n }\n \n-enum Leaf {\n+pub(crate) enum Leaf {\n     Literal(Literal),\n     Punct(Punct),\n     Ident(Ident),\n }\n \n-struct Subtree {\n+pub(crate) struct Subtree {\n     delimiter: Delimiter,\n     token_trees: Vec<TokenTree>,\n }\n \n-enum Delimiter {\n+pub(crate) enum Delimiter {\n     Parenthesis,\n     Brace,\n     Bracket,\n     None,\n }\n \n-struct Literal {\n+pub(crate) struct Literal {\n     text: SmolStr,\n }\n \n-struct Punct {\n+pub(crate) struct Punct {\n     char: char,\n }\n \n-struct Ident {\n+pub(crate) struct Ident {\n     text: SmolStr,\n }"}]}