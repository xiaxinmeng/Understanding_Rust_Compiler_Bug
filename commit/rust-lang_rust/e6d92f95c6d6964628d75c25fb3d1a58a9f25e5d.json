{"sha": "e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2ZDkyZjk1YzZkNjk2NDYyOGQ3NWMyNWZiM2QxYTU4YTlmMjVlNWQ=", "commit": {"author": {"name": "Martin Carton", "email": "cartonmartin+github@gmail.com", "date": "2018-08-12T19:35:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-08-12T19:35:52Z"}, "message": "Merge pull request #3038 from matthiaskrgr/clippy_docs\n\ndocs: add more suggestions on how to fix clippy findings to the online lint list", "tree": {"sha": "f73958467bebc28582bb62d6cbdf3ed4924ec31a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f73958467bebc28582bb62d6cbdf3ed4924ec31a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbcIwYCRBK7hj4Ov3rIwAAdHIIAH9oZd1mgLcJwecmeD3WffJ2\nXNW+ROd0QJadCT1VgK1p1ksGLo8sxe3jOYJjO8PwqfkCXe6GN6my+H/ufhdKFFWU\nlMHV4ICdvs5viQhGqP/57n5Nb2sZEhB64f//yCoYoUdjpoR7aTNjbXMIIp9ExhcW\n/BdoDWFohy+XUPn4J3GHZ/gPxhRLIuXWmzdrhhsZ8+LL0tWMaAeIMpU0nfSV99DU\ntAC7shEKcVWC9FWnBRzhRuar7tkkTE1r/b9vrQ1s4Seby0uCppqQJosUypt8pXYl\n4HmvFyNFk1Kdtn7Hc6b97xC8sJrlvJCEcMgfJDNEBpkmKGy+uRnLdHbSrEAhWPo=\n=x88c\n-----END PGP SIGNATURE-----\n", "payload": "tree f73958467bebc28582bb62d6cbdf3ed4924ec31a\nparent b6f08780de78d8d6b98780f29073a9a1e8701b87\nparent 88d693918ff1874b6cfb7fbc9e2cd9bff389b96f\nauthor Martin Carton <cartonmartin+github@gmail.com> 1534102552 +0200\ncommitter GitHub <noreply@github.com> 1534102552 +0200\n\nMerge pull request #3038 from matthiaskrgr/clippy_docs\n\ndocs: add more suggestions on how to fix clippy findings to the online lint list"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "html_url": "https://github.com/rust-lang/rust/commit/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/comments", "author": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b6f08780de78d8d6b98780f29073a9a1e8701b87", "url": "https://api.github.com/repos/rust-lang/rust/commits/b6f08780de78d8d6b98780f29073a9a1e8701b87", "html_url": "https://github.com/rust-lang/rust/commit/b6f08780de78d8d6b98780f29073a9a1e8701b87"}, {"sha": "88d693918ff1874b6cfb7fbc9e2cd9bff389b96f", "url": "https://api.github.com/repos/rust-lang/rust/commits/88d693918ff1874b6cfb7fbc9e2cd9bff389b96f", "html_url": "https://github.com/rust-lang/rust/commit/88d693918ff1874b6cfb7fbc9e2cd9bff389b96f"}], "stats": {"total": 58, "additions": 55, "deletions": 3}, "files": [{"sha": "081450516bb3c6cea3291282c7daf7123d7b30d4", "filename": "clippy_lints/src/len_zero.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flen_zero.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -22,6 +22,12 @@ use crate::utils::{get_item_name, in_macro, snippet, span_lint, span_lint_and_su\n /// **Example:**\n /// ```rust\n /// if x.len() == 0 { .. }\n+/// if y.len() != 0 { .. }\n+/// ```\n+/// instead use\n+/// ```rust\n+/// if x.len().is_empty() { .. }\n+/// if !y.len().is_empty() { .. }\n /// ```\n declare_clippy_lint! {\n     pub LEN_ZERO,"}, {"sha": "6d3134d2206263e8898f2857843109a676174070", "filename": "clippy_lints/src/loops.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -80,6 +80,10 @@ declare_clippy_lint! {\n /// // with `y` a `Vec` or slice:\n /// for x in y.iter() { .. }\n /// ```\n+/// can be rewritten to\n+/// ```rust\n+/// for x in &y { .. }\n+/// ```\n declare_clippy_lint! {\n     pub EXPLICIT_ITER_LOOP,\n     style,\n@@ -98,6 +102,10 @@ declare_clippy_lint! {\n /// // with `y` a `Vec` or slice:\n /// for x in y.into_iter() { .. }\n /// ```\n+/// can be rewritten to\n+/// ```rust\n+/// for x in y { .. }\n+/// ```\n declare_clippy_lint! {\n     pub EXPLICIT_INTO_ITER_LOOP,\n     style,"}, {"sha": "d42355f89f4bee6556b3905dc088ac41d970b040", "filename": "clippy_lints/src/matches.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -93,6 +93,15 @@ declare_clippy_lint! {\n ///     false => bar(),\n /// }\n /// ```\n+/// Use if/else instead:\n+/// ```rust\n+/// let condition: bool = true;\n+/// if condition {\n+///     foo();\n+/// } else {\n+///     bar();\n+/// }\n+/// ```\n declare_clippy_lint! {\n     pub MATCH_BOOL,\n     style,"}, {"sha": "69df7f2a1c5ac347ca1e4ad8356c5e53cc480316", "filename": "clippy_lints/src/methods.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fmethods.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fmethods.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -448,7 +448,7 @@ declare_clippy_lint! {\n /// **Known problems:** Does not catch multi-byte unicode characters.\n ///\n /// **Example:**\n-/// `_.split(\"x\")` could be `_.split('x')\n+/// `_.split(\"x\")` could be `_.split('x')`\n declare_clippy_lint! {\n     pub SINGLE_CHAR_PATTERN,\n     perf,\n@@ -468,7 +468,7 @@ declare_clippy_lint! {\n /// ```rust,ignore\n /// let c_str = CString::new(\"foo\").unwrap().as_ptr();\n /// unsafe {\n-/// call_some_ffi_func(c_str);\n+///     call_some_ffi_func(c_str);\n /// }\n /// ```\n /// Here `c_str` point to a freed address. The correct use would be:"}, {"sha": "ba8b11e55df4aec44b7270767a73976edaa3dabc", "filename": "clippy_lints/src/redundant_field_names.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fredundant_field_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fredundant_field_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_field_names.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -21,6 +21,10 @@ use crate::utils::{span_lint_and_sugg};\n ///\n /// let foo = Foo{ bar: bar }\n /// ```\n+/// the last line can be simplified to\n+/// ```rust\n+/// let foo = Foo{ bar }\n+/// ```\n declare_clippy_lint! {\n     pub REDUNDANT_FIELD_NAMES,\n     style,"}, {"sha": "b2202fb1effdd5e9fc96acb222ad08d8117f3a3b", "filename": "clippy_lints/src/returns.rs", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Freturns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Freturns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freturns.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -19,6 +19,10 @@ use crate::utils::{in_macro, match_path_ast, snippet_opt, span_lint_and_then, sp\n /// ```rust\n /// fn foo(x: usize) { return x; }\n /// ```\n+/// simplify to\n+/// ```rust\n+/// fn foo(x: usize) { x }\n+/// ```\n declare_clippy_lint! {\n     pub NEEDLESS_RETURN,\n     style,\n@@ -35,7 +39,16 @@ declare_clippy_lint! {\n ///\n /// **Example:**\n /// ```rust\n-/// { let x = ..; x }\n+/// fn foo() -> String {\n+///    let x = String::new();\n+///    x\n+///}\n+/// ```\n+/// instead, use\n+/// ```\n+/// fn foo() -> String {\n+///    String::new()\n+///}\n /// ```\n declare_clippy_lint! {\n     pub LET_AND_RETURN,"}, {"sha": "a6645e19f02b75298ef3cec41ea4203898e43521", "filename": "clippy_lints/src/shadow.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fshadow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fshadow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fshadow.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -42,6 +42,10 @@ declare_clippy_lint! {\n /// ```rust\n /// let x = x + 1;\n /// ```\n+/// use different variable name:\n+/// ```rust\n+/// let y = x + 1;\n+/// ```\n declare_clippy_lint! {\n     pub SHADOW_REUSE,\n     restriction,"}, {"sha": "915ba8328337aa61b1fc3317de8dea7c6161c031", "filename": "clippy_lints/src/write.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d/clippy_lints%2Fsrc%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwrite.rs?ref=e6d92f95c6d6964628d75c25fb3d1a58a9f25e5d", "patch": "@@ -35,6 +35,10 @@ declare_clippy_lint! {\n /// ```rust\n /// print!(\"Hello {}!\\n\", name);\n /// ```\n+/// use println!() instead\n+/// ```rust\n+/// println!(\"Hello {}!\", name);\n+/// ```\n declare_clippy_lint! {\n     pub PRINT_WITH_NEWLINE,\n     style,\n@@ -88,6 +92,10 @@ declare_clippy_lint! {\n /// ```rust\n /// println!(\"{}\", \"foo\");\n /// ```\n+/// use the literal without formatting:\n+/// ```rust\n+/// println!(\"foo\");\n+/// ```\n declare_clippy_lint! {\n     pub PRINT_LITERAL,\n     style,"}]}