{"sha": "1cab0cbaf0dddb4cd403c4a0c391315801a22835", "node_id": "C_kwDOAAsO6NoAKDFjYWIwY2JhZjBkZGRiNGNkNDAzYzRhMGMzOTEzMTU4MDFhMjI4MzU", "commit": {"author": {"name": "blyxyas", "email": "blyxyas@gmail.com", "date": "2023-03-15T22:20:52Z"}, "committer": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2023-03-16T10:10:59Z"}, "message": "Fix formatting, remove commented code, etc...", "tree": {"sha": "99314e02038af99507f7b1357f4b041adc583860", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/99314e02038af99507f7b1357f4b041adc583860"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1cab0cbaf0dddb4cd403c4a0c391315801a22835", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEwgBEOx3xlHwII7PG9cWdDmaeUwIFAmQS6zMACgkQ9cWdDmae\nUwKPEA/6AxK15UvsxQux//qdoWhE0Sq5mcr/CJBndKVG2eMEjBeKXFboJUE7c/4e\nXJWVF1K/gHFKsV6qiknchHfWXCCIFOQwifKAvOqQLuM+yjezBGC8Nr8fkvG7akjX\niy/mpPsZLY96eiWAUwHvzH+YnTmFsp02H2aZlhDJNJLf20n+dHXtN89nCsDsCrYk\n+gGOF/w1F5ta3F8YYszewqeLMbqKTxf3/7c6WqOs50lle2zrh2VV3u/4ybPOIg8M\nkqLe9fW7UFN2IzR7ehonODxA2LR01HT3XmEeSYvGhdg38Xgn+do4QkRpd4ggUa7f\niP2bOA9aboMyJ5b97+n7kWWrNWfUCCmbOhf83lLF5fILRtjXB27f2evka8XJmIw4\nT/E3KkJ20mE1drQTimyeDG5hgJRTLQ0rnwuYgcpD//2OihWeu+yK+mff8tYh+N8H\nSyhvWkhUQoho3R0OWuhgUEEDkCB7HL5Ary/KB9C4WbswGnpSm+aVchKafcW2EzT4\nmUqplFkX6mJqfN8JGmde1gXp5/mnirUZfWPQanuwJU1B09qwfHeEilJBrUiJuW/n\nW62z+zWtkPV71OuQ97Cjo0dTpDT+br1Zb9naETLtR0gaRUWh/Rm+1vVFH+CFo+iF\ne54rs/I3CSjI3Rq2sIPL9UFQxa/XjzgIUGZBoOOV6AbGnKmiCEY=\n=X4/a\n-----END PGP SIGNATURE-----", "payload": "tree 99314e02038af99507f7b1357f4b041adc583860\nparent 4b9cb857f9b6da4e3b274601a6c439aac8a2c425\nauthor blyxyas <blyxyas@gmail.com> 1678918852 +0100\ncommitter xFrednet <xFrednet@gmail.com> 1678961459 +0100\n\nFix formatting, remove commented code, etc...\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1cab0cbaf0dddb4cd403c4a0c391315801a22835", "html_url": "https://github.com/rust-lang/rust/commit/1cab0cbaf0dddb4cd403c4a0c391315801a22835", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1cab0cbaf0dddb4cd403c4a0c391315801a22835/comments", "author": {"login": "blyxyas", "id": 73757586, "node_id": "MDQ6VXNlcjczNzU3NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73757586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blyxyas", "html_url": "https://github.com/blyxyas", "followers_url": "https://api.github.com/users/blyxyas/followers", "following_url": "https://api.github.com/users/blyxyas/following{/other_user}", "gists_url": "https://api.github.com/users/blyxyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/blyxyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blyxyas/subscriptions", "organizations_url": "https://api.github.com/users/blyxyas/orgs", "repos_url": "https://api.github.com/users/blyxyas/repos", "events_url": "https://api.github.com/users/blyxyas/events{/privacy}", "received_events_url": "https://api.github.com/users/blyxyas/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4b9cb857f9b6da4e3b274601a6c439aac8a2c425", "url": "https://api.github.com/repos/rust-lang/rust/commits/4b9cb857f9b6da4e3b274601a6c439aac8a2c425", "html_url": "https://github.com/rust-lang/rust/commit/4b9cb857f9b6da4e3b274601a6c439aac8a2c425"}], "stats": {"total": 22, "additions": 7, "deletions": 15}, "files": [{"sha": "15d46e954a9a59b6633d5411a584f79c7d08e950", "filename": "clippy_lints/src/allow_attributes.rs", "status": "modified", "additions": 7, "deletions": 15, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/1cab0cbaf0dddb4cd403c4a0c391315801a22835/clippy_lints%2Fsrc%2Fallow_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1cab0cbaf0dddb4cd403c4a0c391315801a22835/clippy_lints%2Fsrc%2Fallow_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fallow_attributes.rs?ref=1cab0cbaf0dddb4cd403c4a0c391315801a22835", "patch": "@@ -6,7 +6,7 @@ use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n declare_clippy_lint! {\n-        /// Detects uses of the `#[allow]` attribute and suggests replacing it with\n+    /// Detects uses of the `#[allow]` attribute and suggests replacing it with\n     /// the `#[expect]` (See [RFC 2383](https://rust-lang.github.io/rfcs/2383-lint-reasons.html))\n     ///\n     /// The expect attribute is still unstable and requires the `lint_reasons`\n@@ -28,11 +28,11 @@ declare_clippy_lint! {\n     /// fn foo() -> usize {\n     ///    let mut a = Vec::new();\n     ///    a.len()\n-    ///}\n+    /// }\n     /// ```\n     /// Use instead:\n     /// ```rust,ignore\n-    /// # #![feature(lint_reasons)]\n+    /// #![feature(lint_reasons)]\n     /// #[expect(unused_mut)]\n     /// fn foo() -> usize {\n     ///     let mut a = Vec::new();\n@@ -61,18 +61,10 @@ impl LateLintPass<'_> for AllowAttribute {\n                     ALLOW_ATTRIBUTES,\n                     ident.span,\n                     \"#[allow] attribute found\",\n-                    \"replace it with\", \"expect\".into()\n-                    // format!(\"expect{}\", snippet(\n-                    //     cx,\n-                    //     ident.span\n-                    //     .with_lo(\n-                    //         ident.span.hi() + BytePos(2) // Cut *(\n-                    //     )\n-                    //     .with_hi(\n-                    //         attr.meta().unwrap().span.hi() - BytePos(1) // Cut )\n-                    //     )\n-                    //     , \"...\"))\n-                    , Applicability::MachineApplicable);\n+                    \"replace it with\",\n+                    \"expect\".into(),\n+                    Applicability::MachineApplicable,\n+                );\n             }\n         }\n     }"}]}