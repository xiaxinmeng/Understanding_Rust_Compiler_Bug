{"sha": "ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmYTdlOGQ1OTk3MmQ3YTYxZmEzZTgxOTIyMTBjZTE3ZDdjODZlZTQ=", "commit": {"author": {"name": "Marcus Klaas", "email": "mail@marcusklaas.nl", "date": "2015-09-12T12:31:51Z"}, "committer": {"name": "Marcus Klaas", "email": "mail@marcusklaas.nl", "date": "2015-09-12T12:31:51Z"}, "message": "Prevent generation of bogus comment in some function calls\n\nThis would happen when the callee contained parentheses.", "tree": {"sha": "14bf470d70ecbe0af5ca0f94c5066ecab3fb496d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/14bf470d70ecbe0af5ca0f94c5066ecab3fb496d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4", "html_url": "https://github.com/rust-lang/rust/commit/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4/comments", "author": {"login": "marcusklaas", "id": 1255413, "node_id": "MDQ6VXNlcjEyNTU0MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1255413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcusklaas", "html_url": "https://github.com/marcusklaas", "followers_url": "https://api.github.com/users/marcusklaas/followers", "following_url": "https://api.github.com/users/marcusklaas/following{/other_user}", "gists_url": "https://api.github.com/users/marcusklaas/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcusklaas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcusklaas/subscriptions", "organizations_url": "https://api.github.com/users/marcusklaas/orgs", "repos_url": "https://api.github.com/users/marcusklaas/repos", "events_url": "https://api.github.com/users/marcusklaas/events{/privacy}", "received_events_url": "https://api.github.com/users/marcusklaas/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marcusklaas", "id": 1255413, "node_id": "MDQ6VXNlcjEyNTU0MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1255413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcusklaas", "html_url": "https://github.com/marcusklaas", "followers_url": "https://api.github.com/users/marcusklaas/followers", "following_url": "https://api.github.com/users/marcusklaas/following{/other_user}", "gists_url": "https://api.github.com/users/marcusklaas/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcusklaas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcusklaas/subscriptions", "organizations_url": "https://api.github.com/users/marcusklaas/orgs", "repos_url": "https://api.github.com/users/marcusklaas/repos", "events_url": "https://api.github.com/users/marcusklaas/events{/privacy}", "received_events_url": "https://api.github.com/users/marcusklaas/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "764793b2e655b14f1aa98e8e966835e0cc5d3914", "url": "https://api.github.com/repos/rust-lang/rust/commits/764793b2e655b14f1aa98e8e966835e0cc5d3914", "html_url": "https://github.com/rust-lang/rust/commit/764793b2e655b14f1aa98e8e966835e0cc5d3914"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "b5fd09e0e0166c86fcb4144f1631a9ce0218f70d", "filename": "src/expr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4", "patch": "@@ -40,7 +40,8 @@ impl Rewrite for ast::Expr {\n                 }\n             }\n             ast::Expr_::ExprCall(ref callee, ref args) => {\n-                rewrite_call(context, &**callee, args, self.span, width, offset)\n+                let inner_span = mk_sp(callee.span.hi, self.span.hi);\n+                rewrite_call(context, &**callee, args, inner_span, width, offset)\n             }\n             ast::Expr_::ExprParen(ref subexpr) => {\n                 rewrite_paren(context, subexpr, width, offset)"}, {"sha": "6abd7f9c0a7197dea61636e6e953d581eb336e24", "filename": "tests/source/closure.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4/tests%2Fsource%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4/tests%2Fsource%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fclosure.rs?ref=ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4", "patch": "@@ -44,3 +44,9 @@ fn main() {\n     |arg1, arg2, _, _, arg3, arg4| { let temp = arg4 + arg3;\n                                      arg2 * arg1 - temp }\n }\n+\n+fn issue311() {\n+    let func = |x| println!(\"{}\", x);\n+\n+    (func)(0.0);\n+}"}, {"sha": "146d967c8d5b44625855853dc416d0cb2f7a69fa", "filename": "tests/target/closure.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4/tests%2Ftarget%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4/tests%2Ftarget%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fclosure.rs?ref=ffa7e8d59972d7a61fa3e8192210ce17d7c86ee4", "patch": "@@ -70,3 +70,9 @@ fn main() {\n         arg2 * arg1 - temp\n     }\n }\n+\n+fn issue311() {\n+    let func = |x| println!(\"{}\", x);\n+\n+    (func)(0.0);\n+}"}]}