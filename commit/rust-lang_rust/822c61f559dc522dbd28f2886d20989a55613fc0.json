{"sha": "822c61f559dc522dbd28f2886d20989a55613fc0", "node_id": "C_kwDOAAsO6NoAKDgyMmM2MWY1NTlkYzUyMmRiZDI4ZjI4ODZkMjA5ODlhNTU2MTNmYzA", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-11-26T14:51:57Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-11-26T15:01:16Z"}, "message": "refactor: remove unnecessary stuff", "tree": {"sha": "48d1b843af69c7d4b509d13d8daa4a61b29326d2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/48d1b843af69c7d4b509d13d8daa4a61b29326d2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/822c61f559dc522dbd28f2886d20989a55613fc0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmOCKkcACgkQ4laYqTBY\nYXGkQQ//Un2067CWpDkJXpe4FbC8noevfFSl6QbuihAkMgTRrswR7sDNGfiJoWnF\nR88DtTFEIsZ1qrJI7na/VgluVpHcNWEg8OUh097Y52RFRdswAvk+Hp28lyTPi9yB\nyL7dDstzP7XwMoUtyjjSGhL26qAp8NDDDNmfXlJkfiwZjJzIR10Rp6pq2Ib1Scum\n1tlHnNnvJn8o5iBC3pk4OQiP0mE3s8+Qj6UxaYI8WknUVlerJBRk92c8aY8aY/RU\nOhMp4WUbFg/Sn0p6VHDPLEyCeKIVd6dE0aL0Kcmzcnfx1uLStszCebG1QJVisT+e\ny2pOlSoeRW17cO+SvKamyoOn8kwSOTeOtVHwzD8IpnXOC0Cvv6abBqg/0b14bxkK\ndAzCgaRoJlwt06gRLs8E+xrGuNTCtEw2tHvuWvpJjz/Fymg4Yiz/FuUlWSKfkvxa\ns2+p5SNTgvzWVhXZiASVYVo4jRVd3dGhDdYitnczPHW9qOSS1ApMfi8mreldyMxt\nmApyroQW5OnW5YE6W9VwVRUvnKVaZU4LX/qGXHp5pTjHxdy6aVMDfwKX/3qLZybt\neQdOs7+leTQfAVR2qDI2ugMQTfCXKy8QII26B8MmNaEnd7jiuPMYu6UVQjMrWeOO\nQD/mCGCf0zj8CyqGWsliVSHFKEJud7ukEcKUNGu8WGyfzaCwl+k=\n=A+TE\n-----END PGP SIGNATURE-----", "payload": "tree 48d1b843af69c7d4b509d13d8daa4a61b29326d2\nparent d2281f0367ba85c34ee9bce07d3cca40e1424721\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1669474317 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1669474876 +0900\n\nrefactor: remove unnecessary stuff\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/822c61f559dc522dbd28f2886d20989a55613fc0", "html_url": "https://github.com/rust-lang/rust/commit/822c61f559dc522dbd28f2886d20989a55613fc0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/822c61f559dc522dbd28f2886d20989a55613fc0/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d2281f0367ba85c34ee9bce07d3cca40e1424721", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2281f0367ba85c34ee9bce07d3cca40e1424721", "html_url": "https://github.com/rust-lang/rust/commit/d2281f0367ba85c34ee9bce07d3cca40e1424721"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "10a3a33226bbb00805c378ec6c4177b3bdd57fc8", "filename": "crates/ide-assists/src/handlers/extract_function.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/822c61f559dc522dbd28f2886d20989a55613fc0/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fextract_function.rs", "raw_url": "https://github.com/rust-lang/rust/raw/822c61f559dc522dbd28f2886d20989a55613fc0/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fextract_function.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fextract_function.rs?ref=822c61f559dc522dbd28f2886d20989a55613fc0", "patch": "@@ -265,7 +265,7 @@ enum ParamKind {\n     MutRef,\n }\n \n-#[derive(Debug, Eq, PartialEq)]\n+#[derive(Debug)]\n enum FunType {\n     Unit,\n     Single(hir::Type),\n@@ -1368,7 +1368,7 @@ impl FlowHandler {\n             None => FlowHandler::None,\n             Some(flow_kind) => {\n                 let action = flow_kind.clone();\n-                if *ret_ty == FunType::Unit {\n+                if let FunType::Unit = ret_ty {\n                     match flow_kind {\n                         FlowKind::Return(None)\n                         | FlowKind::Break(_, None)\n@@ -1946,7 +1946,7 @@ fn update_external_control_flow(handler: &FlowHandler, syntax: &SyntaxNode) {\n                 if nested_scope.is_none() {\n                     if let Some(expr) = ast::Expr::cast(e.clone()) {\n                         match expr {\n-                            ast::Expr::ReturnExpr(return_expr) if nested_scope.is_none() => {\n+                            ast::Expr::ReturnExpr(return_expr) => {\n                                 let expr = return_expr.expr();\n                                 if let Some(replacement) = make_rewritten_flow(handler, expr) {\n                                     ted::replace(return_expr.syntax(), replacement.syntax())"}]}