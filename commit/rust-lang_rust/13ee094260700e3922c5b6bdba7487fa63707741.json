{"sha": "13ee094260700e3922c5b6bdba7487fa63707741", "node_id": "C_kwDOAAsO6NoAKDEzZWUwOTQyNjA3MDBlMzkyMmM1YjZiZGJhNzQ4N2ZhNjM3MDc3NDE", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-05-17T10:01:33Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-05-17T10:01:33Z"}, "message": "Rollup merge of #97080 - lcnr:relate-sus, r=oli-obk\n\nremove the `RelateResultCompare` trait\n\nit's unused", "tree": {"sha": "76dedda55440a22b7a7b6e11ed9c12a493e2b075", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76dedda55440a22b7a7b6e11ed9c12a493e2b075"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/13ee094260700e3922c5b6bdba7487fa63707741", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJig3J9CRBK7hj4Ov3rIwAAgW0IAC38+Y4dktcxFVbQa+CKo3bK\nWe5/d9S4TJ6tH9/1joCbDfV+o4YYtfkO8vDN1RJDKEkYtFRNnqky2+EYESzrbtcu\n2gzRXs35Kf5OK7NsqKS6InXsPNaf3wDR0uYbI0kKMsXfhEpxcgWnS9m+wdP9X8AW\ngQ5Rk4U/a53WOJPCXpASWmFfWAatuIe2FZs8htOU4AAmKN+O2i29a2eoAdRcqnI8\nGjkuDVmtBR1c/17K9q61CZf9vL/uqnWoxSnb+8WBZvSkW5nGnEM1sJqr0TIOQrnm\nZlPcIv/bZrZYa9uVREG/m4ZMVbYETmM0M0BWUIDweIxlKEXBxtn+6277iSP/Uww=\n=rio5\n-----END PGP SIGNATURE-----\n", "payload": "tree 76dedda55440a22b7a7b6e11ed9c12a493e2b075\nparent 70cd85f5e39e04ba1b553784440481530606043c\nparent 0ea7301fa34719f1dd26b8e0dfaeeab73c67599a\nauthor Yuki Okushi <jtitor@2k36.org> 1652781693 +0900\ncommitter GitHub <noreply@github.com> 1652781693 +0900\n\nRollup merge of #97080 - lcnr:relate-sus, r=oli-obk\n\nremove the `RelateResultCompare` trait\n\nit's unused\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/13ee094260700e3922c5b6bdba7487fa63707741", "html_url": "https://github.com/rust-lang/rust/commit/13ee094260700e3922c5b6bdba7487fa63707741", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/13ee094260700e3922c5b6bdba7487fa63707741/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70cd85f5e39e04ba1b553784440481530606043c", "url": "https://api.github.com/repos/rust-lang/rust/commits/70cd85f5e39e04ba1b553784440481530606043c", "html_url": "https://github.com/rust-lang/rust/commit/70cd85f5e39e04ba1b553784440481530606043c"}, {"sha": "0ea7301fa34719f1dd26b8e0dfaeeab73c67599a", "url": "https://api.github.com/repos/rust-lang/rust/commits/0ea7301fa34719f1dd26b8e0dfaeeab73c67599a", "html_url": "https://github.com/rust-lang/rust/commit/0ea7301fa34719f1dd26b8e0dfaeeab73c67599a"}], "stats": {"total": 17, "additions": 1, "deletions": 16}, "files": [{"sha": "534106ac446cf8b147f4d73a3e9d615ce874e27e", "filename": "compiler/rustc_infer/src/infer/combine.rs", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/13ee094260700e3922c5b6bdba7487fa63707741/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fcombine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13ee094260700e3922c5b6bdba7487fa63707741/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fcombine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fcombine.rs?ref=13ee094260700e3922c5b6bdba7487fa63707741", "patch": "@@ -776,21 +776,6 @@ pub trait ConstEquateRelation<'tcx>: TypeRelation<'tcx> {\n     fn const_equate_obligation(&mut self, a: ty::Const<'tcx>, b: ty::Const<'tcx>);\n }\n \n-pub trait RelateResultCompare<'tcx, T> {\n-    fn compare<F>(&self, t: T, f: F) -> RelateResult<'tcx, T>\n-    where\n-        F: FnOnce() -> TypeError<'tcx>;\n-}\n-\n-impl<'tcx, T: Clone + PartialEq> RelateResultCompare<'tcx, T> for RelateResult<'tcx, T> {\n-    fn compare<F>(&self, t: T, f: F) -> RelateResult<'tcx, T>\n-    where\n-        F: FnOnce() -> TypeError<'tcx>,\n-    {\n-        self.clone().and_then(|s| if s == t { self.clone() } else { Err(f()) })\n-    }\n-}\n-\n pub fn const_unification_error<'tcx>(\n     a_is_expected: bool,\n     (a, b): (ty::Const<'tcx>, ty::Const<'tcx>),"}, {"sha": "6592e0ae8ec8f66c7e0fef7505d8786bce0cc93b", "filename": "compiler/rustc_infer/src/infer/nll_relate/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/13ee094260700e3922c5b6bdba7487fa63707741/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fnll_relate%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13ee094260700e3922c5b6bdba7487fa63707741/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fnll_relate%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fnll_relate%2Fmod.rs?ref=13ee094260700e3922c5b6bdba7487fa63707741", "patch": "@@ -859,7 +859,7 @@ where\n \n     delegate: &'me mut D,\n \n-    /// After we generalize this type, we are going to relative it to\n+    /// After we generalize this type, we are going to relate it to\n     /// some other type. What will be the variance at this point?\n     ambient_variance: ty::Variance,\n "}]}