{"sha": "fc888b583d3dd06ea89a3558350dda9440c82f61", "node_id": "C_kwDOAAsO6NoAKGZjODg4YjU4M2QzZGQwNmVhODlhMzU1ODM1MGRkYTk0NDBjODJmNjE", "commit": {"author": {"name": "Ddystopia", "email": "alexanderbabak@proton.me", "date": "2023-04-25T09:10:08Z"}, "committer": {"name": "Ddystopia", "email": "alexanderbabak@proton.me", "date": "2023-05-02T15:06:31Z"}, "message": "Add `target_directory` path to `CargoWorkspace`", "tree": {"sha": "9892783e050308778d41af2a42bf61a038227ae4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9892783e050308778d41af2a42bf61a038227ae4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fc888b583d3dd06ea89a3558350dda9440c82f61", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE83x4qCmEA5TzaAMiEJh17BFTUhIFAmRRJvcACgkQEJh17BFT\nUhLo2Q//XrE11kIRZ6F7tZdyQRKgrI/EVFeUoC8to2VI2OIopibvAL67Sk/c/1SZ\n2FAnpMx0HXdAaon9dMhHmyePUVIjVE5qqEDDc9kfl4cw/5FrwkF23MbJpeBfvS3U\ndIRb/SEqskby9YvxgTE9p2Obm93h+9eGuxVkm4ka4Z2VBtyIiaByITYyIzKEYgLB\nHUzi1ja5W6BKQatKfxjUMZ2+1TOFhvGVFMEnDAnXxRwMOf6iSlDyjJXN2f+2bSWW\nC7NehgCtUks0C5+nAuJR4jJDRocnNl5YxrKkGVUvm7za+45YanGQfCJ1w3HDn9wj\nsBfKr5muu/pJGq+InNmCxS+ewxSLM8aU5SfcywAvSqRfxliI47If5EIBbKCNKswv\n45kBjZ5Mn/Z+D0vnGap3zcakJrIiGPHlp5DXDeFSOFdiEULPoytgpcrvwQFHI6p0\nhSJ+cOoffl5HxtSujTs/XCsGBLzEfcx56qAFXE3V/UWLWIK5GuJihqP/b/GOVFZh\n4HaS7XhBtY6/zqhy2NQsQKhJA2QmQ/xJXWer9SHbOJDr9skM8k4vvGUOmpw082Uu\nGWZ+3iDqsb5L66KJnamUt2xfYgJcMMOVJyFaJz2Yt2UPJy876mWemkQsaQXcqMMu\nY6545CZPtSDANcYtiLARyR64fzOSO4pxCJCm8zZom+pmiSJ7BiM=\n=fiU4\n-----END PGP SIGNATURE-----", "payload": "tree 9892783e050308778d41af2a42bf61a038227ae4\nparent a48e0e14e15abf47feae17e54d149eb443729375\nauthor Ddystopia <alexanderbabak@proton.me> 1682413808 +0200\ncommitter Ddystopia <alexanderbabak@proton.me> 1683039991 +0200\n\nAdd `target_directory` path to `CargoWorkspace`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fc888b583d3dd06ea89a3558350dda9440c82f61", "html_url": "https://github.com/rust-lang/rust/commit/fc888b583d3dd06ea89a3558350dda9440c82f61", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fc888b583d3dd06ea89a3558350dda9440c82f61/comments", "author": {"login": "Ddystopia", "id": 63151578, "node_id": "MDQ6VXNlcjYzMTUxNTc4", "avatar_url": "https://avatars.githubusercontent.com/u/63151578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ddystopia", "html_url": "https://github.com/Ddystopia", "followers_url": "https://api.github.com/users/Ddystopia/followers", "following_url": "https://api.github.com/users/Ddystopia/following{/other_user}", "gists_url": "https://api.github.com/users/Ddystopia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ddystopia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ddystopia/subscriptions", "organizations_url": "https://api.github.com/users/Ddystopia/orgs", "repos_url": "https://api.github.com/users/Ddystopia/repos", "events_url": "https://api.github.com/users/Ddystopia/events{/privacy}", "received_events_url": "https://api.github.com/users/Ddystopia/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ddystopia", "id": 63151578, "node_id": "MDQ6VXNlcjYzMTUxNTc4", "avatar_url": "https://avatars.githubusercontent.com/u/63151578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ddystopia", "html_url": "https://github.com/Ddystopia", "followers_url": "https://api.github.com/users/Ddystopia/followers", "following_url": "https://api.github.com/users/Ddystopia/following{/other_user}", "gists_url": "https://api.github.com/users/Ddystopia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ddystopia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ddystopia/subscriptions", "organizations_url": "https://api.github.com/users/Ddystopia/orgs", "repos_url": "https://api.github.com/users/Ddystopia/repos", "events_url": "https://api.github.com/users/Ddystopia/events{/privacy}", "received_events_url": "https://api.github.com/users/Ddystopia/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a48e0e14e15abf47feae17e54d149eb443729375", "url": "https://api.github.com/repos/rust-lang/rust/commits/a48e0e14e15abf47feae17e54d149eb443729375", "html_url": "https://github.com/rust-lang/rust/commit/a48e0e14e15abf47feae17e54d149eb443729375"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "e821cae00ac9ff8fa28f1238f3c4a32e455a7fb8", "filename": "crates/project-model/src/cargo_workspace.rs", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/fc888b583d3dd06ea89a3558350dda9440c82f61/crates%2Fproject-model%2Fsrc%2Fcargo_workspace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fc888b583d3dd06ea89a3558350dda9440c82f61/crates%2Fproject-model%2Fsrc%2Fcargo_workspace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject-model%2Fsrc%2Fcargo_workspace.rs?ref=fc888b583d3dd06ea89a3558350dda9440c82f61", "patch": "@@ -32,6 +32,7 @@ pub struct CargoWorkspace {\n     packages: Arena<PackageData>,\n     targets: Arena<TargetData>,\n     workspace_root: AbsPathBuf,\n+    target_directory: AbsPathBuf,\n }\n \n impl ops::Index<Package> for CargoWorkspace {\n@@ -414,7 +415,10 @@ impl CargoWorkspace {\n         let workspace_root =\n             AbsPathBuf::assert(PathBuf::from(meta.workspace_root.into_os_string()));\n \n-        CargoWorkspace { packages, targets, workspace_root }\n+        let target_directory =\n+            AbsPathBuf::assert(PathBuf::from(meta.target_directory.into_os_string()));\n+\n+        CargoWorkspace { packages, targets, workspace_root, target_directory }\n     }\n \n     pub fn packages(&self) -> impl Iterator<Item = Package> + ExactSizeIterator + '_ {\n@@ -432,6 +436,10 @@ impl CargoWorkspace {\n         &self.workspace_root\n     }\n \n+    pub fn target_directory(&self) -> &AbsPath {\n+        &self.target_directory\n+    }\n+\n     pub fn package_flag(&self, package: &PackageData) -> String {\n         if self.is_unique(&package.name) {\n             package.name.clone()"}]}