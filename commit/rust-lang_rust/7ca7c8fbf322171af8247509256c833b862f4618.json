{"sha": "7ca7c8fbf322171af8247509256c833b862f4618", "node_id": "C_kwDOAAsO6NoAKDdjYTdjOGZiZjMyMjE3MWFmODI0NzUwOTI1NmM4MzNiODYyZjQ2MTg", "commit": {"author": {"name": "Joshua Nelson", "email": "github@jyn.dev", "date": "2023-04-09T17:36:30Z"}, "committer": {"name": "Joshua Nelson", "email": "github@jyn.dev", "date": "2023-04-09T17:36:30Z"}, "message": "compiletest: Give a better error message if `node` isn't installed", "tree": {"sha": "5fd144bd7876c7095b926e28c550403b08eca14b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5fd144bd7876c7095b926e28c550403b08eca14b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7ca7c8fbf322171af8247509256c833b862f4618", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7ca7c8fbf322171af8247509256c833b862f4618", "html_url": "https://github.com/rust-lang/rust/commit/7ca7c8fbf322171af8247509256c833b862f4618", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7ca7c8fbf322171af8247509256c833b862f4618/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dd2b19539ea4d62a150cf13d45942e58b6b44e54", "url": "https://api.github.com/repos/rust-lang/rust/commits/dd2b19539ea4d62a150cf13d45942e58b6b44e54", "html_url": "https://github.com/rust-lang/rust/commit/dd2b19539ea4d62a150cf13d45942e58b6b44e54"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "1a4b2bdb4e1878cd5f7e733c0110c967cb504427", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7ca7c8fbf322171af8247509256c833b862f4618/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ca7c8fbf322171af8247509256c833b862f4618/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=7ca7c8fbf322171af8247509256c833b862f4618", "patch": "@@ -2135,15 +2135,15 @@ impl<'test> TestCx<'test> {\n             if let Some(ref p) = self.config.nodejs {\n                 args.push(p.clone());\n             } else {\n-                self.fatal(\"no NodeJS binary found (--nodejs)\");\n+                self.fatal(\"emscripten target requested and no NodeJS binary found (--nodejs)\");\n             }\n         // If this is otherwise wasm, then run tests under nodejs with our\n         // shim\n         } else if self.config.target.contains(\"wasm32\") {\n             if let Some(ref p) = self.config.nodejs {\n                 args.push(p.clone());\n             } else {\n-                self.fatal(\"no NodeJS binary found (--nodejs)\");\n+                self.fatal(\"wasm32 target requested and no NodeJS binary found (--nodejs)\");\n             }\n \n             let src = self"}]}