{"sha": "a05c9b63ce49923fba2709ab7e04be7077a01543", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwNWM5YjYzY2U0OTkyM2ZiYTI3MDlhYjdlMDRiZTcwNzdhMDE1NDM=", "commit": {"author": {"name": "Michael Wright", "email": "mikerite@lavabit.com", "date": "2018-07-18T05:57:50Z"}, "committer": {"name": "Michael Wright", "email": "mikerite@lavabit.com", "date": "2018-07-18T05:57:50Z"}, "message": "use_self: Simplify spanning", "tree": {"sha": "5a9c60a54d9b0144e26534dff210d8291bc9f5d7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a9c60a54d9b0144e26534dff210d8291bc9f5d7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a05c9b63ce49923fba2709ab7e04be7077a01543", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a05c9b63ce49923fba2709ab7e04be7077a01543", "html_url": "https://github.com/rust-lang/rust/commit/a05c9b63ce49923fba2709ab7e04be7077a01543", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a05c9b63ce49923fba2709ab7e04be7077a01543/comments", "author": null, "committer": null, "parents": [{"sha": "5bb52c486967abed8f5f1de74f66d9c3a17a789f", "url": "https://api.github.com/repos/rust-lang/rust/commits/5bb52c486967abed8f5f1de74f66d9c3a17a789f", "html_url": "https://github.com/rust-lang/rust/commit/5bb52c486967abed8f5f1de74f66d9c3a17a789f"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "d5aaaa81c03de3d66d7ef86e975e60796142ff69", "filename": "clippy_lints/src/use_self.rs", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/a05c9b63ce49923fba2709ab7e04be7077a01543/clippy_lints%2Fsrc%2Fuse_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a05c9b63ce49923fba2709ab7e04be7077a01543/clippy_lints%2Fsrc%2Fuse_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fuse_self.rs?ref=a05c9b63ce49923fba2709ab7e04be7077a01543", "patch": "@@ -1,4 +1,4 @@\n-use crate::utils::{in_macro, span_lint_and_then};\n+use crate::utils::{in_macro, span_lint_and_sugg};\n use rustc::hir::intravisit::{walk_path, walk_ty, NestedVisitorMap, Visitor};\n use rustc::hir::*;\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n@@ -51,9 +51,14 @@ impl LintPass for UseSelf {\n const SEGMENTS_MSG: &str = \"segments should be composed of at least 1 element\";\n \n fn span_use_self_lint(cx: &LateContext, path: &Path) {\n-    span_lint_and_then(cx, USE_SELF, path.span, \"unnecessary structure name repetition\", |db| {\n-        db.span_suggestion(path.span, \"use the applicable keyword\", \"Self\".to_owned());\n-    });\n+    span_lint_and_sugg(\n+        cx,\n+        USE_SELF,\n+        path.span,\n+        \"unnecessary structure name repetition\",\n+        \"use the applicable keyword\",\n+        \"Self\".to_owned(),\n+    );\n }\n \n struct TraitImplTyVisitor<'a, 'tcx: 'a> {"}]}