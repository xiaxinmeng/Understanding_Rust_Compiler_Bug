{"sha": "3851d68a27d41dfd15e12a75b590f362a0675870", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4NTFkNjhhMjdkNDFkZmQxNWUxMmE3NWI1OTBmMzYyYTA2NzU4NzA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-13T22:46:35Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-13T22:46:35Z"}, "message": "auto merge of #14750 : bachm/rust/master, r=alexcrichton\n\nThis adds the missing `get_mut` method to the `MutableVector` trait, and implements it for `&'a mut [T]`.", "tree": {"sha": "5f8864590e55a30df81861a8b93b823cb01a0e74", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5f8864590e55a30df81861a8b93b823cb01a0e74"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3851d68a27d41dfd15e12a75b590f362a0675870", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3851d68a27d41dfd15e12a75b590f362a0675870", "html_url": "https://github.com/rust-lang/rust/commit/3851d68a27d41dfd15e12a75b590f362a0675870", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3851d68a27d41dfd15e12a75b590f362a0675870/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "63dcc9a4df50680686bee852e82a52fbc59b3c27", "url": "https://api.github.com/repos/rust-lang/rust/commits/63dcc9a4df50680686bee852e82a52fbc59b3c27", "html_url": "https://github.com/rust-lang/rust/commit/63dcc9a4df50680686bee852e82a52fbc59b3c27"}, {"sha": "78053f08253de974ea6e8a6ee8bb1f4c082daeab", "url": "https://api.github.com/repos/rust-lang/rust/commits/78053f08253de974ea6e8a6ee8bb1f4c082daeab", "html_url": "https://github.com/rust-lang/rust/commit/78053f08253de974ea6e8a6ee8bb1f4c082daeab"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "ff00ca58e8c7668b014105a3c0eaeb388bf37c36", "filename": "src/libcollections/slice.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3851d68a27d41dfd15e12a75b590f362a0675870/src%2Flibcollections%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3851d68a27d41dfd15e12a75b590f362a0675870/src%2Flibcollections%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fslice.rs?ref=3851d68a27d41dfd15e12a75b590f362a0675870", "patch": "@@ -2034,6 +2034,16 @@ mod tests {\n         assert!(xs == [1,2,0,4,3,0,0,6,5,0]);\n     }\n \n+    #[test]\n+    fn test_get_mut() {\n+        let mut v = [0,1,2];\n+        assert_eq!(v.get_mut(3), None);\n+        v.get_mut(1).map(|e| *e = 7);\n+        assert_eq!(v[1], 7);\n+        let mut x = 2;\n+        assert_eq!(v.get_mut(2), Some(&mut x));\n+    }\n+\n     #[test]\n     fn test_mut_chunks() {\n         let mut v = [0u8, 1, 2, 3, 4, 5, 6];"}, {"sha": "bb24d53458c24044df6ebf82fdbcbb89a89ab03f", "filename": "src/libcore/slice.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3851d68a27d41dfd15e12a75b590f362a0675870/src%2Flibcore%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3851d68a27d41dfd15e12a75b590f362a0675870/src%2Flibcore%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fslice.rs?ref=3851d68a27d41dfd15e12a75b590f362a0675870", "patch": "@@ -717,6 +717,9 @@ impl<'a, T: Ord> ImmutableOrdVector<T> for &'a [T] {\n /// Extension methods for vectors such that their elements are\n /// mutable.\n pub trait MutableVector<'a, T> {\n+    /// Returns a mutable reference to the element at the given index,\n+    /// or `None` if the index is out of bounds\n+    fn get_mut(self, index: uint) -> Option<&'a mut T>;\n     /// Work with `self` as a mut slice.\n     /// Primarily intended for getting a &mut [T] from a [T, ..N].\n     fn as_mut_slice(self) -> &'a mut [T];\n@@ -920,6 +923,11 @@ pub trait MutableVector<'a, T> {\n }\n \n impl<'a,T> MutableVector<'a, T> for &'a mut [T] {\n+    #[inline]\n+    fn get_mut(self, index: uint) -> Option<&'a mut T> {\n+        if index < self.len() { Some(&mut self[index]) } else { None }\n+    }\n+\n     #[inline]\n     fn as_mut_slice(self) -> &'a mut [T] { self }\n "}]}