{"sha": "727a4fc7e3f836938dfeb4a2ab237cfca612222d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcyN2E0ZmM3ZTNmODM2OTM4ZGZlYjRhMmFiMjM3Y2ZjYTYxMjIyMmQ=", "commit": {"author": {"name": "Jacob Pratt", "email": "jacob@jhpratt.dev", "date": "2021-09-02T05:28:47Z"}, "committer": {"name": "Jacob Pratt", "email": "jacob@jhpratt.dev", "date": "2021-09-02T05:53:54Z"}, "message": "Implement #88581", "tree": {"sha": "00f3f8f9ca69e5dd404fc0cc8af0f5af5816558c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/00f3f8f9ca69e5dd404fc0cc8af0f5af5816558c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/727a4fc7e3f836938dfeb4a2ab237cfca612222d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQTgxeqBxcDGar1sVhy4DhnkZitapAUCYTBm8gAKCRC4DhnkZita\npD+HAQDx+NVg4/t5nNGOFBlK0FB/q+7RB1OZ7y36lZCicruHZgEAp30/9WM0glPA\nvcZBcAHPxmUu+JKL50njOhYwFC6ErQw=\n=JBTC\n-----END PGP SIGNATURE-----", "payload": "tree 00f3f8f9ca69e5dd404fc0cc8af0f5af5816558c\nparent 76e755cf4afc34af586948e7bc25d2f1c589a884\nauthor Jacob Pratt <jacob@jhpratt.dev> 1630560527 -0400\ncommitter Jacob Pratt <jacob@jhpratt.dev> 1630562034 -0400\n\nImplement #88581\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/727a4fc7e3f836938dfeb4a2ab237cfca612222d", "html_url": "https://github.com/rust-lang/rust/commit/727a4fc7e3f836938dfeb4a2ab237cfca612222d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/727a4fc7e3f836938dfeb4a2ab237cfca612222d/comments", "author": {"login": "jhpratt", "id": 3161395, "node_id": "MDQ6VXNlcjMxNjEzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3161395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhpratt", "html_url": "https://github.com/jhpratt", "followers_url": "https://api.github.com/users/jhpratt/followers", "following_url": "https://api.github.com/users/jhpratt/following{/other_user}", "gists_url": "https://api.github.com/users/jhpratt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhpratt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhpratt/subscriptions", "organizations_url": "https://api.github.com/users/jhpratt/orgs", "repos_url": "https://api.github.com/users/jhpratt/repos", "events_url": "https://api.github.com/users/jhpratt/events{/privacy}", "received_events_url": "https://api.github.com/users/jhpratt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jhpratt", "id": 3161395, "node_id": "MDQ6VXNlcjMxNjEzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3161395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhpratt", "html_url": "https://github.com/jhpratt", "followers_url": "https://api.github.com/users/jhpratt/followers", "following_url": "https://api.github.com/users/jhpratt/following{/other_user}", "gists_url": "https://api.github.com/users/jhpratt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhpratt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhpratt/subscriptions", "organizations_url": "https://api.github.com/users/jhpratt/orgs", "repos_url": "https://api.github.com/users/jhpratt/repos", "events_url": "https://api.github.com/users/jhpratt/events{/privacy}", "received_events_url": "https://api.github.com/users/jhpratt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "76e755cf4afc34af586948e7bc25d2f1c589a884", "url": "https://api.github.com/repos/rust-lang/rust/commits/76e755cf4afc34af586948e7bc25d2f1c589a884", "html_url": "https://github.com/rust-lang/rust/commit/76e755cf4afc34af586948e7bc25d2f1c589a884"}], "stats": {"total": 346, "additions": 346, "deletions": 0}, "files": [{"sha": "6fb5936db6ccb5f70b80d37a9342a45144442e2c", "filename": "library/core/src/num/int_macros.rs", "status": "modified", "additions": 167, "deletions": 0, "changes": 167, "blob_url": "https://github.com/rust-lang/rust/blob/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs?ref=727a4fc7e3f836938dfeb4a2ab237cfca612222d", "patch": "@@ -1746,6 +1746,173 @@ macro_rules! int_impl {\n             }\n         }\n \n+        /// Calculates the quotient of `self` and `rhs`, rounding the result towards negative infinity.\n+        ///\n+        /// # Panics\n+        ///\n+        /// This function will panic if `rhs` is 0 or the division results in overflow.\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"let a: \", stringify!($SelfT),\" = 8;\")]\n+        /// let b = 3;\n+        ///\n+        /// assert_eq!(a.div_floor(b), 2);\n+        /// assert_eq!(a.div_floor(-b), -3);\n+        /// assert_eq!((-a).div_floor(b), -3);\n+        /// assert_eq!((-a).div_floor(-b), 2);\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[must_use = \"this returns the result of the operation, \\\n+                      without modifying the original\"]\n+        #[inline]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn div_floor(self, rhs: Self) -> Self {\n+            let d = self / rhs;\n+            let r = self % rhs;\n+            if (r > 0 && rhs < 0) || (r < 0 && rhs > 0) {\n+                d - 1\n+            } else {\n+                d\n+            }\n+        }\n+\n+        /// Calculates the quotient of `self` and `rhs`, rounding the result towards positive infinity.\n+        ///\n+        /// # Panics\n+        ///\n+        /// This function will panic if `rhs` is 0 or the division results in overflow.\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"let a: \", stringify!($SelfT),\" = 8;\")]\n+        /// let b = 3;\n+        ///\n+        /// assert_eq!(a.div_ceil(b), 3);\n+        /// assert_eq!(a.div_ceil(-b), -2);\n+        /// assert_eq!((-a).div_ceil(b), -2);\n+        /// assert_eq!((-a).div_ceil(-b), 3);\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[must_use = \"this returns the result of the operation, \\\n+                      without modifying the original\"]\n+        #[inline]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn div_ceil(self, rhs: Self) -> Self {\n+            let d = self / rhs;\n+            let r = self % rhs;\n+            if (r > 0 && rhs > 0) || (r < 0 && rhs < 0) {\n+                d + 1\n+            } else {\n+                d\n+            }\n+        }\n+\n+        /// If `rhs` is positive, calculates the smallest value greater than or\n+        /// equal to `self` that is a multiple of `rhs`. If `rhs` is negative,\n+        /// calculates the largest value less than or equal to `self` that is a\n+        /// multiple of `rhs`.\n+        ///\n+        /// # Panics\n+        ///\n+        /// This function will panic if `rhs` is 0 or the operation results in overflow.\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"assert_eq!(16_\", stringify!($SelfT), \".next_multiple_of(8), 16);\")]\n+        #[doc = concat!(\"assert_eq!(23_\", stringify!($SelfT), \".next_multiple_of(8), 24);\")]\n+        #[doc = concat!(\"assert_eq!(16_\", stringify!($SelfT), \".next_multiple_of(-8), 16);\")]\n+        #[doc = concat!(\"assert_eq!(23_\", stringify!($SelfT), \".next_multiple_of(-8), 16);\")]\n+        #[doc = concat!(\"assert_eq!((-16_\", stringify!($SelfT), \").next_multiple_of(8), -16);\")]\n+        #[doc = concat!(\"assert_eq!((-23_\", stringify!($SelfT), \").next_multiple_of(8), -16);\")]\n+        #[doc = concat!(\"assert_eq!((-16_\", stringify!($SelfT), \").next_multiple_of(-8), -16);\")]\n+        #[doc = concat!(\"assert_eq!((-23_\", stringify!($SelfT), \").next_multiple_of(-8), -24);\")]\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[must_use = \"this returns the result of the operation, \\\n+                      without modifying the original\"]\n+        #[inline]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn next_multiple_of(self, rhs: Self) -> Self {\n+            // This would otherwise fail when calculating `r` when self == T::MIN.\n+            if rhs == -1 {\n+                return self;\n+            }\n+\n+            let r = self % rhs;\n+            let m = if (r > 0 && rhs < 0) || (r < 0 && rhs > 0) {\n+                r + rhs\n+            } else {\n+                r\n+            };\n+\n+            if m == 0 {\n+                self\n+            } else {\n+                self + (rhs - m)\n+            }\n+        }\n+\n+        /// If `rhs` is positive, calculates the smallest value greater than or\n+        /// equal to `self` that is a multiple of `rhs`. If `rhs` is negative,\n+        /// calculates the largest value less than or equal to `self` that is a\n+        /// multiple of `rhs`. Returns `None` if `rhs` is zero or the operation\n+        /// would result in overflow.\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"assert_eq!(16_\", stringify!($SelfT), \".checked_next_multiple_of(8), Some(16));\")]\n+        #[doc = concat!(\"assert_eq!(23_\", stringify!($SelfT), \".checked_next_multiple_of(8), Some(24));\")]\n+        #[doc = concat!(\"assert_eq!(16_\", stringify!($SelfT), \".checked_next_multiple_of(-8), Some(16));\")]\n+        #[doc = concat!(\"assert_eq!(23_\", stringify!($SelfT), \".checked_next_multiple_of(-8), Some(16));\")]\n+        #[doc = concat!(\"assert_eq!((-16_\", stringify!($SelfT), \").checked_next_multiple_of(8), Some(-16));\")]\n+        #[doc = concat!(\"assert_eq!((-23_\", stringify!($SelfT), \").checked_next_multiple_of(8), Some(-16));\")]\n+        #[doc = concat!(\"assert_eq!((-16_\", stringify!($SelfT), \").checked_next_multiple_of(-8), Some(-16));\")]\n+        #[doc = concat!(\"assert_eq!((-23_\", stringify!($SelfT), \").checked_next_multiple_of(-8), Some(-24));\")]\n+        #[doc = concat!(\"assert_eq!(1_\", stringify!($SelfT), \".checked_next_multiple_of(0), None);\")]\n+        #[doc = concat!(\"assert_eq!(\", stringify!($SelfT), \"::MAX.checked_next_multiple_of(2), None);\")]\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[must_use = \"this returns the result of the operation, \\\n+                      without modifying the original\"]\n+        #[inline]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn checked_next_multiple_of(self, rhs: Self) -> Option<Self> {\n+            // This would otherwise fail when calculating `r` when self == T::MIN.\n+            if rhs == -1 {\n+                return Some(self);\n+            }\n+\n+            let r = try_opt!(self.checked_rem(rhs));\n+            let m = if (r > 0 && rhs < 0) || (r < 0 && rhs > 0) {\n+                try_opt!(r.checked_add(rhs))\n+            } else {\n+                r\n+            };\n+\n+            if m == 0 {\n+                Some(self)\n+            } else {\n+                self.checked_add(try_opt!(rhs.checked_sub(m)))\n+            }\n+        }\n+\n         /// Returns the logarithm of the number with respect to an arbitrary base.\n         ///\n         /// This method might not be optimized owing to implementation details;"}, {"sha": "f88d3ff8aac4b23098336166c5dc673406a37dc3", "filename": "library/core/src/num/uint_macros.rs", "status": "modified", "additions": 104, "deletions": 0, "changes": 104, "blob_url": "https://github.com/rust-lang/rust/blob/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Fsrc%2Fnum%2Fuint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Fsrc%2Fnum%2Fuint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fnum%2Fuint_macros.rs?ref=727a4fc7e3f836938dfeb4a2ab237cfca612222d", "patch": "@@ -1758,6 +1758,110 @@ macro_rules! uint_impl {\n             self % rhs\n         }\n \n+        /// Calculates the quotient of `self` and `rhs`, rounding the result towards negative infinity.\n+        ///\n+        /// This is the same as performing `self / rhs` for all unsigned integers.\n+        ///\n+        /// # Panics\n+        ///\n+        /// This function will panic if `rhs` is 0.\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"assert_eq!(7_\", stringify!($SelfT), \".div_floor(4), 1);\")]\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[inline(always)]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn div_floor(self, rhs: Self) -> Self {\n+            self / rhs\n+        }\n+\n+        /// Calculates the quotient of `self` and `rhs`, rounding the result towards positive infinity.\n+        ///\n+        /// # Panics\n+        ///\n+        /// This function will panic if `rhs` is 0.\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"assert_eq!(7_\", stringify!($SelfT), \".div_ceil(4), 2);\")]\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[inline]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn div_ceil(self, rhs: Self) -> Self {\n+            let d = self / rhs;\n+            let r = self % rhs;\n+            if r > 0 && rhs > 0 {\n+                d + 1\n+            } else {\n+                d\n+            }\n+        }\n+\n+        /// Calculates the smallest value greater than or equal to `self` that\n+        /// is a multiple of `rhs`.\n+        ///\n+        /// # Panics\n+        ///\n+        /// This function will panic if `rhs` is 0 or the operation results in overflow.\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"assert_eq!(16_\", stringify!($SelfT), \".next_multiple_of(8), 16);\")]\n+        #[doc = concat!(\"assert_eq!(23_\", stringify!($SelfT), \".next_multiple_of(8), 24);\")]\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[must_use = \"this returns the result of the operation, \\\n+                      without modifying the original\"]\n+        #[inline]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn next_multiple_of(self, rhs: Self) -> Self {\n+            match self % rhs {\n+                0 => self,\n+                r => self + (rhs - r)\n+            }\n+        }\n+\n+        /// Calculates the smallest value greater than or equal to `self` that\n+        /// is a multiple of `rhs`. If `rhs` is negative,\n+        ///\n+        /// # Examples\n+        ///\n+        /// Basic usage:\n+        ///\n+        /// ```\n+        /// #![feature(int_roundings)]\n+        #[doc = concat!(\"assert_eq!(16_\", stringify!($SelfT), \".checked_next_multiple_of(8), Some(16));\")]\n+        #[doc = concat!(\"assert_eq!(23_\", stringify!($SelfT), \".checked_next_multiple_of(8), Some(24));\")]\n+        #[doc = concat!(\"assert_eq!(1_\", stringify!($SelfT), \".checked_next_multiple_of(0), None);\")]\n+        #[doc = concat!(\"assert_eq!(\", stringify!($SelfT), \"::MAX.checked_next_multiple_of(2), None);\")]\n+        /// ```\n+        #[unstable(feature = \"int_roundings\", issue = \"88581\")]\n+        #[must_use = \"this returns the result of the operation, \\\n+                      without modifying the original\"]\n+        #[inline]\n+        #[rustc_inherit_overflow_checks]\n+        pub const fn checked_next_multiple_of(self, rhs: Self) -> Option<Self> {\n+            match try_opt!(self.checked_rem(rhs)) {\n+                0 => Some(self),\n+                r => self.checked_add(try_opt!(rhs.checked_sub(r)))\n+            }\n+        }\n+\n         /// Returns `true` if and only if `self == 2^k` for some `k`.\n         ///\n         /// # Examples"}, {"sha": "1cf6e1d9176a31bc8ecd1ba2f7088159002871b5", "filename": "library/core/tests/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Flib.rs?ref=727a4fc7e3f836938dfeb4a2ab237cfca612222d", "patch": "@@ -65,6 +65,7 @@\n #![feature(unsized_tuple_coercion)]\n #![feature(const_option)]\n #![feature(integer_atomics)]\n+#![feature(int_roundings)]\n #![feature(slice_group_by)]\n #![feature(trusted_random_access)]\n #![feature(unsize)]"}, {"sha": "d2d655ea2c75015959b518a695d6b4dd8f63240a", "filename": "library/core/tests/num/int_macros.rs", "status": "modified", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Ftests%2Fnum%2Fint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Ftests%2Fnum%2Fint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Fnum%2Fint_macros.rs?ref=727a4fc7e3f836938dfeb4a2ab237cfca612222d", "patch": "@@ -289,6 +289,55 @@ macro_rules! int_module {\n                 assert_eq!(r.saturating_pow(3), -8 as $T);\n                 assert_eq!(r.saturating_pow(0), 1 as $T);\n             }\n+\n+            #[test]\n+            fn test_div_floor() {\n+                let a: $T = 8;\n+                let b = 3;\n+                assert_eq!(a.div_floor(b), 2);\n+                assert_eq!(a.div_floor(-b), -3);\n+                assert_eq!((-a).div_floor(b), -3);\n+                assert_eq!((-a).div_floor(-b), 2);\n+            }\n+\n+            #[test]\n+            fn test_div_ceil() {\n+                let a: $T = 8;\n+                let b = 3;\n+                assert_eq!(a.div_ceil(b), 3);\n+                assert_eq!(a.div_ceil(-b), -2);\n+                assert_eq!((-a).div_ceil(b), -2);\n+                assert_eq!((-a).div_ceil(-b), 3);\n+            }\n+\n+            #[test]\n+            fn test_next_multiple_of() {\n+                assert_eq!((16 as $T).next_multiple_of(8), 16);\n+                assert_eq!((23 as $T).next_multiple_of(8), 24);\n+                assert_eq!((16 as $T).next_multiple_of(-8), 16);\n+                assert_eq!((23 as $T).next_multiple_of(-8), 16);\n+                assert_eq!((-16 as $T).next_multiple_of(8), -16);\n+                assert_eq!((-23 as $T).next_multiple_of(8), -16);\n+                assert_eq!((-16 as $T).next_multiple_of(-8), -16);\n+                assert_eq!((-23 as $T).next_multiple_of(-8), -24);\n+                assert_eq!(MIN.next_multiple_of(-1), MIN);\n+            }\n+\n+            #[test]\n+            fn test_checked_next_multiple_of() {\n+                assert_eq!((16 as $T).checked_next_multiple_of(8), Some(16));\n+                assert_eq!((23 as $T).checked_next_multiple_of(8), Some(24));\n+                assert_eq!((16 as $T).checked_next_multiple_of(-8), Some(16));\n+                assert_eq!((23 as $T).checked_next_multiple_of(-8), Some(16));\n+                assert_eq!((-16 as $T).checked_next_multiple_of(8), Some(-16));\n+                assert_eq!((-23 as $T).checked_next_multiple_of(8), Some(-16));\n+                assert_eq!((-16 as $T).checked_next_multiple_of(-8), Some(-16));\n+                assert_eq!((-23 as $T).checked_next_multiple_of(-8), Some(-24));\n+                assert_eq!((1 as $T).checked_next_multiple_of(0), None);\n+                assert_eq!(MAX.checked_next_multiple_of(2), None);\n+                assert_eq!(MIN.checked_next_multiple_of(-3), None);\n+                assert_eq!(MIN.checked_next_multiple_of(-1), Some(MIN));\n+            }\n         }\n     };\n }"}, {"sha": "49f8f1f13fad46ffc0a79fd228b5e4f8bbf0f5e2", "filename": "library/core/tests/num/uint_macros.rs", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Ftests%2Fnum%2Fuint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/727a4fc7e3f836938dfeb4a2ab237cfca612222d/library%2Fcore%2Ftests%2Fnum%2Fuint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Fnum%2Fuint_macros.rs?ref=727a4fc7e3f836938dfeb4a2ab237cfca612222d", "patch": "@@ -205,6 +205,31 @@ macro_rules! uint_module {\n                 assert_eq!(r.overflowing_pow(2), (1 as $T, true));\n                 assert_eq!(r.saturating_pow(2), MAX);\n             }\n+\n+            #[test]\n+            fn test_div_floor() {\n+                assert_eq!((8 as $T).div_floor(3), 2);\n+            }\n+\n+            #[test]\n+            fn test_div_ceil() {\n+                assert_eq!((8 as $T).div_ceil(3), 3);\n+            }\n+\n+            #[test]\n+            fn test_next_multiple_of() {\n+                assert_eq!((16 as $T).next_multiple_of(8), 16);\n+                assert_eq!((23 as $T).next_multiple_of(8), 24);\n+                assert_eq!(MAX.next_multiple_of(1), MAX);\n+            }\n+\n+            #[test]\n+            fn test_checked_next_multiple_of() {\n+                assert_eq!((16 as $T).checked_next_multiple_of(8), Some(16));\n+                assert_eq!((23 as $T).checked_next_multiple_of(8), Some(24));\n+                assert_eq!((1 as $T).checked_next_multiple_of(0), None);\n+                assert_eq!(MAX.checked_next_multiple_of(2), None);\n+            }\n         }\n     };\n }"}]}