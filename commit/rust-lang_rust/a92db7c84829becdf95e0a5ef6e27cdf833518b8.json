{"sha": "a92db7c84829becdf95e0a5ef6e27cdf833518b8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5MmRiN2M4NDgyOWJlY2RmOTVlMGE1ZWY2ZTI3Y2RmODMzNTE4Yjg=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-02-18T09:23:31Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-02-18T09:24:25Z"}, "message": "more compact edits in insta", "tree": {"sha": "a68a589db3373ee0d892b8c1216db04e8a47d6b7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a68a589db3373ee0d892b8c1216db04e8a47d6b7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a92db7c84829becdf95e0a5ef6e27cdf833518b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a92db7c84829becdf95e0a5ef6e27cdf833518b8", "html_url": "https://github.com/rust-lang/rust/commit/a92db7c84829becdf95e0a5ef6e27cdf833518b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a92db7c84829becdf95e0a5ef6e27cdf833518b8/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92aa0f9c871a9308ea3db1b1c4b7e42d88348e30", "url": "https://api.github.com/repos/rust-lang/rust/commits/92aa0f9c871a9308ea3db1b1c4b7e42d88348e30", "html_url": "https://github.com/rust-lang/rust/commit/92aa0f9c871a9308ea3db1b1c4b7e42d88348e30"}], "stats": {"total": 1500, "additions": 339, "deletions": 1161}, "files": [{"sha": "95bdd59b4e41f14cecd36672a08becd28314e0df", "filename": "crates/ra_ide_api/src/completion/completion_item.rs", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcompletion_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcompletion_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fcompletion_item.rs?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -52,12 +52,18 @@ pub struct CompletionItem {\n     documentation: Option<Documentation>,\n }\n \n+// We use custom debug for CompletionItem to make `insta`'s diffs more readable.\n impl fmt::Debug for CompletionItem {\n     fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\n         let mut s = f.debug_struct(\"CompletionItem\");\n-        s.field(\"label\", &self.label())\n-            .field(\"source_range\", &self.source_range())\n-            .field(\"text_edit\", &self.text_edit);\n+        s.field(\"label\", &self.label()).field(\"source_range\", &self.source_range());\n+        if self.text_edit().as_atoms().len() == 1 {\n+            let atom = &self.text_edit().as_atoms()[0];\n+            s.field(\"delete\", &atom.delete);\n+            s.field(\"insert\", &atom.insert);\n+        } else {\n+            s.field(\"text_edit\", &self.text_edit);\n+        }\n         if let Some(kind) = self.kind().as_ref() {\n             s.field(\"kind\", kind);\n         }"}, {"sha": "bd7f99f7123f1eac03602337c8d65481833c571b", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__bindings_from_for.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_for.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_for.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_for.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.089782502Z\"\n+created: \"2019-02-18T09:22:24.132341107Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"quux\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"quux()$0\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"quux()$0\",\n         kind: Function,\n         detail: \"fn quux()\"\n     },\n     CompletionItem {\n         label: \"x\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"x\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"x\",\n         kind: Binding\n     }\n ]"}, {"sha": "3b374c4defbfab815464a1e93b6eea6861c9515a", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__bindings_from_if_let.snap", "status": "modified", "additions": 7, "deletions": 25, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_if_let.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_if_let.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_if_let.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.092577354Z\"\n+created: \"2019-02-18T09:22:24.126809445Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,40 +8,22 @@ expression: kind_completions\n     CompletionItem {\n         label: \"a\",\n         source_range: [214; 214),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [214; 214),\n-                    insert: \"a\"\n-                }\n-            ]\n-        },\n+        delete: [214; 214),\n+        insert: \"a\",\n         kind: Binding\n     },\n     CompletionItem {\n         label: \"b\",\n         source_range: [214; 214),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [214; 214),\n-                    insert: \"b\"\n-                }\n-            ]\n-        },\n+        delete: [214; 214),\n+        insert: \"b\",\n         kind: Binding\n     },\n     CompletionItem {\n         label: \"quux\",\n         source_range: [214; 214),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [214; 214),\n-                    insert: \"quux()$0\"\n-                }\n-            ]\n-        },\n+        delete: [214; 214),\n+        insert: \"quux()$0\",\n         kind: Function,\n         detail: \"fn quux()\"\n     }"}, {"sha": "173f5319ade6385e01ddae66701018276373c0a1", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__bindings_from_let.snap", "status": "modified", "additions": 7, "deletions": 25, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_let.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_let.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__bindings_from_let.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.090000719Z\"\n+created: \"2019-02-18T09:22:24.126696322Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,41 +8,23 @@ expression: kind_completions\n     CompletionItem {\n         label: \"quux\",\n         source_range: [79; 79),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [79; 79),\n-                    insert: \"quux($0)\"\n-                }\n-            ]\n-        },\n+        delete: [79; 79),\n+        insert: \"quux($0)\",\n         kind: Function,\n         detail: \"fn quux(x: i32)\"\n     },\n     CompletionItem {\n         label: \"x\",\n         source_range: [79; 79),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [79; 79),\n-                    insert: \"x\"\n-                }\n-            ]\n-        },\n+        delete: [79; 79),\n+        insert: \"x\",\n         kind: Binding\n     },\n     CompletionItem {\n         label: \"y\",\n         source_range: [79; 79),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [79; 79),\n-                    insert: \"y\"\n-                }\n-            ]\n-        },\n+        delete: [79; 79),\n+        insert: \"y\",\n         kind: Binding\n     }\n ]"}, {"sha": "42ff024691eef52ef125911709810ce736c96b3c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__completes_break_and_continue_in_loops1.snap", "status": "modified", "additions": 15, "deletions": 57, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_break_and_continue_in_loops1.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_break_and_continue_in_loops1.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_break_and_continue_in_loops1.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.974241301Z\"\n+created: \"2019-02-18T09:22:23.976673150Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,92 +8,50 @@ expression: kind_completions\n     CompletionItem {\n         label: \"break\",\n         source_range: [55; 55),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [55; 55),\n-                    insert: \"break;\"\n-                }\n-            ]\n-        },\n+        delete: [55; 55),\n+        insert: \"break;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"continue\",\n         source_range: [55; 55),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [55; 55),\n-                    insert: \"continue;\"\n-                }\n-            ]\n-        },\n+        delete: [55; 55),\n+        insert: \"continue;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"if\",\n         source_range: [55; 55),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [55; 55),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [55; 55),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [55; 55),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [55; 55),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [55; 55),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [55; 55),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [55; 55),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [55; 55),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [55; 55),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [55; 55),\n-                    insert: \"return $0;\"\n-                }\n-            ]\n-        },\n+        delete: [55; 55),\n+        insert: \"return $0;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [55; 55),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [55; 55),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [55; 55),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "057ff8a7ace2a3bc6db96a50e0f83003f5d9bb4c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__completes_break_and_continue_in_loops2.snap", "status": "modified", "additions": 11, "deletions": 41, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_break_and_continue_in_loops2.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_break_and_continue_in_loops2.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_break_and_continue_in_loops2.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.011157905Z\"\n+created: \"2019-02-18T09:22:24.068967569Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,66 +8,36 @@ expression: kind_completions\n     CompletionItem {\n         label: \"if\",\n         source_range: [60; 60),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [60; 60),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [60; 60),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [60; 60),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [60; 60),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [60; 60),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [60; 60),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [60; 60),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [60; 60),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [60; 60),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [60; 60),\n-                    insert: \"return $0;\"\n-                }\n-            ]\n-        },\n+        delete: [60; 60),\n+        insert: \"return $0;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [60; 60),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [60; 60),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [60; 60),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "16126ee7772d10b462dd1a997cff2a749d308d03", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__completes_prelude.snap", "status": "modified", "additions": 7, "deletions": 25, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_prelude.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_prelude.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_prelude.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.125606390Z\"\n+created: \"2019-02-18T09:22:24.180517434Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,41 +8,23 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Option\",\n         source_range: [18; 18),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [18; 18),\n-                    insert: \"Option\"\n-                }\n-            ]\n-        },\n+        delete: [18; 18),\n+        insert: \"Option\",\n         kind: Struct\n     },\n     CompletionItem {\n         label: \"foo\",\n         source_range: [18; 18),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [18; 18),\n-                    insert: \"foo()$0\"\n-                }\n-            ]\n-        },\n+        delete: [18; 18),\n+        insert: \"foo()$0\",\n         kind: Function,\n         detail: \"fn foo()\"\n     },\n     CompletionItem {\n         label: \"std\",\n         source_range: [18; 18),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [18; 18),\n-                    insert: \"std\"\n-                }\n-            ]\n-        },\n+        delete: [18; 18),\n+        insert: \"std\",\n         kind: Module\n     }\n ]"}, {"sha": "2420e7744549d758a797cf238bbd86c60b5ae260", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__completes_use_paths_across_crates.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_use_paths_across_crates.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_use_paths_across_crates.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__completes_use_paths_across_crates.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.081693428Z\"\n+created: \"2019-02-18T09:22:24.118807216Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"bar\",\n         source_range: [9; 9),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [9; 9),\n-                    insert: \"bar\"\n-                }\n-            ]\n-        },\n+        delete: [9; 9),\n+        insert: \"bar\",\n         kind: Module\n     }\n ]"}, {"sha": "c472f796593e3e614e439b6018ff5e464d977495", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__deeply_nested_use_tree.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__deeply_nested_use_tree.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__deeply_nested_use_tree.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__deeply_nested_use_tree.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.018717911Z\"\n+created: \"2019-02-18T09:22:24.044567777Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Spam\",\n         source_range: [23; 25),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [23; 25),\n-                    insert: \"Spam\"\n-                }\n-            ]\n-        },\n+        delete: [23; 25),\n+        insert: \"Spam\",\n         kind: Struct\n     }\n ]"}, {"sha": "97bd76c494c5c07fd136c11aed96fa55c5338fb1", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__dont_add_semi_after_return_if_not_a_statement.snap", "status": "modified", "additions": 11, "deletions": 41, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_add_semi_after_return_if_not_a_statement.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_add_semi_after_return_if_not_a_statement.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_add_semi_after_return_if_not_a_statement.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.979744970Z\"\n+created: \"2019-02-18T09:22:23.987788705Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,66 +8,36 @@ expression: kind_completions\n     CompletionItem {\n         label: \"if\",\n         source_range: [85; 85),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [85; 85),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [85; 85),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [85; 85),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [85; 85),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [85; 85),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [85; 85),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [85; 85),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [85; 85),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [85; 85),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [85; 85),\n-                    insert: \"return $0\"\n-                }\n-            ]\n-        },\n+        delete: [85; 85),\n+        insert: \"return $0\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [85; 85),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [85; 85),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [85; 85),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "1de0efb5b36ba61703cf316fe123d0e64bb7ac51", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__dont_render_function_parens_if_already_call.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_if_already_call.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_if_already_call.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_if_already_call.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.163807552Z\"\n+created: \"2019-02-18T09:22:24.211680376Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"frobnicate\",\n         source_range: [35; 39),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [35; 39),\n-                    insert: \"frobnicate\"\n-                }\n-            ]\n-        },\n+        delete: [35; 39),\n+        insert: \"frobnicate\",\n         kind: Function,\n         detail: \"fn frobnicate()\"\n     },\n     CompletionItem {\n         label: \"main\",\n         source_range: [35; 39),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [35; 39),\n-                    insert: \"main\"\n-                }\n-            ]\n-        },\n+        delete: [35; 39),\n+        insert: \"main\",\n         kind: Function,\n         detail: \"fn main()\"\n     }"}, {"sha": "39fff2cb7666c48049f71e67b5aecd6b9ab99f4c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__dont_render_function_parens_if_already_call_assoc_fn.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_if_already_call_assoc_fn.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_if_already_call_assoc_fn.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_if_already_call_assoc_fn.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.194798097Z\"\n+created: \"2019-02-18T09:22:24.268227065Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"new\",\n         source_range: [67; 69),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [67; 69),\n-                    insert: \"new\"\n-                }\n-            ]\n-        },\n+        delete: [67; 69),\n+        insert: \"new\",\n         kind: Method,\n         detail: \"fn new() -> Foo\"\n     }"}, {"sha": "ef77816ec1f35d8e7ed18dd0ecdaee98125b19a8", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__dont_render_function_parens_in_use_item.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_in_use_item.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_in_use_item.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_render_function_parens_in_use_item.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.156083575Z\"\n+created: \"2019-02-18T09:22:24.213677341Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"foo\",\n         source_range: [40; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [40; 41),\n-                    insert: \"foo\"\n-                }\n-            ]\n-        },\n+        delete: [40; 41),\n+        insert: \"foo\",\n         kind: Function,\n         detail: \"pub fn foo()\"\n     }"}, {"sha": "87691b3040249936a5d9ff260a8edde022ebd3f9", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__dont_show_both_completions_for_shadowing.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_show_both_completions_for_shadowing.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_show_both_completions_for_shadowing.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__dont_show_both_completions_for_shadowing.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.134207539Z\"\n+created: \"2019-02-18T09:22:24.188564584Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"bar\",\n         source_range: [129; 129),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [129; 129),\n-                    insert: \"bar\"\n-                }\n-            ]\n-        },\n+        delete: [129; 129),\n+        insert: \"bar\",\n         kind: Binding\n     },\n     CompletionItem {\n         label: \"foo\",\n         source_range: [129; 129),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [129; 129),\n-                    insert: \"foo()$0\"\n-                }\n-            ]\n-        },\n+        delete: [129; 129),\n+        insert: \"foo()$0\",\n         kind: Function,\n         detail: \"fn foo() ->\"\n     }"}, {"sha": "1df121523b670322d01d127312c0618fa014c160", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__enum_variant.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__enum_variant.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__enum_variant.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__enum_variant.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.033853029Z\"\n+created: \"2019-02-18T09:22:24.045355450Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Bar\",\n         source_range: [116; 116),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [116; 116),\n-                    insert: \"Bar\"\n-                }\n-            ]\n-        },\n+        delete: [116; 116),\n+        insert: \"Bar\",\n         kind: EnumVariant,\n         detail: \"(i32)\",\n         documentation: Documentation(\n@@ -25,14 +19,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Foo\",\n         source_range: [116; 116),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [116; 116),\n-                    insert: \"Foo\"\n-                }\n-            ]\n-        },\n+        delete: [116; 116),\n+        insert: \"Foo\",\n         kind: EnumVariant,\n         detail: \"()\",\n         documentation: Documentation("}, {"sha": "70ea96e1bd76d4e95f9bacd4b485dd6a29f6f864", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__enum_variant_with_details.snap", "status": "modified", "additions": 7, "deletions": 25, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__enum_variant_with_details.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__enum_variant_with_details.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__enum_variant_with_details.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.039179076Z\"\n+created: \"2019-02-18T09:22:24.062138085Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Bar\",\n         source_range: [180; 180),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [180; 180),\n-                    insert: \"Bar\"\n-                }\n-            ]\n-        },\n+        delete: [180; 180),\n+        insert: \"Bar\",\n         kind: EnumVariant,\n         detail: \"(i32, u32)\",\n         documentation: Documentation(\n@@ -25,14 +19,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Foo\",\n         source_range: [180; 180),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [180; 180),\n-                    insert: \"Foo\"\n-                }\n-            ]\n-        },\n+        delete: [180; 180),\n+        insert: \"Foo\",\n         kind: EnumVariant,\n         detail: \"()\",\n         documentation: Documentation(\n@@ -42,14 +30,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"S\",\n         source_range: [180; 180),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [180; 180),\n-                    insert: \"S\"\n-                }\n-            ]\n-        },\n+        delete: [180; 180),\n+        insert: \"S\",\n         kind: EnumVariant,\n         detail: \"(S)\"\n     }"}, {"sha": "0d36fd6035d4a7d6dd824236acb4ea28d0a3b74c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__extern_prelude.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__extern_prelude.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__extern_prelude.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__extern_prelude.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.097703010Z\"\n+created: \"2019-02-18T09:22:24.137183638Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"other_crate\",\n         source_range: [4; 4),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [4; 4),\n-                    insert: \"other_crate\"\n-                }\n-            ]\n-        },\n+        delete: [4; 4),\n+        insert: \"other_crate\",\n         kind: Module\n     }\n ]"}, {"sha": "210e5a02d28c78712f7c0fb18db227fd72d40e56", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__generic_params.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__generic_params.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__generic_params.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__generic_params.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.113095718Z\"\n+created: \"2019-02-18T09:22:24.143253235Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"T\",\n         source_range: [44; 44),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [44; 44),\n-                    insert: \"T\"\n-                }\n-            ]\n-        },\n+        delete: [44; 44),\n+        insert: \"T\",\n         kind: TypeParam\n     },\n     CompletionItem {\n         label: \"quux\",\n         source_range: [44; 44),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [44; 44),\n-                    insert: \"quux()$0\"\n-                }\n-            ]\n-        },\n+        delete: [44; 44),\n+        insert: \"quux()$0\",\n         kind: Function,\n         detail: \"fn quux<T>()\"\n     }"}, {"sha": "ab8c3044674327d50aea702e7ffddf8dcc6d2ee9", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__generic_params_in_struct.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__generic_params_in_struct.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__generic_params_in_struct.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__generic_params_in_struct.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.117910091Z\"\n+created: \"2019-02-18T09:22:24.149424158Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"T\",\n         source_range: [46; 46),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [46; 46),\n-                    insert: \"T\"\n-                }\n-            ]\n-        },\n+        delete: [46; 46),\n+        insert: \"T\",\n         kind: TypeParam\n     },\n     CompletionItem {\n         label: \"X\",\n         source_range: [46; 46),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [46; 46),\n-                    insert: \"X\"\n-                }\n-            ]\n-        },\n+        delete: [46; 46),\n+        insert: \"X\",\n         kind: Struct\n     }\n ]"}, {"sha": "a4fc447b27795dee34f9f2c96a25c7d54fcf26db", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__inserts_parens_for_function_calls1.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls1.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls1.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls1.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.160884429Z\"\n+created: \"2019-02-18T09:22:24.224510370Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"main\",\n         source_range: [53; 56),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [53; 56),\n-                    insert: \"main()$0\"\n-                }\n-            ]\n-        },\n+        delete: [53; 56),\n+        insert: \"main()$0\",\n         kind: Function,\n         detail: \"fn main()\"\n     },\n     CompletionItem {\n         label: \"no_args\",\n         source_range: [53; 56),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [53; 56),\n-                    insert: \"no_args()$0\"\n-                }\n-            ]\n-        },\n+        delete: [53; 56),\n+        insert: \"no_args()$0\",\n         kind: Function,\n         detail: \"fn no_args()\"\n     }"}, {"sha": "b124355d5e18e1cc4ddde1df0716cbfe7bc38a20", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__inserts_parens_for_function_calls2.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls2.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls2.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls2.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.192876554Z\"\n+created: \"2019-02-18T09:22:24.267013140Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"main\",\n         source_range: [72; 77),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 77),\n-                    insert: \"main()$0\"\n-                }\n-            ]\n-        },\n+        delete: [72; 77),\n+        insert: \"main()$0\",\n         kind: Function,\n         detail: \"fn main()\"\n     },\n     CompletionItem {\n         label: \"with_args\",\n         source_range: [72; 77),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 77),\n-                    insert: \"with_args($0)\"\n-                }\n-            ]\n-        },\n+        delete: [72; 77),\n+        insert: \"with_args($0)\",\n         kind: Function,\n         detail: \"fn with_args(x: i32, y: String)\"\n     }"}, {"sha": "fec729d4873510f643ab44fb8c3a901400a8127e", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__inserts_parens_for_function_calls3.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls3.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls3.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__inserts_parens_for_function_calls3.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.224275781Z\"\n+created: \"2019-02-18T09:22:24.303360770Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"foo\",\n         source_range: [139; 140),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [139; 140),\n-                    insert: \"foo()$0\"\n-                }\n-            ]\n-        },\n+        delete: [139; 140),\n+        insert: \"foo()$0\",\n         kind: Method,\n         detail: \"fn foo(&self)\"\n     }"}, {"sha": "045e2a4e6f58301af51c8c7d858ef8deb9e084da", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__keywords_in_function1.snap", "status": "modified", "additions": 11, "deletions": 41, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function1.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function1.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function1.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.982940400Z\"\n+created: \"2019-02-18T09:22:23.987788720Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,66 +8,36 @@ expression: kind_completions\n     CompletionItem {\n         label: \"if\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"return;\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"return;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "b08efa522eae0289729e361ab43fb5b19f9304a1", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__keywords_in_function2.snap", "status": "modified", "additions": 15, "deletions": 57, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function2.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function2.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function2.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.986894362Z\"\n+created: \"2019-02-18T09:22:23.984740354Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,92 +8,50 @@ expression: kind_completions\n     CompletionItem {\n         label: \"else\",\n         source_range: [92; 92),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [92; 92),\n-                    insert: \"else {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [92; 92),\n+        insert: \"else {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"else if\",\n         source_range: [92; 92),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [92; 92),\n-                    insert: \"else if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [92; 92),\n+        insert: \"else if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"if\",\n         source_range: [92; 92),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [92; 92),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [92; 92),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [92; 92),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [92; 92),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [92; 92),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [92; 92),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [92; 92),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [92; 92),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [92; 92),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [92; 92),\n-                    insert: \"return;\"\n-                }\n-            ]\n-        },\n+        delete: [92; 92),\n+        insert: \"return;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [92; 92),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [92; 92),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [92; 92),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "e2b9214fbc1c0a703af4bc4877767926118f46ae", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__keywords_in_function3.snap", "status": "modified", "additions": 11, "deletions": 41, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function3.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function3.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function3.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.010821546Z\"\n+created: \"2019-02-18T09:22:24.049699338Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,66 +8,36 @@ expression: kind_completions\n     CompletionItem {\n         label: \"if\",\n         source_range: [48; 48),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [48; 48),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [48; 48),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [48; 48),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [48; 48),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [48; 48),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [48; 48),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [48; 48),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [48; 48),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [48; 48),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [48; 48),\n-                    insert: \"return $0;\"\n-                }\n-            ]\n-        },\n+        delete: [48; 48),\n+        insert: \"return $0;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [48; 48),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [48; 48),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [48; 48),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "1ea7eb5ceabab9c29b62e05e36565b35fef16df5", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__keywords_in_function4.snap", "status": "modified", "additions": 11, "deletions": 41, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function4.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function4.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_function4.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.039207401Z\"\n+created: \"2019-02-18T09:22:24.090949782Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,66 +8,36 @@ expression: kind_completions\n     CompletionItem {\n         label: \"if\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"return;\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"return;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [41; 41),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [41; 41),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [41; 41),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "76d5daf556b79ad6409d161a66471506ed311d2f", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__keywords_in_use_stmt1.snap", "status": "modified", "additions": 7, "deletions": 25, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt1.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt1.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt1.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.979744931Z\"\n+created: \"2019-02-18T09:22:23.988755424Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,40 +8,22 @@ expression: kind_completions\n     CompletionItem {\n         label: \"crate\",\n         source_range: [17; 17),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [17; 17),\n-                    insert: \"crate::\"\n-                }\n-            ]\n-        },\n+        delete: [17; 17),\n+        insert: \"crate::\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"self\",\n         source_range: [17; 17),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [17; 17),\n-                    insert: \"self\"\n-                }\n-            ]\n-        },\n+        delete: [17; 17),\n+        insert: \"self\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"super\",\n         source_range: [17; 17),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [17; 17),\n-                    insert: \"super::\"\n-                }\n-            ]\n-        },\n+        delete: [17; 17),\n+        insert: \"super::\",\n         kind: Keyword\n     }\n ]"}, {"sha": "ee8bf4ca12b3e9e6d40c5aa847309198d7f24422", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__keywords_in_use_stmt2.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt2.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt2.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt2.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.008665355Z\"\n+created: \"2019-02-18T09:22:24.030382527Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"self\",\n         source_range: [20; 20),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [20; 20),\n-                    insert: \"self\"\n-                }\n-            ]\n-        },\n+        delete: [20; 20),\n+        insert: \"self\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"super\",\n         source_range: [20; 20),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [20; 20),\n-                    insert: \"super::\"\n-                }\n-            ]\n-        },\n+        delete: [20; 20),\n+        insert: \"super::\",\n         kind: Keyword\n     }\n ]"}, {"sha": "b44db276e176b9ee62f3016e08d8c3324fac060d", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__keywords_in_use_stmt3.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt3.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt3.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__keywords_in_use_stmt3.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.032133616Z\"\n+created: \"2019-02-18T09:22:24.073607133Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"self\",\n         source_range: [24; 24),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [24; 24),\n-                    insert: \"self\"\n-                }\n-            ]\n-        },\n+        delete: [24; 24),\n+        insert: \"self\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"super\",\n         source_range: [24; 24),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [24; 24),\n-                    insert: \"super::\"\n-                }\n-            ]\n-        },\n+        delete: [24; 24),\n+        insert: \"super::\",\n         kind: Keyword\n     }\n ]"}, {"sha": "f220d35c265dccd743ecc1cfe29ad934e1eff16c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__last_return_in_block_has_semi1.snap", "status": "modified", "additions": 11, "deletions": 41, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__last_return_in_block_has_semi1.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__last_return_in_block_has_semi1.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__last_return_in_block_has_semi1.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.985317165Z\"\n+created: \"2019-02-18T09:22:23.989188654Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,66 +8,36 @@ expression: kind_completions\n     CompletionItem {\n         label: \"if\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"return $0;\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"return $0;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "d2093acdfd8e9c3c0562041395ea3b0e5c8f7cde", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__last_return_in_block_has_semi2.snap", "status": "modified", "additions": 11, "deletions": 41, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__last_return_in_block_has_semi2.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__last_return_in_block_has_semi2.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__last_return_in_block_has_semi2.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.013549824Z\"\n+created: \"2019-02-18T09:22:24.036383875Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,66 +8,36 @@ expression: kind_completions\n     CompletionItem {\n         label: \"if\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"return $0;\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"return $0;\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [83; 83),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [83; 83),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [83; 83),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "ce8af2159ee6ee1b443310aff21abd58adb89f2c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__method_attr_filtering.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__method_attr_filtering.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__method_attr_filtering.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__method_attr_filtering.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.944926087Z\"\n+created: \"2019-02-18T09:22:23.941335305Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"the_method\",\n         source_range: [249; 249),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [249; 249),\n-                    insert: \"the_method()$0\"\n-                }\n-            ]\n-        },\n+        delete: [249; 249),\n+        insert: \"the_method()$0\",\n         kind: Method,\n         detail: \"fn the_method(&self)\"\n     }"}, {"sha": "41a10de14d9e604443e3c1be948982386760e272", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__method_completion.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__method_completion.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__method_completion.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__method_completion.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.944760801Z\"\n+created: \"2019-02-18T09:22:23.939676100Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"the_method\",\n         source_range: [144; 144),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [144; 144),\n-                    insert: \"the_method()$0\"\n-                }\n-            ]\n-        },\n+        delete: [144; 144),\n+        insert: \"the_method()$0\",\n         kind: Method,\n         detail: \"fn the_method(&self)\"\n     }"}, {"sha": "1da3c3ba204a2ea093a04d3c8a0803067ed7dab0", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__mod_with_docs.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__mod_with_docs.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__mod_with_docs.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__mod_with_docs.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.036530210Z\"\n+created: \"2019-02-18T09:22:24.066918191Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"my\",\n         source_range: [23; 25),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [23; 25),\n-                    insert: \"my\"\n-                }\n-            ]\n-        },\n+        delete: [23; 25),\n+        insert: \"my\",\n         kind: Module,\n         documentation: Documentation(\n             \"Some simple\\ndocs describing `mod my`.\""}, {"sha": "86bc8679ded0821a3ef048496cc3b47f2adb3e7f", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__module_items.snap", "status": "modified", "additions": 7, "deletions": 25, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__module_items.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__module_items.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__module_items.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.120932427Z\"\n+created: \"2019-02-18T09:22:24.161888678Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,40 +8,22 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Baz\",\n         source_range: [89; 89),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [89; 89),\n-                    insert: \"Baz\"\n-                }\n-            ]\n-        },\n+        delete: [89; 89),\n+        insert: \"Baz\",\n         kind: Enum\n     },\n     CompletionItem {\n         label: \"Foo\",\n         source_range: [89; 89),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [89; 89),\n-                    insert: \"Foo\"\n-                }\n-            ]\n-        },\n+        delete: [89; 89),\n+        insert: \"Foo\",\n         kind: Struct\n     },\n     CompletionItem {\n         label: \"quux\",\n         source_range: [89; 89),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [89; 89),\n-                    insert: \"quux()$0\"\n-                }\n-            ]\n-        },\n+        delete: [89; 89),\n+        insert: \"quux()$0\",\n         kind: Function,\n         detail: \"fn quux()\"\n     }"}, {"sha": "9f796b7caecec79f5b12aa4b7ef637f4d5a20cb8", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__module_items_in_nested_modules.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__module_items_in_nested_modules.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__module_items_in_nested_modules.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__module_items_in_nested_modules.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.120931050Z\"\n+created: \"2019-02-18T09:22:24.180517419Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Bar\",\n         source_range: [101; 101),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [101; 101),\n-                    insert: \"Bar\"\n-                }\n-            ]\n-        },\n+        delete: [101; 101),\n+        insert: \"Bar\",\n         kind: Struct\n     },\n     CompletionItem {\n         label: \"quux\",\n         source_range: [101; 101),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [101; 101),\n-                    insert: \"quux()$0\"\n-                }\n-            ]\n-        },\n+        delete: [101; 101),\n+        insert: \"quux()$0\",\n         kind: Function,\n         detail: \"fn quux()\"\n     }"}, {"sha": "4920e500eb6833aced0b404ca2ffa780b949fb8a", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__nested_use_tree.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__nested_use_tree.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__nested_use_tree.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__nested_use_tree.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.039178133Z\"\n+created: \"2019-02-18T09:22:24.085605313Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Spam\",\n         source_range: [12; 14),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [12; 14),\n-                    insert: \"Spam\"\n-                }\n-            ]\n-        },\n+        delete: [12; 14),\n+        insert: \"Spam\",\n         kind: Struct\n     },\n     CompletionItem {\n         label: \"foo\",\n         source_range: [12; 14),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [12; 14),\n-                    insert: \"foo\"\n-                }\n-            ]\n-        },\n+        delete: [12; 14),\n+        insert: \"foo\",\n         kind: Module\n     }\n ]"}, {"sha": "038e7f4025b77425e92965f406aea98a3fe6b14a", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__no_semi_after_break_continue_in_expr.snap", "status": "modified", "additions": 15, "deletions": 57, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__no_semi_after_break_continue_in_expr.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__no_semi_after_break_continue_in_expr.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__no_semi_after_break_continue_in_expr.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.988658363Z\"\n+created: \"2019-02-18T09:22:23.999953358Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,92 +8,50 @@ expression: kind_completions\n     CompletionItem {\n         label: \"break\",\n         source_range: [106; 108),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [106; 108),\n-                    insert: \"break\"\n-                }\n-            ]\n-        },\n+        delete: [106; 108),\n+        insert: \"break\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"continue\",\n         source_range: [106; 108),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [106; 108),\n-                    insert: \"continue\"\n-                }\n-            ]\n-        },\n+        delete: [106; 108),\n+        insert: \"continue\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"if\",\n         source_range: [106; 108),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [106; 108),\n-                    insert: \"if $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [106; 108),\n+        insert: \"if $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"loop\",\n         source_range: [106; 108),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [106; 108),\n-                    insert: \"loop {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [106; 108),\n+        insert: \"loop {$0}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [106; 108),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [106; 108),\n-                    insert: \"match $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [106; 108),\n+        insert: \"match $0 {}\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"return\",\n         source_range: [106; 108),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [106; 108),\n-                    insert: \"return\"\n-                }\n-            ]\n-        },\n+        delete: [106; 108),\n+        insert: \"return\",\n         kind: Keyword\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [106; 108),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [106; 108),\n-                    insert: \"while $0 {}\"\n-                }\n-            ]\n-        },\n+        delete: [106; 108),\n+        insert: \"while $0 {}\",\n         kind: Keyword\n     }\n ]"}, {"sha": "cab77f5a257ac6b969234a6ddecafa362610295f", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__param_completion_last_param.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_last_param.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_last_param.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_last_param.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.951199574Z\"\n+created: \"2019-02-18T09:22:23.949634602Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"file_id: FileId\",\n         source_range: [98; 102),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [98; 102),\n-                    insert: \"file_id: FileId\"\n-                }\n-            ]\n-        },\n+        delete: [98; 102),\n+        insert: \"file_id: FileId\",\n         lookup: \"file_id\"\n     }\n ]"}, {"sha": "8fbee160c303abb000e8a8a270af811403cba029", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__param_completion_nth_param.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_nth_param.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_nth_param.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_nth_param.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.951199556Z\"\n+created: \"2019-02-18T09:22:23.949634355Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"file_id: FileId\",\n         source_range: [98; 102),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [98; 102),\n-                    insert: \"file_id: FileId\"\n-                }\n-            ]\n-        },\n+        delete: [98; 102),\n+        insert: \"file_id: FileId\",\n         lookup: \"file_id\"\n     }\n ]"}, {"sha": "76eeadb6db9e2d0f3c44362df9c4fcdd88fd934c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__param_completion_trait_param.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_trait_param.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_trait_param.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__param_completion_trait_param.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.973234775Z\"\n+created: \"2019-02-18T09:22:23.974417169Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"file_id: FileId\",\n         source_range: [269; 273),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [269; 273),\n-                    insert: \"file_id: FileId\"\n-                }\n-            ]\n-        },\n+        delete: [269; 273),\n+        insert: \"file_id: FileId\",\n         lookup: \"file_id\"\n     }\n ]"}, {"sha": "2b5435f0ce9e46934501c3cd65bb4b7e5b00019e", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__postfix_completion_works_for_trivial_path_expression.snap", "status": "modified", "additions": 15, "deletions": 57, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__postfix_completion_works_for_trivial_path_expression.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__postfix_completion_works_for_trivial_path_expression.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__postfix_completion_works_for_trivial_path_expression.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.087222569Z\"\n+created: \"2019-02-18T09:22:24.127119709Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,92 +8,50 @@ expression: kind_completions\n     CompletionItem {\n         label: \"dbg\",\n         source_range: [76; 76),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 76),\n-                    insert: \"dbg!(bar)\"\n-                }\n-            ]\n-        },\n+        delete: [72; 76),\n+        insert: \"dbg!(bar)\",\n         detail: \"dbg!(expr)\"\n     },\n     CompletionItem {\n         label: \"if\",\n         source_range: [76; 76),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 76),\n-                    insert: \"if bar {$0}\"\n-                }\n-            ]\n-        },\n+        delete: [72; 76),\n+        insert: \"if bar {$0}\",\n         detail: \"if expr {}\"\n     },\n     CompletionItem {\n         label: \"match\",\n         source_range: [76; 76),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 76),\n-                    insert: \"match bar {\\n${1:_} => {$0\\\\},\\n}\"\n-                }\n-            ]\n-        },\n+        delete: [72; 76),\n+        insert: \"match bar {\\n${1:_} => {$0\\\\},\\n}\",\n         detail: \"match expr {}\"\n     },\n     CompletionItem {\n         label: \"not\",\n         source_range: [76; 76),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 76),\n-                    insert: \"!bar\"\n-                }\n-            ]\n-        },\n+        delete: [72; 76),\n+        insert: \"!bar\",\n         detail: \"!expr\"\n     },\n     CompletionItem {\n         label: \"ref\",\n         source_range: [76; 76),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 76),\n-                    insert: \"&bar\"\n-                }\n-            ]\n-        },\n+        delete: [72; 76),\n+        insert: \"&bar\",\n         detail: \"&expr\"\n     },\n     CompletionItem {\n         label: \"refm\",\n         source_range: [76; 76),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 76),\n-                    insert: \"&mut bar\"\n-                }\n-            ]\n-        },\n+        delete: [72; 76),\n+        insert: \"&mut bar\",\n         detail: \"&mut expr\"\n     },\n     CompletionItem {\n         label: \"while\",\n         source_range: [76; 76),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [72; 76),\n-                    insert: \"while bar {\\n$0\\n}\"\n-                }\n-            ]\n-        },\n+        delete: [72; 76),\n+        insert: \"while bar {\\n$0\\n}\",\n         detail: \"while expr {}\"\n     }\n ]"}, {"sha": "0738cf466ca079c6c4fe67b9e153f64d533eef8a", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__return_type.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__return_type.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__return_type.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__return_type.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.125606324Z\"\n+created: \"2019-02-18T09:22:24.182964414Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Foo\",\n         source_range: [47; 47),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [47; 47),\n-                    insert: \"Foo\"\n-                }\n-            ]\n-        },\n+        delete: [47; 47),\n+        insert: \"Foo\",\n         kind: Struct\n     },\n     CompletionItem {\n         label: \"x\",\n         source_range: [47; 47),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [47; 47),\n-                    insert: \"x()$0\"\n-                }\n-            ]\n-        },\n+        delete: [47; 47),\n+        insert: \"x()$0\",\n         kind: Function,\n         detail: \"fn x() ->\"\n     }"}, {"sha": "baf12cae130344ebc9d15a79175219f302382f55", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__self_in_methods.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__self_in_methods.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__self_in_methods.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__self_in_methods.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.129525933Z\"\n+created: \"2019-02-18T09:22:24.174038680Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Self\",\n         source_range: [25; 25),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [25; 25),\n-                    insert: \"Self\"\n-                }\n-            ]\n-        },\n+        delete: [25; 25),\n+        insert: \"Self\",\n         kind: TypeParam\n     },\n     CompletionItem {\n         label: \"self\",\n         source_range: [25; 25),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [25; 25),\n-                    insert: \"self\"\n-                }\n-            ]\n-        },\n+        delete: [25; 25),\n+        insert: \"self\",\n         kind: Binding\n     }\n ]"}, {"sha": "fce2d64799990a76e83e99bf11083bb1f4bf6b0f", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__snippets_in_expressions.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__snippets_in_expressions.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__snippets_in_expressions.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__snippets_in_expressions.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.156085697Z\"\n+created: \"2019-02-18T09:22:24.191576723Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"pd\",\n         source_range: [17; 17),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [17; 17),\n-                    insert: \"eprintln!(\\\"$0 = {:?}\\\", $0);\"\n-                }\n-            ]\n-        },\n+        delete: [17; 17),\n+        insert: \"eprintln!(\\\"$0 = {:?}\\\", $0);\",\n         kind: Snippet\n     },\n     CompletionItem {\n         label: \"ppd\",\n         source_range: [17; 17),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [17; 17),\n-                    insert: \"eprintln!(\\\"$0 = {:#?}\\\", $0);\"\n-                }\n-            ]\n-        },\n+        delete: [17; 17),\n+        insert: \"eprintln!(\\\"$0 = {:#?}\\\", $0);\",\n         kind: Snippet\n     }\n ]"}, {"sha": "d2b1a5f0ef3acb10084d2381ad5d1421475dc8d5", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__snippets_in_items.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__snippets_in_items.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__snippets_in_items.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__snippets_in_items.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.152402422Z\"\n+created: \"2019-02-18T09:22:24.187670733Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Test function\",\n         source_range: [66; 66),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [66; 66),\n-                    insert: \"#[test]\\nfn ${1:feature}() {\\n    $0\\n}\"\n-                }\n-            ]\n-        },\n+        delete: [66; 66),\n+        insert: \"#[test]\\nfn ${1:feature}() {\\n    $0\\n}\",\n         kind: Snippet,\n         lookup: \"tfn\"\n     },\n     CompletionItem {\n         label: \"pub(crate)\",\n         source_range: [66; 66),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [66; 66),\n-                    insert: \"pub(crate) $0\"\n-                }\n-            ]\n-        },\n+        delete: [66; 66),\n+        insert: \"pub(crate) $0\",\n         kind: Snippet\n     }\n ]"}, {"sha": "6ad4c5acc525f6203f5f5aa4a46ce6abfa29b0d8", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__struct_associated_const.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_const.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_const.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_const.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.050659483Z\"\n+created: \"2019-02-18T09:22:24.093406123Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"C\",\n         source_range: [107; 107),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [107; 107),\n-                    insert: \"C\"\n-                }\n-            ]\n-        },\n+        delete: [107; 107),\n+        insert: \"C\",\n         kind: Const,\n         detail: \"const C: i32 = 42;\",\n         documentation: Documentation("}, {"sha": "163b325c3923659c8c320c3c2e4cf17d558ec705", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__struct_associated_method.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_method.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_method.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_method.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.050659480Z\"\n+created: \"2019-02-18T09:22:24.093082839Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"m\",\n         source_range: [100; 100),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [100; 100),\n-                    insert: \"m()$0\"\n-                }\n-            ]\n-        },\n+        delete: [100; 100),\n+        insert: \"m()$0\",\n         kind: Method,\n         detail: \"fn m()\",\n         documentation: Documentation("}, {"sha": "583bda2257d07f9c06daabb0e9a25132a4b2471e", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__struct_associated_type.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_type.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_type.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_associated_type.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.066746177Z\"\n+created: \"2019-02-18T09:22:24.090876030Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"T\",\n         source_range: [101; 101),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [101; 101),\n-                    insert: \"T\"\n-                }\n-            ]\n-        },\n+        delete: [101; 101),\n+        insert: \"T\",\n         kind: TypeAlias,\n         detail: \"type T = i32;\",\n         documentation: Documentation("}, {"sha": "58271b873fac410381113679580291c0c2e8047c", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__struct_field_completion.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.944776686Z\"\n+created: \"2019-02-18T09:22:23.939645902Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"the_field\",\n         source_range: [85; 85),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [85; 85),\n-                    insert: \"the_field\"\n-                }\n-            ]\n-        },\n+        delete: [85; 85),\n+        insert: \"the_field\",\n         kind: Field,\n         detail: \"u32\"\n     }"}, {"sha": "b38867b81dafcc45b87562018283ad1cacbb0889", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__struct_field_completion_autoderef.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion_autoderef.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion_autoderef.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion_autoderef.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.944780241Z\"\n+created: \"2019-02-18T09:22:23.940872916Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"foo\",\n         source_range: [126; 126),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [126; 126),\n-                    insert: \"foo()$0\"\n-                }\n-            ]\n-        },\n+        delete: [126; 126),\n+        insert: \"foo()$0\",\n         kind: Method,\n         detail: \"fn foo(&self)\"\n     },\n     CompletionItem {\n         label: \"the_field\",\n         source_range: [126; 126),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [126; 126),\n-                    insert: \"the_field\"\n-                }\n-            ]\n-        },\n+        delete: [126; 126),\n+        insert: \"the_field\",\n         kind: Field,\n         detail: \"(u32, i32)\"\n     }"}, {"sha": "8e5cab43e9bca4401a1e9b43563a05d08b0d7131", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__struct_field_completion_self.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion_self.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion_self.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__struct_field_completion_self.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.944941588Z\"\n+created: \"2019-02-18T09:22:23.940872918Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"foo\",\n         source_range: [187; 187),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [187; 187),\n-                    insert: \"foo()$0\"\n-                }\n-            ]\n-        },\n+        delete: [187; 187),\n+        insert: \"foo()$0\",\n         kind: Method,\n         detail: \"fn foo(self)\"\n     },\n     CompletionItem {\n         label: \"the_field\",\n         source_range: [187; 187),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [187; 187),\n-                    insert: \"the_field\"\n-                }\n-            ]\n-        },\n+        delete: [187; 187),\n+        insert: \"the_field\",\n         kind: Field,\n         detail: \"(u32,)\",\n         documentation: Documentation("}, {"sha": "3f27806211d0db309e05553829b83cd896c90c5a", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__tuple_field_completion.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__tuple_field_completion.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__tuple_field_completion.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__tuple_field_completion.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:51.944941196Z\"\n+created: \"2019-02-18T09:22:23.939710971Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,28 +8,16 @@ expression: kind_completions\n     CompletionItem {\n         label: \"0\",\n         source_range: [75; 75),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [75; 75),\n-                    insert: \"0\"\n-                }\n-            ]\n-        },\n+        delete: [75; 75),\n+        insert: \"0\",\n         kind: Field,\n         detail: \"i32\"\n     },\n     CompletionItem {\n         label: \"1\",\n         source_range: [75; 75),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [75; 75),\n-                    insert: \"1\"\n-                }\n-            ]\n-        },\n+        delete: [75; 75),\n+        insert: \"1\",\n         kind: Field,\n         detail: \"f64\"\n     }"}, {"sha": "34e70c35dd9c350394cbd9d1a263e27c9a7ab7cf", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__use_item_starting_with_crate.snap", "status": "modified", "additions": 5, "deletions": 17, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__use_item_starting_with_crate.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__use_item_starting_with_crate.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__use_item_starting_with_crate.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.063155992Z\"\n+created: \"2019-02-18T09:22:24.098574884Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,27 +8,15 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Spam\",\n         source_range: [11; 13),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [11; 13),\n-                    insert: \"Spam\"\n-                }\n-            ]\n-        },\n+        delete: [11; 13),\n+        insert: \"Spam\",\n         kind: Struct\n     },\n     CompletionItem {\n         label: \"foo\",\n         source_range: [11; 13),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [11; 13),\n-                    insert: \"foo\"\n-                }\n-            ]\n-        },\n+        delete: [11; 13),\n+        insert: \"foo\",\n         kind: Module\n     }\n ]"}, {"sha": "d15f1905bae2625f61676363342dc565cf789dc2", "filename": "crates/ra_ide_api/src/completion/snapshots/completion_item__use_item_starting_with_self.snap", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__use_item_starting_with_self.snap", "raw_url": "https://github.com/rust-lang/rust/raw/a92db7c84829becdf95e0a5ef6e27cdf833518b8/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__use_item_starting_with_self.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcompletion%2Fsnapshots%2Fcompletion_item__use_item_starting_with_self.snap?ref=a92db7c84829becdf95e0a5ef6e27cdf833518b8", "patch": "@@ -1,5 +1,5 @@\n ---\n-created: \"2019-02-18T09:10:52.075119580Z\"\n+created: \"2019-02-18T09:22:24.102063333Z\"\n creator: insta@0.6.2\n source: crates/ra_ide_api/src/completion/completion_item.rs\n expression: kind_completions\n@@ -8,14 +8,8 @@ expression: kind_completions\n     CompletionItem {\n         label: \"Bar\",\n         source_range: [26; 26),\n-        text_edit: TextEdit {\n-            atoms: [\n-                AtomTextEdit {\n-                    delete: [26; 26),\n-                    insert: \"Bar\"\n-                }\n-            ]\n-        },\n+        delete: [26; 26),\n+        insert: \"Bar\",\n         kind: Struct\n     }\n ]"}]}