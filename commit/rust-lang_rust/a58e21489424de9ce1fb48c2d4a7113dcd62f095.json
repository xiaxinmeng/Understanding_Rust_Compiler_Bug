{"sha": "a58e21489424de9ce1fb48c2d4a7113dcd62f095", "node_id": "C_kwDOAAsO6NoAKGE1OGUyMTQ4OTQyNGRlOWNlMWZiNDhjMmQ0YTcxMTNkY2Q2MmYwOTU", "commit": {"author": {"name": "Noah Lev", "email": "camelidcamel@gmail.com", "date": "2021-10-30T03:57:12Z"}, "committer": {"name": "Noah Lev", "email": "camelidcamel@gmail.com", "date": "2021-10-30T18:16:26Z"}, "message": "rustdoc: Stop sorting external crates\n\nNow that #73423 is fixed, sorting should no longer be necessary.\nSee also this discussion [1].\n\n[1]: https://github.com/rust-lang/rust/pull/86889#discussion_r664134963", "tree": {"sha": "86952fbdcf292ca26cb1d8b8fb8b06be49ea4d8e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/86952fbdcf292ca26cb1d8b8fb8b06be49ea4d8e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a58e21489424de9ce1fb48c2d4a7113dcd62f095", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a58e21489424de9ce1fb48c2d4a7113dcd62f095", "html_url": "https://github.com/rust-lang/rust/commit/a58e21489424de9ce1fb48c2d4a7113dcd62f095", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a58e21489424de9ce1fb48c2d4a7113dcd62f095/comments", "author": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ebe9a11f71f2998e0be4d9b95f4eac5d1e1f82a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/ebe9a11f71f2998e0be4d9b95f4eac5d1e1f82a0", "html_url": "https://github.com/rust-lang/rust/commit/ebe9a11f71f2998e0be4d9b95f4eac5d1e1f82a0"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "2fae3163a1a1a4f19509091f6520929e04bf98f0", "filename": "src/librustdoc/clean/utils.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a58e21489424de9ce1fb48c2d4a7113dcd62f095/src%2Flibrustdoc%2Fclean%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a58e21489424de9ce1fb48c2d4a7113dcd62f095/src%2Flibrustdoc%2Fclean%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Futils.rs?ref=a58e21489424de9ce1fb48c2d4a7113dcd62f095", "patch": "@@ -29,12 +29,11 @@ crate fn krate(cx: &mut DocContext<'_>) -> Crate {\n     let module = crate::visit_ast::RustdocVisitor::new(cx).visit();\n \n     let mut externs = Vec::new();\n-    for &cnum in cx.tcx.crates(()).iter() {\n+    for &cnum in cx.tcx.crates(()) {\n         externs.push(ExternalCrate { crate_num: cnum });\n         // Analyze doc-reachability for extern items\n         LibEmbargoVisitor::new(cx).visit_lib(cnum);\n     }\n-    externs.sort_unstable_by_key(|e| e.crate_num);\n \n     // Clean the crate, translating the entire librustc_ast AST to one that is\n     // understood by rustdoc."}]}