{"sha": "825dda80601bdb34ef21065052a8866df0fe0838", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyNWRkYTgwNjAxYmRiMzRlZjIxMDY1MDUyYTg4NjZkZjBmZTA4Mzg=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-09-24T15:11:16Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-09-27T08:08:00Z"}, "message": "Fix ui test.\n\nThis test checks if the compiler complains about accesing a private\nfield before complaining (or crashing) about the private function on it\nnot marked as stable/unstable.\n\nThe interface of the internal type (sys_common's Mutex) used for this\nwas changed. With this change, it uses another function to test for the\nsame issue.", "tree": {"sha": "389e2c3c93080b46e436e4c1d35719faaf5dc31e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/389e2c3c93080b46e436e4c1d35719faaf5dc31e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/825dda80601bdb34ef21065052a8866df0fe0838", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/825dda80601bdb34ef21065052a8866df0fe0838", "html_url": "https://github.com/rust-lang/rust/commit/825dda80601bdb34ef21065052a8866df0fe0838", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/825dda80601bdb34ef21065052a8866df0fe0838/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6f6336b4a187b03312b978703496ea0ee9020ec9", "url": "https://api.github.com/repos/rust-lang/rust/commits/6f6336b4a187b03312b978703496ea0ee9020ec9", "html_url": "https://github.com/rust-lang/rust/commit/6f6336b4a187b03312b978703496ea0ee9020ec9"}], "stats": {"total": 16, "additions": 4, "deletions": 12}, "files": [{"sha": "093d6601d4e2e6063d7267cfe1abeebff01f6c3a", "filename": "src/test/ui/issues/issue-54062.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/825dda80601bdb34ef21065052a8866df0fe0838/src%2Ftest%2Fui%2Fissues%2Fissue-54062.rs", "raw_url": "https://github.com/rust-lang/rust/raw/825dda80601bdb34ef21065052a8866df0fe0838/src%2Ftest%2Fui%2Fissues%2Fissue-54062.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-54062.rs?ref=825dda80601bdb34ef21065052a8866df0fe0838", "patch": "@@ -7,7 +7,6 @@ struct Test {\n fn main() {}\n \n fn testing(test: Test) {\n-    let _ = test.comps.inner.lock().unwrap();\n+    let _ = test.comps.inner.try_lock();\n     //~^ ERROR: field `inner` of struct `Mutex` is private\n-    //~| ERROR: no method named `unwrap` found\n }"}, {"sha": "5361ee1d3455fdb6ed5a3db964b899127c75225d", "filename": "src/test/ui/issues/issue-54062.stderr", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/825dda80601bdb34ef21065052a8866df0fe0838/src%2Ftest%2Fui%2Fissues%2Fissue-54062.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/825dda80601bdb34ef21065052a8866df0fe0838/src%2Ftest%2Fui%2Fissues%2Fissue-54062.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-54062.stderr?ref=825dda80601bdb34ef21065052a8866df0fe0838", "patch": "@@ -1,16 +1,9 @@\n error[E0616]: field `inner` of struct `Mutex` is private\n   --> $DIR/issue-54062.rs:10:24\n    |\n-LL |     let _ = test.comps.inner.lock().unwrap();\n+LL |     let _ = test.comps.inner.try_lock();\n    |                        ^^^^^ private field\n \n-error[E0599]: no method named `unwrap` found for struct `std::sys_common::mutex::MutexGuard<'_>` in the current scope\n-  --> $DIR/issue-54062.rs:10:37\n-   |\n-LL |     let _ = test.comps.inner.lock().unwrap();\n-   |                                     ^^^^^^ method not found in `std::sys_common::mutex::MutexGuard<'_>`\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors have detailed explanations: E0599, E0616.\n-For more information about an error, try `rustc --explain E0599`.\n+For more information about this error, try `rustc --explain E0616`."}]}