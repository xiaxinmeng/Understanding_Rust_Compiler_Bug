{"sha": "823ebb14ba6ed99df1198c6d1b47c5d2964196da", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyM2ViYjE0YmE2ZWQ5OWRmMTE5OGM2ZDFiNDdjNWQyOTY0MTk2ZGE=", "commit": {"author": {"name": "Benjamin Herr", "email": "ben@0x539.de", "date": "2013-09-17T20:13:47Z"}, "committer": {"name": "Benjamin Herr", "email": "ben@0x539.de", "date": "2013-09-17T21:41:42Z"}, "message": "pp: also print bounds in paths with no generic params\n\nSince 3b6314c3 the pretty printer seems to only print trait bounds for\n`ast::ty_path(...)`s that have a generics arguments list. That seems\nwrong, so let's always print them.\n\nCloses #9253, un-xfails test for #7673.", "tree": {"sha": "1047ddd74cf9fa39470ee33199c6038b01101d13", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1047ddd74cf9fa39470ee33199c6038b01101d13"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/823ebb14ba6ed99df1198c6d1b47c5d2964196da", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/823ebb14ba6ed99df1198c6d1b47c5d2964196da", "html_url": "https://github.com/rust-lang/rust/commit/823ebb14ba6ed99df1198c6d1b47c5d2964196da", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/823ebb14ba6ed99df1198c6d1b47c5d2964196da/comments", "author": {"login": "ben0x539", "id": 24142, "node_id": "MDQ6VXNlcjI0MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/24142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben0x539", "html_url": "https://github.com/ben0x539", "followers_url": "https://api.github.com/users/ben0x539/followers", "following_url": "https://api.github.com/users/ben0x539/following{/other_user}", "gists_url": "https://api.github.com/users/ben0x539/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben0x539/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben0x539/subscriptions", "organizations_url": "https://api.github.com/users/ben0x539/orgs", "repos_url": "https://api.github.com/users/ben0x539/repos", "events_url": "https://api.github.com/users/ben0x539/events{/privacy}", "received_events_url": "https://api.github.com/users/ben0x539/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ben0x539", "id": 24142, "node_id": "MDQ6VXNlcjI0MTQy", "avatar_url": "https://avatars.githubusercontent.com/u/24142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ben0x539", "html_url": "https://github.com/ben0x539", "followers_url": "https://api.github.com/users/ben0x539/followers", "following_url": "https://api.github.com/users/ben0x539/following{/other_user}", "gists_url": "https://api.github.com/users/ben0x539/gists{/gist_id}", "starred_url": "https://api.github.com/users/ben0x539/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ben0x539/subscriptions", "organizations_url": "https://api.github.com/users/ben0x539/orgs", "repos_url": "https://api.github.com/users/ben0x539/repos", "events_url": "https://api.github.com/users/ben0x539/events{/privacy}", "received_events_url": "https://api.github.com/users/ben0x539/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aa406c151e7404029760e56338f9ebc92319a5d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/aa406c151e7404029760e56338f9ebc92319a5d5", "html_url": "https://github.com/rust-lang/rust/commit/aa406c151e7404029760e56338f9ebc92319a5d5"}], "stats": {"total": 29, "additions": 20, "deletions": 9}, "files": [{"sha": "b5868cbc63db09a0b16135f4b9c9be3eba91e193", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/823ebb14ba6ed99df1198c6d1b47c5d2964196da/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/823ebb14ba6ed99df1198c6d1b47c5d2964196da/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=823ebb14ba6ed99df1198c6d1b47c5d2964196da", "patch": "@@ -1535,15 +1535,15 @@ fn print_path_(s: @ps,\n \n         print_ident(s, segment.identifier);\n \n-        if segment.lifetime.is_some() || !segment.types.is_empty() {\n-            // If this is the last segment, print the bounds.\n-            if i == path.segments.len() - 1 {\n-                match *opt_bounds {\n-                    None => {}\n-                    Some(ref bounds) => print_bounds(s, bounds, true),\n-                }\n+        // If this is the last segment, print the bounds.\n+        if i == path.segments.len() - 1 {\n+            match *opt_bounds {\n+                None => {}\n+                Some(ref bounds) => print_bounds(s, bounds, true),\n             }\n+        }\n \n+        if segment.lifetime.is_some() || !segment.types.is_empty() {\n             if colons_before_params {\n                 word(s.s, \"::\")\n             }"}, {"sha": "a62fbdeeb185f830ed4fbe3b8411b8a5f31dd6e8", "filename": "src/test/pretty/path-type-bounds.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/823ebb14ba6ed99df1198c6d1b47c5d2964196da/src%2Ftest%2Fpretty%2Fpath-type-bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/823ebb14ba6ed99df1198c6d1b47c5d2964196da/src%2Ftest%2Fpretty%2Fpath-type-bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fpath-type-bounds.rs?ref=823ebb14ba6ed99df1198c6d1b47c5d2964196da", "patch": "@@ -0,0 +1,13 @@\n+// pp-exact\n+\n+trait Tr { }\n+impl Tr for int;\n+\n+fn foo(x: ~Tr: Freeze) -> ~Tr: Freeze { x }\n+\n+fn main() {\n+    let x: ~Tr: Freeze;\n+\n+    ~1 as ~Tr: Freeze;\n+}\n+"}, {"sha": "2f2b736294a5e115c3349c5fc1339f2d60d51e6a", "filename": "src/test/run-pass/issue-7673-cast-generically-implemented-trait.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/823ebb14ba6ed99df1198c6d1b47c5d2964196da/src%2Ftest%2Frun-pass%2Fissue-7673-cast-generically-implemented-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/823ebb14ba6ed99df1198c6d1b47c5d2964196da/src%2Ftest%2Frun-pass%2Fissue-7673-cast-generically-implemented-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-7673-cast-generically-implemented-trait.rs?ref=823ebb14ba6ed99df1198c6d1b47c5d2964196da", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// xfail-pretty #9253 pretty printer doesn't preserve the bounds on trait objects\n-\n /*\n \n #7673 Polymorphically creating traits barely works"}]}