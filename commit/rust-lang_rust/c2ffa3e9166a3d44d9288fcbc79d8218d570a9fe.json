{"sha": "c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMyZmZhM2U5MTY2YTNkNDRkOTI4OGZjYmM3OWQ4MjE4ZDU3MGE5ZmU=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-11-07T08:45:42Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-11-07T22:05:45Z"}, "message": "Fix install target for new libraries", "tree": {"sha": "458f6a1c9aab67a080e3c41afb530ebea228da0d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/458f6a1c9aab67a080e3c41afb530ebea228da0d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe", "html_url": "https://github.com/rust-lang/rust/commit/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69a8b4d8e20df44766fad153b6300b0a6e7e3d5e", "url": "https://api.github.com/repos/rust-lang/rust/commits/69a8b4d8e20df44766fad153b6300b0a6e7e3d5e", "html_url": "https://github.com/rust-lang/rust/commit/69a8b4d8e20df44766fad153b6300b0a6e7e3d5e"}], "stats": {"total": 26, "additions": 22, "deletions": 4}, "files": [{"sha": "2efcf8df7cdb0a583789700671dddf55b1954644", "filename": "mk/install.mk", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe/mk%2Finstall.mk", "raw_url": "https://github.com/rust-lang/rust/raw/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe/mk%2Finstall.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Finstall.mk?ref=c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe", "patch": "@@ -44,6 +44,8 @@ install-target-$(1)-host-$(2): $$(SREQ$$(ISTAGE)_T_$(1)_H_$(2))\n \t\t$$(TL$(1)$(2)),$$(PTL$(1)$(2)),$$(LIBRUSTC_GLOB))\n \t$$(Q)$$(call INSTALL_LIB, \\\n \t\t$$(TL$(1)$(2)),$$(PTL$(1)$(2)),$$(LIBSYNTAX_GLOB))\n+\t$$(Q)$$(call INSTALL_LIB, \\\n+\t\t$$(TL$(1)$(2)),$$(PTL$(1)$(2)),$$(LIBRUSTI_GLOB))\n \t$$(Q)$$(call INSTALL,$$(TL$(1)$(2)),$$(PTL$(1)$(2)),libmorestack.a)\n \n endef\n@@ -72,19 +74,20 @@ install-host: $(SREQ$(ISTAGE)_T_$(CFG_HOST_TRIPLE)_H_$(CFG_HOST_TRIPLE))\n \t$(Q)mkdir -p $(PREFIX_ROOT)/share/man/man1\n \t$(Q)$(call INSTALL,$(HB2),$(PHB),rustc$(X))\n \t$(Q)$(call INSTALL,$(HB2),$(PHB),fuzzer$(X))\n-\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBFUZZER))\n \t$(Q)$(call INSTALL,$(HB2),$(PHB),cargo$(X))\n-\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBCARGO))\n-\t$(Q)$(call INSTALL,$(HB2),$(PHB),rusti$(X))\n \t$(Q)$(call INSTALL,$(HB2),$(PHB),rustdoc$(X))\n+\t$(Q)$(call INSTALL,$(HB2),$(PHB),rusti$(X))\n+\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBRUSTC))\n+\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBFUZZER))\n+\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBCARGO))\n \t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBRUSTDOC))\n \t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_LIBRUSTI))\n-\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_RUNTIME))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(CORELIB_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(STDLIB_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(LIBRUSTC_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(LIBSYNTAX_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(LIBRUSTI_GLOB))\n+\t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_RUNTIME))\n \t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_RUSTLLVM))\n \t$(Q)$(call INSTALL,$(S)/man, \\\n \t     $(PREFIX_ROOT)/share/man/man1,rustc.1)\n@@ -111,6 +114,9 @@ uninstall:\n           $(call HOST_LIB_FROM_HL_GLOB,$(STDLIB_GLOB)) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTC_GLOB)) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBSYNTAX_GLOB)) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBCARGO_GLOB)) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBFUZZER_GLOB)) \\\n+          $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTDOC_GLOB)) \\\n           $(call HOST_LIB_FROM_HL_GLOB,$(LIBRUSTI_GLOB)) \\\n         ; \\\n         do rm -f $$i ; \\"}, {"sha": "292fe62eafce74880360eed1659fda5955098b6c", "filename": "mk/tools.mk", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe/mk%2Ftools.mk", "raw_url": "https://github.com/rust-lang/rust/raw/c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe/mk%2Ftools.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftools.mk?ref=c2ffa3e9166a3d44d9288fcbc79d8218d570a9fe", "patch": "@@ -48,6 +48,9 @@ $$(HLIB$(2)_H_$(4))/$$(CFG_LIBFUZZER):\t\t\t\t\t\\\n \t\t$$(HSREQ$(2)_H_$(4))\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n+\t$$(Q)cp -R $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBFUZZER_GLOB) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBFUZZER_DSYM_GLOB)) \\\n+\t        $$(HLIB$(2)_H_$(4))\n \n $$(HBIN$(2)_H_$(4))/fuzzer$$(X):\t\t\t\t\\\n \t\t$$(TBIN$(1)_T_$(4)_H_$(3))/fuzzer$$(X)\t\\\n@@ -91,6 +94,9 @@ $$(HLIB$(2)_H_$(4))/$$(CFG_LIBCARGO):\t\t\t\t\\\n \t\t$$(HSREQ$(2)_H_$(4))\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n+\t$$(Q)cp -R $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBCARGO_GLOB) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBCARGO_DSYM_GLOB)) \\\n+\t        $$(HLIB$(2)_H_$(4))\n \n $$(HBIN$(2)_H_$(4))/cargo$$(X):\t\t\t\t\t\\\n \t\t$$(TBIN$(1)_T_$(4)_H_$(3))/cargo$$(X)\t\\\n@@ -120,6 +126,9 @@ $$(HLIB$(2)_H_$(4))/$$(CFG_LIBRUSTDOC):\t\t\t\t\t\\\n \t\t$$(HSREQ$(2)_H_$(4))\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n+\t$$(Q)cp -R $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBRUSTDOC_GLOB) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBRUSTDOC_DSYM_GLOB)) \\\n+\t        $$(HLIB$(2)_H_$(4))\n \n $$(HBIN$(2)_H_$(4))/rustdoc$$(X):\t\t\t\t\\\n \t\t$$(TBIN$(1)_T_$(4)_H_$(3))/rustdoc$$(X)\t\\\n@@ -149,6 +158,9 @@ $$(HLIB$(2)_H_$(4))/$$(CFG_LIBRUSTI):\t\t\t\t\t\\\n \t\t$$(HSREQ$(2)_H_$(4))\n \t@$$(call E, cp: $$@)\n \t$$(Q)cp $$< $$@\n+\t$$(Q)cp -R $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBRUSTI_GLOB) \\\n+\t\t$$(wildcard $$(TLIB$(1)_T_$(4)_H_$(3))/$(LIBRUSTI_DSYM_GLOB)) \\\n+\t        $$(HLIB$(2)_H_$(4))\n \n $$(HBIN$(2)_H_$(4))/rusti$$(X):\t\t\t\t\\\n \t\t$$(TBIN$(1)_T_$(4)_H_$(3))/rusti$$(X)\t\\"}]}