{"sha": "484469899b1dc99c55826aa6c261fb3d3b1d7570", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4NDQ2OTg5OWIxZGM5OWM1NTgyNmFhNmMyNjFmYjNkM2IxZDc1NzA=", "commit": {"author": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2018-03-09T00:46:43Z"}, "committer": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2018-03-09T00:46:43Z"}, "message": "Keep code block without correct backticks enclosing", "tree": {"sha": "7435171dd936bfb668e905b655718ebd84a83baa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7435171dd936bfb668e905b655718ebd84a83baa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/484469899b1dc99c55826aa6c261fb3d3b1d7570", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/484469899b1dc99c55826aa6c261fb3d3b1d7570", "html_url": "https://github.com/rust-lang/rust/commit/484469899b1dc99c55826aa6c261fb3d3b1d7570", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/484469899b1dc99c55826aa6c261fb3d3b1d7570/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67fa394e4ed4f4a933c09f0cbd50a1e5b1af56e5", "url": "https://api.github.com/repos/rust-lang/rust/commits/67fa394e4ed4f4a933c09f0cbd50a1e5b1af56e5", "html_url": "https://github.com/rust-lang/rust/commit/67fa394e4ed4f4a933c09f0cbd50a1e5b1af56e5"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "b0cdadaddd7760b2e18eb3f012dbf24467ff8554", "filename": "src/comment.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/484469899b1dc99c55826aa6c261fb3d3b1d7570/src%2Fcomment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/484469899b1dc99c55826aa6c261fb3d3b1d7570/src%2Fcomment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomment.rs?ref=484469899b1dc99c55826aa6c261fb3d3b1d7570", "patch": "@@ -391,6 +391,15 @@ fn rewrite_comment_inner(\n             } else {\n                 code_block_buffer.push_str(line);\n                 code_block_buffer.push('\\n');\n+\n+                if is_last {\n+                    // There is an code block that is not properly enclosed by backticks.\n+                    // We will leave them untouched.\n+                    result.push_str(&comment_line_separator);\n+                    result.push_str(&join_code_block_with_comment_line_separator(\n+                        &code_block_buffer,\n+                    ));\n+                }\n             }\n \n             continue;"}, {"sha": "d8ecf1f7d695d0f6f2768291cdeaca4f08fc891e", "filename": "tests/source/issue-2520.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/484469899b1dc99c55826aa6c261fb3d3b1d7570/tests%2Fsource%2Fissue-2520.rs", "raw_url": "https://github.com/rust-lang/rust/raw/484469899b1dc99c55826aa6c261fb3d3b1d7570/tests%2Fsource%2Fissue-2520.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fissue-2520.rs?ref=484469899b1dc99c55826aa6c261fb3d3b1d7570", "patch": "@@ -5,3 +5,8 @@\n //! ```\n \n #![deny( missing_docs )]\n+\n+//! ```rust\n+//! println!(\"hello, world\");\n+\n+#![deny( missing_docs )]"}, {"sha": "012921f441c98f26e966a4e716efb8513b747053", "filename": "tests/target/issue-2520.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/484469899b1dc99c55826aa6c261fb3d3b1d7570/tests%2Ftarget%2Fissue-2520.rs", "raw_url": "https://github.com/rust-lang/rust/raw/484469899b1dc99c55826aa6c261fb3d3b1d7570/tests%2Ftarget%2Fissue-2520.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fissue-2520.rs?ref=484469899b1dc99c55826aa6c261fb3d3b1d7570", "patch": "@@ -5,3 +5,8 @@\n //! ```\n \n #![deny(missing_docs)]\n+\n+//! ```rust\n+//! println!(\"hello, world\");\n+\n+#![deny(missing_docs)]"}]}