{"sha": "da56d92037421f26badff41fe6de841ca4210e6d", "node_id": "C_kwDOAAsO6NoAKGRhNTZkOTIwMzc0MjFmMjZiYWRmZjQxZmU2ZGU4NDFjYTQyMTBlNmQ", "commit": {"author": {"name": "David Wood", "email": "david.wood@huawei.com", "date": "2022-04-03T04:05:36Z"}, "committer": {"name": "David Wood", "email": "david.wood@huawei.com", "date": "2022-04-05T06:01:03Z"}, "message": "tidy: add fluent dependencies to whitelist\n\nUnfortunately, fluent comes with a lot of dependencies and these need to\nbe added to the whitelist.\n\nSigned-off-by: David Wood <david.wood@huawei.com>", "tree": {"sha": "df85d24d5a989e1abfa62d5cae6f894635331c68", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/df85d24d5a989e1abfa62d5cae6f894635331c68"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/da56d92037421f26badff41fe6de841ca4210e6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/da56d92037421f26badff41fe6de841ca4210e6d", "html_url": "https://github.com/rust-lang/rust/commit/da56d92037421f26badff41fe6de841ca4210e6d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/da56d92037421f26badff41fe6de841ca4210e6d/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "66f22e550b2fc12deb63a6a56b599dffb267785b", "url": "https://api.github.com/repos/rust-lang/rust/commits/66f22e550b2fc12deb63a6a56b599dffb267785b", "html_url": "https://github.com/rust-lang/rust/commit/66f22e550b2fc12deb63a6a56b599dffb267785b"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "ea6e01e577c6bfd3fa56740ce8d72c1a9a1a42ef", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/da56d92037421f26badff41fe6de841ca4210e6d/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da56d92037421f26badff41fe6de841ca4210e6d/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=da56d92037421f26badff41fe6de841ca4210e6d", "patch": "@@ -38,6 +38,8 @@ const EXCEPTIONS: &[(&str, &str)] = &[\n     (\"bitmaps\", \"MPL-2.0+\"),          // cargo via im-rc\n     (\"instant\", \"BSD-3-Clause\"),      // rustc_driver/tracing-subscriber/parking_lot\n     (\"snap\", \"BSD-3-Clause\"),         // rustc\n+    (\"fluent-langneg\", \"Apache-2.0\"), // rustc (fluent translations)\n+    (\"self_cell\", \"Apache-2.0\"),      // rustc (fluent translations)\n     // FIXME: this dependency violates the documentation comment above:\n     (\"fortanix-sgx-abi\", \"MPL-2.0\"), // libstd but only for `sgx` target\n ];\n@@ -113,6 +115,9 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"filetime\",\n     \"fixedbitset\",\n     \"flate2\",\n+    \"fluent-bundle\",\n+    \"fluent-langneg\",\n+    \"fluent-syntax\",\n     \"fortanix-sgx-abi\",\n     \"generic-array\",\n     \"getopts\",\n@@ -125,6 +130,8 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"if_chain\",\n     \"indexmap\",\n     \"instant\",\n+    \"intl-memoizer\",\n+    \"intl_pluralrules\",\n     \"itertools\",\n     \"itoa\",\n     \"jobserver\",\n@@ -157,6 +164,7 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"pkg-config\",\n     \"polonius-engine\",\n     \"ppv-lite86\",\n+    \"proc-macro-hack\",\n     \"proc-macro2\",\n     \"psm\",\n     \"punycode\",\n@@ -184,6 +192,7 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"ryu\",\n     \"scoped-tls\",\n     \"scopeguard\",\n+    \"self_cell\",\n     \"semver\",\n     \"serde\",\n     \"serde_derive\",\n@@ -200,21 +209,29 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"tempfile\",\n     \"termcolor\",\n     \"termize\",\n+    \"thiserror\",\n+    \"thiserror-impl\",\n     \"thorin-dwp\",\n     \"thread_local\",\n     \"time\",\n+    \"tinystr\",\n     \"tinyvec\",\n     \"tracing\",\n     \"tracing-attributes\",\n     \"tracing-core\",\n     \"tracing-log\",\n     \"tracing-subscriber\",\n     \"tracing-tree\",\n+    \"type-map\",\n     \"typenum\",\n     \"unic-char-property\",\n     \"unic-char-range\",\n     \"unic-common\",\n     \"unic-emoji-char\",\n+    \"unic-langid\",\n+    \"unic-langid-impl\",\n+    \"unic-langid-macros\",\n+    \"unic-langid-macros-impl\",\n     \"unic-ucd-version\",\n     \"unicode-normalization\",\n     \"unicode-script\",\n@@ -228,7 +245,8 @@ const PERMITTED_DEPENDENCIES: &[&str] = &[\n     \"winapi-i686-pc-windows-gnu\",\n     \"winapi-util\",\n     \"winapi-x86_64-pc-windows-gnu\",\n-    // this is a false-positive: it's only used by rustfmt, but because it's enabled through a feature, tidy thinks it's used by rustc as well.\n+    // this is a false-positive: it's only used by rustfmt, but because it's enabled through a\n+    // feature, tidy thinks it's used by rustc as well.\n     \"yansi-term\",\n ];\n "}]}