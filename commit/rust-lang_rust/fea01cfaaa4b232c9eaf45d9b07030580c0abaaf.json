{"sha": "fea01cfaaa4b232c9eaf45d9b07030580c0abaaf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZlYTAxY2ZhYWE0YjIzMmM5ZWFmNDVkOWIwNzAzMDU4MGMwYWJhYWY=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-05-04T16:54:22Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-05-04T16:54:22Z"}, "message": "Update Cranelift\n\nThis removes all the byteorder and thiserror dependencies. This results\nin no proc macros being necessary anymore.", "tree": {"sha": "c285844031094ce7ffd2d8231dde4549899e8ea6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c285844031094ce7ffd2d8231dde4549899e8ea6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf", "html_url": "https://github.com/rust-lang/rust/commit/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b693579877ed67e59dfad5a82d3f2e05d3383d0", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b693579877ed67e59dfad5a82d3f2e05d3383d0", "html_url": "https://github.com/rust-lang/rust/commit/8b693579877ed67e59dfad5a82d3f2e05d3383d0"}], "stats": {"total": 93, "additions": 11, "deletions": 82}, "files": [{"sha": "09bb37292ef3da498b7387b2b3f536208376b3d4", "filename": "Cargo.lock", "status": "modified", "additions": 10, "deletions": 74, "changes": 84, "blob_url": "https://github.com/rust-lang/rust/blob/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=fea01cfaaa4b232c9eaf45d9b07030580c0abaaf", "patch": "@@ -25,12 +25,6 @@ version = \"1.2.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"cf1de2fe8c75bc145a2f577add951f8134889b4795d47466a54a5c846d691693\"\n \n-[[package]]\n-name = \"byteorder\"\n-version = \"1.4.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ae44d1a3d5a19df61dd0c8beb138458ac2a53a7ac09eba97d55592540004306b\"\n-\n [[package]]\n name = \"cfg-if\"\n version = \"1.0.0\"\n@@ -40,17 +34,16 @@ checksum = \"baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd\"\n [[package]]\n name = \"cranelift-bforest\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n  \"cranelift-entity\",\n ]\n \n [[package]]\n name = \"cranelift-codegen\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n- \"byteorder\",\n  \"cranelift-bforest\",\n  \"cranelift-codegen-meta\",\n  \"cranelift-codegen-shared\",\n@@ -60,13 +53,12 @@ dependencies = [\n  \"regalloc\",\n  \"smallvec\",\n  \"target-lexicon\",\n- \"thiserror\",\n ]\n \n [[package]]\n name = \"cranelift-codegen-meta\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n  \"cranelift-codegen-shared\",\n  \"cranelift-entity\",\n@@ -75,17 +67,17 @@ dependencies = [\n [[package]]\n name = \"cranelift-codegen-shared\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n \n [[package]]\n name = \"cranelift-entity\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n \n [[package]]\n name = \"cranelift-frontend\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"log\",\n@@ -96,7 +88,7 @@ dependencies = [\n [[package]]\n name = \"cranelift-jit\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -114,19 +106,18 @@ dependencies = [\n [[package]]\n name = \"cranelift-module\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n  \"cranelift-entity\",\n  \"log\",\n- \"thiserror\",\n ]\n \n [[package]]\n name = \"cranelift-native\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"target-lexicon\",\n@@ -135,7 +126,7 @@ dependencies = [\n [[package]]\n name = \"cranelift-object\"\n version = \"0.73.0\"\n-source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#45bee40f338c631bff4a799288101ba328c7ad36\"\n+source = \"git+https://github.com/bytecodealliance/wasmtime/?branch=main#fe76c5915980208d1971b491ffed0a139dafb7f9\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -250,24 +241,6 @@ dependencies = [\n  \"indexmap\",\n ]\n \n-[[package]]\n-name = \"proc-macro2\"\n-version = \"1.0.24\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1e0704ee1a7e00d7bb417d0770ea303c1bccbabf0ef1667dae92b5967f5f8a71\"\n-dependencies = [\n- \"unicode-xid\",\n-]\n-\n-[[package]]\n-name = \"quote\"\n-version = \"1.0.9\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c3d0b9745dc2debf507c8422de05d7226cc1f0644216dfdfead988f9b1ab32a7\"\n-dependencies = [\n- \"proc-macro2\",\n-]\n-\n [[package]]\n name = \"regalloc\"\n version = \"0.0.31\"\n@@ -322,49 +295,12 @@ version = \"1.6.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"fe0f37c9e8f3c5a4a66ad655a93c74daac4ad00c441533bf5c6e7990bb42604e\"\n \n-[[package]]\n-name = \"syn\"\n-version = \"1.0.60\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c700597eca8a5a762beb35753ef6b94df201c81cca676604f547495a0d7f0081\"\n-dependencies = [\n- \"proc-macro2\",\n- \"quote\",\n- \"unicode-xid\",\n-]\n-\n [[package]]\n name = \"target-lexicon\"\n version = \"0.12.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"64ae3b39281e4b14b8123bdbaddd472b7dfe215e444181f2f9d2443c2444f834\"\n \n-[[package]]\n-name = \"thiserror\"\n-version = \"1.0.24\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e0f4a65597094d4483ddaed134f409b2cb7c1beccf25201a9f73c719254fa98e\"\n-dependencies = [\n- \"thiserror-impl\",\n-]\n-\n-[[package]]\n-name = \"thiserror-impl\"\n-version = \"1.0.24\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7765189610d8241a44529806d6fd1f2e0a08734313a35d5b3a556f92b381f3c0\"\n-dependencies = [\n- \"proc-macro2\",\n- \"quote\",\n- \"syn\",\n-]\n-\n-[[package]]\n-name = \"unicode-xid\"\n-version = \"0.2.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f7fe0bb3479651439c9112f72b6c505038574c9fbb575ed1bf3b797fa39dd564\"\n-\n [[package]]\n name = \"winapi\"\n version = \"0.3.9\""}, {"sha": "ff1433d1cb63218851a5dcba5b89e93b50888bf8", "filename": "Cargo.toml", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=fea01cfaaa4b232c9eaf45d9b07030580c0abaaf", "patch": "@@ -70,13 +70,5 @@ debug = false\n opt-level = 0\n debug = false\n \n-[profile.dev.package.syn]\n-opt-level = 0\n-debug = false\n-\n-[profile.release.package.syn]\n-opt-level = 0\n-debug = false\n-\n [package.metadata.rust-analyzer]\n rustc_private = true"}, {"sha": "171f39805f8963ffaad26ce92566cb3f369111d6", "filename": "src/value_and_place.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf/src%2Fvalue_and_place.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fea01cfaaa4b232c9eaf45d9b07030580c0abaaf/src%2Fvalue_and_place.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvalue_and_place.rs?ref=fea01cfaaa4b232c9eaf45d9b07030580c0abaaf", "patch": "@@ -561,6 +561,7 @@ impl<'tcx> CPlace<'tcx> {\n                     dst_align,\n                     src_align,\n                     true,\n+                    MemFlags::trusted(),\n                 );\n             }\n             CValueInner::ByRef(_, Some(_)) => todo!(),"}]}