{"sha": "6937bcb67d825938d862cd1792af02e00e1d1a06", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5MzdiY2I2N2Q4MjU5MzhkODYyY2QxNzkyYWYwMmUwMGUxZDFhMDY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-06-24T14:58:49Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-06-24T14:59:15Z"}, "message": "Less error-prone naming", "tree": {"sha": "62afb8a2be50f8491dfd33f15d1b96a54b7ae2ab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/62afb8a2be50f8491dfd33f15d1b96a54b7ae2ab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6937bcb67d825938d862cd1792af02e00e1d1a06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6937bcb67d825938d862cd1792af02e00e1d1a06", "html_url": "https://github.com/rust-lang/rust/commit/6937bcb67d825938d862cd1792af02e00e1d1a06", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6937bcb67d825938d862cd1792af02e00e1d1a06/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ddc5a3e5679bab2ae574fcfc6b7afcbd31b702bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/ddc5a3e5679bab2ae574fcfc6b7afcbd31b702bc", "html_url": "https://github.com/rust-lang/rust/commit/ddc5a3e5679bab2ae574fcfc6b7afcbd31b702bc"}], "stats": {"total": 33, "additions": 12, "deletions": 21}, "files": [{"sha": "92e9b60fc693ba0d1702fadbbe01b78b4eaf72f2", "filename": "crates/rust-analyzer/src/cli/load_cargo.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Frust-analyzer%2Fsrc%2Fcli%2Fload_cargo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Frust-analyzer%2Fsrc%2Fcli%2Fload_cargo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fcli%2Fload_cargo.rs?ref=6937bcb67d825938d862cd1792af02e00e1d1a06", "patch": "@@ -67,8 +67,8 @@ pub(crate) fn load(\n     // wait until Vfs has loaded all roots\n     for task in receiver {\n         match task {\n-            vfs::loader::Message::Progress { n_entries_done, n_entries_total } => {\n-                if n_entries_done == n_entries_total {\n+            vfs::loader::Message::Progress { n_done, n_total } => {\n+                if n_done == n_total {\n                     break;\n                 }\n             }"}, {"sha": "b55d45cd37b9c53bccfd99f60b3b8e2ee2a0cd63", "filename": "crates/rust-analyzer/src/main_loop.rs", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs?ref=6937bcb67d825938d862cd1792af02e00e1d1a06", "patch": "@@ -305,18 +305,12 @@ fn loop_turn(\n                     }\n                 }\n             }\n-            vfs::loader::Message::Progress { n_entries_total, n_entries_done } => {\n-                if n_entries_done == n_entries_total {\n+            vfs::loader::Message::Progress { n_total, n_done } => {\n+                if n_done == n_total {\n                     loop_state.status = Status::Ready;\n                     became_ready = true;\n                 }\n-                report_progress(\n-                    loop_state,\n-                    &connection.sender,\n-                    n_entries_done,\n-                    n_entries_total,\n-                    \"roots scanned\",\n-                )\n+                report_progress(loop_state, &connection.sender, n_done, n_total, \"roots scanned\")\n             }\n         },\n         Event::CheckWatcher(task) => on_check_task(task, global_state, task_sender)?,"}, {"sha": "b3d7c414c2d0ba7e99e5fbbef00af49190805b55", "filename": "crates/vfs-notify/src/lib.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Fvfs-notify%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Fvfs-notify%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fvfs-notify%2Fsrc%2Flib.rs?ref=6937bcb67d825938d862cd1792af02e00e1d1a06", "patch": "@@ -89,8 +89,8 @@ impl LoaderActor {\n             match event {\n                 Event::Message(msg) => match msg {\n                     Message::Config(config) => {\n-                        let n_entries_total = config.load.len();\n-                        self.send(loader::Message::Progress { n_entries_total, n_entries_done: 0 });\n+                        let n_total = config.load.len();\n+                        self.send(loader::Message::Progress { n_total, n_done: 0 });\n \n                         self.unwatch_all();\n                         self.config.clear();\n@@ -99,10 +99,7 @@ impl LoaderActor {\n                             let watch = config.watch.contains(&i);\n                             let files = self.load_entry(entry, watch);\n                             self.send(loader::Message::Loaded { files });\n-                            self.send(loader::Message::Progress {\n-                                n_entries_total,\n-                                n_entries_done: i + 1,\n-                            });\n+                            self.send(loader::Message::Progress { n_total, n_done: i + 1 });\n                         }\n                         self.config.sort_by(|x, y| x.0.cmp(&y.0));\n                     }"}, {"sha": "6de2e5b3f9501f5560e9e11fcdf8b00f9a776d2e", "filename": "crates/vfs/src/loader.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Fvfs%2Fsrc%2Floader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6937bcb67d825938d862cd1792af02e00e1d1a06/crates%2Fvfs%2Fsrc%2Floader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fvfs%2Fsrc%2Floader.rs?ref=6937bcb67d825938d862cd1792af02e00e1d1a06", "patch": "@@ -16,7 +16,7 @@ pub struct Config {\n }\n \n pub enum Message {\n-    Progress { n_entries_total: usize, n_entries_done: usize },\n+    Progress { n_total: usize, n_done: usize },\n     Loaded { files: Vec<(AbsPathBuf, Option<Vec<u8>>)> },\n }\n \n@@ -56,10 +56,10 @@ impl fmt::Debug for Message {\n             Message::Loaded { files } => {\n                 f.debug_struct(\"Loaded\").field(\"n_files\", &files.len()).finish()\n             }\n-            Message::Progress { n_entries_total, n_entries_done } => f\n+            Message::Progress { n_total, n_done } => f\n                 .debug_struct(\"Progress\")\n-                .field(\"n_entries_total\", n_entries_total)\n-                .field(\"n_entries_done\", n_entries_done)\n+                .field(\"n_total\", n_total)\n+                .field(\"n_done\", n_done)\n                 .finish(),\n         }\n     }"}]}