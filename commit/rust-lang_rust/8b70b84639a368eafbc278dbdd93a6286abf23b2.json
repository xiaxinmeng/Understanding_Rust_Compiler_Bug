{"sha": "8b70b84639a368eafbc278dbdd93a6286abf23b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhiNzBiODQ2MzlhMzY4ZWFmYmMyNzhkYmRkOTNhNjI4NmFiZjIzYjI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-10-10T09:25:46Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-10-10T09:25:46Z"}, "message": "Auto merge of #6107 - nahuakang:ref_style_link_false_positive, r=flip1995\n\nRef style link false positive\n\nThis PR does not fix #5834, but it records the problematic link text as a **known problem** inside `doc_markdown` lint.\n\nr? `@flip1995`\n\n- [ ] Followed [lint naming conventions][lint_naming]\n- [ ] Added passing UI tests (including committed `.stderr` file)\n- [x] `cargo test` passes locally\n- [x] Executed `cargo dev update_lints`\n- [ ] Added lint documentation\n- [x] Run `cargo dev fmt`\n\n---\n\n*Please keep the line below*\nchangelog: Document problematic link text style as known problem for `doc_markdown`", "tree": {"sha": "a99b51955771052dcc523da9535c27b707476104", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a99b51955771052dcc523da9535c27b707476104"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8b70b84639a368eafbc278dbdd93a6286abf23b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8b70b84639a368eafbc278dbdd93a6286abf23b2", "html_url": "https://github.com/rust-lang/rust/commit/8b70b84639a368eafbc278dbdd93a6286abf23b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8b70b84639a368eafbc278dbdd93a6286abf23b2/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dbc02854fce1f783599e3f98b6ee6b9a136d9e96", "url": "https://api.github.com/repos/rust-lang/rust/commits/dbc02854fce1f783599e3f98b6ee6b9a136d9e96", "html_url": "https://github.com/rust-lang/rust/commit/dbc02854fce1f783599e3f98b6ee6b9a136d9e96"}, {"sha": "f302af33bc1901ddd0226c8d3a6433682a85f69b", "url": "https://api.github.com/repos/rust-lang/rust/commits/f302af33bc1901ddd0226c8d3a6433682a85f69b", "html_url": "https://github.com/rust-lang/rust/commit/f302af33bc1901ddd0226c8d3a6433682a85f69b"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "07f604cf71472eee5fd55b87acef169f17237735", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/8b70b84639a368eafbc278dbdd93a6286abf23b2/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b70b84639a368eafbc278dbdd93a6286abf23b2/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=8b70b84639a368eafbc278dbdd93a6286abf23b2", "patch": "@@ -32,13 +32,26 @@ declare_clippy_lint! {\n     /// **Known problems:** Lots of bad docs won\u2019t be fixed, what the lint checks\n     /// for is limited, and there are still false positives.\n     ///\n+    /// In addition, when writing documentation comments, including `[]` brackets\n+    /// inside a link text would trip the parser. Therfore, documenting link with\n+    /// `[`SmallVec<[T; INLINE_CAPACITY]>`]` and then [`SmallVec<[T; INLINE_CAPACITY]>`]: SmallVec\n+    /// would fail.\n+    ///\n     /// **Examples:**\n     /// ```rust\n     /// /// Do something with the foo_bar parameter. See also\n     /// /// that::other::module::foo.\n     /// // ^ `foo_bar` and `that::other::module::foo` should be ticked.\n     /// fn doit(foo_bar: usize) {}\n     /// ```\n+    ///\n+    /// ```rust\n+    /// // Link text with `[]` brackets should be written as following:\n+    /// /// Consume the array and return the inner\n+    /// /// [`SmallVec<[T; INLINE_CAPACITY]>`][SmallVec].\n+    /// /// [SmallVec]: SmallVec\n+    /// fn main() {}\n+    /// ```\n     pub DOC_MARKDOWN,\n     pedantic,\n     \"presence of `_`, `::` or camel-case outside backticks in documentation\""}]}