{"sha": "45e3a4aa57612a7e84f427ee19dcca86b834c87f", "node_id": "C_kwDOAAsO6NoAKDQ1ZTNhNGFhNTc2MTJhN2U4NGY0MjdlZTE5ZGNjYTg2YjgzNGM4N2Y", "commit": {"author": {"name": "antoyo", "email": "antoyo@users.noreply.github.com", "date": "2022-06-23T13:56:31Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-06-23T13:56:31Z"}, "message": "Merge pull request #186 from GuillaumeGomez/update-intrinsics-tool\n\nUpdate intrinsics tool", "tree": {"sha": "60fea37f5d994be634c60c7571ce0c109e813944", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/60fea37f5d994be634c60c7571ce0c109e813944"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/45e3a4aa57612a7e84f427ee19dcca86b834c87f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJitHEPCRBK7hj4Ov3rIwAAt68IAEd6/U8SiXeiSOP2ERaYYV4t\n1TeR1cR1iyrTMwTAdB+/rA42paeTQ2wktMsiVSyKpPknbC6AZepZmi/1yagNgnxC\n3aToWJ7dsW8bi0IXgMm+f68qLSu7C8ch/bPnlD6ncrjB60bk2bUVl334PE3dBXc1\n4kyqoTGV5GQA7Bdc6Psumi3DIi/XwofxlnpbJ8YRNwGPhaPCm0MSd5V57EySydhD\nTu06YSLOEJLUxXKTPuBydfpDw4d0NwoQn+4y8bmZH5SJDBOWpVfZ0fJiQfjvwyvK\nu7cx6rljlpqMeuv8Sn3rrzxF4nMLCLpXvlIzG6pa/s4UEqusVY2VbGhNJe1jhTM=\n=BAKL\n-----END PGP SIGNATURE-----\n", "payload": "tree 60fea37f5d994be634c60c7571ce0c109e813944\nparent 94e38002bf31c043ac8eb55ca4f176edda7b5f99\nparent 48347715fb387916343494ef2c1a45b8c66f0da8\nauthor antoyo <antoyo@users.noreply.github.com> 1655992591 -0400\ncommitter GitHub <noreply@github.com> 1655992591 -0400\n\nMerge pull request #186 from GuillaumeGomez/update-intrinsics-tool\n\nUpdate intrinsics tool"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/45e3a4aa57612a7e84f427ee19dcca86b834c87f", "html_url": "https://github.com/rust-lang/rust/commit/45e3a4aa57612a7e84f427ee19dcca86b834c87f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/45e3a4aa57612a7e84f427ee19dcca86b834c87f/comments", "author": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94e38002bf31c043ac8eb55ca4f176edda7b5f99", "url": "https://api.github.com/repos/rust-lang/rust/commits/94e38002bf31c043ac8eb55ca4f176edda7b5f99", "html_url": "https://github.com/rust-lang/rust/commit/94e38002bf31c043ac8eb55ca4f176edda7b5f99"}, {"sha": "48347715fb387916343494ef2c1a45b8c66f0da8", "url": "https://api.github.com/repos/rust-lang/rust/commits/48347715fb387916343494ef2c1a45b8c66f0da8", "html_url": "https://github.com/rust-lang/rust/commit/48347715fb387916343494ef2c1a45b8c66f0da8"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "3f2db6431053d089522d99f28e48cdad63454d8f", "filename": "src/intrinsic/archs.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/45e3a4aa57612a7e84f427ee19dcca86b834c87f/src%2Fintrinsic%2Farchs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/45e3a4aa57612a7e84f427ee19dcca86b834c87f/src%2Fintrinsic%2Farchs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fintrinsic%2Farchs.rs?ref=45e3a4aa57612a7e84f427ee19dcca86b834c87f", "patch": "@@ -65,6 +65,7 @@ match name {\n     \"llvm.amdgcn.cvt.pknorm.u16\" => \"__builtin_amdgcn_cvt_pknorm_u16\",\n     \"llvm.amdgcn.cvt.pkrtz\" => \"__builtin_amdgcn_cvt_pkrtz\",\n     \"llvm.amdgcn.dispatch.id\" => \"__builtin_amdgcn_dispatch_id\",\n+    \"llvm.amdgcn.ds.add.gs.reg.rtn\" => \"__builtin_amdgcn_ds_add_gs_reg_rtn\",\n     \"llvm.amdgcn.ds.bpermute\" => \"__builtin_amdgcn_ds_bpermute\",\n     \"llvm.amdgcn.ds.fadd.v2bf16\" => \"__builtin_amdgcn_ds_atomic_fadd_v2bf16\",\n     \"llvm.amdgcn.ds.gws.barrier\" => \"__builtin_amdgcn_ds_gws_barrier\",\n@@ -74,9 +75,13 @@ match name {\n     \"llvm.amdgcn.ds.gws.sema.release.all\" => \"__builtin_amdgcn_ds_gws_sema_release_all\",\n     \"llvm.amdgcn.ds.gws.sema.v\" => \"__builtin_amdgcn_ds_gws_sema_v\",\n     \"llvm.amdgcn.ds.permute\" => \"__builtin_amdgcn_ds_permute\",\n+    \"llvm.amdgcn.ds.sub.gs.reg.rtn\" => \"__builtin_amdgcn_ds_sub_gs_reg_rtn\",\n     \"llvm.amdgcn.ds.swizzle\" => \"__builtin_amdgcn_ds_swizzle\",\n     \"llvm.amdgcn.endpgm\" => \"__builtin_amdgcn_endpgm\",\n     \"llvm.amdgcn.fdot2\" => \"__builtin_amdgcn_fdot2\",\n+    \"llvm.amdgcn.fdot2.bf16.bf16\" => \"__builtin_amdgcn_fdot2_bf16_bf16\",\n+    \"llvm.amdgcn.fdot2.f16.f16\" => \"__builtin_amdgcn_fdot2_f16_f16\",\n+    \"llvm.amdgcn.fdot2.f32.bf16\" => \"__builtin_amdgcn_fdot2_f32_bf16\",\n     \"llvm.amdgcn.fmed3\" => \"__builtin_amdgcn_fmed3\",\n     \"llvm.amdgcn.fmul.legacy\" => \"__builtin_amdgcn_fmul_legacy\",\n     \"llvm.amdgcn.groupstaticsize\" => \"__builtin_amdgcn_groupstaticsize\",\n@@ -167,6 +172,8 @@ match name {\n     \"llvm.amdgcn.smfmac.f32.32x32x16.f16\" => \"__builtin_amdgcn_smfmac_f32_32x32x16_f16\",\n     \"llvm.amdgcn.smfmac.i32.16x16x64.i8\" => \"__builtin_amdgcn_smfmac_i32_16x16x64_i8\",\n     \"llvm.amdgcn.smfmac.i32.32x32x32.i8\" => \"__builtin_amdgcn_smfmac_i32_32x32x32_i8\",\n+    \"llvm.amdgcn.sudot4\" => \"__builtin_amdgcn_sudot4\",\n+    \"llvm.amdgcn.sudot8\" => \"__builtin_amdgcn_sudot8\",\n     \"llvm.amdgcn.udot2\" => \"__builtin_amdgcn_udot2\",\n     \"llvm.amdgcn.udot4\" => \"__builtin_amdgcn_udot4\",\n     \"llvm.amdgcn.udot8\" => \"__builtin_amdgcn_udot8\","}, {"sha": "49d5969470ef6b6e53bdcee543da711ec639a409", "filename": "tools/generate_intrinsics.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/45e3a4aa57612a7e84f427ee19dcca86b834c87f/tools%2Fgenerate_intrinsics.py", "raw_url": "https://github.com/rust-lang/rust/raw/45e3a4aa57612a7e84f427ee19dcca86b834c87f/tools%2Fgenerate_intrinsics.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tools%2Fgenerate_intrinsics.py?ref=45e3a4aa57612a7e84f427ee19dcca86b834c87f", "patch": "@@ -67,7 +67,7 @@ def extract_instrinsics_from_llvm(llvm_path, intrinsics):\n             pos += 1\n             if line == \"}\":\n                 break\n-        entries = re.findall('string GCCBuiltinName = \"(\\\\w+)\";', content)\n+        entries = re.findall('string ClangBuiltinName = \"(\\\\w+)\";', content)\n         current_arch = re.findall('string TargetPrefix = \"(\\\\w+)\";', content)\n         if len(entries) == 1 and len(current_arch) == 1:\n             current_arch = current_arch[0]"}]}