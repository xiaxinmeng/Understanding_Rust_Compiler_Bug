{"sha": "ca62d98781f13b6fb82c4d19269ee255208fb3d4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhNjJkOTg3ODFmMTNiNmZiODJjNGQxOTI2OWVlMjU1MjA4ZmIzZDQ=", "commit": {"author": {"name": "Edwin Cheng", "email": "edwin0cheng@gmail.com", "date": "2020-01-10T16:29:00Z"}, "committer": {"name": "Edwin Cheng", "email": "edwin0cheng@gmail.com", "date": "2020-01-10T16:29:00Z"}, "message": "Expand PAREN_EXPR as expression", "tree": {"sha": "d53420524b9f0ba46170f45cdca7bafbe953add4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d53420524b9f0ba46170f45cdca7bafbe953add4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ca62d98781f13b6fb82c4d19269ee255208fb3d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ca62d98781f13b6fb82c4d19269ee255208fb3d4", "html_url": "https://github.com/rust-lang/rust/commit/ca62d98781f13b6fb82c4d19269ee255208fb3d4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ca62d98781f13b6fb82c4d19269ee255208fb3d4/comments", "author": {"login": "edwin0cheng", "id": 11014119, "node_id": "MDQ6VXNlcjExMDE0MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11014119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edwin0cheng", "html_url": "https://github.com/edwin0cheng", "followers_url": "https://api.github.com/users/edwin0cheng/followers", "following_url": "https://api.github.com/users/edwin0cheng/following{/other_user}", "gists_url": "https://api.github.com/users/edwin0cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/edwin0cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edwin0cheng/subscriptions", "organizations_url": "https://api.github.com/users/edwin0cheng/orgs", "repos_url": "https://api.github.com/users/edwin0cheng/repos", "events_url": "https://api.github.com/users/edwin0cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/edwin0cheng/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edwin0cheng", "id": 11014119, "node_id": "MDQ6VXNlcjExMDE0MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11014119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edwin0cheng", "html_url": "https://github.com/edwin0cheng", "followers_url": "https://api.github.com/users/edwin0cheng/followers", "following_url": "https://api.github.com/users/edwin0cheng/following{/other_user}", "gists_url": "https://api.github.com/users/edwin0cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/edwin0cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edwin0cheng/subscriptions", "organizations_url": "https://api.github.com/users/edwin0cheng/orgs", "repos_url": "https://api.github.com/users/edwin0cheng/repos", "events_url": "https://api.github.com/users/edwin0cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/edwin0cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "928ecd069a508845ef4dbfd1bc1b9bf975d76e5b", "url": "https://api.github.com/repos/rust-lang/rust/commits/928ecd069a508845ef4dbfd1bc1b9bf975d76e5b", "html_url": "https://github.com/rust-lang/rust/commit/928ecd069a508845ef4dbfd1bc1b9bf975d76e5b"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "d41b341616b02bb1004aac5b59463d957dc45156", "filename": "crates/ra_hir_expand/src/db.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ca62d98781f13b6fb82c4d19269ee255208fb3d4/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca62d98781f13b6fb82c4d19269ee255208fb3d4/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs?ref=ca62d98781f13b6fb82c4d19269ee255208fb3d4", "patch": "@@ -187,6 +187,7 @@ fn to_fragment_kind(db: &dyn AstDatabase, macro_call_id: MacroCallId) -> Fragmen\n         ARG_LIST => FragmentKind::Expr,\n         TRY_EXPR => FragmentKind::Expr,\n         TUPLE_EXPR => FragmentKind::Expr,\n+        PAREN_EXPR => FragmentKind::Expr,\n         ITEM_LIST => FragmentKind::Items,\n         _ => {\n             // Unknown , Just guess it is `Items`"}, {"sha": "6c5d39549a52cafec3e8f2591abf03968e905dd5", "filename": "crates/ra_hir_ty/src/tests/regression.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/ca62d98781f13b6fb82c4d19269ee255208fb3d4/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fregression.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca62d98781f13b6fb82c4d19269ee255208fb3d4/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fregression.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_ty%2Fsrc%2Ftests%2Fregression.rs?ref=ca62d98781f13b6fb82c4d19269ee255208fb3d4", "patch": "@@ -309,6 +309,23 @@ fn test<R>(query_response: Canonical<QueryResponse<R>>) {\n     );\n }\n \n+#[test]\n+fn infer_paren_macro_call() {\n+    assert_snapshot!(\n+        infer(r#\"\n+macro_rules! bar { () => {0u32} }\n+fn test() {\n+    let a = (bar!());\n+}\n+\"#),\n+        @r###\"\n+    ![0; 4) '0u32': u32\n+    [45; 70) '{     ...()); }': ()\n+    [55; 56) 'a': u32\n+        \"###\n+    );\n+}\n+\n #[test]\n fn bug_1030() {\n     assert_snapshot!(infer(r#\""}]}