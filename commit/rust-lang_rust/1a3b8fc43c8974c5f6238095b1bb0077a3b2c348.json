{"sha": "1a3b8fc43c8974c5f6238095b1bb0077a3b2c348", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhM2I4ZmM0M2M4OTc0YzVmNjIzODA5NWIxYmIwMDc3YTNiMmMzNDg=", "commit": {"author": {"name": "Lindsey Kuper", "email": "lindsey@rockstargirl.org", "date": "2012-06-04T23:51:45Z"}, "committer": {"name": "Lindsey Kuper", "email": "lindsey@rockstargirl.org", "date": "2012-06-05T17:08:32Z"}, "message": "Have \"aborting due to previous errors\" message show an error count", "tree": {"sha": "3109183bcf06ec026bba26645485a01bae2b171c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3109183bcf06ec026bba26645485a01bae2b171c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348", "html_url": "https://github.com/rust-lang/rust/commit/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348/comments", "author": {"login": "lkuper", "id": 535218, "node_id": "MDQ6VXNlcjUzNTIxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/535218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkuper", "html_url": "https://github.com/lkuper", "followers_url": "https://api.github.com/users/lkuper/followers", "following_url": "https://api.github.com/users/lkuper/following{/other_user}", "gists_url": "https://api.github.com/users/lkuper/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkuper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkuper/subscriptions", "organizations_url": "https://api.github.com/users/lkuper/orgs", "repos_url": "https://api.github.com/users/lkuper/repos", "events_url": "https://api.github.com/users/lkuper/events{/privacy}", "received_events_url": "https://api.github.com/users/lkuper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lkuper", "id": 535218, "node_id": "MDQ6VXNlcjUzNTIxOA==", "avatar_url": "https://avatars.githubusercontent.com/u/535218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lkuper", "html_url": "https://github.com/lkuper", "followers_url": "https://api.github.com/users/lkuper/followers", "following_url": "https://api.github.com/users/lkuper/following{/other_user}", "gists_url": "https://api.github.com/users/lkuper/gists{/gist_id}", "starred_url": "https://api.github.com/users/lkuper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lkuper/subscriptions", "organizations_url": "https://api.github.com/users/lkuper/orgs", "repos_url": "https://api.github.com/users/lkuper/repos", "events_url": "https://api.github.com/users/lkuper/events{/privacy}", "received_events_url": "https://api.github.com/users/lkuper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "99d6807ee009b0289d5a1ae46385d251e4f0da64", "url": "https://api.github.com/repos/rust-lang/rust/commits/99d6807ee009b0289d5a1ae46385d251e4f0da64", "html_url": "https://github.com/rust-lang/rust/commit/99d6807ee009b0289d5a1ae46385d251e4f0da64"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "3ccf8fdf341117b4623fec0b7eef76c18ddcda6e", "filename": "src/compiletest/runtest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348/src%2Fcompiletest%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348/src%2Fcompiletest%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fruntest.rs?ref=1a3b8fc43c8974c5f6238095b1bb0077a3b2c348", "patch": "@@ -266,7 +266,7 @@ fn check_expected_errors(expected_errors: [errors::expected_error],\n         }\n \n         // ignore this msg which gets printed at the end\n-        if str::contains(line, \"aborting due to previous errors\") {\n+        if str::contains(line, \"aborting due to\") {\n             was_expected = true;\n         }\n "}, {"sha": "6d54615e82726a56470a64798362f1fb0ddb52eb", "filename": "src/libsyntax/diagnostic.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348/src%2Flibsyntax%2Fdiagnostic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a3b8fc43c8974c5f6238095b1bb0077a3b2c348/src%2Flibsyntax%2Fdiagnostic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fdiagnostic.rs?ref=1a3b8fc43c8974c5f6238095b1bb0077a3b2c348", "patch": "@@ -87,7 +87,9 @@ impl codemap_handler of handler for handler_t {\n     fn has_errors() -> bool { self.err_count > 0u }\n     fn abort_if_errors() {\n         if self.err_count > 0u {\n-            self.fatal(\"aborting due to previous errors\");\n+            let s = #fmt[\"aborting due to %u previous errors\",\n+                         self.err_count];\n+            self.fatal(s);\n         }\n     }\n     fn warn(msg: str) {"}]}