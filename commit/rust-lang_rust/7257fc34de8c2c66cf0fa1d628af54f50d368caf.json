{"sha": "7257fc34de8c2c66cf0fa1d628af54f50d368caf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcyNTdmYzM0ZGU4YzJjNjZjZjBmYTFkNjI4YWY1NGY1MGQzNjhjYWY=", "commit": {"author": {"name": "Daan de Graaf", "email": "daandegraaf9@gmail.com", "date": "2019-01-11T10:26:47Z"}, "committer": {"name": "Saleem Jaffer", "email": "ssaleem1992@gmail.com", "date": "2019-05-04T09:47:26Z"}, "message": "Make line fit within 100 character limit.", "tree": {"sha": "dc2fe5dd243a21ed6910ab02094013ddcea0ed34", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc2fe5dd243a21ed6910ab02094013ddcea0ed34"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7257fc34de8c2c66cf0fa1d628af54f50d368caf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7257fc34de8c2c66cf0fa1d628af54f50d368caf", "html_url": "https://github.com/rust-lang/rust/commit/7257fc34de8c2c66cf0fa1d628af54f50d368caf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7257fc34de8c2c66cf0fa1d628af54f50d368caf/comments", "author": {"login": "wildarch", "id": 8987615, "node_id": "MDQ6VXNlcjg5ODc2MTU=", "avatar_url": "https://avatars.githubusercontent.com/u/8987615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wildarch", "html_url": "https://github.com/wildarch", "followers_url": "https://api.github.com/users/wildarch/followers", "following_url": "https://api.github.com/users/wildarch/following{/other_user}", "gists_url": "https://api.github.com/users/wildarch/gists{/gist_id}", "starred_url": "https://api.github.com/users/wildarch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wildarch/subscriptions", "organizations_url": "https://api.github.com/users/wildarch/orgs", "repos_url": "https://api.github.com/users/wildarch/repos", "events_url": "https://api.github.com/users/wildarch/events{/privacy}", "received_events_url": "https://api.github.com/users/wildarch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "saleemjaffer", "id": 19221716, "node_id": "MDQ6VXNlcjE5MjIxNzE2", "avatar_url": "https://avatars.githubusercontent.com/u/19221716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saleemjaffer", "html_url": "https://github.com/saleemjaffer", "followers_url": "https://api.github.com/users/saleemjaffer/followers", "following_url": "https://api.github.com/users/saleemjaffer/following{/other_user}", "gists_url": "https://api.github.com/users/saleemjaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/saleemjaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saleemjaffer/subscriptions", "organizations_url": "https://api.github.com/users/saleemjaffer/orgs", "repos_url": "https://api.github.com/users/saleemjaffer/repos", "events_url": "https://api.github.com/users/saleemjaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/saleemjaffer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d47ec57a4faf627a10058e31abecf5786bd799b3", "url": "https://api.github.com/repos/rust-lang/rust/commits/d47ec57a4faf627a10058e31abecf5786bd799b3", "html_url": "https://github.com/rust-lang/rust/commit/d47ec57a4faf627a10058e31abecf5786bd799b3"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "3ad316f8f6d1cea9d61b0488929dd9389e9aaa1c", "filename": "src/librustc/ty/layout.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7257fc34de8c2c66cf0fa1d628af54f50d368caf/src%2Flibrustc%2Fty%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7257fc34de8c2c66cf0fa1d628af54f50d368caf/src%2Flibrustc%2Fty%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Flayout.rs?ref=7257fc34de8c2c66cf0fa1d628af54f50d368caf", "patch": "@@ -1931,8 +1931,9 @@ impl<'a, 'tcx, C> TyLayoutMethods<'tcx, C> for Ty<'tcx>\n                             result = field.ok()\n                                 .and_then(|field| {\n                                     if ptr_end <= field_start + field.size {\n+                                        let off = offset - field_start;\n                                         // We found the right field, look inside it.\n-                                        Self::pointee_info_at(field, cx, offset - field_start, param_env)\n+                                        Self::pointee_info_at(field, cx, off, param_env)\n                                     } else {\n                                         None\n                                     }"}]}