{"sha": "dfe68eede3cef45c8a420aeb8ab4a57426662e04", "node_id": "C_kwDOAAsO6NoAKGRmZTY4ZWVkZTNjZWY0NWM4YTQyMGFlYjhhYjRhNTc0MjY2NjJlMDQ", "commit": {"author": {"name": "Amanieu d'Antras", "email": "amanieu@gmail.com", "date": "2022-07-11T13:47:22Z"}, "committer": {"name": "Amanieu d'Antras", "email": "amanieu@gmail.com", "date": "2022-07-11T13:47:22Z"}, "message": "Add test for issue 99071", "tree": {"sha": "dd4f94e7cede049c665e10f137dd1e7e5f462fe4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dd4f94e7cede049c665e10f137dd1e7e5f462fe4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dfe68eede3cef45c8a420aeb8ab4a57426662e04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dfe68eede3cef45c8a420aeb8ab4a57426662e04", "html_url": "https://github.com/rust-lang/rust/commit/dfe68eede3cef45c8a420aeb8ab4a57426662e04", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dfe68eede3cef45c8a420aeb8ab4a57426662e04/comments", "author": {"login": "Amanieu", "id": 278509, "node_id": "MDQ6VXNlcjI3ODUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amanieu", "html_url": "https://github.com/Amanieu", "followers_url": "https://api.github.com/users/Amanieu/followers", "following_url": "https://api.github.com/users/Amanieu/following{/other_user}", "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions", "organizations_url": "https://api.github.com/users/Amanieu/orgs", "repos_url": "https://api.github.com/users/Amanieu/repos", "events_url": "https://api.github.com/users/Amanieu/events{/privacy}", "received_events_url": "https://api.github.com/users/Amanieu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Amanieu", "id": 278509, "node_id": "MDQ6VXNlcjI3ODUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amanieu", "html_url": "https://github.com/Amanieu", "followers_url": "https://api.github.com/users/Amanieu/followers", "following_url": "https://api.github.com/users/Amanieu/following{/other_user}", "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions", "organizations_url": "https://api.github.com/users/Amanieu/orgs", "repos_url": "https://api.github.com/users/Amanieu/repos", "events_url": "https://api.github.com/users/Amanieu/events{/privacy}", "received_events_url": "https://api.github.com/users/Amanieu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e51f1b7e275584872525bbfbd7c481595b99f237", "url": "https://api.github.com/repos/rust-lang/rust/commits/e51f1b7e275584872525bbfbd7c481595b99f237", "html_url": "https://github.com/rust-lang/rust/commit/e51f1b7e275584872525bbfbd7c481595b99f237"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "bb6201861dff6054db076b225318cd35a210fbd6", "filename": "src/test/ui/asm/issue-99071.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/dfe68eede3cef45c8a420aeb8ab4a57426662e04/src%2Ftest%2Fui%2Fasm%2Fissue-99071.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfe68eede3cef45c8a420aeb8ab4a57426662e04/src%2Ftest%2Fui%2Fasm%2Fissue-99071.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Fissue-99071.rs?ref=dfe68eede3cef45c8a420aeb8ab4a57426662e04", "patch": "@@ -0,0 +1,21 @@\n+// compile-flags: --target thumbv6m-none-eabi\n+// needs-llvm-components: arm\n+// needs-asm-support\n+\n+#![feature(no_core, lang_items, rustc_attrs)]\n+#![no_core]\n+#![crate_type = \"rlib\"]\n+\n+#[rustc_builtin_macro]\n+macro_rules! asm {\n+    () => {};\n+}\n+#[lang = \"sized\"]\n+trait Sized {}\n+\n+pub fn foo() {\n+    unsafe {\n+        asm!(\"\", in(\"r8\") 0);\n+        //~^ cannot use register `r8`: high registers (r8+) can only be used as clobbers in Thumb-1 code\n+    }\n+}"}, {"sha": "47386ffa4a8c9584f2866cb253764633b306272f", "filename": "src/test/ui/asm/issue-99071.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/dfe68eede3cef45c8a420aeb8ab4a57426662e04/src%2Ftest%2Fui%2Fasm%2Fissue-99071.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/dfe68eede3cef45c8a420aeb8ab4a57426662e04/src%2Ftest%2Fui%2Fasm%2Fissue-99071.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Fissue-99071.stderr?ref=dfe68eede3cef45c8a420aeb8ab4a57426662e04", "patch": "@@ -0,0 +1,8 @@\n+error: cannot use register `r8`: high registers (r8+) can only be used as clobbers in Thumb-1 code\n+  --> $DIR/issue-99071.rs:18:18\n+   |\n+LL |         asm!(\"\", in(\"r8\") 0);\n+   |                  ^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}]}