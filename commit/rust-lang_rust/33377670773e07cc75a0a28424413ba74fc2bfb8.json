{"sha": "33377670773e07cc75a0a28424413ba74fc2bfb8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzMzc3NjcwNzczZTA3Y2M3NWEwYTI4NDI0NDEzYmE3NGZjMmJmYjg=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-12-26T14:57:27Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-12-30T13:47:13Z"}, "message": "If the current search result tab is empty, it picks the first non-empty one. If all are empty, the current one doesn't change.", "tree": {"sha": "fc613605d13632dad21831c728169869502ea073", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fc613605d13632dad21831c728169869502ea073"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/33377670773e07cc75a0a28424413ba74fc2bfb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/33377670773e07cc75a0a28424413ba74fc2bfb8", "html_url": "https://github.com/rust-lang/rust/commit/33377670773e07cc75a0a28424413ba74fc2bfb8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/33377670773e07cc75a0a28424413ba74fc2bfb8/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2acf6ee6d2ab3acf3f4d2117591ac1143c8232fe", "url": "https://api.github.com/repos/rust-lang/rust/commits/2acf6ee6d2ab3acf3f4d2117591ac1143c8232fe", "html_url": "https://github.com/rust-lang/rust/commit/2acf6ee6d2ab3acf3f4d2117591ac1143c8232fe"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "6cecbf6643c6cfb2cd8addf5a5e46459c92dca5f", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/33377670773e07cc75a0a28424413ba74fc2bfb8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/33377670773e07cc75a0a28424413ba74fc2bfb8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=33377670773e07cc75a0a28424413ba74fc2bfb8", "patch": "@@ -1664,6 +1664,21 @@ function defocusSearchBar() {\n             var ret_in_args = addTab(results.in_args, query, false);\n             var ret_returned = addTab(results.returned, query, false);\n \n+            // Navigate to the relevant tab if the current tab is empty, like in case users search\n+            // for \"-> String\". If they had selected another tab previously, they have to click on\n+            // it again.\n+            if ((currentTab === 0 && ret_others[1] === 0) ||\n+                    (currentTab === 1 && ret_in_args[1] === 0) ||\n+                    (currentTab === 2 && ret_returned[1] === 0)) {\n+                if (ret_others[1] !== 0) {\n+                    currentTab = 0;\n+                } else if (ret_in_args[1] !== 0) {\n+                    currentTab = 1;\n+                } else if (ret_returned[1] !== 0) {\n+                    currentTab = 2;\n+                }\n+            }\n+\n             var output = \"<h1>Results for \" + escape(query.query) +\n                 (query.type ? \" (type: \" + escape(query.type) + \")\" : \"\") + \"</h1>\" +\n                 \"<div id=\\\"titles\\\">\" +"}]}