{"sha": "653cd47c09454c150fd9a61ff654710bbd7ba5b8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY1M2NkNDdjMDk0NTRjMTUwZmQ5YTYxZmY2NTQ3MTBiYmQ3YmE1Yjg=", "commit": {"author": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2018-09-15T14:52:59Z"}, "committer": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2018-09-15T19:48:10Z"}, "message": "rustc_resolve: use `continue` instead of `return` to \"exit\" a loop iteration.", "tree": {"sha": "318db6984b1d1206fdda2fb01d32ac1744056a69", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/318db6984b1d1206fdda2fb01d32ac1744056a69"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/653cd47c09454c150fd9a61ff654710bbd7ba5b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/653cd47c09454c150fd9a61ff654710bbd7ba5b8", "html_url": "https://github.com/rust-lang/rust/commit/653cd47c09454c150fd9a61ff654710bbd7ba5b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/653cd47c09454c150fd9a61ff654710bbd7ba5b8/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "38c82a2180eee975e88017d26fa86726b3594d7a", "url": "https://api.github.com/repos/rust-lang/rust/commits/38c82a2180eee975e88017d26fa86726b3594d7a", "html_url": "https://github.com/rust-lang/rust/commit/38c82a2180eee975e88017d26fa86726b3594d7a"}], "stats": {"total": 80, "additions": 77, "deletions": 3}, "files": [{"sha": "dc4a76db6926654ad3af964ed30f5eec4befeba5", "filename": "src/librustc_resolve/resolve_imports.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Flibrustc_resolve%2Fresolve_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Flibrustc_resolve%2Fresolve_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fresolve_imports.rs?ref=653cd47c09454c150fd9a61ff654710bbd7ba5b8", "patch": "@@ -746,7 +746,7 @@ impl<'a, 'b:'a, 'c: 'b> ImportResolver<'a, 'b, 'c> {\n             // Currently imports can't resolve in non-module scopes,\n             // we only have canaries in them for future-proofing.\n             if external_crate.is_none() && results.module_scope.is_none() {\n-                return;\n+                continue;\n             }\n \n             {\n@@ -761,7 +761,7 @@ impl<'a, 'b:'a, 'c: 'b> ImportResolver<'a, 'b, 'c> {\n                 let possible_resultions =\n                     1 + all_results.filter(|&def| def != first).count();\n                 if possible_resultions <= 1 {\n-                    return;\n+                    continue;\n                 }\n             }\n "}, {"sha": "7d997fe493a7bc01b53ccf4c4f2d48e0d6e9a974", "filename": "src/test/ui/run-pass/uniform-paths/basic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frun-pass%2Funiform-paths%2Fbasic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frun-pass%2Funiform-paths%2Fbasic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frun-pass%2Funiform-paths%2Fbasic.rs?ref=653cd47c09454c150fd9a61ff654710bbd7ba5b8", "patch": "@@ -37,7 +37,7 @@ fn main() {\n     {\n         // Test that having `std_io` in a module scope and a non-module\n         // scope is allowed, when both resolve to the same definition.\n-        use std::io as std_io;\n+        use ::std::io as std_io;\n         use std_io::stdout;\n         stdout();\n     }"}, {"sha": "1f19a05d7a7f64eda0df0ca747ac4cf0fac55788", "filename": "src/test/ui/rust-2018/uniform-paths-forward-compat/issue-54253.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths-forward-compat%2Fissue-54253.rs", "raw_url": "https://github.com/rust-lang/rust/raw/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths-forward-compat%2Fissue-54253.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths-forward-compat%2Fissue-54253.rs?ref=653cd47c09454c150fd9a61ff654710bbd7ba5b8", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// edition:2018\n+\n+// Dummy import to introduce `uniform_paths` canaries.\n+use std;\n+\n+// fn version() -> &'static str {\"\"}\n+\n+mod foo {\n+    // Error wasn't reported, despite `version` being commented out above.\n+    use crate::version; //~ ERROR unresolved import `crate::version`\n+\n+    fn bar() {\n+        version();\n+    }\n+}\n+\n+fn main() {}"}, {"sha": "6dcc451c60a6125c45150ba350febf7ca78fd3d2", "filename": "src/test/ui/rust-2018/uniform-paths-forward-compat/issue-54253.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths-forward-compat%2Fissue-54253.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths-forward-compat%2Fissue-54253.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths-forward-compat%2Fissue-54253.stderr?ref=653cd47c09454c150fd9a61ff654710bbd7ba5b8", "patch": "@@ -0,0 +1,9 @@\n+error[E0432]: unresolved import `crate::version`\n+  --> $DIR/issue-54253.rs:20:9\n+   |\n+LL |     use crate::version; //~ ERROR unresolved import `crate::version`\n+   |         ^^^^^^^^^^^^^^ no `version` in the root\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0432`."}, {"sha": "7ca5c9e9eaefd00562bf24ccb4331af0ab2595aa", "filename": "src/test/ui/rust-2018/uniform-paths/issue-54253.rs", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths%2Fissue-54253.rs", "raw_url": "https://github.com/rust-lang/rust/raw/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths%2Fissue-54253.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths%2Fissue-54253.rs?ref=653cd47c09454c150fd9a61ff654710bbd7ba5b8", "patch": "@@ -0,0 +1,29 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// edition:2018\n+\n+#![feature(uniform_paths)]\n+\n+// Dummy import to introduce `uniform_paths` canaries.\n+use std;\n+\n+// fn version() -> &'static str {\"\"}\n+\n+mod foo {\n+    // Error wasn't reported, despite `version` being commented out above.\n+    use crate::version; //~ ERROR unresolved import `crate::version`\n+\n+    fn bar() {\n+        version();\n+    }\n+}\n+\n+fn main() {}"}, {"sha": "0016e21ef4d55a4a751c2cbe0c658e6cfadcd9a8", "filename": "src/test/ui/rust-2018/uniform-paths/issue-54253.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths%2Fissue-54253.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/653cd47c09454c150fd9a61ff654710bbd7ba5b8/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths%2Fissue-54253.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2018%2Funiform-paths%2Fissue-54253.stderr?ref=653cd47c09454c150fd9a61ff654710bbd7ba5b8", "patch": "@@ -0,0 +1,9 @@\n+error[E0432]: unresolved import `crate::version`\n+  --> $DIR/issue-54253.rs:22:9\n+   |\n+LL |     use crate::version; //~ ERROR unresolved import `crate::version`\n+   |         ^^^^^^^^^^^^^^ no `version` in the root\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0432`."}]}