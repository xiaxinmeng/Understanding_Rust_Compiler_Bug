{"sha": "b05555290ca017e0b40fe6020d69e2177584d5b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwNTU1NTI5MGNhMDE3ZTBiNDBmZTYwMjBkNjllMjE3NzU4NGQ1Yjc=", "commit": {"author": {"name": "Ayush Kumar Mishra", "email": "ayush.k.mishra@xcelenergy.com", "date": "2020-06-05T09:57:37Z"}, "committer": {"name": "Ayush Kumar Mishra", "email": "ayush.k.mishra@xcelenergy.com", "date": "2020-06-09T03:19:05Z"}, "message": "Remove noisy suggestion of hash_map #72642\n\nFixed failing test-cases\n\nRemove noisy suggestion of hash_map #72642\n\nFixed failing test-cases", "tree": {"sha": "2f2b1ac595198b0a80fa876477c4736c62ef9bf3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f2b1ac595198b0a80fa876477c4736c62ef9bf3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b05555290ca017e0b40fe6020d69e2177584d5b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b05555290ca017e0b40fe6020d69e2177584d5b7", "html_url": "https://github.com/rust-lang/rust/commit/b05555290ca017e0b40fe6020d69e2177584d5b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b05555290ca017e0b40fe6020d69e2177584d5b7/comments", "author": null, "committer": null, "parents": [{"sha": "fd4b177aabb9749dfb562c48e47379cea81dc277", "url": "https://api.github.com/repos/rust-lang/rust/commits/fd4b177aabb9749dfb562c48e47379cea81dc277", "html_url": "https://github.com/rust-lang/rust/commit/fd4b177aabb9749dfb562c48e47379cea81dc277"}], "stats": {"total": 98, "additions": 28, "deletions": 70}, "files": [{"sha": "59fadfc41b06eb3461daf07442eb68b8239916dc", "filename": "src/librustc_resolve/diagnostics.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Flibrustc_resolve%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Flibrustc_resolve%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fdiagnostics.rs?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -680,7 +680,9 @@ impl<'a> Resolver<'a> {\n                                 Res::Def(DefKind::Ctor(..), did) => this.parent(did),\n                                 _ => res.opt_def_id(),\n                             };\n-                            candidates.push(ImportSuggestion { did, descr: res.descr(), path });\n+                            if candidates.iter().all(|v: &ImportSuggestion| v.did != did) {\n+                                candidates.push(ImportSuggestion { did, descr: res.descr(), path });\n+                            }\n                         }\n                     }\n                 }"}, {"sha": "229c5c9e80ff8107b025ec0d993100af9673deb3", "filename": "src/test/ui/derived-errors/issue-31997-1.stderr", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fderived-errors%2Fissue-31997-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fderived-errors%2Fissue-31997-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fderived-errors%2Fissue-31997-1.stderr?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -4,12 +4,10 @@ error[E0433]: failed to resolve: use of undeclared type or module `HashMap`\n LL |     let mut map = HashMap::new();\n    |                   ^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this struct\n    |\n LL | use std::collections::HashMap;\n    |\n-LL | use std::collections::hash_map::HashMap;\n-   |\n \n error: aborting due to previous error\n "}, {"sha": "990210ffb6b49b80a7395abc5668f851cfa676ba", "filename": "src/test/ui/hygiene/no_implicit_prelude.stderr", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -16,9 +16,7 @@ LL |         Vec::new();\n    |         ^^^ not found in this scope\n    |\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n-help: consider importing one of these items\n-   |\n-LL |     use std::prelude::v1::Vec;\n+help: consider importing this struct\n    |\n LL |     use std::vec::Vec;\n    |"}, {"sha": "95939cf6b3840763eb7222ad818733a8344a820c", "filename": "src/test/ui/issues/issue-17546.stderr", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fissues%2Fissue-17546.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fissues%2Fissue-17546.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-17546.stderr?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -30,11 +30,10 @@ LL |     use std::fmt::Result;\n    |\n LL |     use std::io::Result;\n    |\n-LL |     use std::prelude::v1::Result;\n-   |\n LL |     use std::result::Result;\n    |\n-     and 1 other candidate\n+LL |     use std::thread::Result;\n+   |\n \n error[E0573]: expected type, found variant `Result`\n   --> $DIR/issue-17546.rs:30:13\n@@ -48,11 +47,10 @@ LL | use std::fmt::Result;\n    |\n LL | use std::io::Result;\n    |\n-LL | use std::prelude::v1::Result;\n-   |\n LL | use std::result::Result;\n    |\n-     and 1 other candidate\n+LL | use std::thread::Result;\n+   |\n \n error[E0573]: expected type, found variant `NoResult`\n   --> $DIR/issue-17546.rs:35:15"}, {"sha": "198b630c52c8fd96615f367970256fd3bc6896e3", "filename": "src/test/ui/no-implicit-prelude-nested.stderr", "status": "modified", "additions": 12, "deletions": 36, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fno-implicit-prelude-nested.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fno-implicit-prelude-nested.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fno-implicit-prelude-nested.stderr?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -15,35 +15,29 @@ error[E0404]: expected trait, found derive macro `Clone`\n LL |         impl Clone for Test {}\n    |              ^^^^^ not a trait\n    |\n-help: consider importing one of these items instead\n+help: consider importing this trait instead\n    |\n LL |         use std::clone::Clone;\n    |\n-LL |         use std::prelude::v1::Clone;\n-   |\n \n error[E0405]: cannot find trait `Iterator` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:13:14\n    |\n LL |         impl Iterator for Test {}\n    |              ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this trait\n    |\n LL |         use std::iter::Iterator;\n    |\n-LL |         use std::prelude::v1::Iterator;\n-   |\n \n error[E0405]: cannot find trait `ToString` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:14:14\n    |\n LL |         impl ToString for Test {}\n    |              ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n-   |\n-LL |         use std::prelude::v1::ToString;\n+help: consider importing this trait\n    |\n LL |         use std::string::ToString;\n    |\n@@ -60,12 +54,10 @@ error[E0425]: cannot find function `drop` in this scope\n LL |             drop(2)\n    |             ^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this function\n    |\n LL |         use std::mem::drop;\n    |\n-LL |         use std::prelude::v1::drop;\n-   |\n \n error[E0405]: cannot find trait `Add` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:23:10\n@@ -84,35 +76,29 @@ error[E0404]: expected trait, found derive macro `Clone`\n LL |     impl Clone for Test {}\n    |          ^^^^^ not a trait\n    |\n-help: consider importing one of these items instead\n+help: consider importing this trait instead\n    |\n LL |     use std::clone::Clone;\n    |\n-LL |     use std::prelude::v1::Clone;\n-   |\n \n error[E0405]: cannot find trait `Iterator` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:25:10\n    |\n LL |     impl Iterator for Test {}\n    |          ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this trait\n    |\n LL |     use std::iter::Iterator;\n    |\n-LL |     use std::prelude::v1::Iterator;\n-   |\n \n error[E0405]: cannot find trait `ToString` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:26:10\n    |\n LL |     impl ToString for Test {}\n    |          ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n-   |\n-LL |     use std::prelude::v1::ToString;\n+help: consider importing this trait\n    |\n LL |     use std::string::ToString;\n    |\n@@ -129,12 +115,10 @@ error[E0425]: cannot find function `drop` in this scope\n LL |         drop(2)\n    |         ^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this function\n    |\n LL |     use std::mem::drop;\n    |\n-LL |     use std::prelude::v1::drop;\n-   |\n \n error[E0405]: cannot find trait `Add` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:38:14\n@@ -153,35 +137,29 @@ error[E0404]: expected trait, found derive macro `Clone`\n LL |         impl Clone for Test {}\n    |              ^^^^^ not a trait\n    |\n-help: consider importing one of these items instead\n+help: consider importing this trait instead\n    |\n LL |         use std::clone::Clone;\n    |\n-LL |         use std::prelude::v1::Clone;\n-   |\n \n error[E0405]: cannot find trait `Iterator` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:40:14\n    |\n LL |         impl Iterator for Test {}\n    |              ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this trait\n    |\n LL |         use std::iter::Iterator;\n    |\n-LL |         use std::prelude::v1::Iterator;\n-   |\n \n error[E0405]: cannot find trait `ToString` in this scope\n   --> $DIR/no-implicit-prelude-nested.rs:41:14\n    |\n LL |         impl ToString for Test {}\n    |              ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n-   |\n-LL |         use std::prelude::v1::ToString;\n+help: consider importing this trait\n    |\n LL |         use std::string::ToString;\n    |\n@@ -198,12 +176,10 @@ error[E0425]: cannot find function `drop` in this scope\n LL |             drop(2)\n    |             ^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this function\n    |\n LL |         use std::mem::drop;\n    |\n-LL |         use std::prelude::v1::drop;\n-   |\n \n error: aborting due to 18 previous errors\n "}, {"sha": "36a9b65b7d1613d3d3ea683a197e226cac0dc4a0", "filename": "src/test/ui/no-implicit-prelude.stderr", "status": "modified", "additions": 4, "deletions": 12, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fno-implicit-prelude.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fno-implicit-prelude.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fno-implicit-prelude.stderr?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -15,35 +15,29 @@ error[E0404]: expected trait, found derive macro `Clone`\n LL | impl Clone for Test {}\n    |      ^^^^^ not a trait\n    |\n-help: consider importing one of these items instead\n+help: consider importing this trait instead\n    |\n LL | use std::clone::Clone;\n    |\n-LL | use std::prelude::v1::Clone;\n-   |\n \n error[E0405]: cannot find trait `Iterator` in this scope\n   --> $DIR/no-implicit-prelude.rs:12:6\n    |\n LL | impl Iterator for Test {}\n    |      ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this trait\n    |\n LL | use std::iter::Iterator;\n    |\n-LL | use std::prelude::v1::Iterator;\n-   |\n \n error[E0405]: cannot find trait `ToString` in this scope\n   --> $DIR/no-implicit-prelude.rs:13:6\n    |\n LL | impl ToString for Test {}\n    |      ^^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n-   |\n-LL | use std::prelude::v1::ToString;\n+help: consider importing this trait\n    |\n LL | use std::string::ToString;\n    |\n@@ -60,12 +54,10 @@ error[E0425]: cannot find function `drop` in this scope\n LL |     drop(2)\n    |     ^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this function\n    |\n LL | use std::mem::drop;\n    |\n-LL | use std::prelude::v1::drop;\n-   |\n \n error: aborting due to 6 previous errors\n "}, {"sha": "72dda94072962492f7f6f0322b96c99833e48f44", "filename": "src/test/ui/resolve/use_suggestion.stderr", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion.stderr?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -10,25 +10,21 @@ error[E0433]: failed to resolve: use of undeclared type or module `HashMap`\n LL |     let x1 = HashMap::new();\n    |              ^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this struct\n    |\n LL | use std::collections::HashMap;\n    |\n-LL | use std::collections::hash_map::HashMap;\n-   |\n \n error[E0412]: cannot find type `HashMap` in this scope\n   --> $DIR/use_suggestion.rs:5:13\n    |\n LL |     let y1: HashMap;\n    |             ^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this struct\n    |\n LL | use std::collections::HashMap;\n    |\n-LL | use std::collections::hash_map::HashMap;\n-   |\n \n error[E0412]: cannot find type `GooMap` in this scope\n   --> $DIR/use_suggestion.rs:6:13"}, {"sha": "3f91760fe216b59c37beccfcd3a12df8f425e8e3", "filename": "src/test/ui/resolve/use_suggestion_placement.stderr", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b05555290ca017e0b40fe6020d69e2177584d5b7/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fuse_suggestion_placement.stderr?ref=b05555290ca017e0b40fe6020d69e2177584d5b7", "patch": "@@ -26,12 +26,10 @@ error[E0412]: cannot find type `HashMap` in this scope\n LL |     type Dict<K, V> = HashMap<K, V>;\n    |                       ^^^^^^^ not found in this scope\n    |\n-help: consider importing one of these items\n+help: consider importing this struct\n    |\n LL | use std::collections::HashMap;\n    |\n-LL | use std::collections::hash_map::HashMap;\n-   |\n \n error: aborting due to 3 previous errors\n "}]}