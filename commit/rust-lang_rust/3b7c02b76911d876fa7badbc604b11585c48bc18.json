{"sha": "3b7c02b76911d876fa7badbc604b11585c48bc18", "node_id": "C_kwDOAAsO6NoAKDNiN2MwMmI3NjkxMWQ4NzZmYTdiYWRiYzYwNGIxMTU4NWM0OGJjMTg", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-05-11T05:05:28Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-05-11T05:05:28Z"}, "message": "Rollup merge of #111389 - esp-rs:esp-idf-platform-support, r=jyn514\n\nAdd esp-idf platform-support page\n\nAs mentioned in https://github.com/rust-lang/rust/pull/111369#issuecomment-1539881848, the initial PR for esp-idf didn't include a platform support document which is required for the merge of  https://github.com/rust-lang/rust/pull/111369.", "tree": {"sha": "199ac3797b95394114fadbc5cb22450a6cbaaae7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/199ac3797b95394114fadbc5cb22450a6cbaaae7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3b7c02b76911d876fa7badbc604b11585c48bc18", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkXHeYCRBK7hj4Ov3rIwAAPeYIAKuku/W39vPOUZUqWpdkYbMT\nU62/KDUZjSsF8YUJaxjT94IHSMPgeMyzvHXBbYpWWdTDiwqorNAGO04RBftGbas+\nHmxCjo6uEkvf5lt39Wqb9JmTnzLZ52iqMS4KUHPzVL9NUsW6kZhh/9bPFPu+6E2S\nk538vkyARX+AMJpKfXQx3odBsTO5QqHzRZCNFWOTtl+0M0yOcC/RoFr80SWDLz/l\nl7RJDyfE34zGtyGHs53Uf1UG8uw6sUxotSeCAs4UBLMWQ3MqnvMqrywOCFbAMIJb\n/hHugIx3SQrBWHKLY3PJrZMVTQ6u7oqS7PNPdC9c04aXrh5SNwlah/0C33AGfy8=\n=wgT/\n-----END PGP SIGNATURE-----\n", "payload": "tree 199ac3797b95394114fadbc5cb22450a6cbaaae7\nparent acae72e4936a3a305564992a458fd4d03b9b1d0f\nparent 53e49f4c6edd28fd92a748f28d20da36cf8364ed\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1683781528 +0200\ncommitter GitHub <noreply@github.com> 1683781528 +0200\n\nRollup merge of #111389 - esp-rs:esp-idf-platform-support, r=jyn514\n\nAdd esp-idf platform-support page\n\nAs mentioned in https://github.com/rust-lang/rust/pull/111369#issuecomment-1539881848, the initial PR for esp-idf didn't include a platform support document which is required for the merge of  https://github.com/rust-lang/rust/pull/111369.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3b7c02b76911d876fa7badbc604b11585c48bc18", "html_url": "https://github.com/rust-lang/rust/commit/3b7c02b76911d876fa7badbc604b11585c48bc18", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3b7c02b76911d876fa7badbc604b11585c48bc18/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "acae72e4936a3a305564992a458fd4d03b9b1d0f", "url": "https://api.github.com/repos/rust-lang/rust/commits/acae72e4936a3a305564992a458fd4d03b9b1d0f", "html_url": "https://github.com/rust-lang/rust/commit/acae72e4936a3a305564992a458fd4d03b9b1d0f"}, {"sha": "53e49f4c6edd28fd92a748f28d20da36cf8364ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/53e49f4c6edd28fd92a748f28d20da36cf8364ed", "html_url": "https://github.com/rust-lang/rust/commit/53e49f4c6edd28fd92a748f28d20da36cf8364ed"}], "stats": {"total": 44, "additions": 43, "deletions": 1}, "files": [{"sha": "73343ba9df51bc7f9e29a95646f9f0ee5a8b00f2", "filename": "src/doc/rustc/src/SUMMARY.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3b7c02b76911d876fa7badbc604b11585c48bc18/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/3b7c02b76911d876fa7badbc604b11585c48bc18/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md?ref=3b7c02b76911d876fa7badbc604b11585c48bc18", "patch": "@@ -27,6 +27,7 @@\n     - [armv7-unknown-linux-uclibceabihf](platform-support/armv7-unknown-linux-uclibceabihf.md)\n     - [\\*-android and \\*-androideabi](platform-support/android.md)\n     - [\\*-linux-ohos](platform-support/openharmony.md)\n+    - [\\*-esp-espidf](platform-support/esp-idf.md)\n     - [\\*-unknown-fuchsia](platform-support/fuchsia.md)\n     - [\\*-kmc-solid_\\*](platform-support/kmc-solid.md)\n     - [loongarch\\*-unknown-linux-\\*](platform-support/loongarch-linux.md)"}, {"sha": "d22e1cf7f684addab48acbada4ce26dc6157a70e", "filename": "src/doc/rustc/src/platform-support.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3b7c02b76911d876fa7badbc604b11585c48bc18/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "raw_url": "https://github.com/rust-lang/rust/raw/3b7c02b76911d876fa7badbc604b11585c48bc18/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md?ref=3b7c02b76911d876fa7badbc604b11585c48bc18", "patch": "@@ -297,7 +297,7 @@ target | std | host | notes\n `riscv32gc-unknown-linux-musl` |   |   | RISC-V Linux (kernel 5.4, musl + RISCV32 support patches)\n `riscv32im-unknown-none-elf` | * |  | Bare RISC-V (RV32IM ISA)\n [`riscv32imac-unknown-xous-elf`](platform-support/riscv32imac-unknown-xous-elf.md) | ? |  | RISC-V Xous (RV32IMAC ISA)\n-`riscv32imc-esp-espidf` | \u2713 |  | RISC-V ESP-IDF\n+[`riscv32imc-esp-espidf`](platform-support/esp-idf.md) | \u2713 |  | RISC-V ESP-IDF\n `riscv64gc-unknown-freebsd` |   |   | RISC-V FreeBSD\n `riscv64gc-unknown-fuchsia` |   |   | RISC-V Fuchsia\n `riscv64gc-unknown-linux-musl` |   |   | RISC-V Linux (kernel 4.20, musl 1.2.0)"}, {"sha": "8a4ca347e22f5b19d13868f93412f112fd453729", "filename": "src/doc/rustc/src/platform-support/esp-idf.md", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/3b7c02b76911d876fa7badbc604b11585c48bc18/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fesp-idf.md", "raw_url": "https://github.com/rust-lang/rust/raw/3b7c02b76911d876fa7badbc604b11585c48bc18/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fesp-idf.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Fesp-idf.md?ref=3b7c02b76911d876fa7badbc604b11585c48bc18", "patch": "@@ -0,0 +1,41 @@\n+# `*-esp-espidf`\n+\n+**Tier: 3**\n+\n+Targets for the [ESP-IDF](https://github.com/espressif/esp-idf) development framework running on RISC-V and Xtensa CPUs.\n+\n+## Target maintainers\n+\n+- Ivan Markov [@ivmarkov](https://github.com/ivmarkov)\n+- Scott Mabin [@MabezDev](https://github.com/MabezDev)\n+\n+## Requirements\n+\n+The target names follow this format: `$ARCH-esp-espidf`, where `$ARCH` specifies the target processor architecture. The following targets are currently defined:\n+\n+|          Target name           | Target CPU(s)         |\n+|--------------------------------|-----------------------|\n+| `riscv32imc-esp-espidf`        |  [ESP32-C3](https://www.espressif.com/en/products/socs/esp32-c3)             |\n+\n+The minimum supported ESP-IDF version is `v4.3`, though it is recommended to use the latest stable release if possible.\n+\n+## Building the target\n+\n+The target can be built by enabling it for a `rustc` build. The `build-std` feature is required to build the standard library for ESP-IDF. `ldproxy` is also required for linking, it can be installed from crates.io.\n+\n+```toml\n+[build]\n+target = [\"$ARCH-esp-espidf\"]\n+\n+[target.$ARCH-esp-espidf]\n+linker = \"ldproxy\"\n+\n+[unstable]\n+build-std = [\"std\", \"panic_abort\"]\n+```\n+\n+The `esp-idf-sys` crate will handle the compilation of ESP-IDF, including downloading the relevant toolchains for the build.\n+\n+## Cross-compilation toolchains and C code\n+\n+`esp-idf-sys` exposes the toolchain used in the compilation of ESP-IDF, see the crate [documentation for build output propagation](https://github.com/esp-rs/esp-idf-sys#conditional-compilation) for more information."}]}