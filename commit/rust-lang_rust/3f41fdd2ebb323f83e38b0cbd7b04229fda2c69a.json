{"sha": "3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNmNDFmZGQyZWJiMzIzZjgzZTM4YjBjYmQ3YjA0MjI5ZmRhMmM2OWE=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2021-03-27T16:33:15Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-03-27T16:33:15Z"}, "message": "Rollup merge of #83462 - ijackson:exitstatus-message-wording, r=joshtriplett\n\nExitStatus: print \"exit status: {}\" rather than \"exit code: {}\" on unix\n\nProper Unix terminology is \"exit status\" (vs \"wait status\").  \"exit\ncode\" is imprecise on Unix and therefore unclear.  (As far as I can\ntell, \"exit code\" is correct terminology on Windows.)\n\nThis new wording is unfortunately inconsistent with the identifier\nnames in the Rust stdlib.\n\nIt is the identifier names that are wrong, as discussed at length in eg\n  https://doc.rust-lang.org/nightly/std/process/struct.ExitStatus.html\n  https://doc.rust-lang.org/nightly/std/os/unix/process/trait.ExitStatusExt.html\n\nUnfortunately for API stability reasons it would be a lot of work, and\na lot of disruption, to change the names in the stdlib (eg to rename\n`std::process::ExitStatus` to `std::process::ChildStatus` or\nsomething), but we should fix the message output.  Many (probably\nmost) readers of these messages about exit statuses will be users and\nsystem administrators, not programmers, who won't even know that Rust\nhas this wrong terminology.\n\nSo I think the right thing is to fix the documentation (as I have\nalready done) and, now, the terminology in the implementation.\n\nThis is a user-visible change to the behaviour of all Rust programs\nwhich run Unix subprocesses.  Hopefully no-one is matching against the\nexit status string, except perhaps in tests.", "tree": {"sha": "ab259c96cdf496b34c18e92682a2e2c40828c192", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ab259c96cdf496b34c18e92682a2e2c40828c192"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgX15LCRBK7hj4Ov3rIwAAdHIIAC9nuCCS5aPf3B+M/ZRi+O3g\n2gAQtKmUIP90g53GVW4z4FGjykpBbCZjb8oJMgVRQ46a1OLpoQPA9PZ+DaLP+z1f\nuf3eQwyJcujWkFiZZ49c3Zv0EZ8hECZuzdjZrQUPYMyEr/IlFJ1V0s+1rz0BCMtX\nhaHJqGeJmCgZoCTZcnrDPwEMnb+shXZCKdilQ8bpWka97g4nxSbToXSPqRD3lfji\nNW8XV5MYLePghF39cyusWxDtWvZmXMWrSfl9jIzv0oM+YK05lmwRvWP5A/5dguxN\nJejAMH5goTUdqczbZHEaOGS4BYaHPwRskjHwSz0MTABM/EKiMslL4sRDa+Xxtic=\n=zpSw\n-----END PGP SIGNATURE-----\n", "payload": "tree ab259c96cdf496b34c18e92682a2e2c40828c192\nparent 973fb4b77feb589cd8fe4c0f5ee2454b246a1532\nparent 11e40ce240d884303bee142a727decaeeef43bdb\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1616862795 +0900\ncommitter GitHub <noreply@github.com> 1616862795 +0900\n\nRollup merge of #83462 - ijackson:exitstatus-message-wording, r=joshtriplett\n\nExitStatus: print \"exit status: {}\" rather than \"exit code: {}\" on unix\n\nProper Unix terminology is \"exit status\" (vs \"wait status\").  \"exit\ncode\" is imprecise on Unix and therefore unclear.  (As far as I can\ntell, \"exit code\" is correct terminology on Windows.)\n\nThis new wording is unfortunately inconsistent with the identifier\nnames in the Rust stdlib.\n\nIt is the identifier names that are wrong, as discussed at length in eg\n  https://doc.rust-lang.org/nightly/std/process/struct.ExitStatus.html\n  https://doc.rust-lang.org/nightly/std/os/unix/process/trait.ExitStatusExt.html\n\nUnfortunately for API stability reasons it would be a lot of work, and\na lot of disruption, to change the names in the stdlib (eg to rename\n`std::process::ExitStatus` to `std::process::ChildStatus` or\nsomething), but we should fix the message output.  Many (probably\nmost) readers of these messages about exit statuses will be users and\nsystem administrators, not programmers, who won't even know that Rust\nhas this wrong terminology.\n\nSo I think the right thing is to fix the documentation (as I have\nalready done) and, now, the terminology in the implementation.\n\nThis is a user-visible change to the behaviour of all Rust programs\nwhich run Unix subprocesses.  Hopefully no-one is matching against the\nexit status string, except perhaps in tests.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a", "html_url": "https://github.com/rust-lang/rust/commit/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "973fb4b77feb589cd8fe4c0f5ee2454b246a1532", "url": "https://api.github.com/repos/rust-lang/rust/commits/973fb4b77feb589cd8fe4c0f5ee2454b246a1532", "html_url": "https://github.com/rust-lang/rust/commit/973fb4b77feb589cd8fe4c0f5ee2454b246a1532"}, {"sha": "11e40ce240d884303bee142a727decaeeef43bdb", "url": "https://api.github.com/repos/rust-lang/rust/commits/11e40ce240d884303bee142a727decaeeef43bdb", "html_url": "https://github.com/rust-lang/rust/commit/11e40ce240d884303bee142a727decaeeef43bdb"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "53916cb9abdea1ab02679e3fec4c6e31829897c0", "filename": "library/std/src/sys/unix/process/process_unix.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs?ref=3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a", "patch": "@@ -535,7 +535,7 @@ impl From<c_int> for ExitStatus {\n impl fmt::Display for ExitStatus {\n     fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n         if let Some(code) = self.code() {\n-            write!(f, \"exit code: {}\", code)\n+            write!(f, \"exit status: {}\", code)\n         } else if let Some(signal) = self.signal() {\n             if self.core_dumped() {\n                 write!(f, \"signal: {} (core dumped)\", signal)"}, {"sha": "02c469fbcdfd80c5e2298b798a84b4cf5ff6e96c", "filename": "library/std/src/sys/unix/process/process_unix/tests.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix%2Ftests.rs?ref=3f41fdd2ebb323f83e38b0cbd7b04229fda2c69a", "patch": "@@ -9,8 +9,8 @@ fn exitstatus_display_tests() {\n \n     t(0x0000f, \"signal: 15\");\n     t(0x0008b, \"signal: 11 (core dumped)\");\n-    t(0x00000, \"exit code: 0\");\n-    t(0x0ff00, \"exit code: 255\");\n+    t(0x00000, \"exit status: 0\");\n+    t(0x0ff00, \"exit status: 255\");\n \n     // On MacOS, 0x0137f is WIFCONTINUED, not WIFSTOPPED.  Probably *BSD is similar.\n     //   https://github.com/rust-lang/rust/pull/82749#issuecomment-790525956"}]}