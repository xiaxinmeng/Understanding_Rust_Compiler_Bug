{"sha": "4af33a9c2608383fea0bac87fc0205603833bf6f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhZjMzYTljMjYwODM4M2ZlYTBiYWM4N2ZjMDIwNTYwMzgzM2JmNmY=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-01-30T00:46:43Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-01-30T00:46:43Z"}, "message": "Rollup merge of #68626 - Zoxc:termize, r=estebank\n\nUse termize instead of term_size\n\n`termize` is a fork of `term_size` which uses `winapi` 0.3 instead of 0.2. This is a step towards removing the `winapi` 0.2 dependency.\n\nr? @Mark-Simulacrum", "tree": {"sha": "97a04501dceb8afba1fef5c444a6e204a374ae25", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/97a04501dceb8afba1fef5c444a6e204a374ae25"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4af33a9c2608383fea0bac87fc0205603833bf6f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeMid0CRBK7hj4Ov3rIwAAdHIIAAYDwA67Mu2xNeeF7L6k0WN0\nlOaFu4K+4bjX3Fd3HEod4AJNtCnA21UI6XGeIBqTB7oFPXPIICd3dAvfVWPnauhF\nzSc8tUNsCf3TSNXyWV4nOAZYKqg2CNhkGUu12e7/I7TXMkWihWFVhtQfdmBrxPnP\nkpn+CUbKb/qaFf4WChLeso/raY/INXS4b/zM7frzj0YUy3qJzOLLmr/fu5W7xWRX\n5qNdIv+NiMisKTbo/idQeOoS+/8OvpQd40eTuEJej7IBaSMMmLcpz+HreTOQGgwK\nTQEQcAGCdKoUKRg2c69b4/x7c4hMCLXLLMQO1PTb/QqbvvC6x03rcztoeWHHl6w=\n=XHDm\n-----END PGP SIGNATURE-----\n", "payload": "tree 97a04501dceb8afba1fef5c444a6e204a374ae25\nparent f837c730caaf5d7f1d9105e623a64f978dacea70\nparent b0b11d31a2cd4ff00973c17ff987c345301b2ebd\nauthor Dylan DPC <dylan.dpc@gmail.com> 1580345203 +0100\ncommitter GitHub <noreply@github.com> 1580345203 +0100\n\nRollup merge of #68626 - Zoxc:termize, r=estebank\n\nUse termize instead of term_size\n\n`termize` is a fork of `term_size` which uses `winapi` 0.3 instead of 0.2. This is a step towards removing the `winapi` 0.2 dependency.\n\nr? @Mark-Simulacrum\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4af33a9c2608383fea0bac87fc0205603833bf6f", "html_url": "https://github.com/rust-lang/rust/commit/4af33a9c2608383fea0bac87fc0205603833bf6f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4af33a9c2608383fea0bac87fc0205603833bf6f/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f837c730caaf5d7f1d9105e623a64f978dacea70", "url": "https://api.github.com/repos/rust-lang/rust/commits/f837c730caaf5d7f1d9105e623a64f978dacea70", "html_url": "https://github.com/rust-lang/rust/commit/f837c730caaf5d7f1d9105e623a64f978dacea70"}, {"sha": "b0b11d31a2cd4ff00973c17ff987c345301b2ebd", "url": "https://api.github.com/repos/rust-lang/rust/commits/b0b11d31a2cd4ff00973c17ff987c345301b2ebd", "html_url": "https://github.com/rust-lang/rust/commit/b0b11d31a2cd4ff00973c17ff987c345301b2ebd"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "2c4063a5e565eb4f7d015f5dbdd9ff55d217af40", "filename": "Cargo.lock", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/4af33a9c2608383fea0bac87fc0205603833bf6f/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/4af33a9c2608383fea0bac87fc0205603833bf6f/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=4af33a9c2608383fea0bac87fc0205603833bf6f", "patch": "@@ -3540,8 +3540,8 @@ dependencies = [\n  \"rustc_data_structures\",\n  \"rustc_span\",\n  \"serialize\",\n- \"term_size\",\n  \"termcolor\",\n+ \"termize\",\n  \"unicode-width\",\n  \"winapi 0.3.8\",\n ]\n@@ -4580,6 +4580,16 @@ dependencies = [\n  \"redox_termios\",\n ]\n \n+[[package]]\n+name = \"termize\"\n+version = \"0.1.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"1706be6b564323ce7092f5f7e6b118a14c8ef7ed0e69c8c5329c914a9f101295\"\n+dependencies = [\n+ \"libc\",\n+ \"winapi 0.3.8\",\n+]\n+\n [[package]]\n name = \"test\"\n version = \"0.0.0\""}, {"sha": "b8340b1a1df6aff24c13cb6e8f44b3bcf511e9be", "filename": "src/librustc_errors/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4af33a9c2608383fea0bac87fc0205603833bf6f/src%2Flibrustc_errors%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/4af33a9c2608383fea0bac87fc0205603833bf6f/src%2Flibrustc_errors%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2FCargo.toml?ref=4af33a9c2608383fea0bac87fc0205603833bf6f", "patch": "@@ -18,7 +18,7 @@ unicode-width = \"0.1.4\"\n atty = \"0.2\"\n termcolor = \"1.0\"\n annotate-snippets = \"0.6.1\"\n-term_size = \"0.3.1\"\n+termize = \"0.1.1\"\n \n [target.'cfg(windows)'.dependencies]\n winapi = { version = \"0.3\", features = [\"handleapi\", \"synchapi\", \"winbase\"] }"}, {"sha": "1fcb36a2a30908408b9b43c5d05fcc0fd9fa661b", "filename": "src/librustc_errors/emitter.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4af33a9c2608383fea0bac87fc0205603833bf6f/src%2Flibrustc_errors%2Femitter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4af33a9c2608383fea0bac87fc0205603833bf6f/src%2Flibrustc_errors%2Femitter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Femitter.rs?ref=4af33a9c2608383fea0bac87fc0205603833bf6f", "patch": "@@ -1367,7 +1367,7 @@ impl EmitterWriter {\n                 } else if self.ui_testing {\n                     140\n                 } else {\n-                    term_size::dimensions()\n+                    termize::dimensions()\n                         .map(|(w, _)| w.saturating_sub(code_offset))\n                         .unwrap_or(std::usize::MAX)\n                 };"}, {"sha": "ea92f7bee6b663081a2fe1e3fd199c14134d0f48", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4af33a9c2608383fea0bac87fc0205603833bf6f/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4af33a9c2608383fea0bac87fc0205603833bf6f/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=4af33a9c2608383fea0bac87fc0205603833bf6f", "patch": "@@ -167,7 +167,7 @@ const WHITELIST: &[Crate<'_>] = &[\n     Crate(\"termcolor\"),\n     Crate(\"terminon\"),\n     Crate(\"termion\"),\n-    Crate(\"term_size\"),\n+    Crate(\"termize\"),\n     Crate(\"thread_local\"),\n     Crate(\"ucd-util\"),\n     Crate(\"unicode-normalization\"),"}]}