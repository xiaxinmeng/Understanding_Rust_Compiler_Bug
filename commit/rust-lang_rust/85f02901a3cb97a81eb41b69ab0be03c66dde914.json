{"sha": "85f02901a3cb97a81eb41b69ab0be03c66dde914", "node_id": "C_kwDOAAsO6NoAKDg1ZjAyOTAxYTNjYjk3YTgxZWI0MWI2OWFiMGJlMDNjNjZkZGU5MTQ", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2021-07-17T14:50:33Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2021-09-24T18:48:30Z"}, "message": "Stabilize `feature(macro_attributes_in_derive_output)`", "tree": {"sha": "6cb47b3df3d471960915fccb24f572e5b4d20446", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6cb47b3df3d471960915fccb24f572e5b4d20446"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/85f02901a3cb97a81eb41b69ab0be03c66dde914", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/85f02901a3cb97a81eb41b69ab0be03c66dde914", "html_url": "https://github.com/rust-lang/rust/commit/85f02901a3cb97a81eb41b69ab0be03c66dde914", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/85f02901a3cb97a81eb41b69ab0be03c66dde914/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92804cd4901b09777812d76c3f2a618ab2a3afce", "url": "https://api.github.com/repos/rust-lang/rust/commits/92804cd4901b09777812d76c3f2a618ab2a3afce", "html_url": "https://github.com/rust-lang/rust/commit/92804cd4901b09777812d76c3f2a618ab2a3afce"}], "stats": {"total": 182, "additions": 40, "deletions": 142}, "files": [{"sha": "69e0e3a0136677b59de5970e43d7849cca86d8cd", "filename": "compiler/rustc_feature/src/accepted.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/85f02901a3cb97a81eb41b69ab0be03c66dde914/compiler%2Frustc_feature%2Fsrc%2Faccepted.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85f02901a3cb97a81eb41b69ab0be03c66dde914/compiler%2Frustc_feature%2Fsrc%2Faccepted.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Faccepted.rs?ref=85f02901a3cb97a81eb41b69ab0be03c66dde914", "patch": "@@ -295,6 +295,8 @@ declare_features! (\n     (accepted, const_fn_union, \"1.56.0\", Some(51909), None),\n     /// Allows explicit discriminants on non-unit enum variants.\n     (accepted, arbitrary_enum_discriminant, \"1.56.0\", Some(60553), None),\n+    /// Allows macro attributes to observe output of `#[derive]`.\n+    (accepted, macro_attributes_in_derive_output, \"1.57.0\", Some(81119), None),\n \n     // -------------------------------------------------------------------------\n     // feature-group-end: accepted features"}, {"sha": "f8b865e615c2ede9512c906de92add62df4dde73", "filename": "compiler/rustc_feature/src/active.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/85f02901a3cb97a81eb41b69ab0be03c66dde914/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85f02901a3cb97a81eb41b69ab0be03c66dde914/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Factive.rs?ref=85f02901a3cb97a81eb41b69ab0be03c66dde914", "patch": "@@ -592,9 +592,6 @@ declare_features! (\n     /// Lessens the requirements for structs to implement `Unsize`.\n     (active, relaxed_struct_unsize, \"1.51.0\", Some(81793), None),\n \n-    /// Allows macro attributes to observe output of `#[derive]`.\n-    (active, macro_attributes_in_derive_output, \"1.51.0\", Some(81119), None),\n-\n     /// Allows associated types in inherent impls.\n     (incomplete, inherent_associated_types, \"1.52.0\", Some(8995), None),\n "}, {"sha": "ddae6209a18eb4d877ca1a6d4ea37572e5034388", "filename": "compiler/rustc_resolve/src/macros.rs", "status": "modified", "additions": 0, "deletions": 32, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/85f02901a3cb97a81eb41b69ab0be03c66dde914/compiler%2Frustc_resolve%2Fsrc%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85f02901a3cb97a81eb41b69ab0be03c66dde914/compiler%2Frustc_resolve%2Fsrc%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Fmacros.rs?ref=85f02901a3cb97a81eb41b69ab0be03c66dde914", "patch": "@@ -311,38 +311,6 @@ impl<'a> ResolverExpand for Resolver<'a> {\n             self.create_stable_hashing_context(),\n         );\n \n-        if let Res::Def(_, _) = res {\n-            // Gate macro attributes in `#[derive]` output.\n-            if !self.session.features_untracked().macro_attributes_in_derive_output\n-                && kind == MacroKind::Attr\n-                && ext.builtin_name != Some(sym::derive)\n-            {\n-                let mut expn_id = parent_scope.expansion;\n-                loop {\n-                    // Helper attr table is a quick way to determine whether the attr is `derive`.\n-                    if self.helper_attrs.contains_key(&expn_id) {\n-                        feature_err(\n-                            &self.session.parse_sess,\n-                            sym::macro_attributes_in_derive_output,\n-                            path.span,\n-                            \"macro attributes in `#[derive]` output are unstable\",\n-                        )\n-                        .emit();\n-                        break;\n-                    } else {\n-                        let expn_data = expn_id.expn_data();\n-                        match expn_data.kind {\n-                            ExpnKind::Root\n-                            | ExpnKind::Macro(MacroKind::Bang | MacroKind::Derive, _) => {\n-                                break;\n-                            }\n-                            _ => expn_id = expn_data.parent.expect_local(),\n-                        }\n-                    }\n-                }\n-            }\n-        }\n-\n         Ok(ext)\n     }\n "}, {"sha": "f0fec6782423ef73901040aaef98f12622e3b4d2", "filename": "src/test/ui/proc-macro/attribute-after-derive-feature-gate.rs", "status": "removed", "additions": 0, "deletions": 37, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/92804cd4901b09777812d76c3f2a618ab2a3afce/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive-feature-gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/92804cd4901b09777812d76c3f2a618ab2a3afce/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive-feature-gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive-feature-gate.rs?ref=92804cd4901b09777812d76c3f2a618ab2a3afce", "patch": "@@ -1,37 +0,0 @@\n-// gate-test-macro_attributes_in_derive_output\n-// aux-build: test-macros.rs\n-\n-#![feature(proc_macro_hygiene)]\n-#![feature(stmt_expr_attributes)]\n-\n-#[macro_use]\n-extern crate test_macros;\n-\n-#[derive(Empty)]\n-#[empty_attr] //~ ERROR macro attributes in `#[derive]` output are unstable\n-struct S1 {\n-    field: [u8; 10],\n-}\n-\n-#[derive(Empty)]\n-#[empty_helper]\n-#[empty_attr] //~ ERROR macro attributes in `#[derive]` output are unstable\n-struct S2 {\n-    field: [u8; 10],\n-}\n-\n-#[derive(Empty)]\n-struct S3 {\n-    field: [u8; #[identity_attr] 10], //~ ERROR macro attributes in `#[derive]` output are unstable\n-}\n-\n-#[derive(Empty)]\n-struct S4 {\n-    field: [u8; {\n-        #[derive(Empty)] // OK, not gated\n-        struct Inner;\n-        10\n-    }]\n-}\n-\n-fn main() {}"}, {"sha": "74cace628b94c94bfd76b84a6003bdbdab72d423", "filename": "src/test/ui/proc-macro/attribute-after-derive-feature-gate.stderr", "status": "removed", "additions": 0, "deletions": 30, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/92804cd4901b09777812d76c3f2a618ab2a3afce/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive-feature-gate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/92804cd4901b09777812d76c3f2a618ab2a3afce/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive-feature-gate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive-feature-gate.stderr?ref=92804cd4901b09777812d76c3f2a618ab2a3afce", "patch": "@@ -1,30 +0,0 @@\n-error[E0658]: macro attributes in `#[derive]` output are unstable\n-  --> $DIR/attribute-after-derive-feature-gate.rs:11:3\n-   |\n-LL | #[empty_attr]\n-   |   ^^^^^^^^^^\n-   |\n-   = note: see issue #81119 <https://github.com/rust-lang/rust/issues/81119> for more information\n-   = help: add `#![feature(macro_attributes_in_derive_output)]` to the crate attributes to enable\n-\n-error[E0658]: macro attributes in `#[derive]` output are unstable\n-  --> $DIR/attribute-after-derive-feature-gate.rs:18:3\n-   |\n-LL | #[empty_attr]\n-   |   ^^^^^^^^^^\n-   |\n-   = note: see issue #81119 <https://github.com/rust-lang/rust/issues/81119> for more information\n-   = help: add `#![feature(macro_attributes_in_derive_output)]` to the crate attributes to enable\n-\n-error[E0658]: macro attributes in `#[derive]` output are unstable\n-  --> $DIR/attribute-after-derive-feature-gate.rs:25:19\n-   |\n-LL |     field: [u8; #[identity_attr] 10],\n-   |                   ^^^^^^^^^^^^^\n-   |\n-   = note: see issue #81119 <https://github.com/rust-lang/rust/issues/81119> for more information\n-   = help: add `#![feature(macro_attributes_in_derive_output)]` to the crate attributes to enable\n-\n-error: aborting due to 3 previous errors\n-\n-For more information about this error, try `rustc --explain E0658`."}, {"sha": "0f0f27bff97be8b89ac4e7841950a6837c709e75", "filename": "src/test/ui/proc-macro/attribute-after-derive.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/85f02901a3cb97a81eb41b69ab0be03c66dde914/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85f02901a3cb97a81eb41b69ab0be03c66dde914/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive.rs?ref=85f02901a3cb97a81eb41b69ab0be03c66dde914", "patch": "@@ -5,8 +5,6 @@\n // compile-flags: -Z span-debug\n // aux-build: test-macros.rs\n \n-#![feature(macro_attributes_in_derive_output)]\n-\n #![no_std] // Don't load unnecessary hygiene information from std\n extern crate std;\n "}, {"sha": "c5b84b0367c8fbdf1c5c501a2811a574e1a54988", "filename": "src/test/ui/proc-macro/attribute-after-derive.stdout", "status": "modified", "additions": 38, "deletions": 38, "changes": 76, "blob_url": "https://github.com/rust-lang/rust/blob/85f02901a3cb97a81eb41b69ab0be03c66dde914/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/85f02901a3cb97a81eb41b69ab0be03c66dde914/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fattribute-after-derive.stdout?ref=85f02901a3cb97a81eb41b69ab0be03c66dde914", "patch": "@@ -3,190 +3,190 @@ PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Punct {\n         ch: '#',\n         spacing: Alone,\n-        span: $DIR/attribute-after-derive.rs:17:1: 17:2 (#0),\n+        span: $DIR/attribute-after-derive.rs:15:1: 15:2 (#0),\n     },\n     Group {\n         delimiter: Bracket,\n         stream: TokenStream [\n             Ident {\n                 ident: \"derive\",\n-                span: $DIR/attribute-after-derive.rs:17:3: 17:9 (#0),\n+                span: $DIR/attribute-after-derive.rs:15:3: 15:9 (#0),\n             },\n             Group {\n                 delimiter: Parenthesis,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"Print\",\n-                        span: $DIR/attribute-after-derive.rs:17:10: 17:15 (#0),\n+                        span: $DIR/attribute-after-derive.rs:15:10: 15:15 (#0),\n                     },\n                 ],\n-                span: $DIR/attribute-after-derive.rs:17:9: 17:16 (#0),\n+                span: $DIR/attribute-after-derive.rs:15:9: 15:16 (#0),\n             },\n         ],\n-        span: $DIR/attribute-after-derive.rs:17:2: 17:17 (#0),\n+        span: $DIR/attribute-after-derive.rs:15:2: 15:17 (#0),\n     },\n     Ident {\n         ident: \"struct\",\n-        span: $DIR/attribute-after-derive.rs:18:1: 18:7 (#0),\n+        span: $DIR/attribute-after-derive.rs:16:1: 16:7 (#0),\n     },\n     Ident {\n         ident: \"AttributeDerive\",\n-        span: $DIR/attribute-after-derive.rs:18:8: 18:23 (#0),\n+        span: $DIR/attribute-after-derive.rs:16:8: 16:23 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Alone,\n-                span: $DIR/attribute-after-derive.rs:19:5: 19:6 (#0),\n+                span: $DIR/attribute-after-derive.rs:17:5: 17:6 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"cfg\",\n-                        span: $DIR/attribute-after-derive.rs:19:7: 19:10 (#0),\n+                        span: $DIR/attribute-after-derive.rs:17:7: 17:10 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"FALSE\",\n-                                span: $DIR/attribute-after-derive.rs:19:11: 19:16 (#0),\n+                                span: $DIR/attribute-after-derive.rs:17:11: 17:16 (#0),\n                             },\n                         ],\n-                        span: $DIR/attribute-after-derive.rs:19:10: 19:17 (#0),\n+                        span: $DIR/attribute-after-derive.rs:17:10: 17:17 (#0),\n                     },\n                 ],\n-                span: $DIR/attribute-after-derive.rs:19:6: 19:18 (#0),\n+                span: $DIR/attribute-after-derive.rs:17:6: 17:18 (#0),\n             },\n             Ident {\n                 ident: \"field\",\n-                span: $DIR/attribute-after-derive.rs:20:5: 20:10 (#0),\n+                span: $DIR/attribute-after-derive.rs:18:5: 18:10 (#0),\n             },\n             Punct {\n                 ch: ':',\n                 spacing: Alone,\n-                span: $DIR/attribute-after-derive.rs:20:10: 20:11 (#0),\n+                span: $DIR/attribute-after-derive.rs:18:10: 18:11 (#0),\n             },\n             Ident {\n                 ident: \"u8\",\n-                span: $DIR/attribute-after-derive.rs:20:12: 20:14 (#0),\n+                span: $DIR/attribute-after-derive.rs:18:12: 18:14 (#0),\n             },\n             Punct {\n                 ch: ',',\n                 spacing: Alone,\n-                span: $DIR/attribute-after-derive.rs:20:14: 20:15 (#0),\n+                span: $DIR/attribute-after-derive.rs:18:14: 18:15 (#0),\n             },\n         ],\n-        span: $DIR/attribute-after-derive.rs:18:24: 21:2 (#0),\n+        span: $DIR/attribute-after-derive.rs:16:24: 19:2 (#0),\n     },\n ]\n PRINT-DERIVE INPUT (DISPLAY): struct AttributeDerive { }\n PRINT-DERIVE INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"struct\",\n-        span: $DIR/attribute-after-derive.rs:18:1: 18:7 (#0),\n+        span: $DIR/attribute-after-derive.rs:16:1: 16:7 (#0),\n     },\n     Ident {\n         ident: \"AttributeDerive\",\n-        span: $DIR/attribute-after-derive.rs:18:8: 18:23 (#0),\n+        span: $DIR/attribute-after-derive.rs:16:8: 16:23 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [],\n-        span: $DIR/attribute-after-derive.rs:18:24: 21:2 (#0),\n+        span: $DIR/attribute-after-derive.rs:16:24: 19:2 (#0),\n     },\n ]\n PRINT-DERIVE INPUT (DISPLAY): #[print_attr] struct DeriveAttribute { }\n PRINT-DERIVE INPUT (DEBUG): TokenStream [\n     Punct {\n         ch: '#',\n         spacing: Alone,\n-        span: $DIR/attribute-after-derive.rs:24:1: 24:2 (#0),\n+        span: $DIR/attribute-after-derive.rs:22:1: 22:2 (#0),\n     },\n     Group {\n         delimiter: Bracket,\n         stream: TokenStream [\n             Ident {\n                 ident: \"print_attr\",\n-                span: $DIR/attribute-after-derive.rs:24:3: 24:13 (#0),\n+                span: $DIR/attribute-after-derive.rs:22:3: 22:13 (#0),\n             },\n         ],\n-        span: $DIR/attribute-after-derive.rs:24:2: 24:14 (#0),\n+        span: $DIR/attribute-after-derive.rs:22:2: 22:14 (#0),\n     },\n     Ident {\n         ident: \"struct\",\n-        span: $DIR/attribute-after-derive.rs:25:1: 25:7 (#0),\n+        span: $DIR/attribute-after-derive.rs:23:1: 23:7 (#0),\n     },\n     Ident {\n         ident: \"DeriveAttribute\",\n-        span: $DIR/attribute-after-derive.rs:25:8: 25:23 (#0),\n+        span: $DIR/attribute-after-derive.rs:23:8: 23:23 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [],\n-        span: $DIR/attribute-after-derive.rs:25:24: 28:2 (#0),\n+        span: $DIR/attribute-after-derive.rs:23:24: 26:2 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): struct DeriveAttribute { #[cfg(FALSE)] field : u8, }\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"struct\",\n-        span: $DIR/attribute-after-derive.rs:25:1: 25:7 (#0),\n+        span: $DIR/attribute-after-derive.rs:23:1: 23:7 (#0),\n     },\n     Ident {\n         ident: \"DeriveAttribute\",\n-        span: $DIR/attribute-after-derive.rs:25:8: 25:23 (#0),\n+        span: $DIR/attribute-after-derive.rs:23:8: 23:23 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Alone,\n-                span: $DIR/attribute-after-derive.rs:26:5: 26:6 (#0),\n+                span: $DIR/attribute-after-derive.rs:24:5: 24:6 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"cfg\",\n-                        span: $DIR/attribute-after-derive.rs:26:7: 26:10 (#0),\n+                        span: $DIR/attribute-after-derive.rs:24:7: 24:10 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"FALSE\",\n-                                span: $DIR/attribute-after-derive.rs:26:11: 26:16 (#0),\n+                                span: $DIR/attribute-after-derive.rs:24:11: 24:16 (#0),\n                             },\n                         ],\n-                        span: $DIR/attribute-after-derive.rs:26:10: 26:17 (#0),\n+                        span: $DIR/attribute-after-derive.rs:24:10: 24:17 (#0),\n                     },\n                 ],\n-                span: $DIR/attribute-after-derive.rs:26:6: 26:18 (#0),\n+                span: $DIR/attribute-after-derive.rs:24:6: 24:18 (#0),\n             },\n             Ident {\n                 ident: \"field\",\n-                span: $DIR/attribute-after-derive.rs:27:5: 27:10 (#0),\n+                span: $DIR/attribute-after-derive.rs:25:5: 25:10 (#0),\n             },\n             Punct {\n                 ch: ':',\n                 spacing: Alone,\n-                span: $DIR/attribute-after-derive.rs:27:10: 27:11 (#0),\n+                span: $DIR/attribute-after-derive.rs:25:10: 25:11 (#0),\n             },\n             Ident {\n                 ident: \"u8\",\n-                span: $DIR/attribute-after-derive.rs:27:12: 27:14 (#0),\n+                span: $DIR/attribute-after-derive.rs:25:12: 25:14 (#0),\n             },\n             Punct {\n                 ch: ',',\n                 spacing: Alone,\n-                span: $DIR/attribute-after-derive.rs:27:14: 27:15 (#0),\n+                span: $DIR/attribute-after-derive.rs:25:14: 25:15 (#0),\n             },\n         ],\n-        span: $DIR/attribute-after-derive.rs:25:24: 28:2 (#0),\n+        span: $DIR/attribute-after-derive.rs:23:24: 26:2 (#0),\n     },\n ]"}]}