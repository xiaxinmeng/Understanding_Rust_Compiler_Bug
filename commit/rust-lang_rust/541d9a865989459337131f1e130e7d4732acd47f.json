{"sha": "541d9a865989459337131f1e130e7d4732acd47f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0MWQ5YTg2NTk4OTQ1OTMzNzEzMWYxZTEzMGU3ZDQ3MzJhY2Q0N2Y=", "commit": {"author": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2019-08-13T23:02:30Z"}, "committer": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2019-08-13T23:02:30Z"}, "message": "tests: fix failing default config unit test (#3743)", "tree": {"sha": "a0ca0b0ee54e588f46cb61c89a0e6fdfb9c7e408", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a0ca0b0ee54e588f46cb61c89a0e6fdfb9c7e408"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/541d9a865989459337131f1e130e7d4732acd47f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/541d9a865989459337131f1e130e7d4732acd47f", "html_url": "https://github.com/rust-lang/rust/commit/541d9a865989459337131f1e130e7d4732acd47f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/541d9a865989459337131f1e130e7d4732acd47f/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1de58ce46d64b1164a214dc0b7fb7c400576c3a6", "url": "https://api.github.com/repos/rust-lang/rust/commits/1de58ce46d64b1164a214dc0b7fb7c400576c3a6", "html_url": "https://github.com/rust-lang/rust/commit/1de58ce46d64b1164a214dc0b7fb7c400576c3a6"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "fa3a0b28e1473b73dd0d066eb624f0d34e81fa21", "filename": "src/config/mod.rs", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/541d9a865989459337131f1e130e7d4732acd47f/src%2Fconfig%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/541d9a865989459337131f1e130e7d4732acd47f/src%2Fconfig%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fconfig%2Fmod.rs?ref=541d9a865989459337131f1e130e7d4732acd47f", "patch": "@@ -465,7 +465,8 @@ mod test {\n \n     #[test]\n     fn test_dump_default_config() {\n-        const DEFAULT_CONFIG: &str = r#\"max_width = 100\n+        let default_config = format!(\n+            r#\"max_width = 100\n hard_tabs = false\n tab_spaces = 4\n newline_style = \"Auto\"\n@@ -519,7 +520,7 @@ use_field_init_shorthand = false\n force_explicit_abi = true\n condense_wildcard_suffixes = false\n color = \"Auto\"\n-required_version = \"1.4.4\"\n+required_version = \"{}\"\n unstable_features = false\n disable_all_formatting = false\n skip_children = false\n@@ -531,9 +532,11 @@ report_fixme = \"Never\"\n ignore = []\n emit_mode = \"Files\"\n make_backup = false\n-\"#;\n+\"#,\n+            env!(\"CARGO_PKG_VERSION\")\n+        );\n         let toml = Config::default().all_options().to_toml().unwrap();\n-        assert_eq!(&toml, DEFAULT_CONFIG);\n+        assert_eq!(&toml, &default_config);\n     }\n \n     // FIXME(#2183): these tests cannot be run in parallel because they use env vars."}]}