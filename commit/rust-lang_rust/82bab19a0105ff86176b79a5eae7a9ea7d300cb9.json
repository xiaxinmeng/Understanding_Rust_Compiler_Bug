{"sha": "82bab19a0105ff86176b79a5eae7a9ea7d300cb9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyYmFiMTlhMDEwNWZmODYxNzZiNzlhNWVhZTdhOWVhN2QzMDBjYjk=", "commit": {"author": {"name": "Cameron Steffen", "email": "cam.steffen94@gmail.com", "date": "2021-01-14T22:47:22Z"}, "committer": {"name": "Cameron Steffen", "email": "cam.steffen94@gmail.com", "date": "2021-01-22T00:19:55Z"}, "message": "Deprecate find_map lint", "tree": {"sha": "2df93fe98f0a0f7c1fefe133cd4f1098bfebcd7f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2df93fe98f0a0f7c1fefe133cd4f1098bfebcd7f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/82bab19a0105ff86176b79a5eae7a9ea7d300cb9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/82bab19a0105ff86176b79a5eae7a9ea7d300cb9", "html_url": "https://github.com/rust-lang/rust/commit/82bab19a0105ff86176b79a5eae7a9ea7d300cb9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/82bab19a0105ff86176b79a5eae7a9ea7d300cb9/comments", "author": {"login": "camsteffen", "id": 5565418, "node_id": "MDQ6VXNlcjU1NjU0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5565418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camsteffen", "html_url": "https://github.com/camsteffen", "followers_url": "https://api.github.com/users/camsteffen/followers", "following_url": "https://api.github.com/users/camsteffen/following{/other_user}", "gists_url": "https://api.github.com/users/camsteffen/gists{/gist_id}", "starred_url": "https://api.github.com/users/camsteffen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camsteffen/subscriptions", "organizations_url": "https://api.github.com/users/camsteffen/orgs", "repos_url": "https://api.github.com/users/camsteffen/repos", "events_url": "https://api.github.com/users/camsteffen/events{/privacy}", "received_events_url": "https://api.github.com/users/camsteffen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camsteffen", "id": 5565418, "node_id": "MDQ6VXNlcjU1NjU0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5565418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camsteffen", "html_url": "https://github.com/camsteffen", "followers_url": "https://api.github.com/users/camsteffen/followers", "following_url": "https://api.github.com/users/camsteffen/following{/other_user}", "gists_url": "https://api.github.com/users/camsteffen/gists{/gist_id}", "starred_url": "https://api.github.com/users/camsteffen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camsteffen/subscriptions", "organizations_url": "https://api.github.com/users/camsteffen/orgs", "repos_url": "https://api.github.com/users/camsteffen/repos", "events_url": "https://api.github.com/users/camsteffen/events{/privacy}", "received_events_url": "https://api.github.com/users/camsteffen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a22915bf4893e16d64100365d902e52211374a0c", "url": "https://api.github.com/repos/rust-lang/rust/commits/a22915bf4893e16d64100365d902e52211374a0c", "html_url": "https://github.com/rust-lang/rust/commit/a22915bf4893e16d64100365d902e52211374a0c"}], "stats": {"total": 34, "additions": 9, "deletions": 25}, "files": [{"sha": "ea386237f20a4809fa71475e15c4d0bf18a22d25", "filename": "clippy_lints/src/deprecated_lints.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/82bab19a0105ff86176b79a5eae7a9ea7d300cb9/clippy_lints%2Fsrc%2Fdeprecated_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/82bab19a0105ff86176b79a5eae7a9ea7d300cb9/clippy_lints%2Fsrc%2Fdeprecated_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdeprecated_lints.rs?ref=82bab19a0105ff86176b79a5eae7a9ea7d300cb9", "patch": "@@ -166,3 +166,8 @@ declare_deprecated_lint! {\n     pub PANIC_PARAMS,\n     \"this lint has been uplifted to rustc and is now called `panic_fmt`\"\n }\n+\n+declare_deprecated_lint! {\n+    pub FIND_MAP,\n+    \"this lint is replaced by `manual_find_map`, a more specific lint\"\n+}"}, {"sha": "7097812e088e7ead544b87d1e761c15130c39202", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/82bab19a0105ff86176b79a5eae7a9ea7d300cb9/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/82bab19a0105ff86176b79a5eae7a9ea7d300cb9/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=82bab19a0105ff86176b79a5eae7a9ea7d300cb9", "patch": "@@ -505,6 +505,10 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         \"clippy::panic_params\",\n         \"this lint has been uplifted to rustc and is now called `panic_fmt`\",\n     );\n+    store.register_removed(\n+        \"clippy::find_map\",\n+        \"this lint is replaced by `manual_find_map`, a more specific lint\",\n+    );\n     // end deprecated lints, do not remove this comment, it\u2019s used in `update_lints`\n \n     // begin register lints, do not remove this comment, it\u2019s used in `update_lints`\n@@ -732,7 +736,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         &methods::FILTER_MAP,\n         &methods::FILTER_MAP_NEXT,\n         &methods::FILTER_NEXT,\n-        &methods::FIND_MAP,\n         &methods::FLAT_MAP_IDENTITY,\n         &methods::FROM_ITER_INSTEAD_OF_COLLECT,\n         &methods::GET_UNWRAP,\n@@ -1333,7 +1336,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&matches::SINGLE_MATCH_ELSE),\n         LintId::of(&methods::FILTER_MAP),\n         LintId::of(&methods::FILTER_MAP_NEXT),\n-        LintId::of(&methods::FIND_MAP),\n         LintId::of(&methods::INEFFICIENT_TO_STRING),\n         LintId::of(&methods::MAP_FLATTEN),\n         LintId::of(&methods::MAP_UNWRAP_OR),"}, {"sha": "7a459a440cae4f0744d0270082a916173b9fe635", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/82bab19a0105ff86176b79a5eae7a9ea7d300cb9/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/82bab19a0105ff86176b79a5eae7a9ea7d300cb9/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=82bab19a0105ff86176b79a5eae7a9ea7d300cb9", "patch": "@@ -547,28 +547,6 @@ declare_clippy_lint! {\n     \"call to `flat_map` where `flatten` is sufficient\"\n }\n \n-declare_clippy_lint! {\n-    /// **What it does:** Checks for usage of `_.find(_).map(_)`.\n-    ///\n-    /// **Why is this bad?** Readability, this can be written more concisely as\n-    /// `_.find_map(_)`.\n-    ///\n-    /// **Known problems:** Often requires a condition + Option/Iterator creation\n-    /// inside the closure.\n-    ///\n-    /// **Example:**\n-    /// ```rust\n-    ///  (0..3).find(|x| *x == 2).map(|x| x * 2);\n-    /// ```\n-    /// Can be written as\n-    /// ```rust\n-    ///  (0..3).find_map(|x| if x == 2 { Some(x * 2) } else { None });\n-    /// ```\n-    pub FIND_MAP,\n-    pedantic,\n-    \"using a combination of `find` and `map` can usually be written as a single method call\"\n-}\n-\n declare_clippy_lint! {\n     /// **What it does:** Checks for an iterator or string search (such as `find()`,\n     /// `position()`, or `rposition()`) followed by a call to `is_some()`.\n@@ -1530,7 +1508,6 @@ impl_lint_pass!(Methods => [\n     MANUAL_FIND_MAP,\n     FILTER_MAP_NEXT,\n     FLAT_MAP_IDENTITY,\n-    FIND_MAP,\n     MAP_FLATTEN,\n     ITERATOR_STEP_BY_ZERO,\n     ITER_NEXT_SLICE,"}]}