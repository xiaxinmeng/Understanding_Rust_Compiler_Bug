{"sha": "a056bf9714fca847494ee6aa6025acb1a7fdd852", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwNTZiZjk3MTRmY2E4NDc0OTRlZTZhYTYwMjVhY2IxYTdmZGQ4NTI=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2019-11-06T13:48:10Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2019-11-21T14:38:30Z"}, "message": "Rename the cfg attribute from rustdoc to doc", "tree": {"sha": "10517dd715ed5aa3d7bab38cd0aa43a3293def20", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/10517dd715ed5aa3d7bab38cd0aa43a3293def20"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a056bf9714fca847494ee6aa6025acb1a7fdd852", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a056bf9714fca847494ee6aa6025acb1a7fdd852", "html_url": "https://github.com/rust-lang/rust/commit/a056bf9714fca847494ee6aa6025acb1a7fdd852", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a056bf9714fca847494ee6aa6025acb1a7fdd852/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "086c8d3db71c7d448b55536d6862f177ad7f60dd", "url": "https://api.github.com/repos/rust-lang/rust/commits/086c8d3db71c7d448b55536d6862f177ad7f60dd", "html_url": "https://github.com/rust-lang/rust/commit/086c8d3db71c7d448b55536d6862f177ad7f60dd"}], "stats": {"total": 15, "additions": 7, "deletions": 8}, "files": [{"sha": "5fac0bddc3bfb1e6275d8a9a902ad400006cddf3", "filename": "src/doc/rustdoc/src/the-doc-attribute.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md", "raw_url": "https://github.com/rust-lang/rust/raw/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md?ref=a056bf9714fca847494ee6aa6025acb1a7fdd852", "patch": "@@ -215,7 +215,7 @@ Since primitive types are defined in the compiler, there's no place to attach do\n attributes. This attribute is used by the standard library to provide a way to generate\n documentation for primitive types.\n \n-## `#[cfg(rustdoc)]`: Documenting platform-/feature-specific information\n+## `#[cfg(doc)]`: Documenting platform-/feature-specific information\n \n For conditional compilation, Rustdoc treats your crate the same way the compiler does: Only things\n from the host target are available (or from the given `--target` if present), and everything else is\n@@ -224,9 +224,9 @@ on different targets and you want your documentation to reflect all the availabl\n provide.\n \n If you want to make sure an item is seen by Rustdoc regardless of what platform it's targeting,\n-you can apply `#[cfg(rustdoc)]` to it. Rustdoc sets this whenever it's building documentation, so\n+you can apply `#[cfg(doc)]` to it. Rustdoc sets this whenever it's building documentation, so\n anything that uses that flag will make it into documentation it generates. To apply this to an item\n-with other `#[cfg]` filters on it, you can write something like `#[cfg(any(windows, rustdoc))]`.\n+with other `#[cfg]` filters on it, you can write something like `#[cfg(any(windows, doc))]`.\n This will preserve the item either when built normally on Windows, or when being documented\n anywhere.\n \n@@ -236,10 +236,10 @@ Example:\n \n ```rust\n /// Token struct that can only be used on Windows.\n-#[cfg(any(windows, rustdoc))]\n+#[cfg(any(windows, doc))]\n pub struct WindowsToken;\n /// Token struct that can only be used on Unix.\n-#[cfg(any(unix, rustdoc))]\n+#[cfg(any(unix, doc))]\n pub struct UnixToken;\n ```\n "}, {"sha": "612f3c69871d7f10e2bd3082e8bc252b5aa4e663", "filename": "src/librustdoc/core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Flibrustdoc%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Flibrustdoc%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fcore.rs?ref=a056bf9714fca847494ee6aa6025acb1a7fdd852", "patch": "@@ -250,7 +250,7 @@ pub fn run_core(options: RustdocOptions) -> (clean::Crate, RenderInfo, RenderOpt\n \n     let extern_names: Vec<String> = externs.iter().map(|(s,_)| s).cloned().collect();\n \n-    // Add the rustdoc cfg into the doc build.\n+    // Add the doc cfg into the doc build.\n     cfgs.push(\"doc\".to_string());\n \n     let cpath = Some(input.clone());"}, {"sha": "cab82f8c61b1142a0b8ffaa5ca9b92c7cba10c0e", "filename": "src/libsyntax_pos/symbol.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Flibsyntax_pos%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Flibsyntax_pos%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Fsymbol.rs?ref=a056bf9714fca847494ee6aa6025acb1a7fdd852", "patch": "@@ -624,7 +624,6 @@ symbols! {\n         rustc_test_marker,\n         rustc_then_this_would_need,\n         rustc_variance,\n-        rustdoc,\n         rustfmt,\n         rust_eh_personality,\n         rust_eh_unwind_resume,"}, {"sha": "dd8e1ed97c4d2fb89d89eef8cc3e79abb65d9a74", "filename": "src/test/ui/cfg-rustdoc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Ftest%2Fui%2Fcfg-rustdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a056bf9714fca847494ee6aa6025acb1a7fdd852/src%2Ftest%2Fui%2Fcfg-rustdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcfg-rustdoc.rs?ref=a056bf9714fca847494ee6aa6025acb1a7fdd852", "patch": "@@ -1,4 +1,4 @@\n-#[cfg(rustdoc)]\n+#[cfg(doc)]\n pub struct Foo;\n \n fn main() {"}]}