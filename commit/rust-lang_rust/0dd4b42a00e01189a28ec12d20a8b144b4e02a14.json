{"sha": "0dd4b42a00e01189a28ec12d20a8b144b4e02a14", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkZDRiNDJhMDBlMDExODlhMjhlYzEyZDIwYThiMTQ0YjRlMDJhMTQ=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-10-05T22:56:45Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-10-06T02:06:25Z"}, "message": "Fix nits in logging section.", "tree": {"sha": "bdfbf73db96d30a9e94fee0d4b63e2a20b58a48a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bdfbf73db96d30a9e94fee0d4b63e2a20b58a48a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0dd4b42a00e01189a28ec12d20a8b144b4e02a14", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0dd4b42a00e01189a28ec12d20a8b144b4e02a14", "html_url": "https://github.com/rust-lang/rust/commit/0dd4b42a00e01189a28ec12d20a8b144b4e02a14", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0dd4b42a00e01189a28ec12d20a8b144b4e02a14/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2f50607d8840d2ea7de6a7367ab9854d6951e889", "url": "https://api.github.com/repos/rust-lang/rust/commits/2f50607d8840d2ea7de6a7367ab9854d6951e889", "html_url": "https://github.com/rust-lang/rust/commit/2f50607d8840d2ea7de6a7367ab9854d6951e889"}], "stats": {"total": 29, "additions": 12, "deletions": 17}, "files": [{"sha": "31c52300312c6ae7b44acae3cc66adc8fc9ededf", "filename": "doc/rust.md", "status": "modified", "additions": 12, "deletions": 17, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/0dd4b42a00e01189a28ec12d20a8b144b4e02a14/doc%2Frust.md", "raw_url": "https://github.com/rust-lang/rust/raw/0dd4b42a00e01189a28ec12d20a8b144b4e02a14/doc%2Frust.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Frust.md?ref=0dd4b42a00e01189a28ec12d20a8b144b4e02a14", "patch": "@@ -2306,30 +2306,25 @@ logging level:\n // Full version, logging a value.\n log(core::error, ~\"file not found: \" + filename);\n \n-// Log-level abbreviated, since core::* is imported by default.\n+// Log-level abbreviated, since core::* is used by default.\n log(error, ~\"file not found: \" + filename);\n \n-// Formatting the message using a format-string and #fmt\n+// Formatting the message using a format-string and fmt!\n log(error, fmt!(\"file not found: %s\", filename));\n \n-// Using the #error macro, that expands to the previous call.\n+// Using the error! macro, that expands to the previous call.\n error!(\"file not found: %s\", filename);\n ~~~~\n \n-A `log` expression is *not evaluated* when logging at the specified\n-logging-level, module or task is disabled at runtime. This makes inactive\n-`log` expressions very cheap; they should be used extensively in Rust\n-code, as diagnostic aids, as they add little overhead beyond a single\n-integer-compare and branch at runtime.\n-\n-Logging is presently implemented as a language built-in feature, as it makes\n-use of compiler-provided logic for allocating the associated per-module\n-logging-control structures visible to the runtime, and lazily evaluating\n-arguments. In the future, as more of the supporting compiler-provided logic is\n-moved into libraries, logging is likely to move to a component of the core\n-library. It is best to use the macro forms of logging (*#error*,\n-*#debug*, etc.) to minimize disruption to code using the logging facility\n-when it is changed.\n+A `log` expression is *not evaluated* when logging at the specified logging-level, module or task is disabled at runtime.\n+This makes inactive `log` expressions very cheap;\n+they should be used extensively in Rust code, as diagnostic aids,\n+as they add little overhead beyond a single integer-compare and branch at runtime.\n+\n+Logging is presently implemented as a language built-in feature,\n+as it makes use of compiler-provided, per-module data tables and flags.\n+In the future, logging will move into a library, and will no longer be a core expression type.\n+It is therefore recommended to use the macro forms of logging (`error!`, `debug!`, etc.) to minimize disruption in code that uses logging.\n \n \n ### Assert expressions"}]}