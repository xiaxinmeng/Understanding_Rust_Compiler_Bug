{"sha": "8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhiMTExYTdjZjVkYWMyZTU5MmJkZWMwMTNkOGRlM2UwNmRjZjE5ZDM=", "commit": {"author": {"name": "Christian Poveda", "email": "cn.poveda.ruiz@gmail.com", "date": "2016-08-07T05:29:24Z"}, "committer": {"name": "Christian Poveda", "email": "cn.poveda.ruiz@gmail.com", "date": "2016-08-07T22:00:19Z"}, "message": "Updated E0087 to new format", "tree": {"sha": "58b5fba8035ace8769b6ea82f1dffa2e9fc5cb3b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/58b5fba8035ace8769b6ea82f1dffa2e9fc5cb3b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "html_url": "https://github.com/rust-lang/rust/commit/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3/comments", "author": null, "committer": null, "parents": [{"sha": "ddf92ffae4b8fc74474241f064f41f09db585ed8", "url": "https://api.github.com/repos/rust-lang/rust/commits/ddf92ffae4b8fc74474241f064f41f09db585ed8", "html_url": "https://github.com/rust-lang/rust/commit/ddf92ffae4b8fc74474241f064f41f09db585ed8"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "2e05231f9fcad83a039d4a2b33c5e6e6a0bb3aff", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "patch": "@@ -4367,14 +4367,17 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n                 if i < type_count {\n                     substs.types.push(space, t);\n                 } else if i == type_count {\n-                    span_err!(self.tcx.sess, typ.span, E0087,\n-                        \"too many type parameters provided: \\\n-                         expected at most {} parameter{}, \\\n-                         found {} parameter{}\",\n-                         type_count,\n-                         if type_count == 1 {\"\"} else {\"s\"},\n-                         data.types.len(),\n-                         if data.types.len() == 1 {\"\"} else {\"s\"});\n+                    struct_span_err!(self.tcx.sess, typ.span, E0087,\n+                                     \"too many type parameters provided: \\\n+                                      expected at most {} parameter{}, \\\n+                                      found {} parameter{}\",\n+                                     type_count,\n+                                     if type_count == 1 {\"\"} else {\"s\"},\n+                                     data.types.len(),\n+                                     if data.types.len() == 1 {\"\"} else {\"s\"})\n+                        .span_label(typ.span , &format!(\"expected {} parameter{}\",\n+                                    type_count,\n+                                    if type_count == 1 {\"\"} else {\"s\"})).emit();\n                     substs.types.truncate(space, 0);\n                     break;\n                 }"}, {"sha": "63115f093c3863c3ced32b3c4bce03ac5833ed24", "filename": "src/test/compile-fail/E0087.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3/src%2Ftest%2Fcompile-fail%2FE0087.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b111a7cf5dac2e592bdec013d8de3e06dcf19d3/src%2Ftest%2Fcompile-fail%2FE0087.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0087.rs?ref=8b111a7cf5dac2e592bdec013d8de3e06dcf19d3", "patch": "@@ -12,4 +12,5 @@ fn foo<T>() {}\n \n fn main() {\n     foo::<f64, bool>(); //~ ERROR E0087\n+    //~^ NOTE expected \n }"}]}