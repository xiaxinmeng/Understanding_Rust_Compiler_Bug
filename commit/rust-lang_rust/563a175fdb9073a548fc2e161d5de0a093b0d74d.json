{"sha": "563a175fdb9073a548fc2e161d5de0a093b0d74d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2M2ExNzVmZGI5MDczYTU0OGZjMmUxNjFkNWRlMGEwOTNiMGQ3NGQ=", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2021-01-20T14:25:34Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2021-01-20T14:25:34Z"}, "message": "Move SymbolKind to ide_db", "tree": {"sha": "d4fcf28abd1b9a83c439351adce0a42d919db33a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d4fcf28abd1b9a83c439351adce0a42d919db33a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/563a175fdb9073a548fc2e161d5de0a093b0d74d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/563a175fdb9073a548fc2e161d5de0a093b0d74d", "html_url": "https://github.com/rust-lang/rust/commit/563a175fdb9073a548fc2e161d5de0a093b0d74d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/563a175fdb9073a548fc2e161d5de0a093b0d74d/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "83e49200d82dccda54bbf376bba5a9c75da14cab", "url": "https://api.github.com/repos/rust-lang/rust/commits/83e49200d82dccda54bbf376bba5a9c75da14cab", "html_url": "https://github.com/rust-lang/rust/commit/83e49200d82dccda54bbf376bba5a9c75da14cab"}], "stats": {"total": 77, "additions": 40, "deletions": 37}, "files": [{"sha": "8d08e4763ddb43db65c91c80045e0f012cb16c07", "filename": "crates/ide/src/display/navigation_target.rs", "status": "modified", "additions": 1, "deletions": 24, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -7,6 +7,7 @@ use hir::{AssocItem, Documentation, FieldSource, HasAttrs, HasSource, InFile, Mo\n use ide_db::{\n     base_db::{FileId, FileRange, SourceDatabase},\n     symbol_index::FileSymbolKind,\n+    SymbolKind,\n };\n use ide_db::{defs::Definition, RootDatabase};\n use syntax::{\n@@ -18,30 +19,6 @@ use crate::FileSymbol;\n \n use super::short_label::ShortLabel;\n \n-#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash, PartialOrd, Ord)]\n-pub enum SymbolKind {\n-    Module,\n-    Impl,\n-    Field,\n-    TypeParam,\n-    ConstParam,\n-    LifetimeParam,\n-    ValueParam,\n-    SelfParam,\n-    Local,\n-    Label,\n-    Function,\n-    Const,\n-    Static,\n-    Struct,\n-    Enum,\n-    Variant,\n-    Union,\n-    TypeAlias,\n-    Trait,\n-    Macro,\n-}\n-\n /// `NavigationTarget` represents and element in the editor's UI which you can\n /// click on to navigate to a particular piece of code.\n ///"}, {"sha": "26793bdb441455672a63e90091d929c69e5a27f7", "filename": "crates/ide/src/file_structure.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Ffile_structure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Ffile_structure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Ffile_structure.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -1,10 +1,9 @@\n+use ide_db::SymbolKind;\n use syntax::{\n     ast::{self, AttrsOwner, GenericParamsOwner, NameOwner},\n     match_ast, AstNode, SourceFile, SyntaxNode, TextRange, WalkEvent,\n };\n \n-use crate::SymbolKind;\n-\n #[derive(Debug, Clone)]\n pub struct StructureNode {\n     pub parent: Option<usize>,"}, {"sha": "989e94a31fcd1de302531324d80b6601c8a396e5", "filename": "crates/ide/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Flib.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -65,7 +65,7 @@ use crate::display::ToNav;\n pub use crate::{\n     call_hierarchy::CallItem,\n     diagnostics::{Diagnostic, DiagnosticsConfig, Fix, Severity},\n-    display::navigation_target::{NavigationTarget, SymbolKind},\n+    display::navigation_target::NavigationTarget,\n     expand_macro::ExpandedMacro,\n     file_structure::StructureNode,\n     folding_ranges::{Fold, FoldKind},"}, {"sha": "e282b31afbad7dda1ce0e2df9ebe921e3d514aa9", "filename": "crates/ide/src/runnables.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Frunnables.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Frunnables.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Frunnables.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -3,7 +3,7 @@ use std::fmt;\n use assists::utils::test_related_attribute;\n use cfg::CfgExpr;\n use hir::{AsAssocItem, HasAttrs, HasSource, Semantics};\n-use ide_db::{defs::Definition, RootDatabase};\n+use ide_db::{defs::Definition, RootDatabase, SymbolKind};\n use itertools::Itertools;\n use syntax::{\n     ast::{self, AstNode, AttrsOwner},\n@@ -12,7 +12,7 @@ use syntax::{\n \n use crate::{\n     display::{ToNav, TryToNav},\n-    FileId, NavigationTarget, SymbolKind,\n+    FileId, NavigationTarget,\n };\n \n #[derive(Debug, Clone)]"}, {"sha": "a3d4e4f77ad9de7f5324917958a480daa9002761", "filename": "crates/ide/src/syntax_highlighting.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -13,7 +13,7 @@ mod html;\n mod tests;\n \n use hir::{Name, Semantics};\n-use ide_db::RootDatabase;\n+use ide_db::{RootDatabase, SymbolKind};\n use rustc_hash::FxHashMap;\n use syntax::{\n     ast::{self, HasFormatSpecifier},\n@@ -27,7 +27,7 @@ use crate::{\n         format::highlight_format_string, highlights::Highlights,\n         macro_rules::MacroRulesHighlighter, tags::Highlight,\n     },\n-    FileId, HlMod, HlTag, SymbolKind,\n+    FileId, HlMod, HlTag,\n };\n \n pub(crate) use html::highlight_as_html;"}, {"sha": "63bff6376f787c9f82dcf739b2d1b735c0788ef9", "filename": "crates/ide/src/syntax_highlighting/format.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fformat.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -1,10 +1,11 @@\n //! Syntax highlighting for format macro strings.\n+use ide_db::SymbolKind;\n use syntax::{\n     ast::{self, FormatSpecifier, HasFormatSpecifier},\n     AstNode, AstToken, TextRange,\n };\n \n-use crate::{syntax_highlighting::highlights::Highlights, HlRange, HlTag, SymbolKind};\n+use crate::{syntax_highlighting::highlights::Highlights, HlRange, HlTag};\n \n pub(super) fn highlight_format_string(\n     stack: &mut Highlights,"}, {"sha": "24fcbb5845a7dc4913b67a130ffa43456a34ce71", "filename": "crates/ide/src/syntax_highlighting/highlight.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhighlight.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhighlight.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhighlight.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -3,7 +3,7 @@\n use hir::{AsAssocItem, Semantics, VariantDef};\n use ide_db::{\n     defs::{Definition, NameClass, NameRefClass},\n-    RootDatabase,\n+    RootDatabase, SymbolKind,\n };\n use rustc_hash::FxHashMap;\n use syntax::{\n@@ -12,7 +12,7 @@ use syntax::{\n     SyntaxNode, SyntaxToken, T,\n };\n \n-use crate::{syntax_highlighting::tags::HlPunct, Highlight, HlMod, HlTag, SymbolKind};\n+use crate::{syntax_highlighting::tags::HlPunct, Highlight, HlMod, HlTag};\n \n pub(super) fn element(\n     sema: &Semantics<RootDatabase>,"}, {"sha": "3c02fdb1151fb24707be8bef662cac479803e551", "filename": "crates/ide/src/syntax_highlighting/tags.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -3,7 +3,7 @@\n \n use std::{fmt, ops};\n \n-use crate::SymbolKind;\n+use ide_db::SymbolKind;\n \n #[derive(Clone, Copy, Debug, PartialEq, Eq, Hash, PartialOrd, Ord)]\n pub struct Highlight {"}, {"sha": "ee35d02f5a7ee935e247a8b991e14eeddfad87cc", "filename": "crates/ide_db/src/lib.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide_db%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Fide_db%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_db%2Fsrc%2Flib.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -134,3 +134,27 @@ fn line_index(db: &dyn LineIndexDatabase, file_id: FileId) -> Arc<LineIndex> {\n     let text = db.file_text(file_id);\n     Arc::new(LineIndex::new(&*text))\n }\n+\n+#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash, PartialOrd, Ord)]\n+pub enum SymbolKind {\n+    Module,\n+    Impl,\n+    Field,\n+    TypeParam,\n+    ConstParam,\n+    LifetimeParam,\n+    ValueParam,\n+    SelfParam,\n+    Local,\n+    Label,\n+    Function,\n+    Const,\n+    Static,\n+    Struct,\n+    Enum,\n+    Variant,\n+    Union,\n+    TypeAlias,\n+    Trait,\n+    Macro,\n+}"}, {"sha": "10cbd7eeb95d119497f39829799b6f881494da7d", "filename": "crates/rust-analyzer/src/handlers.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -10,8 +10,9 @@ use std::{\n \n use ide::{\n     FileId, FilePosition, FileRange, HoverAction, HoverGotoTypeData, LineIndex, NavigationTarget,\n-    Query, RangeInfo, Runnable, RunnableKind, SearchScope, SourceChange, SymbolKind, TextEdit,\n+    Query, RangeInfo, Runnable, RunnableKind, SearchScope, SourceChange, TextEdit,\n };\n+use ide_db::SymbolKind;\n use itertools::Itertools;\n use lsp_server::ErrorCode;\n use lsp_types::{"}, {"sha": "18e8a6d2275a60d4205a79b3b3034fccf15132aa", "filename": "crates/rust-analyzer/src/to_proto.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563a175fdb9073a548fc2e161d5de0a093b0d74d/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs?ref=563a175fdb9073a548fc2e161d5de0a093b0d74d", "patch": "@@ -8,8 +8,9 @@ use ide::{\n     Assist, AssistKind, CallInfo, CompletionItem, CompletionItemKind, Documentation, FileId,\n     FileRange, FileSystemEdit, Fold, FoldKind, Highlight, HlMod, HlPunct, HlRange, HlTag, Indel,\n     InlayHint, InlayKind, InsertTextFormat, LineIndex, Markup, NavigationTarget, ReferenceAccess,\n-    RenameError, Runnable, Severity, SourceChange, SymbolKind, TextEdit, TextRange, TextSize,\n+    RenameError, Runnable, Severity, SourceChange, TextEdit, TextRange, TextSize,\n };\n+use ide_db::SymbolKind;\n use itertools::Itertools;\n \n use crate::{"}]}