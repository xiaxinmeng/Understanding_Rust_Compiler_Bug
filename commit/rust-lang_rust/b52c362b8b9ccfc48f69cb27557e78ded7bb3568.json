{"sha": "b52c362b8b9ccfc48f69cb27557e78ded7bb3568", "node_id": "C_kwDOAAsO6NoAKGI1MmMzNjJiOGI5Y2NmYzQ4ZjY5Y2IyNzU1N2U3OGRlZDdiYjM1Njg", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-06-27T20:35:13Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-06-27T20:35:13Z"}, "message": "Rollup merge of #98579 - RalfJung:alloc-tests, r=thomcc\n\nliballoc tests: avoid int2ptr cast\n\nI think we don't need `ptr::from_exposed_addr` here; `ptr::invalid` should be enough for this test. (And this makes Miri less unhappy when running these tests.)", "tree": {"sha": "c177d134bcd85a1b86bf54013d8db7ffd7b5a166", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c177d134bcd85a1b86bf54013d8db7ffd7b5a166"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b52c362b8b9ccfc48f69cb27557e78ded7bb3568", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiuhSBCRBK7hj4Ov3rIwAAd2UIAKtBfmXq49lBzP0vRSGsCUmu\nF+Ask06/gg5fyLQK4/HZvFRGjUJGKM+uE9W1s1UPJCGNtXTpi1jOvjWl5vTUoBDR\n36IlNadwzWXJug4EC2ymh4Yz7TK+qf/SEpam8XW34mG4Va7xQPWyrgUnqjvm2ckq\n0d4TnxotdSEplto3CMvp1CV4ds0yrLKVyOVJZUOgadEUdyY3yGZl3D2zsowQJppm\nYBQNbKl2CmdlnvGwNivaHilE2Tw0IxPlYTV/u94P+AHWiBzs0yheAr9S3bhu/TPe\nsArAh+wsDSmd8TSW5zQ1uONrVe0OPzbtn2GJxS5hPWQoeu5jC4NapuEzpBhyTjc=\n=CRiS\n-----END PGP SIGNATURE-----\n", "payload": "tree c177d134bcd85a1b86bf54013d8db7ffd7b5a166\nparent 9f667994fdbc40285f670dd1ef8bcb4f6385dab7\nparent 9b497abb9a5c661310722a85fabdce2fb8c02099\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1656362113 +0200\ncommitter GitHub <noreply@github.com> 1656362113 +0200\n\nRollup merge of #98579 - RalfJung:alloc-tests, r=thomcc\n\nliballoc tests: avoid int2ptr cast\n\nI think we don't need `ptr::from_exposed_addr` here; `ptr::invalid` should be enough for this test. (And this makes Miri less unhappy when running these tests.)\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b52c362b8b9ccfc48f69cb27557e78ded7bb3568", "html_url": "https://github.com/rust-lang/rust/commit/b52c362b8b9ccfc48f69cb27557e78ded7bb3568", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b52c362b8b9ccfc48f69cb27557e78ded7bb3568/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f667994fdbc40285f670dd1ef8bcb4f6385dab7", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f667994fdbc40285f670dd1ef8bcb4f6385dab7", "html_url": "https://github.com/rust-lang/rust/commit/9f667994fdbc40285f670dd1ef8bcb4f6385dab7"}, {"sha": "9b497abb9a5c661310722a85fabdce2fb8c02099", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b497abb9a5c661310722a85fabdce2fb8c02099", "html_url": "https://github.com/rust-lang/rust/commit/9b497abb9a5c661310722a85fabdce2fb8c02099"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "5ee6db43fda24e5aeea513450d0fc691ee70f86f", "filename": "library/alloc/tests/fmt.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b52c362b8b9ccfc48f69cb27557e78ded7bb3568/library%2Falloc%2Ftests%2Ffmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b52c362b8b9ccfc48f69cb27557e78ded7bb3568/library%2Falloc%2Ftests%2Ffmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Ftests%2Ffmt.rs?ref=b52c362b8b9ccfc48f69cb27557e78ded7bb3568", "patch": "@@ -207,7 +207,7 @@ fn test_format_macro_interface() {\n     {\n         let val = usize::MAX;\n         let exp = format!(\"{val:#x}\");\n-        t!(format!(\"{:p}\", val as *const isize), exp);\n+        t!(format!(\"{:p}\", std::ptr::invalid::<isize>(val)), exp);\n     }\n \n     // Escaping"}]}