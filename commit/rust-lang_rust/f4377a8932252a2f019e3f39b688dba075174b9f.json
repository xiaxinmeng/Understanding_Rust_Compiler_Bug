{"sha": "f4377a8932252a2f019e3f39b688dba075174b9f", "node_id": "C_kwDOAAsO6NoAKGY0Mzc3YTg5MzIyNTJhMmYwMTllM2YzOWI2ODhkYmEwNzUxNzRiOWY", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2022-02-07T14:08:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-02-07T14:08:37Z"}, "message": "Rollup merge of #93682 - PatchMixolydic:where-in-the-world-is-const_fn_trait_bound, r=oli-obk\n\nUpdate tracking issue for `const_fn_trait_bound`\n\nIt previously pointed to #57563, the conglomerate issue for `const fn` (presumably under the feature gate `const_fn`). This tracking issue doesn't mention anything about `const_fn_trait_bound`(the only occurrence of \"trait bound\" is for the now-removed `?const Trait` syntax), which can be confusing to people who want to find out more about trait bounds on `const fn`s. This pull request changes the tracking issue to one meant specifically for `const_fn_trait_bound`, #93706, which can help collect information on this feature's stabilization and point users towards `const_trait_impl` if they're looking for const-in-const-contexts trait bounds.\n\nFixes #93679.\n\n`````@rustbot````` modify labels +A-const-fn +F-const_trait_impl", "tree": {"sha": "eabec31d91d4bc468870fc9a7a1cdc02cdcfbdc5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eabec31d91d4bc468870fc9a7a1cdc02cdcfbdc5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f4377a8932252a2f019e3f39b688dba075174b9f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiASflCRBK7hj4Ov3rIwAADOUIAEAW6cymrbDq1AT1m7dmqpMK\nXZO5EWI7N/NQERV4/M+Zt0FcMBhAY7+LXkvpuzKIVANm0jJpImnFMSyBYwciQQS2\nRC4368fMAycWcm1j3tpxdc0AJ/oW53GD+WKKxBS6K+nSvqhNKVInWWcNlCes8yKG\nGKh560NvUA6ogYs+YQYeMBOGqByC6gtx0/xKkZC/VAyLml5CSKEeJpraHFt1DMHv\nWX67ORkRR7BkFDYKhaf7pS9xo2+D3ljWfqeyhzyTxdwJXUiVdkiKWUOHEjwQjshL\n2fTKX2j0ZP2zEK70O/gKtvamrUN0W3OngbHj4oKC9QhiNPjKg+lTKq2cg+AQiYM=\n=rCIk\n-----END PGP SIGNATURE-----\n", "payload": "tree eabec31d91d4bc468870fc9a7a1cdc02cdcfbdc5\nparent bd245facd40f455394d5bd8ee6a1972717f46f79\nparent 57b102ff73504d45318a66e0df852b74aacd5ca4\nauthor Mara Bos <m-ou.se@m-ou.se> 1644242917 +0000\ncommitter GitHub <noreply@github.com> 1644242917 +0000\n\nRollup merge of #93682 - PatchMixolydic:where-in-the-world-is-const_fn_trait_bound, r=oli-obk\n\nUpdate tracking issue for `const_fn_trait_bound`\n\nIt previously pointed to #57563, the conglomerate issue for `const fn` (presumably under the feature gate `const_fn`). This tracking issue doesn't mention anything about `const_fn_trait_bound`(the only occurrence of \"trait bound\" is for the now-removed `?const Trait` syntax), which can be confusing to people who want to find out more about trait bounds on `const fn`s. This pull request changes the tracking issue to one meant specifically for `const_fn_trait_bound`, #93706, which can help collect information on this feature's stabilization and point users towards `const_trait_impl` if they're looking for const-in-const-contexts trait bounds.\n\nFixes #93679.\n\n`````@rustbot````` modify labels +A-const-fn +F-const_trait_impl\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f4377a8932252a2f019e3f39b688dba075174b9f", "html_url": "https://github.com/rust-lang/rust/commit/f4377a8932252a2f019e3f39b688dba075174b9f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f4377a8932252a2f019e3f39b688dba075174b9f/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd245facd40f455394d5bd8ee6a1972717f46f79", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd245facd40f455394d5bd8ee6a1972717f46f79", "html_url": "https://github.com/rust-lang/rust/commit/bd245facd40f455394d5bd8ee6a1972717f46f79"}, {"sha": "57b102ff73504d45318a66e0df852b74aacd5ca4", "url": "https://api.github.com/repos/rust-lang/rust/commits/57b102ff73504d45318a66e0df852b74aacd5ca4", "html_url": "https://github.com/rust-lang/rust/commit/57b102ff73504d45318a66e0df852b74aacd5ca4"}], "stats": {"total": 38, "additions": 19, "deletions": 19}, "files": [{"sha": "e5232bf3dd0193a2789d7a58aa605644d594b127", "filename": "compiler/rustc_feature/src/active.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f4377a8932252a2f019e3f39b688dba075174b9f/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f4377a8932252a2f019e3f39b688dba075174b9f/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Factive.rs?ref=f4377a8932252a2f019e3f39b688dba075174b9f", "patch": "@@ -330,7 +330,7 @@ declare_features! (\n     /// Allows using and casting function pointers in a `const fn`.\n     (active, const_fn_fn_ptr_basics, \"1.48.0\", Some(57563), None),\n     /// Allows trait bounds in `const fn`.\n-    (active, const_fn_trait_bound, \"1.53.0\", Some(57563), None),\n+    (active, const_fn_trait_bound, \"1.53.0\", Some(93706), None),\n     /// Allows `for _ in _` loops in const contexts.\n     (active, const_for, \"1.56.0\", Some(87575), None),\n     /// Allows argument and return position `impl Trait` in a `const fn`."}, {"sha": "7d9e18cb341f38330e3e99e141386cf3fdeb935e", "filename": "src/test/ui/consts/const_fn_trait_bound.stock.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fconsts%2Fconst_fn_trait_bound.stock.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fconsts%2Fconst_fn_trait_bound.stock.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst_fn_trait_bound.stock.stderr?ref=f4377a8932252a2f019e3f39b688dba075174b9f", "patch": "@@ -4,7 +4,7 @@ error[E0658]: trait bounds other than `Sized` on const fn parameters are unstabl\n LL | const fn test1<T: std::ops::Add>() {}\n    |                ^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait objects in const fn are unstable\n@@ -13,7 +13,7 @@ error[E0658]: trait objects in const fn are unstable\n LL | const fn test2(_x: &dyn Send) {}\n    |                ^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait objects in const fn are unstable\n@@ -22,7 +22,7 @@ error[E0658]: trait objects in const fn are unstable\n LL | const fn test3() -> &'static dyn Send { loop {} }\n    |                     ^^^^^^^^^^^^^^^^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error: aborting due to 3 previous errors"}, {"sha": "67cb604b6a7be0344258766ec7b3bd21478ab4d8", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr?ref=f4377a8932252a2f019e3f39b688dba075174b9f", "patch": "@@ -136,7 +136,7 @@ error[E0658]: trait bounds other than `Sized` on const fn parameters are unstabl\n LL | const fn foo11<T: std::fmt::Display>(t: T) -> T { t }\n    |                ^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait bounds other than `Sized` on const fn parameters are unstable\n@@ -145,7 +145,7 @@ error[E0658]: trait bounds other than `Sized` on const fn parameters are unstabl\n LL | const fn foo11_2<T: Send>(t: T) -> T { t }\n    |                  ^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0013]: constant functions cannot refer to statics\n@@ -218,7 +218,7 @@ LL |\n LL |     const fn foo(&self) {}\n    |     ------------------- function declared as const here\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait bounds other than `Sized` on const fn parameters are unstable\n@@ -230,7 +230,7 @@ LL |\n LL |     const fn foo2(&self) {}\n    |     -------------------- function declared as const here\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait bounds other than `Sized` on const fn parameters are unstable\n@@ -242,7 +242,7 @@ LL |\n LL |     const fn foo3(&self) {}\n    |     -------------------- function declared as const here\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait bounds other than `Sized` on const fn parameters are unstable\n@@ -251,7 +251,7 @@ error[E0658]: trait bounds other than `Sized` on const fn parameters are unstabl\n LL | const fn no_apit2(_x: AlanTuring<impl std::fmt::Debug>) {}\n    |                                  ^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0493]: destructors cannot be evaluated at compile-time\n@@ -268,7 +268,7 @@ error[E0658]: trait bounds other than `Sized` on const fn parameters are unstabl\n LL | const fn no_apit(_x: impl std::fmt::Debug) {}\n    |                      ^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0493]: destructors cannot be evaluated at compile-time\n@@ -285,7 +285,7 @@ error[E0658]: trait objects in const fn are unstable\n LL | const fn no_dyn_trait(_x: &dyn std::fmt::Debug) {}\n    |                       ^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait objects in const fn are unstable\n@@ -294,7 +294,7 @@ error[E0658]: trait objects in const fn are unstable\n LL | const fn no_dyn_trait_ret() -> &'static dyn std::fmt::Debug { &() }\n    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait objects in const fn are unstable\n@@ -305,7 +305,7 @@ LL | const fn really_no_traits_i_mean_it() { (&() as &dyn std::fmt::Debug, ()).1\n    | |\n    | function declared as const here\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait objects in const fn are unstable\n@@ -316,7 +316,7 @@ LL | const fn really_no_traits_i_mean_it() { (&() as &dyn std::fmt::Debug, ()).1\n    | |\n    | function declared as const here\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait objects in const fn are unstable\n@@ -327,7 +327,7 @@ LL | const fn really_no_traits_i_mean_it() { (&() as &dyn std::fmt::Debug, ()).1\n    | |\n    | function declared as const here\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: function pointers cannot appear in constant functions"}, {"sha": "4c2199101d302318385feb16278201b7722667a8", "filename": "src/test/ui/consts/min_const_fn/min_const_fn_dyn.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_dyn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_dyn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_dyn.stderr?ref=f4377a8932252a2f019e3f39b688dba075174b9f", "patch": "@@ -6,7 +6,7 @@ LL | const fn no_inner_dyn_trait2(x: Hide) {\n LL |     x.0.field;\n    |     ^^^^^^^^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error[E0658]: trait objects in const fn are unstable\n@@ -17,7 +17,7 @@ LL | const fn no_inner_dyn_trait_ret() -> Hide { Hide(HasDyn { field: &0 }) }\n    | |\n    | function declared as const here\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error: aborting due to 2 previous errors"}, {"sha": "c834f8bd9c4f5b545c7e335b38f73c6670c21062", "filename": "src/test/ui/nll/issue-55825-const-fn.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fnll%2Fissue-55825-const-fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f4377a8932252a2f019e3f39b688dba075174b9f/src%2Ftest%2Fui%2Fnll%2Fissue-55825-const-fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fissue-55825-const-fn.stderr?ref=f4377a8932252a2f019e3f39b688dba075174b9f", "patch": "@@ -4,7 +4,7 @@ error[E0658]: trait objects in const fn are unstable\n LL | const fn no_dyn_trait_ret() -> &'static dyn std::fmt::Debug { &() }\n    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: see issue #57563 <https://github.com/rust-lang/rust/issues/57563> for more information\n+   = note: see issue #93706 <https://github.com/rust-lang/rust/issues/93706> for more information\n    = help: add `#![feature(const_fn_trait_bound)]` to the crate attributes to enable\n \n error: aborting due to previous error"}]}