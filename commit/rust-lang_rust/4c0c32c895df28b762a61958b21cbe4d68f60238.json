{"sha": "4c0c32c895df28b762a61958b21cbe4d68f60238", "node_id": "C_kwDOAAsO6NoAKDRjMGMzMmM4OTVkZjI4Yjc2MmE2MTk1OGIyMWNiZTRkNjhmNjAyMzg", "commit": {"author": {"name": "mejrs", "email": "", "date": "2023-01-08T23:23:27Z"}, "committer": {"name": "mejrs", "email": "", "date": "2023-01-08T23:23:27Z"}, "message": "Fix tests", "tree": {"sha": "9d5df61984058fc6a5a8e4e79d50918b89ff18ba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9d5df61984058fc6a5a8e4e79d50918b89ff18ba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c0c32c895df28b762a61958b21cbe4d68f60238", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c0c32c895df28b762a61958b21cbe4d68f60238", "html_url": "https://github.com/rust-lang/rust/commit/4c0c32c895df28b762a61958b21cbe4d68f60238", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c0c32c895df28b762a61958b21cbe4d68f60238/comments", "author": {}, "committer": {}, "parents": [{"sha": "262ff86138730c1eb65f3ec39dd9c93222ed77e7", "url": "https://api.github.com/repos/rust-lang/rust/commits/262ff86138730c1eb65f3ec39dd9c93222ed77e7", "html_url": "https://github.com/rust-lang/rust/commit/262ff86138730c1eb65f3ec39dd9c93222ed77e7"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "52103e4609770b50f3ae767ffb8ac754c8439059", "filename": "compiler/rustc_errors/src/tests.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/4c0c32c895df28b762a61958b21cbe4d68f60238/compiler%2Frustc_errors%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c0c32c895df28b762a61958b21cbe4d68f60238/compiler%2Frustc_errors%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Ftests.rs?ref=4c0c32c895df28b762a61958b21cbe4d68f60238", "patch": "@@ -25,6 +25,11 @@ fn make_dummy(ftl: &'static str) -> Dummy {\n     let resource = FluentResource::try_new(ftl.into()).expect(\"Failed to parse an FTL string.\");\n \n     let langid_en = langid!(\"en-US\");\n+\n+    #[cfg(parallel_compiler)]\n+    let mut bundle = FluentBundle::new_concurrent(vec![langid_en]);\n+\n+    #[cfg(not(parallel_compiler))]\n     let mut bundle = FluentBundle::new(vec![langid_en]);\n \n     bundle.add_resource(resource).expect(\"Failed to add FTL resources to the bundle.\");"}]}