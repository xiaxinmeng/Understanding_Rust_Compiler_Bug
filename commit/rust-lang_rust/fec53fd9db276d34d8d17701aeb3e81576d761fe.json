{"sha": "fec53fd9db276d34d8d17701aeb3e81576d761fe", "node_id": "C_kwDOAAsO6NoAKGZlYzUzZmQ5ZGIyNzZkMzRkOGQxNzcwMWFlYjNlODE1NzZkNzYxZmU", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-10-01T07:49:52Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-10-01T14:24:44Z"}, "message": "Add sanity Drop impl.", "tree": {"sha": "01f5b0c290e5e6a6711e4ec93b074ddf64d9f95d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/01f5b0c290e5e6a6711e4ec93b074ddf64d9f95d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fec53fd9db276d34d8d17701aeb3e81576d761fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fec53fd9db276d34d8d17701aeb3e81576d761fe", "html_url": "https://github.com/rust-lang/rust/commit/fec53fd9db276d34d8d17701aeb3e81576d761fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fec53fd9db276d34d8d17701aeb3e81576d761fe/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "299e10d7ad2601b24bbd5556de402be10cd46fe0", "url": "https://api.github.com/repos/rust-lang/rust/commits/299e10d7ad2601b24bbd5556de402be10cd46fe0", "html_url": "https://github.com/rust-lang/rust/commit/299e10d7ad2601b24bbd5556de402be10cd46fe0"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "be1d7d98aa69cd76fa743f280c0b5a7ec72738b1", "filename": "compiler/rustc_lint/src/levels.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/fec53fd9db276d34d8d17701aeb3e81576d761fe/compiler%2Frustc_lint%2Fsrc%2Flevels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fec53fd9db276d34d8d17701aeb3e81576d761fe/compiler%2Frustc_lint%2Fsrc%2Flevels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Flevels.rs?ref=fec53fd9db276d34d8d17701aeb3e81576d761fe", "patch": "@@ -494,6 +494,14 @@ impl<'s> LintLevelsBuilder<'s, TopDown> {\n     /// Called after `push` when the scope of a set of attributes are exited.\n     pub(crate) fn pop(&mut self, push: BuilderPush) {\n         self.provider.cur = push.prev;\n+        std::mem::forget(push);\n+    }\n+}\n+\n+#[cfg(debug_assertions)]\n+impl Drop for BuilderPush {\n+    fn drop(&mut self) {\n+        panic!(\"Found a `push` without a `pop`.\");\n     }\n }\n "}]}