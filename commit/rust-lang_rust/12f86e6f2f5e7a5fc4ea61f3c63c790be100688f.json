{"sha": "12f86e6f2f5e7a5fc4ea61f3c63c790be100688f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEyZjg2ZTZmMmY1ZTdhNWZjNGVhNjFmM2M2M2M3OTBiZTEwMDY4OGY=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-06-02T18:27:35Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-06-02T18:29:17Z"}, "message": "rustc: Print node IDs for more types of nodes", "tree": {"sha": "0773d086e089feb7c127f12b9da62814d9b15a27", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0773d086e089feb7c127f12b9da62814d9b15a27"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/12f86e6f2f5e7a5fc4ea61f3c63c790be100688f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/12f86e6f2f5e7a5fc4ea61f3c63c790be100688f", "html_url": "https://github.com/rust-lang/rust/commit/12f86e6f2f5e7a5fc4ea61f3c63c790be100688f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/12f86e6f2f5e7a5fc4ea61f3c63c790be100688f/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c6a0f189e2f2ffb4ed24d10319afccd6c39b13a", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c6a0f189e2f2ffb4ed24d10319afccd6c39b13a", "html_url": "https://github.com/rust-lang/rust/commit/7c6a0f189e2f2ffb4ed24d10319afccd6c39b13a"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "532bb6e75cc4c3914cc13eec6452006d932cdb0a", "filename": "src/comp/pretty/pprust.rs", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/12f86e6f2f5e7a5fc4ea61f3c63c790be100688f/src%2Fcomp%2Fpretty%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/12f86e6f2f5e7a5fc4ea61f3c63c790be100688f/src%2Fcomp%2Fpretty%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fpretty%2Fpprust.rs?ref=12f86e6f2f5e7a5fc4ea61f3c63c790be100688f", "patch": "@@ -439,6 +439,15 @@ fn print_item(&ps s, &@ast::item item) {\n             bclose(s, item.span);\n         }\n     }\n+\n+    // Print the node ID if necessary. TODO: type as well.\n+    alt (s.mode) {\n+        case (mo_identified) {\n+            space(s.s);\n+            synth_comment(s, uint::to_str(ty::item_ann(item).id, 10u));\n+        }\n+        case (_) { /* no-op */ }\n+    }\n }\n \n fn print_stmt(&ps s, &ast::stmt st) {\n@@ -473,6 +482,15 @@ fn print_block(&ps s, ast::block blk) {\n         case (_) {}\n     }\n     bclose(s, blk.span);\n+\n+    // Print the node ID if necessary: TODO: type as well.\n+    alt (s.mode) {\n+        case (mo_identified) {\n+            space(s.s);\n+            synth_comment(s, \"block \" + uint::to_str(blk.node.a.id, 10u));\n+        }\n+        case (_) { /* no-op */ }\n+    }\n }\n \n fn print_literal(&ps s, &@ast::lit lit) {\n@@ -977,6 +995,15 @@ fn print_pat(&ps s, &@ast::pat pat) {\n             }\n         }\n     }\n+\n+    // Print the node ID if necessary. TODO: type as well.\n+    alt (s.mode) {\n+        case (mo_identified) {\n+            space(s.s);\n+            synth_comment(s, uint::to_str(ty::pat_ann(pat).id, 10u));\n+        }\n+        case (_) { /* no-op */ }\n+    }\n }\n \n fn print_fn(&ps s, ast::fn_decl decl, ast::proto proto, str name,"}]}