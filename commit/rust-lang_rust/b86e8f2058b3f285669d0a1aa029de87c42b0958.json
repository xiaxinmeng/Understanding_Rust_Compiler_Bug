{"sha": "b86e8f2058b3f285669d0a1aa029de87c42b0958", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI4NmU4ZjIwNThiM2YyODU2NjlkMGExYWEwMjlkZTg3YzQyYjA5NTg=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2021-05-18T17:35:47Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-18T17:35:47Z"}, "message": "Rollup merge of #85428 - leebradley:add-xpy-presetup-instructions, r=Mark-Simulacrum\n\nAdd x.py pre-setup instructions\n\nThis change adds pre-setup instructions that outline how x.py requires\npython to be setup and how to work around the problem of x.py failing to\nlocate python, especially now that Ubuntu 20.04's dropped default python\ncommand is causing people to encounter this issue regularly.\n\nSee also: #71818", "tree": {"sha": "4571d2da61c589b936ec29abc45ff7bfe248a7ac", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4571d2da61c589b936ec29abc45ff7bfe248a7ac"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b86e8f2058b3f285669d0a1aa029de87c42b0958", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgo/r0CRBK7hj4Ov3rIwAA18YIACAmwUKYhdMlcY3k8o0tHAQF\ngjsNJ9Uy8n8fD1WhTDLaYfrhthKtTlWgoMdee1WeVbFs2DKuMYnHpBzaxEF6iPU/\nDsb8TvrhB+/sWb6OXjWyZ6NdNxpj74DADxEUryS73I77f5icabL/SoGWdyd8LDl7\nWxWowb3XN5EybqvjKJwYpxbptWag2C74EfBdTXx1oWdfQyQI+FEqkf6hyCjHvMGA\ncEMpRK+5BEM6zSrQSNCGY7sm1vpEh8qPjvPlezLj3ToyvpVog5f64L4syzD0jsch\nRml0BaSm+iu1MPeUm7CacqcDfonSuwikevU1kA1uXING/DT2ZMNU3bCD0MXuRto=\n=nJ+F\n-----END PGP SIGNATURE-----\n", "payload": "tree 4571d2da61c589b936ec29abc45ff7bfe248a7ac\nparent aef6848cba1d710704caabc26d451fa8e3535dfc\nparent 4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11\nauthor Ralf Jung <post@ralfj.de> 1621359347 +0200\ncommitter GitHub <noreply@github.com> 1621359347 +0200\n\nRollup merge of #85428 - leebradley:add-xpy-presetup-instructions, r=Mark-Simulacrum\n\nAdd x.py pre-setup instructions\n\nThis change adds pre-setup instructions that outline how x.py requires\npython to be setup and how to work around the problem of x.py failing to\nlocate python, especially now that Ubuntu 20.04's dropped default python\ncommand is causing people to encounter this issue regularly.\n\nSee also: #71818\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b86e8f2058b3f285669d0a1aa029de87c42b0958", "html_url": "https://github.com/rust-lang/rust/commit/b86e8f2058b3f285669d0a1aa029de87c42b0958", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b86e8f2058b3f285669d0a1aa029de87c42b0958/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aef6848cba1d710704caabc26d451fa8e3535dfc", "url": "https://api.github.com/repos/rust-lang/rust/commits/aef6848cba1d710704caabc26d451fa8e3535dfc", "html_url": "https://github.com/rust-lang/rust/commit/aef6848cba1d710704caabc26d451fa8e3535dfc"}, {"sha": "4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11", "url": "https://api.github.com/repos/rust-lang/rust/commits/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11", "html_url": "https://github.com/rust-lang/rust/commit/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "af6a4090a27cb58c85b1ddd2adb6accdea2efa80", "filename": "README.md", "status": "modified", "additions": 22, "deletions": 2, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/b86e8f2058b3f285669d0a1aa029de87c42b0958/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/b86e8f2058b3f285669d0a1aa029de87c42b0958/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=b86e8f2058b3f285669d0a1aa029de87c42b0958", "patch": "@@ -19,8 +19,28 @@ Read [\"Installation\"] from [The Book].\n ## Installing from Source\n \n The Rust build system uses a Python script called `x.py` to build the compiler,\n-which manages the bootstrapping process. More information about it can be found\n-by running `./x.py --help` or reading the [rustc dev guide][rustcguidebuild].\n+which manages the bootstrapping process. It lives in the root of the project.\n+\n+The `x.py` command can be run directly on most systems in the following format: \n+\n+```sh\n+./x.py <subcommand> [flags]\n+```\n+\n+This is how the documentation and examples assume you are running `x.py`.\n+\n+Systems such as Ubuntu 20.04 LTS do not create the necessary `python` command by default when Python is installed that allows `x.py` to be run directly. In that case you can either create a symlink for `python` (Ubuntu provides the `python-is-python3` package for this), or run `x.py` using Python itself:\n+\n+```sh\n+# Python 3\n+python3 x.py <subcommand> [flags]\n+\n+# Python 2.7\n+python2.7 x.py <subcommand> [flags]\n+```\n+\n+More information about `x.py` can be found\n+by running it with the `--help` flag or reading the [rustc dev guide][rustcguidebuild].\n \n [gettingstarted]: https://rustc-dev-guide.rust-lang.org/getting-started.html\n [rustcguidebuild]: https://rustc-dev-guide.rust-lang.org/building/how-to-build-and-run.html"}]}