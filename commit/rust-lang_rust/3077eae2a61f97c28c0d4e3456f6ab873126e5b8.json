{"sha": "3077eae2a61f97c28c0d4e3456f6ab873126e5b8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwNzdlYWUyYTYxZjk3YzI4YzBkNGUzNDU2ZjZhYjg3MzEyNmU1Yjg=", "commit": {"author": {"name": "Craig Disselkoen", "email": "craigdissel@gmail.com", "date": "2020-05-07T19:06:44Z"}, "committer": {"name": "Craig Disselkoen", "email": "craigdissel@gmail.com", "date": "2020-05-07T19:06:44Z"}, "message": "use home crate instead of dirs", "tree": {"sha": "1395585ddf7da2a06cc658c7e6f4e998eee68620", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1395585ddf7da2a06cc658c7e6f4e998eee68620"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3077eae2a61f97c28c0d4e3456f6ab873126e5b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3077eae2a61f97c28c0d4e3456f6ab873126e5b8", "html_url": "https://github.com/rust-lang/rust/commit/3077eae2a61f97c28c0d4e3456f6ab873126e5b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3077eae2a61f97c28c0d4e3456f6ab873126e5b8/comments", "author": {"login": "cdisselkoen", "id": 4458638, "node_id": "MDQ6VXNlcjQ0NTg2Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/4458638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdisselkoen", "html_url": "https://github.com/cdisselkoen", "followers_url": "https://api.github.com/users/cdisselkoen/followers", "following_url": "https://api.github.com/users/cdisselkoen/following{/other_user}", "gists_url": "https://api.github.com/users/cdisselkoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdisselkoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdisselkoen/subscriptions", "organizations_url": "https://api.github.com/users/cdisselkoen/orgs", "repos_url": "https://api.github.com/users/cdisselkoen/repos", "events_url": "https://api.github.com/users/cdisselkoen/events{/privacy}", "received_events_url": "https://api.github.com/users/cdisselkoen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cdisselkoen", "id": 4458638, "node_id": "MDQ6VXNlcjQ0NTg2Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/4458638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdisselkoen", "html_url": "https://github.com/cdisselkoen", "followers_url": "https://api.github.com/users/cdisselkoen/followers", "following_url": "https://api.github.com/users/cdisselkoen/following{/other_user}", "gists_url": "https://api.github.com/users/cdisselkoen/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdisselkoen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdisselkoen/subscriptions", "organizations_url": "https://api.github.com/users/cdisselkoen/orgs", "repos_url": "https://api.github.com/users/cdisselkoen/repos", "events_url": "https://api.github.com/users/cdisselkoen/events{/privacy}", "received_events_url": "https://api.github.com/users/cdisselkoen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "227929f9ddd3a5dfdab8a5552f457fd6184d3eb2", "url": "https://api.github.com/repos/rust-lang/rust/commits/227929f9ddd3a5dfdab8a5552f457fd6184d3eb2", "html_url": "https://github.com/rust-lang/rust/commit/227929f9ddd3a5dfdab8a5552f457fd6184d3eb2"}], "stats": {"total": 91, "additions": 13, "deletions": 78}, "files": [{"sha": "000c26c4dd1f982becb3647deb8f6f6b2aa37e89", "filename": "Cargo.lock", "status": "modified", "additions": 11, "deletions": 76, "changes": 87, "blob_url": "https://github.com/rust-lang/rust/blob/3077eae2a61f97c28c0d4e3456f6ab873126e5b8/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/3077eae2a61f97c28c0d4e3456f6ab873126e5b8/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=3077eae2a61f97c28c0d4e3456f6ab873126e5b8", "patch": "@@ -21,12 +21,6 @@ version = \"0.12.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"33954243bd79057c2de7338850b85983a44588021f8a5fee574a8888c6de4344\"\n \n-[[package]]\n-name = \"arrayref\"\n-version = \"0.3.6\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a4c527152e37cf757a3f78aae5a06fbeefdb07ccc535c980a3208ee3060dd544\"\n-\n [[package]]\n name = \"arrayvec\"\n version = \"0.5.1\"\n@@ -72,12 +66,6 @@ dependencies = [\n  \"libc\",\n ]\n \n-[[package]]\n-name = \"base64\"\n-version = \"0.11.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b41b7ea54a0c9d92199de89e20e58d49f02f8e699814ef3fdf266f6f748d15c7\"\n-\n [[package]]\n name = \"base64\"\n version = \"0.12.0\"\n@@ -90,17 +78,6 @@ version = \"1.2.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"cf1de2fe8c75bc145a2f577add951f8134889b4795d47466a54a5c846d691693\"\n \n-[[package]]\n-name = \"blake2b_simd\"\n-version = \"0.5.10\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d8fb2d74254a3a0b5cac33ac9f8ed0e44aa50378d9dbb2e5d83bd21ed1dc2c8a\"\n-dependencies = [\n- \"arrayref\",\n- \"arrayvec\",\n- \"constant_time_eq\",\n-]\n-\n [[package]]\n name = \"bstr\"\n version = \"0.2.12\"\n@@ -235,12 +212,6 @@ dependencies = [\n  \"winapi 0.3.8\",\n ]\n \n-[[package]]\n-name = \"constant_time_eq\"\n-version = \"0.1.5\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"245097e9a4535ee1e3e3931fcfcd55a796a44c643e8596ff6566d68f09b87bbc\"\n-\n [[package]]\n name = \"crossbeam\"\n version = \"0.7.3\"\n@@ -318,28 +289,6 @@ version = \"2.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"524cbf6897b527295dff137cec09ecf3a05f4fddffd7dfcd1585403449e74198\"\n \n-[[package]]\n-name = \"dirs\"\n-version = \"2.0.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"13aea89a5c93364a98e9b37b2fa237effbb694d5cfe01c5b70941f7eb087d5e3\"\n-dependencies = [\n- \"cfg-if\",\n- \"dirs-sys\",\n-]\n-\n-[[package]]\n-name = \"dirs-sys\"\n-version = \"0.3.4\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"afa0b23de8fd801745c471deffa6e12d248f962c9fd4b4c33787b055599bde7b\"\n-dependencies = [\n- \"cfg-if\",\n- \"libc\",\n- \"redox_users\",\n- \"winapi 0.3.8\",\n-]\n-\n [[package]]\n name = \"drop_bomb\"\n version = \"0.1.4\"\n@@ -515,6 +464,15 @@ dependencies = [\n  \"libc\",\n ]\n \n+[[package]]\n+name = \"home\"\n+version = \"0.5.3\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"2456aef2e6b6a9784192ae780c0f15bc57df0e918585282325e8c8ac27737654\"\n+dependencies = [\n+ \"winapi 0.3.8\",\n+]\n+\n [[package]]\n name = \"idna\"\n version = \"0.2.0\"\n@@ -710,7 +668,7 @@ version = \"0.74.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"57c0e6a2b8837d27b29deb3f3e6dc1c6d2f57947677f9be1024e482ec5b59525\"\n dependencies = [\n- \"base64 0.12.0\",\n+ \"base64\",\n  \"bitflags\",\n  \"serde\",\n  \"serde_json\",\n@@ -1004,7 +962,7 @@ name = \"ra_env\"\n version = \"0.1.0\"\n dependencies = [\n  \"anyhow\",\n- \"dirs\",\n+ \"home\",\n ]\n \n [[package]]\n@@ -1359,17 +1317,6 @@ version = \"0.1.56\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"2439c63f3f6139d1b57529d16bc3b8bb855230c8efcc5d3a896c8bea7c3b1e84\"\n \n-[[package]]\n-name = \"redox_users\"\n-version = \"0.3.4\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"09b23093265f8d200fa7b4c2c76297f47e681c655f6f1285a8780d6a022f7431\"\n-dependencies = [\n- \"getrandom\",\n- \"redox_syscall\",\n- \"rust-argon2\",\n-]\n-\n [[package]]\n name = \"regex\"\n version = \"1.3.7\"\n@@ -1454,18 +1401,6 @@ dependencies = [\n  \"winapi 0.3.8\",\n ]\n \n-[[package]]\n-name = \"rust-argon2\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"2bc8af4bda8e1ff4932523b94d3dd20ee30a87232323eda55903ffd71d2fb017\"\n-dependencies = [\n- \"base64 0.11.0\",\n- \"blake2b_simd\",\n- \"constant_time_eq\",\n- \"crossbeam-utils\",\n-]\n-\n [[package]]\n name = \"rustc-ap-rustc_lexer\"\n version = \"656.0.0\""}, {"sha": "f0a401be536191dd0a641c8de816b0f037196c43", "filename": "crates/ra_env/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3077eae2a61f97c28c0d4e3456f6ab873126e5b8/crates%2Fra_env%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3077eae2a61f97c28c0d4e3456f6ab873126e5b8/crates%2Fra_env%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_env%2FCargo.toml?ref=3077eae2a61f97c28c0d4e3456f6ab873126e5b8", "patch": "@@ -6,4 +6,4 @@ authors = [\"rust-analyzer developers\"]\n \n [dependencies]\n anyhow = \"1.0.26\"\n-dirs = \"2.0\"\n+home = \"0.5.3\""}, {"sha": "413da19827e67a1944a00b6b86346362148c619e", "filename": "crates/ra_env/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3077eae2a61f97c28c0d4e3456f6ab873126e5b8/crates%2Fra_env%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3077eae2a61f97c28c0d4e3456f6ab873126e5b8/crates%2Fra_env%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_env%2Fsrc%2Flib.rs?ref=3077eae2a61f97c28c0d4e3456f6ab873126e5b8", "patch": "@@ -36,7 +36,7 @@ pub fn get_path_for_executable(executable_name: impl AsRef<str>) -> Result<PathB\n         if is_valid_executable(executable_name) {\n             return Ok(executable_name.into());\n         }\n-        if let Some(mut path) = dirs::home_dir() {\n+        if let Some(mut path) = ::home::home_dir() {\n             path.push(\".cargo\");\n             path.push(\"bin\");\n             path.push(executable_name);"}]}