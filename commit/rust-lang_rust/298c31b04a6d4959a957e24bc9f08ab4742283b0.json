{"sha": "298c31b04a6d4959a957e24bc9f08ab4742283b0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5OGMzMWIwNGE2ZDQ5NTlhOTU3ZTI0YmM5ZjA4YWI0NzQyMjgzYjA=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2021-03-08T12:13:20Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-03-08T12:13:20Z"}, "message": "Rollup merge of #82557 - rylev:natvis-improvements, r=varkor\n\nAdd natvis for Result, NonNull, CString, CStr, and Cow\n\nThis adds natvis support (used for Windows debugging) to the following types: `Result`, `NonNull`, `CString`, `CStr`, and `Cow`.", "tree": {"sha": "5bb7bf4e78f29c40a9d3cd32ecc2a32c9217b674", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5bb7bf4e78f29c40a9d3cd32ecc2a32c9217b674"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/298c31b04a6d4959a957e24bc9f08ab4742283b0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgRhThCRBK7hj4Ov3rIwAAdHIIAJq0Dc/K4yEyA12fYblEJbcg\nTlKOYhKuj9cmnteZjd9rPoTKCrUW1PcqYjmOtnXUP82w0KBfhhNq0Rzn9IBPtK4e\nRfDTV9XKzsB20bsxoJq5wgUxjDRKTrY3F9u0Ro8esvVCfUTBZuvOlgbvh8CtF4mf\nm+haQ/oNTHeFaCTvFnY9286ZLmmdM8hxG8dGJN/EXGmsq2mblxGGcotoOlJNfXF/\nk4wr2DvYi7GkQO/qhShGoO9w9r1vyt3JyBuZ7CJ6uH6c6olHoOBk8gx3xs7rJDdO\nATAd96MGaYfaEaA3+gcWJVJ65TSPZ6/TBC/bxgZJz64HDzQ3OTjCRpWOKmKb6m8=\n=VTJZ\n-----END PGP SIGNATURE-----\n", "payload": "tree 5bb7bf4e78f29c40a9d3cd32ecc2a32c9217b674\nparent 4a4e3e667d22442cbfdd04c9fe0adcf70e497751\nparent 920e2d82484909a85fabc636fd216ad2fa0a168f\nauthor Dylan DPC <dylan.dpc@gmail.com> 1615205600 +0100\ncommitter GitHub <noreply@github.com> 1615205600 +0100\n\nRollup merge of #82557 - rylev:natvis-improvements, r=varkor\n\nAdd natvis for Result, NonNull, CString, CStr, and Cow\n\nThis adds natvis support (used for Windows debugging) to the following types: `Result`, `NonNull`, `CString`, `CStr`, and `Cow`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/298c31b04a6d4959a957e24bc9f08ab4742283b0", "html_url": "https://github.com/rust-lang/rust/commit/298c31b04a6d4959a957e24bc9f08ab4742283b0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/298c31b04a6d4959a957e24bc9f08ab4742283b0/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4a4e3e667d22442cbfdd04c9fe0adcf70e497751", "url": "https://api.github.com/repos/rust-lang/rust/commits/4a4e3e667d22442cbfdd04c9fe0adcf70e497751", "html_url": "https://github.com/rust-lang/rust/commit/4a4e3e667d22442cbfdd04c9fe0adcf70e497751"}, {"sha": "920e2d82484909a85fabc636fd216ad2fa0a168f", "url": "https://api.github.com/repos/rust-lang/rust/commits/920e2d82484909a85fabc636fd216ad2fa0a168f", "html_url": "https://github.com/rust-lang/rust/commit/920e2d82484909a85fabc636fd216ad2fa0a168f"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "9cc60fc7b47e557e57b0f4b4f7efa056b020a2ab", "filename": "src/etc/natvis/liballoc.natvis", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/298c31b04a6d4959a957e24bc9f08ab4742283b0/src%2Fetc%2Fnatvis%2Fliballoc.natvis", "raw_url": "https://github.com/rust-lang/rust/raw/298c31b04a6d4959a957e24bc9f08ab4742283b0/src%2Fetc%2Fnatvis%2Fliballoc.natvis", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fnatvis%2Fliballoc.natvis?ref=298c31b04a6d4959a957e24bc9f08ab4742283b0", "patch": "@@ -75,4 +75,11 @@\n       <ExpandedItem>ptr.pointer->data</ExpandedItem>\n     </Expand>\n   </Type>\n+  <Type Name=\"alloc::borrow::Cow&lt;*&gt;\">\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x0\">Borrowed({__0})</DisplayString>\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x1\">Owned({__0})</DisplayString>\n+    <Expand>\n+      <Item Name=\"[value]\" ExcludeView=\"simple\">__0</Item>\n+    </Expand>\n+  </Type>\n </AutoVisualizer>"}, {"sha": "9c3c26f597838de041c1b427186d1b52f610162a", "filename": "src/etc/natvis/libcore.natvis", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/298c31b04a6d4959a957e24bc9f08ab4742283b0/src%2Fetc%2Fnatvis%2Flibcore.natvis", "raw_url": "https://github.com/rust-lang/rust/raw/298c31b04a6d4959a957e24bc9f08ab4742283b0/src%2Fetc%2Fnatvis%2Flibcore.natvis", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fnatvis%2Flibcore.natvis?ref=298c31b04a6d4959a957e24bc9f08ab4742283b0", "patch": "@@ -30,4 +30,19 @@\n     </Expand>\n   </Type>\n \n+  <Type Name=\"core::result::Result&lt;*&gt;\">\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x0\">Ok({__0})</DisplayString>\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x1\">Err({(*($T2*) &amp;__0)})</DisplayString>\n+    <Expand>\n+      <Item Name=\"[value]\" Condition=\"RUST$ENUM$DISR == 0x0\">__0</Item>\n+      <Item Name=\"[value]\" Condition=\"RUST$ENUM$DISR == 0x1\">(*($T2*) &amp;__0)</Item>\n+    </Expand>\n+  </Type>\n+\n+  <Type Name=\"core::ptr::non_null::NonNull&lt;*&gt;\">\n+    <DisplayString>{(void*) pointer}</DisplayString>\n+    <Expand>\n+      <Item Name=\"[value]\">*pointer</Item>\n+    </Expand>\n+  </Type>\n </AutoVisualizer>\n\\ No newline at end of file"}, {"sha": "b0542b0c633032d39fac245e79e855a72899a612", "filename": "src/etc/natvis/libstd.natvis", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/298c31b04a6d4959a957e24bc9f08ab4742283b0/src%2Fetc%2Fnatvis%2Flibstd.natvis", "raw_url": "https://github.com/rust-lang/rust/raw/298c31b04a6d4959a957e24bc9f08ab4742283b0/src%2Fetc%2Fnatvis%2Flibstd.natvis", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fnatvis%2Flibstd.natvis?ref=298c31b04a6d4959a957e24bc9f08ab4742283b0", "patch": "@@ -72,4 +72,33 @@\n       </CustomListItems>\n     </Expand>\n   </Type>\n+\n+  <Type Name=\"std::ffi::c_str::CString\">\n+    <DisplayString>{inner.data_ptr,s}</DisplayString>\n+    <Expand>\n+      <Synthetic Name=\"[chars]\">\n+        <Expand>\n+          <ArrayItems>\n+            <Size>inner.length</Size>\n+            <ValuePointer>(char*)inner.data_ptr</ValuePointer>\n+          </ArrayItems>\n+        </Expand>\n+      </Synthetic>\n+    </Expand>\n+  </Type>\n+\n+  <Type Name=\"std::ffi::c_str::CStr\">\n+    <DisplayString>{(char*) inner}</DisplayString>\n+    <Expand>\n+      <Synthetic Name=\"[chars]\">\n+        <DisplayString>{(char*) inner}</DisplayString>\n+        <Expand>\n+          <ArrayItems>\n+            <Size>strlen((char *) inner) + 1</Size>\n+            <ValuePointer>(char*)inner</ValuePointer>\n+          </ArrayItems>\n+        </Expand>\n+      </Synthetic>\n+    </Expand>\n+  </Type>\n </AutoVisualizer>"}]}