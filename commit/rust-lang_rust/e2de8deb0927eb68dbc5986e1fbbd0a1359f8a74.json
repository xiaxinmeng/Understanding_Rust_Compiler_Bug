{"sha": "e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyZGU4ZGViMDkyN2ViNjhkYmM1OTg2ZTFmYmJkMGExMzU5ZjhhNzQ=", "commit": {"author": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2018-01-31T00:47:30Z"}, "committer": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2018-01-31T19:41:26Z"}, "message": "Enable stack-probe tests with system LLVM >= 5.0", "tree": {"sha": "1e25ffd5d0d86659a1926e52959ea8a8f283f517", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1e25ffd5d0d86659a1926e52959ea8a8f283f517"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "html_url": "https://github.com/rust-lang/rust/commit/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/comments", "author": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "560a2f4faf4828ba5f48fe2bd7709265c2f5354d", "url": "https://api.github.com/repos/rust-lang/rust/commits/560a2f4faf4828ba5f48fe2bd7709265c2f5354d", "html_url": "https://github.com/rust-lang/rust/commit/560a2f4faf4828ba5f48fe2bd7709265c2f5354d"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "4a489f1edb3b8cbf5f509f29ef7fc0f0409b705b", "filename": "src/test/codegen/stack-probes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftest%2Fcodegen%2Fstack-probes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftest%2Fcodegen%2Fstack-probes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstack-probes.rs?ref=e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "patch": "@@ -15,7 +15,7 @@\n // ignore-wasm\n // ignore-emscripten\n // ignore-windows\n-// no-system-llvm\n+// min-system-llvm-version 5.0\n // compile-flags: -C no-prepopulate-passes\n \n #![crate_type = \"lib\"]"}, {"sha": "4deced1297bd11d78332c3f28f7a70b15d9e1c94", "filename": "src/test/run-pass/stack-probes-lto.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftest%2Frun-pass%2Fstack-probes-lto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftest%2Frun-pass%2Fstack-probes-lto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstack-probes-lto.rs?ref=e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "patch": "@@ -15,7 +15,7 @@\n // ignore-emscripten no processes\n // ignore-musl FIXME #31506\n // ignore-pretty\n-// no-system-llvm\n+// min-system-llvm-version 5.0\n // compile-flags: -C lto\n // no-prefer-dynamic\n "}, {"sha": "4224a65ffd7c71da83ff371af64a6c393338da77", "filename": "src/test/run-pass/stack-probes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftest%2Frun-pass%2Fstack-probes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftest%2Frun-pass%2Fstack-probes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstack-probes.rs?ref=e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "patch": "@@ -14,7 +14,7 @@\n // ignore-cloudabi no processes\n // ignore-emscripten no processes\n // ignore-musl FIXME #31506\n-// no-system-llvm\n+// min-system-llvm-version 5.0\n \n use std::mem;\n use std::process::Command;"}, {"sha": "80750f9a3fee08081a8392829887462a6badc20c", "filename": "src/tools/compiletest/src/header.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs?ref=e2de8deb0927eb68dbc5986e1fbbd0a1359f8a74", "patch": "@@ -167,7 +167,7 @@ impl EarlyProps {\n                         .expect(\"Malformed llvm version directive\");\n                     // Ignore if using system LLVM and actual version\n                     // is smaller the minimum required version\n-                    !(config.system_llvm && &actual_version[..] < min_version)\n+                    config.system_llvm && &actual_version[..] < min_version\n                 } else {\n                     false\n                 }"}]}