{"sha": "68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4YjRjMDNkYmNlZDFhMGVhZTM4MTM4YTdkZDhlY2IzY2EzMGMwMmY=", "commit": {"author": {"name": "Ayush Kumar Mishra", "email": "ayush.k.mishra@xcelenergy.com", "date": "2020-06-09T10:56:21Z"}, "committer": {"name": "Ayush Kumar Mishra", "email": "ayush.k.mishra@xcelenergy.com", "date": "2020-06-11T17:46:42Z"}, "message": "Add long error explanation for E0724\n\nMinor refactoring\n\nMinor refactoring\n\nUpdate src/librustc_error_codes/error_codes/E0724.md\n\nCo-authored-by: David Wood <Q0KPU0H1YOEPHRY1R2SN5B5RL@david.davidtw.co>\n\nUpdate src/librustc_error_codes/error_codes/E0724.md\n\nCo-authored-by: David Wood <Q0KPU0H1YOEPHRY1R2SN5B5RL@david.davidtw.co>\n\nUpdate src/librustc_error_codes/error_codes/E0724.md\n\nCo-authored-by: David Wood <Q0KPU0H1YOEPHRY1R2SN5B5RL@david.davidtw.co>\n\nMinor refactoring", "tree": {"sha": "f8115290f7b955b44fa03f1e1d6d4aa813593864", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f8115290f7b955b44fa03f1e1d6d4aa813593864"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f", "html_url": "https://github.com/rust-lang/rust/commit/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f/comments", "author": null, "committer": null, "parents": [{"sha": "ccac43b86b559e01fa71179af1a838ab94559c75", "url": "https://api.github.com/repos/rust-lang/rust/commits/ccac43b86b559e01fa71179af1a838ab94559c75", "html_url": "https://github.com/rust-lang/rust/commit/ccac43b86b559e01fa71179af1a838ab94559c75"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "04ef1bc876fe265b81722bcf714f620f461acbf4", "filename": "src/librustc_error_codes/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f/src%2Flibrustc_error_codes%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f/src%2Flibrustc_error_codes%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes.rs?ref=68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f", "patch": "@@ -409,6 +409,7 @@ E0718: include_str!(\"./error_codes/E0718.md\"),\n E0719: include_str!(\"./error_codes/E0719.md\"),\n E0720: include_str!(\"./error_codes/E0720.md\"),\n E0723: include_str!(\"./error_codes/E0723.md\"),\n+E0724: include_str!(\"./error_codes/E0724.md\"),\n E0725: include_str!(\"./error_codes/E0725.md\"),\n E0727: include_str!(\"./error_codes/E0727.md\"),\n E0728: include_str!(\"./error_codes/E0728.md\"),\n@@ -615,7 +616,6 @@ E0760: include_str!(\"./error_codes/E0760.md\"),\n     E0717, // rustc_promotable without stability attribute\n //  E0721, // `await` keyword\n     E0722, // Malformed `#[optimize]` attribute\n-    E0724, // `#[ffi_returns_twice]` is only allowed in foreign functions\n     E0726, // non-explicit (not `'_`) elided lifetime in unsupported position\n //  E0738, // Removed; errored on `#[track_caller] fn`s in `extern \"Rust\" { ... }`.\n     E0755, // `#[ffi_pure]` is only allowed on foreign functions"}, {"sha": "7a7ba15485434836c9754da42db925d1a098a5d8", "filename": "src/librustc_error_codes/error_codes/E0724.md", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f/src%2Flibrustc_error_codes%2Ferror_codes%2FE0724.md", "raw_url": "https://github.com/rust-lang/rust/raw/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f/src%2Flibrustc_error_codes%2Ferror_codes%2FE0724.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes%2FE0724.md?ref=68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f", "patch": "@@ -0,0 +1,24 @@\n+`#[ffi_returns_twice]` was used on non-foreign function.\n+\n+Erroneous code example:\n+\n+```compile_fail,E0724\n+#![feature(ffi_returns_twice)]\n+#![crate_type = \"lib\"]\n+\n+#[ffi_returns_twice] // error!\n+pub fn foo() {}\n+```\n+\n+`#[ffi_returns_twice]` can only be used on foreign function declarations.\n+For example, we might correct the previous example by declaring\n+the function inside of an\u00a0`extern`\u00a0block.\n+\n+```\n+#![feature(ffi_returns_twice)]\n+\n+extern {\n+   #[ffi_returns_twice] // ok!\n+   pub fn foo();\n+}\n+```"}, {"sha": "2b7f5694f02069b12a51cf0ecdf512ef5ee13a6a", "filename": "src/test/ui/ffi_returns_twice.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f/src%2Ftest%2Fui%2Fffi_returns_twice.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f/src%2Ftest%2Fui%2Fffi_returns_twice.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fffi_returns_twice.stderr?ref=68b4c03dbced1a0eae38138a7dd8ecb3ca30c02f", "patch": "@@ -6,3 +6,4 @@ LL | #[ffi_returns_twice]\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0724`."}]}