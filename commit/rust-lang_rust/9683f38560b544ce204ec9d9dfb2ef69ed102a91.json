{"sha": "9683f38560b544ce204ec9d9dfb2ef69ed102a91", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2ODNmMzg1NjBiNTQ0Y2UyMDRlYzlkOWRmYjJlZjY5ZWQxMDJhOTE=", "commit": {"author": {"name": "Oliver Schneider", "email": "oli-obk@users.noreply.github.com", "date": "2018-03-06T13:35:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-03-06T13:35:18Z"}, "message": "Merge pull request #2513 from niklasf/increase-unreadable-literal\n\nIncrease unreadable_literal digits (fixes #1958)", "tree": {"sha": "45730fac5643405ba3853f88b6fb88bf401386a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/45730fac5643405ba3853f88b6fb88bf401386a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9683f38560b544ce204ec9d9dfb2ef69ed102a91", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJanpkWCRBK7hj4Ov3rIwAAdHIIAKkN0S2/RILV9mYYA74hVmBj\nzZJElPZoViLIEt3LKkLtRYUfNw/gOivPSWDQPeRNlJP3L3xDYWPvuxbI+k6q7DO6\noh1tdN7ANrRUr6l4HJBiLHBTOW89fVim7tGkMSD/fWoNxGQzqYI2DrPoHC1Zu6Te\nId7D5gvV3H09n5TckCcGXzq00s9VeKAJ7+ioOb1+lk1mpeJVoTZw1M5Ov7+HnuM0\n0Cs0+rJkEEdPnOWwagTY6SXv1xGQ7zkTxs0ERAtFTs2bHbMRbWWvevk4n2rUG0ID\nnsw9WUvCrLqTecEjjdAdzWMaaAXD/PRxtjD5HmEuJ2fdXiYqsAMP8B53+dBG74k=\n=yIVJ\n-----END PGP SIGNATURE-----\n", "payload": "tree 45730fac5643405ba3853f88b6fb88bf401386a2\nparent 7dbf315cde9993efa1c671011020d0b261bf7fa1\nparent d55890a2b19d3dbdcc717a50ea40cb594d4fa841\nauthor Oliver Schneider <oli-obk@users.noreply.github.com> 1520343318 +0100\ncommitter GitHub <noreply@github.com> 1520343318 +0100\n\nMerge pull request #2513 from niklasf/increase-unreadable-literal\n\nIncrease unreadable_literal digits (fixes #1958)"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9683f38560b544ce204ec9d9dfb2ef69ed102a91", "html_url": "https://github.com/rust-lang/rust/commit/9683f38560b544ce204ec9d9dfb2ef69ed102a91", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9683f38560b544ce204ec9d9dfb2ef69ed102a91/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7dbf315cde9993efa1c671011020d0b261bf7fa1", "url": "https://api.github.com/repos/rust-lang/rust/commits/7dbf315cde9993efa1c671011020d0b261bf7fa1", "html_url": "https://github.com/rust-lang/rust/commit/7dbf315cde9993efa1c671011020d0b261bf7fa1"}, {"sha": "d55890a2b19d3dbdcc717a50ea40cb594d4fa841", "url": "https://api.github.com/repos/rust-lang/rust/commits/d55890a2b19d3dbdcc717a50ea40cb594d4fa841", "html_url": "https://github.com/rust-lang/rust/commit/d55890a2b19d3dbdcc717a50ea40cb594d4fa841"}], "stats": {"total": 34, "additions": 17, "deletions": 17}, "files": [{"sha": "c534ef327c2a9f21d28dd15bb637d066e8a6079c", "filename": "clippy_lints/src/literal_representation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9683f38560b544ce204ec9d9dfb2ef69ed102a91/clippy_lints%2Fsrc%2Fliteral_representation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9683f38560b544ce204ec9d9dfb2ef69ed102a91/clippy_lints%2Fsrc%2Fliteral_representation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fliteral_representation.rs?ref=9683f38560b544ce204ec9d9dfb2ef69ed102a91", "patch": "@@ -375,7 +375,7 @@ impl LiteralDigitGrouping {\n \n         if underscore_positions.is_empty() {\n             // Check if literal needs underscores.\n-            if digits.len() > 4 {\n+            if digits.len() > 5 {\n                 Err(WarningType::UnreadableLiteral)\n             } else {\n                 Ok(0)"}, {"sha": "0ec757cfbcfe5fb8bd3dd8b7c6e206ed7ab90b55", "filename": "tests/ui/unreadable_literal.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9683f38560b544ce204ec9d9dfb2ef69ed102a91/tests%2Fui%2Funreadable_literal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9683f38560b544ce204ec9d9dfb2ef69ed102a91/tests%2Fui%2Funreadable_literal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funreadable_literal.rs?ref=9683f38560b544ce204ec9d9dfb2ef69ed102a91", "patch": "@@ -3,8 +3,8 @@\n #[warn(unreadable_literal)]\n #[allow(unused_variables)]\n fn main() {\n-    let good = (0b1011_i64, 0o1_234_u32, 0x1_234_567, 1_2345_6789, 1234_f32, 1_234.12_f32, 1_234.123_f32, 1.123_4_f32);\n-    let bad = (0b10110_i64, 0x12345678901_usize, 12345_f32, 1.23456_f32);\n+    let good = (0b1011_i64, 0o1_234_u32, 0x1_234_567, 65536, 1_2345_6789, 1234_f32, 1_234.12_f32, 1_234.123_f32, 1.123_4_f32);\n+    let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n     let good_sci = 1.1234e1;\n-    let bad_sci = 1.12345e1;\n+    let bad_sci = 1.123456e1;\n }"}, {"sha": "4b78e2e121bf2e6e6482c99244f4c08e91a4be24", "filename": "tests/ui/unreadable_literal.stderr", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/9683f38560b544ce204ec9d9dfb2ef69ed102a91/tests%2Fui%2Funreadable_literal.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9683f38560b544ce204ec9d9dfb2ef69ed102a91/tests%2Fui%2Funreadable_literal.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funreadable_literal.stderr?ref=9683f38560b544ce204ec9d9dfb2ef69ed102a91", "patch": "@@ -1,34 +1,34 @@\n error: long literal lacking separators\n  --> $DIR/unreadable_literal.rs:7:16\n   |\n-7 |     let bad = (0b10110_i64, 0x12345678901_usize, 12345_f32, 1.23456_f32);\n-  |                ^^^^^^^^^^^ help: consider: `0b1_0110_i64`\n+7 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+  |                ^^^^^^^^^^^^ help: consider: `0b11_0110_i64`\n   |\n   = note: `-D unreadable-literal` implied by `-D warnings`\n \n error: long literal lacking separators\n- --> $DIR/unreadable_literal.rs:7:29\n+ --> $DIR/unreadable_literal.rs:7:30\n   |\n-7 |     let bad = (0b10110_i64, 0x12345678901_usize, 12345_f32, 1.23456_f32);\n-  |                             ^^^^^^^^^^^^^^^^^^^ help: consider: `0x123_4567_8901_usize`\n+7 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+  |                              ^^^^^^^^^^^^^^^^^^^ help: consider: `0x123_4567_8901_usize`\n \n error: long literal lacking separators\n- --> $DIR/unreadable_literal.rs:7:50\n+ --> $DIR/unreadable_literal.rs:7:51\n   |\n-7 |     let bad = (0b10110_i64, 0x12345678901_usize, 12345_f32, 1.23456_f32);\n-  |                                                  ^^^^^^^^^ help: consider: `12_345_f32`\n+7 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+  |                                                   ^^^^^^^^^^ help: consider: `123_456_f32`\n \n error: long literal lacking separators\n- --> $DIR/unreadable_literal.rs:7:61\n+ --> $DIR/unreadable_literal.rs:7:63\n   |\n-7 |     let bad = (0b10110_i64, 0x12345678901_usize, 12345_f32, 1.23456_f32);\n-  |                                                             ^^^^^^^^^^^ help: consider: `1.234_56_f32`\n+7 |     let bad = (0b110110_i64, 0x12345678901_usize, 123456_f32, 1.234567_f32);\n+  |                                                               ^^^^^^^^^^^^ help: consider: `1.234_567_f32`\n \n error: long literal lacking separators\n  --> $DIR/unreadable_literal.rs:9:19\n   |\n-9 |     let bad_sci = 1.12345e1;\n-  |                   ^^^^^^^^^ help: consider: `1.123_45e1`\n+9 |     let bad_sci = 1.123456e1;\n+  |                   ^^^^^^^^^^ help: consider: `1.123_456e1`\n \n error: aborting due to 5 previous errors\n "}]}