{"sha": "1547caf748a8bee075038364361633759b1fed88", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE1NDdjYWY3NDhhOGJlZTA3NTAzODM2NDM2MTYzMzc1OWIxZmVkODg=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-05-02T23:03:09Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-05-03T09:09:29Z"}, "message": "rustdoc: Fix inclusion of the new fonts\n\nThese fonts were moved into place by rust's makefiles, but rustdoc is widely\nused outside of rustc itself. This moves the fonts into the rustdoc binary,\nsimilarly to the other static assets, and writes them to the output location\nwhenever rustdoc generates documentation.\n\nCloses #13593\nCloses #13787", "tree": {"sha": "463c7f27473d69f1b4642e0fd34a5dc31e5bbe78", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/463c7f27473d69f1b4642e0fd34a5dc31e5bbe78"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1547caf748a8bee075038364361633759b1fed88", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1547caf748a8bee075038364361633759b1fed88", "html_url": "https://github.com/rust-lang/rust/commit/1547caf748a8bee075038364361633759b1fed88", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1547caf748a8bee075038364361633759b1fed88/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3a321b001fd65ccbf34e626dbac6ab1ac2fa1ca3", "url": "https://api.github.com/repos/rust-lang/rust/commits/3a321b001fd65ccbf34e626dbac6ab1ac2fa1ca3", "html_url": "https://github.com/rust-lang/rust/commit/3a321b001fd65ccbf34e626dbac6ab1ac2fa1ca3"}], "stats": {"total": 42, "additions": 16, "deletions": 26}, "files": [{"sha": "9c79e1e864253cca4c6727b1e9ac194d605117d2", "filename": "mk/docs.mk", "status": "modified", "additions": 0, "deletions": 20, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/1547caf748a8bee075038364361633759b1fed88/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/1547caf748a8bee075038364361633759b1fed88/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=1547caf748a8bee075038364361633759b1fed88", "patch": "@@ -141,26 +141,6 @@ doc/footer.inc: $(D)/footer.inc | doc/\n \t@$(call E, cp: $@)\n \t$(Q)cp -a $< $@ 2> /dev/null\n \n-doc/FiraSans-Regular.woff: $(D)/FiraSans-Regular.woff | doc/\n-\t@$(call E, cp: $@)\n-\t$(Q)cp -a $< $@ 2> /dev/null\n-\n-doc/FiraSans-Medium.woff: $(D)/FiraSans-Medium.woff | doc/\n-\t@$(call E, cp: $@)\n-\t$(Q)cp -a $< $@ 2> /dev/null\n-\n-doc/Heuristica-Regular.woff: $(D)/Heuristica-Regular.woff | doc/\n-\t@$(call E, cp: $@)\n-\t$(Q)cp -a $< $@ 2> /dev/null\n-\n-doc/Heuristica-Italic.woff: $(D)/Heuristica-Italic.woff | doc/\n-\t@$(call E, cp: $@)\n-\t$(Q)cp -a $< $@ 2> /dev/null\n-\n-doc/Heuristica-Bold.woff: $(D)/Heuristica-Bold.woff | doc/\n-\t@$(call E, cp: $@)\n-\t$(Q)cp -a $< $@ 2> /dev/null\n-\n # The (english) documentation for each doc item.\n \n define DEF_SHOULD_BUILD_PDF_DOC"}, {"sha": "a95d85741e4224a3fed5b708ab4d82c4336176aa", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=1547caf748a8bee075038364361633759b1fed88", "patch": "@@ -362,11 +362,21 @@ pub fn run(mut krate: clean::Crate, dst: Path) -> io::IoResult<()> {\n         // Add all the static files. These may already exist, but we just\n         // overwrite them anyway to make sure that they're fresh and up-to-date.\n         try!(write(cx.dst.join(\"jquery.js\"),\n-                   include_str!(\"static/jquery-2.1.0.min.js\")));\n-        try!(write(cx.dst.join(\"main.js\"), include_str!(\"static/main.js\")));\n-        try!(write(cx.dst.join(\"main.css\"), include_str!(\"static/main.css\")));\n+                   include_bin!(\"static/jquery-2.1.0.min.js\")));\n+        try!(write(cx.dst.join(\"main.js\"), include_bin!(\"static/main.js\")));\n+        try!(write(cx.dst.join(\"main.css\"), include_bin!(\"static/main.css\")));\n         try!(write(cx.dst.join(\"normalize.css\"),\n-                   include_str!(\"static/normalize.css\")));\n+                   include_bin!(\"static/normalize.css\")));\n+        try!(write(cx.dst.join(\"FiraSans-Regular.woff\"),\n+                   include_bin!(\"static/FiraSans-Regular.woff\")));\n+        try!(write(cx.dst.join(\"FiraSans-Medium.woff\"),\n+                   include_bin!(\"static/FiraSans-Medium.woff\")));\n+        try!(write(cx.dst.join(\"Heuristica-Regular.woff\"),\n+                   include_bin!(\"static/Heuristica-Regular.woff\")));\n+        try!(write(cx.dst.join(\"Heuristica-Italic.woff\"),\n+                   include_bin!(\"static/Heuristica-Italic.woff\")));\n+        try!(write(cx.dst.join(\"Heuristica-Bold.woff\"),\n+                   include_bin!(\"static/Heuristica-Bold.woff\")));\n \n         // Update the search index\n         let dst = cx.dst.join(\"search-index.js\");\n@@ -415,8 +425,8 @@ pub fn run(mut krate: clean::Crate, dst: Path) -> io::IoResult<()> {\n \n /// Writes the entire contents of a string to a destination, not attempting to\n /// catch any errors.\n-fn write(dst: Path, contents: &str) -> io::IoResult<()> {\n-    File::create(&dst).write(contents.as_bytes())\n+fn write(dst: Path, contents: &[u8]) -> io::IoResult<()> {\n+    File::create(&dst).write(contents)\n }\n \n /// Makes a directory on the filesystem, failing the task if an error occurs and"}, {"sha": "5627227744ae5b2ffb83e632cb32b237428c8962", "filename": "src/librustdoc/html/static/FiraSans-Medium.woff", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FFiraSans-Medium.woff", "raw_url": "https://github.com/rust-lang/rust/raw/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FFiraSans-Medium.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2FFiraSans-Medium.woff?ref=1547caf748a8bee075038364361633759b1fed88", "previous_filename": "src/doc/FiraSans-Medium.woff"}, {"sha": "9ff40445bf4a6f459c4ba7399555ba89bbf39181", "filename": "src/librustdoc/html/static/FiraSans-Regular.woff", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FFiraSans-Regular.woff", "raw_url": "https://github.com/rust-lang/rust/raw/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FFiraSans-Regular.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2FFiraSans-Regular.woff?ref=1547caf748a8bee075038364361633759b1fed88", "previous_filename": "src/doc/FiraSans-Regular.woff"}, {"sha": "1c952d10e963ba462e4d54ab60b197ed0a8fa029", "filename": "src/librustdoc/html/static/Heuristica-Bold.woff", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Bold.woff", "raw_url": "https://github.com/rust-lang/rust/raw/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Bold.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Bold.woff?ref=1547caf748a8bee075038364361633759b1fed88", "previous_filename": "src/doc/Heuristica-Bold.woff"}, {"sha": "b0cebf01de49b61c0f1ec5cb47f2687c64e918c2", "filename": "src/librustdoc/html/static/Heuristica-Italic.woff", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Italic.woff", "raw_url": "https://github.com/rust-lang/rust/raw/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Italic.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Italic.woff?ref=1547caf748a8bee075038364361633759b1fed88", "previous_filename": "src/doc/Heuristica-Italic.woff"}, {"sha": "8d824e6f5478deacb208b6b8b2fb6603e8df9535", "filename": "src/librustdoc/html/static/Heuristica-Regular.woff", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Regular.woff", "raw_url": "https://github.com/rust-lang/rust/raw/1547caf748a8bee075038364361633759b1fed88/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Regular.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2FHeuristica-Regular.woff?ref=1547caf748a8bee075038364361633759b1fed88", "previous_filename": "src/doc/Heuristica-Regular.woff"}]}