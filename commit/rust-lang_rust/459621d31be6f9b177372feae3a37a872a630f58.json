{"sha": "459621d31be6f9b177372feae3a37a872a630f58", "node_id": "C_kwDOAAsO6NoAKDQ1OTYyMWQzMWJlNmY5YjE3NzM3MmZlYWUzYTM3YTg3MmE2MzBmNTg", "commit": {"author": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2022-11-25T20:50:38Z"}, "committer": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2022-11-26T10:55:25Z"}, "message": "Improve `EXIT` lint docs", "tree": {"sha": "1450a38065b28aa5ca35b8276aab38bb45870631", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1450a38065b28aa5ca35b8276aab38bb45870631"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/459621d31be6f9b177372feae3a37a872a630f58", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEwgBEOx3xlHwII7PG9cWdDmaeUwIFAmOB8J0ACgkQ9cWdDmae\nUwIpGxAAs0My5RCMA+k38XNaS+ijUixXTqx/ynhnvUdnoVWiA1WaAQIkPCCuKC0i\ng61cswVBEDRF1WSqvQodP6jZtOqrMW55BgjrEm/rBbp4m76rymoXwl8svEXYSaPK\nX2nMf5uoywkV1VDKsR+XNg0qyA7d8Xn0ADdsYP87o5R6hIFpenm7uqHoynkRxbPj\nrjA1CW0Ddh6mxmj7IFly1oDE9lpo8fXP/zb4POY5Hwx6veCfkiIvxVtP5Obrzg7b\nueaE8bVrq6soYSHHQsQhdHohG32EG6QMpoRH9kV45h5jmp4xKuChnINODrRB6alc\nq96U6zsGs3LeATnuiqHqc8lrtsFqG9Ak5W68uOfXNOiaDdykyWovr8JdLYBgvFim\nzzgwqT0me8w79w9Op3DVfn3N0GFGr3teU+7Wku1Zp/gnkIcpSXcxpOvXFTlznCZL\n0+mAVqpGlETADtrV5TfbjUIQWni7jQAGx3J4bqY/UXU5qXjxGszyQDNEf3l01DuX\nqJCmbXWpSbGEkzzCWOMQ6EDIFxD1S+rk2BC7nbZ5LxTnK7IzXo88+o3n2Vuo/e8e\nDFZ+8mzPzscg1xK3ofdzKqqxkGYHrXfFvwQyFpetnnQixdDb31e5gwyIbxDbjAzi\nJZZ/dDsTbhAd5s++VdD4XWV3+9xxhimDwVOKE0CMM+0O79monFc=\n=5/9E\n-----END PGP SIGNATURE-----", "payload": "tree 1450a38065b28aa5ca35b8276aab38bb45870631\nparent 6d0b4e3a0933efd924981a2e86bc9f9cbef54158\nauthor xFrednet <xFrednet@gmail.com> 1669409438 +0100\ncommitter xFrednet <xFrednet@gmail.com> 1669460125 +0100\n\nImprove `EXIT` lint docs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/459621d31be6f9b177372feae3a37a872a630f58", "html_url": "https://github.com/rust-lang/rust/commit/459621d31be6f9b177372feae3a37a872a630f58", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/459621d31be6f9b177372feae3a37a872a630f58/comments", "author": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6d0b4e3a0933efd924981a2e86bc9f9cbef54158", "url": "https://api.github.com/repos/rust-lang/rust/commits/6d0b4e3a0933efd924981a2e86bc9f9cbef54158", "html_url": "https://github.com/rust-lang/rust/commit/6d0b4e3a0933efd924981a2e86bc9f9cbef54158"}], "stats": {"total": 23, "additions": 18, "deletions": 5}, "files": [{"sha": "9c8b0d076dfd78ff353e09f68c6c437bf2d2eadb", "filename": "clippy_lints/src/exit.rs", "status": "modified", "additions": 18, "deletions": 5, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/459621d31be6f9b177372feae3a37a872a630f58/clippy_lints%2Fsrc%2Fexit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/459621d31be6f9b177372feae3a37a872a630f58/clippy_lints%2Fsrc%2Fexit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fexit.rs?ref=459621d31be6f9b177372feae3a37a872a630f58", "patch": "@@ -7,21 +7,34 @@ use rustc_session::{declare_lint_pass, declare_tool_lint};\n \n declare_clippy_lint! {\n     /// ### What it does\n-    /// `exit()`  terminates the program and doesn't provide a\n-    /// stack trace.\n+    /// Detects calls to the `exit()` function which terminates the program.\n     ///\n     /// ### Why is this bad?\n-    /// Ideally a program is terminated by finishing\n+    /// Exit terminates the program at the location it is called. For unrecoverable\n+    /// errors `panics` should be used to provide a stacktrace and potentualy other\n+    /// information. A normal termination or one with an error code should happen in\n     /// the main function.\n     ///\n     /// ### Example\n-    /// ```ignore\n+    /// ```\n     /// std::process::exit(0)\n     /// ```\n+    ///\n+    /// Use instead:\n+    ///\n+    /// ```ignore\n+    /// // To provide a stacktrace and additional information\n+    /// panic!(\"message\");\n+    ///\n+    /// // or a main method with a return\n+    /// fn main() -> Result<(), i32> {\n+    ///     Ok(())\n+    /// }\n+    /// ```\n     #[clippy::version = \"1.41.0\"]\n     pub EXIT,\n     restriction,\n-    \"`std::process::exit` is called, terminating the program\"\n+    \"detects `std::process::exit` calls\"\n }\n \n declare_lint_pass!(Exit => [EXIT]);"}]}