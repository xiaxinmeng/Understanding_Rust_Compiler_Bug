{"sha": "ec706175645172ee4bd5d3d4c0645ffb45d79bbf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVjNzA2MTc1NjQ1MTcyZWU0YmQ1ZDNkNGMwNjQ1ZmZiNDVkNzliYmY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-23T17:04:13Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-23T17:04:13Z"}, "message": "byte literals", "tree": {"sha": "48fa60231036d7b1ff48b5e7b99bdc310f9f8f8b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/48fa60231036d7b1ff48b5e7b99bdc310f9f8f8b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ec706175645172ee4bd5d3d4c0645ffb45d79bbf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ec706175645172ee4bd5d3d4c0645ffb45d79bbf", "html_url": "https://github.com/rust-lang/rust/commit/ec706175645172ee4bd5d3d4c0645ffb45d79bbf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ec706175645172ee4bd5d3d4c0645ffb45d79bbf/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f3e1e6df4202a20fa75543f6847782be515dae06", "url": "https://api.github.com/repos/rust-lang/rust/commits/f3e1e6df4202a20fa75543f6847782be515dae06", "html_url": "https://github.com/rust-lang/rust/commit/f3e1e6df4202a20fa75543f6847782be515dae06"}], "stats": {"total": 25, "additions": 11, "deletions": 14}, "files": [{"sha": "e6ade54a4a50c5e066d960bd9996ff3bd821be6d", "filename": "crates/libsyntax2/src/lexer/strings.rs", "status": "modified", "additions": 2, "deletions": 14, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ec706175645172ee4bd5d3d4c0645ffb45d79bbf/crates%2Flibsyntax2%2Fsrc%2Flexer%2Fstrings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec706175645172ee4bd5d3d4c0645ffb45d79bbf/crates%2Flibsyntax2%2Fsrc%2Flexer%2Fstrings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Flibsyntax2%2Fsrc%2Flexer%2Fstrings.rs?ref=ec706175645172ee4bd5d3d4c0645ffb45d79bbf", "patch": "@@ -102,23 +102,11 @@ pub(crate) fn scan_raw_string(ptr: &mut Ptr) {\n }\n \n fn scan_byte(ptr: &mut Ptr) {\n-    if ptr.next_is('\\'') {\n-        ptr.bump();\n-        return;\n-    }\n-    ptr.bump();\n-    if ptr.next_is('\\'') {\n-        ptr.bump();\n-        return;\n-    }\n+    scan_char(ptr)\n }\n \n fn scan_byte_string(ptr: &mut Ptr) {\n-    while let Some(c) = ptr.bump() {\n-        if c == '\"' {\n-            return;\n-        }\n-    }\n+    scan_string(ptr)\n }\n \n fn scan_raw_byte_string(ptr: &mut Ptr) {"}, {"sha": "b54930f5e699c24bbf5bc2e3a85c478ca8eea605", "filename": "crates/libsyntax2/tests/data/lexer/0008_byte_strings.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ec706175645172ee4bd5d3d4c0645ffb45d79bbf/crates%2Flibsyntax2%2Ftests%2Fdata%2Flexer%2F0008_byte_strings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec706175645172ee4bd5d3d4c0645ffb45d79bbf/crates%2Flibsyntax2%2Ftests%2Fdata%2Flexer%2F0008_byte_strings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Flibsyntax2%2Ftests%2Fdata%2Flexer%2F0008_byte_strings.rs?ref=ec706175645172ee4bd5d3d4c0645ffb45d79bbf", "patch": "@@ -1,2 +1,3 @@\n b'' b'x' b\"foo\" br\"\"\n b''suf b\"\"ix br\"\"br\n+b'\\n' b'\\\\' b'\\'' b'hello'"}, {"sha": "bc03b51a8ab8e5df68ff2a0d8c5f8d10ab47acd5", "filename": "crates/libsyntax2/tests/data/lexer/0008_byte_strings.txt", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ec706175645172ee4bd5d3d4c0645ffb45d79bbf/crates%2Flibsyntax2%2Ftests%2Fdata%2Flexer%2F0008_byte_strings.txt", "raw_url": "https://github.com/rust-lang/rust/raw/ec706175645172ee4bd5d3d4c0645ffb45d79bbf/crates%2Flibsyntax2%2Ftests%2Fdata%2Flexer%2F0008_byte_strings.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Flibsyntax2%2Ftests%2Fdata%2Flexer%2F0008_byte_strings.txt?ref=ec706175645172ee4bd5d3d4c0645ffb45d79bbf", "patch": "@@ -12,3 +12,11 @@ BYTE_STRING 5 \"b\\\"\\\"ix\"\n WHITESPACE 1 \" \"\n RAW_BYTE_STRING 6 \"br\\\"\\\"br\"\n WHITESPACE 1 \"\\n\"\n+BYTE 5 \"b\\'\\\\n\\'\"\n+WHITESPACE 1 \" \"\n+BYTE 5 \"b\\'\\\\\\\\\\'\"\n+WHITESPACE 1 \" \"\n+BYTE 5 \"b\\'\\\\\\'\\'\"\n+WHITESPACE 1 \" \"\n+BYTE 8 \"b\\'hello\\'\"\n+WHITESPACE 1 \"\\n\""}]}