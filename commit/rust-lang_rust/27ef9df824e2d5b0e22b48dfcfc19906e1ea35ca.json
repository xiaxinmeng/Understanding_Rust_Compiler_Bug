{"sha": "27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3ZWY5ZGY4MjRlMmQ1YjBlMjJiNDhkZmNmYzE5OTA2ZTFlYTM1Y2E=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2016-02-17T23:14:36Z"}, "committer": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2016-02-17T23:14:36Z"}, "message": "Rollup merge of #31694 - oconnor663:insertdocs, r=steveklabnik\n\nThe first time I read the docs for `insert()`, I thought it was saying it didn't update existing *values*, and I was confused. Reword the docs to make it clear that `insert()` does update values.", "tree": {"sha": "f4a630e16147ea2289f49c10b18f2ae341b12078", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f4a630e16147ea2289f49c10b18f2ae341b12078"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca", "html_url": "https://github.com/rust-lang/rust/commit/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a88c8fb197fa10eb36c10215066b87badd3b67b", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a88c8fb197fa10eb36c10215066b87badd3b67b", "html_url": "https://github.com/rust-lang/rust/commit/0a88c8fb197fa10eb36c10215066b87badd3b67b"}, {"sha": "2cac9d7bd3f26072e101ccabcb4913ef05f46d7c", "url": "https://api.github.com/repos/rust-lang/rust/commits/2cac9d7bd3f26072e101ccabcb4913ef05f46d7c", "html_url": "https://github.com/rust-lang/rust/commit/2cac9d7bd3f26072e101ccabcb4913ef05f46d7c"}], "stats": {"total": 23, "additions": 14, "deletions": 9}, "files": [{"sha": "7207e7b151c1eae3966022d942574d4cc9a672c2", "filename": "src/libcollections/btree/map.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca/src%2Flibcollections%2Fbtree%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca/src%2Flibcollections%2Fbtree%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fbtree%2Fmap.rs?ref=27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca", "patch": "@@ -375,9 +375,10 @@ impl<K: Ord, V> BTreeMap<K, V> {\n     ///\n     /// If the map did not have this key present, `None` is returned.\n     ///\n-    /// If the map did have this key present, the key is not updated, the\n-    /// value is updated and the old value is returned.\n-    /// See the [module-level documentation] for more.\n+    /// If the map did have this key present, the value is updated, and the old\n+    /// value is returned. The key is not updated, though; this matters for\n+    /// types that can be `==` without being identical. See the [module-level\n+    /// documentation] for more.\n     ///\n     /// [module-level documentation]: index.html#insert-and-complex-keys\n     ///"}, {"sha": "7220690469c2a62080bb6170efdf23f7e2f2baa8", "filename": "src/libstd/collections/hash/map.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs?ref=27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca", "patch": "@@ -1157,9 +1157,10 @@ impl<K, V, S> HashMap<K, V, S>\n     ///\n     /// If the map did not have this key present, `None` is returned.\n     ///\n-    /// If the map did have this key present, the key is not updated, the\n-    /// value is updated and the old value is returned.\n-    /// See the [module-level documentation] for more.\n+    /// If the map did have this key present, the value is updated, and the old\n+    /// value is returned. The key is not updated, though; this matters for\n+    /// types that can be `==` without being identical. See the [module-level\n+    /// documentation] for more.\n     ///\n     /// [module-level documentation]: index.html#insert-and-complex-keys\n     ///"}, {"sha": "06c14157606b2a40b7f2b9a96f6487cea445bd93", "filename": "src/libstd/collections/mod.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca/src%2Flibstd%2Fcollections%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca/src%2Flibstd%2Fcollections%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcollections%2Fmod.rs?ref=27ef9df824e2d5b0e22b48dfcfc19906e1ea35ca", "patch": "@@ -397,12 +397,15 @@\n //! }\n //!\n //! let mut map = BTreeMap::new();\n-//! map.insert(Foo { a: 1, b: \"baz\" }, ());\n+//! map.insert(Foo { a: 1, b: \"baz\" }, 99);\n //!\n //! // We already have a Foo with an a of 1, so this will be updating the value.\n-//! map.insert(Foo { a: 1, b: \"xyz\" }, ());\n+//! map.insert(Foo { a: 1, b: \"xyz\" }, 100);\n //!\n-//! // ... but the key hasn't changed. b is still \"baz\", not \"xyz\"\n+//! // The value has been updated...\n+//! assert_eq!(map.values().next().unwrap(), &100);\n+//!\n+//! // ...but the key hasn't changed. b is still \"baz\", not \"xyz\".\n //! assert_eq!(map.keys().next().unwrap().b, \"baz\");\n //! ```\n "}]}