{"sha": "be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJlOTJmOWQzZDY1YjlkNTA2ODllYWQ0YTRhM2E5ZDY1YjA3ZTBiOTE=", "commit": {"author": {"name": "Oliver Schneider", "email": "github35764891676564198441@oli-obk.de", "date": "2018-07-22T11:30:16Z"}, "committer": {"name": "Oliver Schneider", "email": "github35764891676564198441@oli-obk.de", "date": "2018-07-23T07:51:31Z"}, "message": "Teach new error messages in MIR borrowck about promoted places", "tree": {"sha": "f7f629b3c26e8ebba9ffaf56d80032464ac4182a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f7f629b3c26e8ebba9ffaf56d80032464ac4182a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91", "html_url": "https://github.com/rust-lang/rust/commit/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac54b7499babbb3041942e332f583f8cfadc9d3b", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac54b7499babbb3041942e332f583f8cfadc9d3b", "html_url": "https://github.com/rust-lang/rust/commit/ac54b7499babbb3041942e332f583f8cfadc9d3b"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "7b9b99a7002cc949881edce956f932faa4aeecea", "filename": "src/librustc_mir/borrow_check/move_errors.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91/src%2Flibrustc_mir%2Fborrow_check%2Fmove_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91/src%2Flibrustc_mir%2Fborrow_check%2Fmove_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fmove_errors.rs?ref=be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91", "patch": "@@ -247,6 +247,7 @@ impl<'a, 'gcx, 'tcx> MirBorrowckCtxt<'a, 'gcx, 'tcx> {\n                                             Place::Projection(ref proj) => {\n                                                 proj.base == Place::Local(Local::new(1))\n                                             }\n+                                            Place::Promoted(_) |\n                                             Place::Local(_) | Place::Static(_) => unreachable!(),\n                                         }\n                                     } =>"}, {"sha": "0143d89d58bcfbfd0bb4b6c200455dfad09f7195", "filename": "src/librustc_mir/borrow_check/mutability_errors.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91/src%2Flibrustc_mir%2Fborrow_check%2Fmutability_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91/src%2Flibrustc_mir%2Fborrow_check%2Fmutability_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fmutability_errors.rs?ref=be92f9d3d65b9d50689ead4a4a3a9d65b07e0b91", "patch": "@@ -122,6 +122,8 @@ impl<'a, 'gcx, 'tcx> MirBorrowckCtxt<'a, 'gcx, 'tcx> {\n                 }\n             }\n \n+            Place::Promoted(_) => unreachable!(),\n+\n             Place::Static(box Static { def_id, ty: _ }) => {\n                 if let Place::Static(_) = access_place {\n                     item_msg = format!(\"immutable static item `{}`\", access_place_desc.unwrap());"}]}