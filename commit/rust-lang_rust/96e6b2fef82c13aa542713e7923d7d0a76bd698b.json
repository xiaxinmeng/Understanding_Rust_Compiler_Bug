{"sha": "96e6b2fef82c13aa542713e7923d7d0a76bd698b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2ZTZiMmZlZjgyYzEzYWE1NDI3MTNlNzkyM2Q3ZDBhNzZiZDY5OGI=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "arielb1@mail.tau.ac.il", "date": "2015-08-17T18:17:16Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "arielb1@mail.tau.ac.il", "date": "2015-08-17T18:53:46Z"}, "message": "use an FnvHashSet instead of an HashSet in fulfill\n\nthis doesn't cause a measurable perf increase, but it makes callgrind output\ncleaner. Anyway, rustc should be using FNV everywhere.", "tree": {"sha": "75506cc39b804179681ba9b76cc5bda3f71002aa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/75506cc39b804179681ba9b76cc5bda3f71002aa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/96e6b2fef82c13aa542713e7923d7d0a76bd698b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/96e6b2fef82c13aa542713e7923d7d0a76bd698b", "html_url": "https://github.com/rust-lang/rust/commit/96e6b2fef82c13aa542713e7923d7d0a76bd698b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/96e6b2fef82c13aa542713e7923d7d0a76bd698b/comments", "author": null, "committer": null, "parents": [{"sha": "9b75a2bcd10918a8cde91962a1998615123a401e", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b75a2bcd10918a8cde91962a1998615123a401e", "html_url": "https://github.com/rust-lang/rust/commit/9b75a2bcd10918a8cde91962a1998615123a401e"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "99e12b7428d2a32beeccfa4775b1912a8e55a4dc", "filename": "src/librustc/middle/traits/fulfill.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/96e6b2fef82c13aa542713e7923d7d0a76bd698b/src%2Flibrustc%2Fmiddle%2Ftraits%2Ffulfill.rs", "raw_url": "https://github.com/rust-lang/rust/raw/96e6b2fef82c13aa542713e7923d7d0a76bd698b/src%2Flibrustc%2Fmiddle%2Ftraits%2Ffulfill.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Ffulfill.rs?ref=96e6b2fef82c13aa542713e7923d7d0a76bd698b", "patch": "@@ -12,11 +12,10 @@ use middle::infer::InferCtxt;\n use middle::ty::{self, RegionEscape, Ty, HasTypeFlags};\n use middle::wf;\n \n-use std::collections::HashSet;\n use std::fmt;\n use syntax::ast;\n use util::common::ErrorReported;\n-use util::nodemap::NodeMap;\n+use util::nodemap::{FnvHashSet, NodeMap};\n \n use super::CodeAmbiguity;\n use super::CodeProjectionError;\n@@ -33,7 +32,7 @@ use super::Unimplemented;\n use super::util::predicate_for_builtin_bound;\n \n pub struct FulfilledPredicates<'tcx> {\n-    set: HashSet<(RFC1214Warning, ty::Predicate<'tcx>)>\n+    set: FnvHashSet<(RFC1214Warning, ty::Predicate<'tcx>)>\n }\n \n /// The fulfillment context is used to drive trait resolution.  It\n@@ -540,7 +539,7 @@ fn register_region_obligation<'tcx>(t_a: Ty<'tcx>,\n impl<'tcx> FulfilledPredicates<'tcx> {\n     pub fn new() -> FulfilledPredicates<'tcx> {\n         FulfilledPredicates {\n-            set: HashSet::new()\n+            set: FnvHashSet()\n         }\n     }\n "}]}