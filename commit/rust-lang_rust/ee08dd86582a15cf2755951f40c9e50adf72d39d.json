{"sha": "ee08dd86582a15cf2755951f40c9e50adf72d39d", "node_id": "C_kwDOAAsO6NoAKGVlMDhkZDg2NTgyYTE1Y2YyNzU1OTUxZjQwYzllNTBhZGY3MmQzOWQ", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-05-23T17:53:41Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-05-23T17:53:41Z"}, "message": "Rollup merge of #111722 - mrcnski:stack-protector-doc, r=rcvalle\n\nDocument stack-protector option\n\nOnly updated `exploit-mitigations.md` to reflect that the option exists. Removed the alternatives mentioned as they are not actually implemented yet.\n\nAs this is an unstable feature, should it be added to `unstable-book` also? [Example](https://doc.rust-lang.org/beta/unstable-book/compiler-flags/sanitizer.html). I didn't do that because I couldn't find the tracking issue for stack-protector. (There should be one to track stabilization of the feature, I think?)\n\ncc `@rcvalle`", "tree": {"sha": "4cfe9f8aa37f8d84e0e55e0ffcfde8c87e56f793", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4cfe9f8aa37f8d84e0e55e0ffcfde8c87e56f793"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee08dd86582a15cf2755951f40c9e50adf72d39d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkbP2lCRBK7hj4Ov3rIwAAvZ8IAE16KB95D2o6DLRq9uIymtFV\nsY3zlSXrekLPmPJCZRAxvnY+jbYP/WPAyic/yeFVR2HHPyE/cGm49LoJN6cSzN/K\n9AIWMDWA8EOYMG4fatcWYxPPez3jUgZ0Z6j1LCO7phGEFJwYWhRNiBXEush1V/8P\nwP/3wNjrEQHbd28rUHWqLMNflrCI33hpDz6X8h9ybesOqaOehsNm/p0NHsru3Wxa\nnbxMXERm453xXuDZfxpa7NJystgrcxu6DPgfxHL91Pry//5BngrpxgJuOEtSSH9X\nOEwUNcz0pFKbdSyrkziXbFhfdwPQjzUD5MUiuEoQTvRtdS+3sqyO4GEpGQRZpUI=\n=h4MM\n-----END PGP SIGNATURE-----\n", "payload": "tree 4cfe9f8aa37f8d84e0e55e0ffcfde8c87e56f793\nparent 221039b416080319cd805ede73fc7968d33a5cbd\nparent a4d6d9a24fddd74d8be54e454e17ed53a5d82514\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1684864421 +0200\ncommitter GitHub <noreply@github.com> 1684864421 +0200\n\nRollup merge of #111722 - mrcnski:stack-protector-doc, r=rcvalle\n\nDocument stack-protector option\n\nOnly updated `exploit-mitigations.md` to reflect that the option exists. Removed the alternatives mentioned as they are not actually implemented yet.\n\nAs this is an unstable feature, should it be added to `unstable-book` also? [Example](https://doc.rust-lang.org/beta/unstable-book/compiler-flags/sanitizer.html). I didn't do that because I couldn't find the tracking issue for stack-protector. (There should be one to track stabilization of the feature, I think?)\n\ncc `@rcvalle`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee08dd86582a15cf2755951f40c9e50adf72d39d", "html_url": "https://github.com/rust-lang/rust/commit/ee08dd86582a15cf2755951f40c9e50adf72d39d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee08dd86582a15cf2755951f40c9e50adf72d39d/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "221039b416080319cd805ede73fc7968d33a5cbd", "url": "https://api.github.com/repos/rust-lang/rust/commits/221039b416080319cd805ede73fc7968d33a5cbd", "html_url": "https://github.com/rust-lang/rust/commit/221039b416080319cd805ede73fc7968d33a5cbd"}, {"sha": "a4d6d9a24fddd74d8be54e454e17ed53a5d82514", "url": "https://api.github.com/repos/rust-lang/rust/commits/a4d6d9a24fddd74d8be54e454e17ed53a5d82514", "html_url": "https://github.com/rust-lang/rust/commit/a4d6d9a24fddd74d8be54e454e17ed53a5d82514"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "a82a53248d485d0cfd597f208dba51761c0893d6", "filename": "src/doc/rustc/src/exploit-mitigations.md", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/ee08dd86582a15cf2755951f40c9e50adf72d39d/src%2Fdoc%2Frustc%2Fsrc%2Fexploit-mitigations.md", "raw_url": "https://github.com/rust-lang/rust/raw/ee08dd86582a15cf2755951f40c9e50adf72d39d/src%2Fdoc%2Frustc%2Fsrc%2Fexploit-mitigations.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fexploit-mitigations.md?ref=ee08dd86582a15cf2755951f40c9e50adf72d39d", "patch": "@@ -115,9 +115,9 @@ equivalent.\n   <tr>\n    <td>Stack smashing protection\n    </td>\n-   <td>No\n+   <td>Yes\n    </td>\n-   <td>\n+   <td>Nightly\n    </td>\n   </tr>\n   <tr>\n@@ -432,18 +432,16 @@ saved return instruction pointer, and checking if this value has changed\n when returning from a function. This is also known as \u201cStack Protector\u201d or\n \u201cStack Smashing Protector (SSP)\u201d.\n \n-The Rust compiler does not support stack smashing protection. However, more\n-comprehensive alternatives to stack smashing protection exist, such as\n-shadow and safe stack (see backward-edge control flow protection).\n+The Rust compiler supports stack smashing protection on nightly builds[42].\n \n ![Screenshot of IDA Pro listing cross references to __stack_chk_fail in hello-rust.](images/image3.png \"Cross references to __stack_chk_fail in hello-rust.\")\n Fig. 14. IDA Pro listing cross references to `__stack_chk_fail` in\n hello-rust.\n \n To check if stack smashing protection is enabled for a given binary, search\n-for cross references to `__stack_chk_fail`. The only cross references to\n-`__stack_chk_fail` in hello-rust are from the statically-linked libbacktrace\n-library (see Fig. 14).\n+for cross references to `__stack_chk_fail`. The presence of these\n+cross-references in Rust-compiled code (e.g., `hello_rust::main`) indicates\n+that the stack smashing protection is enabled (see Fig. 14).\n \n \n ### Forward-edge control flow protection\n@@ -697,3 +695,6 @@ defaults (unrelated to `READ_IMPLIES_EXEC`).\n \n 41. \u201cControlFlowIntegrity.\u201d The Rust Unstable Book.\n     [https://doc.rust-lang.org/unstable-book/compiler-flags/sanitizer.html#controlflowintegrity](../unstable-book/compiler-flags/sanitizer.html#controlflowintegrity).\n+\n+42. bbjornse. \u201cadd codegen option for using LLVM stack smash protection #84197.\u201d\n+    GitHub. <https://github.com/rust-lang/rust/pull/84197>"}, {"sha": "ef02c605ead8a217a6991f4e7c137ee73ac6c520", "filename": "src/doc/rustc/src/images/image3.png", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/ee08dd86582a15cf2755951f40c9e50adf72d39d/src%2Fdoc%2Frustc%2Fsrc%2Fimages%2Fimage3.png", "raw_url": "https://github.com/rust-lang/rust/raw/ee08dd86582a15cf2755951f40c9e50adf72d39d/src%2Fdoc%2Frustc%2Fsrc%2Fimages%2Fimage3.png", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fimages%2Fimage3.png?ref=ee08dd86582a15cf2755951f40c9e50adf72d39d"}]}