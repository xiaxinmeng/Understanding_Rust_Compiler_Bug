{"sha": "76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc2ZjdiMDQzYmM3YzUwODRhNmI0YjNjOTAwZDUxZTJlNjYyMDJjOTM=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-10-12T19:16:35Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-10-12T19:16:35Z"}, "message": "Changes to make rustboot compile on OCaml 3.12", "tree": {"sha": "44760e8faad2cf69931b21d2b7d40e181bc18503", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/44760e8faad2cf69931b21d2b7d40e181bc18503"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "html_url": "https://github.com/rust-lang/rust/commit/76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0415841504d691b6fa911d6b57a493db3601ffec", "url": "https://api.github.com/repos/rust-lang/rust/commits/0415841504d691b6fa911d6b57a493db3601ffec", "html_url": "https://github.com/rust-lang/rust/commit/0415841504d691b6fa911d6b57a493db3601ffec"}], "stats": {"total": 92, "additions": 46, "deletions": 46}, "files": [{"sha": "3b3e8b92913bbe3a67476cfd01a348e98c6aefe8", "filename": "src/boot/be/ra.ml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fbe%2Fra.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fbe%2Fra.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fbe%2Fra.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -132,7 +132,7 @@ let kill_redundant_moves (cx:ctxt) : unit =\n \n let quad_jump_target_labels (q:quad) : Il.label list =\n   match q.Il.quad_body with\n-      Il.Jmp { Il.jmp_targ = Il.CodeLabel lab } -> [ lab ]\n+      Il.Jmp { Il.jmp_targ = Il.CodeLabel lab; _ } -> [ lab ]\n     | _ -> []\n ;;\n \n@@ -172,7 +172,7 @@ let quad_defined_vregs (q:quad) : Il.vreg list =\n \n let quad_is_unconditional_jump (q:quad) : bool =\n   match q.Il.quad_body with\n-      Il.Jmp { jmp_op = Il.JMP } -> true\n+      Il.Jmp { jmp_op = Il.JMP; _ } -> true\n     | Il.Ret -> true\n     | _ -> false\n ;;"}, {"sha": "983e8bc3c8b85da7f5c8bd21dd76a5e0e7b9fdbc", "filename": "src/boot/llvm/lltrans.ml", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fllvm%2Flltrans.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fllvm%2Flltrans.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fllvm%2Flltrans.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -110,7 +110,7 @@ let trans_crate\n       : Llvm.llvalue option =\n     match Session.get_span sess id with\n         None -> None\n-      | Some {lo=(_, line, col)} ->\n+      | Some {lo=(_, line, col); _} ->\n           Some (di_location line col scope)\n   in\n \n@@ -368,9 +368,9 @@ let trans_crate\n     in\n     let base_llty = trans_ty ty in\n       match slot.Ast.slot_mode with\n-        | Ast.MODE_alias _ ->\n+        | Ast.MODE_alias  ->\n             Llvm.pointer_type base_llty\n-        | Ast.MODE_local _ -> base_llty\n+        | Ast.MODE_local  -> base_llty\n   in\n \n   let get_element_ptr\n@@ -585,7 +585,7 @@ let trans_crate\n       (name:Ast.ident)\n       mod_item\n       : unit =\n-    let { node = { Ast.decl_item = (item:Ast.mod_item') }; id = id } =\n+    let { node = { Ast.decl_item = (item:Ast.mod_item'); _ }; id = id } =\n       mod_item in\n     let full_name = Semant.item_str sem_cx id in\n     let (filename, line_num) =\n@@ -621,7 +621,7 @@ let trans_crate\n   let trans_fn\n       ({\n         Ast.fn_input_slots = (header_slots:Ast.header_slots);\n-        Ast.fn_body = (body:Ast.block)\n+        Ast.fn_body = (body:Ast.block); _\n       }:Ast.fn)\n       (fn_id:node_id)\n       : unit =\n@@ -654,7 +654,7 @@ let trans_crate\n     let build_arg idx llargval =\n       if idx >= n_implicit_args\n       then\n-        let ({ id = id }, ident) = header_slots.(idx - 2) in\n+        let ({ id = id; _ }, ident) = header_slots.(idx - 2) in\n         Llvm.set_value_name ident llargval;\n         let llarg =\n           let llty = Llvm.type_of llargval in\n@@ -754,7 +754,7 @@ let trans_crate\n       let rec trans_lval (lval:Ast.lval) : (Llvm.llvalue * Ast.ty) =\n         iflog (fun _ -> log sem_cx \"trans_lval: %a\" Ast.sprintf_lval lval);\n         match lval with\n-            Ast.LVAL_base { id = base_id } ->\n+            Ast.LVAL_base { id = base_id; _ } ->\n               set_debug_loc base_id;\n               let defn_id = lval_base_defn_id sem_cx lval in\n               begin\n@@ -813,7 +813,7 @@ let trans_crate\n       let trans_atom (atom:Ast.atom) : Llvm.llvalue =\n         iflog (fun _ -> log sem_cx \"trans_atom: %a\" Ast.sprintf_atom atom);\n         match atom with\n-            Ast.ATOM_literal { node = lit } -> trans_literal lit\n+            Ast.ATOM_literal { node = lit; _ } -> trans_literal lit\n           | Ast.ATOM_lval lval ->\n               Llvm.build_load (fst (trans_lval lval)) (anon_llid \"tmp\")\n                 llbuilder\n@@ -1081,7 +1081,7 @@ let trans_crate\n       (name:Ast.ident)\n       mod_item\n       : unit =\n-    let { node = { Ast.decl_item = (item:Ast.mod_item') }; id = id } =\n+    let { node = { Ast.decl_item = (item:Ast.mod_item'); _ }; id = id } =\n       mod_item in\n     match item with\n         Ast.MOD_ITEM_type _ ->"}, {"sha": "dbd510bb433fa3ae49ed62680b41f9292cf66ddb", "filename": "src/boot/me/dead.ml", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fdead.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fdead.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Fdead.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -44,14 +44,14 @@ let dead_code_visitor\n             if Hashtbl.mem must_exit block.id then\n               Hashtbl.add must_exit s.id ()\n \n-        | Ast.STMT_while { Ast.while_body = body }\n-        | Ast.STMT_do_while { Ast.while_body = body }\n-        | Ast.STMT_for_each { Ast.for_each_body = body }\n-        | Ast.STMT_for { Ast.for_body = body } ->\n+        | Ast.STMT_while { Ast.while_body = body; _ }\n+        | Ast.STMT_do_while { Ast.while_body = body; _ }\n+        | Ast.STMT_for_each { Ast.for_each_body = body; _ }\n+        | Ast.STMT_for { Ast.for_body = body; _ } ->\n             if (Hashtbl.mem must_exit body.id) then\n               Hashtbl.add must_exit s.id ()\n \n-        | Ast.STMT_if { Ast.if_then = b1; Ast.if_else = Some b2 } ->\n+        | Ast.STMT_if { Ast.if_then = b1; Ast.if_else = Some b2; _ } ->\n             if (Hashtbl.mem must_exit b1.id) && (Hashtbl.mem must_exit b2.id)\n             then Hashtbl.add must_exit s.id ()\n \n@@ -61,16 +61,16 @@ let dead_code_visitor\n         | Ast.STMT_be _ ->\n             Hashtbl.add must_exit s.id ()\n \n-        | Ast.STMT_alt_tag { Ast.alt_tag_arms = arms } ->\n+        | Ast.STMT_alt_tag { Ast.alt_tag_arms = arms; _ } ->\n             let arm_ids =\n-              Array.map (fun { node = (_, block) } -> block.id) arms\n+              Array.map (fun { node = (_, block); _ } -> block.id) arms\n             in\n               if all_must_exit arm_ids\n               then Hashtbl.add must_exit s.id ()\n \n         | Ast.STMT_alt_type { Ast.alt_type_arms = arms;\n-                              Ast.alt_type_else = alt_type_else } ->\n-            let arm_ids = Array.map (fun { node = ((_, _), block) } -> \n+                              Ast.alt_type_else = alt_type_else; _ } ->\n+            let arm_ids = Array.map (fun { node = ((_, _), block); _ } -> \n                                        block.id) arms in\n             let else_ids =\n               begin"}, {"sha": "879601fbf8f853dc0179521b182c422168e8b7c1", "filename": "src/boot/me/resolve.ml", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fresolve.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fresolve.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Fresolve.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -113,10 +113,10 @@ let stmt_collecting_visitor\n             visit_for_block f.Ast.for_slot f.Ast.for_body.id\n         | Ast.STMT_for_each f ->\n             visit_for_block f.Ast.for_each_slot f.Ast.for_each_head.id\n-        | Ast.STMT_alt_tag { Ast.alt_tag_arms = arms } ->\n+        | Ast.STMT_alt_tag { Ast.alt_tag_arms = arms; _ } ->\n             let rec resolve_pat block pat =\n               match pat with\n-                  Ast.PAT_slot ({ id = slot_id }, ident) ->\n+                  Ast.PAT_slot ({ id = slot_id; _ }, ident) ->\n                     let slots = Hashtbl.find cx.ctxt_block_slots block.id in\n                     let key = Ast.KEY_ident ident in\n                     htab_put slots key slot_id;\n@@ -125,7 +125,7 @@ let stmt_collecting_visitor\n                 | Ast.PAT_lit _\n                 | Ast.PAT_wild -> ()\n             in\n-              Array.iter (fun { node = (p, b) } -> resolve_pat b p) arms\n+              Array.iter (fun { node = (p, b); _ } -> resolve_pat b p) arms\n         | _ -> ()\n     end;\n     inner.Walk.visit_stmt_pre stmt\n@@ -236,8 +236,8 @@ let lookup_type_node_by_name\n       None -> err None \"unknown name: %a\" Ast.sprintf_name name\n     | Some (_, id) ->\n         match htab_search cx.ctxt_all_defns id with\n-            Some (DEFN_item { Ast.decl_item = Ast.MOD_ITEM_type _ })\n-          | Some (DEFN_item { Ast.decl_item = Ast.MOD_ITEM_obj _ })\n+            Some (DEFN_item { Ast.decl_item = Ast.MOD_ITEM_type _; _ })\n+          | Some (DEFN_item { Ast.decl_item = Ast.MOD_ITEM_obj _; _ })\n           | Some (DEFN_ty_param _) -> id\n           | _ ->\n               err None \"Found non-type binding for %a\"\n@@ -645,8 +645,8 @@ let lval_base_resolving_visitor\n     let reference_any_name lv =\n       let rec lval_is_name lv =\n         match lv with\n-            Ast.LVAL_base {node = Ast.BASE_ident _}\n-          | Ast.LVAL_base {node = Ast.BASE_app _} -> true\n+            Ast.LVAL_base {node = Ast.BASE_ident _; _}\n+          | Ast.LVAL_base {node = Ast.BASE_app _; _} -> true\n           | Ast.LVAL_ext (lv', Ast.COMP_named (Ast.COMP_ident _))\n           | Ast.LVAL_ext (lv', Ast.COMP_named (Ast.COMP_app _))\n             -> lval_is_name lv'\n@@ -749,7 +749,7 @@ let pattern_resolving_visitor\n       end\n   in\n \n-  let resolve_arm { node = arm } =\n+  let resolve_arm { node = arm; _ } =\n     match fst arm with\n         Ast.PAT_tag (lval, pats) ->\n           let lval_nm = lval_to_name lval in"}, {"sha": "a4bad711e45383b1bd312d1d7f394e9b3a153bab", "filename": "src/boot/me/semant.ml", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fsemant.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fsemant.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Fsemant.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -546,7 +546,7 @@ let slot_ty (s:Ast.slot) : Ast.ty =\n \n let fn_output_ty (fn_ty:Ast.ty) : Ast.ty =\n   match fn_ty with\n-      Ast.TY_fn ({ Ast.sig_output_slot = slot }, _) ->\n+      Ast.TY_fn ({ Ast.sig_output_slot = slot; _ }, _) ->\n         begin\n           match slot.Ast.slot_ty with\n               Some ty -> ty\n@@ -579,8 +579,8 @@ let defn_is_static (d:defn) : bool =\n \n let defn_is_callable (d:defn) : bool =\n   match d with\n-      DEFN_slot { Ast.slot_ty = Some Ast.TY_fn _ }\n-    | DEFN_item { Ast.decl_item = (Ast.MOD_ITEM_fn _ ) } -> true\n+      DEFN_slot { Ast.slot_ty = Some Ast.TY_fn _; _ }\n+    | DEFN_item { Ast.decl_item = (Ast.MOD_ITEM_fn _ ); _ } -> true\n     | _ -> false\n ;;\n \n@@ -637,7 +637,7 @@ let atoms_to_names (atoms:Ast.atom array)\n \n let rec lval_to_name (lv:Ast.lval) : Ast.name =\n   match lv with\n-      Ast.LVAL_base { node = nb } ->\n+      Ast.LVAL_base { node = nb; _ } ->\n         Ast.NAME_base nb\n     | Ast.LVAL_ext (lv, lv_comp) ->\n         let comp =\n@@ -655,7 +655,7 @@ let rec plval_to_name (pl:Ast.plval) : Ast.name =\n   match pl with\n       Ast.PLVAL_base nb ->\n         Ast.NAME_base nb\n-    | Ast.PLVAL_ext_name ({node = Ast.PEXP_lval pl}, nc) ->\n+    | Ast.PLVAL_ext_name ({node = Ast.PEXP_lval pl; _}, nc) ->\n         Ast.NAME_ext (plval_to_name pl, nc)\n     | _ -> bug () \"plval_to_name with plval that contains non-name components\"\n ;;\n@@ -1878,7 +1878,7 @@ let get_mod_item\n     (node:node_id)\n     : (Ast.mod_view * Ast.mod_items) =\n   match get_item cx node with\n-      { Ast.decl_item = Ast.MOD_ITEM_mod md } -> md\n+      { Ast.decl_item = Ast.MOD_ITEM_mod md; _ } -> md\n     | _ -> bugi cx node \"defn is not a mod\"\n ;;\n "}, {"sha": "2697c8b5e6f7eb27360312f8671c7ec2592c9118", "filename": "src/boot/me/trans.ml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Ftrans.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Ftrans.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Ftrans.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -1368,7 +1368,7 @@ let trans_visitor\n   and get_obj_vtbl (id:node_id) : Il.operand =\n     let obj =\n       match Hashtbl.find cx.ctxt_all_defns id with\n-          DEFN_item { Ast.decl_item=Ast.MOD_ITEM_obj obj} -> obj\n+          DEFN_item { Ast.decl_item=Ast.MOD_ITEM_obj obj; _} -> obj\n         | _ -> bug () \"Trans.get_obj_vtbl on non-obj referent\"\n     in\n       trans_crate_rel_data_operand (DATA_obj_vtbl id)\n@@ -4755,8 +4755,8 @@ let trans_visitor\n                 match lval with\n                     Ast.LVAL_ext (_, (Ast.COMP_named (Ast.COMP_ident id)))\n                   | Ast.LVAL_ext (_, (Ast.COMP_named (Ast.COMP_app (id, _))))\n-                  | Ast.LVAL_base { node = Ast.BASE_ident id }\n-                  | Ast.LVAL_base { node = Ast.BASE_app (id, _) } -> id\n+                  | Ast.LVAL_base { node = Ast.BASE_ident id; _ }\n+                  | Ast.LVAL_base { node = Ast.BASE_app (id, _); _ } -> id\n                   | _ -> bug cx \"expected lval ending in ident\"\n               in\n               let ttag ="}, {"sha": "4b3295024986c49555768d54ba0784b92b4570f2", "filename": "src/boot/me/type.ml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Ftype.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Ftype.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Ftype.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -1261,11 +1261,11 @@ let process_crate (cx:Semant.ctxt) (crate:Ast.crate) : unit =\n     if cx.Semant.ctxt_main_name = Some path_name then\n       try\n         match Hashtbl.find cx.Semant.ctxt_all_item_types item_id with\n-            Ast.TY_fn ({ Ast.sig_input_slots = [| |] }, _)\n+            Ast.TY_fn ({ Ast.sig_input_slots = [| |]; _ }, _)\n           | Ast.TY_fn ({ Ast.sig_input_slots = [| {\n                 Ast.slot_mode = Ast.MODE_local;\n                 Ast.slot_ty = Some (Ast.TY_vec Ast.TY_str)\n-              } |] }, _) ->\n+              } |]; _}, _) ->\n             ()\n           | _ -> Common.err (Some item_id) \"main fn has bad type signature\"\n       with Not_found ->\n@@ -1327,7 +1327,7 @@ let process_crate (cx:Semant.ctxt) (crate:Ast.crate) : unit =\n       let obj_ty = Hashtbl.find cx.Semant.ctxt_all_item_types obj.Common.id in\n       match obj_ty with\n           Ast.TY_fn ({ Ast.sig_output_slot =\n-              { Ast.slot_ty = Some (Ast.TY_obj (_, methods)) } }, _) ->\n+              { Ast.slot_ty = Some (Ast.TY_obj (_, methods)); _ }; _ }, _) ->\n             push_fn_ctx_of_ty_fn (Hashtbl.find methods ident)\n         | _ ->\n             Common.bug ()"}, {"sha": "95aa1107d666d69a0f74d3f9fff3308b7c33f2e6", "filename": "src/boot/me/typestate.ml", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Ftypestate.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Ftypestate.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Ftypestate.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -714,7 +714,7 @@ let condition_assigning_visitor\n \n         | Ast.STMT_alt_tag at ->\n             let precond = slot_inits (lval_slots cx at.Ast.alt_tag_lval) in\n-            let visit_arm { node = (pat, block) } =\n+            let visit_arm { node = (pat, block); _ } =\n               (* FIXME (issue #34): propagate tag-carried constrs here. *)\n               let rec get_slots pat =\n                 match pat with\n@@ -1048,7 +1048,7 @@ let graph_special_block_structure_building_visitor\n             let graph = ts.ts_graph in\n             let dsts = Hashtbl.find graph s.id in\n             let arm_blocks =\n-              let arm_block_id { node = (_, block) } = block.id in\n+              let arm_block_id { node = (_, block); _ } = block.id in\n               Array.to_list (Array.map arm_block_id at.Ast.alt_tag_arms)\n             in\n             let succ_stmts =\n@@ -1470,7 +1470,7 @@ let lifecycle_visitor\n               iflog cx (fun _ -> log cx \"entering a loop\");\n               Stack.push (Some (Stack.create ()))  loop_blocks;\n \n-          | Ast.STMT_alt_tag { Ast.alt_tag_arms = arms } ->\n+          | Ast.STMT_alt_tag { Ast.alt_tag_arms = arms; _ } ->\n               let note_slot block slot_id =\n                 log cx\n                   \"noting implicit init for slot %d in pattern-alt block %d\"\n@@ -1479,7 +1479,7 @@ let lifecycle_visitor\n               in\n               let rec all_pat_slot_ids block pat =\n                 match pat with\n-                    Ast.PAT_slot ({ id = slot_id }, _) ->\n+                    Ast.PAT_slot ({ id = slot_id; _ }, _) ->\n                       [ slot_id ]\n                   | Ast.PAT_tag (_, pats) ->\n                       List.concat\n@@ -1490,7 +1490,7 @@ let lifecycle_visitor\n               in\n                 Array.iter\n                   begin\n-                    fun { node = (pat, block) } ->\n+                    fun { node = (pat, block); _ } ->\n                       let slot_ids = all_pat_slot_ids block pat in\n                         List.iter (note_slot block) slot_ids;\n                         htab_put implicit_init_block_slots"}, {"sha": "03577c80327220b2459deea2bf59238a4d75b8b9", "filename": "src/boot/me/walk.ml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fwalk.ml", "raw_url": "https://github.com/rust-lang/rust/raw/76f7b043bc7c5084a6b4b3c900d51e2e66202c93/src%2Fboot%2Fme%2Fwalk.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Fwalk.ml?ref=76f7b043bc7c5084a6b4b3c900d51e2e66202c93", "patch": "@@ -517,7 +517,7 @@ and walk_stmt\n       | Ast.STMT_alt_tag\n           { Ast.alt_tag_lval = lval; Ast.alt_tag_arms = arms } ->\n           walk_lval v lval;\n-            let walk_arm { node = (pat, block) } =\n+            let walk_arm { node = (pat, block); _ } =\n               walk_pat v pat;\n               walk_block v block\n             in"}]}