{"sha": "f3a4cf13a7161843ddf2136169e02d1351449d7f", "node_id": "C_kwDOAAsO6NoAKGYzYTRjZjEzYTcxNjE4NDNkZGYyMTM2MTY5ZTAyZDEzNTE0NDlkN2Y", "commit": {"author": {"name": "Jakub Ber\u00e1nek", "email": "berykubik@gmail.com", "date": "2023-06-15T06:49:51Z"}, "committer": {"name": "Jakub Ber\u00e1nek", "email": "berykubik@gmail.com", "date": "2023-06-18T12:40:52Z"}, "message": "Merge `mingw-1/2` CI jobs", "tree": {"sha": "3d89ce33695575f7eca9fe87505b499c2cfd2a6f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3d89ce33695575f7eca9fe87505b499c2cfd2a6f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f3a4cf13a7161843ddf2136169e02d1351449d7f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEEzFQynJm4WzBnfhz8kJzQ0mSDUWsFAmSO+1QACgkQkJzQ0mSD\nUWupfQv+POAMFu3uF/6LkhX1GrtcIofTJp83hAH4oUgcj/w/f0hgPz4w1QeXZxD1\nC2GRi+NAvGNH5EyUit/b3TS+hCXgJ5GxhZWnHFULbMfUF6vE36AxA0lku/pXry7A\nd9ANi/76U9zyNLTmaHWcDEAJWOHcQhPBeqr/NWC2rHYHgGcim4Ujs1/zphx3KTkc\nDrP1Q/DXYpKtACBlsf2moJa/BOBHChgO5MuxxtDk2TOaGBfSyVaIXsVVjgs2+8Fy\ngBLXUzkwtvDQIk5KMY9y9o/SaE/cVTjoUIj806SJox/gkoobAGCTN8aDETlh0y6b\nCyW/LTnMUglsJ8KsTJ512wFN7ANVZKFXz3X3II/sBUTyaKnbaWqMIf1c7Zn69Mrg\nOE28wPJG49fcr5JTaLxfesqoCpbCeSIBL1Jp8734C360rAx+Z8o+Z2ECR54Ni0gs\nkN9Q+mBado3oBQJpQNGitlSA954hYygwrIkhHqVojEDiRMWab6EAT+aO8EkgTIX5\nn9HKInKC\n=WjR8\n-----END PGP SIGNATURE-----", "payload": "tree 3d89ce33695575f7eca9fe87505b499c2cfd2a6f\nparent 0b475c705f36fb3b0a63994b92f2bbd2f5865b07\nauthor Jakub Ber\u00e1nek <berykubik@gmail.com> 1686811791 +0200\ncommitter Jakub Ber\u00e1nek <berykubik@gmail.com> 1687092052 +0200\n\nMerge `mingw-1/2` CI jobs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f3a4cf13a7161843ddf2136169e02d1351449d7f", "html_url": "https://github.com/rust-lang/rust/commit/f3a4cf13a7161843ddf2136169e02d1351449d7f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f3a4cf13a7161843ddf2136169e02d1351449d7f/comments", "author": {"login": "Kobzol", "id": 4539057, "node_id": "MDQ6VXNlcjQ1MzkwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4539057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kobzol", "html_url": "https://github.com/Kobzol", "followers_url": "https://api.github.com/users/Kobzol/followers", "following_url": "https://api.github.com/users/Kobzol/following{/other_user}", "gists_url": "https://api.github.com/users/Kobzol/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kobzol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kobzol/subscriptions", "organizations_url": "https://api.github.com/users/Kobzol/orgs", "repos_url": "https://api.github.com/users/Kobzol/repos", "events_url": "https://api.github.com/users/Kobzol/events{/privacy}", "received_events_url": "https://api.github.com/users/Kobzol/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Kobzol", "id": 4539057, "node_id": "MDQ6VXNlcjQ1MzkwNTc=", "avatar_url": "https://avatars.githubusercontent.com/u/4539057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kobzol", "html_url": "https://github.com/Kobzol", "followers_url": "https://api.github.com/users/Kobzol/followers", "following_url": "https://api.github.com/users/Kobzol/following{/other_user}", "gists_url": "https://api.github.com/users/Kobzol/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kobzol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kobzol/subscriptions", "organizations_url": "https://api.github.com/users/Kobzol/orgs", "repos_url": "https://api.github.com/users/Kobzol/repos", "events_url": "https://api.github.com/users/Kobzol/events{/privacy}", "received_events_url": "https://api.github.com/users/Kobzol/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b475c705f36fb3b0a63994b92f2bbd2f5865b07", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b475c705f36fb3b0a63994b92f2bbd2f5865b07", "html_url": "https://github.com/rust-lang/rust/commit/0b475c705f36fb3b0a63994b92f2bbd2f5865b07"}], "stats": {"total": 66, "additions": 14, "deletions": 52}, "files": [{"sha": "34d65144d3c8f6fd9058006a4846b7a5fc3d30aa", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 4, "deletions": 18, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/f3a4cf13a7161843ddf2136169e02d1351449d7f/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/f3a4cf13a7161843ddf2136169e02d1351449d7f/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=f3a4cf13a7161843ddf2136169e02d1351449d7f", "patch": "@@ -414,30 +414,16 @@ jobs:\n               RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-msvc --save-toolstates=/tmp/toolstate/toolstates.json\"\n               DEPLOY_TOOLSTATES_JSON: toolstates-windows.json\n             os: windows-2019-8core-32gb\n-          - name: i686-mingw-1\n+          - name: i686-mingw\n             env:\n               RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu\"\n-              SCRIPT: make ci-mingw-subset-1\n+              SCRIPT: make ci-mingw\n               NO_DOWNLOAD_CI_LLVM: 1\n               CUSTOM_MINGW: 1\n             os: windows-2019-8core-32gb\n-          - name: i686-mingw-2\n+          - name: x86_64-mingw\n             env:\n-              RUST_CONFIGURE_ARGS: \"--build=i686-pc-windows-gnu\"\n-              SCRIPT: make ci-mingw-subset-2\n-              NO_DOWNLOAD_CI_LLVM: 1\n-              CUSTOM_MINGW: 1\n-            os: windows-2019-8core-32gb\n-          - name: x86_64-mingw-1\n-            env:\n-              SCRIPT: make ci-mingw-subset-1\n-              RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-profiler\"\n-              NO_DOWNLOAD_CI_LLVM: 1\n-              CUSTOM_MINGW: 1\n-            os: windows-2019-8core-32gb\n-          - name: x86_64-mingw-2\n-            env:\n-              SCRIPT: make ci-mingw-subset-2\n+              SCRIPT: make ci-mingw\n               RUST_CONFIGURE_ARGS: \"--build=x86_64-pc-windows-gnu --enable-profiler\"\n               NO_DOWNLOAD_CI_LLVM: 1\n               CUSTOM_MINGW: 1"}, {"sha": "81c4e1200c7885ec89c777d51c287e48b037ebd9", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/f3a4cf13a7161843ddf2136169e02d1351449d7f/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/f3a4cf13a7161843ddf2136169e02d1351449d7f/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=f3a4cf13a7161843ddf2136169e02d1351449d7f", "patch": "@@ -71,13 +71,11 @@ ci-subset-2:\n \n ## MingW native builders\n \n-TESTS_IN_MINGW_2 := \\\n-\ttests/ui\n-\n-ci-mingw-subset-1:\n-\t$(Q)$(CFG_SRC_DIR)/x test --stage 2 $(TESTS_IN_MINGW_2:%=--exclude %)\n-ci-mingw-subset-2:\n-\t$(Q)$(BOOTSTRAP) test --stage 2 $(TESTS_IN_MINGW_2)\n-\n+# test both x and bootstrap entrypoints\n+ci-mingw-x:\n+\t$(Q)$(CFG_SRC_DIR)/x test --stage 2 tidy\n+ci-mingw-bootstrap:\n+\t$(Q)$(BOOTSTRAP) test --stage 2 --exclude tidy\n+ci-mingw: ci-mingw-x ci-mingw-bootstrap\n \n .PHONY: dist"}, {"sha": "1b3e2d0dbe14067612617b9753ead83f4c854748", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 4, "deletions": 26, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/f3a4cf13a7161843ddf2136169e02d1351449d7f/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/f3a4cf13a7161843ddf2136169e02d1351449d7f/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=f3a4cf13a7161843ddf2136169e02d1351449d7f", "patch": "@@ -635,41 +635,19 @@ jobs:\n           # came from the mingw-w64 SourceForge download site. Unfortunately\n           # SourceForge is notoriously flaky, so we mirror it on our own infrastructure.\n \n-          - name: i686-mingw-1\n+          - name: i686-mingw\n             env:\n               RUST_CONFIGURE_ARGS: --build=i686-pc-windows-gnu\n-              SCRIPT: make ci-mingw-subset-1\n+              SCRIPT: make ci-mingw\n               # We are intentionally allowing an old toolchain on this builder (and that's\n               # incompatible with LLVM downloads today).\n               NO_DOWNLOAD_CI_LLVM: 1\n               CUSTOM_MINGW: 1\n             <<: *job-windows-8c\n \n-          - name: i686-mingw-2\n+          - name: x86_64-mingw\n             env:\n-              RUST_CONFIGURE_ARGS: --build=i686-pc-windows-gnu\n-              SCRIPT: make ci-mingw-subset-2\n-              # We are intentionally allowing an old toolchain on this builder (and that's\n-              # incompatible with LLVM downloads today).\n-              NO_DOWNLOAD_CI_LLVM: 1\n-              CUSTOM_MINGW: 1\n-            <<: *job-windows-8c\n-\n-          - name: x86_64-mingw-1\n-            env:\n-              SCRIPT: make ci-mingw-subset-1\n-              RUST_CONFIGURE_ARGS: >-\n-                --build=x86_64-pc-windows-gnu\n-                --enable-profiler\n-              # We are intentionally allowing an old toolchain on this builder (and that's\n-              # incompatible with LLVM downloads today).\n-              NO_DOWNLOAD_CI_LLVM: 1\n-              CUSTOM_MINGW: 1\n-            <<: *job-windows-8c\n-\n-          - name: x86_64-mingw-2\n-            env:\n-              SCRIPT: make ci-mingw-subset-2\n+              SCRIPT: make ci-mingw\n               RUST_CONFIGURE_ARGS: >-\n                 --build=x86_64-pc-windows-gnu\n                 --enable-profiler"}]}