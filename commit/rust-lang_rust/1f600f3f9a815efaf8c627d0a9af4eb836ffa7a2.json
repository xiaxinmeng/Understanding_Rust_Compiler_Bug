{"sha": "1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmNjAwZjNmOWE4MTVlZmFmOGM2MjdkMGE5YWY0ZWI4MzZmZmE3YTI=", "commit": {"author": {"name": "Ludwig Stecher", "email": "ludwig.stecher@gmx.de", "date": "2020-01-30T22:44:37Z"}, "committer": {"name": "Ludwig Stecher", "email": "ludwig.stecher@gmx.de", "date": "2020-01-30T22:44:37Z"}, "message": "Un-ignore most code blocks to render correctly on website, correct mistakes", "tree": {"sha": "83a4b20a25626d55d59b659ee9a5e60ee6da20fa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/83a4b20a25626d55d59b659ee9a5e60ee6da20fa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2", "html_url": "https://github.com/rust-lang/rust/commit/1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2/comments", "author": {"login": "Aloso", "id": 15658558, "node_id": "MDQ6VXNlcjE1NjU4NTU4", "avatar_url": "https://avatars.githubusercontent.com/u/15658558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aloso", "html_url": "https://github.com/Aloso", "followers_url": "https://api.github.com/users/Aloso/followers", "following_url": "https://api.github.com/users/Aloso/following{/other_user}", "gists_url": "https://api.github.com/users/Aloso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aloso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aloso/subscriptions", "organizations_url": "https://api.github.com/users/Aloso/orgs", "repos_url": "https://api.github.com/users/Aloso/repos", "events_url": "https://api.github.com/users/Aloso/events{/privacy}", "received_events_url": "https://api.github.com/users/Aloso/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aloso", "id": 15658558, "node_id": "MDQ6VXNlcjE1NjU4NTU4", "avatar_url": "https://avatars.githubusercontent.com/u/15658558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aloso", "html_url": "https://github.com/Aloso", "followers_url": "https://api.github.com/users/Aloso/followers", "following_url": "https://api.github.com/users/Aloso/following{/other_user}", "gists_url": "https://api.github.com/users/Aloso/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aloso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aloso/subscriptions", "organizations_url": "https://api.github.com/users/Aloso/orgs", "repos_url": "https://api.github.com/users/Aloso/repos", "events_url": "https://api.github.com/users/Aloso/events{/privacy}", "received_events_url": "https://api.github.com/users/Aloso/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "58da5ba6db0772f676022ce80621f4f06661a7ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/58da5ba6db0772f676022ce80621f4f06661a7ab", "html_url": "https://github.com/rust-lang/rust/commit/58da5ba6db0772f676022ce80621f4f06661a7ab"}], "stats": {"total": 68, "additions": 47, "deletions": 21}, "files": [{"sha": "f9efec87c3e7228a62b4dfb2961ff0c80e6d9345", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 47, "deletions": 21, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=1f600f3f9a815efaf8c627d0a9af4eb836ffa7a2", "patch": "@@ -117,7 +117,6 @@ declare_clippy_lint! {\n     /// ```rust,ignore\n     /// let opt = Some(1);\n     /// opt?;\n-    /// # Some::<()>(())\n     /// ```\n     pub OPTION_EXPECT_USED,\n     restriction,\n@@ -168,11 +167,12 @@ declare_clippy_lint! {\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n+    /// ```rust\n     /// struct X;\n     /// impl X {\n     ///     fn add(&self, other: &X) -> X {\n-    ///         ..\n+    ///         // ..\n+    /// # X\n     ///     }\n     /// }\n     /// ```\n@@ -200,10 +200,12 @@ declare_clippy_lint! {\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # struct X;\n     /// impl X {\n-    ///     fn as_str(self) -> &str {\n-    ///         ..\n+    ///     fn as_str(self) -> &'static str {\n+    ///         // ..\n+    /// # \"\"\n     ///     }\n     /// }\n     /// ```\n@@ -245,7 +247,8 @@ declare_clippy_lint! {\n     /// **Known problems:** The error type needs to implement `Debug`\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # let x = Ok::<_, ()>(());\n     /// x.ok().expect(\"why did I do this again?\")\n     /// ```\n     pub OK_EXPECT,\n@@ -318,8 +321,10 @@ declare_clippy_lint! {\n     /// **Known problems:** The order of the arguments is not in execution order.\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n-    /// opt.map_or(None, |a| a + 1)\n+    /// ```rust\n+    /// # let opt = Some(1);\n+    /// opt.map_or(None, |a| Some(a + 1))\n+    /// # ;\n     /// ```\n     pub OPTION_MAP_OR_NONE,\n     style,\n@@ -707,9 +712,12 @@ declare_clippy_lint! {\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # struct Foo;\n+    /// # struct NotAFoo;\n     /// impl Foo {\n-    ///     fn new(..) -> NotAFoo {\n+    ///     fn new() -> NotAFoo {\n+    /// # NotAFoo\n     ///     }\n     /// }\n     /// ```\n@@ -744,14 +752,20 @@ declare_clippy_lint! {\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # use std::ffi::CString;\n+    /// # fn call_some_ffi_func(_: *const i8) {}\n+    /// #\n     /// let c_str = CString::new(\"foo\").unwrap().as_ptr();\n     /// unsafe {\n     ///     call_some_ffi_func(c_str);\n     /// }\n     /// ```\n     /// Here `c_str` point to a freed address. The correct use would be:\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # use std::ffi::CString;\n+    /// # fn call_some_ffi_func(_: *const i8) {}\n+    /// #\n     /// let c_str = CString::new(\"foo\").unwrap();\n     /// unsafe {\n     ///     call_some_ffi_func(c_str.as_ptr());\n@@ -953,8 +967,10 @@ declare_clippy_lint! {\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # let name = \"_\";\n     /// name.chars().last() == Some('_') || name.chars().next_back() == Some('-')\n+    /// # ;\n     /// ```\n     pub CHARS_LAST_CMP,\n     style,\n@@ -1147,7 +1163,7 @@ declare_clippy_lint! {\n     /// **Known problems:** None\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n+    /// ```rust\n     /// unsafe { (&() as *const ()).offset(1) };\n     /// ```\n     pub ZST_OFFSET,\n@@ -1165,24 +1181,30 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     ///\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # || {\n     /// let metadata = std::fs::metadata(\"foo.txt\")?;\n     /// let filetype = metadata.file_type();\n     ///\n     /// if filetype.is_file() {\n     ///     // read file\n     /// }\n+    /// # Ok::<_, std::io::Error>(())\n+    /// # };\n     /// ```\n     ///\n     /// should be written as:\n     ///\n-    /// ```rust,ignore\n+    /// ```rust\n+    /// # || {\n     /// let metadata = std::fs::metadata(\"foo.txt\")?;\n     /// let filetype = metadata.file_type();\n     ///\n     /// if !filetype.is_dir() {\n     ///     // read file\n     /// }\n+    /// # Ok::<_, std::io::Error>(())\n+    /// # };\n     /// ```\n     pub FILETYPE_IS_FILE,\n     restriction,\n@@ -1198,12 +1220,16 @@ declare_clippy_lint! {\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n-    /// ```rust,ignore\n-    ///  opt.as_ref().map(String::as_str)\n+    /// ```rust\n+    /// # let opt = Some(\"\".to_string());\n+    /// opt.as_ref().map(String::as_str)\n+    /// # ;\n     /// ```\n     /// Can be written as\n-    /// ```rust,ignore\n-    ///  opt.as_deref()\n+    /// ```rust\n+    /// # let opt = Some(\"\".to_string());\n+    /// opt.as_deref()\n+    /// # ;\n     /// ```\n     pub OPTION_AS_REF_DEREF,\n     complexity,"}]}