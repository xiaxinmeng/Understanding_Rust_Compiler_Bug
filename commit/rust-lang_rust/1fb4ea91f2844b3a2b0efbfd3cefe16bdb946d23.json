{"sha": "1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmYjRlYTkxZjI4NDRiM2EyYjBlZmJmZDNjZWZlMTZiZGI5NDZkMjM=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-09-12T19:02:46Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-09-26T13:30:54Z"}, "message": "outlives/env: rustfmt", "tree": {"sha": "2bc3bea7b79c9fa9070f689af94c0cc53c46e44d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2bc3bea7b79c9fa9070f689af94c0cc53c46e44d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23", "html_url": "https://github.com/rust-lang/rust/commit/1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "80ed62eea77ecac142d241e22c4e048da78d0434", "url": "https://api.github.com/repos/rust-lang/rust/commits/80ed62eea77ecac142d241e22c4e048da78d0434", "html_url": "https://github.com/rust-lang/rust/commit/80ed62eea77ecac142d241e22c4e048da78d0434"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "568e4412fdba2a9a11900c7997df4b49650d1413", "filename": "src/librustc/infer/outlives/env.rs", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23/src%2Flibrustc%2Finfer%2Foutlives%2Fenv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23/src%2Flibrustc%2Finfer%2Foutlives%2Fenv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Foutlives%2Fenv.rs?ref=1fb4ea91f2844b3a2b0efbfd3cefe16bdb946d23", "patch": "@@ -8,8 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use infer::{GenericKind, InferCtxt};\n use infer::outlives::free_region_map::FreeRegionMap;\n+use infer::{GenericKind, InferCtxt};\n use traits::query::outlives_bounds::{self, OutlivesBound};\n use ty::{self, Ty};\n \n@@ -167,9 +167,11 @@ impl<'a, 'gcx: 'tcx, 'tcx: 'a> OutlivesEnvironment<'tcx> {\n         for outlives_bound in outlives_bounds {\n             debug!(\"add_outlives_bounds: outlives_bound={:?}\", outlives_bound);\n             match outlives_bound {\n-                OutlivesBound::RegionSubRegion(r_a @ &ty::ReEarlyBound(_), &ty::ReVar(vid_b)) |\n-                OutlivesBound::RegionSubRegion(r_a @ &ty::ReFree(_), &ty::ReVar(vid_b)) => {\n-                    infcx.expect(\"no infcx provided but region vars found\").add_given(r_a, vid_b);\n+                OutlivesBound::RegionSubRegion(r_a @ &ty::ReEarlyBound(_), &ty::ReVar(vid_b))\n+                | OutlivesBound::RegionSubRegion(r_a @ &ty::ReFree(_), &ty::ReVar(vid_b)) => {\n+                    infcx\n+                        .expect(\"no infcx provided but region vars found\")\n+                        .add_given(r_a, vid_b);\n                 }\n                 OutlivesBound::RegionSubParam(r_a, param_b) => {\n                     self.region_bound_pairs"}]}