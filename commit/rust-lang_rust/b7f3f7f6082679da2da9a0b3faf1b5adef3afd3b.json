{"sha": "b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "node_id": "C_kwDOAAsO6NoAKGI3ZjNmN2Y2MDgyNjc5ZGEyZGE5YTBiM2ZhZjFiNWFkZWYzYWZkM2I", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-10-07T09:18:25Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-10-07T09:18:25Z"}, "message": "Auto merge of #7783 - flip1995:rustup, r=flip1995\n\nRustup\n\nr? `@ghost`\n\nFinally an easy, conflict free rustup again :tada:\n\nchangelog: none", "tree": {"sha": "a7a579b3dbe20af2272994c3c6fe7b63d6c8699a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a7a579b3dbe20af2272994c3c6fe7b63d6c8699a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "html_url": "https://github.com/rust-lang/rust/commit/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "01ea06acb730fea7cea41ff3dba414f41449af2f", "url": "https://api.github.com/repos/rust-lang/rust/commits/01ea06acb730fea7cea41ff3dba414f41449af2f", "html_url": "https://github.com/rust-lang/rust/commit/01ea06acb730fea7cea41ff3dba414f41449af2f"}, {"sha": "8f9ef87f75977dd5e29c02289b9b7b09e1a28478", "url": "https://api.github.com/repos/rust-lang/rust/commits/8f9ef87f75977dd5e29c02289b9b7b09e1a28478", "html_url": "https://github.com/rust-lang/rust/commit/8f9ef87f75977dd5e29c02289b9b7b09e1a28478"}], "stats": {"total": 510, "additions": 256, "deletions": 254}, "files": [{"sha": "8282800c81904fa93f2bd49a934d6deecd866b73", "filename": "clippy_lints/src/booleans.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fbooleans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fbooleans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbooleans.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -260,8 +260,8 @@ fn simplify_not(cx: &LateContext<'_>, expr: &Expr<'_>) -> Option<String> {\n         },\n         ExprKind::MethodCall(path, _, args, _) if args.len() == 1 => {\n             let type_of_receiver = cx.typeck_results().expr_ty(&args[0]);\n-            if !is_type_diagnostic_item(cx, type_of_receiver, sym::option_type)\n-                && !is_type_diagnostic_item(cx, type_of_receiver, sym::result_type)\n+            if !is_type_diagnostic_item(cx, type_of_receiver, sym::Option)\n+                && !is_type_diagnostic_item(cx, type_of_receiver, sym::Result)\n             {\n                 return None;\n             }"}, {"sha": "ff619c59b6e2412da3d5ef45ddacb137848bebe6", "filename": "clippy_lints/src/cargo_common_metadata.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,7 +1,7 @@\n //! lint on missing cargo common metadata\n \n use clippy_utils::{diagnostics::span_lint, is_lint_allowed};\n-use rustc_hir::{hir_id::CRATE_HIR_ID, Crate};\n+use rustc_hir::hir_id::CRATE_HIR_ID;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::source_map::DUMMY_SP;\n@@ -77,7 +77,7 @@ fn is_empty_vec(value: &[String]) -> bool {\n }\n \n impl LateLintPass<'_> for CargoCommonMetadata {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         if is_lint_allowed(cx, CARGO_COMMON_METADATA, CRATE_HIR_ID) {\n             return;\n         }"}, {"sha": "c876553c165beb916409a9bb3a159a9d79974192", "filename": "clippy_lints/src/case_sensitive_file_extension_comparisons.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcase_sensitive_file_extension_comparisons.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -55,7 +55,7 @@ fn check_case_sensitive_file_extension_comparison(ctx: &LateContext<'_>, expr: &\n                     return Some(span);\n                 },\n                 ty::Adt(&ty::AdtDef { did, .. }, _) => {\n-                    if ctx.tcx.is_diagnostic_item(sym::string_type, did) {\n+                    if ctx.tcx.is_diagnostic_item(sym::String, did) {\n                         return Some(span);\n                     }\n                 },"}, {"sha": "1ccb8c5d880f441388349d77e7475006182f117a", "filename": "clippy_lints/src/cognitive_complexity.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fcognitive_complexity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fcognitive_complexity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcognitive_complexity.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -67,7 +67,7 @@ impl CognitiveComplexity {\n         helper.visit_expr(expr);\n         let CcHelper { cc, returns } = helper;\n         let ret_ty = cx.typeck_results().node_type(expr.hir_id);\n-        let ret_adjust = if is_type_diagnostic_item(cx, ret_ty, sym::result_type) {\n+        let ret_adjust = if is_type_diagnostic_item(cx, ret_ty, sym::Result) {\n             returns\n         } else {\n             #[allow(clippy::integer_division)]"}, {"sha": "22d726cdcb7b6cda63ecf67592aaec7afef19e22", "filename": "clippy_lints/src/disallowed_method.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fdisallowed_method.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fdisallowed_method.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdisallowed_method.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,7 +1,7 @@\n use clippy_utils::diagnostics::span_lint_and_then;\n use clippy_utils::fn_def_id;\n \n-use rustc_hir::{def::Res, def_id::DefIdMap, Crate, Expr};\n+use rustc_hir::{def::Res, def_id::DefIdMap, Expr};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n \n@@ -70,7 +70,7 @@ impl DisallowedMethod {\n impl_lint_pass!(DisallowedMethod => [DISALLOWED_METHOD]);\n \n impl<'tcx> LateLintPass<'tcx> for DisallowedMethod {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         for conf in &self.conf_disallowed {\n             let (path, reason) = match conf {\n                 conf::DisallowedMethod::Simple(path) => (path, None),"}, {"sha": "87124f093a86dbf7c327581296397e5d0e58a55d", "filename": "clippy_lints/src/disallowed_type.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fdisallowed_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fdisallowed_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdisallowed_type.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -2,7 +2,7 @@ use clippy_utils::diagnostics::span_lint;\n \n use rustc_data_structures::fx::FxHashSet;\n use rustc_hir::{\n-    def::Res, def_id::DefId, Crate, Item, ItemKind, PolyTraitRef, PrimTy, TraitBoundModifier, Ty, TyKind, UseKind,\n+    def::Res, def_id::DefId, Item, ItemKind, PolyTraitRef, PrimTy, TraitBoundModifier, Ty, TyKind, UseKind,\n };\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n@@ -75,7 +75,7 @@ impl DisallowedType {\n impl_lint_pass!(DisallowedType => [DISALLOWED_TYPE]);\n \n impl<'tcx> LateLintPass<'tcx> for DisallowedType {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         for path in &self.disallowed {\n             let segs = path.iter().map(ToString::to_string).collect::<Vec<_>>();\n             match clippy_utils::path_to_res(cx, &segs.iter().map(String::as_str).collect::<Vec<_>>()) {"}, {"sha": "9840affbf6fd81b978a00e2e17a0d1a0a564690c", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -212,7 +212,7 @@ impl_lint_pass!(DocMarkdown =>\n );\n \n impl<'tcx> LateLintPass<'tcx> for DocMarkdown {\n-    fn check_crate(&mut self, cx: &LateContext<'tcx>, _: &'tcx hir::Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'tcx>) {\n         let attrs = cx.tcx.hir().attrs(hir::CRATE_HIR_ID);\n         check_attrs(cx, &self.valid_idents, attrs);\n     }\n@@ -317,7 +317,7 @@ fn lint_for_missing_headers<'tcx>(\n     }\n     if !headers.errors {\n         let hir_id = cx.tcx.hir().local_def_id_to_hir_id(def_id);\n-        if is_type_diagnostic_item(cx, return_ty(cx, hir_id), sym::result_type) {\n+        if is_type_diagnostic_item(cx, return_ty(cx, hir_id), sym::Result) {\n             span_lint(\n                 cx,\n                 MISSING_ERRORS_DOC,\n@@ -335,7 +335,7 @@ fn lint_for_missing_headers<'tcx>(\n                 if let ty::Opaque(_, subs) = ret_ty.kind();\n                 if let Some(gen) = subs.types().next();\n                 if let ty::Generator(_, subs, _) = gen.kind();\n-                if is_type_diagnostic_item(cx, subs.as_generator().return_ty(), sym::result_type);\n+                if is_type_diagnostic_item(cx, subs.as_generator().return_ty(), sym::Result);\n                 then {\n                     span_lint(\n                         cx,\n@@ -782,8 +782,8 @@ impl<'a, 'tcx> Visitor<'tcx> for FindPanicUnwrap<'a, 'tcx> {\n         // check for `unwrap`\n         if let Some(arglists) = method_chain_args(expr, &[\"unwrap\"]) {\n             let reciever_ty = self.typeck_results.expr_ty(&arglists[0][0]).peel_refs();\n-            if is_type_diagnostic_item(self.cx, reciever_ty, sym::option_type)\n-                || is_type_diagnostic_item(self.cx, reciever_ty, sym::result_type)\n+            if is_type_diagnostic_item(self.cx, reciever_ty, sym::Option)\n+                || is_type_diagnostic_item(self.cx, reciever_ty, sym::Result)\n             {\n                 self.panic_span = Some(expr.span);\n             }"}, {"sha": "70337f5bbeb04039250630821b04d7e1a2b1bfd0", "filename": "clippy_lints/src/fallible_impl_from.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffallible_impl_from.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffallible_impl_from.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffallible_impl_from.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -57,7 +57,7 @@ impl<'tcx> LateLintPass<'tcx> for FallibleImplFrom {\n         if_chain! {\n             if let hir::ItemKind::Impl(impl_) = &item.kind;\n             if let Some(impl_trait_ref) = cx.tcx.impl_trait_ref(item.def_id);\n-            if cx.tcx.is_diagnostic_item(sym::from_trait, impl_trait_ref.def_id);\n+            if cx.tcx.is_diagnostic_item(sym::From, impl_trait_ref.def_id);\n             then {\n                 lint_impl_body(cx, item.span, impl_.items);\n             }\n@@ -94,8 +94,8 @@ fn lint_impl_body<'tcx>(cx: &LateContext<'tcx>, impl_span: Span, impl_items: &[h\n             // check for `unwrap`\n             if let Some(arglists) = method_chain_args(expr, &[\"unwrap\"]) {\n                 let reciever_ty = self.typeck_results.expr_ty(&arglists[0][0]).peel_refs();\n-                if is_type_diagnostic_item(self.lcx, reciever_ty, sym::option_type)\n-                    || is_type_diagnostic_item(self.lcx, reciever_ty, sym::result_type)\n+                if is_type_diagnostic_item(self.lcx, reciever_ty, sym::Option)\n+                    || is_type_diagnostic_item(self.lcx, reciever_ty, sym::Result)\n                 {\n                     self.result.push(expr.span);\n                 }"}, {"sha": "f534327f7a0cda0bccafcbdca12c0205e5625956", "filename": "clippy_lints/src/feature_name.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffeature_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffeature_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffeature_name.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,6 +1,6 @@\n use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::{diagnostics::span_lint, is_lint_allowed};\n-use rustc_hir::{Crate, CRATE_HIR_ID};\n+use rustc_hir::CRATE_HIR_ID;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::DUMMY_SP;\n@@ -110,7 +110,7 @@ fn lint(cx: &LateContext<'_>, feature: &str, substring: &str, is_prefix: bool) {\n }\n \n impl LateLintPass<'_> for FeatureName {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         if is_lint_allowed(cx, REDUNDANT_FEATURE_NAMES, CRATE_HIR_ID)\n             && is_lint_allowed(cx, NEGATIVE_FEATURE_NAMES, CRATE_HIR_ID)\n         {"}, {"sha": "8df7f91ce59f50fe6f7a7ca3bfe7b1762978572e", "filename": "clippy_lints/src/format.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fformat.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -65,7 +65,7 @@ impl<'tcx> LateLintPass<'tcx> for UselessFormat {\n             if_chain! {\n                 if format_args.format_string_symbols == [kw::Empty];\n                 if match cx.typeck_results().expr_ty(value).peel_refs().kind() {\n-                    ty::Adt(adt, _) => cx.tcx.is_diagnostic_item(sym::string_type, adt.did),\n+                    ty::Adt(adt, _) => cx.tcx.is_diagnostic_item(sym::String, adt.did),\n                     ty::Str => true,\n                     _ => false,\n                 };\n@@ -112,7 +112,7 @@ fn is_display_arg(expr: &Expr<'_>) -> bool {\n         if let ExprKind::Call(_, [_, fmt]) = expr.kind;\n         if let ExprKind::Path(QPath::Resolved(_, path)) = fmt.kind;\n         if let [.., t, _] = path.segments;\n-        if t.ident.name.as_str() == \"Display\";\n+        if t.ident.name == sym::Display;\n         then { true } else { false }\n     }\n }"}, {"sha": "347c6eb12cbcecb1715760ac65f77f7c7adff93f", "filename": "clippy_lints/src/from_over_into.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffrom_over_into.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffrom_over_into.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffrom_over_into.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -61,7 +61,7 @@ impl LateLintPass<'_> for FromOverInto {\n         if_chain! {\n             if let hir::ItemKind::Impl{ .. } = &item.kind;\n             if let Some(impl_trait_ref) = cx.tcx.impl_trait_ref(item.def_id);\n-            if cx.tcx.is_diagnostic_item(sym::into_trait, impl_trait_ref.def_id);\n+            if cx.tcx.is_diagnostic_item(sym::Into, impl_trait_ref.def_id);\n \n             then {\n                 span_lint_and_help("}, {"sha": "98ce3db025caa015b4b42e1f7556d3570b0348d6", "filename": "clippy_lints/src/from_str_radix_10.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffrom_str_radix_10.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffrom_str_radix_10.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffrom_str_radix_10.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -98,5 +98,5 @@ impl LateLintPass<'tcx> for FromStrRadix10 {\n \n /// Checks if a Ty is `String` or `&str`\n fn is_ty_stringish(cx: &LateContext<'_>, ty: Ty<'_>) -> bool {\n-    is_type_diagnostic_item(cx, ty, sym::string_type) || is_type_diagnostic_item(cx, ty, sym::str)\n+    is_type_diagnostic_item(cx, ty, sym::String) || is_type_diagnostic_item(cx, ty, sym::str)\n }"}, {"sha": "71f6f87ae602beb7d2009eb5642d1e85417c063a", "filename": "clippy_lints/src/functions/result_unit_err.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffunctions%2Fresult_unit_err.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffunctions%2Fresult_unit_err.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffunctions%2Fresult_unit_err.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -48,7 +48,7 @@ fn check_result_unit_err(cx: &LateContext<'_>, decl: &hir::FnDecl<'_>, item_span\n         if !in_external_macro(cx.sess(), item_span);\n         if let hir::FnRetTy::Return(ty) = decl.output;\n         let ty = hir_ty_to_ty(cx.tcx, ty);\n-        if is_type_diagnostic_item(cx, ty, sym::result_type);\n+        if is_type_diagnostic_item(cx, ty, sym::Result);\n         if let ty::Adt(_, substs) = ty.kind();\n         let err_ty = substs.type_at(1);\n         if err_ty.is_unit();"}, {"sha": "e18442515b8fc4ffaf10e5a2c6534e387fbc7551", "filename": "clippy_lints/src/future_not_send.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffuture_not_send.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ffuture_not_send.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffuture_not_send.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -75,7 +75,7 @@ impl<'tcx> LateLintPass<'tcx> for FutureNotSend {\n                 }\n             }\n             if is_future {\n-                let send_trait = cx.tcx.get_diagnostic_item(sym::send_trait).unwrap();\n+                let send_trait = cx.tcx.get_diagnostic_item(sym::Send).unwrap();\n                 let span = decl.output.span();\n                 let send_result = cx.tcx.infer_ctxt().enter(|infcx| {\n                     let cause = traits::ObligationCause::misc(span, hir_id);"}, {"sha": "f3929b0f1e617fd0ad2740c889d81afc817d8da7", "filename": "clippy_lints/src/get_last_with_len.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fget_last_with_len.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fget_last_with_len.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fget_last_with_len.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -58,7 +58,7 @@ impl<'tcx> LateLintPass<'tcx> for GetLastWithLen {\n             // Argument 0 (the struct we're calling the method on) is a vector\n             if let Some(struct_calling_on) = args.get(0);\n             let struct_ty = cx.typeck_results().expr_ty(struct_calling_on);\n-            if is_type_diagnostic_item(cx, struct_ty, sym::vec_type);\n+            if is_type_diagnostic_item(cx, struct_ty, sym::Vec);\n \n             // Argument to \"get\" is a subtraction\n             if let Some(get_index_arg) = args.get(1);"}, {"sha": "a4118bf54b68313617425862dbe87ed5aae80826", "filename": "clippy_lints/src/if_let_mutex.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fif_let_mutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fif_let_mutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fif_let_mutex.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -8,6 +8,7 @@ use rustc_hir::{Expr, ExprKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::hir::map::Map;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n+use rustc_span::sym;\n \n declare_clippy_lint! {\n     /// ### What it does\n@@ -141,7 +142,7 @@ fn is_mutex_lock_call<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'_>) -> Opt\n         if let ExprKind::MethodCall(path, _span, [self_arg, ..], _) = &expr.kind;\n         if path.ident.as_str() == \"lock\";\n         let ty = cx.typeck_results().expr_ty(self_arg);\n-        if is_type_diagnostic_item(cx, ty, sym!(mutex_type));\n+        if is_type_diagnostic_item(cx, ty, sym::Mutex);\n         then {\n             Some(self_arg)\n         } else {"}, {"sha": "81eb51e6f7cee304c034b367544f32eaa0268846", "filename": "clippy_lints/src/implicit_hasher.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fimplicit_hasher.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fimplicit_hasher.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fimplicit_hasher.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -233,14 +233,14 @@ impl<'tcx> ImplicitHasherType<'tcx> {\n \n             let ty = hir_ty_to_ty(cx.tcx, hir_ty);\n \n-            if is_type_diagnostic_item(cx, ty, sym::hashmap_type) && params_len == 2 {\n+            if is_type_diagnostic_item(cx, ty, sym::HashMap) && params_len == 2 {\n                 Some(ImplicitHasherType::HashMap(\n                     hir_ty.span,\n                     ty,\n                     snippet(cx, params[0].span, \"K\"),\n                     snippet(cx, params[1].span, \"V\"),\n                 ))\n-            } else if is_type_diagnostic_item(cx, ty, sym::hashset_type) && params_len == 1 {\n+            } else if is_type_diagnostic_item(cx, ty, sym::HashSet) && params_len == 1 {\n                 Some(ImplicitHasherType::HashSet(\n                     hir_ty.span,\n                     ty,\n@@ -355,7 +355,7 @@ impl<'a, 'b, 'tcx> Visitor<'tcx> for ImplicitHasherConstructorVisitor<'a, 'b, 't\n                     return;\n                 }\n \n-                if self.cx.tcx.is_diagnostic_item(sym::hashmap_type, ty_did) {\n+                if self.cx.tcx.is_diagnostic_item(sym::HashMap, ty_did) {\n                     if method.ident.name == sym::new {\n                         self.suggestions\n                             .insert(e.span, \"HashMap::default()\".to_string());\n@@ -368,7 +368,7 @@ impl<'a, 'b, 'tcx> Visitor<'tcx> for ImplicitHasherConstructorVisitor<'a, 'b, 't\n                             ),\n                         );\n                     }\n-                } else if self.cx.tcx.is_diagnostic_item(sym::hashset_type, ty_did) {\n+                } else if self.cx.tcx.is_diagnostic_item(sym::HashSet, ty_did) {\n                     if method.ident.name == sym::new {\n                         self.suggestions\n                             .insert(e.span, \"HashSet::default()\".to_string());"}, {"sha": "68c1fa35fcc4eb919de7512f654cede557cd0877", "filename": "clippy_lints/src/infinite_iter.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Finfinite_iter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Finfinite_iter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finfinite_iter.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -210,11 +210,11 @@ const INFINITE_COLLECTORS: &[Symbol] = &[\n     sym::BinaryHeap,\n     sym::BTreeMap,\n     sym::BTreeSet,\n-    sym::hashmap_type,\n-    sym::hashset_type,\n+    sym::HashMap,\n+    sym::HashSet,\n     sym::LinkedList,\n-    sym::vec_type,\n-    sym::vecdeque_type,\n+    sym::Vec,\n+    sym::VecDeque,\n ];\n \n fn complete_infinite_iter(cx: &LateContext<'_>, expr: &Expr<'_>) -> Finiteness {"}, {"sha": "0d23bec27a3a753e7789ecde2e20db8f068a13d9", "filename": "clippy_lints/src/inherent_impl.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Finherent_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Finherent_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finherent_impl.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -3,7 +3,7 @@\n use clippy_utils::diagnostics::span_lint_and_note;\n use clippy_utils::{in_macro, is_lint_allowed};\n use rustc_data_structures::fx::FxHashMap;\n-use rustc_hir::{def_id::LocalDefId, Crate, Item, ItemKind, Node};\n+use rustc_hir::{def_id::LocalDefId, Item, ItemKind, Node};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::Span;\n@@ -44,7 +44,7 @@ declare_clippy_lint! {\n declare_lint_pass!(MultipleInherentImpl => [MULTIPLE_INHERENT_IMPL]);\n \n impl<'tcx> LateLintPass<'tcx> for MultipleInherentImpl {\n-    fn check_crate_post(&mut self, cx: &LateContext<'tcx>, _: &'tcx Crate<'_>) {\n+    fn check_crate_post(&mut self, cx: &LateContext<'tcx>) {\n         // Map from a type to it's first impl block. Needed to distinguish generic arguments.\n         // e.g. `Foo<Bar>` and `Foo<Baz>`\n         let mut type_map = FxHashMap::default();"}, {"sha": "3c40ca50a0981aa04c42d6357362fc4aef139311", "filename": "clippy_lints/src/inherent_to_string.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Finherent_to_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Finherent_to_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finherent_to_string.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -111,7 +111,7 @@ impl<'tcx> LateLintPass<'tcx> for InherentToString {\n             if impl_item.generics.params.is_empty();\n \n             // Check if return type is String\n-            if is_type_diagnostic_item(cx, return_ty(cx, impl_item.hir_id()), sym::string_type);\n+            if is_type_diagnostic_item(cx, return_ty(cx, impl_item.hir_id()), sym::String);\n \n             // Filters instances of to_string which are required by a trait\n             if trait_ref_of_method(cx, impl_item.hir_id()).is_none();"}, {"sha": "f336fb9d42f88be86071b100ee85a83e0f6c44f7", "filename": "clippy_lints/src/len_zero.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flen_zero.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -245,10 +245,10 @@ enum LenOutput<'tcx> {\n fn parse_len_output(cx: &LateContext<'_>, sig: FnSig<'tcx>) -> Option<LenOutput<'tcx>> {\n     match *sig.output().kind() {\n         ty::Int(_) | ty::Uint(_) => Some(LenOutput::Integral),\n-        ty::Adt(adt, subs) if cx.tcx.is_diagnostic_item(sym::option_type, adt.did) => {\n+        ty::Adt(adt, subs) if cx.tcx.is_diagnostic_item(sym::Option, adt.did) => {\n             subs.type_at(0).is_integral().then(|| LenOutput::Option(adt.did))\n         },\n-        ty::Adt(adt, subs) if cx.tcx.is_diagnostic_item(sym::result_type, adt.did) => subs\n+        ty::Adt(adt, subs) if cx.tcx.is_diagnostic_item(sym::Result, adt.did) => subs\n             .type_at(0)\n             .is_integral()\n             .then(|| LenOutput::Result(adt.did, subs.type_at(1))),"}, {"sha": "5ac69d106ceb4aad5c4f968b8e0efb115566c9f9", "filename": "clippy_lints/src/loops/explicit_iter_loop.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fexplicit_iter_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fexplicit_iter_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fexplicit_iter_loop.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -54,11 +54,11 @@ fn is_ref_iterable_type(cx: &LateContext<'_>, e: &Expr<'_>) -> bool {\n     // will allow further borrows afterwards\n     let ty = cx.typeck_results().expr_ty(e);\n     is_iterable_array(ty, cx) ||\n-    is_type_diagnostic_item(cx, ty, sym::vec_type) ||\n+    is_type_diagnostic_item(cx, ty, sym::Vec) ||\n     is_type_diagnostic_item(cx, ty, sym::LinkedList) ||\n-    is_type_diagnostic_item(cx, ty, sym::hashmap_type) ||\n-    is_type_diagnostic_item(cx, ty, sym::hashset_type) ||\n-    is_type_diagnostic_item(cx, ty, sym::vecdeque_type) ||\n+    is_type_diagnostic_item(cx, ty, sym::HashMap) ||\n+    is_type_diagnostic_item(cx, ty, sym::HashSet) ||\n+    is_type_diagnostic_item(cx, ty, sym::VecDeque) ||\n     is_type_diagnostic_item(cx, ty, sym::BinaryHeap) ||\n     is_type_diagnostic_item(cx, ty, sym::BTreeMap) ||\n     is_type_diagnostic_item(cx, ty, sym::BTreeSet)"}, {"sha": "bee0e1d76831a2eac9586b41ea91325ed7f9eed1", "filename": "clippy_lints/src/loops/for_kv_map.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Ffor_kv_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Ffor_kv_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Ffor_kv_map.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -33,7 +33,7 @@ pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, pat: &'tcx Pat<'_>, arg: &'tcx\n                 _ => arg,\n             };\n \n-            if is_type_diagnostic_item(cx, ty, sym::hashmap_type) || is_type_diagnostic_item(cx, ty, sym::BTreeMap) {\n+            if is_type_diagnostic_item(cx, ty, sym::HashMap) || is_type_diagnostic_item(cx, ty, sym::BTreeMap) {\n                 span_lint_and_then(\n                     cx,\n                     FOR_KV_MAP,"}, {"sha": "90530ebf0031f845ed3392fc6f4c9f6587a8e193", "filename": "clippy_lints/src/loops/for_loops_over_fallibles.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Ffor_loops_over_fallibles.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Ffor_loops_over_fallibles.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Ffor_loops_over_fallibles.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -9,7 +9,7 @@ use rustc_span::symbol::sym;\n /// Checks for `for` loops over `Option`s and `Result`s.\n pub(super) fn check(cx: &LateContext<'_>, pat: &Pat<'_>, arg: &Expr<'_>) {\n     let ty = cx.typeck_results().expr_ty(arg);\n-    if is_type_diagnostic_item(cx, ty, sym::option_type) {\n+    if is_type_diagnostic_item(cx, ty, sym::Option) {\n         span_lint_and_help(\n             cx,\n             FOR_LOOPS_OVER_FALLIBLES,\n@@ -26,7 +26,7 @@ pub(super) fn check(cx: &LateContext<'_>, pat: &Pat<'_>, arg: &Expr<'_>) {\n                 snippet(cx, arg.span, \"_\")\n             ),\n         );\n-    } else if is_type_diagnostic_item(cx, ty, sym::result_type) {\n+    } else if is_type_diagnostic_item(cx, ty, sym::Result) {\n         span_lint_and_help(\n             cx,\n             FOR_LOOPS_OVER_FALLIBLES,"}, {"sha": "6bdc560efd79ddd9813cc5a4156647f930ab246e", "filename": "clippy_lints/src/loops/manual_memcpy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fmanual_memcpy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fmanual_memcpy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fmanual_memcpy.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -329,7 +329,7 @@ fn is_slice_like<'tcx>(cx: &LateContext<'tcx>, ty: Ty<'_>) -> bool {\n         _ => false,\n     };\n \n-    is_slice || is_type_diagnostic_item(cx, ty, sym::vec_type) || is_type_diagnostic_item(cx, ty, sym::vecdeque_type)\n+    is_slice || is_type_diagnostic_item(cx, ty, sym::Vec) || is_type_diagnostic_item(cx, ty, sym::VecDeque)\n }\n \n fn fetch_cloned_expr<'tcx>(expr: &'tcx Expr<'tcx>) -> &'tcx Expr<'tcx> {"}, {"sha": "e87f4b669124f6e6c8fe2e3515e2fa1622972da2", "filename": "clippy_lints/src/loops/needless_collect.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fneedless_collect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fneedless_collect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fneedless_collect.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -29,8 +29,8 @@ fn check_needless_collect_direct_usage<'tcx>(expr: &'tcx Expr<'_>, cx: &LateCont\n             let mut applicability = Applicability::MaybeIncorrect;\n             let is_empty_sugg = \"next().is_none()\".to_string();\n             let method_name = &*method.ident.name.as_str();\n-            let sugg = if is_type_diagnostic_item(cx, ty, sym::vec_type) ||\n-                        is_type_diagnostic_item(cx, ty, sym::vecdeque_type) ||\n+            let sugg = if is_type_diagnostic_item(cx, ty, sym::Vec) ||\n+                        is_type_diagnostic_item(cx, ty, sym::VecDeque) ||\n                         is_type_diagnostic_item(cx, ty, sym::LinkedList) ||\n                         is_type_diagnostic_item(cx, ty, sym::BinaryHeap) {\n                 match method_name {\n@@ -47,7 +47,7 @@ fn check_needless_collect_direct_usage<'tcx>(expr: &'tcx Expr<'_>, cx: &LateCont\n                 }\n             }\n             else if is_type_diagnostic_item(cx, ty, sym::BTreeMap) ||\n-                is_type_diagnostic_item(cx, ty, sym::hashmap_type) {\n+                is_type_diagnostic_item(cx, ty, sym::HashMap) {\n                 match method_name {\n                     \"is_empty\" => is_empty_sugg,\n                     _ => return,\n@@ -79,8 +79,8 @@ fn check_needless_collect_indirect_usage<'tcx>(expr: &'tcx Expr<'_>, cx: &LateCo\n                 if let ExprKind::MethodCall(method_name, collect_span, &[ref iter_source], ..) = init_expr.kind;\n                 if method_name.ident.name == sym!(collect) && is_trait_method(cx, init_expr, sym::Iterator);\n                 let ty = cx.typeck_results().expr_ty(init_expr);\n-                if is_type_diagnostic_item(cx, ty, sym::vec_type) ||\n-                    is_type_diagnostic_item(cx, ty, sym::vecdeque_type) ||\n+                if is_type_diagnostic_item(cx, ty, sym::Vec) ||\n+                    is_type_diagnostic_item(cx, ty, sym::VecDeque) ||\n                     is_type_diagnostic_item(cx, ty, sym::BinaryHeap) ||\n                     is_type_diagnostic_item(cx, ty, sym::LinkedList);\n                 if let Some(iter_calls) = detect_iter_and_into_iters(block, id);"}, {"sha": "2eb247de9f42b79a789e8695fb05edaaada931c5", "filename": "clippy_lints/src/loops/same_item_push.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fsame_item_push.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Floops%2Fsame_item_push.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops%2Fsame_item_push.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -192,7 +192,7 @@ fn get_vec_push<'tcx>(cx: &LateContext<'tcx>, stmt: &'tcx Stmt<'_>) -> Option<(&\n             if let Some(self_expr) = args.get(0);\n             if let Some(pushed_item) = args.get(1);\n             // Check that the method being called is push() on a Vec\n-            if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(self_expr), sym::vec_type);\n+            if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(self_expr), sym::Vec);\n             if path.ident.name.as_str() == \"push\";\n             then {\n                 return Some((self_expr, pushed_item))"}, {"sha": "99ac4680720159875360b530cc0ad6db951a78b0", "filename": "clippy_lints/src/macro_use.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmacro_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmacro_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmacro_use.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -136,7 +136,7 @@ impl<'tcx> LateLintPass<'tcx> for MacroUseImports {\n         }\n     }\n     #[allow(clippy::too_many_lines)]\n-    fn check_crate_post(&mut self, cx: &LateContext<'_>, _krate: &hir::Crate<'_>) {\n+    fn check_crate_post(&mut self, cx: &LateContext<'_>) {\n         let mut used = FxHashMap::default();\n         let mut check_dup = vec![];\n         for (import, span) in &self.imports {"}, {"sha": "23b3ba2296eaf1dedd01840553c754c9fe554c03", "filename": "clippy_lints/src/main_recursion.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmain_recursion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmain_recursion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmain_recursion.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -2,7 +2,7 @@ use clippy_utils::diagnostics::span_lint_and_help;\n use clippy_utils::source::snippet;\n use clippy_utils::{is_entrypoint_fn, is_no_std_crate};\n use if_chain::if_chain;\n-use rustc_hir::{Crate, Expr, ExprKind, QPath};\n+use rustc_hir::{Expr, ExprKind, QPath};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n \n@@ -33,7 +33,7 @@ pub struct MainRecursion {\n impl_lint_pass!(MainRecursion => [MAIN_RECURSION]);\n \n impl LateLintPass<'_> for MainRecursion {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         self.has_no_std_attr = is_no_std_crate(cx);\n     }\n "}, {"sha": "96df3d0a490fa9ce44f7b58199e77f259d2ed8f2", "filename": "clippy_lints/src/manual_map.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmanual_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmanual_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_map.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -61,8 +61,8 @@ impl LateLintPass<'_> for ManualMap {\n \n         let (scrutinee_ty, ty_ref_count, ty_mutability) =\n             peel_mid_ty_refs_is_mutable(cx.typeck_results().expr_ty(scrutinee));\n-        if !(is_type_diagnostic_item(cx, scrutinee_ty, sym::option_type)\n-            && is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::option_type))\n+        if !(is_type_diagnostic_item(cx, scrutinee_ty, sym::Option)\n+            && is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::Option))\n         {\n             return;\n         }"}, {"sha": "cf641d0ce8625765eb398467fa148fddf524a83a", "filename": "clippy_lints/src/manual_ok_or.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmanual_ok_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmanual_ok_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_ok_or.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -51,7 +51,7 @@ impl LateLintPass<'_> for ManualOkOr {\n             if args.len() == 3;\n             let method_receiver = &args[0];\n             let ty = cx.typeck_results().expr_ty(method_receiver);\n-            if is_type_diagnostic_item(cx, ty, sym::option_type);\n+            if is_type_diagnostic_item(cx, ty, sym::Option);\n             let or_expr = &args[1];\n             if is_ok_wrapping(cx, &args[2]);\n             if let ExprKind::Call(Expr { kind: ExprKind::Path(err_path), .. }, &[ref err_arg]) = or_expr.kind;"}, {"sha": "2ae9cb4f9c132b16d4189c1f5b7821de51d56c5a", "filename": "clippy_lints/src/manual_unwrap_or.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmanual_unwrap_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmanual_unwrap_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_unwrap_or.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -82,9 +82,9 @@ fn lint_manual_unwrap_or<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'tcx>) {\n     if_chain! {\n         if let ExprKind::Match(scrutinee, match_arms, _) = expr.kind;\n         let ty = cx.typeck_results().expr_ty(scrutinee);\n-        if let Some(ty_name) = if is_type_diagnostic_item(cx, ty, sym::option_type) {\n+        if let Some(ty_name) = if is_type_diagnostic_item(cx, ty, sym::Option) {\n             Some(\"Option\")\n-        } else if is_type_diagnostic_item(cx, ty, sym::result_type) {\n+        } else if is_type_diagnostic_item(cx, ty, sym::Result) {\n             Some(\"Result\")\n         } else {\n             None"}, {"sha": "7db5c7e52ea4565def25026273b4d7e1283b3777", "filename": "clippy_lints/src/map_clone.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmap_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmap_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_clone.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -55,7 +55,7 @@ impl<'tcx> LateLintPass<'tcx> for MapClone {\n             if args.len() == 2;\n             if method.ident.name == sym::map;\n             let ty = cx.typeck_results().expr_ty(&args[0]);\n-            if is_type_diagnostic_item(cx, ty, sym::option_type) || is_trait_method(cx, e, sym::Iterator);\n+            if is_type_diagnostic_item(cx, ty, sym::Option) || is_trait_method(cx, e, sym::Iterator);\n             if let hir::ExprKind::Closure(_, _, body_id, _, _) = args[1].kind;\n             then {\n                 let closure_body = cx.tcx.hir().body(body_id);"}, {"sha": "40de9ffcd4e253d2c26ef7cc997e0969ec200bc7", "filename": "clippy_lints/src/map_unit_fn.rs", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmap_unit_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmap_unit_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_unit_fn.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -205,14 +205,13 @@ fn suggestion_msg(function_type: &str, map_type: &str) -> String {\n fn lint_map_unit_fn(cx: &LateContext<'_>, stmt: &hir::Stmt<'_>, expr: &hir::Expr<'_>, map_args: &[hir::Expr<'_>]) {\n     let var_arg = &map_args[0];\n \n-    let (map_type, variant, lint) =\n-        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(var_arg), sym::option_type) {\n-            (\"Option\", \"Some\", OPTION_MAP_UNIT_FN)\n-        } else if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(var_arg), sym::result_type) {\n-            (\"Result\", \"Ok\", RESULT_MAP_UNIT_FN)\n-        } else {\n-            return;\n-        };\n+    let (map_type, variant, lint) = if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(var_arg), sym::Option) {\n+        (\"Option\", \"Some\", OPTION_MAP_UNIT_FN)\n+    } else if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(var_arg), sym::Result) {\n+        (\"Result\", \"Ok\", RESULT_MAP_UNIT_FN)\n+    } else {\n+        return;\n+    };\n     let fn_arg = &map_args[1];\n \n     if is_unit_function(cx, fn_arg) {"}, {"sha": "552c9a588977fc564d0a409a568839d50d299a56", "filename": "clippy_lints/src/match_on_vec_items.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmatch_on_vec_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmatch_on_vec_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatch_on_vec_items.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -93,7 +93,7 @@ fn is_vec_indexing<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'tcx>) -> Opti\n fn is_vector(cx: &LateContext<'_>, expr: &Expr<'_>) -> bool {\n     let ty = cx.typeck_results().expr_ty(expr);\n     let ty = ty.peel_refs();\n-    is_type_diagnostic_item(cx, ty, sym::vec_type)\n+    is_type_diagnostic_item(cx, ty, sym::Vec)\n }\n \n fn is_full_range(cx: &LateContext<'_>, expr: &Expr<'_>) -> bool {"}, {"sha": "3db1f0421ea70efb35940ed2c9ab96fbcbc935ad", "filename": "clippy_lints/src/match_result_ok.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmatch_result_ok.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmatch_result_ok.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatch_result_ok.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -60,7 +60,7 @@ impl<'tcx> LateLintPass<'tcx> for MatchResultOk {\n             if let ExprKind::MethodCall(_, ok_span, [ref result_types_0, ..], _) = let_expr.kind; //check is expr.ok() has type Result<T,E>.ok(, _)\n             if let PatKind::TupleStruct(QPath::Resolved(_, x), y, _)  = let_pat.kind; //get operation\n             if method_chain_args(let_expr, &[\"ok\"]).is_some(); //test to see if using ok() methoduse std::marker::Sized;\n-            if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(result_types_0), sym::result_type);\n+            if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(result_types_0), sym::Result);\n             if rustc_hir_pretty::to_string(rustc_hir_pretty::NO_ANN, |s| s.print_path(x, false)) == \"Some\";\n \n             then {"}, {"sha": "56d4163a6b3435cf9d6d88052c6eb1bbecd3e5ad", "filename": "clippy_lints/src/matches.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -948,7 +948,7 @@ fn check_overlapping_arms<'tcx>(cx: &LateContext<'tcx>, ex: &'tcx Expr<'_>, arms\n \n fn check_wild_err_arm<'tcx>(cx: &LateContext<'tcx>, ex: &Expr<'tcx>, arms: &[Arm<'tcx>]) {\n     let ex_ty = cx.typeck_results().expr_ty(ex).peel_refs();\n-    if is_type_diagnostic_item(cx, ex_ty, sym::result_type) {\n+    if is_type_diagnostic_item(cx, ex_ty, sym::Result) {\n         for arm in arms {\n             if let PatKind::TupleStruct(ref path, inner, _) = arm.pat.kind {\n                 let path_str = rustc_hir_pretty::to_string(rustc_hir_pretty::NO_ANN, |s| s.print_qpath(path, false));\n@@ -1025,8 +1025,7 @@ fn check_wild_enum_match(cx: &LateContext<'_>, ex: &Expr<'_>, arms: &[Arm<'_>])\n     let adt_def = match ty.kind() {\n         ty::Adt(adt_def, _)\n             if adt_def.is_enum()\n-                && !(is_type_diagnostic_item(cx, ty, sym::option_type)\n-                    || is_type_diagnostic_item(cx, ty, sym::result_type)) =>\n+                && !(is_type_diagnostic_item(cx, ty, sym::Option) || is_type_diagnostic_item(cx, ty, sym::Result)) =>\n         {\n             adt_def\n         },\n@@ -1869,7 +1868,7 @@ mod redundant_pattern_match {\n             }\n         }\n         // Check for std types which implement drop, but only for memory allocation.\n-        else if is_type_diagnostic_item(cx, ty, sym::vec_type)\n+        else if is_type_diagnostic_item(cx, ty, sym::Vec)\n             || is_type_lang_item(cx, ty, LangItem::OwnedBox)\n             || is_type_diagnostic_item(cx, ty, sym::Rc)\n             || is_type_diagnostic_item(cx, ty, sym::Arc)"}, {"sha": "76eaedea8a0d229b1d5ff32282db7eb52ddfc1f0", "filename": "clippy_lints/src/methods/bytes_nth.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fbytes_nth.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fbytes_nth.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fbytes_nth.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -12,7 +12,7 @@ pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, expr: &Expr<'_>, recv: &'tcx E\n     let ty = cx.typeck_results().expr_ty(recv).peel_refs();\n     let caller_type = if ty.is_str() {\n         \"str\"\n-    } else if is_type_diagnostic_item(cx, ty, sym::string_type) {\n+    } else if is_type_diagnostic_item(cx, ty, sym::String) {\n         \"String\"\n     } else {\n         return;"}, {"sha": "6fe69b8f01f9be2670e8bb70b3d10a2a91c523eb", "filename": "clippy_lints/src/methods/cloned_instead_of_copied.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fcloned_instead_of_copied.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fcloned_instead_of_copied.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fcloned_instead_of_copied.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -15,7 +15,7 @@ pub fn check(cx: &LateContext<'_>, expr: &Expr<'_>, recv: &Expr<'_>, span: Span,\n     let inner_ty = match recv_ty.kind() {\n         // `Option<T>` -> `T`\n         ty::Adt(adt, subst)\n-            if cx.tcx.is_diagnostic_item(sym::option_type, adt.did) && meets_msrv(msrv, &msrvs::OPTION_COPIED) =>\n+            if cx.tcx.is_diagnostic_item(sym::Option, adt.did) && meets_msrv(msrv, &msrvs::OPTION_COPIED) =>\n         {\n             subst.type_at(0)\n         },"}, {"sha": "0ec9387f9c460f1426db4b319e59fe9d349ec2c1", "filename": "clippy_lints/src/methods/expect_fun_call.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fexpect_fun_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fexpect_fun_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fexpect_fun_call.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -28,7 +28,7 @@ pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, method_span: Spa\n                         && {\n                             let arg_type = cx.typeck_results().expr_ty(&call_args[0]);\n                             let base_type = arg_type.peel_refs();\n-                            *base_type.kind() == ty::Str || is_type_diagnostic_item(cx, base_type, sym::string_type)\n+                            *base_type.kind() == ty::Str || is_type_diagnostic_item(cx, base_type, sym::String)\n                         }\n                     {\n                         &call_args[0]\n@@ -46,7 +46,7 @@ pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, method_span: Spa\n     // converted to string.\n     fn requires_to_string(cx: &LateContext<'_>, arg: &hir::Expr<'_>) -> bool {\n         let arg_ty = cx.typeck_results().expr_ty(arg);\n-        if is_type_diagnostic_item(cx, arg_ty, sym::string_type) {\n+        if is_type_diagnostic_item(cx, arg_ty, sym::String) {\n             return false;\n         }\n         if let ty::Ref(_, ty, ..) = arg_ty.kind() {\n@@ -113,9 +113,9 @@ pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, method_span: Spa\n     }\n \n     let receiver_type = cx.typeck_results().expr_ty_adjusted(&args[0]);\n-    let closure_args = if is_type_diagnostic_item(cx, receiver_type, sym::option_type) {\n+    let closure_args = if is_type_diagnostic_item(cx, receiver_type, sym::Option) {\n         \"||\"\n-    } else if is_type_diagnostic_item(cx, receiver_type, sym::result_type) {\n+    } else if is_type_diagnostic_item(cx, receiver_type, sym::Result) {\n         \"|_|\"\n     } else {\n         return;"}, {"sha": "55be513c5bb1f22a207f2b30ec961e8db40cbeaf", "filename": "clippy_lints/src/methods/expect_used.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fexpect_used.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fexpect_used.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fexpect_used.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -10,9 +10,9 @@ use super::EXPECT_USED;\n pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, recv: &hir::Expr<'_>) {\n     let obj_ty = cx.typeck_results().expr_ty(recv).peel_refs();\n \n-    let mess = if is_type_diagnostic_item(cx, obj_ty, sym::option_type) {\n+    let mess = if is_type_diagnostic_item(cx, obj_ty, sym::Option) {\n         Some((EXPECT_USED, \"an Option\", \"None\"))\n-    } else if is_type_diagnostic_item(cx, obj_ty, sym::result_type) {\n+    } else if is_type_diagnostic_item(cx, obj_ty, sym::Result) {\n         Some((EXPECT_USED, \"a Result\", \"Err\"))\n     } else {\n         None"}, {"sha": "687636f8237fb64fb87399d80bfe96ff5d957cbc", "filename": "clippy_lints/src/methods/extend_with_drain.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fextend_with_drain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fextend_with_drain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fextend_with_drain.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -12,15 +12,15 @@ use super::EXTEND_WITH_DRAIN;\n pub(super) fn check(cx: &LateContext<'_>, expr: &Expr<'_>, recv: &Expr<'_>, arg: &Expr<'_>) {\n     let ty = cx.typeck_results().expr_ty(recv).peel_refs();\n     if_chain! {\n-        if is_type_diagnostic_item(cx, ty, sym::vec_type);\n+        if is_type_diagnostic_item(cx, ty, sym::Vec);\n         //check source object\n         if let ExprKind::MethodCall(src_method, _, [drain_vec, drain_arg], _) = &arg.kind;\n         if src_method.ident.as_str() == \"drain\";\n         let src_ty = cx.typeck_results().expr_ty(drain_vec);\n         //check if actual src type is mutable for code suggestion\n         let immutable = src_ty.is_mutable_ptr();\n         let src_ty = src_ty.peel_refs();\n-        if is_type_diagnostic_item(cx, src_ty, sym::vec_type);\n+        if is_type_diagnostic_item(cx, src_ty, sym::Vec);\n         //check drain range\n         if let src_ty_range = cx.typeck_results().expr_ty(drain_arg).peel_refs();\n         if is_type_lang_item(cx, src_ty_range, LangItem::RangeFull);"}, {"sha": "c96c817bb8bdeb30806747c56ffcf5287de7e5d5", "filename": "clippy_lints/src/methods/filter_map.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Ffilter_map.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -61,7 +61,7 @@ fn lint_filter_some_map_unwrap(\n     methods_span: Span,\n ) {\n     let iterator = is_trait_method(cx, expr, sym::Iterator);\n-    let option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(filter_recv), sym::option_type);\n+    let option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(filter_recv), sym::Option);\n     if (iterator || option) && is_option_filter_map(cx, filter_arg, map_arg) {\n         let msg = \"`filter` for `Some` followed by `unwrap`\";\n         let help = \"consider using `flatten` instead\";\n@@ -120,9 +120,9 @@ pub(super) fn check<'tcx>(\n             if let PatKind::Binding(_, filter_param_id, _, None) = filter_pat.kind;\n             if let ExprKind::MethodCall(path, _, [filter_arg], _) = filter_body.value.kind;\n             if let Some(opt_ty) = cx.typeck_results().expr_ty(filter_arg).ty_adt_def();\n-            if let Some(is_result) = if cx.tcx.is_diagnostic_item(sym::option_type, opt_ty.did) {\n+            if let Some(is_result) = if cx.tcx.is_diagnostic_item(sym::Option, opt_ty.did) {\n                 Some(false)\n-            } else if cx.tcx.is_diagnostic_item(sym::result_type, opt_ty.did) {\n+            } else if cx.tcx.is_diagnostic_item(sym::Result, opt_ty.did) {\n                 Some(true)\n             } else {\n                 None"}, {"sha": "615bde9413349933a0ef4269eba975105e4cbbdf", "filename": "clippy_lints/src/methods/flat_map_option.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fflat_map_option.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fflat_map_option.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fflat_map_option.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -19,7 +19,7 @@ pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx hir::Expr<'_>, arg\n         _ if arg_ty.is_fn() => arg_ty.fn_sig(cx.tcx),\n         _ => return,\n     };\n-    if !is_type_diagnostic_item(cx, sig.output().skip_binder(), sym::option_type) {\n+    if !is_type_diagnostic_item(cx, sig.output().skip_binder(), sym::Option) {\n         return;\n     }\n     span_lint_and_sugg("}, {"sha": "18e08d6ee23206b3e905bacb685d15aa48d91f19", "filename": "clippy_lints/src/methods/get_unwrap.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fget_unwrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fget_unwrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fget_unwrap.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -27,13 +27,13 @@ pub(super) fn check<'tcx>(\n     let caller_type = if derefs_to_slice(cx, recv, expr_ty).is_some() {\n         needs_ref = get_args_str.parse::<usize>().is_ok();\n         \"slice\"\n-    } else if is_type_diagnostic_item(cx, expr_ty, sym::vec_type) {\n+    } else if is_type_diagnostic_item(cx, expr_ty, sym::Vec) {\n         needs_ref = get_args_str.parse::<usize>().is_ok();\n         \"Vec\"\n-    } else if is_type_diagnostic_item(cx, expr_ty, sym::vecdeque_type) {\n+    } else if is_type_diagnostic_item(cx, expr_ty, sym::VecDeque) {\n         needs_ref = get_args_str.parse::<usize>().is_ok();\n         \"VecDeque\"\n-    } else if !is_mut && is_type_diagnostic_item(cx, expr_ty, sym::hashmap_type) {\n+    } else if !is_mut && is_type_diagnostic_item(cx, expr_ty, sym::HashMap) {\n         needs_ref = true;\n         \"HashMap\"\n     } else if !is_mut && is_type_diagnostic_item(cx, expr_ty, sym::BTreeMap) {"}, {"sha": "c0f66feb48ae8c067ef1b006fb1e075cfda25bc4", "filename": "clippy_lints/src/methods/inefficient_to_string.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Finefficient_to_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Finefficient_to_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Finefficient_to_string.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -55,7 +55,7 @@ fn specializes_tostring(cx: &LateContext<'_>, ty: Ty<'_>) -> bool {\n         return true;\n     }\n \n-    if is_type_diagnostic_item(cx, ty, sym::string_type) {\n+    if is_type_diagnostic_item(cx, ty, sym::String) {\n         return true;\n     }\n "}, {"sha": "dd4ef6e4b58ee72ede7975985c9c76bfa0cb1cec", "filename": "clippy_lints/src/methods/iter_cloned_collect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_cloned_collect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_cloned_collect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_cloned_collect.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -11,7 +11,7 @@ use super::ITER_CLONED_COLLECT;\n \n pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, expr: &hir::Expr<'_>, recv: &'tcx hir::Expr<'_>) {\n     if_chain! {\n-        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::vec_type);\n+        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::Vec);\n         if let Some(slice) = derefs_to_slice(cx, recv, cx.typeck_results().expr_ty(recv));\n         if let Some(to_replace) = expr.span.trim_start(slice.span.source_callsite());\n "}, {"sha": "052be3d8ee7cac1854f2c9188beb53b3fbd851f6", "filename": "clippy_lints/src/methods/iter_count.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_count.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_count.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_count.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -13,13 +13,13 @@ pub(crate) fn check<'tcx>(cx: &LateContext<'tcx>, expr: &Expr<'_>, recv: &'tcx E\n     let ty = cx.typeck_results().expr_ty(recv);\n     let caller_type = if derefs_to_slice(cx, recv, ty).is_some() {\n         \"slice\"\n-    } else if is_type_diagnostic_item(cx, ty, sym::vec_type) {\n+    } else if is_type_diagnostic_item(cx, ty, sym::Vec) {\n         \"Vec\"\n-    } else if is_type_diagnostic_item(cx, ty, sym::vecdeque_type) {\n+    } else if is_type_diagnostic_item(cx, ty, sym::VecDeque) {\n         \"VecDeque\"\n-    } else if is_type_diagnostic_item(cx, ty, sym::hashset_type) {\n+    } else if is_type_diagnostic_item(cx, ty, sym::HashSet) {\n         \"HashSet\"\n-    } else if is_type_diagnostic_item(cx, ty, sym::hashmap_type) {\n+    } else if is_type_diagnostic_item(cx, ty, sym::HashMap) {\n         \"HashMap\"\n     } else if is_type_diagnostic_item(cx, ty, sym::BTreeMap) {\n         \"BTreeMap\""}, {"sha": "d053ff567565c39686da673061745860d2d0eaba", "filename": "clippy_lints/src/methods/iter_next_slice.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_next_slice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_next_slice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_next_slice.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -64,6 +64,6 @@ pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx hir::Expr<'_>, cal\n }\n \n fn is_vec_or_array<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx hir::Expr<'_>) -> bool {\n-    is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::vec_type)\n+    is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::Vec)\n         || matches!(&cx.typeck_results().expr_ty(expr).peel_refs().kind(), ty::Array(_, _))\n }"}, {"sha": "80ca4c94219f8548ab7303072f408047d4da5476", "filename": "clippy_lints/src/methods/iter_nth.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fiter_nth.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -19,9 +19,9 @@ pub(super) fn check<'tcx>(\n     let mut_str = if is_mut { \"_mut\" } else { \"\" };\n     let caller_type = if derefs_to_slice(cx, iter_recv, cx.typeck_results().expr_ty(iter_recv)).is_some() {\n         \"slice\"\n-    } else if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(iter_recv), sym::vec_type) {\n+    } else if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(iter_recv), sym::Vec) {\n         \"Vec\"\n-    } else if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(iter_recv), sym::vecdeque_type) {\n+    } else if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(iter_recv), sym::VecDeque) {\n         \"VecDeque\"\n     } else {\n         iter_nth_zero::check(cx, expr, nth_recv, nth_arg);"}, {"sha": "13eb72251bb14cf5083ec17a251feb06b194bccf", "filename": "clippy_lints/src/methods/manual_split_once.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmanual_split_once.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmanual_split_once.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmanual_split_once.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -123,7 +123,7 @@ fn parse_iter_usage(\n                     return if_chain! {\n                         if match_def_path(cx, did, &paths::ITERTOOLS_NEXT_TUPLE);\n                         if let ty::Adt(adt_def, subs) = cx.typeck_results().expr_ty(e).kind();\n-                        if cx.tcx.is_diagnostic_item(sym::option_type, adt_def.did);\n+                        if cx.tcx.is_diagnostic_item(sym::Option, adt_def.did);\n                         if let ty::Tuple(subs) = subs.type_at(0).kind();\n                         if subs.len() == 2;\n                         then {\n@@ -193,7 +193,7 @@ fn parse_iter_usage(\n                     && cx\n                         .typeck_results()\n                         .type_dependent_def_id(e.hir_id)\n-                        .map_or(false, |id| is_diag_item_method(cx, id, sym::option_type)) =>\n+                        .map_or(false, |id| is_diag_item_method(cx, id, sym::Option)) =>\n             {\n                 (Some(UnwrapKind::Unwrap), e.span)\n             },"}, {"sha": "d74c910b676717a244a43f1e4255fa0b1d8eadde", "filename": "clippy_lints/src/methods/manual_str_repeat.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmanual_str_repeat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmanual_str_repeat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmanual_str_repeat.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -36,14 +36,14 @@ fn parse_repeat_arg(cx: &LateContext<'_>, e: &Expr<'_>) -> Option<RepeatKind> {\n         }\n     } else {\n         let ty = cx.typeck_results().expr_ty(e);\n-        if is_type_diagnostic_item(cx, ty, sym::string_type)\n+        if is_type_diagnostic_item(cx, ty, sym::String)\n             || (is_type_lang_item(cx, ty, LangItem::OwnedBox) && get_ty_param(ty).map_or(false, TyS::is_str))\n             || (match_type(cx, ty, &paths::COW) && get_ty_param(ty).map_or(false, TyS::is_str))\n         {\n             Some(RepeatKind::String)\n         } else {\n             let ty = ty.peel_refs();\n-            (ty.is_str() || is_type_diagnostic_item(cx, ty, sym::string_type)).then(|| RepeatKind::String)\n+            (ty.is_str() || is_type_diagnostic_item(cx, ty, sym::String)).then(|| RepeatKind::String)\n         }\n     }\n }\n@@ -58,7 +58,7 @@ pub(super) fn check(\n     if_chain! {\n         if let ExprKind::Call(repeat_fn, [repeat_arg]) = take_self_arg.kind;\n         if is_expr_path_def_path(cx, repeat_fn, &paths::ITER_REPEAT);\n-        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(collect_expr), sym::string_type);\n+        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(collect_expr), sym::String);\n         if let Some(collect_id) = cx.typeck_results().type_dependent_def_id(collect_expr.hir_id);\n         if let Some(take_id) = cx.typeck_results().type_dependent_def_id(take_expr.hir_id);\n         if let Some(iter_trait_id) = cx.tcx.get_diagnostic_item(sym::Iterator);"}, {"sha": "d420f144eea1ff197dfe7439719a9c6a934e83fd", "filename": "clippy_lints/src/methods/map_collect_result_unit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_collect_result_unit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_collect_result_unit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmap_collect_result_unit.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -23,7 +23,7 @@ pub(super) fn check(\n         if is_trait_method(cx, collect_recv, sym::Iterator);\n         // return of collect `Result<(),_>`\n         let collect_ret_ty = cx.typeck_results().expr_ty(expr);\n-        if is_type_diagnostic_item(cx, collect_ret_ty, sym::result_type);\n+        if is_type_diagnostic_item(cx, collect_ret_ty, sym::Result);\n         if let ty::Adt(_, substs) = collect_ret_ty.kind();\n         if let Some(result_t) = substs.types().next();\n         if result_t.is_unit();"}, {"sha": "6782f64f2ca41f78a2128587741524dbd8cb2caa", "filename": "clippy_lints/src/methods/map_flatten.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_flatten.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_flatten.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmap_flatten.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -27,7 +27,7 @@ pub(super) fn check<'tcx>(\n                     _ => map_closure_ty.fn_sig(cx.tcx),\n                 };\n                 let map_closure_return_ty = cx.tcx.erase_late_bound_regions(map_closure_sig.output());\n-                is_type_diagnostic_item(cx, map_closure_return_ty, sym::option_type)\n+                is_type_diagnostic_item(cx, map_closure_return_ty, sym::Option)\n             },\n             _ => false,\n         };\n@@ -55,9 +55,9 @@ pub(super) fn check<'tcx>(\n     // lint if caller of `.map().flatten()` is an Option or Result\n     let caller_type = match cx.typeck_results().expr_ty(recv).kind() {\n         ty::Adt(adt, _) => {\n-            if cx.tcx.is_diagnostic_item(sym::option_type, adt.did) {\n+            if cx.tcx.is_diagnostic_item(sym::Option, adt.did) {\n                 \"Option\"\n-            } else if cx.tcx.is_diagnostic_item(sym::result_type, adt.did) {\n+            } else if cx.tcx.is_diagnostic_item(sym::Result, adt.did) {\n                 \"Result\"\n             } else {\n                 return;"}, {"sha": "f112b500d3d296051a3c43033383e45bd92a1458", "filename": "clippy_lints/src/methods/map_identity.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_identity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_identity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmap_identity.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -19,8 +19,8 @@ pub(super) fn check(\n \n     if_chain! {\n         if is_trait_method(cx, expr, sym::Iterator)\n-            || is_type_diagnostic_item(cx, caller_ty, sym::result_type)\n-            || is_type_diagnostic_item(cx, caller_ty, sym::option_type);\n+            || is_type_diagnostic_item(cx, caller_ty, sym::Result)\n+            || is_type_diagnostic_item(cx, caller_ty, sym::Option);\n         if is_expr_identity_function(cx, map_arg);\n         if let Some(sugg_span) = expr.span.trim_start(caller.span);\n         then {"}, {"sha": "9ec84e76519accbcfa1e8115522472e36b2facc1", "filename": "clippy_lints/src/methods/map_unwrap_or.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_unwrap_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fmap_unwrap_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmap_unwrap_or.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -22,8 +22,8 @@ pub(super) fn check<'tcx>(\n     msrv: Option<&RustcVersion>,\n ) -> bool {\n     // lint if the caller of `map()` is an `Option`\n-    let is_option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::option_type);\n-    let is_result = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::result_type);\n+    let is_option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Option);\n+    let is_result = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Result);\n \n     if is_result && !meets_msrv(msrv, &msrvs::RESULT_MAP_OR_ELSE) {\n         return false;"}, {"sha": "d64a9f320d90e175230009b348f76152e9d9462c", "filename": "clippy_lints/src/methods/ok_expect.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fok_expect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fok_expect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fok_expect.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -12,7 +12,7 @@ use super::OK_EXPECT;\n pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, recv: &hir::Expr<'_>) {\n     if_chain! {\n         // lint if the caller of `ok()` is a `Result`\n-        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::result_type);\n+        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Result);\n         let result_type = cx.typeck_results().expr_ty(recv);\n         if let Some(error_type) = get_error_type(cx, result_type);\n         if has_debug_impl(error_type, cx);\n@@ -33,14 +33,14 @@ pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, recv: &hir::Expr\n /// Given a `Result<T, E>` type, return its error type (`E`).\n fn get_error_type<'a>(cx: &LateContext<'_>, ty: Ty<'a>) -> Option<Ty<'a>> {\n     match ty.kind() {\n-        ty::Adt(_, substs) if is_type_diagnostic_item(cx, ty, sym::result_type) => substs.types().nth(1),\n+        ty::Adt(_, substs) if is_type_diagnostic_item(cx, ty, sym::Result) => substs.types().nth(1),\n         _ => None,\n     }\n }\n \n /// This checks whether a given type is known to implement Debug.\n fn has_debug_impl<'tcx>(ty: Ty<'tcx>, cx: &LateContext<'tcx>) -> bool {\n     cx.tcx\n-        .get_diagnostic_item(sym::debug_trait)\n+        .get_diagnostic_item(sym::Debug)\n         .map_or(false, |debug| implements_trait(cx, ty, debug, &[]))\n }"}, {"sha": "d3f40d2620805bde24f1ba3d39865a7d826ccb28", "filename": "clippy_lints/src/methods/option_as_ref_deref.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Foption_as_ref_deref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Foption_as_ref_deref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Foption_as_ref_deref.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -28,7 +28,7 @@ pub(super) fn check<'tcx>(\n     let same_mutability = |m| (is_mut && m == &hir::Mutability::Mut) || (!is_mut && m == &hir::Mutability::Not);\n \n     let option_ty = cx.typeck_results().expr_ty(as_ref_recv);\n-    if !is_type_diagnostic_item(cx, option_ty, sym::option_type) {\n+    if !is_type_diagnostic_item(cx, option_ty, sym::Option) {\n         return;\n     }\n "}, {"sha": "e99b6b07d1569e88166ba30d44f881071a4984dc", "filename": "clippy_lints/src/methods/option_map_or_none.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Foption_map_or_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Foption_map_or_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Foption_map_or_none.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -19,8 +19,8 @@ pub(super) fn check<'tcx>(\n     def_arg: &'tcx hir::Expr<'_>,\n     map_arg: &'tcx hir::Expr<'_>,\n ) {\n-    let is_option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::option_type);\n-    let is_result = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::result_type);\n+    let is_option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Option);\n+    let is_result = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Result);\n \n     // There are two variants of this `map_or` lint:\n     // (1) using `map_or` as an adapter from `Result<T,E>` to `Option<T>`"}, {"sha": "2faa6a69f81dc136bb45e56b11f779149015ecc3", "filename": "clippy_lints/src/methods/option_map_unwrap_or.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Foption_map_unwrap_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Foption_map_unwrap_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Foption_map_unwrap_or.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -25,7 +25,7 @@ pub(super) fn check<'tcx>(\n     map_span: Span,\n ) {\n     // lint if the caller of `map()` is an `Option`\n-    if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::option_type) {\n+    if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Option) {\n         if !is_copy(cx, cx.typeck_results().expr_ty(unwrap_arg)) {\n             // Do not lint if the `map` argument uses identifiers in the `map`\n             // argument that are also used in the `unwrap_or` argument"}, {"sha": "b5bbbb09092af4f12d27c6fc60cc363444796019", "filename": "clippy_lints/src/methods/or_fun_call.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2For_fun_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2For_fun_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2For_fun_call.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -105,7 +105,7 @@ pub(super) fn check<'tcx>(\n                     _ => (),\n                 }\n \n-                if is_type_diagnostic_item(cx, ty, sym::vec_type) {\n+                if is_type_diagnostic_item(cx, ty, sym::Vec) {\n                     return;\n                 }\n             }"}, {"sha": "0f2e58d8983faf7188b261d9109cf0a245f4da6a", "filename": "clippy_lints/src/methods/search_is_some.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fsearch_is_some.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fsearch_is_some.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fsearch_is_some.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -101,7 +101,7 @@ pub(super) fn check<'tcx>(\n     else if search_method == \"find\" {\n         let is_string_or_str_slice = |e| {\n             let self_ty = cx.typeck_results().expr_ty(e).peel_refs();\n-            if is_type_diagnostic_item(cx, self_ty, sym::string_type) {\n+            if is_type_diagnostic_item(cx, self_ty, sym::String) {\n                 true\n             } else {\n                 *self_ty.kind() == ty::Str"}, {"sha": "d06658f2a5e6e8241e9878ea3684e8d0776760a5", "filename": "clippy_lints/src/methods/string_extend_chars.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fstring_extend_chars.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Fstring_extend_chars.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fstring_extend_chars.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -12,15 +12,15 @@ use super::STRING_EXTEND_CHARS;\n \n pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, recv: &hir::Expr<'_>, arg: &hir::Expr<'_>) {\n     let obj_ty = cx.typeck_results().expr_ty(recv).peel_refs();\n-    if !is_type_diagnostic_item(cx, obj_ty, sym::string_type) {\n+    if !is_type_diagnostic_item(cx, obj_ty, sym::String) {\n         return;\n     }\n     if let Some(arglists) = method_chain_args(arg, &[\"chars\"]) {\n         let target = &arglists[0][0];\n         let self_ty = cx.typeck_results().expr_ty(target).peel_refs();\n         let ref_str = if *self_ty.kind() == ty::Str {\n             \"\"\n-        } else if is_type_diagnostic_item(cx, self_ty, sym::string_type) {\n+        } else if is_type_diagnostic_item(cx, self_ty, sym::String) {\n             \"&\"\n         } else {\n             return;"}, {"sha": "59bdfb923ed49f2229c00b478677f78fb05b2717", "filename": "clippy_lints/src/methods/unnecessary_filter_map.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_filter_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_filter_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_filter_map.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -35,8 +35,7 @@ pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, arg: &hir::Expr<\n             let in_ty = cx.typeck_results().node_type(body.params[0].hir_id);\n             match cx.typeck_results().expr_ty(&body.value).kind() {\n                 ty::Adt(adt, subst)\n-                    if cx.tcx.is_diagnostic_item(sym::option_type, adt.did)\n-                        && TyS::same_type(in_ty, subst.type_at(0)) =>\n+                    if cx.tcx.is_diagnostic_item(sym::Option, adt.did) && TyS::same_type(in_ty, subst.type_at(0)) =>\n                 {\n                     \"filter\"\n                 },"}, {"sha": "740af750b48a7bdaf9fc1a50d47cd1392e21fb1e", "filename": "clippy_lints/src/methods/unnecessary_lazy_eval.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_lazy_eval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_lazy_eval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_lazy_eval.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -18,8 +18,8 @@ pub(super) fn check<'tcx>(\n     arg: &'tcx hir::Expr<'_>,\n     simplify_using: &str,\n ) {\n-    let is_option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::option_type);\n-    let is_result = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::result_type);\n+    let is_option = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Option);\n+    let is_result = is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(recv), sym::Result);\n \n     if is_option || is_result {\n         if let hir::ExprKind::Closure(_, _, eid, _, _) = arg.kind {"}, {"sha": "276467b1dfdbff4a4a4e997651b3e3187ee44e6e", "filename": "clippy_lints/src/methods/unwrap_or_else_default.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funwrap_or_else_default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funwrap_or_else_default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funwrap_or_else_default.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -19,8 +19,8 @@ pub(super) fn check<'tcx>(\n     // ^^^^^^^^^- recv          ^^^^^^^^^^^^^^^^- u_arg\n     // ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^- expr\n     let recv_ty = cx.typeck_results().expr_ty(recv);\n-    let is_option = is_type_diagnostic_item(cx, recv_ty, sym::option_type);\n-    let is_result = is_type_diagnostic_item(cx, recv_ty, sym::result_type);\n+    let is_option = is_type_diagnostic_item(cx, recv_ty, sym::Option);\n+    let is_result = is_type_diagnostic_item(cx, recv_ty, sym::Result);\n \n     if_chain! {\n         if is_option || is_result;"}, {"sha": "44676d78c60762f179dc088790c8a60ec0bfe011", "filename": "clippy_lints/src/methods/unwrap_used.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funwrap_used.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Funwrap_used.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funwrap_used.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -10,9 +10,9 @@ use super::UNWRAP_USED;\n pub(super) fn check(cx: &LateContext<'_>, expr: &hir::Expr<'_>, recv: &hir::Expr<'_>) {\n     let obj_ty = cx.typeck_results().expr_ty(recv).peel_refs();\n \n-    let mess = if is_type_diagnostic_item(cx, obj_ty, sym::option_type) {\n+    let mess = if is_type_diagnostic_item(cx, obj_ty, sym::Option) {\n         Some((UNWRAP_USED, \"an Option\", \"None\"))\n-    } else if is_type_diagnostic_item(cx, obj_ty, sym::result_type) {\n+    } else if is_type_diagnostic_item(cx, obj_ty, sym::Result) {\n         Some((UNWRAP_USED, \"a Result\", \"Err\"))\n     } else {\n         None"}, {"sha": "ba2ce73a1165eeb1ef3707d91b1d373ce78b3fe5", "filename": "clippy_lints/src/methods/utils.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmethods%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Futils.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -17,7 +17,7 @@ pub(super) fn derefs_to_slice<'tcx>(\n         match ty.kind() {\n             ty::Slice(_) => true,\n             ty::Adt(def, _) if def.is_box() => may_slice(cx, ty.boxed_ty()),\n-            ty::Adt(..) => is_type_diagnostic_item(cx, ty, sym::vec_type),\n+            ty::Adt(..) => is_type_diagnostic_item(cx, ty, sym::Vec),\n             ty::Array(_, size) => size.try_eval_usize(cx.tcx, cx.param_env).is_some(),\n             ty::Ref(_, inner, _) => may_slice(cx, inner),\n             _ => false,"}, {"sha": "6920b4f72eaa11f55b607fbc2a40be3986bd9474", "filename": "clippy_lints/src/missing_doc.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmissing_doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmissing_doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_doc.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -13,6 +13,7 @@ use rustc_hir as hir;\n use rustc_lint::{LateContext, LateLintPass, LintContext};\n use rustc_middle::ty;\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n+use rustc_span::def_id::CRATE_DEF_ID;\n use rustc_span::source_map::Span;\n use rustc_span::sym;\n \n@@ -119,9 +120,9 @@ impl<'tcx> LateLintPass<'tcx> for MissingDoc {\n         self.doc_hidden_stack.pop().expect(\"empty doc_hidden_stack\");\n     }\n \n-    fn check_crate(&mut self, cx: &LateContext<'tcx>, krate: &'tcx hir::Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'tcx>) {\n         let attrs = cx.tcx.hir().attrs(hir::CRATE_HIR_ID);\n-        self.check_missing_docs_attrs(cx, attrs, krate.module().inner, \"the\", \"crate\");\n+        self.check_missing_docs_attrs(cx, attrs, cx.tcx.def_span(CRATE_DEF_ID), \"the\", \"crate\");\n     }\n \n     fn check_item(&mut self, cx: &LateContext<'tcx>, it: &'tcx hir::Item<'_>) {"}, {"sha": "448bfc2fdd67c98f33fe60ca83399dfa35b79505", "filename": "clippy_lints/src/missing_enforced_import_rename.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmissing_enforced_import_rename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmissing_enforced_import_rename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_enforced_import_rename.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -2,7 +2,7 @@ use clippy_utils::{diagnostics::span_lint_and_sugg, source::snippet_opt};\n \n use rustc_data_structures::fx::FxHashMap;\n use rustc_errors::Applicability;\n-use rustc_hir::{def::Res, def_id::DefId, Crate, Item, ItemKind, UseKind};\n+use rustc_hir::{def::Res, def_id::DefId, Item, ItemKind, UseKind};\n use rustc_lint::{LateContext, LateLintPass, LintContext};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::Symbol;\n@@ -55,7 +55,7 @@ impl ImportRename {\n impl_lint_pass!(ImportRename => [MISSING_ENFORCED_IMPORT_RENAMES]);\n \n impl LateLintPass<'_> for ImportRename {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         for Rename { path, rename } in &self.conf_renames {\n             if let Res::Def(_, id) = clippy_utils::path_to_res(cx, &path.split(\"::\").collect::<Vec<_>>()) {\n                 self.renames.insert(id, Symbol::intern(rename));"}, {"sha": "816b2f275fb5e17fb7a701d8867b7bb1f6ab2f32", "filename": "clippy_lints/src/multiple_crate_versions.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmultiple_crate_versions.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -3,7 +3,7 @@\n use clippy_utils::diagnostics::span_lint;\n use clippy_utils::is_lint_allowed;\n use rustc_hir::def_id::LOCAL_CRATE;\n-use rustc_hir::{Crate, CRATE_HIR_ID};\n+use rustc_hir::CRATE_HIR_ID;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::DUMMY_SP;\n@@ -41,7 +41,7 @@ declare_clippy_lint! {\n declare_lint_pass!(MultipleCrateVersions => [MULTIPLE_CRATE_VERSIONS]);\n \n impl LateLintPass<'_> for MultipleCrateVersions {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         if is_lint_allowed(cx, MULTIPLE_CRATE_VERSIONS, CRATE_HIR_ID) {\n             return;\n         }"}, {"sha": "8476257f086fb9455c52c08aa62f5be009e00c8e", "filename": "clippy_lints/src/mut_key.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmut_key.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmut_key.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_key.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -122,7 +122,7 @@ fn check_sig<'tcx>(cx: &LateContext<'tcx>, item_hir_id: hir::HirId, decl: &hir::\n fn check_ty<'tcx>(cx: &LateContext<'tcx>, span: Span, ty: Ty<'tcx>) {\n     let ty = ty.peel_refs();\n     if let Adt(def, substs) = ty.kind() {\n-        let is_keyed_type = [sym::hashmap_type, sym::BTreeMap, sym::hashset_type, sym::BTreeSet]\n+        let is_keyed_type = [sym::HashMap, sym::BTreeMap, sym::HashSet, sym::BTreeSet]\n             .iter()\n             .any(|diag_item| cx.tcx.is_diagnostic_item(*diag_item, def.did));\n         if is_keyed_type && is_interior_mutable_type(cx, substs.type_at(0), span) {\n@@ -147,11 +147,11 @@ fn is_interior_mutable_type<'tcx>(cx: &LateContext<'tcx>, ty: Ty<'tcx>, span: Sp\n             // that of their type parameters.  Note: we don't include `HashSet` and `HashMap`\n             // because they have no impl for `Hash` or `Ord`.\n             let is_std_collection = [\n-                sym::option_type,\n-                sym::result_type,\n+                sym::Option,\n+                sym::Result,\n                 sym::LinkedList,\n-                sym::vec_type,\n-                sym::vecdeque_type,\n+                sym::Vec,\n+                sym::VecDeque,\n                 sym::BTreeMap,\n                 sym::BTreeSet,\n                 sym::Rc,"}, {"sha": "b96fa4774cbb3633cdcae5b5a74f487ee1b66676", "filename": "clippy_lints/src/mut_mutex_lock.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmut_mutex_lock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmut_mutex_lock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_mutex_lock.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -6,6 +6,7 @@ use rustc_hir::{Expr, ExprKind, Mutability};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n+use rustc_span::sym;\n \n declare_clippy_lint! {\n     /// ### What it does\n@@ -51,7 +52,7 @@ impl<'tcx> LateLintPass<'tcx> for MutMutexLock {\n             if path.ident.name == sym!(lock);\n             let ty = cx.typeck_results().expr_ty(self_arg);\n             if let ty::Ref(_, inner_ty, Mutability::Mut) = ty.kind();\n-            if is_type_diagnostic_item(cx, inner_ty, sym!(mutex_type));\n+            if is_type_diagnostic_item(cx, inner_ty, sym::Mutex);\n             then {\n                 span_lint_and_sugg(\n                     cx,"}, {"sha": "5feddcbfc61042c6eeecd73900de7354a172519c", "filename": "clippy_lints/src/mutex_atomic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmutex_atomic.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -8,6 +8,7 @@ use rustc_hir::Expr;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty::{self, Ty};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n+use rustc_span::sym;\n \n declare_clippy_lint! {\n     /// ### What it does\n@@ -74,7 +75,7 @@ impl<'tcx> LateLintPass<'tcx> for Mutex {\n     fn check_expr(&mut self, cx: &LateContext<'tcx>, expr: &'tcx Expr<'_>) {\n         let ty = cx.typeck_results().expr_ty(expr);\n         if let ty::Adt(_, subst) = ty.kind() {\n-            if is_type_diagnostic_item(cx, ty, sym!(mutex_type)) {\n+            if is_type_diagnostic_item(cx, ty, sym::Mutex) {\n                 let mutex_param = subst.type_at(0);\n                 if let Some(atomic_name) = get_atomic_name(mutex_param) {\n                     let msg = format!("}, {"sha": "fbdaaf51f7484668306874e2f91f15d4087a7981", "filename": "clippy_lints/src/needless_option_as_deref.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fneedless_option_as_deref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fneedless_option_as_deref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_option_as_deref.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -45,7 +45,7 @@ impl<'tcx> LateLintPass<'tcx> for OptionNeedlessDeref {\n         let outer_ty = typeck.expr_ty(expr);\n \n         if_chain! {\n-            if is_type_diagnostic_item(cx,outer_ty,sym::option_type);\n+            if is_type_diagnostic_item(cx,outer_ty,sym::Option);\n             if let ExprKind::MethodCall(path, _, [sub_expr], _) = expr.kind;\n             let symbol = path.ident.as_str();\n             if symbol==\"as_deref\" || symbol==\"as_deref_mut\";"}, {"sha": "352dc6f8bec3dd7d07c621d211837dc870ae46d1", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -206,7 +206,7 @@ impl<'tcx> LateLintPass<'tcx> for NeedlessPassByValue {\n \n                         let deref_span = spans_need_deref.get(&canonical_id);\n                         if_chain! {\n-                            if is_type_diagnostic_item(cx, ty, sym::vec_type);\n+                            if is_type_diagnostic_item(cx, ty, sym::Vec);\n                             if let Some(clone_spans) =\n                                 get_spans(cx, Some(body.id()), idx, &[(\"clone\", \".to_owned()\")]);\n                             if let TyKind::Path(QPath::Resolved(_, path)) = input.kind;\n@@ -245,7 +245,7 @@ impl<'tcx> LateLintPass<'tcx> for NeedlessPassByValue {\n                             }\n                         }\n \n-                        if is_type_diagnostic_item(cx, ty, sym::string_type) {\n+                        if is_type_diagnostic_item(cx, ty, sym::String) {\n                             if let Some(clone_spans) =\n                                 get_spans(cx, Some(body.id()), idx, &[(\"clone\", \".to_string()\"), (\"as_str\", \"\")]) {\n                                 diag.span_suggestion("}, {"sha": "374b7bd59649e87db0f8ffbbdb22f1ae0b015309", "filename": "clippy_lints/src/non_send_fields_in_send_ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fnon_send_fields_in_send_ty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fnon_send_fields_in_send_ty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_send_fields_in_send_ty.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -76,7 +76,7 @@ impl<'tcx> LateLintPass<'tcx> for NonSendFieldInSendTy {\n         // single `AdtDef` may have multiple `Send` impls due to generic\n         // parameters, and the lint is much easier to implement in this way.\n         if_chain! {\n-            if let Some(send_trait) = cx.tcx.get_diagnostic_item(sym::send_trait);\n+            if let Some(send_trait) = cx.tcx.get_diagnostic_item(sym::Send);\n             if let ItemKind::Impl(hir_impl) = &item.kind;\n             if let Some(trait_ref) = &hir_impl.of_trait;\n             if let Some(trait_id) = trait_ref.trait_def_id();"}, {"sha": "a62eb0699891bf583fc94e13a6e38629b533f877", "filename": "clippy_lints/src/option_if_let_else.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Foption_if_let_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Foption_if_let_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foption_if_let_else.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -70,7 +70,7 @@ declare_lint_pass!(OptionIfLetElse => [OPTION_IF_LET_ELSE]);\n fn is_result_ok(cx: &LateContext<'_>, expr: &'_ Expr<'_>) -> bool {\n     if let ExprKind::MethodCall(path, _, &[ref receiver], _) = &expr.kind {\n         path.ident.name.as_str() == \"ok\"\n-            && is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(receiver), sym::result_type)\n+            && is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(receiver), sym::Result)\n     } else {\n         false\n     }"}, {"sha": "583c42b65631395a3acfec3a5748b917ff91e90f", "filename": "clippy_lints/src/panic_in_result_fn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpanic_in_result_fn.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -47,7 +47,7 @@ impl<'tcx> LateLintPass<'tcx> for PanicInResultFn {\n         span: Span,\n         hir_id: hir::HirId,\n     ) {\n-        if !matches!(fn_kind, FnKind::Closure) && is_type_diagnostic_item(cx, return_ty(cx, hir_id), sym::result_type) {\n+        if !matches!(fn_kind, FnKind::Closure) && is_type_diagnostic_item(cx, return_ty(cx, hir_id), sym::Result) {\n             lint_impl_body(cx, span, body);\n         }\n     }"}, {"sha": "d180d6f922710ddc01f1e822184a4630c0e08048", "filename": "clippy_lints/src/ptr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -258,7 +258,7 @@ fn check_fn(cx: &LateContext<'_>, decl: &FnDecl<'_>, fn_id: HirId, opt_body_id:\n         }\n \n         if let ty::Ref(_, ty, Mutability::Not) = ty.kind() {\n-            if is_type_diagnostic_item(cx, ty, sym::vec_type) {\n+            if is_type_diagnostic_item(cx, ty, sym::Vec) {\n                 if let Some(spans) = get_spans(cx, opt_body_id, idx, &[(\"clone\", \".to_owned()\")]) {\n                     span_lint_and_then(\n                         cx,\n@@ -288,7 +288,7 @@ fn check_fn(cx: &LateContext<'_>, decl: &FnDecl<'_>, fn_id: HirId, opt_body_id:\n                         },\n                     );\n                 }\n-            } else if is_type_diagnostic_item(cx, ty, sym::string_type) {\n+            } else if is_type_diagnostic_item(cx, ty, sym::String) {\n                 if let Some(spans) = get_spans(cx, opt_body_id, idx, &[(\"clone\", \".to_string()\"), (\"as_str\", \"\")]) {\n                     span_lint_and_then(\n                         cx,"}, {"sha": "aa6d254e7a54476acc0c109a431ae6b33d01f388", "filename": "clippy_lints/src/question_mark.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fquestion_mark.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fquestion_mark.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fquestion_mark.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -143,7 +143,7 @@ impl QuestionMark {\n     fn is_option(cx: &LateContext<'_>, expression: &Expr<'_>) -> bool {\n         let expr_ty = cx.typeck_results().expr_ty(expression);\n \n-        is_type_diagnostic_item(cx, expr_ty, sym::option_type)\n+        is_type_diagnostic_item(cx, expr_ty, sym::Option)\n     }\n \n     fn expression_returns_none(cx: &LateContext<'_>, expression: &Expr<'_>) -> bool {"}, {"sha": "f7711b6fe947654b6de39254a0f3cc87f3f80717", "filename": "clippy_lints/src/redundant_clone.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fredundant_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fredundant_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_clone.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -123,7 +123,7 @@ impl<'tcx> LateLintPass<'tcx> for RedundantClone {\n             let from_borrow = match_def_path(cx, fn_def_id, &paths::CLONE_TRAIT_METHOD)\n                 || match_def_path(cx, fn_def_id, &paths::TO_OWNED_METHOD)\n                 || (match_def_path(cx, fn_def_id, &paths::TO_STRING_METHOD)\n-                    && is_type_diagnostic_item(cx, arg_ty, sym::string_type));\n+                    && is_type_diagnostic_item(cx, arg_ty, sym::String));\n \n             let from_deref = !from_borrow\n                 && (match_def_path(cx, fn_def_id, &paths::PATH_TO_PATH_BUF)"}, {"sha": "d543832e314e97a197a38f6846d873513bf117f8", "filename": "clippy_lints/src/ref_option_ref.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fref_option_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fref_option_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fref_option_ref.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -45,7 +45,7 @@ impl<'tcx> LateLintPass<'tcx> for RefOptionRef {\n             if let Some(res) = last.res;\n             if let Some(def_id) = res.opt_def_id();\n \n-            if cx.tcx.is_diagnostic_item(sym::option_type, def_id);\n+            if cx.tcx.is_diagnostic_item(sym::Option, def_id);\n             if let Some(params) = last_path_segment(qpath).args ;\n             if !params.parenthesized;\n             if let Some(inner_ty) = params.args.iter().find_map(|arg| match arg {"}, {"sha": "cf94c0e97d930f166ec5a2b35da04c789dbc10e7", "filename": "clippy_lints/src/repeat_once.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Frepeat_once.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Frepeat_once.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Frepeat_once.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -72,7 +72,7 @@ impl<'tcx> LateLintPass<'tcx> for RepeatOnce {\n                         format!(\"{}.to_vec()\", snippet(cx, receiver.span, r#\"\"...\"\"#)),\n                         Applicability::MachineApplicable,\n                     );\n-                } else if is_type_diagnostic_item(cx, ty, sym::string_type) {\n+                } else if is_type_diagnostic_item(cx, ty, sym::String) {\n                     span_lint_and_sugg(\n                         cx,\n                         REPEAT_ONCE,"}, {"sha": "737ff634e449c4ff4406667e8f4d9e2afd4a6262", "filename": "clippy_lints/src/same_name_method.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fsame_name_method.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fsame_name_method.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsame_name_method.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,7 +1,7 @@\n use clippy_utils::diagnostics::span_lint_and_then;\n use rustc_data_structures::fx::FxHashMap;\n use rustc_hir::def::{DefKind, Res};\n-use rustc_hir::{Crate, Impl, ItemKind, Node, Path, QPath, TraitRef, TyKind};\n+use rustc_hir::{Impl, ItemKind, Node, Path, QPath, TraitRef, TyKind};\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_middle::ty::AssocKind;\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n@@ -46,10 +46,10 @@ struct ExistingName {\n }\n \n impl<'tcx> LateLintPass<'tcx> for SameNameMethod {\n-    fn check_crate_post(&mut self, cx: &LateContext<'tcx>, krate: &'tcx Crate<'tcx>) {\n+    fn check_crate_post(&mut self, cx: &LateContext<'tcx>) {\n         let mut map = FxHashMap::<Res, ExistingName>::default();\n \n-        for item in krate.items() {\n+        for item in cx.tcx.hir().items() {\n             if let ItemKind::Impl(Impl {\n                 items,\n                 of_trait,"}, {"sha": "3608fe1472dda5b53eb07a454bd6246b9d47db58", "filename": "clippy_lints/src/slow_vector_initialization.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fslow_vector_initialization.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -120,7 +120,7 @@ impl SlowVectorInit {\n             if let ExprKind::Call(func, [arg]) = expr.kind;\n             if let ExprKind::Path(QPath::TypeRelative(ty, name)) = func.kind;\n             if name.ident.as_str() == \"with_capacity\";\n-            if is_type_diagnostic_item(cx, cx.typeck_results().node_type(ty.hir_id), sym::vec_type);\n+            if is_type_diagnostic_item(cx, cx.typeck_results().node_type(ty.hir_id), sym::Vec);\n             then {\n                 Some(arg)\n             } else {"}, {"sha": "35b6bde56964c17f64c1f711dae4ed77fe9839d0", "filename": "clippy_lints/src/strings.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fstrings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fstrings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fstrings.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -157,7 +157,7 @@ impl<'tcx> LateLintPass<'tcx> for StringAdd {\n }\n \n fn is_string(cx: &LateContext<'_>, e: &Expr<'_>) -> bool {\n-    is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(e).peel_refs(), sym::string_type)\n+    is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(e).peel_refs(), sym::String)\n }\n \n fn is_add(cx: &LateContext<'_>, src: &Expr<'_>, target: &Expr<'_>) -> bool {\n@@ -397,7 +397,7 @@ impl LateLintPass<'_> for StringToString {\n             if let ExprKind::MethodCall(path, _, [self_arg, ..], _) = &expr.kind;\n             if path.ident.name == sym!(to_string);\n             let ty = cx.typeck_results().expr_ty(self_arg);\n-            if is_type_diagnostic_item(cx, ty, sym::string_type);\n+            if is_type_diagnostic_item(cx, ty, sym::String);\n             then {\n                 span_lint_and_help(\n                     cx,"}, {"sha": "ef26de5b6b933dd810b9a0c845e2269efab2fb3b", "filename": "clippy_lints/src/swap.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fswap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fswap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fswap.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -86,8 +86,8 @@ fn generate_swap_warning(cx: &LateContext<'_>, e1: &Expr<'_>, e2: &Expr<'_>, spa\n \n                     if matches!(ty.kind(), ty::Slice(_))\n                         || matches!(ty.kind(), ty::Array(_, _))\n-                        || is_type_diagnostic_item(cx, ty, sym::vec_type)\n-                        || is_type_diagnostic_item(cx, ty, sym::vecdeque_type)\n+                        || is_type_diagnostic_item(cx, ty, sym::Vec)\n+                        || is_type_diagnostic_item(cx, ty, sym::VecDeque)\n                     {\n                         let slice = Sugg::hir_with_applicability(cx, lhs1, \"<slice>\", &mut applicability);\n                         span_lint_and_sugg(\n@@ -231,7 +231,7 @@ fn check_xor_swap(cx: &LateContext<'_>, block: &Block<'_>) {\n     }\n }\n \n-/// Returns the lhs and rhs of an xor assignment statement.  \n+/// Returns the lhs and rhs of an xor assignment statement.\n fn extract_sides_of_xor_assign<'a, 'hir>(stmt: &'a Stmt<'hir>) -> Option<(&'a Expr<'hir>, &'a Expr<'hir>)> {\n     if let StmtKind::Semi(expr) = stmt.kind {\n         if let ExprKind::AssignOp("}, {"sha": "2ce8d4031d77cb7c721bf207404c8e5bc6d68875", "filename": "clippy_lints/src/transmute/unsound_collection_transmute.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftransmute%2Funsound_collection_transmute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftransmute%2Funsound_collection_transmute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Funsound_collection_transmute.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -9,13 +9,13 @@ use rustc_span::symbol::{sym, Symbol};\n \n // used to check for UNSOUND_COLLECTION_TRANSMUTE\n static COLLECTIONS: &[Symbol] = &[\n-    sym::vec_type,\n-    sym::vecdeque_type,\n+    sym::Vec,\n+    sym::VecDeque,\n     sym::BinaryHeap,\n     sym::BTreeSet,\n     sym::BTreeMap,\n-    sym::hashset_type,\n-    sym::hashmap_type,\n+    sym::HashSet,\n+    sym::HashMap,\n ];\n \n /// Checks for `unsound_collection_transmute` lint."}, {"sha": "e9ec120a7f958d78eb8e96441c57277515cfe2c3", "filename": "clippy_lints/src/try_err.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftry_err.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftry_err.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftry_err.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -143,7 +143,7 @@ fn find_return_type<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx ExprKind<'_>) -> O\n fn result_error_type<'tcx>(cx: &LateContext<'tcx>, ty: Ty<'tcx>) -> Option<Ty<'tcx>> {\n     if_chain! {\n         if let ty::Adt(_, subst) = ty.kind();\n-        if is_type_diagnostic_item(cx, ty, sym::result_type);\n+        if is_type_diagnostic_item(cx, ty, sym::Result);\n         then {\n             Some(subst.type_at(1))\n         } else {\n@@ -160,7 +160,7 @@ fn poll_result_error_type<'tcx>(cx: &LateContext<'tcx>, ty: Ty<'tcx>) -> Option<\n         let ready_ty = subst.type_at(0);\n \n         if let ty::Adt(ready_def, ready_subst) = ready_ty.kind();\n-        if cx.tcx.is_diagnostic_item(sym::result_type, ready_def.did);\n+        if cx.tcx.is_diagnostic_item(sym::Result, ready_def.did);\n         then {\n             Some(ready_subst.type_at(1))\n         } else {\n@@ -177,11 +177,11 @@ fn poll_option_result_error_type<'tcx>(cx: &LateContext<'tcx>, ty: Ty<'tcx>) ->\n         let ready_ty = subst.type_at(0);\n \n         if let ty::Adt(ready_def, ready_subst) = ready_ty.kind();\n-        if cx.tcx.is_diagnostic_item(sym::option_type, ready_def.did);\n+        if cx.tcx.is_diagnostic_item(sym::Option, ready_def.did);\n         let some_ty = ready_subst.type_at(0);\n \n         if let ty::Adt(some_def, some_subst) = some_ty.kind();\n-        if cx.tcx.is_diagnostic_item(sym::result_type, some_def.did);\n+        if cx.tcx.is_diagnostic_item(sym::Result, some_def.did);\n         then {\n             Some(some_subst.type_at(1))\n         } else {"}, {"sha": "538c10a5b2045403640a0cae49cb1ce8ba9db760", "filename": "clippy_lints/src/types/box_collection.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Fbox_collection.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Fbox_collection.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fbox_collection.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -38,11 +38,11 @@ pub(super) fn check(cx: &LateContext<'_>, hir_ty: &hir::Ty<'_>, qpath: &QPath<'_\n }\n \n fn get_std_collection(cx: &LateContext<'_>, qpath: &QPath<'_>) -> Option<&'static str> {\n-    if is_ty_param_diagnostic_item(cx, qpath, sym::vec_type).is_some() {\n+    if is_ty_param_diagnostic_item(cx, qpath, sym::Vec).is_some() {\n         Some(\"Vec\")\n-    } else if is_ty_param_diagnostic_item(cx, qpath, sym::string_type).is_some() {\n+    } else if is_ty_param_diagnostic_item(cx, qpath, sym::String).is_some() {\n         Some(\"String\")\n-    } else if is_ty_param_diagnostic_item(cx, qpath, sym::hashmap_type).is_some() {\n+    } else if is_ty_param_diagnostic_item(cx, qpath, sym::HashMap).is_some() {\n         Some(\"HashMap\")\n     } else {\n         None"}, {"sha": "903e62995c61702be4775eb152c9674a5e25486b", "filename": "clippy_lints/src/types/option_option.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Foption_option.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Foption_option.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Foption_option.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -7,9 +7,7 @@ use rustc_span::symbol::sym;\n use super::OPTION_OPTION;\n \n pub(super) fn check(cx: &LateContext<'_>, hir_ty: &hir::Ty<'_>, qpath: &QPath<'_>, def_id: DefId) -> bool {\n-    if cx.tcx.is_diagnostic_item(sym::option_type, def_id)\n-        && is_ty_param_diagnostic_item(cx, qpath, sym::option_type).is_some()\n-    {\n+    if cx.tcx.is_diagnostic_item(sym::Option, def_id) && is_ty_param_diagnostic_item(cx, qpath, sym::Option).is_some() {\n         span_lint(\n             cx,\n             OPTION_OPTION,"}, {"sha": "31c4abdfc95ea59d4f953926d80af3e14f9c9f1a", "filename": "clippy_lints/src/types/rc_buffer.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Frc_buffer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Frc_buffer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Frc_buffer.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -20,7 +20,7 @@ pub(super) fn check(cx: &LateContext<'_>, hir_ty: &hir::Ty<'_>, qpath: &QPath<'_\n                 format!(\"Rc<{}>\", alternate),\n                 Applicability::MachineApplicable,\n             );\n-        } else if let Some(ty) = is_ty_param_diagnostic_item(cx, qpath, sym::vec_type) {\n+        } else if let Some(ty) = is_ty_param_diagnostic_item(cx, qpath, sym::Vec) {\n             let qpath = match &ty.kind {\n                 TyKind::Path(qpath) => qpath,\n                 _ => return false,\n@@ -55,7 +55,7 @@ pub(super) fn check(cx: &LateContext<'_>, hir_ty: &hir::Ty<'_>, qpath: &QPath<'_\n                 format!(\"Arc<{}>\", alternate),\n                 Applicability::MachineApplicable,\n             );\n-        } else if let Some(ty) = is_ty_param_diagnostic_item(cx, qpath, sym::vec_type) {\n+        } else if let Some(ty) = is_ty_param_diagnostic_item(cx, qpath, sym::Vec) {\n             let qpath = match &ty.kind {\n                 TyKind::Path(qpath) => qpath,\n                 _ => return false,\n@@ -85,7 +85,7 @@ pub(super) fn check(cx: &LateContext<'_>, hir_ty: &hir::Ty<'_>, qpath: &QPath<'_\n }\n \n fn match_buffer_type(cx: &LateContext<'_>, qpath: &QPath<'_>) -> Option<&'static str> {\n-    if is_ty_param_diagnostic_item(cx, qpath, sym::string_type).is_some() {\n+    if is_ty_param_diagnostic_item(cx, qpath, sym::String).is_some() {\n         Some(\"str\")\n     } else if is_ty_param_diagnostic_item(cx, qpath, sym::OsString).is_some() {\n         Some(\"std::ffi::OsStr\")"}, {"sha": "d54608a07bb27e70a5432be150f6fcd137b9653e", "filename": "clippy_lints/src/types/rc_mutex.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Frc_mutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Frc_mutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Frc_mutex.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -10,7 +10,7 @@ use super::RC_MUTEX;\n pub(super) fn check(cx: &LateContext<'_>, hir_ty: &hir::Ty<'_>, qpath: &QPath<'_>, def_id: DefId) -> bool {\n     if_chain! {\n         if cx.tcx.is_diagnostic_item(sym::Rc, def_id) ;\n-        if let Some(_) = is_ty_param_diagnostic_item(cx, qpath, sym!(mutex_type)) ;\n+        if let Some(_) = is_ty_param_diagnostic_item(cx, qpath, sym::Mutex) ;\n         then {\n             span_lint_and_help(\n                 cx,"}, {"sha": "c632f822544a7297c851e9c2ac7710eb6c694530", "filename": "clippy_lints/src/types/vec_box.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fvec_box.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -19,7 +19,7 @@ pub(super) fn check(\n     def_id: DefId,\n     box_size_threshold: u64,\n ) -> bool {\n-    if cx.tcx.is_diagnostic_item(sym::vec_type, def_id) {\n+    if cx.tcx.is_diagnostic_item(sym::Vec, def_id) {\n         if_chain! {\n             // Get the _ part of Vec<_>\n             if let Some(last) = last_path_segment(qpath).args;"}, {"sha": "dd74bf367f3a58c810d484fe927561d27fb3cf9f", "filename": "clippy_lints/src/unnecessary_sort_by.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funnecessary_sort_by.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funnecessary_sort_by.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funnecessary_sort_by.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -168,7 +168,7 @@ fn detect_lint(cx: &LateContext<'_>, expr: &Expr<'_>) -> Option<LintTrigger> {\n         if let name = name_ident.ident.name.to_ident_string();\n         if name == \"sort_by\" || name == \"sort_unstable_by\";\n         if let [vec, Expr { kind: ExprKind::Closure(_, _, closure_body_id, _, _), .. }] = args;\n-        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(vec), sym::vec_type);\n+        if is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(vec), sym::Vec);\n         if let closure_body = cx.tcx.hir().body(*closure_body_id);\n         if let &[\n             Param { pat: Pat { kind: PatKind::Binding(_, _, left_ident, _), .. }, ..},"}, {"sha": "c940cf077d11c291ec7ac24e09725856fa30c861", "filename": "clippy_lints/src/unnecessary_wraps.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funnecessary_wraps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funnecessary_wraps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funnecessary_wraps.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -101,9 +101,9 @@ impl<'tcx> LateLintPass<'tcx> for UnnecessaryWraps {\n \n         // Get the wrapper and inner types, if can't, abort.\n         let (return_type_label, lang_item, inner_type) = if let ty::Adt(adt_def, subst) = return_ty(cx, hir_id).kind() {\n-            if cx.tcx.is_diagnostic_item(sym::option_type, adt_def.did) {\n+            if cx.tcx.is_diagnostic_item(sym::Option, adt_def.did) {\n                 (\"Option\", OptionSome, subst.type_at(0))\n-            } else if cx.tcx.is_diagnostic_item(sym::result_type, adt_def.did) {\n+            } else if cx.tcx.is_diagnostic_item(sym::Result, adt_def.did) {\n                 (\"Result\", ResultOk, subst.type_at(0))\n             } else {\n                 return;"}, {"sha": "ebaa9dcbbf85818cbcf8c36e399b0a44074df5cf", "filename": "clippy_lints/src/unwrap.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funwrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funwrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funwrap.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -132,11 +132,11 @@ fn collect_unwrap_info<'tcx>(\n     is_entire_condition: bool,\n ) -> Vec<UnwrapInfo<'tcx>> {\n     fn is_relevant_option_call(cx: &LateContext<'_>, ty: Ty<'_>, method_name: &str) -> bool {\n-        is_type_diagnostic_item(cx, ty, sym::option_type) && [\"is_some\", \"is_none\"].contains(&method_name)\n+        is_type_diagnostic_item(cx, ty, sym::Option) && [\"is_some\", \"is_none\"].contains(&method_name)\n     }\n \n     fn is_relevant_result_call(cx: &LateContext<'_>, ty: Ty<'_>, method_name: &str) -> bool {\n-        is_type_diagnostic_item(cx, ty, sym::result_type) && [\"is_ok\", \"is_err\"].contains(&method_name)\n+        is_type_diagnostic_item(cx, ty, sym::Result) && [\"is_ok\", \"is_err\"].contains(&method_name)\n     }\n \n     if let ExprKind::Binary(op, left, right) = &expr.kind {\n@@ -165,7 +165,7 @@ fn collect_unwrap_info<'tcx>(\n                     _ => unreachable!(),\n                 };\n                 let safe_to_unwrap = unwrappable != invert;\n-                let kind = if is_type_diagnostic_item(cx, ty, sym::option_type) {\n+                let kind = if is_type_diagnostic_item(cx, ty, sym::Option) {\n                     UnwrappableKind::Option\n                 } else {\n                     UnwrappableKind::Result"}, {"sha": "a4680ae137b3254e13f3c318448194a10211c8f9", "filename": "clippy_lints/src/unwrap_in_result.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funwrap_in_result.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Funwrap_in_result.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Funwrap_in_result.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -64,8 +64,8 @@ impl<'tcx> LateLintPass<'tcx> for UnwrapInResult {\n             // first check if it's a method or function\n             if let hir::ImplItemKind::Fn(ref _signature, _) = impl_item.kind;\n             // checking if its return type is `result` or `option`\n-            if is_type_diagnostic_item(cx, return_ty(cx, impl_item.hir_id()), sym::result_type)\n-                || is_type_diagnostic_item(cx, return_ty(cx, impl_item.hir_id()), sym::option_type);\n+            if is_type_diagnostic_item(cx, return_ty(cx, impl_item.hir_id()), sym::Result)\n+                || is_type_diagnostic_item(cx, return_ty(cx, impl_item.hir_id()), sym::Option);\n             then {\n                 lint_impl_body(cx, impl_item.span, impl_item);\n             }\n@@ -86,8 +86,8 @@ impl<'a, 'tcx> Visitor<'tcx> for FindExpectUnwrap<'a, 'tcx> {\n         // check for `expect`\n         if let Some(arglists) = method_chain_args(expr, &[\"expect\"]) {\n             let reciever_ty = self.typeck_results.expr_ty(&arglists[0][0]).peel_refs();\n-            if is_type_diagnostic_item(self.lcx, reciever_ty, sym::option_type)\n-                || is_type_diagnostic_item(self.lcx, reciever_ty, sym::result_type)\n+            if is_type_diagnostic_item(self.lcx, reciever_ty, sym::Option)\n+                || is_type_diagnostic_item(self.lcx, reciever_ty, sym::Result)\n             {\n                 self.result.push(expr.span);\n             }\n@@ -96,8 +96,8 @@ impl<'a, 'tcx> Visitor<'tcx> for FindExpectUnwrap<'a, 'tcx> {\n         // check for `unwrap`\n         if let Some(arglists) = method_chain_args(expr, &[\"unwrap\"]) {\n             let reciever_ty = self.typeck_results.expr_ty(&arglists[0][0]).peel_refs();\n-            if is_type_diagnostic_item(self.lcx, reciever_ty, sym::option_type)\n-                || is_type_diagnostic_item(self.lcx, reciever_ty, sym::result_type)\n+            if is_type_diagnostic_item(self.lcx, reciever_ty, sym::Option)\n+                || is_type_diagnostic_item(self.lcx, reciever_ty, sym::Result)\n             {\n                 self.result.push(expr.span);\n             }"}, {"sha": "88f11542072b849e7920c3893fb0bf0ce713ac49", "filename": "clippy_lints/src/useless_conversion.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fuseless_conversion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fuseless_conversion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fuseless_conversion.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -63,7 +63,7 @@ impl<'tcx> LateLintPass<'tcx> for UselessConversion {\n             },\n \n             ExprKind::MethodCall(name, .., args, _) => {\n-                if is_trait_method(cx, e, sym::into_trait) && &*name.ident.as_str() == \"into\" {\n+                if is_trait_method(cx, e, sym::Into) && &*name.ident.as_str() == \"into\" {\n                     let a = cx.typeck_results().expr_ty(e);\n                     let b = cx.typeck_results().expr_ty(&args[0]);\n                     if same_type_and_consts(a, b) {\n@@ -103,10 +103,10 @@ impl<'tcx> LateLintPass<'tcx> for UselessConversion {\n                     }\n                 }\n                 if_chain! {\n-                    if is_trait_method(cx, e, sym::try_into_trait) && name.ident.name == sym::try_into;\n+                    if is_trait_method(cx, e, sym::TryInto) && name.ident.name == sym::try_into;\n                     let a = cx.typeck_results().expr_ty(e);\n                     let b = cx.typeck_results().expr_ty(&args[0]);\n-                    if is_type_diagnostic_item(cx, a, sym::result_type);\n+                    if is_type_diagnostic_item(cx, a, sym::Result);\n                     if let ty::Adt(_, substs) = a.kind();\n                     if let Some(a_type) = substs.types().next();\n                     if same_type_and_consts(a_type, b);\n@@ -134,7 +134,7 @@ impl<'tcx> LateLintPass<'tcx> for UselessConversion {\n                         let b = cx.typeck_results().expr_ty(&args[0]);\n                         if_chain! {\n                             if match_def_path(cx, def_id, &paths::TRY_FROM);\n-                            if is_type_diagnostic_item(cx, a, sym::result_type);\n+                            if is_type_diagnostic_item(cx, a, sym::Result);\n                             if let ty::Adt(_, substs) = a.kind();\n                             if let Some(a_type) = substs.types().next();\n                             if same_type_and_consts(a_type, b);"}, {"sha": "9f9edbf258ac277831739b1fe2f0fb549ade8b22", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -8,7 +8,7 @@ use clippy_utils::{\n     paths, SpanlessEq,\n };\n use if_chain::if_chain;\n-use rustc_ast::ast::{Crate as AstCrate, ItemKind, LitKind, ModKind, NodeId};\n+use rustc_ast::ast::{Crate, ItemKind, LitKind, ModKind, NodeId};\n use rustc_ast::visit::FnKind;\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n use rustc_errors::Applicability;\n@@ -18,8 +18,8 @@ use rustc_hir::def_id::DefId;\n use rustc_hir::hir_id::CRATE_HIR_ID;\n use rustc_hir::intravisit::{NestedVisitorMap, Visitor};\n use rustc_hir::{\n-    BinOpKind, Block, Crate, Expr, ExprKind, HirId, Item, Local, MutTy, Mutability, Node, Path, Stmt, StmtKind, Ty,\n-    TyKind, UnOp,\n+    BinOpKind, Block, Expr, ExprKind, HirId, Item, Local, MutTy, Mutability, Node, Path, Stmt, StmtKind, Ty, TyKind,\n+    UnOp,\n };\n use rustc_lint::{EarlyContext, EarlyLintPass, LateContext, LateLintPass, LintContext};\n use rustc_middle::hir::map::Map;\n@@ -242,7 +242,7 @@ declare_clippy_lint! {\n     ///\n     /// Good:\n     /// ```rust,ignore\n-    /// utils::is_type_diagnostic_item(cx, ty, sym::vec_type)\n+    /// utils::is_type_diagnostic_item(cx, ty, sym::Vec)\n     /// ```\n     pub MATCH_TYPE_ON_DIAGNOSTIC_ITEM,\n     internal,\n@@ -317,7 +317,7 @@ declare_clippy_lint! {\n declare_lint_pass!(ClippyLintsInternal => [CLIPPY_LINTS_INTERNAL]);\n \n impl EarlyLintPass for ClippyLintsInternal {\n-    fn check_crate(&mut self, cx: &EarlyContext<'_>, krate: &AstCrate) {\n+    fn check_crate(&mut self, cx: &EarlyContext<'_>, krate: &Crate) {\n         if let Some(utils) = krate.items.iter().find(|item| item.ident.name.as_str() == \"utils\") {\n             if let ItemKind::Mod(_, ModKind::Loaded(ref items, ..)) = utils.kind {\n                 if let Some(paths) = items.iter().find(|item| item.ident.name.as_str() == \"paths\") {\n@@ -412,7 +412,7 @@ impl<'tcx> LateLintPass<'tcx> for LintWithoutLintPass {\n         }\n     }\n \n-    fn check_crate_post(&mut self, cx: &LateContext<'tcx>, _: &'tcx Crate<'_>) {\n+    fn check_crate_post(&mut self, cx: &LateContext<'tcx>) {\n         if is_lint_allowed(cx, LINT_WITHOUT_LINT_PASS, CRATE_HIR_ID) {\n             return;\n         }\n@@ -907,7 +907,7 @@ pub struct InterningDefinedSymbol {\n impl_lint_pass!(InterningDefinedSymbol => [INTERNING_DEFINED_SYMBOL, UNNECESSARY_SYMBOL_STR]);\n \n impl<'tcx> LateLintPass<'tcx> for InterningDefinedSymbol {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         if !self.symbol_map.is_empty() {\n             return;\n         }"}, {"sha": "d8e241d72af48fa51222e9a3e86fbd01c0eb347b", "filename": "clippy_lints/src/vec_init_then_push.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fvec_init_then_push.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fvec_init_then_push.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fvec_init_then_push.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -157,7 +157,7 @@ fn get_vec_init_kind<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'tcx>) -> Op\n     if let ExprKind::Call(func, args) = expr.kind {\n         match func.kind {\n             ExprKind::Path(QPath::TypeRelative(ty, name))\n-                if is_type_diagnostic_item(cx, cx.typeck_results().node_type(ty.hir_id), sym::vec_type) =>\n+                if is_type_diagnostic_item(cx, cx.typeck_results().node_type(ty.hir_id), sym::Vec) =>\n             {\n                 if name.ident.name == sym::new {\n                     return Some(VecInitKind::New);\n@@ -177,7 +177,7 @@ fn get_vec_init_kind<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'tcx>) -> Op\n             }\n             ExprKind::Path(QPath::Resolved(_, path))\n                 if match_def_path(cx, path.res.opt_def_id()?, &paths::DEFAULT_TRAIT_METHOD)\n-                    && is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::vec_type) =>\n+                    && is_type_diagnostic_item(cx, cx.typeck_results().expr_ty(expr), sym::Vec) =>\n             {\n                 return Some(VecInitKind::New);\n             }"}, {"sha": "d0c98b6bd798a5a368ef7b1fcb2427bf044c44f5", "filename": "clippy_lints/src/wildcard_dependencies.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwildcard_dependencies.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,5 +1,5 @@\n use clippy_utils::{diagnostics::span_lint, is_lint_allowed};\n-use rustc_hir::{hir_id::CRATE_HIR_ID, Crate};\n+use rustc_hir::hir_id::CRATE_HIR_ID;\n use rustc_lint::{LateContext, LateLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::DUMMY_SP;\n@@ -28,7 +28,7 @@ declare_clippy_lint! {\n declare_lint_pass!(WildcardDependencies => [WILDCARD_DEPENDENCIES]);\n \n impl LateLintPass<'_> for WildcardDependencies {\n-    fn check_crate(&mut self, cx: &LateContext<'_>, _: &Crate<'_>) {\n+    fn check_crate(&mut self, cx: &LateContext<'_>) {\n         if is_lint_allowed(cx, WILDCARD_DEPENDENCIES, CRATE_HIR_ID) {\n             return;\n         }"}, {"sha": "aa6b2614bbc908ca6e5f7757acfcc30f22348d15", "filename": "clippy_lints/src/zero_sized_map_values.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fzero_sized_map_values.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_lints%2Fsrc%2Fzero_sized_map_values.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fzero_sized_map_values.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -49,7 +49,7 @@ impl LateLintPass<'_> for ZeroSizedMapValues {\n             if !hir_ty.span.from_expansion();\n             if !in_trait_impl(cx, hir_ty.hir_id);\n             let ty = ty_from_hir_ty(cx, hir_ty);\n-            if is_type_diagnostic_item(cx, ty, sym::hashmap_type) || is_type_diagnostic_item(cx, ty, sym::BTreeMap);\n+            if is_type_diagnostic_item(cx, ty, sym::HashMap) || is_type_diagnostic_item(cx, ty, sym::BTreeMap);\n             if let Adt(_, substs) = ty.kind();\n             let ty = substs.type_at(1);\n             // Fixes https://github.com/rust-lang/rust-clippy/issues/7447 because of"}, {"sha": "1ea7ccfb75212bb5e9a12b3c04fe514dde7343db", "filename": "clippy_utils/src/eager_or_lazy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Feager_or_lazy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Feager_or_lazy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Feager_or_lazy.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -101,7 +101,7 @@ fn identify_some_potentially_expensive_patterns<'tcx>(cx: &LateContext<'tcx>, ex\n                 ExprKind::Call(..) => !is_ctor_or_promotable_const_function(self.cx, expr),\n                 ExprKind::Index(obj, _) => {\n                     let ty = self.cx.typeck_results().expr_ty(obj);\n-                    is_type_diagnostic_item(self.cx, ty, sym::hashmap_type)\n+                    is_type_diagnostic_item(self.cx, ty, sym::HashMap)\n                         || is_type_diagnostic_item(self.cx, ty, sym::BTreeMap)\n                 },\n                 ExprKind::MethodCall(..) => true,"}, {"sha": "c47aa9170e547c597711785aae6df8d83dc74844", "filename": "clippy_utils/src/lib.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Flib.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -18,7 +18,6 @@\n extern crate rustc_ast;\n extern crate rustc_ast_pretty;\n extern crate rustc_attr;\n-extern crate rustc_const_eval;\n extern crate rustc_data_structures;\n extern crate rustc_errors;\n extern crate rustc_hir;\n@@ -647,13 +646,13 @@ pub fn can_mut_borrow_both(cx: &LateContext<'_>, e1: &Expr<'_>, e2: &Expr<'_>) -\n /// constructor from the std library\n fn is_default_equivalent_ctor(cx: &LateContext<'_>, def_id: DefId, path: &QPath<'_>) -> bool {\n     let std_types_symbols = &[\n-        sym::string_type,\n-        sym::vec_type,\n-        sym::vecdeque_type,\n+        sym::String,\n+        sym::Vec,\n+        sym::VecDeque,\n         sym::LinkedList,\n-        sym::hashmap_type,\n+        sym::HashMap,\n         sym::BTreeMap,\n-        sym::hashset_type,\n+        sym::HashSet,\n         sym::BTreeSet,\n         sym::BinaryHeap,\n     ];"}, {"sha": "e43c5756021452e30e5f0fdb5706858a5c7237c8", "filename": "clippy_utils/src/paths.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Fpaths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Fpaths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fpaths.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -88,7 +88,7 @@ pub const MEM_SIZE_OF_VAL: [&str; 3] = [\"core\", \"mem\", \"size_of_val\"];\n pub const MUTEX_GUARD: [&str; 4] = [\"std\", \"sync\", \"mutex\", \"MutexGuard\"];\n pub const OPEN_OPTIONS: [&str; 3] = [\"std\", \"fs\", \"OpenOptions\"];\n pub const OPS_MODULE: [&str; 2] = [\"core\", \"ops\"];\n-/// Preferably use the diagnostic item `sym::option_type` where possible\n+/// Preferably use the diagnostic item `sym::Option` where possible\n pub const OPTION: [&str; 3] = [\"core\", \"option\", \"Option\"];\n pub const OPTION_NONE: [&str; 4] = [\"core\", \"option\", \"Option\", \"None\"];\n pub const OPTION_SOME: [&str; 4] = [\"core\", \"option\", \"Option\", \"Some\"];\n@@ -129,13 +129,19 @@ pub const RANGE_ARGUMENT_TRAIT: [&str; 3] = [\"core\", \"ops\", \"RangeBounds\"];\n pub const RC_PTR_EQ: [&str; 4] = [\"alloc\", \"rc\", \"Rc\", \"ptr_eq\"];\n pub const REFCELL_REF: [&str; 3] = [\"core\", \"cell\", \"Ref\"];\n pub const REFCELL_REFMUT: [&str; 3] = [\"core\", \"cell\", \"RefMut\"];\n+#[allow(clippy::invalid_paths)] // internal lints do not know about all external crates\n pub const REGEX_BUILDER_NEW: [&str; 5] = [\"regex\", \"re_builder\", \"unicode\", \"RegexBuilder\", \"new\"];\n+#[allow(clippy::invalid_paths)] // internal lints do not know about all external crates\n pub const REGEX_BYTES_BUILDER_NEW: [&str; 5] = [\"regex\", \"re_builder\", \"bytes\", \"RegexBuilder\", \"new\"];\n+#[allow(clippy::invalid_paths)] // internal lints do not know about all external crates\n pub const REGEX_BYTES_NEW: [&str; 4] = [\"regex\", \"re_bytes\", \"Regex\", \"new\"];\n+#[allow(clippy::invalid_paths)] // internal lints do not know about all external crates\n pub const REGEX_BYTES_SET_NEW: [&str; 5] = [\"regex\", \"re_set\", \"bytes\", \"RegexSet\", \"new\"];\n+#[allow(clippy::invalid_paths)] // internal lints do not know about all external crates\n pub const REGEX_NEW: [&str; 4] = [\"regex\", \"re_unicode\", \"Regex\", \"new\"];\n+#[allow(clippy::invalid_paths)] // internal lints do not know about all external crates\n pub const REGEX_SET_NEW: [&str; 5] = [\"regex\", \"re_set\", \"unicode\", \"RegexSet\", \"new\"];\n-/// Preferably use the diagnostic item `sym::result_type` where possible\n+/// Preferably use the diagnostic item `sym::Result` where possible\n pub const RESULT: [&str; 3] = [\"core\", \"result\", \"Result\"];\n pub const RESULT_ERR: [&str; 4] = [\"core\", \"result\", \"Result\", \"Err\"];\n pub const RESULT_OK: [&str; 4] = [\"core\", \"result\", \"Result\", \"Ok\"];"}, {"sha": "e6d8ba3f02eb063f0217944036ff087c59770771", "filename": "clippy_utils/src/qualify_min_const_fn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Fqualify_min_const_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Fqualify_min_const_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fqualify_min_const_fn.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -364,7 +364,7 @@ fn check_terminator(\n }\n \n fn is_const_fn(tcx: TyCtxt<'_>, def_id: DefId, msrv: Option<&RustcVersion>) -> bool {\n-    rustc_const_eval::const_eval::is_const_fn(tcx, def_id)\n+    tcx.is_const_fn(def_id)\n         && tcx.lookup_const_stability(def_id).map_or(true, |const_stab| {\n             if let rustc_attr::StabilityLevel::Stable { since } = const_stab.level {\n                 // Checking MSRV is manually necessary because `rustc` has no such concept. This entire"}, {"sha": "6ebe1a0028a315fff24a116237b52c245cf0ac5f", "filename": "clippy_utils/src/ty.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/clippy_utils%2Fsrc%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fty.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -77,16 +77,16 @@ pub fn has_iter_method(cx: &LateContext<'_>, probably_ref_ty: Ty<'_>) -> Option<\n     // exists and has the desired signature. Unfortunately FnCtxt is not exported\n     // so we can't use its `lookup_method` method.\n     let into_iter_collections: &[Symbol] = &[\n-        sym::vec_type,\n-        sym::option_type,\n-        sym::result_type,\n+        sym::Vec,\n+        sym::Option,\n+        sym::Result,\n         sym::BTreeMap,\n         sym::BTreeSet,\n-        sym::vecdeque_type,\n+        sym::VecDeque,\n         sym::LinkedList,\n         sym::BinaryHeap,\n-        sym::hashset_type,\n-        sym::hashmap_type,\n+        sym::HashSet,\n+        sym::HashMap,\n         sym::PathBuf,\n         sym::Path,\n         sym::Receiver,"}, {"sha": "f98819303e6827c80e373954d725f0483de628d2", "filename": "rust-toolchain", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/rust-toolchain", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/rust-toolchain", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rust-toolchain?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,3 +1,3 @@\n [toolchain]\n-channel = \"nightly-2021-09-28\"\n+channel = \"nightly-2021-10-07\"\n components = [\"llvm-tools-preview\", \"rustc-dev\", \"rust-src\"]"}, {"sha": "bf1d67e6054a28c743603257388312221882c7f7", "filename": "tests/ui-internal/match_type_on_diag_item.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui-internal%2Fmatch_type_on_diag_item.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui-internal%2Fmatch_type_on_diag_item.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Fmatch_type_on_diag_item.stderr?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -2,7 +2,7 @@ error: usage of `clippy_utils::ty::match_type()` on a type diagnostic item\n   --> $DIR/match_type_on_diag_item.rs:30:17\n    |\n LL |         let _ = match_type(cx, ty, &OPTION);\n-   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `clippy_utils::ty::is_type_diagnostic_item(cx, ty, sym::option_type)`\n+   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `clippy_utils::ty::is_type_diagnostic_item(cx, ty, sym::Option)`\n    |\n note: the lint level is defined here\n   --> $DIR/match_type_on_diag_item.rs:1:9\n@@ -15,7 +15,7 @@ error: usage of `clippy_utils::ty::match_type()` on a type diagnostic item\n   --> $DIR/match_type_on_diag_item.rs:31:17\n    |\n LL |         let _ = match_type(cx, ty, &[\"core\", \"result\", \"Result\"]);\n-   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `clippy_utils::ty::is_type_diagnostic_item(cx, ty, sym::result_type)`\n+   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `clippy_utils::ty::is_type_diagnostic_item(cx, ty, sym::Result)`\n \n error: usage of `clippy_utils::ty::match_type()` on a type diagnostic item\n   --> $DIR/match_type_on_diag_item.rs:34:17"}, {"sha": "bb238c81ebc05376a3a60ffe49442101d5202b00", "filename": "tests/ui/crashes/issues_loop_mut_cond.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Fcrashes%2Fissues_loop_mut_cond.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Fcrashes%2Fissues_loop_mut_cond.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcrashes%2Fissues_loop_mut_cond.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,4 +1,3 @@\n-#![allow(clippy::blocks_in_if_conditions)]\n #![allow(dead_code)]\n \n /// Issue: https://github.com/rust-lang/rust-clippy/issues/2596"}, {"sha": "156c88e2e45b7d902e8dc3fa3f28f083210c2758", "filename": "tests/ui/def_id_nocore.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Fdef_id_nocore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Fdef_id_nocore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdef_id_nocore.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -16,11 +16,12 @@ pub trait Copy {}\n pub unsafe trait Freeze {}\n \n #[lang = \"start\"]\n-#[start]\n-fn start(_argc: isize, _argv: *const *const u8) -> isize {\n+fn start<T>(_main: fn() -> T, _argc: isize, _argv: *const *const u8) -> isize {\n     0\n }\n \n+fn main() {}\n+\n struct A;\n \n impl A {"}, {"sha": "40d355e9a2e3e871bbe730bb01b6e4e440652bf3", "filename": "tests/ui/def_id_nocore.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Fdef_id_nocore.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Fdef_id_nocore.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdef_id_nocore.stderr?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,5 +1,5 @@\n error: methods called `as_*` usually take `self` by reference or `self` by mutable reference\n-  --> $DIR/def_id_nocore.rs:27:19\n+  --> $DIR/def_id_nocore.rs:28:19\n    |\n LL |     pub fn as_ref(self) -> &'static str {\n    |                   ^^^^"}, {"sha": "38e64b9ac0ada0a21fafdb086a9b3afa9c4f2200", "filename": "tests/ui/infinite_loop.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Finfinite_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Finfinite_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finfinite_loop.rs?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,5 +1,3 @@\n-#![allow(clippy::blocks_in_if_conditions)]\n-\n fn fn_val(i: i32) -> i32 {\n     unimplemented!()\n }"}, {"sha": "4ec7d900ade3dda39dc9dad2a8aadedd6b7ba249", "filename": "tests/ui/infinite_loop.stderr", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Finfinite_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b/tests%2Fui%2Finfinite_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finfinite_loop.stderr?ref=b7f3f7f6082679da2da9a0b3faf1b5adef3afd3b", "patch": "@@ -1,5 +1,5 @@\n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:22:11\n+  --> $DIR/infinite_loop.rs:20:11\n    |\n LL |     while y < 10 {\n    |           ^^^^^^\n@@ -8,71 +8,71 @@ LL |     while y < 10 {\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:27:11\n+  --> $DIR/infinite_loop.rs:25:11\n    |\n LL |     while y < 10 && x < 3 {\n    |           ^^^^^^^^^^^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:34:11\n+  --> $DIR/infinite_loop.rs:32:11\n    |\n LL |     while !cond {\n    |           ^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:78:11\n+  --> $DIR/infinite_loop.rs:76:11\n    |\n LL |     while i < 3 {\n    |           ^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:83:11\n+  --> $DIR/infinite_loop.rs:81:11\n    |\n LL |     while i < 3 && j > 0 {\n    |           ^^^^^^^^^^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:87:11\n+  --> $DIR/infinite_loop.rs:85:11\n    |\n LL |     while i < 3 {\n    |           ^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:102:11\n+  --> $DIR/infinite_loop.rs:100:11\n    |\n LL |     while i < 3 {\n    |           ^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:107:11\n+  --> $DIR/infinite_loop.rs:105:11\n    |\n LL |     while i < 3 {\n    |           ^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:173:15\n+  --> $DIR/infinite_loop.rs:171:15\n    |\n LL |         while self.count < n {\n    |               ^^^^^^^^^^^^^^\n    |\n    = note: this may lead to an infinite or to a never running loop\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:181:11\n+  --> $DIR/infinite_loop.rs:179:11\n    |\n LL |     while y < 10 {\n    |           ^^^^^^\n@@ -82,7 +82,7 @@ LL |     while y < 10 {\n    = help: rewrite it as `if cond { loop { } }`\n \n error: variables in the condition are not mutated in the loop body\n-  --> $DIR/infinite_loop.rs:188:11\n+  --> $DIR/infinite_loop.rs:186:11\n    |\n LL |     while y < 10 {\n    |           ^^^^^^"}]}