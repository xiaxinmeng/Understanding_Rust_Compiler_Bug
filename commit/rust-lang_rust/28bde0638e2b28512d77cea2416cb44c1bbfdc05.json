{"sha": "28bde0638e2b28512d77cea2416cb44c1bbfdc05", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI4YmRlMDYzOGUyYjI4NTEyZDc3Y2VhMjQxNmNiNDRjMWJiZmRjMDU=", "commit": {"author": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2019-05-17T13:47:11Z"}, "committer": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2019-05-17T13:47:11Z"}, "message": "Don't require rustfmt on beta", "tree": {"sha": "5f9f36f3a62fa52f46a7ceef9a817e50bfdf1d60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5f9f36f3a62fa52f46a7ceef9a817e50bfdf1d60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/28bde0638e2b28512d77cea2416cb44c1bbfdc05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/28bde0638e2b28512d77cea2416cb44c1bbfdc05", "html_url": "https://github.com/rust-lang/rust/commit/28bde0638e2b28512d77cea2416cb44c1bbfdc05", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/28bde0638e2b28512d77cea2416cb44c1bbfdc05/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "64a9f568e9b96c1843218200140c7029e6e27494", "url": "https://api.github.com/repos/rust-lang/rust/commits/64a9f568e9b96c1843218200140c7029e6e27494", "html_url": "https://github.com/rust-lang/rust/commit/64a9f568e9b96c1843218200140c7029e6e27494"}], "stats": {"total": 25, "additions": 0, "deletions": 25}, "files": [{"sha": "14b573454bbe0d6acf64ecee67dde82b4b3cd095", "filename": "ci/base-tests.sh", "status": "modified", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/28bde0638e2b28512d77cea2416cb44c1bbfdc05/ci%2Fbase-tests.sh", "raw_url": "https://github.com/rust-lang/rust/raw/28bde0638e2b28512d77cea2416cb44c1bbfdc05/ci%2Fbase-tests.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci%2Fbase-tests.sh?ref=28bde0638e2b28512d77cea2416cb44c1bbfdc05", "patch": "@@ -23,7 +23,6 @@ export CARGO_TARGET_DIR=`pwd`/target/\n \n # Perform various checks for lint registration\n ./util/dev update_lints --check\n-cargo +nightly fmt --all -- --check\n \n # Check running clippy-driver without cargo\n (\n@@ -50,29 +49,5 @@ cargo +nightly fmt --all -- --check\n   # TODO: CLIPPY_CONF_DIR / CARGO_MANIFEST_DIR\n )\n \n-# make sure tests are formatted\n-\n-# some lints are sensitive to formatting, exclude some files\n-tests_need_reformatting=\"false\"\n-# switch to nightly\n-rustup override set nightly\n-# avoid loop spam and allow cmds with exit status != 0\n-set +ex\n-\n-for file in `find tests | grep \"\\.rs$\"` ; do\n-  rustfmt ${file} --check\n-  if [ $? -ne 0 ]; then\n-    echo \"${file} needs reformatting!\"\n-    tests_need_reformatting=\"true\"\n-  fi\n-done\n-\n-set -ex # reset\n-\n-if [ \"${tests_need_reformatting}\" == \"true\" ] ; then\n-    echo \"Tests need reformatting!\"\n-    exit 2\n-fi\n-\n # switch back to master\n # rustup override set master"}]}