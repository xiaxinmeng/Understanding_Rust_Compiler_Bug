{"sha": "99638a68175c8f8483f58dc6878fe836929fde77", "node_id": "C_kwDOAAsO6NoAKDk5NjM4YTY4MTc1YzhmODQ4M2Y1OGRjNjg3OGZlODM2OTI5ZmRlNzc", "commit": {"author": {"name": "Nathan Fenner", "email": "nfenneremail@gmail.com", "date": "2023-01-24T05:54:40Z"}, "committer": {"name": "Nathan Fenner", "email": "nfenneremail@gmail.com", "date": "2023-01-24T05:54:40Z"}, "message": "revert change to test source", "tree": {"sha": "e7ea29bdacbcfb7cfad27bbe2ea59bbbe903524e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e7ea29bdacbcfb7cfad27bbe2ea59bbbe903524e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/99638a68175c8f8483f58dc6878fe836929fde77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/99638a68175c8f8483f58dc6878fe836929fde77", "html_url": "https://github.com/rust-lang/rust/commit/99638a68175c8f8483f58dc6878fe836929fde77", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/99638a68175c8f8483f58dc6878fe836929fde77/comments", "author": {"login": "Nathan-Fenner", "id": 6179181, "node_id": "MDQ6VXNlcjYxNzkxODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6179181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nathan-Fenner", "html_url": "https://github.com/Nathan-Fenner", "followers_url": "https://api.github.com/users/Nathan-Fenner/followers", "following_url": "https://api.github.com/users/Nathan-Fenner/following{/other_user}", "gists_url": "https://api.github.com/users/Nathan-Fenner/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nathan-Fenner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nathan-Fenner/subscriptions", "organizations_url": "https://api.github.com/users/Nathan-Fenner/orgs", "repos_url": "https://api.github.com/users/Nathan-Fenner/repos", "events_url": "https://api.github.com/users/Nathan-Fenner/events{/privacy}", "received_events_url": "https://api.github.com/users/Nathan-Fenner/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Nathan-Fenner", "id": 6179181, "node_id": "MDQ6VXNlcjYxNzkxODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6179181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nathan-Fenner", "html_url": "https://github.com/Nathan-Fenner", "followers_url": "https://api.github.com/users/Nathan-Fenner/followers", "following_url": "https://api.github.com/users/Nathan-Fenner/following{/other_user}", "gists_url": "https://api.github.com/users/Nathan-Fenner/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nathan-Fenner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nathan-Fenner/subscriptions", "organizations_url": "https://api.github.com/users/Nathan-Fenner/orgs", "repos_url": "https://api.github.com/users/Nathan-Fenner/repos", "events_url": "https://api.github.com/users/Nathan-Fenner/events{/privacy}", "received_events_url": "https://api.github.com/users/Nathan-Fenner/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb13b7bc44d89465a914e9b17a372aea26f207bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb13b7bc44d89465a914e9b17a372aea26f207bc", "html_url": "https://github.com/rust-lang/rust/commit/eb13b7bc44d89465a914e9b17a372aea26f207bc"}], "stats": {"total": 52, "additions": 26, "deletions": 26}, "files": [{"sha": "e70f6fc3430f67726e0192f0119ffd3657d5cff2", "filename": "tests/ui/higher-rank-trait-bounds/issue-62203-hrtb-ice.rs", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/99638a68175c8f8483f58dc6878fe836929fde77/tests%2Fui%2Fhigher-rank-trait-bounds%2Fissue-62203-hrtb-ice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99638a68175c8f8483f58dc6878fe836929fde77/tests%2Fui%2Fhigher-rank-trait-bounds%2Fissue-62203-hrtb-ice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fhigher-rank-trait-bounds%2Fissue-62203-hrtb-ice.rs?ref=99638a68175c8f8483f58dc6878fe836929fde77", "patch": "@@ -35,14 +35,16 @@ trait Ty<'a> {\n }\n \n fn main() {\n-    let v = Unit2.m(L {\n-        //~^ ERROR type mismatch\n-        //~| ERROR to be a closure that returns `Unit3`, but it returns `Unit4`\n-        f: |x| {\n-            drop(x);\n-            Unit4\n+    let v = Unit2.m(\n+        L {\n+            //~^ ERROR to be a closure that returns `Unit3`, but it returns `Unit4`\n+            //~| ERROR type mismatch\n+            f: |x| {\n+                drop(x);\n+                Unit4\n+            },\n         },\n-    });\n+    );\n }\n \n impl<'a> Ty<'a> for Unit2 {"}, {"sha": "810f7c28c004f61efa5575ec0e1426d170def6a2", "filename": "tests/ui/higher-rank-trait-bounds/issue-62203-hrtb-ice.stderr", "status": "modified", "additions": 17, "deletions": 19, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/99638a68175c8f8483f58dc6878fe836929fde77/tests%2Fui%2Fhigher-rank-trait-bounds%2Fissue-62203-hrtb-ice.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/99638a68175c8f8483f58dc6878fe836929fde77/tests%2Fui%2Fhigher-rank-trait-bounds%2Fissue-62203-hrtb-ice.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fhigher-rank-trait-bounds%2Fissue-62203-hrtb-ice.stderr?ref=99638a68175c8f8483f58dc6878fe836929fde77", "patch": "@@ -1,17 +1,16 @@\n-error[E0271]: type mismatch resolving `for<'r> <L<[closure@issue-62203-hrtb-ice.rs:41:12]> as T0<'r, (&'r u8,)>>::O == <_ as Ty<'r>>::V`\n-  --> $DIR/issue-62203-hrtb-ice.rs:38:21\n+error[E0271]: type mismatch resolving `for<'r> <L<[closure@issue-62203-hrtb-ice.rs:42:16]> as T0<'r, (&'r u8,)>>::O == <_ as Ty<'r>>::V`\n+  --> $DIR/issue-62203-hrtb-ice.rs:39:9\n    |\n-LL |       let v = Unit2.m(L {\n-   |  ___________________-_^\n-   | |                   |\n-   | |                   required by a bound introduced by this call\n+LL |       let v = Unit2.m(\n+   |                     - required by a bound introduced by this call\n+LL | /         L {\n LL | |\n LL | |\n-LL | |         f: |x| {\n+LL | |             f: |x| {\n ...  |\n+LL | |             },\n LL | |         },\n-LL | |     });\n-   | |_____^ type mismatch resolving `for<'r> <L<[closure@issue-62203-hrtb-ice.rs:41:12]> as T0<'r, (&'r u8,)>>::O == <_ as Ty<'r>>::V`\n+   | |_________^ type mismatch resolving `for<'r> <L<[closure@issue-62203-hrtb-ice.rs:42:16]> as T0<'r, (&'r u8,)>>::O == <_ as Ty<'r>>::V`\n    |\n note: expected this to be `<_ as Ty<'_>>::V`\n   --> $DIR/issue-62203-hrtb-ice.rs:21:14\n@@ -31,22 +30,21 @@ LL |     where\n LL |         F: for<'r> T0<'r, (<Self as Ty<'r>>::V,), O = <B as Ty<'r>>::V>,\n    |                                                   ^^^^^^^^^^^^^^^^^^^^ required by this bound in `T1::m`\n \n-error[E0271]: expected `[closure@issue-62203-hrtb-ice.rs:41:12]` to be a closure that returns `Unit3`, but it returns `Unit4`\n-  --> $DIR/issue-62203-hrtb-ice.rs:38:21\n+error[E0271]: expected `[closure@issue-62203-hrtb-ice.rs:42:16]` to be a closure that returns `Unit3`, but it returns `Unit4`\n+  --> $DIR/issue-62203-hrtb-ice.rs:39:9\n    |\n-LL |       let v = Unit2.m(L {\n-   |  ___________________-_^\n-   | |                   |\n-   | |                   required by a bound introduced by this call\n+LL |       let v = Unit2.m(\n+   |                     - required by a bound introduced by this call\n+LL | /         L {\n LL | |\n LL | |\n-LL | |         f: |x| {\n+LL | |             f: |x| {\n ...  |\n+LL | |             },\n LL | |         },\n-LL | |     });\n-   | |_____^ expected struct `Unit3`, found struct `Unit4`\n+   | |_________^ expected struct `Unit3`, found struct `Unit4`\n    |\n-note: required for `L<[closure@$DIR/issue-62203-hrtb-ice.rs:41:12: 41:15]>` to implement `for<'r> T0<'r, (&'r u8,)>`\n+note: required for `L<[closure@$DIR/issue-62203-hrtb-ice.rs:42:16: 42:19]>` to implement `for<'r> T0<'r, (&'r u8,)>`\n   --> $DIR/issue-62203-hrtb-ice.rs:17:16\n    |\n LL | impl<'a, A, T> T0<'a, A> for L<T>"}]}