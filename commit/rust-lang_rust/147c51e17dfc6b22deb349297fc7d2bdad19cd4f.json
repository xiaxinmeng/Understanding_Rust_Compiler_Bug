{"sha": "147c51e17dfc6b22deb349297fc7d2bdad19cd4f", "node_id": "C_kwDOAAsO6NoAKDE0N2M1MWUxN2RmYzZiMjJkZWIzNDkyOTdmYzdkMmJkYWQxOWNkNGY", "commit": {"author": {"name": "Matthew Maurer", "email": "mmaurer@google.com", "date": "2023-02-07T14:48:54Z"}, "committer": {"name": "Matthew Maurer", "email": "mmaurer@google.com", "date": "2023-02-07T14:51:58Z"}, "message": "llvm-16: Use Triple.h from new header location.\n\nLLVM 16 has moved Triple.h from ADT and into TargetParser", "tree": {"sha": "4e127c47f3da4fa0a621abd69ae31daf1b28028c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4e127c47f3da4fa0a621abd69ae31daf1b28028c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/147c51e17dfc6b22deb349297fc7d2bdad19cd4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/147c51e17dfc6b22deb349297fc7d2bdad19cd4f", "html_url": "https://github.com/rust-lang/rust/commit/147c51e17dfc6b22deb349297fc7d2bdad19cd4f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/147c51e17dfc6b22deb349297fc7d2bdad19cd4f/comments", "author": {"login": "maurer", "id": 136037, "node_id": "MDQ6VXNlcjEzNjAzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/136037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maurer", "html_url": "https://github.com/maurer", "followers_url": "https://api.github.com/users/maurer/followers", "following_url": "https://api.github.com/users/maurer/following{/other_user}", "gists_url": "https://api.github.com/users/maurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/maurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maurer/subscriptions", "organizations_url": "https://api.github.com/users/maurer/orgs", "repos_url": "https://api.github.com/users/maurer/repos", "events_url": "https://api.github.com/users/maurer/events{/privacy}", "received_events_url": "https://api.github.com/users/maurer/received_events", "type": "User", "site_admin": false}, "committer": {"login": "maurer", "id": 136037, "node_id": "MDQ6VXNlcjEzNjAzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/136037?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maurer", "html_url": "https://github.com/maurer", "followers_url": "https://api.github.com/users/maurer/followers", "following_url": "https://api.github.com/users/maurer/following{/other_user}", "gists_url": "https://api.github.com/users/maurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/maurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maurer/subscriptions", "organizations_url": "https://api.github.com/users/maurer/orgs", "repos_url": "https://api.github.com/users/maurer/repos", "events_url": "https://api.github.com/users/maurer/events{/privacy}", "received_events_url": "https://api.github.com/users/maurer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e4dd9edb76a34ecbca539967f9662b8c0cc9c7fb", "url": "https://api.github.com/repos/rust-lang/rust/commits/e4dd9edb76a34ecbca539967f9662b8c0cc9c7fb", "html_url": "https://github.com/rust-lang/rust/commit/e4dd9edb76a34ecbca539967f9662b8c0cc9c7fb"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "9146a3739b2b1b76dfe30a8dd68ec355debede20", "filename": "compiler/rustc_llvm/llvm-wrapper/LLVMWrapper.h", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/147c51e17dfc6b22deb349297fc7d2bdad19cd4f/compiler%2Frustc_llvm%2Fllvm-wrapper%2FLLVMWrapper.h", "raw_url": "https://github.com/rust-lang/rust/raw/147c51e17dfc6b22deb349297fc7d2bdad19cd4f/compiler%2Frustc_llvm%2Fllvm-wrapper%2FLLVMWrapper.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_llvm%2Fllvm-wrapper%2FLLVMWrapper.h?ref=147c51e17dfc6b22deb349297fc7d2bdad19cd4f", "patch": "@@ -4,7 +4,6 @@\n #include \"llvm/ADT/ArrayRef.h\"\n #include \"llvm/ADT/DenseSet.h\"\n #include \"llvm/ADT/SmallVector.h\"\n-#include \"llvm/ADT/Triple.h\"\n #include \"llvm/Analysis/Lint.h\"\n #include \"llvm/Analysis/Passes.h\"\n #include \"llvm/IR/IRBuilder.h\"\n@@ -44,6 +43,12 @@\n #include \"llvm/IR/IRPrintingPasses.h\"\n #include \"llvm/Linker/Linker.h\"\n \n+#if LLVM_VERSION_GE(16, 0)\n+#include \"llvm/TargetParser/Triple.h\"\n+#else\n+#include \"llvm/ADT/Triple.h\"\n+#endif\n+\n extern \"C\" void LLVMRustSetLastError(const char *);\n \n enum class LLVMRustResult { Success, Failure };"}]}