{"sha": "807a7bfcee7d8eab9a66f039b031381ebce65cd1", "node_id": "C_kwDOAAsO6NoAKDgwN2E3YmZjZWU3ZDhlYWI5YTY2ZjAzOWIwMzEzODFlYmNlNjVjZDE", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-11-08T08:36:08Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-11-08T08:36:08Z"}, "message": "clarify licensing situation of mpsc and spsc queue", "tree": {"sha": "6a2bba6016f4dc8ab2d0c8b2f502de9cc0231efa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6a2bba6016f4dc8ab2d0c8b2f502de9cc0231efa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/807a7bfcee7d8eab9a66f039b031381ebce65cd1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmNqFQIACgkQzXazX3c0\ndp5tyg/+InayuFcTrQwTWWAFfZWFNv+oJX8GN58IopSrrt+dL/ljgsJTcdz/07Bi\nhO6abCNzn/29MCJyfANvXACiwKWUDRHHztvpW+1DghSr6/0filpzT3KPZxCYqVl/\n3quxGXltzKpdbb01/TnfTqHEFCHzQRpkVPXp+REO/N6JAu54DBE83dzvAOu7xyrD\n3Okebg2omtckg2b2hlwipvorJDpa+kAjLVF4TD2rZWJQozHQj58bIliRTKKfcmVr\nV/UvBcOuuj/rUeEApDuuQtnaF1hRIvC3lWQnl8wyoq143T/cUZw/VzmPra5Yqo2u\nQJ0Ec0SbBMhRevoUPs85niOJc3mv90zO02B/jyr1Q55qivx/dkwKFx9wLFdMiRWz\nHsFk23M87FZkS8vwDr/lcDss8Ehjks16gUaud/a/SGeBid8QZLb//YC5Fq4RATAI\nNSla/PdoQYA7pj1vSFoTqE7qQctceSIPEZ+qde26Px84aRg1D66QCCOcZXlh0lVa\n2d9AtcQxyR8pwT9NZHu7ccPbV+dWqHrHIXN71d1n/4dU+PMIFrEBQ/U+ID4x77Pd\nfWTaFl5TKfCAKy6NSgF5zk0nouXaUTxtA3vYsZee5lX/P6d0wPRjUjj+NW6105bq\nYk7+4BC5sGckZaj9tOUnELqH2w/ybi6e4btdxKTjc6cacl0S0Qs=\n=3Uz2\n-----END PGP SIGNATURE-----", "payload": "tree 6a2bba6016f4dc8ab2d0c8b2f502de9cc0231efa\nparent 6b23a7e87fc60f6cc43c8cfb69169f2eecefaf14\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1667896568 +0100\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1667896568 +0100\n\nclarify licensing situation of mpsc and spsc queue\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/807a7bfcee7d8eab9a66f039b031381ebce65cd1", "html_url": "https://github.com/rust-lang/rust/commit/807a7bfcee7d8eab9a66f039b031381ebce65cd1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/807a7bfcee7d8eab9a66f039b031381ebce65cd1/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6b23a7e87fc60f6cc43c8cfb69169f2eecefaf14", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b23a7e87fc60f6cc43c8cfb69169f2eecefaf14", "html_url": "https://github.com/rust-lang/rust/commit/6b23a7e87fc60f6cc43c8cfb69169f2eecefaf14"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "7322512e3b4585346b96d8b31bf29a94f673eb7c", "filename": "library/std/src/sync/mpsc/mpsc_queue.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/807a7bfcee7d8eab9a66f039b031381ebce65cd1/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fmpsc_queue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/807a7bfcee7d8eab9a66f039b031381ebce65cd1/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fmpsc_queue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fmpsc_queue.rs?ref=807a7bfcee7d8eab9a66f039b031381ebce65cd1", "patch": "@@ -8,8 +8,15 @@\n //! method, and see the method for more information about it. Due to this\n //! caveat, this queue might not be appropriate for all use-cases.\n \n-// https://www.1024cores.net/home/lock-free-algorithms\n-//                          /queues/non-intrusive-mpsc-node-based-queue\n+// The original implementation is based off:\n+// https://www.1024cores.net/home/lock-free-algorithms/queues/non-intrusive-mpsc-node-based-queue\n+//\n+// Note that back when the code was imported, it was licensed under the BSD-2-Clause license:\n+// http://web.archive.org/web/20110411011612/https://www.1024cores.net/home/lock-free-algorithms/queues/unbounded-spsc-queue\n+//\n+// The original author of the code agreed to relicense it under `MIT OR Apache-2.0` in 2017, so as\n+// of today the license of this file is the same as the rest of the codebase:\n+// https://github.com/rust-lang/rust/pull/42149\n \n #[cfg(all(test, not(target_os = \"emscripten\")))]\n mod tests;"}, {"sha": "61f91313ea96d79f645c4cfee272826ee5947de3", "filename": "library/std/src/sync/mpsc/spsc_queue.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/807a7bfcee7d8eab9a66f039b031381ebce65cd1/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fspsc_queue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/807a7bfcee7d8eab9a66f039b031381ebce65cd1/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fspsc_queue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsync%2Fmpsc%2Fspsc_queue.rs?ref=807a7bfcee7d8eab9a66f039b031381ebce65cd1", "patch": "@@ -4,7 +4,15 @@\n //! concurrently between two threads. This data structure is safe to use and\n //! enforces the semantics that there is one pusher and one popper.\n \n+// The original implementation is based off:\n // https://www.1024cores.net/home/lock-free-algorithms/queues/unbounded-spsc-queue\n+//\n+// Note that back when the code was imported, it was licensed under the BSD-2-Clause license:\n+// http://web.archive.org/web/20110411011612/https://www.1024cores.net/home/lock-free-algorithms/queues/unbounded-spsc-queue\n+//\n+// The original author of the code agreed to relicense it under `MIT OR Apache-2.0` in 2017, so as\n+// of today the license of this file is the same as the rest of the codebase:\n+// https://github.com/rust-lang/rust/pull/42149\n \n #[cfg(all(test, not(target_os = \"emscripten\")))]\n mod tests;"}]}