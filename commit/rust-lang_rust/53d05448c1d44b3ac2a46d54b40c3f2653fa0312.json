{"sha": "53d05448c1d44b3ac2a46d54b40c3f2653fa0312", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUzZDA1NDQ4YzFkNDRiM2FjMmE0NmQ1NGI0MGMzZjI2NTNmYTAzMTI=", "commit": {"author": {"name": "Edwin Cheng", "email": "edwin0cheng@gmail.com", "date": "2020-04-08T10:34:20Z"}, "committer": {"name": "Edwin Cheng", "email": "edwin0cheng@gmail.com", "date": "2020-04-08T10:34:20Z"}, "message": "Add L_DOLLAR for TYPE_RECOVERY_SET", "tree": {"sha": "f5e6ed703101292693bacb6496c09ebfb2a7c655", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f5e6ed703101292693bacb6496c09ebfb2a7c655"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/53d05448c1d44b3ac2a46d54b40c3f2653fa0312", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/53d05448c1d44b3ac2a46d54b40c3f2653fa0312", "html_url": "https://github.com/rust-lang/rust/commit/53d05448c1d44b3ac2a46d54b40c3f2653fa0312", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/53d05448c1d44b3ac2a46d54b40c3f2653fa0312/comments", "author": {"login": "edwin0cheng", "id": 11014119, "node_id": "MDQ6VXNlcjExMDE0MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11014119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edwin0cheng", "html_url": "https://github.com/edwin0cheng", "followers_url": "https://api.github.com/users/edwin0cheng/followers", "following_url": "https://api.github.com/users/edwin0cheng/following{/other_user}", "gists_url": "https://api.github.com/users/edwin0cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/edwin0cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edwin0cheng/subscriptions", "organizations_url": "https://api.github.com/users/edwin0cheng/orgs", "repos_url": "https://api.github.com/users/edwin0cheng/repos", "events_url": "https://api.github.com/users/edwin0cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/edwin0cheng/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edwin0cheng", "id": 11014119, "node_id": "MDQ6VXNlcjExMDE0MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11014119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edwin0cheng", "html_url": "https://github.com/edwin0cheng", "followers_url": "https://api.github.com/users/edwin0cheng/followers", "following_url": "https://api.github.com/users/edwin0cheng/following{/other_user}", "gists_url": "https://api.github.com/users/edwin0cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/edwin0cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edwin0cheng/subscriptions", "organizations_url": "https://api.github.com/users/edwin0cheng/orgs", "repos_url": "https://api.github.com/users/edwin0cheng/repos", "events_url": "https://api.github.com/users/edwin0cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/edwin0cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d89c189ad1efe87e54855e6488184d7a3825a534", "url": "https://api.github.com/repos/rust-lang/rust/commits/d89c189ad1efe87e54855e6488184d7a3825a534", "html_url": "https://github.com/rust-lang/rust/commit/d89c189ad1efe87e54855e6488184d7a3825a534"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "254318e239d2938c8dbee05fb30a9f5e3748f62e", "filename": "crates/ra_mbe/src/tests.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/53d05448c1d44b3ac2a46d54b40c3f2653fa0312/crates%2Fra_mbe%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/53d05448c1d44b3ac2a46d54b40c3f2653fa0312/crates%2Fra_mbe%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_mbe%2Fsrc%2Ftests.rs?ref=53d05448c1d44b3ac2a46d54b40c3f2653fa0312", "patch": "@@ -1614,6 +1614,23 @@ fn test_issue_2520() {\n     );\n }\n \n+#[test]\n+fn test_issue_3861() {\n+    let macro_fixture = parse_macro(\n+        r#\"\n+        macro_rules! rgb_color {\n+            ($p:expr, $t: ty) => {\n+                pub fn new() {\n+                    let _ = 0 as $t << $p;\n+                }\n+            };\n+        }\n+    \"#,\n+    );\n+\n+    macro_fixture.expand_items(r#\"rgb_color!(8 + 8, u32);\"#);\n+}\n+\n #[test]\n fn test_repeat_bad_var() {\n     // FIXME: the second rule of the macro should be removed and an error about"}, {"sha": "386969d2d7e70282d46d018d4a8632bfc968fdb5", "filename": "crates/ra_parser/src/grammar/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/53d05448c1d44b3ac2a46d54b40c3f2653fa0312/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/53d05448c1d44b3ac2a46d54b40c3f2653fa0312/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftypes.rs?ref=53d05448c1d44b3ac2a46d54b40c3f2653fa0312", "patch": "@@ -7,7 +7,7 @@ pub(super) const TYPE_FIRST: TokenSet = paths::PATH_FIRST.union(token_set![\n     DYN_KW, L_ANGLE,\n ]);\n \n-const TYPE_RECOVERY_SET: TokenSet = token_set![R_PAREN, COMMA];\n+const TYPE_RECOVERY_SET: TokenSet = token_set![R_PAREN, COMMA, L_DOLLAR];\n \n pub(crate) fn type_(p: &mut Parser) {\n     type_with_bounds_cond(p, true);"}]}