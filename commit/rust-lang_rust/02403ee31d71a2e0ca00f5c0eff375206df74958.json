{"sha": "02403ee31d71a2e0ca00f5c0eff375206df74958", "node_id": "C_kwDOAAsO6NoAKDAyNDAzZWUzMWQ3MWEyZTBjYTAwZjVjMGVmZjM3NTIwNmRmNzQ5NTg", "commit": {"author": {"name": "SLASHLogin", "email": "loginmlgxd@gmail.com", "date": "2022-08-26T09:48:35Z"}, "committer": {"name": "SLASHLogin", "email": "loginmlgxd@gmail.com", "date": "2022-11-09T13:56:20Z"}, "message": "Reuse SymbolAlreadyDefined", "tree": {"sha": "6ef751410fd6bcd6b145b2707c286b20ec2ef66f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6ef751410fd6bcd6b145b2707c286b20ec2ef66f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/02403ee31d71a2e0ca00f5c0eff375206df74958", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/02403ee31d71a2e0ca00f5c0eff375206df74958", "html_url": "https://github.com/rust-lang/rust/commit/02403ee31d71a2e0ca00f5c0eff375206df74958", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/02403ee31d71a2e0ca00f5c0eff375206df74958/comments", "author": {"login": "SLASHLogin", "id": 24846525, "node_id": "MDQ6VXNlcjI0ODQ2NTI1", "avatar_url": "https://avatars.githubusercontent.com/u/24846525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SLASHLogin", "html_url": "https://github.com/SLASHLogin", "followers_url": "https://api.github.com/users/SLASHLogin/followers", "following_url": "https://api.github.com/users/SLASHLogin/following{/other_user}", "gists_url": "https://api.github.com/users/SLASHLogin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SLASHLogin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SLASHLogin/subscriptions", "organizations_url": "https://api.github.com/users/SLASHLogin/orgs", "repos_url": "https://api.github.com/users/SLASHLogin/repos", "events_url": "https://api.github.com/users/SLASHLogin/events{/privacy}", "received_events_url": "https://api.github.com/users/SLASHLogin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SLASHLogin", "id": 24846525, "node_id": "MDQ6VXNlcjI0ODQ2NTI1", "avatar_url": "https://avatars.githubusercontent.com/u/24846525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SLASHLogin", "html_url": "https://github.com/SLASHLogin", "followers_url": "https://api.github.com/users/SLASHLogin/followers", "following_url": "https://api.github.com/users/SLASHLogin/following{/other_user}", "gists_url": "https://api.github.com/users/SLASHLogin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SLASHLogin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SLASHLogin/subscriptions", "organizations_url": "https://api.github.com/users/SLASHLogin/orgs", "repos_url": "https://api.github.com/users/SLASHLogin/repos", "events_url": "https://api.github.com/users/SLASHLogin/events{/privacy}", "received_events_url": "https://api.github.com/users/SLASHLogin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "60ee496c7439b7a4b8d45c89ac4cc780ca878eed", "url": "https://api.github.com/repos/rust-lang/rust/commits/60ee496c7439b7a4b8d45c89ac4cc780ca878eed", "html_url": "https://github.com/rust-lang/rust/commit/60ee496c7439b7a4b8d45c89ac4cc780ca878eed"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "3b504d3a7df7589fc7f13a0027584d4cb51d6638", "filename": "compiler/rustc_codegen_llvm/src/consts.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/02403ee31d71a2e0ca00f5c0eff375206df74958/compiler%2Frustc_codegen_llvm%2Fsrc%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/02403ee31d71a2e0ca00f5c0eff375206df74958/compiler%2Frustc_codegen_llvm%2Fsrc%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fconsts.rs?ref=02403ee31d71a2e0ca00f5c0eff375206df74958", "patch": "@@ -1,7 +1,7 @@\n use crate::base;\n use crate::common::{self, CodegenCx};\n use crate::debuginfo;\n-use crate::errors::{InvalidMinimumAlignment, LinkageConstOrMutType};\n+use crate::errors::{InvalidMinimumAlignment, LinkageConstOrMutType, SymbolAlreadyDefined};\n use crate::llvm::{self, True};\n use crate::llvm_util;\n use crate::type_::Type;\n@@ -191,10 +191,10 @@ fn check_and_apply_linkage<'ll, 'tcx>(\n             let mut real_name = \"_rust_extern_with_linkage_\".to_string();\n             real_name.push_str(sym);\n             let g2 = cx.define_global(&real_name, llty).unwrap_or_else(|| {\n-                cx.sess().span_fatal(\n-                    cx.tcx.def_span(def_id),\n-                    &format!(\"symbol `{}` is already defined\", &sym),\n-                )\n+                cx.sess().emit_fatal(SymbolAlreadyDefined {\n+                    span: cx.tcx.def_span(def_id),\n+                    symbol_name: sym,\n+                })\n             });\n             llvm::LLVMRustSetLinkage(g2, llvm::Linkage::InternalLinkage);\n             llvm::LLVMSetInitializer(g2, g1);"}]}