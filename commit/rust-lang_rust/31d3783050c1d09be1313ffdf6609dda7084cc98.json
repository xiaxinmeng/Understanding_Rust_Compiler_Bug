{"sha": "31d3783050c1d09be1313ffdf6609dda7084cc98", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMxZDM3ODMwNTBjMWQwOWJlMTMxM2ZmZGY2NjA5ZGRhNzA4NGNjOTg=", "commit": {"author": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-11-09T14:16:55Z"}, "committer": {"name": "Michael Hewson", "email": "michael@michaelhewson.ca", "date": "2017-11-09T14:16:55Z"}, "message": "fixed all the compile-fail error messages\nnow that we've fixed the bug where constraint origins were getting overwritten, the good error messages are back (with some tweaks)", "tree": {"sha": "7750938d411bbc7c87d0a0a852a3d5ecbd08f043", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7750938d411bbc7c87d0a0a852a3d5ecbd08f043"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/31d3783050c1d09be1313ffdf6609dda7084cc98", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/31d3783050c1d09be1313ffdf6609dda7084cc98", "html_url": "https://github.com/rust-lang/rust/commit/31d3783050c1d09be1313ffdf6609dda7084cc98", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/31d3783050c1d09be1313ffdf6609dda7084cc98/comments", "author": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mikeyhew", "id": 6751033, "node_id": "MDQ6VXNlcjY3NTEwMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/6751033?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikeyhew", "html_url": "https://github.com/mikeyhew", "followers_url": "https://api.github.com/users/mikeyhew/followers", "following_url": "https://api.github.com/users/mikeyhew/following{/other_user}", "gists_url": "https://api.github.com/users/mikeyhew/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikeyhew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikeyhew/subscriptions", "organizations_url": "https://api.github.com/users/mikeyhew/orgs", "repos_url": "https://api.github.com/users/mikeyhew/repos", "events_url": "https://api.github.com/users/mikeyhew/events{/privacy}", "received_events_url": "https://api.github.com/users/mikeyhew/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dcbb27aa60f5105a49d5e416490d6549385c325d", "url": "https://api.github.com/repos/rust-lang/rust/commits/dcbb27aa60f5105a49d5e416490d6549385c325d", "html_url": "https://github.com/rust-lang/rust/commit/dcbb27aa60f5105a49d5e416490d6549385c325d"}], "stats": {"total": 39, "additions": 29, "deletions": 10}, "files": [{"sha": "eac134ff3cc7d6b287cf83a34ca4c67862897d20", "filename": "src/test/compile-fail/explicit-self-lifetime-mismatch.rs", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/31d3783050c1d09be1313ffdf6609dda7084cc98/src%2Ftest%2Fcompile-fail%2Fexplicit-self-lifetime-mismatch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/31d3783050c1d09be1313ffdf6609dda7084cc98/src%2Ftest%2Fcompile-fail%2Fexplicit-self-lifetime-mismatch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fexplicit-self-lifetime-mismatch.rs?ref=31d3783050c1d09be1313ffdf6609dda7084cc98", "patch": "@@ -1,5 +1,3 @@\n-//~  ERROR mismatched types\n-//~| ERROR mismatched types\n // Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n@@ -16,7 +14,17 @@ struct Foo<'a,'b> {\n }\n \n impl<'a,'b> Foo<'a,'b> {\n-    fn bar(self: Foo<'b,'a>) {}\n+    fn bar(self:\n+           Foo<'b,'a>\n+    //~^ ERROR mismatched method receiver\n+    //~| expected type `Foo<'a, 'b>`\n+    //~| found type `Foo<'b, 'a>`\n+    //~| lifetime mismatch\n+    //~| ERROR mismatched method receiver\n+    //~| expected type `Foo<'a, 'b>`\n+    //~| found type `Foo<'b, 'a>`\n+    //~| lifetime mismatch\n+           ) {}\n }\n \n fn main() {}"}, {"sha": "1d5ef4360dc1ebc9134451f2cdd0b70eab6c7f66", "filename": "src/test/compile-fail/issue-17740.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/31d3783050c1d09be1313ffdf6609dda7084cc98/src%2Ftest%2Fcompile-fail%2Fissue-17740.rs", "raw_url": "https://github.com/rust-lang/rust/raw/31d3783050c1d09be1313ffdf6609dda7084cc98/src%2Ftest%2Fcompile-fail%2Fissue-17740.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-17740.rs?ref=31d3783050c1d09be1313ffdf6609dda7084cc98", "patch": "@@ -1,5 +1,3 @@\n-//~  ERROR mismatched types\n-//~| ERROR mismatched types\n // Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n@@ -16,6 +14,14 @@ struct Foo<'a> {\n \n impl <'a> Foo<'a>{\n     fn bar(self: &mut Foo) {\n+    //~^ mismatched method receiver\n+    //~| expected type `Foo<'a>`\n+    //~| found type `Foo<'_>`\n+    //~| lifetime mismatch\n+    //~| mismatched method receiver\n+    //~| expected type `Foo<'a>`\n+    //~| found type `Foo<'_>`\n+    //~| lifetime mismatch\n     }\n }\n "}, {"sha": "5160ceaf48e49bac9627eb58eff6fdc2d8821600", "filename": "src/test/compile-fail/ufcs-explicit-self-bad.rs", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/31d3783050c1d09be1313ffdf6609dda7084cc98/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs", "raw_url": "https://github.com/rust-lang/rust/raw/31d3783050c1d09be1313ffdf6609dda7084cc98/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fufcs-explicit-self-bad.rs?ref=31d3783050c1d09be1313ffdf6609dda7084cc98", "patch": "@@ -1,7 +1,3 @@\n-//~  ERROR mismatched types\n-//~| ERROR mismatched types\n-//~| ERROR mismatched types\n-//~| ERROR mismatched types\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n@@ -51,8 +47,17 @@ trait SomeTrait {\n \n impl<'a, T> SomeTrait for &'a Bar<T> {\n     fn dummy1(self: &&'a Bar<T>) { }\n-    fn dummy2(self: &Bar<T>) {}\n+    fn dummy2(self: &Bar<T>) {} //~ ERROR mismatched method receiver\n+    //~^ ERROR mismatched method receiver\n     fn dummy3(self: &&Bar<T>) {}\n+    //~^ ERROR mismatched method receiver\n+    //~| expected type `&'a Bar<T>`\n+    //~| found type `&Bar<T>`\n+    //~| lifetime mismatch\n+    //~| ERROR mismatched method receiver\n+    //~| expected type `&'a Bar<T>`\n+    //~| found type `&Bar<T>`\n+    //~| lifetime mismatch\n }\n \n fn main() {"}]}