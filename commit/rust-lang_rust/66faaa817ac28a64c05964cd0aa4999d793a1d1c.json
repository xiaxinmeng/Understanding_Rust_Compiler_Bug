{"sha": "66faaa817ac28a64c05964cd0aa4999d793a1d1c", "node_id": "C_kwDOAAsO6NoAKDY2ZmFhYTgxN2FjMjhhNjRjMDU5NjRjZDBhYTQ5OTlkNzkzYTFkMWM", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-03-28T07:42:59Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-04-05T07:11:15Z"}, "message": "Correct definition of `IO_STATUS_BLOCK`", "tree": {"sha": "579dac0843bc42c24f16bdc8c6d3d0fb62dbd8e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/579dac0843bc42c24f16bdc8c6d3d0fb62dbd8e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/66faaa817ac28a64c05964cd0aa4999d793a1d1c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmJL65MACgkQcTRy8vRW\nJ97EjRAAqspUKuydrlifzW4bl8a6DskulbwoY0s+ttQlCQI0g1OJnZhH0zhG3aWV\nYNFtQU1nPE/yNjrL5EHla9Xb352QD2o0mEsvIzUs57cKgBbuaWW+Ah5mCB9NgomA\nU4sIGrzE1GusxHmXJkpIaOStr/E9WuijNZ4AYjEJj8PCu1FuLYTvyVjngAhZFfBg\nL120+/gx9xzoITVNuOb+EyoXzqh8/bGi7UB7OReb1915EBiPvoxzgbWbMEGFQ9Ek\nVPuTMqOFH7JYrB/RDd1wZHlalIw2/pLRG5Rv9GWrI6xD3s3GYqQxq9aVc3y5AB7L\n7kh5F4DpF67LzjLfnazSXxK7ltN1FvCLG8pfcmYm++myGiv1nIn1H2rZb5jeslSz\niaqjs7TGXzEh2+V6qWaV0+rQ7QjqvqO2marLQlgSe2gRWNQm/wZ3dSMTsqVCftoB\nNntCofR7ci6c0Zjbt+IJ3OSFjQZR3bkZVBHs0gYMDauh+X0kxxO+wDqZSgd5i+ta\ns64Hslcj78IFkU0oNkQf6/SrOJu12HMLEKTaVo1MsZIORg5064GnIXN30YFBsmPV\nsEmK30I18fI/luNwNQLqXAQpsdqjH6hWWUD/s2+ZWRNA8jqKa8sbxMich2mpBWkg\nmIAiEQWg9ALv3vdBhPCTF9jIp0rNTWBAMKQOI0lQ/JMifeDXkrU=\n=r6x6\n-----END PGP SIGNATURE-----", "payload": "tree 579dac0843bc42c24f16bdc8c6d3d0fb62dbd8e5\nparent 949b98cab8a186b98bf87e64374b8d0848c55271\nauthor Chris Denton <christophersdenton@gmail.com> 1648453379 +0100\ncommitter Chris Denton <christophersdenton@gmail.com> 1649142675 +0100\n\nCorrect definition of `IO_STATUS_BLOCK`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/66faaa817ac28a64c05964cd0aa4999d793a1d1c", "html_url": "https://github.com/rust-lang/rust/commit/66faaa817ac28a64c05964cd0aa4999d793a1d1c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/66faaa817ac28a64c05964cd0aa4999d793a1d1c/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "949b98cab8a186b98bf87e64374b8d0848c55271", "url": "https://api.github.com/repos/rust-lang/rust/commits/949b98cab8a186b98bf87e64374b8d0848c55271", "html_url": "https://github.com/rust-lang/rust/commit/949b98cab8a186b98bf87e64374b8d0848c55271"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "9e72db42dce6d54508544ce31ba8cee28dcc228a", "filename": "library/std/src/sys/windows/c.rs", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/66faaa817ac28a64c05964cd0aa4999d793a1d1c/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66faaa817ac28a64c05964cd0aa4999d793a1d1c/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fc.rs?ref=66faaa817ac28a64c05964cd0aa4999d793a1d1c", "patch": "@@ -316,15 +316,21 @@ impl Default for OBJECT_ATTRIBUTES {\n     }\n }\n #[repr(C)]\n-pub struct IO_STATUS_BLOCK {\n-    pub Pointer: *mut c_void,\n-    pub Information: usize,\n+union IO_STATUS_BLOCK_union {\n+    Status: NTSTATUS,\n+    Pointer: *mut c_void,\n }\n-impl Default for IO_STATUS_BLOCK {\n+impl Default for IO_STATUS_BLOCK_union {\n     fn default() -> Self {\n-        Self { Pointer: ptr::null_mut(), Information: 0 }\n+        Self { Pointer: ptr::null_mut() }\n     }\n }\n+#[repr(C)]\n+#[derive(Default)]\n+pub struct IO_STATUS_BLOCK {\n+    u: IO_STATUS_BLOCK_union,\n+    pub Information: usize,\n+}\n \n pub type LPOVERLAPPED_COMPLETION_ROUTINE = unsafe extern \"system\" fn(\n     dwErrorCode: DWORD,"}]}