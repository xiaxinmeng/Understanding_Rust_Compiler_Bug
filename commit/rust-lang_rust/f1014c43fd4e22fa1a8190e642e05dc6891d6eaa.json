{"sha": "f1014c43fd4e22fa1a8190e642e05dc6891d6eaa", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxMDE0YzQzZmQ0ZTIyZmExYTgxOTBlNjQyZTA1ZGM2ODkxZDZlYWE=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-09-29T01:11:22Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-09-29T04:52:32Z"}, "message": "Finish demoding iter: from_elem, copy_seq, map, append", "tree": {"sha": "7d8bb3ba1bdd99b2491da1df6d3f869e8b7481ef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7d8bb3ba1bdd99b2491da1df6d3f869e8b7481ef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1014c43fd4e22fa1a8190e642e05dc6891d6eaa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1014c43fd4e22fa1a8190e642e05dc6891d6eaa", "html_url": "https://github.com/rust-lang/rust/commit/f1014c43fd4e22fa1a8190e642e05dc6891d6eaa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1014c43fd4e22fa1a8190e642e05dc6891d6eaa/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d0333a8e414e510dace81c4d6fc40a0c77c11ea7", "url": "https://api.github.com/repos/rust-lang/rust/commits/d0333a8e414e510dace81c4d6fc40a0c77c11ea7", "html_url": "https://github.com/rust-lang/rust/commit/d0333a8e414e510dace81c4d6fc40a0c77c11ea7"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "ebc768931b537bd00035517a8a8a79077c7cee21", "filename": "src/libcore/iter.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/f1014c43fd4e22fa1a8190e642e05dc6891d6eaa/src%2Flibcore%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1014c43fd4e22fa1a8190e642e05dc6891d6eaa/src%2Flibcore%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter.rs?ref=f1014c43fd4e22fa1a8190e642e05dc6891d6eaa", "patch": "@@ -248,10 +248,10 @@ pure fn build_sized_opt<A,B: Buildable<A>>(\n // Functions that combine iteration and building\n \n /// Apply a function to each element of an iterable and return the results\n-fn map<T,IT: BaseIter<T>,U,BU: Buildable<U>>(v: IT, f: fn(T) -> U) -> BU {\n+fn map<T,IT: BaseIter<T>,U,BU: Buildable<U>>(v: &IT, f: fn(&T) -> U) -> BU {\n     do build_sized_opt(v.size_hint()) |push| {\n         for v.each() |elem| {\n-            push(f(*elem));\n+            push(f(elem));\n         }\n     }\n }\n@@ -275,17 +275,17 @@ pure fn from_fn<T,BT: Buildable<T>>(n_elts: uint, op: InitOp<T>) -> BT {\n  * Creates an immutable vector of size `n_elts` and initializes the elements\n  * to the value `t`.\n  */\n-pure fn from_elem<T: Copy,BT: Buildable<T>>(n_elts: uint, t: T) -> BT {\n+pure fn from_elem<T: Copy,BT: Buildable<T>>(n_elts: uint, +t: T) -> BT {\n     do build_sized(n_elts) |push| {\n-        let mut i: uint = 0u;\n-        while i < n_elts { push(t); i += 1u; }\n+        let mut i: uint = 0;\n+        while i < n_elts { push(t); i += 1; }\n     }\n }\n \n /// Appending two generic sequences\n #[inline(always)]\n pure fn append<T: Copy,IT: BaseIter<T>,BT: Buildable<T>>(\n-    lhs: IT, rhs: IT) -> BT {\n+    lhs: &IT, rhs: &IT) -> BT {\n     let size_opt = lhs.size_hint().chain_ref(\n         |sz1| rhs.size_hint().map(|sz2| *sz1+*sz2));\n     do build_sized_opt(size_opt) |push| {\n@@ -298,7 +298,7 @@ pure fn append<T: Copy,IT: BaseIter<T>,BT: Buildable<T>>(\n /// type of sequence.\n #[inline(always)]\n pure fn copy_seq<T: Copy,IT: BaseIter<T>,BT: Buildable<T>>(\n-    v: IT) -> BT {\n+    v: &IT) -> BT {\n     do build_sized_opt(v.size_hint()) |push| {\n         for v.each |x| { push(*x); }\n     }"}]}