{"sha": "084fe56ad528053cda5df1274b4e4452e7c0579c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA4NGZlNTZhZDUyODA1M2NkYTVkZjEyNzRiNGU0NDUyZTdjMDU3OWM=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-03-21T00:34:05Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-03-21T00:34:21Z"}, "message": "Conditionalize test to only run double/byte/double test on x64 for now.", "tree": {"sha": "78660832ffc340c60526b503efba56368b640839", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/78660832ffc340c60526b503efba56368b640839"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/084fe56ad528053cda5df1274b4e4452e7c0579c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/084fe56ad528053cda5df1274b4e4452e7c0579c", "html_url": "https://github.com/rust-lang/rust/commit/084fe56ad528053cda5df1274b4e4452e7c0579c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/084fe56ad528053cda5df1274b4e4452e7c0579c/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86ebde575cc152a212aad2c39288533456e256ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/86ebde575cc152a212aad2c39288533456e256ee", "html_url": "https://github.com/rust-lang/rust/commit/86ebde575cc152a212aad2c39288533456e256ee"}], "stats": {"total": 19, "additions": 13, "deletions": 6}, "files": [{"sha": "4daa7f7ce02a946103a041e3ee74f03a80665c5c", "filename": "src/test/run-pass/struct-return.rs", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/084fe56ad528053cda5df1274b4e4452e7c0579c/src%2Ftest%2Frun-pass%2Fstruct-return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/084fe56ad528053cda5df1274b4e4452e7c0579c/src%2Ftest%2Frun-pass%2Fstruct-return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstruct-return.rs?ref=084fe56ad528053cda5df1274b4e4452e7c0579c", "patch": "@@ -1,5 +1,3 @@\n-// xfail-test\n-\n type quad = { a: u64, b: u64, c: u64, d: u64 };\n type floats = { a: f64, b: u8, c: f64 };\n \n@@ -9,9 +7,7 @@ native mod rustrt {\n     fn debug_abi_2(++f: floats) -> floats;\n }\n \n-fn main() {\n-\n-    // First check\n+fn test1() {\n     let q = { a: 0xaaaa_aaaa_aaaa_aaaa_u64,\n              b: 0xbbbb_bbbb_bbbb_bbbb_u64,\n              c: 0xcccc_cccc_cccc_cccc_u64,\n@@ -25,8 +21,10 @@ fn main() {\n     assert qq.b == q.d - 1u64;\n     assert qq.c == q.a + 1u64;\n     assert qq.d == q.b - 1u64;\n+}\n \n-    // Second check\n+#[cfg(target_arch = \"x86_64\")]\n+fn test2() {\n     let f = { a: 1.234567890e-15_f64,\n              b: 0b_1010_1010_u8,\n              c: 1.0987654321e-15_f64 };\n@@ -37,4 +35,13 @@ fn main() {\n     assert ff.a == f.c + 1.0;\n     assert ff.b == 0xff_u8;\n     assert ff.c == f.a - 1.0;\n+}\n+\n+#[cfg(target_arch = \"x86\")]\n+fn test2() {\n+}\n+\n+fn main() {\n+    test1();\n+    test2();\n }\n\\ No newline at end of file"}]}