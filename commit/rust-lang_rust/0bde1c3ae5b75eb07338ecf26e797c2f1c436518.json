{"sha": "0bde1c3ae5b75eb07338ecf26e797c2f1c436518", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBiZGUxYzNhZTViNzVlYjA3MzM4ZWNmMjZlNzk3YzJmMWM0MzY1MTg=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-15T18:01:33Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-15T18:01:33Z"}, "message": "Rollup merge of #74374 - cuviper:lto-bitcode-1.45, r=Mark-Simulacrum\n\nAdd a 1.45 release note on lto vs. embed-bitcode\n\nI added a bullet for Cargo's use of `embed-bitcode`, since that was even noteworthy enough for the Inside Rust blog. Then more importantly, I added a compatibility note for how this may interact poorly with manually enabling LTO.\n\nr? @Mark-Simulacrum", "tree": {"sha": "e44d40c0247410d83ffa8a34aa0becdca30b9418", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e44d40c0247410d83ffa8a34aa0becdca30b9418"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0bde1c3ae5b75eb07338ecf26e797c2f1c436518", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfD0R9CRBK7hj4Ov3rIwAAdHIIAHKF046I7QQfUmeg33s6FEOD\n9lOWxkSY0RmKmY6AQQc7ZFJ/l1ottq/d229JuLZ960cR4WvQmbTYjOplRZNiZGfj\n2C9KcezMd0ROIX8DYpwhBOjyr8WQKCboULA+N82vF4pxgWeaIaqv4NtY1xicI0Fn\njWWkN38AoVRGyg9WOBUB/Z4X00FEsgxdDL1hmgGLGmqE+i94NOrjR5GjPbak8ifb\nA1hdqy3rfWtQGzCjfmd+2T+xafchZmN80sC/blRMZHbLjez/UJMRgf2k7dPeONZp\nK1t8bN1NXtfNPAcmmVX4Fqx6vp1RvrlsIS3/Mjh6iqpHcz7uB4+7Fz8D1Bg0DpA=\n=+CzW\n-----END PGP SIGNATURE-----\n", "payload": "tree e44d40c0247410d83ffa8a34aa0becdca30b9418\nparent c43a11539866bad9f6e3e895db9154eeef0337af\nparent 2ba58f982349d0ea24630c456d38457b0c8d9e01\nauthor Manish Goregaokar <manishsmail@gmail.com> 1594836093 -0700\ncommitter GitHub <noreply@github.com> 1594836093 -0700\n\nRollup merge of #74374 - cuviper:lto-bitcode-1.45, r=Mark-Simulacrum\n\nAdd a 1.45 release note on lto vs. embed-bitcode\n\nI added a bullet for Cargo's use of `embed-bitcode`, since that was even noteworthy enough for the Inside Rust blog. Then more importantly, I added a compatibility note for how this may interact poorly with manually enabling LTO.\n\nr? @Mark-Simulacrum\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0bde1c3ae5b75eb07338ecf26e797c2f1c436518", "html_url": "https://github.com/rust-lang/rust/commit/0bde1c3ae5b75eb07338ecf26e797c2f1c436518", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0bde1c3ae5b75eb07338ecf26e797c2f1c436518/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c43a11539866bad9f6e3e895db9154eeef0337af", "url": "https://api.github.com/repos/rust-lang/rust/commits/c43a11539866bad9f6e3e895db9154eeef0337af", "html_url": "https://github.com/rust-lang/rust/commit/c43a11539866bad9f6e3e895db9154eeef0337af"}, {"sha": "2ba58f982349d0ea24630c456d38457b0c8d9e01", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ba58f982349d0ea24630c456d38457b0c8d9e01", "html_url": "https://github.com/rust-lang/rust/commit/2ba58f982349d0ea24630c456d38457b0c8d9e01"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "7bac14cb415340a90d944ed62fd956bcdf910687", "filename": "RELEASES.md", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/0bde1c3ae5b75eb07338ecf26e797c2f1c436518/RELEASES.md", "raw_url": "https://github.com/rust-lang/rust/raw/0bde1c3ae5b75eb07338ecf26e797c2f1c436518/RELEASES.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/RELEASES.md?ref=0bde1c3ae5b75eb07338ecf26e797c2f1c436518", "patch": "@@ -82,6 +82,9 @@ Stabilized APIs\n Cargo\n -----\n \n+- [Cargo uses the `embed-bitcode` flag to optimize disk usage and build\n+  time.][cargo/8066]\n+\n Misc\n ----\n - [Rustdoc now supports strikethrough text in Markdown.][71928] E.g.\n@@ -97,12 +100,18 @@ Compatibility Notes\n - [Rustdoc's CLI's extra error exit codes have been removed.][71900] These were\n   previously undocumented and not intended for public use. Rustdoc still provides\n   a non-zero exit code on errors.\n+- [Rustc's `lto` flag is incompatible with the new `embed-bitcode=no`.][71848]\n+  This may cause issues if LTO is enabled through `RUSTFLAGS` or `cargo rustc`\n+  flags while cargo is adding `embed-bitcode` itself. The recommended way to\n+  control LTO is with Cargo profiles, either in `Cargo.toml` or `.cargo/config`,\n+  or by setting `CARGO_PROFILE_<name>_LTO` in the environment.\n \n Internals Only\n --------------\n - [Make clippy a git subtree instead of a git submodule][70655]\n - [Unify the undo log of all snapshot types][69464]\n \n+[71848]: https://github.com/rust-lang/rust/issues/71848/\n [73420]: https://github.com/rust-lang/rust/issues/73420/\n [72324]: https://github.com/rust-lang/rust/pull/72324/\n [71843]: https://github.com/rust-lang/rust/pull/71843/\n@@ -129,6 +138,7 @@ Internals Only\n [69813]: https://github.com/rust-lang/rust/pull/69813/\n [69464]: https://github.com/rust-lang/rust/pull/69464/\n [68717]: https://github.com/rust-lang/rust/pull/68717/\n+[cargo/8066]: https://github.com/rust-lang/cargo/pull/8066\n [`Arc::as_ptr`]: https://doc.rust-lang.org/stable/std/sync/struct.Arc.html#method.as_ptr\n [`BTreeMap::remove_entry`]: https://doc.rust-lang.org/stable/std/collections/struct.BTreeMap.html#method.remove_entry\n [`Rc::as_ptr`]: https://doc.rust-lang.org/stable/std/rc/struct.Rc.html#method.as_ptr"}]}