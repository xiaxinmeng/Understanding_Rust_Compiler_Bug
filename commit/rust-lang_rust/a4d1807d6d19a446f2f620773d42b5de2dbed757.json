{"sha": "a4d1807d6d19a446f2f620773d42b5de2dbed757", "node_id": "C_kwDOAAsO6NoAKGE0ZDE4MDdkNmQxOWE0NDZmMmY2MjA3NzNkNDJiNWRlMmRiZWQ3NTc", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-08-31T04:41:20Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-09-09T01:31:45Z"}, "message": "Rustdoc support", "tree": {"sha": "0fd68979b0075c992a37ac23558ea7a350e429f7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0fd68979b0075c992a37ac23558ea7a350e429f7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a4d1807d6d19a446f2f620773d42b5de2dbed757", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a4d1807d6d19a446f2f620773d42b5de2dbed757", "html_url": "https://github.com/rust-lang/rust/commit/a4d1807d6d19a446f2f620773d42b5de2dbed757", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a4d1807d6d19a446f2f620773d42b5de2dbed757/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4265ef8cb2946496b9de8be4b697a2b94bd92229", "url": "https://api.github.com/repos/rust-lang/rust/commits/4265ef8cb2946496b9de8be4b697a2b94bd92229", "html_url": "https://github.com/rust-lang/rust/commit/4265ef8cb2946496b9de8be4b697a2b94bd92229"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "03752c9b6dbb7ba3a058ff1aea873b0180bad759", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=a4d1807d6d19a446f2f620773d42b5de2dbed757", "patch": "@@ -1500,6 +1500,16 @@ pub(crate) fn clean_ty<'tcx>(ty: &hir::Ty<'tcx>, cx: &mut DocContext<'tcx>) -> T\n                 unreachable!()\n             }\n         }\n+        TyKind::ImplTraitInTrait(item_id) => {\n+            let item = cx.tcx.hir().item(item_id);\n+            if let hir::ItemKind::ImplTraitPlaceholder(hir::ImplTraitPlaceholder { bounds }) =\n+                item.kind\n+            {\n+                ImplTrait(bounds.iter().filter_map(|x| clean_generic_bound(x, cx)).collect())\n+            } else {\n+                unreachable!()\n+            }\n+        }\n         TyKind::Path(_) => clean_qpath(ty, cx),\n         TyKind::TraitObject(bounds, ref lifetime, _) => {\n             let bounds = bounds.iter().map(|bound| clean_poly_trait_ref(bound, cx)).collect();"}, {"sha": "f21e60a64e0055f87060c44de8b5b492866deb66", "filename": "src/librustdoc/formats/item_type.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fformats%2Fitem_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fformats%2Fitem_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fformats%2Fitem_type.rs?ref=a4d1807d6d19a446f2f620773d42b5de2dbed757", "patch": "@@ -135,6 +135,7 @@ impl From<DefKind> for ItemType {\n             | DefKind::AnonConst\n             | DefKind::InlineConst\n             | DefKind::OpaqueTy\n+            | DefKind::ImplTraitPlaceholder\n             | DefKind::Field\n             | DefKind::LifetimeParam\n             | DefKind::GlobalAsm"}, {"sha": "cfd6ce402c28a823249482d2a9e997065c0b0615", "filename": "src/librustdoc/passes/collect_intra_doc_links.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs?ref=a4d1807d6d19a446f2f620773d42b5de2dbed757", "patch": "@@ -1805,8 +1805,8 @@ fn resolution_failure(\n                                 }\n                                 return;\n                             }\n-                            Trait | TyAlias | ForeignTy | OpaqueTy | TraitAlias | TyParam\n-                            | Static(_) => \"associated item\",\n+                            Trait | TyAlias | ForeignTy | OpaqueTy | ImplTraitPlaceholder\n+                            | TraitAlias | TyParam | Static(_) => \"associated item\",\n                             Impl | GlobalAsm => unreachable!(\"not a path\"),\n                         }\n                     } else {"}, {"sha": "7fe391f420f6ab2d75bdc5e6142b9eb7f6d6929b", "filename": "src/librustdoc/visit_ast.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fvisit_ast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a4d1807d6d19a446f2f620773d42b5de2dbed757/src%2Flibrustdoc%2Fvisit_ast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fvisit_ast.rs?ref=a4d1807d6d19a446f2f620773d42b5de2dbed757", "patch": "@@ -362,6 +362,7 @@ impl<'a, 'tcx> RustdocVisitor<'a, 'tcx> {\n             | hir::ItemKind::Union(..)\n             | hir::ItemKind::TyAlias(..)\n             | hir::ItemKind::OpaqueTy(..)\n+            | hir::ItemKind::ImplTraitPlaceholder(..)\n             | hir::ItemKind::Static(..)\n             | hir::ItemKind::Trait(..)\n             | hir::ItemKind::TraitAlias(..) => om.items.push((item, renamed)),"}]}