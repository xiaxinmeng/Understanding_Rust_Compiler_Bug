{"sha": "291a62064cc0af2cacd58f2697d1bcbd239a5103", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5MWE2MjA2NGNjMGFmMmNhY2Q1OGYyNjk3ZDFiY2JkMjM5YTUxMDM=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-07-24T01:49:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-07-24T01:49:54Z"}, "message": "Rollup merge of #52622 - estebank:lifetime-multispan, r=nikomatsakis\n\nUse MultiSpan in E0707 and E709", "tree": {"sha": "5d6ef7517b500917f0b3fc6c1a9ad3217a891786", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5d6ef7517b500917f0b3fc6c1a9ad3217a891786"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/291a62064cc0af2cacd58f2697d1bcbd239a5103", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbVoXCCRBK7hj4Ov3rIwAAdHIIAC1NtKpGD68ZB/GGyFmyaQn+\nU4sXpEAshJgRLCzJzQAWMSgd53DIu8NKHFrcLkOT4h8aNU3K8HV3GhcM5Xr37ZJ7\nQPNg3CgJL0yVE3nqASXOnzmOPgz/L4XcQJJ9ziA+ofk2V7eGCZ3yVANr24y0AAOw\nwKzbfbbkqhDpzw/UROvTTdtchV6xNn0kDonyJSG7Tbj/K6X4OxVgXtCXNCSc2Dn9\nJRc3K6O1El2uy+R+4OsocqhG3ncw1QGe+hBfdvl9yqOGksvmWZqwdPzXkq9oFOUI\nCrdA6/e/NrawlmoqOZKegdtW1RM6y4grPqZE/2yz2wP88ARU7za8Ll+OaKbvqtk=\n=augU\n-----END PGP SIGNATURE-----\n", "payload": "tree 5d6ef7517b500917f0b3fc6c1a9ad3217a891786\nparent 85bb13c2326aec55695cef65d660aa02bb71c8b5\nparent 59a435b22007d9d9c6d4023b4722e58bf99c3f41\nauthor kennytm <kennytm@gmail.com> 1532396994 +0800\ncommitter GitHub <noreply@github.com> 1532396994 +0800\n\nRollup merge of #52622 - estebank:lifetime-multispan, r=nikomatsakis\n\nUse MultiSpan in E0707 and E709\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/291a62064cc0af2cacd58f2697d1bcbd239a5103", "html_url": "https://github.com/rust-lang/rust/commit/291a62064cc0af2cacd58f2697d1bcbd239a5103", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/291a62064cc0af2cacd58f2697d1bcbd239a5103/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "85bb13c2326aec55695cef65d660aa02bb71c8b5", "url": "https://api.github.com/repos/rust-lang/rust/commits/85bb13c2326aec55695cef65d660aa02bb71c8b5", "html_url": "https://github.com/rust-lang/rust/commit/85bb13c2326aec55695cef65d660aa02bb71c8b5"}, {"sha": "59a435b22007d9d9c6d4023b4722e58bf99c3f41", "url": "https://api.github.com/repos/rust-lang/rust/commits/59a435b22007d9d9c6d4023b4722e58bf99c3f41", "html_url": "https://github.com/rust-lang/rust/commit/59a435b22007d9d9c6d4023b4722e58bf99c3f41"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "3b030fc098f41bbac781414c540b23f81344804d", "filename": "src/librustc/hir/lowering.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/291a62064cc0af2cacd58f2697d1bcbd239a5103/src%2Flibrustc%2Fhir%2Flowering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/291a62064cc0af2cacd58f2697d1bcbd239a5103/src%2Flibrustc%2Fhir%2Flowering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Flowering.rs?ref=291a62064cc0af2cacd58f2697d1bcbd239a5103", "patch": "@@ -73,7 +73,7 @@ use syntax::tokenstream::{Delimited, TokenStream, TokenTree};\n use syntax::parse::token::Token;\n use syntax::util::small_vector::SmallVector;\n use syntax::visit::{self, Visitor};\n-use syntax_pos::Span;\n+use syntax_pos::{Span, MultiSpan};\n \n const HIR_ID_COUNTER_LOCKED: u32 = 0xFFFFFFFF;\n \n@@ -2071,7 +2071,7 @@ impl<'a> LoweringContext<'a> {\n                         if current_lt_name != name {\n                             struct_span_err!(\n                                 self.context.sess,\n-                                current_lt_span.between(lifetime.span),\n+                                MultiSpan::from_spans(vec![current_lt_span, lifetime.span]),\n                                 E0709,\n                                 \"multiple different lifetimes used in arguments of `async fn`\",\n                             )\n@@ -2083,7 +2083,7 @@ impl<'a> LoweringContext<'a> {\n                         } else if current_lt_name.is_elided() && name.is_elided() {\n                             struct_span_err!(\n                                 self.context.sess,\n-                                current_lt_span.between(lifetime.span),\n+                                MultiSpan::from_spans(vec![current_lt_span, lifetime.span]),\n                                 E0707,\n                                 \"multiple elided lifetimes used in arguments of `async fn`\",\n                             )"}, {"sha": "1d34673a0050d9a0c4567a5c0394f94eaa278dd4", "filename": "src/test/ui/async-fn-multiple-lifetimes.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/291a62064cc0af2cacd58f2697d1bcbd239a5103/src%2Ftest%2Fui%2Fasync-fn-multiple-lifetimes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/291a62064cc0af2cacd58f2697d1bcbd239a5103/src%2Ftest%2Fui%2Fasync-fn-multiple-lifetimes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-fn-multiple-lifetimes.stderr?ref=291a62064cc0af2cacd58f2697d1bcbd239a5103", "patch": "@@ -1,8 +1,8 @@\n error[E0709]: multiple different lifetimes used in arguments of `async fn`\n-  --> $DIR/async-fn-multiple-lifetimes.rs:17:49\n+  --> $DIR/async-fn-multiple-lifetimes.rs:17:47\n    |\n LL | async fn multiple_named_lifetimes<'a, 'b>(_: &'a u8, _: &'b u8) {}\n-   |                                               --^^^^^^^^^-- different lifetime here\n+   |                                               ^^         ^^ different lifetime here\n    |                                               |\n    |                                               first lifetime here\n    |\n@@ -12,7 +12,7 @@ error[E0707]: multiple elided lifetimes used in arguments of `async fn`\n   --> $DIR/async-fn-multiple-lifetimes.rs:26:39\n    |\n LL | async fn multiple_elided_lifetimes(_: &u8, _: &u8) {}\n-   |                                       -^^^^^^^- different lifetime here\n+   |                                       ^       ^ different lifetime here\n    |                                       |\n    |                                       first lifetime here\n    |"}]}