{"sha": "f28c053c677203f4dd101222460081dd97c1f440", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyOGMwNTNjNjc3MjAzZjRkZDEwMTIyMjQ2MDA4MWRkOTdjMWY0NDA=", "commit": {"author": {"name": "Jade", "email": "software@lfcode.ca", "date": "2021-05-11T22:18:45Z"}, "committer": {"name": "Jade", "email": "software@lfcode.ca", "date": "2021-05-11T22:18:45Z"}, "message": "address review by @eddyb", "tree": {"sha": "b962313b55bfa54ea8385e65f4559725c64b38a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b962313b55bfa54ea8385e65f4559725c64b38a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f28c053c677203f4dd101222460081dd97c1f440", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f28c053c677203f4dd101222460081dd97c1f440", "html_url": "https://github.com/rust-lang/rust/commit/f28c053c677203f4dd101222460081dd97c1f440", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f28c053c677203f4dd101222460081dd97c1f440/comments", "author": {"login": "lf-", "id": 6652840, "node_id": "MDQ6VXNlcjY2NTI4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6652840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lf-", "html_url": "https://github.com/lf-", "followers_url": "https://api.github.com/users/lf-/followers", "following_url": "https://api.github.com/users/lf-/following{/other_user}", "gists_url": "https://api.github.com/users/lf-/gists{/gist_id}", "starred_url": "https://api.github.com/users/lf-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lf-/subscriptions", "organizations_url": "https://api.github.com/users/lf-/orgs", "repos_url": "https://api.github.com/users/lf-/repos", "events_url": "https://api.github.com/users/lf-/events{/privacy}", "received_events_url": "https://api.github.com/users/lf-/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lf-", "id": 6652840, "node_id": "MDQ6VXNlcjY2NTI4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6652840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lf-", "html_url": "https://github.com/lf-", "followers_url": "https://api.github.com/users/lf-/followers", "following_url": "https://api.github.com/users/lf-/following{/other_user}", "gists_url": "https://api.github.com/users/lf-/gists{/gist_id}", "starred_url": "https://api.github.com/users/lf-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lf-/subscriptions", "organizations_url": "https://api.github.com/users/lf-/orgs", "repos_url": "https://api.github.com/users/lf-/repos", "events_url": "https://api.github.com/users/lf-/events{/privacy}", "received_events_url": "https://api.github.com/users/lf-/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc63fea427280ff278bf89a8b9c78df606009910", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc63fea427280ff278bf89a8b9c78df606009910", "html_url": "https://github.com/rust-lang/rust/commit/dc63fea427280ff278bf89a8b9c78df606009910"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "0044b1cffc25bc784f2854b188156cd5c564a7ce", "filename": "crates/hir_ty/src/consts.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f28c053c677203f4dd101222460081dd97c1f440/crates%2Fhir_ty%2Fsrc%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f28c053c677203f4dd101222460081dd97c1f440/crates%2Fhir_ty%2Fsrc%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Fconsts.rs?ref=f28c053c677203f4dd101222460081dd97c1f440", "patch": "@@ -4,7 +4,8 @@\n #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]\n pub enum ConstScalar {\n     // for now, we only support the trivial case of constant evaluating the length of an array\n-    Usize(usize),\n+    // Note that this is u64 because the target usize may be bigger than our usize\n+    Usize(u64),\n \n     /// Case of an unknown value that rustc might know but we don't\n     Unknown,"}, {"sha": "a7e720f880252061d55dd13205aba2ec9dc94edc", "filename": "crates/hir_ty/src/infer/expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f28c053c677203f4dd101222460081dd97c1f440/crates%2Fhir_ty%2Fsrc%2Finfer%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f28c053c677203f4dd101222460081dd97c1f440/crates%2Fhir_ty%2Fsrc%2Finfer%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Finfer%2Fexpr.rs?ref=f28c053c677203f4dd101222460081dd97c1f440", "patch": "@@ -746,7 +746,7 @@ impl<'a> InferenceContext<'a> {\n                     ty: TyKind::Scalar(Scalar::Uint(UintTy::Usize)).intern(&Interner),\n                     value: ConstValue::Concrete(chalk_ir::ConcreteConst {\n                         interned: len\n-                            .map(|len| ConstScalar::Usize(len))\n+                            .map(|len| ConstScalar::Usize(len as u64))\n                             .unwrap_or(ConstScalar::Unknown),\n                     }),\n                 };"}]}