{"sha": "434f83a6c7e6973b12bd59918b059f5d35fe3075", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQzNGY4M2E2YzdlNjk3M2IxMmJkNTk5MThiMDU5ZjVkMzVmZTMwNzU=", "commit": {"author": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-07-22T18:57:49Z"}, "committer": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-07-22T18:57:49Z"}, "message": "Revert \"Revert global fmt config and use `rustfmt::skip`\"\n\nThis reverts commit b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f.", "tree": {"sha": "2047ac7bdbaafdd2227d71f50c3157a6cb56492e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2047ac7bdbaafdd2227d71f50c3157a6cb56492e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/434f83a6c7e6973b12bd59918b059f5d35fe3075", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEXLDp5dXVcfV/VA/qztOS3gxIPQAFAl02BzMACgkQztOS3gxI\nPQDTzw/9FJFPnfBY2tT78E5DI2SP/w6xqLdx/4p024y+Xit6by9AGhVlNI5GqKW5\ndcTKf+0OWoZiboQ7IVfZhWPpJg9teR+rOzlHZ0eXHV1IeK3fn6FWskEQGnfxtOuO\nQhR+vGePoaQ8LHS68uv2ksujkVJVuBGvEkH35GEvUWy3gphKkq/7ewps8yz7NZMc\nRSySmWyee5gWJD/E0Pa/L4VSJewiZGyNHzrPxggGNs3mG2NeYgf4qtCWp0FR+CR1\nhrOuzIlVG2gf2uFpmM/whxafXDDKLtPAZPYmgkr+3AZTYVIaVz4gVClTDiPeRajK\nb0+JzceZ9YqVTXDQDghKGVSKbPY2mAe5QafdiIZVtj6igdJAl10hyu58JdswzVKm\nyMzZtWVHNmR9Kc+0/85dr4QIAGmiyhZtBSzTsnhHnU1YwMtDfSwxbBp06Llsw33p\n9g/cOrX4/Sqo/6akosI6yhGfUAWtpF+h/ecvycR2M4bNQ0ZNhBXZXXhbB0I68+/q\nFhzXjvouIbZvrBl6AT+A3uE9DSoobD6VnGOCUK5Xx0YqE2XJ7jzcSGUHo7D8RDsa\ne58O4NmE/SbCcK6VeT1cGf06l3U9EC/l59FxVrwYaBcrUfCuktKVHuYxRA5S5Ld5\njkBY9AeRi8kKaPW759qlYw/ibUfQEIvsKlhyCOAAdbo30pdAHyo=\n=KIY7\n-----END PGP SIGNATURE-----", "payload": "tree 2047ac7bdbaafdd2227d71f50c3157a6cb56492e\nparent b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f\nauthor uHOOCCOOHu <hooccooh1896@gmail.com> 1563821869 +0800\ncommitter uHOOCCOOHu <hooccooh1896@gmail.com> 1563821869 +0800\n\nRevert \"Revert global fmt config and use `rustfmt::skip`\"\n\nThis reverts commit b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/434f83a6c7e6973b12bd59918b059f5d35fe3075", "html_url": "https://github.com/rust-lang/rust/commit/434f83a6c7e6973b12bd59918b059f5d35fe3075", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/434f83a6c7e6973b12bd59918b059f5d35fe3075/comments", "author": null, "committer": null, "parents": [{"sha": "b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "url": "https://api.github.com/repos/rust-lang/rust/commits/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "html_url": "https://github.com/rust-lang/rust/commit/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f"}], "stats": {"total": 72, "additions": 34, "deletions": 38}, "files": [{"sha": "f1241e74b0a3d40e4bfb64912b27fec9711efb2f", "filename": "rustfmt.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/434f83a6c7e6973b12bd59918b059f5d35fe3075/rustfmt.toml", "raw_url": "https://github.com/rust-lang/rust/raw/434f83a6c7e6973b12bd59918b059f5d35fe3075/rustfmt.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustfmt.toml?ref=434f83a6c7e6973b12bd59918b059f5d35fe3075", "patch": "@@ -2,5 +2,5 @@ max_width = 120\n comment_width = 100\n match_block_trailing_comma = true\n wrap_comments = true\n-\n+edition = \"2018\"\n error_on_line_overflow = true"}, {"sha": "953879f7bed09f712cc833e79563b3154454afce", "filename": "tests/ui/issue_4266.rs", "status": "modified", "additions": 25, "deletions": 29, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/434f83a6c7e6973b12bd59918b059f5d35fe3075/tests%2Fui%2Fissue_4266.rs", "raw_url": "https://github.com/rust-lang/rust/raw/434f83a6c7e6973b12bd59918b059f5d35fe3075/tests%2Fui%2Fissue_4266.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue_4266.rs?ref=434f83a6c7e6973b12bd59918b059f5d35fe3075", "patch": "@@ -2,41 +2,37 @@\n #![feature(async_await)]\n #![allow(dead_code)]\n \n-// No edition 2018\n-#[rustfmt::skip]\n-mod m {\n-    async fn sink1<'a>(_: &'a str) {} // lint\n-    async fn sink1_elided(_: &str) {} // ok\n+async fn sink1<'a>(_: &'a str) {} // lint\n+async fn sink1_elided(_: &str) {} // ok\n \n-    // lint\n-    async fn one_to_one<'a>(s: &'a str) -> &'a str {\n-        s\n-    }\n-\n-    // ok\n-    async fn one_to_one_elided(s: &str) -> &str {\n-        s\n-    }\n+// lint\n+async fn one_to_one<'a>(s: &'a str) -> &'a str {\n+    s\n+}\n \n-    // ok\n-    async fn all_to_one<'a>(a: &'a str, _b: &'a str) -> &'a str {\n-        a\n-    }\n+// ok\n+async fn one_to_one_elided(s: &str) -> &str {\n+    s\n+}\n \n-    // async fn unrelated(_: &str, _: &str) {} // Not allowed in async fn\n+// ok\n+async fn all_to_one<'a>(a: &'a str, _b: &'a str) -> &'a str {\n+    a\n+}\n \n-    // #3988\n-    struct Foo;\n-    impl Foo {\n-        // ok\n-        pub async fn foo(&mut self) {}\n-    }\n+// async fn unrelated(_: &str, _: &str) {} // Not allowed in async fn\n \n-    // rust-lang/rust#61115\n+// #3988\n+struct Foo;\n+impl Foo {\n     // ok\n-    async fn print(s: &str) {\n-        println!(\"{}\", s);\n-    }\n+    pub async fn foo(&mut self) {}\n+}\n+\n+// rust-lang/rust#61115\n+// ok\n+async fn print(s: &str) {\n+    println!(\"{}\", s);\n }\n \n fn main() {}"}, {"sha": "8b4e70eb9c2271bb9d27324f4ea3254b5b09112e", "filename": "tests/ui/issue_4266.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/434f83a6c7e6973b12bd59918b059f5d35fe3075/tests%2Fui%2Fissue_4266.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/434f83a6c7e6973b12bd59918b059f5d35fe3075/tests%2Fui%2Fissue_4266.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue_4266.stderr?ref=434f83a6c7e6973b12bd59918b059f5d35fe3075", "patch": "@@ -1,18 +1,18 @@\n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/issue_4266.rs:8:5\n+  --> $DIR/issue_4266.rs:5:1\n    |\n-LL |     async fn sink1<'a>(_: &'a str) {} // lint\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL | async fn sink1<'a>(_: &'a str) {} // lint\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::needless-lifetimes` implied by `-D warnings`\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/issue_4266.rs:12:5\n+  --> $DIR/issue_4266.rs:9:1\n    |\n-LL | /     async fn one_to_one<'a>(s: &'a str) -> &'a str {\n-LL | |         s\n-LL | |     }\n-   | |_____^\n+LL | / async fn one_to_one<'a>(s: &'a str) -> &'a str {\n+LL | |     s\n+LL | | }\n+   | |_^\n \n error: aborting due to 2 previous errors\n "}]}