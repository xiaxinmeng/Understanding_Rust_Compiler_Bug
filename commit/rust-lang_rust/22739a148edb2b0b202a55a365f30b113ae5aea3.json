{"sha": "22739a148edb2b0b202a55a365f30b113ae5aea3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIyNzM5YTE0OGVkYjJiMGIyMDJhNTVhMzY1ZjMwYjExM2FlNWFlYTM=", "commit": {"author": {"name": "Ulrik Sverdrup", "email": "bluss@users.noreply.github.com", "date": "2016-11-22T22:48:33Z"}, "committer": {"name": "Ulrik Sverdrup", "email": "bluss@users.noreply.github.com", "date": "2016-11-22T22:51:02Z"}, "message": "core: Forward ExactSizeIterator methods for important iterator adaptors", "tree": {"sha": "4b09bc612d92773a4e4f4eb7a7aa616ce514766d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4b09bc612d92773a4e4f4eb7a7aa616ce514766d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/22739a148edb2b0b202a55a365f30b113ae5aea3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/22739a148edb2b0b202a55a365f30b113ae5aea3", "html_url": "https://github.com/rust-lang/rust/commit/22739a148edb2b0b202a55a365f30b113ae5aea3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/22739a148edb2b0b202a55a365f30b113ae5aea3/comments", "author": {"login": "bluss", "id": 3209739, "node_id": "MDQ6VXNlcjMyMDk3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluss", "html_url": "https://github.com/bluss", "followers_url": "https://api.github.com/users/bluss/followers", "following_url": "https://api.github.com/users/bluss/following{/other_user}", "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluss/subscriptions", "organizations_url": "https://api.github.com/users/bluss/orgs", "repos_url": "https://api.github.com/users/bluss/repos", "events_url": "https://api.github.com/users/bluss/events{/privacy}", "received_events_url": "https://api.github.com/users/bluss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bluss", "id": 3209739, "node_id": "MDQ6VXNlcjMyMDk3Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/3209739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluss", "html_url": "https://github.com/bluss", "followers_url": "https://api.github.com/users/bluss/followers", "following_url": "https://api.github.com/users/bluss/following{/other_user}", "gists_url": "https://api.github.com/users/bluss/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluss/subscriptions", "organizations_url": "https://api.github.com/users/bluss/orgs", "repos_url": "https://api.github.com/users/bluss/repos", "events_url": "https://api.github.com/users/bluss/events{/privacy}", "received_events_url": "https://api.github.com/users/bluss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b1da18fe9be180ecfcfb1691c4eb669c496996f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/b1da18fe9be180ecfcfb1691c4eb669c496996f5", "html_url": "https://github.com/rust-lang/rust/commit/b1da18fe9be180ecfcfb1691c4eb669c496996f5"}], "stats": {"total": 63, "additions": 57, "deletions": 6}, "files": [{"sha": "ca718d29952d93bd1b6ec905fb2d9da7d393e1b4", "filename": "src/libcore/iter/mod.rs", "status": "modified", "additions": 57, "deletions": 6, "changes": 63, "blob_url": "https://github.com/rust-lang/rust/blob/22739a148edb2b0b202a55a365f30b113ae5aea3/src%2Flibcore%2Fiter%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/22739a148edb2b0b202a55a365f30b113ae5aea3/src%2Flibcore%2Fiter%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter%2Fmod.rs?ref=22739a148edb2b0b202a55a365f30b113ae5aea3", "patch": "@@ -368,7 +368,16 @@ impl<I> DoubleEndedIterator for Rev<I> where I: DoubleEndedIterator {\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<I> ExactSizeIterator for Rev<I>\n-    where I: ExactSizeIterator + DoubleEndedIterator {}\n+    where I: ExactSizeIterator + DoubleEndedIterator\n+{\n+    fn len(&self) -> usize {\n+        self.iter.len()\n+    }\n+\n+    fn is_empty(&self) -> bool {\n+        self.iter.is_empty()\n+    }\n+}\n \n #[unstable(feature = \"fused\", issue = \"35602\")]\n impl<I> FusedIterator for Rev<I>\n@@ -425,7 +434,15 @@ impl<'a, I, T: 'a> DoubleEndedIterator for Cloned<I>\n #[stable(feature = \"iter_cloned\", since = \"1.1.0\")]\n impl<'a, I, T: 'a> ExactSizeIterator for Cloned<I>\n     where I: ExactSizeIterator<Item=&'a T>, T: Clone\n-{}\n+{\n+    fn len(&self) -> usize {\n+        self.it.len()\n+    }\n+\n+    fn is_empty(&self) -> bool {\n+        self.it.is_empty()\n+    }\n+}\n \n #[unstable(feature = \"fused\", issue = \"35602\")]\n impl<'a, I, T: 'a> FusedIterator for Cloned<I>\n@@ -1007,7 +1024,16 @@ impl<B, I: DoubleEndedIterator, F> DoubleEndedIterator for Map<I, F> where\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<B, I: ExactSizeIterator, F> ExactSizeIterator for Map<I, F>\n-    where F: FnMut(I::Item) -> B {}\n+    where F: FnMut(I::Item) -> B\n+{\n+    fn len(&self) -> usize {\n+        self.iter.len()\n+    }\n+\n+    fn is_empty(&self) -> bool {\n+        self.iter.is_empty()\n+    }\n+}\n \n #[unstable(feature = \"fused\", issue = \"35602\")]\n impl<B, I: FusedIterator, F> FusedIterator for Map<I, F>\n@@ -1236,7 +1262,15 @@ impl<I> DoubleEndedIterator for Enumerate<I> where\n }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-impl<I> ExactSizeIterator for Enumerate<I> where I: ExactSizeIterator {}\n+impl<I> ExactSizeIterator for Enumerate<I> where I: ExactSizeIterator {\n+    fn len(&self) -> usize {\n+        self.iter.len()\n+    }\n+\n+    fn is_empty(&self) -> bool {\n+        self.iter.is_empty()\n+    }\n+}\n \n #[doc(hidden)]\n unsafe impl<I> TrustedRandomAccess for Enumerate<I>\n@@ -1927,7 +1961,15 @@ impl<I> DoubleEndedIterator for Fuse<I>\n \n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-impl<I> ExactSizeIterator for Fuse<I> where I: ExactSizeIterator {}\n+impl<I> ExactSizeIterator for Fuse<I> where I: ExactSizeIterator {\n+    fn len(&self) -> usize {\n+        self.iter.len()\n+    }\n+\n+    fn is_empty(&self) -> bool {\n+        self.iter.is_empty()\n+    }\n+}\n \n /// An iterator that calls a function with a reference to each element before\n /// yielding it.\n@@ -1994,7 +2036,16 @@ impl<I: DoubleEndedIterator, F> DoubleEndedIterator for Inspect<I, F>\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<I: ExactSizeIterator, F> ExactSizeIterator for Inspect<I, F>\n-    where F: FnMut(&I::Item) {}\n+    where F: FnMut(&I::Item)\n+{\n+    fn len(&self) -> usize {\n+        self.iter.len()\n+    }\n+\n+    fn is_empty(&self) -> bool {\n+        self.iter.is_empty()\n+    }\n+}\n \n #[unstable(feature = \"fused\", issue = \"35602\")]\n impl<I: FusedIterator, F> FusedIterator for Inspect<I, F>"}]}