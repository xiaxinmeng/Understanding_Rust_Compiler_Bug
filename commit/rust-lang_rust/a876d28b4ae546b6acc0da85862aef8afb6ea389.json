{"sha": "a876d28b4ae546b6acc0da85862aef8afb6ea389", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE4NzZkMjhiNGFlNTQ2YjZhY2MwZGE4NTg2MmFlZjhhZmI2ZWEzODk=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-04-29T19:32:53Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-05-03T20:14:37Z"}, "message": "Fix invalid path generation in rustdoc search", "tree": {"sha": "c4281adcf71e7e520c63db8e99bd7711c0cd1b04", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c4281adcf71e7e520c63db8e99bd7711c0cd1b04"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a876d28b4ae546b6acc0da85862aef8afb6ea389", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a876d28b4ae546b6acc0da85862aef8afb6ea389", "html_url": "https://github.com/rust-lang/rust/commit/a876d28b4ae546b6acc0da85862aef8afb6ea389", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a876d28b4ae546b6acc0da85862aef8afb6ea389/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96e182833b5c17da2481e6edf5bfdb75ad004e6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/96e182833b5c17da2481e6edf5bfdb75ad004e6e", "html_url": "https://github.com/rust-lang/rust/commit/96e182833b5c17da2481e6edf5bfdb75ad004e6e"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "29e7bd37fc28628eef815f84b8d89a41a9d0f4b0", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a876d28b4ae546b6acc0da85862aef8afb6ea389/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a876d28b4ae546b6acc0da85862aef8afb6ea389/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=a876d28b4ae546b6acc0da85862aef8afb6ea389", "patch": "@@ -1427,7 +1427,7 @@ impl<'a> Cache {\n         }\n         if let Some(ref item_name) = item.name {\n             let path = self.paths.get(&item.def_id)\n-                                 .map(|p| p.0.join(\"::\").to_string())\n+                                 .map(|p| p.0[..p.0.len() - 1].join(\"::\"))\n                                  .unwrap_or(\"std\".to_owned());\n             for alias in item.attrs.lists(\"doc\")\n                                    .filter(|a| a.check_name(\"alias\"))"}, {"sha": "0c5ec4fccbcd731abcfd78a3c2233ebb97399082", "filename": "src/test/rustdoc-js/alias-2.js", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a876d28b4ae546b6acc0da85862aef8afb6ea389/src%2Ftest%2Frustdoc-js%2Falias-2.js", "raw_url": "https://github.com/rust-lang/rust/raw/a876d28b4ae546b6acc0da85862aef8afb6ea389/src%2Ftest%2Frustdoc-js%2Falias-2.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-js%2Falias-2.js?ref=a876d28b4ae546b6acc0da85862aef8afb6ea389", "patch": "@@ -8,11 +8,13 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// ignore-order\n+\n const QUERY = '+';\n \n const EXPECTED = {\n     'others': [\n-        { 'path': 'std::ops::AddAssign', 'name': 'AddAssign' },\n-        { 'path': 'std::ops::Add', 'name': 'Add' },\n+        { 'path': 'std::ops', 'name': 'AddAssign' },\n+        { 'path': 'std::ops', 'name': 'Add' },\n     ],\n };"}, {"sha": "0ca5991c06ca521ea2438b6316a800fa944e789e", "filename": "src/test/rustdoc-js/alias.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a876d28b4ae546b6acc0da85862aef8afb6ea389/src%2Ftest%2Frustdoc-js%2Falias.js", "raw_url": "https://github.com/rust-lang/rust/raw/a876d28b4ae546b6acc0da85862aef8afb6ea389/src%2Ftest%2Frustdoc-js%2Falias.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-js%2Falias.js?ref=a876d28b4ae546b6acc0da85862aef8afb6ea389", "patch": "@@ -13,7 +13,7 @@ const QUERY = '[';\n const EXPECTED = {\n     'others': [\n         { 'path': 'std', 'name': 'slice' },\n-        { 'path': 'std::ops::IndexMut', 'name': 'IndexMut' },\n-        { 'path': 'std::ops::Index', 'name': 'Index' },\n+        { 'path': 'std::ops', 'name': 'IndexMut' },\n+        { 'path': 'std::ops', 'name': 'Index' },\n     ],\n };"}]}