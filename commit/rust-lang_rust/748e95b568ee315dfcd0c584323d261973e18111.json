{"sha": "748e95b568ee315dfcd0c584323d261973e18111", "node_id": "C_kwDOAAsO6NoAKDc0OGU5NWI1NjhlZTMxNWRmY2QwYzU4NDMyM2QyNjE5NzNlMTgxMTE", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2021-11-20T10:54:12Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2021-12-04T22:13:58Z"}, "message": "Bless tests.", "tree": {"sha": "54f4f722594a4621f1168014ca3ce800600e2d7d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/54f4f722594a4621f1168014ca3ce800600e2d7d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/748e95b568ee315dfcd0c584323d261973e18111", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/748e95b568ee315dfcd0c584323d261973e18111", "html_url": "https://github.com/rust-lang/rust/commit/748e95b568ee315dfcd0c584323d261973e18111", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/748e95b568ee315dfcd0c584323d261973e18111/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d3a6d4b1a00806797d8588e9efd3e133a7e55003", "url": "https://api.github.com/repos/rust-lang/rust/commits/d3a6d4b1a00806797d8588e9efd3e133a7e55003", "html_url": "https://github.com/rust-lang/rust/commit/d3a6d4b1a00806797d8588e9efd3e133a7e55003"}], "stats": {"total": 166, "additions": 163, "deletions": 3}, "files": [{"sha": "a074b5fa5f7aa88b442c24e53fe855c20af48c17", "filename": "src/test/ui/dyn-keyword/dyn-2018-edition-lint.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fdyn-keyword%2Fdyn-2018-edition-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fdyn-keyword%2Fdyn-2018-edition-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdyn-keyword%2Fdyn-2018-edition-lint.rs?ref=748e95b568ee315dfcd0c584323d261973e18111", "patch": "@@ -6,7 +6,17 @@ fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n     //~| WARN this is accepted in the current edition\n     //~| ERROR trait objects without an explicit `dyn` are deprecated\n     //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated\n+    //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated\n+    //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated\n+    //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated\n+    //~| WARN this is accepted in the current edition\n     let _x: &SomeTrait = todo!();\n+    //~^ ERROR trait objects without an explicit `dyn` are deprecated\n+    //~| WARN this is accepted in the current edition\n }\n \n trait SomeTrait {}"}, {"sha": "b8e4942dfefb241fce474c30e22fd582a3c86615", "filename": "src/test/ui/dyn-keyword/dyn-2018-edition-lint.stderr", "status": "modified", "additions": 71, "deletions": 1, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fdyn-keyword%2Fdyn-2018-edition-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fdyn-keyword%2Fdyn-2018-edition-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdyn-keyword%2Fdyn-2018-edition-lint.stderr?ref=748e95b568ee315dfcd0c584323d261973e18111", "patch": "@@ -31,5 +31,75 @@ LL - fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n LL + fn function(x: &SomeTrait, y: Box<dyn SomeTrait>) {\n    | \n \n-error: aborting due to 2 previous errors\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/dyn-2018-edition-lint.rs:17:14\n+   |\n+LL |     let _x: &SomeTrait = todo!();\n+   |              ^^^^^^^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2018) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL -     let _x: &SomeTrait = todo!();\n+LL +     let _x: &dyn SomeTrait = todo!();\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/dyn-2018-edition-lint.rs:4:17\n+   |\n+LL | fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+   |                 ^^^^^^^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2018) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL - fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+LL + fn function(x: &dyn SomeTrait, y: Box<SomeTrait>) {\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/dyn-2018-edition-lint.rs:4:17\n+   |\n+LL | fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+   |                 ^^^^^^^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2018) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL - fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+LL + fn function(x: &dyn SomeTrait, y: Box<SomeTrait>) {\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/dyn-2018-edition-lint.rs:4:35\n+   |\n+LL | fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+   |                                   ^^^^^^^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2018) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL - fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+LL + fn function(x: &SomeTrait, y: Box<dyn SomeTrait>) {\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/dyn-2018-edition-lint.rs:4:35\n+   |\n+LL | fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+   |                                   ^^^^^^^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2018) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL - fn function(x: &SomeTrait, y: Box<SomeTrait>) {\n+LL + fn function(x: &SomeTrait, y: Box<dyn SomeTrait>) {\n+   | \n+\n+error: aborting due to 7 previous errors\n "}, {"sha": "a27c38452539cd408601ee8ff43d97625bc0157e", "filename": "src/test/ui/suggestions/issue-61963.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fsuggestions%2Fissue-61963.rs", "raw_url": "https://github.com/rust-lang/rust/raw/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fsuggestions%2Fissue-61963.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-61963.rs?ref=748e95b568ee315dfcd0c584323d261973e18111", "patch": "@@ -18,10 +18,20 @@ pub struct Qux<T>(T);\n pub struct Foo {\n     //~^ ERROR trait objects without an explicit `dyn` are deprecated [bare_trait_objects]\n     //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated [bare_trait_objects]\n+    //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated [bare_trait_objects]\n+    //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated [bare_trait_objects]\n+    //~| WARN this is accepted in the current edition\n     qux: Qux<Qux<Baz>>,\n     bar: Box<Bar>,\n     //~^ ERROR trait objects without an explicit `dyn` are deprecated [bare_trait_objects]\n     //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated [bare_trait_objects]\n+    //~| WARN this is accepted in the current edition\n+    //~| ERROR trait objects without an explicit `dyn` are deprecated [bare_trait_objects]\n+    //~| WARN this is accepted in the current edition\n }\n \n fn main() {}"}, {"sha": "1eebd8d60ca90b43fe812e450e8e80a09df5aeb2", "filename": "src/test/ui/suggestions/issue-61963.stderr", "status": "modified", "additions": 72, "deletions": 2, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fsuggestions%2Fissue-61963.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/748e95b568ee315dfcd0c584323d261973e18111/src%2Ftest%2Fui%2Fsuggestions%2Fissue-61963.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-61963.stderr?ref=748e95b568ee315dfcd0c584323d261973e18111", "patch": "@@ -1,5 +1,5 @@\n error: trait objects without an explicit `dyn` are deprecated\n-  --> $DIR/issue-61963.rs:22:14\n+  --> $DIR/issue-61963.rs:28:14\n    |\n LL |     bar: Box<Bar>,\n    |              ^^^\n@@ -31,5 +31,75 @@ LL - pub struct Foo {\n LL + dyn pub struct Foo {\n    | \n \n-error: aborting due to 2 previous errors\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/issue-61963.rs:28:14\n+   |\n+LL |     bar: Box<Bar>,\n+   |              ^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2015) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL -     bar: Box<Bar>,\n+LL +     bar: Box<dyn Bar>,\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/issue-61963.rs:28:14\n+   |\n+LL |     bar: Box<Bar>,\n+   |              ^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2015) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL -     bar: Box<Bar>,\n+LL +     bar: Box<dyn Bar>,\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/issue-61963.rs:18:1\n+   |\n+LL | pub struct Foo {\n+   | ^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2015) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL - pub struct Foo {\n+LL + dyn pub struct Foo {\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/issue-61963.rs:18:1\n+   |\n+LL | pub struct Foo {\n+   | ^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2015) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL - pub struct Foo {\n+LL + dyn pub struct Foo {\n+   | \n+\n+error: trait objects without an explicit `dyn` are deprecated\n+  --> $DIR/issue-61963.rs:18:1\n+   |\n+LL | pub struct Foo {\n+   | ^^^\n+   |\n+   = warning: this is accepted in the current edition (Rust 2015) but is a hard error in Rust 2021!\n+   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2021/warnings-promoted-to-error.html>\n+help: use `dyn`\n+   |\n+LL - pub struct Foo {\n+LL + dyn pub struct Foo {\n+   | \n+\n+error: aborting due to 7 previous errors\n "}]}