{"sha": "ffb2e4123458e50202c02e63b9e044583c0fe79a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmYjJlNDEyMzQ1OGU1MDIwMmMwMmU2M2I5ZTA0NDU4M2MwZmU3OWE=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-04-02T16:20:23Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-04-03T19:18:36Z"}, "message": "Clean up update_lints", "tree": {"sha": "a86bd3a5c73b9431d9347fd51054f9cb275502cb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a86bd3a5c73b9431d9347fd51054f9cb275502cb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ffb2e4123458e50202c02e63b9e044583c0fe79a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl6HjAwACgkQLO/Nsn7Q\nvnkkHw/9E4kcsn1WTwdzi3PhDv6mLu0J9MxsNZ3//Zz61VA9l4F8PxDMLUH5Vpac\nlQlUSZYv/X4KIb01oxsLrtSrK9HPwLLf/WKOfHXlfFC4Zi5u27YsGzQ1B/5cvoOF\n4g71GT39uCD5J6aKwDAVaTEuzw2bsS9ANfiyFRDf3KUgq/6nmMFrIuiU+Sdm8WaK\nWU54UaG0RtxncaFm+IW3zJsKzMVWLKzaxXBKhMfbiuSQyn/VpclLsy3Iirc5kMRV\nBO5uIbFSD5tJSRpHKNycJ/7lIS7fCcoH+flCvnPnG6jnfkJsawXjaD8VudbXzwrT\nJi+ajsz+wugOTV27X3wveyIG8jzYduxzs6jPVeBezkE7htLlmv4Cgt/xz/hKRwrn\nI5isJblwKFlgYlArGym801S/YuBiwUEBxURIykXV0ljwz6QVCmz3rHpQgC/ynfxZ\nBOUvp8BFYveFkpcnaPELkOPF4NwlsiYZkChWQOmDR8ozw7G/e5tlpgtI1HP7dDco\nfuzbc/+W40oAUg2NPs0dcyKjhukT69gmTs/7/HQ56vdgzIVajJQK73OCG+Lr5Kzf\nqxGpU/Rqiox/N0CwV5JefRvTX/V/heQXtlGjJ5ayRvpIcCJfTgCWD6HikciSWrhe\n94eSE7caEFp/Hwjvsw+0eEkXF3qd8sAFNawd0YyDD4CR8VUzD4E=\n=2LLE\n-----END PGP SIGNATURE-----", "payload": "tree a86bd3a5c73b9431d9347fd51054f9cb275502cb\nparent 7907abea272bbf97812683ce03a1ab9c22f0557b\nauthor flip1995 <hello@philkrones.com> 1585844423 +0200\ncommitter flip1995 <hello@philkrones.com> 1585941516 +0200\n\nClean up update_lints\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ffb2e4123458e50202c02e63b9e044583c0fe79a", "html_url": "https://github.com/rust-lang/rust/commit/ffb2e4123458e50202c02e63b9e044583c0fe79a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ffb2e4123458e50202c02e63b9e044583c0fe79a/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7907abea272bbf97812683ce03a1ab9c22f0557b", "url": "https://api.github.com/repos/rust-lang/rust/commits/7907abea272bbf97812683ce03a1ab9c22f0557b", "html_url": "https://github.com/rust-lang/rust/commit/7907abea272bbf97812683ce03a1ab9c22f0557b"}], "stats": {"total": 29, "additions": 14, "deletions": 15}, "files": [{"sha": "b01112539befc277efed36bba7ba95e98fd730fb", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/ffb2e4123458e50202c02e63b9e044583c0fe79a/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffb2e4123458e50202c02e63b9e044583c0fe79a/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=ffb2e4123458e50202c02e63b9e044583c0fe79a", "patch": "@@ -85,7 +85,7 @@ impl Lint {\n \n /// Generates the Vec items for `register_lint_group` calls in `clippy_lints/src/lib.rs`.\n #[must_use]\n-pub fn gen_lint_group_list(lints: Vec<Lint>) -> Vec<String> {\n+pub fn gen_lint_group_list(lints: &[Lint]) -> Vec<String> {\n     lints\n         .into_iter()\n         .filter_map(|l| {\n@@ -101,14 +101,14 @@ pub fn gen_lint_group_list(lints: Vec<Lint>) -> Vec<String> {\n \n /// Generates the `pub mod module_name` list in `clippy_lints/src/lib.rs`.\n #[must_use]\n-pub fn gen_modules_list(lints: Vec<Lint>) -> Vec<String> {\n+pub fn gen_modules_list(lints: &[Lint]) -> Vec<String> {\n     lints\n         .into_iter()\n         .filter_map(|l| {\n             if l.is_internal() || l.deprecation.is_some() {\n                 None\n             } else {\n-                Some(l.module)\n+                Some(l.module.clone())\n             }\n         })\n         .unique()\n@@ -119,11 +119,10 @@ pub fn gen_modules_list(lints: Vec<Lint>) -> Vec<String> {\n \n /// Generates the list of lint links at the bottom of the README\n #[must_use]\n-pub fn gen_changelog_lint_list(lints: Vec<Lint>) -> Vec<String> {\n-    let mut lint_list_sorted: Vec<Lint> = lints;\n-    lint_list_sorted.sort_by_key(|l| l.name.clone());\n-    lint_list_sorted\n+pub fn gen_changelog_lint_list(lints: &[Lint]) -> Vec<String> {\n+    lints\n         .iter()\n+        .sorted_by_key(|l| l.name.clone())\n         .filter_map(|l| {\n             if l.is_internal() {\n                 None\n@@ -475,7 +474,7 @@ fn test_gen_changelog_lint_list() {\n         format!(\"[`should_assert_eq`]: {}#should_assert_eq\", DOCS_LINK.to_string()),\n         format!(\"[`should_assert_eq2`]: {}#should_assert_eq2\", DOCS_LINK.to_string()),\n     ];\n-    assert_eq!(expected, gen_changelog_lint_list(lints));\n+    assert_eq!(expected, gen_changelog_lint_list(&lints));\n }\n \n #[test]\n@@ -525,7 +524,7 @@ fn test_gen_modules_list() {\n         \"pub mod another_module;\".to_string(),\n         \"pub mod module_name;\".to_string(),\n     ];\n-    assert_eq!(expected, gen_modules_list(lints));\n+    assert_eq!(expected, gen_modules_list(&lints));\n }\n \n #[test]\n@@ -541,5 +540,5 @@ fn test_gen_lint_group_list() {\n         \"        LintId::of(&module_name::INTERNAL),\".to_string(),\n         \"        LintId::of(&module_name::SHOULD_ASSERT_EQ),\".to_string(),\n     ];\n-    assert_eq!(expected, gen_lint_group_list(lints));\n+    assert_eq!(expected, gen_lint_group_list(&lints));\n }"}, {"sha": "d709e4892fe28f2b5b83cc95aa02fab7fb5c9360", "filename": "clippy_dev/src/update_lints.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ffb2e4123458e50202c02e63b9e044583c0fe79a/clippy_dev%2Fsrc%2Fupdate_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ffb2e4123458e50202c02e63b9e044583c0fe79a/clippy_dev%2Fsrc%2Fupdate_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fupdate_lints.rs?ref=ffb2e4123458e50202c02e63b9e044583c0fe79a", "patch": "@@ -61,7 +61,7 @@ pub fn run(update_mode: UpdateMode) {\n         \"<!-- end autogenerated links to lint list -->\",\n         false,\n         update_mode == UpdateMode::Change,\n-        || gen_changelog_lint_list(lint_list.clone()),\n+        || gen_changelog_lint_list(&lint_list),\n     )\n     .changed;\n \n@@ -91,7 +91,7 @@ pub fn run(update_mode: UpdateMode) {\n         \"end lints modules\",\n         false,\n         update_mode == UpdateMode::Change,\n-        || gen_modules_list(lint_list.clone()),\n+        || gen_modules_list(&lint_list),\n     )\n     .changed;\n \n@@ -110,9 +110,9 @@ pub fn run(update_mode: UpdateMode) {\n                 .filter(|l| {\n                     l.group == \"correctness\" || l.group == \"style\" || l.group == \"complexity\" || l.group == \"perf\"\n                 })\n-                .collect();\n+                .collect::<Vec<_>>();\n \n-            gen_lint_group_list(all_group_lints)\n+            gen_lint_group_list(&all_group_lints)\n         },\n     )\n     .changed;\n@@ -125,7 +125,7 @@ pub fn run(update_mode: UpdateMode) {\n             r#\"\\]\\);\"#,\n             false,\n             update_mode == UpdateMode::Change,\n-            || gen_lint_group_list(lints.clone()),\n+            || gen_lint_group_list(&lints),\n         )\n         .changed;\n     }"}]}