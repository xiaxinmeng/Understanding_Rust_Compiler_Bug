{"sha": "f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY5ZDBjZGUxOWEzOGY1ZjVlMTUxODNjNTNjMjc4YmQ3ZDdkOWQ4NTY=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-23T07:45:18Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-23T07:45:18Z"}, "message": "syntax: Remove one of the two def_id hashers", "tree": {"sha": "e0db14b208e2dc33956bb15049de345ff524a3e1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e0db14b208e2dc33956bb15049de345ff524a3e1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "html_url": "https://github.com/rust-lang/rust/commit/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4756556748fe7fa247c02f36dc481c8eeae9908d", "url": "https://api.github.com/repos/rust-lang/rust/commits/4756556748fe7fa247c02f36dc481c8eeae9908d", "html_url": "https://github.com/rust-lang/rust/commit/4756556748fe7fa247c02f36dc481c8eeae9908d"}], "stats": {"total": 20, "additions": 4, "deletions": 16}, "files": [{"sha": "2c813a8ed3d5ee9be63d1357f253f449b5625ca7", "filename": "src/librustsyntax/ast_util.rs", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Flibrustsyntax%2Fast_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Flibrustsyntax%2Fast_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustsyntax%2Fast_util.rs?ref=f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "patch": "@@ -242,18 +242,6 @@ fn new_def_hash<V: copy>() -> std::map::hashmap<ast::def_id, V> {\n     ret std::map::hashmap::<ast::def_id, V>(hasher, eqer);\n }\n \n-fn hash_def_id(&&id: def_id) -> uint {\n-    (id.crate as uint << 16u) + (id.node as uint)\n-}\n-\n-fn eq_def_id(&&a: def_id, &&b: def_id) -> bool {\n-    a == b\n-}\n-\n-fn new_def_id_hash<T: copy>() -> std::map::hashmap<def_id, T> {\n-    std::map::hashmap(hash_def_id, eq_def_id)\n-}\n-\n fn block_from_expr(e: @expr) -> blk {\n     let blk_ = default_block([], option::some::<@expr>(e), e.id);\n     ret {node: blk_, span: e.span};"}, {"sha": "c60a6446fc45ae950c41adb11bd28a6204a39061", "filename": "src/rustc/middle/trans/base.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "patch": "@@ -5489,12 +5489,12 @@ fn trans_crate(sess: session::session, crate: @ast::crate, tcx: ty::ctxt,\n           mut main_fn: none::<ValueRef>,\n           link_meta: link_meta,\n           enum_sizes: ty::new_ty_hash(),\n-          discrims: ast_util::new_def_id_hash::<ValueRef>(),\n+          discrims: ast_util::new_def_hash::<ValueRef>(),\n           discrim_symbols: int_hash::<str>(),\n           tydescs: ty::new_ty_hash(),\n           external: ast_util::new_def_hash(),\n           monomorphized: map::hashmap(hash_mono_id, {|a, b| a == b}),\n-          monomorphizing: ast_util::new_def_id_hash(),\n+          monomorphizing: ast_util::new_def_hash(),\n           type_use_cache: ast_util::new_def_hash(),\n           vtables: map::hashmap(hash_mono_id, {|a, b| a == b}),\n           const_cstr_cache: map::str_hash(),"}, {"sha": "c0994192a4e3d08e29a6b6fea4191a5eedd91b1a", "filename": "src/rustc/middle/trans/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Frustc%2Fmiddle%2Ftrans%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Frustc%2Fmiddle%2Ftrans%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fcommon.rs?ref=f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "patch": "@@ -874,7 +874,7 @@ enum mono_param_id {\n }\n type mono_id = @{def: ast::def_id, params: [mono_param_id]};\n fn hash_mono_id(&&mi: mono_id) -> uint {\n-    let mut h = syntax::ast_util::hash_def_id(mi.def);\n+    let mut h = syntax::ast_util::hash_def(mi.def);\n     for vec::each(mi.params) {|param|\n         h = h * alt param {\n           mono_precise(ty, vts) {"}, {"sha": "ddb3c2054b69aa771034279a0966ffac653d4ef0", "filename": "src/rustc/middle/ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Frustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9d0cde19a38f5f5e15183c53c278bd7d7d9d856/src%2Frustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fty.rs?ref=f9d0cde19a38f5f5e15183c53c278bd7d7d9d856", "patch": "@@ -465,7 +465,7 @@ fn mk_ctxt(s: session::session, dm: resolve::def_map, amap: ast_map::map,\n            region_map: middle::region::region_map) -> ctxt {\n     let interner = map::hashmap({|&&k: intern_key|\n         hash_type_structure(k.struct) +\n-            option::map_default(k.o_def_id, 0u, ast_util::hash_def_id)\n+            option::map_default(k.o_def_id, 0u, ast_util::hash_def)\n     }, {|&&a, &&b| a == b});\n     @{diag: s.diagnostic(),\n       interner: interner,"}]}