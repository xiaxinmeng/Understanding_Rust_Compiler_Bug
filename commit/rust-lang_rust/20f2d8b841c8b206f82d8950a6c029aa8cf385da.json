{"sha": "20f2d8b841c8b206f82d8950a6c029aa8cf385da", "node_id": "C_kwDOAAsO6NoAKDIwZjJkOGI4NDFjOGIyMDZmODJkODk1MGE2YzAyOWFhOGNmMzg1ZGE", "commit": {"author": {"name": "clubby789", "email": "jamie@hill-daniel.co.uk", "date": "2022-10-27T12:43:26Z"}, "committer": {"name": "clubby789", "email": "jamie@hill-daniel.co.uk", "date": "2022-10-31T16:43:57Z"}, "message": "Specialize PartialEq for `Option<newtype>`", "tree": {"sha": "ca713717479b8a35d9b449e780a14506efd7d33b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ca713717479b8a35d9b449e780a14506efd7d33b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/20f2d8b841c8b206f82d8950a6c029aa8cf385da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/20f2d8b841c8b206f82d8950a6c029aa8cf385da", "html_url": "https://github.com/rust-lang/rust/commit/20f2d8b841c8b206f82d8950a6c029aa8cf385da", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/20f2d8b841c8b206f82d8950a6c029aa8cf385da/comments", "author": {"login": "clubby789", "id": 13556931, "node_id": "MDQ6VXNlcjEzNTU2OTMx", "avatar_url": "https://avatars.githubusercontent.com/u/13556931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clubby789", "html_url": "https://github.com/clubby789", "followers_url": "https://api.github.com/users/clubby789/followers", "following_url": "https://api.github.com/users/clubby789/following{/other_user}", "gists_url": "https://api.github.com/users/clubby789/gists{/gist_id}", "starred_url": "https://api.github.com/users/clubby789/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clubby789/subscriptions", "organizations_url": "https://api.github.com/users/clubby789/orgs", "repos_url": "https://api.github.com/users/clubby789/repos", "events_url": "https://api.github.com/users/clubby789/events{/privacy}", "received_events_url": "https://api.github.com/users/clubby789/received_events", "type": "User", "site_admin": false}, "committer": {"login": "clubby789", "id": 13556931, "node_id": "MDQ6VXNlcjEzNTU2OTMx", "avatar_url": "https://avatars.githubusercontent.com/u/13556931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clubby789", "html_url": "https://github.com/clubby789", "followers_url": "https://api.github.com/users/clubby789/followers", "following_url": "https://api.github.com/users/clubby789/following{/other_user}", "gists_url": "https://api.github.com/users/clubby789/gists{/gist_id}", "starred_url": "https://api.github.com/users/clubby789/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clubby789/subscriptions", "organizations_url": "https://api.github.com/users/clubby789/orgs", "repos_url": "https://api.github.com/users/clubby789/repos", "events_url": "https://api.github.com/users/clubby789/events{/privacy}", "received_events_url": "https://api.github.com/users/clubby789/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8e8fd02b272bf8ca8e4c8f4d20552ca26a468a80", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e8fd02b272bf8ca8e4c8f4d20552ca26a468a80", "html_url": "https://github.com/rust-lang/rust/commit/8e8fd02b272bf8ca8e4c8f4d20552ca26a468a80"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "da3718252624cc24117ad65003c1e39b34a1f6a7", "filename": "compiler/rustc_ast/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_ast%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_ast%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -15,6 +15,7 @@\n #![feature(if_let_guard)]\n #![feature(let_chains)]\n #![feature(min_specialization)]\n+#![feature(spec_option_partial_eq)]\n #![feature(negative_impls)]\n #![feature(slice_internals)]\n #![feature(stmt_expr_attributes)]"}, {"sha": "75e8b9899aa9bd1183c9ded251c895347d3adf5d", "filename": "compiler/rustc_borrowck/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_borrowck%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_borrowck%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -6,6 +6,7 @@\n #![feature(min_specialization)]\n #![feature(never_type)]\n #![feature(rustc_attrs)]\n+#![feature(spec_option_partial_eq)]\n #![feature(stmt_expr_attributes)]\n #![feature(trusted_step)]\n #![feature(try_blocks)]"}, {"sha": "a7b2f97ac19eedef9cc9e71a65f097e23ca8296a", "filename": "compiler/rustc_data_structures/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -13,6 +13,7 @@\n #![feature(cell_leak)]\n #![feature(control_flow_enum)]\n #![feature(extend_one)]\n+#![feature(spec_option_partial_eq)]\n #![feature(hash_raw_entry)]\n #![feature(hasher_prefixfree_extras)]\n #![feature(maybe_uninit_uninit_array)]"}, {"sha": "9585f92bde30dee6f56dfcb7093c4b24d172bb12", "filename": "compiler/rustc_hir/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_hir%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_hir%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -9,6 +9,7 @@\n #![feature(never_type)]\n #![feature(rustc_attrs)]\n #![feature(variant_count)]\n+#![feature(spec_option_partial_eq)]\n #![recursion_limit = \"256\"]\n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]"}, {"sha": "a855f4c81e8f46e35b20d626fa64398018dd3c64", "filename": "compiler/rustc_hir_analysis/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_hir_analysis%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_hir_analysis%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -65,6 +65,7 @@ This API is completely unstable and subject to change.\n #![feature(is_sorted)]\n #![feature(iter_intersperse)]\n #![feature(let_chains)]\n+#![feature(spec_option_partial_eq)]\n #![feature(min_specialization)]\n #![feature(never_type)]\n #![feature(once_cell)]"}, {"sha": "ef089237994b618a3a92101a4942726c432e92e4", "filename": "compiler/rustc_hir_typeck/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_hir_typeck%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_hir_typeck%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -3,6 +3,7 @@\n #![feature(try_blocks)]\n #![feature(never_type)]\n #![feature(min_specialization)]\n+#![feature(spec_option_partial_eq)]\n #![feature(control_flow_enum)]\n #![feature(drain_filter)]\n #![allow(rustc::potential_query_instability)]"}, {"sha": "28a28d2acf065c6d486d62d970b16505c8409f18", "filename": "compiler/rustc_index/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_index%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_index%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_index%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -6,6 +6,7 @@\n #![feature(new_uninit)]\n #![feature(step_trait)]\n #![feature(stmt_expr_attributes)]\n+#![feature(spec_option_partial_eq)]\n #![feature(test)]\n \n pub mod bit_set;"}, {"sha": "d88c155dc0b0d8a243c3591bbb3ab8f1992afdf0", "filename": "compiler/rustc_infer/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_infer%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_infer%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -19,6 +19,7 @@\n #![feature(extend_one)]\n #![feature(let_chains)]\n #![feature(if_let_guard)]\n+#![feature(spec_option_partial_eq)]\n #![feature(min_specialization)]\n #![feature(never_type)]\n #![feature(try_blocks)]"}, {"sha": "367eb800b03702c66377258e295cdb64b22c30c7", "filename": "compiler/rustc_lint/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_lint%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_lint%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -34,6 +34,7 @@\n #![feature(iter_intersperse)]\n #![feature(iter_order_by)]\n #![feature(let_chains)]\n+#![feature(spec_option_partial_eq)]\n #![feature(min_specialization)]\n #![feature(never_type)]\n #![recursion_limit = \"256\"]"}, {"sha": "fd3f5225155508d23f7d184bd93210fc863b709a", "filename": "compiler/rustc_macros/src/newtype.rs", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_macros%2Fsrc%2Fnewtype.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_macros%2Fsrc%2Fnewtype.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_macros%2Fsrc%2Fnewtype.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -192,6 +192,30 @@ impl Parse for Newtype {\n                 }\n             }\n         };\n+        let spec_partial_eq_impl = if let Lit::Int(max) = &max {\n+            if let Ok(max_val) = max.base10_parse::<u32>() {\n+                quote! {\n+                    impl core::option::SpecOptionPartialEq for #name {\n+                        #[inline]\n+                        fn eq(l: &Option<Self>, r: &Option<Self>) -> bool {\n+                            if #max_val < u32::MAX {\n+                                l.map(|i| i.private).unwrap_or(#max_val+1) == r.map(|i| i.private).unwrap_or(#max_val+1)\n+                            } else {\n+                                match (l, r) {\n+                                    (Some(l), Some(r)) => r == l,\n+                                    (None, None) => true,\n+                                    _ => false\n+                                }\n+                            }\n+                        }\n+                    }\n+                }\n+            } else {\n+                quote! {}\n+            }\n+        } else {\n+            quote! {}\n+        };\n \n         Ok(Self(quote! {\n             #(#attrs)*\n@@ -293,6 +317,8 @@ impl Parse for Newtype {\n \n             #step\n \n+            #spec_partial_eq_impl\n+\n             impl From<#name> for u32 {\n                 #[inline]\n                 fn from(v: #name) -> u32 {"}, {"sha": "040a33c6c291c72f8cae1f0838de87ae0ecb7ff7", "filename": "compiler/rustc_middle/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_middle%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_middle%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -31,6 +31,7 @@\n #![feature(discriminant_kind)]\n #![feature(exhaustive_patterns)]\n #![feature(get_mut_unchecked)]\n+#![feature(spec_option_partial_eq)]\n #![feature(if_let_guard)]\n #![feature(negative_impls)]\n #![feature(never_type)]"}, {"sha": "7ef98c2a153ab0861ad61f07c61194e8e65fab61", "filename": "compiler/rustc_mir_build/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_mir_build%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_mir_build%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -7,6 +7,7 @@\n #![feature(control_flow_enum)]\n #![feature(if_let_guard)]\n #![feature(let_chains)]\n+#![feature(spec_option_partial_eq)]\n #![feature(min_specialization)]\n #![feature(once_cell)]\n #![recursion_limit = \"256\"]"}, {"sha": "31f27860fa7fde00eb81f29bbd4690a03c126709", "filename": "compiler/rustc_mir_dataflow/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_mir_dataflow%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_mir_dataflow%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_dataflow%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -4,6 +4,7 @@\n #![feature(min_specialization)]\n #![feature(once_cell)]\n #![feature(stmt_expr_attributes)]\n+#![feature(spec_option_partial_eq)]\n #![feature(trusted_step)]\n #![recursion_limit = \"256\"]\n #![deny(rustc::untranslatable_diagnostic)]"}, {"sha": "9afa1171e7c950c3a6ad59f8d151e91d50ed1e9d", "filename": "compiler/rustc_mir_transform/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -7,6 +7,7 @@\n #![feature(once_cell)]\n #![feature(option_get_or_insert_default)]\n #![feature(trusted_step)]\n+#![feature(spec_option_partial_eq)]\n #![feature(try_blocks)]\n #![feature(yeet_expr)]\n #![feature(if_let_guard)]"}, {"sha": "294a22d80c256b412858fe7079f651e81c76cd08", "filename": "compiler/rustc_passes/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_passes%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_passes%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -11,6 +11,7 @@\n #![feature(iter_intersperse)]\n #![feature(let_chains)]\n #![feature(map_try_insert)]\n+#![feature(spec_option_partial_eq)]\n #![feature(min_specialization)]\n #![feature(try_blocks)]\n #![recursion_limit = \"256\"]"}, {"sha": "b0781c77b4a894f02b939bba3925bf0e989864af", "filename": "compiler/rustc_query_system/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_query_system%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_query_system%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_query_system%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -3,6 +3,7 @@\n #![feature(hash_raw_entry)]\n #![feature(min_specialization)]\n #![feature(extern_types)]\n+#![feature(spec_option_partial_eq)]\n #![allow(rustc::potential_query_instability)]\n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]"}, {"sha": "7a1e6e36f3ea72463efe68a87a2edb8905a74999", "filename": "compiler/rustc_span/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_span%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_span%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -18,6 +18,7 @@\n #![feature(if_let_guard)]\n #![feature(negative_impls)]\n #![feature(min_specialization)]\n+#![feature(spec_option_partial_eq)]\n #![feature(rustc_attrs)]\n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]"}, {"sha": "464214b64de1d62b74d3b506c8a0b25bfe3b7bd6", "filename": "compiler/rustc_target/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_target%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_target%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -14,6 +14,7 @@\n #![feature(min_specialization)]\n #![feature(never_type)]\n #![feature(rustc_attrs)]\n+#![feature(spec_option_partial_eq)]\n #![feature(step_trait)]\n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]"}, {"sha": "e77da97e1dd4a58da35d510eda8f420f5ee165f1", "filename": "compiler/rustc_type_ir/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_type_ir%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20f2d8b841c8b206f82d8950a6c029aa8cf385da/compiler%2Frustc_type_ir%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_type_ir%2Fsrc%2Flib.rs?ref=20f2d8b841c8b206f82d8950a6c029aa8cf385da", "patch": "@@ -1,6 +1,7 @@\n #![feature(fmt_helpers_for_derive)]\n #![feature(min_specialization)]\n #![feature(rustc_attrs)]\n+#![feature(spec_option_partial_eq)]\n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]\n "}]}