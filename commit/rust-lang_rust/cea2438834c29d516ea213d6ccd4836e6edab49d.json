{"sha": "cea2438834c29d516ea213d6ccd4836e6edab49d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlYTI0Mzg4MzRjMjlkNTE2ZWEyMTNkNmNjZDQ4MzZlNmVkYWI0OWQ=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-06-28T14:05:12Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-06-28T14:05:12Z"}, "message": "Rollup merge of #34080 - royalstream:royalstream-book-june4, r=steveklabnik\n\nSyntax coloring and more compact diagram\n\nTwo cosmetic improvements:\n- New content was added a few days ago to the **Closures** chapter but it was missing rust's syntax coloring.\n- Also, in the **Crates and Modules** chapter, a diagram was improved to be more symmetric and to take less space.", "tree": {"sha": "5ff1fa176f6c29aec7b9cca9ca557750542bc8cd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ff1fa176f6c29aec7b9cca9ca557750542bc8cd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cea2438834c29d516ea213d6ccd4836e6edab49d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cea2438834c29d516ea213d6ccd4836e6edab49d", "html_url": "https://github.com/rust-lang/rust/commit/cea2438834c29d516ea213d6ccd4836e6edab49d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cea2438834c29d516ea213d6ccd4836e6edab49d/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea0dc9297283daff6486807f43e190b4eb561412", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea0dc9297283daff6486807f43e190b4eb561412", "html_url": "https://github.com/rust-lang/rust/commit/ea0dc9297283daff6486807f43e190b4eb561412"}, {"sha": "e9f6c0f83a2f5e52d249b0a6d46d1c894936211a", "url": "https://api.github.com/repos/rust-lang/rust/commits/e9f6c0f83a2f5e52d249b0a6d46d1c894936211a", "html_url": "https://github.com/rust-lang/rust/commit/e9f6c0f83a2f5e52d249b0a6d46d1c894936211a"}], "stats": {"total": 17, "additions": 7, "deletions": 10}, "files": [{"sha": "a6b4e9492181c790fe5a3c040ca6e02397824d8f", "filename": "src/doc/book/closures.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/cea2438834c29d516ea213d6ccd4836e6edab49d/src%2Fdoc%2Fbook%2Fclosures.md", "raw_url": "https://github.com/rust-lang/rust/raw/cea2438834c29d516ea213d6ccd4836e6edab49d/src%2Fdoc%2Fbook%2Fclosures.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fclosures.md?ref=cea2438834c29d516ea213d6ccd4836e6edab49d", "patch": "@@ -322,7 +322,7 @@ to our closure when we pass it to `call_with_one`, so we use `&||`.\n A quick note about closures that use explicit lifetimes. Sometimes you might have a closure\n that takes a reference like so:\n \n-```\n+```rust\n fn call_with_ref<F>(some_closure:F) -> i32\n     where F: Fn(&i32) -> i32 {\n \n@@ -334,8 +334,8 @@ fn call_with_ref<F>(some_closure:F) -> i32\n Normally you can specify the lifetime of the parameter to our closure. We\n could annotate it on the function declaration:\n \n-```ignore\n-fn call_with_ref<'a, F>(some_closure:F) -> i32 \n+```rust,ignore\n+fn call_with_ref<'a, F>(some_closure:F) -> i32\n     where F: Fn(&'a 32) -> i32 {\n ```\n \n@@ -353,11 +353,11 @@ fn call_with_ref<F>(some_closure:F) -> i32\n     where F: for<'a> Fn(&'a 32) -> i32 {\n ```\n \n-This lets the Rust compiler find the minimum lifetime to invoke our closure and \n+This lets the Rust compiler find the minimum lifetime to invoke our closure and\n satisfy the borrow checker's rules. Our function then compiles and excutes as we\n expect.\n \n-```\n+```rust\n fn call_with_ref<F>(some_closure:F) -> i32\n     where F: for<'a> Fn(&'a i32) -> i32 {\n "}, {"sha": "67fe8ba2c11a48e0d5bde95d9a769caeef0a4541", "filename": "src/doc/book/crates-and-modules.md", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/cea2438834c29d516ea213d6ccd4836e6edab49d/src%2Fdoc%2Fbook%2Fcrates-and-modules.md", "raw_url": "https://github.com/rust-lang/rust/raw/cea2438834c29d516ea213d6ccd4836e6edab49d/src%2Fdoc%2Fbook%2Fcrates-and-modules.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fcrates-and-modules.md?ref=cea2438834c29d516ea213d6ccd4836e6edab49d", "patch": "@@ -22,12 +22,10 @@ As an example, let\u2019s make a *phrases* crate, which will give us various phrase\n in different languages. To keep things simple, we\u2019ll stick to \u2018greetings\u2019 and\n \u2018farewells\u2019 as two kinds of phrases, and use English and Japanese (\u65e5\u672c\u8a9e) as\n two languages for those phrases to be in. We\u2019ll use this module layout:\n-\n ```text\n                                     +-----------+\n                                 +---| greetings |\n-                                |   +-----------+\n-                  +---------+   |\n+                  +---------+   |   +-----------+\n               +---| english |---+\n               |   +---------+   |   +-----------+\n               |                 +---| farewells |\n@@ -37,8 +35,7 @@ two languages for those phrases to be in. We\u2019ll use this module layout:\n               |                 +---| greetings |\n               |   +----------+  |   +-----------+\n               +---| japanese |--+\n-                  +----------+  |\n-                                |   +-----------+\n+                  +----------+  |   +-----------+\n                                 +---| farewells |\n                                     +-----------+\n ```"}]}