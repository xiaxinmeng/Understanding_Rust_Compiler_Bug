{"sha": "c5d654d5132b702d028ed00b5ec5c654a0b4a2fa", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1ZDY1NGQ1MTMyYjcwMmQwMjhlZDAwYjVlYzVjNjU0YTBiNGEyZmE=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-03-17T00:39:58Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-03-17T00:39:58Z"}, "message": "use if let Some(x) instead of  if x.is_some() and x.unwrap() (clippy::unnecessary-unwrap)", "tree": {"sha": "427a911caa7a383a0aa604bde79e86e3306a8686", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/427a911caa7a383a0aa604bde79e86e3306a8686"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c5d654d5132b702d028ed00b5ec5c654a0b4a2fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c5d654d5132b702d028ed00b5ec5c654a0b4a2fa", "html_url": "https://github.com/rust-lang/rust/commit/c5d654d5132b702d028ed00b5ec5c654a0b4a2fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c5d654d5132b702d028ed00b5ec5c654a0b4a2fa/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "966c23f5290275ce17564f6027a17ec20cd6078f", "url": "https://api.github.com/repos/rust-lang/rust/commits/966c23f5290275ce17564f6027a17ec20cd6078f", "html_url": "https://github.com/rust-lang/rust/commit/966c23f5290275ce17564f6027a17ec20cd6078f"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "b6782b4ba8c7c537e33a92c438eff65c92f5de9f", "filename": "crates/mbe/src/expander/matcher.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c5d654d5132b702d028ed00b5ec5c654a0b4a2fa/crates%2Fmbe%2Fsrc%2Fexpander%2Fmatcher.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c5d654d5132b702d028ed00b5ec5c654a0b4a2fa/crates%2Fmbe%2Fsrc%2Fexpander%2Fmatcher.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fmbe%2Fsrc%2Fexpander%2Fmatcher.rs?ref=c5d654d5132b702d028ed00b5ec5c654a0b4a2fa", "patch": "@@ -540,7 +540,7 @@ fn match_loop(pattern: &MetaTemplate, src: &tt::Subtree) -> Match {\n     let mut src = TtIter::new(src);\n     let mut stack: SmallVec<[TtIter; 1]> = SmallVec::new();\n     let mut res = Match::default();\n-    let mut error_reover_item = None;\n+    let mut error_recover_item = None;\n \n     let mut bindings_builder = BindingsBuilder::default();\n \n@@ -579,9 +579,9 @@ fn match_loop(pattern: &MetaTemplate, src: &tt::Subtree) -> Match {\n         stdx::always!(cur_items.is_empty());\n \n         if error_items.len() > 0 {\n-            error_reover_item = error_items.pop().map(|it| it.bindings);\n+            error_recover_item = error_items.pop().map(|it| it.bindings);\n         } else if eof_items.len() > 0 {\n-            error_reover_item = Some(eof_items[0].bindings.clone());\n+            error_recover_item = Some(eof_items[0].bindings.clone());\n         }\n \n         // We need to do some post processing after the `match_loop_inner`.\n@@ -594,8 +594,8 @@ fn match_loop(pattern: &MetaTemplate, src: &tt::Subtree) -> Match {\n                 res.bindings = bindings_builder.build(&eof_items[0].bindings);\n             } else {\n                 // Error recovery\n-                if error_reover_item.is_some() {\n-                    res.bindings = bindings_builder.build(&error_reover_item.unwrap());\n+                if let Some(item) = error_recover_item {\n+                    res.bindings = bindings_builder.build(&item);\n                 }\n                 res.add_err(ExpandError::UnexpectedToken);\n             }\n@@ -618,7 +618,7 @@ fn match_loop(pattern: &MetaTemplate, src: &tt::Subtree) -> Match {\n             }\n             res.add_err(err!(\"leftover tokens\"));\n \n-            if let Some(error_reover_item) = error_reover_item {\n+            if let Some(error_reover_item) = error_recover_item {\n                 res.bindings = bindings_builder.build(&error_reover_item);\n             }\n             return res;"}]}