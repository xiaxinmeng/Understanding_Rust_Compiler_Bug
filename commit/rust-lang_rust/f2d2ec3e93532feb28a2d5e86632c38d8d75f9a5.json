{"sha": "f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5", "node_id": "C_kwDOAAsO6NoAKGYyZDJlYzNlOTM1MzJmZWIyOGEyZDVlODY2MzJjMzhkOGQ3NWY5YTU", "commit": {"author": {"name": "klensy", "email": "klensy@users.noreply.github.com", "date": "2022-04-05T12:52:53Z"}, "committer": {"name": "klensy", "email": "klensy@users.noreply.github.com", "date": "2022-04-08T08:45:57Z"}, "message": "check_doc_keyword: don't alloc string for emptiness check\n\ncheck_doc_alias_value: get argument as Symbol to prevent needless string convertions\n\ncheck_doc_attrs: don't alloc vec, iterate over slice. Vec introduced in #83149, but no perf run posted on merge\n\nreplace as_str() check with symbol check\n\nget_single_str_from_tts: don't prealloc string\n\ntrivial string to str replace\n\nLifetimeScopeForPath::NonElided use Vec<Symbol> instead of Vec<String>\n\nAssertModuleSource use BTreeSet<Symbol> instead of BTreeSet<String>\n\nCrateInfo.crate_name replace FxHashMap<CrateNum, String> with FxHashMap<CrateNum, Symbol>", "tree": {"sha": "2f9f04d0cfed765e3dbf69ae12b3c740d237c31b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f9f04d0cfed765e3dbf69ae12b3c740d237c31b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5", "html_url": "https://github.com/rust-lang/rust/commit/f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5/comments", "author": {"login": "klensy", "id": 1782831, "node_id": "MDQ6VXNlcjE3ODI4MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1782831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klensy", "html_url": "https://github.com/klensy", "followers_url": "https://api.github.com/users/klensy/followers", "following_url": "https://api.github.com/users/klensy/following{/other_user}", "gists_url": "https://api.github.com/users/klensy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klensy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klensy/subscriptions", "organizations_url": "https://api.github.com/users/klensy/orgs", "repos_url": "https://api.github.com/users/klensy/repos", "events_url": "https://api.github.com/users/klensy/events{/privacy}", "received_events_url": "https://api.github.com/users/klensy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "klensy", "id": 1782831, "node_id": "MDQ6VXNlcjE3ODI4MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1782831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klensy", "html_url": "https://github.com/klensy", "followers_url": "https://api.github.com/users/klensy/followers", "following_url": "https://api.github.com/users/klensy/following{/other_user}", "gists_url": "https://api.github.com/users/klensy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klensy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klensy/subscriptions", "organizations_url": "https://api.github.com/users/klensy/orgs", "repos_url": "https://api.github.com/users/klensy/repos", "events_url": "https://api.github.com/users/klensy/events{/privacy}", "received_events_url": "https://api.github.com/users/klensy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2efede77493df5912800fc358f28277642f56bc9", "url": "https://api.github.com/repos/rust-lang/rust/commits/2efede77493df5912800fc358f28277642f56bc9", "html_url": "https://github.com/rust-lang/rust/commit/2efede77493df5912800fc358f28277642f56bc9"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "7f15bc75fda23e8fc933c892d4b94712ce9afa20", "filename": "src/driver/jit.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5/src%2Fdriver%2Fjit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5/src%2Fdriver%2Fjit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver%2Fjit.rs?ref=f2d2ec3e93532feb28a2d5e86632c38d8d75f9a5", "patch": "@@ -288,8 +288,8 @@ fn load_imported_symbols_for_jit(\n         match data[cnum.as_usize() - 1] {\n             Linkage::NotLinked | Linkage::IncludedFromDylib => {}\n             Linkage::Static => {\n-                let name = &crate_info.crate_name[&cnum];\n-                let mut err = sess.struct_err(&format!(\"Can't load static lib {}\", name.as_str()));\n+                let name = crate_info.crate_name[&cnum];\n+                let mut err = sess.struct_err(&format!(\"Can't load static lib {}\", name));\n                 err.note(\"rustc_codegen_cranelift can only load dylibs in JIT mode.\");\n                 err.emit();\n             }"}]}