{"sha": "61ca901e51be911ccc0664ffcfb908f8f477658b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxY2E5MDFlNTFiZTkxMWNjYzA2NjRmZmNmYjkwOGY4ZjQ3NzY1OGI=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-06-15T11:54:46Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-07-15T17:39:59Z"}, "message": "Get PR number from bors commit message", "tree": {"sha": "c7b05aadc0ac2c3196f3f4afdd357df0b506e6a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c7b05aadc0ac2c3196f3f4afdd357df0b506e6a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/61ca901e51be911ccc0664ffcfb908f8f477658b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl0sum8ACgkQaTCGhp1Q\nZjcgAQ/8CtpTOMf54lzsfcZKFiDTo0Ex8v5Nz7qcp8qFfLpt9YY/3/bfdUVv2Peh\nbteuRh3HXH5BC4DJ36P5Vy7TZWYPL9UKv5hTLmGmDVf+uZ7rHG5s8V86Ml9Xsp0z\nAPSDD5/S9RDTfPJu32+5f/tHap5H5TVnmSmcQai6ZUYLQ14Z6ZD5KT8M+5lixL/H\nR88hZomH1czdgfEliEpw4UThPxXgPzqQ9UHIUaQhGM8owcmSP7sWg+7wVeYyP5j7\nasPgwgSRvY0t827rhnECD2Lx6BRhJAZZWQVCeg/192w1367G2d9682pIhuxkl5QT\nKrJB5eXnHHn5y8+rviu1KB7Re51bb20GVDS6Cj86Wsn/dkZAXixpOKEdJIuxz62n\n1yjDlU34AVqohmtJQ9K/N089RmI6SVFCjHoD+npGqPQ4amKSBnmduEBET0Ow/Mtp\n34FHPF7V7aD39GAFlOzmykuxC0HGAnVojNPI2y8CU+cuEQCQ+MNOWNHIcld/9sMF\nAP6LNG5GZgPf6z2oSxL9blwpk8LQrbxuk0xJxT1mN9SkSJDCqnlr/HP6gqoVWL68\nnZOJ4MfgvcA9vBio9Cpx8QhtQMLl8YDAtUNbMomjsFY1T8nQym7SKv38/jGud1mU\nAc3L/LpaYpx/S6xLaTTohiM3IDQHwO8qOTHpKu69obDgjGL031M=\n=r0FA\n-----END PGP SIGNATURE-----", "payload": "tree c7b05aadc0ac2c3196f3f4afdd357df0b506e6a2\nparent cb6cec5695eff8ed58139b87075c0f05278d28e6\nauthor flip1995 <hello@philkrones.com> 1560599686 +0200\ncommitter flip1995 <hello@philkrones.com> 1563212399 +0200\n\nGet PR number from bors commit message\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/61ca901e51be911ccc0664ffcfb908f8f477658b", "html_url": "https://github.com/rust-lang/rust/commit/61ca901e51be911ccc0664ffcfb908f8f477658b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/61ca901e51be911ccc0664ffcfb908f8f477658b/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cb6cec5695eff8ed58139b87075c0f05278d28e6", "url": "https://api.github.com/repos/rust-lang/rust/commits/cb6cec5695eff8ed58139b87075c0f05278d28e6", "html_url": "https://github.com/rust-lang/rust/commit/cb6cec5695eff8ed58139b87075c0f05278d28e6"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "12c9f512f569edb98f5e1bdf964b7bfc19f1f34c", "filename": ".travis.yml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/61ca901e51be911ccc0664ffcfb908f8f477658b/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/61ca901e51be911ccc0664ffcfb908f8f477658b/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=61ca901e51be911ccc0664ffcfb908f8f477658b", "patch": "@@ -91,7 +91,8 @@ matrix:\n script:\n   - |\n     if [ \"$TRAVIS_BRANCH\" == \"auto\" ] || [ \"$TRAVIS_BRANCH\" == \"try\" ]; then\n-      output=$(curl -H \"Authorization: token $GITHUB_API_TOKEN\" -s \"https://api.github.com/repos/rust-lang/rust-clippy/pulls/$TRAVIS_PULL_REQUEST\" | \\\n+      pr=$(echo $TRAVIS_COMMIT_MESSAGE | grep -o \"#[0-9]*\" | head -1 | sed 's/^#//g')\n+      output=$(curl -H \"Authorization: token $GITHUB_API_TOKEN\" -s \"https://api.github.com/repos/rust-lang/rust-clippy/pulls/$pr\" | \\\n         python -c \"import sys, json; print(json.load(sys.stdin)['body'])\" | \\\n         grep \"changelog: \" | \\\n         sed \"s/changelog: //g\")"}]}