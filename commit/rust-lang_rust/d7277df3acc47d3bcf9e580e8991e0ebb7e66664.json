{"sha": "d7277df3acc47d3bcf9e580e8991e0ebb7e66664", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ3Mjc3ZGYzYWNjNDdkM2JjZjllNTgwZTg5OTFlMGViYjdlNjY2NjQ=", "commit": {"author": {"name": "Ayaz Hafiz", "email": "ayaz.hafiz.1@gmail.com", "date": "2020-06-17T03:05:55Z"}, "committer": {"name": "Ayaz Hafiz", "email": "ayaz.hafiz.1@gmail.com", "date": "2020-06-17T03:05:55Z"}, "message": "fixup! Note numeric literals that can never fit in an expected type", "tree": {"sha": "abb304318ae7a32698fb79b63f51d36d107ce8cf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/abb304318ae7a32698fb79b63f51d36d107ce8cf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d7277df3acc47d3bcf9e580e8991e0ebb7e66664", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEP1kDyr3I3sjT29nTtEP3owMMmu0FAl7piJMACgkQtEP3owMM\nmu2PIw/8Dt1yJKzDYxJu1HKd6MREgBYC09XEXj/dKJ15k+OODx+xUEnaYPagCA/p\nu/YKg0P0pg4WH4ebfbwJru4fXxpuXH1+lgPhTEaUtkmzzTaKTbTOkHz39xBECogu\nxJ4rLH3u0Cm+TKalk0+uGHFSYhPU64YI5OmQGQ2D1pjNJhbb+jmdl3DAkgOCpBFH\ntt20607++4Euc3FV8Md9XnBimC0b1jhQKE/HcnC5KvDkxWgjiENpCR5DMBnXs58j\natIcb3SoUzdpnYqDpo0dQiNe9pYcgobAzmCr9xh0q1HkX7d6KVEQFisAAanWf6uZ\n7QeuR0WetqRWnX3TpVbBvHsxoWLX4oblp/iDSt0PMAg+E4hax7zqmGHjzueemhs3\nF+4qxyhxeHG9ZWsazerwfKpwmoDSyS9OpR6st8KIa9txEIBjRcRluplxCsIJKwH/\nltjjRMLaDNzytZsjwEGG9iOEdcbxsta/KpqIllngXlUmOz9rEry/u/75blIvhWzR\nuIUHXqxGPwHVH2E1hOj+7vzbROffYP1TV71C/jkE4ShcTrua1Jx7nYrrcsHgU5KA\nf2DpwAu92yNZi3vuI5XG7wnJiulbYwlbbpeDq9mddsB74q1GDzGAE4oUtTJ9fVaz\nuuMABdSEJIYQF4bGnyLXVUWeAqz53kaS5DVyadLVJ47ZoYAh0DE=\n=qU9+\n-----END PGP SIGNATURE-----", "payload": "tree abb304318ae7a32698fb79b63f51d36d107ce8cf\nparent f0d36891b6681c0833747d6188f0b194aee7fac8\nauthor Ayaz Hafiz <ayaz.hafiz.1@gmail.com> 1592363155 -0700\ncommitter Ayaz Hafiz <ayaz.hafiz.1@gmail.com> 1592363155 -0700\n\nfixup! Note numeric literals that can never fit in an expected type\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d7277df3acc47d3bcf9e580e8991e0ebb7e66664", "html_url": "https://github.com/rust-lang/rust/commit/d7277df3acc47d3bcf9e580e8991e0ebb7e66664", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d7277df3acc47d3bcf9e580e8991e0ebb7e66664/comments", "author": {"login": "ayazhafiz", "id": 20735482, "node_id": "MDQ6VXNlcjIwNzM1NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/20735482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayazhafiz", "html_url": "https://github.com/ayazhafiz", "followers_url": "https://api.github.com/users/ayazhafiz/followers", "following_url": "https://api.github.com/users/ayazhafiz/following{/other_user}", "gists_url": "https://api.github.com/users/ayazhafiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayazhafiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayazhafiz/subscriptions", "organizations_url": "https://api.github.com/users/ayazhafiz/orgs", "repos_url": "https://api.github.com/users/ayazhafiz/repos", "events_url": "https://api.github.com/users/ayazhafiz/events{/privacy}", "received_events_url": "https://api.github.com/users/ayazhafiz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ayazhafiz", "id": 20735482, "node_id": "MDQ6VXNlcjIwNzM1NDgy", "avatar_url": "https://avatars.githubusercontent.com/u/20735482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayazhafiz", "html_url": "https://github.com/ayazhafiz", "followers_url": "https://api.github.com/users/ayazhafiz/followers", "following_url": "https://api.github.com/users/ayazhafiz/following{/other_user}", "gists_url": "https://api.github.com/users/ayazhafiz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayazhafiz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayazhafiz/subscriptions", "organizations_url": "https://api.github.com/users/ayazhafiz/orgs", "repos_url": "https://api.github.com/users/ayazhafiz/repos", "events_url": "https://api.github.com/users/ayazhafiz/events{/privacy}", "received_events_url": "https://api.github.com/users/ayazhafiz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f0d36891b6681c0833747d6188f0b194aee7fac8", "url": "https://api.github.com/repos/rust-lang/rust/commits/f0d36891b6681c0833747d6188f0b194aee7fac8", "html_url": "https://github.com/rust-lang/rust/commit/f0d36891b6681c0833747d6188f0b194aee7fac8"}], "stats": {"total": 152, "additions": 26, "deletions": 126}, "files": [{"sha": "bcfc0cf347cbcf94c9144615ef4b6f47bbc2bfbb", "filename": "src/librustc_typeck/check/demand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d7277df3acc47d3bcf9e580e8991e0ebb7e66664/src%2Flibrustc_typeck%2Fcheck%2Fdemand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7277df3acc47d3bcf9e580e8991e0ebb7e66664/src%2Flibrustc_typeck%2Fcheck%2Fdemand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fdemand.rs?ref=d7277df3acc47d3bcf9e580e8991e0ebb7e66664", "patch": "@@ -834,7 +834,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     // suggest a fallible conversion, check if the value can never fit in the\n                     // expected type.\n                     let msg = format!(\"`{}` cannot fit into type `{}`\", src, expected_ty);\n-                    err.span_note(expr.span, &msg);\n+                    err.note(&msg);\n                     return;\n                 } else if in_const_context {\n                     // Do not recommend `into` or `try_into` in const contexts."}, {"sha": "4852e7047b47a3c5db48e13f4c88a101eb0a7983", "filename": "src/test/ui/numeric/numeric-cast-no-fix.stderr", "status": "modified", "additions": 25, "deletions": 125, "changes": 150, "blob_url": "https://github.com/rust-lang/rust/blob/d7277df3acc47d3bcf9e580e8991e0ebb7e66664/src%2Ftest%2Fui%2Fnumeric%2Fnumeric-cast-no-fix.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/d7277df3acc47d3bcf9e580e8991e0ebb7e66664/src%2Ftest%2Fui%2Fnumeric%2Fnumeric-cast-no-fix.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnumeric%2Fnumeric-cast-no-fix.stderr?ref=d7277df3acc47d3bcf9e580e8991e0ebb7e66664", "patch": "@@ -4,59 +4,39 @@ error[E0308]: mismatched types\n LL |     x_usize > -1_isize;\n    |               ^^^^^^^^ expected `usize`, found `isize`\n    |\n-note: `-1_isize` cannot fit into type `usize`\n-  --> $DIR/numeric-cast-no-fix.rs:10:15\n-   |\n-LL |     x_usize > -1_isize;\n-   |               ^^^^^^^^\n+   = note: `-1_isize` cannot fit into type `usize`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:12:14\n    |\n LL |     x_u128 > -1_isize;\n    |              ^^^^^^^^ expected `u128`, found `isize`\n    |\n-note: `-1_isize` cannot fit into type `u128`\n-  --> $DIR/numeric-cast-no-fix.rs:12:14\n-   |\n-LL |     x_u128 > -1_isize;\n-   |              ^^^^^^^^\n+   = note: `-1_isize` cannot fit into type `u128`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:14:13\n    |\n LL |     x_u64 > -1_isize;\n    |             ^^^^^^^^ expected `u64`, found `isize`\n    |\n-note: `-1_isize` cannot fit into type `u64`\n-  --> $DIR/numeric-cast-no-fix.rs:14:13\n-   |\n-LL |     x_u64 > -1_isize;\n-   |             ^^^^^^^^\n+   = note: `-1_isize` cannot fit into type `u64`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:16:13\n    |\n LL |     x_u32 > -1_isize;\n    |             ^^^^^^^^ expected `u32`, found `isize`\n    |\n-note: `-1_isize` cannot fit into type `u32`\n-  --> $DIR/numeric-cast-no-fix.rs:16:13\n-   |\n-LL |     x_u32 > -1_isize;\n-   |             ^^^^^^^^\n+   = note: `-1_isize` cannot fit into type `u32`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:18:13\n    |\n LL |     x_u16 > -1_isize;\n    |             ^^^^^^^^ expected `u16`, found `isize`\n    |\n-note: `-1_isize` cannot fit into type `u16`\n-  --> $DIR/numeric-cast-no-fix.rs:18:13\n-   |\n-LL |     x_u16 > -1_isize;\n-   |             ^^^^^^^^\n+   = note: `-1_isize` cannot fit into type `u16`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:20:12\n@@ -75,23 +55,15 @@ error[E0308]: mismatched types\n LL |     x_usize > -1_i128;\n    |               ^^^^^^^ expected `usize`, found `i128`\n    |\n-note: `-1_i128` cannot fit into type `usize`\n-  --> $DIR/numeric-cast-no-fix.rs:23:15\n-   |\n-LL |     x_usize > -1_i128;\n-   |               ^^^^^^^\n+   = note: `-1_i128` cannot fit into type `usize`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:25:14\n    |\n LL |     x_u128 > -1_i128;\n    |              ^^^^^^^ expected `u128`, found `i128`\n    |\n-note: `-1_i128` cannot fit into type `u128`\n-  --> $DIR/numeric-cast-no-fix.rs:25:14\n-   |\n-LL |     x_u128 > -1_i128;\n-   |              ^^^^^^^\n+   = note: `-1_i128` cannot fit into type `u128`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:27:13\n@@ -143,35 +115,23 @@ error[E0308]: mismatched types\n LL |     x_usize > -1_i64;\n    |               ^^^^^^ expected `usize`, found `i64`\n    |\n-note: `-1_i64` cannot fit into type `usize`\n-  --> $DIR/numeric-cast-no-fix.rs:36:15\n-   |\n-LL |     x_usize > -1_i64;\n-   |               ^^^^^^\n+   = note: `-1_i64` cannot fit into type `usize`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:38:14\n    |\n LL |     x_u128 > -1_i64;\n    |              ^^^^^^ expected `u128`, found `i64`\n    |\n-note: `-1_i64` cannot fit into type `u128`\n-  --> $DIR/numeric-cast-no-fix.rs:38:14\n-   |\n-LL |     x_u128 > -1_i64;\n-   |              ^^^^^^\n+   = note: `-1_i64` cannot fit into type `u128`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:40:13\n    |\n LL |     x_u64 > -1_i64;\n    |             ^^^^^^ expected `u64`, found `i64`\n    |\n-note: `-1_i64` cannot fit into type `u64`\n-  --> $DIR/numeric-cast-no-fix.rs:40:13\n-   |\n-LL |     x_u64 > -1_i64;\n-   |             ^^^^^^\n+   = note: `-1_i64` cannot fit into type `u64`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:42:13\n@@ -212,47 +172,31 @@ error[E0308]: mismatched types\n LL |     x_usize > -1_i32;\n    |               ^^^^^^ expected `usize`, found `i32`\n    |\n-note: `-1_i32` cannot fit into type `usize`\n-  --> $DIR/numeric-cast-no-fix.rs:49:15\n-   |\n-LL |     x_usize > -1_i32;\n-   |               ^^^^^^\n+   = note: `-1_i32` cannot fit into type `usize`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:51:14\n    |\n LL |     x_u128 > -1_i32;\n    |              ^^^^^^ expected `u128`, found `i32`\n    |\n-note: `-1_i32` cannot fit into type `u128`\n-  --> $DIR/numeric-cast-no-fix.rs:51:14\n-   |\n-LL |     x_u128 > -1_i32;\n-   |              ^^^^^^\n+   = note: `-1_i32` cannot fit into type `u128`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:53:13\n    |\n LL |     x_u64 > -1_i32;\n    |             ^^^^^^ expected `u64`, found `i32`\n    |\n-note: `-1_i32` cannot fit into type `u64`\n-  --> $DIR/numeric-cast-no-fix.rs:53:13\n-   |\n-LL |     x_u64 > -1_i32;\n-   |             ^^^^^^\n+   = note: `-1_i32` cannot fit into type `u64`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:55:13\n    |\n LL |     x_u32 > -1_i32;\n    |             ^^^^^^ expected `u32`, found `i32`\n    |\n-note: `-1_i32` cannot fit into type `u32`\n-  --> $DIR/numeric-cast-no-fix.rs:55:13\n-   |\n-LL |     x_u32 > -1_i32;\n-   |             ^^^^^^\n+   = note: `-1_i32` cannot fit into type `u32`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:57:13\n@@ -282,59 +226,39 @@ error[E0308]: mismatched types\n LL |     x_usize > -1_i16;\n    |               ^^^^^^ expected `usize`, found `i16`\n    |\n-note: `-1_i16` cannot fit into type `usize`\n-  --> $DIR/numeric-cast-no-fix.rs:62:15\n-   |\n-LL |     x_usize > -1_i16;\n-   |               ^^^^^^\n+   = note: `-1_i16` cannot fit into type `usize`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:64:14\n    |\n LL |     x_u128 > -1_i16;\n    |              ^^^^^^ expected `u128`, found `i16`\n    |\n-note: `-1_i16` cannot fit into type `u128`\n-  --> $DIR/numeric-cast-no-fix.rs:64:14\n-   |\n-LL |     x_u128 > -1_i16;\n-   |              ^^^^^^\n+   = note: `-1_i16` cannot fit into type `u128`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:66:13\n    |\n LL |     x_u64 > -1_i16;\n    |             ^^^^^^ expected `u64`, found `i16`\n    |\n-note: `-1_i16` cannot fit into type `u64`\n-  --> $DIR/numeric-cast-no-fix.rs:66:13\n-   |\n-LL |     x_u64 > -1_i16;\n-   |             ^^^^^^\n+   = note: `-1_i16` cannot fit into type `u64`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:68:13\n    |\n LL |     x_u32 > -1_i16;\n    |             ^^^^^^ expected `u32`, found `i16`\n    |\n-note: `-1_i16` cannot fit into type `u32`\n-  --> $DIR/numeric-cast-no-fix.rs:68:13\n-   |\n-LL |     x_u32 > -1_i16;\n-   |             ^^^^^^\n+   = note: `-1_i16` cannot fit into type `u32`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:70:13\n    |\n LL |     x_u16 > -1_i16;\n    |             ^^^^^^ expected `u16`, found `i16`\n    |\n-note: `-1_i16` cannot fit into type `u16`\n-  --> $DIR/numeric-cast-no-fix.rs:70:13\n-   |\n-LL |     x_u16 > -1_i16;\n-   |             ^^^^^^\n+   = note: `-1_i16` cannot fit into type `u16`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:72:12\n@@ -353,71 +277,47 @@ error[E0308]: mismatched types\n LL |     x_usize > -1_i8;\n    |               ^^^^^ expected `usize`, found `i8`\n    |\n-note: `-1_i8` cannot fit into type `usize`\n-  --> $DIR/numeric-cast-no-fix.rs:75:15\n-   |\n-LL |     x_usize > -1_i8;\n-   |               ^^^^^\n+   = note: `-1_i8` cannot fit into type `usize`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:77:14\n    |\n LL |     x_u128 > -1_i8;\n    |              ^^^^^ expected `u128`, found `i8`\n    |\n-note: `-1_i8` cannot fit into type `u128`\n-  --> $DIR/numeric-cast-no-fix.rs:77:14\n-   |\n-LL |     x_u128 > -1_i8;\n-   |              ^^^^^\n+   = note: `-1_i8` cannot fit into type `u128`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:79:13\n    |\n LL |     x_u64 > -1_i8;\n    |             ^^^^^ expected `u64`, found `i8`\n    |\n-note: `-1_i8` cannot fit into type `u64`\n-  --> $DIR/numeric-cast-no-fix.rs:79:13\n-   |\n-LL |     x_u64 > -1_i8;\n-   |             ^^^^^\n+   = note: `-1_i8` cannot fit into type `u64`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:81:13\n    |\n LL |     x_u32 > -1_i8;\n    |             ^^^^^ expected `u32`, found `i8`\n    |\n-note: `-1_i8` cannot fit into type `u32`\n-  --> $DIR/numeric-cast-no-fix.rs:81:13\n-   |\n-LL |     x_u32 > -1_i8;\n-   |             ^^^^^\n+   = note: `-1_i8` cannot fit into type `u32`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:83:13\n    |\n LL |     x_u16 > -1_i8;\n    |             ^^^^^ expected `u16`, found `i8`\n    |\n-note: `-1_i8` cannot fit into type `u16`\n-  --> $DIR/numeric-cast-no-fix.rs:83:13\n-   |\n-LL |     x_u16 > -1_i8;\n-   |             ^^^^^\n+   = note: `-1_i8` cannot fit into type `u16`\n \n error[E0308]: mismatched types\n   --> $DIR/numeric-cast-no-fix.rs:85:12\n    |\n LL |     x_u8 > -1_i8;\n    |            ^^^^^ expected `u8`, found `i8`\n    |\n-note: `-1_i8` cannot fit into type `u8`\n-  --> $DIR/numeric-cast-no-fix.rs:85:12\n-   |\n-LL |     x_u8 > -1_i8;\n-   |            ^^^^^\n+   = note: `-1_i8` cannot fit into type `u8`\n \n error: aborting due to 36 previous errors\n "}]}