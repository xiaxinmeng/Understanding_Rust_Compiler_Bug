{"sha": "f3cbdb07c56fcfab1d65488836caafc1f395a0d1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzY2JkYjA3YzU2ZmNmYWIxZDY1NDg4ODM2Y2FhZmMxZjM5NWEwZDE=", "commit": {"author": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-09-09T02:54:20Z"}, "committer": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-09-09T03:13:14Z"}, "message": "Fix outer doc-comments of `macro_rules`", "tree": {"sha": "b9f4b91038e63c060d05356ceef738f85c35ae22", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b9f4b91038e63c060d05356ceef738f85c35ae22"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f3cbdb07c56fcfab1d65488836caafc1f395a0d1", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEXLDp5dXVcfV/VA/qztOS3gxIPQAFAl11w0oACgkQztOS3gxI\nPQCvSg/+PPXYX57BR5nwVK9VVqXAq3dc7ID/yn6hvZ3MvmAgvu9rN6VLx1We1e+P\nRf3gKVdAB9c0kicfHEwMbsJxMM52e9ZUMLKil7wpNTrzxbNJ7lDpnGZI4anEX8Mq\n7ZCBVwFKupXueXCkeXbq44+vowWjD2shvevb/FPIkMwAH8oPa1HaZG5GDdQKkkfQ\n+JOWSgM4bTe7F+TVzCZR2Wrv36t80UTwbgSqmASugWMqif+uxAr8XVkw4LXB0eld\neLH5a0J49aloH56cJ6q2k5nvRsRKrckELmcRGOH1G8Ok5AAaxkbvhix9O/aCjGyn\nNqoqFKVsm8FE+o6zvWCPKWSYFcP2rxPVov+uTtC082oovqleF6xO3u2yihRSUuMb\nMq8/cjMIh7aCGjD8nKbiH8sSrkxG4StCRQr00m6D5Wc4nos1J4VebGSVMMpbhdRb\nk/vC5izc2GeSjrQgpceHBhT/fQle8tHVRoZvAIIHKxN1dn76Gbsts2xdq2ycN8hg\nP1zgWv6tYlH5Inmpyx9w6kpmdGUvu+nH6U3g8qbfYJNO5ASV+cBa0DCjREInuGdI\ntJMNqpTP+TAvRMCHUP2gu9DVl8+NqBRJL6hOs2YS1ZamxVAtro4igC1qkysNu3cI\noC6qIZxE4aJXQ8By4vWTuBqZ7Ti7cA3uO/lKnVsKrOO6lDDgsa0=\n=/OUQ\n-----END PGP SIGNATURE-----", "payload": "tree b9f4b91038e63c060d05356ceef738f85c35ae22\nparent 07e3976f426aaab93bfd3056374ec6ed32ffb255\nauthor uHOOCCOOHu <hooccooh1896@gmail.com> 1567997660 +0800\ncommitter uHOOCCOOHu <hooccooh1896@gmail.com> 1567998794 +0800\n\nFix outer doc-comments of `macro_rules`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f3cbdb07c56fcfab1d65488836caafc1f395a0d1", "html_url": "https://github.com/rust-lang/rust/commit/f3cbdb07c56fcfab1d65488836caafc1f395a0d1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f3cbdb07c56fcfab1d65488836caafc1f395a0d1/comments", "author": null, "committer": null, "parents": [{"sha": "07e3976f426aaab93bfd3056374ec6ed32ffb255", "url": "https://api.github.com/repos/rust-lang/rust/commits/07e3976f426aaab93bfd3056374ec6ed32ffb255", "html_url": "https://github.com/rust-lang/rust/commit/07e3976f426aaab93bfd3056374ec6ed32ffb255"}], "stats": {"total": 46, "additions": 44, "deletions": 2}, "files": [{"sha": "be6e517803242d4b056908e2b09d5246dc14abe5", "filename": "crates/ra_syntax/src/parsing/text_tree_sink.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f3cbdb07c56fcfab1d65488836caafc1f395a0d1/crates%2Fra_syntax%2Fsrc%2Fparsing%2Ftext_tree_sink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f3cbdb07c56fcfab1d65488836caafc1f395a0d1/crates%2Fra_syntax%2Fsrc%2Fparsing%2Ftext_tree_sink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fparsing%2Ftext_tree_sink.rs?ref=f3cbdb07c56fcfab1d65488836caafc1f395a0d1", "patch": "@@ -144,8 +144,8 @@ fn n_attached_trivias<'a>(\n     trivias: impl Iterator<Item = (SyntaxKind, &'a str)>,\n ) -> usize {\n     match kind {\n-        CONST_DEF | TYPE_ALIAS_DEF | STRUCT_DEF | ENUM_DEF | ENUM_VARIANT | FN_DEF | TRAIT_DEF\n-        | MODULE | RECORD_FIELD_DEF => {\n+        MACRO_CALL | CONST_DEF | TYPE_ALIAS_DEF | STRUCT_DEF | ENUM_DEF | ENUM_VARIANT | FN_DEF\n+        | TRAIT_DEF | MODULE | RECORD_FIELD_DEF => {\n             let mut res = 0;\n             for (i, (kind, text)) in trivias.enumerate() {\n                 match kind {"}, {"sha": "b59c23c56a926737bd2d6c3f0432bfbfce001d80", "filename": "crates/ra_syntax/test_data/parser/ok/0053_outer_attribute_on_macro_rules.rs", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f3cbdb07c56fcfab1d65488836caafc1f395a0d1/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f3cbdb07c56fcfab1d65488836caafc1f395a0d1/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.rs?ref=f3cbdb07c56fcfab1d65488836caafc1f395a0d1", "patch": "@@ -0,0 +1,5 @@\n+/// Some docs\n+#[macro_export]\n+macro_rules! foo {\n+    () => {};\n+}"}, {"sha": "f77221f76f75d6a0f7866ede3b28be55a3a94e69", "filename": "crates/ra_syntax/test_data/parser/ok/0053_outer_attribute_on_macro_rules.txt", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/f3cbdb07c56fcfab1d65488836caafc1f395a0d1/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.txt", "raw_url": "https://github.com/rust-lang/rust/raw/f3cbdb07c56fcfab1d65488836caafc1f395a0d1/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0053_outer_attribute_on_macro_rules.txt?ref=f3cbdb07c56fcfab1d65488836caafc1f395a0d1", "patch": "@@ -0,0 +1,37 @@\n+SOURCE_FILE@[0; 65)\n+  MACRO_CALL@[0; 64)\n+    COMMENT@[0; 13) \"/// Some docs\"\n+    WHITESPACE@[13; 14) \"\\n\"\n+    ATTR@[14; 29)\n+      POUND@[14; 15) \"#\"\n+      TOKEN_TREE@[15; 29)\n+        L_BRACK@[15; 16) \"[\"\n+        IDENT@[16; 28) \"macro_export\"\n+        R_BRACK@[28; 29) \"]\"\n+    WHITESPACE@[29; 30) \"\\n\"\n+    PATH@[30; 41)\n+      PATH_SEGMENT@[30; 41)\n+        NAME_REF@[30; 41)\n+          IDENT@[30; 41) \"macro_rules\"\n+    EXCL@[41; 42) \"!\"\n+    WHITESPACE@[42; 43) \" \"\n+    NAME@[43; 46)\n+      IDENT@[43; 46) \"foo\"\n+    WHITESPACE@[46; 47) \" \"\n+    TOKEN_TREE@[47; 64)\n+      L_CURLY@[47; 48) \"{\"\n+      WHITESPACE@[48; 53) \"\\n    \"\n+      TOKEN_TREE@[53; 55)\n+        L_PAREN@[53; 54) \"(\"\n+        R_PAREN@[54; 55) \")\"\n+      WHITESPACE@[55; 56) \" \"\n+      EQ@[56; 57) \"=\"\n+      R_ANGLE@[57; 58) \">\"\n+      WHITESPACE@[58; 59) \" \"\n+      TOKEN_TREE@[59; 61)\n+        L_CURLY@[59; 60) \"{\"\n+        R_CURLY@[60; 61) \"}\"\n+      SEMI@[61; 62) \";\"\n+      WHITESPACE@[62; 63) \"\\n\"\n+      R_CURLY@[63; 64) \"}\"\n+  WHITESPACE@[64; 65) \"\\n\""}]}