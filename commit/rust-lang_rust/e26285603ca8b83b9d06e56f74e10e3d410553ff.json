{"sha": "e26285603ca8b83b9d06e56f74e10e3d410553ff", "node_id": "C_kwDOAAsO6NoAKGUyNjI4NTYwM2NhOGI4M2I5ZDA2ZTU2Zjc0ZTEwZTNkNDEwNTUzZmY", "commit": {"author": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-07-31T12:31:53Z"}, "committer": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-07-31T12:31:53Z"}, "message": "add test for earlier drop despite extend lifetime", "tree": {"sha": "d9003837e6a65d590382015ee2b363e80d842023", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d9003837e6a65d590382015ee2b363e80d842023"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e26285603ca8b83b9d06e56f74e10e3d410553ff", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE0u8S3YU336XkLsQOPNdIZH7vY1kFAmLmdjkACgkQPNdIZH7v\nY1k/9A//cy7SiIpi7YkqUmCYVLSkMkPSCeF+1TJvVWm36Pfr86Im44/9L06qrwYL\n6jNxHlO7rIlhfwsyQ0yYNhEqUvqtHEI/KwE3NQUu6Tjr+erXnDdnMpbkTJJGAL+v\n/a6zDiEyl4ns1e4pQqExnHRbwxpXc8CKpEF9bfm6IwBxWQFS09KBuMK9yYfzED/E\nGr48lEtQuqeMFkvEasrPi0q/43n+Q0IJ9IoHc7ne1YX0zw5tkQ03p+vaYIW/wwCI\nZHbm0Ruts/IwMJqg+zIervET5ISiCqQ24BJEXhESVUaMBqJfwRQvvm8pthFp1dQR\nfM49IyqLBJSLW0q81W9tPWIKyB+ysGrnnct7qLlqEyADiwlHrRPqR0wO9mxWO4XQ\nWVKQsXvkjj/IwNEsUAfxTXKpJBdYO8Lj1p659i/fvhbM+XQvBaC4HxvGi1483EYZ\nzFlr41VEg5+6tVJhXt3KJZhWOsL2lypEsHwbolBG0jBQFJBJD2tv8erkapHg8u3i\n0+tzCcknkzfcN0uAkZaoGCbmD8JuTUWvh3RTPte1QSuxzqMUUz27guSe3WoDYAl1\nl/mODZZs8RlNyTKO/8M1iJ9uxPkUZlZdHWfpkvourh9A49i5AupkFdwsZClWkPgV\nf/Vi7CdE+/ADyVskBsXXh+MgVXQwZyuPqrzkhXh30wOod2PD/04=\n=5nns\n-----END PGP SIGNATURE-----", "payload": "tree d9003837e6a65d590382015ee2b363e80d842023\nparent 02443552c56c0b5d909ba3ddc653e686dff09d9c\nauthor Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1659270713 +0800\ncommitter Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1659270713 +0800\n\nadd test for earlier drop despite extend lifetime\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e26285603ca8b83b9d06e56f74e10e3d410553ff", "html_url": "https://github.com/rust-lang/rust/commit/e26285603ca8b83b9d06e56f74e10e3d410553ff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e26285603ca8b83b9d06e56f74e10e3d410553ff/comments", "author": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "02443552c56c0b5d909ba3ddc653e686dff09d9c", "url": "https://api.github.com/repos/rust-lang/rust/commits/02443552c56c0b5d909ba3ddc653e686dff09d9c", "html_url": "https://github.com/rust-lang/rust/commit/02443552c56c0b5d909ba3ddc653e686dff09d9c"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "07fcc16e7bbda3c74d4a86d4821cabc4bfca1560", "filename": "src/test/ui/let-else/let-else-temporary-lifetime.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e26285603ca8b83b9d06e56f74e10e3d410553ff/src%2Ftest%2Fui%2Flet-else%2Flet-else-temporary-lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e26285603ca8b83b9d06e56f74e10e3d410553ff/src%2Ftest%2Fui%2Flet-else%2Flet-else-temporary-lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flet-else%2Flet-else-temporary-lifetime.rs?ref=e26285603ca8b83b9d06e56f74e10e3d410553ff", "patch": "@@ -74,6 +74,17 @@ fn main() {\n             };\n         }\n     }\n+    {\n+        fn must_pass() {\n+            let rc = Rc::new(());\n+            let &None = &Some(Rc::clone(&rc)) else {\n+                Rc::try_unwrap(rc).unwrap();\n+                return;\n+            };\n+            unreachable!();\n+        }\n+        must_pass();\n+    }\n     {\n         // test let-else drops temps before else block\n         // NOTE: this test has to be the last block in the `main`"}]}