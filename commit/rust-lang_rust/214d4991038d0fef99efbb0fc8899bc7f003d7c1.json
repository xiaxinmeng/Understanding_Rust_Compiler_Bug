{"sha": "214d4991038d0fef99efbb0fc8899bc7f003d7c1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxNGQ0OTkxMDM4ZDBmZWY5OWVmYmIwZmM4ODk5YmM3ZjAwM2Q3YzE=", "commit": {"author": {"name": "Jeremy Stucki", "email": "stucki.jeremy@gmail.com", "date": "2019-08-14T17:34:50Z"}, "committer": {"name": "Jeremy Stucki", "email": "stucki.jeremy@gmail.com", "date": "2019-08-14T17:34:50Z"}, "message": "Add multiline test", "tree": {"sha": "8b624599913737865f8fdad3a297b4b78dc8517d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8b624599913737865f8fdad3a297b4b78dc8517d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/214d4991038d0fef99efbb0fc8899bc7f003d7c1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEnLVrz+MJS3aQxZ9oj1SKWi7RP1gFAl1URjoACgkQj1SKWi7R\nP1jKWA//dn/FA4csjrM6kVefGWTMGKsQ5nZUOTHzAF3i8YNjQU9VqmaZir6EbT1e\nhfUFzElYgcN5bXsJUzvP8z8bB0lzWRxtmZVG1oP2z7psMSOS4aX7MKSNIMNAUU98\nyMRejBtCpCGbJIKmTw6hgSUg/ImeWfiPRBhkAsrBSsG7dJxzP/v3va2Y6TtWvLjc\ncbzR3l/hvIs3qJKCZ95+O5z8w3S7Q/g5OlbMmDEXuTlbgi4s00W0/CnKZc8ctm7d\nd8z4dhhlKb+rjiKXYLgWOaIRTeARG0VW6EiaK+tYdu70MJVX3KxTNjnyz7xN43/3\ncsVZ7N3TagRh/IF02XpYvleknlKWIvSMrYNg0PhDy19EYx1HKtAZCRinpi32yl7G\nKhGoZN3XHiM+FHR+aTz6jEXJi4fwz2DeIDwoaOu/tFWwyxn+0zUaw/hQ4Ds2qtHR\n+zgzohq4TbpwwhMY8SEajJnWGAVpy2XIhWUFF6DiG+VgHxEfI6iPppLH6R/1QqT2\nSvcoX8VjORwzW8QZx2PdEtRpsZ712X/N/pz/ihUh3x8lk5cjfFt/WTInagntkrbT\nAgl1sgVX943XwMz8L+r53tWeHUnSxppkUFtX1AcuIpUJS272snFIXvEVgsvqqOZr\nQjLkXnZirokyYm1GB2Ul6Cp+xnM5/c7tfoughNBNGsy2oQ8/Fj4=\n=kMwp\n-----END PGP SIGNATURE-----", "payload": "tree 8b624599913737865f8fdad3a297b4b78dc8517d\nparent dbe2bb4256527f9e3e55c0fa59fa7e099a7e8759\nauthor Jeremy Stucki <stucki.jeremy@gmail.com> 1565804090 +0200\ncommitter Jeremy Stucki <stucki.jeremy@gmail.com> 1565804090 +0200\n\nAdd multiline test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/214d4991038d0fef99efbb0fc8899bc7f003d7c1", "html_url": "https://github.com/rust-lang/rust/commit/214d4991038d0fef99efbb0fc8899bc7f003d7c1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/214d4991038d0fef99efbb0fc8899bc7f003d7c1/comments", "author": {"login": "jeremystucki", "id": 7629727, "node_id": "MDQ6VXNlcjc2Mjk3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7629727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremystucki", "html_url": "https://github.com/jeremystucki", "followers_url": "https://api.github.com/users/jeremystucki/followers", "following_url": "https://api.github.com/users/jeremystucki/following{/other_user}", "gists_url": "https://api.github.com/users/jeremystucki/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremystucki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremystucki/subscriptions", "organizations_url": "https://api.github.com/users/jeremystucki/orgs", "repos_url": "https://api.github.com/users/jeremystucki/repos", "events_url": "https://api.github.com/users/jeremystucki/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremystucki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jeremystucki", "id": 7629727, "node_id": "MDQ6VXNlcjc2Mjk3Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/7629727?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeremystucki", "html_url": "https://github.com/jeremystucki", "followers_url": "https://api.github.com/users/jeremystucki/followers", "following_url": "https://api.github.com/users/jeremystucki/following{/other_user}", "gists_url": "https://api.github.com/users/jeremystucki/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeremystucki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeremystucki/subscriptions", "organizations_url": "https://api.github.com/users/jeremystucki/orgs", "repos_url": "https://api.github.com/users/jeremystucki/repos", "events_url": "https://api.github.com/users/jeremystucki/events{/privacy}", "received_events_url": "https://api.github.com/users/jeremystucki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dbe2bb4256527f9e3e55c0fa59fa7e099a7e8759", "url": "https://api.github.com/repos/rust-lang/rust/commits/dbe2bb4256527f9e3e55c0fa59fa7e099a7e8759", "html_url": "https://github.com/rust-lang/rust/commit/dbe2bb4256527f9e3e55c0fa59fa7e099a7e8759"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "52300a3b64061b172a27580789dd5ae516eebfe7", "filename": "tests/ui/unnecessary_fold.fixed", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/214d4991038d0fef99efbb0fc8899bc7f003d7c1/tests%2Fui%2Funnecessary_fold.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/214d4991038d0fef99efbb0fc8899bc7f003d7c1/tests%2Fui%2Funnecessary_fold.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_fold.fixed?ref=214d4991038d0fef99efbb0fc8899bc7f003d7c1", "patch": "@@ -41,4 +41,12 @@ fn unnecessary_fold_should_ignore() {\n     let _ = [(0..2), (0..3)].iter().fold(1, |a, b| a * b.len());\n }\n \n+/// Should lint only the line containing the fold\n+fn unnecessary_fold_over_multiple_lines() {\n+    let _ = (0..3)\n+        .map(|x| x + 1)\n+        .filter(|x| x % 2 == 0)\n+        .any(|x| x > 2);\n+}\n+\n fn main() {}"}, {"sha": "4028d80c0a3cb9efc58f60cde0095ee7151e805a", "filename": "tests/ui/unnecessary_fold.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/214d4991038d0fef99efbb0fc8899bc7f003d7c1/tests%2Fui%2Funnecessary_fold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/214d4991038d0fef99efbb0fc8899bc7f003d7c1/tests%2Fui%2Funnecessary_fold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_fold.rs?ref=214d4991038d0fef99efbb0fc8899bc7f003d7c1", "patch": "@@ -41,4 +41,12 @@ fn unnecessary_fold_should_ignore() {\n     let _ = [(0..2), (0..3)].iter().fold(1, |a, b| a * b.len());\n }\n \n+/// Should lint only the line containing the fold\n+fn unnecessary_fold_over_multiple_lines() {\n+    let _ = (0..3)\n+        .map(|x| x + 1)\n+        .filter(|x| x % 2 == 0)\n+        .fold(false, |acc, x| acc || x > 2);\n+}\n+\n fn main() {}"}, {"sha": "3282b3d9a708c465d94ee6bc0a93def777596def", "filename": "tests/ui/unnecessary_fold.stderr", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/214d4991038d0fef99efbb0fc8899bc7f003d7c1/tests%2Fui%2Funnecessary_fold.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/214d4991038d0fef99efbb0fc8899bc7f003d7c1/tests%2Fui%2Funnecessary_fold.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnecessary_fold.stderr?ref=214d4991038d0fef99efbb0fc8899bc7f003d7c1", "patch": "@@ -30,5 +30,11 @@ error: this `.fold` can be written more succinctly using another method\n LL |     let _: bool = (0..3).map(|x| 2 * x).fold(false, |acc, x| acc || x > 2);\n    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `.any(|x| x > 2)`\n \n-error: aborting due to 5 previous errors\n+error: this `.fold` can be written more succinctly using another method\n+  --> $DIR/unnecessary_fold.rs:49:10\n+   |\n+LL |         .fold(false, |acc, x| acc || x > 2);\n+   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `any(|x| x > 2)`\n+\n+error: aborting due to 6 previous errors\n "}]}