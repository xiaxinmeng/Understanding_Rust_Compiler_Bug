{"sha": "0c9e3dc75cf2b2d122af0596225594240ed254eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjOWUzZGM3NWNmMmIyZDEyMmFmMDU5NjIyNTU5NDI0MGVkMjU0ZWI=", "commit": {"author": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-07-13T22:03:24Z"}, "committer": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-07-14T18:48:43Z"}, "message": "Fix negate_unsigned feature gate check\n\nThis commit fixes the negate_unsigned feature gate to appropriately\naccount for infered variables.\n\nThis is technically a [breaking-change].", "tree": {"sha": "3a4f127656a15b2a53ce80a86e51c1776ae649a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3a4f127656a15b2a53ce80a86e51c1776ae649a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c9e3dc75cf2b2d122af0596225594240ed254eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c9e3dc75cf2b2d122af0596225594240ed254eb", "html_url": "https://github.com/rust-lang/rust/commit/0c9e3dc75cf2b2d122af0596225594240ed254eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c9e3dc75cf2b2d122af0596225594240ed254eb/comments", "author": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0fbcebaaec518a0a39f0b835cd52e9edfaba9cc2", "url": "https://api.github.com/repos/rust-lang/rust/commits/0fbcebaaec518a0a39f0b835cd52e9edfaba9cc2", "html_url": "https://github.com/rust-lang/rust/commit/0fbcebaaec518a0a39f0b835cd52e9edfaba9cc2"}], "stats": {"total": 108, "additions": 42, "deletions": 66}, "files": [{"sha": "ccdd23b868d241aff35a208afc8f4a482e1b3528", "filename": "src/libcore/fmt/num.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibcore%2Ffmt%2Fnum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibcore%2Ffmt%2Fnum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ffmt%2Fnum.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -12,8 +12,6 @@\n \n // FIXME: #6220 Implement floating point formatting\n \n-#![allow(unsigned_negation)]\n-\n use prelude::*;\n \n use fmt;"}, {"sha": "c2a9b8c8308cd5c6c91f80637fabe69992f565c9", "filename": "src/libcore/ops.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibcore%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibcore%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fops.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -517,7 +517,6 @@ pub trait Neg {\n macro_rules! neg_impl_core {\n     ($id:ident => $body:expr, $($t:ty)*) => ($(\n         #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-        #[allow(unsigned_negation)]\n         impl Neg for $t {\n             #[stable(feature = \"rust1\", since = \"1.0.0\")]\n             type Output = $t;"}, {"sha": "247c3dcb9c705bd026026181607624f07cf6cd48", "filename": "src/libcoretest/fmt/num.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibcoretest%2Ffmt%2Fnum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibcoretest%2Ffmt%2Fnum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcoretest%2Ffmt%2Fnum.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -7,8 +7,6 @@\n // <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n-#![allow(unsigned_negation)]\n-\n use core::fmt::radix;\n \n #[test]"}, {"sha": "1b2210c89edcb04af85df8d7e2d430319f4c1928", "filename": "src/librand/isaac.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrand%2Fisaac.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrand%2Fisaac.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrand%2Fisaac.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -126,7 +126,6 @@ impl IsaacRng {\n \n     /// Refills the output buffer (`self.rsl`)\n     #[inline]\n-    #[allow(unsigned_negation)]\n     fn isaac(&mut self) {\n         self.c = self.c + w(1);\n         // abbreviations"}, {"sha": "0f16c06a9dbbca7b3ff2cf97ca61c1cef0a76bcc", "filename": "src/librustc/middle/const_eval.rs", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n #![allow(non_camel_case_types)]\n-#![allow(unsigned_negation)]\n \n use self::ConstVal::*;\n \n@@ -27,7 +26,6 @@ use util::num::ToPrimitive;\n use syntax::ast::{self, Expr};\n use syntax::ast_util;\n use syntax::codemap::Span;\n-use syntax::feature_gate;\n use syntax::parse::token::InternedString;\n use syntax::ptr::P;\n use syntax::{codemap, visit};\n@@ -745,13 +743,6 @@ pub fn eval_const_expr_with_substs<'tcx, S>(tcx: &ty::ctxt<'tcx>,\n           Float(f) => Float(-f),\n           Int(n) =>  try!(const_int_checked_neg(n, e, expr_int_type)),\n           Uint(i) => {\n-              if !tcx.sess.features.borrow().negate_unsigned {\n-                  feature_gate::emit_feature_err(\n-                      &tcx.sess.parse_sess.span_diagnostic,\n-                      \"negate_unsigned\",\n-                      e.span,\n-                      \"unary negation of unsigned integers may be removed in the future\");\n-              }\n               try!(const_uint_checked_neg(i, e, expr_uint_type))\n           }\n           Str(_) => signal!(e, NegateOnString),"}, {"sha": "d158307478788c9c42041786209d3a95e57967d4", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 19, "deletions": 15, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -53,7 +53,7 @@ use syntax::{abi, ast};\n use syntax::ast_util::{self, is_shift_binop, local_def};\n use syntax::attr::{self, AttrMetaMethods};\n use syntax::codemap::{self, Span};\n-use syntax::feature_gate::{KNOWN_ATTRIBUTES, AttributeType};\n+use syntax::feature_gate::{KNOWN_ATTRIBUTES, AttributeType, emit_feature_err};\n use syntax::parse::token;\n use syntax::ast::{TyIs, TyUs, TyI8, TyU8, TyI16, TyU16, TyI32, TyU32, TyI64, TyU64};\n use syntax::ptr::P;\n@@ -88,12 +88,6 @@ impl LintPass for WhileTrue {\n     }\n }\n \n-declare_lint! {\n-    UNSIGNED_NEGATION,\n-    Warn,\n-    \"using an unary minus operator on unsigned type\"\n-}\n-\n declare_lint! {\n     UNUSED_COMPARISONS,\n     Warn,\n@@ -128,8 +122,7 @@ impl TypeLimits {\n \n impl LintPass for TypeLimits {\n     fn get_lints(&self) -> LintArray {\n-        lint_array!(UNSIGNED_NEGATION, UNUSED_COMPARISONS, OVERFLOWING_LITERALS,\n-                    EXCEEDING_BITSHIFTS)\n+        lint_array!(UNUSED_COMPARISONS, OVERFLOWING_LITERALS, EXCEEDING_BITSHIFTS)\n     }\n \n     fn check_expr(&mut self, cx: &Context, e: &ast::Expr) {\n@@ -139,9 +132,12 @@ impl LintPass for TypeLimits {\n                     ast::ExprLit(ref lit) => {\n                         match lit.node {\n                             ast::LitInt(_, ast::UnsignedIntLit(_)) => {\n-                                cx.span_lint(UNSIGNED_NEGATION, e.span,\n-                                             \"negation of unsigned int literal may \\\n-                                             be unintentional\");\n+                                check_unsigned_negation_feature(cx, e.span);\n+                            },\n+                            ast::LitInt(_, ast::UnsuffixedIntLit(_)) => {\n+                                if let ty::TyUint(_) = cx.tcx.expr_ty(e).sty {\n+                                    check_unsigned_negation_feature(cx, e.span);\n+                                }\n                             },\n                             _ => ()\n                         }\n@@ -150,9 +146,7 @@ impl LintPass for TypeLimits {\n                         let t = cx.tcx.expr_ty(&**expr);\n                         match t.sty {\n                             ty::TyUint(_) => {\n-                                cx.span_lint(UNSIGNED_NEGATION, e.span,\n-                                             \"negation of unsigned int variable may \\\n-                                             be unintentional\");\n+                                check_unsigned_negation_feature(cx, e.span);\n                             },\n                             _ => ()\n                         }\n@@ -385,6 +379,16 @@ impl LintPass for TypeLimits {\n                 _ => false\n             }\n         }\n+\n+        fn check_unsigned_negation_feature(cx: &Context, span: Span) {\n+            if !cx.sess().features.borrow().negate_unsigned {\n+                emit_feature_err(\n+                    &cx.sess().parse_sess.span_diagnostic,\n+                    \"negate_unsigned\",\n+                    span,\n+                    \"unary negation of unsigned integers may be removed in the future\");\n+            }\n+        }\n     }\n }\n "}, {"sha": "7b2bdee50fe7880321d9abb2a6fafc4fd82a141d", "filename": "src/librustc_trans/trans/adt.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc_trans%2Ftrans%2Fadt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc_trans%2Ftrans%2Fadt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fadt.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -41,8 +41,6 @@\n //!   used unboxed and any field can have pointers (including mutable)\n //!   taken to it, implementing them for Rust seems difficult.\n \n-#![allow(unsigned_negation)]\n-\n pub use self::Repr::*;\n \n use std::rc::Rc;"}, {"sha": "887d01b439b4cf9523c437574f13dc6ffa4bb59b", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -114,7 +114,6 @@ use syntax::attr::AttrMetaMethods;\n use syntax::ast::{self, DefId, Visibility};\n use syntax::ast_util::{self, local_def};\n use syntax::codemap::{self, Span};\n-use syntax::feature_gate;\n use syntax::owned_slice::OwnedSlice;\n use syntax::parse::token;\n use syntax::print::pprust;\n@@ -3074,15 +3073,6 @@ fn check_expr_with_unifier<'a, 'tcx, F>(fcx: &FnCtxt<'a, 'tcx>,\n                                                       tcx.lang_items.neg_trait(),\n                                                       expr, &**oprnd, oprnd_t, unop);\n                     }\n-                    if let ty::TyUint(_) = oprnd_t.sty {\n-                        if !tcx.sess.features.borrow().negate_unsigned {\n-                            feature_gate::emit_feature_err(\n-                                &tcx.sess.parse_sess.span_diagnostic,\n-                                \"negate_unsigned\",\n-                                expr.span,\n-                                \"unary negation of unsigned integers may be removed in the future\");\n-                        }\n-                    }\n                 }\n             }\n         }"}, {"sha": "10cdc0c5833771d300a215ca7ade65aa0d497bd7", "filename": "src/libstd/num/f32.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibstd%2Fnum%2Ff32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibstd%2Fnum%2Ff32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Ff32.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -12,7 +12,6 @@\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n #![allow(missing_docs)]\n-#![allow(unsigned_negation)]\n #![doc(primitive = \"f32\")]\n \n use prelude::v1::*;"}, {"sha": "902c78c0a46f869e9f8306783fff25f53c0e7495", "filename": "src/libstd/num/uint_macros.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibstd%2Fnum%2Fuint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Flibstd%2Fnum%2Fuint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Fuint_macros.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n #![doc(hidden)]\n-#![allow(unsigned_negation)]\n \n macro_rules! uint_module { ($T:ident) => (\n "}, {"sha": "f991e5328c1042a72774833e18c06ead1a5e1e1b", "filename": "src/test/compile-fail/const-eval-overflow.rs", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fconst-eval-overflow.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -17,7 +17,6 @@\n // evaluation below (e.g. that performed by trans and llvm), so if you\n // change this warn to a deny, then the compiler will exit before\n // those errors are detected.\n-#![warn(unsigned_negation)]\n \n use std::fmt;\n use std::{i8, i16, i32, i64, isize};\n@@ -69,8 +68,6 @@ const VALS_I64: (i64, i64, i64, i64) =\n \n const VALS_U8: (u8, u8, u8, u8) =\n     (-u8::MIN,\n-     //~^ WARNING negation of unsigned int variable may be unintentional\n-     // (The above is separately linted; unsigned negation is defined to be !x+1.)\n      u8::MIN - 1,\n      //~^ ERROR attempted to sub with overflow\n      u8::MAX + 1,\n@@ -81,8 +78,6 @@ const VALS_U8: (u8, u8, u8, u8) =\n \n const VALS_U16: (u16, u16, u16, u16) =\n     (-u16::MIN,\n-     //~^ WARNING negation of unsigned int variable may be unintentional\n-     // (The above is separately linted; unsigned negation is defined to be !x+1.)\n      u16::MIN - 1,\n      //~^ ERROR attempted to sub with overflow\n      u16::MAX + 1,\n@@ -93,8 +88,6 @@ const VALS_U16: (u16, u16, u16, u16) =\n \n const VALS_U32: (u32, u32, u32, u32) =\n     (-u32::MIN,\n-     //~^ WARNING negation of unsigned int variable may be unintentional\n-     // (The above is separately linted; unsigned negation is defined to be !x+1.)\n      u32::MIN - 1,\n      //~^ ERROR attempted to sub with overflow\n      u32::MAX + 1,\n@@ -105,8 +98,6 @@ const VALS_U32: (u32, u32, u32, u32) =\n \n const VALS_U64: (u64, u64, u64, u64) =\n     (-u64::MIN,\n-     //~^ WARNING negation of unsigned int variable may be unintentional\n-     // (The above is separately linted; unsigned negation is defined to be !x+1.)\n      u64::MIN - 1,\n      //~^ ERROR attempted to sub with overflow\n      u64::MAX + 1,"}, {"sha": "b1c73fab4ffa61f2623ad2128c12c3272c47bef1", "filename": "src/test/compile-fail/feature-gate-negate-unsigned.rs", "status": "modified", "additions": 23, "deletions": 2, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Ftest%2Fcompile-fail%2Ffeature-gate-negate-unsigned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Ftest%2Fcompile-fail%2Ffeature-gate-negate-unsigned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-negate-unsigned.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -11,7 +11,28 @@\n // Test that negating unsigned integers is gated by `negate_unsigned` feature\n // gate\n \n-const MAX: usize = -1;\n+struct S;\n+impl std::ops::Neg for S {\n+    type Output = u32;\n+    fn neg(self) -> u32 { 0 }\n+}\n+\n+const _MAX: usize = -1;\n //~^ ERROR unary negation of unsigned integers may be removed in the future\n \n-fn main() {}\n+fn main() {\n+    let a = -1;\n+    //~^ ERROR unary negation of unsigned integers may be removed in the future\n+    let _b : u8 = a; // for infering variable a to u8.\n+\n+    -a;\n+    //~^ ERROR unary negation of unsigned integers may be removed in the future\n+\n+    let _d = -1u8;\n+    //~^ ERROR unary negation of unsigned integers may be removed in the future\n+\n+    for _ in -10..10u8 {}\n+    //~^ ERROR unary negation of unsigned integers may be removed in the future\n+\n+    -S; // should not trigger the gate; issue 26840\n+}"}, {"sha": "839d50ae63f90359901ecb01dda7ad1489ecf6a4", "filename": "src/test/compile-fail/lint-type-limits.rs", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Ftest%2Fcompile-fail%2Flint-type-limits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9e3dc75cf2b2d122af0596225594240ed254eb/src%2Ftest%2Fcompile-fail%2Flint-type-limits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-type-limits.rs?ref=0c9e3dc75cf2b2d122af0596225594240ed254eb", "patch": "@@ -50,14 +50,3 @@ fn qux() {\n         i += 1;\n     }\n }\n-\n-fn quy() {\n-    let i = -23_usize; //~ WARNING negation of unsigned int literal may be unintentional\n-                  //~^ WARNING unused variable\n-}\n-\n-fn quz() {\n-    let i = 23_usize;\n-    let j = -i;   //~ WARNING negation of unsigned int variable may be unintentional\n-                  //~^ WARNING unused variable\n-}"}]}