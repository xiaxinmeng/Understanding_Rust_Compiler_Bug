{"sha": "366d11b2d8d1d5c51bc4a5f056debac77a01c071", "node_id": "C_kwDOAAsO6NoAKDM2NmQxMWIyZDhkMWQ1YzUxYmM0YTVmMDU2ZGViYWM3N2EwMWMwNzE", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-07T13:17:16Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-07T13:45:42Z"}, "message": "enable rustc lints\n\n(but not in cargo-miri and ui_test)", "tree": {"sha": "53ed6a8dcbe85b7e862d8422eb28341d6dc44aa5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/53ed6a8dcbe85b7e862d8422eb28341d6dc44aa5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/366d11b2d8d1d5c51bc4a5f056debac77a01c071", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/366d11b2d8d1d5c51bc4a5f056debac77a01c071", "html_url": "https://github.com/rust-lang/rust/commit/366d11b2d8d1d5c51bc4a5f056debac77a01c071", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/366d11b2d8d1d5c51bc4a5f056debac77a01c071/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a52244252187b133b3736b37ccb8e39c23992e2a", "url": "https://api.github.com/repos/rust-lang/rust/commits/a52244252187b133b3736b37ccb8e39c23992e2a", "html_url": "https://github.com/rust-lang/rust/commit/a52244252187b133b3736b37ccb8e39c23992e2a"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "7b16af6f0c64e871b4c9cd8b1127f1f29d231f85", "filename": "cargo-miri/src/main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/366d11b2d8d1d5c51bc4a5f056debac77a01c071/cargo-miri%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/366d11b2d8d1d5c51bc4a5f056debac77a01c071/cargo-miri%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri%2Fsrc%2Fmain.rs?ref=366d11b2d8d1d5c51bc4a5f056debac77a01c071", "patch": "@@ -1,5 +1,5 @@\n #![feature(let_else)]\n-#![allow(clippy::useless_format, clippy::derive_partial_eq_without_eq)]\n+#![allow(clippy::useless_format, clippy::derive_partial_eq_without_eq, rustc::internal)]\n \n mod arg;\n mod phases;"}, {"sha": "5893d0ca05f2a32dc29c30c97a540a11b23c7a33", "filename": "miri", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/366d11b2d8d1d5c51bc4a5f056debac77a01c071/miri", "raw_url": "https://github.com/rust-lang/rust/raw/366d11b2d8d1d5c51bc4a5f056debac77a01c071/miri", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri?ref=366d11b2d8d1d5c51bc4a5f056debac77a01c071", "patch": "@@ -124,6 +124,8 @@ fi\n if [ -z \"$CARGO_PROFILE_DEV_OPT_LEVEL\" ]; then\n     export CARGO_PROFILE_DEV_OPT_LEVEL=2\n fi\n+# Enable rustc-specific lints\n+export RUSTFLAGS=\"-Zunstable-options -Wrustc::internal $RUSTFLAGS\"\n # We set the rpath so that Miri finds the private rustc libraries it needs.\n export RUSTFLAGS=\"-C link-args=-Wl,-rpath,$LIBDIR $RUSTFLAGS\"\n "}, {"sha": "871574c4936df5a7325ed413feb60a22b370b978", "filename": "ui_test/src/lib.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/366d11b2d8d1d5c51bc4a5f056debac77a01c071/ui_test%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/366d11b2d8d1d5c51bc4a5f056debac77a01c071/ui_test%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ui_test%2Fsrc%2Flib.rs?ref=366d11b2d8d1d5c51bc4a5f056debac77a01c071", "patch": "@@ -1,4 +1,9 @@\n-#![allow(clippy::enum_variant_names, clippy::useless_format, clippy::too_many_arguments)]\n+#![allow(\n+    clippy::enum_variant_names,\n+    clippy::useless_format,\n+    clippy::too_many_arguments,\n+    rustc::internal\n+)]\n \n use std::collections::VecDeque;\n use std::ffi::OsString;"}]}