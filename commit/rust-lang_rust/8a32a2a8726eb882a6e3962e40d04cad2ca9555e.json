{"sha": "8a32a2a8726eb882a6e3962e40d04cad2ca9555e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhMzJhMmE4NzI2ZWI4ODJhNmUzOTYyZTQwZDA0Y2FkMmNhOTU1NWU=", "commit": {"author": {"name": "Jonathan S", "email": "gereeter@gmail.com", "date": "2014-05-11T23:16:56Z"}, "committer": {"name": "Jonathan S", "email": "gereeter@gmail.com", "date": "2014-05-14T22:24:06Z"}, "message": "Added substring searching benchmarks.\n\ntest str::bench::bench_contains_bad_naive                   ... bench:      1309 ns/iter (+/- 36)\ntest str::bench::bench_contains_equal                       ... bench:       137 ns/iter (+/- 2)\ntest str::bench::bench_contains_short_long                  ... bench:      5473 ns/iter (+/- 14)\ntest str::bench::bench_contains_short_short                 ... bench:        57 ns/iter (+/- 6)", "tree": {"sha": "367196adc75e965b40301a59181eeddfa64f91d7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/367196adc75e965b40301a59181eeddfa64f91d7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8a32a2a8726eb882a6e3962e40d04cad2ca9555e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8a32a2a8726eb882a6e3962e40d04cad2ca9555e", "html_url": "https://github.com/rust-lang/rust/commit/8a32a2a8726eb882a6e3962e40d04cad2ca9555e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8a32a2a8726eb882a6e3962e40d04cad2ca9555e/comments", "author": null, "committer": null, "parents": [{"sha": "2a7a39191a83fc2a63df6cb47acd344ae669d9c7", "url": "https://api.github.com/repos/rust-lang/rust/commits/2a7a39191a83fc2a63df6cb47acd344ae669d9c7", "html_url": "https://github.com/rust-lang/rust/commit/2a7a39191a83fc2a63df6cb47acd344ae669d9c7"}], "stats": {"total": 74, "additions": 74, "deletions": 0}, "files": [{"sha": "fb5fff73e358ba3af63b674624eb029ec695d429", "filename": "src/libstd/str.rs", "status": "modified", "additions": 74, "deletions": 0, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/8a32a2a8726eb882a6e3962e40d04cad2ca9555e/src%2Flibstd%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8a32a2a8726eb882a6e3962e40d04cad2ca9555e/src%2Flibstd%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fstr.rs?ref=8a32a2a8726eb882a6e3962e40d04cad2ca9555e", "patch": "@@ -2413,4 +2413,78 @@ mod bench {\n             assert_eq!(v.connect(sep).len(), s.len() * 10 + sep.len() * 9);\n         })\n     }\n+\n+    #[bench]\n+    fn bench_contains_short_short(b: &mut Bencher) {\n+        let haystack = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\";\n+        let needle = \"sit\";\n+\n+        b.iter(|| {\n+            assert!(haystack.contains(needle));\n+        })\n+    }\n+\n+    #[bench]\n+    fn bench_contains_short_long(b: &mut Bencher) {\n+        let haystack = \"\\\n+Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse quis lorem sit amet dolor \\\n+ultricies condimentum. Praesent iaculis purus elit, ac malesuada quam malesuada in. Duis sed orci \\\n+eros. Suspendisse sit amet magna mollis, mollis nunc luctus, imperdiet mi. Integer fringilla non \\\n+sem ut lacinia. Fusce varius tortor a risus porttitor hendrerit. Morbi mauris dui, ultricies nec \\\n+tempus vel, gravida nec quam.\n+\n+In est dui, tincidunt sed tempus interdum, adipiscing laoreet ante. Etiam tempor, tellus quis \\\n+sagittis interdum, nulla purus mattis sem, quis auctor erat odio ac tellus. In nec nunc sit amet \\\n+diam volutpat molestie at sed ipsum. Vestibulum laoreet consequat vulputate. Integer accumsan \\\n+lorem ac dignissim placerat. Suspendisse convallis faucibus lorem. Aliquam erat volutpat. In vel \\\n+eleifend felis. Sed suscipit nulla lorem, sed mollis est sollicitudin et. Nam fermentum egestas \\\n+interdum. Curabitur ut nisi justo.\n+\n+Sed sollicitudin ipsum tellus, ut condimentum leo eleifend nec. Cras ut velit ante. Phasellus nec \\\n+mollis odio. Mauris molestie erat in arcu mattis, at aliquet dolor vehicula. Quisque malesuada \\\n+lectus sit amet nisi pretium, a condimentum ipsum porta. Morbi at dapibus diam. Praesent egestas \\\n+est sed risus elementum, eu rutrum metus ultrices. Etiam fermentum consectetur magna, id rutrum \\\n+felis accumsan a. Aliquam ut pellentesque libero. Sed mi nulla, lobortis eu tortor id, suscipit \\\n+ultricies neque. Morbi iaculis sit amet risus at iaculis. Praesent eget ligula quis turpis \\\n+feugiat suscipit vel non arcu. Interdum et malesuada fames ac ante ipsum primis in faucibus. \\\n+Aliquam sit amet placerat lorem.\n+\n+Cras a lacus vel ante posuere elementum. Nunc est leo, bibendum ut facilisis vel, bibendum at \\\n+mauris. Nullam adipiscing diam vel odio ornare, luctus adipiscing mi luctus. Nulla facilisi. \\\n+Mauris adipiscing bibendum neque, quis adipiscing lectus tempus et. Sed feugiat erat et nisl \\\n+lobortis pharetra. Donec vitae erat enim. Nullam sit amet felis et quam lacinia tincidunt. Aliquam \\\n+suscipit dapibus urna. Sed volutpat urna in magna pulvinar volutpat. Phasellus nec tellus ac diam \\\n+cursus accumsan.\n+\n+Nam lectus enim, dapibus non nisi tempor, consectetur convallis massa. Maecenas eleifend dictum \\\n+feugiat. Etiam quis mauris vel risus luctus mattis a a nunc. Nullam orci quam, imperdiet id \\\n+vehicula in, porttitor ut nibh. Duis sagittis adipiscing nisl vitae congue. Donec mollis risus eu \\\n+leo suscipit, varius porttitor nulla porta. Pellentesque ut sem nec nisi euismod vehicula. Nulla \\\n+malesuada sollicitudin quam eu fermentum.\";\n+        let needle = \"english\";\n+\n+        b.iter(|| {\n+            assert!(!haystack.contains(needle));\n+        })\n+    }\n+\n+    #[bench]\n+    fn bench_contains_bad_naive(b: &mut Bencher) {\n+        let haystack = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\";\n+        let needle = \"aaaaaaaab\";\n+\n+        b.iter(|| {\n+            assert!(!haystack.contains(needle));\n+        })\n+    }\n+\n+    #[bench]\n+    fn bench_contains_equal(b: &mut Bencher) {\n+        let haystack = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\";\n+        let needle = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\";\n+\n+        b.iter(|| {\n+            assert!(haystack.contains(needle));\n+        })\n+    }\n }"}]}