{"sha": "b16d10117abded20f3a04f9467cb1de0e3295b6d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxNmQxMDExN2FiZGVkMjBmM2EwNGY5NDY3Y2IxZGUwZTMyOTViNmQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-06-05T13:34:19Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-06-05T13:34:19Z"}, "message": "Auto merge of #5687 - flip1995:release_doc, r=phansch\n\nReplace all remaining occurrences of submodule with subtree\n\nr? @phansch\n\nI should have included this in #5686, but forgot about it, so here we go again.\n\nchangelog: none", "tree": {"sha": "be70b29fa9d788a0300f6e98ccc72285b5be904d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/be70b29fa9d788a0300f6e98ccc72285b5be904d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b16d10117abded20f3a04f9467cb1de0e3295b6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b16d10117abded20f3a04f9467cb1de0e3295b6d", "html_url": "https://github.com/rust-lang/rust/commit/b16d10117abded20f3a04f9467cb1de0e3295b6d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b16d10117abded20f3a04f9467cb1de0e3295b6d/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6fc99398932b176ac99fd2a76ef8a9aa975a2797", "url": "https://api.github.com/repos/rust-lang/rust/commits/6fc99398932b176ac99fd2a76ef8a9aa975a2797", "html_url": "https://github.com/rust-lang/rust/commit/6fc99398932b176ac99fd2a76ef8a9aa975a2797"}, {"sha": "6b9e2e90bf7688bfbcf357fda6e0ef74e11ba1ff", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b9e2e90bf7688bfbcf357fda6e0ef74e11ba1ff", "html_url": "https://github.com/rust-lang/rust/commit/6b9e2e90bf7688bfbcf357fda6e0ef74e11ba1ff"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "497264649573018a92df83380ad4308709979fea", "filename": "doc/changelog_update.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b16d10117abded20f3a04f9467cb1de0e3295b6d/doc%2Fchangelog_update.md", "raw_url": "https://github.com/rust-lang/rust/raw/b16d10117abded20f3a04f9467cb1de0e3295b6d/doc%2Fchangelog_update.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Fchangelog_update.md?ref=b16d10117abded20f3a04f9467cb1de0e3295b6d", "patch": "@@ -18,7 +18,7 @@ been very rare that Clippy changes were included in a patch release.\n \n ### 1. Finding the relevant Clippy commits\n \n-Each Rust release ships with its own version of Clippy. The Clippy submodule can\n+Each Rust release ships with its own version of Clippy. The Clippy subtree can\n be found in the `tools` directory of the Rust repository.\n \n Depending on the current time and what exactly you want to update, the following"}, {"sha": "391952ea6b14f8bcfb6fde52f597161bbb5cd193", "filename": "doc/release.md", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b16d10117abded20f3a04f9467cb1de0e3295b6d/doc%2Frelease.md", "raw_url": "https://github.com/rust-lang/rust/raw/b16d10117abded20f3a04f9467cb1de0e3295b6d/doc%2Frelease.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Frelease.md?ref=b16d10117abded20f3a04f9467cb1de0e3295b6d", "patch": "@@ -59,8 +59,7 @@ determined.\n ```bash\n # Assuming the current directory corresponds to the Rust repository\n $ git checkout beta\n-$ git submodule update\n-$ BETA_SHA=$(git submodule status src/tools/clippy | awk '{print $1}')\n+$ BETA_SHA=$(git log --oneline -- src/tools/clippy/ | grep -o \"Merge commit '[a-f0-9]*' into .*\" | head -1 | sed -e \"s/Merge commit '\\([a-f0-9]*\\)' into .*/\\1/g\")\n ```\n \n After finding the Clippy commit, the `beta` branch in the Clippy repository can\n@@ -83,8 +82,7 @@ release. This commit can be found in the Rust repository.\n # Assuming the current directory corresponds to the Rust repository\n $ git fetch upstream    # `upstream` is the `rust-lang/rust` remote\n $ git checkout 1.XX.0   # XX should be exchanged with the corresponding version\n-$ git submodule update\n-$ SHA=$(git submodule status src/tools/clippy | awk '{print $1}')\n+$ SHA=$(git log --oneline -- src/tools/clippy/ | grep -o \"Merge commit '[a-f0-9]*' into .*\" | head -1 | sed -e \"s/Merge commit '\\([a-f0-9]*\\)' into .*/\\1/g\")\n ```\n \n "}]}