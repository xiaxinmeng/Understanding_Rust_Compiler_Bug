{"sha": "a115fcd1a0c272e1a176e3e341b323b134f23097", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExMTVmY2QxYTBjMjcyZTFhMTc2ZTNlMzQxYjMyM2IxMzRmMjMwOTc=", "commit": {"author": {"name": "Stjepan Glavina", "email": "stjepang@gmail.com", "date": "2017-11-22T10:24:57Z"}, "committer": {"name": "Stjepan Glavina", "email": "stjepang@gmail.com", "date": "2017-11-22T10:24:57Z"}, "message": "Remove spin-loop-hint from the unstable book", "tree": {"sha": "caee866e6164628bbac192da91cd77f3970bc97c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/caee866e6164628bbac192da91cd77f3970bc97c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a115fcd1a0c272e1a176e3e341b323b134f23097", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a115fcd1a0c272e1a176e3e341b323b134f23097", "html_url": "https://github.com/rust-lang/rust/commit/a115fcd1a0c272e1a176e3e341b323b134f23097", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a115fcd1a0c272e1a176e3e341b323b134f23097/comments", "author": null, "committer": null, "parents": [{"sha": "6ceb5f4bec83b525c5df409559272f0e10863f6a", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ceb5f4bec83b525c5df409559272f0e10863f6a", "html_url": "https://github.com/rust-lang/rust/commit/6ceb5f4bec83b525c5df409559272f0e10863f6a"}], "stats": {"total": 41, "additions": 0, "deletions": 41}, "files": [{"sha": "cd33f0c5e0293bbe01380bf0d15affb65dcb7a0a", "filename": "src/doc/unstable-book/src/library-features/spin-loop-hint.md", "status": "removed", "additions": 0, "deletions": 41, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/6ceb5f4bec83b525c5df409559272f0e10863f6a/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fspin-loop-hint.md", "raw_url": "https://github.com/rust-lang/rust/raw/6ceb5f4bec83b525c5df409559272f0e10863f6a/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fspin-loop-hint.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fspin-loop-hint.md?ref=6ceb5f4bec83b525c5df409559272f0e10863f6a", "patch": "@@ -1,41 +0,0 @@\n-# `spin_loop_hint`\n-\n-The tracking issue for this feature is: [#41196]\n-\n-[#41196]: https://github.com/rust-lang/rust/issues/41196\n-\n-------------------------\n-\n-Many programs have spin loops like the following:\n-\n-```rust,no_run\n-use std::sync::atomic::{AtomicBool,Ordering};\n-\n-fn spin_loop(value: &AtomicBool) {\n-    loop {\n-        if value.load(Ordering::Acquire) {\n-             break;\n-        }\n-    }\n-}\n-```\n-\n-These programs can be improved in performance like so:\n-\n-```rust,no_run\n-#![feature(spin_loop_hint)]\n-use std::sync::atomic;\n-use std::sync::atomic::{AtomicBool,Ordering};\n-\n-fn spin_loop(value: &AtomicBool) {\n-    loop {\n-        if value.load(Ordering::Acquire) {\n-             break;\n-        }\n-        atomic::spin_loop_hint();\n-    }\n-}\n-```\n-\n-Further improvements could combine `spin_loop_hint` with\n-exponential backoff or `std::thread::yield_now`."}]}