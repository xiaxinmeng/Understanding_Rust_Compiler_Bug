{"sha": "5d7ff6efe3a0afc3df00243640fc71c23ce0af2a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkN2ZmNmVmZTNhMGFmYzNkZjAwMjQzNjQwZmM3MWMyM2NlMGFmMmE=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-08-14T15:59:47Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-14T15:59:47Z"}, "message": "Merge #9894\n\n9894: internal: use standard test style r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "f054b832b0e94f9d0ec8f834ecf0d1af2a44aa4b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f054b832b0e94f9d0ec8f834ecf0d1af2a44aa4b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d7ff6efe3a0afc3df00243640fc71c23ce0af2a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhF+hzCRBK7hj4Ov3rIwAAM0gIACeuzy8tbahYGSnFPhmqr6fa\nzumsyRrtwLD1RyP0z3Z7WMj6MMKmwFeM7xBqHqT0e/XdOQ9/rXdz1lC4up7CIeo5\neeBk0uqatznWDoU2DiJOqcG49u6TdQA6dDxW+YS2HU8/056Z03CaX8JfFXHJxl+R\n+7+2UmUuNiMBUsYyzZH6dkbzxsKqOQRx5KHW9XzjxQ5bxqbNhKBshLBJKZwcl/mT\nQEL8TxJLwoiAKl7hCj26d3mnZ0iB8t+a6+eQvmNWT8QllrMdoYZJvjbIb5j0Gtvk\npPkmJBbOJTwusTQPmepz42945Uo+1bUyAZrec1lO3hqSLA/5F3gZJrePzxRwFEM=\n=bfT4\n-----END PGP SIGNATURE-----\n", "payload": "tree f054b832b0e94f9d0ec8f834ecf0d1af2a44aa4b\nparent d07f4e4c35efa6bfa9fb354f1964d81b690ef8e3\nparent c3bbeb947c8f018a71654bf0e2b90e0bc2315caf\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1628956787 +0000\ncommitter GitHub <noreply@github.com> 1628956787 +0000\n\nMerge #9894\n\n9894: internal: use standard test style r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d7ff6efe3a0afc3df00243640fc71c23ce0af2a", "html_url": "https://github.com/rust-lang/rust/commit/5d7ff6efe3a0afc3df00243640fc71c23ce0af2a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d7ff6efe3a0afc3df00243640fc71c23ce0af2a/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d07f4e4c35efa6bfa9fb354f1964d81b690ef8e3", "url": "https://api.github.com/repos/rust-lang/rust/commits/d07f4e4c35efa6bfa9fb354f1964d81b690ef8e3", "html_url": "https://github.com/rust-lang/rust/commit/d07f4e4c35efa6bfa9fb354f1964d81b690ef8e3"}, {"sha": "c3bbeb947c8f018a71654bf0e2b90e0bc2315caf", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf", "html_url": "https://github.com/rust-lang/rust/commit/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf"}], "stats": {"total": 476, "additions": 238, "deletions": 238}, "files": [{"sha": "b499287a5a1cdb0aa2e8dbd2079090501732b0ca", "filename": "crates/ide_assists/src/handlers/convert_to_guarded_return.rs", "status": "modified", "additions": 238, "deletions": 238, "changes": 476, "blob_url": "https://github.com/rust-lang/rust/blob/5d7ff6efe3a0afc3df00243640fc71c23ce0af2a/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fconvert_to_guarded_return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d7ff6efe3a0afc3df00243640fc71c23ce0af2a/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fconvert_to_guarded_return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fconvert_to_guarded_return.rs?ref=5d7ff6efe3a0afc3df00243640fc71c23ce0af2a", "patch": "@@ -198,28 +198,28 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                bar();\n-                if$0 true {\n-                    foo();\n+fn main() {\n+    bar();\n+    if$0 true {\n+        foo();\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                bar();\n-                if false {\n-                    return;\n-                }\n-                foo();\n+fn main() {\n+    bar();\n+    if false {\n+        return;\n+    }\n+    foo();\n \n-                // comment\n-                bar();\n-            }\n-            \"#,\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -228,29 +228,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                if$0 let Some(n) = n {\n-                    foo(n);\n+fn main(n: Option<String>) {\n+    bar();\n+    if$0 let Some(n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                let n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<String>) {\n+    bar();\n+    let n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -259,21 +259,21 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 let Ok(x) = Err(92) {\n-                    foo(x);\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 let Ok(x) = Err(92) {\n+        foo(x);\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                let x = match Err(92) {\n-                    Ok(it) => it,\n-                    _ => return,\n-                };\n-                foo(x);\n-            }\n-            \"#,\n+fn main() {\n+    let x = match Err(92) {\n+        Ok(it) => it,\n+        _ => return,\n+    };\n+    foo(x);\n+}\n+\"#,\n         );\n     }\n \n@@ -282,29 +282,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                if$0 let Some(n) = n {\n-                    foo(n);\n+fn main(n: Option<String>) {\n+    bar();\n+    if$0 let Some(n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                let n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<String>) {\n+    bar();\n+    let n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -313,29 +313,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                if$0 let Some(mut n) = n {\n-                    foo(n);\n+fn main(n: Option<String>) {\n+    bar();\n+    if$0 let Some(mut n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                let mut n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<String>) {\n+    bar();\n+    let mut n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -344,29 +344,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<&str>) {\n-                bar();\n-                if$0 let Some(ref n) = n {\n-                    foo(n);\n+fn main(n: Option<&str>) {\n+    bar();\n+    if$0 let Some(ref n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<&str>) {\n-                bar();\n-                let ref n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<&str>) {\n+    bar();\n+    let ref n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -375,26 +375,26 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                while true {\n-                    if$0 true {\n-                        foo();\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        if$0 true {\n+            foo();\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                while true {\n-                    if false {\n-                        continue;\n-                    }\n-                    foo();\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        if false {\n+            continue;\n+        }\n+        foo();\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -403,27 +403,27 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                while true {\n-                    if$0 let Some(n) = n {\n-                        foo(n);\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        if$0 let Some(n) = n {\n+            foo(n);\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                while true {\n-                    let n = match n {\n-                        Some(it) => it,\n-                        _ => continue,\n-                    };\n-                    foo(n);\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        let n = match n {\n+            Some(it) => it,\n+            _ => continue,\n+        };\n+        foo(n);\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -432,26 +432,26 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if$0 true {\n-                        foo();\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if$0 true {\n+            foo();\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if false {\n-                        continue;\n-                    }\n-                    foo();\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if false {\n+            continue;\n+        }\n+        foo();\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -460,27 +460,27 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if$0 let Some(n) = n {\n-                        foo(n);\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if$0 let Some(n) = n {\n+            foo(n);\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                loop {\n-                    let n = match n {\n-                        Some(it) => it,\n-                        _ => continue,\n-                    };\n-                    foo(n);\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        let n = match n {\n+            Some(it) => it,\n+            _ => continue,\n+        };\n+        foo(n);\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -489,12 +489,12 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    return;\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        return;\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -503,14 +503,14 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if$0 true {\n-                        continue;\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if$0 true {\n+            continue;\n+        }\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -519,12 +519,12 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    return\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        return\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -533,14 +533,14 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    foo();\n-                } else {\n-                    bar()\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        foo();\n+    } else {\n+        bar()\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -549,13 +549,13 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    foo();\n-                }\n-                bar();\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        foo();\n+    }\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -564,14 +564,14 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if false {\n-                    if$0 true {\n-                        foo();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if false {\n+        if$0 true {\n+            foo();\n+        }\n+    }\n+}\n+\"#,\n         );\n     }\n }"}]}