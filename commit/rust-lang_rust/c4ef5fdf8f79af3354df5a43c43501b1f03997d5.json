{"sha": "c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM0ZWY1ZmRmOGY3OWFmMzM1NGRmNWE0M2M0MzUwMWIxZjAzOTk3ZDU=", "commit": {"author": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2020-10-06T03:30:13Z"}, "committer": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2020-10-06T04:44:00Z"}, "message": "Remove `fn` from feature name", "tree": {"sha": "a42d7e1fd0d63c5848587c45dda6c0b73d117254", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a42d7e1fd0d63c5848587c45dda6c0b73d117254"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "html_url": "https://github.com/rust-lang/rust/commit/c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/comments", "author": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "af03b1143ede7bcb3f579fa3cf3ea3e579e2c2fc", "url": "https://api.github.com/repos/rust-lang/rust/commits/af03b1143ede7bcb3f579fa3cf3ea3e579e2c2fc", "html_url": "https://github.com/rust-lang/rust/commit/af03b1143ede7bcb3f579fa3cf3ea3e579e2c2fc"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "1982d098542baf6fa63a70049028dceca53e6a6c", "filename": "compiler/rustc_feature/src/active.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Factive.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -597,7 +597,7 @@ declare_features! (\n     (active, default_alloc_error_handler, \"1.48.0\", Some(66741), None),\n \n     /// Allows argument and return position `impl Trait` in a `const fn`.\n-    (active, const_fn_impl_trait, \"1.48.0\", Some(77463), None),\n+    (active, const_impl_trait, \"1.48.0\", Some(77463), None),\n \n     // -------------------------------------------------------------------------\n     // feature-group-end: actual feature gates"}, {"sha": "e0570ab622ec16a639bc629aee5626b6501a5fe5", "filename": "compiler/rustc_mir/src/transform/check_consts/ops.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -562,14 +562,14 @@ pub mod ty {\n             if ccx.const_kind() != hir::ConstContext::ConstFn {\n                 Status::Allowed\n             } else {\n-                Status::Unstable(sym::const_fn_impl_trait)\n+                Status::Unstable(sym::const_impl_trait)\n             }\n         }\n \n         fn build_error(&self, ccx: &ConstCx<'_, 'tcx>, span: Span) -> DiagnosticBuilder<'tcx> {\n             feature_err(\n                 &ccx.tcx.sess.parse_sess,\n-                sym::const_fn_impl_trait,\n+                sym::const_impl_trait,\n                 span,\n                 &format!(\"`impl Trait` is not allowed in {}s\", ccx.const_kind()),\n             )"}, {"sha": "a2184c00a28fb1b0f8ac0adccff3f770674031a1", "filename": "compiler/rustc_span/src/symbol.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -355,11 +355,11 @@ symbols! {\n         const_fn,\n         const_fn_floating_point_arithmetic,\n         const_fn_fn_ptr_basics,\n-        const_fn_impl_trait,\n         const_fn_transmute,\n         const_fn_union,\n         const_generics,\n         const_if_match,\n+        const_impl_trait,\n         const_in_array_repeat_expressions,\n         const_indexing,\n         const_let,"}, {"sha": "3aa68aa1d8d127ad3242b8354e007d83cae89a5e", "filename": "library/core/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/library%2Fcore%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/library%2Fcore%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Flib.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -83,7 +83,7 @@\n #![feature(const_fn)]\n #![feature(const_fn_union)]\n #![feature(const_assume)]\n-#![cfg_attr(not(bootstrap), feature(const_fn_impl_trait))]\n+#![cfg_attr(not(bootstrap), feature(const_impl_trait))]\n #![cfg_attr(not(bootstrap), feature(const_fn_floating_point_arithmetic))]\n #![cfg_attr(not(bootstrap), feature(const_fn_fn_ptr_basics))]\n #![feature(const_generics)]"}, {"sha": "e062c9f0aa38c4cc80c0187b22e510edf041027a", "filename": "src/test/ui/consts/min_const_fn/min_const_fn_impl_trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_impl_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_impl_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_impl_trait.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -1,4 +1,4 @@\n-// gate-test-const_fn_impl_trait\n+// gate-test-const_impl_trait\n \n struct AlanTuring<T>(T);\n const fn no_rpit2() -> AlanTuring<impl std::fmt::Debug> { //~ `impl Trait`"}, {"sha": "01c797cd96b4db422420dad736e7ec007fadcbd6", "filename": "src/test/ui/consts/min_const_fn/min_const_fn_impl_trait.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_impl_trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_impl_trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn_impl_trait.stderr?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -5,7 +5,7 @@ LL | const fn no_rpit2() -> AlanTuring<impl std::fmt::Debug> {\n    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: see issue #77463 <https://github.com/rust-lang/rust/issues/77463> for more information\n-   = help: add `#![feature(const_fn_impl_trait)]` to the crate attributes to enable\n+   = help: add `#![feature(const_impl_trait)]` to the crate attributes to enable\n \n error[E0658]: `impl Trait` is not allowed in constant functions\n   --> $DIR/min_const_fn_impl_trait.rs:8:23\n@@ -14,7 +14,7 @@ LL | const fn no_rpit() -> impl std::fmt::Debug {}\n    |                       ^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: see issue #77463 <https://github.com/rust-lang/rust/issues/77463> for more information\n-   = help: add `#![feature(const_fn_impl_trait)]` to the crate attributes to enable\n+   = help: add `#![feature(const_impl_trait)]` to the crate attributes to enable\n \n error: aborting due to 2 previous errors\n "}, {"sha": "6e1973bd18aabf25d30fdf9d6535afbf5f5f8b45", "filename": "src/test/ui/type-alias-impl-trait/issue-53096.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-53096.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-53096.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-53096.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -1,5 +1,5 @@\n // check-pass\n-#![feature(const_fn_impl_trait, const_fn_fn_ptr_basics)]\n+#![feature(const_impl_trait, const_fn_fn_ptr_basics)]\n #![feature(type_alias_impl_trait)]\n \n type Foo = impl Fn() -> usize;"}, {"sha": "4582d5386f08f0e9ac6dacfaa4046d81d2f25e8e", "filename": "src/test/ui/type-alias-impl-trait/issue-53678-generator-and-const-fn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-53678-generator-and-const-fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-53678-generator-and-const-fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-53678-generator-and-const-fn.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n \n-#![feature(const_fn_impl_trait, generators, generator_trait, type_alias_impl_trait)]\n+#![feature(const_impl_trait, generators, generator_trait, type_alias_impl_trait)]\n \n use std::ops::Generator;\n "}, {"sha": "58f0f5b2f65dc4925aba6847b9f3ad3579fdea4a", "filename": "src/test/ui/type-alias-impl-trait/structural-match-no-leak.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstructural-match-no-leak.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstructural-match-no-leak.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstructural-match-no-leak.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -1,4 +1,4 @@\n-#![feature(const_fn_impl_trait, type_alias_impl_trait)]\n+#![feature(const_impl_trait, type_alias_impl_trait)]\n \n type Bar = impl Send;\n "}, {"sha": "74ffa6084268ea5bea87a85eb03019dfce16dd11", "filename": "src/test/ui/type-alias-impl-trait/structural-match.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstructural-match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4ef5fdf8f79af3354df5a43c43501b1f03997d5/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstructural-match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fstructural-match.rs?ref=c4ef5fdf8f79af3354df5a43c43501b1f03997d5", "patch": "@@ -1,4 +1,4 @@\n-#![feature(const_fn_impl_trait, type_alias_impl_trait)]\n+#![feature(const_impl_trait, type_alias_impl_trait)]\n \n type Foo = impl Send;\n "}]}