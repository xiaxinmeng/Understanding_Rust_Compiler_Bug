{"sha": "6b1da80eb445fb4067938e411aa10cfa6d07abf0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiMWRhODBlYjQ0NWZiNDA2NzkzOGU0MTFhYTEwY2ZhNmQwN2FiZjA=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-04T15:36:10Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-07-04T15:36:10Z"}, "message": "Simplify.", "tree": {"sha": "beedacea92355f4a1cdc066c47ea07db22a5979f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/beedacea92355f4a1cdc066c47ea07db22a5979f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6b1da80eb445fb4067938e411aa10cfa6d07abf0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6b1da80eb445fb4067938e411aa10cfa6d07abf0", "html_url": "https://github.com/rust-lang/rust/commit/6b1da80eb445fb4067938e411aa10cfa6d07abf0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6b1da80eb445fb4067938e411aa10cfa6d07abf0/comments", "author": null, "committer": null, "parents": [{"sha": "e0ce092ddcfdad62458596132bdccdb4502dd03b", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0ce092ddcfdad62458596132bdccdb4502dd03b", "html_url": "https://github.com/rust-lang/rust/commit/e0ce092ddcfdad62458596132bdccdb4502dd03b"}], "stats": {"total": 14, "additions": 3, "deletions": 11}, "files": [{"sha": "0cf6af617873df2beec488a6efbffab8b1f7302b", "filename": "src/comp/metadata/creader.rs", "status": "modified", "additions": 3, "deletions": 11, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/6b1da80eb445fb4067938e411aa10cfa6d07abf0/src%2Fcomp%2Fmetadata%2Fcreader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b1da80eb445fb4067938e411aa10cfa6d07abf0/src%2Fcomp%2Fmetadata%2Fcreader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmetadata%2Fcreader.rs?ref=6b1da80eb445fb4067938e411aa10cfa6d07abf0", "patch": "@@ -170,17 +170,9 @@ fn visit_view_item(env e, &@ast::view_item i) {\n fn visit_item(env e, &@ast::item i) {\n     alt (i.node) {\n         case (ast::item_native_mod(?m)) {\n-            alt (m.abi) {\n-                case (ast::native_abi_rust) {\n-                    e.sess.add_used_library(m.native_name);\n-                }\n-                case (ast::native_abi_cdecl) {\n-                    e.sess.add_used_library(m.native_name);\n-                }\n-                case (ast::native_abi_llvm) {\n-                }\n-                case (ast::native_abi_rust_intrinsic) {\n-                }\n+            if (m.abi == ast::native_abi_rust ||\n+                m.abi == ast::native_abi_cdecl) {\n+                e.sess.add_used_library(m.native_name);\n             }\n         }\n         case (_) {"}]}