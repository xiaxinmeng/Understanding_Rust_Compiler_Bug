{"sha": "370fc45a0a2af502d43f0e1831def314e0580a92", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3MGZjNDVhMGEyYWY1MDJkNDNmMGUxODMxZGVmMzE0ZTA1ODBhOTI=", "commit": {"author": {"name": "Thibaud", "email": "ThibsG@users.noreply.github.com", "date": "2020-08-25T20:20:35Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-25T20:20:35Z"}, "message": "Update clippy_lints/src/methods/mod.rs\n\nCo-authored-by: Eduardo Broto <ebroto@tutanota.com>", "tree": {"sha": "74422406618f04521fbba9ec5e0f4ff67a2b9caf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/74422406618f04521fbba9ec5e0f4ff67a2b9caf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/370fc45a0a2af502d43f0e1831def314e0580a92", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfRXKUCRBK7hj4Ov3rIwAAdHIIACjhnMeH39cCHJvd1jT9y6tJ\nIgdmwA3w433CD5Vj+8kdWDlCD2xxNeOoLROMgy5/WuE69MdMiONd3+1W7OHXzYSw\noSxdlYXv8yowtaPB5DkbGelqFnYOP5W79L5SIa6Bi36deWtfbDRNXr/VwdxQifBs\nXH5HF4bMQWpc+Ae3oC/hshumjFaNMdHHhoSq6UH0yHLDfg2Z05okU8F26Oiqv337\nTccGlqD098jsYw+DNJdQ3cJWsj5ylDLcgf8VU7CA1U9w/b3STwrwBg4xEHfT+T8J\nXwwBTxjzYZFNwAD3ItZiGBz7iYcSjjQHe5Amp3VHNlQJiExoOKRYyZtCv54j3/I=\n=oA3R\n-----END PGP SIGNATURE-----\n", "payload": "tree 74422406618f04521fbba9ec5e0f4ff67a2b9caf\nparent 3d820f71fe820c0bb7a1204e28ce549407a937cc\nauthor Thibaud <ThibsG@users.noreply.github.com> 1598386835 +0200\ncommitter GitHub <noreply@github.com> 1598386835 +0200\n\nUpdate clippy_lints/src/methods/mod.rs\n\nCo-authored-by: Eduardo Broto <ebroto@tutanota.com>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/370fc45a0a2af502d43f0e1831def314e0580a92", "html_url": "https://github.com/rust-lang/rust/commit/370fc45a0a2af502d43f0e1831def314e0580a92", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/370fc45a0a2af502d43f0e1831def314e0580a92/comments", "author": {"login": "ThibsG", "id": 12683889, "node_id": "MDQ6VXNlcjEyNjgzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/12683889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThibsG", "html_url": "https://github.com/ThibsG", "followers_url": "https://api.github.com/users/ThibsG/followers", "following_url": "https://api.github.com/users/ThibsG/following{/other_user}", "gists_url": "https://api.github.com/users/ThibsG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThibsG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThibsG/subscriptions", "organizations_url": "https://api.github.com/users/ThibsG/orgs", "repos_url": "https://api.github.com/users/ThibsG/repos", "events_url": "https://api.github.com/users/ThibsG/events{/privacy}", "received_events_url": "https://api.github.com/users/ThibsG/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3d820f71fe820c0bb7a1204e28ce549407a937cc", "url": "https://api.github.com/repos/rust-lang/rust/commits/3d820f71fe820c0bb7a1204e28ce549407a937cc", "html_url": "https://github.com/rust-lang/rust/commit/3d820f71fe820c0bb7a1204e28ce549407a937cc"}], "stats": {"total": 6, "additions": 1, "deletions": 5}, "files": [{"sha": "1ef54d285f68a3c9219203f56e8698f07b608dba", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/370fc45a0a2af502d43f0e1831def314e0580a92/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/370fc45a0a2af502d43f0e1831def314e0580a92/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=370fc45a0a2af502d43f0e1831def314e0580a92", "patch": "@@ -2150,11 +2150,7 @@ fn lint_clone_on_ref_ptr(cx: &LateContext<'_>, expr: &hir::Expr<'_>, arg: &hir::\n             return;\n         };\n \n-        let snippet = if in_macro(arg.span) {\n-            snippet_with_macro_callsite(cx, arg.span, \"_\")\n-        } else {\n-            snippet(cx, arg.span, \"_\")\n-        };\n+        let snippet = snippet_with_macro_callsite(cx, arg.span, \"_\");\n \n         span_lint_and_sugg(\n             cx,"}]}