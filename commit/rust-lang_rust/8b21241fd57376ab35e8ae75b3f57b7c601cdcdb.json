{"sha": "8b21241fd57376ab35e8ae75b3f57b7c601cdcdb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhiMjEyNDFmZDU3Mzc2YWIzNWU4YWU3NWIzZjU3YjdjNjAxY2RjZGI=", "commit": {"author": {"name": "Daniel Smith", "email": "daniel.smith@datadoghq.com", "date": "2020-11-20T16:35:15Z"}, "committer": {"name": "Daniel Smith", "email": "daniel.smith@datadoghq.com", "date": "2020-11-20T16:44:26Z"}, "message": "Revert \"Convert the await holding lints to correctness\"\n\nThis reverts commit d8c6bce4407b1c99ed961f75a093ffe767818069.", "tree": {"sha": "a0fef327ca4b0b83b99936d86229abfd1b5ff149", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a0fef327ca4b0b83b99936d86229abfd1b5ff149"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb", "html_url": "https://github.com/rust-lang/rust/commit/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb/comments", "author": null, "committer": null, "parents": [{"sha": "70ffebf5f0e5edca866c624212f08e9f11d41e17", "url": "https://api.github.com/repos/rust-lang/rust/commits/70ffebf5f0e5edca866c624212f08e9f11d41e17", "html_url": "https://github.com/rust-lang/rust/commit/70ffebf5f0e5edca866c624212f08e9f11d41e17"}], "stats": {"total": 14, "additions": 6, "deletions": 8}, "files": [{"sha": "58892024ce2439cebfde97b587939df93c8bf406", "filename": "clippy_lints/src/await_holding_invalid.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs?ref=8b21241fd57376ab35e8ae75b3f57b7c601cdcdb", "patch": "@@ -45,7 +45,7 @@ declare_clippy_lint! {\n     /// }\n     /// ```\n     pub AWAIT_HOLDING_LOCK,\n-    correctness,\n+    pedantic,\n     \"Inside an async function, holding a MutexGuard while calling await\"\n }\n \n@@ -84,7 +84,7 @@ declare_clippy_lint! {\n     /// }\n     /// ```\n     pub AWAIT_HOLDING_REFCELL_REF,\n-    correctness,\n+    pedantic,\n     \"Inside an async function, holding a RefCell ref while calling await\"\n }\n "}, {"sha": "7e8cbd00c22a146dadb04d454046ed3bb2ce1cfb", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=8b21241fd57376ab35e8ae75b3f57b7c601cdcdb", "patch": "@@ -1224,6 +1224,8 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n \n     store.register_group(true, \"clippy::pedantic\", Some(\"clippy_pedantic\"), vec![\n         LintId::of(&attrs::INLINE_ALWAYS),\n+        LintId::of(&await_holding_invalid::AWAIT_HOLDING_LOCK),\n+        LintId::of(&await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n         LintId::of(&bit_mask::VERBOSE_BIT_MASK),\n         LintId::of(&checked_conversions::CHECKED_CONVERSIONS),\n         LintId::of(&copies::SAME_FUNCTIONS_IN_IF_CONDITION),\n@@ -1327,8 +1329,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&attrs::MISMATCHED_TARGET_OS),\n         LintId::of(&attrs::UNKNOWN_CLIPPY_LINTS),\n         LintId::of(&attrs::USELESS_ATTRIBUTE),\n-        LintId::of(&await_holding_invalid::AWAIT_HOLDING_LOCK),\n-        LintId::of(&await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n         LintId::of(&bit_mask::BAD_BIT_MASK),\n         LintId::of(&bit_mask::INEFFECTIVE_BIT_MASK),\n         LintId::of(&blacklisted_name::BLACKLISTED_NAME),\n@@ -1793,8 +1793,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&attrs::DEPRECATED_SEMVER),\n         LintId::of(&attrs::MISMATCHED_TARGET_OS),\n         LintId::of(&attrs::USELESS_ATTRIBUTE),\n-        LintId::of(&await_holding_invalid::AWAIT_HOLDING_LOCK),\n-        LintId::of(&await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n         LintId::of(&bit_mask::BAD_BIT_MASK),\n         LintId::of(&bit_mask::INEFFECTIVE_BIT_MASK),\n         LintId::of(&booleans::LOGIC_BUG),"}, {"sha": "79b24b83680e28ef53249c349d58365a0fc2ab57", "filename": "src/lintlist/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb/src%2Flintlist%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b21241fd57376ab35e8ae75b3f57b7c601cdcdb/src%2Flintlist%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flintlist%2Fmod.rs?ref=8b21241fd57376ab35e8ae75b3f57b7c601cdcdb", "patch": "@@ -62,14 +62,14 @@ vec![\n     },\n     Lint {\n         name: \"await_holding_lock\",\n-        group: \"correctness\",\n+        group: \"pedantic\",\n         desc: \"Inside an async function, holding a MutexGuard while calling await\",\n         deprecation: None,\n         module: \"await_holding_invalid\",\n     },\n     Lint {\n         name: \"await_holding_refcell_ref\",\n-        group: \"correctness\",\n+        group: \"pedantic\",\n         desc: \"Inside an async function, holding a RefCell ref while calling await\",\n         deprecation: None,\n         module: \"await_holding_invalid\","}]}