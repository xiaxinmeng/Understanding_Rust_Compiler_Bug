{"sha": "e20d90671856ac9935ea42281b669eee891a984d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyMGQ5MDY3MTg1NmFjOTkzNWVhNDIyODFiNjY5ZWVlODkxYTk4NGQ=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@pobox.com", "date": "2012-01-16T20:18:45Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@pobox.com", "date": "2012-01-16T20:18:45Z"}, "message": "Merge pull request #1540 from lht/exclude-stage3-by-default\n\nbuild: Stop building stage3 on normal test cycles", "tree": {"sha": "5a13e4f5997af6e059e0a9e09b8adb18cc3e3dcd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a13e4f5997af6e059e0a9e09b8adb18cc3e3dcd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e20d90671856ac9935ea42281b669eee891a984d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e20d90671856ac9935ea42281b669eee891a984d", "html_url": "https://github.com/rust-lang/rust/commit/e20d90671856ac9935ea42281b669eee891a984d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e20d90671856ac9935ea42281b669eee891a984d/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea1e360c15ca0ee7d0148567568c3916f23063ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea1e360c15ca0ee7d0148567568c3916f23063ab", "html_url": "https://github.com/rust-lang/rust/commit/ea1e360c15ca0ee7d0148567568c3916f23063ab"}, {"sha": "394a80cfd8eac555dc006f645496195207fb8879", "url": "https://api.github.com/repos/rust-lang/rust/commits/394a80cfd8eac555dc006f645496195207fb8879", "html_url": "https://github.com/rust-lang/rust/commit/394a80cfd8eac555dc006f645496195207fb8879"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "5c5191e079d51f8ce5f53e87110cfb1e86f35a20", "filename": "Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e20d90671856ac9935ea42281b669eee891a984d/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/e20d90671856ac9935ea42281b669eee891a984d/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=e20d90671856ac9935ea42281b669eee891a984d", "patch": "@@ -397,7 +397,7 @@ rustc-stage3: rustc-stage3-H-$(CFG_HOST_TRIPLE)\n define DEF_RUSTC_TARGET\n # $(1) == architecture\n \n-rustc-H-$(1): rustc-stage3-H-$(1)\n+rustc-H-$(1): rustc-stage2-H-$(1)\n endef\n \n $(foreach host,$(CFG_TARGET_TRIPLES),\t\t\t\\"}, {"sha": "244f4c05a59444cad644975a9431fe1b15ff9bf4", "filename": "mk/install.mk", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e20d90671856ac9935ea42281b669eee891a984d/mk%2Finstall.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e20d90671856ac9935ea42281b669eee891a984d/mk%2Finstall.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Finstall.mk?ref=e20d90671856ac9935ea42281b669eee891a984d", "patch": "@@ -14,7 +14,7 @@ else\n endif\n \n # The stage we install from\n-ISTAGE = 3\n+ISTAGE = 2\n \n PREFIX_ROOT = $(CFG_PREFIX)\n PREFIX_BIN = $(PREFIX_ROOT)/bin\n@@ -56,6 +56,7 @@ install: all install-host install-targets\n \n # Shorthand for build/stageN/bin\n HB = $(HBIN$(ISTAGE)_H_$(CFG_HOST_TRIPLE))\n+HB3 = $(HBIN3_H_$(CFG_HOST_TRIPLE))\n # Shorthand for build/stageN/lib\n HL = $(HLIB$(ISTAGE)_H_$(CFG_HOST_TRIPLE))\n # Shorthand for the prefix bin directory\n@@ -67,9 +68,9 @@ install-host: $(SREQ$(ISTAGE)_T_$(CFG_HOST_TRIPLE)_H_$(CFG_HOST_TRIPLE))\n \t$(Q)mkdir -p $(PREFIX_BIN)\n \t$(Q)mkdir -p $(PREFIX_LIB)\n \t$(Q)mkdir -p $(PREFIX_ROOT)/share/man/man1\n-\t$(Q)$(call INSTALL,$(HB),$(PHB),rustc$(X))\n-\t$(Q)$(call INSTALL,$(HB),$(PHB),cargo$(X))\n-\t$(Q)$(call INSTALL,$(HB),$(PHB),rustdoc$(X))\n+\t$(Q)$(call INSTALL,$(HB3),$(PHB),rustc$(X))\n+\t$(Q)$(call INSTALL,$(HB3),$(PHB),cargo$(X))\n+\t$(Q)$(call INSTALL,$(HB3),$(PHB),rustdoc$(X))\n \t$(Q)$(call INSTALL,$(HL),$(PHL),$(CFG_RUNTIME))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(CORELIB_GLOB))\n \t$(Q)$(call INSTALL_LIB,$(HL),$(PHL),$(STDLIB_GLOB))"}, {"sha": "1e0759be07a64951a44b4a5d3fde05e17573dd26", "filename": "mk/tests.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e20d90671856ac9935ea42281b669eee891a984d/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e20d90671856ac9935ea42281b669eee891a984d/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=e20d90671856ac9935ea42281b669eee891a984d", "patch": "@@ -70,7 +70,7 @@ endif\n # Main test targets\n ######################################################################\n \n-check: all tidy check-stage3 \\\n+check: all tidy check-stage2 \\\n \n check-full: all tidy check-stage1 check-stage2 check-stage3 \\\n "}]}