{"sha": "b82370cec65b17456b1d5b98a283d3f46a8ab09a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI4MjM3MGNlYzY1YjE3NDU2YjFkNWI5OGEyODNkM2Y0NmE4YWIwOWE=", "commit": {"author": {"name": "Young-il Choi", "email": "duddlf.choi@samsung.com", "date": "2013-06-17T09:53:33Z"}, "committer": {"name": "Young-il Choi", "email": "duddlf.choi@samsung.com", "date": "2013-06-17T09:53:33Z"}, "message": "std: fix stat struct of android (SEGV error from run-pass/stat.rs on android)", "tree": {"sha": "6730aa4fadfeed25dbfec0d3f386b15744ea0bce", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6730aa4fadfeed25dbfec0d3f386b15744ea0bce"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b82370cec65b17456b1d5b98a283d3f46a8ab09a", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b82370cec65b17456b1d5b98a283d3f46a8ab09a", "html_url": "https://github.com/rust-lang/rust/commit/b82370cec65b17456b1d5b98a283d3f46a8ab09a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b82370cec65b17456b1d5b98a283d3f46a8ab09a/comments", "author": {"login": "yichoi", "id": 3222276, "node_id": "MDQ6VXNlcjMyMjIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3222276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yichoi", "html_url": "https://github.com/yichoi", "followers_url": "https://api.github.com/users/yichoi/followers", "following_url": "https://api.github.com/users/yichoi/following{/other_user}", "gists_url": "https://api.github.com/users/yichoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yichoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yichoi/subscriptions", "organizations_url": "https://api.github.com/users/yichoi/orgs", "repos_url": "https://api.github.com/users/yichoi/repos", "events_url": "https://api.github.com/users/yichoi/events{/privacy}", "received_events_url": "https://api.github.com/users/yichoi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yichoi", "id": 3222276, "node_id": "MDQ6VXNlcjMyMjIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3222276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yichoi", "html_url": "https://github.com/yichoi", "followers_url": "https://api.github.com/users/yichoi/followers", "following_url": "https://api.github.com/users/yichoi/following{/other_user}", "gists_url": "https://api.github.com/users/yichoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yichoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yichoi/subscriptions", "organizations_url": "https://api.github.com/users/yichoi/orgs", "repos_url": "https://api.github.com/users/yichoi/repos", "events_url": "https://api.github.com/users/yichoi/events{/privacy}", "received_events_url": "https://api.github.com/users/yichoi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c4c7e0fb6689f606ec74d9cc29c8e0f7c71fd51c", "url": "https://api.github.com/repos/rust-lang/rust/commits/c4c7e0fb6689f606ec74d9cc29c8e0f7c71fd51c", "html_url": "https://github.com/rust-lang/rust/commit/c4c7e0fb6689f606ec74d9cc29c8e0f7c71fd51c"}], "stats": {"total": 80, "additions": 78, "deletions": 2}, "files": [{"sha": "b5a8be23e42a337871f3ddc460b27d1832703330", "filename": "src/libstd/libc.rs", "status": "modified", "additions": 49, "deletions": 1, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/b82370cec65b17456b1d5b98a283d3f46a8ab09a/src%2Flibstd%2Flibc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b82370cec65b17456b1d5b98a283d3f46a8ab09a/src%2Flibstd%2Flibc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flibc.rs?ref=b82370cec65b17456b1d5b98a283d3f46a8ab09a", "patch": "@@ -257,6 +257,8 @@ pub mod types {\n                 pub type intptr_t = int;\n                 pub type uintptr_t = uint;\n             }\n+            #[cfg(target_arch = \"x86\")]\n+            #[cfg(target_arch = \"mips\")]\n             pub mod posix88 {\n                 pub type off_t = i32;\n                 pub type dev_t = u64;\n@@ -268,6 +270,20 @@ pub mod types {\n                 pub type mode_t = u32;\n                 pub type ssize_t = i32;\n             }\n+            #[cfg(target_arch = \"arm\")]\n+            pub mod posix88 {\n+                pub type off_t = i32;\n+                pub type dev_t = u32;\n+                pub type ino_t = u32;\n+                pub type pid_t = i32;\n+                pub type uid_t = u32;\n+                pub type gid_t = u32;\n+                pub type useconds_t = u32;\n+                pub type mode_t = u16;\n+                pub type ssize_t = i32;\n+            }\n+            #[cfg(target_arch = \"x86\")]\n+            #[cfg(target_arch = \"mips\")]\n             pub mod posix01 {\n                 use libc::types::os::arch::c95::{c_short, c_long, c_ulong, time_t};\n                 use libc::types::os::arch::posix88::{dev_t, gid_t, ino_t};\n@@ -279,7 +295,6 @@ pub mod types {\n                 pub type blkcnt_t = i32;\n \n                 #[cfg(target_arch = \"x86\")]\n-                #[cfg(target_arch = \"arm\")]\n                 pub struct stat {\n                     st_dev: dev_t,\n                     __pad1: c_short,\n@@ -327,6 +342,39 @@ pub mod types {\n                     st_pad5: [c_long, ..14],\n                 }\n             }\n+            #[cfg(target_arch = \"arm\")]\n+            pub mod posix01 {\n+                use libc::types::os::arch::c95::{c_uchar, c_uint, c_ulong, time_t};\n+                use libc::types::os::arch::c99::{c_longlong, c_ulonglong};\n+                use libc::types::os::arch::posix88::{uid_t, gid_t, ino_t};\n+                use libc::types::os::arch::posix88::{uid_t};\n+\n+                pub type nlink_t = u16;\n+                pub type blksize_t = u32;\n+                pub type blkcnt_t = u32;\n+\n+                pub struct stat {\n+                    st_dev: c_ulonglong,\n+                    __pad0: [c_uchar, ..4],\n+                    __st_ino: ino_t,\n+                    st_mode: c_uint,\n+                    st_nlink: c_uint,\n+                    st_uid: uid_t,\n+                    st_gid: gid_t,\n+                    st_rdev: c_ulonglong,\n+                    __pad3: [c_uchar, ..4],\n+                    st_size: c_longlong,\n+                    st_blksize: blksize_t,\n+                    st_blocks: c_ulonglong,\n+                    st_atime: time_t,\n+                    st_atime_nsec: c_ulong,\n+                    st_mtime: time_t,\n+                    st_mtime_nsec: c_ulong,\n+                    st_ctime: time_t,\n+                    st_ctime_nsec: c_ulong,\n+                    st_ino: c_ulonglong\n+                }\n+            }\n             pub mod posix08 {}\n             pub mod bsd44 {}\n             pub mod extra {}"}, {"sha": "b1f0ffdae656f871b7be186bba3a2d6d1bc563ca", "filename": "src/libstd/path.rs", "status": "modified", "additions": 29, "deletions": 1, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/b82370cec65b17456b1d5b98a283d3f46a8ab09a/src%2Flibstd%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b82370cec65b17456b1d5b98a283d3f46a8ab09a/src%2Flibstd%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath.rs?ref=b82370cec65b17456b1d5b98a283d3f46a8ab09a", "patch": "@@ -128,7 +128,6 @@ pub trait GenericPath {\n #[cfg(target_os = \"android\")]\n mod stat {\n     #[cfg(target_arch = \"x86\")]\n-    #[cfg(target_arch = \"arm\")]\n     pub mod arch {\n         use libc;\n \n@@ -158,6 +157,35 @@ mod stat {\n         }\n     }\n \n+    #[cfg(target_arch = \"arm\")]\n+    pub mod arch {\n+        use libc;\n+\n+        pub fn default_stat() -> libc::stat {\n+            libc::stat {\n+                st_dev: 0,\n+                __pad0: [0, ..4],\n+                __st_ino: 0,\n+                st_mode: 0,\n+                st_nlink: 0,\n+                st_uid: 0,\n+                st_gid: 0,\n+                st_rdev: 0,\n+                __pad3: [0, ..4],\n+                st_size: 0,\n+                st_blksize: 0,\n+                st_blocks: 0,\n+                st_atime: 0,\n+                st_atime_nsec: 0,\n+                st_mtime: 0,\n+                st_mtime_nsec: 0,\n+                st_ctime: 0,\n+                st_ctime_nsec: 0,\n+                st_ino: 0\n+            }\n+        }\n+    }\n+\n     #[cfg(target_arch = \"mips\")]\n     pub mod arch {\n         use libc;"}]}