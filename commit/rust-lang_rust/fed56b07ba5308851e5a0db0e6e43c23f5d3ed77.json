{"sha": "fed56b07ba5308851e5a0db0e6e43c23f5d3ed77", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZlZDU2YjA3YmE1MzA4ODUxZTVhMGRiMGU2ZTQzYzIzZjVkM2VkNzc=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-07T19:06:17Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-07T20:48:20Z"}, "message": "Make windows packaging work again", "tree": {"sha": "58d93e4f4a23b86a5f2e0e8840d54dd36f9ec190", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/58d93e4f4a23b86a5f2e0e8840d54dd36f9ec190"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77", "html_url": "https://github.com/rust-lang/rust/commit/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1efe5f0577eabc44f93d16b67a8b4d0ba9e0192f", "url": "https://api.github.com/repos/rust-lang/rust/commits/1efe5f0577eabc44f93d16b67a8b4d0ba9e0192f", "html_url": "https://github.com/rust-lang/rust/commit/1efe5f0577eabc44f93d16b67a8b4d0ba9e0192f"}], "stats": {"total": 27, "additions": 15, "deletions": 12}, "files": [{"sha": "5989b7eb68731e518928128806ecf6ba907c550b", "filename": "mk/dist.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77/mk%2Fdist.mk", "raw_url": "https://github.com/rust-lang/rust/raw/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77/mk%2Fdist.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdist.mk?ref=fed56b07ba5308851e5a0db0e6e43c23f5d3ed77", "patch": "@@ -62,9 +62,9 @@ nsis-dist: $(PKG_EXE)\n \n lic.txt: $(S)LICENSE.txt\n \t@$(call E, crlf: $@)\n-\t@$(Q)perl -pe 's@\\n@\\r\\n@go' <$< >$@\n+\t@$(Q)perl -pe 's@\\r\\n|\\n@\\r\\n@go' <$< >$@\n \n-$(PKG_EXE): $(PKG_NSI) $(PKG_FILES) $(DOCS) $(SREQ3) lic.txt\n+$(PKG_EXE): $(PKG_NSI) $(PKG_FILES) $(DOCS) $(SREQ3$(CFG_HOST_TRIPLE)) lic.txt\n \t@$(call E, makensis: $@)\n \t$(Q)makensis -NOCD -V1 \"-XOutFile $@\" \"-XLicenseData lic.txt\" $<\n \t$(Q)rm -f lic.txt"}, {"sha": "5c8dd8aa9a07118fd7c3ad4113df4f4ccdb9a28a", "filename": "src/etc/pkg/rust.nsi", "status": "modified", "additions": 13, "deletions": 10, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77/src%2Fetc%2Fpkg%2Frust.nsi", "raw_url": "https://github.com/rust-lang/rust/raw/fed56b07ba5308851e5a0db0e6e43c23f5d3ed77/src%2Fetc%2Fpkg%2Frust.nsi", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fpkg%2Frust.nsi?ref=fed56b07ba5308851e5a0db0e6e43c23f5d3ed77", "patch": "@@ -10,26 +10,29 @@ ShowUninstDetails \"show\"\n SetCompressor \"lzma\"\n LicenseForceSelection checkbox\n \n+InstallDir $PROGRAMFILES\\Rust\n+\n Page license\n-Page components\n Page directory\n Page instfiles\n UninstPage uninstConfirm\n UninstPage instfiles\n \n \n Section \"Compiler\"\n-    SetOutPath $INSTDIR\n-    File /oname=rustc.exe     stage3\\rustc.exe\n-    File /oname=rustllvm.dll  stage3\\rustllvm.dll\n-    File /oname=rustrt.dll    stage3\\rustrt.dll\n-    File /oname=std.dll       stage3\\std.dll\n+    SetOutPath $INSTDIR\\bin\n+    File /oname=rustc.exe      stage3\\bin\\rustc.exe\n \n     SetOutPath $INSTDIR\\lib\n-    File /oname=rustrt.dll   stage3\\lib\\rustrt.dll\n-    File /oname=std.dll      stage3\\lib\\std.dll\n-    File /oname=main.o       stage3\\lib\\main.o\n-    File /oname=glue.o       stage3\\lib\\glue.o\n+    File /oname=rustllvm.dll   stage3\\lib\\rustllvm.dll\n+    File /oname=rustrt.dll     stage3\\lib\\rustrt.dll\n+    File /oname=std.dll        stage3\\lib\\std.dll\n+\n+    SetOutPath $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\n+    File /oname=rustrt.dll    stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\rustrt.dll\n+    File /oname=std.dll       stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\std.dll\n+    File /oname=main.o        stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\main.o\n+    File /oname=intrinsics.bc stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\intrinsics.bc\n SectionEnd\n \n Section \"Documentation\""}]}