{"sha": "a5084488f82477b29d504aff9d84299b5f8d528c", "node_id": "C_kwDOAAsO6NoAKGE1MDg0NDg4ZjgyNDc3YjI5ZDUwNGFmZjlkODQyOTliNWY4ZDUyOGM", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-02-09T05:12:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-02-09T05:12:18Z"}, "message": "Rollup merge of #93694 - jsha:font-sizes-spacing, r=GuillaumeGomez\n\nrustdoc: tweak line spacing and paragraph spacing for accessibility\n\nThe [W3C Web Content Accessibility Guidelines](https://www.w3.org/WAI/WCAG21/Understanding/visual-presentation.html) specify a minimum line spacing of 1.5 and a minimum paragraph spacing of 1.5 times the line spacing. Our current line spacing (implemented by line-height) is 1.4, so it's a small bump to go up to 1.5. Similarly, we have a paragraph spacing of 0.6em. Bump that to 0.75em (which is 1.5 times the 0.5em distance between lines).\n\nAlso, fix all the font sizes so instead of being round-ish numbers in rem (like 1.1rem, 1.2rem), they are round numbers in pixels: 16px, 18px, 20px, 22px, 24px. Ensure each font size is at least 2 pixels different than the nearest other font size, so distinctions can be clearly seen. Overall the font-sizes are mostly staying the same, being rounded up or down as appropriate. This will make reasoning about consistent layout sizes much easier.\n\nRemove a few unused styles.\n\nSimplify the display of the mobile-topbar location, by setting its margins to auto rather than trying to size it exactly to the topbar.\n\nPart of #59845.\n\nDemo: https://rustdoc.crud.net/jsha/font-sizes-spacing/std/string/struct.String.html\n\nr? `@GuillaumeGomez`", "tree": {"sha": "04a07bfb8799ddc4c89f53ed2966e79a13972765", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/04a07bfb8799ddc4c89f53ed2966e79a13972765"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a5084488f82477b29d504aff9d84299b5f8d528c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJiA00zCRBK7hj4Ov3rIwAAxE4IAHsey6ol7r8A3ctNKYmoY9Y3\nbJkp8aiS1+pronfn9yLSWcoQMErGr6m2RRFwNphhcp6U9YC/KI1+6IJAJc25IOgN\nqrUb0sKuHWQkk57pTkuCJxpHOKkBPXm9bzYWs29FzR9NLyvJWLw2lXKl+is05KK+\nzUtKzQWlbRYnkJP9v6VYJzdfWFMEWHjQYJGd/NYC/W6dmBmLEMCySgI/4pYs3tvI\nL+r8/4ziRjnKt1YKl4m5G5eyedMJnBgLCkm3FyMQnUg+37NzB6BFQVURavLgSmna\n+jJiNp30oBIEmiFibHtUyBj8SnGyGUJmncRSBsoZxEWNtsNabVbWGGOQNV3MVwQ=\n=fJN3\n-----END PGP SIGNATURE-----\n", "payload": "tree 04a07bfb8799ddc4c89f53ed2966e79a13972765\nparent ec2fd8a35fcd271458dc5fa462ef74bcb372f6c7\nparent dd5ff428edbc7cd4fa600b81f27bbec28589704f\nauthor Yuki Okushi <jtitor@2k36.org> 1644383538 +0900\ncommitter GitHub <noreply@github.com> 1644383538 +0900\n\nRollup merge of #93694 - jsha:font-sizes-spacing, r=GuillaumeGomez\n\nrustdoc: tweak line spacing and paragraph spacing for accessibility\n\nThe [W3C Web Content Accessibility Guidelines](https://www.w3.org/WAI/WCAG21/Understanding/visual-presentation.html) specify a minimum line spacing of 1.5 and a minimum paragraph spacing of 1.5 times the line spacing. Our current line spacing (implemented by line-height) is 1.4, so it's a small bump to go up to 1.5. Similarly, we have a paragraph spacing of 0.6em. Bump that to 0.75em (which is 1.5 times the 0.5em distance between lines).\n\nAlso, fix all the font sizes so instead of being round-ish numbers in rem (like 1.1rem, 1.2rem), they are round numbers in pixels: 16px, 18px, 20px, 22px, 24px. Ensure each font size is at least 2 pixels different than the nearest other font size, so distinctions can be clearly seen. Overall the font-sizes are mostly staying the same, being rounded up or down as appropriate. This will make reasoning about consistent layout sizes much easier.\n\nRemove a few unused styles.\n\nSimplify the display of the mobile-topbar location, by setting its margins to auto rather than trying to size it exactly to the topbar.\n\nPart of #59845.\n\nDemo: https://rustdoc.crud.net/jsha/font-sizes-spacing/std/string/struct.String.html\n\nr? `@GuillaumeGomez`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a5084488f82477b29d504aff9d84299b5f8d528c", "html_url": "https://github.com/rust-lang/rust/commit/a5084488f82477b29d504aff9d84299b5f8d528c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a5084488f82477b29d504aff9d84299b5f8d528c/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ec2fd8a35fcd271458dc5fa462ef74bcb372f6c7", "url": "https://api.github.com/repos/rust-lang/rust/commits/ec2fd8a35fcd271458dc5fa462ef74bcb372f6c7", "html_url": "https://github.com/rust-lang/rust/commit/ec2fd8a35fcd271458dc5fa462ef74bcb372f6c7"}, {"sha": "dd5ff428edbc7cd4fa600b81f27bbec28589704f", "url": "https://api.github.com/repos/rust-lang/rust/commits/dd5ff428edbc7cd4fa600b81f27bbec28589704f", "html_url": "https://github.com/rust-lang/rust/commit/dd5ff428edbc7cd4fa600b81f27bbec28589704f"}], "stats": {"total": 202, "additions": 96, "deletions": 106}, "files": [{"sha": "04112c9779b36dc584a17626dbd88ddfac7ce1be", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 52, "deletions": 60, "changes": 112, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -108,7 +108,9 @@ html {\n /* General structure and fonts */\n \n body {\n-\tfont: 1rem/1.4 \"Source Serif 4\", NanumBarunGothic, serif;\n+\t/* Line spacing at least 1.5 per Web Content Accessibility Guidelines\n+\t   https://www.w3.org/WAI/WCAG21/Understanding/visual-presentation.html */\n+\tfont: 1rem/1.5 \"Source Serif 4\", NanumBarunGothic, serif;\n \tmargin: 0;\n \tposition: relative;\n \t/* We use overflow-wrap: break-word for Safari, which doesn't recognize\n@@ -124,13 +126,13 @@ body {\n }\n \n h1 {\n-\tfont-size: 1.5rem;\n+\tfont-size: 1.5rem; /* 24px */\n }\n h2 {\n-\tfont-size: 1.4rem;\n+\tfont-size: 1.375rem; /* 22px */\n }\n h3 {\n-\tfont-size: 1.3rem;\n+\tfont-size: 1.25rem; /* 20px */\n }\n h1, h2, h3, h4, h5, h6 {\n \tfont-weight: 500;\n@@ -170,7 +172,7 @@ h2,\n \tborder-bottom: 1px solid;\n }\n h3.code-header {\n-\tfont-size: 1.1rem;\n+\tfont-size: 1.125rem; /* 18px */\n }\n h4.code-header {\n \tfont-size: 1rem;\n@@ -221,19 +223,18 @@ a.srclink,\n \tfont-family: \"Fira Sans\", Arial, NanumBarunGothic, sans-serif;\n }\n \n-.content ul.crate a.crate {\n-\tfont-size: 1rem/1.6;\n-}\n-\n ol, ul {\n-\tpadding-left: 25px;\n+\tpadding-left: 24px;\n }\n ul ul, ol ul, ul ol, ol ol {\n-\tmargin-bottom: .6em;\n+\tmargin-bottom: .625em;\n }\n \n p {\n-\tmargin: 0 0 .6em 0;\n+\t/* Paragraph spacing at least 1.5 times line spacing per Web Content Accessibility Guidelines.\n+\t   Line-height is 1.5rem, so line spacing is .5rem; .75em is 1.5 times that.\n+\t   https://www.w3.org/WAI/WCAG21/Understanding/visual-presentation.html */\n+\tmargin: 0 0 .75em 0;\n }\n \n summary {\n@@ -303,7 +304,7 @@ code, pre, a.test-arrow, .code-header {\n }\n .docblock code, .docblock-short code {\n \tborder-radius: 3px;\n-\tpadding: 0 0.1em;\n+\tpadding: 0 0.125em;\n }\n .docblock pre code, .docblock-short pre code {\n \tpadding: 0;\n@@ -364,7 +365,7 @@ nav.sub {\n }\n \n .sidebar {\n-\tfont-size: 0.9rem;\n+\tfont-size: 0.875rem;\n \twidth: 250px;\n \tmin-width: 200px;\n \toverflow-y: scroll;\n@@ -476,8 +477,8 @@ nav.sub {\n .block a,\n h2.location a {\n \tdisplay: block;\n-\tpadding: 0.3rem;\n-\tmargin-left: -0.3rem;\n+\tpadding: 0.25rem;\n+\tmargin-left: -0.25rem;\n \n \ttext-overflow: ellipsis;\n \toverflow: hidden;\n@@ -497,7 +498,7 @@ h2.location a {\n }\n \n .sidebar h3 {\n-\tfont-size: 1.1rem;\n+\tfont-size: 1.125rem; /* 18px */\n \tfont-weight: 500;\n \tpadding: 0;\n \tmargin: 0;\n@@ -598,18 +599,18 @@ h2.location a {\n \twhite-space: pre-wrap;\n }\n \n-.top-doc .docblock h2 { font-size: 1.3rem; }\n-.top-doc .docblock h3 { font-size: 1.15rem; }\n+.top-doc .docblock h2 { font-size: 1.375rem; }\n+.top-doc .docblock h3 { font-size: 1.25; }\n .top-doc .docblock h4,\n .top-doc .docblock h5 {\n-\tfont-size: 1.1rem;\n+\tfont-size: 1.125rem;\n }\n .top-doc .docblock h6 {\n \tfont-size: 1rem;\n }\n \n .docblock h5 { font-size: 1rem; }\n-.docblock h6 { font-size: 0.95rem; }\n+.docblock h6 { font-size: 0.875rem; }\n \n .docblock {\n \tmargin-left: 24px;\n@@ -623,12 +624,12 @@ h2.location a {\n \n .content .out-of-band {\n \tflex-grow: 0;\n-\tfont-size: 1.15rem;\n+\tfont-size: 1.125rem;\n \tfont-weight: normal;\n \tfloat: right;\n }\n \n-.method > .code-header, .trait-impl > .code-header, .invisible > .code-header {\n+.method > .code-header, .trait-impl > .code-header {\n \tmax-width: calc(100% - 41px);\n \tdisplay: block;\n }\n@@ -664,7 +665,7 @@ h2.location a {\n .content td { vertical-align: top; }\n .content td:first-child { padding-right: 20px; }\n .content td p:first-child { margin-top: 0; }\n-.content td h1, .content td h2 { margin-left: 0; font-size: 1.1rem; }\n+.content td h1, .content td h2 { margin-left: 0; font-size: 1.125rem; }\n .content tr:first-child td { border-top: 0; }\n \n .docblock table {\n@@ -713,7 +714,7 @@ h2.location a {\n .content .fn .where,\n .content .where.fmt-newline {\n \tdisplay: block;\n-\tfont-size: 0.8rem;\n+\tfont-size: 0.875rem;\n }\n \n .content .methods > div:not(.notable-traits):not(.method) {\n@@ -736,7 +737,7 @@ h2.location a {\n }\n \n .content .item-info code {\n-\tfont-size: 0.81rem;\n+\tfont-size: 0.875rem;\n }\n \n .content .item-info {\n@@ -839,15 +840,6 @@ h2.small-section-header > .anchor {\n \ttext-decoration: underline;\n }\n \n-.invisible > .srclink,\n-.method > .code-header + .srclink {\n-\tposition: absolute;\n-\ttop: 0;\n-\tright: 0;\n-\tfont-size: 1.0625rem;\n-\tfont-weight: normal;\n-}\n-\n .block a.current.crate { font-weight: 500; }\n \n /*  In most contexts we use `overflow-wrap: anywhere` to ensure that we can wrap\n@@ -885,7 +877,7 @@ table,\n \tdisplay: table-cell;\n }\n .item-left {\n-\tpadding-right: 1.2rem;\n+\tpadding-right: 1.25rem;\n }\n \n .search-container {\n@@ -907,8 +899,8 @@ table,\n #crate-search {\n \tmin-width: 115px;\n \tmargin-top: 5px;\n-\tmargin-left: 0.2em;\n-\tpadding-left: 0.3em;\n+\tmargin-left: 0.25em;\n+\tpadding-left: 0.3125em;\n \tpadding-right: 23px;\n \tborder: 0;\n \tborder-radius: 4px;\n@@ -942,7 +934,7 @@ table,\n \tborder: 1px solid;\n \tborder-radius: 2px;\n \tpadding: 5px 8px;\n-\tfont-size: 1.0625rem;\n+\tfont-size: 1rem;\n \ttransition: border-color 300ms ease;\n \twidth: 100%;\n }\n@@ -1054,15 +1046,15 @@ body.blur > :not(#help) {\n .stab {\n \tpadding: 3px;\n \tmargin-bottom: 5px;\n-\tfont-size: 0.9rem;\n+\tfont-size: 0.875rem;\n \tfont-weight: normal;\n }\n .stab p {\n \tdisplay: inline;\n }\n \n .stab .emoji {\n-\tfont-size: 1.2rem;\n+\tfont-size: 1.25rem;\n }\n \n /* Black one-pixel outline around emoji shapes */\n@@ -1078,10 +1070,10 @@ body.blur > :not(#help) {\n .import-item .stab {\n \tborder-radius: 3px;\n \tdisplay: inline-block;\n-\tfont-size: 0.8rem;\n+\tfont-size: 0.875rem;\n \tline-height: 1.2;\n \tmargin-bottom: 0;\n-\tmargin-left: .3em;\n+\tmargin-left: 0.3125em;\n \tpadding: 2px;\n \tvertical-align: text-bottom;\n }\n@@ -1107,9 +1099,6 @@ body.blur > :not(#help) {\n \tfont-weight: normal;\n \tfont-size: 1rem;\n }\n-.impl .srclink {\n-\tfont-size: 1.0625rem;\n-}\n \n .rightside {\n \tfloat: right;\n@@ -1141,7 +1130,7 @@ a.test-arrow {\n \tposition: absolute;\n \tpadding: 5px 10px 5px 10px;\n \tborder-radius: 5px;\n-\tfont-size: 1.3rem;\n+\tfont-size: 1.375rem;\n \ttop: 5px;\n \tright: 5px;\n \tz-index: 1;\n@@ -1179,7 +1168,7 @@ a.test-arrow:hover{\n \n h3.variant {\n \tfont-weight: 600;\n-\tfont-size: 1.1rem;\n+\tfont-size: 1.125rem;\n \tmargin-bottom: 10px;\n \tborder-bottom: none;\n }\n@@ -1391,7 +1380,7 @@ pre.rust {\n \tleft: 0;\n \tcursor: pointer;\n \tfont-weight: bold;\n-\tfont-size: 1.2rem;\n+\tfont-size: 1.25rem;\n \tborder-bottom: 1px solid;\n \tdisplay: flex;\n \theight: 40px;\n@@ -1516,12 +1505,9 @@ kbd {\n }\n .table-display .out-of-band {\n \tposition: relative;\n-\tfont-size: 1.1875rem;\n+\tfont-size: 1.125rem;\n \tdisplay: block;\n }\n-#implementors-list > .impl-items .table-display .out-of-band {\n-\tfont-size: 1.0625rem;\n-}\n \n .table-display td:hover .anchor {\n \tdisplay: block;\n@@ -1562,7 +1548,7 @@ div.name.expand + .children {\n div.name::before {\n \tcontent: \"\\25B6\";\n \tpadding-left: 4px;\n-\tfont-size: 0.7rem;\n+\tfont-size: 0.625rem;\n \tposition: absolute;\n \tleft: -16px;\n \ttop: 4px;\n@@ -1595,8 +1581,8 @@ details.rustdoc-toggle > summary.hideme > span {\n details.rustdoc-toggle > summary::before {\n \tcontent: \"\";\n \tcursor: pointer;\n-\twidth: 17px;\n-\theight: max(17px, 1.1em);\n+\twidth: 16px;\n+\theight: 16px;\n \tbackground-repeat: no-repeat;\n \tbackground-position: top left;\n \tdisplay: inline-block;\n@@ -1643,7 +1629,7 @@ details.rustdoc-toggle > summary.hideme::before {\n details.rustdoc-toggle > summary:not(.hideme)::before {\n \tposition: absolute;\n \tleft: -24px;\n-\ttop: 3px;\n+\ttop: 4px;\n }\n \n .impl-items > details.rustdoc-toggle > summary:not(.hideme)::before {\n@@ -1680,8 +1666,8 @@ details.undocumented > summary::before, details.rustdoc-toggle > summary::before\n \n details.rustdoc-toggle[open] > summary::before,\n details.rustdoc-toggle[open] > summary.hideme::before {\n-\twidth: 17px;\n-\theight: max(17px, 1.1em);\n+\twidth: 16px;\n+\theight: 16px;\n \tbackground-repeat: no-repeat;\n \tbackground-position: top left;\n \tdisplay: inline-block;\n@@ -1808,8 +1794,14 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t\twidth: 0;\n \t}\n \n+\t.mobile-topbar .location a {\n+\t\tpadding: 0;\n+\t\tmargin: 0;\n+\t}\n+\n \t.mobile-topbar .location {\n \t\tborder: none;\n+\t\tpadding: 0;\n \t\tmargin: auto 0.5em auto auto;\n \t\ttext-overflow: ellipsis;\n \t\toverflow: hidden;\n@@ -1818,7 +1810,7 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t\t   height is specified in pixels, this also has to be specified in\n \t\t   pixels to avoid overflowing the topbar when the user sets a bigger\n \t\t   font size. */\n-\t\tfont-size: 22.4px;\n+\t\tfont-size: 24px;\n \t}\n \n \t.mobile-topbar .logo-container {"}, {"sha": "02f79f1fcd7748524796cef14370341a26f4ee4c", "filename": "src/test/rustdoc-gui/docblock-big-code-mobile.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fdocblock-big-code-mobile.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fdocblock-big-code-mobile.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fdocblock-big-code-mobile.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -6,4 +6,4 @@ goto: file://|DOC_PATH|/test_docs/long_code_block/index.html\n show-text: true // We need to enable text draw to be able to have the \"real\" size\n // Little explanations for this test: if the text wasn't displayed on two lines, it would take\n // around 20px (which is the font size).\n-assert-property: (\".docblock p > code\", {\"offsetHeight\": \"42\"})\n+assert-property: (\".docblock p > code\", {\"offsetHeight\": \"44\"})"}, {"sha": "8f126d98fe44d4d4f846b1871057166f2923adea", "filename": "src/test/rustdoc-gui/headings.goml", "status": "modified", "additions": 35, "deletions": 36, "changes": 71, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fheadings.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fheadings.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fheadings.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -6,34 +6,33 @@\n // Most of these sizes are set in CSS in `em` units, so here's a conversion chart based on our\n // default 16px font size:\n // 24px    1.5em\n-// 22.4px  1.4em\n-// 20.8px  1.3em\n-// 18.4px  1.15em\n-// 17.6px  1.1em\n-// 16px    1em\n-// 15.2px  0.95em  \n+// 22px  1.375rem\n+// 20px  1.25rem\n+// 18px  1.125em\n+// 16px  1rem\n+// 14px  0.875rem\n goto: file://|DOC_PATH|/test_docs/struct.HeavilyDocumentedStruct.html\n \n assert-css: (\"h1.fqn\", {\"font-size\": \"24px\"})\n \n-assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"20.8px\"})\n+assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#top-doc-prose-title\", {\"border-bottom-width\": \"1px\"})\n-assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"18.4px\"})\n+assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"20px\"})\n assert-css: (\"h3#top-doc-prose-sub-heading\", {\"border-bottom-width\": \"1px\"})\n-assert-css: (\"h4#top-doc-prose-sub-sub-heading\", {\"font-size\": \"17.6px\"})\n+assert-css: (\"h4#top-doc-prose-sub-sub-heading\", {\"font-size\": \"18px\"})\n assert-css: (\"h4#top-doc-prose-sub-sub-heading\", {\"border-bottom-width\": \"1px\"})\n \n-assert-css: (\"h2#fields\", {\"font-size\": \"22.4px\"})\n+assert-css: (\"h2#fields\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#fields\", {\"border-bottom-width\": \"1px\"})\n-assert-css: (\"h3#title-for-field\", {\"font-size\": \"20.8px\"})\n+assert-css: (\"h3#title-for-field\", {\"font-size\": \"20px\"})\n assert-css: (\"h3#title-for-field\", {\"border-bottom-width\": \"0px\"})\n assert-css: (\"h4#sub-heading-for-field\", {\"font-size\": \"16px\"})\n assert-css: (\"h4#sub-heading-for-field\", {\"border-bottom-width\": \"0px\"})\n \n-assert-css: (\"h2#implementations\", {\"font-size\": \"22.4px\"})\n+assert-css: (\"h2#implementations\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#implementations\", {\"border-bottom-width\": \"1px\"})\n \n-assert-css: (\"#impl > h3.code-header\", {\"font-size\": \"17.6px\"})\n+assert-css: (\"#impl > h3.code-header\", {\"font-size\": \"18px\"})\n assert-css: (\"#impl > h3.code-header\", {\"border-bottom-width\": \"0px\"})\n assert-css: (\"#method\\.do_nothing > h4.code-header\", {\"font-size\": \"16px\"})\n assert-css: (\"#method\\.do_nothing > h4.code-header\", {\"border-bottom-width\": \"0px\"})\n@@ -42,27 +41,27 @@ assert-css: (\"h4#title-for-struct-impl-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h4#title-for-struct-impl-doc\", {\"border-bottom-width\": \"0px\"})\n assert-css: (\"h5#sub-heading-for-struct-impl-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h5#sub-heading-for-struct-impl-doc\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#sub-sub-heading-for-struct-impl-doc\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#sub-sub-heading-for-struct-impl-doc\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#sub-sub-heading-for-struct-impl-doc\", {\"border-bottom-width\": \"0px\"})\n \n assert-css: (\"h5#title-for-struct-impl-item-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h5#title-for-struct-impl-item-doc\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#sub-heading-for-struct-impl-item-doc\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#sub-heading-for-struct-impl-item-doc\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#sub-heading-for-struct-impl-item-doc\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#sub-sub-heading-for-struct-impl-item-doc\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#sub-sub-heading-for-struct-impl-item-doc\", {\"font-size\": \"14px\"})\n \n goto: file://|DOC_PATH|/test_docs/enum.HeavilyDocumentedEnum.html\n \n assert-css: (\"h1.fqn\", {\"font-size\": \"24px\"})\n \n-assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"20.8px\"})\n+assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#top-doc-prose-title\", {\"border-bottom-width\": \"1px\"})\n-assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"18.4px\"})\n+assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"20px\"})\n assert-css: (\"h3#top-doc-prose-sub-heading\", {\"border-bottom-width\": \"1px\"})\n-assert-css: (\"h4#top-doc-prose-sub-sub-heading\", {\"font-size\": \"17.6px\"})\n+assert-css: (\"h4#top-doc-prose-sub-sub-heading\", {\"font-size\": \"18px\"})\n assert-css: (\"h4#top-doc-prose-sub-sub-heading\", {\"border-bottom-width\": \"1px\"})\n \n-assert-css: (\"h2#variants\", {\"font-size\": \"22.4px\"})\n+assert-css: (\"h2#variants\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#variants\", {\"border-bottom-width\": \"1px\"})\n \n assert-css: (\"h4#none-prose-title\", {\"font-size\": \"16px\"})\n@@ -77,18 +76,18 @@ assert-css: (\"h5#wrapped-prose-sub-heading\", {\"border-bottom-width\": \"0px\"})\n \n assert-css: (\"h5#wrapped0-prose-title\", {\"font-size\": \"16px\"})\n assert-css: (\"h5#wrapped0-prose-title\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#wrapped0-prose-sub-heading\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#wrapped0-prose-sub-heading\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#wrapped0-prose-sub-heading\", {\"border-bottom-width\": \"0px\"})\n \n assert-css: (\"h5#structy-prose-title\", {\"font-size\": \"16px\"})\n assert-css: (\"h5#structy-prose-title\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#structy-prose-sub-heading\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#structy-prose-sub-heading\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#structy-prose-sub-heading\", {\"border-bottom-width\": \"0px\"})\n \n-assert-css: (\"h2#implementations\", {\"font-size\": \"22.4px\"})\n+assert-css: (\"h2#implementations\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#implementations\", {\"border-bottom-width\": \"1px\"})\n \n-assert-css: (\"#impl > h3.code-header\", {\"font-size\": \"17.6px\"})\n+assert-css: (\"#impl > h3.code-header\", {\"font-size\": \"18px\"})\n assert-css: (\"#impl > h3.code-header\", {\"border-bottom-width\": \"0px\"})\n assert-css: (\"#method\\.do_nothing > h4.code-header\", {\"font-size\": \"16px\"})\n assert-css: (\"#method\\.do_nothing > h4.code-header\", {\"border-bottom-width\": \"0px\"})\n@@ -97,14 +96,14 @@ assert-css: (\"h4#title-for-enum-impl-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h4#title-for-enum-impl-doc\", {\"border-bottom-width\": \"0px\"})\n assert-css: (\"h5#sub-heading-for-enum-impl-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h5#sub-heading-for-enum-impl-doc\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#sub-sub-heading-for-enum-impl-doc\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#sub-sub-heading-for-enum-impl-doc\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#sub-sub-heading-for-enum-impl-doc\", {\"border-bottom-width\": \"0px\"})\n \n assert-css: (\"h5#title-for-enum-impl-item-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h5#title-for-enum-impl-item-doc\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#sub-heading-for-enum-impl-item-doc\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#sub-heading-for-enum-impl-item-doc\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#sub-heading-for-enum-impl-item-doc\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#sub-sub-heading-for-enum-impl-item-doc\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#sub-sub-heading-for-enum-impl-item-doc\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#sub-sub-heading-for-enum-impl-item-doc\", {\"border-bottom-width\": \"0px\"})\n \n assert-text: (\".sidebar .others h3\", \"Modules\")\n@@ -114,23 +113,23 @@ goto: file://|DOC_PATH|/test_docs/union.HeavilyDocumentedUnion.html\n \n assert-css: (\"h1.fqn\", {\"font-size\": \"24px\"})\n \n-assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"20.8px\"})\n+assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#top-doc-prose-title\", {\"border-bottom-width\": \"1px\"})\n-assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"18.4px\"})\n+assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"20px\"})\n assert-css: (\"h3#top-doc-prose-sub-heading\", {\"border-bottom-width\": \"1px\"})\n \n-assert-css: (\"h2#fields\", {\"font-size\": \"22.4px\"})\n+assert-css: (\"h2#fields\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#fields\", {\"border-bottom-width\": \"1px\"})\n \n-assert-css: (\"h3#title-for-union-variant\", {\"font-size\": \"20.8px\"})\n+assert-css: (\"h3#title-for-union-variant\", {\"font-size\": \"20px\"})\n assert-css: (\"h3#title-for-union-variant\", {\"border-bottom-width\": \"0px\"})\n assert-css: (\"h4#sub-heading-for-union-variant\", {\"font-size\": \"16px\"})\n assert-css: (\"h4#sub-heading-for-union-variant\", {\"border-bottom-width\": \"0px\"})\n \n-assert-css: (\"h2#implementations\", {\"font-size\": \"22.4px\"})\n+assert-css: (\"h2#implementations\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#implementations\", {\"border-bottom-width\": \"1px\"})\n \n-assert-css: (\"#impl > h3.code-header\", {\"font-size\": \"17.6px\"})\n+assert-css: (\"#impl > h3.code-header\", {\"font-size\": \"18px\"})\n assert-css: (\"#impl > h3.code-header\", {\"border-bottom-width\": \"0px\"})\n assert-css: (\"h4#title-for-union-impl-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h4#title-for-union-impl-doc\", {\"border-bottom-width\": \"0px\"})\n@@ -139,16 +138,16 @@ assert-css: (\"h5#sub-heading-for-union-impl-doc\", {\"border-bottom-width\": \"0px\"}\n \n assert-css: (\"h5#title-for-union-impl-item-doc\", {\"font-size\": \"16px\"})\n assert-css: (\"h5#title-for-union-impl-item-doc\", {\"border-bottom-width\": \"0px\"})\n-assert-css: (\"h6#sub-heading-for-union-impl-item-doc\", {\"font-size\": \"15.2px\"})\n+assert-css: (\"h6#sub-heading-for-union-impl-item-doc\", {\"font-size\": \"14px\"})\n assert-css: (\"h6#sub-heading-for-union-impl-item-doc\", {\"border-bottom-width\": \"0px\"})\n \n goto: file://|DOC_PATH|/test_docs/macro.heavily_documented_macro.html\n \n assert-css: (\"h1.fqn\", {\"font-size\": \"24px\"})\n \n-assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"20.8px\"})\n+assert-css: (\"h2#top-doc-prose-title\", {\"font-size\": \"22px\"})\n assert-css: (\"h2#top-doc-prose-title\", {\"border-bottom-width\": \"1px\"})\n-assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"18.4px\"})\n+assert-css: (\"h3#top-doc-prose-sub-heading\", {\"font-size\": \"20px\"})\n assert-css: (\"h3#top-doc-prose-sub-heading\", {\"border-bottom-width\": \"1px\"})\n \n goto: file://|DOC_PATH|/staged_api/struct.Foo.html"}, {"sha": "7a32d9029103a4067696b73da350f76957c41c76", "filename": "src/test/rustdoc-gui/item-info-width.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fitem-info-width.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fitem-info-width.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fitem-info-width.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -4,5 +4,5 @@ goto: file://|DOC_PATH|/lib2/struct.Foo.html\n size: (1100, 800)\n // We check that \".item-info\" is bigger than its content.\n assert-css: (\".item-info\", {\"width\": \"790px\"})\n-assert-css: (\".item-info .stab\", {\"width\": \"341px\"})\n+assert-css: (\".item-info .stab\", {\"width\": \"340px\"})\n assert-position: (\".item-info .stab\", {\"x\": 295})"}, {"sha": "e70abcb83cf2beb76eacfd53d147aaa63d518abd", "filename": "src/test/rustdoc-gui/mobile.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fmobile.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fmobile.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fmobile.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -11,7 +11,7 @@ assert-css: (\".main-heading\", {\n   \"flex-direction\": \"column\"\n })\n \n-assert-property: (\".mobile-topbar h2.location\", {\"offsetHeight\": 48})\n+assert-property: (\".mobile-topbar h2.location\", {\"offsetHeight\": 36})\n \n // Note: We can't use assert-text here because the 'Since' is set by CSS and\n // is therefore not part of the DOM."}, {"sha": "0cb8e7763851c661c529540d7682b1915186c180", "filename": "src/test/rustdoc-gui/sidebar-source-code.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fsidebar-source-code.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fsidebar-source-code.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar-source-code.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -10,7 +10,7 @@ click: (10, 10)\n // We wait for the sidebar to be expanded (there is a 0.5s animation).\n wait-for: 600\n assert-css: (\"nav.sidebar.expanded\", {\"width\": \"300px\"})\n-assert-css: (\"nav.sidebar.expanded a\", {\"font-size\": \"14.4px\"})\n+assert-css: (\"nav.sidebar.expanded a\", {\"font-size\": \"14px\"})\n // We collapse the sidebar.\n click: (10, 10)\n // We wait for the sidebar to be collapsed (there is a 0.5s animation)."}, {"sha": "9505e00512f4ca4289a0b140eedbf10fde2be4de", "filename": "src/test/rustdoc-gui/sidebar.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -77,7 +77,7 @@ assert-text: (\"#functions + .item-table .item-left > a\", \"foo\")\n \n // Links to trait implementations in the sidebar should not wrap even if they are long.\n goto: file://|DOC_PATH|/lib2/struct.HasALongTraitWithParams.html\n-assert-property: (\".sidebar-links a\", {\"offsetHeight\": 30})\n+assert-property: (\".sidebar-links a\", {\"offsetHeight\": 29})\n \n // Test that clicking on of the \"In <module>\" headings in the sidebar links to the\n // appropriate anchor in index.html."}, {"sha": "0c01e25455486232a54522398f6bfad0afcee192", "filename": "src/test/rustdoc-gui/src-font-size.goml", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fsrc-font-size.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Fsrc-font-size.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc-font-size.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -4,9 +4,8 @@\n goto: file://|DOC_PATH|/test_docs/struct.Foo.html\n show-text: true\n // Check the impl headers.\n-assert-css: (\".impl.has-srclink .srclink\", {\"font-size\": \"17px\"}, ALL)\n-// The \".6\" part is because the font-size is actually \"1.1em\".\n-assert-css: (\".impl.has-srclink .code-header.in-band\", {\"font-size\": \"17.6px\"}, ALL)\n+assert-css: (\".impl.has-srclink .srclink\", {\"font-size\": \"16px\"}, ALL)\n+assert-css: (\".impl.has-srclink .code-header.in-band\", {\"font-size\": \"18px\"}, ALL)\n // Check the impl items.\n assert-css: (\".impl-items .has-srclink .srclink\", {\"font-size\": \"16px\"}, ALL)\n assert-css: (\".impl-items .has-srclink .code-header\", {\"font-size\": \"16px\"}, ALL)"}, {"sha": "22212a31728dca6dc06524be2c9cc60e216a10fc", "filename": "src/test/rustdoc-gui/type-declation-overflow.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a5084488f82477b29d504aff9d84299b5f8d528c/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml?ref=a5084488f82477b29d504aff9d84299b5f8d528c", "patch": "@@ -32,6 +32,6 @@ assert-property: (\".item-decl pre\", {\"scrollWidth\": \"950\"})\n size: (600, 600)\n goto: file://|DOC_PATH|/lib2/too_long/struct.SuperIncrediblyLongLongLongLongLongLongLongGigaGigaGigaMegaLongLongLongStructName.html\n // It shouldn't have an overflow in the topbar either.\n-assert-property: (\".mobile-topbar .location\", {\"scrollWidth\": \"493\"})\n-assert-property: (\".mobile-topbar .location\", {\"clientWidth\": \"493\"})\n+assert-property: (\".mobile-topbar .location\", {\"scrollWidth\": \"492\"})\n+assert-property: (\".mobile-topbar .location\", {\"clientWidth\": \"492\"})\n assert-css: (\".mobile-topbar .location\", {\"overflow-x\": \"hidden\"})"}]}