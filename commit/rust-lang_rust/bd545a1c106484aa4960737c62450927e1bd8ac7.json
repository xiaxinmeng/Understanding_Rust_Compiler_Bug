{"sha": "bd545a1c106484aa4960737c62450927e1bd8ac7", "node_id": "C_kwDOAAsO6NoAKGJkNTQ1YTFjMTA2NDg0YWE0OTYwNzM3YzYyNDUwOTI3ZTFiZDhhYzc", "commit": {"author": {"name": "David Barsky", "email": "me@davidbarsky.com", "date": "2023-03-14T16:49:35Z"}, "committer": {"name": "David Barsky", "email": "me@davidbarsky.com", "date": "2023-03-14T16:49:35Z"}, "message": "Address review comments", "tree": {"sha": "57ca8de6b5e150585b355d8317a7dba4040e55de", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/57ca8de6b5e150585b355d8317a7dba4040e55de"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd545a1c106484aa4960737c62450927e1bd8ac7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd545a1c106484aa4960737c62450927e1bd8ac7", "html_url": "https://github.com/rust-lang/rust/commit/bd545a1c106484aa4960737c62450927e1bd8ac7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd545a1c106484aa4960737c62450927e1bd8ac7/comments", "author": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidbarsky", "id": 2067774, "node_id": "MDQ6VXNlcjIwNjc3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2067774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidbarsky", "html_url": "https://github.com/davidbarsky", "followers_url": "https://api.github.com/users/davidbarsky/followers", "following_url": "https://api.github.com/users/davidbarsky/following{/other_user}", "gists_url": "https://api.github.com/users/davidbarsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidbarsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidbarsky/subscriptions", "organizations_url": "https://api.github.com/users/davidbarsky/orgs", "repos_url": "https://api.github.com/users/davidbarsky/repos", "events_url": "https://api.github.com/users/davidbarsky/events{/privacy}", "received_events_url": "https://api.github.com/users/davidbarsky/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "78aed305e1980ccf70c2b3f1405db38521a11d54", "url": "https://api.github.com/repos/rust-lang/rust/commits/78aed305e1980ccf70c2b3f1405db38521a11d54", "html_url": "https://github.com/rust-lang/rust/commit/78aed305e1980ccf70c2b3f1405db38521a11d54"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "9a576570beb6d1c381536d69d9be24ce9d30377b", "filename": "editors/code/src/client.ts", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bd545a1c106484aa4960737c62450927e1bd8ac7/editors%2Fcode%2Fsrc%2Fclient.ts", "raw_url": "https://github.com/rust-lang/rust/raw/bd545a1c106484aa4960737c62450927e1bd8ac7/editors%2Fcode%2Fsrc%2Fclient.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fclient.ts?ref=bd545a1c106484aa4960737c62450927e1bd8ac7", "patch": "@@ -96,7 +96,9 @@ export async function createClient(\n                     if (resp && Array.isArray(resp)) {\n                         return resp.map((val) => {\n                             return prepareVSCodeConfig(val, (key, cfg) => {\n-                                cfg[key] = config.discoveredWorkspaces;\n+                                if (key === \"linkedProjects\") {\n+                                    cfg[key] = config.discoveredWorkspaces;\n+                                }\n                             });\n                         });\n                     } else {"}, {"sha": "da7c74c28bae901a8a3dcb3cb0924da57a53ec5b", "filename": "editors/code/src/config.ts", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bd545a1c106484aa4960737c62450927e1bd8ac7/editors%2Fcode%2Fsrc%2Fconfig.ts", "raw_url": "https://github.com/rust-lang/rust/raw/bd545a1c106484aa4960737c62450927e1bd8ac7/editors%2Fcode%2Fsrc%2Fconfig.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fconfig.ts?ref=bd545a1c106484aa4960737c62450927e1bd8ac7", "patch": "@@ -287,6 +287,14 @@ export class Config {\n     }\n }\n \n+// the optional `cb?` parameter is meant to be used to add additional\n+// key/value pairs to the VS Code configuration. This needed for, e.g.,\n+// including a `rust-project.json` into the `linkedProjects` key as part\n+// of the configuration/InitializationParams _without_ causing VS Code\n+// configuration to be written out to workspace-level settings. This is\n+// undesirable behavior because rust-project.json files can be tens of\n+// thousands of lines of JSON, most of which is not meant for humans\n+// to interact with.\n export function prepareVSCodeConfig<T>(\n     resp: T,\n     cb?: (key: Extract<keyof T, string>, res: { [key: string]: any }) => void"}]}