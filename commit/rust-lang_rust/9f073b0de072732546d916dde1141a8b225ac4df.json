{"sha": "9f073b0de072732546d916dde1141a8b225ac4df", "node_id": "C_kwDOAAsO6NoAKDlmMDczYjBkZTA3MjczMjU0NmQ5MTZkZGUxMTQxYThiMjI1YWM0ZGY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-09-19T15:55:20Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-19T15:55:20Z"}, "message": "Rollup merge of #101904 - Rageking8:fix-101712, r=oli-obk\n\nAdd help for invalid inline argument\n\nFixes #101712\n\nRemoved 1 part of the test as its identical with another one. Do let me know if this is undesirable, so I can revert those changes.", "tree": {"sha": "c4b9f474f4f6b21db015f20ee56107d497370bcb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c4b9f474f4f6b21db015f20ee56107d497370bcb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9f073b0de072732546d916dde1141a8b225ac4df", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjKJDoCRBK7hj4Ov3rIwAAzLgIAE8oEzWczXbHcbLuAO1xtUVW\nSG6MBfpQgiCJ6Kk8xvzHrZJ+BuYglyBEm3Ih3/Uo8UYweLKhTXMO1ZOXu7P3gIdU\n9obqTBO/iLgoamVoC64Vf/GxxCyNzKOGAXrq552socTlCIoliqNI0XwqKKeyTnA0\noz3F197kF5m+hHMABzNlAvX9TDVtx/ku2wlmscNWYCVrCfej19CZ1goWrv6towd1\n6ZA5xX68rGSFC170vZUYX7w5WQ5lHt/HeQQHyYvqwkBuoTjpEpC8b2WxWP2K+p69\niy33pVrNxf01GuwtgbpKH0YRN2l9pNgInFR5WNxd8LkUbhLbPNk2QIDKZ0byJp8=\n=pqSb\n-----END PGP SIGNATURE-----\n", "payload": "tree c4b9f474f4f6b21db015f20ee56107d497370bcb\nparent 7697a244cc45e9f48c9786b401464370041deaf5\nparent b248a6faf9bcf5f2e309f3c0414172917af64cf7\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1663602920 +0200\ncommitter GitHub <noreply@github.com> 1663602920 +0200\n\nRollup merge of #101904 - Rageking8:fix-101712, r=oli-obk\n\nAdd help for invalid inline argument\n\nFixes #101712\n\nRemoved 1 part of the test as its identical with another one. Do let me know if this is undesirable, so I can revert those changes.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9f073b0de072732546d916dde1141a8b225ac4df", "html_url": "https://github.com/rust-lang/rust/commit/9f073b0de072732546d916dde1141a8b225ac4df", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9f073b0de072732546d916dde1141a8b225ac4df/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7697a244cc45e9f48c9786b401464370041deaf5", "url": "https://api.github.com/repos/rust-lang/rust/commits/7697a244cc45e9f48c9786b401464370041deaf5", "html_url": "https://github.com/rust-lang/rust/commit/7697a244cc45e9f48c9786b401464370041deaf5"}, {"sha": "b248a6faf9bcf5f2e309f3c0414172917af64cf7", "url": "https://api.github.com/repos/rust-lang/rust/commits/b248a6faf9bcf5f2e309f3c0414172917af64cf7", "html_url": "https://github.com/rust-lang/rust/commit/b248a6faf9bcf5f2e309f3c0414172917af64cf7"}], "stats": {"total": 27, "additions": 9, "deletions": 18}, "files": [{"sha": "afc8a9600ad48d4c0c2e524ea39f10fe861ca41d", "filename": "compiler/rustc_typeck/src/collect.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9f073b0de072732546d916dde1141a8b225ac4df/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f073b0de072732546d916dde1141a8b225ac4df/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs?ref=9f073b0de072732546d916dde1141a8b225ac4df", "patch": "@@ -3154,6 +3154,7 @@ fn codegen_fn_attrs(tcx: TyCtxt<'_>, did: DefId) -> CodegenFnAttrs {\n                         E0535,\n                         \"invalid argument\"\n                     )\n+                    .help(\"valid inline arguments are `always` and `never`\")\n                     .emit();\n \n                     InlineAttr::None"}, {"sha": "2501b1e23f2f14737c12a963ef5b72345bc63749", "filename": "src/test/ui/invalid/invalid-inline.rs", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9f073b0de072732546d916dde1141a8b225ac4df/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f073b0de072732546d916dde1141a8b225ac4df/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.rs?ref=9f073b0de072732546d916dde1141a8b225ac4df", "patch": "@@ -1,19 +1,14 @@\n #![allow(dead_code)]\n \n-#[inline(please_no)] //~ ERROR invalid argument\n-fn a() {\n-}\n-\n #[inline(please,no)] //~ ERROR expected one argument\n-fn b() {\n+fn a() {\n }\n \n #[inline()] //~ ERROR expected one argument\n-fn c() {\n+fn b() {\n }\n \n fn main() {\n     a();\n     b();\n-    c();\n }"}, {"sha": "7edbf936b1b4d2948958951be3111243a18f9b81", "filename": "src/test/ui/invalid/invalid-inline.stderr", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/9f073b0de072732546d916dde1141a8b225ac4df/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9f073b0de072732546d916dde1141a8b225ac4df/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finvalid%2Finvalid-inline.stderr?ref=9f073b0de072732546d916dde1141a8b225ac4df", "patch": "@@ -1,22 +1,15 @@\n-error[E0535]: invalid argument\n-  --> $DIR/invalid-inline.rs:3:10\n-   |\n-LL | #[inline(please_no)]\n-   |          ^^^^^^^^^\n-\n error[E0534]: expected one argument\n-  --> $DIR/invalid-inline.rs:7:1\n+  --> $DIR/invalid-inline.rs:3:1\n    |\n LL | #[inline(please,no)]\n    | ^^^^^^^^^^^^^^^^^^^^\n \n error[E0534]: expected one argument\n-  --> $DIR/invalid-inline.rs:11:1\n+  --> $DIR/invalid-inline.rs:7:1\n    |\n LL | #[inline()]\n    | ^^^^^^^^^^^\n \n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n \n-Some errors have detailed explanations: E0534, E0535.\n-For more information about an error, try `rustc --explain E0534`.\n+For more information about this error, try `rustc --explain E0534`."}, {"sha": "b1411bc436ae2f4edbd9049fa75d7219d9d380f0", "filename": "src/test/ui/span/E0535.stderr", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9f073b0de072732546d916dde1141a8b225ac4df/src%2Ftest%2Fui%2Fspan%2FE0535.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9f073b0de072732546d916dde1141a8b225ac4df/src%2Ftest%2Fui%2Fspan%2FE0535.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0535.stderr?ref=9f073b0de072732546d916dde1141a8b225ac4df", "patch": "@@ -3,6 +3,8 @@ error[E0535]: invalid argument\n    |\n LL | #[inline(unknown)]\n    |          ^^^^^^^\n+   |\n+   = help: valid inline arguments are `always` and `never`\n \n error: aborting due to previous error\n "}]}