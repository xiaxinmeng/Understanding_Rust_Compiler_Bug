{"sha": "6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "node_id": "C_kwDOAAsO6NoAKDZlNWY5MGFlNDZkZDI5MGFlYTI4NzA2N2NmNjA4M2QyZDAyZjNiZjU", "commit": {"author": {"name": "Nicholas Nethercote", "email": "n.nethercote@gmail.com", "date": "2022-08-11T11:06:11Z"}, "committer": {"name": "Nicholas Nethercote", "email": "n.nethercote@gmail.com", "date": "2022-08-16T01:10:13Z"}, "message": "Shrink `ast::Attribute`.", "tree": {"sha": "5f347c4aa619d526b068a7337b6d681a3e0b53b0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5f347c4aa619d526b068a7337b6d681a3e0b53b0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "html_url": "https://github.com/rust-lang/rust/commit/6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/comments", "author": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86a0a181793aa348f544fdb4136db7ce190fbc25", "url": "https://api.github.com/repos/rust-lang/rust/commits/86a0a181793aa348f544fdb4136db7ce190fbc25", "html_url": "https://github.com/rust-lang/rust/commit/86a0a181793aa348f544fdb4136db7ce190fbc25"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "20cc330e035f8990563c10bdfd313dedcfc15fa5", "filename": "clippy_lints/src/crate_in_macro_def.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_lints%2Fsrc%2Fcrate_in_macro_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_lints%2Fsrc%2Fcrate_in_macro_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcrate_in_macro_def.rs?ref=6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "patch": "@@ -74,8 +74,8 @@ impl EarlyLintPass for CrateInMacroDef {\n \n fn is_macro_export(attr: &Attribute) -> bool {\n     if_chain! {\n-        if let AttrKind::Normal(attr_item, _) = &attr.kind;\n-        if let [segment] = attr_item.path.segments.as_slice();\n+        if let AttrKind::Normal(normal) = &attr.kind;\n+        if let [segment] = normal.item.path.segments.as_slice();\n         then {\n             segment.ident.name == sym::macro_export\n         } else {"}, {"sha": "493991f30e8720fe16be776ffb29d71f96acbc32", "filename": "clippy_utils/src/ast_utils.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_utils%2Fsrc%2Fast_utils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_utils%2Fsrc%2Fast_utils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fast_utils.rs?ref=6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "patch": "@@ -695,7 +695,7 @@ pub fn eq_attr(l: &Attribute, r: &Attribute) -> bool {\n     l.style == r.style\n         && match (&l.kind, &r.kind) {\n             (DocComment(l1, l2), DocComment(r1, r2)) => l1 == r1 && l2 == r2,\n-            (Normal(l, _), Normal(r, _)) => eq_path(&l.path, &r.path) && eq_mac_args(&l.args, &r.args),\n+            (Normal(l), Normal(r)) => eq_path(&l.item.path, &r.item.path) && eq_mac_args(&l.item.args, &r.item.args),\n             _ => false,\n         }\n }"}, {"sha": "8ab77c88166365eecc83f35968e83e3d17ac1b0b", "filename": "clippy_utils/src/attrs.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_utils%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_utils%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fattrs.rs?ref=6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "patch": "@@ -59,8 +59,8 @@ pub fn get_attr<'a>(\n     name: &'static str,\n ) -> impl Iterator<Item = &'a ast::Attribute> {\n     attrs.iter().filter(move |attr| {\n-        let attr = if let ast::AttrKind::Normal(ref attr, _) = attr.kind {\n-            attr\n+        let attr = if let ast::AttrKind::Normal(ref normal) = attr.kind {\n+            &normal.item\n         } else {\n             return false;\n         };"}, {"sha": "f716f009ff3f5c23c238b7e28f2a3cf435fe012e", "filename": "clippy_utils/src/lib.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6e5f90ae46dd290aea287067cf6083d2d02f3bf5/clippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Flib.rs?ref=6e5f90ae46dd290aea287067cf6083d2d02f3bf5", "patch": "@@ -1893,8 +1893,8 @@ pub fn std_or_core(cx: &LateContext<'_>) -> Option<&'static str> {\n \n pub fn is_no_std_crate(cx: &LateContext<'_>) -> bool {\n     cx.tcx.hir().attrs(hir::CRATE_HIR_ID).iter().any(|attr| {\n-        if let ast::AttrKind::Normal(ref attr, _) = attr.kind {\n-            attr.path == sym::no_std\n+        if let ast::AttrKind::Normal(ref normal) = attr.kind {\n+            normal.item.path == sym::no_std\n         } else {\n             false\n         }\n@@ -1903,8 +1903,8 @@ pub fn is_no_std_crate(cx: &LateContext<'_>) -> bool {\n \n pub fn is_no_core_crate(cx: &LateContext<'_>) -> bool {\n     cx.tcx.hir().attrs(hir::CRATE_HIR_ID).iter().any(|attr| {\n-        if let ast::AttrKind::Normal(ref attr, _) = attr.kind {\n-            attr.path == sym::no_core\n+        if let ast::AttrKind::Normal(ref normal) = attr.kind {\n+            normal.item.path == sym::no_core\n         } else {\n             false\n         }"}]}