{"sha": "1738273ac3663263f049b65d7821928fa1330403", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3MzgyNzNhYzM2NjMyNjNmMDQ5YjY1ZDc4MjE5MjhmYTEzMzA0MDM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-04-26T01:50:21Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-04-26T01:50:21Z"}, "message": "Rollup merge of #60259 - sd234678:60181-derive-default-lints, r=Centril\n\nDerive Default instead of new in applicable lint\n\nCloses #60181\n\nAs far as I can see, at least within the `src/librustc_lint` directory this is the only place this is applicable.", "tree": {"sha": "0856d9a3fc5b2e9138858f703a43999bd70a357d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0856d9a3fc5b2e9138858f703a43999bd70a357d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1738273ac3663263f049b65d7821928fa1330403", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcwmPdCRBK7hj4Ov3rIwAAdHIIAIV9UjAF6GlWu08gABmCRyg7\nIG2Sair2+YCEwk/cxOSJ/QKicDtgEfhn2LyajpAMgt0+QQHxCzR9EXmSKVODN3AE\nUzGMsybpRZ61uQJLwYfrKStMb45c4emVSQS8OjAWA00rg4l8gUVkT7ZQTDl9O/p7\nuObfh6OyhEHhbAxRLH8g2cpldFjQc7usS5SqYkEatVvOt0uUI/5262286ycCthYf\nMXgmLrqxhgSdQrDvsNvFVpVN2SWdLh0gtqitOH86fP1sEGr59BWQTaZRye3oVQPw\nkcng3cOmTYJQlzw5o29WSc91WH7tJ3tWxas1QrdnvxvOhZMiPEtTefI1KcCqk/A=\n=ijAB\n-----END PGP SIGNATURE-----\n", "payload": "tree 0856d9a3fc5b2e9138858f703a43999bd70a357d\nparent 4d9d84999e6c0d97f1c445a70085e444d6f11717\nparent ef37f38726658dc51e3306171595d638eba4006d\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1556243421 +0200\ncommitter GitHub <noreply@github.com> 1556243421 +0200\n\nRollup merge of #60259 - sd234678:60181-derive-default-lints, r=Centril\n\nDerive Default instead of new in applicable lint\n\nCloses #60181\n\nAs far as I can see, at least within the `src/librustc_lint` directory this is the only place this is applicable.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1738273ac3663263f049b65d7821928fa1330403", "html_url": "https://github.com/rust-lang/rust/commit/1738273ac3663263f049b65d7821928fa1330403", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1738273ac3663263f049b65d7821928fa1330403/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4d9d84999e6c0d97f1c445a70085e444d6f11717", "url": "https://api.github.com/repos/rust-lang/rust/commits/4d9d84999e6c0d97f1c445a70085e444d6f11717", "html_url": "https://github.com/rust-lang/rust/commit/4d9d84999e6c0d97f1c445a70085e444d6f11717"}, {"sha": "ef37f38726658dc51e3306171595d638eba4006d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ef37f38726658dc51e3306171595d638eba4006d", "html_url": "https://github.com/rust-lang/rust/commit/ef37f38726658dc51e3306171595d638eba4006d"}], "stats": {"total": 20, "additions": 4, "deletions": 16}, "files": [{"sha": "47c1c16f1f828b3a530db7ef9b3f9f4be46c6a06", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 2, "deletions": 14, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/1738273ac3663263f049b65d7821928fa1330403/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1738273ac3663263f049b65d7821928fa1330403/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=1738273ac3663263f049b65d7821928fa1330403", "patch": "@@ -542,18 +542,13 @@ declare_lint! {\n     \"detects missing implementations of fmt::Debug\"\n }\n \n+#[derive(Default)]\n pub struct MissingDebugImplementations {\n     impling_types: Option<HirIdSet>,\n }\n \n impl_lint_pass!(MissingDebugImplementations => [MISSING_DEBUG_IMPLEMENTATIONS]);\n \n-impl MissingDebugImplementations {\n-    pub fn new() -> MissingDebugImplementations {\n-        MissingDebugImplementations { impling_types: None }\n-    }\n-}\n-\n impl<'a, 'tcx> LateLintPass<'a, 'tcx> for MissingDebugImplementations {\n     fn check_item(&mut self, cx: &LateContext<'_, '_>, item: &hir::Item) {\n         if !cx.access_levels.is_reachable(item.hir_id) {\n@@ -1285,6 +1280,7 @@ declare_lint! {\n     \"`...` range patterns are deprecated\"\n }\n \n+#[derive(Default)]\n pub struct EllipsisInclusiveRangePatterns {\n     /// If `Some(_)`, suppress all subsequent pattern\n     /// warnings for better diagnostics.\n@@ -1293,14 +1289,6 @@ pub struct EllipsisInclusiveRangePatterns {\n \n impl_lint_pass!(EllipsisInclusiveRangePatterns => [ELLIPSIS_INCLUSIVE_RANGE_PATTERNS]);\n \n-impl EllipsisInclusiveRangePatterns {\n-    pub fn new() -> Self {\n-        Self {\n-            node_id: None,\n-        }\n-    }\n-}\n-\n impl EarlyLintPass for EllipsisInclusiveRangePatterns {\n     fn check_pat(&mut self, cx: &EarlyContext<'_>, pat: &ast::Pat) {\n         if self.node_id.is_some() {"}, {"sha": "7d23da857bbbb35d26f4a4bf3f6860aef0d44c40", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1738273ac3663263f049b65d7821928fa1330403/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1738273ac3663263f049b65d7821928fa1330403/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=1738273ac3663263f049b65d7821928fa1330403", "patch": "@@ -94,7 +94,7 @@ macro_rules! early_lint_passes {\n             UnusedImportBraces: UnusedImportBraces,\n             UnsafeCode: UnsafeCode,\n             AnonymousParameters: AnonymousParameters,\n-            EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns::new(),\n+            EllipsisInclusiveRangePatterns: EllipsisInclusiveRangePatterns::default(),\n             NonCamelCaseTypes: NonCamelCaseTypes,\n             DeprecatedAttr: DeprecatedAttr::new(),\n         ]);\n@@ -132,7 +132,7 @@ macro_rules! late_lint_passes {\n             // Depends on access levels\n             // FIXME: Turn the computation of types which implement Debug into a query\n             // and change this to a module lint pass\n-            MissingDebugImplementations: MissingDebugImplementations::new(),\n+            MissingDebugImplementations: MissingDebugImplementations::default(),\n         ]);\n     )\n }"}]}