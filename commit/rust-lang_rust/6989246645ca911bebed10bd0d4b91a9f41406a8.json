{"sha": "6989246645ca911bebed10bd0d4b91a9f41406a8", "node_id": "C_kwDOAAsO6NoAKDY5ODkyNDY2NDVjYTkxMWJlYmVkMTBiZDBkNGI5MWE5ZjQxNDA2YTg", "commit": {"author": {"name": "vlad20012", "email": "beskvlad@gmail.com", "date": "2023-05-09T16:50:13Z"}, "committer": {"name": "vlad20012", "email": "beskvlad@gmail.com", "date": "2023-05-09T16:50:13Z"}, "message": "Reduce BitSet size used in `Borrows` dataflow analysis", "tree": {"sha": "494a2ffe889bcda9e4fbd12611c337c6ae1926d1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/494a2ffe889bcda9e4fbd12611c337c6ae1926d1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6989246645ca911bebed10bd0d4b91a9f41406a8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERcui/VYSaOw9QCPjWOYu0xqLOZkFAmRaecUACgkQWOYu0xqL\nOZlL4A/+Law2U3DfIh1tZV6wCM+KsFXTdcFtYlrSRBtsBaJ9r415OCEwKV0mJO+c\nOG21a1HflddlBnY61iiJ/V9j7H0bCpYyKtFO1ZnlsvujzvtijEeg0YLO3GLfP5sE\nRMSlNZr+8cxjRi9Ni6OyPtr9IjwkVrFfh5fW1KYu0RJX/OKT12bD5TqXUgeQRXvJ\nogeWQG0osetnFri1Spp2+dXvh8LbGINI3LuPgSja306/htYTncpHuQzUeN+28YgU\nV+ysjHdUFk43ShviyLi+cl2FQ4ZJv3cpbosDLVxdnRbzdBbXrBZRmnJ3KI9yjIjq\nelzpI4f25tDxlrzDuofU6dvjakZ2ycFbXO7cgV0y5h2J3Bc7fUHbV2A4azOXkH/m\n31BHQGv0idFufHED/aKdB+foQlu8ALd3z5CVlr35B/TunC5jZA9MLEZQEzpuOLcz\nz7pBa38oWq/WYUKFv4ZGRJTsnGgxfxeZoXnIy4/7Bf3uvkbTfUYi3jlLlBez5Kg2\ncxltuLI2hgLIQgPeRmUv3HrkIbCrvSJHsYjJlOIC31VxWM14eOR2ybeyhFVUkoco\ns4pzX17TzD1Ug/QSunSLwrdjC+eXp6rX6SM/EEwKcUJ0xjRe/k60v/5/lakZ0QQS\nwCVTbK1sofFBSW2SrS8I7UBGAinOuezg1xnJWMeoyEMeEF0fO60=\n=CuCh\n-----END PGP SIGNATURE-----", "payload": "tree 494a2ffe889bcda9e4fbd12611c337c6ae1926d1\nparent f7b831ac8a897273f78b9f47165cf8e54066ce4b\nauthor vlad20012 <beskvlad@gmail.com> 1683651013 +0200\ncommitter vlad20012 <beskvlad@gmail.com> 1683651013 +0200\n\nReduce BitSet size used in `Borrows` dataflow analysis\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6989246645ca911bebed10bd0d4b91a9f41406a8", "html_url": "https://github.com/rust-lang/rust/commit/6989246645ca911bebed10bd0d4b91a9f41406a8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6989246645ca911bebed10bd0d4b91a9f41406a8/comments", "author": {"login": "vlad20012", "id": 3221931, "node_id": "MDQ6VXNlcjMyMjE5MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3221931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vlad20012", "html_url": "https://github.com/vlad20012", "followers_url": "https://api.github.com/users/vlad20012/followers", "following_url": "https://api.github.com/users/vlad20012/following{/other_user}", "gists_url": "https://api.github.com/users/vlad20012/gists{/gist_id}", "starred_url": "https://api.github.com/users/vlad20012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vlad20012/subscriptions", "organizations_url": "https://api.github.com/users/vlad20012/orgs", "repos_url": "https://api.github.com/users/vlad20012/repos", "events_url": "https://api.github.com/users/vlad20012/events{/privacy}", "received_events_url": "https://api.github.com/users/vlad20012/received_events", "type": "User", "site_admin": false}, "committer": {"login": "vlad20012", "id": 3221931, "node_id": "MDQ6VXNlcjMyMjE5MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3221931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vlad20012", "html_url": "https://github.com/vlad20012", "followers_url": "https://api.github.com/users/vlad20012/followers", "following_url": "https://api.github.com/users/vlad20012/following{/other_user}", "gists_url": "https://api.github.com/users/vlad20012/gists{/gist_id}", "starred_url": "https://api.github.com/users/vlad20012/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vlad20012/subscriptions", "organizations_url": "https://api.github.com/users/vlad20012/orgs", "repos_url": "https://api.github.com/users/vlad20012/repos", "events_url": "https://api.github.com/users/vlad20012/events{/privacy}", "received_events_url": "https://api.github.com/users/vlad20012/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f7b831ac8a897273f78b9f47165cf8e54066ce4b", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7b831ac8a897273f78b9f47165cf8e54066ce4b", "html_url": "https://github.com/rust-lang/rust/commit/f7b831ac8a897273f78b9f47165cf8e54066ce4b"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "167f245361a2294610c9109a75c65db53e56be17", "filename": "compiler/rustc_borrowck/src/dataflow.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6989246645ca911bebed10bd0d4b91a9f41406a8/compiler%2Frustc_borrowck%2Fsrc%2Fdataflow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6989246645ca911bebed10bd0d4b91a9f41406a8/compiler%2Frustc_borrowck%2Fsrc%2Fdataflow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdataflow.rs?ref=6989246645ca911bebed10bd0d4b91a9f41406a8", "patch": "@@ -328,7 +328,7 @@ impl<'tcx> rustc_mir_dataflow::AnalysisDomain<'tcx> for Borrows<'_, 'tcx> {\n \n     fn bottom_value(&self, _: &mir::Body<'tcx>) -> Self::Domain {\n         // bottom = nothing is reserved or activated yet;\n-        BitSet::new_empty(self.borrow_set.len() * 2)\n+        BitSet::new_empty(self.borrow_set.len())\n     }\n \n     fn initialize_start_block(&self, _: &mir::Body<'tcx>, _: &mut Self::Domain) {"}]}