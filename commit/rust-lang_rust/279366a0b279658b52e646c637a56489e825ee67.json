{"sha": "279366a0b279658b52e646c637a56489e825ee67", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3OTM2NmEwYjI3OTY1OGI1MmU2NDZjNjM3YTU2NDg5ZTgyNWVlNjc=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-01-14T03:44:18Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-01-14T03:45:37Z"}, "message": "mk: Make TESTNAME and VERBOSE work with android. Closes #10957", "tree": {"sha": "baf4ba33fbda91359994b8a32c08aabfbc7de234", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/baf4ba33fbda91359994b8a32c08aabfbc7de234"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/279366a0b279658b52e646c637a56489e825ee67", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/279366a0b279658b52e646c637a56489e825ee67", "html_url": "https://github.com/rust-lang/rust/commit/279366a0b279658b52e646c637a56489e825ee67", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/279366a0b279658b52e646c637a56489e825ee67/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab66f762548228a9491de8c955141b8d62b1f5fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab66f762548228a9491de8c955141b8d62b1f5fa", "html_url": "https://github.com/rust-lang/rust/commit/ab66f762548228a9491de8c955141b8d62b1f5fa"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "65cf751b57ba6ae8c6c377d122fb84b1b25a29c2", "filename": "mk/tests.mk", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/279366a0b279658b52e646c637a56489e825ee67/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/279366a0b279658b52e646c637a56489e825ee67/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=279366a0b279658b52e646c637a56489e825ee67", "patch": "@@ -445,17 +445,17 @@ check-stage$(1)-T-$(2)-H-$(3)-$(4)-exec: $$(call TEST_OK_FILE,$(1),$(2),$(3),$(4\n $$(call TEST_OK_FILE,$(1),$(2),$(3),$(4)): \\\n \t\t$(3)/stage$(1)/test/$(4)test-$(2)$$(X_$(2))\n \t@$$(call E, run: $$< via adb)\n-\t@$(CFG_ADB) push $$< $(CFG_ADB_TEST_DIR)\n-\t@$(CFG_ADB) shell '(cd $(CFG_ADB_TEST_DIR); LD_LIBRARY_PATH=. \\\n+\t$$(Q)$(CFG_ADB) push $$< $(CFG_ADB_TEST_DIR)\n+\t$$(Q)$(CFG_ADB) shell '(cd $(CFG_ADB_TEST_DIR); LD_LIBRARY_PATH=. \\\n \t\t./$$(notdir $$<) \\\n \t\t--logfile $(CFG_ADB_TEST_DIR)/check-stage$(1)-T-$(2)-H-$(3)-$(4).log \\\n-\t\t$$(call CRATE_TEST_EXTRA_ARGS,$(1),$(2),$(3),$(4)))' \\\n+\t\t$$(call CRATE_TEST_EXTRA_ARGS,$(1),$(2),$(3),$(4)) $(TESTARGS))' \\\n \t\t> tmp/check-stage$(1)-T-$(2)-H-$(3)-$(4).tmp\n-\t@cat tmp/check-stage$(1)-T-$(2)-H-$(3)-$(4).tmp\n-\t@touch tmp/check-stage$(1)-T-$(2)-H-$(3)-$(4).log\n-\t@$(CFG_ADB) pull $(CFG_ADB_TEST_DIR)/check-stage$(1)-T-$(2)-H-$(3)-$(4).log tmp/\n-\t@$(CFG_ADB) shell rm $(CFG_ADB_TEST_DIR)/check-stage$(1)-T-$(2)-H-$(3)-$(4).log\n-\t@$(CFG_ADB) pull $(CFG_ADB_TEST_DIR)/$$(call TEST_RATCHET_FILE,$(1),$(2),$(3),$(4)) tmp/\n+\t$$(Q)cat tmp/check-stage$(1)-T-$(2)-H-$(3)-$(4).tmp\n+\t$$(Q)touch tmp/check-stage$(1)-T-$(2)-H-$(3)-$(4).log\n+\t$$(Q)$(CFG_ADB) pull $(CFG_ADB_TEST_DIR)/check-stage$(1)-T-$(2)-H-$(3)-$(4).log tmp/\n+\t$$(Q)$(CFG_ADB) shell rm $(CFG_ADB_TEST_DIR)/check-stage$(1)-T-$(2)-H-$(3)-$(4).log\n+\t$$(Q)$(CFG_ADB) pull $(CFG_ADB_TEST_DIR)/$$(call TEST_RATCHET_FILE,$(1),$(2),$(3),$(4)) tmp/\n \t@if grep -q \"result: ok\" tmp/check-stage$(1)-T-$(2)-H-$(3)-$(4).tmp; \\\n \tthen \\\n \t\trm tmp/check-stage$(1)-T-$(2)-H-$(3)-$(4).tmp; \\"}]}