{"sha": "c411f13f65d13ad6bf6308c4d91f5c64177c5a37", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM0MTFmMTNmNjVkMTNhZDZiZjYzMDhjNGQ5MWY1YzY0MTc3YzVhMzc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-24T08:57:34Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-24T08:57:34Z"}, "message": "Auto merge of #26431 - GuillaumeGomez:patch-2, r=Manishearth\n\nPart of #24407.\r\ncc @michaelsproul", "tree": {"sha": "a861976061bbeb9c1cd865ce0ab6cece1f0e5a6f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a861976061bbeb9c1cd865ce0ab6cece1f0e5a6f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c411f13f65d13ad6bf6308c4d91f5c64177c5a37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c411f13f65d13ad6bf6308c4d91f5c64177c5a37", "html_url": "https://github.com/rust-lang/rust/commit/c411f13f65d13ad6bf6308c4d91f5c64177c5a37", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c411f13f65d13ad6bf6308c4d91f5c64177c5a37/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5fdb55187ba319801b60f1d8e777cebbde71715", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5fdb55187ba319801b60f1d8e777cebbde71715", "html_url": "https://github.com/rust-lang/rust/commit/d5fdb55187ba319801b60f1d8e777cebbde71715"}, {"sha": "3c987812569fbf4f590162d8324f026d53783bd1", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c987812569fbf4f590162d8324f026d53783bd1", "html_url": "https://github.com/rust-lang/rust/commit/3c987812569fbf4f590162d8324f026d53783bd1"}], "stats": {"total": 56, "additions": 54, "deletions": 2}, "files": [{"sha": "2c1b825f13a357bc2733d11730515e5071c1e993", "filename": "src/librustc_typeck/diagnostics.rs", "status": "modified", "additions": 54, "deletions": 2, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/c411f13f65d13ad6bf6308c4d91f5c64177c5a37/src%2Flibrustc_typeck%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c411f13f65d13ad6bf6308c4d91f5c64177c5a37/src%2Flibrustc_typeck%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fdiagnostics.rs?ref=c411f13f65d13ad6bf6308c4d91f5c64177c5a37", "patch": "@@ -380,6 +380,22 @@ fn main() {\n ```\n \"##,\n \n+E0044: r##\"\n+You can't use type parameters on foreign items. Example of erroneous code:\n+\n+```\n+extern { fn some_func<T>(x: T); }\n+```\n+\n+To fix this, replace the type parameter with the specializations that you\n+need:\n+\n+```\n+extern { fn some_func_i32(x: i32); }\n+extern { fn some_func_i64(x: i64); }\n+```\n+\"##,\n+\n E0045: r##\"\n Rust only supports variadic parameters for interoperability with C code in its\n FFI. As such, variadic parameters can only be used with functions which are\n@@ -733,6 +749,44 @@ fn some_func(x: &mut i32) {\n ```\n \"##,\n \n+E0071: r##\"\n+You tried to use a structure initialization with a non-structure type.\n+Example of erroneous code:\n+\n+```\n+enum Foo { FirstValue };\n+\n+let u = Foo::FirstValue { value: 0i32 }; // error: Foo::FirstValue\n+                                         // isn't a structure!\n+// or even simpler, if the structure wasn't defined at all:\n+let u = RandomName { random_field: 0i32 }; // error: RandomName\n+                                           // isn't a structure!\n+```\n+\n+To fix this, please check:\n+ * Did you spell it right?\n+ * Did you accidentaly used an enum as a struct?\n+ * Did you accidentaly make an enum when you intended to use a struct?\n+\n+Here is the previous code with all missing information:\n+\n+```\n+struct Inner {\n+    value: i32\n+}\n+\n+enum Foo {\n+    FirstValue(Inner)\n+}\n+\n+fn main() {\n+    let u = Foo::FirstValue(Inner { value: 0i32 });\n+\n+    let t = Inner { value: 0i32 };\n+}\n+```\n+\"##,\n+\n E0072: r##\"\n When defining a recursive struct or enum, any use of the type being defined\n from inside the definition must occur behind a pointer (like `Box` or `&`).\n@@ -1488,9 +1542,7 @@ For more information see the [opt-in builtin traits RFC](https://github.com/rust\n }\n \n register_diagnostics! {\n-    E0044, // foreign items may not have type parameters\n     E0068,\n-    E0071,\n     E0074,\n     E0075,\n     E0076,"}]}