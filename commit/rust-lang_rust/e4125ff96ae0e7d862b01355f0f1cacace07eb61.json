{"sha": "e4125ff96ae0e7d862b01355f0f1cacace07eb61", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0MTI1ZmY5NmFlMGU3ZDg2MmIwMTM1NWYwZjFjYWNhY2UwN2ViNjE=", "commit": {"author": {"name": "Seiichi Uchida", "email": "seiichi.uchida@dena.com", "date": "2018-06-05T06:56:51Z"}, "committer": {"name": "Seiichi Uchida", "email": "seiichi.uchida@dena.com", "date": "2018-06-05T06:56:51Z"}, "message": "Add a test for #2759", "tree": {"sha": "14467aae47b804599b6982635c6f015e62610005", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/14467aae47b804599b6982635c6f015e62610005"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4125ff96ae0e7d862b01355f0f1cacace07eb61", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4125ff96ae0e7d862b01355f0f1cacace07eb61", "html_url": "https://github.com/rust-lang/rust/commit/e4125ff96ae0e7d862b01355f0f1cacace07eb61", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4125ff96ae0e7d862b01355f0f1cacace07eb61/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d9149fb52e528c501ae2541748addea09ed054c3", "url": "https://api.github.com/repos/rust-lang/rust/commits/d9149fb52e528c501ae2541748addea09ed054c3", "html_url": "https://github.com/rust-lang/rust/commit/d9149fb52e528c501ae2541748addea09ed054c3"}], "stats": {"total": 64, "additions": 64, "deletions": 0}, "files": [{"sha": "3685afbdc0e72208fbbbaf57874ff365fdb03aff", "filename": "tests/target/issue-2759.rs", "status": "added", "additions": 64, "deletions": 0, "changes": 64, "blob_url": "https://github.com/rust-lang/rust/blob/e4125ff96ae0e7d862b01355f0f1cacace07eb61/tests%2Ftarget%2Fissue-2759.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4125ff96ae0e7d862b01355f0f1cacace07eb61/tests%2Ftarget%2Fissue-2759.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fissue-2759.rs?ref=e4125ff96ae0e7d862b01355f0f1cacace07eb61", "patch": "@@ -0,0 +1,64 @@\n+// rustfmt-wrap_comments: true\n+// rustfmt-max_width: 89\n+\n+// Code block in doc comments that will exceed max width.\n+/// ```rust\n+/// extern crate actix_web;\n+/// use actix_web::{actix, server, App, HttpResponse};\n+///\n+/// fn main() {\n+///     // Run actix system, this method actually starts all async processes\n+///     actix::System::run(|| {\n+///         server::new(|| App::new().resource(\"/\", |r| r.h(|_| HttpResponse::Ok())))\n+///             .bind(\"127.0.0.1:0\")\n+///             .expect(\"Can not bind to 127.0.0.1:0\")\n+///             .start();\n+/// #           actix::Arbiter::system().do_send(actix::msgs::SystemExit(0));\n+///     });\n+/// }\n+/// ```\n+fn foo() {}\n+\n+// Code block in doc comments without the closing '```'.\n+/// ```rust\n+/// # extern crate actix_web;\n+/// use actix_web::{App, HttpResponse, http};\n+///\n+/// fn main() {\n+///     let app = App::new()\n+///         .resource(\n+///             \"/\", |r| r.method(http::Method::GET).f(|r| HttpResponse::Ok()))\n+///         .finish();\n+/// }\n+fn bar() {}\n+\n+// `#` with indent.\n+/// ```rust\n+/// # use std::thread;\n+/// # extern crate actix_web;\n+/// use actix_web::{server, App, HttpResponse};\n+///\n+/// struct State1;\n+///\n+/// struct State2;\n+///\n+/// fn main() {\n+///     # thread::spawn(|| {\n+///     server::new(|| {\n+///         vec![\n+///             App::with_state(State1)\n+///                 .prefix(\"/app1\")\n+///                 .resource(\"/\", |r| r.f(|r| HttpResponse::Ok()))\n+///                 .boxed(),\n+///             App::with_state(State2)\n+///                 .prefix(\"/app2\")\n+///                 .resource(\"/\", |r| r.f(|r| HttpResponse::Ok()))\n+///                 .boxed(),\n+///         ]\n+///     }).bind(\"127.0.0.1:8080\")\n+///         .unwrap()\n+///         .run()\n+///     # });\n+/// }\n+/// ```\n+fn foobar() {}"}]}