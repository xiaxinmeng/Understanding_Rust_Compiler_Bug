{"sha": "79d27ccb586148eae822276d8513359c9a373f32", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5ZDI3Y2NiNTg2MTQ4ZWFlODIyMjc2ZDg1MTMzNTljOWEzNzNmMzI=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-04-26T18:48:07Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-04-26T20:08:48Z"}, "message": "stdlib: Add a silly ANSI color library", "tree": {"sha": "cc5d90b4dbb5ba71422deeac6c7f05d152402ea3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cc5d90b4dbb5ba71422deeac6c7f05d152402ea3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79d27ccb586148eae822276d8513359c9a373f32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79d27ccb586148eae822276d8513359c9a373f32", "html_url": "https://github.com/rust-lang/rust/commit/79d27ccb586148eae822276d8513359c9a373f32", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79d27ccb586148eae822276d8513359c9a373f32/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6b11f6c46fcece9dceb92cab009e1d9f42f9672e", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b11f6c46fcece9dceb92cab009e1d9f42f9672e", "html_url": "https://github.com/rust-lang/rust/commit/6b11f6c46fcece9dceb92cab009e1d9f42f9672e"}], "stats": {"total": 55, "additions": 55, "deletions": 0}, "files": [{"sha": "9bf90b1cdb0346186d4500db355c91a6c11b1e8c", "filename": "src/lib/Term.rs", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/79d27ccb586148eae822276d8513359c9a373f32/src%2Flib%2FTerm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79d27ccb586148eae822276d8513359c9a373f32/src%2Flib%2FTerm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2FTerm.rs?ref=79d27ccb586148eae822276d8513359c9a373f32", "patch": "@@ -0,0 +1,54 @@\n+// Simple ANSI color library.\n+//\n+// TODO: Windows support.\n+\n+const u8 color_black = 0u8;\n+const u8 color_red = 1u8;\n+const u8 color_green = 2u8;\n+const u8 color_yellow = 3u8;\n+const u8 color_blue = 4u8;\n+const u8 color_magenta = 5u8;\n+const u8 color_cyan = 6u8;\n+const u8 color_light_gray = 7u8;\n+const u8 color_light_grey = 7u8;\n+const u8 color_dark_gray = 8u8;\n+const u8 color_dark_grey = 8u8;\n+const u8 color_bright_red = 9u8;\n+const u8 color_bright_green = 10u8;\n+const u8 color_bright_yellow = 11u8;\n+const u8 color_bright_blue = 12u8;\n+const u8 color_bright_magenta = 13u8;\n+const u8 color_bright_cyan = 14u8;\n+const u8 color_bright_white = 15u8;\n+\n+fn esc(io.buf_writer writer) {\n+    writer.write(vec(0x1bu8, '[' as u8));\n+}\n+\n+fn reset(io.buf_writer writer) {\n+    esc(writer);\n+    writer.write(vec('0' as u8, 'm' as u8));\n+}\n+\n+fn set_color(io.buf_writer writer, u8 first_char, u8 color) {\n+    check (color < 16u8);\n+\n+    esc(writer);\n+    if (color >= 8u8) {\n+        writer.write(vec('1' as u8, ';' as u8));\n+        color -= 8u8;\n+    }\n+    writer.write(vec(first_char, ('0' as u8) + color, 'm' as u8));\n+}\n+\n+fn fg(io.buf_writer writer, u8 color) {\n+    ret set_color(writer, '3' as u8, color);\n+}\n+\n+fn bg(io.buf_writer writer, u8 color) {\n+    ret set_color(writer, '4' as u8, color);\n+}\n+\n+// export fg;\n+// export bg;\n+"}, {"sha": "8a9ee42d0da8da4f800edbc170082180eec4c6fe", "filename": "src/lib/std.rc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/79d27ccb586148eae822276d8513359c9a373f32/src%2Flib%2Fstd.rc", "raw_url": "https://github.com/rust-lang/rust/raw/79d27ccb586148eae822276d8513359c9a373f32/src%2Flib%2Fstd.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fstd.rc?ref=79d27ccb586148eae822276d8513359c9a373f32", "patch": "@@ -71,6 +71,7 @@ mod UFind;\n mod ExtFmt;\n mod Box;\n mod GetOpts;\n+mod Term;\n \n // Local Variables:\n // mode: rust;"}]}