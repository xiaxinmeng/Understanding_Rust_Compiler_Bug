{"sha": "36641ce8cde4b2a402cd50137521e8bb18476728", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM2NjQxY2U4Y2RlNGIyYTQwMmNkNTAxMzc1MjFlOGJiMTg0NzY3Mjg=", "commit": {"author": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2018-10-16T15:21:55Z"}, "committer": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2018-10-19T12:34:44Z"}, "message": "Remove unused box", "tree": {"sha": "877fb7fc62c1cf37a43283fdfcf2dc8230ed119c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/877fb7fc62c1cf37a43283fdfcf2dc8230ed119c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/36641ce8cde4b2a402cd50137521e8bb18476728", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/36641ce8cde4b2a402cd50137521e8bb18476728", "html_url": "https://github.com/rust-lang/rust/commit/36641ce8cde4b2a402cd50137521e8bb18476728", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/36641ce8cde4b2a402cd50137521e8bb18476728/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5075174c465ee868937517aba69ff5df5878a69d", "url": "https://api.github.com/repos/rust-lang/rust/commits/5075174c465ee868937517aba69ff5df5878a69d", "html_url": "https://github.com/rust-lang/rust/commit/5075174c465ee868937517aba69ff5df5878a69d"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "dc5f736172503be4805b680731c79dd72105aac1", "filename": "src/librustc/middle/dead.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/36641ce8cde4b2a402cd50137521e8bb18476728/src%2Flibrustc%2Fmiddle%2Fdead.rs", "raw_url": "https://github.com/rust-lang/rust/raw/36641ce8cde4b2a402cd50137521e8bb18476728/src%2Flibrustc%2Fmiddle%2Fdead.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fdead.rs?ref=36641ce8cde4b2a402cd50137521e8bb18476728", "patch": "@@ -50,8 +50,7 @@ struct MarkSymbolVisitor<'a, 'tcx: 'a> {\n     worklist: Vec<ast::NodeId>,\n     tcx: TyCtxt<'a, 'tcx, 'tcx>,\n     tables: &'a ty::TypeckTables<'tcx>,\n-    // TODO: remove this `Box`\n-    live_symbols: Box<FxHashSet<ast::NodeId>>,\n+    live_symbols: FxHashSet<ast::NodeId>,\n     repr_has_repr_c: bool,\n     in_pat: bool,\n     inherited_pub_visibility: bool,\n@@ -424,13 +423,13 @@ fn create_and_seed_worklist<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>,\n fn find_live<'a, 'tcx>(tcx: TyCtxt<'a, 'tcx, 'tcx>,\n                        access_levels: &privacy::AccessLevels,\n                        krate: &hir::Crate)\n-                       -> Box<FxHashSet<ast::NodeId>> {\n+                       -> FxHashSet<ast::NodeId> {\n     let worklist = create_and_seed_worklist(tcx, access_levels, krate);\n     let mut symbol_visitor = MarkSymbolVisitor {\n         worklist,\n         tcx,\n         tables: &ty::TypeckTables::empty(None),\n-        live_symbols: box Default::default(),\n+        live_symbols: Default::default(),\n         repr_has_repr_c: false,\n         in_pat: false,\n         inherited_pub_visibility: false,\n@@ -451,7 +450,7 @@ fn get_struct_ctor_id(item: &hir::Item) -> Option<ast::NodeId> {\n \n struct DeadVisitor<'a, 'tcx: 'a> {\n     tcx: TyCtxt<'a, 'tcx, 'tcx>,\n-    live_symbols: Box<FxHashSet<ast::NodeId>>,\n+    live_symbols: FxHashSet<ast::NodeId>,\n }\n \n impl<'a, 'tcx> DeadVisitor<'a, 'tcx> {"}]}