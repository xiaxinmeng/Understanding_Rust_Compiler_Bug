{"sha": "5be00bcd1835145ff71ec3539c2bf849da0e37ed", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViZTAwYmNkMTgzNTE0NWZmNzFlYzM1MzljMmJmODQ5ZGEwZTM3ZWQ=", "commit": {"author": {"name": "Fraser Hutchison", "email": "fraser.hutchison@maidsafe.net", "date": "2018-06-21T04:20:14Z"}, "committer": {"name": "Fraser Hutchison", "email": "fraser.hutchison@maidsafe.net", "date": "2018-06-21T04:20:14Z"}, "message": "Ensure a non-zero value is returned by clippy if compilation fails", "tree": {"sha": "e38f784eae8f72eafdb89d1f0abc84fe34dbfceb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e38f784eae8f72eafdb89d1f0abc84fe34dbfceb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5be00bcd1835145ff71ec3539c2bf849da0e37ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5be00bcd1835145ff71ec3539c2bf849da0e37ed", "html_url": "https://github.com/rust-lang/rust/commit/5be00bcd1835145ff71ec3539c2bf849da0e37ed", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5be00bcd1835145ff71ec3539c2bf849da0e37ed/comments", "author": null, "committer": null, "parents": [{"sha": "cd90441a73e52166bad2bba80040b1d2ed59efee", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd90441a73e52166bad2bba80040b1d2ed59efee", "html_url": "https://github.com/rust-lang/rust/commit/cd90441a73e52166bad2bba80040b1d2ed59efee"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "419f61f860b05ecc4cc171ac385258232e2c2841", "filename": "src/driver.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/5be00bcd1835145ff71ec3539c2bf849da0e37ed/src%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5be00bcd1835145ff71ec3539c2bf849da0e37ed/src%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver.rs?ref=5be00bcd1835145ff71ec3539c2bf849da0e37ed", "patch": "@@ -13,7 +13,7 @@ extern crate rustc_plugin;\n extern crate syntax;\n \n use rustc_driver::{driver::CompileController, Compilation};\n-use std::process::Command;\n+use std::process::{exit, Command};\n \n #[allow(print_stdout)]\n fn show_version() {\n@@ -133,5 +133,10 @@ pub fn main() {\n     }\n     controller.compilation_done.stop = Compilation::Stop;\n \n-    rustc_driver::run_compiler(&args, Box::new(controller), None, None);\n+    if rustc_driver::run_compiler(&args, Box::new(controller), None, None)\n+        .0\n+        .is_err()\n+    {\n+        exit(101);\n+    }\n }"}]}