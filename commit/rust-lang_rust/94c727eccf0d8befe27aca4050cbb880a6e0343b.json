{"sha": "94c727eccf0d8befe27aca4050cbb880a6e0343b", "node_id": "C_kwDOAAsO6NoAKDk0YzcyN2VjY2YwZDhiZWZlMjdhY2E0MDUwY2JiODgwYTZlMDM0M2I", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-03-20T17:26:09Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-03-20T19:36:08Z"}, "message": "Take &mut Diagnostic in emit_diagnostic.\n\nTaking a Diagnostic by move would break the usual pattern\n`diag.label(..).emit()`.", "tree": {"sha": "4490c853a95a35fb521d50a6563e7aa3ad275d17", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4490c853a95a35fb521d50a6563e7aa3ad275d17"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/94c727eccf0d8befe27aca4050cbb880a6e0343b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/94c727eccf0d8befe27aca4050cbb880a6e0343b", "html_url": "https://github.com/rust-lang/rust/commit/94c727eccf0d8befe27aca4050cbb880a6e0343b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/94c727eccf0d8befe27aca4050cbb880a6e0343b/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1f069c0ce7a2b0f48a9bae66fb201f4955836762", "url": "https://api.github.com/repos/rust-lang/rust/commits/1f069c0ce7a2b0f48a9bae66fb201f4955836762", "html_url": "https://github.com/rust-lang/rust/commit/1f069c0ce7a2b0f48a9bae66fb201f4955836762"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "855a6a6ef6adafd4aaa2dd5441189dce22e7b60d", "filename": "src/driver.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/94c727eccf0d8befe27aca4050cbb880a6e0343b/src%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/94c727eccf0d8befe27aca4050cbb880a6e0343b/src%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver.rs?ref=94c727eccf0d8befe27aca4050cbb880a6e0343b", "patch": "@@ -178,8 +178,8 @@ fn report_clippy_ice(info: &panic::PanicInfo<'_>, bug_report_url: &str) {\n     // a .span_bug or .bug call has already printed what\n     // it wants to print.\n     if !info.payload().is::<rustc_errors::ExplicitBug>() {\n-        let d = rustc_errors::Diagnostic::new(rustc_errors::Level::Bug, \"unexpected panic\");\n-        handler.emit_diagnostic(&d);\n+        let mut d = rustc_errors::Diagnostic::new(rustc_errors::Level::Bug, \"unexpected panic\");\n+        handler.emit_diagnostic(&mut d);\n     }\n \n     let version_info = rustc_tools_util::get_version_info!();"}]}