{"sha": "8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhjZTc2MWQ3NWVkNTEzMmM5MGJmZTI4ZTk4M2Q4MzAwN2I4Y2U3YzM=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2021-05-11T19:21:54Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2021-05-11T19:21:54Z"}, "message": "Updates to tests.", "tree": {"sha": "391380376353d3af844d75086843ac0be38b5210", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/391380376353d3af844d75086843ac0be38b5210"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "html_url": "https://github.com/rust-lang/rust/commit/8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "75d62931280ae8f2ad26b2812e151f8f49de407a", "url": "https://api.github.com/repos/rust-lang/rust/commits/75d62931280ae8f2ad26b2812e151f8f49de407a", "html_url": "https://github.com/rust-lang/rust/commit/75d62931280ae8f2ad26b2812e151f8f49de407a"}], "stats": {"total": 37, "additions": 20, "deletions": 17}, "files": [{"sha": "833cb26c1e5e35b614f8a3e5194b1d5507f9d48f", "filename": "src/test/pretty/ast-stmt-expr-attr.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fpretty%2Fast-stmt-expr-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fpretty%2Fast-stmt-expr-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fast-stmt-expr-attr.rs?ref=8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "patch": "@@ -43,10 +43,10 @@ fn syntax() {\n                     #![attr]\n                 };\n     let _ =\n-        #[attr] match true\n-                    {\n-                     #[attr]\n-                     _ => false,\n+        #[attr] match true {\n+                    #![attr]\n+                            #[attr]\n+                            _ => false,\n                 };\n     let _ = #[attr] || #[attr] foo;\n     let _ = #[attr] move || #[attr] foo;"}, {"sha": "231351433c8906fe47d52d9bcd6851cd4988da98", "filename": "src/test/pretty/stmt_expr_attributes.rs", "status": "modified", "additions": 14, "deletions": 3, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fpretty%2Fstmt_expr_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fpretty%2Fstmt_expr_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fstmt_expr_attributes.rs?ref=8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "patch": "@@ -41,9 +41,16 @@ fn _3() {\n fn _4() {\n \n     #[rustc_dummy]\n-    match () { _ => (), }\n+    match () {\n+        #![rustc_dummy]\n+        _ => (),\n+    }\n \n-    let _ = #[rustc_dummy] match () { () => (), };\n+    let _ =\n+        #[rustc_dummy] match () {\n+                           #![rustc_dummy]\n+                           () => (),\n+                       };\n }\n \n fn _5() {\n@@ -164,7 +171,11 @@ fn _11() {\n         #[rustc_dummy] loop  {\n                            #![rustc_dummy]\n                        };\n-    let _ = #[rustc_dummy] match false { _ => (), };\n+    let _ =\n+        #[rustc_dummy] match false {\n+                           #![rustc_dummy]\n+                           _ => (),\n+                       };\n     let _ = #[rustc_dummy] || #[rustc_dummy] ();\n     let _ = #[rustc_dummy] move || #[rustc_dummy] ();\n     let _ ="}, {"sha": "5e9d29a152f915bedcd49571d802f2fe7e9fa085", "filename": "src/test/ui/parser/stmt_expr_attrs_placement.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fui%2Fparser%2Fstmt_expr_attrs_placement.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fui%2Fparser%2Fstmt_expr_attrs_placement.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fstmt_expr_attrs_placement.rs?ref=8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "patch": "@@ -30,7 +30,7 @@ fn main() {\n     //~^ ERROR an inner attribute is not permitted in this context\n \n     let g = match true { #![allow(warnings)] _ => {} };\n-    //~^ ERROR an inner attribute is not permitted in this context\n+\n \n     struct MyStruct { field: u8 }\n     let h = MyStruct { #![allow(warnings)] field: 0 };"}, {"sha": "808903d9c62f3e559d80db61cc8eff9b05cf6fc3", "filename": "src/test/ui/parser/stmt_expr_attrs_placement.stderr", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fui%2Fparser%2Fstmt_expr_attrs_placement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8ce761d75ed5132c90bfe28e983d83007b8ce7c3/src%2Ftest%2Fui%2Fparser%2Fstmt_expr_attrs_placement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fstmt_expr_attrs_placement.stderr?ref=8ce761d75ed5132c90bfe28e983d83007b8ce7c3", "patch": "@@ -46,14 +46,6 @@ LL |     let f = [#![allow(warnings)] 1; 0];\n    |\n    = note: inner attributes, like `#![no_std]`, annotate the item enclosing them, and are usually found at the beginning of source files. Outer attributes, like `#[test]`, annotate the item following them.\n \n-error: an inner attribute is not permitted in this context\n-  --> $DIR/stmt_expr_attrs_placement.rs:32:26\n-   |\n-LL |     let g = match true { #![allow(warnings)] _ => {} };\n-   |                          ^^^^^^^^^^^^^^^^^^^\n-   |\n-   = note: inner attributes, like `#![no_std]`, annotate the item enclosing them, and are usually found at the beginning of source files. Outer attributes, like `#[test]`, annotate the item following them.\n-\n error: an inner attribute is not permitted in this context\n   --> $DIR/stmt_expr_attrs_placement.rs:36:24\n    |\n@@ -62,5 +54,5 @@ LL |     let h = MyStruct { #![allow(warnings)] field: 0 };\n    |\n    = note: inner attributes, like `#![no_std]`, annotate the item enclosing them, and are usually found at the beginning of source files. Outer attributes, like `#[test]`, annotate the item following them.\n \n-error: aborting due to 8 previous errors\n+error: aborting due to 7 previous errors\n "}]}