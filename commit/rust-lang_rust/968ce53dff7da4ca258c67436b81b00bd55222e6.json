{"sha": "968ce53dff7da4ca258c67436b81b00bd55222e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2OGNlNTNkZmY3ZGE0Y2EyNThjNjc0MzZiODFiMDBiZDU1MjIyZTY=", "commit": {"author": {"name": "Arcterus", "email": "Arcterus@mail.com", "date": "2014-02-06T03:51:22Z"}, "committer": {"name": "Arcterus", "email": "Arcterus@mail.com", "date": "2014-02-06T18:04:26Z"}, "message": "getopts: fixed a failing test", "tree": {"sha": "8d84b1a76935bd89013fde1b6ff88ded00a132e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8d84b1a76935bd89013fde1b6ff88ded00a132e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/968ce53dff7da4ca258c67436b81b00bd55222e6", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/968ce53dff7da4ca258c67436b81b00bd55222e6", "html_url": "https://github.com/rust-lang/rust/commit/968ce53dff7da4ca258c67436b81b00bd55222e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/968ce53dff7da4ca258c67436b81b00bd55222e6/comments", "author": {"login": "Arcterus", "id": 829813, "node_id": "MDQ6VXNlcjgyOTgxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/829813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Arcterus", "html_url": "https://github.com/Arcterus", "followers_url": "https://api.github.com/users/Arcterus/followers", "following_url": "https://api.github.com/users/Arcterus/following{/other_user}", "gists_url": "https://api.github.com/users/Arcterus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Arcterus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Arcterus/subscriptions", "organizations_url": "https://api.github.com/users/Arcterus/orgs", "repos_url": "https://api.github.com/users/Arcterus/repos", "events_url": "https://api.github.com/users/Arcterus/events{/privacy}", "received_events_url": "https://api.github.com/users/Arcterus/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Arcterus", "id": 829813, "node_id": "MDQ6VXNlcjgyOTgxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/829813?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Arcterus", "html_url": "https://github.com/Arcterus", "followers_url": "https://api.github.com/users/Arcterus/followers", "following_url": "https://api.github.com/users/Arcterus/following{/other_user}", "gists_url": "https://api.github.com/users/Arcterus/gists{/gist_id}", "starred_url": "https://api.github.com/users/Arcterus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Arcterus/subscriptions", "organizations_url": "https://api.github.com/users/Arcterus/orgs", "repos_url": "https://api.github.com/users/Arcterus/repos", "events_url": "https://api.github.com/users/Arcterus/events{/privacy}", "received_events_url": "https://api.github.com/users/Arcterus/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ce7019b8791b11283495493e1db45735480d9b2", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ce7019b8791b11283495493e1db45735480d9b2", "html_url": "https://github.com/rust-lang/rust/commit/2ce7019b8791b11283495493e1db45735480d9b2"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "e5e7c50d2cecd83363dacf8208e34a854ca06923", "filename": "src/libgetopts/lib.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/968ce53dff7da4ca258c67436b81b00bd55222e6/src%2Flibgetopts%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/968ce53dff7da4ca258c67436b81b00bd55222e6/src%2Flibgetopts%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgetopts%2Flib.rs?ref=968ce53dff7da4ca258c67436b81b00bd55222e6", "patch": "@@ -31,7 +31,7 @@\n //!\n //! ~~~{.rust}\n //! extern mod getopts;\n-//! use getopts::{optopt,optflag,getopts,Opt};\n+//! use getopts::{optopt,optflag,getopts,OptGroup};\n //! use std::os;\n //!\n //! fn do_work(inp: &str, out: Option<~str>) {\n@@ -42,7 +42,7 @@\n //!     }\n //! }\n //!\n-//! fn print_usage(program: &str, _opts: &[Opt]) {\n+//! fn print_usage(program: &str, _opts: &[OptGroup]) {\n //!     println!(\"Usage: {} [options]\", program);\n //!     println!(\"-o\\t\\tOutput\");\n //!     println!(\"-h --help\\tUsage\");\n@@ -54,15 +54,14 @@\n //!     let program = args[0].clone();\n //!\n //!     let opts = ~[\n-//!         optopt(\"o\"),\n-//!         optflag(\"h\"),\n-//!         optflag(\"help\")\n+//!         optopt(\"o\", \"\", \"set output file name\", \"NAME\"),\n+//!         optflag(\"h\", \"help\", \"print this help menu\")\n //!     ];\n //!     let matches = match getopts(args.tail(), opts) {\n //!         Ok(m) => { m }\n //!         Err(f) => { fail!(f.to_err_msg()) }\n //!     };\n-//!     if matches.opt_present(\"h\") || matches.opt_present(\"help\") {\n+//!     if matches.opt_present(\"h\") {\n //!         print_usage(program, opts);\n //!         return;\n //!     }"}]}