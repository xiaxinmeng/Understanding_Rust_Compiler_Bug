{"sha": "a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE0NWI3OWRkYjdlOGQ2NWMxMmQ1YjhmMmU0NmFjMjI2OThiZDEzNGU=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-03-15T17:49:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-03-15T17:49:38Z"}, "message": "Rollup merge of #48706 - ehuss:main-not-found-in-crate, r=estebank\n\nAdd crate name to \"main function not found\" error message.\n\nFixes #44798 and rust-lang/cargo#4948.\n\nI was wondering if it might be cleaner to update the ui tests to add a simple `fn main() {}` for the unrelated tests.  Let me know if you would prefer that.", "tree": {"sha": "ad28c105929e8eaa25c72ce7cf55feb4f228d9fd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad28c105929e8eaa25c72ce7cf55feb4f228d9fd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJaqrIyCRBK7hj4Ov3rIwAAdHIIADgh+lDlJIQcpgLIQbkG56qG\nTSjWQ8BHvTF4imicF9gEtPL2O7/zVz2bzRzxKCHLLIf/uTjAXpyaTaS/wo7/NUeR\nQVulMYsvclUgDr5utF1dlIL3TKMiQ8buUTAstVTSaNH84ZLP1Z1VAsVRZg7DlX+y\n0ZjztFLLKJaKIAhGe/7VLR5Bnm3CScwoLfkHjckoLBMtvR8j/FBtNgjS6rZphaAP\nD2t4c0NwYRv+iinQ0RAsD2BCgK2WSntLo5XsZSBy2zKi/IgE3jWbguCdrHDniWy6\nfEbKhlpl+Wy61EvBS+KUU/MFu83sGRxZU4SqBUiGFycNEZKbt1w/9SnNbAm1kT0=\n=RkAv\n-----END PGP SIGNATURE-----\n", "payload": "tree ad28c105929e8eaa25c72ce7cf55feb4f228d9fd\nparent ff2d506c2c748bd218f74c6014abc4cecc8c74c4\nparent 525727529492f30ef9d68467d5b8a7f18f65d743\nauthor kennytm <kennytm@gmail.com> 1521136178 +0800\ncommitter GitHub <noreply@github.com> 1521136178 +0800\n\nRollup merge of #48706 - ehuss:main-not-found-in-crate, r=estebank\n\nAdd crate name to \"main function not found\" error message.\n\nFixes #44798 and rust-lang/cargo#4948.\n\nI was wondering if it might be cleaner to update the ui tests to add a simple `fn main() {}` for the unrelated tests.  Let me know if you would prefer that.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "html_url": "https://github.com/rust-lang/rust/commit/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ff2d506c2c748bd218f74c6014abc4cecc8c74c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/ff2d506c2c748bd218f74c6014abc4cecc8c74c4", "html_url": "https://github.com/rust-lang/rust/commit/ff2d506c2c748bd218f74c6014abc4cecc8c74c4"}, {"sha": "525727529492f30ef9d68467d5b8a7f18f65d743", "url": "https://api.github.com/repos/rust-lang/rust/commits/525727529492f30ef9d68467d5b8a7f18f65d743", "html_url": "https://github.com/rust-lang/rust/commit/525727529492f30ef9d68467d5b8a7f18f65d743"}], "stats": {"total": 226, "additions": 117, "deletions": 109}, "files": [{"sha": "37d79f408f3f00a7ab1487869e690ce6a07672e1", "filename": "src/librustc/middle/entry.rs", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Flibrustc%2Fmiddle%2Fentry.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Flibrustc%2Fmiddle%2Fentry.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fentry.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -55,7 +55,9 @@ impl<'a, 'tcx> ItemLikeVisitor<'tcx> for EntryContext<'a, 'tcx> {\n     }\n }\n \n-pub fn find_entry_point(session: &Session, hir_map: &hir_map::Map) {\n+pub fn find_entry_point(session: &Session,\n+                        hir_map: &hir_map::Map,\n+                        crate_name: &str) {\n     let any_exe = session.crate_types.borrow().iter().any(|ty| {\n         *ty == config::CrateTypeExecutable\n     });\n@@ -81,7 +83,7 @@ pub fn find_entry_point(session: &Session, hir_map: &hir_map::Map) {\n \n     hir_map.krate().visit_all_item_likes(&mut ctxt);\n \n-    configure_main(&mut ctxt);\n+    configure_main(&mut ctxt, crate_name);\n }\n \n // Beware, this is duplicated in libsyntax/entry.rs, make sure to keep\n@@ -150,7 +152,7 @@ fn find_item(item: &Item, ctxt: &mut EntryContext, at_root: bool) {\n     }\n }\n \n-fn configure_main(this: &mut EntryContext) {\n+fn configure_main(this: &mut EntryContext, crate_name: &str) {\n     if this.start_fn.is_some() {\n         *this.session.entry_fn.borrow_mut() = this.start_fn;\n         this.session.entry_type.set(Some(config::EntryStart));\n@@ -162,7 +164,8 @@ fn configure_main(this: &mut EntryContext) {\n         this.session.entry_type.set(Some(config::EntryMain));\n     } else {\n         // No main function\n-        let mut err = struct_err!(this.session, E0601, \"main function not found\");\n+        let mut err = struct_err!(this.session, E0601,\n+            \"`main` function not found in crate `{}`\", crate_name);\n         if !this.non_main_fns.is_empty() {\n             // There were some functions named 'main' though. Try to give the user a hint.\n             err.note(\"the main function must be defined at the crate level \\\n@@ -175,6 +178,9 @@ fn configure_main(this: &mut EntryContext) {\n             err.emit();\n             this.session.abort_if_errors();\n         } else {\n+            if let Some(ref filename) = this.session.local_crate_source_file {\n+                err.note(&format!(\"consider adding a `main` function to `{}`\", filename.display()));\n+            }\n             if this.session.teach(&err.get_code().unwrap()) {\n                 err.note(\"If you don't know the basics of Rust, you can go look to the Rust Book \\\n                           to get started: https://doc.rust-lang.org/book/\");"}, {"sha": "e52575f02b2ff4dc53dcbcb3dce742d10977528e", "filename": "src/librustc_driver/driver.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Flibrustc_driver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Flibrustc_driver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Fdriver.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -979,7 +979,7 @@ pub fn phase_3_run_analysis_passes<'tcx, F, R>(trans: &TransCrate,\n \n     time(sess,\n          \"looking for entry point\",\n-         || middle::entry::find_entry_point(sess, &hir_map));\n+         || middle::entry::find_entry_point(sess, &hir_map, name));\n \n     sess.plugin_registrar_fn.set(time(sess, \"looking for plugin registrar\", || {\n         plugin::build::find_plugin_registrar(sess.diagnostic(), &hir_map)"}, {"sha": "58a62d45ea5d7486a0137630e50e2daea0e77807", "filename": "src/test/compile-fail/cfg-attr-cfg-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Fcfg-attr-cfg-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Fcfg-attr-cfg-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcfg-attr-cfg-2.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n //\n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n // compile-flags: --cfg foo\n \n // main is conditionally compiled, but the conditional compilation"}, {"sha": "bbccf2bcd0f81cbece38edec4204da7c6df335fe", "filename": "src/test/compile-fail/cfg-in-crate-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Fcfg-in-crate-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Fcfg-in-crate-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcfg-in-crate-1.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,6 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern:main function not found\n+// error-pattern: `main` function not found\n \n #![cfg(bar)]"}, {"sha": "0cdd0010a745da0b1054ded1bb4563e7a05451a1", "filename": "src/test/compile-fail/elided-test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Felided-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Felided-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Felided-test.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n \n // Since we're not compiling a test runner this function should be elided\n // and the build will fail because main doesn't exist"}, {"sha": "2788a5c2d58544aae9df7f564eae54944b90804b", "filename": "src/test/compile-fail/missing-main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Fmissing-main.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fcompile-fail%2Fmissing-main.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmissing-main.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,5 +8,5 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern:main function not found\n+// error-pattern: `main` function not found\n fn mian() { }"}, {"sha": "c50cb759e05c288ab5e2e0e8b9d21f415815f023", "filename": "src/test/ui/error-codes/E0522.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0522.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0522.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0522.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -15,3 +15,5 @@ fn cookie() -> ! {\n //~^^ ERROR definition of an unknown language item: `cookie` [E0522]\n     loop {}\n }\n+\n+fn main() {}"}, {"sha": "9f3f8968d734ed00a575d909570ac50a7c74b1a6", "filename": "src/test/ui/error-codes/E0522.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0522.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0522.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0522.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,12 +1,9 @@\n-error[E0601]: main function not found\n-\n error[E0522]: definition of an unknown language item: `cookie`\n   --> $DIR/E0522.rs:13:1\n    |\n LL | #[lang = \"cookie\"]\n    | ^^^^^^^^^^^^^^^^^^ definition of unknown language item `cookie`\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0522, E0601.\n-For more information about an error, try `rustc --explain E0522`.\n+For more information about this error, try `rustc --explain E0522`."}, {"sha": "37b3f523475fcdcae9a9d07dd0fc8f62001a6d86", "filename": "src/test/ui/error-codes/E0601.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0601.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0601.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0601.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -0,0 +1,11 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Test for main function not found."}, {"sha": "cbc20db35da77f73127dcd1471ec9e412a57dad9", "filename": "src/test/ui/error-codes/E0601.stderr", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0601.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ferror-codes%2FE0601.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0601.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -0,0 +1,7 @@\n+error[E0601]: `main` function not found in crate `E0601`\n+   |\n+   = note: consider adding a `main` function to `$DIR/E0601.rs`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0601`."}, {"sha": "8a7d316ed8384af9a8f04e8e97b321dc80b6f702", "filename": "src/test/ui/feature-gate-i128_type2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate-i128_type2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate-i128_type2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-i128_type2.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -30,3 +30,5 @@ fn test3_2() {\n enum A { //~ ERROR 128-bit type is unstable\n     A(u64)\n }\n+\n+fn main() {}"}, {"sha": "23d4d6c98d90ae93d368ba8d1e28db865c0e07cf", "filename": "src/test/ui/feature-gate-i128_type2.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate-i128_type2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate-i128_type2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-i128_type2.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -30,8 +30,6 @@ LL |     let x: u128 = 0; //~ ERROR 128-bit type is unstable\n    |\n    = help: add #![feature(i128_type)] to the crate attributes to enable\n \n-error[E0601]: main function not found\n-\n error[E0658]: repr with 128-bit type is unstable (see issue #35118)\n   --> $DIR/feature-gate-i128_type2.rs:30:1\n    |\n@@ -42,7 +40,6 @@ LL | | }\n    |\n    = help: add #![feature(repr128)] to the crate attributes to enable\n \n-error: aborting due to 6 previous errors\n+error: aborting due to 5 previous errors\n \n-Some errors occurred: E0601, E0658.\n-For more information about an error, try `rustc --explain E0601`.\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "6c22679933874e0b57ae6ca2527c84016fa273fa", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-bench.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n \n // At time of authorship, a crate-level #![bench] with no `--test`\n // will cause compilation to error unconditionally with \"main function"}, {"sha": "503ef020d960419b15c930b05125d292a028c1e3", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-bench.stderr", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,4 +1,6 @@\n-error[E0601]: main function not found\n+error[E0601]: `main` function not found in crate `issue_43106_gating_of_bench`\n+   |\n+   = note: consider adding a `main` function to `$DIR/issue-43106-gating-of-bench.rs`\n \n error: aborting due to previous error\n "}, {"sha": "410f960e655fbaeb466c4d6a95a1212273b72f98", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-inline.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-inline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-inline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-inline.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -35,3 +35,5 @@ mod inline {\n     #[inline = \"2100\"] impl S { }\n     //~^ ERROR attribute should be applied to function\n }\n+\n+fn main() {}"}, {"sha": "d67d78e31a9d5cf7d4587e802df2fed713b17a9b", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-inline.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-inline.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-inline.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-inline.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,5 +1,3 @@\n-error[E0601]: main function not found\n-\n error[E0518]: attribute should be applied to function\n   --> $DIR/issue-43106-gating-of-inline.rs:21:1\n    |\n@@ -39,7 +37,6 @@ error[E0518]: attribute should be applied to function\n LL |     #[inline = \"2100\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^ ---------- not a function\n \n-error: aborting due to 6 previous errors\n+error: aborting due to 5 previous errors\n \n-Some errors occurred: E0518, E0601.\n-For more information about an error, try `rustc --explain E0518`.\n+For more information about this error, try `rustc --explain E0518`."}, {"sha": "ec3c97beab0f3dd9d6f8ae139f978c64434114a2", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-macro_escape.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-macro_escape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-macro_escape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-macro_escape.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -13,5 +13,9 @@\n // `#![macro_escape]` is incompatible with crate-level `#![macro_use]`\n // already present in issue-43106-gating-of-builtin-attrs.\n \n+// must-compile-successfully\n+\n #![macro_escape]\n //~^ WARN macro_escape is a deprecated synonym for macro_use\n+\n+fn main() {}"}, {"sha": "d19720397e66d0ae5fb5d0187792bdf8e0403681", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-macro_escape.stderr", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-macro_escape.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-macro_escape.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-macro_escape.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,13 +1,8 @@\n warning: macro_escape is a deprecated synonym for macro_use\n-  --> $DIR/issue-43106-gating-of-macro_escape.rs:16:1\n+  --> $DIR/issue-43106-gating-of-macro_escape.rs:18:1\n    |\n LL | #![macro_escape]\n    | ^^^^^^^^^^^^^^^^\n    |\n    = help: consider an outer attribute, #[macro_use] mod ...\n \n-error[E0601]: main function not found\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "5bb8bb024ed5145a636c3764d752b5bee0a4643e", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-proc_macro_derive.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-proc_macro_derive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-proc_macro_derive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-proc_macro_derive.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -40,3 +40,5 @@ mod proc_macro_derive2 {\n     #[proc_macro_derive = \"2500\"] impl S { }\n     //~^ ERROR the `#[proc_macro_derive]` attribute may only be used on bare functions\n }\n+\n+fn main() {}"}, {"sha": "419efb6825a970ff35673d5dc88e13970097f2bb", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-proc_macro_derive.stderr", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-proc_macro_derive.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-proc_macro_derive.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-proc_macro_derive.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -34,8 +34,5 @@ error: the `#[proc_macro_derive]` attribute may only be used on bare functions\n LL |     #[proc_macro_derive = \"2500\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0601]: main function not found\n+error: aborting due to 6 previous errors\n \n-error: aborting due to 7 previous errors\n-\n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "0c6cfb5da565c608606387bb6b1cdf56d700ff18", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-rustc_deprecated.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-rustc_deprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-rustc_deprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-rustc_deprecated.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -36,3 +36,4 @@ mod rustc_deprecated {\n     //~^ ERROR stability attributes may not be used outside of the standard library\n }\n \n+fn main() {}"}, {"sha": "35c15cb6b1ea8662d2eaffccf4959ccfaaf0c640", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-rustc_deprecated.stderr", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-rustc_deprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-rustc_deprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-rustc_deprecated.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,5 +1,3 @@\n-error[E0601]: main function not found\n-\n error: stability attributes may not be used outside of the standard library\n   --> $DIR/issue-43106-gating-of-rustc_deprecated.rs:17:1\n    |\n@@ -42,6 +40,5 @@ error: stability attributes may not be used outside of the standard library\n LL |     #[rustc_deprecated = \"1500\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 8 previous errors\n+error: aborting due to 7 previous errors\n \n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "6415243d0873e9b449f16455b1273d3c32b1eeeb", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-stable.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-stable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-stable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-stable.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -35,3 +35,5 @@ mod stable {\n     #[stable = \"1300\"] impl S { }\n     //~^ ERROR stability attributes may not be used outside of the standard library\n }\n+\n+fn main() {}"}, {"sha": "21543d1b20afc9b1b33788d16f3ef24d2f5b8741", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-stable.stderr", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-stable.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-stable.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-stable.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,5 +1,3 @@\n-error[E0601]: main function not found\n-\n error: stability attributes may not be used outside of the standard library\n   --> $DIR/issue-43106-gating-of-stable.rs:17:1\n    |\n@@ -42,6 +40,5 @@ error: stability attributes may not be used outside of the standard library\n LL |     #[stable = \"1300\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 8 previous errors\n+error: aborting due to 7 previous errors\n \n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "06632396249a55a5a3ed9dec9ff42f0b517cf9ef", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n \n // At time of authorship, crate-level #[test] attribute with no\n // `--test` signals unconditional error complaining of missing main"}, {"sha": "2ab35be43c576dfcfc576fa1f7b9bc6a2d7b8551", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-test.stderr", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,4 +1,6 @@\n-error[E0601]: main function not found\n+error[E0601]: `main` function not found in crate `issue_43106_gating_of_test`\n+   |\n+   = note: consider adding a `main` function to `$DIR/issue-43106-gating-of-test.rs`\n \n error: aborting due to previous error\n "}, {"sha": "140474d82c88d50bc4f19cd5c3f43b1b4f010dd5", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-unstable.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-unstable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-unstable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-unstable.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -35,3 +35,5 @@ mod unstable {\n     #[unstable = \"1200\"] impl S { }\n     //~^ ERROR stability attributes may not be used outside of the standard library\n }\n+\n+fn main() {}"}, {"sha": "6124e16f41804bac1a790b9b6b4aaf94b07ed322", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-unstable.stderr", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-unstable.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-unstable.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-unstable.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,5 +1,3 @@\n-error[E0601]: main function not found\n-\n error: stability attributes may not be used outside of the standard library\n   --> $DIR/issue-43106-gating-of-unstable.rs:17:1\n    |\n@@ -42,6 +40,5 @@ error: stability attributes may not be used outside of the standard library\n LL |     #[unstable = \"1200\"] impl S { }\n    |     ^^^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 8 previous errors\n+error: aborting due to 7 previous errors\n \n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "8636a66ae00aeed8189242ec9060e13bec66ca1d", "filename": "src/test/ui/generator/yield-in-const.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-const.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -12,3 +12,5 @@\n \n const A: u8 = { yield 3u8; 3u8};\n //~^ ERROR yield statement outside\n+\n+fn main() {}"}, {"sha": "874edce5931684f156cfa8e0710187e76e6a45c1", "filename": "src/test/ui/generator/yield-in-const.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-const.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,12 +1,9 @@\n-error[E0601]: main function not found\n-\n error[E0627]: yield statement outside of generator literal\n   --> $DIR/yield-in-const.rs:13:17\n    |\n LL | const A: u8 = { yield 3u8; 3u8};\n    |                 ^^^^^^^^^\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0601, E0627.\n-For more information about an error, try `rustc --explain E0601`.\n+For more information about this error, try `rustc --explain E0627`."}, {"sha": "21601f47f677d1f41771008d8526a771e96b8a24", "filename": "src/test/ui/generator/yield-in-static.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-static.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-static.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-static.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -12,3 +12,5 @@\n \n static B: u8 = { yield 3u8; 3u8};\n //~^ ERROR yield statement outside\n+\n+fn main() {}"}, {"sha": "35d1ebaabdc1cb763aa9772b95dd8ab04c974ae2", "filename": "src/test/ui/generator/yield-in-static.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-static.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-static.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerator%2Fyield-in-static.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,12 +1,9 @@\n-error[E0601]: main function not found\n-\n error[E0627]: yield statement outside of generator literal\n   --> $DIR/yield-in-static.rs:13:18\n    |\n LL | static B: u8 = { yield 3u8; 3u8};\n    |                  ^^^^^^^^^\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0601, E0627.\n-For more information about an error, try `rustc --explain E0601`.\n+For more information about this error, try `rustc --explain E0627`."}, {"sha": "e709eeee14a8452e4852ae322a16d7f380210bc0", "filename": "src/test/ui/imports/macro-paths.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacro-paths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacro-paths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fmacro-paths.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -36,3 +36,5 @@ fn g() {\n         mod baz { pub use two_macros::m; }\n     }\n }\n+\n+fn main() {}"}, {"sha": "799e7f972464b55f73d754a39392d7e3316eca3e", "filename": "src/test/ui/imports/macro-paths.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacro-paths.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacro-paths.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fmacro-paths.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -36,9 +36,6 @@ LL | | }\n    | |_^\n    = note: macro-expanded items do not shadow when used in a macro invocation path\n \n-error[E0601]: main function not found\n+error: aborting due to 2 previous errors\n \n-error: aborting due to 3 previous errors\n-\n-Some errors occurred: E0601, E0659.\n-For more information about an error, try `rustc --explain E0601`.\n+For more information about this error, try `rustc --explain E0659`."}, {"sha": "5d6a11913849a70175aa3a6da954d956ecd73ed4", "filename": "src/test/ui/imports/macros.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fmacros.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -49,3 +49,5 @@ mod m4 {\n     use two_macros::m;\n     m!(); //~ ERROR ambiguous\n }\n+\n+fn main() {}"}, {"sha": "f91987cd9f3402779b2d9f78ed9ecae8c6b1cdfb", "filename": "src/test/ui/imports/macros.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacros.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fimports%2Fmacros.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimports%2Fmacros.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -51,9 +51,6 @@ LL |     use two_macros::m;\n    |         ^^^^^^^^^^^^^\n    = note: macro-expanded macro imports do not shadow\n \n-error[E0601]: main function not found\n+error: aborting due to 3 previous errors\n \n-error: aborting due to 4 previous errors\n-\n-Some errors occurred: E0601, E0659.\n-For more information about an error, try `rustc --explain E0601`.\n+For more information about this error, try `rustc --explain E0659`."}, {"sha": "ff04cfe99c0bc10b12bf066247f352640d348343", "filename": "src/test/ui/in-band-lifetimes/mismatched_trait_impl-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fmismatched_trait_impl-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fmismatched_trait_impl-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fmismatched_trait_impl-2.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -20,3 +20,5 @@ impl Deref for Struct {\n     }\n }\n //~^^^^ ERROR cannot infer an appropriate lifetime for lifetime parameter\n+\n+fn main() {}"}, {"sha": "37b586e1e3bd004dfb2e74007a750233aa0f85a1", "filename": "src/test/ui/in-band-lifetimes/mismatched_trait_impl-2.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fmismatched_trait_impl-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fmismatched_trait_impl-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fmismatched_trait_impl-2.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,5 +1,3 @@\n-error[E0601]: main function not found\n-\n error[E0495]: cannot infer an appropriate lifetime for lifetime parameter in generic type due to conflicting requirements\n   --> $DIR/mismatched_trait_impl-2.rs:18:5\n    |\n@@ -18,7 +16,6 @@ LL | |     }\n            expected fn(&Struct) -> &Trait + 'static\n               found fn(&Struct) -> &Trait\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0495, E0601.\n-For more information about an error, try `rustc --explain E0495`.\n+For more information about this error, try `rustc --explain E0495`."}, {"sha": "4ce653547da032896c8f55e678ec3779336b19c0", "filename": "src/test/ui/issue-47706-trait.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fissue-47706-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fissue-47706-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-47706-trait.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -14,3 +14,5 @@ trait T {\n     }\n     //~^^ ERROR function is expected to take a single 0-tuple as argument\n }\n+\n+fn main() {}"}, {"sha": "717b3eb0b5625aecb84df0165d902a15d8d50d35", "filename": "src/test/ui/issue-47706-trait.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fissue-47706-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fissue-47706-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-47706-trait.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,5 +1,3 @@\n-error[E0601]: main function not found\n-\n error[E0593]: function is expected to take a single 0-tuple as argument, but it takes 2 distinct arguments\n   --> $DIR/issue-47706-trait.rs:13:20\n    |\n@@ -8,7 +6,6 @@ LL |     fn f(&self, _: ()) {\n LL |         None::<()>.map(Self::f);\n    |                    ^^^ expected function that takes a single 0-tuple as argument\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0593, E0601.\n-For more information about an error, try `rustc --explain E0593`.\n+For more information about this error, try `rustc --explain E0593`."}, {"sha": "a5ef92f14bbc58628de60b58dad9ba10129e7cb4", "filename": "src/test/ui/main-wrong-location.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fmain-wrong-location.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fmain-wrong-location.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmain-wrong-location.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,4 +1,4 @@\n-error[E0601]: main function not found\n+error[E0601]: `main` function not found in crate `main_wrong_location`\n    |\n    = note: the main function must be defined at the crate level but you have one or more functions named 'main' that are not defined at the crate level. Either move the definition or attach the `#[main]` attribute to override this behavior.\n note: here is a function named 'main'"}, {"sha": "f655047f6f5ac446ac9c793c8468443a50357d15", "filename": "src/test/ui/missing-items/m2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fmissing-items%2Fm2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fmissing-items%2Fm2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmissing-items%2Fm2.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -18,3 +18,5 @@ struct X {\n \n impl m1::X for X { //~ ERROR not all trait items implemented\n }\n+\n+fn main() {}"}, {"sha": "3f7a4039eb76b19d46a80e8cc4420956afdec996", "filename": "src/test/ui/missing-items/m2.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fmissing-items%2Fm2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fmissing-items%2Fm2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmissing-items%2Fm2.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -1,5 +1,3 @@\n-error[E0601]: main function not found\n-\n error[E0046]: not all trait items implemented, missing: `CONSTANT`, `Type`, `method`\n   --> $DIR/m2.rs:19:1\n    |\n@@ -10,7 +8,6 @@ LL | impl m1::X for X { //~ ERROR not all trait items implemented\n    = note: `Type` from trait: `type Type;`\n    = note: `method` from trait: `fn(&Self, std::string::String) -> <Self as m1::X>::Type`\n \n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n-Some errors occurred: E0046, E0601.\n-For more information about an error, try `rustc --explain E0046`.\n+For more information about this error, try `rustc --explain E0046`."}, {"sha": "eab500de255694b92477457b635ec2501c109934", "filename": "src/test/ui/resolve/issue-14254.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-14254.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-14254.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-14254.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -111,3 +111,5 @@ impl Foo for Box<isize> {\n         //~^ ERROR cannot find value `bah`\n     }\n }\n+\n+fn main() {}"}, {"sha": "055cbb2d579160ff9925469225a289c41ce19f80", "filename": "src/test/ui/resolve/issue-14254.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-14254.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-14254.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-14254.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -142,9 +142,6 @@ error[E0425]: cannot find value `bah` in this scope\n LL |         bah;\n    |         ^^^ help: try: `Self::bah`\n \n-error[E0601]: main function not found\n+error: aborting due to 24 previous errors\n \n-error: aborting due to 25 previous errors\n-\n-Some errors occurred: E0425, E0601.\n-For more information about an error, try `rustc --explain E0425`.\n+For more information about this error, try `rustc --explain E0425`."}, {"sha": "361e8caf7442effe56ebfe1a8921399b9e0952a4", "filename": "src/test/ui/resolve/issue-21221-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-21221-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-21221-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-21221-2.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -27,3 +27,5 @@ pub mod baz {\n struct Foo;\n impl T for Foo { }\n //~^ ERROR cannot find trait `T`\n+\n+fn main() {}"}, {"sha": "c61ffe3b33e8ae22467569635605c238a6811a56", "filename": "src/test/ui/resolve/issue-21221-2.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-21221-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fissue-21221-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fissue-21221-2.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,7 +8,5 @@ help: possible candidate is found in another module, you can import it into scop\n LL | use foo::bar::T;\n    |\n \n-error[E0601]: main function not found\n-\n error: cannot continue compilation due to previous error\n "}, {"sha": "d24fced5d313f4dc6818738c2596f8fb63d5cf3b", "filename": "src/test/ui/resolve/suggest-path-instead-of-mod-dot-item.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fsuggest-path-instead-of-mod-dot-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fsuggest-path-instead-of-mod-dot-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fsuggest-path-instead-of-mod-dot-item.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -65,3 +65,5 @@ fn h8() -> i32 {\n     a::b()\n     //~^ ERROR expected function, found module `a::b`\n }\n+\n+fn main() {}"}, {"sha": "9216c0b32192930b02f3a29ea842813bced0ffd9", "filename": "src/test/ui/resolve/suggest-path-instead-of-mod-dot-item.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fsuggest-path-instead-of-mod-dot-item.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fresolve%2Fsuggest-path-instead-of-mod-dot-item.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fsuggest-path-instead-of-mod-dot-item.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -72,9 +72,6 @@ LL |     a::b()\n    |        |\n    |        did you mean `I`?\n \n-error[E0601]: main function not found\n+error: aborting due to 9 previous errors\n \n-error: aborting due to 10 previous errors\n-\n-Some errors occurred: E0423, E0601.\n-For more information about an error, try `rustc --explain E0423`.\n+For more information about this error, try `rustc --explain E0423`."}, {"sha": "19e05f33825f7fdf9760ebfc69988b8dee772822", "filename": "src/test/ui/span/issue-35987.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fspan%2Fissue-35987.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fspan%2Fissue-35987.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-35987.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -20,3 +20,5 @@ impl<T: Clone, Add> Add for Foo<T> {\n         unimplemented!();\n     }\n }\n+\n+fn main() {}"}, {"sha": "2d4a7cc72f5f628558240d28b49431c2e1d2c1c4", "filename": "src/test/ui/span/issue-35987.stderr", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fspan%2Fissue-35987.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Fspan%2Fissue-35987.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-35987.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -8,7 +8,5 @@ help: possible better candidate is found in another module, you can import it in\n LL | use std::ops::Add;\n    |\n \n-error[E0601]: main function not found\n-\n error: cannot continue compilation due to previous error\n "}, {"sha": "711803754408f50a757d4d51534221e99256c98b", "filename": "src/test/ui/token/issue-10636-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-10636-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-10636-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftoken%2Fissue-10636-2.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -17,3 +17,5 @@ pub fn trace_option(option: Option<isize>) {\n \n } //~ ERROR: incorrect close delimiter\n //~^ ERROR: expected expression, found `)`\n+\n+fn main() {}"}, {"sha": "56a30423171da52f4ccc49e834eb4afd337b58cc", "filename": "src/test/ui/token/issue-10636-2.stderr", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-10636-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-10636-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftoken%2Fissue-10636-2.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -22,8 +22,5 @@ error: expected expression, found `)`\n LL | } //~ ERROR: incorrect close delimiter\n    | ^ expected expression\n \n-error[E0601]: main function not found\n+error: aborting due to 3 previous errors\n \n-error: aborting due to 4 previous errors\n-\n-For more information about this error, try `rustc --explain E0601`."}, {"sha": "7bd8506af90b96057ff3d8534cea7c4a55bbdead", "filename": "src/test/ui/token/issue-41155.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-41155.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-41155.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftoken%2Fissue-41155.rs?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -11,3 +11,5 @@\n impl S { //~ ERROR cannot find type\n     pub\n } //~ ERROR expected one of\n+\n+fn main() {}"}, {"sha": "b56b95a8aafd796852fbeee7c699913c6fe4f4ff", "filename": "src/test/ui/token/issue-41155.stderr", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-41155.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e/src%2Ftest%2Fui%2Ftoken%2Fissue-41155.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftoken%2Fissue-41155.stderr?ref=a45b79ddb7e8d65c12d5b8f2e46ac22698bd134e", "patch": "@@ -12,9 +12,6 @@ error[E0412]: cannot find type `S` in this scope\n LL | impl S { //~ ERROR cannot find type\n    |      ^ not found in this scope\n \n-error[E0601]: main function not found\n+error: aborting due to 2 previous errors\n \n-error: aborting due to 3 previous errors\n-\n-Some errors occurred: E0412, E0601.\n-For more information about an error, try `rustc --explain E0412`.\n+For more information about this error, try `rustc --explain E0412`."}]}