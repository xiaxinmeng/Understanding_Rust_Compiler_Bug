{"sha": "1787d4ecf52b886d2094ddd901d64ec66c715219", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3ODdkNGVjZjUyYjg4NmQyMDk0ZGRkOTAxZDY0ZWM2NmM3MTUyMTk=", "commit": {"author": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2017-08-12T05:37:17Z"}, "committer": {"name": "John K\u00e5re Alsaker", "email": "john.kare.alsaker@gmail.com", "date": "2017-08-12T05:37:17Z"}, "message": "Fix errors", "tree": {"sha": "63264c9b9392f36c288d3a4cdacee658467eafe9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/63264c9b9392f36c288d3a4cdacee658467eafe9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1787d4ecf52b886d2094ddd901d64ec66c715219", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1787d4ecf52b886d2094ddd901d64ec66c715219", "html_url": "https://github.com/rust-lang/rust/commit/1787d4ecf52b886d2094ddd901d64ec66c715219", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1787d4ecf52b886d2094ddd901d64ec66c715219/comments", "author": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Zoxc", "id": 25784, "node_id": "MDQ6VXNlcjI1Nzg0", "avatar_url": "https://avatars.githubusercontent.com/u/25784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Zoxc", "html_url": "https://github.com/Zoxc", "followers_url": "https://api.github.com/users/Zoxc/followers", "following_url": "https://api.github.com/users/Zoxc/following{/other_user}", "gists_url": "https://api.github.com/users/Zoxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/Zoxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Zoxc/subscriptions", "organizations_url": "https://api.github.com/users/Zoxc/orgs", "repos_url": "https://api.github.com/users/Zoxc/repos", "events_url": "https://api.github.com/users/Zoxc/events{/privacy}", "received_events_url": "https://api.github.com/users/Zoxc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d020ff0c6854b1826233e727d4d06ef0ba526b28", "url": "https://api.github.com/repos/rust-lang/rust/commits/d020ff0c6854b1826233e727d4d06ef0ba526b28", "html_url": "https://github.com/rust-lang/rust/commit/d020ff0c6854b1826233e727d4d06ef0ba526b28"}], "stats": {"total": 10, "additions": 1, "deletions": 9}, "files": [{"sha": "f530cac9397d3635df12ea88969c3e3b9255a4d0", "filename": "src/librustc_mir/build/scope.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1787d4ecf52b886d2094ddd901d64ec66c715219/src%2Flibrustc_mir%2Fbuild%2Fscope.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1787d4ecf52b886d2094ddd901d64ec66c715219/src%2Flibrustc_mir%2Fbuild%2Fscope.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fscope.rs?ref=1787d4ecf52b886d2094ddd901d64ec66c715219", "patch": "@@ -433,7 +433,6 @@ impl<'a, 'gcx, 'tcx> Builder<'a, 'gcx, 'tcx> {\n         self.diverge_cleanup_gen(true);\n \n         let src_info = self.scopes[0].source_info(self.fn_span);\n-        let tmp = self.get_unit_temp();\n         let mut block = self.cfg.start_new_block();\n         let result = block;\n         let mut rest = &mut self.scopes[..];\n@@ -463,13 +462,6 @@ impl<'a, 'gcx, 'tcx> Builder<'a, 'gcx, 'tcx> {\n \n             // End all regions for scopes out of which we are breaking.\n             self.cfg.push_end_region(block, src_info, scope.extent);\n-\n-            if let Some(ref free_data) = scope.free {\n-                let next = self.cfg.start_new_block();\n-                let free = build_free(self.hir.tcx(), &tmp, free_data, next);\n-                self.cfg.terminate(block, scope.source_info(free_data.span), free);\n-                block = next;\n-            }\n         }\n \n         self.cfg.terminate(block, src_info, TerminatorKind::GeneratorDrop);"}, {"sha": "e0b9ed4c1c9cd9e276b1549ac11bb89a8d9ad0ea", "filename": "src/librustc_mir/transform/generator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1787d4ecf52b886d2094ddd901d64ec66c715219/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1787d4ecf52b886d2094ddd901d64ec66c715219/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fgenerator.rs?ref=1787d4ecf52b886d2094ddd901d64ec66c715219", "patch": "@@ -576,7 +576,7 @@ fn creator_generator_resume_function<'a, 'tcx>(\n \n     make_generator_state_argument_indirect(tcx, def_id, mir);\n \n-    no_landing_pads(tcx, &mut mir);\n+    no_landing_pads(tcx, mir);\n \n     // Make sure we remove dead blocks to remove\n     // unrelated code from the drop part of the function"}]}