{"sha": "b95b5db163adfe24117aa25e42a775c7b5b91dc5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI5NWI1ZGIxNjNhZGZlMjQxMTdhYTI1ZTQyYTc3NWM3YjViOTFkYzU=", "commit": {"author": {"name": "Tim Neumann", "email": "mail@timnn.me", "date": "2017-03-09T21:11:23Z"}, "committer": {"name": "Tim Neumann", "email": "mail@timnn.me", "date": "2017-03-09T21:12:36Z"}, "message": "update gdbr tests\n\ngdb will now reliably detect the lanugage as rust even before any\ncode is run.", "tree": {"sha": "8ea950c808f6ae2dbebe60f56f780f918872f8ea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ea950c808f6ae2dbebe60f56f780f918872f8ea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b95b5db163adfe24117aa25e42a775c7b5b91dc5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b95b5db163adfe24117aa25e42a775c7b5b91dc5", "html_url": "https://github.com/rust-lang/rust/commit/b95b5db163adfe24117aa25e42a775c7b5b91dc5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b95b5db163adfe24117aa25e42a775c7b5b91dc5/comments", "author": {"login": "TimNN", "id": 1178249, "node_id": "MDQ6VXNlcjExNzgyNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimNN", "html_url": "https://github.com/TimNN", "followers_url": "https://api.github.com/users/TimNN/followers", "following_url": "https://api.github.com/users/TimNN/following{/other_user}", "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions", "organizations_url": "https://api.github.com/users/TimNN/orgs", "repos_url": "https://api.github.com/users/TimNN/repos", "events_url": "https://api.github.com/users/TimNN/events{/privacy}", "received_events_url": "https://api.github.com/users/TimNN/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TimNN", "id": 1178249, "node_id": "MDQ6VXNlcjExNzgyNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimNN", "html_url": "https://github.com/TimNN", "followers_url": "https://api.github.com/users/TimNN/followers", "following_url": "https://api.github.com/users/TimNN/following{/other_user}", "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions", "organizations_url": "https://api.github.com/users/TimNN/orgs", "repos_url": "https://api.github.com/users/TimNN/repos", "events_url": "https://api.github.com/users/TimNN/events{/privacy}", "received_events_url": "https://api.github.com/users/TimNN/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3087a1f39eaeac9d76c8b159dcc64de515bb2b83", "url": "https://api.github.com/repos/rust-lang/rust/commits/3087a1f39eaeac9d76c8b159dcc64de515bb2b83", "html_url": "https://github.com/rust-lang/rust/commit/3087a1f39eaeac9d76c8b159dcc64de515bb2b83"}], "stats": {"total": 39, "additions": 22, "deletions": 17}, "files": [{"sha": "900b0829530f3c41923cb30a1feecac01b1251d2", "filename": "src/test/debuginfo/c-style-enum.rs", "status": "modified", "additions": 14, "deletions": 7, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Fc-style-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Fc-style-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fc-style-enum.rs?ref=b95b5db163adfe24117aa25e42a775c7b5b91dc5", "patch": "@@ -15,31 +15,38 @@\n \n // === GDB TESTS ===================================================================================\n \n-// gdb-command:print 'c_style_enum::SINGLE_VARIANT'\n+// gdbg-command:print 'c_style_enum::SINGLE_VARIANT'\n+// gdbr-command:print c_style_enum::SINGLE_VARIANT\n // gdbg-check:$1 = TheOnlyVariant\n // gdbr-check:$1 = c_style_enum::SingleVariant::TheOnlyVariant\n \n-// gdb-command:print 'c_style_enum::AUTO_ONE'\n+// gdbg-command:print 'c_style_enum::AUTO_ONE'\n+// gdbr-command:print c_style_enum::AUTO_ONE\n // gdbg-check:$2 = One\n // gdbr-check:$2 = c_style_enum::AutoDiscriminant::One\n \n-// gdb-command:print 'c_style_enum::AUTO_TWO'\n+// gdbg-command:print 'c_style_enum::AUTO_TWO'\n+// gdbr-command:print c_style_enum::AUTO_TWO\n // gdbg-check:$3 = One\n // gdbr-check:$3 = c_style_enum::AutoDiscriminant::One\n \n-// gdb-command:print 'c_style_enum::AUTO_THREE'\n+// gdbg-command:print 'c_style_enum::AUTO_THREE'\n+// gdbr-command:print c_style_enum::AUTO_THREE\n // gdbg-check:$4 = One\n // gdbr-check:$4 = c_style_enum::AutoDiscriminant::One\n \n-// gdb-command:print 'c_style_enum::MANUAL_ONE'\n+// gdbg-command:print 'c_style_enum::MANUAL_ONE'\n+// gdbr-command:print c_style_enum::MANUAL_ONE\n // gdbg-check:$5 = OneHundred\n // gdbr-check:$5 = c_style_enum::ManualDiscriminant::OneHundred\n \n-// gdb-command:print 'c_style_enum::MANUAL_TWO'\n+// gdbg-command:print 'c_style_enum::MANUAL_TWO'\n+// gdbr-command:print c_style_enum::MANUAL_TWO\n // gdbg-check:$6 = OneHundred\n // gdbr-check:$6 = c_style_enum::ManualDiscriminant::OneHundred\n \n-// gdb-command:print 'c_style_enum::MANUAL_THREE'\n+// gdbg-command:print 'c_style_enum::MANUAL_THREE'\n+// gdbr-command:print c_style_enum::MANUAL_THREE\n // gdbg-check:$7 = OneHundred\n // gdbr-check:$7 = c_style_enum::ManualDiscriminant::OneHundred\n "}, {"sha": "e8c3597b8c8dd68fdbd194f10c79831b82032f54", "filename": "src/test/debuginfo/limited-debuginfo.rs", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Flimited-debuginfo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Flimited-debuginfo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Flimited-debuginfo.rs?ref=b95b5db163adfe24117aa25e42a775c7b5b91dc5", "patch": "@@ -15,10 +15,14 @@\n \n // Make sure functions have proper names\n // gdb-command:info functions\n-// gdb-check:[...]void[...]main([...]);\n-// gdb-check:[...]void[...]some_function([...]);\n-// gdb-check:[...]void[...]some_other_function([...]);\n-// gdb-check:[...]void[...]zzz([...]);\n+// gdbg-check:[...]void[...]main([...]);\n+// gdbr-check:fn limited_debuginfo::main();\n+// gdbg-check:[...]void[...]some_function([...]);\n+// gdbr-check:fn limited_debuginfo::some_function();\n+// gdbg-check:[...]void[...]some_other_function([...]);\n+// gdbr-check:fn limited_debuginfo::some_other_function();\n+// gdbg-check:[...]void[...]zzz([...]);\n+// gdbr-check:fn limited_debuginfo::zzz();\n \n // gdb-command:run\n "}, {"sha": "ae05bafe5adaa70c07967a202d8f929bf1771f3e", "filename": "src/test/debuginfo/simple-struct.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Fsimple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Fsimple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fsimple-struct.rs?ref=b95b5db163adfe24117aa25e42a775c7b5b91dc5", "patch": "@@ -14,9 +14,6 @@\n \n // === GDB TESTS ===================================================================================\n \n-// there's no frame yet for gdb to reliably detect the language, set it explicitly\n-// gdbr-command:set language rust\n-\n // gdbg-command:print 'simple_struct::NO_PADDING_16'\n // gdbr-command:print simple_struct::NO_PADDING_16\n // gdbg-check:$1 = {x = 1000, y = -1001}"}, {"sha": "b3c270411509592141fac499eb96864fb3d0c665", "filename": "src/test/debuginfo/simple-tuple.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Fsimple-tuple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b5db163adfe24117aa25e42a775c7b5b91dc5/src%2Ftest%2Fdebuginfo%2Fsimple-tuple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fsimple-tuple.rs?ref=b95b5db163adfe24117aa25e42a775c7b5b91dc5", "patch": "@@ -14,9 +14,6 @@\n \n // === GDB TESTS ===================================================================================\n \n-// there's no frame yet for gdb to reliably detect the language, set it explicitly\n-// gdbr-command:set language rust\n-\n // gdbg-command:print/d 'simple_tuple::NO_PADDING_8'\n // gdbr-command:print simple_tuple::NO_PADDING_8\n // gdbg-check:$1 = {__0 = -50, __1 = 50}"}]}