{"sha": "83909398d288579837922e68482f2e22b24f8406", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzOTA5Mzk4ZDI4ODU3OTgzNzkyMmU2ODQ4MmYyZTIyYjI0Zjg0MDY=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-01-19T07:18:29Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-01-29T09:03:52Z"}, "message": "Add test case for comments between item and attr", "tree": {"sha": "4e4caf8478c7efdf744dbacb4f1477d088ec15c5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4e4caf8478c7efdf744dbacb4f1477d088ec15c5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/83909398d288579837922e68482f2e22b24f8406", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIcBAABCAAGBQJabuN4AAoJEGZ8j0taaYpgayIP/2GKkvSXlLt3SFYEUOd+eO8S\nfH8BIR/d+VgPTqN7vkLYApG14XqksvAuYOnfNQk6zSmIv7ZPOAtjjSfE81BkVoVl\ndGiOrOD/sH0+aI8/NZ2qWpp3B4xeitV1cb+T+WqOIxydHQPplu4BvlhUMjlyt4gA\nv+Vo2eFc/2u1KYSubCvVbGapi4yd2UMHiyEhSd70nmBK/C3f80A2hkKX/MeWghrg\nC93XNNwhQshgSyddqDirgH1Et0j8yuBfZ8tlyuNeEhNvDTn3+pXAabkvsarLD+HG\nzdT1fCfFiEkLxZr9K1LSw0XyO2nKAqSsMtMAK5VwcG+IPpLA5FbdlpQPegD0cjiz\nXNwVWIq1EZhGieJL+M0VYGVJOLo0ad5lHT1dxC1D5lQfqViCsH8dUDefrCnY/cdY\nfAz/sEOtlICXmXgsAlOIeHd6rUFNSpbXir/ibuSGxmMpEWEtfKdeUkr9eSqcaIq1\n1wa2lO+ys+0cIzcQMZmUTyPmNl8ZXz6/kATG1xD96npBAS/5azubKDgGtmLkyDWG\nQjEBPP4jEPQ5Sn6MBSD2cAISeSbmMtxqrt6qepaWUWUyP+Gm2g/2P0OkEYZHidQm\nDgKptoIzZROiAGYmKk4WjGqVfldytj0x71TAQ6qz6+J79C/3SKdVBoR0yamgEKbY\ncj0rD9CfmFjwSA9V2aZd\n=N0c6\n-----END PGP SIGNATURE-----", "payload": "tree 4e4caf8478c7efdf744dbacb4f1477d088ec15c5\nparent 80827c1f749b0da9fab95f2d47417f91d52c4a46\nauthor Philipp Hansch <dev@phansch.net> 1516346309 +0100\ncommitter Philipp Hansch <dev@phansch.net> 1517216632 +0100\n\nAdd test case for comments between item and attr\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/83909398d288579837922e68482f2e22b24f8406", "html_url": "https://github.com/rust-lang/rust/commit/83909398d288579837922e68482f2e22b24f8406", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/83909398d288579837922e68482f2e22b24f8406/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "80827c1f749b0da9fab95f2d47417f91d52c4a46", "url": "https://api.github.com/repos/rust-lang/rust/commits/80827c1f749b0da9fab95f2d47417f91d52c4a46", "html_url": "https://github.com/rust-lang/rust/commit/80827c1f749b0da9fab95f2d47417f91d52c4a46"}], "stats": {"total": 35, "additions": 29, "deletions": 6}, "files": [{"sha": "648a25f1dd076ac9ddf9ea1fe9e929f4e9108efd", "filename": "tests/ui/empty_line_after_outer_attribute.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/83909398d288579837922e68482f2e22b24f8406/tests%2Fui%2Fempty_line_after_outer_attribute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83909398d288579837922e68482f2e22b24f8406/tests%2Fui%2Fempty_line_after_outer_attribute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fempty_line_after_outer_attribute.rs?ref=83909398d288579837922e68482f2e22b24f8406", "patch": "@@ -1,6 +1,18 @@\n \n #![warn(empty_line_after_outer_attr)]\n \n+// This should produce a warning\n+#[crate_type = \"lib\"]\n+\n+/// some comment\n+fn with_one_newline_and_comment() { assert!(true) }\n+\n+// This should not produce a warning\n+#[crate_type = \"lib\"]\n+/// some comment\n+fn with_no_newline_and_comment() { assert!(true) }\n+\n+\n // This should produce a warning\n #[crate_type = \"lib\"]\n "}, {"sha": "481f95443ce8fc7f25b3df37ea55a6941c4268d9", "filename": "tests/ui/empty_line_after_outer_attribute.stderr", "status": "modified", "additions": 17, "deletions": 6, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/83909398d288579837922e68482f2e22b24f8406/tests%2Fui%2Fempty_line_after_outer_attribute.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/83909398d288579837922e68482f2e22b24f8406/tests%2Fui%2Fempty_line_after_outer_attribute.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fempty_line_after_outer_attribute.stderr?ref=83909398d288579837922e68482f2e22b24f8406", "patch": "@@ -3,17 +3,28 @@ error: Found an empty line after an outer attribute. Perhaps you forgot to add a\n   |\n 5 | / #[crate_type = \"lib\"]\n 6 | |\n-7 | | fn with_one_newline() { assert!(true) }\n+7 | | /// some comment\n+8 | | fn with_one_newline_and_comment() { assert!(true) }\n   | |_\n   |\n   = note: `-D empty-line-after-outer-attr` implied by `-D warnings`\n \n error: Found an empty line after an outer attribute. Perhaps you forgot to add a '!' to make it an inner attribute?\n-  --> $DIR/empty_line_after_outer_attribute.rs:10:1\n+  --> $DIR/empty_line_after_outer_attribute.rs:17:1\n    |\n-10 | / #[crate_type = \"lib\"]\n-11 | |\n-12 | |\n-13 | | fn with_two_newlines() { assert!(true) }\n+17 | / #[crate_type = \"lib\"]\n+18 | |\n+19 | | fn with_one_newline() { assert!(true) }\n    | |_\n \n+error: Found an empty line after an outer attribute. Perhaps you forgot to add a '!' to make it an inner attribute?\n+  --> $DIR/empty_line_after_outer_attribute.rs:22:1\n+   |\n+22 | / #[crate_type = \"lib\"]\n+23 | |\n+24 | |\n+25 | | fn with_two_newlines() { assert!(true) }\n+   | |_\n+\n+error: aborting due to 3 previous errors\n+"}]}