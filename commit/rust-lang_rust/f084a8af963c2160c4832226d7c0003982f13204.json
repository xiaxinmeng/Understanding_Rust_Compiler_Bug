{"sha": "f084a8af963c2160c4832226d7c0003982f13204", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwODRhOGFmOTYzYzIxNjBjNDgzMjIyNmQ3YzAwMDM5ODJmMTMyMDQ=", "commit": {"author": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-06-13T01:18:55Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-06-13T01:18:55Z"}, "message": "Fix excessive indentation in trait where clause when using Rfc style", "tree": {"sha": "1e77432711adcbeccda4e0f83ae86dcad8b6beb4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1e77432711adcbeccda4e0f83ae86dcad8b6beb4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f084a8af963c2160c4832226d7c0003982f13204", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f084a8af963c2160c4832226d7c0003982f13204", "html_url": "https://github.com/rust-lang/rust/commit/f084a8af963c2160c4832226d7c0003982f13204", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f084a8af963c2160c4832226d7c0003982f13204/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5531a93b573c14ca4e6d8a8ad665cb0823abea81", "url": "https://api.github.com/repos/rust-lang/rust/commits/5531a93b573c14ca4e6d8a8ad665cb0823abea81", "html_url": "https://github.com/rust-lang/rust/commit/5531a93b573c14ca4e6d8a8ad665cb0823abea81"}], "stats": {"total": 32, "additions": 29, "deletions": 3}, "files": [{"sha": "085b9eed812e48df273311ec18d56cc426ac0f62", "filename": "src/items.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f084a8af963c2160c4832226d7c0003982f13204/src%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f084a8af963c2160c4832226d7c0003982f13204/src%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fitems.rs?ref=f084a8af963c2160c4832226d7c0003982f13204", "patch": "@@ -2306,7 +2306,7 @@ fn rewrite_where_clause_rfc_style(context: &RewriteContext,\n                              terminator,\n                              |pred| span_for_where_pred(pred).lo,\n                              |pred| span_for_where_pred(pred).hi,\n-                             |pred| pred.rewrite(context, clause_shape),\n+                             |pred| pred.rewrite(context, shape),\n                              span_start,\n                              span_end);\n     let comma_tactic = if suppress_comma {"}, {"sha": "7e5daa12f812fcabff7fb3e9121bb3451c0d83a5", "filename": "src/types.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f084a8af963c2160c4832226d7c0003982f13204/src%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f084a8af963c2160c4832226d7c0003982f13204/src%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftypes.rs?ref=f084a8af963c2160c4832226d7c0003982f13204", "patch": "@@ -24,7 +24,7 @@ use lists::{itemize_list, format_fn_args};\n use rewrite::{Rewrite, RewriteContext};\n use utils::{extra_offset, format_mutability, colon_spaces, wrap_str, mk_sp, last_line_width};\n use expr::{rewrite_unary_prefix, rewrite_pair, rewrite_tuple_type};\n-use config::TypeDensity;\n+use config::{Style, TypeDensity};\n \n #[derive(Copy, Clone, Debug, Eq, PartialEq)]\n pub enum PathContext {\n@@ -383,7 +383,10 @@ impl Rewrite for ast::WherePredicate {\n                     }\n                 } else {\n                     let used_width = type_str.len() + colon.len();\n-                    let ty_shape = try_opt!(shape.block_left(used_width));\n+                    let ty_shape = match context.config.where_style() {\n+                        Style::Legacy => try_opt!(shape.block_left(used_width)),\n+                        Style::Rfc => shape.block_indent(context.config.tab_spaces()),\n+                    };\n                     let bounds: Vec<_> =\n                         try_opt!(bounds\n                                      .iter()"}, {"sha": "ef822f6bea2f2c6cea83b3d89667b601ef48903d", "filename": "tests/source/where-clause-rfc.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f084a8af963c2160c4832226d7c0003982f13204/tests%2Fsource%2Fwhere-clause-rfc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f084a8af963c2160c4832226d7c0003982f13204/tests%2Fsource%2Fwhere-clause-rfc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fwhere-clause-rfc.rs?ref=f084a8af963c2160c4832226d7c0003982f13204", "patch": "@@ -42,3 +42,9 @@ struct Exactly100CharsToSemicolon<A, B, C, D, E>\n struct AlwaysOnNextLine<LongLongTypename, LongTypename, A, B, C, D, E, F> where A: LongTrait {\n     x: i32\n }\n+\n+pub trait SomeTrait<T>\n+    where\n+    T: Something + Sync + Send + Display     + Debug     + Copy + Hash + Debug + Display + Write + Read + FromStr\n+{\n+}"}, {"sha": "bdf1f9d257429cdca20577dfebfdc7f539bde798", "filename": "tests/target/where-clause-rfc.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/f084a8af963c2160c4832226d7c0003982f13204/tests%2Ftarget%2Fwhere-clause-rfc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f084a8af963c2160c4832226d7c0003982f13204/tests%2Ftarget%2Fwhere-clause-rfc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fwhere-clause-rfc.rs?ref=f084a8af963c2160c4832226d7c0003982f13204", "patch": "@@ -96,3 +96,20 @@ where\n {\n     x: i32,\n }\n+\n+pub trait SomeTrait<T>\n+where\n+    T: Something\n+        + Sync\n+        + Send\n+        + Display\n+        + Debug\n+        + Copy\n+        + Hash\n+        + Debug\n+        + Display\n+        + Write\n+        + Read\n+        + FromStr\n+{\n+}"}]}