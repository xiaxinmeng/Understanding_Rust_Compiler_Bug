{"sha": "41d3df7321480eedfa254fa892715f199f09dbc9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQxZDNkZjczMjE0ODBlZWRmYTI1NGZhODkyNzE1ZjE5OWYwOWRiYzk=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2018-09-26T10:32:20Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2018-09-26T10:32:20Z"}, "message": "tests: dogfood: extend to run with --all-features and clippy::internal enabled.\nRun it on rustc_tools_util and clippy_dev as well.", "tree": {"sha": "e3f1299a3d4191dd4b4b4eb69133b69427a7582a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e3f1299a3d4191dd4b4b4eb69133b69427a7582a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/41d3df7321480eedfa254fa892715f199f09dbc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/41d3df7321480eedfa254fa892715f199f09dbc9", "html_url": "https://github.com/rust-lang/rust/commit/41d3df7321480eedfa254fa892715f199f09dbc9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/41d3df7321480eedfa254fa892715f199f09dbc9/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cdde22c2cc01c62474b2b73a93e6ad4a4498e230", "url": "https://api.github.com/repos/rust-lang/rust/commits/cdde22c2cc01c62474b2b73a93e6ad4a4498e230", "html_url": "https://github.com/rust-lang/rust/commit/cdde22c2cc01c62474b2b73a93e6ad4a4498e230"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "2ff4274a1a92db7bba367173fc18263aea07c3e0", "filename": "tests/dogfood.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/41d3df7321480eedfa254fa892715f199f09dbc9/tests%2Fdogfood.rs", "raw_url": "https://github.com/rust-lang/rust/raw/41d3df7321480eedfa254fa892715f199f09dbc9/tests%2Fdogfood.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdogfood.rs?ref=41d3df7321480eedfa254fa892715f199f09dbc9", "patch": "@@ -4,14 +4,16 @@ fn dogfood() {\n         return;\n     }\n     let root_dir = std::env::current_dir().unwrap();\n-    for d in &[\".\", \"clippy_lints\"] {\n+    for d in &[\".\", \"clippy_lints\", \"rustc_tools_util\", \"clippy_dev\"] {\n         std::env::set_current_dir(root_dir.join(d)).unwrap();\n         let output = std::process::Command::new(\"cargo\")\n             .arg(\"run\")\n             .arg(\"--bin\")\n             .arg(\"cargo-clippy\")\n+            .arg(\"--all-features\")\n             .arg(\"--manifest-path\")\n             .arg(root_dir.join(\"Cargo.toml\"))\n+            .args(&[\"--\", \"-W clippy::internal\"])\n             .env(\"CLIPPY_DOGFOOD\", \"true\")\n             .output()\n             .unwrap();"}]}