{"sha": "cd3d166021ac9ac90763ec6e6948065523ff9033", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkM2QxNjYwMjFhYzlhYzkwNzYzZWM2ZTY5NDgwNjU1MjNmZjkwMzM=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-05-15T11:29:55Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-15T11:29:55Z"}, "message": "Rollup merge of #85278 - ayushmishra2005:code-refactoring, r=jackh726\n\nImprove match statements", "tree": {"sha": "a668838b3fe1aea8837aaa1d45f225fb32f4c45b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a668838b3fe1aea8837aaa1d45f225fb32f4c45b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd3d166021ac9ac90763ec6e6948065523ff9033", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgn7CzCRBK7hj4Ov3rIwAAWgIIAKtx80pgMT+agwBnWbNzP2I2\nzHPlsVMK5vHox31O9mT2VPlTXdRJT9OTpVBNdRVGl/ZDDnVgOj/f/N9saT4KLpaN\nNZwkgxz1LRcVjwhCi39dC7p8oQilkxqP40QSmcDT/qDlI8nL7L4h5NEPpwI3aVc8\nFAzz7+nwCVeOGBqt9HPgInlJLYSeJWIImXF9In3Bl2y45uGqGp7LA2/BiWY0Y2Na\nkddiJRILoI8HUEjzWsvgKIXtwED9R6M0tj/3ksfov7bzWR71ejglz6V1zU7iL5j8\nLf6cNQ7ay4nnvMKqGTFRmWwl5Cj22DIwskTLygoWT1uu9Nqd/9mqtMEpyVV6TRI=\n=CUrR\n-----END PGP SIGNATURE-----\n", "payload": "tree a668838b3fe1aea8837aaa1d45f225fb32f4c45b\nparent 1a926bf3c5d439c452f76ba4d096c754c4245d9d\nparent 27defcd14fa202a58e2c070ec18ad084c584649c\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1621078195 +0200\ncommitter GitHub <noreply@github.com> 1621078195 +0200\n\nRollup merge of #85278 - ayushmishra2005:code-refactoring, r=jackh726\n\nImprove match statements\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd3d166021ac9ac90763ec6e6948065523ff9033", "html_url": "https://github.com/rust-lang/rust/commit/cd3d166021ac9ac90763ec6e6948065523ff9033", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd3d166021ac9ac90763ec6e6948065523ff9033/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1a926bf3c5d439c452f76ba4d096c754c4245d9d", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a926bf3c5d439c452f76ba4d096c754c4245d9d", "html_url": "https://github.com/rust-lang/rust/commit/1a926bf3c5d439c452f76ba4d096c754c4245d9d"}, {"sha": "27defcd14fa202a58e2c070ec18ad084c584649c", "url": "https://api.github.com/repos/rust-lang/rust/commits/27defcd14fa202a58e2c070ec18ad084c584649c", "html_url": "https://github.com/rust-lang/rust/commit/27defcd14fa202a58e2c070ec18ad084c584649c"}], "stats": {"total": 10, "additions": 2, "deletions": 8}, "files": [{"sha": "7934d4ba8499c5364e09b7e00eede429b6d299c3", "filename": "compiler/rustc_mir/src/transform/early_otherwise_branch.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/cd3d166021ac9ac90763ec6e6948065523ff9033/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fearly_otherwise_branch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd3d166021ac9ac90763ec6e6948065523ff9033/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fearly_otherwise_branch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fearly_otherwise_branch.rs?ref=cd3d166021ac9ac90763ec6e6948065523ff9033", "patch": "@@ -170,10 +170,7 @@ impl<'tcx> MirPass<'tcx> for EarlyOtherwiseBranch {\n }\n \n fn is_switch<'tcx>(terminator: &Terminator<'tcx>) -> bool {\n-    match terminator.kind {\n-        TerminatorKind::SwitchInt { .. } => true,\n-        _ => false,\n-    }\n+    matches!(terminator.kind, TerminatorKind::SwitchInt { .. })\n }\n \n struct Helper<'a, 'tcx> {"}, {"sha": "89fddc95c98f7802cfdc9f8b555c5300e2588ccf", "filename": "compiler/rustc_mir/src/transform/simplify_try.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/cd3d166021ac9ac90763ec6e6948065523ff9033/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fsimplify_try.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd3d166021ac9ac90763ec6e6948065523ff9033/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fsimplify_try.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fsimplify_try.rs?ref=cd3d166021ac9ac90763ec6e6948065523ff9033", "patch": "@@ -628,10 +628,7 @@ impl<'a, 'tcx> SimplifyBranchSameOptimizationFinder<'a, 'tcx> {\n                     // But `asm!(...)` could abort the program,\n                     // so we cannot assume that the `unreachable` terminator itself is reachable.\n                     // FIXME(Centril): use a normalization pass instead of a check.\n-                    || bb.statements.iter().any(|stmt| match stmt.kind {\n-                        StatementKind::LlvmInlineAsm(..) => true,\n-                        _ => false,\n-                    })\n+                    || bb.statements.iter().any(|stmt| matches!(stmt.kind, StatementKind::LlvmInlineAsm(..)))\n                     })\n                     .peekable();\n "}]}