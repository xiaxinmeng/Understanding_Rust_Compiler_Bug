{"sha": "259e806db6f444b5836c72c9ca8e43d52a5e7f8a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI1OWU4MDZkYjZmNDQ0YjU4MzZjNzJjOWNhOGU0M2Q1MmE1ZTdmOGE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-08-14T07:41:20Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-08-14T07:41:20Z"}, "message": "auto merge of #16428 : mdinger/rust/sort_attributes, r=cmr\n\nTargetting at fixing most of #16414.\r\n\r\nSorts these alphabetically:\r\n* [Crate-only attributes](http://doc.rust-lang.org/rust.html#crate-only-attributes)\r\n* [Function-only attributes](http://doc.rust-lang.org/rust.html#function-only-attributes)\r\n* [Miscellaneous attributes](http://doc.rust-lang.org/rust.html#miscellaneous-attributes)\r\n* [Lint check attributes](http://doc.rust-lang.org/rust.html#lint-check-attributes)\r\n* [Built-in Traits](http://doc.rust-lang.org/rust.html#built-in-traits)\r\n* [Types](http://doc.rust-lang.org/rust.html#types)\r\n* [Deriving](http://doc.rust-lang.org/rust.html#deriving)\r\n* [Compiler Features](http://doc.rust-lang.org/rust.html#compiler-features)\r\n\r\nDoesn't modify these:\r\n* [Operators](http://doc.rust-lang.org/rust.html#operators): An alternative sorting is unclear.\r\n* [Marker types](http://doc.rust-lang.org/rust.html#marker-types): Could be sorted but uncertain how. See below.\r\n* [Stability](http://doc.rust-lang.org/rust.html#stability): Already sorted by stability\r\n\r\n---\r\n\r\n[Marker types](http://doc.rust-lang.org/rust.html#marker-types) has an extra newline above `fail_` which may throw off formatting (see #16412) or it may be for some other reason. If the newline is just a typo, I can just remove it and format this alphabetically like so:\r\n```rust\r\n// Sorted alphabetically\r\na_bread\r\nb_bread\r\nc_bread\r\nfail_\r\nfail_bounds_check\r\na_type\r\nb_type\r\nc_type\r\n```\r\n\r\nMarker types is listed as likely to become out of date so I don't know if this is worth doing anyway.\r\n\r\n[EDIT] modified `Marker types` now and tried to update the language items list.", "tree": {"sha": "28d9eb15f7d8a4de5a2666387a731b36137d2950", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/28d9eb15f7d8a4de5a2666387a731b36137d2950"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/259e806db6f444b5836c72c9ca8e43d52a5e7f8a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/259e806db6f444b5836c72c9ca8e43d52a5e7f8a", "html_url": "https://github.com/rust-lang/rust/commit/259e806db6f444b5836c72c9ca8e43d52a5e7f8a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/259e806db6f444b5836c72c9ca8e43d52a5e7f8a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "385c39a77b238df9371ee8bccc768b8d39258edd", "url": "https://api.github.com/repos/rust-lang/rust/commits/385c39a77b238df9371ee8bccc768b8d39258edd", "html_url": "https://github.com/rust-lang/rust/commit/385c39a77b238df9371ee8bccc768b8d39258edd"}, {"sha": "c69f7a92345bea876ef2f292d73b88d31cc51e95", "url": "https://api.github.com/repos/rust-lang/rust/commits/c69f7a92345bea876ef2f292d73b88d31cc51e95", "html_url": "https://github.com/rust-lang/rust/commit/c69f7a92345bea876ef2f292d73b88d31cc51e95"}], "stats": {"total": 256, "additions": 144, "deletions": 112}, "files": [{"sha": "ae4b33b6cb3bae02932b8c0cd10dd86e60cbea96", "filename": "src/doc/rust.md", "status": "modified", "additions": 144, "deletions": 112, "changes": 256, "blob_url": "https://github.com/rust-lang/rust/blob/259e806db6f444b5836c72c9ca8e43d52a5e7f8a/src%2Fdoc%2Frust.md", "raw_url": "https://github.com/rust-lang/rust/raw/259e806db6f444b5836c72c9ca8e43d52a5e7f8a/src%2Fdoc%2Frust.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frust.md?ref=259e806db6f444b5836c72c9ca8e43d52a5e7f8a", "patch": "@@ -1873,13 +1873,13 @@ type int8_t = i8;\n - `crate_id` - specify the this crate's crate ID.\n - `crate_type` - see [linkage](#linkage).\n - `feature` - see [compiler features](#compiler-features).\n+- `no_builtins` - disable optimizing certain code patterns to invocations of\n+                  library functions that are assumed to exist\n - `no_main` - disable emitting the `main` symbol. Useful when some other\n   object being linked to defines `main`.\n - `no_start` - disable linking to the `native` crate, which specifies the\n   \"start\" language item.\n - `no_std` - disable linking to the `std` crate.\n-- `no_builtins` - disable optimizing certain code patterns to invocations of\n-                  library functions that are assumed to exist\n \n ### Module-only attributes\n \n@@ -1893,10 +1893,10 @@ type int8_t = i8;\n \n ### Function-only attributes\n \n-- `plugin_registrar` - mark this function as the registration point for\n-  compiler plugins, such as loadable syntax extensions.\n - `main` - indicates that this function should be passed to the entry point,\n   rather than the function in the crate root named `main`.\n+- `plugin_registrar` - mark this function as the registration point for\n+  compiler plugins, such as loadable syntax extensions.\n - `start` - indicates that this function should be used as the entry point,\n   overriding the \"start\" language item.  See the \"start\" [language\n   item](#language-items) for more details.\n@@ -1935,6 +1935,12 @@ interpreted:\n   symbol for this item to its identifier.\n - `packed` - on structs or enums, eliminate any padding that would be used to\n   align fields.\n+- `phase` - on `extern crate` statements, allows specifying which \"phase\" of\n+  compilation the crate should be loaded for. Currently, there are two\n+  choices: `link` and `plugin`. `link` is the default. `plugin` will load the\n+  crate at compile-time and use any syntax extensions or lints that the crate\n+  defines. They can both be specified, `#[phase(link, plugin)]` to use a crate\n+  both at runtime and compiletime.\n - `repr` - on C-like enums, this sets the underlying type used for\n   representation. Useful for FFI. Takes one argument, which is the primitive\n   type this enum should be represented for, or `C`, which specifies that it\n@@ -1952,12 +1958,6 @@ interpreted:\n - `unsafe_no_drop_flag` - on structs, remove the flag that prevents\n   destructors from being run twice. Destructors might be run multiple times on\n   the same object with this attribute.\n-- `phase` - on `extern crate` statements, allows specifying which \"phase\" of\n-  compilation the crate should be loaded for. Currently, there are two\n-  choices: `link` and `plugin`. `link` is the default. `plugin` will load the\n-  crate at compile-time and use any syntax extensions or lints that the crate\n-  defines. They can both be specified, `#[phase(link, plugin)]` to use a crate\n-  both at runtime and compiletime.\n \n ### Conditional compilation\n \n@@ -2024,12 +2024,12 @@ which the attribute applies.\n \n For any lint check `C`:\n \n- * `warn(C)` warns about violations of `C` but continues compilation,\n- * `deny(C)` signals an error after encountering a violation of `C`,\n  * `allow(C)` overrides the check for `C` so that violations will go\n     unreported,\n+ * `deny(C)` signals an error after encountering a violation of `C`,\n  * `forbid(C)` is the same as `deny(C)`, but also forbids changing the lint\n-    level afterwards.\n+    level afterwards,\n+ * `warn(C)` warns about violations of `C` but continues compilation.\n \n The lint checks supported by the compiler can be found via `rustc -W help`,\n along with their default settings.\n@@ -2108,16 +2108,16 @@ A complete list of the built-in language items follows:\n \n #### Built-in Traits\n \n+* `copy`\n+  : Types that do not move ownership when used by-value.\n+* `drop`\n+  : Have destructors.\n * `send`\n   : Able to be sent across task boundaries.\n * `sized`\n   : Has a size known at compile time.\n-* `copy`\n-  : Types that do not move ownership when used by-value.\n * `sync`\n   : Able to be safely shared between tasks when aliased.\n-* `drop`\n-  : Have destructors.\n \n #### Operators\n \n@@ -2149,6 +2149,8 @@ These language items are traits:\n   : Elements have a right shift operation.\n * `index`\n   : Elements can be indexed.\n+* `index_mut`\n+  : ___Needs filling in___\n * `eq`\n   : Elements can be compared for equality.\n * `ord`\n@@ -2158,9 +2160,14 @@ These language items are traits:\n * `deref_mut`\n   : `*` can be applied, yielding a mutable reference to another type\n \n-\n These are functions:\n \n+* `fn`\n+  : ___Needs filling in___\n+* `fn_mut`\n+  : ___Needs filling in___\n+* `fn_once`\n+  : ___Needs filling in___\n * `str_eq`\n   : Compare two strings (`&str`) for equality.\n * `strdup_uniq`\n@@ -2169,48 +2176,73 @@ These are functions:\n \n #### Types\n \n-* `unsafe`\n-  : A type whose contents can be mutated through an immutable reference\n * `type_id`\n   : The type returned by the `type_id` intrinsic.\n+* `unsafe`\n+  : A type whose contents can be mutated through an immutable reference\n \n #### Marker types\n \n These types help drive the compiler's analysis\n \n-* `covariant_type`\n-  : The type parameter should be considered covariant\n-* `contravariant_type`\n-  : The type parameter should be considered contravariant\n-* `invariant_type`\n-  : The type parameter should be considered invariant\n-* `covariant_lifetime`\n-  : The lifetime parameter should be considered covariant\n-* `contravariant_lifetime`\n-  : The lifetime parameter should be considered contravariant\n-* `invariant_lifetime`\n-  : The lifetime parameter should be considered invariant\n-* `no_send_bound`\n-  : This type does not implement \"send\", even if eligible\n+* `begin_unwind`\n+  : ___Needs filling in___\n * `no_copy_bound`\n   : This type does not implement \"copy\", even if eligible\n+* `no_send_bound`\n+  : This type does not implement \"send\", even if eligible\n * `no_sync_bound`\n   : This type does not implement \"sync\", even if eligible\n * `managed_bound`\n   : This type implements \"managed\"\n-\n+* `eh_personality`\n+  : ___Needs filling in___\n+* `exchange_free`\n+  : Free memory that was allocated on the exchange heap.\n+* `exchange_malloc`\n+  : Allocate memory on the exchange heap.\n+* `closure_exchange_malloc`\n+  : ___Needs filling in___\n * `fail_`\n   : Abort the program with an error.\n * `fail_bounds_check`\n   : Abort the program with a bounds check error.\n-* `exchange_malloc`\n-  : Allocate memory on the exchange heap.\n-* `exchange_free`\n-  : Free memory that was allocated on the exchange heap.\n-* `malloc`\n-  : Allocate memory on the managed heap.\n * `free`\n   : Free memory that was allocated on the managed heap.\n+* `gc`\n+  : ___Needs filling in___\n+* `exchange_heap`\n+  : ___Needs filling in___\n+* `managed_heap`\n+  : ___Needs filling in___\n+* `iterator`\n+  : ___Needs filling in___\n+* `contravariant_lifetime`\n+  : The lifetime parameter should be considered contravariant\n+* `covariant_lifetime`\n+  : The lifetime parameter should be considered covariant\n+* `invariant_lifetime`\n+  : The lifetime parameter should be considered invariant\n+* `malloc`\n+  : Allocate memory on the managed heap.\n+* `opaque`\n+  : ___Needs filling in___\n+* `owned_box`\n+  : ___Needs filling in___\n+* `stack_exhausted`\n+  : ___Needs filling in___\n+* `start`\n+  : ___Needs filling in___\n+* `contravariant_type`\n+  : The type parameter should be considered contravariant\n+* `covariant_type`\n+  : The type parameter should be considered covariant\n+* `invariant_type`\n+  : The type parameter should be considered invariant\n+* `ty_desc`\n+  : ___Needs filling in___\n+* `ty_visitor`\n+  : ___Needs filling in___\n \n > **Note:** This list is likely to become out of date. We should auto-generate it\n > from `librustc/middle/lang_items.rs`.\n@@ -2279,12 +2311,12 @@ Supported traits for `deriving` are:\n * Comparison traits: `PartialEq`, `Eq`, `PartialOrd`, `Ord`.\n * Serialization: `Encodable`, `Decodable`. These require `serialize`.\n * `Clone`, to create `T` from `&T` via a copy.\n-* `Hash`, to iterate over the bytes in a data type.\n-* `Rand`, to create a random instance of a data type.\n * `Default`, to create an empty instance of a data type.\n-* `Zero`, to create a zero instance of a numeric data type.\n * `FromPrimitive`, to create an instance from a numeric primitive.\n+* `Hash`, to iterate over the bytes in a data type.\n+* `Rand`, to create a random instance of a data type.\n * `Show`, to format a value using the `{}` formatter.\n+* `Zero`, to create a zero instance of a numeric data type.\n \n ### Stability\n \n@@ -2378,34 +2410,48 @@ considered off, and using the features will result in a compiler error.\n \n The currently implemented features of the reference compiler are:\n \n-* `macro_rules` - The definition of new macros. This does not encompass\n-                  macro-invocation, that is always enabled by default, this only\n-                  covers the definition of new macros. There are currently\n-                  various problems with invoking macros, how they interact with\n-                  their environment, and possibly how they are used outside of\n-                  location in which they are defined. Macro definitions are\n-                  likely to change slightly in the future, so they are currently\n-                  hidden behind this feature.\n+* `asm` - The `asm!` macro provides a means for inline assembly. This is often\n+          useful, but the exact syntax for this feature along with its semantics\n+          are likely to change, so this macro usage must be opted into.\n+\n+* `concat_idents` - Allows use of the `concat_idents` macro, which is in many\n+                    ways insufficient for concatenating identifiers, and may\n+                    be removed entirely for something more wholsome.\n+\n+* `default_type_params` - Allows use of default type parameters. The future of\n+                          this feature is uncertain.\n \n * `globs` - Importing everything in a module through `*`. This is currently a\n             large source of bugs in name resolution for Rust, and it's not clear\n             whether this will continue as a feature or not. For these reasons,\n             the glob import statement has been hidden behind this feature flag.\n \n-* `struct_variant` - Structural enum variants (those with named fields). It is\n-                     currently unknown whether this style of enum variant is as\n-                     fully supported as the tuple-forms, and it's not certain\n-                     that this style of variant should remain in the language.\n-                     For now this style of variant is hidden behind a feature\n-                     flag.\n+* `intrinsics` - Allows use of the \"rust-intrinsics\" ABI. Compiler intrinsics\n+                 are inherently unstable and no promise about them is made.\n \n-* `once_fns` - Onceness guarantees a closure is only executed once. Defining a\n-               closure as `once` is unlikely to be supported going forward. So\n-               they are hidden behind this feature until they are to be removed.\n+* `lang_items` - Allows use of the `#[lang]` attribute. Like `intrinsics`,\n+                 lang items are inherently unstable and no promise about\n+                 them is made.\n \n-* `asm` - The `asm!` macro provides a means for inline assembly. This is often\n-          useful, but the exact syntax for this feature along with its semantics\n-          are likely to change, so this macro usage must be opted into.\n+* `link_args` - This attribute is used to specify custom flags to the linker,\n+                but usage is strongly discouraged. The compiler's usage of the\n+                system linker is not guaranteed to continue in the future, and\n+                if the system linker is not used then specifying custom flags\n+                doesn't have much meaning.\n+\n+* `linkage` - Allows use of the `linkage` attribute, which is not portable.\n+\n+* `log_syntax` - Allows use of the `log_syntax` macro attribute, which is a\n+                 nasty hack that will certainly be removed.\n+\n+* `macro_rules` - The definition of new macros. This does not encompass\n+                  macro-invocation, that is always enabled by default, this only\n+                  covers the definition of new macros. There are currently\n+                  various problems with invoking macros, how they interact with\n+                  their environment, and possibly how they are used outside of\n+                  location in which they are defined. Macro definitions are\n+                  likely to change slightly in the future, so they are currently\n+                  hidden behind this feature.\n \n * `managed_boxes` - Usage of `@` is gated due to many\n                     planned changes to this feature. In the past, this has meant\n@@ -2420,20 +2466,14 @@ The currently implemented features of the reference compiler are:\n                        now until the specification of identifiers is fully\n                        fleshed out.\n \n-* `thread_local` - The usage of the `#[thread_local]` attribute is experimental\n-                   and should be seen as unstable. This attribute is used to\n-                   declare a `static` as being unique per-thread leveraging\n-                   LLVM's implementation which works in concert with the kernel\n-                   loader and dynamic linker. This is not necessarily available\n-                   on all platforms, and usage of it is discouraged (rust\n-                   focuses more on task-local data instead of thread-local\n-                   data).\n+* `once_fns` - Onceness guarantees a closure is only executed once. Defining a\n+               closure as `once` is unlikely to be supported going forward. So\n+               they are hidden behind this feature until they are to be removed.\n \n-* `link_args` - This attribute is used to specify custom flags to the linker,\n-                but usage is strongly discouraged. The compiler's usage of the\n-                system linker is not guaranteed to continue in the future, and\n-                if the system linker is not used then specifying custom flags\n-                doesn't have much meaning.\n+* `overloaded_calls` - Allow implementing the `Fn*` family of traits on user\n+                       types, allowing overloading the call operator (`()`).\n+                       This feature may still undergo changes before being\n+                       stabilized.\n \n * `phase` - Usage of the `#[phase]` attribute allows loading compiler plugins\n             for custom lints or syntax extensions. The implementation is considered\n@@ -2445,56 +2485,48 @@ The currently implemented features of the reference compiler are:\n                        in need of a overhaul, and it is not clear that plugins\n                        defined using this will continue to work.\n \n-* `log_syntax` - Allows use of the `log_syntax` macro attribute, which is a\n-                 nasty hack that will certainly be removed.\n-\n-* `trace_macros` - Allows use of the `trace_macros` macro, which is a nasty\n-                   hack that will certainly be removed.\n-\n-* `concat_idents` - Allows use of the `concat_idents` macro, which is in many\n-                    ways insufficient for concatenating identifiers, and may\n-                    be removed entirely for something more wholsome.\n-\n-* `unsafe_destructor` - Allows use of the `#[unsafe_destructor]` attribute,\n-                        which is considered wildly unsafe and will be\n-                        obsoleted by language improvements.\n-\n-* `intrinsics` - Allows use of the \"rust-intrinsics\" ABI. Compiler intrinsics\n-                 are inherently unstable and no promise about them is made.\n-\n-* `lang_items` - Allows use of the `#[lang]` attribute. Like `intrinsics`,\n-                 lang items are inherently unstable and no promise about\n-                 them is made.\n-\n-* `simd` - Allows use of the `#[simd]` attribute, which is overly simple and\n-           not the SIMD interface we want to expose in the long term.\n-\n-* `default_type_params` - Allows use of default type parameters. The future of\n-                          this feature is uncertain.\n-\n * `quote` - Allows use of the `quote_*!` family of macros, which are\n             implemented very poorly and will likely change significantly\n             with a proper implementation.\n \n-* `linkage` - Allows use of the `linkage` attribute, which is not portable.\n+* `rustc_diagnostic_macros`- A mysterious feature, used in the implementation\n+                             of rustc, not meant for mortals.\n+\n+* `simd` - Allows use of the `#[simd]` attribute, which is overly simple and\n+           not the SIMD interface we want to expose in the long term.\n \n * `struct_inherit` - Allows using struct inheritance, which is barely\n                      implemented and will probably be removed. Don't use this.\n \n-* `overloaded_calls` - Allow implementing the `Fn*` family of traits on user\n-                       types, allowing overloading the call operator (`()`).\n-                       This feature may still undergo changes before being\n-                       stabilized.\n+* `struct_variant` - Structural enum variants (those with named fields). It is\n+                     currently unknown whether this style of enum variant is as\n+                     fully supported as the tuple-forms, and it's not certain\n+                     that this style of variant should remain in the language.\n+                     For now this style of variant is hidden behind a feature\n+                     flag.\n+\n+* `thread_local` - The usage of the `#[thread_local]` attribute is experimental\n+                   and should be seen as unstable. This attribute is used to\n+                   declare a `static` as being unique per-thread leveraging\n+                   LLVM's implementation which works in concert with the kernel\n+                   loader and dynamic linker. This is not necessarily available\n+                   on all platforms, and usage of it is discouraged (rust\n+                   focuses more on task-local data instead of thread-local\n+                   data).\n+\n+* `trace_macros` - Allows use of the `trace_macros` macro, which is a nasty\n+                   hack that will certainly be removed.\n \n * `unboxed_closure_sugar` - Allows using `|Foo| -> Bar` as a trait bound\n                             meaning one of the `Fn` traits.  Still\n                             experimental.\n \n-* `rustc_diagnostic_macros`- A mysterious feature, used in the implementation\n-                             of rustc, not meant for mortals.\n-\n * `unboxed_closures` - A work in progress feature with many known bugs.\n \n+* `unsafe_destructor` - Allows use of the `#[unsafe_destructor]` attribute,\n+                        which is considered wildly unsafe and will be\n+                        obsoleted by language improvements.\n+\n If a feature is promoted to a language feature, then all existing programs will\n start to receive compilation warnings about #[feature] directives which enabled\n the new feature (because the directive is no longer necessary). However, if"}]}