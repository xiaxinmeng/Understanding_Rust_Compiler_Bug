{"sha": "d454e8106024fcb517d8fc20d4bdd2c54229695a", "node_id": "C_kwDOAAsO6NoAKGQ0NTRlODEwNjAyNGZjYjUxN2Q4ZmMyMGQ0YmRkMmM1NDIyOTY5NWE", "commit": {"author": {"name": "Yacin Tmimi", "email": "yacintmimi@gmail.com", "date": "2021-10-23T21:18:47Z"}, "committer": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2021-10-26T01:46:46Z"}, "message": "Add rustdoc CI check\n\nResolves 5038\n\nrust-lang/rust builds now document rustfmt (rust-lang/rust#87119). The\nbuild process is updated with doc checks to ensure that rustfmt doesn't\nintroduce warnings.\n\nWarnings are treated as hard errors in rust-lang/rust and won't show\nuntil bors tests the changes (refs rust-lang/rust#90087).", "tree": {"sha": "2c18e1dc7d59cdb99927c2fae57bc1a56ad8ca12", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2c18e1dc7d59cdb99927c2fae57bc1a56ad8ca12"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d454e8106024fcb517d8fc20d4bdd2c54229695a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d454e8106024fcb517d8fc20d4bdd2c54229695a", "html_url": "https://github.com/rust-lang/rust/commit/d454e8106024fcb517d8fc20d4bdd2c54229695a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d454e8106024fcb517d8fc20d4bdd2c54229695a/comments", "author": {"login": "ytmimi", "id": 29028348, "node_id": "MDQ6VXNlcjI5MDI4MzQ4", "avatar_url": "https://avatars.githubusercontent.com/u/29028348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ytmimi", "html_url": "https://github.com/ytmimi", "followers_url": "https://api.github.com/users/ytmimi/followers", "following_url": "https://api.github.com/users/ytmimi/following{/other_user}", "gists_url": "https://api.github.com/users/ytmimi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ytmimi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ytmimi/subscriptions", "organizations_url": "https://api.github.com/users/ytmimi/orgs", "repos_url": "https://api.github.com/users/ytmimi/repos", "events_url": "https://api.github.com/users/ytmimi/events{/privacy}", "received_events_url": "https://api.github.com/users/ytmimi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50369f5bc03e3011ae8383cc3cbb85ae51fe9276", "url": "https://api.github.com/repos/rust-lang/rust/commits/50369f5bc03e3011ae8383cc3cbb85ae51fe9276", "html_url": "https://github.com/rust-lang/rust/commit/50369f5bc03e3011ae8383cc3cbb85ae51fe9276"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "ca96d30f58639c5029f4d9aed05ee38eb0dbc3fd", "filename": ".github/workflows/rustdoc_check.yml", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/d454e8106024fcb517d8fc20d4bdd2c54229695a/.github%2Fworkflows%2Frustdoc_check.yml", "raw_url": "https://github.com/rust-lang/rust/raw/d454e8106024fcb517d8fc20d4bdd2c54229695a/.github%2Fworkflows%2Frustdoc_check.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Frustdoc_check.yml?ref=d454e8106024fcb517d8fc20d4bdd2c54229695a", "patch": "@@ -0,0 +1,25 @@\n+name: rustdoc check\n+on:\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+\n+jobs:\n+  rustdoc_check:\n+    runs-on: ubuntu-latest\n+    name: rustdoc check\n+    steps:\n+    - name: checkout\n+      uses: actions/checkout@v2\n+\n+    - name: install rustup\n+      run: |\n+        curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs > rustup-init.sh\n+        sh rustup-init.sh -y --default-toolchain none\n+        rustup target add x86_64-unknown-linux-gnu\n+\n+    - name: document rustfmt\n+      env:\n+        RUSTDOCFLAGS: --document-private-items --enable-index-page --show-type-layout --generate-link-to-definition -Zunstable-options -Dwarnings\n+      run: cargo doc -Zskip-rustdoc-fingerprint --no-deps -p rustfmt-nightly -p rustfmt-config_proc_macro"}]}