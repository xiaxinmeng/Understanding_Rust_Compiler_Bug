{"sha": "a1dc57ace12c2d530f062a52fad940153fafc93a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExZGM1N2FjZTEyYzJkNTMwZjA2MmE1MmZhZDk0MDE1M2ZhZmM5M2E=", "commit": {"author": {"name": "Caleb Cartwright", "email": "caleb.cartwright@outlook.com", "date": "2021-03-14T18:44:02Z"}, "committer": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2021-04-03T04:21:06Z"}, "message": "chore: apply AST HasAttrs->AstLike changes", "tree": {"sha": "08f737d9327d02de1f35a66fd71760bc619ec884", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/08f737d9327d02de1f35a66fd71760bc619ec884"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a1dc57ace12c2d530f062a52fad940153fafc93a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a1dc57ace12c2d530f062a52fad940153fafc93a", "html_url": "https://github.com/rust-lang/rust/commit/a1dc57ace12c2d530f062a52fad940153fafc93a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a1dc57ace12c2d530f062a52fad940153fafc93a/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "83cbdf64be2f11ff6769b59eecf4037cf7946821", "url": "https://api.github.com/repos/rust-lang/rust/commits/83cbdf64be2f11ff6769b59eecf4037cf7946821", "html_url": "https://github.com/rust-lang/rust/commit/83cbdf64be2f11ff6769b59eecf4037cf7946821"}], "stats": {"total": 17, "additions": 8, "deletions": 9}, "files": [{"sha": "4d2b3eacb1523cce427d3c2c64758f353089cec3", "filename": "Cargo.lock", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a1dc57ace12c2d530f062a52fad940153fafc93a/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/a1dc57ace12c2d530f062a52fad940153fafc93a/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=a1dc57ace12c2d530f062a52fad940153fafc93a", "patch": "@@ -1285,7 +1285,6 @@ dependencies = [\n  \"regex\",\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_ast_pretty\",\n- \"rustc-ap-rustc_attr\",\n  \"rustc-ap-rustc_data_structures\",\n  \"rustc-ap-rustc_errors\",\n  \"rustc-ap-rustc_expand\","}, {"sha": "4f114e6afa45248271739746b32abeb911179ff2", "filename": "Cargo.toml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a1dc57ace12c2d530f062a52fad940153fafc93a/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a1dc57ace12c2d530f062a52fad940153fafc93a/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=a1dc57ace12c2d530f062a52fad940153fafc93a", "patch": "@@ -72,9 +72,9 @@ version = \"709.0.0\"\n package = \"rustc-ap-rustc_ast_pretty\"\n version = \"709.0.0\"\n \n-[dependencies.rustc_attr]\n-package = \"rustc-ap-rustc_attr\"\n-version = \"708.0.0\"\n+# [dependencies.rustc_attr]\n+# package = \"rustc-ap-rustc_attr\"\n+# version = \"708.0.0\"\n \n [dependencies.rustc_data_structures]\n package = \"rustc-ap-rustc_data_structures\""}, {"sha": "015e9f9b2528adf2902fdbaea15d5318d420472b", "filename": "src/attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fattr.rs?ref=a1dc57ace12c2d530f062a52fad940153fafc93a", "patch": "@@ -1,7 +1,7 @@\n //! Format attributes and meta items.\n \n use rustc_ast::ast;\n-use rustc_ast::attr::HasAttrs;\n+use rustc_ast::AstLike;\n use rustc_span::{symbol::sym, Span, Symbol};\n \n use self::doc_comment::DocCommentFormatter;"}, {"sha": "ce28f6bfea3664efcecf0490c9eaa9e7c6831b5f", "filename": "src/formatting.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fformatting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fformatting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fformatting.rs?ref=a1dc57ace12c2d530f062a52fad940153fafc93a", "patch": "@@ -4,7 +4,7 @@ use std::collections::HashMap;\n use std::io::{self, Write};\n use std::time::{Duration, Instant};\n \n-use rustc_ast::ast;\n+use rustc_ast::{ast, AstLike};\n use rustc_span::Span;\n \n use self::newline_style::apply_newline_style;"}, {"sha": "feffd6e4a777619d5539eb8ea000097ddaddfa8f", "filename": "src/modules.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fmodules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fmodules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmodules.rs?ref=a1dc57ace12c2d530f062a52fad940153fafc93a", "patch": "@@ -3,8 +3,8 @@ use std::collections::BTreeMap;\n use std::path::{Path, PathBuf};\n \n use rustc_ast::ast;\n-use rustc_ast::attr::HasAttrs;\n use rustc_ast::visit::Visitor;\n+use rustc_ast::AstLike;\n use rustc_span::symbol::{self, sym, Symbol};\n use rustc_span::Span;\n use thiserror::Error;\n@@ -54,7 +54,7 @@ impl<'a> Module<'a> {\n     }\n }\n \n-impl<'a> HasAttrs for Module<'a> {\n+impl<'a> AstLike for Module<'a> {\n     fn attrs(&self) -> &[ast::Attribute] {\n         &self.inner_attr\n     }"}, {"sha": "55cc9ec7f58c83bc61d4094a0a53e8761f18a6e1", "filename": "src/visitor.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fvisitor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a1dc57ace12c2d530f062a52fad940153fafc93a/src%2Fvisitor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvisitor.rs?ref=a1dc57ace12c2d530f062a52fad940153fafc93a", "patch": "@@ -1,7 +1,7 @@\n use std::cell::{Cell, RefCell};\n use std::rc::Rc;\n \n-use rustc_ast::{ast, attr::HasAttrs, token::DelimToken, visit};\n+use rustc_ast::{ast, token::DelimToken, visit, AstLike};\n use rustc_span::{symbol, BytePos, Pos, Span, DUMMY_SP};\n \n use crate::attr::*;"}]}