{"sha": "29dccfe9e498f41169c120e515494cdd9b5b3e11", "node_id": "C_kwDOAAsO6NoAKDI5ZGNjZmU5ZTQ5OGY0MTE2OWMxMjBlNTE1NDk0Y2RkOWI1YjNlMTE", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-07-30T05:43:26Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-11-05T18:05:44Z"}, "message": "Bless chalk tests", "tree": {"sha": "f30c84754a7b98d138fac7be6af369df8e8a5bde", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f30c84754a7b98d138fac7be6af369df8e8a5bde"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/29dccfe9e498f41169c120e515494cdd9b5b3e11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/29dccfe9e498f41169c120e515494cdd9b5b3e11", "html_url": "https://github.com/rust-lang/rust/commit/29dccfe9e498f41169c120e515494cdd9b5b3e11", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/29dccfe9e498f41169c120e515494cdd9b5b3e11/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2257ba92db333277c957b3934cdebc2a0a2c2604", "url": "https://api.github.com/repos/rust-lang/rust/commits/2257ba92db333277c957b3934cdebc2a0a2c2604", "html_url": "https://github.com/rust-lang/rust/commit/2257ba92db333277c957b3934cdebc2a0a2c2604"}], "stats": {"total": 57, "additions": 44, "deletions": 13}, "files": [{"sha": "54281f91205476b0605c4103c80c682bded4ab3c", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/29dccfe9e498f41169c120e515494cdd9b5b3e11/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29dccfe9e498f41169c120e515494cdd9b5b3e11/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fmod.rs?ref=29dccfe9e498f41169c120e515494cdd9b5b3e11", "patch": "@@ -867,7 +867,8 @@ impl<'tcx> TypeErrCtxtExt<'tcx> for TypeErrCtxt<'_, 'tcx> {\n                             );\n                         }\n \n-                        let is_fn_trait = ty::ClosureKind::from_def_id(tcx, trait_ref.def_id()).is_some();\n+                        let is_fn_trait =\n+                            ty::ClosureKind::from_def_id(tcx, trait_ref.def_id()).is_some();\n                         let is_target_feature_fn = if let ty::FnDef(def_id, _) =\n                             *trait_ref.skip_binder().self_ty().kind()\n                         {"}, {"sha": "408e8802d862cb86a56b1afbfa556cd31c2380ca", "filename": "src/test/ui/chalkify/closure.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fchalkify%2Fclosure.rs?ref=29dccfe9e498f41169c120e515494cdd9b5b3e11", "patch": "@@ -1,4 +1,5 @@\n-// check-fail\n+// known-bug: unknown\n+// FIXME(chalk): Chalk needs support for the Tuple trait\n // compile-flags: -Z chalk\n \n fn main() -> () {\n@@ -25,7 +26,7 @@ fn main() -> () {\n     let mut c = b;\n \n     c();\n-    b(); //~ ERROR\n+    b(); // FIXME: reenable when this is fixed ~ ERROR\n \n     // FIXME(chalk): this doesn't quite work\n     /*"}, {"sha": "bcee0cab96ae7788aa26729790cdb62f55044eeb", "filename": "src/test/ui/chalkify/closure.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Fclosure.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Fclosure.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fchalkify%2Fclosure.stderr?ref=29dccfe9e498f41169c120e515494cdd9b5b3e11", "patch": "@@ -1,5 +1,5 @@\n error[E0277]: `()` is not a tuple\n-  --> $DIR/closure.rs:6:5\n+  --> $DIR/closure.rs:7:5\n    |\n LL |     t();\n    |     ^^^ the trait `Tuple` is not implemented for `()`\n@@ -10,7 +10,7 @@ LL | fn main() -> () where (): Tuple {\n    |                 +++++++++++++++\n \n error[E0277]: `()` is not a tuple\n-  --> $DIR/closure.rs:12:5\n+  --> $DIR/closure.rs:13:5\n    |\n LL |     b();\n    |     ^^^ the trait `Tuple` is not implemented for `()`\n@@ -21,7 +21,7 @@ LL | fn main() -> () where (): Tuple {\n    |                 +++++++++++++++\n \n error[E0277]: `()` is not a tuple\n-  --> $DIR/closure.rs:16:5\n+  --> $DIR/closure.rs:17:5\n    |\n LL |     c();\n    |     ^^^ the trait `Tuple` is not implemented for `()`\n@@ -32,7 +32,7 @@ LL | fn main() -> () where (): Tuple {\n    |                 +++++++++++++++\n \n error[E0277]: `()` is not a tuple\n-  --> $DIR/closure.rs:17:5\n+  --> $DIR/closure.rs:18:5\n    |\n LL |     b();\n    |     ^^^ the trait `Tuple` is not implemented for `()`\n@@ -43,7 +43,7 @@ LL | fn main() -> () where (): Tuple {\n    |                 +++++++++++++++\n \n error[E0277]: `()` is not a tuple\n-  --> $DIR/closure.rs:23:5\n+  --> $DIR/closure.rs:24:5\n    |\n LL |     b();\n    |     ^^^ the trait `Tuple` is not implemented for `()`\n@@ -54,7 +54,7 @@ LL | fn main() -> () where (): Tuple {\n    |                 +++++++++++++++\n \n error[E0277]: `()` is not a tuple\n-  --> $DIR/closure.rs:27:5\n+  --> $DIR/closure.rs:28:5\n    |\n LL |     c();\n    |     ^^^ the trait `Tuple` is not implemented for `()`\n@@ -65,10 +65,10 @@ LL | fn main() -> () where (): Tuple {\n    |                 +++++++++++++++\n \n error[E0277]: `()` is not a tuple\n-  --> $DIR/closure.rs:28:5\n+  --> $DIR/closure.rs:29:5\n    |\n-LL |     b();\n-   |     ^^^ `()` is not a tuple\n+LL |     b(); // FIXME: reenable when this is fixed ~ ERROR\n+   |     ^^^ the trait `Tuple` is not implemented for `()`\n    |\n help: consider introducing a `where` clause, but there might be an alternative better way to express this requirement\n    |"}, {"sha": "30929e943bd7fce96989761b40f07c29a7080f64", "filename": "src/test/ui/chalkify/trait-objects.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Ftrait-objects.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Ftrait-objects.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fchalkify%2Ftrait-objects.rs?ref=29dccfe9e498f41169c120e515494cdd9b5b3e11", "patch": "@@ -1,4 +1,5 @@\n-// check-pass\n+// known-bug: unknown\n+// FIXME(chalk): Chalk needs support for the Tuple trait\n // compile-flags: -Z chalk\n \n use std::fmt::Display;"}, {"sha": "098bd2d3226e5e7abedc043b11f98d9b536b81fe", "filename": "src/test/ui/chalkify/trait-objects.stderr", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Ftrait-objects.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/29dccfe9e498f41169c120e515494cdd9b5b3e11/src%2Ftest%2Fui%2Fchalkify%2Ftrait-objects.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fchalkify%2Ftrait-objects.stderr?ref=29dccfe9e498f41169c120e515494cdd9b5b3e11", "patch": "@@ -0,0 +1,28 @@\n+error: the type `&dyn Fn(i32) -> _` is not well-formed (chalk)\n+  --> $DIR/trait-objects.rs:11:12\n+   |\n+LL |     let f: &dyn Fn(i32) -> _ = &|x| x + x;\n+   |            ^^^^^^^^^^^^^^^^^\n+\n+error[E0277]: `(i32,)` is not a tuple\n+  --> $DIR/trait-objects.rs:12:5\n+   |\n+LL |     f(2);\n+   |     ^^^^ the trait `Tuple` is not implemented for `(i32,)`\n+   |\n+help: consider introducing a `where` clause, but there might be an alternative better way to express this requirement\n+   |\n+LL | fn main() where (i32,): Tuple {\n+   |           +++++++++++++++++++\n+\n+error[E0277]: expected a `Fn<(i32,)>` closure, found `dyn Fn(i32) -> i32`\n+  --> $DIR/trait-objects.rs:12:5\n+   |\n+LL |     f(2);\n+   |     ^^^^ expected an `Fn<(i32,)>` closure, found `dyn Fn(i32) -> i32`\n+   |\n+   = help: the trait `Fn<(i32,)>` is not implemented for `dyn Fn(i32) -> i32`\n+\n+error: aborting due to 3 previous errors\n+\n+For more information about this error, try `rustc --explain E0277`."}]}