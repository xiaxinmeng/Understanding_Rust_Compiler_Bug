{"sha": "0f4d5c2134fb8ecbac02678eaf512ec13914a75d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBmNGQ1YzIxMzRmYjhlY2JhYzAyNjc4ZWFmNTEyZWMxMzkxNGE3NWQ=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2013-05-28T17:17:17Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2013-06-13T21:40:24Z"}, "message": "checkpoint block-comment-wchar state.", "tree": {"sha": "f0b9e1ae5538a70f40c193f415452f76b2604435", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f0b9e1ae5538a70f40c193f415452f76b2604435"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0f4d5c2134fb8ecbac02678eaf512ec13914a75d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0f4d5c2134fb8ecbac02678eaf512ec13914a75d", "html_url": "https://github.com/rust-lang/rust/commit/0f4d5c2134fb8ecbac02678eaf512ec13914a75d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0f4d5c2134fb8ecbac02678eaf512ec13914a75d/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1deebeef7d18612565029da7d5adb5d71f280d85", "url": "https://api.github.com/repos/rust-lang/rust/commits/1deebeef7d18612565029da7d5adb5d71f280d85", "html_url": "https://github.com/rust-lang/rust/commit/1deebeef7d18612565029da7d5adb5d71f280d85"}], "stats": {"total": 115, "additions": 113, "deletions": 2}, "files": [{"sha": "b591b83ee37e2ed2613a2aa778a174329e5c2de1", "filename": "src/test/pretty/block-comment-wchar.pp", "status": "added", "additions": 110, "deletions": 0, "changes": 110, "blob_url": "https://github.com/rust-lang/rust/blob/0f4d5c2134fb8ecbac02678eaf512ec13914a75d/src%2Ftest%2Fpretty%2Fblock-comment-wchar.pp", "raw_url": "https://github.com/rust-lang/rust/raw/0f4d5c2134fb8ecbac02678eaf512ec13914a75d/src%2Ftest%2Fpretty%2Fblock-comment-wchar.pp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fblock-comment-wchar.pp?ref=0f4d5c2134fb8ecbac02678eaf512ec13914a75d", "patch": "@@ -0,0 +1,110 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// This is meant as a test case for Issue 3961.\n+//\n+// Test via: rustc --pretty normal src/test/pretty/block-comment-wchar.rs\n+//\n+// pp-exact:block-comment-wchar.pp\n+fn f() {\n+    fn nested() {\n+        /*\n+          Spaced2\n+        */\n+        /*\n+          Spaced10\n+        */\n+        /*\n+          Tabbed8+2\n+        */\n+        /*\n+          CR8+2\n+        */\n+    }\n+    /*\n+      Spaced2:                       (prefixed so start of space aligns with comment)\n+    */\n+    /*\n+    \t\tTabbed2: (more indented b/c *start* of space will align with comment)\n+    */\n+    /*\n+      Spaced6:                       (Alignment removed and realigning spaces inserted)\n+    */\n+    /*\n+      Tabbed4+2:                     (Alignment removed and realigning spaces inserted)\n+    */\n+\n+    /*\n+      VT4+2:                         (should align)\n+    */\n+    /*\n+      FF4+2:                         (should align)\n+    */\n+    /*\n+      CR4+2:                         (should align)\n+    */\n+    /*\n+    // (NEL deliberately omitted)\n+    */\n+    /*\n+      Ogham Space Mark 4+2:          (should align)\n+    */\n+    /*\n+      Mongolian Vowel Separator 4+2: (should align)\n+    */\n+    /*\n+      Four-per-em space 4+2:         (should align)\n+    */\n+\n+    /*\n+      Mongolian Vowel Sep   count 1: (should align)\n+      Mongolian Vowel Sep   count 2: (should align)\n+      Mongolian Vowel Sep   count 3: (should align)\n+      Mongolian Vowel Sep   count 4: (should align)\n+      Mongolian Vowel Sep   count 5: (should align)\n+      Mongolian Vowel Sep   count 6: (should align)\n+      Mongolian Vowel Sep   count 7: (should align)\n+      Mongolian Vowel Sep   count 8: (should align)\n+      Mongolian Vowel Sep   count 9: (should align)\n+      Mongolian Vowel Sep   count A: (should align)\n+      Mongolian Vowel Sep   count B: (should align)\n+      Mongolian Vowel Sep   count C: (should align)\n+      Mongolian Vowel Sep   count D: (should align)\n+      Mongolian Vowel Sep   count E: (should align)\n+      Mongolian Vowel Sep   count F: (should align)\n+    */\n+\n+/* */ /*\n+        Hello from offset 6\n+        Space 6+2:                     compare A\n+        Mongolian Vowel Separator 6+2: compare B\n+      */\n+/*\u180e*/ /*\n+        Hello from another offset 6 with wchars establishing column offset\n+        Space 6+2:                     compare C\n+        Mongolian Vowel Separator 6+2: compare D\n+      */\n+}\n+\n+fn main() {\n+    // Taken from http://en.wikipedia.org/wiki/Whitespace_character\n+    let chars = [ '\\x0A', '\\x0B', '\\x0C', '\\x0D', '\\x20',\n+                 // '\\x85', // for some reason Rust thinks NEL isn't whitespace\n+                 '\\xA0', '\\u1680', '\\u180E',\n+                 '\\u2000', '\\u2001', '\\u2002', '\\u2003',\n+                 '\\u2004', '\\u2005', '\\u2006', '\\u2007',\n+                 '\\u2008', '\\u2009', '\\u200A',\n+                 '\\u2028', '\\u2029', '\\u202F', '\\u205F',\n+                 '\\u3000'\n+                ];\n+    for vec::each(chars) |c| {\n+        io::println(fmt!(\"%? %?\", c, c.is_whitespace()));\n+    }\n+}"}, {"sha": "421857850b50ccf3fe0ad0d4356c87c97f486d27", "filename": "src/test/pretty/block-comment-wchar.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/0f4d5c2134fb8ecbac02678eaf512ec13914a75d/src%2Ftest%2Fpretty%2Fblock-comment-wchar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f4d5c2134fb8ecbac02678eaf512ec13914a75d/src%2Ftest%2Fpretty%2Fblock-comment-wchar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fblock-comment-wchar.rs?ref=0f4d5c2134fb8ecbac02678eaf512ec13914a75d", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -11,7 +11,8 @@\n // This is meant as a test case for Issue 3961.\n //\n // Test via: rustc --pretty normal src/test/pretty/block-comment-wchar.rs\n-\n+//\n+// pp-exact:block-comment-wchar.pp\n fn f() {\n     fn nested() {\n         /*"}]}