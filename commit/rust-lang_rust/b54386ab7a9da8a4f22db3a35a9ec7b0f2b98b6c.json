{"sha": "b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1NDM4NmFiN2E5ZGE4YTRmMjJkYjNhMzVhOWVjN2IwZjJiOThiNmM=", "commit": {"author": {"name": "Tomasz Mi\u0105sko", "email": "tomasz.miasko@gmail.com", "date": "2020-08-04T00:00:00Z"}, "committer": {"name": "Tomasz Mi\u0105sko", "email": "tomasz.miasko@gmail.com", "date": "2020-09-04T19:35:56Z"}, "message": "Detect overflow in proc_macro_server subspan", "tree": {"sha": "2587489ef2472e7261e1864c0c41f75f5a598597", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2587489ef2472e7261e1864c0c41f75f5a598597"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c", "html_url": "https://github.com/rust-lang/rust/commit/b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c/comments", "author": {"login": "tmiasko", "id": 51362316, "node_id": "MDQ6VXNlcjUxMzYyMzE2", "avatar_url": "https://avatars.githubusercontent.com/u/51362316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmiasko", "html_url": "https://github.com/tmiasko", "followers_url": "https://api.github.com/users/tmiasko/followers", "following_url": "https://api.github.com/users/tmiasko/following{/other_user}", "gists_url": "https://api.github.com/users/tmiasko/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmiasko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmiasko/subscriptions", "organizations_url": "https://api.github.com/users/tmiasko/orgs", "repos_url": "https://api.github.com/users/tmiasko/repos", "events_url": "https://api.github.com/users/tmiasko/events{/privacy}", "received_events_url": "https://api.github.com/users/tmiasko/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tmiasko", "id": 51362316, "node_id": "MDQ6VXNlcjUxMzYyMzE2", "avatar_url": "https://avatars.githubusercontent.com/u/51362316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmiasko", "html_url": "https://github.com/tmiasko", "followers_url": "https://api.github.com/users/tmiasko/followers", "following_url": "https://api.github.com/users/tmiasko/following{/other_user}", "gists_url": "https://api.github.com/users/tmiasko/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmiasko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmiasko/subscriptions", "organizations_url": "https://api.github.com/users/tmiasko/orgs", "repos_url": "https://api.github.com/users/tmiasko/repos", "events_url": "https://api.github.com/users/tmiasko/events{/privacy}", "received_events_url": "https://api.github.com/users/tmiasko/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d2454643e137bde519786ee9e650c455d7ad6f34", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2454643e137bde519786ee9e650c455d7ad6f34", "html_url": "https://github.com/rust-lang/rust/commit/d2454643e137bde519786ee9e650c455d7ad6f34"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "5a728bbda96c55aacc29352de342f5ae4fc935b1", "filename": "compiler/rustc_expand/src/proc_macro_server.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c/compiler%2Frustc_expand%2Fsrc%2Fproc_macro_server.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c/compiler%2Frustc_expand%2Fsrc%2Fproc_macro_server.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_expand%2Fsrc%2Fproc_macro_server.rs?ref=b54386ab7a9da8a4f22db3a35a9ec7b0f2b98b6c", "patch": "@@ -584,12 +584,12 @@ impl server::Literal for Rustc<'_> {\n \n         let start = match start {\n             Bound::Included(lo) => lo,\n-            Bound::Excluded(lo) => lo + 1,\n+            Bound::Excluded(lo) => lo.checked_add(1)?,\n             Bound::Unbounded => 0,\n         };\n \n         let end = match end {\n-            Bound::Included(hi) => hi + 1,\n+            Bound::Included(hi) => hi.checked_add(1)?,\n             Bound::Excluded(hi) => hi,\n             Bound::Unbounded => length,\n         };"}]}