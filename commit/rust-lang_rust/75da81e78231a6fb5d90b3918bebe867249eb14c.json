{"sha": "75da81e78231a6fb5d90b3918bebe867249eb14c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc1ZGE4MWU3ODIzMWE2ZmI1ZDkwYjM5MThiZWJlODY3MjQ5ZWIxNGM=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-06-05T12:17:49Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-07-22T13:34:00Z"}, "message": "Change signature for `move_val_init` intrinsic to take `*mut T` for `dest`.\n\nrebase update to typeck/check/mod.rs", "tree": {"sha": "cdd52f03da43a026b9825e8137c961bb9354a493", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cdd52f03da43a026b9825e8137c961bb9354a493"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/75da81e78231a6fb5d90b3918bebe867249eb14c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/75da81e78231a6fb5d90b3918bebe867249eb14c", "html_url": "https://github.com/rust-lang/rust/commit/75da81e78231a6fb5d90b3918bebe867249eb14c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/75da81e78231a6fb5d90b3918bebe867249eb14c/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b325e4f28e0735bb951bdf9f1db1206bd3ee715b", "url": "https://api.github.com/repos/rust-lang/rust/commits/b325e4f28e0735bb951bdf9f1db1206bd3ee715b", "html_url": "https://github.com/rust-lang/rust/commit/b325e4f28e0735bb951bdf9f1db1206bd3ee715b"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "a1d7867431be0776d098d8253485042f9fa6a360", "filename": "src/libcore/intrinsics.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/75da81e78231a6fb5d90b3918bebe867249eb14c/src%2Flibcore%2Fintrinsics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/75da81e78231a6fb5d90b3918bebe867249eb14c/src%2Flibcore%2Fintrinsics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fintrinsics.rs?ref=75da81e78231a6fb5d90b3918bebe867249eb14c", "patch": "@@ -184,6 +184,14 @@ extern \"rust-intrinsic\" {\n     /// elements.\n     pub fn size_of<T>() -> usize;\n \n+    #[cfg(not(stage0))]\n+    /// Moves a value to an uninitialized memory location.\n+    ///\n+    /// Drop glue is not run on the destination.\n+    pub fn move_val_init<T>(dst: *mut T, src: T);\n+\n+    // SNAP ba0e1cd\n+    #[cfg(stage0)]\n     /// Moves a value to an uninitialized memory location.\n     ///\n     /// Drop glue is not run on the destination."}, {"sha": "76ba89caaa07665942bfe2f7f832da8756b5a2eb", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/75da81e78231a6fb5d90b3918bebe867249eb14c/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/75da81e78231a6fb5d90b3918bebe867249eb14c/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=75da81e78231a6fb5d90b3918bebe867249eb14c", "patch": "@@ -4894,9 +4894,7 @@ pub fn check_intrinsic_type(ccx: &CrateCtxt, it: &ast::ForeignItem) {\n             \"move_val_init\" => {\n                 (1,\n                  vec!(\n-                    tcx.mk_mut_ref(tcx.mk_region(ty::ReLateBound(ty::DebruijnIndex::new(1),\n-                                                                  ty::BrAnon(0))),\n-                                    param(ccx, 0)),\n+                    tcx.mk_mut_ptr(param(ccx, 0)),\n                     param(ccx, 0)\n                   ),\n                tcx.mk_nil())"}]}