{"sha": "d49f4f86d91c41b6908140347045dbfa9d35d213", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0OWY0Zjg2ZDkxYzQxYjY5MDgxNDAzNDcwNDVkYmZhOWQzNWQyMTM=", "commit": {"author": {"name": "varkor", "email": "github@varkor.com", "date": "2019-02-25T23:55:00Z"}, "committer": {"name": "varkor", "email": "github@varkor.com", "date": "2019-03-12T18:34:43Z"}, "message": "Add a test for #26619", "tree": {"sha": "96181534d040cba74ffd6ae86bc35c51898a62c9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96181534d040cba74ffd6ae86bc35c51898a62c9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d49f4f86d91c41b6908140347045dbfa9d35d213", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d49f4f86d91c41b6908140347045dbfa9d35d213", "html_url": "https://github.com/rust-lang/rust/commit/d49f4f86d91c41b6908140347045dbfa9d35d213", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d49f4f86d91c41b6908140347045dbfa9d35d213/comments", "author": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "651c1abfb74b0e190fa5a010e59578fa967e2e94", "url": "https://api.github.com/repos/rust-lang/rust/commits/651c1abfb74b0e190fa5a010e59578fa967e2e94", "html_url": "https://github.com/rust-lang/rust/commit/651c1abfb74b0e190fa5a010e59578fa967e2e94"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "cd89c674e4996e79ff130c21e786f78e3815b1aa", "filename": "src/test/ui/issues/issue-26619.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/d49f4f86d91c41b6908140347045dbfa9d35d213/src%2Ftest%2Fui%2Fissues%2Fissue-26619.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d49f4f86d91c41b6908140347045dbfa9d35d213/src%2Ftest%2Fui%2Fissues%2Fissue-26619.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-26619.rs?ref=d49f4f86d91c41b6908140347045dbfa9d35d213", "patch": "@@ -0,0 +1,24 @@\n+#![feature(slice_patterns)]\n+\n+pub struct History<'a> { pub _s: &'a str }\n+\n+impl<'a> History<'a> {\n+    pub fn get_page(&self) {\n+        for s in vec![\"1|2\".to_string()].into_iter().filter_map(|ref line| self.make_entry(line)) {\n+            //~^ ERROR borrowed value does not live long enough\n+            println!(\"{:?}\", s);\n+        }\n+    }\n+\n+    fn make_entry(&self, s: &'a String) -> Option<&str> {\n+        let parts: Vec<_> = s.split('|').collect();\n+        println!(\"{:?} -> {:?}\", s, parts);\n+\n+        if let [commit, ..] = &parts[..] { Some(commit) } else { None }\n+    }\n+}\n+\n+fn main() {\n+    let h = History{ _s: \"\" };\n+    h.get_page();\n+}"}, {"sha": "3ac6c4e308d21bb3fc5e9e00812a8bc67dd94165", "filename": "src/test/ui/issues/issue-26619.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d49f4f86d91c41b6908140347045dbfa9d35d213/src%2Ftest%2Fui%2Fissues%2Fissue-26619.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/d49f4f86d91c41b6908140347045dbfa9d35d213/src%2Ftest%2Fui%2Fissues%2Fissue-26619.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-26619.stderr?ref=d49f4f86d91c41b6908140347045dbfa9d35d213", "patch": "@@ -0,0 +1,12 @@\n+error[E0597]: borrowed value does not live long enough\n+  --> $DIR/issue-26619.rs:7:66\n+   |\n+LL |         for s in vec![\"1|2\".to_string()].into_iter().filter_map(|ref line| self.make_entry(line)) {\n+   |                                                                  ^^^^^^^^                      -- temporary value needs to live until here\n+   |                                                                  |                             |\n+   |                                                                  |                             temporary value dropped here while still borrowed\n+   |                                                                  temporary value does not live long enough\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0597`."}]}