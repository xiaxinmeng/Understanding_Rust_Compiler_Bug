{"sha": "4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRkMGQzZGE5ZTRkMTZiZGJmNTA5ODM3YjRmOTgxZGIzOTMyOGNmZTA=", "commit": {"author": {"name": "David Manescu", "email": "david.manescu@gmail.com", "date": "2014-01-29T02:50:05Z"}, "committer": {"name": "David Manescu", "email": "david.manescu@gmail.com", "date": "2014-01-29T02:54:38Z"}, "message": "extra: move arena to libarena\n\nIn line with the dissolution of libextra - #8784 - moves arena to its own library libarena.\nChanges based on PR #11787. Updates .gitignore to ignore doc/arena.", "tree": {"sha": "1f10643770c120ec08045d64aaf0cb5d0e0199cc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1f10643770c120ec08045d64aaf0cb5d0e0199cc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "html_url": "https://github.com/rust-lang/rust/commit/4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/comments", "author": {"login": "dmanescu", "id": 5207313, "node_id": "MDQ6VXNlcjUyMDczMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5207313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmanescu", "html_url": "https://github.com/dmanescu", "followers_url": "https://api.github.com/users/dmanescu/followers", "following_url": "https://api.github.com/users/dmanescu/following{/other_user}", "gists_url": "https://api.github.com/users/dmanescu/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmanescu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmanescu/subscriptions", "organizations_url": "https://api.github.com/users/dmanescu/orgs", "repos_url": "https://api.github.com/users/dmanescu/repos", "events_url": "https://api.github.com/users/dmanescu/events{/privacy}", "received_events_url": "https://api.github.com/users/dmanescu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dmanescu", "id": 5207313, "node_id": "MDQ6VXNlcjUyMDczMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5207313?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmanescu", "html_url": "https://github.com/dmanescu", "followers_url": "https://api.github.com/users/dmanescu/followers", "following_url": "https://api.github.com/users/dmanescu/following{/other_user}", "gists_url": "https://api.github.com/users/dmanescu/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmanescu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmanescu/subscriptions", "organizations_url": "https://api.github.com/users/dmanescu/orgs", "repos_url": "https://api.github.com/users/dmanescu/repos", "events_url": "https://api.github.com/users/dmanescu/events{/privacy}", "received_events_url": "https://api.github.com/users/dmanescu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "edfb546e4b2b0aa6dbb6316709b80e034539d09d", "url": "https://api.github.com/repos/rust-lang/rust/commits/edfb546e4b2b0aa6dbb6316709b80e034539d09d", "html_url": "https://github.com/rust-lang/rust/commit/edfb546e4b2b0aa6dbb6316709b80e034539d09d"}], "stats": {"total": 42, "additions": 26, "deletions": 16}, "files": [{"sha": "cc4f185bafd41a94b8065422ce01b6ac2069658f", "filename": ".gitignore", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/.gitignore", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/.gitignore", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.gitignore?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -74,6 +74,7 @@ src/.DS_Store\n /doc/html\n /doc/latex\n /doc/std\n+/doc/arena\n /doc/extra\n /doc/flate\n /doc/green"}, {"sha": "bfd81a1d85ff9797e53b0a0373592805c90afa5c", "filename": "doc/index.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/doc%2Findex.md", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/doc%2Findex.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Findex.md?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -37,6 +37,7 @@ li {list-style-type: none; }\n * [The Rust parser, `libsyntax`](syntax/index.html)\n * [The Rust compiler, `librustc`](rustc/index.html)\n \n+* [The `arena` allocation library](arena/index.html)\n * [The `flate` compression library](flate/index.html)\n \n # Tooling"}, {"sha": "c865a37b8eccc2ba2120ebaa71c88a290043d74f", "filename": "mk/crates.mk", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/mk%2Fcrates.mk", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/mk%2Fcrates.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcrates.mk?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -49,7 +49,7 @@\n # automatically generated for all stage/host/target combinations.\n ################################################################################\n \n-TARGET_CRATES := std extra green rustuv native flate\n+TARGET_CRATES := std extra green rustuv native flate arena\n HOST_CRATES := syntax rustc rustdoc rustpkg\n CRATES := $(TARGET_CRATES) $(HOST_CRATES)\n TOOLS := compiletest rustpkg rustdoc rustc\n@@ -60,10 +60,11 @@ DEPS_green := std\n DEPS_rustuv := std native:uv native:uv_support\n DEPS_native := std\n DEPS_syntax := std extra\n-DEPS_rustc := syntax native:rustllvm flate\n+DEPS_rustc := syntax native:rustllvm flate arena\n DEPS_rustdoc := rustc native:sundown\n DEPS_rustpkg := rustc\n DEPS_flate := std native:miniz\n+DEPS_arena := std extra\n \n TOOL_DEPS_compiletest := extra green rustuv\n TOOL_DEPS_rustpkg := rustpkg green rustuv"}, {"sha": "27dad55c42946a50b4b55361eb5fa01bc9a6b5d1", "filename": "src/libarena/lib.rs", "status": "renamed", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibarena%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibarena%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibarena%2Flib.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -15,10 +15,17 @@\n //! of individual objects while the arena itself is still alive. The benefit\n //! of an arena is very fast allocation; just a pointer bump.\n \n+#[crate_id = \"arena#0.10-pre\"];\n+#[crate_type = \"rlib\"];\n+#[crate_type = \"dylib\"];\n+#[license = \"MIT/ASL2\"];\n #[allow(missing_doc)];\n+#[feature(managed_boxes)];\n \n-use list::{List, Cons, Nil};\n-use list;\n+extern mod extra;\n+\n+use extra::list::{List, Cons, Nil};\n+use extra::list;\n \n use std::at_vec;\n use std::cast::{transmute, transmute_mut, transmute_mut_region};\n@@ -493,7 +500,7 @@ impl<T> Drop for TypedArena<T> {\n #[cfg(test)]\n mod test {\n     use super::{Arena, TypedArena};\n-    use test::BenchHarness;\n+    use extra::test::BenchHarness;\n \n     struct Point {\n         x: int,", "previous_filename": "src/libextra/arena.rs"}, {"sha": "6e3f5fd4b95fcb2703cb0c143f08fba456d372ff", "filename": "src/libextra/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibextra%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibextra%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Flib.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -70,7 +70,6 @@ pub mod tempfile;\n pub mod glob;\n pub mod term;\n pub mod time;\n-pub mod arena;\n pub mod base64;\n pub mod workcache;\n pub mod enum_set;"}, {"sha": "c840faecb559bc3b0cd122c5631731427a4a52a1", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -31,6 +31,7 @@ This API is completely unstable and subject to change.\n \n extern mod extra;\n extern mod flate;\n+extern mod arena;\n extern mod syntax;\n \n use back::link;"}, {"sha": "44349cc892b13fcb9491f57e7466620f204f8793", "filename": "src/librustc/middle/trans/base.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -68,7 +68,7 @@ use util::common::indenter;\n use util::ppaux::{Repr, ty_to_str};\n use util::sha2::Sha256;\n \n-use extra::arena::TypedArena;\n+use arena::TypedArena;\n use extra::time;\n use std::c_str::ToCStr;\n use std::cell::{Cell, RefCell};"}, {"sha": "18a6727dee06966eb20af3f50a8410ab32858625", "filename": "src/librustc/middle/trans/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcommon.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -31,7 +31,7 @@ use middle::typeck;\n use util::ppaux::Repr;\n \n \n-use extra::arena::TypedArena;\n+use arena::TypedArena;\n use std::c_str::ToCStr;\n use std::cast::transmute;\n use std::cast;"}, {"sha": "dc57ad747ebd762a1ed9c082b2c5dc566e86cca8", "filename": "src/librustc/middle/typeck/variance.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fvariance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fvariance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fvariance.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -193,8 +193,8 @@ represents the \"variance transform\" as defined in the paper:\n */\n \n use std::hashmap::HashMap;\n-use extra::arena;\n-use extra::arena::Arena;\n+use arena;\n+use arena::Arena;\n use middle::ty;\n use std::vec;\n use syntax::ast;"}, {"sha": "5b0a90f280dc91667e19d94894aab93e028f62c6", "filename": "src/test/bench/shootout-binarytrees.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Ftest%2Fbench%2Fshootout-binarytrees.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Ftest%2Fbench%2Fshootout-binarytrees.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-binarytrees.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -9,10 +9,11 @@\n // except according to those terms.\n \n extern mod extra;\n+extern mod arena;\n \n use std::iter::range_step;\n use extra::future::Future;\n-use extra::arena::TypedArena;\n+use arena::TypedArena;\n \n enum Tree<'a> {\n     Nil,"}, {"sha": "3e26dc69a84f63a6e69ac952f9658546878c034e", "filename": "src/test/run-pass/placement-new-arena.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Ftest%2Frun-pass%2Fplacement-new-arena.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Ftest%2Frun-pass%2Fplacement-new-arena.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fplacement-new-arena.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -10,8 +10,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-extern mod extra;\n-use extra::arena::Arena;\n+extern mod arena;\n+use arena::Arena;\n \n pub fn main() {\n     let mut arena = Arena::new();"}, {"sha": "3b5893358bf1dc4a4b335110599c418530ca66b0", "filename": "src/test/run-pass/regions-mock-tcx.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Ftest%2Frun-pass%2Fregions-mock-tcx.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d0d3da9e4d16bdbf509837b4f981db39328cfe0/src%2Ftest%2Frun-pass%2Fregions-mock-tcx.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fregions-mock-tcx.rs?ref=4d0d3da9e4d16bdbf509837b4f981db39328cfe0", "patch": "@@ -16,10 +16,9 @@\n // - Multiple lifetime parameters\n // - Arenas\n \n-extern mod extra;\n+extern mod arena;\n \n-use extra::arena;\n-use extra::arena::Arena;\n+use arena::Arena;\n use std::hashmap::HashMap;\n use std::cast;\n use std::libc;"}]}