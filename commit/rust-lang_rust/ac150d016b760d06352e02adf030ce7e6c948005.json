{"sha": "ac150d016b760d06352e02adf030ce7e6c948005", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjMTUwZDAxNmI3NjBkMDYzNTJlMDJhZGYwMzBjZTdlNmM5NDgwMDU=", "commit": {"author": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2019-08-11T03:49:14Z"}, "committer": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2019-08-11T03:49:14Z"}, "message": "fix: remove trailing space with empty dyn macro arg (#3737)", "tree": {"sha": "22dddba71a590f0a301a65f80e1ef286503b57bc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/22dddba71a590f0a301a65f80e1ef286503b57bc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ac150d016b760d06352e02adf030ce7e6c948005", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ac150d016b760d06352e02adf030ce7e6c948005", "html_url": "https://github.com/rust-lang/rust/commit/ac150d016b760d06352e02adf030ce7e6c948005", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ac150d016b760d06352e02adf030ce7e6c948005/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e653ff03e9e33218a8ef7892f1b6099407fe92e9", "url": "https://api.github.com/repos/rust-lang/rust/commits/e653ff03e9e33218a8ef7892f1b6099407fe92e9", "html_url": "https://github.com/rust-lang/rust/commit/e653ff03e9e33218a8ef7892f1b6099407fe92e9"}], "stats": {"total": 25, "additions": 23, "deletions": 2}, "files": [{"sha": "de8e0651cd89eab06c1dfb61077b18af9bba8e9f", "filename": "src/macros.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ac150d016b760d06352e02adf030ce7e6c948005/src%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac150d016b760d06352e02adf030ce7e6c948005/src%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmacros.rs?ref=ac150d016b760d06352e02adf030ce7e6c948005", "patch": "@@ -303,9 +303,9 @@ fn rewrite_macro_inner(\n \n     if DelimToken::Brace != style {\n         loop {\n-            if let Some(arg) = parse_macro_arg(&mut parser) {\n+            if let Some(arg) = check_keyword(&mut parser) {\n                 arg_vec.push(arg);\n-            } else if let Some(arg) = check_keyword(&mut parser) {\n+            } else if let Some(arg) = parse_macro_arg(&mut parser) {\n                 arg_vec.push(arg);\n             } else {\n                 return return_macro_parse_failure_fallback(context, shape.indent, mac.span);"}, {"sha": "fc0cf98ceba8324f3709d9e57a24c454522ef69e", "filename": "src/overflow.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ac150d016b760d06352e02adf030ce7e6c948005/src%2Foverflow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac150d016b760d06352e02adf030ce7e6c948005/src%2Foverflow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Foverflow.rs?ref=ac150d016b760d06352e02adf030ce7e6c948005", "patch": "@@ -122,6 +122,7 @@ impl<'a> OverflowableItem<'a> {\n     pub(crate) fn is_simple(&self) -> bool {\n         match self {\n             OverflowableItem::Expr(expr) => is_simple_expr(expr),\n+            OverflowableItem::MacroArg(MacroArg::Keyword(..)) => true,\n             OverflowableItem::MacroArg(MacroArg::Expr(expr)) => is_simple_expr(expr),\n             OverflowableItem::NestedMetaItem(nested_meta_item) => match nested_meta_item {\n                 ast::NestedMetaItem::Literal(..) => true,"}, {"sha": "73c2a624e5243e2f357fec0ed95f4a1a54ac3b35", "filename": "tests/source/issue-3709.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ac150d016b760d06352e02adf030ce7e6c948005/tests%2Fsource%2Fissue-3709.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac150d016b760d06352e02adf030ce7e6c948005/tests%2Fsource%2Fissue-3709.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fissue-3709.rs?ref=ac150d016b760d06352e02adf030ce7e6c948005", "patch": "@@ -0,0 +1,10 @@\n+// rustfmt-edition: 2018\n+\n+macro_rules! token {\n+    ($t:tt) => {};\n+}\n+\n+fn main() {\n+    token!(dyn);\n+    token!(dyn );\n+}"}, {"sha": "0f3eae048d40056d12556e228574c294017897eb", "filename": "tests/target/issue-3709.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ac150d016b760d06352e02adf030ce7e6c948005/tests%2Ftarget%2Fissue-3709.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac150d016b760d06352e02adf030ce7e6c948005/tests%2Ftarget%2Fissue-3709.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fissue-3709.rs?ref=ac150d016b760d06352e02adf030ce7e6c948005", "patch": "@@ -0,0 +1,10 @@\n+// rustfmt-edition: 2018\n+\n+macro_rules! token {\n+    ($t:tt) => {};\n+}\n+\n+fn main() {\n+    token!(dyn);\n+    token!(dyn);\n+}"}]}