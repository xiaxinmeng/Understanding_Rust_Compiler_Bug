{"sha": "dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRjNGE0YWRhNTgyMmJmOTBjYTI3MWFmYmJkZmIyNjA3OWViNjZkOWM=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-09-01T16:35:05Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-10-01T13:44:28Z"}, "message": "move LOCAL_CRATE to cstore", "tree": {"sha": "9bfce17eb520e6ebfb2192a9c88cdd3fde98b535", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9bfce17eb520e6ebfb2192a9c88cdd3fde98b535"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "html_url": "https://github.com/rust-lang/rust/commit/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8719f504ee3c6697a5e76ed65524ecf8a39be2e5", "url": "https://api.github.com/repos/rust-lang/rust/commits/8719f504ee3c6697a5e76ed65524ecf8a39be2e5", "html_url": "https://github.com/rust-lang/rust/commit/8719f504ee3c6697a5e76ed65524ecf8a39be2e5"}], "stats": {"total": 85, "additions": 56, "deletions": 29}, "files": [{"sha": "915027041bc4447f0b5d1173c094cb3e2edca829", "filename": "src/librustc/metadata/cstore.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmetadata%2Fcstore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmetadata%2Fcstore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fcstore.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -109,6 +109,10 @@ pub struct CStore {\n     pub intr: Rc<IdentInterner>,\n }\n \n+/// Item definitions in the currently-compiled crate would have the CrateNum\n+/// LOCAL_CRATE in their DefId.\n+pub const LOCAL_CRATE: ast::CrateNum = 0;\n+\n impl CStore {\n     pub fn new(intr: Rc<IdentInterner>) -> CStore {\n         CStore {"}, {"sha": "2e7a49b25fe378b499cec02b07fa734c8c708c24", "filename": "src/librustc/metadata/decoder.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fdecoder.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -20,6 +20,7 @@ use rustc_front::hir;\n \n use back::svh::Svh;\n use metadata::cstore::crate_metadata;\n+use metadata::cstore::LOCAL_CRATE;\n use metadata::common::*;\n use metadata::csearch::MethodInfo;\n use metadata::csearch;\n@@ -29,7 +30,7 @@ use metadata::index;\n use metadata::inline::InlinedItem;\n use metadata::tydecode::TyDecoder;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::lang_items;\n use middle::subst;\n use middle::ty::{ImplContainer, TraitContainer};"}, {"sha": "126626e3a208fa282d483843178215ee2c22a843", "filename": "src/librustc/metadata/encoder.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmetadata%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmetadata%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fencoder.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -17,12 +17,13 @@ use back::svh::Svh;\n use session::config;\n use metadata::common::*;\n use metadata::cstore;\n+use metadata::cstore::LOCAL_CRATE;\n use metadata::decoder;\n use metadata::tyencode;\n use metadata::index::{self, IndexEntry};\n use metadata::inline::InlinedItemRef;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::dependency_format::Linkage;\n use middle::stability;\n use middle::ty::{self, Ty};"}, {"sha": "96fb649dd4545502f3f915d18b3417e1bff8f4e0", "filename": "src/librustc/middle/astencode.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fastencode.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -19,6 +19,7 @@ use rustc_front::fold::Folder;\n \n use metadata::common as c;\n use metadata::cstore as cstore;\n+use metadata::cstore::LOCAL_CRATE;\n use session::Session;\n use metadata::decoder;\n use metadata::encoder as e;\n@@ -31,7 +32,7 @@ use middle::ty::adjustment;\n use middle::ty::cast;\n use middle::check_const::ConstQualif;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::privacy::{AllPublic, LastMod};\n use middle::region;\n use middle::subst;"}, {"sha": "abd7ed882754670cdda8e58ec0e1e02812b9fde2", "filename": "src/librustc/middle/def.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fdef.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fdef.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fdef.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -10,7 +10,8 @@\n \n pub use self::Def::*;\n \n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::privacy::LastPrivate;\n use middle::subst::ParamSpace;\n use util::nodemap::NodeMap;"}, {"sha": "95a593f876f51ed2a3d9fa9c315900c2b642e1f9", "filename": "src/librustc/middle/def_id.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fdef_id.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fdef_id.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fdef_id.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use metadata::cstore::LOCAL_CRATE;\n use middle::ty;\n use syntax::ast::{CrateNum, NodeId};\n use std::fmt;\n@@ -56,7 +57,3 @@ impl DefId {\n }\n \n \n-/// Item definitions in the currently-compiled crate would have the CrateNum\n-/// LOCAL_CRATE in their DefId.\n-pub const LOCAL_CRATE: CrateNum = 0;\n-"}, {"sha": "bbf310b65c35d44e409da07da86921132f4df7ed", "filename": "src/librustc/middle/reachable.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Freachable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Freachable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Freachable.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -16,8 +16,9 @@\n // reachable as well.\n \n use front::map as ast_map;\n+use metadata::cstore::LOCAL_CRATE;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::ty;\n use middle::privacy;\n use session::config;"}, {"sha": "b9f5ea863ff4fa59d1883e0da20c7ca117fe92c6", "filename": "src/librustc/middle/stability.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fstability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fstability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fstability.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -13,8 +13,9 @@\n \n use session::Session;\n use lint;\n+use metadata::cstore::LOCAL_CRATE;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::ty;\n use middle::privacy::PublicItems;\n use metadata::csearch;"}, {"sha": "a3795a32afca25188db2444f3a76dd544176dd1e", "filename": "src/librustc/middle/traits/coherence.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Ftraits%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Ftraits%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Fcoherence.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -17,7 +17,8 @@ use super::PredicateObligation;\n use super::project;\n use super::util;\n \n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::subst::{Subst, Substs, TypeSpace};\n use middle::ty::{self, ToPolyTraitRef, Ty};\n use middle::infer::{self, InferCtxt};"}, {"sha": "5e12e77435a129f3c2426c97b67a409a53f04fe7", "filename": "src/librustc/middle/traits/select.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Ftraits%2Fselect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Ftraits%2Fselect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Fselect.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -37,7 +37,8 @@ use super::{VtableImplData, VtableObjectData, VtableBuiltinData,\n use super::object_safety;\n use super::util;\n \n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::infer;\n use middle::infer::{InferCtxt, TypeFreshener};\n use middle::subst::{Subst, Substs, TypeSpace};"}, {"sha": "fdec25a82b1abad34693142281d4a2d4d563ca43", "filename": "src/librustc/middle/ty/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fty%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc%2Fmiddle%2Fty%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fty%2Fmod.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -22,9 +22,10 @@ pub use self::LvaluePreference::*;\n use front::map as ast_map;\n use front::map::LinkedPath;\n use metadata::csearch;\n+use metadata::cstore::LOCAL_CRATE;\n use middle;\n use middle::def::{self, ExportMap};\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::lang_items::{FnTraitLangItem, FnMutTraitLangItem, FnOnceTraitLangItem};\n use middle::subst::{self, ParamSpace, Subst, Substs, VecPerParamSpace};\n use middle::traits;"}, {"sha": "4766fd0cfb720d116383c82605fabb41b5a14108", "filename": "src/librustc_borrowck/borrowck/fragments.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_borrowck%2Fborrowck%2Ffragments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_borrowck%2Fborrowck%2Ffragments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Ffragments.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -20,7 +20,8 @@ use borrowck::LoanPathKind::{LpVar, LpUpvar, LpDowncast, LpExtend};\n use borrowck::LoanPathElem::{LpDeref, LpInterior};\n use borrowck::move_data::InvalidMovePathIndex;\n use borrowck::move_data::{MoveData, MovePathIndex};\n-use rustc::middle::def_id::{DefId, LOCAL_CRATE};\n+use rustc::metadata::cstore::LOCAL_CRATE;\n+use rustc::middle::def_id::{DefId};\n use rustc::middle::ty;\n use rustc::middle::mem_categorization as mc;\n "}, {"sha": "61d8a2191a794f0d4147ae29723d7f9e9f2d268b", "filename": "src/librustc_trans/save/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Fsave%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Fsave%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fsave%2Fmod.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -8,9 +8,10 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use metadata::cstore::LOCAL_CRATE;\n use middle::ty;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n \n use std::env;\n use std::fs::{self, File};"}, {"sha": "8ec2a83ce9040867535799b12a42b7de3a50c262", "filename": "src/librustc_trans/trans/base.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fbase.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -35,9 +35,10 @@ use lint;\n use llvm::{BasicBlockRef, Linkage, ValueRef, Vector, get_param};\n use llvm;\n use metadata::{csearch, encoder, loader};\n+use metadata::cstore::LOCAL_CRATE;\n use middle::astencode;\n use middle::cfg;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::lang_items::{LangItem, ExchangeMallocFnLangItem, StartFnLangItem};\n use middle::weak_lang_items;\n use middle::pat_util::simple_name;"}, {"sha": "1704a8010dd8c48b580d988fa8bfcabdc0d7dfba", "filename": "src/librustc_trans/trans/callee.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Ftrans%2Fcallee.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Ftrans%2Fcallee.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fcallee.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -22,8 +22,9 @@ use arena::TypedArena;\n use back::link;\n use session;\n use llvm::{self, ValueRef, get_params};\n+use metadata::cstore::LOCAL_CRATE;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::infer::normalize_associated_type;\n use middle::subst;\n use middle::subst::{Substs};"}, {"sha": "41d29e0dbd89de3cb9169fa180d5f63c897489a6", "filename": "src/librustc_trans/trans/consts.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Ftrans%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_trans%2Ftrans%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fconsts.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -13,6 +13,7 @@ use back::abi;\n use llvm;\n use llvm::{ConstFCmp, ConstICmp, SetLinkage, SetUnnamedAddr};\n use llvm::{InternalLinkage, ValueRef, Bool, True};\n+use metadata::cstore::LOCAL_CRATE;\n use middle::{check_const, def};\n use middle::const_eval::{self, ConstVal};\n use middle::const_eval::{const_int_checked_neg, const_uint_checked_neg};\n@@ -25,7 +26,7 @@ use middle::const_eval::{const_int_checked_shl, const_uint_checked_shl};\n use middle::const_eval::{const_int_checked_shr, const_uint_checked_shr};\n use middle::const_eval::EvalHint::ExprTypeChecked;\n use middle::const_eval::eval_const_expr_partial;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use trans::{adt, closure, debuginfo, expr, inline, machine};\n use trans::base::{self, push_ctxt};\n use trans::common::*;"}, {"sha": "846ddf2f26a2f20aa9c8559464f3b0aac6bfbc72", "filename": "src/librustc_typeck/astconv.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fastconv.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -48,11 +48,12 @@\n //! case but `&a` in the second.  Basically, defaults that appear inside\n //! an rptr (`&r.T`) use the region `r` that appears in the rptr.\n \n+use metadata::cstore::LOCAL_CRATE;\n use middle::astconv_util::{prim_ty_to_ty, prohibit_type_params, prohibit_projection};\n use middle::const_eval::{self, ConstVal};\n use middle::const_eval::EvalHint::UncheckedExprHint;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::resolve_lifetime as rl;\n use middle::privacy::{AllPublic, LastMod};\n use middle::subst::{FnSpace, TypeSpace, SelfSpace, Subst, Substs, ParamSpace};"}, {"sha": "dcecec7007d52c2254608eaa8fe694f42d1f9c11", "filename": "src/librustc_typeck/check/callee.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcheck%2Fcallee.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcheck%2Fcallee.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fcallee.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -25,7 +25,8 @@ use super::UnresolvedTypeAction;\n use super::write_call;\n \n use CrateCtxt;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::infer;\n use middle::ty::{self, LvaluePreference, Ty};\n use syntax::codemap::Span;"}, {"sha": "d847f481142dab8aec41f0cdab4717eff6e8ee7f", "filename": "src/librustc_typeck/check/dropck.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcheck%2Fdropck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcheck%2Fdropck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fdropck.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -10,7 +10,8 @@\n \n use check::regionck::{self, Rcx};\n \n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::free_region::FreeRegionMap;\n use middle::infer;\n use middle::region;"}, {"sha": "59da69d3696c3f4fece17a351260ba5c9f027ea0", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -83,9 +83,10 @@ use self::TupleArgumentsFlag::*;\n use astconv::{self, ast_region_to_region, ast_ty_to_ty, AstConv, PathParamMode};\n use check::_match::pat_ctxt;\n use fmt_macros::{Parser, Piece, Position};\n+use metadata::cstore::LOCAL_CRATE;\n use middle::astconv_util::prohibit_type_params;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use middle::infer;\n use middle::infer::type_variable;\n use middle::pat_util::{self, pat_id_map};"}, {"sha": "5c3c95ba4d296b830f9010b92cb3580698a5cfbe", "filename": "src/librustc_typeck/coherence/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcoherence%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcoherence%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Fmod.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -16,7 +16,8 @@\n // mappings. That mapping code resides here.\n \n \n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::lang_items::UnsizeTraitLangItem;\n use middle::subst::{self, Subst};\n use middle::traits;"}, {"sha": "4f1c958b6ddcdc11aa48cd7504a52a8e365fff7b", "filename": "src/librustc_typeck/coherence/orphan.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -11,7 +11,8 @@\n //! Orphan checker: every impl either implements a trait defined in this\n //! crate or pertains to a type defined in this crate.\n \n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::traits;\n use middle::ty;\n use syntax::ast;"}, {"sha": "f257dfb62c912c3738c03958f2117c199ecf82f5", "filename": "src/librustc_typeck/coherence/overlap.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -11,7 +11,8 @@\n //! Overlap: No two impls for the same trait are implemented for the\n //! same type.\n \n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::traits;\n use middle::ty;\n use middle::infer::{self, new_infer_ctxt};"}, {"sha": "2c9f273d703b6e8c400dbd8221fac8d8b101cdba", "filename": "src/librustc_typeck/collect.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcollect.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -65,8 +65,9 @@ There are some shortcomings in this design:\n */\n \n use astconv::{self, AstConv, ty_of_arg, ast_ty_to_ty, ast_region_to_region};\n+use metadata::cstore::LOCAL_CRATE;\n use middle::def;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use middle::def_id::DefId;\n use constrained_type_params as ctp;\n use middle::lang_items::SizedTraitLangItem;\n use middle::free_region::FreeRegionMap;"}, {"sha": "4220e258ca5a9fa83d6d94bc3a902e0b4ef77404", "filename": "src/librustc_typeck/variance.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fvariance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustc_typeck%2Fvariance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fvariance.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -266,7 +266,8 @@ use self::ParamKind::*;\n \n use arena;\n use arena::TypedArena;\n-use middle::def_id::{DefId, LOCAL_CRATE};\n+use metadata::cstore::LOCAL_CRATE;\n+use middle::def_id::DefId;\n use middle::resolve_lifetime as rl;\n use middle::subst;\n use middle::subst::{ParamSpace, FnSpace, TypeSpace, SelfSpace, VecPerParamSpace};"}, {"sha": "4ecaa46fb4546115fe8c35527313aadc64ddd69d", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -36,10 +36,11 @@ use syntax::ptr::P;\n \n use rustc_trans::back::link;\n use rustc::metadata::cstore;\n+use rustc::metadata::cstore::LOCAL_CRATE;\n use rustc::metadata::csearch;\n use rustc::metadata::decoder;\n use rustc::middle::def;\n-use rustc::middle::def_id::{DefId, LOCAL_CRATE};\n+use rustc::middle::def_id::DefId;\n use rustc::middle::subst::{self, ParamSpace, VecPerParamSpace};\n use rustc::middle::ty;\n use rustc::middle::stability;"}, {"sha": "f1c3e97a9006cb777d2d3a9aacc8d55c26eeec11", "filename": "src/librustdoc/html/format.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fformat.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -18,7 +18,8 @@\n use std::fmt;\n use std::iter::repeat;\n \n-use rustc::middle::def_id::{DefId, LOCAL_CRATE};\n+use rustc::metadata::cstore::LOCAL_CRATE;\n+use rustc::middle::def_id::DefId;\n use syntax::abi::Abi;\n use syntax::ast;\n use rustc_front::hir;"}, {"sha": "509e6c7df7790333c6fe433181e8d82ddaf639a2", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dc4a4ada5822bf90ca271afbbdfb26079eb66d9c/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=dc4a4ada5822bf90ca271afbbdfb26079eb66d9c", "patch": "@@ -53,6 +53,7 @@ use externalfiles::ExternalHtml;\n \n use serialize::json::{self, ToJson};\n use syntax::{abi, ast, attr};\n+use rustc::metadata::cstore::LOCAL_CRATE;\n use rustc::middle::def_id::{DefId, LOCAL_CRATE};\n use rustc::util::nodemap::NodeSet;\n use rustc_front::hir;"}]}