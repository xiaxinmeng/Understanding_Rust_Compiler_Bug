{"sha": "4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3", "node_id": "C_kwDOAAsO6NoAKDRjM2UyZmYyYTQwYTU0YmMzNzY2OWJiZGIwODYxYTUwZWM0MThmZjM", "commit": {"author": {"name": "blyxyas", "email": "blyxyas@gmail.com", "date": "2023-05-08T16:38:41Z"}, "committer": {"name": "blyxyas", "email": "blyxyas@gmail.com", "date": "2023-05-08T16:38:41Z"}, "message": "Fix header", "tree": {"sha": "8c80cd48fbb023becd82516d261691b887151416", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8c80cd48fbb023becd82516d261691b887151416"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEM3aofraJSaf7CtgpTTgXC1ovwzQFAmRZJZEACgkQTTgXC1ov\nwzTo6g//bauEdSJ/pRYGOP1+tgCBQn1ujEn1VvFZWqfCrH1p8UnE/P9i9C5T5VgU\nhuzqDZHXC0RqqAb8LHF8fnENxDeqm4KkSYN+iR5DYVqBJzZpDXcB7NCY0jyZLgzw\nz1oP9ITzIV14+O0DFRpzLUV0ts0vbhgodZffJlOClazfcykZH4qtKBNsQBas615J\n1LrGDNMPa+kv/4gUqD+VcRrOJXaj12pMJkyhnnv76d3QZVkI1upPQdSqCa0WGbo0\nVz67SM6O8X9/Sjl2z3SXCGqtcZQdFrtkJ+1bKA3hQVyKCDg8v1/MfNUXVEKGcapP\nNMAOaNseLvB0YbOpGzlYGmqlkENdeWKkfAOZTq0ijpLcjptBYyErBFYzgAhx6gnh\nAH/xAy7bDC4LrL2mjVq80ijZQTz+UdldvcjQlVv4BHkbxaMzsTVdSuVvQo2Ei9Vy\nV13vgBnVf9ImH+eyUUDvOlIpRuFs0BnnVH87WDJSvU2MDa65qr7KCzcX5hb7pTi4\nVyYJsfR0r4RUEUtdBLVAP0XMTbfi/ErjaJ6JmxILeQiMlBwMseFi+vmUorbxwvUJ\nIC+jiTyqKpUXFaqabqZzFpBoL4cXOlDXecmOWJjz3bf0+lyakTkEPHbM2X+ch0ij\nTi0QzGokG3OjMDsVWL8u7Pzwf+Hd2tQ1JfT72q6azYFX1lA3xWQ=\n=jfgW\n-----END PGP SIGNATURE-----", "payload": "tree 8c80cd48fbb023becd82516d261691b887151416\nparent ba0e7e88cb69587bc1e639509999d3f39ee0dae2\nauthor blyxyas <blyxyas@gmail.com> 1683563921 +0200\ncommitter blyxyas <blyxyas@gmail.com> 1683563921 +0200\n\nFix header\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3", "html_url": "https://github.com/rust-lang/rust/commit/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3/comments", "author": {"login": "blyxyas", "id": 73757586, "node_id": "MDQ6VXNlcjczNzU3NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73757586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blyxyas", "html_url": "https://github.com/blyxyas", "followers_url": "https://api.github.com/users/blyxyas/followers", "following_url": "https://api.github.com/users/blyxyas/following{/other_user}", "gists_url": "https://api.github.com/users/blyxyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/blyxyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blyxyas/subscriptions", "organizations_url": "https://api.github.com/users/blyxyas/orgs", "repos_url": "https://api.github.com/users/blyxyas/repos", "events_url": "https://api.github.com/users/blyxyas/events{/privacy}", "received_events_url": "https://api.github.com/users/blyxyas/received_events", "type": "User", "site_admin": false}, "committer": {"login": "blyxyas", "id": 73757586, "node_id": "MDQ6VXNlcjczNzU3NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73757586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blyxyas", "html_url": "https://github.com/blyxyas", "followers_url": "https://api.github.com/users/blyxyas/followers", "following_url": "https://api.github.com/users/blyxyas/following{/other_user}", "gists_url": "https://api.github.com/users/blyxyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/blyxyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blyxyas/subscriptions", "organizations_url": "https://api.github.com/users/blyxyas/orgs", "repos_url": "https://api.github.com/users/blyxyas/repos", "events_url": "https://api.github.com/users/blyxyas/events{/privacy}", "received_events_url": "https://api.github.com/users/blyxyas/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ba0e7e88cb69587bc1e639509999d3f39ee0dae2", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba0e7e88cb69587bc1e639509999d3f39ee0dae2", "html_url": "https://github.com/rust-lang/rust/commit/ba0e7e88cb69587bc1e639509999d3f39ee0dae2"}], "stats": {"total": 12, "additions": 2, "deletions": 10}, "files": [{"sha": "a9089fba3c539764961f47f2c826ad2c281a4284", "filename": "clippy_lints/src/wildcard_imports.rs", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3/clippy_lints%2Fsrc%2Fwildcard_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3/clippy_lints%2Fsrc%2Fwildcard_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwildcard_imports.rs?ref=4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3", "patch": "@@ -102,30 +102,22 @@ declare_clippy_lint! {\n pub struct WildcardImports {\n     warn_on_all: bool,\n     test_modules_deep: u32,\n-    ignore: bool,\n }\n \n impl WildcardImports {\n     pub fn new(warn_on_all: bool) -> Self {\n         Self {\n             warn_on_all,\n             test_modules_deep: 0,\n-            ignore: false,\n         }\n     }\n }\n \n impl_lint_pass!(WildcardImports => [ENUM_GLOB_USE, WILDCARD_IMPORTS]);\n \n impl LateLintPass<'_> for WildcardImports {\n-    fn check_crate(&mut self, cx: &LateContext<'_>) {\n-        if cx.sess().opts.test {\n-            self.ignore = true;\n-        }\n-    }\n-\n     fn check_item(&mut self, cx: &LateContext<'_>, item: &Item<'_>) {\n-        if self.ignore {\n+        if cx.sess().is_test_crate() {\n             return;\n         }\n "}, {"sha": "203c4e15b50c385a3583a5262b5dd54a36bf4468", "filename": "tests/ui/wildcard_imports_cfgtest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3/tests%2Fui%2Fwildcard_imports_cfgtest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3/tests%2Fui%2Fwildcard_imports_cfgtest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwildcard_imports_cfgtest.rs?ref=4c3e2ff2a40a54bc37669bbdb0861a50ec418ff3", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: --test\n+//@compile-flags: --test\n \n #![warn(clippy::wildcard_imports)]\n #![allow(unused, clippy::unnecessary_wraps, clippy::let_unit_value)]"}]}