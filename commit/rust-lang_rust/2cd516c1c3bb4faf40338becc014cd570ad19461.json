{"sha": "2cd516c1c3bb4faf40338becc014cd570ad19461", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJjZDUxNmMxYzNiYjRmYWY0MDMzOGJlY2MwMTRjZDU3MGFkMTk0NjE=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-06-12T09:08:17Z"}, "committer": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-06-12T12:21:59Z"}, "message": "ci: fix ci stats upload condition\n\nThe condition I suggested in #61632 was not correct and it errors out\nwhile evaluating. This fixes the condition.\n\nExample of a failure:\nhttps://dev.azure.com/rust-lang/rust/_build/results?buildId=543", "tree": {"sha": "133e48a6809ce60dbac2955c412c49b52312c551", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/133e48a6809ce60dbac2955c412c49b52312c551"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2cd516c1c3bb4faf40338becc014cd570ad19461", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE1JbYPtLJAsc22U9xPgar6Auq8ZwFAl0A7mkACgkQPgar6Auq\n8ZzrDw//R42bKSA8JSaCb7RsqQ1ETy2mil22fDG1yf6TTBGo/VUsa+WqpNEHZmBK\nhb8KhZxAI+eV5A3VMALEeJCnXyV7OCuW116FDWtQ9jlxG1k2NxM3wKRr//IAjIvU\ngapEN810PK+cLhfNCc3+7s5NdC4i9jzPVFLjStthCEUBLNgDFtjD7J0ZMdLXSIor\n0Ej4KjGZ4oXHaZC+2IRycu21w8oDW1wP8JWDTvxnq13KnpHPZqnzFYPuXadL5o/k\nWNv94qicmElQvU1kupcqj362leuQAmC1JnhXvVKqhHwHq1YJ+yaBl/NOuEYL0I/h\nu+aqfZVSOa5QjZcGH6TPrUWPrwOfKM6s0z9kYcIpog8xvsEQ74fM/zSlwZKg+c+Z\n2+RsNEkuBve9OHY7fReoygGRZmdjByJNm/O1uvCH5TvaALLUmK3mo20LmoeLpFI7\nmopegFvdRD5oxs85T7PdTek+kOi0FptQwsoAdhdgLi8IVhmQzQHPpH5P1dUVlALT\nubTf8X3cM55r6jhb4L5NolND2hA/6YjiVb003NP63xGTsaitxneYMcWhp0tEIRC2\nDE/wdjjLd9zz8WJozYsiWuAbK/1tz0rS5yZMe+utMnkvgxkjfJRKo4sSVzaOUrRf\nPft+5nDh+keEP/lzHlVMXmv/eHaoulqRsp54B5aNuLlEWHz3Hgo=\n=Xi+a\n-----END PGP SIGNATURE-----", "payload": "tree 133e48a6809ce60dbac2955c412c49b52312c551\nparent c4797fa4f4a696b183b3aa1517ee22c78d0f5d7a\nauthor Pietro Albini <pietro@pietroalbini.org> 1560330497 +0200\ncommitter Pietro Albini <pietro@pietroalbini.org> 1560342119 +0200\n\nci: fix ci stats upload condition\n\nThe condition I suggested in #61632 was not correct and it errors out\nwhile evaluating. This fixes the condition.\n\nExample of a failure:\nhttps://dev.azure.com/rust-lang/rust/_build/results?buildId=543\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2cd516c1c3bb4faf40338becc014cd570ad19461", "html_url": "https://github.com/rust-lang/rust/commit/2cd516c1c3bb4faf40338becc014cd570ad19461", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2cd516c1c3bb4faf40338becc014cd570ad19461/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c4797fa4f4a696b183b3aa1517ee22c78d0f5d7a", "url": "https://api.github.com/repos/rust-lang/rust/commits/c4797fa4f4a696b183b3aa1517ee22c78d0f5d7a", "html_url": "https://github.com/rust-lang/rust/commit/c4797fa4f4a696b183b3aa1517ee22c78d0f5d7a"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "14372d47df8c3bd5aeed091e69f5bfdfd1ec703c", "filename": ".azure-pipelines/steps/run.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2cd516c1c3bb4faf40338becc014cd570ad19461/.azure-pipelines%2Fsteps%2Frun.yml", "raw_url": "https://github.com/rust-lang/rust/raw/2cd516c1c3bb4faf40338becc014cd570ad19461/.azure-pipelines%2Fsteps%2Frun.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.azure-pipelines%2Fsteps%2Frun.yml?ref=2cd516c1c3bb4faf40338becc014cd570ad19461", "patch": "@@ -155,6 +155,6 @@ steps:\n - bash: aws s3 cp --acl public-read cpu-usage.csv s3://$DEPLOY_BUCKET/rustc-builds/$BUILD_SOURCEVERSION/cpu-$SYSTEM_JOBNAME.csv\n   env:\n     AWS_SECRET_ACCESS_KEY: $(AWS_SECRET_ACCESS_KEY)\n-  condition: contains(variables, 'AWS_SECRET_ACCESS_KEY')\n+  condition: variables['AWS_SECRET_ACCESS_KEY']\n   continueOnError: true\n   displayName: Upload CPU usage statistics"}]}