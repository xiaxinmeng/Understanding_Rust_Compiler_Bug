{"sha": "d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ1MWE4MGM1N2U4NWY2ZDk2YzcwMDQxMGY4YmE2MGQ5NGZmYWFiYTg=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-11-25T16:23:48Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-11-25T16:23:48Z"}, "message": "Enable deny-warnings feature everywhere in CI", "tree": {"sha": "92e43dbb80450aa61f70ec458fcedcb2c070d596", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92e43dbb80450aa61f70ec458fcedcb2c070d596"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl3cABQACgkQaTCGhp1Q\nZjeCbw/9FWeUAoUV+q5QxtXvyzILwesk61r/r1QJT7r7DCij/PaztRsTZM5lZg56\no7iIhbgTheGbuqHpk9k9A09aepQMBR2MCeOF/kU/C8/pFBQg+HpfRU+hdJeY/Ez9\nzlYr7ivTx5ARxbHwJWuTIiA3QuF0BAx3GmCgVtcj1p2UO/sJGN/bipqB5ZZnu6rS\n9Du3isgsCAN/R5X5EnzeM57d4U1kOMJC0T6oYL9JOwdGcEOJ1oMrSLfju46jq04j\n8gqDDL/wjCL+0VjBkUkzcGL8mBLdSyizzlS3Ba26SLQ/k1fFKi8XjjljharocFxq\nwCfOupWvYYAxctH5Rf3dR8OOdoFEwi8sDt1GmInR3k83e7Y48SuPiV2qhzVsprzj\n5cCH+0s1OREv/UjXYlIS7cSVa32Ie7xuD6aE1Wvc1RmTVjNlQVs31jAfyfI6/s7U\n9PC6VeCWbX+AGxNnKa5h7LERPUYgFbdZs+hal1LcS7mKN+pvxsjx8TtDSWdjkaqF\nMJP+pt8hLA5wI4mnX2jftdxXlnJ1lAguoJDTHtqbZVOpR4FHeUFhxeMuQOjJdeko\nU/XZFEaplgHitGdsido8KRd5JfJ3tkJBisoyL8wPc2+AbOfFvKADl2hRSkt1Jn4G\n9fOBHDNqjxrVev5tLcwQsrxkfqRGlWOSbywfogCsB6HnO0HK/Dk=\n=VENs\n-----END PGP SIGNATURE-----", "payload": "tree 92e43dbb80450aa61f70ec458fcedcb2c070d596\nparent 1d3ec29880fc991b2ae2feb62145627651d732f6\nauthor flip1995 <hello@philkrones.com> 1574699028 +0100\ncommitter flip1995 <hello@philkrones.com> 1574699028 +0100\n\nEnable deny-warnings feature everywhere in CI\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "html_url": "https://github.com/rust-lang/rust/commit/d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1d3ec29880fc991b2ae2feb62145627651d732f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/1d3ec29880fc991b2ae2feb62145627651d732f6", "html_url": "https://github.com/rust-lang/rust/commit/1d3ec29880fc991b2ae2feb62145627651d732f6"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "d3fd262b600499ae821a643a5210fa6806b3ed93", "filename": "ci/base-tests.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/ci%2Fbase-tests.sh", "raw_url": "https://github.com/rust-lang/rust/raw/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/ci%2Fbase-tests.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci%2Fbase-tests.sh?ref=d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "patch": "@@ -15,9 +15,9 @@ fi\n cargo build --features deny-warnings\n cargo test --features deny-warnings\n \n-(cd clippy_lints && cargo test)\n-(cd rustc_tools_util && cargo test)\n-(cd clippy_dev && cargo test)\n+(cd clippy_lints && cargo test --features deny-warnings)\n+(cd rustc_tools_util && cargo test --features deny-warnings)\n+(cd clippy_dev && cargo test --features deny-warnings)\n \n # make sure clippy can be called via ./path/to/cargo-clippy\n ("}, {"sha": "b30ba61d299132807721014cc9d9ff5c37b22d9c", "filename": "clippy_dev/Cargo.toml", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/clippy_dev%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/clippy_dev%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2FCargo.toml?ref=d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "patch": "@@ -11,3 +11,6 @@ regex = \"1\"\n lazy_static = \"1.0\"\n shell-escape = \"0.1\"\n walkdir = \"2\"\n+\n+[features]\n+deny-warnings = []"}, {"sha": "f73e7b86720db9df97c2ee35da4917978c08bf5e", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "patch": "@@ -1,3 +1,5 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+\n use itertools::Itertools;\n use lazy_static::lazy_static;\n use regex::Regex;"}, {"sha": "3010e0d2489dc8ad1a0fa6dde861bfde23a7928d", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "patch": "@@ -1,3 +1,5 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+\n extern crate clap;\n extern crate clippy_dev;\n extern crate regex;"}, {"sha": "6f0fc5bee8f091cae4557d9512e9dbd2bea1e932", "filename": "rustc_tools_util/Cargo.toml", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/rustc_tools_util%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/rustc_tools_util%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustc_tools_util%2FCargo.toml?ref=d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "patch": "@@ -9,4 +9,8 @@ license = \"MIT OR Apache-2.0\"\n keywords = [\"rustc\", \"tool\", \"git\", \"version\", \"hash\"]\n categories = [\"development-tools\"]\n edition = \"2018\"\n+\n [dependencies]\n+\n+[features]\n+deny-warnings = []"}, {"sha": "ff2a7de572571d850872fb2dec4e081bc9224404", "filename": "rustc_tools_util/src/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/rustc_tools_util%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d51a80c57e85f6d96c700410f8ba60d94ffaaba8/rustc_tools_util%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustc_tools_util%2Fsrc%2Flib.rs?ref=d51a80c57e85f6d96c700410f8ba60d94ffaaba8", "patch": "@@ -1,3 +1,5 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+\n use std::env;\n \n #[macro_export]"}]}