{"sha": "92da91313ce15ad3830b3dacd31bdeb8a95e5346", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkyZGE5MTMxM2NlMTVhZDM4MzBiM2RhY2QzMWJkZWI4YTk1ZTUzNDY=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2017-12-10T21:45:24Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2017-12-11T05:03:58Z"}, "message": "Add closure defined outside of call case to arg count mismatch test", "tree": {"sha": "42a6d829ff5152dbb323bf9281a11db64ea3e5a5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/42a6d829ff5152dbb323bf9281a11db64ea3e5a5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/92da91313ce15ad3830b3dacd31bdeb8a95e5346", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/92da91313ce15ad3830b3dacd31bdeb8a95e5346", "html_url": "https://github.com/rust-lang/rust/commit/92da91313ce15ad3830b3dacd31bdeb8a95e5346", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/92da91313ce15ad3830b3dacd31bdeb8a95e5346/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8ee82d08ac17945a770748c9943ebacc604be935", "url": "https://api.github.com/repos/rust-lang/rust/commits/8ee82d08ac17945a770748c9943ebacc604be935", "html_url": "https://github.com/rust-lang/rust/commit/8ee82d08ac17945a770748c9943ebacc604be935"}], "stats": {"total": 29, "additions": 20, "deletions": 9}, "files": [{"sha": "1ee24e398520bcfde582f57396bb68c2f6f72c51", "filename": "src/test/ui/mismatched_types/closure-arg-count.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-count.rs", "raw_url": "https://github.com/rust-lang/rust/raw/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-count.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-count.rs?ref=92da91313ce15ad3830b3dacd31bdeb8a95e5346", "patch": "@@ -29,6 +29,9 @@ fn main() {\n     //~^ ERROR closure is expected to take\n     let _it = vec![1, 2, 3].into_iter().enumerate().map(foo);\n     //~^ ERROR function is expected to take\n+    let bar = |i, x, y| i;\n+    let _it = vec![1, 2, 3].into_iter().enumerate().map(bar);\n+    //~^ ERROR closure is expected to take\n }\n \n fn foo() {}"}, {"sha": "216f39bac5418565c1dcc585c13ccf8b3a049e52", "filename": "src/test/ui/mismatched_types/closure-arg-count.stderr", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-count.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-count.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-count.stderr?ref=92da91313ce15ad3830b3dacd31bdeb8a95e5346", "patch": "@@ -62,8 +62,16 @@ error[E0593]: function is expected to take a single 2-tuple as argument, but it\n 30 |     let _it = vec![1, 2, 3].into_iter().enumerate().map(foo);\n    |                                                     ^^^ expected function that takes a single 2-tuple as argument\n ...\n-34 | fn foo() {}\n+37 | fn foo() {}\n    | -------- takes 0 arguments\n \n-error: aborting due to 8 previous errors\n+error[E0593]: closure is expected to take a single 2-tuple as argument, but it takes 3 distinct arguments\n+  --> $DIR/closure-arg-count.rs:33:53\n+   |\n+32 |     let bar = |i, x, y| i;\n+   |               --------- takes 3 distinct arguments\n+33 |     let _it = vec![1, 2, 3].into_iter().enumerate().map(bar);\n+   |                                                     ^^^ expected closure that takes a single 2-tuple as argument\n+\n+error: aborting due to 9 previous errors\n "}, {"sha": "af691663411fab8f0dd60c962bee5a914ea4bef7", "filename": "src/test/ui/mismatched_types/fn-variance-1.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.rs?ref=92da91313ce15ad3830b3dacd31bdeb8a95e5346", "patch": "@@ -9,8 +9,10 @@\n // except according to those terms.\n \n fn takes_imm(x: &isize) { }\n+//~^ NOTE found signature\n \n fn takes_mut(x: &mut isize) { }\n+//~^ NOTE found signature\n \n fn apply<T, F>(t: T, f: F) where F: FnOnce(T) {\n     f(t)\n@@ -22,12 +24,10 @@ fn main() {\n     //~^ ERROR type mismatch\n     //~| NOTE required by `apply`\n     //~| NOTE expected signature\n-    //~| NOTE found signature\n \n     apply(&mut 3, takes_mut);\n     apply(&mut 3, takes_imm);\n     //~^ ERROR type mismatch\n     //~| NOTE required by `apply`\n     //~| NOTE expected signature\n-    //~| NOTE found signature\n }"}, {"sha": "856efcd42181c9afc2adc19dddd7652e5ab4dee1", "filename": "src/test/ui/mismatched_types/fn-variance-1.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/92da91313ce15ad3830b3dacd31bdeb8a95e5346/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.stderr?ref=92da91313ce15ad3830b3dacd31bdeb8a95e5346", "patch": "@@ -1,21 +1,21 @@\n error[E0631]: type mismatch in function arguments\n-  --> $DIR/fn-variance-1.rs:21:5\n+  --> $DIR/fn-variance-1.rs:23:5\n    |\n-13 | fn takes_mut(x: &mut isize) { }\n+14 | fn takes_mut(x: &mut isize) { }\n    | --------------------------- found signature of `for<'r> fn(&'r mut isize) -> _`\n ...\n-21 |     apply(&3, takes_mut);\n+23 |     apply(&3, takes_mut);\n    |     ^^^^^ expected signature of `fn(&{integer}) -> _`\n    |\n    = note: required by `apply`\n \n error[E0631]: type mismatch in function arguments\n-  --> $DIR/fn-variance-1.rs:28:5\n+  --> $DIR/fn-variance-1.rs:29:5\n    |\n 11 | fn takes_imm(x: &isize) { }\n    | ----------------------- found signature of `for<'r> fn(&'r isize) -> _`\n ...\n-28 |     apply(&mut 3, takes_imm);\n+29 |     apply(&mut 3, takes_imm);\n    |     ^^^^^ expected signature of `fn(&mut {integer}) -> _`\n    |\n    = note: required by `apply`"}]}