{"sha": "fda31345c1c45c401e98d9d177c204bcdde8d136", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkYTMxMzQ1YzFjNDVjNDAxZTk4ZDlkMTc3YzIwNGJjZGRlOGQxMzY=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-05-20T13:49:52Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-05-20T13:49:52Z"}, "message": "Rollup merge of #33668 - dns2utf8:catch_thread, r=steveklabnik\n\nCatch thread in example\n\nSince this is an example, the code will be copied by many people and should be over correct.\n\n?r @steveklabnik", "tree": {"sha": "d7aef4d59efbd0ef15f93bc04be8eeea27025930", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d7aef4d59efbd0ef15f93bc04be8eeea27025930"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fda31345c1c45c401e98d9d177c204bcdde8d136", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fda31345c1c45c401e98d9d177c204bcdde8d136", "html_url": "https://github.com/rust-lang/rust/commit/fda31345c1c45c401e98d9d177c204bcdde8d136", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fda31345c1c45c401e98d9d177c204bcdde8d136/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d27bdafc3eaab2729d664f82b7d650782640f31a", "url": "https://api.github.com/repos/rust-lang/rust/commits/d27bdafc3eaab2729d664f82b7d650782640f31a", "html_url": "https://github.com/rust-lang/rust/commit/d27bdafc3eaab2729d664f82b7d650782640f31a"}, {"sha": "22615adf02578d7b88a36e98275d4e63da4d5ec6", "url": "https://api.github.com/repos/rust-lang/rust/commits/22615adf02578d7b88a36e98275d4e63da4d5ec6", "html_url": "https://github.com/rust-lang/rust/commit/22615adf02578d7b88a36e98275d4e63da4d5ec6"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "1bdab88d71da08226d7238b0c2a1c32106ad7e4a", "filename": "src/libcore/sync/atomic.rs", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/fda31345c1c45c401e98d9d177c204bcdde8d136/src%2Flibcore%2Fsync%2Fatomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fda31345c1c45c401e98d9d177c204bcdde8d136/src%2Flibcore%2Fsync%2Fatomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fsync%2Fatomic.rs?ref=fda31345c1c45c401e98d9d177c204bcdde8d136", "patch": "@@ -26,8 +26,9 @@\n //! [1]: http://llvm.org/docs/LangRef.html#memory-model-for-concurrent-operations\n //!\n //! Atomic variables are safe to share between threads (they implement `Sync`)\n-//! but they do not themselves provide the mechanism for sharing. The most\n-//! common way to share an atomic variable is to put it into an `Arc` (an\n+//! but they do not themselves provide the mechanism for sharing and follow the\n+//! [threading model](../../../std/thread/index.html#the-threading-model) of rust.\n+//! The most common way to share an atomic variable is to put it into an `Arc` (an\n //! atomically-reference-counted shared pointer).\n //!\n //! Most atomic types may be stored in static variables, initialized using\n@@ -48,12 +49,16 @@\n //!     let spinlock = Arc::new(AtomicUsize::new(1));\n //!\n //!     let spinlock_clone = spinlock.clone();\n-//!     thread::spawn(move|| {\n+//!     let thread = thread::spawn(move|| {\n //!         spinlock_clone.store(0, Ordering::SeqCst);\n //!     });\n //!\n //!     // Wait for the other thread to release the lock\n //!     while spinlock.load(Ordering::SeqCst) != 0 {}\n+//!\n+//!     if let Err(panic) = thread.join() {\n+//!         println!(\"Thread had an error: {:?}\", panic);\n+//!     }\n //! }\n //! ```\n //!"}]}