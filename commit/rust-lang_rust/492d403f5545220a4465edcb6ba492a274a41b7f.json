{"sha": "492d403f5545220a4465edcb6ba492a274a41b7f", "node_id": "C_kwDOAAsO6NoAKDQ5MmQ0MDNmNTU0NTIyMGE0NDY1ZWRjYjZiYTQ5MmEyNzRhNDFiN2Y", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-05-03T05:59:00Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-05-03T05:59:00Z"}, "message": "Rollup merge of #96614 - JohnTitor:test-92305, r=oli-obk\n\nAdd a regression test for #92305\n\nCloses #92305\nr? ``@oli-obk`` as per https://github.com/rust-lang/rust/issues/92305#issuecomment-1114043188", "tree": {"sha": "313f328ec0f521a3d17eb843f2ad35954ee03f93", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/313f328ec0f521a3d17eb843f2ad35954ee03f93"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/492d403f5545220a4465edcb6ba492a274a41b7f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJicMSkCRBK7hj4Ov3rIwAA3kIIAEaxLiJdVG/1GwRJv7jDZI1o\noG5ABAlUAessIgct6U7gDteEQHNORkWDRmdzjrt7G6xaDtJ7rlOny0wlK69BmZlo\nUXP2otleel19QsnnEqtJ2XZPOD92mlBmcthEL/DeRPhevq+roo2Di5MHA+nwDqaC\nOysr6gu6zljMLcrR3i1tlFJRvPXy4jTxMGJqWvSTbAc5cX5MsAs2QNjf5mgg5Mwo\n0iJkrk2kgXYD74KWkQ3ch8aVewq5bRaaSgu8dDUq4P0P4FgyikbXjDh8u/wlYo6E\ndg1Se4JadL14g6C+pjWuQ+4YCRdwLuNw7/fS+qT2fdJ7OkFE1390LLH7D1co/Ys=\n=UCdr\n-----END PGP SIGNATURE-----\n", "payload": "tree 313f328ec0f521a3d17eb843f2ad35954ee03f93\nparent 61c687a0dbfefaf285160a5f15e0aea17454bdd8\nparent 18b12fa993312c41b10487efa85fed95ad1af372\nauthor Yuki Okushi <jtitor@2k36.org> 1651557540 +0900\ncommitter GitHub <noreply@github.com> 1651557540 +0900\n\nRollup merge of #96614 - JohnTitor:test-92305, r=oli-obk\n\nAdd a regression test for #92305\n\nCloses #92305\nr? ``@oli-obk`` as per https://github.com/rust-lang/rust/issues/92305#issuecomment-1114043188\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/492d403f5545220a4465edcb6ba492a274a41b7f", "html_url": "https://github.com/rust-lang/rust/commit/492d403f5545220a4465edcb6ba492a274a41b7f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/492d403f5545220a4465edcb6ba492a274a41b7f/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61c687a0dbfefaf285160a5f15e0aea17454bdd8", "url": "https://api.github.com/repos/rust-lang/rust/commits/61c687a0dbfefaf285160a5f15e0aea17454bdd8", "html_url": "https://github.com/rust-lang/rust/commit/61c687a0dbfefaf285160a5f15e0aea17454bdd8"}, {"sha": "18b12fa993312c41b10487efa85fed95ad1af372", "url": "https://api.github.com/repos/rust-lang/rust/commits/18b12fa993312c41b10487efa85fed95ad1af372", "html_url": "https://github.com/rust-lang/rust/commit/18b12fa993312c41b10487efa85fed95ad1af372"}], "stats": {"total": 47, "additions": 47, "deletions": 0}, "files": [{"sha": "1518c116b318571573629d1979540cdc8c5fdec4", "filename": "src/test/ui/impl-trait/issues/issue-92305.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/492d403f5545220a4465edcb6ba492a274a41b7f/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-92305.rs", "raw_url": "https://github.com/rust-lang/rust/raw/492d403f5545220a4465edcb6ba492a274a41b7f/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-92305.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-92305.rs?ref=492d403f5545220a4465edcb6ba492a274a41b7f", "patch": "@@ -0,0 +1,15 @@\n+// edition:2021\n+\n+use std::iter;\n+\n+fn f<T>(data: &[T]) -> impl Iterator<Item = Vec> {\n+    //~^ ERROR: missing generics for struct `Vec` [E0107]\n+    iter::empty() //~ ERROR: type annotations needed [E0282]\n+}\n+\n+fn g<T>(data: &[T], target: T) -> impl Iterator<Item = Vec<T>> {\n+    //~^ ERROR: type annotations needed [E0282]\n+    f(data).filter(|x| x == target)\n+}\n+\n+fn main() {}"}, {"sha": "c4fc49225e9a00daf5ce0a64d5a0ebca7d1e5b32", "filename": "src/test/ui/impl-trait/issues/issue-92305.stderr", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/492d403f5545220a4465edcb6ba492a274a41b7f/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-92305.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/492d403f5545220a4465edcb6ba492a274a41b7f/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-92305.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-92305.stderr?ref=492d403f5545220a4465edcb6ba492a274a41b7f", "patch": "@@ -0,0 +1,32 @@\n+error[E0107]: missing generics for struct `Vec`\n+  --> $DIR/issue-92305.rs:5:45\n+   |\n+LL | fn f<T>(data: &[T]) -> impl Iterator<Item = Vec> {\n+   |                                             ^^^ expected at least 1 generic argument\n+   |\n+note: struct defined here, with at least 1 generic parameter: `T`\n+  --> $SRC_DIR/alloc/src/vec/mod.rs:LL:COL\n+   |\n+LL | pub struct Vec<T, #[unstable(feature = \"allocator_api\", issue = \"32838\")] A: Allocator = Global> {\n+   |            ^^^ -\n+help: add missing generic argument\n+   |\n+LL | fn f<T>(data: &[T]) -> impl Iterator<Item = Vec<T>> {\n+   |                                             ~~~~~~\n+\n+error[E0282]: type annotations needed\n+  --> $DIR/issue-92305.rs:7:5\n+   |\n+LL |     iter::empty()\n+   |     ^^^^^^^^^^^ cannot infer type for type parameter `T` declared on the function `empty`\n+\n+error[E0282]: type annotations needed\n+  --> $DIR/issue-92305.rs:10:35\n+   |\n+LL | fn g<T>(data: &[T], target: T) -> impl Iterator<Item = Vec<T>> {\n+   |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot infer type\n+\n+error: aborting due to 3 previous errors\n+\n+Some errors have detailed explanations: E0107, E0282.\n+For more information about an error, try `rustc --explain E0107`."}]}