{"sha": "6dc598fa6331de6124a255527e37804d82372fdc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkYzU5OGZhNjMzMWRlNjEyNGEyNTU1MjdlMzc4MDRkODIzNzJmZGM=", "commit": {"author": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-28T22:46:48Z"}, "committer": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-28T22:59:42Z"}, "message": "vscode: simplify assert.eq() to assert() as per matklad", "tree": {"sha": "db6d7cdc86d299685e6d206676dd08d80c61e801", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db6d7cdc86d299685e6d206676dd08d80c61e801"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6dc598fa6331de6124a255527e37804d82372fdc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6dc598fa6331de6124a255527e37804d82372fdc", "html_url": "https://github.com/rust-lang/rust/commit/6dc598fa6331de6124a255527e37804d82372fdc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6dc598fa6331de6124a255527e37804d82372fdc/comments", "author": null, "committer": null, "parents": [{"sha": "e7bf99e6fdddc1ec66611a0b145d796f17c46039", "url": "https://api.github.com/repos/rust-lang/rust/commits/e7bf99e6fdddc1ec66611a0b145d796f17c46039", "html_url": "https://github.com/rust-lang/rust/commit/e7bf99e6fdddc1ec66611a0b145d796f17c46039"}], "stats": {"total": 19, "additions": 4, "deletions": 15}, "files": [{"sha": "97e4d67c21d2f600a9401525e4aa706085c6214a", "filename": "editors/code/src/installation/download_artifact.ts", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/6dc598fa6331de6124a255527e37804d82372fdc/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_artifact.ts", "raw_url": "https://github.com/rust-lang/rust/raw/6dc598fa6331de6124a255527e37804d82372fdc/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_artifact.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_artifact.ts?ref=6dc598fa6331de6124a255527e37804d82372fdc", "patch": "@@ -19,11 +19,10 @@ export async function downloadArtifact(\n     installationDir: string,\n     displayName: string,\n ) {\n-    await fs.mkdir(installationDir).catch(err => assert.eq(\n-        err?.code,\n-        \"EEXIST\",\n+    await fs.mkdir(installationDir).catch(err => assert(\n+        err?.code === \"EEXIST\",\n         `Couldn't create directory \"${installationDir}\" to download ` +\n-        `${artifactFileName} artifact: ${err.message}`\n+        `${artifactFileName} artifact: ${err?.message}`\n     ));\n \n     const installationPath = path.join(installationDir, artifactFileName);"}, {"sha": "f56c6badaf3cd62a4f9028ffaa17a9e791536150", "filename": "editors/code/src/util.ts", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6dc598fa6331de6124a255527e37804d82372fdc/editors%2Fcode%2Fsrc%2Futil.ts", "raw_url": "https://github.com/rust-lang/rust/raw/6dc598fa6331de6124a255527e37804d82372fdc/editors%2Fcode%2Fsrc%2Futil.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Futil.ts?ref=6dc598fa6331de6124a255527e37804d82372fdc", "patch": "@@ -2,7 +2,7 @@ import * as lc from \"vscode-languageclient\";\n import * as vscode from \"vscode\";\n import { strict as nativeAssert } from \"assert\";\n \n-export function assert(condition: unknown, explanation: string): asserts condition {\n+export function assert(condition: boolean, explanation: string): asserts condition {\n     try {\n         nativeAssert(condition, explanation);\n     } catch (err) {\n@@ -11,16 +11,6 @@ export function assert(condition: unknown, explanation: string): asserts conditi\n     }\n }\n \n-assert.eq = <T>(bibba: unknown, bobba: T, explanation: string): asserts bibba is T => {\n-    try {\n-        nativeAssert.strictEqual(bibba, bobba, explanation);\n-    } catch (err) {\n-        log.error(`Equality assertion failed:`, explanation);\n-        throw err;\n-    }\n-};\n-\n-\n export const log = {\n     enabled: true,\n     debug(message?: any, ...optionalParams: any[]): void {"}]}