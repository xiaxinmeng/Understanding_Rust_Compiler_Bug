{"sha": "59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU5ZTVhNWMzMjI3MTBmN2IwYWY5YjEzYjI1ZWYzYzIzZTMzYTJlN2M=", "commit": {"author": {"name": "User", "email": "user0001@DevuanPCLoadLetter.lan", "date": "2016-05-17T23:08:45Z"}, "committer": {"name": "User", "email": "user0001@DevuanPCLoadLetter.lan", "date": "2016-05-17T23:08:45Z"}, "message": "Resolved rustdoc crash (#33678) by aborting instead of unwrapping.\nRemoved Option use and comment to match.", "tree": {"sha": "59d37883ea55de63330d6cef75a48624129b8813", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/59d37883ea55de63330d6cef75a48624129b8813"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c", "html_url": "https://github.com/rust-lang/rust/commit/59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c/comments", "author": null, "committer": null, "parents": [{"sha": "5d12502d3a54aaad5e1af48111ecc81a1c2cbf2b", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d12502d3a54aaad5e1af48111ecc81a1c2cbf2b", "html_url": "https://github.com/rust-lang/rust/commit/5d12502d3a54aaad5e1af48111ecc81a1c2cbf2b"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "802500233edb54ebb489fdd4d0a5e3f9fe3bce39", "filename": "src/librustdoc/core.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c/src%2Flibrustdoc%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c/src%2Flibrustdoc%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fcore.rs?ref=59e5a5c322710f7b0af9b13b25ef3c23e33a2e7c", "patch": "@@ -172,9 +172,8 @@ pub fn run_core(search_paths: SearchPaths,\n                                                      &arenas,\n                                                      &name,\n                                                      |tcx, _, analysis, result| {\n-        // Return if the driver hit an err (in `result`)\n         if let Err(_) = result {\n-            return None\n+            sess.fatal(\"Compilation failed, aborting rustdoc\");\n         }\n \n         let _ignore = tcx.dep_graph.in_ignore();\n@@ -206,6 +205,6 @@ pub fn run_core(search_paths: SearchPaths,\n             v.clean(&ctxt)\n         };\n \n-        Some((krate, ctxt.renderinfo.into_inner()))\n-    }), &sess).unwrap()\n+        (krate, ctxt.renderinfo.into_inner())\n+    }), &sess)\n }"}]}