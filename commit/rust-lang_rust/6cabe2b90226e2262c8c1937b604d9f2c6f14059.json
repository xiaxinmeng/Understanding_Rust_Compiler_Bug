{"sha": "6cabe2b90226e2262c8c1937b604d9f2c6f14059", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjYWJlMmI5MDIyNmUyMjYyYzhjMTkzN2I2MDRkOWYyYzZmMTQwNTk=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2013-01-29T09:20:28Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2013-01-29T10:28:52Z"}, "message": "Fixed two examples of erroneous code so their errors match expectation.\n\n1. In the first case, the previous code was failing during type inference\n   due to mismatched structure.  Fix is to use the X structure at both\n   points in the code.\n\n2. In the second case, a naive transcription that subsitutes *nothing*\n   in for the omitted statements signified by \"...\" will actually\n   compile without an error.  Furthermore, any pure code could also be\n   substituted for the ellipsis and the code would compile (as the\n   text already states).  So to make the example more illustrative, it\n   would be better to include an impure callback, which makes the\n   potential for aliasing immediately obvious to the reader.", "tree": {"sha": "1998ff99086b56d0655f37732b59631cd3c785f1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1998ff99086b56d0655f37732b59631cd3c785f1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6cabe2b90226e2262c8c1937b604d9f2c6f14059", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6cabe2b90226e2262c8c1937b604d9f2c6f14059", "html_url": "https://github.com/rust-lang/rust/commit/6cabe2b90226e2262c8c1937b604d9f2c6f14059", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6cabe2b90226e2262c8c1937b604d9f2c6f14059/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "88bec09e6345d64d334c6dc1ef4947b35c467373", "url": "https://api.github.com/repos/rust-lang/rust/commits/88bec09e6345d64d334c6dc1ef4947b35c467373", "html_url": "https://github.com/rust-lang/rust/commit/88bec09e6345d64d334c6dc1ef4947b35c467373"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "59d58cadbecdf422d789404cee29de28f62e2639", "filename": "doc/tutorial-borrowed-ptr.md", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6cabe2b90226e2262c8c1937b604d9f2c6f14059/doc%2Ftutorial-borrowed-ptr.md", "raw_url": "https://github.com/rust-lang/rust/raw/6cabe2b90226e2262c8c1937b604d9f2c6f14059/doc%2Ftutorial-borrowed-ptr.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Ftutorial-borrowed-ptr.md?ref=6cabe2b90226e2262c8c1937b604d9f2c6f14059", "patch": "@@ -302,7 +302,7 @@ rejected by the compiler):\n fn example3() -> int {\n     let mut x = ~X {f: 3};\n     let y = &x.f;\n-    x = ~{f: 4};  // Error reported here.\n+    x = ~X {f: 4};  // Error reported here.\n     *y\n }\n ~~~\n@@ -369,9 +369,11 @@ box's owner. Consider a program like this:\n ~~~\n struct R { g: int }\n struct S { mut f: ~R }\n-fn example5a(x: @S ...) -> int {\n+fn example5a(x: @S, callback: @fn()) -> int {\n     let y = &x.f.g;   // Error reported here.\n     ...\n+    callback();\n+    ...\n #   return 0;\n }\n ~~~"}]}