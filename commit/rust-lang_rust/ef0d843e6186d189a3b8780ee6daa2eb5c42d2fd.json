{"sha": "ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmMGQ4NDNlNjE4NmQxODlhM2I4NzgwZWU2ZGFhMmViNWM0MmQyZmQ=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-11-06T14:59:19Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-11-06T15:49:05Z"}, "message": "rustbuild: Re-enable ThinLTO for MIPS\n\nNow that the upstream LLVM bug is now fixed this commit cherry-picks the commit\nonto our LLVM and then re-enables the ThinLTO paths for MIPS.\n\nCloses #45654", "tree": {"sha": "8c39ea8b382fe1a5c64ad779f1b694d802c1100b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8c39ea8b382fe1a5c64ad779f1b694d802c1100b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd", "html_url": "https://github.com/rust-lang/rust/commit/ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "19402f11e12042367f2b711155cdde61a608b660", "url": "https://api.github.com/repos/rust-lang/rust/commits/19402f11e12042367f2b711155cdde61a608b660", "html_url": "https://github.com/rust-lang/rust/commit/19402f11e12042367f2b711155cdde61a608b660"}], "stats": {"total": 5, "additions": 2, "deletions": 3}, "files": [{"sha": "c8e808a0188c62dabee3e22ac23d6d404fad24e9", "filename": "src/bootstrap/builder.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd/src%2Fbootstrap%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd/src%2Fbootstrap%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder.rs?ref=ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd", "patch": "@@ -625,8 +625,7 @@ impl<'a> Builder<'a> {\n \n             if mode != Mode::Libstd && // FIXME(#45320)\n                self.config.rust_codegen_units.is_none() &&\n-               self.build.is_rust_llvm(compiler.host) &&\n-               !target.contains(\"mips\") // FIXME(#45654)\n+               self.build.is_rust_llvm(compiler.host)\n             {\n                 cargo.env(\"RUSTC_THINLTO\", \"1\");\n             }"}, {"sha": "86c7a9985d0855255927d8653ea4d4407de8cc90", "filename": "src/llvm", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fllvm?ref=ef0d843e6186d189a3b8780ee6daa2eb5c42d2fd", "patch": "@@ -1 +1 @@\n-Subproject commit 83b72cedfd7800ffc983d2855a85c5d06a545aa7\n+Subproject commit 86c7a9985d0855255927d8653ea4d4407de8cc90"}]}