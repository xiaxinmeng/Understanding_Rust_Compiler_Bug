{"sha": "ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVkMjllODZjMzljZGUxYTc3YThiM2E0MDQ2ZDEyZjliNTdmYjcyZmI=", "commit": {"author": {"name": "flip1995", "email": "9744647+flip1995@users.noreply.github.com", "date": "2018-07-03T10:23:20Z"}, "committer": {"name": "flip1995", "email": "9744647+flip1995@users.noreply.github.com", "date": "2018-07-04T10:16:45Z"}, "message": "Tests for tool_lints", "tree": {"sha": "cbf64119a9bc45c54e88d760dcaa65c8f2b6f7e6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cbf64119a9bc45c54e88d760dcaa65c8f2b6f7e6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE8rLaPclMjvVJWRZHnxhOEWSDEYEFAls8no0ACgkQnxhOEWSD\nEYGGGxAAhKnTxxvbuZa08cwYMYpba6yAj3JkrdFHIuwbaj/Iar3uo4jzu9qI11ft\njh6/wvgDvbaIxla6B4RC36rNqroQze4m/4BKFj/C6oYZTXDzTMFw3dHI2LqdMjfy\nZQoKWt12m2d1inyd6xVjiIaRfxF3KO96BDFZyBQ8oHDd6D7W7LKwGurWOpvgAdpD\nJTc2Yj5VHKC/lqAfKo1L0a2u/qVE6H+6lIMulrVW9UD7t+9FROcyqcrCfFBvPMzj\nirmmei/0I8Hs8Pu+CnE65k2WcZAOJKoJriIXwiDNqN8DsMvU5iqJQ6SqKnobjey1\nvx0xSVBsyEglS6hteC/zCQI93G8mmznSiseDi3ziRDtCx3vILtiwmL1S6aEqF7z+\nfwAS+YqqZU+nLAyoX3DjsGBLN4zllHydUXOH1TrjMZoqO5JEL30K5ZE/RUEXSYzc\ndFSHMsu5SRbrsSqPgjU3gq9Zj53F21kZp6caGZ8g1OWUQJ7fS9jj2WvCr1Wm/2kg\nBHzg79dKs6aKjG65s8hqJNYjPs9AVPiJQe9yYqo3AaB2pXFj6VGBkKBQlLExDnAk\nZBAVONgjYs2GpkN+Ik35CFBmqE9cS8IlRNAfrwFlvy4jdF7eKX315udCQwG44EOE\n3QV9aIPq/pmh/dPzV4Gz6G4lG5OcK79hJz4bhIl8ki2p8hWDx7o=\n=tQuL\n-----END PGP SIGNATURE-----", "payload": "tree cbf64119a9bc45c54e88d760dcaa65c8f2b6f7e6\nparent a739c51d108b1958a1c3e145588035c580e7973a\nauthor flip1995 <9744647+flip1995@users.noreply.github.com> 1530613400 +0200\ncommitter flip1995 <9744647+flip1995@users.noreply.github.com> 1530699405 +0200\n\nTests for tool_lints\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "html_url": "https://github.com/rust-lang/rust/commit/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a739c51d108b1958a1c3e145588035c580e7973a", "url": "https://api.github.com/repos/rust-lang/rust/commits/a739c51d108b1958a1c3e145588035c580e7973a", "html_url": "https://github.com/rust-lang/rust/commit/a739c51d108b1958a1c3e145588035c580e7973a"}], "stats": {"total": 103, "additions": 103, "deletions": 0}, "files": [{"sha": "c311eb7ed7ae13b39bbb15fd61c1b2f0d1afd486", "filename": "src/test/compile-fail/feature-gate-tool_lints.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_lints.rs?ref=ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "patch": "@@ -0,0 +1,12 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[warn(clippy::assign_ops)] //~ ERROR scoped lint `clippy::assign_ops` is experimental\n+fn main() {}"}, {"sha": "ea1efab4cb6f87d8a4ec360f5aad74dd7ebdb386", "filename": "src/test/compile-fail/tool_lints.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fcompile-fail%2Ftool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fcompile-fail%2Ftool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftool_lints.rs?ref=ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Don't allow tool_lints, which aren't scoped\n+\n+#![feature(tool_lints)]\n+#![deny(unknown_lints)]\n+\n+#![deny(clippy)] //~ ERROR: unknown lint: `clippy`\n+\n+fn main() {}"}, {"sha": "173803d6030d382a383aa9136ea3aa702eea7dac", "filename": "src/test/compile-fail/unknown-lint-tool-name.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fcompile-fail%2Funknown-lint-tool-name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fcompile-fail%2Funknown-lint-tool-name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funknown-lint-tool-name.rs?ref=ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_lints)]\n+\n+#![deny(foo::bar)] //~ ERROR an unknown tool name found in scoped lint: `foo::bar`.\n+\n+#[allow(foo::bar)] //~ ERROR an unknown tool name found in scoped lint: `foo::bar`.\n+fn main() {}"}, {"sha": "24ec43b12f60e259f169bead63dab5c6214b219b", "filename": "src/test/run-pass/tool_lints.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Frun-pass%2Ftool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Frun-pass%2Ftool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftool_lints.rs?ref=ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_lints)]\n+#![deny(unknown_lints)]\n+\n+#[allow(clippy::almost_swapped)]\n+fn main() {}"}, {"sha": "6cd57eaa195958d599ae1b32fa8df965eaaf212e", "filename": "src/test/run-pass/tool_lints_2018_preview.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Frun-pass%2Ftool_lints_2018_preview.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Frun-pass%2Ftool_lints_2018_preview.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftool_lints_2018_preview.rs?ref=ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_lints)]\n+#![feature(rust_2018_preview)]\n+#![deny(unknown_lints)]\n+\n+#[allow(clippy::almost_swapped)]\n+fn main() {}"}, {"sha": "3ef67982be9a4c1025c36b0b835159a84fa841aa", "filename": "src/test/ui/feature-gate-tool_lints.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.rs?ref=ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[warn(clippy::decimal_literal_representation)]\n+//~^ ERROR scoped lint `clippy::decimal_literal_representation` is experimental\n+fn main() {\n+    let a = 65_535;\n+}"}, {"sha": "8019b1e6a28f6d89fa3171f91a5880892dc2e366", "filename": "src/test/ui/feature-gate-tool_lints.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.stderr?ref=ed29e86c39cde1a77a8b3a4046d12f9b57fb72fb", "patch": "@@ -0,0 +1,11 @@\n+error[E0658]: scoped lint `clippy::decimal_literal_representation` is experimental (see issue #44690)\n+  --> $DIR/feature-gate-tool_lints.rs:11:8\n+   |\n+LL | #[warn(clippy::decimal_literal_representation)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = help: add #![feature(tool_lints)] to the crate attributes to enable\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0658`."}]}