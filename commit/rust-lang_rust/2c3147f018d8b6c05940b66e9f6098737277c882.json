{"sha": "2c3147f018d8b6c05940b66e9f6098737277c882", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJjMzE0N2YwMThkOGI2YzA1OTQwYjY2ZTlmNjA5ODczNzI3N2M4ODI=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-04-09T16:17:22Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-09T16:17:22Z"}, "message": "Rollup merge of #70958 - Amanieu:android_try_reserve, r=Mark-Simulacrum\n\nDisable try_reserve tests on Android\n\nCalling `realloc` with large sizes seems to be broken on older Android versions that use dlmalloc as the default allocator. This is not an issue for modern Android versions that use jemalloc.\n\nFixes #55861", "tree": {"sha": "dab641f94d87557dba0291edc8c852c85f8e6543", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dab641f94d87557dba0291edc8c852c85f8e6543"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2c3147f018d8b6c05940b66e9f6098737277c882", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJej0qSCRBK7hj4Ov3rIwAAdHIIAArRaB3uGaPLHb60H00UZEhS\nkIhmx49PCxuwTAquEUD5Zr8BwMChdMaEKpdCi1Rhl+Xc4mkM3tAqPaCHZUJPMHPw\nwou9nxCwhsZg/lc8P9DVk/PEndPcZSiFG2uHO+lM9344+a8N7aN5IuJTbBXvUcG3\nBZQ7eDQOCsqiDcCHSpQv0D9wi//x28ZSsK5jevlkCDSBge5DA4/ghGo/YxG/jVQs\n+orhyg+4Nonqu4BrihIjIojLGQMGsD+RdNRKGFdbIwJtQedGSUqw0QRru4kvG973\n+Z7zrlOISaJmezXLv3QiQlNKxtrVBOlufUa3A18HaPl/L4vPuvFkyHl41Hovu+c=\n=1cPG\n-----END PGP SIGNATURE-----\n", "payload": "tree dab641f94d87557dba0291edc8c852c85f8e6543\nparent 7944f39b5f9bb43e47568feea2f8b1bfe101c879\nparent 7060a9e68325f1009d2ffd6c87e00f0f7d013d8e\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1586449042 +0200\ncommitter GitHub <noreply@github.com> 1586449042 +0200\n\nRollup merge of #70958 - Amanieu:android_try_reserve, r=Mark-Simulacrum\n\nDisable try_reserve tests on Android\n\nCalling `realloc` with large sizes seems to be broken on older Android versions that use dlmalloc as the default allocator. This is not an issue for modern Android versions that use jemalloc.\n\nFixes #55861\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2c3147f018d8b6c05940b66e9f6098737277c882", "html_url": "https://github.com/rust-lang/rust/commit/2c3147f018d8b6c05940b66e9f6098737277c882", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2c3147f018d8b6c05940b66e9f6098737277c882/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7944f39b5f9bb43e47568feea2f8b1bfe101c879", "url": "https://api.github.com/repos/rust-lang/rust/commits/7944f39b5f9bb43e47568feea2f8b1bfe101c879", "html_url": "https://github.com/rust-lang/rust/commit/7944f39b5f9bb43e47568feea2f8b1bfe101c879"}, {"sha": "7060a9e68325f1009d2ffd6c87e00f0f7d013d8e", "url": "https://api.github.com/repos/rust-lang/rust/commits/7060a9e68325f1009d2ffd6c87e00f0f7d013d8e", "html_url": "https://github.com/rust-lang/rust/commit/7060a9e68325f1009d2ffd6c87e00f0f7d013d8e"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "9ea020d2d19f4a6349b3b21920e1e3a2b341f3e5", "filename": "src/liballoc/tests/string.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2c3147f018d8b6c05940b66e9f6098737277c882/src%2Fliballoc%2Ftests%2Fstring.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c3147f018d8b6c05940b66e9f6098737277c882/src%2Fliballoc%2Ftests%2Fstring.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Ftests%2Fstring.rs?ref=2c3147f018d8b6c05940b66e9f6098737277c882", "patch": "@@ -555,6 +555,7 @@ fn test_reserve_exact() {\n \n #[test]\n #[cfg_attr(miri, ignore)] // Miri does not support signalling OOM\n+#[cfg_attr(target_os = \"android\", ignore)] // Android used in CI has a broken dlmalloc\n fn test_try_reserve() {\n     // These are the interesting cases:\n     // * exactly isize::MAX should never trigger a CapacityOverflow (can be OOM)\n@@ -644,6 +645,7 @@ fn test_try_reserve() {\n \n #[test]\n #[cfg_attr(miri, ignore)] // Miri does not support signalling OOM\n+#[cfg_attr(target_os = \"android\", ignore)] // Android used in CI has a broken dlmalloc\n fn test_try_reserve_exact() {\n     // This is exactly the same as test_try_reserve with the method changed.\n     // See that test for comments."}, {"sha": "3d76324f7e880767f0a7be6aef82303d7d6c12a5", "filename": "src/liballoc/tests/vec.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2c3147f018d8b6c05940b66e9f6098737277c882/src%2Fliballoc%2Ftests%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c3147f018d8b6c05940b66e9f6098737277c882/src%2Fliballoc%2Ftests%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Ftests%2Fvec.rs?ref=2c3147f018d8b6c05940b66e9f6098737277c882", "patch": "@@ -1137,6 +1137,7 @@ fn test_reserve_exact() {\n \n #[test]\n #[cfg_attr(miri, ignore)] // Miri does not support signalling OOM\n+#[cfg_attr(target_os = \"android\", ignore)] // Android used in CI has a broken dlmalloc\n fn test_try_reserve() {\n     // These are the interesting cases:\n     // * exactly isize::MAX should never trigger a CapacityOverflow (can be OOM)\n@@ -1254,6 +1255,7 @@ fn test_try_reserve() {\n \n #[test]\n #[cfg_attr(miri, ignore)] // Miri does not support signalling OOM\n+#[cfg_attr(target_os = \"android\", ignore)] // Android used in CI has a broken dlmalloc\n fn test_try_reserve_exact() {\n     // This is exactly the same as test_try_reserve with the method changed.\n     // See that test for comments."}, {"sha": "c4b6a36bb05412234a5c5aaf8cb0558b3277a68e", "filename": "src/liballoc/tests/vec_deque.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2c3147f018d8b6c05940b66e9f6098737277c882/src%2Fliballoc%2Ftests%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2c3147f018d8b6c05940b66e9f6098737277c882/src%2Fliballoc%2Ftests%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Ftests%2Fvec_deque.rs?ref=2c3147f018d8b6c05940b66e9f6098737277c882", "patch": "@@ -1134,6 +1134,7 @@ fn test_reserve_exact_2() {\n \n #[test]\n #[cfg_attr(miri, ignore)] // Miri does not support signalling OOM\n+#[cfg_attr(target_os = \"android\", ignore)] // Android used in CI has a broken dlmalloc\n fn test_try_reserve() {\n     // These are the interesting cases:\n     // * exactly isize::MAX should never trigger a CapacityOverflow (can be OOM)\n@@ -1248,6 +1249,7 @@ fn test_try_reserve() {\n \n #[test]\n #[cfg_attr(miri, ignore)] // Miri does not support signalling OOM\n+#[cfg_attr(target_os = \"android\", ignore)] // Android used in CI has a broken dlmalloc\n fn test_try_reserve_exact() {\n     // This is exactly the same as test_try_reserve with the method changed.\n     // See that test for comments."}]}