{"sha": "a622a8e109e0f41f1b7cf869acb955eab8c95b43", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE2MjJhOGUxMDllMGY0MWYxYjdjZjg2OWFjYjk1NWVhYjhjOTViNDM=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-07-08T13:55:56Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-08T13:55:56Z"}, "message": "Merge #5263\n\n5263: Fix some clippy perf warnings r=matklad a=kjeremy\n\n\n\nCo-authored-by: kjeremy <kjeremy@gmail.com>", "tree": {"sha": "048930ccb8537398aa46bfb7aa6a2445516c2fdd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/048930ccb8537398aa46bfb7aa6a2445516c2fdd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a622a8e109e0f41f1b7cf869acb955eab8c95b43", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfBdBsCRBK7hj4Ov3rIwAAdHIIAGqZLBF3XxKV/B8rByNdPini\niwVVV+MVnUC6RIERvra4BHSstLaQKoTAL3T7U25ncmXLDORTnJuPQ2/SNUiJ/xKi\nO74xl5jdNmUBrg1rkrFBVljb3wPU4Wukc8YV6n6fkyYI7uZMTCKr7gRiUjWTo0e9\nc604Hx7ta51x8tuNyB+RT8vN1SZMK6mUhaAS4EXjCooIa7O25nwWca1xWf+5gv6O\nvPLirc5qTm+DEDfOKj4sVl+jkW1mYqUc3kuAStLdDQ6fexuOIHj2hMJPbqd40jLw\nO30KMVDhfSPIs5ob4UR8DOaj0czdU9Z09mW3jhMogTLfJAzfEBm6Si1Hkg29vxs=\n=VcXT\n-----END PGP SIGNATURE-----\n", "payload": "tree 048930ccb8537398aa46bfb7aa6a2445516c2fdd\nparent 9e437b26425e1c4691e2d1c5555ade5c109a358a\nparent 4b7f473223a939b702b89b6ef4db59bdbfff32d4\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1594216556 +0000\ncommitter GitHub <noreply@github.com> 1594216556 +0000\n\nMerge #5263\n\n5263: Fix some clippy perf warnings r=matklad a=kjeremy\n\n\n\nCo-authored-by: kjeremy <kjeremy@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a622a8e109e0f41f1b7cf869acb955eab8c95b43", "html_url": "https://github.com/rust-lang/rust/commit/a622a8e109e0f41f1b7cf869acb955eab8c95b43", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a622a8e109e0f41f1b7cf869acb955eab8c95b43/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9e437b26425e1c4691e2d1c5555ade5c109a358a", "url": "https://api.github.com/repos/rust-lang/rust/commits/9e437b26425e1c4691e2d1c5555ade5c109a358a", "html_url": "https://github.com/rust-lang/rust/commit/9e437b26425e1c4691e2d1c5555ade5c109a358a"}, {"sha": "4b7f473223a939b702b89b6ef4db59bdbfff32d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/4b7f473223a939b702b89b6ef4db59bdbfff32d4", "html_url": "https://github.com/rust-lang/rust/commit/4b7f473223a939b702b89b6ef4db59bdbfff32d4"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "f9e515b81189eab85772469a03810d21c658f5d9", "filename": "crates/ra_mbe/src/mbe_expander/matcher.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a622a8e109e0f41f1b7cf869acb955eab8c95b43/crates%2Fra_mbe%2Fsrc%2Fmbe_expander%2Fmatcher.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a622a8e109e0f41f1b7cf869acb955eab8c95b43/crates%2Fra_mbe%2Fsrc%2Fmbe_expander%2Fmatcher.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_mbe%2Fsrc%2Fmbe_expander%2Fmatcher.rs?ref=a622a8e109e0f41f1b7cf869acb955eab8c95b43", "patch": "@@ -260,7 +260,7 @@ impl<'a> TtIter<'a> {\n             | ('|', '=', None)\n             | ('|', '|', None) => {\n                 let tt2 = self.next().unwrap().clone();\n-                Ok(tt::Subtree { delimiter: None, token_trees: vec![tt.clone(), tt2] }.into())\n+                Ok(tt::Subtree { delimiter: None, token_trees: vec![tt, tt2] }.into())\n             }\n             _ => Ok(tt),\n         }"}, {"sha": "1addbbd54fddd462d9c05b6938c058ff1f9604df", "filename": "crates/ra_proc_macro_srv/src/dylib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a622a8e109e0f41f1b7cf869acb955eab8c95b43/crates%2Fra_proc_macro_srv%2Fsrc%2Fdylib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a622a8e109e0f41f1b7cf869acb955eab8c95b43/crates%2Fra_proc_macro_srv%2Fsrc%2Fdylib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_proc_macro_srv%2Fsrc%2Fdylib.rs?ref=a622a8e109e0f41f1b7cf869acb955eab8c95b43", "patch": "@@ -45,7 +45,7 @@ fn find_registrar_symbol(file: &Path) -> io::Result<Option<String>> {\n                     // https://developer.apple.com/library/archive/documentation/System/Conceptual/ManPages_iPhoneOS/man3/dlsym.3.html\n                     // Unlike other dyld API's, the symbol name passed to dlsym() must NOT be\n                     // prepended with an underscore.\n-                    if s.name.starts_with(\"_\") {\n+                    if s.name.starts_with('_') {\n                         &s.name[1..]\n                     } else {\n                         &s.name"}, {"sha": "c8d34e15a8c9cbd629a89f2995f1f3f06f92b7a0", "filename": "crates/rust-analyzer/src/global_state.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a622a8e109e0f41f1b7cf869acb955eab8c95b43/crates%2Frust-analyzer%2Fsrc%2Fglobal_state.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a622a8e109e0f41f1b7cf869acb955eab8c95b43/crates%2Frust-analyzer%2Fsrc%2Fglobal_state.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fglobal_state.rs?ref=a622a8e109e0f41f1b7cf869acb955eab8c95b43", "patch": "@@ -204,8 +204,7 @@ impl GlobalState {\n         if let Some((method, start)) = self.req_queue.incoming.complete(response.id.clone()) {\n             let duration = start.elapsed();\n             log::info!(\"handled req#{} in {:?}\", response.id, duration);\n-            let metrics =\n-                RequestMetrics { id: response.id.clone(), method: method.to_string(), duration };\n+            let metrics = RequestMetrics { id: response.id.clone(), method, duration };\n             self.latest_requests.write().record(metrics);\n             self.send(response.into());\n         }"}]}