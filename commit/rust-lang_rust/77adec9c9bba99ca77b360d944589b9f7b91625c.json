{"sha": "77adec9c9bba99ca77b360d944589b9f7b91625c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc3YWRlYzljOWJiYTk5Y2E3N2IzNjBkOTQ0NTg5YjlmN2I5MTYyNWM=", "commit": {"author": {"name": "David Halperin", "email": "halperin.dr@gmail.com", "date": "2013-08-02T11:11:53Z"}, "committer": {"name": "David Halperin", "email": "halperin.dr@gmail.com", "date": "2013-08-02T21:54:53Z"}, "message": "Add trait name to conflicting implementation error message", "tree": {"sha": "3043e389786a90cd7e43646b8a8f1df90f4b770f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3043e389786a90cd7e43646b8a8f1df90f4b770f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/77adec9c9bba99ca77b360d944589b9f7b91625c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/77adec9c9bba99ca77b360d944589b9f7b91625c", "html_url": "https://github.com/rust-lang/rust/commit/77adec9c9bba99ca77b360d944589b9f7b91625c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/77adec9c9bba99ca77b360d944589b9f7b91625c/comments", "author": {"login": "davidhalperin", "id": 3181762, "node_id": "MDQ6VXNlcjMxODE3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3181762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidhalperin", "html_url": "https://github.com/davidhalperin", "followers_url": "https://api.github.com/users/davidhalperin/followers", "following_url": "https://api.github.com/users/davidhalperin/following{/other_user}", "gists_url": "https://api.github.com/users/davidhalperin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidhalperin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidhalperin/subscriptions", "organizations_url": "https://api.github.com/users/davidhalperin/orgs", "repos_url": "https://api.github.com/users/davidhalperin/repos", "events_url": "https://api.github.com/users/davidhalperin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidhalperin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidhalperin", "id": 3181762, "node_id": "MDQ6VXNlcjMxODE3NjI=", "avatar_url": "https://avatars.githubusercontent.com/u/3181762?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidhalperin", "html_url": "https://github.com/davidhalperin", "followers_url": "https://api.github.com/users/davidhalperin/followers", "following_url": "https://api.github.com/users/davidhalperin/following{/other_user}", "gists_url": "https://api.github.com/users/davidhalperin/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidhalperin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidhalperin/subscriptions", "organizations_url": "https://api.github.com/users/davidhalperin/orgs", "repos_url": "https://api.github.com/users/davidhalperin/repos", "events_url": "https://api.github.com/users/davidhalperin/events{/privacy}", "received_events_url": "https://api.github.com/users/davidhalperin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f1c1f92d0c555d6e38ad1cac55926d6d9c9b090f", "url": "https://api.github.com/repos/rust-lang/rust/commits/f1c1f92d0c555d6e38ad1cac55926d6d9c9b090f", "html_url": "https://github.com/rust-lang/rust/commit/f1c1f92d0c555d6e38ad1cac55926d6d9c9b090f"}], "stats": {"total": 33, "additions": 30, "deletions": 3}, "files": [{"sha": "dc74d61f244d2a097cd6244be8d37d0f344dac60", "filename": "src/librustc/middle/typeck/coherence.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/77adec9c9bba99ca77b360d944589b9f7b91625c/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77adec9c9bba99ca77b360d944589b9f7b91625c/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs?ref=77adec9c9bba99ca77b360d944589b9f7b91625c", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2012-2013 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -395,8 +395,11 @@ impl CoherenceChecker {\n \n                     if self.polytypes_unify(polytype_a, polytype_b) {\n                         let session = self.crate_context.tcx.sess;\n-                        session.span_err(self.span_of_impl(implementation_b),\n-                                         \"conflicting implementations for a trait\");\n+                        session.span_err(\n+                            self.span_of_impl(implementation_b),\n+                            fmt!(\"conflicting implementations for trait %s\",\n+                                 ty::item_path_str(self.crate_context.tcx,\n+                                                   trait_def_id)));\n                         session.span_note(self.span_of_impl(implementation_a),\n                                           \"note conflicting implementation here\");\n                     }"}, {"sha": "a56b69c07de0857a5f990edd9add1de521d2d160", "filename": "src/test/compile-fail/conflicting-implementations.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/77adec9c9bba99ca77b360d944589b9f7b91625c/src%2Ftest%2Fcompile-fail%2Fconflicting-implementations.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77adec9c9bba99ca77b360d944589b9f7b91625c/src%2Ftest%2Fcompile-fail%2Fconflicting-implementations.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fconflicting-implementations.rs?ref=77adec9c9bba99ca77b360d944589b9f7b91625c", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// error-pattern: conflicting implementations for trait Foo\n+trait Foo {\n+}\n+\n+impl Foo for int {\n+\n+}\n+\n+impl<A> Foo for A {\n+\n+}\n+\n+fn main() {\n+}"}]}