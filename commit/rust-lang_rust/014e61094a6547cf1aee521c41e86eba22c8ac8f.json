{"sha": "014e61094a6547cf1aee521c41e86eba22c8ac8f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAxNGU2MTA5NGE2NTQ3Y2YxYWVlNTIxYzQxZTg2ZWJhMjJjOGFjOGY=", "commit": {"author": {"name": "Josh Leeb-du Toit", "email": "josh.leebdutoit@gmail.com", "date": "2017-10-29T21:20:52Z"}, "committer": {"name": "Josh Leeb-du Toit", "email": "josh.leebdutoit@gmail.com", "date": "2017-10-29T21:21:56Z"}, "message": "Refactor matches to use Result::err", "tree": {"sha": "c9b47931eed66bb7479ef60e6be6eb7be9f7f77c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c9b47931eed66bb7479ef60e6be6eb7be9f7f77c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/014e61094a6547cf1aee521c41e86eba22c8ac8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/014e61094a6547cf1aee521c41e86eba22c8ac8f", "html_url": "https://github.com/rust-lang/rust/commit/014e61094a6547cf1aee521c41e86eba22c8ac8f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/014e61094a6547cf1aee521c41e86eba22c8ac8f/comments", "author": null, "committer": null, "parents": [{"sha": "975ff7b7a053f99fa24e7a79b22aec63d054409a", "url": "https://api.github.com/repos/rust-lang/rust/commits/975ff7b7a053f99fa24e7a79b22aec63d054409a", "html_url": "https://github.com/rust-lang/rust/commit/975ff7b7a053f99fa24e7a79b22aec63d054409a"}], "stats": {"total": 15, "additions": 4, "deletions": 11}, "files": [{"sha": "01a6aedc0b0699d08bec061f9b3f52351ff5bfa4", "filename": "src/librustc_borrowck/borrowck/check_loans.rs", "status": "modified", "additions": 4, "deletions": 11, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/014e61094a6547cf1aee521c41e86eba22c8ac8f/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/014e61094a6547cf1aee521c41e86eba22c8ac8f/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs?ref=014e61094a6547cf1aee521c41e86eba22c8ac8f", "patch": "@@ -395,19 +395,12 @@ impl<'a, 'tcx> CheckLoanCtxt<'a, 'tcx> {\n         assert!(self.bccx.region_scope_tree.scopes_intersect(old_loan.kill_scope,\n                                                        new_loan.kill_scope));\n \n-        let err_old_new = match self.report_error_if_loan_conflicts_with_restriction(\n+        let err_old_new = Result::err(self.report_error_if_loan_conflicts_with_restriction(\n             old_loan, new_loan, old_loan, new_loan\n-        ) {\n-            Err(err) => Some(err),\n-            Ok(_) => None\n-        };\n-\n-        let err_new_old = match self.report_error_if_loan_conflicts_with_restriction(\n+        ));\n+        let err_new_old = Result::err(self.report_error_if_loan_conflicts_with_restriction(\n             new_loan, old_loan, old_loan, new_loan\n-        ) {\n-            Err(err) => Some(err),\n-            Ok(_) => None\n-        };\n+        ));\n \n         if let Some(mut err_old) = err_old_new {\n             err_old.emit();"}]}