{"sha": "3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlMjlmZGIwZmIzYmU1YTM1ZDNlMmQ1NWQ5MDJiZThiNGVjYmU3YmI=", "commit": {"author": {"name": "Rune Tynan", "email": "runetynan@gmail.com", "date": "2020-09-03T05:37:40Z"}, "committer": {"name": "Rune Tynan", "email": "runetynan@gmail.com", "date": "2020-09-03T05:40:15Z"}, "message": "Remove a number of vec UI tests, make them unit tests in the alloc library", "tree": {"sha": "3243a1bba785a7f5ada3625d6ca6be47651177ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3243a1bba785a7f5ada3625d6ca6be47651177ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEETdpCnQmiF6hBYUqdfsyTL4sscx4FAl9Qgb8ACgkQfsyTL4ss\ncx56hw//ZKUlS6w9KJmQEkwHUllkLQ7CxRQLiyMDU17/y5pGFChqbF6SPBg0rQbV\nTvz3xpt2A6OQmAVjm4tc1MUWLryZ9nRbfWSaT5O2iyImNRzbJ97U+XspZntAa/6N\n0mXA1kNkpt3LpNARAfWcfDdQFYAUGLCutdrHCdVZ6nYUsAJc8KY0JIGGDnDeYvwY\nbMx7l6IfjlgOOQwbcWybCPuv5ddZxHy5lst0aTrbQnta/vVcQalW+9lHdDbM7HpU\nYKBpnioDH5Lgd7c8sYFQnNaM02B8dcTM+4foglsoFfLIAlrK6MEHdv2ppOH4TXPO\nrcc6MCAZdiH6owdXTXB83AIP9sZaIBdH/QxDeE9vdjOIyR2Af8gRqBVWaLftQ/7D\naUmyZQLtiNnRoTUq8ge/usDIr8YQ2LTaPKQ9o3RCnR6sLI5b2rqHsFUIdcJo/2zO\ncm6dPff0Th8iv7i9MGwznGNkdpAsnXjpUI91O/XvMgNV+LEz+N5ILp7t2dEWYXnO\nfR/bYwFm7/uR4PrCrR2S+HMKeaA91LsEwTPLeGjDl2xYdijMUmCUe0jwV4FF5RAc\nlFf1N773nXWC9nBrMCtaa2y5FQF3H8Ti0yqiebZCklKxDJ1YmgWSFJXtzSiUSuQv\nTODDV4jNZUhC7spxkoL78IK9o5WXjDLCCvdNie3QjZNz6K2zF2I=\n=LDHX\n-----END PGP SIGNATURE-----", "payload": "tree 3243a1bba785a7f5ada3625d6ca6be47651177ec\nparent 1e33c742ca572a93d97106876041c241c23a562a\nauthor Rune Tynan <runetynan@gmail.com> 1599111460 -0400\ncommitter Rune Tynan <runetynan@gmail.com> 1599111615 -0400\n\nRemove a number of vec UI tests, make them unit tests in the alloc library\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb", "html_url": "https://github.com/rust-lang/rust/commit/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb/comments", "author": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CraftSpider", "id": 13342132, "node_id": "MDQ6VXNlcjEzMzQyMTMy", "avatar_url": "https://avatars.githubusercontent.com/u/13342132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CraftSpider", "html_url": "https://github.com/CraftSpider", "followers_url": "https://api.github.com/users/CraftSpider/followers", "following_url": "https://api.github.com/users/CraftSpider/following{/other_user}", "gists_url": "https://api.github.com/users/CraftSpider/gists{/gist_id}", "starred_url": "https://api.github.com/users/CraftSpider/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CraftSpider/subscriptions", "organizations_url": "https://api.github.com/users/CraftSpider/orgs", "repos_url": "https://api.github.com/users/CraftSpider/repos", "events_url": "https://api.github.com/users/CraftSpider/events{/privacy}", "received_events_url": "https://api.github.com/users/CraftSpider/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1e33c742ca572a93d97106876041c241c23a562a", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e33c742ca572a93d97106876041c241c23a562a", "html_url": "https://github.com/rust-lang/rust/commit/1e33c742ca572a93d97106876041c241c23a562a"}], "stats": {"total": 115, "additions": 53, "deletions": 62}, "files": [{"sha": "b422960c199827fe6ccdd209c58d777cb10c25e6", "filename": "library/alloc/tests/vec.rs", "status": "modified", "additions": 53, "deletions": 0, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb/library%2Falloc%2Ftests%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb/library%2Falloc%2Ftests%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Ftests%2Fvec.rs?ref=3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb", "patch": "@@ -72,6 +72,39 @@ fn test_zst_capacity() {\n     assert_eq!(Vec::<()>::new().capacity(), usize::MAX);\n }\n \n+#[test]\n+fn test_indexing() {\n+    let v: Vec<isize> = vec![10, 20];\n+    assert_eq!(v[0], 10);\n+    assert_eq!(v[1], 20);\n+    let mut x: usize = 0;\n+    assert_eq!(v[x], 10);\n+    assert_eq!(v[x + 1], 20);\n+    x = x + 1;\n+    assert_eq!(v[x], 20);\n+    assert_eq!(v[x - 1], 10);\n+}\n+\n+#[test]\n+fn test_debug_fmt() {\n+    let vec1: Vec<isize> = vec![];\n+    assert_eq!(\"[]\", format!(\"{:?}\", vec1));\n+\n+    let vec2 = vec![0, 1];\n+    assert_eq!(\"[0, 1]\", format!(\"{:?}\", vec2));\n+}\n+\n+#[test]\n+fn test_push() {\n+    let mut v = vec![];\n+    v.push(1);\n+    assert_eq!(v, [1]);\n+    v.push(2);\n+    assert_eq!(v, [1, 2]);\n+    v.push(3);\n+    assert_eq!(v, [1, 2, 3]);\n+}\n+\n #[test]\n fn test_extend() {\n     let mut v = Vec::new();\n@@ -117,6 +150,18 @@ fn test_extend() {\n     assert_eq!(count_x, 1);\n }\n \n+#[test]\n+fn test_extend_from_slice() {\n+    let a: Vec<isize> = vec![1, 2, 3, 4, 5];\n+    let b: Vec<isize> = vec![6, 7, 8, 9, 0];\n+\n+    let mut v: Vec<isize> = a;\n+\n+    v.extend_from_slice(&b);\n+\n+    assert_eq!(v, [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]);\n+}\n+\n #[test]\n fn test_extend_ref() {\n     let mut v = vec![1, 2];\n@@ -132,6 +177,14 @@ fn test_extend_ref() {\n     assert_eq!(v, [1, 2, 3, 4, 5, 6, 7]);\n }\n \n+#[test]\n+fn test_slice_from_ref() {\n+    let values = vec![1, 2, 3, 4, 5];\n+    let slice = &values[1..3];\n+\n+    assert_eq!(slice, [2, 3]);\n+}\n+\n #[test]\n fn test_slice_from_mut() {\n     let mut values = vec![1, 2, 3, 4, 5];"}, {"sha": "1f493679b794737a92d5fb4260a49bc23d6d1b02", "filename": "src/test/ui/array-slice-vec/vec-concat.rs", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-concat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-concat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-concat.rs?ref=1e33c742ca572a93d97106876041c241c23a562a", "patch": "@@ -1,14 +0,0 @@\n-// run-pass\n-\n-use std::vec;\n-\n-pub fn main() {\n-    let a: Vec<isize> = vec![1, 2, 3, 4, 5];\n-    let b: Vec<isize> = vec![6, 7, 8, 9, 0];\n-    let mut v: Vec<isize> = a;\n-    v.extend_from_slice(&b);\n-    println!(\"{}\", v[9]);\n-    assert_eq!(v[0], 1);\n-    assert_eq!(v[7], 8);\n-    assert_eq!(v[9], 0);\n-}"}, {"sha": "b09f08bb85a8245598bcae711645c49808922249", "filename": "src/test/ui/array-slice-vec/vec-growth.rs", "status": "removed", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-growth.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-growth.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-growth.rs?ref=1e33c742ca572a93d97106876041c241c23a562a", "patch": "@@ -1,16 +0,0 @@\n-// run-pass\n-\n-\n-\n-pub fn main() {\n-    let mut v = vec![1];\n-    v.push(2);\n-    v.push(3);\n-    v.push(4);\n-    v.push(5);\n-    assert_eq!(v[0], 1);\n-    assert_eq!(v[1], 2);\n-    assert_eq!(v[2], 3);\n-    assert_eq!(v[3], 4);\n-    assert_eq!(v[4], 5);\n-}"}, {"sha": "466ab3fab1cab253fea4e2e95389e1c741354005", "filename": "src/test/ui/array-slice-vec/vec-push.rs", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-push.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-push.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-push.rs?ref=1e33c742ca572a93d97106876041c241c23a562a", "patch": "@@ -1,3 +0,0 @@\n-// run-pass\n-\n-pub fn main() { let mut v = vec![1, 2, 3]; v.push(1); }"}, {"sha": "1f090ddd9c97dfb50731df3d5875c43fde183a06", "filename": "src/test/ui/array-slice-vec/vec-slice.rs", "status": "removed", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-slice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-slice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-slice.rs?ref=1e33c742ca572a93d97106876041c241c23a562a", "patch": "@@ -1,9 +0,0 @@\n-// run-pass\n-\n-\n-pub fn main() {\n-    let  v = vec![1,2,3,4,5];\n-    let v2 = &v[1..3];\n-    assert_eq!(v2[0], 2);\n-    assert_eq!(v2[1], 3);\n-}"}, {"sha": "fbff19b8622835ecc2c7cf3bc8fe028c2fed669c", "filename": "src/test/ui/array-slice-vec/vec-to_str.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-to_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-to_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec-to_str.rs?ref=3e29fdb0fb3be5a35d3e2d55d902be8b4ecbe7bb", "patch": "@@ -2,11 +2,6 @@\n \n \n pub fn main() {\n-    assert_eq!(format!(\"{:?}\", vec![0, 1]), \"[0, 1]\".to_string());\n-\n-    let foo = vec![3, 4];\n     let bar: &[isize] = &[4, 5];\n-\n-    assert_eq!(format!(\"{:?}\", foo), \"[3, 4]\");\n     assert_eq!(format!(\"{:?}\", bar), \"[4, 5]\");\n }"}, {"sha": "e76c1ab440e6edc4a627fb89d9e2a76403fc6c5e", "filename": "src/test/ui/array-slice-vec/vec.rs", "status": "removed", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1e33c742ca572a93d97106876041c241c23a562a/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Farray-slice-vec%2Fvec.rs?ref=1e33c742ca572a93d97106876041c241c23a562a", "patch": "@@ -1,15 +0,0 @@\n-// run-pass\n-\n-\n-\n-pub fn main() {\n-    let v: Vec<isize> = vec![10, 20];\n-    assert_eq!(v[0], 10);\n-    assert_eq!(v[1], 20);\n-    let mut x: usize = 0;\n-    assert_eq!(v[x], 10);\n-    assert_eq!(v[x + 1], 20);\n-    x = x + 1;\n-    assert_eq!(v[x], 20);\n-    assert_eq!(v[x - 1], 10);\n-}"}]}