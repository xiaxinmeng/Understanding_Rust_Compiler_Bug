{"sha": "4709dcd476540621f7fb023ae68b4f916d857278", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3MDlkY2Q0NzY1NDA2MjFmN2ZiMDIzYWU2OGI0ZjkxNmQ4NTcyNzg=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-03-15T12:44:48Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-03-15T12:45:45Z"}, "message": "Change the `.unwrap` to `.expect` with a helpful message", "tree": {"sha": "8ed43aa72127719b59f0af3ff84db6a7a15887bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ed43aa72127719b59f0af3ff84db6a7a15887bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4709dcd476540621f7fb023ae68b4f916d857278", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYE9XARUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLhhfQD/WSSXXDfcoY6UTAAZqXpXa7jGlim6\nUA4VyVsbk1mq72EBAPCbSvQX/FmCrxxom8I/zwq1yEGxhV7r/YUdxajbmf4H\n=8KMP\n-----END PGP SIGNATURE-----", "payload": "tree 8ed43aa72127719b59f0af3ff84db6a7a15887bb\nparent 176bb6bd38dc73557dc6947077f7239dda7b64ef\nauthor hyd-dev <yd-huang@outlook.com> 1615812288 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1615812345 +0800\n\nChange the `.unwrap` to `.expect` with a helpful message\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4709dcd476540621f7fb023ae68b4f916d857278", "html_url": "https://github.com/rust-lang/rust/commit/4709dcd476540621f7fb023ae68b4f916d857278", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4709dcd476540621f7fb023ae68b4f916d857278/comments", "author": null, "committer": null, "parents": [{"sha": "176bb6bd38dc73557dc6947077f7239dda7b64ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/176bb6bd38dc73557dc6947077f7239dda7b64ef", "html_url": "https://github.com/rust-lang/rust/commit/176bb6bd38dc73557dc6947077f7239dda7b64ef"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "a1090ee316db48881a508485b2d1f31dd052f7ba", "filename": "compiler/rustc_interface/src/interface.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4709dcd476540621f7fb023ae68b4f916d857278/compiler%2Frustc_interface%2Fsrc%2Finterface.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4709dcd476540621f7fb023ae68b4f916d857278/compiler%2Frustc_interface%2Fsrc%2Finterface.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_interface%2Fsrc%2Finterface.rs?ref=4709dcd476540621f7fb023ae68b4f916d857278", "patch": "@@ -181,7 +181,11 @@ pub fn create_compiler_and_run<R>(config: Config, f: impl FnOnce(&Compiler) -> R\n     );\n \n     if let Some(parse_sess_created) = config.parse_sess_created {\n-        parse_sess_created(&mut Lrc::get_mut(&mut sess).unwrap().parse_sess);\n+        parse_sess_created(\n+            &mut Lrc::get_mut(&mut sess)\n+                .expect(\"create_session() should never share the returned session\")\n+                .parse_sess,\n+        );\n     }\n \n     let compiler = Compiler {"}]}