{"sha": "ef9fe102800406ff5132344b43fcf6472cab7d2d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmOWZlMTAyODAwNDA2ZmY1MTMyMzQ0YjQzZmNmNjQ3MmNhYjdkMmQ=", "commit": {"author": {"name": "csmoe", "email": "csmoe@msn.com", "date": "2019-10-03T13:30:26Z"}, "committer": {"name": "csmoe", "email": "csmoe@msn.com", "date": "2019-10-04T12:47:43Z"}, "message": "remove GeneratorSubsts visitors", "tree": {"sha": "0de2bb18934d355c524bff3b0c8caaae1d9fcbf3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0de2bb18934d355c524bff3b0c8caaae1d9fcbf3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef9fe102800406ff5132344b43fcf6472cab7d2d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef9fe102800406ff5132344b43fcf6472cab7d2d", "html_url": "https://github.com/rust-lang/rust/commit/ef9fe102800406ff5132344b43fcf6472cab7d2d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef9fe102800406ff5132344b43fcf6472cab7d2d/comments", "author": {"login": "csmoe", "id": 35686186, "node_id": "MDQ6VXNlcjM1Njg2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/35686186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csmoe", "html_url": "https://github.com/csmoe", "followers_url": "https://api.github.com/users/csmoe/followers", "following_url": "https://api.github.com/users/csmoe/following{/other_user}", "gists_url": "https://api.github.com/users/csmoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/csmoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csmoe/subscriptions", "organizations_url": "https://api.github.com/users/csmoe/orgs", "repos_url": "https://api.github.com/users/csmoe/repos", "events_url": "https://api.github.com/users/csmoe/events{/privacy}", "received_events_url": "https://api.github.com/users/csmoe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "csmoe", "id": 35686186, "node_id": "MDQ6VXNlcjM1Njg2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/35686186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/csmoe", "html_url": "https://github.com/csmoe", "followers_url": "https://api.github.com/users/csmoe/followers", "following_url": "https://api.github.com/users/csmoe/following{/other_user}", "gists_url": "https://api.github.com/users/csmoe/gists{/gist_id}", "starred_url": "https://api.github.com/users/csmoe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/csmoe/subscriptions", "organizations_url": "https://api.github.com/users/csmoe/orgs", "repos_url": "https://api.github.com/users/csmoe/repos", "events_url": "https://api.github.com/users/csmoe/events{/privacy}", "received_events_url": "https://api.github.com/users/csmoe/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "774ea808be4bcab4e605635b383ce4c5c9d7742f", "url": "https://api.github.com/repos/rust-lang/rust/commits/774ea808be4bcab4e605635b383ce4c5c9d7742f", "html_url": "https://github.com/rust-lang/rust/commit/774ea808be4bcab4e605635b383ce4c5c9d7742f"}], "stats": {"total": 18, "additions": 4, "deletions": 14}, "files": [{"sha": "edc7922f46eec1bb7b84978225a28dd25146b678", "filename": "src/librustc/mir/visit.rs", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/ef9fe102800406ff5132344b43fcf6472cab7d2d/src%2Flibrustc%2Fmir%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef9fe102800406ff5132344b43fcf6472cab7d2d/src%2Flibrustc%2Fmir%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fvisit.rs?ref=ef9fe102800406ff5132344b43fcf6472cab7d2d", "patch": "@@ -1,5 +1,5 @@\n use crate::ty::subst::SubstsRef;\n-use crate::ty::{CanonicalUserTypeAnnotation, GeneratorSubsts, Ty};\n+use crate::ty::{CanonicalUserTypeAnnotation, Ty};\n use crate::mir::*;\n use syntax_pos::Span;\n \n@@ -230,12 +230,6 @@ macro_rules! make_mir_visitor {\n                 self.super_substs(substs);\n             }\n \n-            fn visit_generator_substs(&mut self,\n-                                      substs: & $($mutability)? GeneratorSubsts<'tcx>,\n-                                    _: Location) {\n-                self.super_generator_substs(substs);\n-            }\n-\n             fn visit_local_decl(&mut self,\n                                 local: Local,\n                                 local_decl: & $($mutability)? LocalDecl<'tcx>) {\n@@ -628,7 +622,7 @@ macro_rules! make_mir_visitor {\n                                 generator_substs,\n                                 _movability,\n                             ) => {\n-                                self.visit_generator_substs(generator_substs, location);\n+                                self.visit_substs(generator_substs, location);\n                             }\n                         }\n \n@@ -846,10 +840,6 @@ macro_rules! make_mir_visitor {\n             fn super_substs(&mut self, _substs: & $($mutability)? SubstsRef<'tcx>) {\n             }\n \n-            fn super_generator_substs(&mut self,\n-                                      _substs: & $($mutability)? GeneratorSubsts<'tcx>) {\n-            }\n-\n             // Convenience methods\n \n             fn visit_location(&mut self, body: & $($mutability)? Body<'tcx>, location: Location) {"}, {"sha": "5b4ec885d7785e23a0976dbc8ee49d8db18ffb05", "filename": "src/librustc/traits/project.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ef9fe102800406ff5132344b43fcf6472cab7d2d/src%2Flibrustc%2Ftraits%2Fproject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef9fe102800406ff5132344b43fcf6472cab7d2d/src%2Flibrustc%2Ftraits%2Fproject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ftraits%2Fproject.rs?ref=ef9fe102800406ff5132344b43fcf6472cab7d2d", "patch": "@@ -1259,7 +1259,7 @@ fn confirm_generator_candidate<'cx, 'tcx>(\n     obligation: &ProjectionTyObligation<'tcx>,\n     vtable: VtableGeneratorData<'tcx, PredicateObligation<'tcx>>,\n ) -> Progress<'tcx> {\n-    let gen_sig = vtable.substs.poly_sig(vtable.generator_def_id, selcx.tcx());\n+    let gen_sig = vtable.substs.as_generator().poly_sig(vtable.generator_def_id, selcx.tcx());\n     let Normalized {\n         value: gen_sig,\n         obligations"}, {"sha": "93a8341e74628063fdda5cd8144c1d1dfdbc6b2c", "filename": "src/librustc/ty/instance.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ef9fe102800406ff5132344b43fcf6472cab7d2d/src%2Flibrustc%2Fty%2Finstance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef9fe102800406ff5132344b43fcf6472cab7d2d/src%2Flibrustc%2Fty%2Finstance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Finstance.rs?ref=ef9fe102800406ff5132344b43fcf6472cab7d2d", "patch": "@@ -395,7 +395,7 @@ fn resolve_associated_item<'tcx>(\n         traits::VtableGenerator(generator_data) => {\n             Some(Instance {\n                 def: ty::InstanceDef::Item(generator_data.generator_def_id),\n-                substs: generator_data.substs.substs\n+                substs: generator_data.substs\n             })\n         }\n         traits::VtableClosure(closure_data) => {"}]}