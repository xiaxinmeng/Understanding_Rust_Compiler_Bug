{"sha": "cb89880e6dc3311421ead1e656361ccf4c8e6e29", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiODk4ODBlNmRjMzMxMTQyMWVhZDFlNjU2MzYxY2NmNGM4ZTZlMjk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-06-19T22:24:21Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-06-20T00:18:21Z"}, "message": "std: Update std::task docs to reflect modern times\n\nThis corrects some misinformation.", "tree": {"sha": "379c32d84502474feb91a3f703d26b1a5072fdd0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/379c32d84502474feb91a3f703d26b1a5072fdd0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb89880e6dc3311421ead1e656361ccf4c8e6e29", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb89880e6dc3311421ead1e656361ccf4c8e6e29", "html_url": "https://github.com/rust-lang/rust/commit/cb89880e6dc3311421ead1e656361ccf4c8e6e29", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb89880e6dc3311421ead1e656361ccf4c8e6e29/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "22d62fc8e1472fdc30a83bc18c8e10687f7e8c6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/22d62fc8e1472fdc30a83bc18c8e10687f7e8c6e", "html_url": "https://github.com/rust-lang/rust/commit/22d62fc8e1472fdc30a83bc18c8e10687f7e8c6e"}], "stats": {"total": 34, "additions": 25, "deletions": 9}, "files": [{"sha": "e2d04a30a54bbff93aa76d0f181981643430210e", "filename": "src/libstd/task.rs", "status": "modified", "additions": 25, "deletions": 9, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/cb89880e6dc3311421ead1e656361ccf4c8e6e29/src%2Flibstd%2Ftask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb89880e6dc3311421ead1e656361ccf4c8e6e29/src%2Flibstd%2Ftask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ftask.rs?ref=cb89880e6dc3311421ead1e656361ccf4c8e6e29", "patch": "@@ -8,17 +8,33 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-//! Utilities for managing and scheduling tasks\n+//! Task creation\n //!\n-//! An executing Rust program consists of a collection of lightweight tasks,\n-//! each with their own stack. Tasks communicate with each other using channels\n-//! (see `std::comm`) or other forms of synchronization (see `std::sync`) that\n-//! ensure data-race freedom.\n+//! An executing Rust program consists of a collection of tasks, each\n+//! with their own stack and local state. A Rust task is typically\n+//! backed by an operating system thread, making tasks 'just threads',\n+//! but may also be implemented via other strategies as well\n+//! (e.g. Rust comes with the [`green`](../../green/index.html)\n+//! scheduling crate for creating tasks backed by green threads).\n //!\n-//! Failure in one task does immediately propagate to any others (not to parent,\n-//! not to child). Failure propagation is instead handled as part of task\n-//! synchronization. For example, the channel `send()` and `recv()` methods will\n-//! fail if the other end has hung up already.\n+//! Tasks generally have their memory *isolated* from each other by\n+//! virtue of Rust's owned types (which of course may only be owned by\n+//! a single task at a time). Communication between tasks is primarily\n+//! done through [channels](../../std/comm/index.html), Rust's\n+//! message-passing types, though [other forms of task\n+//! synchronization](../../std/sync/index.html) are often employed to\n+//! achieve particular performance goals. In particular, types that\n+//! are guaranteed to be threadsafe are easily shared between threads\n+//! using the atomically-reference-counted container,\n+//! [`Arc`](../../std/sync/struct.Arc.html).\n+//!\n+//! Fatal logic errors in Rust cause *task failure*, during which\n+//! a task will unwind the stack, running destructors and freeing\n+//! owned resources. Task failure is unrecoverable from within\n+//! the failing task (i.e. there is no 'try/catch' in Rust), but\n+//! failure may optionally be detected from a different task. If\n+//! the main task fails the application will exit with a non-zero\n+//! exit code.\n //!\n //! # Basic task scheduling\n //!"}]}