{"sha": "1896ba24354b0942d463d4a954cadb08d6177be4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE4OTZiYTI0MzU0YjA5NDJkNDYzZDRhOTU0Y2FkYjA4ZDYxNzdiZTQ=", "commit": {"author": {"name": "Oliver Schneider", "email": "github35764891676564198441@oli-obk.de", "date": "2018-07-11T19:23:03Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-07-11T19:23:03Z"}, "message": "Merge pull request #393 from RalfJung/no-bin\n\nstop producing binaries", "tree": {"sha": "c573aab9530a8e71f23a29b6ecb6e57ddce6877e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c573aab9530a8e71f23a29b6ecb6e57ddce6877e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1896ba24354b0942d463d4a954cadb08d6177be4", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbRlkXCRBK7hj4Ov3rIwAAdHIIAJugVp8oDbOfMpIzzzeTnK57\nBOZwoFPe6VPXTCzqlJCiW7/RBLBY92BhvilxREz86tSTLCzCOCW1svJ4DJQuCeyf\nNW+MMaSawXq07bSAattOGETdTXgSbR2X4+m2jJcx7ZtVGqLyWqoHIzP1D+wQhcD9\nB/5bdDxJWFFFD9EvgqIAg97RD1QB+83+g9WjTeR1xb1rB4zAQo1CDKr03WfD96sX\nZboguO/Bt4W6/nkSpA1HNVeZFKBBgOSk9+jmo1vMNEfgO5rY2oTmbCy4MYrn3cL0\n9ONuYz1rqd3Mvb8cgtupGwp8VCDv20kmVgqUSo8s34Ac9xSTtKmi3LkiLF0c6m0=\n=wK3K\n-----END PGP SIGNATURE-----\n", "payload": "tree c573aab9530a8e71f23a29b6ecb6e57ddce6877e\nparent ef64c25bd0a950abc4b4580ae14429184891f854\nparent 197b75764cb1069c7fb063e9ef25d41cb36729d2\nauthor Oliver Schneider <github35764891676564198441@oli-obk.de> 1531336983 +0200\ncommitter GitHub <noreply@github.com> 1531336983 +0200\n\nMerge pull request #393 from RalfJung/no-bin\n\nstop producing binaries"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1896ba24354b0942d463d4a954cadb08d6177be4", "html_url": "https://github.com/rust-lang/rust/commit/1896ba24354b0942d463d4a954cadb08d6177be4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1896ba24354b0942d463d4a954cadb08d6177be4/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ef64c25bd0a950abc4b4580ae14429184891f854", "url": "https://api.github.com/repos/rust-lang/rust/commits/ef64c25bd0a950abc4b4580ae14429184891f854", "html_url": "https://github.com/rust-lang/rust/commit/ef64c25bd0a950abc4b4580ae14429184891f854"}, {"sha": "197b75764cb1069c7fb063e9ef25d41cb36729d2", "url": "https://api.github.com/repos/rust-lang/rust/commits/197b75764cb1069c7fb063e9ef25d41cb36729d2", "html_url": "https://github.com/rust-lang/rust/commit/197b75764cb1069c7fb063e9ef25d41cb36729d2"}], "stats": {"total": 18, "additions": 1, "deletions": 17}, "files": [{"sha": "2cc22d7a7debcf3e7b4b0783a572b3f684cdf916", "filename": "src/bin/miri.rs", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1896ba24354b0942d463d4a954cadb08d6177be4/src%2Fbin%2Fmiri.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1896ba24354b0942d463d4a954cadb08d6177be4/src%2Fbin%2Fmiri.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbin%2Fmiri.rs?ref=1896ba24354b0942d463d4a954cadb08d6177be4", "patch": "@@ -87,10 +87,7 @@ impl<'a> CompilerCalls<'a> for MiriCompilerCalls {\n         control.after_hir_lowering.callback = Box::new(after_hir_lowering);\n         let start_fn = this.start_fn;\n         control.after_analysis.callback = Box::new(move |state| after_analysis(state, start_fn));\n-        if sess.target.target != sess.host {\n-            // only fully compile targets on the host. linking will fail for cross-compilation.\n-            control.after_analysis.stop = Compilation::Stop;\n-        }\n+        control.after_analysis.stop = Compilation::Stop;\n         control\n     }\n }\n@@ -232,9 +229,6 @@ fn main() {\n         }\n     });\n \n-    // Make sure we always have all the MIR (e.g. for auxilary builds in unit tests).\n-    args.push(\"-Zalways-encode-mir\".to_owned());\n-\n     rustc_driver::run_compiler(&args, Box::new(MiriCompilerCalls {\n         default: Box::new(RustcDefaultCalls),\n         start_fn,"}, {"sha": "beed82e058029681b73495548cea7c316098ba2c", "filename": "tests/run-pass/aux_test.rs", "status": "removed", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Faux_test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Faux_test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Faux_test.rs?ref=ef64c25bd0a950abc4b4580ae14429184891f854", "patch": "@@ -1,9 +0,0 @@\n-// aux-build:dep.rs\n-\n-// ignore-cross-compile\n-\n-extern crate dep;\n-\n-fn main() {\n-    dep::foo();\n-}"}, {"sha": "b76b4321d62aa8e066b24d213c79ccc8230b8d7b", "filename": "tests/run-pass/auxiliary/dep.rs", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Fauxiliary%2Fdep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Fauxiliary%2Fdep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fauxiliary%2Fdep.rs?ref=ef64c25bd0a950abc4b4580ae14429184891f854", "patch": "@@ -1 +0,0 @@\n-pub fn foo() {}"}]}