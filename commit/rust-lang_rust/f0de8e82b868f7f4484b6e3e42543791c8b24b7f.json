{"sha": "f0de8e82b868f7f4484b6e3e42543791c8b24b7f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwZGU4ZTgyYjg2OGY3ZjQ0ODRiNmUzZTQyNTQzNzkxYzhiMjRiN2Y=", "commit": {"author": {"name": "Yuki OKUSHI", "email": "huyuumi.dev@gmail.com", "date": "2019-03-24T18:19:48Z"}, "committer": {"name": "Yuki OKUSHI", "email": "huyuumi.dev@gmail.com", "date": "2019-03-28T19:32:36Z"}, "message": "Return correct values", "tree": {"sha": "2f9d5776dae89e0819b6c6ee96bb126cbe8f158e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f9d5776dae89e0819b6c6ee96bb126cbe8f158e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f0de8e82b868f7f4484b6e3e42543791c8b24b7f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f0de8e82b868f7f4484b6e3e42543791c8b24b7f", "html_url": "https://github.com/rust-lang/rust/commit/f0de8e82b868f7f4484b6e3e42543791c8b24b7f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f0de8e82b868f7f4484b6e3e42543791c8b24b7f/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e76b34aa7021265630cc9933f1c918f184ba8d8", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e76b34aa7021265630cc9933f1c918f184ba8d8", "html_url": "https://github.com/rust-lang/rust/commit/0e76b34aa7021265630cc9933f1c918f184ba8d8"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "1542cdf1e3e776a722751b73c8ffa5a5e7a8156f", "filename": "src/librustc_mir/const_eval.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/f0de8e82b868f7f4484b6e3e42543791c8b24b7f/src%2Flibrustc_mir%2Fconst_eval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f0de8e82b868f7f4484b6e3e42543791c8b24b7f/src%2Flibrustc_mir%2Fconst_eval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fconst_eval.rs?ref=f0de8e82b868f7f4484b6e3e42543791c8b24b7f", "patch": "@@ -645,15 +645,17 @@ pub fn const_eval_raw_provider<'a, 'tcx>(\n             // an error must be reported.\n             let reported_err = tcx.sess.track_errors(|| {\n                 err.report_as_error(ecx.tcx,\n-                                    \"could not evaluate static initializer\");\n+                                    \"could not evaluate static initializer\")\n             });\n             match reported_err {\n-                Ok(v) => tcx.sess.delay_span_bug(err.span,\n+                Ok(v) => {\n+                    tcx.sess.delay_span_bug(err.span,\n                                         &format!(\"static eval failure did not emit an error: {:#?}\",\n-                                        v)),\n-                Err(err) => err,\n+                                        v));\n+                    v\n+                },\n+                Err(ErrorReported) => ErrorHandled::Reported,\n             }\n-            reported_err\n         } else if def_id.is_local() {\n             // constant defined in this crate, we can figure out a lint level!\n             match tcx.describe_def(def_id) {"}]}