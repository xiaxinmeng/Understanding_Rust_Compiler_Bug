{"sha": "6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZlNTdlZWNiMDVmOTE5OGVmOGU2YmZhOTZkNjJkNDViMzZhYzhlZmY=", "commit": {"author": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2020-09-16T19:24:10Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-09-16T19:24:10Z"}, "message": "Rollup merge of #76728 - jyn514:rustdoc-extern-crate, r=ehuss\n\nAdd a comment why `extern crate` is necessary for rustdoc\n\nr? @ehuss\n\nFrom https://github.com/rust-lang/rust/pull/74293#discussion_r488335500.", "tree": {"sha": "13218687f7d04860e8584f603eba1fb05800e352", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/13218687f7d04860e8584f603eba1fb05800e352"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfYmZaCRBK7hj4Ov3rIwAAdHIIADrrO09RcjOw7hKJoAiEOoFu\nxrXKjwb8ZtDeHKJ+QyEi5lEsrAahA1l9X/tKVVNu3KjgSObCinotjteSFxKwWpCs\nGL+aRb8iciMliCPsvBz21RBTaME/JmByzVLfWgRz7kAhS1zWNHPfCslPMtzsOzf0\niT5iU0cZN8cOMtQeiYO6iB2f06mKjS0deh4GuU+26a5puiahHFixbSAr7jAJkLDM\nOICox00pZcbC22U0fmEpXGgPddtO98gy5jPfxIeLypXQqeCXRwBMnZ31olCk3G7F\npxp3oRdTG9/ixILkUcxdMiwHzaWZbi94T0ECq19r1iqAV4Yyx1eCXVB3tN2g3T4=\n=gQj9\n-----END PGP SIGNATURE-----\n", "payload": "tree 13218687f7d04860e8584f603eba1fb05800e352\nparent 153fb91d374b3e054ab779952eb69c62022a9a80\nparent b93a8315f2fcff479a99e0694309fe12dbe095d5\nauthor Tyler Mandry <tmandry@gmail.com> 1600284250 -0700\ncommitter GitHub <noreply@github.com> 1600284250 -0700\n\nRollup merge of #76728 - jyn514:rustdoc-extern-crate, r=ehuss\n\nAdd a comment why `extern crate` is necessary for rustdoc\n\nr? @ehuss\n\nFrom https://github.com/rust-lang/rust/pull/74293#discussion_r488335500.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff", "html_url": "https://github.com/rust-lang/rust/commit/6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff/comments", "author": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "153fb91d374b3e054ab779952eb69c62022a9a80", "url": "https://api.github.com/repos/rust-lang/rust/commits/153fb91d374b3e054ab779952eb69c62022a9a80", "html_url": "https://github.com/rust-lang/rust/commit/153fb91d374b3e054ab779952eb69c62022a9a80"}, {"sha": "b93a8315f2fcff479a99e0694309fe12dbe095d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/b93a8315f2fcff479a99e0694309fe12dbe095d5", "html_url": "https://github.com/rust-lang/rust/commit/b93a8315f2fcff479a99e0694309fe12dbe095d5"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "7762e8f8d4fb181fac97fd8c406b453f4c64b92d", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=6e57eecb05f9198ef8e6bfa96d62d45b36ac8eff", "patch": "@@ -16,6 +16,16 @@\n \n #[macro_use]\n extern crate lazy_static;\n+#[macro_use]\n+extern crate tracing;\n+\n+// N.B. these need `extern crate` even in 2018 edition\n+// because they're loaded implicitly from the sysroot.\n+// The reason they're loaded from the sysroot is because\n+// the rustdoc artifacts aren't stored in rustc's cargo target directory.\n+// So if `rustc` was specified in Cargo.toml, this would spuriously rebuild crates.\n+//\n+// Dependencies listed in Cargo.toml do not need `extern crate`.\n extern crate rustc_ast;\n extern crate rustc_ast_pretty;\n extern crate rustc_attr;\n@@ -42,8 +52,6 @@ extern crate rustc_target;\n extern crate rustc_trait_selection;\n extern crate rustc_typeck;\n extern crate test as testing;\n-#[macro_use]\n-extern crate tracing;\n \n use std::default::Default;\n use std::env;"}]}