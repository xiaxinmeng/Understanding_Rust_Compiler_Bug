{"sha": "202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "node_id": "C_kwDOAAsO6NoAKDIwMmNjYzUwZGQ4ZjZkMDU0YjA5NDM5ZTQ4M2NmNGY3ZTllZWUyMGQ", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-10-04T14:56:56Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-10-11T09:34:29Z"}, "message": "Migrate highlight style to CSS variables", "tree": {"sha": "94600bee7dc29c74afb02b10ebba40d294b7fa39", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/94600bee7dc29c74afb02b10ebba40d294b7fa39"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "html_url": "https://github.com/rust-lang/rust/commit/202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0265a3e93bf1b89d97cae113ed214954d5c35e22", "url": "https://api.github.com/repos/rust-lang/rust/commits/0265a3e93bf1b89d97cae113ed214954d5c35e22", "html_url": "https://github.com/rust-lang/rust/commit/0265a3e93bf1b89d97cae113ed214954d5c35e22"}], "stats": {"total": 143, "additions": 89, "deletions": 54}, "files": [{"sha": "ee4930e1ec955fb1628d7537e51df860b3093f94", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 47, "deletions": 5, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "patch": "@@ -1096,8 +1096,55 @@ so that we can apply CSS-filters to change the arrow color in themes */\n \tcolor: var(--right-side-color);\n }\n \n+pre.rust {\n+\ttab-size: 4;\n+\t-moz-tab-size: 4;\n+}\n+\n+/* Code highlighting */\n+pre.rust .kw {\n+\tcolor: var(--code-highlight-kw-color);\n+}\n+pre.rust .kw-2 {\n+\tcolor: var(--code-highlight-kw-2-color);\n+}\n+pre.rust .lifetime {\n+\tcolor: var(--code-highlight-lifetime-color);\n+}\n+pre.rust .prelude-ty {\n+\tcolor: var(--code-highlight-prelude-color);\n+}\n+pre.rust .prelude-val {\n+\tcolor: var(--code-highlight-prelude-val-color);\n+}\n+pre.rust .string {\n+\tcolor: var(--code-highlight-string-color);\n+}\n+pre.rust .number {\n+\tcolor: var(--code-highlight-number-color);\n+}\n+pre.rust .bool-val {\n+\tcolor: var(--code-highlight-literal-color);\n+}\n+pre.rust .self {\n+\tcolor: var(--code-highlight-self-color);\n+}\n+pre.rust .attribute {\n+\tcolor: var(--code-highlight-attribute-color);\n+}\n+pre.rust .macro,\n+pre.rust .macro-nonterminal {\n+\tcolor: var(--code-highlight-macro-color);\n+}\n pre.rust .question-mark {\n \tfont-weight: bold;\n+\tcolor: var(--code-highlight-question-mark-color);\n+}\n+pre.rust .comment {\n+\tcolor: var(--code-highlight-comment-color);\n+}\n+pre.rust .doccomment {\n+\tcolor: var(--code-highlight-doc-comment-color);\n }\n \n .example-wrap.compile_fail,\n@@ -1303,11 +1350,6 @@ h3.variant {\n \tfont-size: 1.25rem;\n }\n \n-pre.rust {\n-\ttab-size: 4;\n-\t-moz-tab-size: 4;\n-}\n-\n .search-failed {\n \ttext-align: center;\n \tmargin-top: 20px;"}, {"sha": "8cf6fa94ff89a2bc843062f7fb0ca80915d085dc", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 14, "deletions": 20, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "patch": "@@ -41,6 +41,20 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--stab-background-color: #314559;\n \t--stab-code-color: #e6e1cf;\n \t--search-color: #fff;\n+\t--code-highlight-kw-color: #ff7733;\n+\t--code-highlight-kw-2-color: #ff7733;\n+\t--code-highlight-lifetime-color: #ff7733;\n+\t--code-highlight-prelude-color: #69f2df;\n+\t--code-highlight-prelude-val-color: #ff7733;\n+\t--code-highlight-number-color: #b8cc52;\n+\t--code-highlight-string-color: #b8cc52;\n+\t--code-highlight-literal-color: #ff7733;\n+\t--code-highlight-attribute-color: #e6e1cf;\n+\t--code-highlight-self-color: #36a3d9;\n+\t--code-highlight-macro-color: #a37acc;\n+\t--code-highlight-question-mark-color: #ff9011;\n+\t--code-highlight-comment-color: #788797;\n+\t--code-highlight-doc-comment-color: #a1ac88;\n }\n \n .slider {\n@@ -124,9 +138,6 @@ pre, .rustdoc.source .example-wrap {\n \n .content .item-info::before { color: #ccc; }\n \n-pre.rust .comment { color: #788797; }\n-pre.rust .doccomment { color: #a1ac88; }\n-\n .sidebar h2 a,\n .sidebar h3 a {\n \tcolor: white;\n@@ -161,23 +172,6 @@ details.rustdoc-toggle > summary::before {\n \n .src-line-numbers :target { background-color: transparent; }\n \n-/* Code highlighting */\n-pre.rust .number, pre.rust .string { color: #b8cc52; }\n-pre.rust .kw, pre.rust .kw-2, pre.rust .prelude-ty,\n-pre.rust .bool-val, pre.rust .prelude-val,\n-pre.rust .lifetime { color: #ff7733; }\n-pre.rust .macro, pre.rust .macro-nonterminal { color: #a37acc; }\n-pre.rust .question-mark {\n-\tcolor: #ff9011;\n-}\n-pre.rust .self {\n-\tcolor: #36a3d9;\n-\tfont-style: italic;\n-}\n-pre.rust .attribute {\n-\tcolor: #e6e1cf;\n-}\n-\n pre.example-line-numbers {\n \tcolor: #5c67736e;\n \tborder: none;"}, {"sha": "06baceca01d3b4d05eb90b71d73019056c2769f5", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 14, "deletions": 15, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "patch": "@@ -36,6 +36,20 @@\n \t--stab-background-color: #314559;\n \t--stab-code-color: #e6e1cf;\n \t--search-color: #111;\n+\t--code-highlight-kw-color: #ab8ac1;\n+\t--code-highlight-kw-2-color: #769acb;\n+\t--code-highlight-lifetime-color: #d97f26;\n+\t--code-highlight-prelude-color: #769acb;\n+\t--code-highlight-prelude-val-color: #ee6868;\n+\t--code-highlight-number-color: #83a300;\n+\t--code-highlight-string-color: #83a300;\n+\t--code-highlight-literal-color: #ee6868;\n+\t--code-highlight-attribute-color: #ee6868;\n+\t--code-highlight-self-color: #ee6868;\n+\t--code-highlight-macro-color: #3e999f;\n+\t--code-highlight-question-mark-color: #ff9011;\n+\t--code-highlight-comment-color: #8d8d8b;\n+\t--code-highlight-doc-comment-color: #8ca375;\n }\n \n .slider {\n@@ -62,9 +76,6 @@ input:focus + .slider {\n \n .content .item-info::before { color: #ccc; }\n \n-pre.rust .comment { color: #8d8d8b; }\n-pre.rust .doccomment { color: #8ca375; }\n-\n body.source .example-wrap pre.rust a {\n \tbackground: #333;\n }\n@@ -86,18 +97,6 @@ details.rustdoc-toggle > summary::before {\n \n .src-line-numbers :target { background-color: transparent; }\n \n-/* Code highlighting */\n-pre.rust .kw { color: #ab8ac1; }\n-pre.rust .kw-2, pre.rust .prelude-ty { color: #769acb; }\n-pre.rust .number, pre.rust .string { color: #83a300; }\n-pre.rust .self, pre.rust .bool-val, pre.rust .prelude-val,\n-pre.rust .attribute { color: #ee6868; }\n-pre.rust .macro, pre.rust .macro-nonterminal { color: #3E999F; }\n-pre.rust .lifetime { color: #d97f26; }\n-pre.rust .question-mark {\n-\tcolor: #ff9011;\n-}\n-\n pre.example-line-numbers {\n \tborder-color: #4a4949;\n }"}, {"sha": "058974c078c8d4049ec3aa1f24f475200096ac12", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/202ccc50dd8f6d054b09439e483cf4f7e9eee20d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=202ccc50dd8f6d054b09439e483cf4f7e9eee20d", "patch": "@@ -36,6 +36,20 @@\n \t--stab-background-color: #fff5d6;\n \t--stab-code-color: #000;\n \t--search-color: #000;\n+\t--code-highlight-kw-color: #8959a8;\n+\t--code-highlight-kw-2-color: #4271ae;\n+\t--code-highlight-lifetime-color: #b76514;\n+\t--code-highlight-prelude-color: #4271ae;\n+\t--code-highlight-prelude-val-color: #c82829;\n+\t--code-highlight-number-color: #718c00;\n+\t--code-highlight-string-color: #718c00;\n+\t--code-highlight-literal-color: #c82829;\n+\t--code-highlight-attribute-color: #c82829;\n+\t--code-highlight-self-color: #c82829;\n+\t--code-highlight-macro-color: #3e999f;\n+\t--code-highlight-question-mark-color: #ff9011;\n+\t--code-highlight-comment-color: #8e908c;\n+\t--code-highlight-doc-comment-color: #4d4d4c;\n }\n \n .slider {\n@@ -78,20 +92,6 @@ body.source .example-wrap pre.rust a {\n \n .src-line-numbers :target { background-color: transparent; }\n \n-/* Code highlighting */\n-pre.rust .kw { color: #8959A8; }\n-pre.rust .kw-2, pre.rust .prelude-ty { color: #4271AE; }\n-pre.rust .number, pre.rust .string { color: #718C00; }\n-pre.rust .self, pre.rust .bool-val, pre.rust .prelude-val,\n-pre.rust .attribute { color: #C82829; }\n-pre.rust .comment { color: #8E908C; }\n-pre.rust .doccomment { color: #4D4D4C; }\n-pre.rust .macro, pre.rust .macro-nonterminal { color: #3E999F; }\n-pre.rust .lifetime { color: #B76514; }\n-pre.rust .question-mark {\n-\tcolor: #ff9011;\n-}\n-\n pre.example-line-numbers {\n \tborder-color: #c7c7c7;\n }"}]}