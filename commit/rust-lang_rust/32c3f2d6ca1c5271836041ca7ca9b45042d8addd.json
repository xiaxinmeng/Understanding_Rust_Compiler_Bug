{"sha": "32c3f2d6ca1c5271836041ca7ca9b45042d8addd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMyYzNmMmQ2Y2ExYzUyNzE4MzYwNDFjYTdjYTliNDUwNDJkOGFkZGQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-08-14T01:12:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-08-14T01:12:22Z"}, "message": "Auto merge of #87997 - sl4m:update-favicon-order, r=GuillaumeGomez\n\nUpdates favicon order of precedence as it matters to Chrome\n\nHi, this updates #75438 to fix an order of precedence issue for Chrome. Unfortunately, the last favicon defined wins when it comes to Chrome, hence the primary icon being placed last. I [brought it up](https://bugs.chromium.org/p/chromium/issues/detail?id=1104663) with the Chromium team last year, but so far it's a non-issue.\n\nI've created an example website that mimics the behaviour in Chrome. https://sl4m.github.io/chrome-favicon/\n\nThis is what I'm seeing at the moment when viewing https://doc.rust-lang.org/core/index.html in Chrome. It's falling back to the PNG.\n\n<img width=\"80\" alt=\"Screenshot 2021-08-12 at 21 11 58\" src=\"https://user-images.githubusercontent.com/47347/129304041-b598213e-fcd3-4df1-addb-e6feac6c35b1.png\">", "tree": {"sha": "a400520a107c9c8cb116b60633dd10f3bfdd64b2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a400520a107c9c8cb116b60633dd10f3bfdd64b2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/32c3f2d6ca1c5271836041ca7ca9b45042d8addd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/32c3f2d6ca1c5271836041ca7ca9b45042d8addd", "html_url": "https://github.com/rust-lang/rust/commit/32c3f2d6ca1c5271836041ca7ca9b45042d8addd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/32c3f2d6ca1c5271836041ca7ca9b45042d8addd/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d0a10b205608ad91280fb10495c18eb1c9110c89", "url": "https://api.github.com/repos/rust-lang/rust/commits/d0a10b205608ad91280fb10495c18eb1c9110c89", "html_url": "https://github.com/rust-lang/rust/commit/d0a10b205608ad91280fb10495c18eb1c9110c89"}, {"sha": "474ba60f0403b6691b1483e3aebbb419c07f4ea1", "url": "https://api.github.com/repos/rust-lang/rust/commits/474ba60f0403b6691b1483e3aebbb419c07f4ea1", "html_url": "https://github.com/rust-lang/rust/commit/474ba60f0403b6691b1483e3aebbb419c07f4ea1"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "38dc3b30e72acd74f6cb19543759f6edcfd74f35", "filename": "src/librustdoc/html/templates/page.html", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/32c3f2d6ca1c5271836041ca7ca9b45042d8addd/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "raw_url": "https://github.com/rust-lang/rust/raw/32c3f2d6ca1c5271836041ca7ca9b45042d8addd/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html?ref=32c3f2d6ca1c5271836041ca7ca9b45042d8addd", "patch": "@@ -31,12 +31,12 @@\n     {%- if layout.favicon -%}\n         <link rel=\"shortcut icon\" href=\"{{layout.favicon}}\"> {#- -#}\n     {%- else -%}\n-        <link rel=\"icon\" type=\"image/svg+xml\" {# -#}\n-            href=\"{{static_root_path | safe}}favicon{{page.resource_suffix}}.svg\"> {#- -#}\n         <link rel=\"alternate icon\" type=\"image/png\" {# -#}\n             href=\"{{static_root_path | safe}}favicon-16x16{{page.resource_suffix}}.png\"> {#- -#}\n         <link rel=\"alternate icon\" type=\"image/png\" {# -#}\n             href=\"{{static_root_path | safe}}favicon-32x32{{page.resource_suffix}}.png\"> {#- -#}\n+        <link rel=\"icon\" type=\"image/svg+xml\" {# -#}\n+            href=\"{{static_root_path | safe}}favicon{{page.resource_suffix}}.svg\"> {#- -#}\n     {%- endif -%}\n     {{- layout.external_html.in_header | safe -}}\n     <style type=\"text/css\"> {#- -#}"}]}