{"sha": "1eb378b23aa7dc080997c881fbacbe0f04ebb438", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFlYjM3OGIyM2FhN2RjMDgwOTk3Yzg4MWZiYWNiZTBmMDRlYmI0Mzg=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2011-12-03T00:11:49Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2011-12-03T03:05:49Z"}, "message": "make \"check\" match \"all\": only the host triple", "tree": {"sha": "d309372d76a3d91b4fd83ce38d45cddf5e8ae4ae", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d309372d76a3d91b4fd83ce38d45cddf5e8ae4ae"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1eb378b23aa7dc080997c881fbacbe0f04ebb438", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1eb378b23aa7dc080997c881fbacbe0f04ebb438", "html_url": "https://github.com/rust-lang/rust/commit/1eb378b23aa7dc080997c881fbacbe0f04ebb438", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1eb378b23aa7dc080997c881fbacbe0f04ebb438/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "493492910f480e84cae53587683b8a4d45508af5", "url": "https://api.github.com/repos/rust-lang/rust/commits/493492910f480e84cae53587683b8a4d45508af5", "html_url": "https://github.com/rust-lang/rust/commit/493492910f480e84cae53587683b8a4d45508af5"}], "stats": {"total": 34, "additions": 25, "deletions": 9}, "files": [{"sha": "e0335de0cb1246aee4a75f15848f9a12de906c48", "filename": "mk/tests.mk", "status": "modified", "additions": 25, "deletions": 9, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/1eb378b23aa7dc080997c881fbacbe0f04ebb438/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/1eb378b23aa7dc080997c881fbacbe0f04ebb438/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=1eb378b23aa7dc080997c881fbacbe0f04ebb438", "patch": "@@ -427,35 +427,51 @@ endef\n $(foreach target,$(CFG_TARGET_TRIPLES),\t\t\t\\\n  $(eval $(call DEF_CHECK_FAST_FOR_H,$(target))))\n \n-define DEF_CHECK_FOR_STAGE\n+define DEF_CHECK_ALL_FOR_STAGE\n \n-check-stage$(1): \\\n+check-stage$(1)-H-all: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target))\n-check-stage$(1)-perf: \\\n+check-stage$(1)-H-all-perf: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-perf)\n-check-stage$(1)-rustc: \\\n+check-stage$(1)-H-all-rustc: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-rustc)\n-check-stage$(1)-std: \\\n+check-stage$(1)-H-all-std: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-std)\n-check-stage$(1)-rpass: \\\n+check-stage$(1)-H-all-rpass: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-rpass)\n-check-stage$(1)-rfail: \\\n+check-stage$(1)-H-all-rfail: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-rfail)\n-check-stage$(1)-cfail: \\\n+check-stage$(1)-H-all-cfail: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-cfail)\n-check-stage$(1)-bench: \\\n+check-stage$(1)-H-all-bench: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-bench)\n \n endef\n \n+$(foreach stage,$(STAGES),\t\t\t\t\t\t\\\n+ $(eval $(call DEF_CHECK_FOR_STAGE,$(stage))))\n+\n+define DEF_CHECK_FOR_STAGE\n+\n+check-stage$(1): check-stage$(1)-H-$$(CFG_HOST_TRIPLE)\n+check-stage$(1)-perf: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-perf\n+check-stage$(1)-rustc: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rustc\n+check-stage$(1)-std: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-std\n+check-stage$(1)-rpass: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rpass\n+check-stage$(1)-rfail: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rfail\n+check-stage$(1)-cfail: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-cfail\n+check-stage$(1)-bench: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-bench\n+\n+endef\n+\n $(foreach stage,$(STAGES),\t\t\t\t\t\t\\\n  $(eval $(call DEF_CHECK_FOR_STAGE,$(stage))))\n "}]}