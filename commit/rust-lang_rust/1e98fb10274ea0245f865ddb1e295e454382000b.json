{"sha": "1e98fb10274ea0245f865ddb1e295e454382000b", "node_id": "C_kwDOAAsO6NoAKDFlOThmYjEwMjc0ZWEwMjQ1Zjg2NWRkYjFlMjk1ZTQ1NDM4MjAwMGI", "commit": {"author": {"name": "cynecx", "email": "me@cynecx.net", "date": "2021-10-09T22:52:14Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-11-29T10:07:18Z"}, "message": "rustdoc: fix source view", "tree": {"sha": "2590a2eb6a745b17f8b25e32b68b3445da46b9e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2590a2eb6a745b17f8b25e32b68b3445da46b9e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1e98fb10274ea0245f865ddb1e295e454382000b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1e98fb10274ea0245f865ddb1e295e454382000b", "html_url": "https://github.com/rust-lang/rust/commit/1e98fb10274ea0245f865ddb1e295e454382000b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1e98fb10274ea0245f865ddb1e295e454382000b/comments", "author": {"login": "cynecx", "id": 5961244, "node_id": "MDQ6VXNlcjU5NjEyNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5961244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cynecx", "html_url": "https://github.com/cynecx", "followers_url": "https://api.github.com/users/cynecx/followers", "following_url": "https://api.github.com/users/cynecx/following{/other_user}", "gists_url": "https://api.github.com/users/cynecx/gists{/gist_id}", "starred_url": "https://api.github.com/users/cynecx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cynecx/subscriptions", "organizations_url": "https://api.github.com/users/cynecx/orgs", "repos_url": "https://api.github.com/users/cynecx/repos", "events_url": "https://api.github.com/users/cynecx/events{/privacy}", "received_events_url": "https://api.github.com/users/cynecx/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "135281ed1525db15edd8ebd092aa10aa40df2386", "url": "https://api.github.com/repos/rust-lang/rust/commits/135281ed1525db15edd8ebd092aa10aa40df2386", "html_url": "https://github.com/rust-lang/rust/commit/135281ed1525db15edd8ebd092aa10aa40df2386"}], "stats": {"total": 72, "additions": 61, "deletions": 11}, "files": [{"sha": "9cd05a7d6f1c58145aa363ccb6d5e0934be7de1a", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 43, "deletions": 4, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/1e98fb10274ea0245f865ddb1e295e454382000b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/1e98fb10274ea0245f865ddb1e295e454382000b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=1e98fb10274ea0245f865ddb1e295e454382000b", "patch": "@@ -261,11 +261,19 @@ main {\n \toverflow-y: auto;\n }\n \n+.source main {\n+\tpadding: 15px;\n+}\n+\n .main-inner {\n \tmax-width: 960px;\n \tmargin-right: auto;\n }\n \n+.source .main-inner {\n+\tmax-width: unset;\n+}\n+\n details:not(.rustdoc-toggle) summary {\n \tmargin-bottom: .6em;\n }\n@@ -310,6 +318,7 @@ li {\n }\n \n nav.sub {\n+\tposition: relative;\n \tfont-size: 16px;\n \ttext-transform: uppercase;\n }\n@@ -325,6 +334,10 @@ nav.sub {\n \theight: 100vh;\n }\n \n+.source .sidebar {\n+\tdisplay: none;\n+}\n+\n /* Improve the scrollbar display on firefox */\n * {\n \tscrollbar-width: initial;\n@@ -354,6 +367,18 @@ nav.sub {\n \tdisplay: none !important;\n }\n \n+.logo-source {\n+\tdisplay: none;\n+}\n+\n+.source .logo-source {\n+\tdisplay: block;\n+\tposition: absolute;\n+\ttop: 0;\n+\tleft: 0;\n+\twidth: 200px;\n+}\n+\n .logo-container {\n \theight: 100px;\n \twidth: 100px;\n@@ -716,6 +741,9 @@ nav:not(.sidebar) {\n \tpadding-bottom: 10px;\n \tmargin-bottom: 25px;\n }\n+.source nav:not(.sidebar).sub {\n+\tmargin-left: 230px;\n+}\n nav.main {\n \tpadding: 20px 0;\n \ttext-align: center;\n@@ -805,6 +833,7 @@ h2.small-section-header > .anchor {\n \n .search-container {\n \tposition: relative;\n+\tmax-width: 960px;\n }\n .search-container > div {\n \tdisplay: inline-flex;\n@@ -1357,8 +1386,8 @@ pre.rust {\n \n .theme-picker {\n \tposition: absolute;\n-\tleft: 11px;\n-\ttop: 19px;\n+\tleft: -34px;\n+\ttop: 9px;\n }\n \n .theme-picker button {\n@@ -1767,10 +1796,18 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t\tmargin-bottom: 10px;\n \t}\n \n+\t.source nav:not(.sidebar).sub {\n+\t\tmargin-left: 32px;\n+\t}\n+\n \t.content {\n \t\tmargin-left: 0px;\n \t}\n \n+\t.source .content {\n+\t\tmargin-top: 10px;\n+\t}\n+\n \t#search {\n \t\tmargin-left: 0;\n \t\tpadding: 0;\n@@ -1781,8 +1818,6 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t}\n \n \t.theme-picker {\n-\t\tleft: 10px;\n-\t\ttop: 9px;\n \t\tz-index: 1;\n \t}\n \n@@ -1909,6 +1944,10 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t.search-results div.desc, .search-results .result-description, .item-right {\n \t\tpadding-left: 2em;\n \t}\n+\n+\t.source .logo-source {\n+\t\tdisplay: none;\n+\t}\n }\n \n @media print {"}, {"sha": "815dd03d34667611d4266c441539449671696d1f", "filename": "src/librustdoc/html/templates/page.html", "status": "modified", "additions": 18, "deletions": 7, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/1e98fb10274ea0245f865ddb1e295e454382000b/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "raw_url": "https://github.com/rust-lang/rust/raw/1e98fb10274ea0245f865ddb1e295e454382000b/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html?ref=1e98fb10274ea0245f865ddb1e295e454382000b", "patch": "@@ -83,14 +83,25 @@\n     </nav> {#- -#}\n     <main> {#- -#}\n         <div class=\"main-inner\"> {#- -#}\n-            <div class=\"theme-picker\"> {#- -#}\n-                <button id=\"theme-picker\" aria-label=\"Pick another theme!\" aria-haspopup=\"menu\" title=\"themes\"> {#- -#}\n-                    <img width=\"18\" height=\"18\" alt=\"Pick another theme!\" {# -#}\n-                     src=\"{{static_root_path | safe}}brush{{page.resource_suffix}}.svg\"> {#- -#}\n-                </button> {#- -#}\n-                <div id=\"theme-choices\" role=\"menu\"></div> {#- -#}\n-            </div> {#- -#}\n+            <a class=\"logo-source\" href='{{page.root_path | safe}}{{krate_with_trailing_slash | safe}}index.html'> {#- -#}\n+                <div class='logo-container rust-logo'> {#- -#}\n+                <img src='\n+                    {%- if layout.logo -%}\n+                    {{layout.logo}}\n+                    {%- else -%}\n+                    {{static_root_path | safe}}rust-logo{{page.resource_suffix}}.png\n+                    {%- endif -%}\n+                    ' alt='logo'> {#- -#}\n+                </div> {#- -#}\n+            </a> {#- -#}\n             <nav class=\"sub\"> {#- -#}\n+                <div class=\"theme-picker\"> {#- -#}\n+                    <button id=\"theme-picker\" aria-label=\"Pick another theme!\" aria-haspopup=\"menu\" title=\"themes\"> {#- -#}\n+                        <img width=\"18\" height=\"18\" alt=\"Pick another theme!\" {# -#}\n+                         src=\"{{static_root_path | safe}}brush{{page.resource_suffix}}.svg\"> {#- -#}\n+                    </button> {#- -#}\n+                    <div id=\"theme-choices\" role=\"menu\"></div> {#- -#}\n+                </div> {#- -#}\n                 <form class=\"search-form\"> {#- -#}\n                     <div class=\"search-container\"> {#- -#}\n                         <div>{%- if layout.generate_search_filter -%}"}]}