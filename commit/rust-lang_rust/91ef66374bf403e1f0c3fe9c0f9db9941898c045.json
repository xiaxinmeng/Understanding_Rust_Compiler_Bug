{"sha": "91ef66374bf403e1f0c3fe9c0f9db9941898c045", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkxZWY2NjM3NGJmNDAzZTFmMGMzZmU5YzBmOWRiOTk0MTg5OGMwNDU=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-04-22T10:18:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-22T10:18:38Z"}, "message": "Rollup merge of #71412 - dtolnay:uselessdoc, r=Manishearth\n\nClarify unused_doc_comments note on macro invocations\n\nThe previous error message used to say:\n\n<pre>\n/// doc\n^^^^^^^ rustdoc does not generate documentation for <b>macros</b>\n</pre>\n\nObviously we do generate documentation for macros, such as https://docs.rs/bitflags/1.2.1/bitflags/macro.bitflags.html. It's only macro invocations that don't get their own docs. This PR updates the message to say \"rustdoc does not generate documentation for <b>macro invocations</b>\".\n\nI observe that prior to #69084 this used to say \"rustdoc does not generate documentation for **macro expansions**\", as implemented originally in #57882. I don't have a preference between those but I made the commit before looking up the history.\n\nr? @Manishearth\nattn: @yaahc @euclio", "tree": {"sha": "3efac0cb13e9236db63992d5947cfe3c83a248e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3efac0cb13e9236db63992d5947cfe3c83a248e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/91ef66374bf403e1f0c3fe9c0f9db9941898c045", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeoBn+CRBK7hj4Ov3rIwAAdHIIAJusHfsoDwOpkou9HNCklGH/\nZ93Xfa1hDxm9jb0bEw692aTOqQ6XfrmNkyAWbwlPtmTxvmTC3SDYfSseFXLXNXBk\nRrXq859aBt8MRiLFIxCgqic4d60Eea3pP8qkcSfu5J5BDy73RxNBdqQxj4di6tXj\nsl/zoBTcqMyQN1yW3/AxGJnnCnwyZ+F6jEUD4fVDhAn2DghdTesYKy7ToIwIOmce\nanjNhvKVOhALPsmhr4dq8cewBNA8mAWkePt9RfndyB/W0PSvRG2ahCYvqy7oow//\nSQFEKPB2uugCUapzgsVZr4tzEOVxB1tZvIGTUCjE7LlQiSraqQmuRcD1z5lQ/Fo=\n=OoA5\n-----END PGP SIGNATURE-----\n", "payload": "tree 3efac0cb13e9236db63992d5947cfe3c83a248e3\nparent e7c5334a887f9218a7c2397910b1c27737760c79\nparent 3a8097f2b44f8221bfbdbf47b66558eca44953fd\nauthor Dylan DPC <dylan.dpc@gmail.com> 1587550718 +0200\ncommitter GitHub <noreply@github.com> 1587550718 +0200\n\nRollup merge of #71412 - dtolnay:uselessdoc, r=Manishearth\n\nClarify unused_doc_comments note on macro invocations\n\nThe previous error message used to say:\n\n<pre>\n/// doc\n^^^^^^^ rustdoc does not generate documentation for <b>macros</b>\n</pre>\n\nObviously we do generate documentation for macros, such as https://docs.rs/bitflags/1.2.1/bitflags/macro.bitflags.html. It's only macro invocations that don't get their own docs. This PR updates the message to say \"rustdoc does not generate documentation for <b>macro invocations</b>\".\n\nI observe that prior to #69084 this used to say \"rustdoc does not generate documentation for **macro expansions**\", as implemented originally in #57882. I don't have a preference between those but I made the commit before looking up the history.\n\nr? @Manishearth\nattn: @yaahc @euclio\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/91ef66374bf403e1f0c3fe9c0f9db9941898c045", "html_url": "https://github.com/rust-lang/rust/commit/91ef66374bf403e1f0c3fe9c0f9db9941898c045", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/91ef66374bf403e1f0c3fe9c0f9db9941898c045/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e7c5334a887f9218a7c2397910b1c27737760c79", "url": "https://api.github.com/repos/rust-lang/rust/commits/e7c5334a887f9218a7c2397910b1c27737760c79", "html_url": "https://github.com/rust-lang/rust/commit/e7c5334a887f9218a7c2397910b1c27737760c79"}, {"sha": "3a8097f2b44f8221bfbdbf47b66558eca44953fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/3a8097f2b44f8221bfbdbf47b66558eca44953fd", "html_url": "https://github.com/rust-lang/rust/commit/3a8097f2b44f8221bfbdbf47b66558eca44953fd"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "e5d3227d5afd461e4e27d6b44043e63e54c2ade0", "filename": "src/librustc_lint/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/91ef66374bf403e1f0c3fe9c0f9db9941898c045/src%2Flibrustc_lint%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91ef66374bf403e1f0c3fe9c0f9db9941898c045/src%2Flibrustc_lint%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fcontext.rs?ref=91ef66374bf403e1f0c3fe9c0f9db9941898c045", "patch": "@@ -566,7 +566,7 @@ pub trait LintContext: Sized {\n                     stability::deprecation_suggestion(&mut db, suggestion, span)\n                 }\n                 BuiltinLintDiagnostics::UnusedDocComment(span) => {\n-                    db.span_label(span, \"rustdoc does not generate documentation for macros\");\n+                    db.span_label(span, \"rustdoc does not generate documentation for macro invocations\");\n                     db.help(\"to document an item produced by a macro, \\\n                                   the macro must produce the documentation as part of its expansion\");\n                 }"}, {"sha": "5a0af8db7c504dfa78b3342375dbf1fb9a9a26e2", "filename": "src/test/ui/useless-comment.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/91ef66374bf403e1f0c3fe9c0f9db9941898c045/src%2Ftest%2Fui%2Fuseless-comment.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/91ef66374bf403e1f0c3fe9c0f9db9941898c045/src%2Ftest%2Fui%2Fuseless-comment.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuseless-comment.stderr?ref=91ef66374bf403e1f0c3fe9c0f9db9941898c045", "patch": "@@ -2,7 +2,7 @@ error: unused doc comment\n   --> $DIR/useless-comment.rs:9:1\n    |\n LL | /// foo\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macros\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macro invocations\n    |\n note: the lint level is defined here\n   --> $DIR/useless-comment.rs:3:9\n@@ -15,7 +15,7 @@ error: unused doc comment\n   --> $DIR/useless-comment.rs:32:5\n    |\n LL |     /// bar\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macros\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macro invocations\n    |\n    = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion\n "}]}