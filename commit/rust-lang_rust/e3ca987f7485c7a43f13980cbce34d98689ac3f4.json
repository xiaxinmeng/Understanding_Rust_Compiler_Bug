{"sha": "e3ca987f7485c7a43f13980cbce34d98689ac3f4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUzY2E5ODdmNzQ4NWM3YTQzZjEzOTgwY2JjZTM0ZDk4Njg5YWMzZjQ=", "commit": {"author": {"name": "P1start", "email": "rewi-github@whanau.org", "date": "2014-10-06T03:08:46Z"}, "committer": {"name": "P1start", "email": "rewi-github@whanau.org", "date": "2014-10-06T03:43:34Z"}, "message": "Rename the file permission statics in std::io to be uppercase\n\nFor example, this renames `GroupRWX` to `GROUP_RWX`, and deprecates the old\nname. Code using these statics should be updated accordingly.", "tree": {"sha": "2de9ed81a7eb2d7aa40a1c94120775a8c033534f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2de9ed81a7eb2d7aa40a1c94120775a8c033534f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e3ca987f7485c7a43f13980cbce34d98689ac3f4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e3ca987f7485c7a43f13980cbce34d98689ac3f4", "html_url": "https://github.com/rust-lang/rust/commit/e3ca987f7485c7a43f13980cbce34d98689ac3f4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e3ca987f7485c7a43f13980cbce34d98689ac3f4/comments", "author": {"login": "ftxqxd", "id": 2055302, "node_id": "MDQ6VXNlcjIwNTUzMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ftxqxd", "html_url": "https://github.com/ftxqxd", "followers_url": "https://api.github.com/users/ftxqxd/followers", "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}", "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions", "organizations_url": "https://api.github.com/users/ftxqxd/orgs", "repos_url": "https://api.github.com/users/ftxqxd/repos", "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}", "received_events_url": "https://api.github.com/users/ftxqxd/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ftxqxd", "id": 2055302, "node_id": "MDQ6VXNlcjIwNTUzMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/2055302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ftxqxd", "html_url": "https://github.com/ftxqxd", "followers_url": "https://api.github.com/users/ftxqxd/followers", "following_url": "https://api.github.com/users/ftxqxd/following{/other_user}", "gists_url": "https://api.github.com/users/ftxqxd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ftxqxd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ftxqxd/subscriptions", "organizations_url": "https://api.github.com/users/ftxqxd/orgs", "repos_url": "https://api.github.com/users/ftxqxd/repos", "events_url": "https://api.github.com/users/ftxqxd/events{/privacy}", "received_events_url": "https://api.github.com/users/ftxqxd/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5660db2508159513e0ade032ae9349977e7371b5", "url": "https://api.github.com/repos/rust-lang/rust/commits/5660db2508159513e0ade032ae9349977e7371b5", "html_url": "https://github.com/rust-lang/rust/commit/5660db2508159513e0ade032ae9349977e7371b5"}], "stats": {"total": 214, "additions": 136, "deletions": 78}, "files": [{"sha": "7dcfa1a931530a4498e62529777c6f6b426f1ca6", "filename": "src/compiletest/runtest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Fcompiletest%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Fcompiletest%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fruntest.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -1196,7 +1196,7 @@ fn compose_and_run_compiler(\n \n fn ensure_dir(path: &Path) {\n     if path.is_dir() { return; }\n-    fs::mkdir(path, io::UserRWX).unwrap();\n+    fs::mkdir(path, io::USER_RWX).unwrap();\n }\n \n fn compose_and_run(config: &Config, testfile: &Path,"}, {"sha": "adae71ddad4c6a94f42a511d6adf4a765cb2239e", "filename": "src/librustc/back/link.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustc%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustc%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fback%2Flink.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -466,7 +466,7 @@ pub fn invalid_output_for_target(sess: &Session,\n fn is_writeable(p: &Path) -> bool {\n     match p.stat() {\n         Err(..) => true,\n-        Ok(m) => m.perm & io::UserWrite == io::UserWrite\n+        Ok(m) => m.perm & io::USER_WRITE == io::USER_WRITE\n     }\n }\n \n@@ -1322,7 +1322,7 @@ fn add_upstream_rust_crates(cmd: &mut Command, sess: &Session,\n                 // Fix up permissions of the copy, as fs::copy() preserves\n                 // permissions, but the original file may have been installed\n                 // by a package manager and may be read-only.\n-                match fs::chmod(&dst, io::UserRead | io::UserWrite) {\n+                match fs::chmod(&dst, io::USER_READ | io::USER_WRITE) {\n                     Ok(..) => {}\n                     Err(e) => {\n                         sess.err(format!(\"failed to chmod {} when preparing \\"}, {"sha": "aa230496d9423badaf98a4ce5c75cdf35a4c903e", "filename": "src/librustc/middle/save/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustc%2Fmiddle%2Fsave%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustc%2Fmiddle%2Fsave%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fsave%2Fmod.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -1467,7 +1467,7 @@ pub fn process_crate(sess: &Session,\n         },\n     };\n \n-    match fs::mkdir_recursive(&root_path, io::UserRWX) {\n+    match fs::mkdir_recursive(&root_path, io::USER_RWX) {\n         Err(e) => sess.err(format!(\"Could not create directory {}: {}\",\n                            root_path.display(), e).as_slice()),\n         _ => (),"}, {"sha": "a062c68d998a9e6790167b6c269353efba5e4fd3", "filename": "src/librustc_back/fs.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustc_back%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustc_back%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ffs.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -68,7 +68,7 @@ mod test {\n         let linkdir = tmpdir.join(\"test3\");\n \n         File::create(&file).unwrap();\n-        mkdir(&dir, io::UserRWX).unwrap();\n+        mkdir(&dir, io::USER_RWX).unwrap();\n         symlink(&file, &link).unwrap();\n         symlink(&dir, &linkdir).unwrap();\n \n@@ -91,8 +91,8 @@ mod test {\n         let e = d.join(\"e\");\n         let f = a.join(\"f\");\n \n-        mkdir_recursive(&b, io::UserRWX).unwrap();\n-        mkdir_recursive(&d, io::UserRWX).unwrap();\n+        mkdir_recursive(&b, io::USER_RWX).unwrap();\n+        mkdir_recursive(&d, io::USER_RWX).unwrap();\n         File::create(&f).unwrap();\n         symlink(&Path::new(\"../d/e\"), &c).unwrap();\n         symlink(&Path::new(\"../f\"), &e).unwrap();"}, {"sha": "cef44c2b262610f85f180557bf1a3f22b1a41e11", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -618,7 +618,7 @@ fn write(dst: Path, contents: &[u8]) -> io::IoResult<()> {\n /// skipping if the directory already exists.\n fn mkdir(path: &Path) -> io::IoResult<()> {\n     if !path.exists() {\n-        fs::mkdir(path, io::UserRWX)\n+        fs::mkdir(path, io::USER_RWX)\n     } else {\n         Ok(())\n     }"}, {"sha": "24cc53e784e65a3ca24009f28ef0101e884a0109", "filename": "src/libstd/io/fs.rs", "status": "modified", "additions": 33, "deletions": 33, "changes": 66, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibstd%2Fio%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibstd%2Fio%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Ffs.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -295,9 +295,9 @@ pub fn unlink(path: &Path) -> IoResult<()> {\n                     Ok(stat) => stat,\n                     Err(..) => return Err(e),\n                 };\n-                if stat.perm.intersects(io::UserWrite) { return Err(e) }\n+                if stat.perm.intersects(io::USER_WRITE) { return Err(e) }\n \n-                match chmod(path, stat.perm | io::UserWrite) {\n+                match chmod(path, stat.perm | io::USER_WRITE) {\n                     Ok(()) => do_unlink(path),\n                     Err(..) => {\n                         // Try to put it back as we found it\n@@ -501,10 +501,10 @@ pub fn copy(from: &Path, to: &Path) -> IoResult<()> {\n /// use std::io;\n /// use std::io::fs;\n ///\n-/// fs::chmod(&Path::new(\"file.txt\"), io::UserFile);\n-/// fs::chmod(&Path::new(\"file.txt\"), io::UserRead | io::UserWrite);\n-/// fs::chmod(&Path::new(\"dir\"),      io::UserDir);\n-/// fs::chmod(&Path::new(\"file.exe\"), io::UserExec);\n+/// fs::chmod(&Path::new(\"file.txt\"), io::USER_FILE);\n+/// fs::chmod(&Path::new(\"file.txt\"), io::USER_READ | io::USER_WRITE);\n+/// fs::chmod(&Path::new(\"dir\"),      io::USER_DIR);\n+/// fs::chmod(&Path::new(\"file.exe\"), io::USER_EXEC);\n /// ```\n ///\n /// # Error\n@@ -578,7 +578,7 @@ pub fn readlink(path: &Path) -> IoResult<Path> {\n /// use std::io::fs;\n ///\n /// let p = Path::new(\"/some/dir\");\n-/// fs::mkdir(&p, io::UserRWX);\n+/// fs::mkdir(&p, io::USER_RWX);\n /// ```\n ///\n /// # Error\n@@ -996,7 +996,7 @@ mod test {\n         use os;\n         use rand;\n         let ret = os::tmpdir().join(format!(\"rust-{}\", rand::random::<u32>()));\n-        check!(io::fs::mkdir(&ret, io::UserRWX));\n+        check!(io::fs::mkdir(&ret, io::USER_RWX));\n         TempDir(ret)\n     }\n \n@@ -1180,7 +1180,7 @@ mod test {\n     fn file_test_stat_is_correct_on_is_dir() {\n         let tmpdir = tmpdir();\n         let filename = &tmpdir.join(\"file_stat_correct_on_is_dir\");\n-        check!(mkdir(filename, io::UserRWX));\n+        check!(mkdir(filename, io::USER_RWX));\n         let stat_res_fn = check!(stat(filename));\n         assert!(stat_res_fn.kind == io::TypeDirectory);\n         let stat_res_meth = check!(filename.stat());\n@@ -1192,7 +1192,7 @@ mod test {\n     fn file_test_fileinfo_false_when_checking_is_file_on_a_directory() {\n         let tmpdir = tmpdir();\n         let dir = &tmpdir.join(\"fileinfo_false_on_dir\");\n-        check!(mkdir(dir, io::UserRWX));\n+        check!(mkdir(dir, io::USER_RWX));\n         assert!(dir.is_file() == false);\n         check!(rmdir(dir));\n     }\n@@ -1212,7 +1212,7 @@ mod test {\n         let tmpdir = tmpdir();\n         let dir = &tmpdir.join(\"before_and_after_dir\");\n         assert!(!dir.exists());\n-        check!(mkdir(dir, io::UserRWX));\n+        check!(mkdir(dir, io::USER_RWX));\n         assert!(dir.exists());\n         assert!(dir.is_dir());\n         check!(rmdir(dir));\n@@ -1224,7 +1224,7 @@ mod test {\n         use str;\n         let tmpdir = tmpdir();\n         let dir = &tmpdir.join(\"di_readdir\");\n-        check!(mkdir(dir, io::UserRWX));\n+        check!(mkdir(dir, io::USER_RWX));\n         let prefix = \"foo\";\n         for n in range(0i,3) {\n             let f = dir.join(format!(\"{}.txt\", n));\n@@ -1255,14 +1255,14 @@ mod test {\n     fn file_test_walk_dir() {\n         let tmpdir = tmpdir();\n         let dir = &tmpdir.join(\"walk_dir\");\n-        check!(mkdir(dir, io::UserRWX));\n+        check!(mkdir(dir, io::USER_RWX));\n \n         let dir1 = &dir.join(\"01/02/03\");\n-        check!(mkdir_recursive(dir1, io::UserRWX));\n+        check!(mkdir_recursive(dir1, io::USER_RWX));\n         check!(File::create(&dir1.join(\"04\")));\n \n         let dir2 = &dir.join(\"11/12/13\");\n-        check!(mkdir_recursive(dir2, io::UserRWX));\n+        check!(mkdir_recursive(dir2, io::USER_RWX));\n         check!(File::create(&dir2.join(\"14\")));\n \n         let mut files = check!(walk_dir(dir));\n@@ -1282,7 +1282,7 @@ mod test {\n     fn recursive_mkdir() {\n         let tmpdir = tmpdir();\n         let dir = tmpdir.join(\"d1/d2\");\n-        check!(mkdir_recursive(&dir, io::UserRWX));\n+        check!(mkdir_recursive(&dir, io::USER_RWX));\n         assert!(dir.is_dir())\n     }\n \n@@ -1292,10 +1292,10 @@ mod test {\n         let dir = tmpdir.join(\"d1\");\n         let file = dir.join(\"f1\");\n \n-        check!(mkdir_recursive(&dir, io::UserRWX));\n+        check!(mkdir_recursive(&dir, io::USER_RWX));\n         check!(File::create(&file));\n \n-        let result = mkdir_recursive(&file, io::UserRWX);\n+        let result = mkdir_recursive(&file, io::USER_RWX);\n \n         error!(result, \"couldn't recursively mkdir\");\n         error!(result, \"couldn't create directory\");\n@@ -1305,7 +1305,7 @@ mod test {\n \n     #[test]\n     fn recursive_mkdir_slash() {\n-        check!(mkdir_recursive(&Path::new(\"/\"), io::UserRWX));\n+        check!(mkdir_recursive(&Path::new(\"/\"), io::USER_RWX));\n     }\n \n     // FIXME(#12795) depends on lstat to work on windows\n@@ -1318,8 +1318,8 @@ mod test {\n         let dtt = dt.join(\"t\");\n         let d2 = tmpdir.join(\"d2\");\n         let canary = d2.join(\"do_not_delete\");\n-        check!(mkdir_recursive(&dtt, io::UserRWX));\n-        check!(mkdir_recursive(&d2, io::UserRWX));\n+        check!(mkdir_recursive(&dtt, io::USER_RWX));\n+        check!(mkdir_recursive(&d2, io::USER_RWX));\n         check!(File::create(&canary).write(b\"foo\"));\n         check!(symlink(&d2, &dt.join(\"d2\")));\n         check!(rmdir_recursive(&d1));\n@@ -1337,7 +1337,7 @@ mod test {\n \n         let mut dirpath = tmpdir.path().clone();\n         dirpath.push(format!(\"test-\uac00\u4e00\u30fc\u4f60\u597d\"));\n-        check!(mkdir(&dirpath, io::UserRWX));\n+        check!(mkdir(&dirpath, io::USER_RWX));\n         assert!(dirpath.is_dir());\n \n         let mut filepath = dirpath;\n@@ -1355,7 +1355,7 @@ mod test {\n         let tmpdir = tmpdir();\n         let unicode = tmpdir.path();\n         let unicode = unicode.join(format!(\"test-\uac01\u4e01\u30fc\u518d\u89c1\"));\n-        check!(mkdir(&unicode, io::UserRWX));\n+        check!(mkdir(&unicode, io::USER_RWX));\n         assert!(unicode.exists());\n         assert!(!Path::new(\"test/unicode-bogus-path-\uac01\u4e01\u30fc\u518d\u89c1\").exists());\n     }\n@@ -1436,12 +1436,12 @@ mod test {\n         let out = tmpdir.join(\"out.txt\");\n \n         check!(File::create(&input));\n-        check!(chmod(&input, io::UserRead));\n+        check!(chmod(&input, io::USER_READ));\n         check!(copy(&input, &out));\n-        assert!(!check!(out.stat()).perm.intersects(io::UserWrite));\n+        assert!(!check!(out.stat()).perm.intersects(io::USER_WRITE));\n \n-        check!(chmod(&input, io::UserFile));\n-        check!(chmod(&out, io::UserFile));\n+        check!(chmod(&input, io::USER_FILE));\n+        check!(chmod(&out, io::USER_FILE));\n     }\n \n     #[cfg(not(windows))] // FIXME(#10264) operation not permitted?\n@@ -1517,16 +1517,16 @@ mod test {\n         let file = tmpdir.join(\"in.txt\");\n \n         check!(File::create(&file));\n-        assert!(check!(stat(&file)).perm.contains(io::UserWrite));\n-        check!(chmod(&file, io::UserRead));\n-        assert!(!check!(stat(&file)).perm.contains(io::UserWrite));\n+        assert!(check!(stat(&file)).perm.contains(io::USER_WRITE));\n+        check!(chmod(&file, io::USER_READ));\n+        assert!(!check!(stat(&file)).perm.contains(io::USER_WRITE));\n \n-        match chmod(&tmpdir.join(\"foo\"), io::UserRWX) {\n+        match chmod(&tmpdir.join(\"foo\"), io::USER_RWX) {\n             Ok(..) => fail!(\"wanted a failure\"),\n             Err(..) => {}\n         }\n \n-        check!(chmod(&file, io::UserFile));\n+        check!(chmod(&file, io::USER_FILE));\n     }\n \n     #[test]\n@@ -1677,7 +1677,7 @@ mod test {\n         let tmpdir = tmpdir();\n         let path = tmpdir.join(\"file\");\n         check!(File::create(&path));\n-        check!(chmod(&path, io::UserRead));\n+        check!(chmod(&path, io::USER_READ));\n         check!(unlink(&path));\n     }\n }"}, {"sha": "e52a67cc32f3e774c1e849d44e836ac5b881d62d", "filename": "src/libstd/io/mod.rs", "status": "modified", "additions": 84, "deletions": 26, "changes": 110, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibstd%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibstd%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fmod.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -1803,35 +1803,93 @@ bitflags! {\n     #[doc = \"A set of permissions for a file or directory is represented\"]\n     #[doc = \"by a set of flags which are or'd together.\"]\n     flags FilePermission: u32 {\n-        static UserRead     = 0o400,\n-        static UserWrite    = 0o200,\n-        static UserExecute  = 0o100,\n-        static GroupRead    = 0o040,\n-        static GroupWrite   = 0o020,\n-        static GroupExecute = 0o010,\n-        static OtherRead    = 0o004,\n-        static OtherWrite   = 0o002,\n-        static OtherExecute = 0o001,\n-\n-        static UserRWX  = UserRead.bits | UserWrite.bits | UserExecute.bits,\n-        static GroupRWX = GroupRead.bits | GroupWrite.bits | GroupExecute.bits,\n-        static OtherRWX = OtherRead.bits | OtherWrite.bits | OtherExecute.bits,\n+        static USER_READ     = 0o400,\n+        static USER_WRITE    = 0o200,\n+        static USER_EXECUTE  = 0o100,\n+        static GROUP_READ    = 0o040,\n+        static GROUP_WRITE   = 0o020,\n+        static GROUP_EXECUTE = 0o010,\n+        static OTHER_READ    = 0o004,\n+        static OTHER_WRITE   = 0o002,\n+        static OTHER_EXECUTE = 0o001,\n+\n+        static USER_RWX  = USER_READ.bits | USER_WRITE.bits | USER_EXECUTE.bits,\n+        static GROUP_RWX = GROUP_READ.bits | GROUP_WRITE.bits | GROUP_EXECUTE.bits,\n+        static OTHER_RWX = OTHER_READ.bits | OTHER_WRITE.bits | OTHER_EXECUTE.bits,\n \n         #[doc = \"Permissions for user owned files, equivalent to 0644 on\"]\n         #[doc = \"unix-like systems.\"]\n-        static UserFile = UserRead.bits | UserWrite.bits | GroupRead.bits | OtherRead.bits,\n+        static USER_FILE = USER_READ.bits | USER_WRITE.bits | GROUP_READ.bits | OTHER_READ.bits,\n \n         #[doc = \"Permissions for user owned directories, equivalent to 0755 on\"]\n         #[doc = \"unix-like systems.\"]\n-        static UserDir  = UserRWX.bits | GroupRead.bits | GroupExecute.bits |\n-                   OtherRead.bits | OtherExecute.bits,\n+        static USER_DIR  = USER_RWX.bits | GROUP_READ.bits | GROUP_EXECUTE.bits |\n+                   OTHER_READ.bits | OTHER_EXECUTE.bits,\n \n         #[doc = \"Permissions for user owned executables, equivalent to 0755\"]\n         #[doc = \"on unix-like systems.\"]\n-        static UserExec = UserDir.bits,\n+        static USER_EXEC = USER_DIR.bits,\n \n         #[doc = \"All possible permissions enabled.\"]\n-        static AllPermissions = UserRWX.bits | GroupRWX.bits | OtherRWX.bits,\n+        static ALL_PERMISSIONS = USER_RWX.bits | GROUP_RWX.bits | OTHER_RWX.bits,\n+\n+        // Deprecated names\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use USER_READ instead\"]\n+        static UserRead     = USER_READ.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use USER_WRITE instead\"]\n+        static UserWrite    = USER_WRITE.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use USER_EXECUTE instead\"]\n+        static UserExecute  = USER_EXECUTE.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use GROUP_READ instead\"]\n+        static GroupRead    = GROUP_READ.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use GROUP_WRITE instead\"]\n+        static GroupWrite   = GROUP_WRITE.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use GROUP_EXECUTE instead\"]\n+        static GroupExecute = GROUP_EXECUTE.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use OTHER_READ instead\"]\n+        static OtherRead    = OTHER_READ.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use OTHER_WRITE instead\"]\n+        static OtherWrite   = OTHER_WRITE.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use OTHER_EXECUTE instead\"]\n+        static OtherExecute = OTHER_EXECUTE.bits,\n+\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use USER_RWX instead\"]\n+        static UserRWX  = USER_RWX.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use GROUP_RWX instead\"]\n+        static GroupRWX = GROUP_RWX.bits,\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use OTHER_RWX instead\"]\n+        static OtherRWX = OTHER_RWX.bits,\n+\n+        #[doc = \"Deprecated: use `USER_FILE` instead.\"]\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use USER_FILE instead\"]\n+        static UserFile = USER_FILE.bits,\n+\n+        #[doc = \"Deprecated: use `USER_DIR` instead.\"]\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use USER_DIR instead\"]\n+        static UserDir  = USER_DIR.bits,\n+        #[doc = \"Deprecated: use `USER_EXEC` instead.\"]\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use USER_EXEC instead\"]\n+        static UserExec = USER_EXEC.bits,\n+\n+        #[doc = \"Deprecated: use `ALL_PERMISSIONS` instead\"]\n+        #[allow(non_uppercase_statics)]\n+        #[deprecated = \"use ALL_PERMISSIONS instead\"]\n+        static AllPermissions = ALL_PERMISSIONS.bits,\n     }\n }\n \n@@ -1954,13 +2012,13 @@ mod tests {\n     fn test_show() {\n         use super::*;\n \n-        assert_eq!(format!(\"{}\", UserRead), \"0400\".to_string());\n-        assert_eq!(format!(\"{}\", UserFile), \"0644\".to_string());\n-        assert_eq!(format!(\"{}\", UserExec), \"0755\".to_string());\n-        assert_eq!(format!(\"{}\", UserRWX),  \"0700\".to_string());\n-        assert_eq!(format!(\"{}\", GroupRWX), \"0070\".to_string());\n-        assert_eq!(format!(\"{}\", OtherRWX), \"0007\".to_string());\n-        assert_eq!(format!(\"{}\", AllPermissions), \"0777\".to_string());\n-        assert_eq!(format!(\"{}\", UserRead | UserWrite | OtherWrite), \"0602\".to_string());\n+        assert_eq!(format!(\"{}\", USER_READ), \"0400\".to_string());\n+        assert_eq!(format!(\"{}\", USER_FILE), \"0644\".to_string());\n+        assert_eq!(format!(\"{}\", USER_EXEC), \"0755\".to_string());\n+        assert_eq!(format!(\"{}\", USER_RWX),  \"0700\".to_string());\n+        assert_eq!(format!(\"{}\", GROUP_RWX), \"0070\".to_string());\n+        assert_eq!(format!(\"{}\", OTHER_RWX), \"0007\".to_string());\n+        assert_eq!(format!(\"{}\", ALL_PERMISSIONS), \"0777\".to_string());\n+        assert_eq!(format!(\"{}\", USER_READ | USER_WRITE | OTHER_WRITE), \"0602\".to_string());\n     }\n }"}, {"sha": "1d8aedb172bae39d19673ee9b1977a9759de1cc7", "filename": "src/libstd/io/tempfile.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibstd%2Fio%2Ftempfile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Flibstd%2Fio%2Ftempfile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Ftempfile.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -48,7 +48,7 @@ impl TempDir {\n                         unsafe { CNT.fetch_add(1, atomic::SeqCst) },\n                         suffix);\n             let p = tmpdir.join(filename);\n-            match fs::mkdir(&p, io::UserRWX) {\n+            match fs::mkdir(&p, io::USER_RWX) {\n                 Err(error) => {\n                     if attempts >= 1000 {\n                         return Err(error)"}, {"sha": "f04bc62bf7f396ebbdae064bcaff9c9408de0c8e", "filename": "src/test/run-pass/process-spawn-with-unicode-params.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Ftest%2Frun-pass%2Fprocess-spawn-with-unicode-params.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Ftest%2Frun-pass%2Fprocess-spawn-with-unicode-params.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fprocess-spawn-with-unicode-params.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -51,7 +51,7 @@ fn main() {\n         let child_path     = cwd.join(child_filename.clone());\n \n         // make a separate directory for the child\n-        drop(fs::mkdir(&cwd, io::UserRWX).is_ok());\n+        drop(fs::mkdir(&cwd, io::USER_RWX).is_ok());\n         assert!(fs::copy(&my_path, &child_path).is_ok());\n \n         // run child"}, {"sha": "43a62524717dbe52b68eac00a196cdeddd85648a", "filename": "src/test/run-pass/rename-directory.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Ftest%2Frun-pass%2Frename-directory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Ftest%2Frun-pass%2Frename-directory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frename-directory.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -26,7 +26,7 @@ fn rename_directory() {\n         let tmpdir = TempDir::new(\"rename_directory\").ok().expect(\"rename_directory failed\");\n         let tmpdir = tmpdir.path();\n         let old_path = tmpdir.join_many([\"foo\", \"bar\", \"baz\"]);\n-        fs::mkdir_recursive(&old_path, io::UserRWX);\n+        fs::mkdir_recursive(&old_path, io::USER_RWX);\n         let test_file = &old_path.join(\"temp.txt\");\n \n         /* Write the temp input file */\n@@ -47,7 +47,7 @@ fn rename_directory() {\n         assert_eq!(libc::fclose(ostream), (0u as libc::c_int));\n \n         let new_path = tmpdir.join_many([\"quux\", \"blat\"]);\n-        fs::mkdir_recursive(&new_path, io::UserRWX);\n+        fs::mkdir_recursive(&new_path, io::USER_RWX);\n         fs::rename(&old_path, &new_path.join(\"newdir\"));\n         assert!(new_path.join(\"newdir\").is_dir());\n         assert!(new_path.join_many([\"newdir\", \"temp.txt\"]).exists());"}, {"sha": "64fd96bd924b958f2f2dcb7e725103a8932401b1", "filename": "src/test/run-pass/tempfile.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Ftest%2Frun-pass%2Ftempfile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3ca987f7485c7a43f13980cbce34d98689ac3f4/src%2Ftest%2Frun-pass%2Ftempfile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftempfile.rs?ref=e3ca987f7485c7a43f13980cbce34d98689ac3f4", "patch": "@@ -128,38 +128,38 @@ fn recursive_mkdir_rel() {\n     let cwd = os::getcwd();\n     println!(\"recursive_mkdir_rel: Making: {} in cwd {} [{:?}]\", path.display(),\n            cwd.display(), path.exists());\n-    fs::mkdir_recursive(&path, io::UserRWX);\n+    fs::mkdir_recursive(&path, io::USER_RWX);\n     assert!(path.is_dir());\n-    fs::mkdir_recursive(&path, io::UserRWX);\n+    fs::mkdir_recursive(&path, io::USER_RWX);\n     assert!(path.is_dir());\n }\n \n fn recursive_mkdir_dot() {\n     let dot = Path::new(\".\");\n-    fs::mkdir_recursive(&dot, io::UserRWX);\n+    fs::mkdir_recursive(&dot, io::USER_RWX);\n     let dotdot = Path::new(\"..\");\n-    fs::mkdir_recursive(&dotdot, io::UserRWX);\n+    fs::mkdir_recursive(&dotdot, io::USER_RWX);\n }\n \n fn recursive_mkdir_rel_2() {\n     let path = Path::new(\"./frob/baz\");\n     let cwd = os::getcwd();\n     println!(\"recursive_mkdir_rel_2: Making: {} in cwd {} [{:?}]\", path.display(),\n            cwd.display(), path.exists());\n-    fs::mkdir_recursive(&path, io::UserRWX);\n+    fs::mkdir_recursive(&path, io::USER_RWX);\n     assert!(path.is_dir());\n     assert!(path.dir_path().is_dir());\n     let path2 = Path::new(\"quux/blat\");\n     println!(\"recursive_mkdir_rel_2: Making: {} in cwd {}\", path2.display(),\n            cwd.display());\n-    fs::mkdir_recursive(&path2, io::UserRWX);\n+    fs::mkdir_recursive(&path2, io::USER_RWX);\n     assert!(path2.is_dir());\n     assert!(path2.dir_path().is_dir());\n }\n \n // Ideally this would be in core, but needs TempFile\n pub fn test_rmdir_recursive_ok() {\n-    let rwx = io::UserRWX;\n+    let rwx = io::USER_RWX;\n \n     let tmpdir = TempDir::new(\"test\").ok().expect(\"test_rmdir_recursive_ok: \\\n                                                    couldn't create temp dir\");"}]}