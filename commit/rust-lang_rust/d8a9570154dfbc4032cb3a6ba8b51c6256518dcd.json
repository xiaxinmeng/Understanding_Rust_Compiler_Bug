{"sha": "d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4YTk1NzAxNTRkZmJjNDAzMmNiM2E2YmE4YjUxYzYyNTY1MThkY2Q=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-10T11:38:04Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-10T11:38:04Z"}, "message": "Auto merge of #26141 - eddyb:ast_map, r=nikomatsakis\n\nGets libsyntax one step closer to running on stable (see #24518).\r\nCloses #24757, erickt's previous attempt at this.", "tree": {"sha": "20ee282f8ddc9dbb87ae734fd7ca086d7baa11d0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/20ee282f8ddc9dbb87ae734fd7ca086d7baa11d0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "html_url": "https://github.com/rust-lang/rust/commit/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8025bc964c0f31726636811d97f9f46cd0d4c40f", "url": "https://api.github.com/repos/rust-lang/rust/commits/8025bc964c0f31726636811d97f9f46cd0d4c40f", "html_url": "https://github.com/rust-lang/rust/commit/8025bc964c0f31726636811d97f9f46cd0d4c40f"}, {"sha": "76eaed44d9a4556bbbd603200d805175c8ebf18e", "url": "https://api.github.com/repos/rust-lang/rust/commits/76eaed44d9a4556bbbd603200d805175c8ebf18e", "html_url": "https://github.com/rust-lang/rust/commit/76eaed44d9a4556bbbd603200d805175c8ebf18e"}], "stats": {"total": 138, "additions": 75, "deletions": 63}, "files": [{"sha": "6c9ed29768f330c580ab4e52f5aff1212212d397", "filename": "src/librustc/ast_map/blocks.rs", "status": "renamed", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fast_map%2Fblocks.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fast_map%2Fblocks.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fast_map%2Fblocks.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -23,13 +23,12 @@\n \n pub use self::Code::*;\n \n-use abi;\n-use ast::{Block, FnDecl, NodeId};\n-use ast;\n-use ast_map::Node;\n-use ast_map;\n-use codemap::Span;\n-use visit;\n+use ast_map::{self, Node};\n+use syntax::abi;\n+use syntax::ast::{Block, FnDecl, NodeId};\n+use syntax::ast;\n+use syntax::codemap::Span;\n+use syntax::visit;\n \n /// An FnLikeNode is a Node that is like a fn, in that it has a decl\n /// and a body (as well as a NodeId, a span, etc).", "previous_filename": "src/libsyntax/ast_map/blocks.rs"}, {"sha": "94b740da608bf85ef7884e2dcd563ca1239ac712", "filename": "src/librustc/ast_map/mod.rs", "status": "renamed", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fast_map%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fast_map%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fast_map%2Fmod.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -12,14 +12,14 @@ pub use self::Node::*;\n pub use self::PathElem::*;\n use self::MapEntry::*;\n \n-use abi;\n-use ast::*;\n-use ast_util;\n-use codemap::{DUMMY_SP, Span, Spanned};\n-use fold::Folder;\n-use parse::token;\n-use print::pprust;\n-use visit::{self, Visitor};\n+use syntax::abi;\n+use syntax::ast::*;\n+use syntax::ast_util;\n+use syntax::codemap::{DUMMY_SP, Span, Spanned};\n+use syntax::fold::Folder;\n+use syntax::parse::token;\n+use syntax::print::pprust;\n+use syntax::visit::{self, Visitor};\n \n use arena::TypedArena;\n use std::cell::RefCell;", "previous_filename": "src/libsyntax/ast_map/mod.rs"}, {"sha": "8b46e2fe2e9c1fba823103f2230bf1a2f49b659f", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -92,6 +92,8 @@ pub mod back {\n     pub use rustc_back::x86_64;\n }\n \n+pub mod ast_map;\n+\n pub mod middle {\n     pub mod astconv_util;\n     pub mod astencode;"}, {"sha": "4e0cf7b0e4cd4e4cdadf5a8cfb495feff188cd74", "filename": "src/librustc/metadata/csearch.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmetadata%2Fcsearch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmetadata%2Fcsearch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fcsearch.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -10,6 +10,7 @@\n \n // Searching for information from the cstore\n \n+use ast_map;\n use metadata::common::*;\n use metadata::cstore;\n use metadata::decoder;\n@@ -20,7 +21,6 @@ use rbml;\n use rbml::reader;\n use std::rc::Rc;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::attr;\n use syntax::attr::AttrMetaMethods;\n use syntax::diagnostic::expect;"}, {"sha": "195d993d14b63737bd2e48bcdd095bbd7906b206", "filename": "src/librustc/metadata/decoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fdecoder.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -15,6 +15,7 @@\n pub use self::DefLike::*;\n use self::Family::*;\n \n+use ast_map;\n use back::svh::Svh;\n use metadata::cstore::crate_metadata;\n use metadata::common::*;\n@@ -44,7 +45,6 @@ use std::str;\n use rbml::reader;\n use rbml;\n use serialize::Decodable;\n-use syntax::ast_map;\n use syntax::attr;\n use syntax::parse::token::{IdentInterner, special_idents};\n use syntax::parse::token;"}, {"sha": "9d213c8cfe8b3ea94d7d97a5735fb005ddf34707", "filename": "src/librustc/metadata/encoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmetadata%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmetadata%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fencoder.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -15,6 +15,7 @@\n \n pub use self::InlinedItemRef::*;\n \n+use ast_map::{self, LinkedPath, PathElem, PathElems};\n use back::svh::Svh;\n use session::config;\n use metadata::common::*;\n@@ -34,7 +35,6 @@ use std::io::prelude::*;\n use std::io::{Cursor, SeekFrom};\n use syntax::abi;\n use syntax::ast::{self, DefId, NodeId};\n-use syntax::ast_map::{self, LinkedPath, PathElem, PathElems};\n use syntax::ast_util::*;\n use syntax::ast_util;\n use syntax::attr;"}, {"sha": "d96ea12bcef4e7105873c625174c045354149cd8", "filename": "src/librustc/middle/astencode.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fastencode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fastencode.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -12,6 +12,7 @@\n // FIXME: remove this after snapshot, and Results are handled\n #![allow(unused_must_use)]\n \n+use ast_map;\n use metadata::common as c;\n use metadata::cstore as cstore;\n use session::Session;\n@@ -32,7 +33,7 @@ use middle::subst::VecPerParamSpace;\n use middle::ty::{self, Ty, MethodCall, MethodCallee, MethodOrigin};\n use util::ppaux::ty_to_string;\n \n-use syntax::{ast, ast_map, ast_util, codemap, fold};\n+use syntax::{ast, ast_util, codemap, fold};\n use syntax::codemap::Span;\n use syntax::fold::Folder;\n use syntax::parse::token;"}, {"sha": "76050671cc4c503d2e2313fbfb3379842d8a2fa3", "filename": "src/librustc/middle/cfg/graphviz.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fcfg%2Fgraphviz.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fcfg%2Fgraphviz.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fcfg%2Fgraphviz.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -17,8 +17,8 @@ use std::borrow::IntoCow;\n use graphviz as dot;\n \n use syntax::ast;\n-use syntax::ast_map;\n \n+use ast_map;\n use middle::cfg;\n \n pub type Node<'a> = (cfg::CFGIndex, &'a cfg::CFGNode);"}, {"sha": "41beabc9588d2cb91073af6f66b50b01e857e5c6", "filename": "src/librustc/middle/check_static_recursion.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fcheck_static_recursion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fcheck_static_recursion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fcheck_static_recursion.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -11,11 +11,11 @@\n // This compiler pass detects static items that refer to themselves\n // recursively.\n \n+use ast_map;\n use session::Session;\n use middle::def::{DefStatic, DefConst, DefAssociatedConst, DefMap};\n \n-use syntax::ast;\n-use syntax::{ast_util, ast_map};\n+use syntax::{ast, ast_util};\n use syntax::codemap::Span;\n use syntax::visit::Visitor;\n use syntax::visit;"}, {"sha": "e35a71be123a552126f96280a189d8037d815279", "filename": "src/librustc/middle/const_eval.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fconst_eval.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -15,6 +15,8 @@ pub use self::const_val::*;\n \n use self::ErrKind::*;\n \n+use ast_map;\n+use ast_map::blocks::FnLikeNode;\n use metadata::csearch;\n use middle::{astencode, def, infer, subst, traits};\n use middle::pat_util::def_to_path;\n@@ -24,13 +26,12 @@ use util::num::ToPrimitive;\n use util::ppaux::Repr;\n \n use syntax::ast::{self, Expr};\n-use syntax::ast_map::blocks::FnLikeNode;\n use syntax::ast_util;\n use syntax::codemap::Span;\n use syntax::feature_gate;\n use syntax::parse::token::InternedString;\n use syntax::ptr::P;\n-use syntax::{ast_map, codemap, visit};\n+use syntax::{codemap, visit};\n \n use std::borrow::{Cow, IntoCow};\n use std::num::wrapping::OverflowingOps;"}, {"sha": "c06de29450b34828f9c56aff5e94906f0aae0020", "filename": "src/librustc/middle/dead.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fdead.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fdead.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fdead.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -12,12 +12,13 @@\n // closely. The idea is that all reachable symbols are live, codes called\n // from live codes are live, and everything else is dead.\n \n+use ast_map;\n use middle::{def, pat_util, privacy, ty};\n use lint;\n use util::nodemap::NodeSet;\n \n use std::collections::HashSet;\n-use syntax::{ast, ast_map, codemap};\n+use syntax::{ast, codemap};\n use syntax::ast_util::{local_def, is_local};\n use syntax::attr::{self, AttrMetaMethods};\n use syntax::visit::{self, Visitor};"}, {"sha": "c6e5b654f9a5c6ba05de3680c4395d3929a9c171", "filename": "src/librustc/middle/entry.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fentry.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fentry.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fentry.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -9,9 +9,9 @@\n // except according to those terms.\n \n \n+use ast_map;\n use session::{config, Session};\n use syntax::ast::{Name, NodeId, Item, ItemFn};\n-use syntax::ast_map;\n use syntax::attr;\n use syntax::codemap::Span;\n use syntax::parse::token;"}, {"sha": "37cc5d342998eb7b62f651649032e80da85d12af", "filename": "src/librustc/middle/infer/error_reporting.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -72,6 +72,7 @@ use super::region_inference::ProcessedErrors;\n use super::region_inference::SameRegions;\n \n use std::collections::HashSet;\n+use ast_map;\n use middle::def;\n use middle::infer;\n use middle::subst;\n@@ -81,7 +82,6 @@ use std::cell::{Cell, RefCell};\n use std::char::from_u32;\n use std::string::String;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::ast_util::name_to_dummy_lifetime;\n use syntax::owned_slice::OwnedSlice;\n use syntax::codemap;"}, {"sha": "d05954c44d5e40d3cf9db4c847cbb41bee767ef7", "filename": "src/librustc/middle/intrinsicck.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fintrinsicck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fintrinsicck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fintrinsicck.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use ast_map::NodeForeignItem;\n use metadata::csearch;\n use middle::def::DefFn;\n use middle::subst::{Subst, Substs, EnumeratedItems};\n@@ -18,7 +19,6 @@ use util::ppaux::Repr;\n use syntax::abi::RustIntrinsic;\n use syntax::ast::DefId;\n use syntax::ast;\n-use syntax::ast_map::NodeForeignItem;\n use syntax::codemap::Span;\n use syntax::parse::token;\n use syntax::visit::Visitor;"}, {"sha": "5c6e955992d962630ac30b8bda863dca6e90bb50", "filename": "src/librustc/middle/mem_categorization.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fmem_categorization.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fmem_categorization.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fmem_categorization.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -73,6 +73,7 @@ pub use self::categorization::*;\n \n use self::Aliasability::*;\n \n+use ast_map;\n use middle::check_const;\n use middle::def;\n use middle::region;\n@@ -82,7 +83,6 @@ use util::ppaux::{Repr, UserString};\n \n use syntax::ast::{MutImmutable, MutMutable};\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::codemap::Span;\n use syntax::print::pprust;\n use syntax::parse::token;"}, {"sha": "378b3c411280337669750ebf9699857c885a5b6a", "filename": "src/librustc/middle/reachable.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Freachable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Freachable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Freachable.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -15,6 +15,7 @@\n // makes all other generics or inline functions that it references\n // reachable as well.\n \n+use ast_map;\n use middle::def;\n use middle::ty;\n use middle::privacy;\n@@ -24,7 +25,6 @@ use util::nodemap::NodeSet;\n use std::collections::HashSet;\n use syntax::abi;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::ast_util::is_local;\n use syntax::attr;\n use syntax::visit::Visitor;"}, {"sha": "2a033d36a4777968fa568f166be7ac46da2b7c9b", "filename": "src/librustc/middle/region.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fregion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fregion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fregion.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -16,6 +16,7 @@\n //! Most of the documentation on regions can be found in\n //! `middle/typeck/infer/region_inference.rs`\n \n+use ast_map;\n use session::Session;\n use middle::ty::{self, Ty};\n use util::nodemap::{FnvHashMap, FnvHashSet, NodeMap};\n@@ -25,7 +26,6 @@ use syntax::codemap::{self, Span};\n use syntax::{ast, visit};\n use syntax::ast::{Block, Item, FnDecl, NodeId, Arm, Pat, Stmt, Expr, Local};\n use syntax::ast_util::stmt_id;\n-use syntax::ast_map;\n use syntax::ptr::P;\n use syntax::visit::{Visitor, FnKind};\n "}, {"sha": "61568936bf89aabfb74601bb598b1d996a87290e", "filename": "src/librustc/middle/ty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fty.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -35,6 +35,7 @@ pub use self::IntVarValue::*;\n pub use self::MethodOrigin::*;\n pub use self::CopyImplementationError::*;\n \n+use ast_map::{self, LinkedPath};\n use back::svh::Svh;\n use session::Session;\n use lint;\n@@ -91,7 +92,6 @@ use syntax::parse::token::{self, InternedString, special_idents};\n use syntax::print::pprust;\n use syntax::ptr::P;\n use syntax::ast;\n-use syntax::ast_map::{self, LinkedPath};\n \n pub type Disr = u64;\n "}, {"sha": "7e6dd3616a883c0cce8f29a1c40f1a9c0d36e800", "filename": "src/librustc/util/ppaux.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Futil%2Fppaux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc%2Futil%2Fppaux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Futil%2Fppaux.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n \n+use ast_map;\n use middle::def;\n use middle::region;\n use middle::subst::{VecPerParamSpace,Subst};\n@@ -31,7 +32,6 @@ use std::collections::hash_state::HashState;\n use std::hash::Hash;\n use std::rc::Rc;\n use syntax::abi;\n-use syntax::ast_map;\n use syntax::codemap::{Span, Pos};\n use syntax::parse::token;\n use syntax::print::pprust;"}, {"sha": "d704617161689f8acadd8b7be8f006bffb52064c", "filename": "src/librustc_borrowck/borrowck/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -20,6 +20,8 @@ pub use self::MovedValueUseKind::*;\n \n use self::InteriorKind::*;\n \n+use rustc::ast_map;\n+use rustc::ast_map::blocks::{FnLikeNode, FnParts};\n use rustc::middle::cfg;\n use rustc::middle::dataflow::DataFlowContext;\n use rustc::middle::dataflow::BitwiseOperator;\n@@ -35,8 +37,6 @@ use std::mem;\n use std::rc::Rc;\n use std::string::String;\n use syntax::ast;\n-use syntax::ast_map;\n-use syntax::ast_map::blocks::{FnLikeNode, FnParts};\n use syntax::ast_util;\n use syntax::codemap::Span;\n use syntax::parse::token;"}, {"sha": "aa57a280157f7a268f4e6a024f66b154dcbfbf9b", "filename": "src/librustc_driver/driver.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_driver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_driver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Fdriver.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -11,6 +11,7 @@\n use rustc::session::Session;\n use rustc::session::config::{self, Input, OutputFilenames};\n use rustc::session::search_paths::PathKind;\n+use rustc::ast_map;\n use rustc::lint;\n use rustc::metadata;\n use rustc::metadata::creader::CrateReader;\n@@ -37,7 +38,6 @@ use std::fs;\n use std::io::{self, Write};\n use std::path::{Path, PathBuf};\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::attr;\n use syntax::attr::AttrMetaMethods;\n use syntax::diagnostics;"}, {"sha": "c98052825e1dd5811726c1ef0691f8de9a891bc0", "filename": "src/librustc_driver/pretty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_driver%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_driver%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Fpretty.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -19,6 +19,7 @@ use rustc_trans::back::link;\n \n use driver;\n \n+use rustc::ast_map::{self, blocks, NodePrinter};\n use rustc::middle::ty;\n use rustc::middle::cfg;\n use rustc::middle::cfg::graphviz::LabelledCFG;\n@@ -30,7 +31,6 @@ use rustc_borrowck::graphviz as borrowck_dot;\n use rustc_resolve as resolve;\n \n use syntax::ast;\n-use syntax::ast_map::{self, blocks, NodePrinter};\n use syntax::codemap;\n use syntax::fold::{self, Folder};\n use syntax::print::{pp, pprust};"}, {"sha": "fd7f549a879b1aeaa39596c28278be85cab83d6d", "filename": "src/librustc_driver/test.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_driver%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_driver%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Ftest.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -29,8 +29,9 @@ use rustc_typeck::middle::infer::lub::Lub;\n use rustc_typeck::middle::infer::glb::Glb;\n use rustc_typeck::middle::infer::sub::Sub;\n use rustc_typeck::util::ppaux::{ty_to_string, Repr, UserString};\n+use rustc::ast_map;\n use rustc::session::{self,config};\n-use syntax::{abi, ast, ast_map};\n+use syntax::{abi, ast};\n use syntax::codemap;\n use syntax::codemap::{Span, CodeMap, DUMMY_SP};\n use syntax::diagnostic::{Level, RenderSpan, Bug, Fatal, Error, Warning, Note, Help};"}, {"sha": "7b78ab44454def320b1dfe14afa55f8e9f0639b8", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -35,6 +35,7 @@ use middle::ty::{self, Ty};\n use middle::{def, pat_util, stability};\n use middle::const_eval::{eval_const_expr_partial, const_int, const_uint};\n use middle::cfg;\n+use rustc::ast_map;\n use util::ppaux::ty_to_string;\n use util::nodemap::{FnvHashMap, NodeSet};\n use lint::{Level, Context, LintPass, LintArray, Lint};\n@@ -44,7 +45,7 @@ use std::collections::hash_map::Entry::{Occupied, Vacant};\n use std::{cmp, slice};\n use std::{i8, i16, i32, i64, u8, u16, u32, u64, f32, f64};\n \n-use syntax::{abi, ast, ast_map};\n+use syntax::{abi, ast};\n use syntax::ast_util::{self, is_shift_binop, local_def};\n use syntax::attr::{self, AttrMetaMethods};\n use syntax::codemap::{self, Span};"}, {"sha": "67bc4a8a7f3f33cdad0460b2cbab60e8dada1ea7", "filename": "src/librustc_privacy/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_privacy%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_privacy%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2Flib.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -33,6 +33,7 @@ use self::FieldName::*;\n \n use std::mem::replace;\n \n+use rustc::ast_map;\n use rustc::metadata::csearch;\n use rustc::middle::def;\n use rustc::middle::privacy::ImportUse::*;\n@@ -46,7 +47,7 @@ use rustc::middle::ty::MethodTraitObject;\n use rustc::middle::ty::{self, Ty};\n use rustc::util::nodemap::{NodeMap, NodeSet};\n \n-use syntax::{ast, ast_map};\n+use syntax::ast;\n use syntax::ast_util::{is_local, local_def};\n use syntax::codemap::Span;\n use syntax::parse::token;"}, {"sha": "d55024aefb1db9bc525650d600b4462d6052280f", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -49,6 +49,7 @@ use self::ParentLink::*;\n use self::ModuleKind::*;\n use self::FallbackChecks::*;\n \n+use rustc::ast_map;\n use rustc::session::Session;\n use rustc::lint;\n use rustc::metadata::csearch;\n@@ -80,7 +81,6 @@ use syntax::ast::{TyPath, TyPtr};\n use syntax::ast::{TyRptr, TyStr, TyUs, TyU8, TyU16, TyU32, TyU64, TyUint};\n use syntax::ast::TypeImplItem;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::ast_util::{local_def, walk_pat};\n use syntax::attr::AttrMetaMethods;\n use syntax::ext::mtwt;"}, {"sha": "5ab7895940f8071da05dd8097d660812d6c0e4b9", "filename": "src/librustc_trans/back/link.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fback%2Flink.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -21,8 +21,9 @@ use session::Session;\n use metadata::common::LinkMeta;\n use metadata::{encoder, cstore, filesearch, csearch, creader};\n use metadata::filesearch::FileDoesntMatch;\n-use trans::{CrateContext, CrateTranslation, gensym_name};\n use middle::ty::{self, Ty};\n+use rustc::ast_map::{PathElem, PathElems, PathName};\n+use trans::{CrateContext, CrateTranslation, gensym_name};\n use util::common::time;\n use util::ppaux;\n use util::sha2::{Digest, Sha256};\n@@ -38,7 +39,6 @@ use std::str;\n use flate;\n use serialize::hex::ToHex;\n use syntax::ast;\n-use syntax::ast_map::{PathElem, PathElems, PathName};\n use syntax::attr::AttrMetaMethods;\n use syntax::codemap::Span;\n use syntax::parse::token;"}, {"sha": "f36f35acbd43c285b1e577f669351cfa568805a4", "filename": "src/librustc_trans/save/dump_csv.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Fsave%2Fdump_csv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Fsave%2Fdump_csv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fsave%2Fdump_csv.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -34,14 +34,14 @@ use session::Session;\n \n use middle::def;\n use middle::ty::{self, Ty};\n+use rustc::ast_map::NodeItem;\n \n use std::cell::Cell;\n use std::fs::File;\n use std::path::Path;\n \n use syntax::ast_util;\n use syntax::ast::{self, NodeId, DefId};\n-use syntax::ast_map::NodeItem;\n use syntax::codemap::*;\n use syntax::parse::token::{self, get_ident, keywords};\n use syntax::owned_slice::OwnedSlice;"}, {"sha": "ddb6b9f70678d7e1f251ce224d7e0b9fd0d3e31c", "filename": "src/librustc_trans/trans/base.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fbase.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -41,6 +41,7 @@ use middle::lang_items::{LangItem, ExchangeMallocFnLangItem, StartFnLangItem};\n use middle::weak_lang_items;\n use middle::subst::Substs;\n use middle::ty::{self, Ty, ClosureTyper, type_is_simd, simd_size};\n+use rustc::ast_map;\n use session::config::{self, NoDebugInfo};\n use session::Session;\n use trans::_match;\n@@ -99,7 +100,7 @@ use syntax::codemap::Span;\n use syntax::parse::token::InternedString;\n use syntax::visit::Visitor;\n use syntax::visit;\n-use syntax::{ast, ast_util, ast_map};\n+use syntax::{ast, ast_util};\n \n thread_local! {\n     static TASK_LOCAL_INSN_KEY: RefCell<Option<Vec<&'static str>>> = {"}, {"sha": "e619ce2f2621a8e8c6518266cf424052014adc8b", "filename": "src/librustc_trans/trans/callee.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fcallee.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fcallee.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fcallee.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -53,12 +53,12 @@ use trans::type_::Type;\n use trans::type_of;\n use middle::ty::{self, Ty};\n use middle::ty::MethodCall;\n+use rustc::ast_map;\n use util::ppaux::Repr;\n use util::ppaux::ty_to_string;\n \n use syntax::abi as synabi;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::ptr::P;\n \n #[derive(Copy, Clone)]"}, {"sha": "021321cacafdd2f0ab1a64f784c444379970de82", "filename": "src/librustc_trans/trans/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fcommon.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -40,6 +40,7 @@ use middle::traits;\n use middle::ty::{self, HasProjectionTypes, Ty};\n use middle::ty_fold;\n use middle::ty_fold::{TypeFolder, TypeFoldable};\n+use rustc::ast_map::{PathElem, PathName};\n use util::ppaux::Repr;\n use util::nodemap::{FnvHashMap, NodeMap};\n \n@@ -50,7 +51,6 @@ use std::cell::{Cell, RefCell};\n use std::result::Result as StdResult;\n use std::vec::Vec;\n use syntax::ast;\n-use syntax::ast_map::{PathElem, PathName};\n use syntax::codemap::{DUMMY_SP, Span};\n use syntax::parse::token::InternedString;\n use syntax::parse::token;"}, {"sha": "5117cda1f6bf4f088e72968726c33dbdb20cfd07", "filename": "src/librustc_trans/trans/debuginfo/metadata.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fmetadata.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -26,6 +26,7 @@ use llvm::debuginfo::{DIType, DIFile, DIScope, DIDescriptor, DICompositeType};\n use metadata::csearch;\n use middle::pat_util;\n use middle::subst::{self, Substs};\n+use rustc::ast_map;\n use trans::{type_of, adt, machine, monomorphize};\n use trans::common::{self, CrateContext, FunctionContext, NormalizingClosureTyper, Block};\n use trans::_match::{BindingInfo, TrByCopy, TrByMove, TrByRef};\n@@ -43,7 +44,7 @@ use std::ptr;\n use std::rc::Rc;\n use syntax::util::interner::Interner;\n use syntax::codemap::Span;\n-use syntax::{ast, codemap, ast_util, ast_map};\n+use syntax::{ast, codemap, ast_util};\n use syntax::parse::token::{self, special_idents};\n \n "}, {"sha": "7210c35e0e0fe065d08ca5e601c6451d65b9853c", "filename": "src/librustc_trans/trans/debuginfo/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fmod.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -26,6 +26,7 @@ use llvm::{ModuleRef, ContextRef, ValueRef};\n use llvm::debuginfo::{DIFile, DIType, DIScope, DIBuilderRef, DISubprogram, DIArray,\n                       DIDescriptor, FlagPrototyped};\n use middle::subst::{self, Substs};\n+use rustc::ast_map;\n use trans::common::{NodeIdAndSpan, CrateContext, FunctionContext, Block};\n use trans;\n use trans::monomorphize;\n@@ -39,7 +40,7 @@ use std::ffi::CString;\n use std::ptr;\n use std::rc::Rc;\n use syntax::codemap::{Span, Pos};\n-use syntax::{ast, codemap, ast_util, ast_map};\n+use syntax::{ast, codemap, ast_util};\n use syntax::parse::token::{self, special_idents};\n \n pub mod gdb;"}, {"sha": "e6fe674f22057f521688d75fba1195092d6e8742", "filename": "src/librustc_trans/trans/debuginfo/namespace.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fnamespace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fnamespace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fdebuginfo%2Fnamespace.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -14,13 +14,14 @@ use super::utils::{DIB, debug_context};\n \n use llvm;\n use llvm::debuginfo::DIScope;\n+use rustc::ast_map;\n use trans::common::CrateContext;\n use middle::ty::{self, ClosureTyper};\n \n use std::ffi::CString;\n use std::ptr;\n use std::rc::{Rc, Weak};\n-use syntax::{ast, ast_map};\n+use syntax::ast;\n use syntax::parse::token;\n \n pub struct NamespaceTreeNode {"}, {"sha": "583beb19ff710b7d6089ba0549c12775ed44fd9d", "filename": "src/librustc_trans/trans/foreign.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fforeign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fforeign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fforeign.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -13,6 +13,7 @@ use back::link;\n use llvm::{ValueRef, CallConv, get_param};\n use llvm;\n use middle::weak_lang_items;\n+use rustc::ast_map;\n use trans::attributes;\n use trans::base::{llvm_linkage_by_name, push_ctxt};\n use trans::base;\n@@ -37,7 +38,7 @@ use syntax::codemap::Span;\n use syntax::parse::token::{InternedString, special_idents};\n use syntax::parse::token;\n use syntax::ast;\n-use syntax::{attr, ast_map};\n+use syntax::attr;\n use syntax::print::pprust;\n use util::ppaux::Repr;\n "}, {"sha": "1934b72eca3c216fd3f31ab980171161a9d72d91", "filename": "src/librustc_trans/trans/meth.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fmeth.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fmeth.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fmeth.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -18,6 +18,7 @@ use middle::subst::VecPerParamSpace;\n use middle::subst;\n use middle::traits;\n use middle::ty::ClosureTyper;\n+use rustc::ast_map;\n use trans::base::*;\n use trans::build::*;\n use trans::callee::*;\n@@ -42,7 +43,7 @@ use util::ppaux::Repr;\n \n use syntax::abi::{Rust, RustCall};\n use syntax::parse::token;\n-use syntax::{ast, ast_map, attr, visit};\n+use syntax::{ast, attr, visit};\n use syntax::codemap::DUMMY_SP;\n use syntax::ptr::P;\n "}, {"sha": "b736ec3ccf4add1ec127901b0bb56c2029ce2d37", "filename": "src/librustc_trans/trans/monomorphize.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fmonomorphize.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_trans%2Ftrans%2Fmonomorphize.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fmonomorphize.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -17,6 +17,7 @@ use middle::subst;\n use middle::subst::{Subst, Substs};\n use middle::traits;\n use middle::ty_fold::{TypeFolder, TypeFoldable};\n+use rustc::ast_map;\n use trans::attributes;\n use trans::base::{trans_enum_variant, push_ctxt, get_item_val};\n use trans::base::trans_fn;\n@@ -29,7 +30,6 @@ use util::ppaux::Repr;\n \n use syntax::abi;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::ast_util::local_def;\n use syntax::attr;\n use syntax::codemap::DUMMY_SP;"}, {"sha": "083039a468a2454b525bd6ef8ab4fd97e884dd19", "filename": "src/librustc_typeck/coherence/mod.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Fcoherence%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Fcoherence%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Fmod.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -32,14 +32,13 @@ use middle::ty;\n use middle::free_region::FreeRegionMap;\n use CrateCtxt;\n use middle::infer::{self, InferCtxt, new_infer_ctxt};\n+use rustc::ast_map::{self, NodeItem};\n use std::cell::RefCell;\n use std::rc::Rc;\n use syntax::ast::{Crate, DefId};\n use syntax::ast::{Item, ItemImpl};\n use syntax::ast::{LOCAL_CRATE};\n use syntax::ast;\n-use syntax::ast_map::NodeItem;\n-use syntax::ast_map;\n use syntax::ast_util::local_def;\n use syntax::codemap::Span;\n use syntax::parse::token;"}, {"sha": "610c429b1fb1b4910833ddf400ec93cdbd414bf9", "filename": "src/librustc_typeck/collect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcollect.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -77,6 +77,7 @@ use middle::ty::{self, RegionEscape, ToPolyTraitRef, Ty, TypeScheme};\n use middle::ty_fold::{self, TypeFolder, TypeFoldable};\n use middle::infer;\n use rscope::*;\n+use rustc::ast_map;\n use util::common::{ErrorReported, memoized};\n use util::nodemap::{FnvHashMap, FnvHashSet};\n use util::ppaux;\n@@ -89,7 +90,6 @@ use std::rc::Rc;\n \n use syntax::abi;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::ast_util::local_def;\n use syntax::codemap::Span;\n use syntax::parse::token::special_idents;"}, {"sha": "8d7ecca5ddd37d61da9d0f099af5dc456c742292", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -101,14 +101,15 @@ use middle::def;\n use middle::infer;\n use middle::subst;\n use middle::ty::{self, Ty};\n+use rustc::ast_map;\n use session::config;\n use util::common::time;\n use util::ppaux::Repr;\n use util::ppaux;\n \n use syntax::codemap::Span;\n use syntax::print::pprust::*;\n-use syntax::{ast, ast_map, abi};\n+use syntax::{ast, abi};\n use syntax::ast_util::local_def;\n \n use std::cell::RefCell;"}, {"sha": "75f8f7aa81ea6f798b3af6347a3ac83b436e9f70", "filename": "src/librustc_typeck/variance.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Fvariance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustc_typeck%2Fvariance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fvariance.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -270,10 +270,10 @@ use middle::resolve_lifetime as rl;\n use middle::subst;\n use middle::subst::{ParamSpace, FnSpace, TypeSpace, SelfSpace, VecPerParamSpace};\n use middle::ty::{self, Ty};\n+use rustc::ast_map;\n use std::fmt;\n use std::rc::Rc;\n use syntax::ast;\n-use syntax::ast_map;\n use syntax::ast_util;\n use syntax::visit;\n use syntax::visit::Visitor;"}, {"sha": "3183307250cf42ca2ad1f8b7c8f643823fd98979", "filename": "src/librustdoc/core.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustdoc%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustdoc%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fcore.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -14,11 +14,12 @@ use rustc_driver::driver;\n use rustc::session::{self, config};\n use rustc::session::config::UnstableFeatures;\n use rustc::middle::{privacy, ty};\n+use rustc::ast_map;\n use rustc::lint;\n use rustc_trans::back::link;\n use rustc_resolve as resolve;\n \n-use syntax::{ast, ast_map, codemap, diagnostic};\n+use syntax::{ast, codemap, diagnostic};\n \n use std::cell::{RefCell, Cell};\n use std::collections::{HashMap, HashSet};"}, {"sha": "ff058fa908d6e356fd9a77cd312c2d45a240f95b", "filename": "src/librustdoc/visit_ast.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustdoc%2Fvisit_ast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibrustdoc%2Fvisit_ast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fvisit_ast.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -17,11 +17,11 @@ use std::mem;\n use syntax::abi;\n use syntax::ast;\n use syntax::ast_util;\n-use syntax::ast_map;\n use syntax::attr;\n use syntax::attr::AttrMetaMethods;\n use syntax::codemap::Span;\n \n+use rustc::ast_map;\n use rustc::middle::stability;\n \n use core;"}, {"sha": "11c4b0f12610a4f3a7984484863cbb91f438b0ff", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -35,7 +35,6 @@\n #![feature(str_char)]\n #![feature(unicode)]\n \n-extern crate arena;\n extern crate fmt_macros;\n extern crate serialize;\n extern crate term;\n@@ -82,7 +81,6 @@ pub mod syntax {\n \n pub mod abi;\n pub mod ast;\n-pub mod ast_map;\n pub mod ast_util;\n pub mod attr;\n pub mod codemap;"}, {"sha": "5c15a56c6efba736455946baaa4f9e943d530699", "filename": "src/test/run-make/execution-engine/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Ftest%2Frun-make%2Fexecution-engine%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a9570154dfbc4032cb3a6ba8b51c6256518dcd/src%2Ftest%2Frun-make%2Fexecution-engine%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fexecution-engine%2Ftest.rs?ref=d8a9570154dfbc4032cb3a6ba8b51c6256518dcd", "patch": "@@ -21,6 +21,7 @@ use std::mem::transmute;\n use std::path::PathBuf;\n use std::thread::Builder;\n \n+use rustc::ast_map;\n use rustc::llvm;\n use rustc::metadata::cstore::RequireDynamic;\n use rustc::middle::ty;\n@@ -29,7 +30,6 @@ use rustc::session::build_session;\n use rustc_driver::driver;\n use rustc_resolve::MakeGlobMap;\n \n-use syntax::ast_map;\n use syntax::diagnostics::registry::Registry;\n \n fn main() {"}]}