{"sha": "70ffebf5f0e5edca866c624212f08e9f11d41e17", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwZmZlYmY1ZjBlNWVkY2E4NjZjNjI0MjEyZjA4ZTlmMTFkNDFlMTc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-20T09:58:55Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-20T09:58:55Z"}, "message": "Auto merge of #6347 - flip1995:changelog, r=Manishearth\n\nChangelog Rust 1.48\n\n[Rendered](https://github.com/flip1995/rust-clippy/blob/changelog/CHANGELOG.md)\n\nThis changelog is **big**. Hacktoberfest was pretty good for us, even though we had too few reviewers.\n\nchangelog: none", "tree": {"sha": "a75ac256fb0260cb3f816f5e2ad1306f70ba2de4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a75ac256fb0260cb3f816f5e2ad1306f70ba2de4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70ffebf5f0e5edca866c624212f08e9f11d41e17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70ffebf5f0e5edca866c624212f08e9f11d41e17", "html_url": "https://github.com/rust-lang/rust/commit/70ffebf5f0e5edca866c624212f08e9f11d41e17", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70ffebf5f0e5edca866c624212f08e9f11d41e17/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8325d48d2de179490eba9e682ffaaea375d2e1c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/8325d48d2de179490eba9e682ffaaea375d2e1c9", "html_url": "https://github.com/rust-lang/rust/commit/8325d48d2de179490eba9e682ffaaea375d2e1c9"}, {"sha": "e9afdf074090d24f18ecc9d7bb3b20861615794a", "url": "https://api.github.com/repos/rust-lang/rust/commits/e9afdf074090d24f18ecc9d7bb3b20861615794a", "html_url": "https://github.com/rust-lang/rust/commit/e9afdf074090d24f18ecc9d7bb3b20861615794a"}], "stats": {"total": 145, "additions": 134, "deletions": 11}, "files": [{"sha": "b9e4b0e67040cc89a6b4c9d84b76c67e28737648", "filename": "CHANGELOG.md", "status": "modified", "additions": 115, "deletions": 9, "changes": 124, "blob_url": "https://github.com/rust-lang/rust/blob/70ffebf5f0e5edca866c624212f08e9f11d41e17/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/70ffebf5f0e5edca866c624212f08e9f11d41e17/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=70ffebf5f0e5edca866c624212f08e9f11d41e17", "patch": "@@ -6,11 +6,117 @@ document.\n \n ## Unreleased / In Rust Nightly\n \n-[e636b88...master](https://github.com/rust-lang/rust-clippy/compare/e636b88...master)\n+[b20d4c1...master](https://github.com/rust-lang/rust-clippy/compare/b20d4c1...master)\n+\n+## Rust 1.49\n+\n+Current beta, release 2020-12-31\n+\n+[e636b88...b20d4c1](https://github.com/rust-lang/rust-clippy/compare/e636b88...b20d4c1)\n+\n+### New Lints\n+\n+* [`field_reassign_with_default`] [#5911](https://github.com/rust-lang/rust-clippy/pull/5911)\n+* [`await_holding_refcell_ref`] [#6029](https://github.com/rust-lang/rust-clippy/pull/6029)\n+* [`disallowed_method`] [#6081](https://github.com/rust-lang/rust-clippy/pull/6081)\n+* [`inline_asm_x86_att_syntax`] [#6092](https://github.com/rust-lang/rust-clippy/pull/6092)\n+* [`inline_asm_x86_intel_syntax`] [#6092](https://github.com/rust-lang/rust-clippy/pull/6092)\n+* [`from_iter_instead_of_collect`] [#6101](https://github.com/rust-lang/rust-clippy/pull/6101)\n+* [`mut_mutex_lock`] [#6103](https://github.com/rust-lang/rust-clippy/pull/6103)\n+* [`single_element_loop`] [#6109](https://github.com/rust-lang/rust-clippy/pull/6109)\n+* [`manual_unwrap_or`] [#6123](https://github.com/rust-lang/rust-clippy/pull/6123)\n+* [`large_types_passed_by_value`] [#6135](https://github.com/rust-lang/rust-clippy/pull/6135)\n+* [`result_unit_err`] [#6157](https://github.com/rust-lang/rust-clippy/pull/6157)\n+* [`ref_option_ref`] [#6165](https://github.com/rust-lang/rust-clippy/pull/6165)\n+* [`manual_range_contains`] [#6177](https://github.com/rust-lang/rust-clippy/pull/6177)\n+* [`unusual_byte_groupings`] [#6183](https://github.com/rust-lang/rust-clippy/pull/6183)\n+* [`comparison_to_empty`] [#6226](https://github.com/rust-lang/rust-clippy/pull/6226)\n+* [`map_collect_result_unit`] [#6227](https://github.com/rust-lang/rust-clippy/pull/6227)\n+* [`manual_ok_or`] [#6233](https://github.com/rust-lang/rust-clippy/pull/6233)\n+\n+### Moves and Deprecations\n+\n+* Rename `single_char_push_str` to [`single_char_add_str`]\n+  [#6037](https://github.com/rust-lang/rust-clippy/pull/6037)\n+* Rename `zero_width_space` to [`invisible_characters`]\n+  [#6105](https://github.com/rust-lang/rust-clippy/pull/6105)\n+* Deprecate [`drop_bounds`] (uplifted)\n+  [#6111](https://github.com/rust-lang/rust-clippy/pull/6111)\n+* Move [`string_lit_as_bytes`] to `nursery`\n+  [#6117](https://github.com/rust-lang/rust-clippy/pull/6117)\n+* Move [`rc_buffer`] to `restriction`\n+  [#6128](https://github.com/rust-lang/rust-clippy/pull/6128)\n+\n+### Enhancements\n+\n+* [`manual_memcpy`]: Also lint when there are loop counters (and produce a\n+  reliable suggestion)\n+  [#5727](https://github.com/rust-lang/rust-clippy/pull/5727)\n+* [`single_char_add_str`]: Also lint on `String::insert_str`\n+  [#6037](https://github.com/rust-lang/rust-clippy/pull/6037)\n+* [`invisible_characters`]: Also lint the characters `\\u{AD}` and `\\u{2060}`\n+  [#6105](https://github.com/rust-lang/rust-clippy/pull/6105)\n+* [`eq_op`]: Also lint on the `assert_*!` macro family\n+  [#6167](https://github.com/rust-lang/rust-clippy/pull/6167)\n+* [`items_after_statements`]: Also lint in local macro expansions\n+  [#6176](https://github.com/rust-lang/rust-clippy/pull/6176)\n+* [`unnecessary_cast`]: Also lint casts on integer and float literals\n+  [#6187](https://github.com/rust-lang/rust-clippy/pull/6187)\n+* [`manual_unwrap_or`]: Also lint `Result::unwrap_or`\n+  [#6190](https://github.com/rust-lang/rust-clippy/pull/6190)\n+* [`match_like_matches_macro`]: Also lint when `match` has more than two arms\n+  [#6216](https://github.com/rust-lang/rust-clippy/pull/6216)\n+* [`integer_arithmetic`]: Better handle `/` an `%` operators\n+  [#6229](https://github.com/rust-lang/rust-clippy/pull/6229)\n+\n+### False Positive Fixes\n+\n+* [`needless_lifetimes`]: Bail out if the function has a `where` clause with the\n+  lifetime [#5978](https://github.com/rust-lang/rust-clippy/pull/5978)\n+* [`explicit_counter_loop`]: No longer lints, when loop counter is used after it\n+  is incremented [#6076](https://github.com/rust-lang/rust-clippy/pull/6076)\n+* [`or_fun_call`]: Revert changes addressing the handling of `const fn`\n+  [#6077](https://github.com/rust-lang/rust-clippy/pull/6077)\n+* [`needless_range_loop`]: No longer lints, when the iterable is used in the\n+  range [#6102](https://github.com/rust-lang/rust-clippy/pull/6102)\n+* [`inconsistent_digit_grouping`]: Fix bug when using floating point exponent\n+  [#6104](https://github.com/rust-lang/rust-clippy/pull/6104)\n+* [`mistyped_literal_suffixes`]: No longer lints on the fractional part of a\n+  float (e.g. `713.32_64`)\n+  [#6114](https://github.com/rust-lang/rust-clippy/pull/6114)\n+* [`invalid_regex`]: No longer lint on unicode characters within `bytes::Regex`\n+  [#6132](https://github.com/rust-lang/rust-clippy/pull/6132)\n+* [`boxed_local`]: No longer lints on `extern fn` arguments\n+  [#6133](https://github.com/rust-lang/rust-clippy/pull/6133)\n+* [`needless_lifetimes`]: Fix regression, where lifetime is used in `where`\n+  clause [#6198](https://github.com/rust-lang/rust-clippy/pull/6198)\n+\n+### Suggestion Fixes/Improvements\n+\n+* [`unnecessary_sort_by`]: Avoid dereferencing the suggested closure parameter\n+  [#6078](https://github.com/rust-lang/rust-clippy/pull/6078)\n+* [`needless_arbitrary_self_type`]: Correctly handle expanded code\n+  [#6093](https://github.com/rust-lang/rust-clippy/pull/6093)\n+* [`useless_format`]: Preserve raw strings in suggestion\n+  [#6151](https://github.com/rust-lang/rust-clippy/pull/6151)\n+* [`empty_loop`]: Suggest alternatives\n+  [#6162](https://github.com/rust-lang/rust-clippy/pull/6162)\n+* [`borrowed_box`]: Correctly add parentheses in suggestion\n+  [#6200](https://github.com/rust-lang/rust-clippy/pull/6200)\n+* [`unused_unit`]: Improve suggestion formatting\n+  [#6247](https://github.com/rust-lang/rust-clippy/pull/6247)\n+\n+### Documentation Improvements\n+\n+* Some doc improvements:\n+    * [`rc_buffer`] [#6090](https://github.com/rust-lang/rust-clippy/pull/6090)\n+    * [`empty_loop`] [#6162](https://github.com/rust-lang/rust-clippy/pull/6162)\n+* [`doc_markdown`]: Document problematic link text style\n+  [#6107](https://github.com/rust-lang/rust-clippy/pull/6107)\n \n ## Rust 1.48\n \n-Current beta, release 2020-11-19\n+Current stable, released 2020-11-19\n \n [09bd400...e636b88](https://github.com/rust-lang/rust-clippy/compare/09bd400...e636b88)\n \n@@ -56,15 +162,15 @@ Current beta, release 2020-11-19\n \n * [`useless_attribute`]: permit allowing [`wildcard_imports`] and [`enum_glob_use`]\n   [#5994](https://github.com/rust-lang/rust-clippy/pull/5994)\n-* [`transmute_ptr_to_ptr`]: avoid suggesting dereferencing raw pointers in const contexts \n+* [`transmute_ptr_to_ptr`]: avoid suggesting dereferencing raw pointers in const contexts\n   [#5999](https://github.com/rust-lang/rust-clippy/pull/5999)\n * [`redundant_closure_call`]: take into account usages of the closure in nested functions and closures\n   [#5920](https://github.com/rust-lang/rust-clippy/pull/5920)\n * Fix false positive in [`borrow_interior_mutable_const`] when referencing a field behind a pointer\n   [#5949](https://github.com/rust-lang/rust-clippy/pull/5949)\n * [`doc_markdown`]: allow using \"GraphQL\" without backticks\n   [#5996](https://github.com/rust-lang/rust-clippy/pull/5996)\n-* [`to_string_in_display`]: avoid linting when calling `to_string()` on anything that is not `self` \n+* [`to_string_in_display`]: avoid linting when calling `to_string()` on anything that is not `self`\n   [#5971](https://github.com/rust-lang/rust-clippy/pull/5971)\n * [`indexing_slicing`] and [`out_of_bounds_indexing`] treat references to arrays as arrays\n   [#6034](https://github.com/rust-lang/rust-clippy/pull/6034)\n@@ -85,27 +191,27 @@ Current beta, release 2020-11-19\n   [#5946](https://github.com/rust-lang/rust-clippy/pull/5946)\n * [`useless_conversion`]: show the type in the error message\n   [#6035](https://github.com/rust-lang/rust-clippy/pull/6035)\n-* [`unnecessary_mut_passed`]: discriminate between functions and methods in the error message \n+* [`unnecessary_mut_passed`]: discriminate between functions and methods in the error message\n   [#5892](https://github.com/rust-lang/rust-clippy/pull/5892)\n * [`float_cmp`] and [`float_cmp_const`]: change wording to make margin of error less ambiguous\n   [#6043](https://github.com/rust-lang/rust-clippy/pull/6043)\n * [`default_trait_access`]: do not use unnecessary type parameters in the suggestion\n   [#5993](https://github.com/rust-lang/rust-clippy/pull/5993)\n-* [`collapsible_if`]: don't use expanded code in the suggestion \n+* [`collapsible_if`]: don't use expanded code in the suggestion\n   [#5992](https://github.com/rust-lang/rust-clippy/pull/5992)\n * Do not suggest empty format strings in [`print_with_newline`] and [`write_with_newline`]\n   [#6042](https://github.com/rust-lang/rust-clippy/pull/6042)\n * [`unit_arg`]: improve the readability of the suggestion\n   [#5931](https://github.com/rust-lang/rust-clippy/pull/5931)\n-* [`stable_sort_primitive`]: print the type that is being sorted in the lint message \n+* [`stable_sort_primitive`]: print the type that is being sorted in the lint message\n   [#5935](https://github.com/rust-lang/rust-clippy/pull/5935)\n * Show line count and max lines in [`too_many_lines`] lint message\n   [#6009](https://github.com/rust-lang/rust-clippy/pull/6009)\n * Keep parentheses in the suggestion of [`useless_conversion`] where applicable\n   [#5900](https://github.com/rust-lang/rust-clippy/pull/5900)\n * [`option_map_unit_fn`] and [`result_map_unit_fn`]: print the unit type `()` explicitly\n   [#6024](https://github.com/rust-lang/rust-clippy/pull/6024)\n-* [`redundant_allocation`]: suggest replacing `Rc<Box<T>>` with `Rc<T>` \n+* [`redundant_allocation`]: suggest replacing `Rc<Box<T>>` with `Rc<T>`\n   [#5899](https://github.com/rust-lang/rust-clippy/pull/5899)\n * Make lint messages adhere to rustc dev guide conventions\n   [#5893](https://github.com/rust-lang/rust-clippy/pull/5893)\n@@ -128,7 +234,7 @@ Current beta, release 2020-11-19\n \n ## Rust 1.47\n \n-Current stable, released 2020-10-08\n+Released 2020-10-08\n \n [c2c07fa...09bd400](https://github.com/rust-lang/rust-clippy/compare/c2c07fa...09bd400)\n "}, {"sha": "115848c48044ce19000414b2923ba5f1fc5f3e4e", "filename": "doc/changelog_update.md", "status": "modified", "additions": 19, "deletions": 2, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/70ffebf5f0e5edca866c624212f08e9f11d41e17/doc%2Fchangelog_update.md", "raw_url": "https://github.com/rust-lang/rust/raw/70ffebf5f0e5edca866c624212f08e9f11d41e17/doc%2Fchangelog_update.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Fchangelog_update.md?ref=70ffebf5f0e5edca866c624212f08e9f11d41e17", "patch": "@@ -29,8 +29,11 @@ bullet points might be helpful:\n * When writing the release notes for the **upcoming beta release**, you need to check\n   out the Clippy commit of the current Rust `master`. [Link][rust_master_tools]\n * When writing the (forgotten) release notes for a **past stable release**, you\n-  need to select the Rust release tag from the dropdown and then check the\n-  commit of the Clippy directory:\n+  need to check out the Rust release tag of the stable release.\n+  [Link][rust_stable_tools]\n+\n+Usually you want to wirte the changelog of the **upcoming stable release**. Make\n+sure though, that `beta` was already branched in the Rust repository.\n \n To find the commit hash, issue the following command when in a `rust-lang/rust` checkout:\n ```\n@@ -71,10 +74,24 @@ The order should roughly be:\n 7. Documentation improvements\n 8. Others\n \n+As section headers, we use:\n+\n+```\n+### New Lints\n+### Moves and Deprecations\n+### Enhancements\n+### False Positive Fixes\n+### Suggestion Fixes/Improvements\n+### ICE Fixes\n+### Documentation Improvements\n+### Others\n+```\n+\n Please also be sure to update the Beta/Unreleased sections at the top with the\n relevant commit ranges.\n \n [changelog]: https://github.com/rust-lang/rust-clippy/blob/master/CHANGELOG.md\n [forge]: https://forge.rust-lang.org/\n [rust_master_tools]: https://github.com/rust-lang/rust/tree/master/src/tools/clippy\n [rust_beta_tools]: https://github.com/rust-lang/rust/tree/beta/src/tools/clippy\n+[rust_stable_tools]: https://github.com/rust-lang/rust/releases"}]}