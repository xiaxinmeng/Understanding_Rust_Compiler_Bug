{"sha": "283744ba7826738f85967893416ccb8787971c62", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI4Mzc0NGJhNzgyNjczOGY4NTk2Nzg5MzQxNmNjYjg3ODc5NzFjNjI=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-06-20T19:00:07Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-06-20T19:00:07Z"}, "message": "Remove flags that are not used during linking.", "tree": {"sha": "81b5adecbb80a008615d98911ce9e19421941479", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/81b5adecbb80a008615d98911ce9e19421941479"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/283744ba7826738f85967893416ccb8787971c62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/283744ba7826738f85967893416ccb8787971c62", "html_url": "https://github.com/rust-lang/rust/commit/283744ba7826738f85967893416ccb8787971c62", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/283744ba7826738f85967893416ccb8787971c62/comments", "author": null, "committer": null, "parents": [{"sha": "164230dcb6d5238fdb1cd9ca1a76029d677fb381", "url": "https://api.github.com/repos/rust-lang/rust/commits/164230dcb6d5238fdb1cd9ca1a76029d677fb381", "html_url": "https://github.com/rust-lang/rust/commit/164230dcb6d5238fdb1cd9ca1a76029d677fb381"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "4783c71cfc7cc3d3c1c227af26a89f8e0e4500d6", "filename": "src/comp/driver/rustc.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/283744ba7826738f85967893416ccb8787971c62/src%2Fcomp%2Fdriver%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/283744ba7826738f85967893416ccb8787971c62/src%2Fcomp%2Fdriver%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Frustc.rs?ref=283744ba7826738f85967893416ccb8787971c62", "patch": "@@ -400,22 +400,21 @@ fn main(vec[str] args) {\n         // The invocations of gcc share some flags across platforms\n \n         let vec[str] common_args =\n-            [stage, \"-Lrt\", \"-lrustrt\", \"-fno-strict-aliasing\", \"-fPIC\",\n-             \"-Wall\", \"-fno-rtti\", \"-fno-exceptions\", \"-g\", glu, \"-o\",\n+            [stage, \"-Lrt\", \"-lrustrt\", glu,  \"-m32\", \"-o\",\n              saved_out_filename, saved_out_filename + \".o\"];\n         auto shared_cmd;\n         alt (sess.get_targ_cfg().os) {\n             case (session::os_win32) {\n                 shared_cmd = \"-shared\";\n-                gcc_args = common_args + [\"-march=i686\", \"-O2\", \"-lssp\"];\n+                gcc_args = common_args + [\"-lssp\"];\n             }\n             case (session::os_macos) {\n                 shared_cmd = \"-dynamiclib\";\n-                gcc_args = common_args + [\"-arch i386\", \"-O0\", \"-m32\"];\n+                gcc_args = common_args;\n             }\n             case (session::os_linux) {\n                 shared_cmd = \"-shared\";\n-                gcc_args = common_args + [\"-march=i686\", \"-O2\", \"-m32\"];\n+                gcc_args = common_args;\n             }\n         }\n         if (sopts.shared) {"}]}