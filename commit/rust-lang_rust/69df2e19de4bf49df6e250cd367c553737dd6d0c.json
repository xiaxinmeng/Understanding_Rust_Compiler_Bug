{"sha": "69df2e19de4bf49df6e250cd367c553737dd6d0c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5ZGYyZTE5ZGU0YmY0OWRmNmUyNTBjZDM2N2M1NTM3MzdkZDZkMGM=", "commit": {"author": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-19T21:01:12Z"}, "committer": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-27T21:26:36Z"}, "message": "Move prctl to Linux specific shims.", "tree": {"sha": "525625ee93e36224a8019cf2df2ec0bdfef0ed8f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/525625ee93e36224a8019cf2df2ec0bdfef0ed8f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/69df2e19de4bf49df6e250cd367c553737dd6d0c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/69df2e19de4bf49df6e250cd367c553737dd6d0c", "html_url": "https://github.com/rust-lang/rust/commit/69df2e19de4bf49df6e250cd367c553737dd6d0c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/69df2e19de4bf49df6e250cd367c553737dd6d0c/comments", "author": null, "committer": null, "parents": [{"sha": "d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "url": "https://api.github.com/repos/rust-lang/rust/commits/d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "html_url": "https://github.com/rust-lang/rust/commit/d6c03926ab8aff457a3e9b607bdcca654bfe17fe"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "6e2a7a9fcb4fa49b0a164ef3b40ecf3b29154586", "filename": "src/shims/foreign_items/posix.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/69df2e19de4bf49df6e250cd367c553737dd6d0c/src%2Fshims%2Fforeign_items%2Fposix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/69df2e19de4bf49df6e250cd367c553737dd6d0c/src%2Fshims%2Fforeign_items%2Fposix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fforeign_items%2Fposix.rs?ref=69df2e19de4bf49df6e250cd367c553737dd6d0c", "patch": "@@ -313,11 +313,6 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n                 assert_eq!(args.len(), 0);\n                 this.pthread_self(dest)?;\n             }\n-            \"prctl\" => {\n-                assert_eq!(args.len(), 5);\n-                let result = this.prctl(args[0], args[1], args[2], args[3], args[4])?;\n-                this.write_scalar(Scalar::from_i32(result), dest)?;\n-            }\n             \"sched_yield\" => {\n                 assert_eq!(args.len(), 0);\n                 let result = this.sched_yield()?;"}, {"sha": "eb58f7466089b2b3eaf14b5eecb249bb9d6c393a", "filename": "src/shims/foreign_items/posix/linux.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/69df2e19de4bf49df6e250cd367c553737dd6d0c/src%2Fshims%2Fforeign_items%2Fposix%2Flinux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/69df2e19de4bf49df6e250cd367c553737dd6d0c/src%2Fshims%2Fforeign_items%2Fposix%2Flinux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fforeign_items%2Fposix%2Flinux.rs?ref=69df2e19de4bf49df6e250cd367c553737dd6d0c", "patch": "@@ -75,6 +75,13 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n                 this.write_null(dest)?;\n             }\n \n+            // Threading\n+            \"prctl\" => {\n+                assert_eq!(args.len(), 5);\n+                let result = this.prctl(args[0], args[1], args[2], args[3], args[4])?;\n+                this.write_scalar(Scalar::from_i32(result), dest)?;\n+            }\n+\n             // Dynamically invoked syscalls\n             \"syscall\" => {\n                 let sys_getrandom = this"}]}