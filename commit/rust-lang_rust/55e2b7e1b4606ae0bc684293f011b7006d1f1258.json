{"sha": "55e2b7e1b4606ae0bc684293f011b7006d1f1258", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU1ZTJiN2UxYjQ2MDZhZTBiYzY4NDI5M2YwMTFiNzAwNmQxZjEyNTg=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2016-01-15T16:24:50Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2016-01-15T16:24:50Z"}, "message": "libbacktrace: Reapply Rust-specific changes\n\nNew:\nFix for https://github.com/rust-lang/rust/issues/28447\n\nMerged:\nopenbsd support: https://github.com/rust-lang/rust/commit/fcb30a0b67b1bd4acbc3422ff74fac5d031ae1ae\nbitrig integration: https://github.com/rust-lang/rust/commit/cd8f31759fd04b9ce9c903fa00cae81dc5bba546\n\nNot merged:\nhttps://github.com/rust-lang/rust/commit/d4fc3ec208186f0a9de8d05a6802c95b07e058fd\n@Diggsey says this change was unintended (https://github.com/rust-lang/rust/pull/30666#issuecomment-168616892)", "tree": {"sha": "aad569fd1bc453a320b87c07b4f5b56f31015129", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/aad569fd1bc453a320b87c07b4f5b56f31015129"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/55e2b7e1b4606ae0bc684293f011b7006d1f1258", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/55e2b7e1b4606ae0bc684293f011b7006d1f1258", "html_url": "https://github.com/rust-lang/rust/commit/55e2b7e1b4606ae0bc684293f011b7006d1f1258", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/55e2b7e1b4606ae0bc684293f011b7006d1f1258/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5f57121fb328c0e62b49a405f9a5339098ec0a8e", "url": "https://api.github.com/repos/rust-lang/rust/commits/5f57121fb328c0e62b49a405f9a5339098ec0a8e", "html_url": "https://github.com/rust-lang/rust/commit/5f57121fb328c0e62b49a405f9a5339098ec0a8e"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "47df55c22d67f26749fe13cc70d432998f273431", "filename": "src/libbacktrace/configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/55e2b7e1b4606ae0bc684293f011b7006d1f1258/src%2Flibbacktrace%2Fconfigure", "raw_url": "https://github.com/rust-lang/rust/raw/55e2b7e1b4606ae0bc684293f011b7006d1f1258/src%2Flibbacktrace%2Fconfigure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibbacktrace%2Fconfigure?ref=55e2b7e1b4606ae0bc684293f011b7006d1f1258", "patch": "@@ -5691,7 +5691,7 @@ else\n     lt_cv_sys_max_cmd_len=8192;\n     ;;\n \n-  netbsd* | freebsd* | openbsd* | darwin* | dragonfly*)\n+  netbsd* | freebsd* | openbsd* | darwin* | dragonfly* | bitrig*)\n     # This has been around since 386BSD, at least.  Likely further.\n     if test -x /sbin/sysctl; then\n       lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`\n@@ -9374,7 +9374,7 @@ if test -z \"$aix_libpath\"; then aix_libpath=\"/usr/lib:/lib\"; fi\n       ;;\n \n     # FreeBSD 3 and greater uses gcc -shared to do shared libraries.\n-    freebsd* | dragonfly*)\n+    freebsd* | dragonfly* | openbsd* | bitrig*)\n       archive_cmds='$CC -shared -o $lib $libobjs $deplibs $compiler_flags'\n       hardcode_libdir_flag_spec='-R$libdir'\n       hardcode_direct=yes"}, {"sha": "eaef55a59332a88c6bcb008a56214d48518c6546", "filename": "src/libbacktrace/ltmain.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/55e2b7e1b4606ae0bc684293f011b7006d1f1258/src%2Flibbacktrace%2Fltmain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/55e2b7e1b4606ae0bc684293f011b7006d1f1258/src%2Flibbacktrace%2Fltmain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibbacktrace%2Fltmain.sh?ref=55e2b7e1b4606ae0bc684293f011b7006d1f1258", "patch": "@@ -4741,7 +4741,7 @@ func_mode_link ()\n \t    # These systems don't actually have a C library (as such)\n \t    test \"X$arg\" = \"X-lc\" && continue\n \t    ;;\n-\t  *-*-openbsd* | *-*-freebsd* | *-*-dragonfly*)\n+\t  *-*-openbsd* | *-*-freebsd* | *-*-dragonfly* | *-*-bitrig*)\n \t    # Do not include libc due to us having libc/libc_r.\n \t    test \"X$arg\" = \"X-lc\" && continue\n \t    ;;"}, {"sha": "31126cf4741c7abb72e56d8e08b8fa94822b004c", "filename": "src/libbacktrace/pecoff.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/55e2b7e1b4606ae0bc684293f011b7006d1f1258/src%2Flibbacktrace%2Fpecoff.c", "raw_url": "https://github.com/rust-lang/rust/raw/55e2b7e1b4606ae0bc684293f011b7006d1f1258/src%2Flibbacktrace%2Fpecoff.c", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibbacktrace%2Fpecoff.c?ref=55e2b7e1b4606ae0bc684293f011b7006d1f1258", "patch": "@@ -602,7 +602,7 @@ coff_add (struct backtrace_state *state, int descriptor,\n   const b_coff_section_header *sects;\n   struct backtrace_view str_view;\n   int str_view_valid;\n-  size_t str_size;\n+  uint32_t str_size;\n   off_t str_off;\n   struct backtrace_view syms_view;\n   off_t syms_off;"}]}