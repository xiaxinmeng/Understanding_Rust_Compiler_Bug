{"sha": "603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwM2VjMGIzZDg0OGY0ZjBmNjNmNDg0MjIzMWFjMTNlMGZhMGNlOGM=", "commit": {"author": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-29T22:20:26Z"}, "committer": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-29T22:20:26Z"}, "message": "Fix a regression in Windows dtors.", "tree": {"sha": "bfe6cb21003802b10cbacbce6a6d6c092665c3e6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bfe6cb21003802b10cbacbce6a6d6c092665c3e6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c", "html_url": "https://github.com/rust-lang/rust/commit/603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c/comments", "author": null, "committer": null, "parents": [{"sha": "0e052ab8970777e8f418c4ccf495845804aeae90", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e052ab8970777e8f418c4ccf495845804aeae90", "html_url": "https://github.com/rust-lang/rust/commit/0e052ab8970777e8f418c4ccf495845804aeae90"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "f78b46ec3e7f0d340db3749618d7d9fb2e645200", "filename": "src/shims/tls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c/src%2Fshims%2Ftls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c/src%2Fshims%2Ftls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Ftls.rs?ref=603ec0b3d848f4f0f63f4842231ac13e0fa0ce8c", "patch": "@@ -342,7 +342,7 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n         let this = self.eval_context_mut();\n         let active_thread = this.get_active_thread()?;\n \n-        if this.machine.tls.set_dtors_running_for_thread(active_thread) {\n+        if !this.machine.tls.set_dtors_running_for_thread(active_thread) {\n             // This is the first time we got asked to schedule a destructor. The\n             // Windows schedule destructor function must be called exactly once,\n             // this is why it is in this block."}]}