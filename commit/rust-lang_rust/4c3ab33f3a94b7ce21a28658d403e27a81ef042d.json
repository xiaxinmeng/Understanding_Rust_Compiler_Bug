{"sha": "4c3ab33f3a94b7ce21a28658d403e27a81ef042d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRjM2FiMzNmM2E5NGI3Y2UyMWEyODY1OGQ0MDNlMjdhODFlZjA0MmQ=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-05-09T09:26:25Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-05-09T12:29:45Z"}, "message": "Rollup merge of #50505 - Aaronepower:add-test, r=oli-obk\n\nAdded regression function match value test\n\ncloses #44333", "tree": {"sha": "914e58f22ada8a6cada0aa8efec06db9299316b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/914e58f22ada8a6cada0aa8efec06db9299316b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c3ab33f3a94b7ce21a28658d403e27a81ef042d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlry6bkACgkQ/vbIBR0O\nATyxUhAAsIlf3J/GR0LOU1ivOmFGq6i9/5NV7hjo1IvQYmBWAOLnDypkWrX0PE2k\nu6z1DJH+yu5qiXuxdYClNLi6qY9jkS8oOwHZeFdy8QqLkcJTNKzAyT6ORc3CSg/V\n905iAdcK1yXkdQwVVYHQzYVVIKcBCbR2Z5pKyuZQZ0HvO0rNuoOiLu2VsB8F7dSH\nr0Za/rqZLcnsZpXZqJtfHI+CpAicaWDfvgSQA+k0c3beOzgJpUrGNB9bGfTcCdQJ\nBKetPi5hXMCwF5qr4MtsQz9rvSCi/Yo/p60kICYiSmgVUzq0q5VG+sxU1kthjNqB\nKWcSH+rSV+HLZrofBRwrWB9kCija3F+qKRsORWocLe5/2TcgRMDxosImNtdycJWT\njiisDU5zz/RLBMqseTWI2Yucj8GtdA0puxJu3HVpJSswwcp2FixW/GMzUvbJPKu+\nycclkDtaIETpWlX1nzlPhzk8sWAcmDWGEPjrSk2Y8juSdiwTeT0zvb/6RDYAnhHt\nvzfDOiSrQDggowUJSzEKr80b0gdDcYjGP/OOAKBh1THsg1SHBkgD3r+RpovwZHyb\n3RQCyZjght1G1UlbzyIOc125mwg1yAYrOW+6EEnb2/C+vv/dFJDzjcK+zsEyzNvJ\nif9GN44Uz421cGcDujUrD5/0DmKF3bZZ6xLt61AEwsMq2Qqin+M=\n=Rm7W\n-----END PGP SIGNATURE-----", "payload": "tree 914e58f22ada8a6cada0aa8efec06db9299316b4\nparent e6e58a3a436298d4a6674a04a0acd62e52a5ce1c\nparent 31a8ffec713ea552e239eb36c742aa12e809e469\nauthor kennytm <kennytm@gmail.com> 1525857985 +0800\ncommitter kennytm <kennytm@gmail.com> 1525868985 +0800\n\nRollup merge of #50505 - Aaronepower:add-test, r=oli-obk\n\nAdded regression function match value test\n\ncloses #44333\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c3ab33f3a94b7ce21a28658d403e27a81ef042d", "html_url": "https://github.com/rust-lang/rust/commit/4c3ab33f3a94b7ce21a28658d403e27a81ef042d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c3ab33f3a94b7ce21a28658d403e27a81ef042d/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6e58a3a436298d4a6674a04a0acd62e52a5ce1c", "url": "https://api.github.com/repos/rust-lang/rust/commits/e6e58a3a436298d4a6674a04a0acd62e52a5ce1c", "html_url": "https://github.com/rust-lang/rust/commit/e6e58a3a436298d4a6674a04a0acd62e52a5ce1c"}, {"sha": "31a8ffec713ea552e239eb36c742aa12e809e469", "url": "https://api.github.com/repos/rust-lang/rust/commits/31a8ffec713ea552e239eb36c742aa12e809e469", "html_url": "https://github.com/rust-lang/rust/commit/31a8ffec713ea552e239eb36c742aa12e809e469"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "72731f41321135d3e774fb3fa1f1f1056e89f314", "filename": "src/test/run-pass/issue-44333.rs", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/4c3ab33f3a94b7ce21a28658d403e27a81ef042d/src%2Ftest%2Frun-pass%2Fissue-44333.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c3ab33f3a94b7ce21a28658d403e27a81ef042d/src%2Ftest%2Frun-pass%2Fissue-44333.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-44333.rs?ref=4c3ab33f3a94b7ce21a28658d403e27a81ef042d", "patch": "@@ -0,0 +1,29 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+type Func = fn(usize, usize) -> usize;\n+\n+fn foo(a: usize, b: usize) -> usize { a + b }\n+fn bar(a: usize, b: usize) -> usize { a * b }\n+fn test(x: usize) -> Func {\n+    if x % 2 == 0 { foo }\n+    else { bar }\n+}\n+\n+const FOO: Func = foo;\n+const BAR: Func = bar;\n+\n+fn main() {\n+    match test(std::env::consts::ARCH.len()) {\n+        FOO => println!(\"foo\"),\n+        BAR => println!(\"bar\"),\n+        _ => unreachable!(),\n+    }\n+}"}]}