{"sha": "9aa0cedc84792e711f49951a2dfdc9f1586d5d38", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhYTBjZWRjODQ3OTJlNzExZjQ5OTUxYTJkZmRjOWYxNTg2ZDVkMzg=", "commit": {"author": {"name": "Thad Guidry", "email": "thadguidry@gmail.com", "date": "2013-03-23T01:21:43Z"}, "committer": {"name": "Thad Guidry", "email": "thadguidry@gmail.com", "date": "2013-03-23T01:21:43Z"}, "message": "changed /configure to be compatible with Cygwin and removed annoying --help not a command available message", "tree": {"sha": "c34c2942194c6f66a0ffcd4f52490a8d25302220", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c34c2942194c6f66a0ffcd4f52490a8d25302220"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9aa0cedc84792e711f49951a2dfdc9f1586d5d38", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9aa0cedc84792e711f49951a2dfdc9f1586d5d38", "html_url": "https://github.com/rust-lang/rust/commit/9aa0cedc84792e711f49951a2dfdc9f1586d5d38", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9aa0cedc84792e711f49951a2dfdc9f1586d5d38/comments", "author": {"login": "thadguidry", "id": 986438, "node_id": "MDQ6VXNlcjk4NjQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/986438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thadguidry", "html_url": "https://github.com/thadguidry", "followers_url": "https://api.github.com/users/thadguidry/followers", "following_url": "https://api.github.com/users/thadguidry/following{/other_user}", "gists_url": "https://api.github.com/users/thadguidry/gists{/gist_id}", "starred_url": "https://api.github.com/users/thadguidry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thadguidry/subscriptions", "organizations_url": "https://api.github.com/users/thadguidry/orgs", "repos_url": "https://api.github.com/users/thadguidry/repos", "events_url": "https://api.github.com/users/thadguidry/events{/privacy}", "received_events_url": "https://api.github.com/users/thadguidry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thadguidry", "id": 986438, "node_id": "MDQ6VXNlcjk4NjQzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/986438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thadguidry", "html_url": "https://github.com/thadguidry", "followers_url": "https://api.github.com/users/thadguidry/followers", "following_url": "https://api.github.com/users/thadguidry/following{/other_user}", "gists_url": "https://api.github.com/users/thadguidry/gists{/gist_id}", "starred_url": "https://api.github.com/users/thadguidry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thadguidry/subscriptions", "organizations_url": "https://api.github.com/users/thadguidry/orgs", "repos_url": "https://api.github.com/users/thadguidry/repos", "events_url": "https://api.github.com/users/thadguidry/events{/privacy}", "received_events_url": "https://api.github.com/users/thadguidry/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1e41bc74450328b317602f2e60ee9f41b0f90182", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e41bc74450328b317602f2e60ee9f41b0f90182", "html_url": "https://github.com/rust-lang/rust/commit/1e41bc74450328b317602f2e60ee9f41b0f90182"}], "stats": {"total": 42, "additions": 40, "deletions": 2}, "files": [{"sha": "b6e4d055bf50a0b07d484064ac1b4bac1aea39a7", "filename": "configure", "status": "modified", "additions": 40, "deletions": 2, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/9aa0cedc84792e711f49951a2dfdc9f1586d5d38/configure", "raw_url": "https://github.com/rust-lang/rust/raw/9aa0cedc84792e711f49951a2dfdc9f1586d5d38/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=9aa0cedc84792e711f49951a2dfdc9f1586d5d38", "patch": "@@ -136,9 +136,17 @@ validate_opt () {\n                 isArgValid=1\n             fi\n         done\n-        if test $isArgValid -eq 0\n+        if [ \"$arg\" = \"--help\" ]\n         then\n-            err \"Option '$arg' is not recognized\"\n+            echo \"\"\n+            echo \"No more help available for Configure options,\"\n+            echo \"check the Wiki or join our IRC channel\"\n+            break\n+        else\n+            if test $isArgValid -eq 0\n+            then\n+                err \"Option '$arg' is not recognized\"\n+            fi\n         fi\n     done\n }\n@@ -266,13 +274,42 @@ case $CFG_OSTYPE in\n     MINGW32*)\n         CFG_OSTYPE=pc-mingw32\n         ;;\n+# Thad's Cygwin identifers below\n+\n+#   Vista 32 bit\n+    CYGWIN_NT-6.0)\n+        CFG_OSTYPE=pc-mingw32\n+        CFG_CPUTYPE=i686\n+        ;;\n+\n+#   Vista 64 bit\n+    CYGWIN_NT-6.0-WOW64)\n+        CFG_OSTYPE=w64-mingw32\n+        CFG_CPUTYPE=x86_64\n+        ;;\n+\n+#   Win 7 32 bit\n+    CYGWIN_NT-6.1)\n+        CFG_OSTYPE=pc-mingw32\n+        CFG_CPUTYPE=i686\n+        ;;\n \n+#   Win 7 64 bit\n+    CYGWIN_NT-6.1-WOW64)\n+        CFG_OSTYPE=w64-mingw32\n+        CFG_CPUTYPE=x86_64\n+        ;;\n+\n+# We do not detect other OS such as XP/2003 using 64 bit using uname.\n+# If we want to in the future, we will need to use Cygwin - Chuck's csih helper in /usr/lib/csih/winProductName.exe or alternative.\n     *)\n         err \"unknown OS type: $CFG_OSTYPE\"\n         ;;\n esac\n \n \n+if [ -z \"$CFG_CPUTYPE\" ]\n+then\n case $CFG_CPUTYPE in\n \n     i386 | i486 | i686 | i786 | x86)\n@@ -290,6 +327,7 @@ case $CFG_CPUTYPE in\n     *)\n         err \"unknown CPU type: $CFG_CPUTYPE\"\n esac\n+fi\n \n # Detect 64 bit linux systems with 32 bit userland and force 32 bit compilation\n if [ $CFG_OSTYPE = unknown-linux-gnu -a $CFG_CPUTYPE = x86_64 ]"}]}