{"sha": "0653b8413e11ea0a75fc86ea3ea08d54762ea594", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA2NTNiODQxM2UxMWVhMGE3NWZjODZlYTNlYTA4ZDU0NzYyZWE1OTQ=", "commit": {"author": {"name": "Sheng Hau", "email": "shioju12@gmail.com", "date": "2017-04-18T16:23:57Z"}, "committer": {"name": "Sheng Hau", "email": "shioju12@gmail.com", "date": "2017-04-18T16:25:48Z"}, "message": "Show exit codes' meanings with the rustfmt help message", "tree": {"sha": "53d57156e161299fff9142611e2fa40f47c9cc1b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/53d57156e161299fff9142611e2fa40f47c9cc1b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0653b8413e11ea0a75fc86ea3ea08d54762ea594", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0653b8413e11ea0a75fc86ea3ea08d54762ea594", "html_url": "https://github.com/rust-lang/rust/commit/0653b8413e11ea0a75fc86ea3ea08d54762ea594", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0653b8413e11ea0a75fc86ea3ea08d54762ea594/comments", "author": {"login": "shioju", "id": 4652591, "node_id": "MDQ6VXNlcjQ2NTI1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4652591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shioju", "html_url": "https://github.com/shioju", "followers_url": "https://api.github.com/users/shioju/followers", "following_url": "https://api.github.com/users/shioju/following{/other_user}", "gists_url": "https://api.github.com/users/shioju/gists{/gist_id}", "starred_url": "https://api.github.com/users/shioju/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shioju/subscriptions", "organizations_url": "https://api.github.com/users/shioju/orgs", "repos_url": "https://api.github.com/users/shioju/repos", "events_url": "https://api.github.com/users/shioju/events{/privacy}", "received_events_url": "https://api.github.com/users/shioju/received_events", "type": "User", "site_admin": false}, "committer": {"login": "shioju", "id": 4652591, "node_id": "MDQ6VXNlcjQ2NTI1OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/4652591?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shioju", "html_url": "https://github.com/shioju", "followers_url": "https://api.github.com/users/shioju/followers", "following_url": "https://api.github.com/users/shioju/following{/other_user}", "gists_url": "https://api.github.com/users/shioju/gists{/gist_id}", "starred_url": "https://api.github.com/users/shioju/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shioju/subscriptions", "organizations_url": "https://api.github.com/users/shioju/orgs", "repos_url": "https://api.github.com/users/shioju/repos", "events_url": "https://api.github.com/users/shioju/events{/privacy}", "received_events_url": "https://api.github.com/users/shioju/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b4833a8c581f92e87eeb0f5a6f11719f4eb94092", "url": "https://api.github.com/repos/rust-lang/rust/commits/b4833a8c581f92e87eeb0f5a6f11719f4eb94092", "html_url": "https://github.com/rust-lang/rust/commit/b4833a8c581f92e87eeb0f5a6f11719f4eb94092"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "99d7721d442f56e29238b20c35aa60e23449bfee", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0653b8413e11ea0a75fc86ea3ea08d54762ea594/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/0653b8413e11ea0a75fc86ea3ea08d54762ea594/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=0653b8413e11ea0a75fc86ea3ea08d54762ea594", "patch": "@@ -1,6 +1,6 @@\n [root]\n name = \"rustfmt\"\n-version = \"0.8.2\"\n+version = \"0.8.3\"\n dependencies = [\n  \"diff 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"env_logger 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\","}, {"sha": "a802c3360ff0bd3a21f0bfa8c3e7678d309b099f", "filename": "src/bin/rustfmt.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0653b8413e11ea0a75fc86ea3ea08d54762ea594/src%2Fbin%2Frustfmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0653b8413e11ea0a75fc86ea3ea08d54762ea594/src%2Fbin%2Frustfmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbin%2Frustfmt.rs?ref=0653b8413e11ea0a75fc86ea3ea08d54762ea594", "patch": "@@ -202,6 +202,7 @@ fn execute(opts: &Options) -> FmtResult<Summary> {\n     match try!(determine_operation(&matches)) {\n         Operation::Help => {\n             print_usage(opts, \"\");\n+            Summary::print_exit_codes();\n             Ok(Summary::new())\n         }\n         Operation::Version => {"}, {"sha": "6fc1bbded1d7475ef0802f5639e5e2a8147c99ee", "filename": "src/summary.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/0653b8413e11ea0a75fc86ea3ea08d54762ea594/src%2Fsummary.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0653b8413e11ea0a75fc86ea3ea08d54762ea594/src%2Fsummary.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsummary.rs?ref=0653b8413e11ea0a75fc86ea3ea08d54762ea594", "patch": "@@ -63,4 +63,14 @@ impl Summary {\n         self.has_parsing_errors |= other.has_parsing_errors;\n         self.has_diff |= other.has_diff;\n     }\n+\n+    pub fn print_exit_codes() {\n+        let exit_codes = r#\"Exit Codes:\n+    0 = No errors\n+    1 = Encountered operational errors e.g. an IO error\n+    2 = Failed to reformat code because of parsing errors\n+    3 = Code is valid, but it is impossible to format it properly\n+    4 = Formatted code differs from existing code (write-mode diff only)\"#;\n+        println!(\"{}\", exit_codes);\n+    }\n }"}]}