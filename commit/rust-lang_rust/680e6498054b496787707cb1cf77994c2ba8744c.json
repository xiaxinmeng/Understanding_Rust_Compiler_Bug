{"sha": "680e6498054b496787707cb1cf77994c2ba8744c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4MGU2NDk4MDU0YjQ5Njc4NzcwN2NiMWNmNzc5OTRjMmJhODc0NGM=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-02-10T10:29:07Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-02-10T13:34:10Z"}, "message": "get rid of useless calls into `eval_lvalue`", "tree": {"sha": "40ca8b29d39a70228d6d65719d58babfdc035914", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/40ca8b29d39a70228d6d65719d58babfdc035914"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/680e6498054b496787707cb1cf77994c2ba8744c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAlidwVIACgkQpp+NIls6\n19nvEg//Wk+DjLLy5h9vmq80e5sxaXHrm11OLeehnFkDyWtulGR1/PiZ04/Azz4i\nUOKurcy197MG2VsHUCK8lHVqZNESWkWks5qMq62IDPy+Ro0zIcl6bDaNaKVSpYCO\nJ5Jml+b9wqLjwKuUqoHafmtuK55vdy8yhyAbA50JT+XT9SEjpn56a6PJcOTTTqka\nhtgK+Lv3V7+8R3zr/5pnD/VM+74VoT5TgY/NjFZwf5Qxe56vFqE0ugW865/GCJ8U\nXzu3FH/8RLv7OWZ0V0wyNuBBV2bdDHS0g0icc3YugnFd1KW8owRH/UK0uSCGGR12\nfxcZJBxNxm7kl4EvwB+hMG6kGLD1q9gJIoqj8wLgGmmlyKTD8lxVwWEodGlTmbFn\nyJ2hnHoUkoIef0y/T/IIKT+S/c9ja5v2KvJrDwRskRgAUMDCs4wKoY5On+JFrUho\nOCVNiDvZwhJHtwPJ5qj/6mvTKFiQVAjeYWQsEqKjerDIMLr03b+Y4Mpd37m5F1q8\nZvzdkNKHm9EsO7jBg7iGs1C3ErGniO6SrHGd+tPP4DlmDbQJWG83OUjWS0fyvYyG\nnmXfXGD5xiTEXdoyRxrqv7OfrRFhIhbMVBsWf9pwq68TpTqusBr0zuLD32tXQXoJ\nBbobnwYXlmIjE8xaXQ/P34kTilmDABTiAdVI6jRWmPzXkB+Fakg=\n=ElYn\n-----END PGP SIGNATURE-----", "payload": "tree 40ca8b29d39a70228d6d65719d58babfdc035914\nparent 07e1e7b7e5d0cf6962322f035dd204d45106a29f\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1486722547 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1486733650 +0100\n\nget rid of useless calls into `eval_lvalue`"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/680e6498054b496787707cb1cf77994c2ba8744c", "html_url": "https://github.com/rust-lang/rust/commit/680e6498054b496787707cb1cf77994c2ba8744c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/680e6498054b496787707cb1cf77994c2ba8744c/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "07e1e7b7e5d0cf6962322f035dd204d45106a29f", "url": "https://api.github.com/repos/rust-lang/rust/commits/07e1e7b7e5d0cf6962322f035dd204d45106a29f", "html_url": "https://github.com/rust-lang/rust/commit/07e1e7b7e5d0cf6962322f035dd204d45106a29f"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "739274ce3986c36f4a1233b4f8ffeed212693d78", "filename": "src/eval_context.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/680e6498054b496787707cb1cf77994c2ba8744c/src%2Feval_context.rs", "raw_url": "https://github.com/rust-lang/rust/raw/680e6498054b496787707cb1cf77994c2ba8744c/src%2Feval_context.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Feval_context.rs?ref=680e6498054b496787707cb1cf77994c2ba8744c", "patch": "@@ -816,7 +816,7 @@ impl<'a, 'tcx> EvalContext<'a, 'tcx> {\n                         } else {\n                             let (def_id, substs) = self.resolve_associated_const(def_id, substs);\n                             let cid = GlobalId { def_id, substs, promoted: None };\n-                            self.read_lvalue(Lvalue::Global(cid))\n+                            self.globals.get(&cid).expect(\"static/const not cached\").value\n                         }\n                     }\n \n@@ -826,7 +826,7 @@ impl<'a, 'tcx> EvalContext<'a, 'tcx> {\n                             substs: self.substs(),\n                             promoted: Some(index),\n                         };\n-                        self.read_lvalue(Lvalue::Global(cid))\n+                        self.globals.get(&cid).expect(\"promoted not cached\").value\n                     }\n                 };\n "}]}