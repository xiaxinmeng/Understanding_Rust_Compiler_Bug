{"sha": "5df7a2c86334e89abf813b786bd03375bf62e770", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkZjdhMmM4NjMzNGU4OWFiZjgxM2I3ODZiZDAzMzc1YmY2MmU3NzA=", "commit": {"author": {"name": "gaurikholkar", "email": "f2013002@goa.bits-pilani.ac.in", "date": "2017-06-15T10:50:02Z"}, "committer": {"name": "gaurikholkar", "email": "f2013002@goa.bits-pilani.ac.in", "date": "2017-06-29T13:37:18Z"}, "message": "Adding new ui test for trait impl", "tree": {"sha": "4ee5264bc82b0cbce34eeb14ae49490daedbd337", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4ee5264bc82b0cbce34eeb14ae49490daedbd337"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5df7a2c86334e89abf813b786bd03375bf62e770", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5df7a2c86334e89abf813b786bd03375bf62e770", "html_url": "https://github.com/rust-lang/rust/commit/5df7a2c86334e89abf813b786bd03375bf62e770", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5df7a2c86334e89abf813b786bd03375bf62e770/comments", "author": {"login": "gaurikholkar", "id": 117768111, "node_id": "U_kgDOBwT_rw", "avatar_url": "https://avatars.githubusercontent.com/u/117768111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaurikholkar", "html_url": "https://github.com/gaurikholkar", "followers_url": "https://api.github.com/users/gaurikholkar/followers", "following_url": "https://api.github.com/users/gaurikholkar/following{/other_user}", "gists_url": "https://api.github.com/users/gaurikholkar/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaurikholkar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaurikholkar/subscriptions", "organizations_url": "https://api.github.com/users/gaurikholkar/orgs", "repos_url": "https://api.github.com/users/gaurikholkar/repos", "events_url": "https://api.github.com/users/gaurikholkar/events{/privacy}", "received_events_url": "https://api.github.com/users/gaurikholkar/received_events", "type": "User", "site_admin": false}, "committer": {"login": "gaurikholkar", "id": 117768111, "node_id": "U_kgDOBwT_rw", "avatar_url": "https://avatars.githubusercontent.com/u/117768111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gaurikholkar", "html_url": "https://github.com/gaurikholkar", "followers_url": "https://api.github.com/users/gaurikholkar/followers", "following_url": "https://api.github.com/users/gaurikholkar/following{/other_user}", "gists_url": "https://api.github.com/users/gaurikholkar/gists{/gist_id}", "starred_url": "https://api.github.com/users/gaurikholkar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gaurikholkar/subscriptions", "organizations_url": "https://api.github.com/users/gaurikholkar/orgs", "repos_url": "https://api.github.com/users/gaurikholkar/repos", "events_url": "https://api.github.com/users/gaurikholkar/events{/privacy}", "received_events_url": "https://api.github.com/users/gaurikholkar/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "176225c4ddd0dd6f469826b40b0cdae399b4a9c3", "url": "https://api.github.com/repos/rust-lang/rust/commits/176225c4ddd0dd6f469826b40b0cdae399b4a9c3", "html_url": "https://github.com/rust-lang/rust/commit/176225c4ddd0dd6f469826b40b0cdae399b4a9c3"}], "stats": {"total": 55, "additions": 54, "deletions": 1}, "files": [{"sha": "38bb3e93d002068c62f66eeda59e69656bde3e09", "filename": "src/librustc/infer/error_reporting/util.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5df7a2c86334e89abf813b786bd03375bf62e770/src%2Flibrustc%2Finfer%2Ferror_reporting%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5df7a2c86334e89abf813b786bd03375bf62e770/src%2Flibrustc%2Finfer%2Ferror_reporting%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Ferror_reporting%2Futil.rs?ref=5df7a2c86334e89abf813b786bd03375bf62e770", "patch": "@@ -40,7 +40,6 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n                         let node_id = self.tcx.hir.as_local_node_id(id).unwrap();\n                         match self.tcx.hir.find(node_id) {\n                             Some(hir_map::NodeItem(..)) |\n-                            Some(hir_map::NodeImplItem(..)) |\n                             Some(hir_map::NodeTraitItem(..)) => { /* proceed ahead */ }\n                             _ => return false, // inapplicable\n                             // we target only top-level functions"}, {"sha": "36d956a39966f53a88721bcf2014ac0ec9dcb76c", "filename": "src/test/ui/lifetime-errors/ex1-return-one-existing-name-if-else-using-impl.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/5df7a2c86334e89abf813b786bd03375bf62e770/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5df7a2c86334e89abf813b786bd03375bf62e770/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl.rs?ref=5df7a2c86334e89abf813b786bd03375bf62e770", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+trait Foo {\n+\n+    fn foo<'a>(x: &i32, y: &'a i32) -> &'a i32;\n+\n+}\n+\n+impl Foo for () {\n+\n+    fn foo<'a>(x: &i32, y: &'a i32) -> &'a i32 {\n+\n+        if x > y { x } else { y }\n+\n+    }\n+\n+}\n+\n+fn main() {}"}, {"sha": "15ecca618052e25ce49b1b907b04dbda29e0a7c8", "filename": "src/test/ui/lifetime-errors/ex1-return-one-existing-name-if-else-using-impl.stderr", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/5df7a2c86334e89abf813b786bd03375bf62e770/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5df7a2c86334e89abf813b786bd03375bf62e770/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flifetime-errors%2Fex1-return-one-existing-name-if-else-using-impl.stderr?ref=5df7a2c86334e89abf813b786bd03375bf62e770", "patch": "@@ -0,0 +1,27 @@\n+error[E0312]: lifetime of reference outlives lifetime of borrowed content...\n+  --> $DIR/ex1-return-one-existing-name-if-else-using-impl.rs:21:20\n+   |\n+21 |         if x > y { x } else { y }\n+   |                    ^\n+   |\n+note: ...the reference is valid for the lifetime 'a as defined on the method body at 19:5...\n+  --> $DIR/ex1-return-one-existing-name-if-else-using-impl.rs:19:5\n+   |\n+19 | /     fn foo<'a>(x: &i32, y: &'a i32) -> &'a i32 {\n+20 | |\n+21 | |         if x > y { x } else { y }\n+22 | |\n+23 | |     }\n+   | |_____^\n+note: ...but the borrowed content is only valid for the anonymous lifetime #1 defined on the method body at 19:5\n+  --> $DIR/ex1-return-one-existing-name-if-else-using-impl.rs:19:5\n+   |\n+19 | /     fn foo<'a>(x: &i32, y: &'a i32) -> &'a i32 {\n+20 | |\n+21 | |         if x > y { x } else { y }\n+22 | |\n+23 | |     }\n+   | |_____^\n+\n+error: aborting due to previous error(s)\n+"}]}