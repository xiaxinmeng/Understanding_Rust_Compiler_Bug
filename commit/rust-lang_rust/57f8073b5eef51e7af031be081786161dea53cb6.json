{"sha": "57f8073b5eef51e7af031be081786161dea53cb6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU3ZjgwNzNiNWVlZjUxZTdhZjAzMWJlMDgxNzg2MTYxZGVhNTNjYjY=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-01-19T09:19:02Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-01-21T17:23:56Z"}, "message": "Remove obsoleted -Z options\n\n* borrowck_note_pure - unused\n* borrowck_note_loan - unused\n* no_debug_borrows - unused\n* lint_llvm - equivalent to -Z no-prepopulate-passes + --llvm-passes lint", "tree": {"sha": "8188f00f4b735fdcc06f66952dcb20896e62f5c7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8188f00f4b735fdcc06f66952dcb20896e62f5c7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/57f8073b5eef51e7af031be081786161dea53cb6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/57f8073b5eef51e7af031be081786161dea53cb6", "html_url": "https://github.com/rust-lang/rust/commit/57f8073b5eef51e7af031be081786161dea53cb6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/57f8073b5eef51e7af031be081786161dea53cb6/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eca980be57c62165244cc7b950c3b066571ff3ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/eca980be57c62165244cc7b950c3b066571ff3ba", "html_url": "https://github.com/rust-lang/rust/commit/eca980be57c62165244cc7b950c3b066571ff3ba"}], "stats": {"total": 25, "additions": 0, "deletions": 25}, "files": [{"sha": "00a6d1cccd50cdca8c2999ddb53ea00446c7628b", "filename": "src/librustc/back/link.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/57f8073b5eef51e7af031be081786161dea53cb6/src%2Flibrustc%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/57f8073b5eef51e7af031be081786161dea53cb6/src%2Flibrustc%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fback%2Flink.rs?ref=57f8073b5eef51e7af031be081786161dea53cb6", "patch": "@@ -156,7 +156,6 @@ pub mod write {\n                 pass.with_c_str(|s| llvm::LLVMRustAddPass(fpm, s))\n             };\n             if !sess.no_verify() { assert!(addpass(\"verify\")); }\n-            if sess.lint_llvm()  { assert!(addpass(\"lint\"));   }\n \n             if !sess.no_prepopulate_passes() {\n                 llvm::LLVMRustAddAnalysisPasses(tm, fpm, llmod);"}, {"sha": "d3c67e7f1c06b492526d58243ea7f380c5a13b4b", "filename": "src/librustc/driver/session.rs", "status": "modified", "additions": 0, "deletions": 24, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/57f8073b5eef51e7af031be081786161dea53cb6/src%2Flibrustc%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/57f8073b5eef51e7af031be081786161dea53cb6/src%2Flibrustc%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdriver%2Fsession.rs?ref=57f8073b5eef51e7af031be081786161dea53cb6", "patch": "@@ -59,8 +59,6 @@ debugging_opts!(\n         asm_comments,\n         no_verify,\n         borrowck_stats,\n-        borrowck_note_pure,\n-        borrowck_note_loan,\n         no_landing_pads,\n         debug_llvm,\n         count_type_sizes,\n@@ -70,8 +68,6 @@ debugging_opts!(\n         debug_info,\n         extra_debug_info,\n         print_link_args,\n-        no_debug_borrows,\n-        lint_llvm,\n         print_llvm_passes,\n         no_vectorize_loops,\n         no_vectorize_slp,\n@@ -96,10 +92,6 @@ pub fn debugging_opts_map() -> ~[(&'static str, &'static str, uint)] {\n      (\"asm-comments\", \"generate comments into the assembly (may change behavior)\", asm_comments),\n      (\"no-verify\", \"skip LLVM verification\", no_verify),\n      (\"borrowck-stats\", \"gather borrowck statistics\",  borrowck_stats),\n-     (\"borrowck-note-pure\", \"note where purity is req'd\",\n-      borrowck_note_pure),\n-     (\"borrowck-note-loan\", \"note where loans are req'd\",\n-      borrowck_note_loan),\n      (\"no-landing-pads\", \"omit landing pads for unwinding\",\n       no_landing_pads),\n      (\"debug-llvm\", \"enable debug output from LLVM\", debug_llvm),\n@@ -112,12 +104,6 @@ pub fn debugging_opts_map() -> ~[(&'static str, &'static str, uint)] {\n      (\"extra-debug-info\", \"Extra debugging info (experimental)\",\n       extra_debug_info),\n      (\"debug-info\", \"Produce debug info (experimental)\", debug_info),\n-     (\"no-debug-borrows\",\n-      \"do not show where borrow checks fail\",\n-      no_debug_borrows),\n-     (\"lint-llvm\",\n-      \"Run the LLVM lint pass on the pre-optimization IR\",\n-      lint_llvm),\n      (\"print-llvm-passes\",\n       \"Prints the llvm optimization passes being run\",\n       print_llvm_passes),\n@@ -329,17 +315,7 @@ impl Session_ {\n     pub fn meta_stats(&self) -> bool { self.debugging_opt(meta_stats) }\n     pub fn asm_comments(&self) -> bool { self.debugging_opt(asm_comments) }\n     pub fn no_verify(&self) -> bool { self.debugging_opt(no_verify) }\n-    pub fn lint_llvm(&self) -> bool { self.debugging_opt(lint_llvm) }\n     pub fn borrowck_stats(&self) -> bool { self.debugging_opt(borrowck_stats) }\n-    pub fn borrowck_note_pure(&self) -> bool {\n-        self.debugging_opt(borrowck_note_pure)\n-    }\n-    pub fn borrowck_note_loan(&self) -> bool {\n-        self.debugging_opt(borrowck_note_loan)\n-    }\n-    pub fn debug_borrows(&self) -> bool {\n-        self.opts.optimize == No && !self.debugging_opt(no_debug_borrows)\n-    }\n     pub fn print_llvm_passes(&self) -> bool {\n         self.debugging_opt(print_llvm_passes)\n     }"}]}