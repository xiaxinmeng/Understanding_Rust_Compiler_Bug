{"sha": "e5d294765ae224ad59c6cd55442088fd3e604708", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU1ZDI5NDc2NWFlMjI0YWQ1OWM2Y2Q1NTQ0MjA4OGZkM2U2MDQ3MDg=", "commit": {"author": {"name": "Florian Diebold", "email": "flodiebold@gmail.com", "date": "2021-04-03T15:41:55Z"}, "committer": {"name": "Florian Diebold", "email": "flodiebold@gmail.com", "date": "2021-04-08T12:08:54Z"}, "message": "Remove obsolete Cast impls", "tree": {"sha": "66f3aa233c7792d7e75fc6762d43a594f9261979", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/66f3aa233c7792d7e75fc6762d43a594f9261979"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e5d294765ae224ad59c6cd55442088fd3e604708", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e5d294765ae224ad59c6cd55442088fd3e604708", "html_url": "https://github.com/rust-lang/rust/commit/e5d294765ae224ad59c6cd55442088fd3e604708", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e5d294765ae224ad59c6cd55442088fd3e604708/comments", "author": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "429bbbd39a7bcb8650b522a9d683d20d76269770", "url": "https://api.github.com/repos/rust-lang/rust/commits/429bbbd39a7bcb8650b522a9d683d20d76269770", "html_url": "https://github.com/rust-lang/rust/commit/429bbbd39a7bcb8650b522a9d683d20d76269770"}], "stats": {"total": 47, "additions": 0, "deletions": 47}, "files": [{"sha": "1c3feabcadc5f976ab69328111c1392ba5f23e7c", "filename": "crates/hir_ty/src/chalk_cast.rs", "status": "modified", "additions": 0, "deletions": 47, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/e5d294765ae224ad59c6cd55442088fd3e604708/crates%2Fhir_ty%2Fsrc%2Fchalk_cast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5d294765ae224ad59c6cd55442088fd3e604708/crates%2Fhir_ty%2Fsrc%2Fchalk_cast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Fchalk_cast.rs?ref=e5d294765ae224ad59c6cd55442088fd3e604708", "patch": "@@ -15,35 +15,6 @@ macro_rules! has_interner {\n     };\n }\n \n-has_interner!(WhereClause);\n-has_interner!(DomainGoal);\n-has_interner!(GenericArg);\n-has_interner!(Ty);\n-\n-impl CastTo<WhereClause> for TraitRef {\n-    fn cast_to(self, _interner: &Interner) -> WhereClause {\n-        WhereClause::Implemented(self)\n-    }\n-}\n-\n-impl CastTo<WhereClause> for AliasEq {\n-    fn cast_to(self, _interner: &Interner) -> WhereClause {\n-        WhereClause::AliasEq(self)\n-    }\n-}\n-\n-impl CastTo<DomainGoal> for WhereClause {\n-    fn cast_to(self, _interner: &Interner) -> DomainGoal {\n-        DomainGoal::Holds(self)\n-    }\n-}\n-\n-impl CastTo<GenericArg> for Ty {\n-    fn cast_to(self, interner: &Interner) -> GenericArg {\n-        GenericArg::new(interner, GenericArgData::Ty(self))\n-    }\n-}\n-\n macro_rules! transitive_impl {\n     ($a:ty, $b:ty, $c:ty) => {\n         impl CastTo<$c> for $a {\n@@ -53,21 +24,3 @@ macro_rules! transitive_impl {\n         }\n     };\n }\n-\n-// In Chalk, these can be done as blanket impls, but that doesn't work here\n-// because of coherence\n-\n-transitive_impl!(TraitRef, WhereClause, DomainGoal);\n-transitive_impl!(AliasEq, WhereClause, DomainGoal);\n-\n-macro_rules! reflexive_impl {\n-    ($a:ty) => {\n-        impl CastTo<$a> for $a {\n-            fn cast_to(self, _interner: &Interner) -> $a {\n-                self\n-            }\n-        }\n-    };\n-}\n-\n-reflexive_impl!(GenericArg);"}]}