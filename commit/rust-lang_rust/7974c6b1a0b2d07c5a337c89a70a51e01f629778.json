{"sha": "7974c6b1a0b2d07c5a337c89a70a51e01f629778", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5NzRjNmIxYTBiMmQwN2M1YTMzN2M4OWE3MGE1MWUwMWY2Mjk3Nzg=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-08T22:59:36Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-08-08T22:59:36Z"}, "message": "Mincrooptimization", "tree": {"sha": "7bae3e37fd6be0171789bba5f3965056649f79c5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7bae3e37fd6be0171789bba5f3965056649f79c5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7974c6b1a0b2d07c5a337c89a70a51e01f629778", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7974c6b1a0b2d07c5a337c89a70a51e01f629778", "html_url": "https://github.com/rust-lang/rust/commit/7974c6b1a0b2d07c5a337c89a70a51e01f629778", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7974c6b1a0b2d07c5a337c89a70a51e01f629778/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f4d294f32c570a8b5494e288eae8652bc2372bb9", "url": "https://api.github.com/repos/rust-lang/rust/commits/f4d294f32c570a8b5494e288eae8652bc2372bb9", "html_url": "https://github.com/rust-lang/rust/commit/f4d294f32c570a8b5494e288eae8652bc2372bb9"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "878f3ba3916fa26966f8be5a4528ca436c201922", "filename": "src/yellow/builder.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7974c6b1a0b2d07c5a337c89a70a51e01f629778/src%2Fyellow%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7974c6b1a0b2d07c5a337c89a70a51e01f629778/src%2Fyellow%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fyellow%2Fbuilder.rs?ref=7974c6b1a0b2d07c5a337c89a70a51e01f629778", "patch": "@@ -41,11 +41,11 @@ impl<'a> Sink<'a> for GreenBuilder<'a> {\n \n     fn finish_internal(&mut self) {\n         let (kind, first_child) = self.parents.pop().unwrap();\n-        let children = self.children\n+        let children: Vec<_> = self.children\n             .drain(first_child..)\n             .collect();\n         self.children.push(\n-            GreenNode::new_branch(kind, children)\n+            GreenNode::new_branch(kind, children.into_boxed_slice())\n         );\n     }\n "}, {"sha": "57579a8f2c4a54cc4ffa1879a8e520b8a2e1531d", "filename": "src/yellow/green.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7974c6b1a0b2d07c5a337c89a70a51e01f629778/src%2Fyellow%2Fgreen.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7974c6b1a0b2d07c5a337c89a70a51e01f629778/src%2Fyellow%2Fgreen.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fyellow%2Fgreen.rs?ref=7974c6b1a0b2d07c5a337c89a70a51e01f629778", "patch": "@@ -16,7 +16,7 @@ impl GreenNode {\n         GreenNode::Leaf(GreenLeaf::new(kind, text))\n     }\n \n-    pub(crate) fn new_branch(kind: SyntaxKind, children: Vec<GreenNode>) -> GreenNode {\n+    pub(crate) fn new_branch(kind: SyntaxKind, children: Box<[GreenNode]>) -> GreenNode {\n         GreenNode::Branch(Arc::new(GreenBranch::new(kind, children)))\n     }\n \n@@ -64,11 +64,11 @@ fn assert_send_sync() {\n pub(crate) struct GreenBranch {\n     text_len: TextUnit,\n     kind: SyntaxKind,\n-    children: Vec<GreenNode>,\n+    children: Box<[GreenNode]>,\n }\n \n impl GreenBranch {\n-    fn new(kind: SyntaxKind, children: Vec<GreenNode>) -> GreenBranch {\n+    fn new(kind: SyntaxKind, children: Box<[GreenNode]>) -> GreenBranch {\n         let text_len = children.iter().map(|x| x.text_len()).sum::<TextUnit>();\n         GreenBranch {\n             text_len,\n@@ -86,7 +86,7 @@ impl GreenBranch {\n     }\n \n     pub fn children(&self) -> &[GreenNode] {\n-        self.children.as_slice()\n+        &*self.children\n     }\n }\n "}]}