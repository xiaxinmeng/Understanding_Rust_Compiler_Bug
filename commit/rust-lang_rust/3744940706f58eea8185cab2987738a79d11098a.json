{"sha": "3744940706f58eea8185cab2987738a79d11098a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3NDQ5NDA3MDZmNThlZWE4MTg1Y2FiMjk4NzczOGE3OWQxMTA5OGE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-06T17:36:55Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-06T17:36:55Z"}, "message": "auto merge of #14677 : alexcrichton/rust/issue-2665, r=brson\n\nThere's no need to distribute these ABI helpers for tests with the standard rust\r\ndistribution they're only needed for our tests.\r\n\r\nCloses #2665", "tree": {"sha": "104eaac6277b1468394d4cc91463d43a1b216b1d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/104eaac6277b1468394d4cc91463d43a1b216b1d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3744940706f58eea8185cab2987738a79d11098a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3744940706f58eea8185cab2987738a79d11098a", "html_url": "https://github.com/rust-lang/rust/commit/3744940706f58eea8185cab2987738a79d11098a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3744940706f58eea8185cab2987738a79d11098a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "124e997f364fb9e281516962d14af9c3415d3433", "url": "https://api.github.com/repos/rust-lang/rust/commits/124e997f364fb9e281516962d14af9c3415d3433", "html_url": "https://github.com/rust-lang/rust/commit/124e997f364fb9e281516962d14af9c3415d3433"}, {"sha": "5cdc36517ed9939ef9f10736c269e5988062e479", "url": "https://api.github.com/repos/rust-lang/rust/commits/5cdc36517ed9939ef9f10736c269e5988062e479", "html_url": "https://github.com/rust-lang/rust/commit/5cdc36517ed9939ef9f10736c269e5988062e479"}], "stats": {"total": 67, "additions": 34, "deletions": 33}, "files": [{"sha": "97bf7db5332ce6143ac57e0e27e8b35a0dc5de20", "filename": "mk/crates.mk", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/mk%2Fcrates.mk", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/mk%2Fcrates.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcrates.mk?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -84,7 +84,7 @@ DEPS_collections := core alloc\n DEPS_fourcc := syntax std\n DEPS_hexfloat := syntax std\n DEPS_num := std\n-DEPS_test := std getopts serialize term time regex\n+DEPS_test := std getopts serialize term time regex native:rust_test_helpers\n DEPS_time := std serialize sync\n DEPS_rand := core\n DEPS_url := std"}, {"sha": "625e1a8d0c7a711be36f36d9c32595f592ffb8b0", "filename": "mk/rt.mk", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -35,7 +35,8 @@\n # that's per-target so you're allowed to conditionally add files based on the\n # target.\n ################################################################################\n-NATIVE_LIBS := rustrt hoedown uv_support morestack miniz context_switch\n+NATIVE_LIBS := rustrt hoedown uv_support morestack miniz context_switch \\\n+\t\trust_test_helpers\n \n # $(1) is the target triple\n define NATIVE_LIBRARIES\n@@ -53,9 +54,9 @@ NATIVE_DEPS_uv_support_$(1) := rust_uv.c\n NATIVE_DEPS_miniz_$(1) = miniz.c\n NATIVE_DEPS_rustrt_$(1) := rust_builtin.c \\\n \t\t\trust_android_dummy.c \\\n-\t\t\trust_test_helpers.c \\\n \t\t\trust_try.ll \\\n \t\t\tarch/$$(HOST_$(1))/record_sp.S\n+NATIVE_DEPS_rust_test_helpers_$(1) := rust_test_helpers.c\n NATIVE_DEPS_morestack_$(1) := arch/$$(HOST_$(1))/morestack.S\n NATIVE_DEPS_context_switch_$(1) := \\\n \t\t\tarch/$$(HOST_$(1))/_context.S"}, {"sha": "049a91cfdeb42d712a7d8393dd1de962f9aa8363", "filename": "src/test/auxiliary/anon-extern-mod-cross-crate-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Fauxiliary%2Fanon-extern-mod-cross-crate-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Fauxiliary%2Fanon-extern-mod-cross-crate-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fanon-extern-mod-cross-crate-1.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -12,7 +12,7 @@\n \n extern crate libc;\n \n-#[link(name=\"rustrt\")]\n+#[link(name=\"rust_test_helpers\")]\n extern {\n     pub fn rust_get_test_int() -> libc::intptr_t;\n }"}, {"sha": "e26f8effb47fc85f852d1d878a7a8d7c0875d0d4", "filename": "src/test/auxiliary/extern-crosscrate-source.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Fauxiliary%2Fextern-crosscrate-source.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Fauxiliary%2Fextern-crosscrate-source.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fextern-crosscrate-source.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -16,7 +16,7 @@ extern crate libc;\n pub mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "a6bbd40f81088fbc738bc508ad5c0665e03dcf94", "filename": "src/test/auxiliary/foreign_lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Fauxiliary%2Fforeign_lib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Fauxiliary%2Fforeign_lib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fforeign_lib.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -13,7 +13,7 @@\n pub mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         fn rust_get_test_int() -> libc::intptr_t;\n     }"}, {"sha": "78e1cdabb47486c683a9e43704e473a1f9fde484", "filename": "src/test/run-pass/anon-extern-mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fanon-extern-mod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fanon-extern-mod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fanon-extern-mod.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -10,7 +10,7 @@\n \n extern crate libc;\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     fn rust_get_test_int() -> libc::intptr_t;\n }"}, {"sha": "6a1dde24d6850509e209c0fcf9a495aa2389bf04", "filename": "src/test/run-pass/c-stack-as-value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fc-stack-as-value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fc-stack-as-value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fc-stack-as-value.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -11,7 +11,7 @@\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_get_test_int() -> libc::intptr_t;\n     }"}, {"sha": "d05057ea2519b70f656a8cffabd2ed2f0a7a0d90", "filename": "src/test/run-pass/extern-call-deep.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-deep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-deep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-deep.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -13,7 +13,7 @@ extern crate libc;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "654541dcde0bef43ce2be636b9c8d06228adb362", "filename": "src/test/run-pass/extern-call-deep2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-deep2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-deep2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-deep2.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -14,7 +14,7 @@ use std::task;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "8db745424b21eb6b29f5d49173f4b313526286b3", "filename": "src/test/run-pass/extern-call-indirect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-indirect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-indirect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-indirect.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -13,7 +13,7 @@ extern crate libc;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "07d425dcdadbd7e589d31a911ff46b355a3c2fe7", "filename": "src/test/run-pass/extern-call-scrub.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-scrub.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-call-scrub.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-call-scrub.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -18,7 +18,7 @@ use std::task;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "8a9231b640e83efc9254b8142d4f15bc53816fc4", "filename": "src/test/run-pass/extern-pass-TwoU16s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU16s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU16s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU16s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -16,7 +16,7 @@ struct TwoU16s {\n     one: u16, two: u16\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU16s(v: TwoU16s) -> TwoU16s;\n }"}, {"sha": "480eef1c6e9d9b79f262025b1ec646a0bba9ff82", "filename": "src/test/run-pass/extern-pass-TwoU32s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU32s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU32s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU32s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -16,7 +16,7 @@ struct TwoU32s {\n     one: u32, two: u32\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU32s(v: TwoU32s) -> TwoU32s;\n }"}, {"sha": "ca0df4728c6b002dceb1bc026b176a9beea1ab71", "filename": "src/test/run-pass/extern-pass-TwoU64s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU64s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU64s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU64s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -16,7 +16,7 @@ struct TwoU64s {\n     one: u64, two: u64\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU64s(v: TwoU64s) -> TwoU64s;\n }"}, {"sha": "7aeb0a0ec84eaa73aa6857af02dfdb10300ca865", "filename": "src/test/run-pass/extern-pass-TwoU8s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU8s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU8s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-TwoU8s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -16,7 +16,7 @@ struct TwoU8s {\n     one: u8, two: u8\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_TwoU8s(v: TwoU8s) -> TwoU8s;\n }"}, {"sha": "49c3bf62dbc859a57236716eb8cf44ca49c7abb2", "filename": "src/test/run-pass/extern-pass-char.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-char.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-char.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-char.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -10,7 +10,7 @@\n \n // Test a function that takes/returns a u8.\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_u8(v: u8) -> u8;\n }"}, {"sha": "c33c9ee3027f761580ecc802a3c4b61ed9a9326a", "filename": "src/test/run-pass/extern-pass-double.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-double.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-double.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-double.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_double(v: f64) -> f64;\n }"}, {"sha": "272dfc98148ca421186ee0d2a9ae1f6767372691", "filename": "src/test/run-pass/extern-pass-empty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-empty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-empty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-empty.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -26,7 +26,7 @@ struct ManyInts {\n \n struct Empty;\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     fn rust_dbg_extern_empty_struct(v1: ManyInts, e: Empty, v2: ManyInts);\n }"}, {"sha": "07c04af8e1bfd9ce95901d2ae0456e684c81446a", "filename": "src/test/run-pass/extern-pass-u32.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-u32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-u32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-u32.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -10,7 +10,7 @@\n \n // Test a function that takes/returns a u32.\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_u32(v: u32) -> u32;\n }"}, {"sha": "e19c73ebe2054fa552c7b9dfcd9d7b63ee230abe", "filename": "src/test/run-pass/extern-pass-u64.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-u64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-pass-u64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-pass-u64.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -10,7 +10,7 @@\n \n // Test a call to a function that takes/returns a u64.\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_identity_u64(v: u64) -> u64;\n }"}, {"sha": "95352e670203122b93dcbca48b25c6c3828187cc", "filename": "src/test/run-pass/extern-return-TwoU16s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU16s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU16s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU16s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -12,7 +12,7 @@ struct TwoU16s {\n     one: u16, two: u16\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU16s() -> TwoU16s;\n }"}, {"sha": "81bd0e9559da297ac4a59c7265c248d32dc2cb9d", "filename": "src/test/run-pass/extern-return-TwoU32s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU32s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU32s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU32s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -12,7 +12,7 @@ struct TwoU32s {\n     one: u32, two: u32\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU32s() -> TwoU32s;\n }"}, {"sha": "7c37e0f4e686e370d499cdb35e3713ded0f133bf", "filename": "src/test/run-pass/extern-return-TwoU64s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU64s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU64s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU64s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -12,7 +12,7 @@ struct TwoU64s {\n     one: u64, two: u64\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU64s() -> TwoU64s;\n }"}, {"sha": "d20f5475c4eeee02fda03b6ffdc57801b0787fe1", "filename": "src/test/run-pass/extern-return-TwoU8s.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU8s.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-return-TwoU8s.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-return-TwoU8s.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -12,7 +12,7 @@ struct TwoU8s {\n     one: u8, two: u8\n }\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     pub fn rust_dbg_extern_return_TwoU8s() -> TwoU8s;\n }"}, {"sha": "18e771b9b1ef001631507e084bd7c8dcd0179f60", "filename": "src/test/run-pass/extern-stress.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-stress.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-stress.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-stress.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -17,7 +17,7 @@ use std::task;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "0735cca1864cffc43b3adcc9ca5452c4d7e420e3", "filename": "src/test/run-pass/extern-yield.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-yield.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fextern-yield.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-yield.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -14,7 +14,7 @@ use std::task;\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_call(cb: extern \"C\" fn (libc::uintptr_t) -> libc::uintptr_t,\n                              data: libc::uintptr_t)"}, {"sha": "bd4c89eb8ab39edfc48cefb953635d30e08175d5", "filename": "src/test/run-pass/foreign-call-no-runtime.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fforeign-call-no-runtime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fforeign-call-no-runtime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fforeign-call-no-runtime.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -13,7 +13,7 @@ extern crate libc;\n use std::mem;\n use std::rt::thread::Thread;\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     fn rust_dbg_call(cb: extern \"C\" fn(libc::uintptr_t),\n                      data: libc::uintptr_t) -> libc::uintptr_t;"}, {"sha": "74c1132625f73a11bb49f941b24a8169a646e6f2", "filename": "src/test/run-pass/foreign-dupe.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fforeign-dupe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fforeign-dupe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fforeign-dupe.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -13,7 +13,7 @@\n mod rustrt1 {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_get_test_int() -> libc::intptr_t;\n     }\n@@ -22,7 +22,7 @@ mod rustrt1 {\n mod rustrt2 {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_get_test_int() -> libc::intptr_t;\n     }"}, {"sha": "2af02feb21d771445e00d57e7356947e3dda1a12", "filename": "src/test/run-pass/foreign-no-abi.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fforeign-no-abi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fforeign-no-abi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fforeign-no-abi.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -13,7 +13,7 @@\n mod rustrt {\n     extern crate libc;\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_get_test_int() -> libc::intptr_t;\n     }"}, {"sha": "e5d4591361a6351d257f4bcbeb633e434ce96f57", "filename": "src/test/run-pass/static-mut-foreign.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fstatic-mut-foreign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fstatic-mut-foreign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstatic-mut-foreign.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -14,7 +14,7 @@\n \n extern crate libc;\n \n-#[link(name = \"rustrt\")]\n+#[link(name = \"rust_test_helpers\")]\n extern {\n     static mut rust_dbg_static_mut: libc::c_int;\n     pub fn rust_dbg_static_mut_check_four();"}, {"sha": "93c0e7f5ba5382053d6f515053a103d260bb0fa4", "filename": "src/test/run-pass/struct-return.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fstruct-return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3744940706f58eea8185cab2987738a79d11098a/src%2Ftest%2Frun-pass%2Fstruct-return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstruct-return.rs?ref=3744940706f58eea8185cab2987738a79d11098a", "patch": "@@ -14,7 +14,7 @@ pub struct Floats { a: f64, b: u8, c: f64 }\n mod rustrt {\n     use super::{Floats, Quad};\n \n-    #[link(name = \"rustrt\")]\n+    #[link(name = \"rust_test_helpers\")]\n     extern {\n         pub fn rust_dbg_abi_1(q: Quad) -> Quad;\n         pub fn rust_dbg_abi_2(f: Floats) -> Floats;"}]}