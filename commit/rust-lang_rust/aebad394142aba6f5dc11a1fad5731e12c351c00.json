{"sha": "aebad394142aba6f5dc11a1fad5731e12c351c00", "node_id": "C_kwDOAAsO6NoAKGFlYmFkMzk0MTQyYWJhNmY1ZGMxMWExZmFkNTczMWUxMmMzNTFjMDA", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2022-08-25T12:49:42Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2022-08-25T12:49:42Z"}, "message": "Add test for {:.0$} diagnostic issue.", "tree": {"sha": "2f63f43d7b6cba9ac05a37da190ed2bb7b0c1984", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f63f43d7b6cba9ac05a37da190ed2bb7b0c1984"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aebad394142aba6f5dc11a1fad5731e12c351c00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aebad394142aba6f5dc11a1fad5731e12c351c00", "html_url": "https://github.com/rust-lang/rust/commit/aebad394142aba6f5dc11a1fad5731e12c351c00", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aebad394142aba6f5dc11a1fad5731e12c351c00/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b044da5bb87702a160537cf1137b8921b54ddd5", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b044da5bb87702a160537cf1137b8921b54ddd5", "html_url": "https://github.com/rust-lang/rust/commit/1b044da5bb87702a160537cf1137b8921b54ddd5"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "f00cb05c9ebc378b7c9135d5b15254926fc3e8b1", "filename": "src/test/ui/fmt/ifmt-bad-arg.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aebad394142aba6f5dc11a1fad5731e12c351c00/src%2Ftest%2Fui%2Ffmt%2Fifmt-bad-arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aebad394142aba6f5dc11a1fad5731e12c351c00/src%2Ftest%2Fui%2Ffmt%2Fifmt-bad-arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffmt%2Fifmt-bad-arg.rs?ref=aebad394142aba6f5dc11a1fad5731e12c351c00", "patch": "@@ -94,4 +94,6 @@ tenth number: {}\",\n     // doesn't exist.\n     println!(\"{:.*}\");\n     //~^ ERROR 2 positional arguments in format string, but no arguments were given\n+    println!(\"{:.0$}\");\n+    //~^ ERROR 1 positional argument in format string, but no arguments were given\n }"}, {"sha": "dbb4bc6d9370e9f377cb1cc8e241e9f070ba6589", "filename": "src/test/ui/fmt/ifmt-bad-arg.stderr", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/aebad394142aba6f5dc11a1fad5731e12c351c00/src%2Ftest%2Fui%2Ffmt%2Fifmt-bad-arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aebad394142aba6f5dc11a1fad5731e12c351c00/src%2Ftest%2Fui%2Ffmt%2Fifmt-bad-arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffmt%2Fifmt-bad-arg.stderr?ref=aebad394142aba6f5dc11a1fad5731e12c351c00", "patch": "@@ -273,6 +273,17 @@ LL |     println!(\"{:.*}\");\n    = note: positional arguments are zero-based\n    = note: for information about formatting flags, visit https://doc.rust-lang.org/std/fmt/index.html\n \n+error: 1 positional argument in format string, but no arguments were given\n+  --> $DIR/ifmt-bad-arg.rs:97:15\n+   |\n+LL |     println!(\"{:.0$}\");\n+   |               ^^---^\n+   |                 |\n+   |                 this precision flag expects an `usize` argument at position 0, but no arguments were given\n+   |\n+   = note: positional arguments are zero-based\n+   = note: for information about formatting flags, visit https://doc.rust-lang.org/std/fmt/index.html\n+\n error[E0425]: cannot find value `foo` in this scope\n   --> $DIR/ifmt-bad-arg.rs:27:18\n    |\n@@ -339,7 +350,7 @@ LL |     pub fn from_usize(x: &usize) -> ArgumentV1<'_> {\n    |            ^^^^^^^^^^\n    = note: this error originates in the macro `$crate::format_args_nl` which comes from the expansion of the macro `println` (in Nightly builds, run with -Z macro-backtrace for more info)\n \n-error: aborting due to 37 previous errors\n+error: aborting due to 38 previous errors\n \n Some errors have detailed explanations: E0308, E0425.\n For more information about an error, try `rustc --explain E0308`."}]}