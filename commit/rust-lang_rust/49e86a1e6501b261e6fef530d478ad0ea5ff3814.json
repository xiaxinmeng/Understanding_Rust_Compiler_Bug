{"sha": "49e86a1e6501b261e6fef530d478ad0ea5ff3814", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ5ZTg2YTFlNjUwMWIyNjFlNmZlZjUzMGQ0NzhhZDBlYTVmZjM4MTQ=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-01-17T21:38:46Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-01-17T21:38:46Z"}, "message": "Handle semicolons in macro statements\n\nFixes #1279", "tree": {"sha": "9fda0bd745e26d112a1455f80f8c8b601444695f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9fda0bd745e26d112a1455f80f8c8b601444695f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/49e86a1e6501b261e6fef530d478ad0ea5ff3814", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/49e86a1e6501b261e6fef530d478ad0ea5ff3814", "html_url": "https://github.com/rust-lang/rust/commit/49e86a1e6501b261e6fef530d478ad0ea5ff3814", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/49e86a1e6501b261e6fef530d478ad0ea5ff3814/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "923423fa326603f15848d2f90a236a340022a0eb", "url": "https://api.github.com/repos/rust-lang/rust/commits/923423fa326603f15848d2f90a236a340022a0eb", "html_url": "https://github.com/rust-lang/rust/commit/923423fa326603f15848d2f90a236a340022a0eb"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "bea976523bbb1bb54f1b6efd25ce528392776dc2", "filename": "src/visitor.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/49e86a1e6501b261e6fef530d478ad0ea5ff3814/src%2Fvisitor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/49e86a1e6501b261e6fef530d478ad0ea5ff3814/src%2Fvisitor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvisitor.rs?ref=49e86a1e6501b261e6fef530d478ad0ea5ff3814", "patch": "@@ -61,12 +61,12 @@ impl<'a> FmtVisitor<'a> {\n                 let rewrite = stmt.rewrite(&self.get_context(),\n                                            self.config.max_width - self.block_indent.width(),\n                                            self.block_indent);\n-\n                 self.push_rewrite(stmt.span, rewrite);\n             }\n             ast::StmtKind::Mac(ref mac) => {\n                 let (ref mac, _macro_style, _) = **mac;\n                 self.visit_mac(mac, None, MacroPosition::Statement);\n+                self.format_missing(stmt.span.hi);\n             }\n         }\n     }"}, {"sha": "c8f625b935b0b2e51f3a23bf98c67f13b05fb4fd", "filename": "tests/source/macros.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/49e86a1e6501b261e6fef530d478ad0ea5ff3814/tests%2Fsource%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/49e86a1e6501b261e6fef530d478ad0ea5ff3814/tests%2Fsource%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fmacros.rs?ref=49e86a1e6501b261e6fef530d478ad0ea5ff3814", "patch": "@@ -75,3 +75,7 @@ gfx_pipeline!(pipe {\n     vbuf: gfx::VertexBuffer<Vertex> = (),\n     out: gfx::RenderTarget<ColorFormat> = \"Target0\",\n });\n+\n+fn issue_1279() {\n+    println!(\"dsfs\"); // a comment\n+}"}, {"sha": "c4f40cfe55b338916b08ed685223f01d9cd02540", "filename": "tests/target/macros.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/49e86a1e6501b261e6fef530d478ad0ea5ff3814/tests%2Ftarget%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/49e86a1e6501b261e6fef530d478ad0ea5ff3814/tests%2Ftarget%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fmacros.rs?ref=49e86a1e6501b261e6fef530d478ad0ea5ff3814", "patch": "@@ -76,3 +76,7 @@ gfx_pipeline!(pipe {\n     vbuf: gfx::VertexBuffer<Vertex> = (),\n     out: gfx::RenderTarget<ColorFormat> = \"Target0\",\n });\n+\n+fn issue_1279() {\n+    println!(\"dsfs\"); // a comment\n+}"}]}