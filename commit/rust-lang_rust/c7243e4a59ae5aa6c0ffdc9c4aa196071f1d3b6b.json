{"sha": "c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM3MjQzZTRhNTlhZTVhYTZjMGZmZGM5YzRhYTE5NjA3MWYxZDNiNmI=", "commit": {"author": {"name": "kjeremy", "email": "kjeremy@gmail.com", "date": "2020-09-18T15:39:25Z"}, "committer": {"name": "kjeremy", "email": "kjeremy@gmail.com", "date": "2020-09-18T15:39:25Z"}, "message": "Support active parameters at the per-signature level\n\nUpdate crates", "tree": {"sha": "c96d093157793bc2189438eaa6f6146e3a00221d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c96d093157793bc2189438eaa6f6146e3a00221d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b", "html_url": "https://github.com/rust-lang/rust/commit/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b/comments", "author": {"login": "kjeremy", "id": 4325700, "node_id": "MDQ6VXNlcjQzMjU3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4325700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjeremy", "html_url": "https://github.com/kjeremy", "followers_url": "https://api.github.com/users/kjeremy/followers", "following_url": "https://api.github.com/users/kjeremy/following{/other_user}", "gists_url": "https://api.github.com/users/kjeremy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjeremy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjeremy/subscriptions", "organizations_url": "https://api.github.com/users/kjeremy/orgs", "repos_url": "https://api.github.com/users/kjeremy/repos", "events_url": "https://api.github.com/users/kjeremy/events{/privacy}", "received_events_url": "https://api.github.com/users/kjeremy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kjeremy", "id": 4325700, "node_id": "MDQ6VXNlcjQzMjU3MDA=", "avatar_url": "https://avatars.githubusercontent.com/u/4325700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kjeremy", "html_url": "https://github.com/kjeremy", "followers_url": "https://api.github.com/users/kjeremy/followers", "following_url": "https://api.github.com/users/kjeremy/following{/other_user}", "gists_url": "https://api.github.com/users/kjeremy/gists{/gist_id}", "starred_url": "https://api.github.com/users/kjeremy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kjeremy/subscriptions", "organizations_url": "https://api.github.com/users/kjeremy/orgs", "repos_url": "https://api.github.com/users/kjeremy/repos", "events_url": "https://api.github.com/users/kjeremy/events{/privacy}", "received_events_url": "https://api.github.com/users/kjeremy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e1500ec7493f2e82020eefd17a9f384a8a42f4b", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e1500ec7493f2e82020eefd17a9f384a8a42f4b", "html_url": "https://github.com/rust-lang/rust/commit/5e1500ec7493f2e82020eefd17a9f384a8a42f4b"}], "stats": {"total": 34, "additions": 20, "deletions": 14}, "files": [{"sha": "cf88c4e1701497ad779bd823f7627b8e4794460b", "filename": "Cargo.lock", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b", "patch": "@@ -140,9 +140,9 @@ dependencies = [\n \n [[package]]\n name = \"cc\"\n-version = \"1.0.59\"\n+version = \"1.0.60\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"66120af515773fb005778dc07c261bd201ec8ce50bd6e7144c927753fe013381\"\n+checksum = \"ef611cc68ff783f18535d77ddd080185275713d852c4f5cbb6122c462a7a825c\"\n \n [[package]]\n name = \"cfg\"\n@@ -311,9 +311,9 @@ checksum = \"9bda8e21c04aca2ae33ffc2fd8c23134f3cac46db123ba97bd9d3f3b8a4a85e1\"\n \n [[package]]\n name = \"either\"\n-version = \"1.6.0\"\n+version = \"1.6.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"cd56b59865bce947ac5958779cfa508f6c3b9497cc762b7e24a12d11ccde2c4f\"\n+checksum = \"e78d4f1cc4ae33bbfc157ed5d5a5ef3bc29227303d595861deb238fcec4e9457\"\n \n [[package]]\n name = \"ena\"\n@@ -775,9 +775,9 @@ dependencies = [\n \n [[package]]\n name = \"lsp-types\"\n-version = \"0.80.0\"\n+version = \"0.81.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f4265e2715bdacbb4dad029fce525e420cd66dc0af24ff9cb996a8ab48ac92ef\"\n+checksum = \"5e02724627e9ef8ba91f461ebc01d48aebbd13a4b7c9dc547a0a2890f53e2171\"\n dependencies = [\n  \"base64\",\n  \"bitflags\",\n@@ -1187,9 +1187,9 @@ dependencies = [\n \n [[package]]\n name = \"rayon-core\"\n-version = \"1.8.0\"\n+version = \"1.8.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"91739a34c4355b5434ce54c9086c5895604a9c278586d1f1aa95e04f66b525a0\"\n+checksum = \"e8c4fec834fb6e6d2dd5eece3c7b432a52f0ba887cf40e595190c4107edc08bf\"\n dependencies = [\n  \"crossbeam-channel\",\n  \"crossbeam-deque\",\n@@ -1493,9 +1493,9 @@ version = \"0.0.0\"\n \n [[package]]\n name = \"syn\"\n-version = \"1.0.40\"\n+version = \"1.0.41\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"963f7d3cc59b59b9325165add223142bbf1df27655d07789f109896d353d8350\"\n+checksum = \"6690e3e9f692504b941dc6c3b188fd28df054f7fb8469ab40680df52fdcc842b\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\","}, {"sha": "0fbb9cb0d2a6624b86d6f105190cc7276f74c205", "filename": "crates/rust-analyzer/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b/crates%2Frust-analyzer%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b/crates%2Frust-analyzer%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2FCargo.toml?ref=c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b", "patch": "@@ -21,7 +21,7 @@ env_logger = { version = \"0.7.1\", default-features = false }\n itertools = \"0.9.0\"\n jod-thread = \"0.1.0\"\n log = \"0.4.8\"\n-lsp-types = { version = \"0.80.0\", features = [\"proposed\"] }\n+lsp-types = { version = \"0.81.0\", features = [\"proposed\"] }\n parking_lot = \"0.11.0\"\n pico-args = \"0.3.1\"\n oorandom = \"11.1.2\""}, {"sha": "59e780b7d2e55156dfee9fffa56397e290685845", "filename": "crates/rust-analyzer/src/to_proto.rs", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs?ref=c7243e4a59ae5aa6c0ffdc9c4aa196071f1d3b6b", "patch": "@@ -285,12 +285,18 @@ pub(crate) fn signature_help(\n         })\n     };\n \n-    let signature =\n-        lsp_types::SignatureInformation { label, documentation, parameters: Some(parameters) };\n+    let active_parameter = call_info.active_parameter.map(|it| it as i64);\n+\n+    let signature = lsp_types::SignatureInformation {\n+        label,\n+        documentation,\n+        parameters: Some(parameters),\n+        active_parameter,\n+    };\n     lsp_types::SignatureHelp {\n         signatures: vec![signature],\n         active_signature: None,\n-        active_parameter: call_info.active_parameter.map(|it| it as i64),\n+        active_parameter,\n     }\n }\n "}]}