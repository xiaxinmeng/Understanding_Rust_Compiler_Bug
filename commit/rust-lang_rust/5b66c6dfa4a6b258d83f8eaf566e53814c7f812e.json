{"sha": "5b66c6dfa4a6b258d83f8eaf566e53814c7f812e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViNjZjNmRmYTRhNmIyNThkODNmOGVhZjU2NmU1MzgxNGM3ZjgxMmU=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-01-27T17:20:43Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-01-27T17:20:43Z"}, "message": "Test cases for issue #20055.\n\nNote that I have not yet managed to expose any bug in\n`trans::expr::into_fat_ptr`; it would be good to try to do so (or show\nthat the use of `.to_lvalue_datum` there is sound).", "tree": {"sha": "60aa838bf190047901a1be06f6b3a5eba4b97f81", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/60aa838bf190047901a1be06f6b3a5eba4b97f81"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e", "html_url": "https://github.com/rust-lang/rust/commit/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "326443105b897171424c6efde15198cd7a25bc61", "url": "https://api.github.com/repos/rust-lang/rust/commits/326443105b897171424c6efde15198cd7a25bc61", "html_url": "https://github.com/rust-lang/rust/commit/326443105b897171424c6efde15198cd7a25bc61"}], "stats": {"total": 73, "additions": 73, "deletions": 0}, "files": [{"sha": "fca63f91ca86326af849729e295b6ada8241c361", "filename": "src/test/run-pass/issue-20055-box-trait.rs", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e/src%2Ftest%2Frun-pass%2Fissue-20055-box-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e/src%2Ftest%2Frun-pass%2Fissue-20055-box-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-20055-box-trait.rs?ref=5b66c6dfa4a6b258d83f8eaf566e53814c7f812e", "patch": "@@ -0,0 +1,40 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+trait Boo { }\n+\n+impl Boo for [i8; 1] { }\n+impl Boo for [i8; 2] { }\n+impl Boo for [i8; 3] { }\n+impl Boo for [i8; 4] { }\n+\n+pub fn foo(box_1: fn () -> Box<[i8; 1]>,\n+           box_2: fn () -> Box<[i8; 20]>,\n+           box_3: fn () -> Box<[i8; 300]>,\n+           box_4: fn () -> Box<[i8; 4000]>,\n+            ) {\n+    println!(\"Hello World 1\");\n+    let _: Box<[i8]> = match 3 {\n+        1 => box_1(),\n+        2 => box_2(),\n+        3 => box_3(),\n+        _ => box_4(),\n+    };\n+    println!(\"Hello World 2\");\n+}\n+\n+pub fn main() {\n+    fn box_1() -> Box<[i8; 1]> { Box::new( [1i8] ) }\n+    fn box_2() -> Box<[i8; 20]> { Box::new( [1i8; 20] ) }\n+    fn box_3() -> Box<[i8; 300]> { Box::new( [1i8; 300] ) }\n+    fn box_4() -> Box<[i8; 4000]> { Box::new( [1i8; 4000] ) }\n+\n+    foo(box_1, box_2, box_3, box_4);\n+}"}, {"sha": "2f3f737d1a77aec8e3fcfe7d809b971e8a9897be", "filename": "src/test/run-pass/issue-20055-box-unsized-array.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e/src%2Ftest%2Frun-pass%2Fissue-20055-box-unsized-array.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b66c6dfa4a6b258d83f8eaf566e53814c7f812e/src%2Ftest%2Frun-pass%2Fissue-20055-box-unsized-array.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-20055-box-unsized-array.rs?ref=5b66c6dfa4a6b258d83f8eaf566e53814c7f812e", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+pub fn foo(box_1: fn () -> Box<[i8; 1]>,\n+           box_2: fn () -> Box<[i8; 20]>,\n+           box_3: fn () -> Box<[i8; 300]>,\n+           box_4: fn () -> Box<[i8; 4000]>,\n+            ) {\n+    println!(\"Hello World 1\");\n+    let _: Box<[i8]> = match 3 {\n+        1 => box_1(),\n+        2 => box_2(),\n+        3 => box_3(),\n+        _ => box_4(),\n+    };\n+    println!(\"Hello World 2\");\n+}\n+\n+pub fn main() {\n+    fn box_1() -> Box<[i8; 1]> { Box::new( [1i8] ) }\n+    fn box_2() -> Box<[i8; 20]> { Box::new( [1i8; 20] ) }\n+    fn box_3() -> Box<[i8; 300]> { Box::new( [1i8; 300] ) }\n+    fn box_4() -> Box<[i8; 4000]> { Box::new( [1i8; 4000] ) }\n+\n+    foo(box_1, box_2, box_3, box_4);\n+}"}]}