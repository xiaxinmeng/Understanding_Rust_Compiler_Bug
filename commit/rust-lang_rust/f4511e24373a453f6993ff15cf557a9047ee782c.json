{"sha": "f4511e24373a453f6993ff15cf557a9047ee782c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY0NTExZTI0MzczYTQ1M2Y2OTkzZmYxNWNmNTU3YTkwNDdlZTc4MmM=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-04-05T10:38:53Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-04-05T10:38:53Z"}, "message": "Rollup merge of #49674 - alexcrichton:no-incremental-rustc, r=michaelwoerister\n\nci: Remove x86_64-gnu-incremental builder\n\nThis builder is starting to time out frequently causing PRs to bounce and\notherwise doesn't seem to be catching too many bugs, so this commit removes it\nentirely. We've had a number of timeouts in the last few weeks related to this\nbuilder:\n\n* https://travis-ci.org/rust-lang/rust/jobs/360947582\n* https://travis-ci.org/rust-lang/rust/jobs/360464190\n* https://travis-ci.org/rust-lang/rust/jobs/359946975\n* https://travis-ci.org/rust-lang/rust/jobs/361213241\n* https://travis-ci.org/rust-lang/rust/jobs/362346279\n* https://travis-ci.org/rust-lang/rust/jobs/362072331\n\nOn a good run this builder takes about 2h15m, which is already too long for\nTravis and the variable build times end up pushing it beyond the 3h limit\noccasionally.\n\nThe timeouts here are somewhat expected in that an incrementally compiled rustc\ncompiler isn't optimized like a normal rustc, disallowing inlining between\ncodegen units and losing lots of optimization opportunities.", "tree": {"sha": "8677ba7a4108c150823d14ca48cbb9eaa7f7a89a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8677ba7a4108c150823d14ca48cbb9eaa7f7a89a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f4511e24373a453f6993ff15cf557a9047ee782c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlrF/L4ACgkQ/vbIBR0O\nATzaKg/+Lk/gF1Mekg+C23OIhIfbSC9gW9yTt2U77tyXG3PXswYC6ZzaUzGRVYWq\nDYKSz6nmTLMVWOBSpeF1hvhd9+YjaqsjRiWYQjpaMPRX1z4JrjWI/irnR8KH2t2f\nsxfkHasQacTuBucWZ95/k23d76dU9oodZ/74+aptfO9KMrH5c528g6UnCv79N0cv\nXFKjxyli7XSmzv0vBq/ZUv4pqcEkNzSzjrh9ICZDTxoLCEf6QdklOs4znK23oB5D\no800K2VchJ6IfbdiUtypy4kR++vKkLOaxLxfSKPeqUaCHNj09B6vJ3cFIfY9QAzc\nxEGC05cAkQc8hIKam92Priq2NfqZpqtKKgqgYW7HmAfOK/Gxr+hDnpaBP6brX8el\nTJWWNCxV4WKEFuBhsXk+eDN4RAraqbLLBGAJplAQtGildxyybmpOhCXL4tFbyPvp\nXQa6c2s8QCy8EEsFgyi7SVP8f/b9qiWUYbhffnhZBZvcPsU8seG4iGoHLanGQmKH\n3zqvsR0cepqZF8a+Td6f/fQT5exqZzvKuy0ZZJmKE+nYIUXVobQlu9Cj0wgO+q4N\nxgfVZ+aiK7kIEinPHsk0d5P2viqcNCYO+92ZTwoHYtK1XCiFhXpdTM1LqFx61RUX\n+lk/c1CPIZKkJy+E0wFoZ8k5O0G4mRgf8Z0NZORb+lM0V+O0aD0=\n=2al2\n-----END PGP SIGNATURE-----", "payload": "tree 8677ba7a4108c150823d14ca48cbb9eaa7f7a89a\nparent d05009bfa1df7150d2b0e266cd42f84faa6938ae\nparent 621ccf8917b25d66aff3beb45c540afbda29e980\nauthor kennytm <kennytm@gmail.com> 1522924733 +0800\ncommitter kennytm <kennytm@gmail.com> 1522924733 +0800\n\nRollup merge of #49674 - alexcrichton:no-incremental-rustc, r=michaelwoerister\n\nci: Remove x86_64-gnu-incremental builder\n\nThis builder is starting to time out frequently causing PRs to bounce and\notherwise doesn't seem to be catching too many bugs, so this commit removes it\nentirely. We've had a number of timeouts in the last few weeks related to this\nbuilder:\n\n* https://travis-ci.org/rust-lang/rust/jobs/360947582\n* https://travis-ci.org/rust-lang/rust/jobs/360464190\n* https://travis-ci.org/rust-lang/rust/jobs/359946975\n* https://travis-ci.org/rust-lang/rust/jobs/361213241\n* https://travis-ci.org/rust-lang/rust/jobs/362346279\n* https://travis-ci.org/rust-lang/rust/jobs/362072331\n\nOn a good run this builder takes about 2h15m, which is already too long for\nTravis and the variable build times end up pushing it beyond the 3h limit\noccasionally.\n\nThe timeouts here are somewhat expected in that an incrementally compiled rustc\ncompiler isn't optimized like a normal rustc, disallowing inlining between\ncodegen units and losing lots of optimization opportunities.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f4511e24373a453f6993ff15cf557a9047ee782c", "html_url": "https://github.com/rust-lang/rust/commit/f4511e24373a453f6993ff15cf557a9047ee782c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f4511e24373a453f6993ff15cf557a9047ee782c/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d05009bfa1df7150d2b0e266cd42f84faa6938ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/d05009bfa1df7150d2b0e266cd42f84faa6938ae", "html_url": "https://github.com/rust-lang/rust/commit/d05009bfa1df7150d2b0e266cd42f84faa6938ae"}, {"sha": "621ccf8917b25d66aff3beb45c540afbda29e980", "url": "https://api.github.com/repos/rust-lang/rust/commits/621ccf8917b25d66aff3beb45c540afbda29e980", "html_url": "https://github.com/rust-lang/rust/commit/621ccf8917b25d66aff3beb45c540afbda29e980"}], "stats": {"total": 24, "additions": 0, "deletions": 24}, "files": [{"sha": "36329ab91143c46e116609163e843124e5998e79", "filename": ".travis.yml", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f4511e24373a453f6993ff15cf557a9047ee782c/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/f4511e24373a453f6993ff15cf557a9047ee782c/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=f4511e24373a453f6993ff15cf557a9047ee782c", "patch": "@@ -171,8 +171,6 @@ matrix:\n       if: branch = auto\n     - env: IMAGE=x86_64-gnu-distcheck\n       if: branch = auto\n-    - env: IMAGE=x86_64-gnu-incremental\n-      if: branch = auto\n \n     - stage: publish toolstate\n       if: branch = master AND type = push"}, {"sha": "7304ed6015cc9042f5e552df3244d45f105d932e", "filename": "src/ci/docker/x86_64-gnu-incremental/Dockerfile", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/d05009bfa1df7150d2b0e266cd42f84faa6938ae/src%2Fci%2Fdocker%2Fx86_64-gnu-incremental%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/d05009bfa1df7150d2b0e266cd42f84faa6938ae/src%2Fci%2Fdocker%2Fx86_64-gnu-incremental%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fx86_64-gnu-incremental%2FDockerfile?ref=d05009bfa1df7150d2b0e266cd42f84faa6938ae", "patch": "@@ -1,22 +0,0 @@\n-FROM ubuntu:16.04\n-\n-RUN apt-get update && apt-get install -y --no-install-recommends \\\n-  g++ \\\n-  make \\\n-  file \\\n-  curl \\\n-  ca-certificates \\\n-  python2.7 \\\n-  git \\\n-  cmake \\\n-  sudo \\\n-  gdb \\\n-  xz-utils\n-\n-COPY scripts/sccache.sh /scripts/\n-RUN sh /scripts/sccache.sh\n-\n-ENV RUST_CONFIGURE_ARGS --build=x86_64-unknown-linux-gnu\n-ENV RUSTFLAGS -Zincremental=/tmp/rust-incr-cache\n-ENV RUST_CHECK_TARGET check\n-ENV CARGO_INCREMENTAL 0"}]}