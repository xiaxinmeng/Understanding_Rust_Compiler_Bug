{"sha": "43924f1f9ffea44390e178a97bef283cb7efbee1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQzOTI0ZjFmOWZmZWE0NDM5MGUxNzhhOTdiZWYyODNjYjdlZmJlZTE=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-09-13T22:05:03Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-09-13T22:05:30Z"}, "message": "fix some of the broken tests (the ones that were doing the right thing)", "tree": {"sha": "7246276ff6cc42e9d35ccf9cb5023a173b41d631", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7246276ff6cc42e9d35ccf9cb5023a173b41d631"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/43924f1f9ffea44390e178a97bef283cb7efbee1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/43924f1f9ffea44390e178a97bef283cb7efbee1", "html_url": "https://github.com/rust-lang/rust/commit/43924f1f9ffea44390e178a97bef283cb7efbee1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/43924f1f9ffea44390e178a97bef283cb7efbee1/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a544b83788cad14f61e9d39262356a9d9bd5bdf0", "url": "https://api.github.com/repos/rust-lang/rust/commits/a544b83788cad14f61e9d39262356a9d9bd5bdf0", "html_url": "https://github.com/rust-lang/rust/commit/a544b83788cad14f61e9d39262356a9d9bd5bdf0"}], "stats": {"total": 33, "additions": 15, "deletions": 18}, "files": [{"sha": "058f1217cf6aa639fa67feb0e1d2b70824fc8ad0", "filename": "src/test/run-pass/fixed_length_vec_glue.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Ffixed_length_vec_glue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Ffixed_length_vec_glue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ffixed_length_vec_glue.rs?ref=43924f1f9ffea44390e178a97bef283cb7efbee1", "patch": "@@ -2,5 +2,5 @@ fn main() {\n     let arr = [1,2,3]/3;\n     let struc = {a: 13u8, b: arr, c: 42};\n     let s = sys::log_str(struc);\n-    assert(s == ~\"(13, [1, 2, 3]/3, 42)\");\n+    assert(s == ~\"{ a: 13, b: [ 1, 2, 3 ], c: 42 }\");\n }"}, {"sha": "7c757d545b4c194e4ed1fee6facbb463bcaea4eb", "filename": "src/test/run-pass/log-knows-the-names-of-variants-in-std.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Flog-knows-the-names-of-variants-in-std.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Flog-knows-the-names-of-variants-in-std.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Flog-knows-the-names-of-variants-in-std.rs?ref=43924f1f9ffea44390e178a97bef283cb7efbee1", "patch": "@@ -13,6 +13,7 @@ fn check_log<T>(exp: ~str, v: T) {\n fn main() {\n     let x = list::from_vec(~[a(22u), b(~\"hi\")]);\n     let exp = ~\"@Cons(a(22), @Cons(b(~\\\"hi\\\"), @Nil))\";\n-    assert fmt!(\"%?\", x) == exp;\n+    let act = fmt!(\"%?\", x);\n+    assert act == exp;\n     check_log(exp, x);\n }"}, {"sha": "1bb83012ce5421a499de4d8615cfa55a4d77327c", "filename": "src/test/run-pass/log-str.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Flog-str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Flog-str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Flog-str.rs?ref=43924f1f9ffea44390e178a97bef283cb7efbee1", "patch": "@@ -1,4 +1,7 @@\n fn main() {\n-    assert ~\"~[1, 2, 3]\" == sys::log_str(~[1, 2, 3]);\n-    assert fmt!(\"%?/%6?\", ~[1, 2, 3], ~\"hi\") == ~\"~[1, 2, 3]/ ~\\\"hi\\\"\";\n+    let act = sys::log_str(~[1, 2, 3]);\n+    assert ~\"~[ 1, 2, 3 ]\" == act;\n+\n+    let act = fmt!(\"%?/%6?\", ~[1, 2, 3], ~\"hi\");\n+    assert act == ~\"~[ 1, 2, 3 ]/ ~\\\"hi\\\"\";\n }"}, {"sha": "29fd81df9bc551b16ed6ca3d1b8082cdfb4c5392", "filename": "src/test/run-pass/rec-align-u32.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Frec-align-u32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Frec-align-u32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frec-align-u32.rs?ref=43924f1f9ffea44390e178a97bef283cb7efbee1", "patch": "@@ -50,5 +50,5 @@ fn main() {\n     // because `inner`s alignment was 4.\n     assert sys::size_of::<outer>() == m::size();\n \n-    assert y == ~\"(22, (44))\";\n+    assert y == ~\"{ c8: 22, t: { c64: 44 } }\";\n }"}, {"sha": "d4c9028b900ba07afb84f601be213ef37e538c84", "filename": "src/test/run-pass/rec-align-u64.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Frec-align-u64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Frec-align-u64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frec-align-u64.rs?ref=43924f1f9ffea44390e178a97bef283cb7efbee1", "patch": "@@ -64,5 +64,5 @@ fn main() {\n     // because `inner`s alignment was 4.\n     assert sys::size_of::<outer>() == m::m::size();\n \n-    assert y == ~\"(22, (44))\";\n+    assert y == ~\"{ c8: 22, t: { c64: 44 } }\";\n }"}, {"sha": "86114f3ed8e6bb70a1c507d0a1011661973a9e05", "filename": "src/test/run-pass/tag-auto-disr-val-shape.rs", "status": "removed", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a544b83788cad14f61e9d39262356a9d9bd5bdf0/src%2Ftest%2Frun-pass%2Ftag-auto-disr-val-shape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a544b83788cad14f61e9d39262356a9d9bd5bdf0/src%2Ftest%2Frun-pass%2Ftag-auto-disr-val-shape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftag-auto-disr-val-shape.rs?ref=a544b83788cad14f61e9d39262356a9d9bd5bdf0", "patch": "@@ -1,9 +0,0 @@\n-enum color { red, green, blue, black, white, }\n-\n-fn main() {\n-    // Ideally we would print the name of the variant, not the number\n-    assert (uint::to_str(red as uint, 10u) == fmt!(\"%?\", red));\n-    assert (uint::to_str(green as uint, 10u) == fmt!(\"%?\", green));\n-    assert (uint::to_str(white as uint, 10u) == fmt!(\"%?\", white));\n-}\n-"}, {"sha": "bfb5070619f545918566cfabbb50b9424f54a91c", "filename": "src/test/run-pass/tag-disr-val-shape.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Ftag-disr-val-shape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43924f1f9ffea44390e178a97bef283cb7efbee1/src%2Ftest%2Frun-pass%2Ftag-disr-val-shape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftag-disr-val-shape.rs?ref=43924f1f9ffea44390e178a97bef283cb7efbee1", "patch": "@@ -7,8 +7,10 @@ enum color {\n }\n \n fn main() {\n-    assert uint::to_str(red as uint, 10u) == fmt!(\"%?\", red);\n-    assert uint::to_str(green as uint, 10u) == fmt!(\"%?\", green);\n-    assert uint::to_str(white as uint, 10u) == fmt!(\"%?\", white);\n+    let act = fmt!(\"%?\", red);\n+    io::println(act);\n+    assert ~\"red\" == act;\n+    assert ~\"green\" == fmt!(\"%?\", green);\n+    assert ~\"white\" == fmt!(\"%?\", white);\n }\n "}]}