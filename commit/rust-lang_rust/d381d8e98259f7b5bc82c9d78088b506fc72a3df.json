{"sha": "d381d8e98259f7b5bc82c9d78088b506fc72a3df", "node_id": "C_kwDOAAsO6NoAKGQzODFkOGU5ODI1OWY3YjViYzgyYzlkNzgwODhiNTA2ZmM3MmEzZGY", "commit": {"author": {"name": "Charles Lew", "email": "crlf0710@gmail.com", "date": "2022-09-17T08:04:02Z"}, "committer": {"name": "Charles Lew", "email": "crlf0710@gmail.com", "date": "2022-09-18T06:30:38Z"}, "message": "Add unit test for identifier Unicode emoji diagnostics", "tree": {"sha": "12a75c3cd007549ef57f69f382aa57673caece04", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/12a75c3cd007549ef57f69f382aa57673caece04"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d381d8e98259f7b5bc82c9d78088b506fc72a3df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d381d8e98259f7b5bc82c9d78088b506fc72a3df", "html_url": "https://github.com/rust-lang/rust/commit/d381d8e98259f7b5bc82c9d78088b506fc72a3df", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d381d8e98259f7b5bc82c9d78088b506fc72a3df/comments", "author": {"login": "crlf0710", "id": 451806, "node_id": "MDQ6VXNlcjQ1MTgwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/451806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crlf0710", "html_url": "https://github.com/crlf0710", "followers_url": "https://api.github.com/users/crlf0710/followers", "following_url": "https://api.github.com/users/crlf0710/following{/other_user}", "gists_url": "https://api.github.com/users/crlf0710/gists{/gist_id}", "starred_url": "https://api.github.com/users/crlf0710/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crlf0710/subscriptions", "organizations_url": "https://api.github.com/users/crlf0710/orgs", "repos_url": "https://api.github.com/users/crlf0710/repos", "events_url": "https://api.github.com/users/crlf0710/events{/privacy}", "received_events_url": "https://api.github.com/users/crlf0710/received_events", "type": "User", "site_admin": false}, "committer": {"login": "crlf0710", "id": 451806, "node_id": "MDQ6VXNlcjQ1MTgwNg==", "avatar_url": "https://avatars.githubusercontent.com/u/451806?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crlf0710", "html_url": "https://github.com/crlf0710", "followers_url": "https://api.github.com/users/crlf0710/followers", "following_url": "https://api.github.com/users/crlf0710/following{/other_user}", "gists_url": "https://api.github.com/users/crlf0710/gists{/gist_id}", "starred_url": "https://api.github.com/users/crlf0710/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crlf0710/subscriptions", "organizations_url": "https://api.github.com/users/crlf0710/orgs", "repos_url": "https://api.github.com/users/crlf0710/repos", "events_url": "https://api.github.com/users/crlf0710/events{/privacy}", "received_events_url": "https://api.github.com/users/crlf0710/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "48de123d7a0753026c362a06109f9a9cebde2a2a", "url": "https://api.github.com/repos/rust-lang/rust/commits/48de123d7a0753026c362a06109f9a9cebde2a2a", "html_url": "https://github.com/rust-lang/rust/commit/48de123d7a0753026c362a06109f9a9cebde2a2a"}], "stats": {"total": 69, "additions": 69, "deletions": 0}, "files": [{"sha": "91b5929c0fea66565a50ecbb52f201d4e53758ba", "filename": "src/test/ui/lexer/lex-emoji-identifiers.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/d381d8e98259f7b5bc82c9d78088b506fc72a3df/src%2Ftest%2Fui%2Flexer%2Flex-emoji-identifiers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d381d8e98259f7b5bc82c9d78088b506fc72a3df/src%2Ftest%2Fui%2Flexer%2Flex-emoji-identifiers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flexer%2Flex-emoji-identifiers.rs?ref=d381d8e98259f7b5bc82c9d78088b506fc72a3df", "patch": "@@ -0,0 +1,17 @@\n+fn invalid_emoji_usages() {\n+    let arrow\u2194\ufe0f = \"basic emoji\"; //~ ERROR: identifiers cannot contain emoji\n+    // FIXME\n+    let planet\ud83e\ude90 = \"basic emoji\"; //~ ERROR: unknown start of token\n+    // FIXME\n+    let wireless\ud83d\udedc = \"basic emoji\"; //~ ERROR: unknown start of token\n+    // FIXME\n+    let key1\ufe0f\u20e3 = \"keycap sequence\"; //~ ERROR: unknown start of token\n+                                    //~^ WARN: identifier contains uncommon Unicode codepoints\n+    let flag\ud83c\uddfa\ud83c\uddf3 = \"flag sequence\"; //~ ERROR: identifiers cannot contain emoji\n+    let wales\ud83c\udff4 = \"tag sequence\"; //~ ERROR: identifiers cannot contain emoji\n+    let folded\ud83d\ude4f\ud83c\udfff = \"modifier sequence\"; //~ ERROR: identifiers cannot contain emoji\n+}\n+\n+fn main() {\n+    invalid_emoji_usages();\n+}"}, {"sha": "6237c5d0236d2d215c1a59b5b9fc8de10384fc99", "filename": "src/test/ui/lexer/lex-emoji-identifiers.stderr", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/d381d8e98259f7b5bc82c9d78088b506fc72a3df/src%2Ftest%2Fui%2Flexer%2Flex-emoji-identifiers.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/d381d8e98259f7b5bc82c9d78088b506fc72a3df/src%2Ftest%2Fui%2Flexer%2Flex-emoji-identifiers.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flexer%2Flex-emoji-identifiers.stderr?ref=d381d8e98259f7b5bc82c9d78088b506fc72a3df", "patch": "@@ -0,0 +1,52 @@\n+error: unknown start of token: \\u{1fa90}\n+  --> $DIR/lex-emoji-identifiers.rs:4:15\n+   |\n+LL |     let planet\ud83e\ude90 = \"basic emoji\";\n+   |               ^^\n+\n+error: unknown start of token: \\u{1f6dc}\n+  --> $DIR/lex-emoji-identifiers.rs:6:17\n+   |\n+LL |     let wireless\ud83d\udedc = \"basic emoji\";\n+   |                 ^^\n+\n+error: unknown start of token: \\u{20e3}\n+  --> $DIR/lex-emoji-identifiers.rs:8:14\n+   |\n+LL |     let key1\ufe0f\u20e3 = \"keycap sequence\";\n+   |             ^\n+\n+error: identifiers cannot contain emoji: `arrow\u2194\ufe0f`\n+  --> $DIR/lex-emoji-identifiers.rs:2:9\n+   |\n+LL |     let arrow\u2194\ufe0f = \"basic emoji\";\n+   |         ^^^^^^\n+\n+error: identifiers cannot contain emoji: `flag\ud83c\uddfa\ud83c\uddf3`\n+  --> $DIR/lex-emoji-identifiers.rs:10:9\n+   |\n+LL |     let flag\ud83c\uddfa\ud83c\uddf3 = \"flag sequence\";\n+   |         ^^^^^^\n+\n+error: identifiers cannot contain emoji: `wales\ud83c\udff4`\n+  --> $DIR/lex-emoji-identifiers.rs:11:9\n+   |\n+LL |     let wales\ud83c\udff4 = \"tag sequence\";\n+   |         ^^^^^^^\n+\n+error: identifiers cannot contain emoji: `folded\ud83d\ude4f\ud83c\udfff`\n+  --> $DIR/lex-emoji-identifiers.rs:12:9\n+   |\n+LL |     let folded\ud83d\ude4f\ud83c\udfff = \"modifier sequence\";\n+   |         ^^^^^^^^^^\n+\n+warning: identifier contains uncommon Unicode codepoints\n+  --> $DIR/lex-emoji-identifiers.rs:8:9\n+   |\n+LL |     let key1\ufe0f\u20e3 = \"keycap sequence\";\n+   |         ^^^^\n+   |\n+   = note: `#[warn(uncommon_codepoints)]` on by default\n+\n+error: aborting due to 7 previous errors; 1 warning emitted\n+"}]}