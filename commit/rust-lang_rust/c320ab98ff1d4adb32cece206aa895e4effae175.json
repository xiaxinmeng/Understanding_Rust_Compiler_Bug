{"sha": "c320ab98ff1d4adb32cece206aa895e4effae175", "node_id": "C_kwDOAAsO6NoAKGMzMjBhYjk4ZmYxZDRhZGIzMmNlY2UyMDZhYTg5NWU0ZWZmYWUxNzU", "commit": {"author": {"name": "joboet", "email": "jonasboettiger@icloud.com", "date": "2022-10-08T07:12:06Z"}, "committer": {"name": "joboet", "email": "jonasboettiger@icloud.com", "date": "2022-10-08T07:12:06Z"}, "message": "std: do not use dispatch semaphore under miri (yet)", "tree": {"sha": "a659f013e80b25e217153901e18fc048af43e99e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a659f013e80b25e217153901e18fc048af43e99e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c320ab98ff1d4adb32cece206aa895e4effae175", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEVuz3PwcqDyifNyYbcE4BSbAZSzwFAmNBIsYACgkQcE4BSbAZ\nSzw8/A//fTJIrm81W1s/kI1X6l07BAyzTeLm6LWzjqJh26ieKe+Q50GbIs3JFNzo\nN6nOHMIpP2QAMtrvAl61ieXixZnMeFxWauY/CV9NgA/DH1lXpt7gwmUJ8d/IUNpE\nouUozfC5R4nJIw2KCFZOEYNuDEAOYvuAgFT/HwvI2H+7iU72dANRBm3U1RtV3B3s\nhQt5GcgBtX4eFe8Sb0drKlHpF1BOu88JiDqzy6xsB+c8BwKGpDRYX1gW9cTR5ZOs\n3axCp8zs4vG9MPDeXQaFDoIaqpxjD1KlbvrMy929FkFpL3ZVA09U9VaVv1aXMi/J\nB6bl47uKHYfj+eq4MlBrGkRUplm+VWoqWr6F5PQobdupRYjUPBKeJbYGgbjzd3xJ\ns5WV7aVc/GYgbguxfMPYZrbA03B+LGg1/0RPosmBeT8I5dthKkGmYiuWx+Dh6syM\nRovw+eNZ9NOIt6t/ssJvYJw4k1Zr/gBw+GjL+UHbljocWmj5LrVrQWCpmDsJFGCC\ncqgRH07GgAQ0aSjDSVh1LpaPBtgn85ck618pfHgBxVyevEmFwb1Ivd3F7IpUsfYC\nvVLVYJcSK7lmZvpVOUgH5WELxpfGDb5VPjetcT5kKeTBgXoC08UfH9uRvbcFtW2G\nGEKrBibwD+ybRgPyVu4h1jGK3O2TYteB7TKV+6fwxYK1DM2msVo=\n=aZGh\n-----END PGP SIGNATURE-----", "payload": "tree a659f013e80b25e217153901e18fc048af43e99e\nparent b4c8a7b952de72bc70e798408efbd4124fa15c59\nauthor joboet <jonasboettiger@icloud.com> 1665213126 +0200\ncommitter joboet <jonasboettiger@icloud.com> 1665213126 +0200\n\nstd: do not use dispatch semaphore under miri (yet)\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c320ab98ff1d4adb32cece206aa895e4effae175", "html_url": "https://github.com/rust-lang/rust/commit/c320ab98ff1d4adb32cece206aa895e4effae175", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c320ab98ff1d4adb32cece206aa895e4effae175/comments", "author": {"login": "joboet", "id": 25721079, "node_id": "MDQ6VXNlcjI1NzIxMDc5", "avatar_url": "https://avatars.githubusercontent.com/u/25721079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joboet", "html_url": "https://github.com/joboet", "followers_url": "https://api.github.com/users/joboet/followers", "following_url": "https://api.github.com/users/joboet/following{/other_user}", "gists_url": "https://api.github.com/users/joboet/gists{/gist_id}", "starred_url": "https://api.github.com/users/joboet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joboet/subscriptions", "organizations_url": "https://api.github.com/users/joboet/orgs", "repos_url": "https://api.github.com/users/joboet/repos", "events_url": "https://api.github.com/users/joboet/events{/privacy}", "received_events_url": "https://api.github.com/users/joboet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joboet", "id": 25721079, "node_id": "MDQ6VXNlcjI1NzIxMDc5", "avatar_url": "https://avatars.githubusercontent.com/u/25721079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joboet", "html_url": "https://github.com/joboet", "followers_url": "https://api.github.com/users/joboet/followers", "following_url": "https://api.github.com/users/joboet/following{/other_user}", "gists_url": "https://api.github.com/users/joboet/gists{/gist_id}", "starred_url": "https://api.github.com/users/joboet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joboet/subscriptions", "organizations_url": "https://api.github.com/users/joboet/orgs", "repos_url": "https://api.github.com/users/joboet/repos", "events_url": "https://api.github.com/users/joboet/events{/privacy}", "received_events_url": "https://api.github.com/users/joboet/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b4c8a7b952de72bc70e798408efbd4124fa15c59", "url": "https://api.github.com/repos/rust-lang/rust/commits/b4c8a7b952de72bc70e798408efbd4124fa15c59", "html_url": "https://github.com/rust-lang/rust/commit/b4c8a7b952de72bc70e798408efbd4124fa15c59"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "35f1e68a87e5b431faa49a551e6f32e43a97a4df", "filename": "library/std/src/sys/unix/thread_parker/mod.rs", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/c320ab98ff1d4adb32cece206aa895e4effae175/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fthread_parker%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c320ab98ff1d4adb32cece206aa895e4effae175/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fthread_parker%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fthread_parker%2Fmod.rs?ref=c320ab98ff1d4adb32cece206aa895e4effae175", "patch": "@@ -11,11 +11,14 @@\n )))]\n \n cfg_if::cfg_if! {\n-    if #[cfg(any(\n-        target_os = \"macos\",\n-        target_os = \"ios\",\n-        target_os = \"watchos\",\n-        target_os = \"tvos\",\n+    if #[cfg(all(\n+        any(\n+            target_os = \"macos\",\n+            target_os = \"ios\",\n+            target_os = \"watchos\",\n+            target_os = \"tvos\",\n+        ),\n+        not(miri),\n     ))] {\n         mod darwin;\n         pub use darwin::Parker;"}]}