{"sha": "d7de8d2b53663f67b39f7d428b69f10df1711e05", "node_id": "C_kwDOAAsO6NoAKGQ3ZGU4ZDJiNTM2NjNmNjdiMzlmN2Q0MjhiNjlmMTBkZjE3MTFlMDU", "commit": {"author": {"name": "the8472", "email": "the8472@users.noreply.github.com", "date": "2021-09-21T20:54:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-09-21T20:54:01Z"}, "message": "Rollup merge of #89086 - WaffleLapkin:stabilize_iter_map_while, r=kennytm\n\nStabilize `Iterator::map_while`\n\nPer the FCP: https://github.com/rust-lang/rust/issues/68537#issuecomment-922385035\n\nThis PR stabilizes `Iterator::map_while` and `iter::MapWhile` in Rust 1.57.", "tree": {"sha": "7d7e55a3e3ad83ec3bed03f914df1b0553509355", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7d7e55a3e3ad83ec3bed03f914df1b0553509355"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d7de8d2b53663f67b39f7d428b69f10df1711e05", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhSkZpCRBK7hj4Ov3rIwAA7McIAFwcIiuNsBsTnowb47PhahtZ\nhsFHbiMS/ow0rEWo3Xq2bJKVBVQcN7zjQARyfoM24qkwu4T+kntECyNcLMcH03OY\n226WZJkqET86GCF3Z9ewDqrBC1ngivl7my5lxsTrywmHkSWx7emUIGjvITH6AABs\nDUXFrPTKEIm11RJtBk5z3lwZOQ7k0e+U4oz8hVEx/YkJbOmF30EkDug/71rvzQlA\nJo4PpfYDXodhB3f5orr6LxySs6BFo8/+/I/mJIEjYt1e5xSSIbnSoRS8DPROcQmH\nqWT1h7YJENIIe/x6hP+jFeZLbJf09fC5Yew5kU5lSc465vblT7ti8U4WCmRcP34=\n=x3Yk\n-----END PGP SIGNATURE-----\n", "payload": "tree 7d7e55a3e3ad83ec3bed03f914df1b0553509355\nparent 9f50c87267d967084ef5124db07d175306efbb71\nparent 71e2eacc7bedeba7ca851164d0485c7e635a6697\nauthor the8472 <the8472@users.noreply.github.com> 1632257641 +0200\ncommitter GitHub <noreply@github.com> 1632257641 +0200\n\nRollup merge of #89086 - WaffleLapkin:stabilize_iter_map_while, r=kennytm\n\nStabilize `Iterator::map_while`\n\nPer the FCP: https://github.com/rust-lang/rust/issues/68537#issuecomment-922385035\n\nThis PR stabilizes `Iterator::map_while` and `iter::MapWhile` in Rust 1.57.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d7de8d2b53663f67b39f7d428b69f10df1711e05", "html_url": "https://github.com/rust-lang/rust/commit/d7de8d2b53663f67b39f7d428b69f10df1711e05", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d7de8d2b53663f67b39f7d428b69f10df1711e05/comments", "author": {"login": "the8472", "id": 1065730, "node_id": "MDQ6VXNlcjEwNjU3MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1065730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the8472", "html_url": "https://github.com/the8472", "followers_url": "https://api.github.com/users/the8472/followers", "following_url": "https://api.github.com/users/the8472/following{/other_user}", "gists_url": "https://api.github.com/users/the8472/gists{/gist_id}", "starred_url": "https://api.github.com/users/the8472/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the8472/subscriptions", "organizations_url": "https://api.github.com/users/the8472/orgs", "repos_url": "https://api.github.com/users/the8472/repos", "events_url": "https://api.github.com/users/the8472/events{/privacy}", "received_events_url": "https://api.github.com/users/the8472/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f50c87267d967084ef5124db07d175306efbb71", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f50c87267d967084ef5124db07d175306efbb71", "html_url": "https://github.com/rust-lang/rust/commit/9f50c87267d967084ef5124db07d175306efbb71"}, {"sha": "71e2eacc7bedeba7ca851164d0485c7e635a6697", "url": "https://api.github.com/repos/rust-lang/rust/commits/71e2eacc7bedeba7ca851164d0485c7e635a6697", "html_url": "https://github.com/rust-lang/rust/commit/71e2eacc7bedeba7ca851164d0485c7e635a6697"}], "stats": {"total": 18, "additions": 6, "deletions": 12}, "files": [{"sha": "b1f04bfbf0a848993e327fd4a7c07ce037422f5f", "filename": "compiler/rustc_data_structures/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d7de8d2b53663f67b39f7d428b69f10df1711e05/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7de8d2b53663f67b39f7d428b69f10df1711e05/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs?ref=d7de8d2b53663f67b39f7d428b69f10df1711e05", "patch": "@@ -18,7 +18,6 @@\n #![feature(extend_one)]\n #![feature(hash_raw_entry)]\n #![feature(in_band_lifetimes)]\n-#![feature(iter_map_while)]\n #![feature(maybe_uninit_uninit_array)]\n #![feature(min_specialization)]\n #![feature(never_type)]"}, {"sha": "cae4dae708e59cf927a1b10c1e91c78551d3e2fd", "filename": "library/alloc/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Falloc%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Falloc%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Ftests%2Flib.rs?ref=d7de8d2b53663f67b39f7d428b69f10df1711e05", "patch": "@@ -18,7 +18,6 @@\n #![feature(binary_heap_retain)]\n #![feature(binary_heap_as_slice)]\n #![feature(inplace_iteration)]\n-#![feature(iter_map_while)]\n #![feature(slice_group_by)]\n #![feature(slice_partition_dedup)]\n #![feature(vec_spare_capacity)]"}, {"sha": "793b05fcf9529da6f7465bca7dbdf9f6e13e80c4", "filename": "library/core/src/iter/adapters/map_while.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Fadapters%2Fmap_while.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Fadapters%2Fmap_while.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fiter%2Fadapters%2Fmap_while.rs?ref=d7de8d2b53663f67b39f7d428b69f10df1711e05", "patch": "@@ -10,7 +10,7 @@ use crate::ops::{ControlFlow, Try};\n /// [`map_while`]: Iterator::map_while\n /// [`Iterator`]: trait.Iterator.html\n #[must_use = \"iterators are lazy and do nothing unless consumed\"]\n-#[unstable(feature = \"iter_map_while\", reason = \"recently added\", issue = \"68537\")]\n+#[stable(feature = \"iter_map_while\", since = \"1.57.0\")]\n #[derive(Clone)]\n pub struct MapWhile<I, P> {\n     iter: I,\n@@ -23,14 +23,14 @@ impl<I, P> MapWhile<I, P> {\n     }\n }\n \n-#[unstable(feature = \"iter_map_while\", reason = \"recently added\", issue = \"68537\")]\n+#[stable(feature = \"iter_map_while\", since = \"1.57.0\")]\n impl<I: fmt::Debug, P> fmt::Debug for MapWhile<I, P> {\n     fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n         f.debug_struct(\"MapWhile\").field(\"iter\", &self.iter).finish()\n     }\n }\n \n-#[unstable(feature = \"iter_map_while\", reason = \"recently added\", issue = \"68537\")]\n+#[stable(feature = \"iter_map_while\", since = \"1.57.0\")]\n impl<B, I: Iterator, P> Iterator for MapWhile<I, P>\n where\n     P: FnMut(I::Item) -> Option<B>,"}, {"sha": "48e7dcfa7d9a30d838c275233a0f95f7645bb208", "filename": "library/core/src/iter/adapters/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Fadapters%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Fadapters%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fiter%2Fadapters%2Fmod.rs?ref=d7de8d2b53663f67b39f7d428b69f10df1711e05", "patch": "@@ -45,7 +45,7 @@ pub use self::copied::Copied;\n #[stable(feature = \"iter_intersperse\", since = \"1.56.0\")]\n pub use self::intersperse::{Intersperse, IntersperseWith};\n \n-#[unstable(feature = \"iter_map_while\", reason = \"recently added\", issue = \"68537\")]\n+#[stable(feature = \"iter_map_while\", since = \"1.57.0\")]\n pub use self::map_while::MapWhile;\n \n #[unstable(feature = \"trusted_random_access\", issue = \"none\")]"}, {"sha": "d6f9edaa046c69e5922678b94d67a68f52373fe8", "filename": "library/core/src/iter/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fiter%2Fmod.rs?ref=d7de8d2b53663f67b39f7d428b69f10df1711e05", "patch": "@@ -399,7 +399,7 @@ pub use self::adapters::Cloned;\n pub use self::adapters::Copied;\n #[stable(feature = \"iterator_flatten\", since = \"1.29.0\")]\n pub use self::adapters::Flatten;\n-#[unstable(feature = \"iter_map_while\", reason = \"recently added\", issue = \"68537\")]\n+#[stable(feature = \"iter_map_while\", since = \"1.57.0\")]\n pub use self::adapters::MapWhile;\n #[unstable(feature = \"inplace_iteration\", issue = \"none\")]\n pub use self::adapters::SourceIter;"}, {"sha": "f884340f4e0bd02710d3d96684e8439ac34cacb9", "filename": "library/core/src/iter/traits/iterator.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Ftraits%2Fiterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Fsrc%2Fiter%2Ftraits%2Fiterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fiter%2Ftraits%2Fiterator.rs?ref=d7de8d2b53663f67b39f7d428b69f10df1711e05", "patch": "@@ -1116,7 +1116,6 @@ pub trait Iterator {\n     /// Basic usage:\n     ///\n     /// ```\n-    /// #![feature(iter_map_while)]\n     /// let a = [-1i32, 4, 0, 1];\n     ///\n     /// let mut iter = a.iter().map_while(|x| 16i32.checked_div(*x));\n@@ -1147,7 +1146,6 @@ pub trait Iterator {\n     /// Stopping after an initial [`None`]:\n     ///\n     /// ```\n-    /// #![feature(iter_map_while)]\n     /// use std::convert::TryFrom;\n     ///\n     /// let a = [0, 1, 2, -3, 4, 5, -6];\n@@ -1165,7 +1163,6 @@ pub trait Iterator {\n     /// removed:\n     ///\n     /// ```\n-    /// #![feature(iter_map_while)]\n     /// use std::convert::TryFrom;\n     ///\n     /// let a = [1, 2, -3, 4];\n@@ -1191,7 +1188,7 @@ pub trait Iterator {\n     ///\n     /// [`fuse`]: Iterator::fuse\n     #[inline]\n-    #[unstable(feature = \"iter_map_while\", reason = \"recently added\", issue = \"68537\")]\n+    #[stable(feature = \"iter_map_while\", since = \"1.57.0\")]\n     fn map_while<B, P>(self, predicate: P) -> MapWhile<Self, P>\n     where\n         Self: Sized,"}, {"sha": "cd3aed4cd28f81a7d90c9f7fc15cfb2a99d97d19", "filename": "library/core/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7de8d2b53663f67b39f7d428b69f10df1711e05/library%2Fcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Flib.rs?ref=d7de8d2b53663f67b39f7d428b69f10df1711e05", "patch": "@@ -50,7 +50,6 @@\n #![feature(iter_partition_in_place)]\n #![feature(iter_is_partitioned)]\n #![feature(iter_order_by)]\n-#![feature(iter_map_while)]\n #![feature(const_mut_refs)]\n #![feature(const_pin)]\n #![feature(const_slice_from_raw_parts)]"}]}