{"sha": "87fba23d5297e323c7598690038695cda2a25dca", "node_id": "C_kwDOAAsO6NoAKDg3ZmJhMjNkNTI5N2UzMjNjNzU5ODY5MDAzODY5NWNkYTJhMjVkY2E", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-03-08T16:51:16Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-03-11T13:48:53Z"}, "message": "Collapse Blanket Implementations and Auto-trait implementations by default", "tree": {"sha": "ecaafc431d1084178b158e3f7b25a8a816a7c488", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ecaafc431d1084178b158e3f7b25a8a816a7c488"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/87fba23d5297e323c7598690038695cda2a25dca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/87fba23d5297e323c7598690038695cda2a25dca", "html_url": "https://github.com/rust-lang/rust/commit/87fba23d5297e323c7598690038695cda2a25dca", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/87fba23d5297e323c7598690038695cda2a25dca/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f58d51b3c00b1e30acd75aead202eb2248bb33f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/f58d51b3c00b1e30acd75aead202eb2248bb33f9", "html_url": "https://github.com/rust-lang/rust/commit/f58d51b3c00b1e30acd75aead202eb2248bb33f9"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "34d1268a7df61d28dc179605d71b7ff6c2daee5a", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/87fba23d5297e323c7598690038695cda2a25dca/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87fba23d5297e323c7598690038695cda2a25dca/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=87fba23d5297e323c7598690038695cda2a25dca", "patch": "@@ -699,7 +699,13 @@ fn short_item_info(\n \n // Render the list of items inside one of the sections \"Trait Implementations\",\n // \"Auto Trait Implementations,\" \"Blanket Trait Implementations\" (on struct/enum pages).\n-fn render_impls(cx: &Context<'_>, w: &mut Buffer, impls: &[&&Impl], containing_item: &clean::Item) {\n+fn render_impls(\n+    cx: &Context<'_>,\n+    w: &mut Buffer,\n+    impls: &[&&Impl],\n+    containing_item: &clean::Item,\n+    toggle_open_by_default: bool,\n+) {\n     let tcx = cx.tcx();\n     let mut rendered_impls = impls\n         .iter()\n@@ -722,7 +728,7 @@ fn render_impls(cx: &Context<'_>, w: &mut Buffer, impls: &[&&Impl], containing_i\n                     is_on_foreign_type: false,\n                     show_default_items: true,\n                     show_non_assoc_items: true,\n-                    toggle_open_by_default: true,\n+                    toggle_open_by_default,\n                 },\n             );\n             buffer.into_inner()\n@@ -1143,7 +1149,7 @@ fn render_assoc_items_inner(\n             concrete.into_iter().partition(|t| t.inner_impl().kind.is_blanket());\n \n         let mut impls = Buffer::empty_from(w);\n-        render_impls(cx, &mut impls, &concrete, containing_item);\n+        render_impls(cx, &mut impls, &concrete, containing_item, true);\n         let impls = impls.into_inner();\n         if !impls.is_empty() {\n             write!(\n@@ -1165,7 +1171,7 @@ fn render_assoc_items_inner(\n                  </h2>\\\n                  <div id=\\\"synthetic-implementations-list\\\">\",\n             );\n-            render_impls(cx, w, &synthetic, containing_item);\n+            render_impls(cx, w, &synthetic, containing_item, false);\n             w.write_str(\"</div>\");\n         }\n \n@@ -1177,7 +1183,7 @@ fn render_assoc_items_inner(\n                  </h2>\\\n                  <div id=\\\"blanket-implementations-list\\\">\",\n             );\n-            render_impls(cx, w, &blanket_impl, containing_item);\n+            render_impls(cx, w, &blanket_impl, containing_item, false);\n             w.write_str(\"</div>\");\n         }\n     }"}]}