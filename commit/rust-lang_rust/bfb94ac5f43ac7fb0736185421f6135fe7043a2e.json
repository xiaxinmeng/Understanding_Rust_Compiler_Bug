{"sha": "bfb94ac5f43ac7fb0736185421f6135fe7043a2e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmYjk0YWM1ZjQzYWM3ZmIwNzM2MTg1NDIxZjYxMzVmZTcwNDNhMmU=", "commit": {"author": {"name": "Lymia Aluysia", "email": "lymia@lymiahugs.com", "date": "2018-03-22T15:34:51Z"}, "committer": {"name": "Lymia Aluysia", "email": "lymia@lymiahugs.com", "date": "2018-03-22T15:34:51Z"}, "message": "Clean up raw identifier handling when recovering tokens from AST.", "tree": {"sha": "87d5410f878632d632d6245898ec3500ffd69dbe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/87d5410f878632d632d6245898ec3500ffd69dbe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bfb94ac5f43ac7fb0736185421f6135fe7043a2e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEfrc19M/exUzAyXK/2y4gTJiSUfcFAlqzzSsACgkQ2y4gTJiS\nUfdAgg/+OcgnePsJGW5mWDLj5ZV1LZ5paQ5kF7QDdTinFVBplWvqMmFGADR6YvDN\nq+yKzcy+6nUMOiwJ09RevOcV5KUgX4vOLAtJj11uhioAdsUmD9cS72QI7SZtxs31\noyuovY2V1pj3a4wii1OELKjL1SvU4kfPNomMkq4BNwtQcuygjibVqdF3ZkHkf+zM\n0O1Ku8qPjO8ohBOuXofY66AvgBGtOJCGAan7AvESTZDn9OvnGKkaSMIo1aLgjKDD\ntpOtyJ7I0IgYr3mcWwGhRtBg4TaYyLtzsKjDidSuaCuXQaSUMFbmbLzwEj5Ychs5\n+rjwk1Y74xBmwqPAcAJzjzdfhpne1h8xQ2dqW3e5eNBcxKQMuPSPZoh0/ugffofN\nJUyIKAEoExss4hrkjUD8WrPBjzkKewsTgIG6yjXGNy65KhClmLfh/jUvj/oIFXhg\nfOgNMHaIEtZc+8DcAtYXToum9RnZMVdmsKsoJc6mrT/2noFr2mAFkcsGQHdVPH4s\nzB1TojBLisAEnCPlDx2povpJad+OB6MSTtvKvE9e98WAcQvUP/nbor3GsokEG/iH\nCfw27ngK9lwAjAD8PTeUsdy7LfbZyySHyc/eZ2e2R+2acuLlZVdxViwADZjnv1xi\nb83MolRiBhHM41UODAKIpoEzIVluR7qQiUosS/PiZb5qhoujRww=\n=Wybq\n-----END PGP SIGNATURE-----", "payload": "tree 87d5410f878632d632d6245898ec3500ffd69dbe\nparent ce84a41936e367dfeb7d348564f2337819395ca6\nauthor Lymia Aluysia <lymia@lymiahugs.com> 1521732891 -0500\ncommitter Lymia Aluysia <lymia@lymiahugs.com> 1521732891 -0500\n\nClean up raw identifier handling when recovering tokens from AST.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bfb94ac5f43ac7fb0736185421f6135fe7043a2e", "html_url": "https://github.com/rust-lang/rust/commit/bfb94ac5f43ac7fb0736185421f6135fe7043a2e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bfb94ac5f43ac7fb0736185421f6135fe7043a2e/comments", "author": {"login": "Lymia", "id": 483849, "node_id": "MDQ6VXNlcjQ4Mzg0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/483849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lymia", "html_url": "https://github.com/Lymia", "followers_url": "https://api.github.com/users/Lymia/followers", "following_url": "https://api.github.com/users/Lymia/following{/other_user}", "gists_url": "https://api.github.com/users/Lymia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lymia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lymia/subscriptions", "organizations_url": "https://api.github.com/users/Lymia/orgs", "repos_url": "https://api.github.com/users/Lymia/repos", "events_url": "https://api.github.com/users/Lymia/events{/privacy}", "received_events_url": "https://api.github.com/users/Lymia/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Lymia", "id": 483849, "node_id": "MDQ6VXNlcjQ4Mzg0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/483849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lymia", "html_url": "https://github.com/Lymia", "followers_url": "https://api.github.com/users/Lymia/followers", "following_url": "https://api.github.com/users/Lymia/following{/other_user}", "gists_url": "https://api.github.com/users/Lymia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lymia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lymia/subscriptions", "organizations_url": "https://api.github.com/users/Lymia/orgs", "repos_url": "https://api.github.com/users/Lymia/repos", "events_url": "https://api.github.com/users/Lymia/events{/privacy}", "received_events_url": "https://api.github.com/users/Lymia/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce84a41936e367dfeb7d348564f2337819395ca6", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce84a41936e367dfeb7d348564f2337819395ca6", "html_url": "https://github.com/rust-lang/rust/commit/ce84a41936e367dfeb7d348564f2337819395ca6"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "540a03ff032ffef2527e5395d99cad058fb08975", "filename": "src/libsyntax/ext/quote.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/bfb94ac5f43ac7fb0736185421f6135fe7043a2e/src%2Flibsyntax%2Fext%2Fquote.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfb94ac5f43ac7fb0736185421f6135fe7043a2e/src%2Flibsyntax%2Fext%2Fquote.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fquote.rs?ref=bfb94ac5f43ac7fb0736185421f6135fe7043a2e", "patch": "@@ -238,8 +238,9 @@ pub mod rt {\n                 if i > 0 {\n                     inner.push(TokenTree::Token(self.span, token::Colon).into());\n                 }\n-                inner.push(TokenTree::Token(self.span,\n-                                            token::Ident(segment.identifier, false)).into());\n+                inner.push(TokenTree::Token(\n+                    self.span, token::Token::from_ast_ident(segment.identifier)\n+                ).into());\n             }\n             inner.push(self.tokens.clone());\n "}, {"sha": "3f01d5ec6dd876e1117ea9c030206968d1f3ffbc", "filename": "src/libsyntax/ext/tt/transcribe.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfb94ac5f43ac7fb0736185421f6135fe7043a2e/src%2Flibsyntax%2Fext%2Ftt%2Ftranscribe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfb94ac5f43ac7fb0736185421f6135fe7043a2e/src%2Flibsyntax%2Fext%2Ftt%2Ftranscribe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftt%2Ftranscribe.rs?ref=bfb94ac5f43ac7fb0736185421f6135fe7043a2e", "patch": "@@ -169,7 +169,7 @@ pub fn transcribe(cx: &ExtCtxt,\n                         Ident { ctxt: ident.ctxt.apply_mark(cx.current_expansion.mark), ..ident };\n                     sp = sp.with_ctxt(sp.ctxt().apply_mark(cx.current_expansion.mark));\n                     result.push(TokenTree::Token(sp, token::Dollar).into());\n-                    result.push(TokenTree::Token(sp, token::Ident(ident, false)).into());\n+                    result.push(TokenTree::Token(sp, token::Token::from_ast_ident(ident)).into());\n                 }\n             }\n             quoted::TokenTree::Delimited(mut span, delimited) => {"}, {"sha": "7798a7a77ee6c8c63e96cd47895759427b6d213b", "filename": "src/libsyntax/parse/token.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfb94ac5f43ac7fb0736185421f6135fe7043a2e/src%2Flibsyntax%2Fparse%2Ftoken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfb94ac5f43ac7fb0736185421f6135fe7043a2e/src%2Flibsyntax%2Fparse%2Ftoken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Ftoken.rs?ref=bfb94ac5f43ac7fb0736185421f6135fe7043a2e", "patch": "@@ -236,7 +236,7 @@ impl Token {\n \n     /// Recovers a `Token` from an `ast::Ident`. This creates a raw identifier if necessary.\n     pub fn from_ast_ident(ident: ast::Ident) -> Token {\n-        Ident(ident, is_reserved_ident(ident))\n+        Ident(ident, is_reserved_ident(ident) && !is_path_segment_keyword(ident))\n     }\n \n     /// Returns `true` if the token starts with '>'."}]}