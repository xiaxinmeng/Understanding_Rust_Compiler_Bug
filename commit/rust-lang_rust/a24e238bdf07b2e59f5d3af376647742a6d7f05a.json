{"sha": "a24e238bdf07b2e59f5d3af376647742a6d7f05a", "node_id": "C_kwDOAAsO6NoAKGEyNGUyMzhiZGYwN2IyZTU5ZjVkM2FmMzc2NjQ3NzQyYTZkN2YwNWE", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-12-29T20:10:24Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2021-12-29T20:10:24Z"}, "message": "Fix spacing and ordering of words in pretty printed Impl", "tree": {"sha": "5aa5959e63086f267eca8b7171b60fe64c64355b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5aa5959e63086f267eca8b7171b60fe64c64355b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a24e238bdf07b2e59f5d3af376647742a6d7f05a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmHMwLAACgkQ+boUO5X/\nbYLtDg/+OS8wN1XDwwiy/kQ1JRGactSlR8F3JlT6vUVFBP5GebQy4MlqaAW0+Djt\nE/4IPJ5SLZZRSMWCa0RnXpzusivAs3TSgVHQk5XGoEKPucaqWiYcAC9BX8EsoRAH\nmtmHpO5bF0gu5jVs0ZiGy6fOpWk1cJBvCDQ3i+OR0T7wpyvZqFZd4QDgd7bR6RA+\nh9jbv2EZEHrG/duM1HD7gS1+7s4JKSq565mWphmlAuVur8Iq+tSc/1J7cB405Jko\nKr9ZIXDKdwFCGIt+cvMCE1HSk1qE3QUKNU/YcuLzs3r2a7oybcyioXn8gaHwecGQ\nJ3tWZNwhzW4T+kNOgityJzBhBpL/mYfC4ihWI29ygkWimZFTDV4SHmTTbiWzodPH\nHZHuzYxIrm9gaOfQooa1ZQRwDZyQ4iG89wno+QL9OkXDBvEdGXtJZMx1FWcHmqx3\n3JvbeB0fLDcfZ/5Ho6Nj5zj+glik/H9FLFwSvcV6gP2+bjb+M+UevbWMQOkuiJyN\nZQLz3vLkTKC0DZsvR166HQtqV9e3rbMpCOdlgBaND4mVz8+7WWnNC+PJojf/NThE\nGuKTR3rBx6SsrthIiaMA0OHDTOSqxKB/nblv1KJGiUL3XSXrJddStsMjgtvyM9Wb\nF0BrcAwaH9+gGkxfHAiv7U0DQEAaSre1QJJEZKZ1WrTC8I4DE9M=\n=FbLE\n-----END PGP SIGNATURE-----", "payload": "tree 5aa5959e63086f267eca8b7171b60fe64c64355b\nparent f3df63f8ee2102dbfacd664b38160e2d6ca4e5a7\nauthor David Tolnay <dtolnay@gmail.com> 1640808624 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1640808624 -0800\n\nFix spacing and ordering of words in pretty printed Impl\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a24e238bdf07b2e59f5d3af376647742a6d7f05a", "html_url": "https://github.com/rust-lang/rust/commit/a24e238bdf07b2e59f5d3af376647742a6d7f05a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a24e238bdf07b2e59f5d3af376647742a6d7f05a/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f3df63f8ee2102dbfacd664b38160e2d6ca4e5a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/f3df63f8ee2102dbfacd664b38160e2d6ca4e5a7", "html_url": "https://github.com/rust-lang/rust/commit/f3df63f8ee2102dbfacd664b38160e2d6ca4e5a7"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "c2253e63356a4325be95e94a81a970f5ae5e6c7e", "filename": "compiler/rustc_ast_pretty/src/pprust/state.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a24e238bdf07b2e59f5d3af376647742a6d7f05a/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a24e238bdf07b2e59f5d3af376647742a6d7f05a/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpprust%2Fstate.rs?ref=a24e238bdf07b2e59f5d3af376647742a6d7f05a", "patch": "@@ -1285,14 +1285,17 @@ impl<'a> State<'a> {\n                 self.print_visibility(&item.vis);\n                 self.print_defaultness(defaultness);\n                 self.print_unsafety(unsafety);\n-                self.word_nbsp(\"impl\");\n-                self.print_constness(constness);\n+                self.word(\"impl\");\n \n-                if !generics.params.is_empty() {\n+                if generics.params.is_empty() {\n+                    self.nbsp();\n+                } else {\n                     self.print_generic_params(&generics.params);\n                     self.space();\n                 }\n \n+                self.print_constness(constness);\n+\n                 if let ast::ImplPolarity::Negative(_) = polarity {\n                     self.word(\"!\");\n                 }"}, {"sha": "e2f47e0af54b207f42f38e0a1b83ba4dcc6ce996", "filename": "src/test/ui/macros/stringify.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a24e238bdf07b2e59f5d3af376647742a6d7f05a/src%2Ftest%2Fui%2Fmacros%2Fstringify.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a24e238bdf07b2e59f5d3af376647742a6d7f05a/src%2Ftest%2Fui%2Fmacros%2Fstringify.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fstringify.rs?ref=a24e238bdf07b2e59f5d3af376647742a6d7f05a", "patch": "@@ -603,7 +603,7 @@ fn test_item() {\n         stringify_item!(\n             impl<T> Struct<T> {}\n         ),\n-        \"impl <T> Struct<T> {}\", // FIXME\n+        \"impl<T> Struct<T> {}\",\n     );\n     assert_eq!(\n         stringify_item!(\n@@ -615,7 +615,7 @@ fn test_item() {\n         stringify_item!(\n             impl<T> const Trait for T {}\n         ),\n-        \"impl const <T> Trait for T {}\", // FIXME\n+        \"impl<T> const Trait for T {}\",\n     );\n     assert_eq!(\n         stringify_item!("}]}