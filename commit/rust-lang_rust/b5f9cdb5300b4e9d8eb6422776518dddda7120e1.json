{"sha": "b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "node_id": "C_kwDOAAsO6NoAKGI1ZjljZGI1MzAwYjRlOWQ4ZWI2NDIyNzc2NTE4ZGRkZGE3MTIwZTE", "commit": {"author": {"name": "Hans Kratz", "email": "hans@appfour.com", "date": "2021-10-06T14:57:25Z"}, "committer": {"name": "Hans Kratz", "email": "hans@appfour.com", "date": "2021-10-06T16:26:01Z"}, "message": "Get rid of broken `ct-ng oldconfig` everywhere and directly provide a suitable .config file.", "tree": {"sha": "77eab5d7fe1e937fa8aecea12d647c2644431c58", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/77eab5d7fe1e937fa8aecea12d647c2644431c58"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "html_url": "https://github.com/rust-lang/rust/commit/b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/comments", "author": {"login": "hkratz", "id": 3736990, "node_id": "MDQ6VXNlcjM3MzY5OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3736990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkratz", "html_url": "https://github.com/hkratz", "followers_url": "https://api.github.com/users/hkratz/followers", "following_url": "https://api.github.com/users/hkratz/following{/other_user}", "gists_url": "https://api.github.com/users/hkratz/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkratz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkratz/subscriptions", "organizations_url": "https://api.github.com/users/hkratz/orgs", "repos_url": "https://api.github.com/users/hkratz/repos", "events_url": "https://api.github.com/users/hkratz/events{/privacy}", "received_events_url": "https://api.github.com/users/hkratz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hkratz", "id": 3736990, "node_id": "MDQ6VXNlcjM3MzY5OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3736990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkratz", "html_url": "https://github.com/hkratz", "followers_url": "https://api.github.com/users/hkratz/followers", "following_url": "https://api.github.com/users/hkratz/following{/other_user}", "gists_url": "https://api.github.com/users/hkratz/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkratz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkratz/subscriptions", "organizations_url": "https://api.github.com/users/hkratz/orgs", "repos_url": "https://api.github.com/users/hkratz/repos", "events_url": "https://api.github.com/users/hkratz/events{/privacy}", "received_events_url": "https://api.github.com/users/hkratz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a412880d8f379e0fd72283929a7cfc53f9d6abad", "url": "https://api.github.com/repos/rust-lang/rust/commits/a412880d8f379e0fd72283929a7cfc53f9d6abad", "html_url": "https://github.com/rust-lang/rust/commit/a412880d8f379e0fd72283929a7cfc53f9d6abad"}], "stats": {"total": 28, "additions": 8, "deletions": 20}, "files": [{"sha": "ad53ba4dd1bc0b208aec94c781c130de553e1586", "filename": "src/ci/docker/host-x86_64/dist-arm-linux/build-toolchains.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Fbuild-toolchains.sh", "raw_url": "https://github.com/rust-lang/rust/raw/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Fbuild-toolchains.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-arm-linux%2Fbuild-toolchains.sh?ref=b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "patch": "@@ -22,7 +22,8 @@ exit 1\n mkdir build\n cd build\n cp ../arm-linux-gnueabi.config .config\n-ct-ng oldconfig\n+# FIXME ct-ng oldconfig is not working as intended.\n+# ct-ng oldconfig\n hide_output ct-ng build\n cd ..\n rm -rf build"}, {"sha": "e0f6417793de8fa01caaa1855e5cf0ca2df53108", "filename": "src/ci/docker/host-x86_64/dist-armhf-linux/arm-linux-gnueabihf.config", "status": "modified", "additions": 2, "deletions": 15, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Farm-linux-gnueabihf.config", "raw_url": "https://github.com/rust-lang/rust/raw/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Farm-linux-gnueabihf.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Farm-linux-gnueabihf.config?ref=b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "patch": "@@ -14,6 +14,7 @@ CT_CONFIGURE_has_autoconf_2_65_or_newer=y\n CT_CONFIGURE_has_autoreconf_2_65_or_newer=y\n CT_CONFIGURE_has_automake_1_15_or_newer=y\n CT_CONFIGURE_has_gnu_m4_1_4_12_or_newer=y\n+CT_CONFIGURE_has_python_3_4_or_newer=y\n CT_CONFIGURE_has_bison_2_7_or_newer=y\n CT_CONFIGURE_has_python=y\n CT_CONFIGURE_has_git=y\n@@ -132,12 +133,6 @@ CT_ARCH_ARM=y\n # CT_ARCH_XTENSA is not set\n CT_ARCH=\"arm\"\n CT_ARCH_CHOICE_KSYM=\"ARM\"\n-# CT_ARCH_ALPHA_EV4 is not set\n-# CT_ARCH_ALPHA_EV45 is not set\n-# CT_ARCH_ALPHA_EV5 is not set\n-# CT_ARCH_ALPHA_EV56 is not set\n-# CT_ARCH_ALPHA_EV6 is not set\n-# CT_ARCH_ALPHA_EV67 is not set\n CT_ARCH_CPU=\"\"\n CT_ARCH_TUNE=\"\"\n CT_ARCH_ARM_SHOW=y\n@@ -372,8 +367,6 @@ CT_ALL_BINUTILS_CHOICES=\"BINUTILS\"\n # C-library\n #\n CT_LIBC_GLIBC=y\n-# CT_LIBC_NEWLIB is not set\n-# CT_LIBC_NONE is not set\n # CT_LIBC_UCLIBC is not set\n CT_LIBC=\"glibc\"\n CT_LIBC_CHOICE_KSYM=\"GLIBC\"\n@@ -390,6 +383,7 @@ CT_GLIBC_USE=\"GLIBC\"\n CT_GLIBC_PKG_NAME=\"glibc\"\n CT_GLIBC_SRC_RELEASE=y\n CT_GLIBC_PATCH_ORDER=\"global\"\n+# CT_GLIBC_V_2_29 is not set\n # CT_GLIBC_V_2_28 is not set\n # CT_GLIBC_V_2_27 is not set\n # CT_GLIBC_V_2_26 is not set\n@@ -408,7 +402,6 @@ CT_GLIBC_ARCHIVE_FORMATS=\".tar.xz .tar.bz2 .tar.gz\"\n CT_GLIBC_SIGNATURE_FORMAT=\"packed/.sig\"\n CT_GLIBC_2_29_or_older=y\n CT_GLIBC_older_than_2_29=y\n-CT_GLIBC_REQUIRE_older_than_2_29=y\n CT_GLIBC_2_27_or_older=y\n CT_GLIBC_older_than_2_27=y\n CT_GLIBC_2_26_or_older=y\n@@ -448,12 +441,6 @@ CT_GLIBC_FORCE_UNWIND=y\n CT_GLIBC_KERNEL_VERSION_AS_HEADERS=y\n # CT_GLIBC_KERNEL_VERSION_CHOSEN is not set\n CT_GLIBC_MIN_KERNEL=\"3.2.101\"\n-# CT_GLIBC_SSP_DEFAULT is not set\n-# CT_GLIBC_SSP_NO is not set\n-# CT_GLIBC_SSP_YES is not set\n-# CT_GLIBC_SSP_ALL is not set\n-# CT_GLIBC_SSP_STRONG is not set\n-# CT_NEWLIB_USE_REDHAT is not set\n CT_ALL_LIBC_CHOICES=\"AVR_LIBC BIONIC GLIBC MINGW_W64 MOXIEBOX MUSL NEWLIB NONE UCLIBC\"\n CT_LIBC_SUPPORT_THREADS_ANY=y\n CT_LIBC_SUPPORT_THREADS_NATIVE=y"}, {"sha": "6b5374422a62a8b9519880e10c3077419634cea8", "filename": "src/ci/docker/host-x86_64/dist-armhf-linux/build-toolchains.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Fbuild-toolchains.sh", "raw_url": "https://github.com/rust-lang/rust/raw/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Fbuild-toolchains.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armhf-linux%2Fbuild-toolchains.sh?ref=b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "patch": "@@ -22,7 +22,8 @@ exit 1\n mkdir build\n cd build\n cp ../arm-linux-gnueabihf.config .config\n-ct-ng oldconfig\n+# FIXME ct-ng oldconfig is not working as intended.\n+# ct-ng oldconfig\n hide_output ct-ng build\n cd ..\n rm -rf build"}, {"sha": "2d8167f1f33289e639153877c09fbf6dd85ebc31", "filename": "src/ci/docker/host-x86_64/dist-armv7-linux/armv7-linux-gnueabihf.config", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Farmv7-linux-gnueabihf.config", "raw_url": "https://github.com/rust-lang/rust/raw/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Farmv7-linux-gnueabihf.config", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Farmv7-linux-gnueabihf.config?ref=b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "patch": "@@ -17,8 +17,6 @@ CT_CONFIGURE_has_gnu_m4_1_4_12_or_newer=y\n CT_CONFIGURE_has_python_3_4_or_newer=y\n CT_CONFIGURE_has_bison_2_7_or_newer=y\n CT_CONFIGURE_has_python=y\n-CT_CONFIGURE_has_dtc=y\n-CT_CONFIGURE_has_svn=y\n CT_CONFIGURE_has_git=y\n CT_CONFIGURE_has_md5sum=y\n CT_CONFIGURE_has_sha1sum=y"}, {"sha": "602ad8ac877370d8425d35c54e08fc5116214f57", "filename": "src/ci/docker/host-x86_64/dist-armv7-linux/build-toolchains.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Fbuild-toolchains.sh", "raw_url": "https://github.com/rust-lang/rust/raw/b5f9cdb5300b4e9d8eb6422776518dddda7120e1/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Fbuild-toolchains.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-armv7-linux%2Fbuild-toolchains.sh?ref=b5f9cdb5300b4e9d8eb6422776518dddda7120e1", "patch": "@@ -22,7 +22,8 @@ exit 1\n mkdir build\n cd build\n cp ../armv7-linux-gnueabihf.config .config\n-ct-ng oldconfig\n+# FIXME ct-ng oldconfig is not working as intended.\n+# ct-ng oldconfig\n hide_output ct-ng build\n cd ..\n rm -rf build"}]}