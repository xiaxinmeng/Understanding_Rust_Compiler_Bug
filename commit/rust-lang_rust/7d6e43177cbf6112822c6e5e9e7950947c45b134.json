{"sha": "7d6e43177cbf6112822c6e5e9e7950947c45b134", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdkNmU0MzE3N2NiZjYxMTI4MjJjNmU1ZTllNzk1MDk0N2M0NWIxMzQ=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-07-05T11:53:09Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-07-05T11:53:09Z"}, "message": "Rollup merge of #62324 - Centril:reduce-await-macro-reliance, r=cramertj\n\nReduce reliance on `await!(...)` macro\n\nOnly the last commit is new.\n\nr? @cramertj", "tree": {"sha": "3404b9cc2b4d7f44789fd69e43a26dce3bad7cb6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3404b9cc2b4d7f44789fd69e43a26dce3bad7cb6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7d6e43177cbf6112822c6e5e9e7950947c45b134", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdHzolCRBK7hj4Ov3rIwAAdHIIADKWuPyw5oJdOmuegyfXb8gM\nZAH8VjXeFKf7hhguETcb4eY2/ZXM79RmqYIEO8S1PaTlpXbORrBZLR/upEGc3ca0\n9+7jtNOxAtd2bNN/PHDvxFvJR0zX02HVVsbLGd1ruT/bhNZPi5VF1FK8Fz/tU6am\n2Cf07EELy7FVfoFaeR3E1sljB2VoFraodIbtMweu5pRfd8uO3BBR+He+kpP3kewi\nZHD/6NJtYakwMHZnv+/iTFpsBOw0yAbndB9kxqchuTSQiT0R2nEUK4DUkSZXgr1W\nepTAJSALXfqpU33h0q4XW+QX9YlaaBa3W6EYb2an6ZUDsr09i71V4hAa+mjae6g=\n=FfMo\n-----END PGP SIGNATURE-----\n", "payload": "tree 3404b9cc2b4d7f44789fd69e43a26dce3bad7cb6\nparent d3569ddf320cc7bb33f53483892fc3f8204dc62a\nparent 3eef0cbfe2e45157efb86030200d806e06533689\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1562327589 +0200\ncommitter GitHub <noreply@github.com> 1562327589 +0200\n\nRollup merge of #62324 - Centril:reduce-await-macro-reliance, r=cramertj\n\nReduce reliance on `await!(...)` macro\n\nOnly the last commit is new.\n\nr? @cramertj\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7d6e43177cbf6112822c6e5e9e7950947c45b134", "html_url": "https://github.com/rust-lang/rust/commit/7d6e43177cbf6112822c6e5e9e7950947c45b134", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7d6e43177cbf6112822c6e5e9e7950947c45b134/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d3569ddf320cc7bb33f53483892fc3f8204dc62a", "url": "https://api.github.com/repos/rust-lang/rust/commits/d3569ddf320cc7bb33f53483892fc3f8204dc62a", "html_url": "https://github.com/rust-lang/rust/commit/d3569ddf320cc7bb33f53483892fc3f8204dc62a"}, {"sha": "3eef0cbfe2e45157efb86030200d806e06533689", "url": "https://api.github.com/repos/rust-lang/rust/commits/3eef0cbfe2e45157efb86030200d806e06533689", "html_url": "https://github.com/rust-lang/rust/commit/3eef0cbfe2e45157efb86030200d806e06533689"}], "stats": {"total": 60, "additions": 30, "deletions": 30}, "files": [{"sha": "7396918196c088a35c4108780728d80cb19ce766", "filename": "src/test/run-pass/async-await/async-fn-size.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Frun-pass%2Fasync-await%2Fasync-fn-size.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Frun-pass%2Fasync-await%2Fasync-fn-size.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fasync-await%2Fasync-fn-size.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,6 +1,6 @@\n // edition:2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n #[path = \"../auxiliary/arc_wake.rs\"]\n mod arc_wake;\n@@ -58,31 +58,31 @@ fn wait(fut: impl Future<Output = u8>) -> u8 {\n fn base() -> WakeOnceThenComplete { WakeOnceThenComplete(false, 1) }\n \n async fn await1_level1() -> u8 {\n-    await!(base())\n+    base().await\n }\n \n async fn await2_level1() -> u8 {\n-    await!(base()) + await!(base())\n+    base().await + base().await\n }\n \n async fn await3_level1() -> u8 {\n-    await!(base()) + await!(base()) + await!(base())\n+    base().await + base().await + base().await\n }\n \n async fn await3_level2() -> u8 {\n-    await!(await3_level1()) + await!(await3_level1()) + await!(await3_level1())\n+    await3_level1().await + await3_level1().await + await3_level1().await\n }\n \n async fn await3_level3() -> u8 {\n-    await!(await3_level2()) + await!(await3_level2()) + await!(await3_level2())\n+    await3_level2().await + await3_level2().await + await3_level2().await\n }\n \n async fn await3_level4() -> u8 {\n-    await!(await3_level3()) + await!(await3_level3()) + await!(await3_level3())\n+    await3_level3().await + await3_level3().await + await3_level3().await\n }\n \n async fn await3_level5() -> u8 {\n-    await!(await3_level4()) + await!(await3_level4()) + await!(await3_level4())\n+    await3_level4().await + await3_level4().await + await3_level4().await\n }\n \n fn main() {"}, {"sha": "5ebb18b999ab6f83d071f65630740f08d74f9c5b", "filename": "src/test/run-pass/async-await/issue-60709.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Frun-pass%2Fasync-await%2Fissue-60709.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Frun-pass%2Fasync-await%2Fissue-60709.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fasync-await%2Fissue-60709.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -2,7 +2,7 @@\n // handled incorrectly in generators.\n // compile-flags: -Copt-level=z -Cdebuginfo=2 --edition=2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n #![allow(unused)]\n \n use std::future::Future;\n@@ -22,7 +22,7 @@ impl Future for Never {\n fn main() {\n     let fut = async {\n         let _rc = Rc::new(()); // Also crashes with Arc\n-        await!(Never());\n+        Never().await;\n     };\n     let _bla = fut; // Moving the future is required.\n }"}, {"sha": "447e40dddd910f4b47aed0035bc157c645ed8e04", "filename": "src/test/ui/async-await/async-fn-path-elision.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fasync-fn-path-elision.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fasync-fn-path-elision.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fasync-fn-path-elision.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,6 +1,6 @@\n // edition:2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n #![allow(dead_code)]\n \n struct HasLifetime<'a>(&'a bool);"}, {"sha": "f7dc874affd268170bc6c58e4ef5add1651e78ec", "filename": "src/test/ui/async-await/async-with-closure.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fasync-with-closure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fasync-with-closure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fasync-with-closure.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,7 +1,7 @@\n // build-pass (FIXME(62277): could be check-pass?)\n // edition:2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n trait MyClosure {\n     type Args;\n@@ -20,7 +20,7 @@ async fn get_future<C: ?Sized + MyClosure>(_stream: MyStream<C>) {}\n \n async fn f() {\n     let messages: MyStream<dyn FnMut()> = unimplemented!();\n-    await!(get_future(messages));\n+    get_future(messages).await;\n }\n \n fn main() {}"}, {"sha": "92f3210ac89a38df7eb4ddf6f06def3d845cdf9b", "filename": "src/test/ui/async-await/await-keyword/2018-edition-error-in-non-macro-position.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fawait-keyword%2F2018-edition-error-in-non-macro-position.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fawait-keyword%2F2018-edition-error-in-non-macro-position.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fawait-keyword%2F2018-edition-error-in-non-macro-position.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,7 +1,7 @@\n // edition:2018\n \n #![allow(non_camel_case_types)]\n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n mod outer_mod {\n     pub mod await { //~ ERROR expected identifier, found reserved keyword `await`"}, {"sha": "dfd8b2e361eef1b1e0cd8ea77a309eb7989ee354", "filename": "src/test/ui/async-await/drop-order/drop-order-for-async-fn-parameters-by-ref-binding.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fdrop-order%2Fdrop-order-for-async-fn-parameters-by-ref-binding.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fdrop-order%2Fdrop-order-for-async-fn-parameters-by-ref-binding.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fdrop-order%2Fdrop-order-for-async-fn-parameters-by-ref-binding.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -3,7 +3,7 @@\n // run-pass\n \n #![allow(unused_variables)]\n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n // Test that the drop order for parameters in a fn and async fn matches up. Also test that\n // parameters (used or unused) are not dropped until the async fn completes execution."}, {"sha": "2a74485afb45094803b030dcdde26ebacbe37c17", "filename": "src/test/ui/async-await/drop-order/drop-order-for-async-fn-parameters.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fdrop-order%2Fdrop-order-for-async-fn-parameters.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fdrop-order%2Fdrop-order-for-async-fn-parameters.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fdrop-order%2Fdrop-order-for-async-fn-parameters.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -3,7 +3,7 @@\n // run-pass\n \n #![allow(unused_variables)]\n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n // Test that the drop order for parameters in a fn and async fn matches up. Also test that\n // parameters (used or unused) are not dropped until the async fn completes execution."}, {"sha": "c57dc6b0ef6f9e63a173bf4aee230453b69ffdcd", "filename": "src/test/ui/async-await/issues/issue-53249.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-53249.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-53249.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-53249.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,7 +1,7 @@\n // build-pass (FIXME(62277): could be check-pass?)\n // edition:2018\n \n-#![feature(arbitrary_self_types, async_await, await_macro)]\n+#![feature(arbitrary_self_types, async_await)]\n \n use std::task::{self, Poll};\n use std::future::Future;\n@@ -37,11 +37,11 @@ impl<R, F> Future for Lazy<F>\n async fn __receive<WantFn, Fut>(want: WantFn) -> ()\n     where Fut: Future<Output = ()>, WantFn: Fn(&Box<dyn Send + 'static>) -> Fut,\n {\n-    await!(lazy(|_| ()));\n+    lazy(|_| ()).await;\n }\n \n pub fn basic_spawn_receive() {\n-    async { await!(__receive(|_| async { () })) };\n+    async { __receive(|_| async { () }).await };\n }\n \n fn main() {}"}, {"sha": "040989b33fc1a2746f0778e306d3285f32a8ee46", "filename": "src/test/ui/async-await/issues/issue-54974.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-54974.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-54974.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-54974.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,7 +1,7 @@\n // build-pass (FIXME(62277): could be check-pass?)\n // edition:2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n use std::sync::Arc;\n "}, {"sha": "4f383a51a88e7ecfb0e7884858e4c8c9822ecb83", "filename": "src/test/ui/async-await/issues/issue-55324.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-55324.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-55324.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-55324.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,13 +1,13 @@\n // build-pass (FIXME(62277): could be check-pass?)\n // edition:2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n use std::future::Future;\n \n #[allow(unused)]\n async fn foo<F: Future<Output = i32>>(x: &i32, future: F) -> i32 {\n-    let y = await!(future);\n+    let y = future.await;\n     *x + y\n }\n "}, {"sha": "47744aeea603499e84dedea88f447e5fd372ae6b", "filename": "src/test/ui/async-await/issues/issue-58885.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-58885.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-58885.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-58885.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,7 +1,7 @@\n // build-pass (FIXME(62277): could be check-pass?)\n // edition:2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n struct Xyz {\n     a: u64,"}, {"sha": "9334ddb0af588e2335939bdef5cd5dc6c00bfabb", "filename": "src/test/ui/async-await/issues/issue-59001.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-59001.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-59001.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-59001.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,7 +1,7 @@\n // build-pass (FIXME(62277): could be check-pass?)\n // edition:2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n use std::future::Future;\n "}, {"sha": "1b843720102ab6a514a8aa32d2f9ccea6de7ddad", "filename": "src/test/ui/async-await/issues/issue-59972.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-59972.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-59972.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissues%2Fissue-59972.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -2,7 +2,7 @@\n \n // compile-flags: --edition=2018\n \n-#![feature(async_await, await_macro)]\n+#![feature(async_await)]\n \n pub enum Uninhabited { }\n \n@@ -15,7 +15,7 @@ async fn noop() { }\n #[allow(unused)]\n async fn contains_never() {\n     let error = uninhabited_async();\n-    await!(noop());\n+    noop().await;\n     let error2 = error;\n }\n "}, {"sha": "589e260d084b2136a56c947686ba12c3cffa9eee", "filename": "src/test/ui/async-await/multiple-lifetimes/hrtb.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fmultiple-lifetimes%2Fhrtb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fmultiple-lifetimes%2Fhrtb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fmultiple-lifetimes%2Fhrtb.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -3,7 +3,7 @@\n \n // Test that we can use async fns with multiple arbitrary lifetimes.\n \n-#![feature(arbitrary_self_types, async_await, await_macro)]\n+#![feature(async_await)]\n #![allow(dead_code)]\n \n use std::ops::Add;"}, {"sha": "62d4b3fb6f23b9a82970b461674056ef79c03b5b", "filename": "src/test/ui/async-await/no-args-non-move-async-closure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fno-args-non-move-async-closure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Fno-args-non-move-async-closure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fno-args-non-move-async-closure.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -1,6 +1,6 @@\n // edition:2018\n \n-#![feature(async_await, async_closure, await_macro)]\n+#![feature(async_await, async_closure)]\n \n fn main() {\n     let _ = async |x: u8| {};"}, {"sha": "54f3339870bda4012bc6b8b3a2404a47028d190b", "filename": "src/test/ui/async-await/recursive-async-impl-trait-type.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Frecursive-async-impl-trait-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6e43177cbf6112822c6e5e9e7950947c45b134/src%2Ftest%2Fui%2Fasync-await%2Frecursive-async-impl-trait-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Frecursive-async-impl-trait-type.rs?ref=7d6e43177cbf6112822c6e5e9e7950947c45b134", "patch": "@@ -2,10 +2,10 @@\n // Test that impl trait does not allow creating recursive types that are\n // otherwise forbidden when using `async` and `await`.\n \n-#![feature(await_macro, async_await, generators)]\n+#![feature(async_await)]\n \n async fn recursive_async_function() -> () { //~ ERROR\n-    await!(recursive_async_function());\n+    recursive_async_function().await;\n }\n \n fn main() {}"}]}