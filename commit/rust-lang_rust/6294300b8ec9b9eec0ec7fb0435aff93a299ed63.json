{"sha": "6294300b8ec9b9eec0ec7fb0435aff93a299ed63", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYyOTQzMDBiOGVjOWI5ZWVjMGVjN2ZiMDQzNWFmZjkzYTI5OWVkNjM=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-11-09T18:06:55Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-11-09T18:06:55Z"}, "message": "Rollup merge of #78710 - petrochenkov:macvisit, r=davidtwco\n\nrustc_ast: Do not panic by default when visiting macro calls\n\nPanicking by default made sense when we didn't have HIR or MIR and everything worked on AST, but now all AST visitors run early and majority of them have to deal with macro calls, often by ignoring them.\n\nThe second commit renames `visit_mac` to `visit_mac_call`, the corresponding structures were renamed earlier in https://github.com/rust-lang/rust/pull/69589.", "tree": {"sha": "71785f06cd9656195e715c58d589c8b335d5e52c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/71785f06cd9656195e715c58d589c8b335d5e52c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6294300b8ec9b9eec0ec7fb0435aff93a299ed63", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6294300b8ec9b9eec0ec7fb0435aff93a299ed63", "html_url": "https://github.com/rust-lang/rust/commit/6294300b8ec9b9eec0ec7fb0435aff93a299ed63", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6294300b8ec9b9eec0ec7fb0435aff93a299ed63/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "34244190d45d80bf66a0eec0d04f0254efd4c754", "url": "https://api.github.com/repos/rust-lang/rust/commits/34244190d45d80bf66a0eec0d04f0254efd4c754", "html_url": "https://github.com/rust-lang/rust/commit/34244190d45d80bf66a0eec0d04f0254efd4c754"}, {"sha": "c2a769f84c8b1347a93a23cb9a6704cdd1a4a77d", "url": "https://api.github.com/repos/rust-lang/rust/commits/c2a769f84c8b1347a93a23cb9a6704cdd1a4a77d", "html_url": "https://github.com/rust-lang/rust/commit/c2a769f84c8b1347a93a23cb9a6704cdd1a4a77d"}], "stats": {"total": 8, "additions": 1, "deletions": 7}, "files": [{"sha": "6b175490cc8331f2d6cda2efe280079d0d957a9e", "filename": "clippy_lints/src/non_expressive_names.rs", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6294300b8ec9b9eec0ec7fb0435aff93a299ed63/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6294300b8ec9b9eec0ec7fb0435aff93a299ed63/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_expressive_names.rs?ref=6294300b8ec9b9eec0ec7fb0435aff93a299ed63", "patch": "@@ -1,6 +1,6 @@\n use crate::utils::{span_lint, span_lint_and_then};\n use rustc_ast::ast::{\n-    Arm, AssocItem, AssocItemKind, Attribute, Block, FnDecl, Item, ItemKind, Local, MacCall, Pat, PatKind,\n+    Arm, AssocItem, AssocItemKind, Attribute, Block, FnDecl, Item, ItemKind, Local, Pat, PatKind,\n };\n use rustc_ast::visit::{walk_block, walk_expr, walk_pat, Visitor};\n use rustc_lint::{EarlyContext, EarlyLintPass};\n@@ -150,9 +150,6 @@ impl<'a, 'tcx, 'b> Visitor<'tcx> for SimilarNamesNameVisitor<'a, 'tcx, 'b> {\n             _ => walk_pat(self, pat),\n         }\n     }\n-    fn visit_mac(&mut self, _mac: &MacCall) {\n-        // do not check macs\n-    }\n }\n \n #[must_use]\n@@ -357,9 +354,6 @@ impl<'a, 'tcx> Visitor<'tcx> for SimilarNamesLocalVisitor<'a, 'tcx> {\n     fn visit_item(&mut self, _: &Item) {\n         // do not recurse into inner items\n     }\n-    fn visit_mac(&mut self, _mac: &MacCall) {\n-        // do not check macs\n-    }\n }\n \n impl EarlyLintPass for NonExpressiveNames {"}]}