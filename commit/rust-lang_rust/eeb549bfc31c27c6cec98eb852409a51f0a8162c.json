{"sha": "eeb549bfc31c27c6cec98eb852409a51f0a8162c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVlYjU0OWJmYzMxYzI3YzZjZWM5OGViODUyNDA5YTUxZjBhODE2MmM=", "commit": {"author": {"name": "Clar Fon", "email": "them@lightdark.xyz", "date": "2019-10-05T22:23:37Z"}, "committer": {"name": "Clar Fon", "email": "them@lightdark.xyz", "date": "2019-10-22T23:56:41Z"}, "message": "Add Cow::is_borrowed and Cow::is_owned", "tree": {"sha": "30ef378fa03e108c3b52d2d07454d42f1e8751f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/30ef378fa03e108c3b52d2d07454d42f1e8751f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eeb549bfc31c27c6cec98eb852409a51f0a8162c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eeb549bfc31c27c6cec98eb852409a51f0a8162c", "html_url": "https://github.com/rust-lang/rust/commit/eeb549bfc31c27c6cec98eb852409a51f0a8162c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eeb549bfc31c27c6cec98eb852409a51f0a8162c/comments", "author": {"login": "clarfonthey", "id": 15850505, "node_id": "MDQ6VXNlcjE1ODUwNTA1", "avatar_url": "https://avatars.githubusercontent.com/u/15850505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clarfonthey", "html_url": "https://github.com/clarfonthey", "followers_url": "https://api.github.com/users/clarfonthey/followers", "following_url": "https://api.github.com/users/clarfonthey/following{/other_user}", "gists_url": "https://api.github.com/users/clarfonthey/gists{/gist_id}", "starred_url": "https://api.github.com/users/clarfonthey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clarfonthey/subscriptions", "organizations_url": "https://api.github.com/users/clarfonthey/orgs", "repos_url": "https://api.github.com/users/clarfonthey/repos", "events_url": "https://api.github.com/users/clarfonthey/events{/privacy}", "received_events_url": "https://api.github.com/users/clarfonthey/received_events", "type": "User", "site_admin": false}, "committer": {"login": "clarfonthey", "id": 15850505, "node_id": "MDQ6VXNlcjE1ODUwNTA1", "avatar_url": "https://avatars.githubusercontent.com/u/15850505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clarfonthey", "html_url": "https://github.com/clarfonthey", "followers_url": "https://api.github.com/users/clarfonthey/followers", "following_url": "https://api.github.com/users/clarfonthey/following{/other_user}", "gists_url": "https://api.github.com/users/clarfonthey/gists{/gist_id}", "starred_url": "https://api.github.com/users/clarfonthey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clarfonthey/subscriptions", "organizations_url": "https://api.github.com/users/clarfonthey/orgs", "repos_url": "https://api.github.com/users/clarfonthey/repos", "events_url": "https://api.github.com/users/clarfonthey/events{/privacy}", "received_events_url": "https://api.github.com/users/clarfonthey/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "57bfb8096295150c06559da10adc5629e445a4ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/57bfb8096295150c06559da10adc5629e445a4ac", "html_url": "https://github.com/rust-lang/rust/commit/57bfb8096295150c06559da10adc5629e445a4ac"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "d2bdda83fa998ae4e8e195d955627c7c88887fba", "filename": "src/liballoc/borrow.rs", "status": "modified", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/eeb549bfc31c27c6cec98eb852409a51f0a8162c/src%2Fliballoc%2Fborrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eeb549bfc31c27c6cec98eb852409a51f0a8162c/src%2Fliballoc%2Fborrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fborrow.rs?ref=eeb549bfc31c27c6cec98eb852409a51f0a8162c", "patch": "@@ -207,6 +207,47 @@ impl<B: ?Sized + ToOwned> Clone for Cow<'_, B> {\n }\n \n impl<B: ?Sized + ToOwned> Cow<'_, B> {\n+    /// Returns true if the data is borrowed, i.e. if `to_mut` would require additional work.\n+    ///\n+    /// # Examples\n+    ///\n+    /// ```\n+    /// #![feature(cow_is_borrowed)]\n+    /// use std::borrow::Cow;\n+    ///\n+    /// let cow = Cow::Borrowed(\"moo\");\n+    /// assert!(cow.is_borrowed());\n+    ///\n+    /// let bull: Cow<'_, str> = Cow::Owned(\"...moo?\".to_string());\n+    /// assert!(!bull.is_borrowed());\n+    /// ```\n+    #[unstable(feature = \"cow_is_borrowed\", issue = \"65143\")]\n+    pub fn is_borrowed(&self) -> bool {\n+        match *self {\n+            Borrowed(_) => true,\n+            Owned(_) => false,\n+        }\n+    }\n+\n+    /// Returns true if the data is owned, i.e. if `to_mut` would be a no-op.\n+    ///\n+    /// # Examples\n+    ///\n+    /// ```\n+    /// #![feature(cow_is_borrowed)]\n+    /// use std::borrow::Cow;\n+    ///\n+    /// let cow: Cow<'_, str> = Cow::Owned(\"moo\".to_string());\n+    /// assert!(cow.is_owned());\n+    ///\n+    /// let bull = Cow::Borrowed(\"...moo?\");\n+    /// assert!(!bull.is_owned());\n+    /// ```\n+    #[unstable(feature = \"cow_is_borrowed\", issue = \"65143\")]\n+    pub fn is_owned(&self) -> bool {\n+        !self.is_borrowed()\n+    }\n+\n     /// Acquires a mutable reference to the owned form of the data.\n     ///\n     /// Clones the data if it is not already owned."}, {"sha": "94379afc2bd454e1071243647cbd7b77c790f279", "filename": "src/liballoc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/eeb549bfc31c27c6cec98eb852409a51f0a8162c/src%2Fliballoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eeb549bfc31c27c6cec98eb852409a51f0a8162c/src%2Fliballoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Flib.rs?ref=eeb549bfc31c27c6cec98eb852409a51f0a8162c", "patch": "@@ -85,6 +85,7 @@\n #![feature(const_generic_impls_guard)]\n #![feature(const_generics)]\n #![feature(const_in_array_repeat_expressions)]\n+#![feature(cow_is_borrowed)]\n #![feature(dispatch_from_dyn)]\n #![feature(core_intrinsics)]\n #![feature(container_error_extra)]"}]}