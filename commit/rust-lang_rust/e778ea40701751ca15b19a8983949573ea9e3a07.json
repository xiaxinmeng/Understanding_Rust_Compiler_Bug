{"sha": "e778ea40701751ca15b19a8983949573ea9e3a07", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3NzhlYTQwNzAxNzUxY2ExNWIxOWE4OTgzOTQ5NTczZWE5ZTNhMDc=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-02-01T01:16:17Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-02-01T11:13:06Z"}, "message": "Tweak comments per eddyb's suggestion.", "tree": {"sha": "4ce34eb7760a47732883d645165fd63424a77eca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4ce34eb7760a47732883d645165fd63424a77eca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e778ea40701751ca15b19a8983949573ea9e3a07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e778ea40701751ca15b19a8983949573ea9e3a07", "html_url": "https://github.com/rust-lang/rust/commit/e778ea40701751ca15b19a8983949573ea9e3a07", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e778ea40701751ca15b19a8983949573ea9e3a07/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5a39a0d266705d594ff31b8e386bc8c1e54ab019", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a39a0d266705d594ff31b8e386bc8c1e54ab019", "html_url": "https://github.com/rust-lang/rust/commit/5a39a0d266705d594ff31b8e386bc8c1e54ab019"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "808dbd4b319109d331678b40c15b71b1ca451d21", "filename": "src/librustc_typeck/check/closure.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e778ea40701751ca15b19a8983949573ea9e3a07/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e778ea40701751ca15b19a8983949573ea9e3a07/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs?ref=e778ea40701751ca15b19a8983949573ea9e3a07", "patch": "@@ -42,7 +42,8 @@ pub fn check_expr_closure<'a,'tcx>(fcx: &FnCtxt<'a,'tcx>,\n             // If users didn't specify what sort of closure they want,\n             // examine the expected type. For now, if we see explicit\n             // evidence than an unboxed closure is desired, we'll use\n-            // that, otherwise we'll error, requesting an annotation.\n+            // that. Otherwise, we leave it unspecified, to be filled\n+            // in by upvar inference.\n             match expected_sig_and_kind {\n                 None => { // don't have information about the kind, request explicit annotation\n                     check_closure(fcx, expr, None, decl, body, None);"}, {"sha": "268e61b994e14b4b2c18e5eb8434529fdd6502e9", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e778ea40701751ca15b19a8983949573ea9e3a07/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e778ea40701751ca15b19a8983949573ea9e3a07/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=e778ea40701751ca15b19a8983949573ea9e3a07", "patch": "@@ -177,7 +177,7 @@ pub struct Inherited<'a, 'tcx: 'a> {\n     // we may not have decided yet whether `c` is a `Fn`, `FnMut`, or\n     // `FnOnce` closure. In that case, we defer full resolution of the\n     // call until upvar inference can kick in and make the\n-    // decision. We keep these deferred resolutions sorted by the\n+    // decision. We keep these deferred resolutions grouped by the\n     // def-id of the closure, so that once we decide, we can easily go\n     // back and process them.\n     deferred_call_resolutions: RefCell<DefIdMap<Vec<DeferredCallResolutionHandler<'tcx>>>>,"}]}