{"sha": "d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ3NTNhZDRlZTQ0Y2JjZjM5ODY4YjhkNTczOGZlNGZmYzg4YWNhZjI=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2013-01-26T00:58:04Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2013-01-26T00:58:04Z"}, "message": "testsuite: Fix Windows breakage harder in x86stdcall2", "tree": {"sha": "cedc977c929fe4a68c2e59ee6931aecf66045c14", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cedc977c929fe4a68c2e59ee6931aecf66045c14"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2", "html_url": "https://github.com/rust-lang/rust/commit/d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d1f771ca341bc93e2ebe9f0ef9979a71a8e3c6d8", "url": "https://api.github.com/repos/rust-lang/rust/commits/d1f771ca341bc93e2ebe9f0ef9979a71a8e3c6d8", "html_url": "https://github.com/rust-lang/rust/commit/d1f771ca341bc93e2ebe9f0ef9979a71a8e3c6d8"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "31cf623343071494e2b16f41b8d98376c62966e8", "filename": "src/test/run-pass/x86stdcall2.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2/src%2Ftest%2Frun-pass%2Fx86stdcall2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2/src%2Ftest%2Frun-pass%2Fx86stdcall2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fx86stdcall2.rs?ref=d753ad4ee44cbcf39868b8d5738fe4ffc88acaf2", "patch": "@@ -26,11 +26,11 @@ extern mod kernel32 {\n \n #[cfg(target_os = \"win32\")]\n fn main() {\n-   let heap = kernel32::GetProcessHeap();\n-   let mem = kernel32::HeapAlloc(heap, 0u32, 100u32);\n-   assert mem != 0u;\n-   let res = kernel32::HeapFree(heap, 0u32, mem);\n-   assert res != 0u8;\n+    let heap = unsafe { kernel32::GetProcessHeap() };\n+    let mem = unsafe { kernel32::HeapAlloc(heap, 0u32, 100u32) };\n+    assert mem != 0u;\n+    let res = unsafe { kernel32::HeapFree(heap, 0u32, mem) };\n+    assert res != 0u8;\n }\n \n #[cfg(target_os = \"macos\")]"}]}