{"sha": "b56079ec5466af5bff7d7d174ed6ae248aaa92c4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1NjA3OWVjNTQ2NmFmNWJmZjdkN2QxNzRlZDZhZTI0OGFhYTkyYzQ=", "commit": {"author": {"name": "inquisitivecrystal", "email": "22333129+inquisitivecrystal@users.noreply.github.com", "date": "2021-07-11T23:51:56Z"}, "committer": {"name": "inquisitivecrystal", "email": "22333129+inquisitivecrystal@users.noreply.github.com", "date": "2021-07-11T23:51:56Z"}, "message": "Add diagnostics test for mistyped inclusive ranges", "tree": {"sha": "70e2fd968adec416926aed231844ee7227777952", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/70e2fd968adec416926aed231844ee7227777952"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b56079ec5466af5bff7d7d174ed6ae248aaa92c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b56079ec5466af5bff7d7d174ed6ae248aaa92c4", "html_url": "https://github.com/rust-lang/rust/commit/b56079ec5466af5bff7d7d174ed6ae248aaa92c4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b56079ec5466af5bff7d7d174ed6ae248aaa92c4/comments", "author": {"login": "inquisitivecrystal", "id": 22333129, "node_id": "MDQ6VXNlcjIyMzMzMTI5", "avatar_url": "https://avatars.githubusercontent.com/u/22333129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inquisitivecrystal", "html_url": "https://github.com/inquisitivecrystal", "followers_url": "https://api.github.com/users/inquisitivecrystal/followers", "following_url": "https://api.github.com/users/inquisitivecrystal/following{/other_user}", "gists_url": "https://api.github.com/users/inquisitivecrystal/gists{/gist_id}", "starred_url": "https://api.github.com/users/inquisitivecrystal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inquisitivecrystal/subscriptions", "organizations_url": "https://api.github.com/users/inquisitivecrystal/orgs", "repos_url": "https://api.github.com/users/inquisitivecrystal/repos", "events_url": "https://api.github.com/users/inquisitivecrystal/events{/privacy}", "received_events_url": "https://api.github.com/users/inquisitivecrystal/received_events", "type": "User", "site_admin": false}, "committer": {"login": "inquisitivecrystal", "id": 22333129, "node_id": "MDQ6VXNlcjIyMzMzMTI5", "avatar_url": "https://avatars.githubusercontent.com/u/22333129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inquisitivecrystal", "html_url": "https://github.com/inquisitivecrystal", "followers_url": "https://api.github.com/users/inquisitivecrystal/followers", "following_url": "https://api.github.com/users/inquisitivecrystal/following{/other_user}", "gists_url": "https://api.github.com/users/inquisitivecrystal/gists{/gist_id}", "starred_url": "https://api.github.com/users/inquisitivecrystal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inquisitivecrystal/subscriptions", "organizations_url": "https://api.github.com/users/inquisitivecrystal/orgs", "repos_url": "https://api.github.com/users/inquisitivecrystal/repos", "events_url": "https://api.github.com/users/inquisitivecrystal/events{/privacy}", "received_events_url": "https://api.github.com/users/inquisitivecrystal/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fd406a8865d601572ac0252ea57965e8b784de28", "url": "https://api.github.com/repos/rust-lang/rust/commits/fd406a8865d601572ac0252ea57965e8b784de28", "html_url": "https://github.com/rust-lang/rust/commit/fd406a8865d601572ac0252ea57965e8b784de28"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "d41c0699cf7fb7d84237443b199ce4ba2aefd11c", "filename": "src/test/ui/parser/range-inclusive-extra-equals.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b56079ec5466af5bff7d7d174ed6ae248aaa92c4/src%2Ftest%2Fui%2Fparser%2Frange-inclusive-extra-equals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b56079ec5466af5bff7d7d174ed6ae248aaa92c4/src%2Ftest%2Fui%2Fparser%2Frange-inclusive-extra-equals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Frange-inclusive-extra-equals.rs?ref=b56079ec5466af5bff7d7d174ed6ae248aaa92c4", "patch": "@@ -0,0 +1,10 @@\n+// Makes sure that a helpful message is shown when someone mistypes\n+// an inclusive range as `..==` rather than `..=`. This is an\n+// easy mistake, because of the resemblance to`==`.\n+// See #86395 for a bit of background.\n+\n+pub fn main() {\n+    if let 1..==3 = 1 {} //~ERROR unexpected `=` after inclusive range\n+                      //~|HELP use `..=` instead\n+                      //~|NOTE inclusive ranges end with a single equals sign\n+}"}, {"sha": "d37b6be4fa1134ade45922de815ad8144378ece2", "filename": "src/test/ui/parser/range-inclusive-extra-equals.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b56079ec5466af5bff7d7d174ed6ae248aaa92c4/src%2Ftest%2Fui%2Fparser%2Frange-inclusive-extra-equals.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b56079ec5466af5bff7d7d174ed6ae248aaa92c4/src%2Ftest%2Fui%2Fparser%2Frange-inclusive-extra-equals.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Frange-inclusive-extra-equals.stderr?ref=b56079ec5466af5bff7d7d174ed6ae248aaa92c4", "patch": "@@ -0,0 +1,10 @@\n+error: unexpected `=` after inclusive range\n+  --> $DIR/range-inclusive-extra-equals.rs:7:13\n+   |\n+LL |     if let 1..==3 = 1 {}\n+   |             ^^^^ help: use `..=` instead\n+   |\n+   = note: inclusive ranges end with a single equals sign (`..=`)\n+\n+error: aborting due to previous error\n+"}]}