{"sha": "035d60d533d4c34c9837951bdc819c498992dcba", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzNWQ2MGQ1MzNkNGMzNGM5ODM3OTUxYmRjODE5YzQ5ODk5MmRjYmE=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-06-20T16:06:21Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-06-20T19:58:23Z"}, "message": "Fix interference between if-check and if printing.", "tree": {"sha": "d6dd659de72a7447395579070fdd3ba6ea48fcfe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d6dd659de72a7447395579070fdd3ba6ea48fcfe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/035d60d533d4c34c9837951bdc819c498992dcba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/035d60d533d4c34c9837951bdc819c498992dcba", "html_url": "https://github.com/rust-lang/rust/commit/035d60d533d4c34c9837951bdc819c498992dcba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/035d60d533d4c34c9837951bdc819c498992dcba/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1ad8efa86e4581677274f76eb0730ab5883deadb", "url": "https://api.github.com/repos/rust-lang/rust/commits/1ad8efa86e4581677274f76eb0730ab5883deadb", "html_url": "https://github.com/rust-lang/rust/commit/1ad8efa86e4581677274f76eb0730ab5883deadb"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "0e39cd887568126ebd5343d19ff4bd2dea49c54e", "filename": "src/comp/pretty/pprust.rs", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/035d60d533d4c34c9837951bdc819c498992dcba/src%2Fcomp%2Fpretty%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/035d60d533d4c34c9837951bdc819c498992dcba/src%2Fcomp%2Fpretty%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fpretty%2Fpprust.rs?ref=035d60d533d4c34c9837951bdc819c498992dcba", "patch": "@@ -503,9 +503,11 @@ fn print_block(&ps s, ast::block blk) {\n }\n \n fn print_if(&ps s, &@ast::expr test, &ast::block block,\n-            &option::t[@ast::expr] elseopt, &str chk) {\n+            &option::t[@ast::expr] elseopt, bool chk) {\n     head(s, \"if\");\n-    word_space(s, chk);\n+    if (chk) {\n+        word_nbsp(s, \"check\");\n+    }\n     popen(s);\n     print_expr(s, test);\n     pclose(s);\n@@ -651,10 +653,10 @@ fn print_expr(&ps s, &@ast::expr expr) {\n             print_type(s, *ty);\n         }\n         case (ast::expr_if(?test, ?block, ?elseopt, _)) {\n-            print_if(s, test, block, elseopt, \"\");\n+            print_if(s, test, block, elseopt, false);\n         }\n         case (ast::expr_if_check(?test, ?block, ?elseopt, _)) {\n-            print_if(s, test, block, elseopt, \"check\");\n+            print_if(s, test, block, elseopt, true);\n         }\n         case (ast::expr_while(?test, ?block, _)) {\n             head(s, \"while\");"}]}