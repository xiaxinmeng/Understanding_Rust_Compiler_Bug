{"sha": "ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVlN2MzZjc5ZTI5YmYxNDBmZTZmYWFmNTJiZWU2M2RiYTJmYzI5YjE=", "commit": {"author": {"name": "Phil Ellison", "email": "phil.j.ellison@gmail.com", "date": "2021-01-03T08:54:33Z"}, "committer": {"name": "Phil Ellison", "email": "phil.j.ellison@gmail.com", "date": "2021-01-03T08:54:33Z"}, "message": "Use stdx::format_to instead of writeln", "tree": {"sha": "45745debcb950ba5422fc73faa42ae6d7255d38f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/45745debcb950ba5422fc73faa42ae6d7255d38f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1", "html_url": "https://github.com/rust-lang/rust/commit/ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1/comments", "author": {"login": "theotherphil", "id": 1974256, "node_id": "MDQ6VXNlcjE5NzQyNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1974256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theotherphil", "html_url": "https://github.com/theotherphil", "followers_url": "https://api.github.com/users/theotherphil/followers", "following_url": "https://api.github.com/users/theotherphil/following{/other_user}", "gists_url": "https://api.github.com/users/theotherphil/gists{/gist_id}", "starred_url": "https://api.github.com/users/theotherphil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theotherphil/subscriptions", "organizations_url": "https://api.github.com/users/theotherphil/orgs", "repos_url": "https://api.github.com/users/theotherphil/repos", "events_url": "https://api.github.com/users/theotherphil/events{/privacy}", "received_events_url": "https://api.github.com/users/theotherphil/received_events", "type": "User", "site_admin": false}, "committer": {"login": "theotherphil", "id": 1974256, "node_id": "MDQ6VXNlcjE5NzQyNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1974256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theotherphil", "html_url": "https://github.com/theotherphil", "followers_url": "https://api.github.com/users/theotherphil/followers", "following_url": "https://api.github.com/users/theotherphil/following{/other_user}", "gists_url": "https://api.github.com/users/theotherphil/gists{/gist_id}", "starred_url": "https://api.github.com/users/theotherphil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theotherphil/subscriptions", "organizations_url": "https://api.github.com/users/theotherphil/orgs", "repos_url": "https://api.github.com/users/theotherphil/repos", "events_url": "https://api.github.com/users/theotherphil/events{/privacy}", "received_events_url": "https://api.github.com/users/theotherphil/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "609a069757aa071c377c0e02d7b18b4ff7b32631", "url": "https://api.github.com/repos/rust-lang/rust/commits/609a069757aa071c377c0e02d7b18b4ff7b32631", "html_url": "https://github.com/rust-lang/rust/commit/609a069757aa071c377c0e02d7b18b4ff7b32631"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "804cdb143f0bca509f4b17d68490815ec55f7d52", "filename": "crates/hir/src/code_model.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1/crates%2Fhir%2Fsrc%2Fcode_model.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1/crates%2Fhir%2Fsrc%2Fcode_model.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir%2Fsrc%2Fcode_model.rs?ref=ee7c3f79e29bf140fe6faaf52bee63dba2fc29b1", "patch": "@@ -1,5 +1,5 @@\n //! FIXME: write short doc here\n-use std::{fmt::Write, iter, sync::Arc};\n+use std::{iter, sync::Arc};\n \n use arrayvec::ArrayVec;\n use base_db::{CrateDisplayName, CrateId, Edition, FileId};\n@@ -39,7 +39,7 @@ use hir_ty::{\n     TyDefId, TyKind, TypeCtor,\n };\n use rustc_hash::FxHashSet;\n-use stdx::impl_from;\n+use stdx::{format_to, impl_from};\n use syntax::{\n     ast::{self, AttrsOwner, NameOwner},\n     AstNode, SmolStr,\n@@ -803,9 +803,9 @@ impl Function {\n         let body = db.body(self.id.into());\n \n         let mut result = String::new();\n-        writeln!(&mut result, \"HIR expressions in the body of `{}`:\", self.name(db)).unwrap();\n+        format_to!(result, \"HIR expressions in the body of `{}`:\\n\", self.name(db));\n         for (id, expr) in body.exprs.iter() {\n-            writeln!(&mut result, \"{:?}: {:?}\", id, expr).unwrap();\n+            format_to!(result, \"{:?}: {:?}\\n\", id, expr);\n         }\n \n         result"}]}