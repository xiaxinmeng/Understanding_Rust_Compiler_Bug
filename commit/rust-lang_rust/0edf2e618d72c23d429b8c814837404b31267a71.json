{"sha": "0edf2e618d72c23d429b8c814837404b31267a71", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlZGYyZTYxOGQ3MmMyM2Q0MjliOGM4MTQ4Mzc0MDRiMzEyNjdhNzE=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-22T23:34:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-22T23:34:44Z"}, "message": "Rollup merge of #74600 - Mark-Simulacrum:try-perf, r=pietroalbini\n\nEnable perf try builder\n\nThis adds a dedicated branch for perf to use for CI, intended to allow perf to\nenqueue builds without needing to use bors. bors is great, but bors requires an\nopen PR to work, and we want to invoke perf on closed PRs sometimes (in\nparticular, rollups).", "tree": {"sha": "4dd943906c0803de05afb454d23bf0b0068d55f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4dd943906c0803de05afb454d23bf0b0068d55f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0edf2e618d72c23d429b8c814837404b31267a71", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfGM0VCRBK7hj4Ov3rIwAAdHIIAIa9QwwMim954802OJxMzO2o\n4Kz1HYFhsj/6pHIeNHXGKvx1i7TmtQOQ7cdTluehSiQG75J/duYKJdEg9mjEc90E\nL5JodeRP9hltj4wKBb1tIUGFYaOy1Bwhm5P0j2wgmRWKKIo38C3uJqwRAxR5IoAE\nuJEIMYX4968egT/jwqTic4Oiaie55lg8ABa3EEMYsuOl/g7UOwIp/U1wE/40hVPr\nJU/pznpzjU+bfL4Q4G42hOhXJwbRFwqfnAfPGyki8MO/URKns6XjBU0gUqjrLqN8\ndrpYMn0cRpXPfMmI36ly8CmuUqDckVlYoYPxpqW4x2kNbsvAV8xmZZ78wozFPDs=\n=bbqG\n-----END PGP SIGNATURE-----\n", "payload": "tree 4dd943906c0803de05afb454d23bf0b0068d55f2\nparent 8114dc7a4ad24315389ea3199a37abc6208ca876\nparent 747bc8ec88b94ddfbd665d21bb87732411bcd1f7\nauthor Manish Goregaokar <manishsmail@gmail.com> 1595460884 -0700\ncommitter GitHub <noreply@github.com> 1595460884 -0700\n\nRollup merge of #74600 - Mark-Simulacrum:try-perf, r=pietroalbini\n\nEnable perf try builder\n\nThis adds a dedicated branch for perf to use for CI, intended to allow perf to\nenqueue builds without needing to use bors. bors is great, but bors requires an\nopen PR to work, and we want to invoke perf on closed PRs sometimes (in\nparticular, rollups).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0edf2e618d72c23d429b8c814837404b31267a71", "html_url": "https://github.com/rust-lang/rust/commit/0edf2e618d72c23d429b8c814837404b31267a71", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0edf2e618d72c23d429b8c814837404b31267a71/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8114dc7a4ad24315389ea3199a37abc6208ca876", "url": "https://api.github.com/repos/rust-lang/rust/commits/8114dc7a4ad24315389ea3199a37abc6208ca876", "html_url": "https://github.com/rust-lang/rust/commit/8114dc7a4ad24315389ea3199a37abc6208ca876"}, {"sha": "747bc8ec88b94ddfbd665d21bb87732411bcd1f7", "url": "https://api.github.com/repos/rust-lang/rust/commits/747bc8ec88b94ddfbd665d21bb87732411bcd1f7", "html_url": "https://github.com/rust-lang/rust/commit/747bc8ec88b94ddfbd665d21bb87732411bcd1f7"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "d83971b70bedc45bfecb79c29608d884c0d5ef79", "filename": ".github/workflows/ci.yml", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/0edf2e618d72c23d429b8c814837404b31267a71/.github%2Fworkflows%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/0edf2e618d72c23d429b8c814837404b31267a71/.github%2Fworkflows%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fci.yml?ref=0edf2e618d72c23d429b8c814837404b31267a71", "patch": "@@ -20,6 +20,7 @@ name: CI\n     branches:\n       - auto\n       - try\n+      - try-perf\n       - master\n   pull_request:\n     branches:\n@@ -146,7 +147,7 @@ jobs:\n       CACHES_AWS_ACCESS_KEY_ID: AKIA46X5W6CZI5DHEBFL\n       ARTIFACTS_AWS_ACCESS_KEY_ID: AKIA46X5W6CZN24CBO55\n       CACHE_DOMAIN: ci-caches.rust-lang.org\n-    if: \"github.event_name == 'push' && github.ref == 'refs/heads/try' && github.repository == 'rust-lang-ci/rust'\"\n+    if: \"github.event_name == 'push' && (github.ref == 'refs/heads/try' || github.ref == 'refs/heads/try-perf') && github.repository == 'rust-lang-ci/rust'\"\n     strategy:\n       matrix:\n         include:\n@@ -717,7 +718,7 @@ jobs:\n   try-success:\n     needs:\n       - try\n-    if: \"success() && github.event_name == 'push' && github.ref == 'refs/heads/try' && github.repository == 'rust-lang-ci/rust'\"\n+    if: \"success() && github.event_name == 'push' && (github.ref == 'refs/heads/try' || github.ref == 'refs/heads/try-perf') && github.repository == 'rust-lang-ci/rust'\"\n     steps:\n       - name: mark the job as a success\n         run: exit 0\n@@ -727,7 +728,7 @@ jobs:\n   try-failure:\n     needs:\n       - try\n-    if: \"!success() && github.event_name == 'push' && github.ref == 'refs/heads/try' && github.repository == 'rust-lang-ci/rust'\"\n+    if: \"!success() && github.event_name == 'push' && (github.ref == 'refs/heads/try' || github.ref == 'refs/heads/try-perf') && github.repository == 'rust-lang-ci/rust'\"\n     steps:\n       - name: mark the job as a failure\n         run: exit 1"}, {"sha": "0aeb6a04e5f773ec8d12ef17351ba9ef77f5d88f", "filename": "src/ci/github-actions/ci.yml", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/0edf2e618d72c23d429b8c814837404b31267a71/src%2Fci%2Fgithub-actions%2Fci.yml", "raw_url": "https://github.com/rust-lang/rust/raw/0edf2e618d72c23d429b8c814837404b31267a71/src%2Fci%2Fgithub-actions%2Fci.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fgithub-actions%2Fci.yml?ref=0edf2e618d72c23d429b8c814837404b31267a71", "patch": "@@ -247,6 +247,7 @@ on:\n     branches:\n       - auto\n       - try\n+      - try-perf\n       - master\n   pull_request:\n     branches:\n@@ -285,7 +286,7 @@ jobs:\n     name: try\n     env:\n       <<: [*shared-ci-variables, *prod-variables]\n-    if: github.event_name == 'push' && github.ref == 'refs/heads/try' && github.repository == 'rust-lang-ci/rust'\n+    if: github.event_name == 'push' && (github.ref == 'refs/heads/try' || github.ref == 'refs/heads/try-perf') && github.repository == 'rust-lang-ci/rust'\n     strategy:\n       matrix:\n         include:\n@@ -645,11 +646,11 @@ jobs:\n   # successful listening to webhooks only.\n   try-success:\n     needs: [try]\n-    if: \"success() && github.event_name == 'push' && github.ref == 'refs/heads/try' && github.repository == 'rust-lang-ci/rust'\"\n+    if: \"success() && github.event_name == 'push' && (github.ref == 'refs/heads/try' || github.ref == 'refs/heads/try-perf') && github.repository == 'rust-lang-ci/rust'\"\n     <<: *base-success-job\n   try-failure:\n     needs: [try]\n-    if: \"!success() && github.event_name == 'push' && github.ref == 'refs/heads/try' && github.repository == 'rust-lang-ci/rust'\"\n+    if: \"!success() && github.event_name == 'push' && (github.ref == 'refs/heads/try' || github.ref == 'refs/heads/try-perf') && github.repository == 'rust-lang-ci/rust'\"\n     <<: *base-failure-job\n   auto-success:\n     needs: [auto]"}]}