{"sha": "9427bb36f62cbafddfff60ddcaf3494d7fb96f66", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0MjdiYjM2ZjYyY2JhZmRkZmZmNjBkZGNhZjM0OTRkN2ZiOTZmNjY=", "commit": {"author": {"name": "Danek Duvall", "email": "danek.duvall@oracle.com", "date": "2017-08-03T21:55:01Z"}, "committer": {"name": "Danek Duvall", "email": "danek.duvall@oracle.com", "date": "2017-08-03T21:55:01Z"}, "message": "Fix a dangling symlink bug in `remove_dir_all()` on Solaris\n\nThis fixes a handful of long-failing tests.", "tree": {"sha": "e6be6b0ac0ecd503aaa6d4408bcc476d0f1e4f65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e6be6b0ac0ecd503aaa6d4408bcc476d0f1e4f65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9427bb36f62cbafddfff60ddcaf3494d7fb96f66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9427bb36f62cbafddfff60ddcaf3494d7fb96f66", "html_url": "https://github.com/rust-lang/rust/commit/9427bb36f62cbafddfff60ddcaf3494d7fb96f66", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9427bb36f62cbafddfff60ddcaf3494d7fb96f66/comments", "author": null, "committer": null, "parents": [{"sha": "4596c71fc5556966a86a226f55f0d0deb9493e60", "url": "https://api.github.com/repos/rust-lang/rust/commits/4596c71fc5556966a86a226f55f0d0deb9493e60", "html_url": "https://github.com/rust-lang/rust/commit/4596c71fc5556966a86a226f55f0d0deb9493e60"}], "stats": {"total": 7, "additions": 1, "deletions": 6}, "files": [{"sha": "4e6fde5c29de6112827dd541f034a8d79807c45d", "filename": "src/libstd/sys/unix/fs.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9427bb36f62cbafddfff60ddcaf3494d7fb96f66/src%2Flibstd%2Fsys%2Funix%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9427bb36f62cbafddfff60ddcaf3494d7fb96f66/src%2Flibstd%2Fsys%2Funix%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Ffs.rs?ref=9427bb36f62cbafddfff60ddcaf3494d7fb96f66", "patch": "@@ -284,12 +284,7 @@ impl DirEntry {\n         lstat(&self.path())\n     }\n \n-    #[cfg(target_os = \"solaris\")]\n-    pub fn file_type(&self) -> io::Result<FileType> {\n-        stat(&self.path()).map(|m| m.file_type())\n-    }\n-\n-    #[cfg(target_os = \"haiku\")]\n+    #[cfg(any(target_os = \"solaris\", target_os = \"haiku\"))]\n     pub fn file_type(&self) -> io::Result<FileType> {\n         lstat(&self.path()).map(|m| m.file_type())\n     }"}]}