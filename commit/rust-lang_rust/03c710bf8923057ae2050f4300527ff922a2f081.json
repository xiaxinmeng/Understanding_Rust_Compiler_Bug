{"sha": "03c710bf8923057ae2050f4300527ff922a2f081", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzYzcxMGJmODkyMzA1N2FlMjA1MGY0MzAwNTI3ZmY5MjJhMmYwODE=", "commit": {"author": {"name": "Ali\u00e9nore Bouttefeux", "email": "77335613+ABouttefeux@users.noreply.github.com", "date": "2021-05-01T09:46:00Z"}, "committer": {"name": "Ali\u00e9nore Bouttefeux", "email": "alienore.bouttefeux@gmail.com", "date": "2021-05-01T09:54:57Z"}, "message": "Apply suggestions from code review\n\nCo-authored-by: Joshua Nelson <joshua@yottadb.com>", "tree": {"sha": "ed6ca81b2b81b8eb4cbf222da8072a6780afa1ab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ed6ca81b2b81b8eb4cbf222da8072a6780afa1ab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/03c710bf8923057ae2050f4300527ff922a2f081", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/03c710bf8923057ae2050f4300527ff922a2f081", "html_url": "https://github.com/rust-lang/rust/commit/03c710bf8923057ae2050f4300527ff922a2f081", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/03c710bf8923057ae2050f4300527ff922a2f081/comments", "author": {"login": "ABouttefeux", "id": 77335613, "node_id": "MDQ6VXNlcjc3MzM1NjEz", "avatar_url": "https://avatars.githubusercontent.com/u/77335613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ABouttefeux", "html_url": "https://github.com/ABouttefeux", "followers_url": "https://api.github.com/users/ABouttefeux/followers", "following_url": "https://api.github.com/users/ABouttefeux/following{/other_user}", "gists_url": "https://api.github.com/users/ABouttefeux/gists{/gist_id}", "starred_url": "https://api.github.com/users/ABouttefeux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ABouttefeux/subscriptions", "organizations_url": "https://api.github.com/users/ABouttefeux/orgs", "repos_url": "https://api.github.com/users/ABouttefeux/repos", "events_url": "https://api.github.com/users/ABouttefeux/events{/privacy}", "received_events_url": "https://api.github.com/users/ABouttefeux/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ABouttefeux", "id": 77335613, "node_id": "MDQ6VXNlcjc3MzM1NjEz", "avatar_url": "https://avatars.githubusercontent.com/u/77335613?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ABouttefeux", "html_url": "https://github.com/ABouttefeux", "followers_url": "https://api.github.com/users/ABouttefeux/followers", "following_url": "https://api.github.com/users/ABouttefeux/following{/other_user}", "gists_url": "https://api.github.com/users/ABouttefeux/gists{/gist_id}", "starred_url": "https://api.github.com/users/ABouttefeux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ABouttefeux/subscriptions", "organizations_url": "https://api.github.com/users/ABouttefeux/orgs", "repos_url": "https://api.github.com/users/ABouttefeux/repos", "events_url": "https://api.github.com/users/ABouttefeux/events{/privacy}", "received_events_url": "https://api.github.com/users/ABouttefeux/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3273d2f7199ed8e678c249ddbdbac78244968901", "url": "https://api.github.com/repos/rust-lang/rust/commits/3273d2f7199ed8e678c249ddbdbac78244968901", "html_url": "https://github.com/rust-lang/rust/commit/3273d2f7199ed8e678c249ddbdbac78244968901"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "053529393d51e6b61af142b4a678486d72083fc2", "filename": "src/librustdoc/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/03c710bf8923057ae2050f4300527ff922a2f081/src%2Flibrustdoc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/03c710bf8923057ae2050f4300527ff922a2f081/src%2Flibrustdoc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fconfig.rs?ref=03c710bf8923057ae2050f4300527ff922a2f081", "patch": "@@ -462,7 +462,7 @@ impl Options {\n         let no_run = matches.opt_present(\"no-run\");\n \n         if !should_test && no_run {\n-            diag.struct_err(\"option --no-run should be used with --test\").emit();\n+            diag.err(\"the `--test` flag must be passed to enable `--no-run`\");\n             return Err(1);\n         }\n "}, {"sha": "4ead621482bfdd72c117961aa5d2d8ff552d0ecc", "filename": "src/test/rustdoc-ui/no-run-flag-error.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/03c710bf8923057ae2050f4300527ff922a2f081/src%2Ftest%2Frustdoc-ui%2Fno-run-flag-error.rs", "raw_url": "https://github.com/rust-lang/rust/raw/03c710bf8923057ae2050f4300527ff922a2f081/src%2Ftest%2Frustdoc-ui%2Fno-run-flag-error.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fno-run-flag-error.rs?ref=03c710bf8923057ae2050f4300527ff922a2f081", "patch": "@@ -1,5 +1,6 @@\n // test the behavior of the --no-run flag without the --test flag\n \n // compile-flags:-Z unstable-options --no-run --test-args=--test-threads=1\n+// error-pattern: the `--test` flag must be passed\n \n pub fn f() {}"}, {"sha": "d032646c365c74c3dcf254a5ead4d1749bf48fa1", "filename": "src/test/rustdoc-ui/no-run-flag-error.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/03c710bf8923057ae2050f4300527ff922a2f081/src%2Ftest%2Frustdoc-ui%2Fno-run-flag-error.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/03c710bf8923057ae2050f4300527ff922a2f081/src%2Ftest%2Frustdoc-ui%2Fno-run-flag-error.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fno-run-flag-error.stderr?ref=03c710bf8923057ae2050f4300527ff922a2f081", "patch": "@@ -1,2 +1,2 @@\n-error: option --no-run should be used with --test\n+error: the `--test` flag must be passed to enable `--no-run`\n "}]}