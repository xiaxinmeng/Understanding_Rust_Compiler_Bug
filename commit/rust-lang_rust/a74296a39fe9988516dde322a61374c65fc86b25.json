{"sha": "a74296a39fe9988516dde322a61374c65fc86b25", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE3NDI5NmEzOWZlOTk4ODUxNmRkZTMyMmE2MTM3NGM2NWZjODZiMjU=", "commit": {"author": {"name": "Jeff Olson", "email": "olson.jeffery@gmail.com", "date": "2013-02-02T20:14:04Z"}, "committer": {"name": "Kerra Olson", "email": "kerra@mbp.local", "date": "2013-02-10T19:51:05Z"}, "message": "build: ifdef for mingw/non-mingw builds", "tree": {"sha": "3a5b5a03d68eae6b858e5e610ed281216a4bc092", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3a5b5a03d68eae6b858e5e610ed281216a4bc092"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a74296a39fe9988516dde322a61374c65fc86b25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a74296a39fe9988516dde322a61374c65fc86b25", "html_url": "https://github.com/rust-lang/rust/commit/a74296a39fe9988516dde322a61374c65fc86b25", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a74296a39fe9988516dde322a61374c65fc86b25/comments", "author": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4942fe9c1e92ae90878910337011507b07073975", "url": "https://api.github.com/repos/rust-lang/rust/commits/4942fe9c1e92ae90878910337011507b07073975", "html_url": "https://github.com/rust-lang/rust/commit/4942fe9c1e92ae90878910337011507b07073975"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "23dc64dbca52e8a991a929d34c005b51b13d6f72", "filename": "mk/rt.mk", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/a74296a39fe9988516dde322a61374c65fc86b25/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/a74296a39fe9988516dde322a61374c65fc86b25/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=a74296a39fe9988516dde322a61374c65fc86b25", "patch": "@@ -158,16 +158,19 @@ LIBUV_DEPS := $$(wildcard \\\n endif\n \n ifdef CFG_WINDOWSY\n-LIBUV_OS := 'OS=mingw'\n+$$(LIBUV_LIB_$(1)): $$(LIBUV_DEPS)\n+\t$$(Q)$$(MAKE) -C $$(S)src/libuv/ \\\n+\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/rt/$(1)/libuv\" \\\n+\t\tOS=mingw \\\n+\t\tV=$$(VERBOSE)\n else\n-LIBUV_OS :=\n-endif\n-\n $$(LIBUV_LIB_$(1)): $$(LIBUV_DEPS)\n \t$$(Q)$$(MAKE) -C $$(S)src/libuv/ \\\n \t\tCFLAGS=\"$$(LIBUV_FLAGS_$$(HOST_$(1))) $$(SNAP_DEFINES)\" \\\n-\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/rt/$(1)/libuv\" $$(LIBUV_OS) \\\n+\t\tbuilddir_name=\"$$(CFG_BUILD_DIR)/rt/$(1)/libuv\" \\\n \t\tV=$$(VERBOSE)\n+endif\n+\n \n # These could go in rt.mk or rustllvm.mk, they're needed for both.\n "}]}