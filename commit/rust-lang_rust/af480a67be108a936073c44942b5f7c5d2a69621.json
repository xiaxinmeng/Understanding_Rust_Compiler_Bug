{"sha": "af480a67be108a936073c44942b5f7c5d2a69621", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmNDgwYTY3YmUxMDhhOTM2MDczYzQ0OTQyYjVmN2M1ZDJhNjk2MjE=", "commit": {"author": {"name": "ThibsG", "email": "Thibs@debian.com", "date": "2020-12-30T11:02:26Z"}, "committer": {"name": "ThibsG", "email": "Thibs@debian.com", "date": "2020-12-30T11:02:26Z"}, "message": "Ensure `Copy` exception in trait definition for `wrong_self_convention` lint", "tree": {"sha": "ad3e484bb1d31bd47a0bb15650007ba80151b448", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad3e484bb1d31bd47a0bb15650007ba80151b448"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af480a67be108a936073c44942b5f7c5d2a69621", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af480a67be108a936073c44942b5f7c5d2a69621", "html_url": "https://github.com/rust-lang/rust/commit/af480a67be108a936073c44942b5f7c5d2a69621", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af480a67be108a936073c44942b5f7c5d2a69621/comments", "author": {"login": "ThibsG", "id": 12683889, "node_id": "MDQ6VXNlcjEyNjgzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/12683889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThibsG", "html_url": "https://github.com/ThibsG", "followers_url": "https://api.github.com/users/ThibsG/followers", "following_url": "https://api.github.com/users/ThibsG/following{/other_user}", "gists_url": "https://api.github.com/users/ThibsG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThibsG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThibsG/subscriptions", "organizations_url": "https://api.github.com/users/ThibsG/orgs", "repos_url": "https://api.github.com/users/ThibsG/repos", "events_url": "https://api.github.com/users/ThibsG/events{/privacy}", "received_events_url": "https://api.github.com/users/ThibsG/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ThibsG", "id": 12683889, "node_id": "MDQ6VXNlcjEyNjgzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/12683889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThibsG", "html_url": "https://github.com/ThibsG", "followers_url": "https://api.github.com/users/ThibsG/followers", "following_url": "https://api.github.com/users/ThibsG/following{/other_user}", "gists_url": "https://api.github.com/users/ThibsG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThibsG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThibsG/subscriptions", "organizations_url": "https://api.github.com/users/ThibsG/orgs", "repos_url": "https://api.github.com/users/ThibsG/repos", "events_url": "https://api.github.com/users/ThibsG/events{/privacy}", "received_events_url": "https://api.github.com/users/ThibsG/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61a3ee79350daf2eb9669999839c05de7a473316", "url": "https://api.github.com/repos/rust-lang/rust/commits/61a3ee79350daf2eb9669999839c05de7a473316", "html_url": "https://github.com/rust-lang/rust/commit/61a3ee79350daf2eb9669999839c05de7a473316"}], "stats": {"total": 70, "additions": 54, "deletions": 16}, "files": [{"sha": "6cfc0fcb4cae45edcd4f970215fa73898050358d", "filename": "tests/ui/wrong_self_convention.rs", "status": "modified", "additions": 28, "deletions": 2, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/af480a67be108a936073c44942b5f7c5d2a69621/tests%2Fui%2Fwrong_self_convention.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af480a67be108a936073c44942b5f7c5d2a69621/tests%2Fui%2Fwrong_self_convention.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwrong_self_convention.rs?ref=af480a67be108a936073c44942b5f7c5d2a69621", "patch": "@@ -94,7 +94,8 @@ mod issue6307 {\n     trait T: Sized {\n         fn as_i32(self) {}\n         fn as_u32(&self) {}\n-        fn into_i32(&self) {}\n+        fn into_i32(self) {}\n+        fn into_i32_ref(&self) {}\n         fn into_u32(self) {}\n         fn is_i32(self) {}\n         fn is_u32(&self) {}\n@@ -117,7 +118,32 @@ mod issue6307 {\n     trait U {\n         fn as_i32(self);\n         fn as_u32(&self);\n-        fn into_i32(&self);\n+        fn into_i32(self);\n+        fn into_i32_ref(&self);\n+        fn into_u32(self);\n+        fn is_i32(self);\n+        fn is_u32(&self);\n+        fn to_i32(self);\n+        fn to_u32(&self);\n+        fn from_i32(self);\n+        // check whether the lint can be allowed at the function level\n+        #[allow(clippy::wrong_self_convention)]\n+        fn from_cake(self);\n+\n+        // test for false positives\n+        fn as_(self);\n+        fn into_(&self);\n+        fn is_(self);\n+        fn to_(self);\n+        fn from_(self);\n+        fn to_mut(&mut self);\n+    }\n+\n+    trait C: Copy {\n+        fn as_i32(self);\n+        fn as_u32(&self);\n+        fn into_i32(self);\n+        fn into_i32_ref(&self);\n         fn into_u32(self);\n         fn is_i32(self);\n         fn is_u32(&self);"}, {"sha": "32bd9075bd5e14c0a399055c6deeaab65f218c45", "filename": "tests/ui/wrong_self_convention.stderr", "status": "modified", "additions": 26, "deletions": 14, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/af480a67be108a936073c44942b5f7c5d2a69621/tests%2Fui%2Fwrong_self_convention.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/af480a67be108a936073c44942b5f7c5d2a69621/tests%2Fui%2Fwrong_self_convention.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fwrong_self_convention.stderr?ref=af480a67be108a936073c44942b5f7c5d2a69621", "patch": "@@ -79,58 +79,70 @@ LL |         fn as_i32(self) {}\n    |                   ^^^^\n \n error: methods called `into_*` usually take self by value; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:97:21\n+  --> $DIR/wrong_self_convention.rs:98:25\n    |\n-LL |         fn into_i32(&self) {}\n-   |                     ^^^^^\n+LL |         fn into_i32_ref(&self) {}\n+   |                         ^^^^^\n \n error: methods called `is_*` usually take self by reference or no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:99:19\n+  --> $DIR/wrong_self_convention.rs:100:19\n    |\n LL |         fn is_i32(self) {}\n    |                   ^^^^\n \n error: methods called `to_*` usually take self by reference; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:101:19\n+  --> $DIR/wrong_self_convention.rs:102:19\n    |\n LL |         fn to_i32(self) {}\n    |                   ^^^^\n \n error: methods called `from_*` usually take no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:103:21\n+  --> $DIR/wrong_self_convention.rs:104:21\n    |\n LL |         fn from_i32(self) {}\n    |                     ^^^^\n \n error: methods called `as_*` usually take self by reference or self by mutable reference; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:118:19\n+  --> $DIR/wrong_self_convention.rs:119:19\n    |\n LL |         fn as_i32(self);\n    |                   ^^^^\n \n error: methods called `into_*` usually take self by value; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:120:21\n+  --> $DIR/wrong_self_convention.rs:122:25\n    |\n-LL |         fn into_i32(&self);\n-   |                     ^^^^^\n+LL |         fn into_i32_ref(&self);\n+   |                         ^^^^^\n \n error: methods called `is_*` usually take self by reference or no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:122:19\n+  --> $DIR/wrong_self_convention.rs:124:19\n    |\n LL |         fn is_i32(self);\n    |                   ^^^^\n \n error: methods called `to_*` usually take self by reference; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:124:19\n+  --> $DIR/wrong_self_convention.rs:126:19\n    |\n LL |         fn to_i32(self);\n    |                   ^^^^\n \n error: methods called `from_*` usually take no self; consider choosing a less ambiguous name\n-  --> $DIR/wrong_self_convention.rs:126:21\n+  --> $DIR/wrong_self_convention.rs:128:21\n+   |\n+LL |         fn from_i32(self);\n+   |                     ^^^^\n+\n+error: methods called `into_*` usually take self by value; consider choosing a less ambiguous name\n+  --> $DIR/wrong_self_convention.rs:146:25\n+   |\n+LL |         fn into_i32_ref(&self);\n+   |                         ^^^^^\n+\n+error: methods called `from_*` usually take no self; consider choosing a less ambiguous name\n+  --> $DIR/wrong_self_convention.rs:152:21\n    |\n LL |         fn from_i32(self);\n    |                     ^^^^\n \n-error: aborting due to 22 previous errors\n+error: aborting due to 24 previous errors\n "}]}