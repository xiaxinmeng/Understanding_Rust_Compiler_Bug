{"sha": "4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "node_id": "C_kwDOAAsO6NoAKDRmYzBlZTYyNjBkNjg2ZWZjMTI4ZTQ0YjdiMGQwZTNkODIwZmZmMjA", "commit": {"author": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2022-05-27T21:53:02Z"}, "committer": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2022-05-27T21:53:02Z"}, "message": "[1/N] Implement Arithmetic lint", "tree": {"sha": "7ee47e37f7ff8ebf2ea917b0f1d781feea180929", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7ee47e37f7ff8ebf2ea917b0f1d781feea180929"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "html_url": "https://github.com/rust-lang/rust/commit/4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/comments", "author": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "committer": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1dd55471b4e95ab8dfc5e55e80a2a59f55817931", "url": "https://api.github.com/repos/rust-lang/rust/commits/1dd55471b4e95ab8dfc5e55e80a2a59f55817931", "html_url": "https://github.com/rust-lang/rust/commit/1dd55471b4e95ab8dfc5e55e80a2a59f55817931"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "1fc0a76803d212a6955256ec8bab90adfb60a590", "filename": "clippy_lints/src/lib.register_lints.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Flib.register_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Flib.register_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_lints.rs?ref=4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "patch": "@@ -35,8 +35,6 @@ store.register_lints(&[\n     utils::internal_lints::UNNECESSARY_SYMBOL_STR,\n     absurd_extreme_comparisons::ABSURD_EXTREME_COMPARISONS,\n     approx_const::APPROX_CONSTANT,\n-    arithmetic::FLOAT_ARITHMETIC,\n-    arithmetic::INTEGER_ARITHMETIC,\n     as_conversions::AS_CONVERSIONS,\n     asm_syntax::INLINE_ASM_X86_ATT_SYNTAX,\n     asm_syntax::INLINE_ASM_X86_INTEL_SYNTAX,\n@@ -420,6 +418,8 @@ store.register_lints(&[\n     non_octal_unix_permissions::NON_OCTAL_UNIX_PERMISSIONS,\n     non_send_fields_in_send_ty::NON_SEND_FIELDS_IN_SEND_TY,\n     nonstandard_macro_braces::NONSTANDARD_MACRO_BRACES,\n+    numeric_arithmetic::FLOAT_ARITHMETIC,\n+    numeric_arithmetic::INTEGER_ARITHMETIC,\n     octal_escapes::OCTAL_ESCAPES,\n     only_used_in_recursion::ONLY_USED_IN_RECURSION,\n     open_options::NONSENSICAL_OPEN_OPTIONS,"}, {"sha": "304b595541aa66cc92da17a33e5e37e1145476c2", "filename": "clippy_lints/src/lib.register_restriction.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Flib.register_restriction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Flib.register_restriction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_restriction.rs?ref=4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "patch": "@@ -3,8 +3,6 @@\n // Manual edits will be overwritten.\n \n store.register_group(true, \"clippy::restriction\", Some(\"clippy_restriction\"), vec![\n-    LintId::of(arithmetic::FLOAT_ARITHMETIC),\n-    LintId::of(arithmetic::INTEGER_ARITHMETIC),\n     LintId::of(as_conversions::AS_CONVERSIONS),\n     LintId::of(asm_syntax::INLINE_ASM_X86_ATT_SYNTAX),\n     LintId::of(asm_syntax::INLINE_ASM_X86_INTEL_SYNTAX),\n@@ -50,6 +48,8 @@ store.register_group(true, \"clippy::restriction\", Some(\"clippy_restriction\"), ve\n     LintId::of(module_style::MOD_MODULE_FILES),\n     LintId::of(module_style::SELF_NAMED_MODULE_FILES),\n     LintId::of(modulo_arithmetic::MODULO_ARITHMETIC),\n+    LintId::of(numeric_arithmetic::FLOAT_ARITHMETIC),\n+    LintId::of(numeric_arithmetic::INTEGER_ARITHMETIC),\n     LintId::of(panic_in_result_fn::PANIC_IN_RESULT_FN),\n     LintId::of(panic_unimplemented::PANIC),\n     LintId::of(panic_unimplemented::TODO),"}, {"sha": "94fca8983eaa7a58de9adfb821ad22c2f19b7c47", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "patch": "@@ -169,7 +169,6 @@ mod renamed_lints;\n // begin lints modules, do not remove this comment, it\u2019s used in `update_lints`\n mod absurd_extreme_comparisons;\n mod approx_const;\n-mod arithmetic;\n mod as_conversions;\n mod asm_syntax;\n mod assertions_on_constants;\n@@ -328,6 +327,7 @@ mod non_expressive_names;\n mod non_octal_unix_permissions;\n mod non_send_fields_in_send_ty;\n mod nonstandard_macro_braces;\n+mod numeric_arithmetic;\n mod octal_escapes;\n mod only_used_in_recursion;\n mod open_options;\n@@ -678,7 +678,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n     store.register_late_pass(move || Box::new(doc::DocMarkdown::new(doc_valid_idents.clone())));\n     store.register_late_pass(|| Box::new(neg_multiply::NegMultiply));\n     store.register_late_pass(|| Box::new(mem_forget::MemForget));\n-    store.register_late_pass(|| Box::new(arithmetic::Arithmetic::default()));\n+    store.register_late_pass(|| Box::new(numeric_arithmetic::NumericArithmetic::default()));\n     store.register_late_pass(|| Box::new(assign_ops::AssignOps));\n     store.register_late_pass(|| Box::new(let_if_seq::LetIfSeq));\n     store.register_late_pass(|| Box::new(mixed_read_write_in_expression::EvalOrderDependence));"}, {"sha": "5c4de3381496cd839567ba17a5b2de1eef2e2b99", "filename": "clippy_lints/src/numeric_arithmetic.rs", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Fnumeric_arithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4fc0ee6260d686efc128e44b7b0d0e3d820fff20/clippy_lints%2Fsrc%2Fnumeric_arithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnumeric_arithmetic.rs?ref=4fc0ee6260d686efc128e44b7b0d0e3d820fff20", "patch": "@@ -51,16 +51,16 @@ declare_clippy_lint! {\n }\n \n #[derive(Copy, Clone, Default)]\n-pub struct Arithmetic {\n+pub struct NumericArithmetic {\n     expr_span: Option<Span>,\n     /// This field is used to check whether expressions are constants, such as in enum discriminants\n     /// and consts\n     const_span: Option<Span>,\n }\n \n-impl_lint_pass!(Arithmetic => [INTEGER_ARITHMETIC, FLOAT_ARITHMETIC]);\n+impl_lint_pass!(NumericArithmetic => [INTEGER_ARITHMETIC, FLOAT_ARITHMETIC]);\n \n-impl<'tcx> LateLintPass<'tcx> for Arithmetic {\n+impl<'tcx> LateLintPass<'tcx> for NumericArithmetic {\n     fn check_expr(&mut self, cx: &LateContext<'tcx>, expr: &'tcx hir::Expr<'_>) {\n         if self.expr_span.is_some() {\n             return;", "previous_filename": "clippy_lints/src/arithmetic.rs"}]}