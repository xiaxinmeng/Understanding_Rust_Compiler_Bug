{"sha": "d4758420e62cc864fd1789eff06774f22c5d6d4b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0NzU4NDIwZTYyY2M4NjRmZDE3ODllZmYwNjc3NGYyMmM1ZDZkNGI=", "commit": {"author": {"name": "HMPerson1", "email": "hmperson1@gmail.com", "date": "2019-11-08T20:12:08Z"}, "committer": {"name": "HMPerson1", "email": "hmperson1@gmail.com", "date": "2019-11-08T20:12:08Z"}, "message": "Rustup rust-lang/rust#66188", "tree": {"sha": "c577f8948bd4a9bdea84fe4e16d455dfed823576", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c577f8948bd4a9bdea84fe4e16d455dfed823576"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d4758420e62cc864fd1789eff06774f22c5d6d4b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQFIBAABCAAyFiEE30PRORiHa0gkBHJnH7R33dJ4Ic4FAl3FzHkUHGhtcGVyc29u\nMUBnbWFpbC5jb20ACgkQH7R33dJ4Ic5jLwf/U/3Og0I9QL0upMk7zLJCFAw+HuLN\nkPfMs5+d7aJi2u3L/E9MixdiDlXLvoLnnApEeYT7/L2cSxdp6cgogLnbQOSiIEgd\nCLQkdJAyH/FOcqxf7bqo5hhBn+psG0W/kVUldTJdei1Jy2t3QUN2MwQgeJMJwNd/\n1h5C+uF+JD0d+VKVD4M5NXUU90kFkqszw8yzjAN6SAZo1sO09g9oj7CFTy+VJt+8\nZVBSRgytqKpa+blTHrbckyLp9O7BpHg16UBJsTsNJ1PU/5Ujtx8rZFOnU7AbN41F\n9EQvuV8sswF0l8Gyr+purKiTGwstJjtpyXS78W7WnXnwixFRaS+eXH1kfg==\n=DMsB\n-----END PGP SIGNATURE-----", "payload": "tree c577f8948bd4a9bdea84fe4e16d455dfed823576\nparent 4192dbedcbcaed7f9329e1a45085ce4ff4c2170b\nauthor HMPerson1 <hmperson1@gmail.com> 1573243928 -0500\ncommitter HMPerson1 <hmperson1@gmail.com> 1573243928 -0500\n\nRustup rust-lang/rust#66188\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d4758420e62cc864fd1789eff06774f22c5d6d4b", "html_url": "https://github.com/rust-lang/rust/commit/d4758420e62cc864fd1789eff06774f22c5d6d4b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d4758420e62cc864fd1789eff06774f22c5d6d4b/comments", "author": {"login": "HMPerson1", "id": 2219904, "node_id": "MDQ6VXNlcjIyMTk5MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2219904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HMPerson1", "html_url": "https://github.com/HMPerson1", "followers_url": "https://api.github.com/users/HMPerson1/followers", "following_url": "https://api.github.com/users/HMPerson1/following{/other_user}", "gists_url": "https://api.github.com/users/HMPerson1/gists{/gist_id}", "starred_url": "https://api.github.com/users/HMPerson1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HMPerson1/subscriptions", "organizations_url": "https://api.github.com/users/HMPerson1/orgs", "repos_url": "https://api.github.com/users/HMPerson1/repos", "events_url": "https://api.github.com/users/HMPerson1/events{/privacy}", "received_events_url": "https://api.github.com/users/HMPerson1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "HMPerson1", "id": 2219904, "node_id": "MDQ6VXNlcjIyMTk5MDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2219904?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HMPerson1", "html_url": "https://github.com/HMPerson1", "followers_url": "https://api.github.com/users/HMPerson1/followers", "following_url": "https://api.github.com/users/HMPerson1/following{/other_user}", "gists_url": "https://api.github.com/users/HMPerson1/gists{/gist_id}", "starred_url": "https://api.github.com/users/HMPerson1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HMPerson1/subscriptions", "organizations_url": "https://api.github.com/users/HMPerson1/orgs", "repos_url": "https://api.github.com/users/HMPerson1/repos", "events_url": "https://api.github.com/users/HMPerson1/events{/privacy}", "received_events_url": "https://api.github.com/users/HMPerson1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4192dbedcbcaed7f9329e1a45085ce4ff4c2170b", "url": "https://api.github.com/repos/rust-lang/rust/commits/4192dbedcbcaed7f9329e1a45085ce4ff4c2170b", "html_url": "https://github.com/rust-lang/rust/commit/4192dbedcbcaed7f9329e1a45085ce4ff4c2170b"}], "stats": {"total": 44, "additions": 22, "deletions": 22}, "files": [{"sha": "5c881adca2cf7a297e9ed6ef6abdb67780a9b055", "filename": "clippy_lints/src/attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fattrs.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -355,7 +355,7 @@ fn check_clippy_lint_names(cx: &LateContext<'_, '_>, items: &[NestedMetaItem]) {\n }\n \n fn is_relevant_item(cx: &LateContext<'_, '_>, item: &Item) -> bool {\n-    if let ItemKind::Fn(_, _, _, eid) = item.kind {\n+    if let ItemKind::Fn(_, _, eid) = item.kind {\n         is_relevant_expr(cx, cx.tcx.body_tables(eid), &cx.tcx.hir().body(eid).value)\n     } else {\n         true"}, {"sha": "e014d191276c8a294ca1ed11abc89d9ebfd12545", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -126,8 +126,8 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for DocMarkdown {\n         }\n         // no safety header\n         match item.kind {\n-            hir::ItemKind::Fn(_, ref header, ..) => {\n-                if cx.access_levels.is_exported(item.hir_id) && header.unsafety == hir::Unsafety::Unsafe {\n+            hir::ItemKind::Fn(ref sig, ..) => {\n+                if cx.access_levels.is_exported(item.hir_id) && sig.header.unsafety == hir::Unsafety::Unsafe {\n                     span_lint(\n                         cx,\n                         MISSING_SAFETY_DOC,"}, {"sha": "8c3306f6d121d815e68def97e55b0401b6654883", "filename": "clippy_lints/src/functions.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Ffunctions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Ffunctions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffunctions.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -208,7 +208,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Functions {\n             match kind {\n                 hir::intravisit::FnKind::Method(\n                     _,\n-                    &hir::MethodSig {\n+                    &hir::FnSig {\n                         header: hir::FnHeader { abi: Abi::Rust, .. },\n                         ..\n                     },\n@@ -228,20 +228,20 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Functions {\n \n     fn check_item(&mut self, cx: &LateContext<'a, 'tcx>, item: &'tcx hir::Item) {\n         let attr = must_use_attr(&item.attrs);\n-        if let hir::ItemKind::Fn(ref decl, ref _header, ref _generics, ref body_id) = item.kind {\n+        if let hir::ItemKind::Fn(ref sig, ref _generics, ref body_id) = item.kind {\n             if let Some(attr) = attr {\n-                let fn_header_span = item.span.with_hi(decl.output.span().hi());\n-                check_needless_must_use(cx, decl, item.hir_id, item.span, fn_header_span, attr);\n+                let fn_header_span = item.span.with_hi(sig.decl.output.span().hi());\n+                check_needless_must_use(cx, &sig.decl, item.hir_id, item.span, fn_header_span, attr);\n                 return;\n             }\n             if cx.access_levels.is_exported(item.hir_id) && !is_proc_macro(&item.attrs) {\n                 check_must_use_candidate(\n                     cx,\n-                    decl,\n+                    &sig.decl,\n                     cx.tcx.hir().body(*body_id),\n                     item.span,\n                     item.hir_id,\n-                    item.span.with_hi(decl.output.span().hi()),\n+                    item.span.with_hi(sig.decl.output.span().hi()),\n                     \"this function could have a `#[must_use]` attribute\",\n                 );\n             }"}, {"sha": "fad54c3de6591b82792a82edf8ef9ada166c40e8", "filename": "clippy_lints/src/lifetimes.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flifetimes.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -59,8 +59,8 @@ declare_lint_pass!(Lifetimes => [NEEDLESS_LIFETIMES, EXTRA_UNUSED_LIFETIMES]);\n \n impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Lifetimes {\n     fn check_item(&mut self, cx: &LateContext<'a, 'tcx>, item: &'tcx Item) {\n-        if let ItemKind::Fn(ref decl, _, ref generics, id) = item.kind {\n-            check_fn_inner(cx, decl, Some(id), generics, item.span, true);\n+        if let ItemKind::Fn(ref sig, ref generics, id) = item.kind {\n+            check_fn_inner(cx, &sig.decl, Some(id), generics, item.span, true);\n         }\n     }\n "}, {"sha": "8ac31743a62459a17999a805c9e257b134f067cd", "filename": "clippy_lints/src/non_expressive_names.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_expressive_names.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -352,8 +352,8 @@ impl<'a, 'tcx> Visitor<'tcx> for SimilarNamesLocalVisitor<'a, 'tcx> {\n \n impl EarlyLintPass for NonExpressiveNames {\n     fn check_item(&mut self, cx: &EarlyContext<'_>, item: &Item) {\n-        if let ItemKind::Fn(ref decl, _, _, ref blk) = item.kind {\n-            do_check(self, cx, &item.attrs, decl, blk);\n+        if let ItemKind::Fn(ref sig, _, ref blk) = item.kind {\n+            do_check(self, cx, &item.attrs, &sig.decl, blk);\n         }\n     }\n "}, {"sha": "55662a1ad8319e74768e330e43e97fd58ea8ee64", "filename": "clippy_lints/src/ptr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fptr.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -101,8 +101,8 @@ declare_lint_pass!(Ptr => [PTR_ARG, CMP_NULL, MUT_FROM_REF]);\n \n impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Ptr {\n     fn check_item(&mut self, cx: &LateContext<'a, 'tcx>, item: &'tcx Item) {\n-        if let ItemKind::Fn(ref decl, _, _, body_id) = item.kind {\n-            check_fn(cx, decl, item.hir_id, Some(body_id));\n+        if let ItemKind::Fn(ref sig, _, body_id) = item.kind {\n+            check_fn(cx, &sig.decl, item.hir_id, Some(body_id));\n         }\n     }\n "}, {"sha": "c303445f7d174216a57afe91de9956c1299a0d5e", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -1408,7 +1408,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for TypeComplexity {\n     fn check_trait_item(&mut self, cx: &LateContext<'a, 'tcx>, item: &'tcx TraitItem) {\n         match item.kind {\n             TraitItemKind::Const(ref ty, _) | TraitItemKind::Type(_, Some(ref ty)) => self.check_type(cx, ty),\n-            TraitItemKind::Method(MethodSig { ref decl, .. }, TraitMethod::Required(_)) => self.check_fndecl(cx, decl),\n+            TraitItemKind::Method(FnSig { ref decl, .. }, TraitMethod::Required(_)) => self.check_fndecl(cx, decl),\n             // methods with default impl are covered by check_fn\n             _ => (),\n         }\n@@ -2118,10 +2118,10 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for ImplicitHasher {\n                     );\n                 }\n             },\n-            ItemKind::Fn(ref decl, .., ref generics, body_id) => {\n+            ItemKind::Fn(ref sig, ref generics, body_id) => {\n                 let body = cx.tcx.hir().body(body_id);\n \n-                for ty in &decl.inputs {\n+                for ty in &sig.decl.inputs {\n                     let mut vis = ImplicitHasherTypeVisitor::new(cx);\n                     vis.visit_ty(ty);\n "}, {"sha": "98a78895421549177b42281361ae884e02cc5d2c", "filename": "clippy_lints/src/use_self.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fuse_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Fuse_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fuse_self.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -193,7 +193,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for UseSelf {\n                     if let Some(impl_trait_ref) = impl_trait_ref {\n                         for impl_item_ref in refs {\n                             let impl_item = cx.tcx.hir().impl_item(impl_item_ref.id);\n-                            if let ImplItemKind::Method(MethodSig{ decl: impl_decl, .. }, impl_body_id)\n+                            if let ImplItemKind::Method(FnSig{ decl: impl_decl, .. }, impl_body_id)\n                                     = &impl_item.kind {\n                                 let item_type = cx.tcx.type_of(impl_def_id);\n                                 check_trait_method_impl_decl(cx, item_type, impl_item, impl_decl, &impl_trait_ref);"}, {"sha": "092606d566ff8b044eda2de77b98dfeedb542590", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d4758420e62cc864fd1789eff06774f22c5d6d4b/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=d4758420e62cc864fd1789eff06774f22c5d6d4b", "patch": "@@ -87,9 +87,9 @@ pub fn in_constant(cx: &LateContext<'_, '_>, id: HirId) -> bool {\n             ..\n         }) => true,\n         Node::Item(&Item {\n-            kind: ItemKind::Fn(_, header, ..),\n+            kind: ItemKind::Fn(ref sig, ..),\n             ..\n-        }) => header.constness == Constness::Const,\n+        }) => sig.header.constness == Constness::Const,\n         Node::ImplItem(&ImplItem {\n             kind: ImplItemKind::Method(ref sig, _),\n             ..\n@@ -635,7 +635,7 @@ pub fn get_enclosing_block<'a, 'tcx>(cx: &LateContext<'a, 'tcx>, hir_id: HirId)\n         match node {\n             Node::Block(block) => Some(block),\n             Node::Item(&Item {\n-                kind: ItemKind::Fn(_, _, _, eid),\n+                kind: ItemKind::Fn(_, _, eid),\n                 ..\n             })\n             | Node::ImplItem(&ImplItem {"}]}