{"sha": "8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhmYThiODFhNzcwMWJhOGMxNDQ3NmQ4NmI2NDFkNWNiZTZjZmE3MTM=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2020-01-17T21:34:33Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2020-01-17T21:38:17Z"}, "message": "Fix some tests failing in `--pass check` mode", "tree": {"sha": "a9af4e7a5c54b82b7a3e786d042087327e7a36b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a9af4e7a5c54b82b7a3e786d042087327e7a36b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "html_url": "https://github.com/rust-lang/rust/commit/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "689fca01c5a1eac2d240bf08aa728171a28f2285", "url": "https://api.github.com/repos/rust-lang/rust/commits/689fca01c5a1eac2d240bf08aa728171a28f2285", "html_url": "https://github.com/rust-lang/rust/commit/689fca01c5a1eac2d240bf08aa728171a28f2285"}], "stats": {"total": 53, "additions": 28, "deletions": 25}, "files": [{"sha": "af63d1f75a77022b0bd1a8894b12b40d4c76927a", "filename": "src/test/ui/consts/array-literal-index-oob.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Farray-literal-index-oob.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Farray-literal-index-oob.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Farray-literal-index-oob.rs?ref=8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "patch": "@@ -1,4 +1,5 @@\n // build-pass\n+// ignore-pass (emit codegen-time warnings and verify that they are indeed warnings and not errors)\n \n #![warn(const_err)]\n "}, {"sha": "e93aa324784c3820629c81cfa1c7f99acb56d1ad", "filename": "src/test/ui/consts/array-literal-index-oob.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Farray-literal-index-oob.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Farray-literal-index-oob.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Farray-literal-index-oob.stderr?ref=8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "patch": "@@ -1,25 +1,25 @@\n warning: index out of bounds: the len is 3 but the index is 4\n-  --> $DIR/array-literal-index-oob.rs:6:8\n+  --> $DIR/array-literal-index-oob.rs:7:8\n    |\n LL |     &{ [1, 2, 3][4] };\n    |        ^^^^^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/array-literal-index-oob.rs:3:9\n+  --> $DIR/array-literal-index-oob.rs:4:9\n    |\n LL | #![warn(const_err)]\n    |         ^^^^^^^^^\n \n warning: reaching this expression at runtime will panic or abort\n-  --> $DIR/array-literal-index-oob.rs:6:8\n+  --> $DIR/array-literal-index-oob.rs:7:8\n    |\n LL |     &{ [1, 2, 3][4] };\n    |     ---^^^^^^^^^^^^--\n    |        |\n    |        indexing out of bounds: the len is 3 but the index is 4\n \n warning: erroneous constant used\n-  --> $DIR/array-literal-index-oob.rs:6:5\n+  --> $DIR/array-literal-index-oob.rs:7:5\n    |\n LL |     &{ [1, 2, 3][4] };\n    |     ^^^^^^^^^^^^^^^^^ referenced constant has errors"}, {"sha": "22f863fb15ac4ab887c4b6098d1592e5c68b33a2", "filename": "src/test/ui/consts/const-eval/promoted_errors.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors.rs?ref=8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "patch": "@@ -1,4 +1,5 @@\n // build-pass\n+// ignore-pass (emit codegen-time warnings and verify that they are indeed warnings and not errors)\n // compile-flags: -O\n \n #![warn(const_err)]"}, {"sha": "b4330deb3ef10376e5c0d5ece726b913a15df298", "filename": "src/test/ui/consts/const-eval/promoted_errors.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors.stderr?ref=8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "patch": "@@ -1,59 +1,59 @@\n warning: this expression will panic at runtime\n-  --> $DIR/promoted_errors.rs:8:14\n+  --> $DIR/promoted_errors.rs:9:14\n    |\n LL |     let _x = 0u32 - 1;\n    |              ^^^^^^^^ attempt to subtract with overflow\n    |\n note: lint level defined here\n-  --> $DIR/promoted_errors.rs:4:9\n+  --> $DIR/promoted_errors.rs:5:9\n    |\n LL | #![warn(const_err)]\n    |         ^^^^^^^^^\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors.rs:10:20\n+  --> $DIR/promoted_errors.rs:11:20\n    |\n LL |     println!(\"{}\", 1 / (1 - 1));\n    |                    ^^^^^^^^^^^\n \n warning: reaching this expression at runtime will panic or abort\n-  --> $DIR/promoted_errors.rs:10:20\n+  --> $DIR/promoted_errors.rs:11:20\n    |\n LL |     println!(\"{}\", 1 / (1 - 1));\n    |                    ^^^^^^^^^^^ dividing by zero\n \n warning: erroneous constant used\n-  --> $DIR/promoted_errors.rs:10:20\n+  --> $DIR/promoted_errors.rs:11:20\n    |\n LL |     println!(\"{}\", 1 / (1 - 1));\n    |                    ^^^^^^^^^^^ referenced constant has errors\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors.rs:14:14\n+  --> $DIR/promoted_errors.rs:15:14\n    |\n LL |     let _x = 1 / (1 - 1);\n    |              ^^^^^^^^^^^\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors.rs:16:20\n+  --> $DIR/promoted_errors.rs:17:20\n    |\n LL |     println!(\"{}\", 1 / (false as u32));\n    |                    ^^^^^^^^^^^^^^^^^^\n \n warning: reaching this expression at runtime will panic or abort\n-  --> $DIR/promoted_errors.rs:16:20\n+  --> $DIR/promoted_errors.rs:17:20\n    |\n LL |     println!(\"{}\", 1 / (false as u32));\n    |                    ^^^^^^^^^^^^^^^^^^ dividing by zero\n \n warning: erroneous constant used\n-  --> $DIR/promoted_errors.rs:16:20\n+  --> $DIR/promoted_errors.rs:17:20\n    |\n LL |     println!(\"{}\", 1 / (false as u32));\n    |                    ^^^^^^^^^^^^^^^^^^ referenced constant has errors\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors.rs:20:14\n+  --> $DIR/promoted_errors.rs:21:14\n    |\n LL |     let _x = 1 / (false as u32);\n    |              ^^^^^^^^^^^^^^^^^^"}, {"sha": "62c77f76d9064ca7325cc14369ea7dc2b59ecb03", "filename": "src/test/ui/consts/const-eval/promoted_errors2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors2.rs?ref=8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "patch": "@@ -1,4 +1,5 @@\n // build-pass\n+// ignore-pass (emit codegen-time warnings and verify that they are indeed warnings and not errors)\n // compile-flags: -C overflow-checks=on -O\n \n #![warn(const_err)]"}, {"sha": "a4dad295edd793f22805c8b5ca10886f2ee55396", "filename": "src/test/ui/consts/const-eval/promoted_errors2.stderr", "status": "modified", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8fa8b81a7701ba8c14476d86b641d5cbe6cfa713/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpromoted_errors2.stderr?ref=8fa8b81a7701ba8c14476d86b641d5cbe6cfa713", "patch": "@@ -1,65 +1,65 @@\n warning: attempt to subtract with overflow\n-  --> $DIR/promoted_errors2.rs:7:20\n+  --> $DIR/promoted_errors2.rs:8:20\n    |\n LL |     println!(\"{}\", 0u32 - 1);\n    |                    ^^^^^^^^\n    |\n note: lint level defined here\n-  --> $DIR/promoted_errors2.rs:4:9\n+  --> $DIR/promoted_errors2.rs:5:9\n    |\n LL | #![warn(const_err)]\n    |         ^^^^^^^^^\n \n warning: attempt to subtract with overflow\n-  --> $DIR/promoted_errors2.rs:9:14\n+  --> $DIR/promoted_errors2.rs:10:14\n    |\n LL |     let _x = 0u32 - 1;\n    |              ^^^^^^^^\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors2.rs:11:20\n+  --> $DIR/promoted_errors2.rs:12:20\n    |\n LL |     println!(\"{}\", 1 / (1 - 1));\n    |                    ^^^^^^^^^^^\n \n warning: reaching this expression at runtime will panic or abort\n-  --> $DIR/promoted_errors2.rs:11:20\n+  --> $DIR/promoted_errors2.rs:12:20\n    |\n LL |     println!(\"{}\", 1 / (1 - 1));\n    |                    ^^^^^^^^^^^ dividing by zero\n \n warning: erroneous constant used\n-  --> $DIR/promoted_errors2.rs:11:20\n+  --> $DIR/promoted_errors2.rs:12:20\n    |\n LL |     println!(\"{}\", 1 / (1 - 1));\n    |                    ^^^^^^^^^^^ referenced constant has errors\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors2.rs:15:14\n+  --> $DIR/promoted_errors2.rs:16:14\n    |\n LL |     let _x = 1 / (1 - 1);\n    |              ^^^^^^^^^^^\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors2.rs:17:20\n+  --> $DIR/promoted_errors2.rs:18:20\n    |\n LL |     println!(\"{}\", 1 / (false as u32));\n    |                    ^^^^^^^^^^^^^^^^^^\n \n warning: reaching this expression at runtime will panic or abort\n-  --> $DIR/promoted_errors2.rs:17:20\n+  --> $DIR/promoted_errors2.rs:18:20\n    |\n LL |     println!(\"{}\", 1 / (false as u32));\n    |                    ^^^^^^^^^^^^^^^^^^ dividing by zero\n \n warning: erroneous constant used\n-  --> $DIR/promoted_errors2.rs:17:20\n+  --> $DIR/promoted_errors2.rs:18:20\n    |\n LL |     println!(\"{}\", 1 / (false as u32));\n    |                    ^^^^^^^^^^^^^^^^^^ referenced constant has errors\n \n warning: attempt to divide by zero\n-  --> $DIR/promoted_errors2.rs:21:14\n+  --> $DIR/promoted_errors2.rs:22:14\n    |\n LL |     let _x = 1 / (false as u32);\n    |              ^^^^^^^^^^^^^^^^^^"}]}