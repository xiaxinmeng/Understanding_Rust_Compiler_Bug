{"sha": "8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhYTJlYjc2ZGNmZjFmNTA4ZGZiYWQwMzAxNmQ5ZGQ0NWMzY2UzMmQ=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-12-23T08:38:29Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-12-23T08:38:29Z"}, "message": "Merge #7014\n\n7014: Set RA_TARGET at job level r=lnicola a=lnicola\n\nbors r+\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>", "tree": {"sha": "e7db7122f9fdeb0eaa8a9616dc2e09c39514129c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e7db7122f9fdeb0eaa8a9616dc2e09c39514129c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf4wIFCRBK7hj4Ov3rIwAAdHIIAAa+jsr1Xbw0DF47zvwDNVFo\nEZvb1/bqL8tX10PS5S9OlIuNfh59+9H2HxN9F3Va6hfxSM4G/j5liL1pBGLDHScN\ngauNExuvxzmQUepMXM4aiv9Pj4IWMe9yA4BtB8uxuYsp3JhuDP7erqx9ZuyQN52a\nWVK13BfKbM1LGR3PbtZYBWbDQyLiLpyIdsNGphYfAdqaJTyGtSntXbzOf0g028JX\nRvNu7zQmbs+jYZL+mMqNxJrLgnTf4+c7p8Y7xurqBehpGk6NMYVYgZ0+PImVwT85\nxe0ckfDBy/NudxyHvYhaesOjHCeT5XES+JdJg+TBNtdjtEu0TRokl6zhWsE3a4w=\n=46U9\n-----END PGP SIGNATURE-----\n", "payload": "tree e7db7122f9fdeb0eaa8a9616dc2e09c39514129c\nparent 5e005cd91e3582808e8af9b14dcbe2b2874ba093\nparent 2707dc384d8a25ed35c33b0185201ad48b086cdf\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1608712709 +0000\ncommitter GitHub <noreply@github.com> 1608712709 +0000\n\nMerge #7014\n\n7014: Set RA_TARGET at job level r=lnicola a=lnicola\n\nbors r+\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d", "html_url": "https://github.com/rust-lang/rust/commit/8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e005cd91e3582808e8af9b14dcbe2b2874ba093", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e005cd91e3582808e8af9b14dcbe2b2874ba093", "html_url": "https://github.com/rust-lang/rust/commit/5e005cd91e3582808e8af9b14dcbe2b2874ba093"}, {"sha": "2707dc384d8a25ed35c33b0185201ad48b086cdf", "url": "https://api.github.com/repos/rust-lang/rust/commits/2707dc384d8a25ed35c33b0185201ad48b086cdf", "html_url": "https://github.com/rust-lang/rust/commit/2707dc384d8a25ed35c33b0185201ad48b086cdf"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "7b9fbe6b80bd972480749bd11eab7ab9c25abfec", "filename": ".github/workflows/release.yaml", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d/.github%2Fworkflows%2Frelease.yaml", "raw_url": "https://github.com/rust-lang/rust/raw/8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d/.github%2Fworkflows%2Frelease.yaml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Frelease.yaml?ref=8aa2eb76dcff1f508dfbad03016d9dd45c3ce32d", "patch": "@@ -18,6 +18,8 @@ jobs:\n   dist-windows:\n     name: dist (Windows)\n     runs-on: windows-latest\n+    env:\n+      RA_TARGET: x86_64-pc-windows-msvc\n \n     steps:\n     - name: Checkout repository\n@@ -39,8 +41,6 @@ jobs:\n \n     - name: Dist\n       run: cargo xtask dist\n-      env:\n-        RA_TARGET: x86_64-pc-windows-msvc\n \n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n@@ -51,6 +51,8 @@ jobs:\n   dist-ubuntu:\n     name: dist (Ubuntu 16.04)\n     runs-on: ubuntu-16.04\n+    env:\n+      RA_TARGET: x86_64-unknown-linux-gnu\n \n     steps:\n     - name: Checkout repository\n@@ -71,18 +73,14 @@ jobs:\n     - name: Dist\n       if: github.ref == 'refs/heads/release'\n       run: cargo xtask dist --client 0.2.$GITHUB_RUN_NUMBER\n-      env:\n-        RA_TARGET: x86_64-unknown-linux-gnu\n \n     - name: Dist\n       if: github.ref != 'refs/heads/release'\n       run: cargo xtask dist --nightly --client 0.3.$GITHUB_RUN_NUMBER-nightly\n-      env:\n-        RA_TARGET: x86_64-unknown-linux-gnu\n \n     - name: Nightly analysis-stats check\n       if: github.ref != 'refs/heads/release'\n-      run: target/x86_64-unknown-linux-gnu/release/rust-analyzer analysis-stats .\n+      run: target/${{ env.RA_TARGET }}/release/rust-analyzer analysis-stats .\n \n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n@@ -93,6 +91,8 @@ jobs:\n   dist-macos-latest:\n     name: dist (MacOS latest)\n     runs-on: macos-latest\n+    env:\n+      RA_TARGET: x86_64-apple-darwin\n \n     steps:\n     - name: Checkout repository\n@@ -107,8 +107,6 @@ jobs:\n \n     - name: Dist\n       run: cargo xtask dist\n-      env:\n-        RA_TARGET: x86_64-apple-darwin\n \n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1\n@@ -119,6 +117,8 @@ jobs:\n   dist-macos-11:\n     name: dist (MacOS 11.0)\n     runs-on: macos-11.0\n+    env:\n+      RA_TARGET: aarch64-apple-darwin\n \n     steps:\n     - name: Checkout repository\n@@ -134,8 +134,6 @@ jobs:\n \n     - name: Dist\n       run: cargo xtask dist\n-      env:\n-        RA_TARGET: aarch64-apple-darwin\n \n     - name: Upload artifacts\n       uses: actions/upload-artifact@v1"}]}