{"sha": "a9623f3165f87124de836e81e238118e557bb9e9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5NjIzZjMxNjVmODcxMjRkZTgzNmU4MWUyMzgxMThlNTU3YmI5ZTk=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-18T20:38:19Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-06-18T20:38:19Z"}, "message": "minor: use minicore", "tree": {"sha": "32d2d0cecee29d6637684031a3e042e39328c05c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/32d2d0cecee29d6637684031a3e042e39328c05c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a9623f3165f87124de836e81e238118e557bb9e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a9623f3165f87124de836e81e238118e557bb9e9", "html_url": "https://github.com/rust-lang/rust/commit/a9623f3165f87124de836e81e238118e557bb9e9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a9623f3165f87124de836e81e238118e557bb9e9/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cc73abf72c46d9f13a176d93d1d38f3a72d638e3", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc73abf72c46d9f13a176d93d1d38f3a72d638e3", "html_url": "https://github.com/rust-lang/rust/commit/cc73abf72c46d9f13a176d93d1d38f3a72d638e3"}], "stats": {"total": 37, "additions": 10, "deletions": 27}, "files": [{"sha": "95f9edce4cff36b97a9d91ec2168b72c5bc4e43c", "filename": "crates/ide/src/inlay_hints.rs", "status": "modified", "additions": 4, "deletions": 13, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/a9623f3165f87124de836e81e238118e557bb9e9/crates%2Fide%2Fsrc%2Finlay_hints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9623f3165f87124de836e81e238118e557bb9e9/crates%2Fide%2Fsrc%2Finlay_hints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Finlay_hints.rs?ref=a9623f3165f87124de836e81e238118e557bb9e9", "patch": "@@ -661,9 +661,7 @@ fn main() {\n     fn function_call_parameter_hint() {\n         check_params(\n             r#\"\n-enum Option<T> { None, Some(T) }\n-use Option::*;\n-\n+//- minicore: option\n struct FileId {}\n struct SmolStr {}\n \n@@ -872,7 +870,6 @@ fn main() {\n         check_types(\n             r#\"\n //- minicore: fn, sized\n-\n fn foo() -> impl Fn() { loop {} }\n fn foo1() -> impl Fn(f64) { loop {} }\n fn foo2() -> impl Fn(f64, f64) { loop {} }\n@@ -960,9 +957,7 @@ fn main() {\n     fn if_expr() {\n         check_types(\n             r#\"\n-enum Option<T> { None, Some(T) }\n-use Option::*;\n-\n+//- minicore: option\n struct Test { a: Option<u32>, b: u8 }\n \n fn main() {\n@@ -992,9 +987,7 @@ fn main() {\n     fn while_expr() {\n         check_types(\n             r#\"\n-enum Option<T> { None, Some(T) }\n-use Option::*;\n-\n+//- minicore: option\n struct Test { a: Option<u32>, b: u8 }\n \n fn main() {\n@@ -1010,9 +1003,7 @@ fn main() {\n     fn match_arm_list() {\n         check_types(\n             r#\"\n-enum Option<T> { None, Some(T) }\n-use Option::*;\n-\n+//- minicore: option\n struct Test { a: Option<u32>, b: u8 }\n \n fn main() {"}, {"sha": "318faa0fca6f7b2bef350690f6411e5ad8afbdaf", "filename": "crates/ide_assists/src/handlers/fill_match_arms.rs", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/a9623f3165f87124de836e81e238118e557bb9e9/crates%2Fide_assists%2Fsrc%2Fhandlers%2Ffill_match_arms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9623f3165f87124de836e81e238118e557bb9e9/crates%2Fide_assists%2Fsrc%2Fhandlers%2Ffill_match_arms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Ffill_match_arms.rs?ref=a9623f3165f87124de836e81e238118e557bb9e9", "patch": "@@ -481,26 +481,21 @@ fn main() {\n         check_assist(\n             fill_match_arms,\n             r#\"\n-enum Option<T> { Some(T), None }\n-use Option::*;\n-\n+//- minicore: option\n fn main() {\n     match None$0 {\n         None => {}\n     }\n }\n-            \"#,\n+\"#,\n             r#\"\n-enum Option<T> { Some(T), None }\n-use Option::*;\n-\n fn main() {\n     match None {\n         None => {}\n         Some(${0:_}) => todo!(),\n     }\n }\n-            \"#,\n+\"#,\n         );\n     }\n "}, {"sha": "4e20ec003f43876b04d2f301af2ebd26d15ef8d6", "filename": "crates/ide_completion/src/completions/postfix.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a9623f3165f87124de836e81e238118e557bb9e9/crates%2Fide_completion%2Fsrc%2Fcompletions%2Fpostfix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9623f3165f87124de836e81e238118e557bb9e9/crates%2Fide_completion%2Fsrc%2Fcompletions%2Fpostfix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_completion%2Fsrc%2Fcompletions%2Fpostfix.rs?ref=a9623f3165f87124de836e81e238118e557bb9e9", "patch": "@@ -509,18 +509,15 @@ fn main() {\n         check_edit(\n             \"ifl\",\n             r#\"\n-enum Option<T> { Some(T), None }\n-\n+//- minicore: option\n fn main() {\n-    let bar = &Option::Some(true);\n+    let bar = &Some(true);\n     bar.$0\n }\n \"#,\n             r#\"\n-enum Option<T> { Some(T), None }\n-\n fn main() {\n-    let bar = &Option::Some(true);\n+    let bar = &Some(true);\n     if let Some($1) = bar {\n     $0\n }"}]}