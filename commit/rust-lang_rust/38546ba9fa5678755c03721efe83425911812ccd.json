{"sha": "38546ba9fa5678755c03721efe83425911812ccd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4NTQ2YmE5ZmE1Njc4NzU1YzAzNzIxZWZlODM0MjU5MTE4MTJjY2Q=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-02T05:21:11Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2018-01-15T10:03:03Z"}, "message": "Add note when trying to use `Self` as a ctor", "tree": {"sha": "b29fca4c583c001b4441c25f308e9a8a90098d52", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b29fca4c583c001b4441c25f308e9a8a90098d52"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/38546ba9fa5678755c03721efe83425911812ccd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/38546ba9fa5678755c03721efe83425911812ccd", "html_url": "https://github.com/rust-lang/rust/commit/38546ba9fa5678755c03721efe83425911812ccd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/38546ba9fa5678755c03721efe83425911812ccd/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb", "html_url": "https://github.com/rust-lang/rust/commit/ce9ef37fe682e2677f19a73d6a90d34b6085ebdb"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "d64c3832935c226c219930749ab9c6a6c7cc836c", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/38546ba9fa5678755c03721efe83425911812ccd/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38546ba9fa5678755c03721efe83425911812ccd/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=38546ba9fa5678755c03721efe83425911812ccd", "patch": "@@ -898,7 +898,7 @@ impl<'a> LexicalScopeBinding<'a> {\n     }\n }\n \n-#[derive(Clone)]\n+#[derive(Clone, Debug)]\n enum PathResult<'a> {\n     Module(Module<'a>),\n     NonModule(PathResolution),\n@@ -2742,6 +2742,10 @@ impl<'a> Resolver<'a> {\n                                                      block));\n                         return (err, candidates);\n                     }\n+                    (Def::SelfTy(_, _), _) if ns == ValueNS && is_struct_like(def) => {\n+                        err.note(\"can't instantiate `Self`, you must use the implemented struct \\\n+                                  directly\");\n+                    }\n                     _ => {}\n                 }\n             }"}, {"sha": "b5122e04a136c67600707d985b9805c887fb9967", "filename": "src/test/ui/resolve/tuple-struct-alias.stderr", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/38546ba9fa5678755c03721efe83425911812ccd/src%2Ftest%2Fui%2Fresolve%2Ftuple-struct-alias.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/38546ba9fa5678755c03721efe83425911812ccd/src%2Ftest%2Fui%2Fresolve%2Ftuple-struct-alias.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Ftuple-struct-alias.stderr?ref=38546ba9fa5678755c03721efe83425911812ccd", "patch": "@@ -3,12 +3,16 @@ error[E0423]: expected function, found self type `Self`\n    |\n 16 |         let s = Self(0, 1); //~ ERROR expected function\n    |                 ^^^^ not a function\n+   |\n+   = note: can't instantiate `Self`, you must use the implemented struct directly\n \n error[E0532]: expected tuple struct/variant, found self type `Self`\n   --> $DIR/tuple-struct-alias.rs:18:13\n    |\n 18 |             Self(..) => {} //~ ERROR expected tuple struct/variant\n    |             ^^^^ not a tuple struct/variant\n+   |\n+   = note: can't instantiate `Self`, you must use the implemented struct directly\n \n error[E0423]: expected function, found type alias `A`\n   --> $DIR/tuple-struct-alias.rs:24:13"}]}