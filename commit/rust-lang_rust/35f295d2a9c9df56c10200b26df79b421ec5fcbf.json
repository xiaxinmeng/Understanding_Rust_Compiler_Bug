{"sha": "35f295d2a9c9df56c10200b26df79b421ec5fcbf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM1ZjI5NWQyYTljOWRmNTZjMTAyMDBiMjZkZjc5YjQyMWVjNWZjYmY=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-28T03:27:20Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-28T03:35:51Z"}, "message": "test: Add tests for closed issues\n\nCloses #5518\nCloses #7320\nCloses #8391\nCloses #8827\nCloses #8983\nCloses #10683\nCloses #10802\nCloses #11515", "tree": {"sha": "9e2fb896ccffe2d1fbcc9b62587a8d7ec149acde", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9e2fb896ccffe2d1fbcc9b62587a8d7ec149acde"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/35f295d2a9c9df56c10200b26df79b421ec5fcbf", "comment_count": 6, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/35f295d2a9c9df56c10200b26df79b421ec5fcbf", "html_url": "https://github.com/rust-lang/rust/commit/35f295d2a9c9df56c10200b26df79b421ec5fcbf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/35f295d2a9c9df56c10200b26df79b421ec5fcbf/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ff25d62165cbd74e98c569aa74feedbb3ca181e3", "url": "https://api.github.com/repos/rust-lang/rust/commits/ff25d62165cbd74e98c569aa74feedbb3ca181e3", "html_url": "https://github.com/rust-lang/rust/commit/ff25d62165cbd74e98c569aa74feedbb3ca181e3"}], "stats": {"total": 214, "additions": 214, "deletions": 0}, "files": [{"sha": "cea227e050f836e76606c2fd8a20d584da9a4571", "filename": "src/test/auxiliary/issue-5518.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Fauxiliary%2Fissue-5518.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Fauxiliary%2Fissue-5518.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fissue-5518.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,14 @@\n+// Copyright 2012-2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+trait A<'a, T> {\n+    fn f(&mut self) -> &'a mut T;\n+    fn p() -> T;\n+}"}, {"sha": "52288a9ce020ab7fcbbe90901eb156dbcd49958a", "filename": "src/test/compile-fail/issue-11515.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Fcompile-fail%2Fissue-11515.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Fcompile-fail%2Fissue-11515.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-11515.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Test<'s> {\n+    func: ||: 's,\n+}\n+\n+fn main() {\n+    let test = ~Test { func: proc() {} };\n+    //~^ ERROR: expected `||` but found `proc()`\n+}"}, {"sha": "934adc07e2f15a4607feb773eca1cca544caf25f", "filename": "src/test/run-pass/issue-10683.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-10683.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-10683.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-10683.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+use std::ascii::StrAsciiExt;\n+\n+static NAME: &'static str = \"hello world\";\n+\n+fn main() {\n+    match NAME.to_ascii_lower().as_slice() {\n+        \"foo\" => {}\n+        _ => {}\n+    }\n+}"}, {"sha": "b7b65c9de0a6c89bf0b06ae3a3f436dd42a07e52", "filename": "src/test/run-pass/issue-10802.rs", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-10802.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-10802.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-10802.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,37 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct DroppableStruct;\n+\n+static mut DROPPED: bool = false;\n+\n+impl Drop for DroppableStruct {\n+    fn drop(&mut self) {\n+        unsafe { DROPPED = true; }\n+    }\n+}\n+\n+trait MyTrait { }\n+impl MyTrait for ~DroppableStruct {}\n+\n+struct Whatever { w: ~MyTrait }\n+impl  Whatever {\n+    fn new(w: ~MyTrait) -> Whatever {\n+        Whatever { w: w }\n+    }\n+}\n+\n+fn main() {\n+    {\n+        let f = ~DroppableStruct;\n+        let _a = Whatever::new(~f as ~MyTrait);\n+    }\n+    assert!(unsafe { DROPPED });\n+}"}, {"sha": "bc24870e5df7610ad6bab56a4f822ae8b1358c9b", "filename": "src/test/run-pass/issue-5518.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-5518.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-5518.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-5518.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2012-2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// aux-build:issue-5518.rs\n+\n+extern crate other = \"issue-5518\";\n+\n+fn main() {}"}, {"sha": "ccd2e8077399fdacc23f923a1cbde36c9190a91e", "filename": "src/test/run-pass/issue-7320.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-7320.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-7320.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-7320.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+trait Foo {\n+    fn foo(~self) { bar(self as ~Foo); }\n+}\n+\n+fn bar(_b: ~Foo) { }\n+\n+fn main() {}"}, {"sha": "fdd27f8542fc75bea81a4786fe29422e7f954263", "filename": "src/test/run-pass/issue-8391.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-8391.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-8391.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-8391.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn main() {\n+    let _x = match Some(1) {\n+        _y @ Some(_) => 1,\n+        None => 2,\n+    };\n+}"}, {"sha": "73e4a2716b8291e39c06fd63099c1a4c79972b11", "filename": "src/test/run-pass/issue-8827.rs", "status": "added", "additions": 58, "deletions": 0, "changes": 58, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-8827.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-8827.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-8827.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,58 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn periodical(n: int) -> Receiver<bool> {\n+    let (chan, port) = channel();\n+    spawn(proc() {\n+        loop {\n+            for _ in range(1, n) {\n+                match chan.send_opt(false) {\n+                    Ok(()) => {}\n+                    Err(..) => break,\n+                }\n+            }\n+            match chan.send_opt(true) {\n+                Ok(()) => {}\n+                Err(..) => break\n+            }\n+        }\n+    });\n+    return port;\n+}\n+\n+fn integers() -> Receiver<int> {\n+    let (chan, port) = channel();\n+    spawn(proc() {\n+        let mut i = 1;\n+        loop {\n+            match chan.send_opt(i) {\n+                Ok(()) => {}\n+                Err(..) => break,\n+            }\n+            i = i + 1;\n+        }\n+    });\n+    return port;\n+}\n+\n+fn main() {\n+    let ints = integers();\n+    let threes = periodical(3);\n+    let fives = periodical(5);\n+    for _ in range(1, 100) {\n+        match (ints.recv(), threes.recv(), fives.recv()) {\n+            (_, true, true) => println!(\"FizzBuzz\"),\n+            (_, true, false) => println!(\"Fizz\"),\n+            (_, false, true) => println!(\"Buzz\"),\n+            (i, false, false) => println!(\"{}\", i)\n+        }\n+    }\n+}\n+"}, {"sha": "6efec00e7efd0deae8d377b23365650f11448bf7", "filename": "src/test/run-pass/issue-8983.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-8983.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f295d2a9c9df56c10200b26df79b421ec5fcbf/src%2Ftest%2Frun-pass%2Fissue-8983.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-8983.rs?ref=35f295d2a9c9df56c10200b26df79b421ec5fcbf", "patch": "@@ -0,0 +1,19 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(managed_boxes)]\n+\n+fn main() {\n+    fn f(_: proc()) {}\n+    fn eat<T>(_: T) {}\n+\n+    let x = @1;\n+    f(proc() { eat(x) });\n+}"}]}