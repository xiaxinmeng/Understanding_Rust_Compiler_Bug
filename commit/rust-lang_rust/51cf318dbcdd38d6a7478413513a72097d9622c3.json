{"sha": "51cf318dbcdd38d6a7478413513a72097d9622c3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUxY2YzMThkYmNkZDM4ZDZhNzQ3ODQxMzUxM2E3MjA5N2Q5NjIyYzM=", "commit": {"author": {"name": "Michael Hall", "email": "michael@mbh.sh", "date": "2021-08-17T02:24:28Z"}, "committer": {"name": "Michael Hall", "email": "michael@mbh.sh", "date": "2021-08-17T02:26:24Z"}, "message": "remove unnecessary empty check", "tree": {"sha": "439e8d28b261e02683b136d30f0b266149f8a3f9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/439e8d28b261e02683b136d30f0b266149f8a3f9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/51cf318dbcdd38d6a7478413513a72097d9622c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/51cf318dbcdd38d6a7478413513a72097d9622c3", "html_url": "https://github.com/rust-lang/rust/commit/51cf318dbcdd38d6a7478413513a72097d9622c3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/51cf318dbcdd38d6a7478413513a72097d9622c3/comments", "author": {"login": "mbhall88", "id": 20403931, "node_id": "MDQ6VXNlcjIwNDAzOTMx", "avatar_url": "https://avatars.githubusercontent.com/u/20403931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbhall88", "html_url": "https://github.com/mbhall88", "followers_url": "https://api.github.com/users/mbhall88/followers", "following_url": "https://api.github.com/users/mbhall88/following{/other_user}", "gists_url": "https://api.github.com/users/mbhall88/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbhall88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbhall88/subscriptions", "organizations_url": "https://api.github.com/users/mbhall88/orgs", "repos_url": "https://api.github.com/users/mbhall88/repos", "events_url": "https://api.github.com/users/mbhall88/events{/privacy}", "received_events_url": "https://api.github.com/users/mbhall88/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mbhall88", "id": 20403931, "node_id": "MDQ6VXNlcjIwNDAzOTMx", "avatar_url": "https://avatars.githubusercontent.com/u/20403931?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbhall88", "html_url": "https://github.com/mbhall88", "followers_url": "https://api.github.com/users/mbhall88/followers", "following_url": "https://api.github.com/users/mbhall88/following{/other_user}", "gists_url": "https://api.github.com/users/mbhall88/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbhall88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbhall88/subscriptions", "organizations_url": "https://api.github.com/users/mbhall88/orgs", "repos_url": "https://api.github.com/users/mbhall88/repos", "events_url": "https://api.github.com/users/mbhall88/events{/privacy}", "received_events_url": "https://api.github.com/users/mbhall88/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1e759bef919e3600481839324ba02c637ec13ee1", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e759bef919e3600481839324ba02c637ec13ee1", "html_url": "https://github.com/rust-lang/rust/commit/1e759bef919e3600481839324ba02c637ec13ee1"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "8a2450fcb887cd61c38b3f42f4c537f8b732260b", "filename": "library/std/src/path.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/51cf318dbcdd38d6a7478413513a72097d9622c3/library%2Fstd%2Fsrc%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/51cf318dbcdd38d6a7478413513a72097d9622c3/library%2Fstd%2Fsrc%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fpath.rs?ref=51cf318dbcdd38d6a7478413513a72097d9622c3", "patch": "@@ -2217,9 +2217,7 @@ impl Path {\n     ///\n     #[unstable(feature = \"path_file_prefix\", issue = \"86319\")]\n     pub fn file_prefix(&self) -> Option<&OsStr> {\n-        self.file_name()\n-            .map(split_file_at_dot)\n-            .and_then(|(before, after)| if before.is_empty() { after } else { Some(before) })\n+        self.file_name().map(split_file_at_dot).and_then(|(before, _after)| Some(before))\n     }\n \n     /// Extracts the extension of [`self.file_name`], if possible."}, {"sha": "e8b960e6d737012e7e19d8879584b36d12f9920c", "filename": "library/std/src/path/tests.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/51cf318dbcdd38d6a7478413513a72097d9622c3/library%2Fstd%2Fsrc%2Fpath%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/51cf318dbcdd38d6a7478413513a72097d9622c3/library%2Fstd%2Fsrc%2Fpath%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fpath%2Ftests.rs?ref=51cf318dbcdd38d6a7478413513a72097d9622c3", "patch": "@@ -1127,6 +1127,8 @@ pub fn test_stem_ext() {\n \n     t!(\".x.y.z\", file_stem: Some(\".x.y\"), extension: Some(\"z\"));\n \n+    t!(\"..x.y.z\", file_stem: Some(\"..x.y\"), extension: Some(\"z\"));\n+\n     t!(\"\", file_stem: None, extension: None);\n }\n \n@@ -1168,6 +1170,8 @@ pub fn test_prefix_ext() {\n \n     t!(\".x.y.z\", file_prefix: Some(\".x\"), extension: Some(\"z\"));\n \n+    t!(\"..x.y.z\", file_prefix: Some(\".\"), extension: Some(\"z\"));\n+\n     t!(\"\", file_prefix: None, extension: None);\n }\n "}]}