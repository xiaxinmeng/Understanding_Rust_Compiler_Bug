{"sha": "10234d286ac0b74a3bfe1581df91137a21f66033", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwMjM0ZDI4NmFjMGI3NGEzYmZlMTU4MWRmOTExMzdhMjFmNjYwMzM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-06-17T03:41:45Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-06-22T23:29:29Z"}, "message": "let_chains: Adjust tests for pre-expansion gating.", "tree": {"sha": "31f8e0ec331e77dcb550293b1008e9ca5cf5355e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/31f8e0ec331e77dcb550293b1008e9ca5cf5355e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/10234d286ac0b74a3bfe1581df91137a21f66033", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/10234d286ac0b74a3bfe1581df91137a21f66033", "html_url": "https://github.com/rust-lang/rust/commit/10234d286ac0b74a3bfe1581df91137a21f66033", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/10234d286ac0b74a3bfe1581df91137a21f66033/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb4f54a58d0247dbd830165fd2ff214e07890964", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb4f54a58d0247dbd830165fd2ff214e07890964", "html_url": "https://github.com/rust-lang/rust/commit/eb4f54a58d0247dbd830165fd2ff214e07890964"}], "stats": {"total": 165, "additions": 103, "deletions": 62}, "files": [{"sha": "43e0ee8a86cf915eb7e6b784b34260a82d42e108", "filename": "src/test/ui/rfc-2497-if-let-chains/disallowed-positions.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.rs?ref=10234d286ac0b74a3bfe1581df91137a21f66033", "patch": "@@ -17,7 +17,10 @@\n //\n // To that end, we check some positions which is not part of the language above.\n \n-#![feature(const_generics)] //~ WARN the feature `const_generics` is incomplete\n+#![feature(const_generics)]\n+//~^ WARN the feature `const_generics` is incomplete\n+#![feature(let_chains)] // Avoid inflating `.stderr` with overzealous gates in this test.\n+//~^ WARN the feature `let_chains` is incomplete\n \n #![allow(irrefutable_let_patterns)]\n "}, {"sha": "86baa038c0b9805a7bd69358b73100c6b921eb28", "filename": "src/test/ui/rfc-2497-if-let-chains/disallowed-positions.stderr", "status": "modified", "additions": 63, "deletions": 57, "changes": 120, "blob_url": "https://github.com/rust-lang/rust/blob/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.stderr?ref=10234d286ac0b74a3bfe1581df91137a21f66033", "patch": "@@ -1,5 +1,5 @@\n error: expected one of `,` or `>`, found `&&`\n-  --> $DIR/disallowed-positions.rs:187:14\n+  --> $DIR/disallowed-positions.rs:190:14\n    |\n LL |         true && let 1 = 1\n    |              ^^ expected one of `,` or `>` here\n@@ -10,8 +10,14 @@ warning: the feature `const_generics` is incomplete and may cause the compiler t\n LL | #![feature(const_generics)]\n    |            ^^^^^^^^^^^^^^\n \n+warning: the feature `let_chains` is incomplete and may cause the compiler to crash\n+  --> $DIR/disallowed-positions.rs:22:12\n+   |\n+LL | #![feature(let_chains)] // Avoid inflating `.stderr` with overzealous gates in this test.\n+   |            ^^^^^^^^^^\n+\n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:29:9\n+  --> $DIR/disallowed-positions.rs:32:9\n    |\n LL |     if &let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -20,7 +26,7 @@ LL |     if &let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:32:9\n+  --> $DIR/disallowed-positions.rs:35:9\n    |\n LL |     if !let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -29,7 +35,7 @@ LL |     if !let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:33:9\n+  --> $DIR/disallowed-positions.rs:36:9\n    |\n LL |     if *let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -38,7 +44,7 @@ LL |     if *let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:34:9\n+  --> $DIR/disallowed-positions.rs:37:9\n    |\n LL |     if -let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -47,7 +53,7 @@ LL |     if -let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:40:9\n+  --> $DIR/disallowed-positions.rs:43:9\n    |\n LL |     if (let 0 = 0)? {}\n    |         ^^^^^^^^^\n@@ -56,7 +62,7 @@ LL |     if (let 0 = 0)? {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:42:16\n+  --> $DIR/disallowed-positions.rs:45:16\n    |\n LL |     if true || let 0 = 0 {}\n    |                ^^^^^^^^^\n@@ -65,7 +71,7 @@ LL |     if true || let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:43:17\n+  --> $DIR/disallowed-positions.rs:46:17\n    |\n LL |     if (true || let 0 = 0) {}\n    |                 ^^^^^^^^^\n@@ -74,7 +80,7 @@ LL |     if (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:44:25\n+  --> $DIR/disallowed-positions.rs:47:25\n    |\n LL |     if true && (true || let 0 = 0) {}\n    |                         ^^^^^^^^^\n@@ -83,7 +89,7 @@ LL |     if true && (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:45:25\n+  --> $DIR/disallowed-positions.rs:48:25\n    |\n LL |     if true || (true && let 0 = 0) {}\n    |                         ^^^^^^^^^\n@@ -92,7 +98,7 @@ LL |     if true || (true && let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:48:12\n+  --> $DIR/disallowed-positions.rs:51:12\n    |\n LL |     if x = let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -101,7 +107,7 @@ LL |     if x = let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:50:15\n+  --> $DIR/disallowed-positions.rs:53:15\n    |\n LL |     if true..(let 0 = 0) {}\n    |               ^^^^^^^^^\n@@ -110,7 +116,7 @@ LL |     if true..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:51:11\n+  --> $DIR/disallowed-positions.rs:54:11\n    |\n LL |     if ..(let 0 = 0) {}\n    |           ^^^^^^^^^\n@@ -119,7 +125,7 @@ LL |     if ..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:52:9\n+  --> $DIR/disallowed-positions.rs:55:9\n    |\n LL |     if (let 0 = 0).. {}\n    |         ^^^^^^^^^\n@@ -128,7 +134,7 @@ LL |     if (let 0 = 0).. {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:55:8\n+  --> $DIR/disallowed-positions.rs:58:8\n    |\n LL |     if let Range { start: _, end: _ } = true..true && false {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -137,7 +143,7 @@ LL |     if let Range { start: _, end: _ } = true..true && false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:57:8\n+  --> $DIR/disallowed-positions.rs:60:8\n    |\n LL |     if let Range { start: _, end: _ } = true..true || false {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -146,7 +152,7 @@ LL |     if let Range { start: _, end: _ } = true..true || false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:62:8\n+  --> $DIR/disallowed-positions.rs:65:8\n    |\n LL |     if let Range { start: F, end } = F..|| true {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -155,7 +161,7 @@ LL |     if let Range { start: F, end } = F..|| true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:67:8\n+  --> $DIR/disallowed-positions.rs:70:8\n    |\n LL |     if let Range { start: true, end } = t..&&false {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -164,7 +170,7 @@ LL |     if let Range { start: true, end } = t..&&false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:70:19\n+  --> $DIR/disallowed-positions.rs:73:19\n    |\n LL |     if let true = let true = true {}\n    |                   ^^^^^^^^^^^^^^^\n@@ -173,7 +179,7 @@ LL |     if let true = let true = true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:74:12\n+  --> $DIR/disallowed-positions.rs:77:12\n    |\n LL |     while &let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -182,7 +188,7 @@ LL |     while &let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:76:12\n+  --> $DIR/disallowed-positions.rs:79:12\n    |\n LL |     while !let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -191,7 +197,7 @@ LL |     while !let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:77:12\n+  --> $DIR/disallowed-positions.rs:80:12\n    |\n LL |     while *let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -200,7 +206,7 @@ LL |     while *let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:78:12\n+  --> $DIR/disallowed-positions.rs:81:12\n    |\n LL |     while -let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -209,7 +215,7 @@ LL |     while -let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:84:12\n+  --> $DIR/disallowed-positions.rs:87:12\n    |\n LL |     while (let 0 = 0)? {}\n    |            ^^^^^^^^^\n@@ -218,7 +224,7 @@ LL |     while (let 0 = 0)? {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:86:19\n+  --> $DIR/disallowed-positions.rs:89:19\n    |\n LL |     while true || let 0 = 0 {}\n    |                   ^^^^^^^^^\n@@ -227,7 +233,7 @@ LL |     while true || let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:87:20\n+  --> $DIR/disallowed-positions.rs:90:20\n    |\n LL |     while (true || let 0 = 0) {}\n    |                    ^^^^^^^^^\n@@ -236,7 +242,7 @@ LL |     while (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:88:28\n+  --> $DIR/disallowed-positions.rs:91:28\n    |\n LL |     while true && (true || let 0 = 0) {}\n    |                            ^^^^^^^^^\n@@ -245,7 +251,7 @@ LL |     while true && (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:89:28\n+  --> $DIR/disallowed-positions.rs:92:28\n    |\n LL |     while true || (true && let 0 = 0) {}\n    |                            ^^^^^^^^^\n@@ -254,7 +260,7 @@ LL |     while true || (true && let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:92:15\n+  --> $DIR/disallowed-positions.rs:95:15\n    |\n LL |     while x = let 0 = 0 {}\n    |               ^^^^^^^^^\n@@ -263,7 +269,7 @@ LL |     while x = let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:94:18\n+  --> $DIR/disallowed-positions.rs:97:18\n    |\n LL |     while true..(let 0 = 0) {}\n    |                  ^^^^^^^^^\n@@ -272,7 +278,7 @@ LL |     while true..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:95:14\n+  --> $DIR/disallowed-positions.rs:98:14\n    |\n LL |     while ..(let 0 = 0) {}\n    |              ^^^^^^^^^\n@@ -281,7 +287,7 @@ LL |     while ..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:96:12\n+  --> $DIR/disallowed-positions.rs:99:12\n    |\n LL |     while (let 0 = 0).. {}\n    |            ^^^^^^^^^\n@@ -290,7 +296,7 @@ LL |     while (let 0 = 0).. {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:99:11\n+  --> $DIR/disallowed-positions.rs:102:11\n    |\n LL |     while let Range { start: _, end: _ } = true..true && false {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -299,7 +305,7 @@ LL |     while let Range { start: _, end: _ } = true..true && false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:101:11\n+  --> $DIR/disallowed-positions.rs:104:11\n    |\n LL |     while let Range { start: _, end: _ } = true..true || false {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -308,7 +314,7 @@ LL |     while let Range { start: _, end: _ } = true..true || false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:106:11\n+  --> $DIR/disallowed-positions.rs:109:11\n    |\n LL |     while let Range { start: F, end } = F..|| true {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -317,7 +323,7 @@ LL |     while let Range { start: F, end } = F..|| true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:111:11\n+  --> $DIR/disallowed-positions.rs:114:11\n    |\n LL |     while let Range { start: true, end } = t..&&false {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -326,7 +332,7 @@ LL |     while let Range { start: true, end } = t..&&false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:114:22\n+  --> $DIR/disallowed-positions.rs:117:22\n    |\n LL |     while let true = let true = true {}\n    |                      ^^^^^^^^^^^^^^^\n@@ -335,7 +341,7 @@ LL |     while let true = let true = true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:128:6\n+  --> $DIR/disallowed-positions.rs:131:6\n    |\n LL |     &let 0 = 0;\n    |      ^^^^^^^^^\n@@ -344,7 +350,7 @@ LL |     &let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:130:6\n+  --> $DIR/disallowed-positions.rs:133:6\n    |\n LL |     !let 0 = 0;\n    |      ^^^^^^^^^\n@@ -353,7 +359,7 @@ LL |     !let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:131:6\n+  --> $DIR/disallowed-positions.rs:134:6\n    |\n LL |     *let 0 = 0;\n    |      ^^^^^^^^^\n@@ -362,7 +368,7 @@ LL |     *let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:132:6\n+  --> $DIR/disallowed-positions.rs:135:6\n    |\n LL |     -let 0 = 0;\n    |      ^^^^^^^^^\n@@ -371,7 +377,7 @@ LL |     -let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:138:6\n+  --> $DIR/disallowed-positions.rs:141:6\n    |\n LL |     (let 0 = 0)?;\n    |      ^^^^^^^^^\n@@ -380,7 +386,7 @@ LL |     (let 0 = 0)?;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:140:13\n+  --> $DIR/disallowed-positions.rs:143:13\n    |\n LL |     true || let 0 = 0;\n    |             ^^^^^^^^^\n@@ -389,7 +395,7 @@ LL |     true || let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:141:14\n+  --> $DIR/disallowed-positions.rs:144:14\n    |\n LL |     (true || let 0 = 0);\n    |              ^^^^^^^^^\n@@ -398,7 +404,7 @@ LL |     (true || let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:142:22\n+  --> $DIR/disallowed-positions.rs:145:22\n    |\n LL |     true && (true || let 0 = 0);\n    |                      ^^^^^^^^^\n@@ -407,7 +413,7 @@ LL |     true && (true || let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:145:9\n+  --> $DIR/disallowed-positions.rs:148:9\n    |\n LL |     x = let 0 = 0;\n    |         ^^^^^^^^^\n@@ -416,7 +422,7 @@ LL |     x = let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:147:12\n+  --> $DIR/disallowed-positions.rs:150:12\n    |\n LL |     true..(let 0 = 0);\n    |            ^^^^^^^^^\n@@ -425,7 +431,7 @@ LL |     true..(let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:148:8\n+  --> $DIR/disallowed-positions.rs:151:8\n    |\n LL |     ..(let 0 = 0);\n    |        ^^^^^^^^^\n@@ -434,7 +440,7 @@ LL |     ..(let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:149:6\n+  --> $DIR/disallowed-positions.rs:152:6\n    |\n LL |     (let 0 = 0)..;\n    |      ^^^^^^^^^\n@@ -443,7 +449,7 @@ LL |     (let 0 = 0)..;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:151:6\n+  --> $DIR/disallowed-positions.rs:154:6\n    |\n LL |     (let Range { start: _, end: _ } = true..true || false);\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -452,7 +458,7 @@ LL |     (let Range { start: _, end: _ } = true..true || false);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:154:6\n+  --> $DIR/disallowed-positions.rs:157:6\n    |\n LL |     (let true = let true = true);\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -461,7 +467,7 @@ LL |     (let true = let true = true);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:154:17\n+  --> $DIR/disallowed-positions.rs:157:17\n    |\n LL |     (let true = let true = true);\n    |                 ^^^^^^^^^^^^^^^\n@@ -470,7 +476,7 @@ LL |     (let true = let true = true);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:159:6\n+  --> $DIR/disallowed-positions.rs:162:6\n    |\n LL |     &let 0 = 0\n    |      ^^^^^^^^^\n@@ -479,7 +485,7 @@ LL |     &let 0 = 0\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:169:17\n+  --> $DIR/disallowed-positions.rs:172:17\n    |\n LL |         true && let 1 = 1\n    |                 ^^^^^^^^^\n@@ -488,7 +494,7 @@ LL |         true && let 1 = 1\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:173:17\n+  --> $DIR/disallowed-positions.rs:176:17\n    |\n LL |         true && let 1 = 1\n    |                 ^^^^^^^^^\n@@ -497,7 +503,7 @@ LL |         true && let 1 = 1\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:177:17\n+  --> $DIR/disallowed-positions.rs:180:17\n    |\n LL |         true && let 1 = 1\n    |                 ^^^^^^^^^\n@@ -506,7 +512,7 @@ LL |         true && let 1 = 1\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions only supported in `if`\n-  --> $DIR/disallowed-positions.rs:29:9\n+  --> $DIR/disallowed-positions.rs:32:9\n    |\n LL |     if &let 0 = 0 {}\n    |         ^^^^^^^^^"}, {"sha": "c125ec89cb5749034f5be62c8b45d185ac4f9675", "filename": "src/test/ui/rfc-2497-if-let-chains/feature-gate.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Ffeature-gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Ffeature-gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Ffeature-gate.rs?ref=10234d286ac0b74a3bfe1581df91137a21f66033", "patch": "@@ -83,7 +83,9 @@ fn _while() {\n \n fn _macros() {\n     macro_rules! noop_expr { ($e:expr) => {}; }\n+\n     noop_expr!((let 0 = 1));\n+    //~^ ERROR `let` expressions in this position are experimental [E0658]\n \n     macro_rules! use_expr {\n         ($e:expr) => {\n@@ -95,7 +97,10 @@ fn _macros() {\n     //~^ ERROR `let` expressions in this position are experimental [E0658]\n     use_expr!((let 0 = 1));\n     //~^ ERROR `let` expressions in this position are experimental [E0658]\n-    // use_expr!(let 0 = 1);\n+    #[cfg(FALSE)] (let 0 = 1);\n+    //~^ ERROR `let` expressions in this position are experimental [E0658]\n+    use_expr!(let 0 = 1);\n+    //~^ ERROR no rules expected the token `let`\n     // ^--- FIXME(53667): Consider whether `Let` can be added to `ident_can_begin_expr`.\n }\n "}, {"sha": "5ed0dd3cab68e4f6a9fee993ea3b73bbf28e72ca", "filename": "src/test/ui/rfc-2497-if-let-chains/feature-gate.stderr", "status": "modified", "additions": 30, "deletions": 3, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Ffeature-gate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/10234d286ac0b74a3bfe1581df91137a21f66033/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Ffeature-gate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Ffeature-gate.stderr?ref=10234d286ac0b74a3bfe1581df91137a21f66033", "patch": "@@ -1,3 +1,12 @@\n+error: no rules expected the token `let`\n+  --> $DIR/feature-gate.rs:102:15\n+   |\n+LL |     macro_rules! use_expr {\n+   |     --------------------- when calling this macro\n+...\n+LL |     use_expr!(let 0 = 1);\n+   |               ^^^ no rules expected this token in macro call\n+\n error[E0658]: `let` expressions in this position are experimental\n   --> $DIR/feature-gate.rs:14:9\n    |\n@@ -251,7 +260,25 @@ LL |     while let Range { start: _, end: _ } = (true..true) && false {}\n    = help: add #![feature(let_chains)] to the crate attributes to enable\n \n error[E0658]: `let` expressions in this position are experimental\n-  --> $DIR/feature-gate.rs:94:16\n+  --> $DIR/feature-gate.rs:100:20\n+   |\n+LL |     #[cfg(FALSE)] (let 0 = 1);\n+   |                    ^^^^^^^^^\n+   |\n+   = note: for more information, see https://github.com/rust-lang/rust/issues/53667\n+   = help: add #![feature(let_chains)] to the crate attributes to enable\n+\n+error[E0658]: `let` expressions in this position are experimental\n+  --> $DIR/feature-gate.rs:87:17\n+   |\n+LL |     noop_expr!((let 0 = 1));\n+   |                 ^^^^^^^^^\n+   |\n+   = note: for more information, see https://github.com/rust-lang/rust/issues/53667\n+   = help: add #![feature(let_chains)] to the crate attributes to enable\n+\n+error[E0658]: `let` expressions in this position are experimental\n+  --> $DIR/feature-gate.rs:96:16\n    |\n LL |     use_expr!((let 0 = 1 && 0 == 0));\n    |                ^^^^^^^^^\n@@ -260,7 +287,7 @@ LL |     use_expr!((let 0 = 1 && 0 == 0));\n    = help: add #![feature(let_chains)] to the crate attributes to enable\n \n error[E0658]: `let` expressions in this position are experimental\n-  --> $DIR/feature-gate.rs:96:16\n+  --> $DIR/feature-gate.rs:98:16\n    |\n LL |     use_expr!((let 0 = 1));\n    |                ^^^^^^^^^\n@@ -274,6 +301,6 @@ error: `let` expressions only supported in `if`\n LL |     if (let 0 = 1) {}\n    |         ^^^^^^^^^\n \n-error: aborting due to 31 previous errors\n+error: aborting due to 34 previous errors\n \n For more information about this error, try `rustc --explain E0658`."}]}