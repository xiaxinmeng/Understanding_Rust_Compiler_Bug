{"sha": "3af77559096ef2df19cdc83e96674b10b27911b6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNhZjc3NTU5MDk2ZWYyZGYxOWNkYzgzZTk2Njc0YjEwYjI3OTExYjY=", "commit": {"author": {"name": "Corey Richardson", "email": "corey@octayn.net", "date": "2014-04-08T16:18:16Z"}, "committer": {"name": "Corey Richardson", "email": "corey@octayn.net", "date": "2014-05-16T17:00:13Z"}, "message": "test: update for term fallout", "tree": {"sha": "cc612112c9097f6689aca17b7e525fb1c5dcee36", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cc612112c9097f6689aca17b7e525fb1c5dcee36"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3af77559096ef2df19cdc83e96674b10b27911b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3af77559096ef2df19cdc83e96674b10b27911b6", "html_url": "https://github.com/rust-lang/rust/commit/3af77559096ef2df19cdc83e96674b10b27911b6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3af77559096ef2df19cdc83e96674b10b27911b6/comments", "author": {"login": "emberian", "id": 704250, "node_id": "MDQ6VXNlcjcwNDI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emberian", "html_url": "https://github.com/emberian", "followers_url": "https://api.github.com/users/emberian/followers", "following_url": "https://api.github.com/users/emberian/following{/other_user}", "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}", "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emberian/subscriptions", "organizations_url": "https://api.github.com/users/emberian/orgs", "repos_url": "https://api.github.com/users/emberian/repos", "events_url": "https://api.github.com/users/emberian/events{/privacy}", "received_events_url": "https://api.github.com/users/emberian/received_events", "type": "User", "site_admin": false}, "committer": {"login": "emberian", "id": 704250, "node_id": "MDQ6VXNlcjcwNDI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emberian", "html_url": "https://github.com/emberian", "followers_url": "https://api.github.com/users/emberian/followers", "following_url": "https://api.github.com/users/emberian/following{/other_user}", "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}", "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emberian/subscriptions", "organizations_url": "https://api.github.com/users/emberian/orgs", "repos_url": "https://api.github.com/users/emberian/repos", "events_url": "https://api.github.com/users/emberian/events{/privacy}", "received_events_url": "https://api.github.com/users/emberian/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7bf1de528396f0f2622ca391da0b03d79a27ee52", "url": "https://api.github.com/repos/rust-lang/rust/commits/7bf1de528396f0f2622ca391da0b03d79a27ee52", "html_url": "https://github.com/rust-lang/rust/commit/7bf1de528396f0f2622ca391da0b03d79a27ee52"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "f2ecd21488779ef45659dadd3b0a78a88c22dbef", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3af77559096ef2df19cdc83e96674b10b27911b6/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3af77559096ef2df19cdc83e96674b10b27911b6/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=3af77559096ef2df19cdc83e96674b10b27911b6", "patch": "@@ -447,7 +447,7 @@ pub enum TestResult {\n }\n \n enum OutputLocation<T> {\n-    Pretty(term::Terminal<T>),\n+    Pretty(~term::Terminal<~Writer:Send>:Send),\n     Raw(T),\n }\n \n@@ -472,10 +472,11 @@ impl<T: Writer> ConsoleTestState<T> {\n             Some(ref path) => Some(try!(File::create(path))),\n             None => None\n         };\n-        let out = match term::Terminal::new(io::stdio::stdout_raw()) {\n-            Err(_) => Raw(io::stdio::stdout_raw()),\n-            Ok(t) => Pretty(t)\n+        let out = match term::stdout() {\n+            None => Raw(io::stdio::stdout_raw()),\n+            Some(t) => Pretty(t)\n         };\n+\n         Ok(ConsoleTestState {\n             out: out,\n             log_out: log_out,"}]}