{"sha": "1a25580c6c6640a47067743d5c36888fac822a12", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhMjU1ODBjNmM2NjQwYTQ3MDY3NzQzZDVjMzY4ODhmYWM4MjJhMTI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-14T06:44:18Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-14T06:44:18Z"}, "message": "Auto merge of #78951 - petrochenkov:unknown, r=ehuss\n\nrustc_target: Change os and vendor values to \"none\" and \"unknown\" for some targets\n\nCloses https://github.com/rust-lang/rust/issues/77730\nr? `@ehuss`", "tree": {"sha": "f7fa175c7eda3449be76656e40996e3744dd7f6f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f7fa175c7eda3449be76656e40996e3744dd7f6f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1a25580c6c6640a47067743d5c36888fac822a12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1a25580c6c6640a47067743d5c36888fac822a12", "html_url": "https://github.com/rust-lang/rust/commit/1a25580c6c6640a47067743d5c36888fac822a12", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1a25580c6c6640a47067743d5c36888fac822a12/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50d3c2a3cb96b6af2b5e3b9d08578a556ac70ede", "url": "https://api.github.com/repos/rust-lang/rust/commits/50d3c2a3cb96b6af2b5e3b9d08578a556ac70ede", "html_url": "https://github.com/rust-lang/rust/commit/50d3c2a3cb96b6af2b5e3b9d08578a556ac70ede"}, {"sha": "e0a8f22053868982be59a82865fa11f4fbdf6af0", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0a8f22053868982be59a82865fa11f4fbdf6af0", "html_url": "https://github.com/rust-lang/rust/commit/e0a8f22053868982be59a82865fa11f4fbdf6af0"}], "stats": {"total": 39, "additions": 19, "deletions": 20}, "files": [{"sha": "c9f622820dea76e69df3de38faf1c9cd167d46fb", "filename": "compiler/rustc_target/src/spec/aarch64_unknown_none.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -10,7 +10,6 @@ use super::{LinkerFlavor, LldFlavor, PanicStrategy, RelocModel, Target, TargetOp\n \n pub fn target() -> Target {\n     let opts = TargetOptions {\n-        vendor: String::new(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".to_owned()),\n         features: \"+strict-align,+neon,+fp-armv8\".to_string(),"}, {"sha": "0811871c993aa2cc4810647f019cee536cbfbe8c", "filename": "compiler/rustc_target/src/spec/aarch64_unknown_none_softfloat.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none_softfloat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none_softfloat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Faarch64_unknown_none_softfloat.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -10,7 +10,6 @@ use super::{LinkerFlavor, LldFlavor, PanicStrategy, RelocModel, Target, TargetOp\n \n pub fn target() -> Target {\n     let opts = TargetOptions {\n-        vendor: String::new(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".to_owned()),\n         features: \"+strict-align,-neon,-fp-armv8\".to_string(),"}, {"sha": "c6586b79b87f832dd920f0510d606604cad076bc", "filename": "compiler/rustc_target/src/spec/armebv7r_none_eabi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabi.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -12,7 +12,6 @@ pub fn target() -> Target {\n \n         options: TargetOptions {\n             endian: \"big\".to_string(),\n-            vendor: String::new(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n             executables: true,\n             linker: Some(\"rust-lld\".to_owned()),"}, {"sha": "e3d4397f6123f226a98530e73c49a3f6af064dbe", "filename": "compiler/rustc_target/src/spec/armebv7r_none_eabihf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabihf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabihf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmebv7r_none_eabihf.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -12,7 +12,6 @@ pub fn target() -> Target {\n \n         options: TargetOptions {\n             endian: \"big\".to_string(),\n-            vendor: String::new(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n             executables: true,\n             linker: Some(\"rust-lld\".to_owned()),"}, {"sha": "74deab0191652355a2ea14d00a23ec56e7d29275", "filename": "compiler/rustc_target/src/spec/armv7a_none_eabi.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabi.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -10,9 +10,6 @@\n // bare-metal binaries (the `gcc` linker has the advantage that it knows where C\n // libraries and crt*.o are but it's not much of an advantage here); LLD is also\n // faster\n-// - `os` set to `none`. rationale: matches `thumb` targets\n-// - `env` and `vendor` are set to an empty string. rationale: matches `thumb`\n-// targets\n // - `panic_strategy` set to `abort`. rationale: matches `thumb` targets\n // - `relocation-model` set to `static`; also no PIE, no relro and no dynamic\n // linking. rationale: matches `thumb` targets\n@@ -21,7 +18,6 @@ use super::{LinkerFlavor, LldFlavor, PanicStrategy, RelocModel, Target, TargetOp\n \n pub fn target() -> Target {\n     let opts = TargetOptions {\n-        vendor: String::new(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".to_owned()),\n         features: \"+v7,+thumb2,+soft-float,-neon,+strict-align\".to_string(),"}, {"sha": "c5c720f5fbde43f2d05e8901a4aace8ce36b7cd5", "filename": "compiler/rustc_target/src/spec/armv7a_none_eabihf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabihf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabihf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7a_none_eabihf.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -9,7 +9,6 @@ use super::{LinkerFlavor, LldFlavor, PanicStrategy, RelocModel, Target, TargetOp\n \n pub fn target() -> Target {\n     let opts = TargetOptions {\n-        vendor: String::new(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".to_owned()),\n         features: \"+v7,+vfp3,-d32,+thumb2,-neon,+strict-align\".to_string(),"}, {"sha": "3f49bd87869374a453a8b7eae7a16740b6f0b8f2", "filename": "compiler/rustc_target/src/spec/armv7r_none_eabi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabi.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -11,7 +11,6 @@ pub fn target() -> Target {\n         arch: \"arm\".to_string(),\n \n         options: TargetOptions {\n-            vendor: String::new(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n             executables: true,\n             linker: Some(\"rust-lld\".to_owned()),"}, {"sha": "9b2e8a8058fe7741f4222487e5f29652ef97caff", "filename": "compiler/rustc_target/src/spec/armv7r_none_eabihf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabihf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabihf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Farmv7r_none_eabihf.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -11,7 +11,6 @@ pub fn target() -> Target {\n         arch: \"arm\".to_string(),\n \n         options: TargetOptions {\n-            vendor: String::new(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n             executables: true,\n             linker: Some(\"rust-lld\".to_owned()),"}, {"sha": "67a7684da2c70434bc917388fb3cfd1e7865dde5", "filename": "compiler/rustc_target/src/spec/avr_gnu_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Favr_gnu_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Favr_gnu_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Favr_gnu_base.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -11,7 +11,6 @@ pub fn target(target_cpu: String) -> Target {\n         pointer_width: 16,\n         options: TargetOptions {\n             c_int_width: \"16\".to_string(),\n-            os: \"unknown\".to_string(),\n             cpu: target_cpu.clone(),\n             exe_suffix: \".elf\".to_string(),\n "}, {"sha": "5c39773cbe381743bebe5668a8829807bfab808f", "filename": "compiler/rustc_target/src/spec/fuchsia_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffuchsia_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffuchsia_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Ffuchsia_base.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -21,7 +21,6 @@ pub fn opts() -> TargetOptions {\n \n     TargetOptions {\n         os: \"fuchsia\".to_string(),\n-        vendor: String::new(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         linker: Some(\"rust-lld\".to_owned()),\n         lld_flavor: LldFlavor::Ld,"}, {"sha": "0f9d3c3de1543b25f67dd421d28d888835769f67", "filename": "compiler/rustc_target/src/spec/mipsel_unknown_none.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_unknown_none.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_unknown_none.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmipsel_unknown_none.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -14,7 +14,6 @@ pub fn target() -> Target {\n         arch: \"mips\".to_string(),\n \n         options: TargetOptions {\n-            vendor: String::new(),\n             linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n             cpu: \"mips32r2\".to_string(),\n             features: \"+mips32r2,+soft-float,+noabicalls\".to_string(),"}, {"sha": "78e7b1a0876eaedb643b3a00c634809682de5bf0", "filename": "compiler/rustc_target/src/spec/mod.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -713,11 +713,14 @@ pub struct TargetOptions {\n     pub endian: String,\n     /// Width of c_int type. Defaults to \"32\".\n     pub c_int_width: String,\n-    /// OS name to use for conditional compilation. Defaults to \"none\".\n+    /// OS name to use for conditional compilation (`target_os`). Defaults to \"none\".\n+    /// \"none\" implies a bare metal target without `std` library.\n+    /// A couple of targets having `std` also use \"unknown\" as an `os` value,\n+    /// but they are exceptions.\n     pub os: String,\n-    /// Environment name to use for conditional compilation. Defaults to \"\".\n+    /// Environment name to use for conditional compilation (`target_env`). Defaults to \"\".\n     pub env: String,\n-    /// Vendor name to use for conditional compilation. Defaults to \"unknown\".\n+    /// Vendor name to use for conditional compilation (`target_vendor`). Defaults to \"unknown\".\n     pub vendor: String,\n     /// Default linker flavor used if `-C linker-flavor` or `-C linker` are not passed\n     /// on the command line. Defaults to `LinkerFlavor::Gcc`."}, {"sha": "cc2578aa578e8d54796b5c72d7ec98b30d123708", "filename": "compiler/rustc_target/src/spec/msp430_none_elf.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsp430_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsp430_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmsp430_none_elf.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -9,7 +9,6 @@ pub fn target() -> Target {\n \n         options: TargetOptions {\n             c_int_width: \"16\".to_string(),\n-            vendor: String::new(),\n             executables: true,\n \n             // The LLVM backend currently can't generate object files. To"}, {"sha": "bde7cb09bdf82e5c71f850e5624db4539501b22e", "filename": "compiler/rustc_target/src/spec/tests/tests_impl.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Ftests%2Ftests_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Ftests%2Ftests_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Ftests%2Ftests_impl.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -36,5 +36,18 @@ impl Target {\n                 && self.post_link_objects_fallback.is_empty())\n                 || self.crt_objects_fallback.is_some()\n         );\n+        // Keep the default \"unknown\" vendor instead.\n+        assert_ne!(self.vendor, \"\");\n+        if !self.can_use_os_unknown() {\n+            // Keep the default \"none\" for bare metal targets instead.\n+            assert_ne!(self.os, \"unknown\");\n+        }\n+    }\n+\n+    // Add your target to the whitelist if it has `std` library\n+    // and you certainly want \"unknown\" for the OS name.\n+    fn can_use_os_unknown(&self) -> bool {\n+        self.llvm_target == \"wasm32-unknown-unknown\"\n+            || (self.env == \"sgx\" && self.vendor == \"fortanix\")\n     }\n }"}, {"sha": "ec24807fec4ea407e6ef5aed01f7d6fd1d8046cf", "filename": "compiler/rustc_target/src/spec/thumb_base.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fthumb_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fthumb_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fthumb_base.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -32,7 +32,6 @@ use crate::spec::{LinkerFlavor, LldFlavor, PanicStrategy, RelocModel, TargetOpti\n pub fn opts() -> TargetOptions {\n     // See rust-lang/rfcs#1645 for a discussion about these defaults\n     TargetOptions {\n-        vendor: String::new(),\n         linker_flavor: LinkerFlavor::Lld(LldFlavor::Ld),\n         executables: true,\n         // In most cases, LLD is good enough"}, {"sha": "3f44acdc36b2da1adcc9191868c32bf30a4da11e", "filename": "compiler/rustc_target/src/spec/wasm32_wasi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwasm32_wasi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1a25580c6c6640a47067743d5c36888fac822a12/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwasm32_wasi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fwasm32_wasi.rs?ref=1a25580c6c6640a47067743d5c36888fac822a12", "patch": "@@ -79,7 +79,6 @@ pub fn target() -> Target {\n     let mut options = wasm32_base::options();\n \n     options.os = \"wasi\".to_string();\n-    options.vendor = String::new();\n     options.linker_flavor = LinkerFlavor::Lld(LldFlavor::Wasm);\n     options\n         .pre_link_args"}]}