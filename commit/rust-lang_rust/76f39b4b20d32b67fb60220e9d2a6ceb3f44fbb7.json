{"sha": "76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc2ZjM5YjRiMjBkMzJiNjdmYjYwMjIwZTlkMmE2Y2ViM2Y0NGZiYjc=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2019-09-09T10:24:27Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-09-09T10:24:27Z"}, "message": "Merge #1794\n\n1794: tiny simplification r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "3b74e8bcb8a88801f1ff8fc2d65bd4a0727b24fa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3b74e8bcb8a88801f1ff8fc2d65bd4a0727b24fa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJddihbCRBK7hj4Ov3rIwAAdHIIAC0QWyPbGlZ1WvSlz1Ujn6Fs\nnJn7MbPm2lHtCPYS4JrRhIP7v7ElUCFXZz3vz/TyCPw42YyZieFJGtJY+jDxh7E3\nHPKWiFqd7ExbEV34k51BqnmhzhV4pUE9b3HHmySTc3Z9ctN+qRsGoyVOLYXb+Gng\nXrNyvZuZ41XYGASGOC4J2VX2752zKHwhLprbGJK7IQJ0J+8B9+MFcG+8Uxks3ZPT\nQoylcmb82wJhtXbhCunMxP0VVWRkLK0kc3kxpMaiUBTDPGeGsowtkps/Ab2DycOh\nfgGZdxGGuo6pIFDG/IxjPFwQjHvrJsDn1MLpp8x+Gdn71u6Mre8gLA0Ap3g6IUg=\n=oaq0\n-----END PGP SIGNATURE-----\n", "payload": "tree 3b74e8bcb8a88801f1ff8fc2d65bd4a0727b24fa\nparent 734a43e95afc97773c234956a95b78caed88f2a3\nparent 7910202ecdd28654b01c0c039b00c01edff42916\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1568024667 +0000\ncommitter GitHub <noreply@github.com> 1568024667 +0000\n\nMerge #1794\n\n1794: tiny simplification r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "html_url": "https://github.com/rust-lang/rust/commit/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "734a43e95afc97773c234956a95b78caed88f2a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/734a43e95afc97773c234956a95b78caed88f2a3", "html_url": "https://github.com/rust-lang/rust/commit/734a43e95afc97773c234956a95b78caed88f2a3"}, {"sha": "7910202ecdd28654b01c0c039b00c01edff42916", "url": "https://api.github.com/repos/rust-lang/rust/commits/7910202ecdd28654b01c0c039b00c01edff42916", "html_url": "https://github.com/rust-lang/rust/commit/7910202ecdd28654b01c0c039b00c01edff42916"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "a2ad580bc81b8194621c42aa5b024ca20dc6deb8", "filename": "crates/ra_parser/src/grammar.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar.rs?ref=76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "patch": "@@ -125,7 +125,7 @@ pub(crate) mod fragments {\n         let m = p.start();\n \n         while !p.at(EOF) {\n-            if p.current() == T![;] {\n+            if p.at(T![;]) {\n                 p.bump();\n                 continue;\n             }"}, {"sha": "e9717020372978bb4a376439ec9e4ff09467fb48", "filename": "crates/ra_parser/src/grammar/attributes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs?ref=76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "patch": "@@ -1,7 +1,7 @@\n use super::*;\n \n pub(super) fn inner_attributes(p: &mut Parser) {\n-    while p.current() == T![#] && p.nth(1) == T![!] {\n+    while p.at(T![#]) && p.nth(1) == T![!] {\n         attribute(p, true)\n     }\n }"}, {"sha": "855418f1c29b0cc9b148afd02ceb6e4bf71711dc", "filename": "crates/ra_parser/src/grammar/expressions.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions.rs?ref=76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "patch": "@@ -197,7 +197,7 @@ pub(crate) fn expr_block_contents(p: &mut Parser) {\n         //     struct S {};\n         // }\n \n-        if p.current() == T![;] {\n+        if p.at(T![;]) {\n             p.bump();\n             continue;\n         }\n@@ -302,7 +302,7 @@ fn expr_bp(\n             newly_dollar_open = false;\n         }\n \n-        let is_range = p.current() == T![..] || p.current() == T![..=];\n+        let is_range = p.at(T![..]) || p.at(T![..=]);\n         let (op_bp, op) = current_op(p);\n         if op_bp < bp {\n             break;"}, {"sha": "cf54344c6c86039978d26b0bd3716674c581142c", "filename": "crates/ra_parser/src/grammar/type_params.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftype_params.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftype_params.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftype_params.rs?ref=76f39b4b20d32b67fb60220e9d2a6ceb3f44fbb7", "patch": "@@ -156,7 +156,10 @@ fn is_where_predicate(p: &mut Parser) -> bool {\n }\n \n fn is_where_clause_end(p: &mut Parser) -> bool {\n-    p.current() == T!['{'] || p.current() == T![;] || p.current() == T![=]\n+    match p.current() {\n+        T!['{'] | T![;] | T![=] => true,\n+        _ => false,\n+    }\n }\n \n fn where_predicate(p: &mut Parser) {"}]}