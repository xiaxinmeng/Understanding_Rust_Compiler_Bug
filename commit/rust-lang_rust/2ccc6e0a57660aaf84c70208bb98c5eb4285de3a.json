{"sha": "2ccc6e0a57660aaf84c70208bb98c5eb4285de3a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJjY2M2ZTBhNTc2NjBhYWY4NGM3MDIwOGJiOThjNWViNDI4NWRlM2E=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2013-03-13T05:36:46Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2013-03-14T03:07:11Z"}, "message": "librustc: Don't require the \"static\" keyword to define a static method", "tree": {"sha": "077344341afcae1dca54bccf9e8bd87914fa9f9f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/077344341afcae1dca54bccf9e8bd87914fa9f9f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2ccc6e0a57660aaf84c70208bb98c5eb4285de3a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2ccc6e0a57660aaf84c70208bb98c5eb4285de3a", "html_url": "https://github.com/rust-lang/rust/commit/2ccc6e0a57660aaf84c70208bb98c5eb4285de3a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2ccc6e0a57660aaf84c70208bb98c5eb4285de3a/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac60d53c65fe499660ea6b508200283bb3cdb19d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac60d53c65fe499660ea6b508200283bb3cdb19d", "html_url": "https://github.com/rust-lang/rust/commit/ac60d53c65fe499660ea6b508200283bb3cdb19d"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "a30b910b347ebfa36de0d5b3b4d61e191b873674", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/2ccc6e0a57660aaf84c70208bb98c5eb4285de3a/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ccc6e0a57660aaf84c70208bb98c5eb4285de3a/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=2ccc6e0a57660aaf84c70208bb98c5eb4285de3a", "patch": "@@ -469,11 +469,11 @@ pub impl Parser {\n                 either::Left(p.parse_arg_general(false))\n             };\n             // XXX: Wrong. Shouldn't allow both static and self_ty\n-            let self_ty = if is_static { static_sty } else { self_ty };\n-\n-            if self_ty.node == sty_by_ref {\n-                self.obsolete(self_ty.span, ObsoleteImplicitSelf);\n-            }\n+            let self_ty = if is_static || self_ty.node == sty_by_ref {\n+                static_sty\n+            } else {\n+                self_ty\n+            };\n \n             let hi = p.last_span.hi;\n             debug!(\"parse_trait_methods(): trait method signature ends in \\\n@@ -2983,11 +2983,11 @@ pub impl Parser {\n             p.parse_arg()\n         };\n         // XXX: interaction between staticness, self_ty is broken now\n-        let self_ty = if is_static { static_sty} else { self_ty };\n-\n-        if self_ty.node == sty_by_ref {\n-            self.obsolete(self_ty.span, ObsoleteImplicitSelf);\n-        }\n+        let self_ty = if is_static || self_ty.node == sty_by_ref {\n+            static_sty\n+        } else {\n+            self_ty\n+        };\n \n         let (inner_attrs, body) = self.parse_inner_attrs_and_block(true);\n         let hi = body.span.hi;"}]}