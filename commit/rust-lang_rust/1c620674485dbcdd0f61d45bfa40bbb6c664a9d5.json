{"sha": "1c620674485dbcdd0f61d45bfa40bbb6c664a9d5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFjNjIwNjc0NDg1ZGJjZGQwZjYxZDQ1YmZhNDBiYmI2YzY2NGE5ZDU=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-02-25T07:54:52Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-02-25T13:30:48Z"}, "message": "Rollup merge of #48491 - glaubitz:s390x-linux, r=sanxiyn\n\ntest: Fix s390x-unknown-linux-gnu atomic-lock-free test not run for systemz\n\nThe s390-unknown-linux-gnu atomic-lock-free test is currently run for ```LLVM_COMPONENTS == powerpc```. I assume it was meant to be run for ```LLVM_COMPONENTS == systemz```, so let's fix this.", "tree": {"sha": "52c58ead7dbec06f769c61d7a134e5c2ba7eacf3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/52c58ead7dbec06f769c61d7a134e5c2ba7eacf3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1c620674485dbcdd0f61d45bfa40bbb6c664a9d5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlqSuogACgkQ/vbIBR0O\nATxH9BAAjmtAD00QRHbj7mtMURQnV2Dpaxd5p1q9e0qMEsUShSPgQV3E3I80u/WN\n1Y9ryqWMVWDso/Lf3urzNHOwBZ8qXH7KNuFR/9VdtNDtKLZK6pZL9gYddGPb033z\nsnZ0nspPhaglWMCtxubStQR299afhBKtgmwCrVcaXCdLJVCEYMs4f1U4JtZ+n/sL\nSm0bB5KSTgy9E7AsLuOsAsS9gk3DEbb0Ha/hL4FkKjbobJhSHeHDuiJspcv/n+Gw\nvIJBPxXyWeZxrvJWrpy67JCAVuW4clAK1IQ49dIXmN7yvPYz/MJs1L2xVkVUEATI\nzj42RLM1rtuXEUKvnUjkrDvGx+cVX3sq0iIhFLdRHMqrh7HHFY4g5QctgxkFVjU0\nkj3CGkpDqRCHZMnnCOyD77DOWiMDFGcPXkCcsMEE+DuxT0k3B4H2wjZKcbqYQBtV\nXGmIuj5WywANMZV/wJ5U/GGadU7PPr8e7WBithlM7MH05T8kIV1gDf6FIMyTYqFa\nS58LZsMEmNe6TdRvmEEgfzV/NURHYCU5sMqKDtK8J9kKcuq3NA8PWLj2Hc66bTbB\nTLYkpxJdNP3UItEsb5B6azQfY5Q0AEHLMb2IkLsb0yvKGbqeDxC/AiDe1cwUQfiK\n9BTUefk/vC/gFvxp5w8H7Lz2eoEx8LJG2T5wi3kSW/CLKaGIU8M=\n=tUMF\n-----END PGP SIGNATURE-----", "payload": "tree 52c58ead7dbec06f769c61d7a134e5c2ba7eacf3\nparent 266386a10e8129a9c3c060362d4d170160b1002d\nparent e3781c65852f7624fd58b723b66be7470cb41ea0\nauthor kennytm <kennytm@gmail.com> 1519545292 +0800\ncommitter kennytm <kennytm@gmail.com> 1519565448 +0800\n\nRollup merge of #48491 - glaubitz:s390x-linux, r=sanxiyn\n\ntest: Fix s390x-unknown-linux-gnu atomic-lock-free test not run for systemz\n\nThe s390-unknown-linux-gnu atomic-lock-free test is currently run for ```LLVM_COMPONENTS == powerpc```. I assume it was meant to be run for ```LLVM_COMPONENTS == systemz```, so let's fix this.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1c620674485dbcdd0f61d45bfa40bbb6c664a9d5", "html_url": "https://github.com/rust-lang/rust/commit/1c620674485dbcdd0f61d45bfa40bbb6c664a9d5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1c620674485dbcdd0f61d45bfa40bbb6c664a9d5/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "266386a10e8129a9c3c060362d4d170160b1002d", "url": "https://api.github.com/repos/rust-lang/rust/commits/266386a10e8129a9c3c060362d4d170160b1002d", "html_url": "https://github.com/rust-lang/rust/commit/266386a10e8129a9c3c060362d4d170160b1002d"}, {"sha": "e3781c65852f7624fd58b723b66be7470cb41ea0", "url": "https://api.github.com/repos/rust-lang/rust/commits/e3781c65852f7624fd58b723b66be7470cb41ea0", "html_url": "https://github.com/rust-lang/rust/commit/e3781c65852f7624fd58b723b66be7470cb41ea0"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "63b8608afc7638b24ec45d24cae3a230d65ced3a", "filename": "src/test/run-make/atomic-lock-free/Makefile", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1c620674485dbcdd0f61d45bfa40bbb6c664a9d5/src%2Ftest%2Frun-make%2Fatomic-lock-free%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/1c620674485dbcdd0f61d45bfa40bbb6c664a9d5/src%2Ftest%2Frun-make%2Fatomic-lock-free%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fatomic-lock-free%2FMakefile?ref=1c620674485dbcdd0f61d45bfa40bbb6c664a9d5", "patch": "@@ -36,6 +36,8 @@ ifeq ($(filter powerpc,$(LLVM_COMPONENTS)),powerpc)\n \tnm \"$(TMPDIR)/libatomic_lock_free.rlib\" | $(CGREP) -v __atomic_fetch_add\n \t$(RUSTC) --target=powerpc64le-unknown-linux-gnu atomic_lock_free.rs\n \tnm \"$(TMPDIR)/libatomic_lock_free.rlib\" | $(CGREP) -v __atomic_fetch_add\n+endif\n+ifeq ($(filter systemz,$(LLVM_COMPONENTS)),systemz)\n \t$(RUSTC) --target=s390x-unknown-linux-gnu atomic_lock_free.rs\n \tnm \"$(TMPDIR)/libatomic_lock_free.rlib\" | $(CGREP) -v __atomic_fetch_add\n endif"}]}