{"sha": "8bf6d353772aacc15c78919e3d2f2db0528484b1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhiZjZkMzUzNzcyYWFjYzE1Yzc4OTE5ZTNkMmYyZGIwNTI4NDg0YjE=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-10-14T21:48:45Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-10-14T21:48:45Z"}, "message": "Tweak heuristics for less noise", "tree": {"sha": "a623f49784a95d9282182a985ad99bd073af1157", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a623f49784a95d9282182a985ad99bd073af1157"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8bf6d353772aacc15c78919e3d2f2db0528484b1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8bf6d353772aacc15c78919e3d2f2db0528484b1", "html_url": "https://github.com/rust-lang/rust/commit/8bf6d353772aacc15c78919e3d2f2db0528484b1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8bf6d353772aacc15c78919e3d2f2db0528484b1/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6dd718ca7937fc1a769d65b06396cf64f45f94ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/6dd718ca7937fc1a769d65b06396cf64f45f94ba", "html_url": "https://github.com/rust-lang/rust/commit/6dd718ca7937fc1a769d65b06396cf64f45f94ba"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "84400091100e6047c556977331e3ae3618e0e39b", "filename": "src/librustc_errors/emitter.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Flibrustc_errors%2Femitter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Flibrustc_errors%2Femitter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Femitter.rs?ref=8bf6d353772aacc15c78919e3d2f2db0528484b1", "patch": "@@ -2064,9 +2064,9 @@ pub fn is_case_difference(sm: &dyn SourceMapper, suggested: &str, sp: Span) -> b\n     // FIXME: this should probably be extended to also account for `FO0` \u2192 `FOO` and unicode.\n     let found = sm.span_to_snippet(sp).unwrap();\n     let ascii_confusables = &['c', 'f', 'i', 'k', 'o', 's', 'u', 'v', 'w', 'x', 'y', 'z'];\n-    // There are ASCII chars that are confusable (above) and differ in capitalization:\n-    let confusable = found.chars().zip(suggested.chars()).any(|(f, s)| {\n-        (ascii_confusables.contains(&f) || ascii_confusables.contains(&s)) && f != s\n+    // All the chars that differ in capitalization are confusable (above):\n+    let confusable = found.chars().zip(suggested.chars()).filter(|(f, s)| f != s).all(|(f, s)| {\n+        (ascii_confusables.contains(&f) || ascii_confusables.contains(&s))\n     });\n     confusable && found.to_lowercase() == suggested.to_lowercase()\n             // FIXME: We sometimes suggest the same thing we already have, which is a"}, {"sha": "2fbb19322442b3dcab4fef3ab2280ff572dce32e", "filename": "src/test/ui/consts/const-eval/const_fn_ptr.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_fn_ptr.stderr?ref=8bf6d353772aacc15c78919e3d2f2db0528484b1", "patch": "@@ -20,7 +20,7 @@ warning: constant `X_const` should have an upper case name\n   --> $DIR/const_fn_ptr.rs:9:7\n    |\n LL | const X_const: fn(usize) -> usize = double_const;\n-   |       ^^^^^^^ help: convert the identifier to upper case (notice the capitalization): `X_CONST`\n+   |       ^^^^^^^ help: convert the identifier to upper case: `X_CONST`\n    |\n    = note: `#[warn(non_upper_case_globals)]` on by default\n "}, {"sha": "d5b8c0efaad37b8c2264c65cfe4f3c352c348053", "filename": "src/test/ui/enable-unstable-lib-feature.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Fenable-unstable-lib-feature.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Fenable-unstable-lib-feature.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fenable-unstable-lib-feature.stderr?ref=8bf6d353772aacc15c78919e3d2f2db0528484b1", "patch": "@@ -2,7 +2,7 @@ error: function `BOGUS` should have a snake case name\n   --> $DIR/enable-unstable-lib-feature.rs:11:8\n    |\n LL | pub fn BOGUS() { }\n-   |        ^^^^^ help: convert the identifier to snake case (notice the capitalization): `bogus`\n+   |        ^^^^^ help: convert the identifier to snake case: `bogus`\n    |\n note: lint level defined here\n   --> $DIR/enable-unstable-lib-feature.rs:6:9"}, {"sha": "d95510ccd2d257324043ea184bf3cd1e1aae033a", "filename": "src/test/ui/lint/lint-lowercase-static-const-pattern.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Flint-lowercase-static-const-pattern.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Flint-lowercase-static-const-pattern.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-lowercase-static-const-pattern.stderr?ref=8bf6d353772aacc15c78919e3d2f2db0528484b1", "patch": "@@ -20,7 +20,7 @@ error: constant in pattern `not_okay` should have an upper case name\n   --> $DIR/lint-lowercase-static-const-pattern.rs:40:13\n    |\n LL |         (0, not_okay) => 0,\n-   |             ^^^^^^^^ help: convert the identifier to upper case (notice the capitalization): `NOT_OKAY`\n+   |             ^^^^^^^^ help: convert the identifier to upper case: `NOT_OKAY`\n \n error: aborting due to 3 previous errors\n "}, {"sha": "c5eca89debb82c3b49ad7f26adbbe7722e81f162", "filename": "src/test/ui/lint/lint-non-snake-case-functions.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Flint-non-snake-case-functions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Flint-non-snake-case-functions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-non-snake-case-functions.stderr?ref=8bf6d353772aacc15c78919e3d2f2db0528484b1", "patch": "@@ -2,7 +2,7 @@ error: method `Foo_Method` should have a snake case name\n   --> $DIR/lint-non-snake-case-functions.rs:7:8\n    |\n LL |     fn Foo_Method() {}\n-   |        ^^^^^^^^^^ help: convert the identifier to snake case (notice the capitalization): `foo_method`\n+   |        ^^^^^^^^^^ help: convert the identifier to snake case: `foo_method`\n    |\n note: lint level defined here\n   --> $DIR/lint-non-snake-case-functions.rs:1:9\n@@ -32,7 +32,7 @@ error: trait method `ABC` should have a snake case name\n   --> $DIR/lint-non-snake-case-functions.rs:22:8\n    |\n LL |     fn ABC();\n-   |        ^^^ help: convert the identifier to snake case (notice the capitalization): `abc`\n+   |        ^^^ help: convert the identifier to snake case: `abc`\n \n error: trait method `a_b_C` should have a snake case name\n   --> $DIR/lint-non-snake-case-functions.rs:25:8"}, {"sha": "2185d5a0ab48f6a8118dc96a59b063196dc781bc", "filename": "src/test/ui/lint/lint-non-uppercase-associated-const.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Flint-non-uppercase-associated-const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Flint-non-uppercase-associated-const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-non-uppercase-associated-const.stderr?ref=8bf6d353772aacc15c78919e3d2f2db0528484b1", "patch": "@@ -2,7 +2,7 @@ error: associated constant `not_upper` should have an upper case name\n   --> $DIR/lint-non-uppercase-associated-const.rs:7:11\n    |\n LL |     const not_upper: bool = true;\n-   |           ^^^^^^^^^ help: convert the identifier to upper case (notice the capitalization): `NOT_UPPER`\n+   |           ^^^^^^^^^ help: convert the identifier to upper case: `NOT_UPPER`\n    |\n note: lint level defined here\n   --> $DIR/lint-non-uppercase-associated-const.rs:1:9"}, {"sha": "5016d9b97d69e661c04f47bf62ac8da54e148715", "filename": "src/test/ui/lint/not_found.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Fnot_found.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bf6d353772aacc15c78919e3d2f2db0528484b1/src%2Ftest%2Fui%2Flint%2Fnot_found.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fnot_found.stderr?ref=8bf6d353772aacc15c78919e3d2f2db0528484b1", "patch": "@@ -10,7 +10,7 @@ warning: unknown lint: `DEAD_CODE`\n   --> $DIR/not_found.rs:8:8\n    |\n LL | #[warn(DEAD_CODE)]\n-   |        ^^^^^^^^^ help: did you mean (notice the capitalization): `dead_code`\n+   |        ^^^^^^^^^ help: did you mean: `dead_code`\n \n warning: unknown lint: `Warnings`\n   --> $DIR/not_found.rs:10:8"}]}