{"sha": "8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhmOWYyZmU5N2U3OGJkN2RiZGZjNDc3Yjc2NWQ1ZTZkYzkzMGI5ZWI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-07T20:59:20Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-07T20:59:20Z"}, "message": "Auto merge of #25912 - tshepang:better-str-examples, r=bluss", "tree": {"sha": "10c79baf46faf79dec18c4bb9b6fc391f81cd142", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/10c79baf46faf79dec18c4bb9b6fc391f81cd142"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb", "html_url": "https://github.com/rust-lang/rust/commit/8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "776f87ef9eb3343df3f412262bd8ac9ef3e0f332", "url": "https://api.github.com/repos/rust-lang/rust/commits/776f87ef9eb3343df3f412262bd8ac9ef3e0f332", "html_url": "https://github.com/rust-lang/rust/commit/776f87ef9eb3343df3f412262bd8ac9ef3e0f332"}, {"sha": "0335a94a6803b83f3ec91391aea5473c9846bb18", "url": "https://api.github.com/repos/rust-lang/rust/commits/0335a94a6803b83f3ec91391aea5473c9846bb18", "html_url": "https://github.com/rust-lang/rust/commit/0335a94a6803b83f3ec91391aea5473c9846bb18"}], "stats": {"total": 78, "additions": 28, "deletions": 50}, "files": [{"sha": "8640a56cd09018d08fc8046e04af0b9a6a1e82db", "filename": "src/libcollections/str.rs", "status": "modified", "additions": 28, "deletions": 50, "changes": 78, "blob_url": "https://github.com/rust-lang/rust/blob/8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb/src%2Flibcollections%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb/src%2Flibcollections%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fstr.rs?ref=8f9f2fe97e78bd7dbdfc477b765d5e6dc930b9eb", "patch": "@@ -640,17 +640,20 @@ impl str {\n     ///\n     /// let v: Vec<&str> = \"lion::tiger::leopard\".split(\"::\").collect();\n     /// assert_eq!(v, [\"lion\", \"tiger\", \"leopard\"]);\n-    /// ```\n-    ///\n-    /// More complex patterns with closures:\n     ///\n-    /// ```\n-    /// let v: Vec<&str> = \"abc1def2ghi\".split(|c: char| c.is_numeric()).collect();\n+    /// let v: Vec<&str> = \"abc1def2ghi\".split(char::is_numeric).collect();\n     /// assert_eq!(v, [\"abc\", \"def\", \"ghi\"]);\n     ///\n     /// let v: Vec<&str> = \"lionXtigerXleopard\".split(char::is_uppercase).collect();\n     /// assert_eq!(v, [\"lion\", \"tiger\", \"leopard\"]);\n     /// ```\n+    ///\n+    /// A more complex pattern, using a closure:\n+    ///\n+    /// ```\n+    /// let v: Vec<&str> = \"abc1defXghi\".split(|c| c == '1' || c == 'X').collect();\n+    /// assert_eq!(v, [\"abc\", \"def\", \"ghi\"]);\n+    /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn split<'a, P: Pattern<'a>>(&'a self, pat: P) -> Split<'a, P> {\n         core_str::StrExt::split(&self[..], pat)\n@@ -691,14 +694,11 @@ impl str {\n     /// assert_eq!(v, [\"leopard\", \"tiger\", \"lion\"]);\n     /// ```\n     ///\n-    /// More complex patterns with closures:\n+    /// A more complex pattern, using a closure:\n     ///\n-    /// ```rust\n-    /// let v: Vec<&str> = \"abc1def2ghi\".rsplit(|c: char| c.is_numeric()).collect();\n+    /// ```\n+    /// let v: Vec<&str> = \"abc1defXghi\".rsplit(|c| c == '1' || c == 'X').collect();\n     /// assert_eq!(v, [\"ghi\", \"def\", \"abc\"]);\n-    ///\n-    /// let v: Vec<&str> = \"lionXtigerXleopard\".rsplit(char::is_uppercase).collect();\n-    /// assert_eq!(v, [\"leopard\", \"tiger\", \"lion\"]);\n     /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn rsplit<'a, P: Pattern<'a>>(&'a self, pat: P) -> RSplit<'a, P>\n@@ -733,22 +733,13 @@ impl str {\n     ///\n     /// # Examples\n     ///\n-    /// Simple patterns:\n-    ///\n     /// ```\n     /// let v: Vec<&str> = \"A.B.\".split_terminator('.').collect();\n     /// assert_eq!(v, [\"A\", \"B\"]);\n     ///\n     /// let v: Vec<&str> = \"A..B..\".split_terminator(\".\").collect();\n     /// assert_eq!(v, [\"A\", \"\", \"B\", \"\"]);\n     /// ```\n-    ///\n-    /// More complex patterns with closures:\n-    ///\n-    /// ```\n-    /// let v: Vec<&str> = \"abc1def2ghi3\".split_terminator(|c: char| c.is_numeric()).collect();\n-    /// assert_eq!(v, [\"abc\", \"def\", \"ghi\"]);\n-    /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn split_terminator<'a, P: Pattern<'a>>(&'a self, pat: P) -> SplitTerminator<'a, P> {\n         core_str::StrExt::split_terminator(&self[..], pat)\n@@ -778,22 +769,13 @@ impl str {\n     ///\n     /// # Examples\n     ///\n-    /// Simple patterns:\n-    ///\n     /// ```\n     /// let v: Vec<&str> = \"A.B.\".rsplit_terminator('.').collect();\n     /// assert_eq!(v, [\"B\", \"A\"]);\n     ///\n     /// let v: Vec<&str> = \"A..B..\".rsplit_terminator(\".\").collect();\n     /// assert_eq!(v, [\"\", \"B\", \"\", \"A\"]);\n     /// ```\n-    ///\n-    /// More complex patterns with closures:\n-    ///\n-    /// ```\n-    /// let v: Vec<&str> = \"abc1def2ghi3\".rsplit_terminator(|c: char| c.is_numeric()).collect();\n-    /// assert_eq!(v, [\"ghi\", \"def\", \"abc\"]);\n-    /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn rsplit_terminator<'a, P: Pattern<'a>>(&'a self, pat: P) -> RSplitTerminator<'a, P>\n         where P::Searcher: ReverseSearcher<'a>\n@@ -837,11 +819,11 @@ impl str {\n     /// assert_eq!(v, [\"\"]);\n     /// ```\n     ///\n-    /// More complex patterns with closures:\n+    /// A more complex pattern, using a closure:\n     ///\n     /// ```\n-    /// let v: Vec<&str> = \"abc1def2ghi\".splitn(2, |c: char| c.is_numeric()).collect();\n-    /// assert_eq!(v, [\"abc\", \"def2ghi\"]);\n+    /// let v: Vec<&str> = \"abc1defXghi\".splitn(2, |c| c == '1' || c == 'X').collect();\n+    /// assert_eq!(v, [\"abc\", \"defXghi\"]);\n     /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn splitn<'a, P: Pattern<'a>>(&'a self, count: usize, pat: P) -> SplitN<'a, P> {\n@@ -882,10 +864,10 @@ impl str {\n     /// assert_eq!(v, [\"leopard\", \"lion::tiger\"]);\n     /// ```\n     ///\n-    /// More complex patterns with closures:\n+    /// A more complex pattern, using a closure:\n     ///\n     /// ```\n-    /// let v: Vec<&str> = \"abc1def2ghi\".rsplitn(2, |c: char| c.is_numeric()).collect();\n+    /// let v: Vec<&str> = \"abc1defXghi\".rsplitn(2, |c| c == '1' || c == 'X').collect();\n     /// assert_eq!(v, [\"ghi\", \"abc1def\"]);\n     /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n@@ -920,7 +902,7 @@ impl str {\n     /// let v: Vec<&str> = \"abcXXXabcYYYabc\".matches(\"abc\").collect();\n     /// assert_eq!(v, [\"abc\", \"abc\", \"abc\"]);\n     ///\n-    /// let v: Vec<&str> = \"1abc2abc3\".matches(|c: char| c.is_numeric()).collect();\n+    /// let v: Vec<&str> = \"1abc2abc3\".matches(char::is_numeric).collect();\n     /// assert_eq!(v, [\"1\", \"2\", \"3\"]);\n     /// ```\n     #[unstable(feature = \"collections\",\n@@ -953,7 +935,7 @@ impl str {\n     /// let v: Vec<&str> = \"abcXXXabcYYYabc\".rmatches(\"abc\").collect();\n     /// assert_eq!(v, [\"abc\", \"abc\", \"abc\"]);\n     ///\n-    /// let v: Vec<&str> = \"1abc2abc3\".rmatches(|c: char| c.is_numeric()).collect();\n+    /// let v: Vec<&str> = \"1abc2abc3\".rmatches(char::is_numeric).collect();\n     /// assert_eq!(v, [\"3\", \"2\", \"1\"]);\n     /// ```\n     #[unstable(feature = \"collections\",\n@@ -1199,15 +1181,16 @@ impl str {\n     ///\n     /// ```\n     /// assert_eq!(\"11foo1bar11\".trim_matches('1'), \"foo1bar\");\n+    /// assert_eq!(\"123foo1bar123\".trim_matches(char::is_numeric), \"foo1bar\");\n     ///\n     /// let x: &[_] = &['1', '2'];\n     /// assert_eq!(\"12foo1bar12\".trim_matches(x), \"foo1bar\");\n     /// ```\n     ///\n-    /// More complex patterns with closures:\n+    /// A more complex pattern, using a closure:\n     ///\n     /// ```\n-    /// assert_eq!(\"123foo1bar123\".trim_matches(|c: char| c.is_numeric()), \"foo1bar\");\n+    /// assert_eq!(\"1foo1barXX\".trim_matches(|c| c == '1' || c == 'X'), \"foo1bar\");\n     /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn trim_matches<'a, P: Pattern<'a>>(&'a self, pat: P) -> &'a str\n@@ -1224,20 +1207,13 @@ impl str {\n     ///\n     /// # Examples\n     ///\n-    /// Simple patterns:\n-    ///\n     /// ```\n     /// assert_eq!(\"11foo1bar11\".trim_left_matches('1'), \"foo1bar11\");\n+    /// assert_eq!(\"123foo1bar123\".trim_left_matches(char::is_numeric), \"foo1bar123\");\n     ///\n     /// let x: &[_] = &['1', '2'];\n     /// assert_eq!(\"12foo1bar12\".trim_left_matches(x), \"foo1bar12\");\n     /// ```\n-    ///\n-    /// More complex patterns with closures:\n-    ///\n-    /// ```\n-    /// assert_eq!(\"123foo1bar123\".trim_left_matches(|c: char| c.is_numeric()), \"foo1bar123\");\n-    /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn trim_left_matches<'a, P: Pattern<'a>>(&'a self, pat: P) -> &'a str {\n         core_str::StrExt::trim_left_matches(&self[..], pat)\n@@ -1255,14 +1231,16 @@ impl str {\n     ///\n     /// ```\n     /// assert_eq!(\"11foo1bar11\".trim_right_matches('1'), \"11foo1bar\");\n+    /// assert_eq!(\"123foo1bar123\".trim_right_matches(char::is_numeric), \"123foo1bar\");\n+    ///\n     /// let x: &[_] = &['1', '2'];\n     /// assert_eq!(\"12foo1bar12\".trim_right_matches(x), \"12foo1bar\");\n     /// ```\n     ///\n-    /// More complex patterns with closures:\n+    /// A more complex pattern, using a closure:\n     ///\n     /// ```\n-    /// assert_eq!(\"123foo1bar123\".trim_right_matches(|c: char| c.is_numeric()), \"123foo1bar\");\n+    /// assert_eq!(\"1fooX\".trim_left_matches(|c| c == '1' || c == 'X'), \"fooX\");\n     /// ```\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn trim_right_matches<'a, P: Pattern<'a>>(&'a self, pat: P) -> &'a str\n@@ -1499,7 +1477,7 @@ impl str {\n     /// ```\n     /// let s = \"L\u00f6we \u8001\u864e L\u00e9opard\";\n     ///\n-    /// assert_eq!(s.find(|c: char| c.is_whitespace()), Some(5));\n+    /// assert_eq!(s.find(char::is_whitespace), Some(5));\n     /// assert_eq!(s.find(char::is_lowercase), Some(1));\n     /// ```\n     ///\n@@ -1541,7 +1519,7 @@ impl str {\n     /// ```\n     /// let s = \"L\u00f6we \u8001\u864e L\u00e9opard\";\n     ///\n-    /// assert_eq!(s.rfind(|c: char| c.is_whitespace()), Some(12));\n+    /// assert_eq!(s.rfind(char::is_whitespace), Some(12));\n     /// assert_eq!(s.rfind(char::is_lowercase), Some(20));\n     /// ```\n     ///"}]}