{"sha": "257a607e3ecf6a89c80cf9072804273ae7e62247", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI1N2E2MDdlM2VjZjZhODljODBjZjkwNzI4MDQyNzNhZTdlNjIyNDc=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-08-13T17:40:40Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-08-13T17:40:40Z"}, "message": "Change build.sh a bit", "tree": {"sha": "baad232071f8433b748cbfb011f29b8724d863cc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/baad232071f8433b748cbfb011f29b8724d863cc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/257a607e3ecf6a89c80cf9072804273ae7e62247", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/257a607e3ecf6a89c80cf9072804273ae7e62247", "html_url": "https://github.com/rust-lang/rust/commit/257a607e3ecf6a89c80cf9072804273ae7e62247", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/257a607e3ecf6a89c80cf9072804273ae7e62247/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b9d7164eff9974ca10693d87e7c980a3ebad48dd", "url": "https://api.github.com/repos/rust-lang/rust/commits/b9d7164eff9974ca10693d87e7c980a3ebad48dd", "html_url": "https://github.com/rust-lang/rust/commit/b9d7164eff9974ca10693d87e7c980a3ebad48dd"}], "stats": {"total": 18, "additions": 8, "deletions": 10}, "files": [{"sha": "d282c788c369f0be1afa94717ded2c1899c5ada5", "filename": "build.sh", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/257a607e3ecf6a89c80cf9072804273ae7e62247/build.sh", "raw_url": "https://github.com/rust-lang/rust/raw/257a607e3ecf6a89c80cf9072804273ae7e62247/build.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build.sh?ref=257a607e3ecf6a89c80cf9072804273ae7e62247", "patch": "@@ -2,8 +2,6 @@\n \n cargo build || exit 1\n \n-cd examples/\n-\n unamestr=`uname`\n if [[ \"$unamestr\" == 'Linux' ]]; then\n    dylib_ext='so'\n@@ -14,12 +12,12 @@ else\n    exit 1\n fi\n \n-RUSTC=\"rustc -Zcodegen-backend=$(pwd)/../target/debug/librustc_codegen_cranelift.$dylib_ext -L crate=.\"\n+RUSTC=\"rustc -Zcodegen-backend=$(pwd)/target/debug/librustc_codegen_cranelift.$dylib_ext -L crate=.\"\n \n-$RUSTC mini_core.rs --crate-name mini_core --crate-type lib &&\n-$RUSTC example.rs --crate-type lib &&\n-$RUSTC mini_core_hello_world.rs --crate-type bin &&\n+$RUSTC examples/mini_core.rs --crate-name mini_core --crate-type lib &&\n+$RUSTC examples/example.rs --crate-type lib &&\n+$RUSTC examples/mini_core_hello_world.rs --crate-type bin &&\n \n-$RUSTC ../target/libcore/src/libcore/lib.rs --color=always --crate-type lib -Cincremental=../target/libcore/incremental 2>&1 | (head -n 20; echo \"====\"; tail -n 1000)\n-cat ../target/log.txt | sort | uniq -c | grep -v \"rval unsize move\" | grep -v \"rval len\"\n-rm *.rlib ../target/log.txt\n+$RUSTC target/libcore/src/libcore/lib.rs --color=always --crate-type lib -Cincremental=target/libcore/incremental 2>&1 | (head -n 20; echo \"====\"; tail -n 1000)\n+cat target/log.txt | sort | uniq -c | grep -v \"rval unsize move\" | grep -v \"rval len\"\n+rm *.rlib target/log.txt"}, {"sha": "1f202dc9c4bc328be1575ee0e21bb62e6bf0c3ca", "filename": "src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/257a607e3ecf6a89c80cf9072804273ae7e62247/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/257a607e3ecf6a89c80cf9072804273ae7e62247/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=257a607e3ecf6a89c80cf9072804273ae7e62247", "patch": "@@ -255,7 +255,7 @@ impl CodegenBackend for CraneliftCodegenBackend {\n                 defined_functions: Vec::new(),\n             };\n \n-            let mut log = ::std::fs::File::create(\"../target/log.txt\").unwrap();\n+            let mut log = ::std::fs::File::create(\"target/log.txt\").unwrap();\n \n             let before = ::std::time::Instant::now();\n             let mono_items ="}]}