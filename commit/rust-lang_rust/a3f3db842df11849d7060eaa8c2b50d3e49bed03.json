{"sha": "a3f3db842df11849d7060eaa8c2b50d3e49bed03", "node_id": "C_kwDOAAsO6NoAKGEzZjNkYjg0MmRmMTE4NDlkNzA2MGVhYThjMmI1MGQzZTQ5YmVkMDM", "commit": {"author": {"name": "John Millikin", "email": "john@john-millikin.com", "date": "2023-03-18T03:22:53Z"}, "committer": {"name": "John Millikin", "email": "john@john-millikin.com", "date": "2023-03-18T03:32:09Z"}, "message": "Stabilise `unix_socket_abstract`\n\nFixes https://github.com/rust-lang/rust/issues/85410", "tree": {"sha": "3fc5b0ec612f8f29dec90a8ea7ee0ef990076032", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3fc5b0ec612f8f29dec90a8ea7ee0ef990076032"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a3f3db842df11849d7060eaa8c2b50d3e49bed03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a3f3db842df11849d7060eaa8c2b50d3e49bed03", "html_url": "https://github.com/rust-lang/rust/commit/a3f3db842df11849d7060eaa8c2b50d3e49bed03", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a3f3db842df11849d7060eaa8c2b50d3e49bed03/comments", "author": {"login": "jmillikin", "id": 646128, "node_id": "MDQ6VXNlcjY0NjEyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/646128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmillikin", "html_url": "https://github.com/jmillikin", "followers_url": "https://api.github.com/users/jmillikin/followers", "following_url": "https://api.github.com/users/jmillikin/following{/other_user}", "gists_url": "https://api.github.com/users/jmillikin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmillikin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmillikin/subscriptions", "organizations_url": "https://api.github.com/users/jmillikin/orgs", "repos_url": "https://api.github.com/users/jmillikin/repos", "events_url": "https://api.github.com/users/jmillikin/events{/privacy}", "received_events_url": "https://api.github.com/users/jmillikin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jmillikin", "id": 646128, "node_id": "MDQ6VXNlcjY0NjEyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/646128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmillikin", "html_url": "https://github.com/jmillikin", "followers_url": "https://api.github.com/users/jmillikin/followers", "following_url": "https://api.github.com/users/jmillikin/following{/other_user}", "gists_url": "https://api.github.com/users/jmillikin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmillikin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmillikin/subscriptions", "organizations_url": "https://api.github.com/users/jmillikin/orgs", "repos_url": "https://api.github.com/users/jmillikin/repos", "events_url": "https://api.github.com/users/jmillikin/events{/privacy}", "received_events_url": "https://api.github.com/users/jmillikin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "13afbdaa0655dda23d7129e59ac48f1ec88b2084", "url": "https://api.github.com/repos/rust-lang/rust/commits/13afbdaa0655dda23d7129e59ac48f1ec88b2084", "html_url": "https://github.com/rust-lang/rust/commit/13afbdaa0655dda23d7129e59ac48f1ec88b2084"}], "stats": {"total": 35, "additions": 15, "deletions": 20}, "files": [{"sha": "4e88ab8ff5c5204c1fd7f2fa4d99a0d8f96f36be", "filename": "library/std/src/os/android/net.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Fandroid%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Fandroid%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fandroid%2Fnet.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -1,8 +1,8 @@\n //! Android-specific networking functionality.\n \n-#![unstable(feature = \"tcp_quickack\", issue = \"96256\")]\n+#![stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n \n-#[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+#[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n pub use crate::os::net::linux_ext::addr::SocketAddrExt;\n \n #[unstable(feature = \"tcp_quickack\", issue = \"96256\")]"}, {"sha": "fcb3bb8348558cedcb7cd8e41b10d684054a49a5", "filename": "library/std/src/os/linux/net.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Flinux%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Flinux%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Flinux%2Fnet.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -1,8 +1,8 @@\n //! Linux-specific networking functionality.\n \n-#![unstable(feature = \"tcp_quickack\", issue = \"96256\")]\n+#![stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n \n-#[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+#[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n pub use crate::os::net::linux_ext::addr::SocketAddrExt;\n \n #[unstable(feature = \"tcp_quickack\", issue = \"96256\")]"}, {"sha": "ea8102c9cc0aff771b3376d9f06406973ba4ea72", "filename": "library/std/src/os/net/linux_ext/addr.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Fnet%2Flinux_ext%2Faddr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Fnet%2Flinux_ext%2Faddr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fnet%2Flinux_ext%2Faddr.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -4,7 +4,7 @@ use crate::os::unix::net::SocketAddr;\n use crate::sealed::Sealed;\n \n /// Platform-specific extensions to [`SocketAddr`].\n-#[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+#[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n pub trait SocketAddrExt: Sealed {\n     /// Creates a Unix socket address in the abstract namespace.\n     ///\n@@ -22,7 +22,6 @@ pub trait SocketAddrExt: Sealed {\n     /// # Examples\n     ///\n     /// ```no_run\n-    /// #![feature(unix_socket_abstract)]\n     /// use std::os::unix::net::{UnixListener, SocketAddr};\n     /// use std::os::linux::net::SocketAddrExt;\n     ///\n@@ -38,6 +37,7 @@ pub trait SocketAddrExt: Sealed {\n     ///     Ok(())\n     /// }\n     /// ```\n+    #[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n     fn from_abstract_name<N>(name: N) -> crate::io::Result<SocketAddr>\n     where\n         N: AsRef<[u8]>;\n@@ -47,7 +47,6 @@ pub trait SocketAddrExt: Sealed {\n     /// # Examples\n     ///\n     /// ```no_run\n-    /// #![feature(unix_socket_abstract)]\n     /// use std::os::unix::net::{UnixListener, SocketAddr};\n     /// use std::os::linux::net::SocketAddrExt;\n     ///\n@@ -60,5 +59,6 @@ pub trait SocketAddrExt: Sealed {\n     ///     Ok(())\n     /// }\n     /// ```\n+    #[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n     fn as_abstract_name(&self) -> Option<&[u8]>;\n }"}, {"sha": "e7423dce6135b2219a657e40621051127523f961", "filename": "library/std/src/os/net/linux_ext/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Fnet%2Flinux_ext%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Fnet%2Flinux_ext%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fnet%2Flinux_ext%2Fmod.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -2,7 +2,7 @@\n \n #![doc(cfg(any(target_os = \"linux\", target_os = \"android\")))]\n \n-#[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+#[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n pub(crate) mod addr;\n \n #[unstable(feature = \"tcp_quickack\", issue = \"96256\")]"}, {"sha": "52a0da5bf1a65b31f4b903cf2c042f3b5e4a0dd9", "filename": "library/std/src/os/unix/net/addr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Faddr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Faddr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Faddr.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -245,12 +245,12 @@ impl SocketAddr {\n     }\n }\n \n-#[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+#[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n impl Sealed for SocketAddr {}\n \n #[doc(cfg(any(target_os = \"android\", target_os = \"linux\")))]\n #[cfg(any(doc, target_os = \"android\", target_os = \"linux\"))]\n-#[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+#[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n impl linux_ext::addr::SocketAddrExt for SocketAddr {\n     fn as_abstract_name(&self) -> Option<&[u8]> {\n         if let AddressKind::Abstract(name) = self.address() { Some(name) } else { None }"}, {"sha": "e64569758a04a11ae4fb3b67805a2414886e8b0c", "filename": "library/std/src/os/unix/net/datagram.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Fdatagram.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Fdatagram.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Fdatagram.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -102,7 +102,6 @@ impl UnixDatagram {\n     /// # Examples\n     ///\n     /// ```no_run\n-    /// #![feature(unix_socket_abstract)]\n     /// use std::os::unix::net::{UnixDatagram};\n     ///\n     /// fn main() -> std::io::Result<()> {\n@@ -119,7 +118,7 @@ impl UnixDatagram {\n     ///     Ok(())\n     /// }\n     /// ```\n-    #[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+    #[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n     pub fn bind_addr(socket_addr: &SocketAddr) -> io::Result<UnixDatagram> {\n         unsafe {\n             let socket = UnixDatagram::unbound()?;\n@@ -217,7 +216,6 @@ impl UnixDatagram {\n     /// # Examples\n     ///\n     /// ```no_run\n-    /// #![feature(unix_socket_abstract)]\n     /// use std::os::unix::net::{UnixDatagram};\n     ///\n     /// fn main() -> std::io::Result<()> {\n@@ -235,7 +233,7 @@ impl UnixDatagram {\n     ///     Ok(())\n     /// }\n     /// ```\n-    #[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+    #[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n     pub fn connect_addr(&self, socket_addr: &SocketAddr) -> io::Result<()> {\n         unsafe {\n             cvt(libc::connect(\n@@ -523,7 +521,6 @@ impl UnixDatagram {\n     /// # Examples\n     ///\n     /// ```no_run\n-    /// #![feature(unix_socket_abstract)]\n     /// use std::os::unix::net::{UnixDatagram};\n     ///\n     /// fn main() -> std::io::Result<()> {\n@@ -535,7 +532,7 @@ impl UnixDatagram {\n     ///     Ok(())\n     /// }\n     /// ```\n-    #[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+    #[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n     pub fn send_to_addr(&self, buf: &[u8], socket_addr: &SocketAddr) -> io::Result<usize> {\n         unsafe {\n             let count = cvt(libc::sendto("}, {"sha": "83f0debe6765abb0d15268062a78f1bd557c4c18", "filename": "library/std/src/os/unix/net/listener.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Flistener.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Flistener.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Flistener.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -90,7 +90,6 @@ impl UnixListener {\n     /// # Examples\n     ///\n     /// ```no_run\n-    /// #![feature(unix_socket_abstract)]\n     /// use std::os::unix::net::{UnixListener};\n     ///\n     /// fn main() -> std::io::Result<()> {\n@@ -107,7 +106,7 @@ impl UnixListener {\n     ///     Ok(())\n     /// }\n     /// ```\n-    #[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+    #[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n     pub fn bind_addr(socket_addr: &SocketAddr) -> io::Result<UnixListener> {\n         unsafe {\n             let inner = Socket::new_raw(libc::AF_UNIX, libc::SOCK_STREAM)?;"}, {"sha": "65cb4ae07a50426424f187fbe902bd99e860e083", "filename": "library/std/src/os/unix/net/stream.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Fstream.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a3f3db842df11849d7060eaa8c2b50d3e49bed03/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Fstream.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Funix%2Fnet%2Fstream.rs?ref=a3f3db842df11849d7060eaa8c2b50d3e49bed03", "patch": "@@ -106,7 +106,6 @@ impl UnixStream {\n     /// # Examples\n     ///\n     /// ```no_run\n-    /// #![feature(unix_socket_abstract)]\n     /// use std::os::unix::net::{UnixListener, UnixStream};\n     ///\n     /// fn main() -> std::io::Result<()> {\n@@ -123,7 +122,7 @@ impl UnixStream {\n     ///     Ok(())\n     /// }\n     /// ````\n-    #[unstable(feature = \"unix_socket_abstract\", issue = \"85410\")]\n+    #[stable(feature = \"unix_socket_abstract\", since = \"CURRENT_RUSTC_VERSION\")]\n     pub fn connect_addr(socket_addr: &SocketAddr) -> io::Result<UnixStream> {\n         unsafe {\n             let inner = Socket::new_raw(libc::AF_UNIX, libc::SOCK_STREAM)?;"}]}