{"sha": "9c30f127907a46fbd46534fb929dfeeca515ab0f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljMzBmMTI3OTA3YTQ2ZmJkNDY1MzRmYjkyOWRmZWVjYTUxNWFiMGY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-02-04T09:38:15Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-02-04T09:38:15Z"}, "message": "Auto merge of #31378 - nagisa:target-man, r=alexcrichton", "tree": {"sha": "5e787b496e8444011b01dd473f3d0a7f96f66835", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5e787b496e8444011b01dd473f3d0a7f96f66835"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9c30f127907a46fbd46534fb929dfeeca515ab0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9c30f127907a46fbd46534fb929dfeeca515ab0f", "html_url": "https://github.com/rust-lang/rust/commit/9c30f127907a46fbd46534fb929dfeeca515ab0f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9c30f127907a46fbd46534fb929dfeeca515ab0f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f511b21dbabfee44f3f69f4e9bcc7939c0ae72eb", "url": "https://api.github.com/repos/rust-lang/rust/commits/f511b21dbabfee44f3f69f4e9bcc7939c0ae72eb", "html_url": "https://github.com/rust-lang/rust/commit/f511b21dbabfee44f3f69f4e9bcc7939c0ae72eb"}, {"sha": "c5c756bf14e894fad65644a1f1b6ec8fc8da0536", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5c756bf14e894fad65644a1f1b6ec8fc8da0536", "html_url": "https://github.com/rust-lang/rust/commit/c5c756bf14e894fad65644a1f1b6ec8fc8da0536"}], "stats": {"total": 47, "additions": 27, "deletions": 20}, "files": [{"sha": "3d7fc7f6bf46959ef38944fc9dbb125729e22aab", "filename": "man/rustc.1", "status": "modified", "additions": 26, "deletions": 15, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/9c30f127907a46fbd46534fb929dfeeca515ab0f/man%2Frustc.1", "raw_url": "https://github.com/rust-lang/rust/raw/9c30f127907a46fbd46534fb929dfeeca515ab0f/man%2Frustc.1", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/man%2Frustc.1?ref=9c30f127907a46fbd46534fb929dfeeca515ab0f", "patch": "@@ -53,10 +53,9 @@ Comma separated list of types of crates for the compiler to emit.\n Specify the name of the crate being built.\n .TP\n \\fB\\-\\-emit\\fR [asm|llvm\\-bc|llvm\\-ir|obj|link|dep\\-info][=\\fIPATH\\fR]\n-Configure the output that \\fBrustc\\fR will produce.\n-\n-Each emission may also have an optional explicit output \\fIPATH\\fR specified for that particular\n-emission kind. This path takes precedence over the \\fB-o\\fR option.\n+Configure the output that \\fBrustc\\fR will produce. Each emission may also have\n+an optional explicit output \\fIPATH\\fR specified for that particular emission\n+kind. This path takes precedence over the \\fB-o\\fR option.\n .TP\n \\fB\\-\\-print\\fR [crate\\-name|file\\-names|sysroot]\n Comma separated list of compiler information to print on stdout.\n@@ -68,13 +67,11 @@ Equivalent to \\fI\\-C\\ debuginfo=2\\fR.\n Equivalent to \\fI\\-C\\ opt\\-level=2\\fR.\n .TP\n \\fB\\-o\\fR \\fIFILENAME\\fR\n-Write output to \\fIFILENAME\\fR.\n-Ignored if multiple \\fI\\-\\-emit\\fR outputs are specified which don't have an\n-explicit path otherwise.\n+Write output to \\fIFILENAME\\fR. Ignored if multiple \\fI\\-\\-emit\\fR outputs are specified which\n+don't have an explicit path otherwise.\n .TP\n \\fB\\-\\-out\\-dir\\fR \\fIDIR\\fR\n-Write output to compiler\\[hy]chosen filename in \\fIDIR\\fR.\n-Ignored if \\fI\\-o\\fR is specified.\n+Write output to compiler\\[hy]chosen filename in \\fIDIR\\fR. Ignored if \\fI\\-o\\fR is specified.\n Defaults to the current directory.\n .TP\n \\fB\\-\\-explain\\fR \\fIOPT\\fR\n@@ -83,12 +80,26 @@ Provide a detailed explanation of an error message.\n \\fB\\-\\-test\\fR\n Build a test harness.\n .TP\n-\\fB\\-\\-target\\fR \\fITRIPLE\\fR\n-Target triple \\fIcpu\\fR\\-\\fImanufacturer\\fR\\-\\fIkernel\\fR[\\-\\fIos\\fR]\n-to compile for (see chapter 3.4 of\n-.UR http://www.sourceware.org/autobook/\n-.UE\n-for details).\n+\\fB\\-\\-target\\fR \\fITARGET\\fR\n+Target triple for which the code is compiled. This option defaults to the host\u2019s target\n+triple. The target triple has the general format <arch><sub>\\-<vendor>\\-<sys>\\-<abi>, where:\n+.RS\n+.TP\n+.B <arch>\n+x86, arm, thumb, mips, etc.\n+.TP\n+.B <sub>\n+for example on ARM: v5, v6m, v7a, v7m, etc.\n+.TP\n+.B <vendor>\n+pc, apple, nvidia, ibm, etc.\n+.TP\n+.B <sys>\n+none, linux, win32, darwin, cuda, etc.\n+.TP\n+.B <abi>\n+eabi, gnu, android, macho, elf, etc.\n+.RE\n .TP\n \\fB\\-W help\\fR\n Print 'lint' options and default settings."}, {"sha": "de128d839d9ce40c982903db031983dc22cead03", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9c30f127907a46fbd46534fb929dfeeca515ab0f/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9c30f127907a46fbd46534fb929dfeeca515ab0f/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=9c30f127907a46fbd46534fb929dfeeca515ab0f", "patch": "@@ -845,11 +845,7 @@ pub fn rustc_short_optgroups() -> Vec<RustcOptGroup> {\n         opt::opt(\"\", \"explain\", \"Provide a detailed explanation of an error \\\n                                message\", \"OPT\"),\n         opt::flag(\"\", \"test\", \"Build a test harness\"),\n-        opt::opt(\"\", \"target\", \"Target triple cpu-manufacturer-kernel[-os] \\\n-                              to compile for (see chapter 3.4 of \\\n-                              http://www.sourceware.org/autobook/\n-                              for details)\",\n-               \"TRIPLE\"),\n+        opt::opt(\"\", \"target\", \"Target triple for which the code is compiled\", \"TARGET\"),\n         opt::multi(\"W\", \"warn\", \"Set lint warnings\", \"OPT\"),\n         opt::multi(\"A\", \"allow\", \"Set lint allowed\", \"OPT\"),\n         opt::multi(\"D\", \"deny\", \"Set lint denied\", \"OPT\"),"}]}