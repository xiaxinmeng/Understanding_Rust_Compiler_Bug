{"sha": "1652393a471ee5752830ddea63614a7bd132ce8b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE2NTIzOTNhNDcxZWU1NzUyODMwZGRlYTYzNjE0YTdiZDEzMmNlOGI=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-10-28T16:51:09Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-10-28T16:51:09Z"}, "message": "Merge pull request #3371 from matthiaskrgr/temp_breakage_fix\n\nmerge various PRs to make CI green again", "tree": {"sha": "515d983952e97a62dd9cd7e6433ff77dde01de9a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/515d983952e97a62dd9cd7e6433ff77dde01de9a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1652393a471ee5752830ddea63614a7bd132ce8b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJb1ej9CRBK7hj4Ov3rIwAAdHIIAHSCWLbgCaX5SHtk8l/lJhIE\n+x5NuNAw2laBsLIrzrzi9Doalpn25Eqsw0fJZ/esovqdk8s+h9HEDYA6sfeC0n/6\nO+MTEPc4r1AubweGJszJg8Hvu2vKOujwkkr+8sqdwba+oNsx4h2Q9iWnk5roOTpf\nvL5ennjgohAFHDakiaiBp6bzhwyTsoQoMegdNnIYpGMGr/Vd0NTdJ1jlgc7r/Jeb\ndFrDvhCkEw070vIpdMVlRpSPIk285C6G7036LRXzRztsPk9YjoHsX7VRlyHmbGI6\nUh+aTgeO2N5MbAfgDVPv1hFhZUWCv02v9nNKGmbMqnWP8faYFl5gfcF46krJfKc=\n=tANT\n-----END PGP SIGNATURE-----\n", "payload": "tree 515d983952e97a62dd9cd7e6433ff77dde01de9a\nparent 457e7f12e9fc028eae182f23b279194e5344b676\nparent 3f0161918871403b4e0547191a93f395b8bf5b35\nauthor Philipp Hansch <dev@phansch.net> 1540745469 +0100\ncommitter GitHub <noreply@github.com> 1540745469 +0100\n\nMerge pull request #3371 from matthiaskrgr/temp_breakage_fix\n\nmerge various PRs to make CI green again"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1652393a471ee5752830ddea63614a7bd132ce8b", "html_url": "https://github.com/rust-lang/rust/commit/1652393a471ee5752830ddea63614a7bd132ce8b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1652393a471ee5752830ddea63614a7bd132ce8b/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "457e7f12e9fc028eae182f23b279194e5344b676", "url": "https://api.github.com/repos/rust-lang/rust/commits/457e7f12e9fc028eae182f23b279194e5344b676", "html_url": "https://github.com/rust-lang/rust/commit/457e7f12e9fc028eae182f23b279194e5344b676"}, {"sha": "3f0161918871403b4e0547191a93f395b8bf5b35", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f0161918871403b4e0547191a93f395b8bf5b35", "html_url": "https://github.com/rust-lang/rust/commit/3f0161918871403b4e0547191a93f395b8bf5b35"}], "stats": {"total": 32, "additions": 17, "deletions": 15}, "files": [{"sha": "d3f8c116607b9b4e883fc240ef65d069be6c18a1", "filename": ".travis.yml", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/1652393a471ee5752830ddea63614a7bd132ce8b/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/1652393a471ee5752830ddea63614a7bd132ce8b/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=1652393a471ee5752830ddea63614a7bd132ce8b", "patch": "@@ -75,13 +75,14 @@ matrix:\n     - os: windows\n \n script:\n-  - |\n-      rm rust-toolchain\n-      cargo install rustup-toolchain-install-master || echo \"rustup-toolchain-install-master already installed\"\n-      RUSTC_HASH=$(git ls-remote https://github.com/rust-lang/rust.git master | awk '{print $1}')\n-      travis_retry rustup-toolchain-install-master -f -n master $RUSTC_HASH\n-      rustup default master\n-      export LD_LIBRARY_PATH=$(rustc --print sysroot)/lib\n+  # uncomment once https://github.com/rust-lang/rust/issues/55376 is fixed\n+  # - |\n+  #     rm rust-toolchain\n+  #     cargo install rustup-toolchain-install-master || echo \"rustup-toolchain-install-master already installed\"\n+  #     RUSTC_HASH=$(git ls-remote https://github.com/rust-lang/rust.git master | awk '{print $1}')\n+  #     travis_retry rustup-toolchain-install-master -f -n master $RUSTC_HASH\n+  #     rustup default master\n+  #     export LD_LIBRARY_PATH=$(rustc --print sysroot)/lib\n   - |\n     if [ -z ${INTEGRATION} ]; then\n       ./ci/base-tests.sh && sleep 5"}, {"sha": "81ca6c468178ecf2bdb7cfc9c729e16419de1b3b", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1652393a471ee5752830ddea63614a7bd132ce8b/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1652393a471ee5752830ddea63614a7bd132ce8b/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=1652393a471ee5752830ddea63614a7bd132ce8b", "patch": "@@ -48,7 +48,7 @@ rustc_tools_util = { version = \"0.1.0\", path = \"rustc_tools_util\"}\n [dev-dependencies]\n clippy_dev = { version = \"0.0.1\", path = \"clippy_dev\" }\n cargo_metadata = \"0.6\"\n-compiletest_rs = \"0.3.7\"\n+compiletest_rs = { git = \"https://github.com/laumann/compiletest-rs\", rev = \"12c980f47971b5ba6beb7cb2ffebf8b32f6766ea\" }\n lazy_static = \"1.0\"\n serde_derive = \"1.0\"\n clippy-mini-macro-test = { version = \"0.2\", path = \"mini-macro\" }"}, {"sha": "18f25e916f3f106b88831bccaac19c024fcc7ad6", "filename": "appveyor.yml", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/1652393a471ee5752830ddea63614a7bd132ce8b/appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/1652393a471ee5752830ddea63614a7bd132ce8b/appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/appveyor.yml?ref=1652393a471ee5752830ddea63614a7bd132ce8b", "patch": "@@ -20,11 +20,12 @@ install:\n     - set PATH=%PATH%;C:\\Users\\appveyor\\.cargo\\bin\n     - git ls-remote https://github.com/rust-lang/rust.git master | awk '{print $1}' >rustc-hash.txt\n     - set /p RUSTC_HASH=<rustc-hash.txt\n-    - del rust-toolchain\n-    - cargo install rustup-toolchain-install-master || echo \"rustup-toolchain-install-master already installed\"\n-    - rustup-toolchain-install-master %RUSTC_HASH% -f -n master\n-    - rustup default master\n-    - set PATH=%PATH%;C:\\Users\\appveyor\\.rustup\\toolchains\\master\\bin\n+# uncomment once https://github.com/rust-lang/rust/issues/55376 is fixed\n+#    - del rust-toolchain\n+#    - cargo install rustup-toolchain-install-master || echo \"rustup-toolchain-install-master already installed\"\n+#    - rustup-toolchain-install-master %RUSTC_HASH% -f -n master\n+#    - rustup default master\n+#    - set PATH=%PATH%;C:\\Users\\appveyor\\.rustup\\toolchains\\master\\bin\n     - rustc -V\n     - cargo -V\n "}, {"sha": "2ed877d13649f71bf1d6c398a808b310c58b6f17", "filename": "clippy_lints/src/redundant_clone.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1652393a471ee5752830ddea63614a7bd132ce8b/clippy_lints%2Fsrc%2Fredundant_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1652393a471ee5752830ddea63614a7bd132ce8b/clippy_lints%2Fsrc%2Fredundant_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_clone.rs?ref=1652393a471ee5752830ddea63614a7bd132ce8b", "patch": "@@ -12,7 +12,7 @@ use crate::rustc::hir::{def_id, Body, FnDecl};\n use crate::rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n use crate::rustc::mir::{\n     self, traversal,\n-    visit::{PlaceContext, Visitor},\n+    visit::{MutatingUseContext, NonUseContext, PlaceContext, Visitor},\n     TerminatorKind,\n };\n use crate::rustc::ty;\n@@ -279,7 +279,7 @@ impl<'tcx> mir::visit::Visitor<'tcx> for LocalUseVisitor {\n \n     fn visit_local(&mut self, local: &mir::Local, ctx: PlaceContext<'tcx>, _: mir::Location) {\n         match ctx {\n-            PlaceContext::Drop | PlaceContext::StorageDead => return,\n+            PlaceContext::MutatingUse(MutatingUseContext::Drop) | PlaceContext::NonUse(NonUseContext::StorageDead) => return,\n             _ => {},\n         }\n "}]}