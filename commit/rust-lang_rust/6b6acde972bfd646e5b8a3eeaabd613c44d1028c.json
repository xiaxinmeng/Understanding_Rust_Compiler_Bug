{"sha": "6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiNmFjZGU5NzJiZmQ2NDZlNWI4YTNlZWFhYmQ2MTNjNDRkMTAyOGM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-01-18T07:28:42Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-01-18T07:28:42Z"}, "message": "Add a license check to tidy. #4018", "tree": {"sha": "1057dd2b7728eb3a37a7d0ed222c847329501578", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1057dd2b7728eb3a37a7d0ed222c847329501578"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "html_url": "https://github.com/rust-lang/rust/commit/6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1244c0b6fd8325e1eab274e6d9b989e1ee1e2c57", "url": "https://api.github.com/repos/rust-lang/rust/commits/1244c0b6fd8325e1eab274e6d9b989e1ee1e2c57", "html_url": "https://github.com/rust-lang/rust/commit/1244c0b6fd8325e1eab274e6d9b989e1ee1e2c57"}], "stats": {"total": 177, "additions": 160, "deletions": 17}, "files": [{"sha": "272bbc6fbbd6c05b964dcaefb7d804fb65202bdd", "filename": "src/etc/check-summary.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fcheck-summary.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fcheck-summary.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fcheck-summary.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n import sys\n "}, {"sha": "d6efcbc464298e51f1d31209c8b7ad193d9884b6", "filename": "src/etc/combine-tests.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fcombine-tests.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fcombine-tests.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fcombine-tests.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n # this combines all the working run-pass tests into a single large crate so we\n # can run it \"fast\": spawning zillions of windows processes is our major build"}, {"sha": "9d9b7817f4b035493890ce2cc73fd17b58b75b72", "filename": "src/etc/extract-tests.py", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fextract-tests.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fextract-tests.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fextract-tests.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,5 @@\n+# xfail-license\n+\n # Script for extracting compilable fragments from markdown\n # documentation. See prep.js for a description of the format\n # recognized by this tool. Expects a directory fragements/ to exist"}, {"sha": "58d1975c042b7bd3ebddf86d7aa83c02bb9caec9", "filename": "src/etc/extract_grammar.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fextract_grammar.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fextract_grammar.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fextract_grammar.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n # This script is for extracting the grammar from the rust docs.\n "}, {"sha": "130ace64ce47a215c007b46fc4456d1a0f961623", "filename": "src/etc/get-snapshot.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fget-snapshot.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fget-snapshot.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fget-snapshot.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n import os, tarfile, re, shutil, sys\n from snapshot import *"}, {"sha": "7a2ddba3a16aac11f014b4bfd1d0eaf6fc98e150", "filename": "src/etc/latest-unix-snaps.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Flatest-unix-snaps.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Flatest-unix-snaps.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Flatest-unix-snaps.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n import os, tarfile, hashlib, re, shutil, sys\n from snapshot import *"}, {"sha": "14d00e8c2cbb90a348ebfcc409ab33e52ba4373c", "filename": "src/etc/licenseck.py", "status": "added", "additions": 72, "deletions": 0, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Flicenseck.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Flicenseck.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Flicenseck.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -0,0 +1,72 @@\n+# Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+# file at the top-level directory of this distribution and at\n+# http://rust-lang.org/COPYRIGHT.\n+#\n+# Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+# http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+# <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+# option. This file may not be copied, modified, or distributed\n+# except according to those terms.\n+\n+license1 = \"\"\"// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\"\"\"\n+\n+license2 = \"\"\"// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\"\"\"\n+\n+license3 = \"\"\"# Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+# file at the top-level directory of this distribution and at\n+# http://rust-lang.org/COPYRIGHT.\n+#\n+# Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+# http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+# <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+# option. This file may not be copied, modified, or distributed\n+# except according to those terms.\n+\"\"\"\n+\n+licenses = [license1, license2, license3]\n+\n+exceptions = [\n+    \"rt/rust_android_dummy.cpp\", # BSD, chromium\n+    \"rt/rust_android_dummy.h\", # BSD, chromium\n+    \"rt/isaac/randport.cpp\", # public domain\n+    \"rt/isaac/rand.h\", # public domain\n+    \"rt/isaac/standard.h\", # public domain\n+]\n+\n+def check_license(name, contents):\n+    valid_license = False\n+    for a_valid_license in licenses:\n+        if contents.startswith(a_valid_license):\n+            valid_license = True\n+            break\n+    if valid_license:\n+        return True\n+\n+    for exception in exceptions:\n+        if name.endswith(exception):\n+            return True\n+\n+    firstlineish = contents[:100]\n+    if firstlineish.find(\"xfail-license\") != -1:\n+        return True\n+\n+    return False\n+"}, {"sha": "27d17c2ff16f30c1cb91795ed4f5937d54a8dd2c", "filename": "src/etc/make-snapshot.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fmake-snapshot.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fmake-snapshot.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fmake-snapshot.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n import snapshot, sys\n "}, {"sha": "f1fce7a94b5b6b327675113e3cb8ffe1fc1fb6d7", "filename": "src/etc/mirror-all-snapshots.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fmirror-all-snapshots.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fmirror-all-snapshots.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fmirror-all-snapshots.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n import os, tarfile, hashlib, re, shutil\n from snapshot import *"}, {"sha": "123987d4b1ead625122963eb51aac688324f24f9", "filename": "src/etc/snapshot.py", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fsnapshot.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fsnapshot.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fsnapshot.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,5 @@\n+# xfail-license\n+\n import re, os, sys, glob, tarfile, shutil, subprocess, tempfile\n \n try:"}, {"sha": "6399cff6b880d14d985ce1b1e119d1e9429a45f0", "filename": "src/etc/sugarise-doc-comments.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fsugarise-doc-comments.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Fsugarise-doc-comments.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fsugarise-doc-comments.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n #\n # this script attempts to turn doc comment attributes (#[doc = \"...\"])"}, {"sha": "e866d80062d5155d300655531b040510f7b60cf8", "filename": "src/etc/tidy.py", "status": "modified", "additions": 28, "deletions": 2, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Ftidy.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Ftidy.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Ftidy.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,6 +1,8 @@\n #!/usr/bin/env python\n+# xfail-license\n \n import sys, fileinput, subprocess, re\n+from licenseck import *\n \n err=0\n cols=78\n@@ -13,14 +15,25 @@\n true=\"true\".encode('utf8')\n autocrlf=result.strip() == true if result is not None else False\n \n-def report_err(s):\n+def report_error_name_no(name, no, s):\n     global err\n-    print(\"%s:%d: %s\" % (fileinput.filename(), fileinput.filelineno(), s))\n+    print(\"%s:%d: %s\" % (name, no, s))\n     err=1\n \n+def report_err(s):\n+    report_error_name_no(fileinput.filename(), fileinput.filelineno(), s)\n+\n+def do_license_check(name, contents):\n+    if not check_license(name, contents):\n+        report_error_name_no(name, 1, \"incorrect license\")\n+\n+\n file_names = [s for s in sys.argv[1:] if (not s.endswith(\"_gen.rs\"))\n                                      and (not \".#\" in s)]\n \n+current_name = \"\"\n+current_contents = \"\"\n+\n try:\n     for line in fileinput.input(file_names,\n                                 openhook=fileinput.hook_encoded(\"utf-8\")):\n@@ -42,6 +55,19 @@ def report_err(s):\n \n         if line_len > cols:\n             report_err(\"line longer than %d chars\" % cols)\n+\n+        if fileinput.isfirstline() and current_name != \"\":\n+            do_license_check(current_name, current_contents)\n+\n+        if fileinput.isfirstline():\n+            current_name = fileinput.filename()\n+            current_contents = \"\"\n+\n+        current_contents += line\n+\n+    if current_name != \"\":\n+        do_license_check(current_name, current_contents)\n+\n except UnicodeDecodeError, e:\n     report_err(\"UTF-8 decoding error \" + str(e))\n "}, {"sha": "5dabf34953b01669dc3ebfac83c240ca6d4b330f", "filename": "src/etc/unicode.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Funicode.py", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Fetc%2Funicode.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Funicode.py?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n #!/usr/bin/env python\n+# xfail-license\n \n # This digests UnicodeData.txt and DerivedCoreProperties.txt and emits rust\n # code covering the core properties. Since this is a pretty rare event we"}, {"sha": "29a7af2bfdbd54c98ffd18d13f27d926212188ab", "filename": "src/libcargo/cargo.rc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcargo%2Fcargo.rc", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcargo%2Fcargo.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcargo%2Fcargo.rc?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- rust -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "2f3a53ea504f4df97f0d334bc55c482dee5c7c93", "filename": "src/libcore/bool.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcore%2Fbool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcore%2Fbool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fbool.rs?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- rust -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "ffd41bc05b11ba71d507ddb836833563285e6c92", "filename": "src/libcore/os.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcore%2Fos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcore%2Fos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fos.rs?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2012 The Rust Project Developers.src/libcore/os.rs\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //"}, {"sha": "63b7628f119e58ad710d3851467e36d25b17c014", "filename": "src/libcore/prelude.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcore%2Fprelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibcore%2Fprelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fprelude.rs?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n // This file is imported into every module by default.\n \n /* Reexported core operators */"}, {"sha": "b7ec10e1a4f3f171422a8329458447ae1b9de759", "filename": "src/libfuzzer/fuzzer.rc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibfuzzer%2Ffuzzer.rc", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibfuzzer%2Ffuzzer.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibfuzzer%2Ffuzzer.rc?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- rust -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "70cad499e4cb79917ec360f32a04b20d269d7df8", "filename": "src/librustc/driver/driver.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibrustc%2Fdriver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibrustc%2Fdriver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdriver%2Fdriver.rs?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- rust -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "4e101eb5bb7089fca45349aa1802f7bf6d983f94", "filename": "src/librustc/rustc.rc", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibrustc%2Frustc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibrustc%2Frustc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Frustc.rc?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- rust -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "678565ee325c27e21fb299181b9a87504a7a3503", "filename": "src/libstd/bigint.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibstd%2Fbigint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibstd%2Fbigint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fbigint.rs?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n /*!\n \n A Big integer (signed version: BigInt, unsigned version: BigUint)."}, {"sha": "534f1b7d4791678309be3f7d35b4cf0530c0caac", "filename": "src/libstd/flatpipes.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibstd%2Fflatpipes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibstd%2Fflatpipes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fflatpipes.rs?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,13 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n /*!\n \n Generic communication channels for things that can be represented as,"}, {"sha": "b9c040de42a20e069d529217013ead5e906e25f2", "filename": "src/libstd/priority_queue.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibstd%2Fpriority_queue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Flibstd%2Fpriority_queue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpriority_queue.rs?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,12 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n \n //! A priority queue implemented with a binary heap\n "}, {"sha": "2c735e410fa4aa6b7fa24733634960119001a9fc", "filename": "src/rt/arch/arm/context.cpp", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fcontext.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fcontext.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Farm%2Fcontext.cpp?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,4 @@\n+// xfail-license\n \n #include \"context.h\"\n #include \"../../rust_globals.h\""}, {"sha": "54f0df7de3144f615b50ce462ad19bc58dc705be", "filename": "src/rt/arch/arm/context.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fcontext.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fcontext.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Farm%2Fcontext.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,5 @@\n // -*- mode: c++ -*-\n+// xfail-license\n \n #ifndef CONTEXT_H\n #define CONTEXT_H"}, {"sha": "6dd385fb3302588e8c9a0d9908a6758905f79775", "filename": "src/rt/arch/arm/gpr.cpp", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fgpr.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fgpr.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Farm%2Fgpr.cpp?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,5 @@\n+// xfail-license\n+\n #include \"gpr.h\"\n \n #define LOAD(rn) do { \\"}, {"sha": "49db1429903d973843995b1879763b198449d812", "filename": "src/rt/arch/arm/gpr.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fgpr.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fgpr.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Farm%2Fgpr.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,4 @@\n+// xfail-license\n // General-purpose registers. This structure is used during stack crawling.\n \n #ifndef GPR_H"}, {"sha": "2b44bd3af357d1550056e5f0a8ea6eea375d8397", "filename": "src/rt/arch/arm/regs.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fregs.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Farm%2Fregs.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Farm%2Fregs.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,3 +1,5 @@\n+// xfail-license\n+\n #define RUSTRT_RBX   0\n #define RUSTRT_RSP   1\n #define RUSTRT_RBP   2"}, {"sha": "33352b4a5562d8c64f7b184b7bddcf3b9c5ce5ec", "filename": "src/rt/arch/i386/context.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Fi386%2Fcontext.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Fi386%2Fcontext.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fi386%2Fcontext.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- mode: c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "b768a1fb7b089b12ddce0f4d111b5aa8c711ac77", "filename": "src/rt/arch/x86_64/context.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Fx86_64%2Fcontext.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Farch%2Fx86_64%2Fcontext.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fx86_64%2Fcontext.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- mode: c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "48522b57d5c0dcacc6970cd4249a0db8c9d68443", "filename": "src/rt/rust_kernel.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Frust_kernel.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Frust_kernel.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_kernel.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "b98d8477dbc0879c86951dd52d18c550b871c603", "filename": "src/rt/rust_log.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Frust_log.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Frust_log.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_log.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "5a0eb83a3943c269bc6d81fdef7a06dfb3a6e5a5", "filename": "src/rt/sync/lock_and_signal.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Fsync%2Flock_and_signal.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Fsync%2Flock_and_signal.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Fsync%2Flock_and_signal.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "6ac97d57933621caf64ececa1423995c1a0c9edf", "filename": "src/rt/sync/sync.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Fsync%2Fsync.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Fsync%2Fsync.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Fsync%2Fsync.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "0852cf9497e2bd79ea734641fc022c3e54deecd5", "filename": "src/rt/util/array_list.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Futil%2Farray_list.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Futil%2Farray_list.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Futil%2Farray_list.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "e5bef45c1c3c57afdd6b3006daa3e66a303ec874", "filename": "src/rt/util/hash_map.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Futil%2Fhash_map.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Futil%2Fhash_map.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Futil%2Fhash_map.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}, {"sha": "4673e9e27e31b7baa06fe396750a8d4adcbf59ac", "filename": "src/rt/util/indexed_list.h", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Futil%2Findexed_list.h", "raw_url": "https://github.com/rust-lang/rust/raw/6b6acde972bfd646e5b8a3eeaabd613c44d1028c/src%2Frt%2Futil%2Findexed_list.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Futil%2Findexed_list.h?ref=6b6acde972bfd646e5b8a3eeaabd613c44d1028c", "patch": "@@ -1,4 +1,3 @@\n-// -*- c++ -*-\n // Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT."}]}