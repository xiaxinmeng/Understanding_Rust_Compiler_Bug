{"sha": "f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "node_id": "C_kwDOAAsO6NoAKGY5OGY5MmZkYWY2NmRiOGJkZTEyYjk2MGM2NjQyOWMxOWMwZWM3ZTg", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2022-05-07T13:23:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-05-07T13:23:48Z"}, "message": "Rollup merge of #96805 - Folyd:eslint, r=GuillaumeGomez\n\nChange eslint rules from configuration comments to configuration file\n\nRepeatedly declaring eslint rules in source files is an annoying thing, we should move those rules into the eslint configuration file.\n\nr? ``@GuillaumeGomez``", "tree": {"sha": "1e6ff386b2089264d5a6899c5c0789e3b323ea3b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1e6ff386b2089264d5a6899c5c0789e3b323ea3b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJidnLkCRBK7hj4Ov3rIwAA6BgIAGqTQoTzsa8QxQolHxvPXE96\nutDDsOA9kY5iXc2cZwxoICvQe8rZmjqMtHl2wXtwIGBVuL1y66uRKosV/AUTJX73\npekTIYoe3BtCp5ywp2K/2phLT/SHMvSj2fW0FX2Sal4pPi+Naxbdvguc6Fc/CrTg\nQeircPOqXx8p3TDQ3z4OtZpr7txI4CWxdBJUPJPRpfV5ApNEQVWFhFMXorvjgHp7\naxCUvePZ9KNJYqwSepLVq1akcsLFkhZuutW/q3YhmrISI9+xYi54Eot7G3Txv586\nDLyjBlU9BpQRv7k+CUSP9t94DPCWnVK+B/i8au9+RoBT8hZ/0epTnOmOk0AqhL4=\n=46g8\n-----END PGP SIGNATURE-----\n", "payload": "tree 1e6ff386b2089264d5a6899c5c0789e3b323ea3b\nparent 27a2bae89ced19bee662c5caccd20f9e111a7d54\nparent a8ede1248d837bc2ecdc99b00e45ec378c3fd156\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1651929828 +0200\ncommitter GitHub <noreply@github.com> 1651929828 +0200\n\nRollup merge of #96805 - Folyd:eslint, r=GuillaumeGomez\n\nChange eslint rules from configuration comments to configuration file\n\nRepeatedly declaring eslint rules in source files is an annoying thing, we should move those rules into the eslint configuration file.\n\nr? ``@GuillaumeGomez``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "html_url": "https://github.com/rust-lang/rust/commit/f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "27a2bae89ced19bee662c5caccd20f9e111a7d54", "url": "https://api.github.com/repos/rust-lang/rust/commits/27a2bae89ced19bee662c5caccd20f9e111a7d54", "html_url": "https://github.com/rust-lang/rust/commit/27a2bae89ced19bee662c5caccd20f9e111a7d54"}, {"sha": "a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "url": "https://api.github.com/repos/rust-lang/rust/commits/a8ede1248d837bc2ecdc99b00e45ec378c3fd156", "html_url": "https://github.com/rust-lang/rust/commit/a8ede1248d837bc2ecdc99b00e45ec378c3fd156"}], "stats": {"total": 36, "additions": 5, "deletions": 31}, "files": [{"sha": "7a34a7daaec5bea7e6e4b459f27db0adcc1c1058", "filename": "src/ci/docker/host-x86_64/mingw-check/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -41,4 +41,4 @@ ENV SCRIPT python3 ../x.py --stage 2 test src/tools/expand-yaml-anchors && \\\n            /scripts/validate-error-codes.sh && \\\n            # Runs checks to ensure that there are no ES5 issues in our JS code.\n            es-check es6 ../src/librustdoc/html/static/js/*.js && \\\n-           eslint ../src/librustdoc/html/static/js/*.js\n+           eslint -c ../src/librustdoc/html/static/.eslintrc.js ../src/librustdoc/html/static/js/*.js"}, {"sha": "e118ee5d5edc5648c9d5323b216681343d533618", "filename": "src/librustdoc/html/static/.eslintrc.js", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2F.eslintrc.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2F.eslintrc.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2F.eslintrc.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -16,6 +16,9 @@ module.exports = {\n         \"semi\": [\n             \"error\",\n             \"always\"\n-        ]\n+        ],\n+        \"no-var\": [\"error\"],\n+        \"prefer-const\": [\"error\"],\n+        \"prefer-arrow-callback\": [\"error\"],\n     }\n };"}, {"sha": "defdc20132e67eb02bfe98eaaf2da9818fd2ba51", "filename": "src/librustdoc/html/static/js/externs.js", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fexterns.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fexterns.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fexterns.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -1,9 +1,6 @@\n // This file contains type definitions that are processed by the Closure Compiler but are\n // not put into the JavaScript we include as part of the documentation. It is used for\n // type checking. See README.md in this directory for more info.\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n \n /* eslint-disable */\n let searchState;"}, {"sha": "ea20f6e28ecd624856c1085f9cb59d609b34757b", "filename": "src/librustdoc/html/static/js/main.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n // Local js definitions:\n /* global addClass, getSettingValue, hasClass, searchState */\n /* global onEach, onEachLazy, removeClass */"}, {"sha": "544bced4c5afdd11120605c7fc92f4c29ee1f662", "filename": "src/librustdoc/html/static/js/scrape-examples.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fscrape-examples.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n /* global addClass, hasClass, removeClass, onEachLazy */\n \n \"use strict\";"}, {"sha": "3d8cfeecbed6d27a70f9cb0a9243abbe1512ba3f", "filename": "src/librustdoc/html/static/js/search.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n /* global addClass, getNakedUrl, getSettingValue, hasOwnPropertyRustdoc, initSearch, onEach */\n /* global onEachLazy, removeClass, searchState, browserSupportsHistoryApi */\n "}, {"sha": "a7b60a496890c4cdd8bba790dde466cb04fb1848", "filename": "src/librustdoc/html/static/js/settings.js", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -1,7 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n // Local js definitions:\n /* global getSettingValue, getVirtualKey, updateLocalStorage, updateSystemTheme */\n /* global addClass, removeClass, onEach, onEachLazy, NOT_DISPLAYED_ID */"}, {"sha": "92ecd200081b990900bd76980be24e402edf98ce", "filename": "src/librustdoc/html/static/js/source-script.js", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsource-script.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsource-script.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsource-script.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -1,8 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n-\n // From rust:\n /* global search, sourcesIndex */\n "}, {"sha": "69940bb89df2110b7a0431b0604975611abcee62", "filename": "src/librustdoc/html/static/js/storage.js", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "raw_url": "https://github.com/rust-lang/rust/raw/f98f92fdaf66db8bde12b960c66429c19c0ec7e8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fstorage.js?ref=f98f92fdaf66db8bde12b960c66429c19c0ec7e8", "patch": "@@ -1,8 +1,3 @@\n-/* eslint-env es6 */\n-/* eslint no-var: \"error\" */\n-/* eslint prefer-const: \"error\" */\n-/* eslint prefer-arrow-callback: \"error\" */\n-\n \"use strict\";\n \n const darkThemes = [\"dark\", \"ayu\"];"}]}