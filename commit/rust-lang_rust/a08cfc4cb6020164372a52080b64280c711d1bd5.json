{"sha": "a08cfc4cb6020164372a52080b64280c711d1bd5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwOGNmYzRjYjYwMjAxNjQzNzJhNTIwODBiNjQyODBjNzExZDFiZDU=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-03-08T21:23:52Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-03-09T01:10:06Z"}, "message": "Add rust_2018_idioms lint group", "tree": {"sha": "72f1be9f0590c3d97d6742773be897dd1aba019d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/72f1be9f0590c3d97d6742773be897dd1aba019d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a08cfc4cb6020164372a52080b64280c711d1bd5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a08cfc4cb6020164372a52080b64280c711d1bd5", "html_url": "https://github.com/rust-lang/rust/commit/a08cfc4cb6020164372a52080b64280c711d1bd5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a08cfc4cb6020164372a52080b64280c711d1bd5/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "667973204d5ff01a92eef35c54d004797413b8a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/667973204d5ff01a92eef35c54d004797413b8a2", "html_url": "https://github.com/rust-lang/rust/commit/667973204d5ff01a92eef35c54d004797413b8a2"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "d39e00ab18fcb44cb1414d8308340f604eba5a52", "filename": "src/librustc_lint/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a08cfc4cb6020164372a52080b64280c711d1bd5/src%2Flibrustc_lint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a08cfc4cb6020164372a52080b64280c711d1bd5/src%2Flibrustc_lint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Fbuiltin.rs?ref=a08cfc4cb6020164372a52080b64280c711d1bd5", "patch": "@@ -1263,7 +1263,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for UnionsWithDropFields {\n pub struct UnreachablePub;\n \n declare_lint! {\n-    UNREACHABLE_PUB,\n+    pub UNREACHABLE_PUB,\n     Allow,\n     \"`pub` items not reachable from crate root\"\n }"}, {"sha": "81609db62923f5cec1e7d33fbfc897b24a31e7d0", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a08cfc4cb6020164372a52080b64280c711d1bd5/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a08cfc4cb6020164372a52080b64280c711d1bd5/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=a08cfc4cb6020164372a52080b64280c711d1bd5", "patch": "@@ -43,6 +43,7 @@ extern crate rustc_mir;\n extern crate syntax_pos;\n \n use rustc::lint;\n+use rustc::lint::builtin::BARE_TRAIT_OBJECT;\n use rustc::session;\n use rustc::util;\n \n@@ -177,6 +178,11 @@ pub fn register_builtins(store: &mut lint::LintStore, sess: Option<&Session>) {\n                     UNUSED_FEATURES,\n                     UNUSED_PARENS);\n \n+    add_lint_group!(sess,\n+                    \"rust_2018_idioms\",\n+                    BARE_TRAIT_OBJECT,\n+                    UNREACHABLE_PUB);\n+\n     // Guidelines for creating a future incompatibility lint:\n     //\n     // - Create a lint defaulting to warn as normal, with ideally the same error"}, {"sha": "eb40151615dad8b80950c6baee3459dd9b7b0725", "filename": "src/test/ui/inference-variable-behind-raw-pointer.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a08cfc4cb6020164372a52080b64280c711d1bd5/src%2Ftest%2Fui%2Finference-variable-behind-raw-pointer.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a08cfc4cb6020164372a52080b64280c711d1bd5/src%2Ftest%2Fui%2Finference-variable-behind-raw-pointer.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Finference-variable-behind-raw-pointer.stderr?ref=a08cfc4cb6020164372a52080b64280c711d1bd5", "patch": "@@ -5,6 +5,6 @@ LL |     if data.is_null() {}\n    |             ^^^^^^^\n    |\n    = note: #[warn(tyvar_behind_raw_pointer)] on by default\n-   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in the 2018 epoch!\n    = note: for more information, see issue #46906 <https://github.com/rust-lang/rust/issues/46906>\n "}]}