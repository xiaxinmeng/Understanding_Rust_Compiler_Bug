{"sha": "02295f464aaf78ece81a80e5b99a034119e74748", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyMjk1ZjQ2NGFhZjc4ZWNlODFhODBlNWI5OWEwMzQxMTllNzQ3NDg=", "commit": {"author": {"name": "Hans Kratz", "email": "hans@appfour.com", "date": "2021-08-09T15:42:37Z"}, "committer": {"name": "Hans Kratz", "email": "hans@appfour.com", "date": "2021-08-09T15:42:37Z"}, "message": "Test: Use smallvec directly instead of boxed.", "tree": {"sha": "211b39883e066ed18521fc97f517fc5d09b23926", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/211b39883e066ed18521fc97f517fc5d09b23926"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/02295f464aaf78ece81a80e5b99a034119e74748", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/02295f464aaf78ece81a80e5b99a034119e74748", "html_url": "https://github.com/rust-lang/rust/commit/02295f464aaf78ece81a80e5b99a034119e74748", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/02295f464aaf78ece81a80e5b99a034119e74748/comments", "author": {"login": "hkratz", "id": 3736990, "node_id": "MDQ6VXNlcjM3MzY5OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3736990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkratz", "html_url": "https://github.com/hkratz", "followers_url": "https://api.github.com/users/hkratz/followers", "following_url": "https://api.github.com/users/hkratz/following{/other_user}", "gists_url": "https://api.github.com/users/hkratz/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkratz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkratz/subscriptions", "organizations_url": "https://api.github.com/users/hkratz/orgs", "repos_url": "https://api.github.com/users/hkratz/repos", "events_url": "https://api.github.com/users/hkratz/events{/privacy}", "received_events_url": "https://api.github.com/users/hkratz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hkratz", "id": 3736990, "node_id": "MDQ6VXNlcjM3MzY5OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3736990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkratz", "html_url": "https://github.com/hkratz", "followers_url": "https://api.github.com/users/hkratz/followers", "following_url": "https://api.github.com/users/hkratz/following{/other_user}", "gists_url": "https://api.github.com/users/hkratz/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkratz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkratz/subscriptions", "organizations_url": "https://api.github.com/users/hkratz/orgs", "repos_url": "https://api.github.com/users/hkratz/repos", "events_url": "https://api.github.com/users/hkratz/events{/privacy}", "received_events_url": "https://api.github.com/users/hkratz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1d4972e0e923bd5fffb11465373c824be109375f", "url": "https://api.github.com/repos/rust-lang/rust/commits/1d4972e0e923bd5fffb11465373c824be109375f", "html_url": "https://github.com/rust-lang/rust/commit/1d4972e0e923bd5fffb11465373c824be109375f"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "5a8aa66c61119849fd1dfd3b6b640ee7a619fad2", "filename": "compiler/rustc_codegen_llvm/src/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/02295f464aaf78ece81a80e5b99a034119e74748/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/02295f464aaf78ece81a80e5b99a034119e74748/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fcontext.rs?ref=02295f464aaf78ece81a80e5b99a034119e74748", "patch": "@@ -103,7 +103,7 @@ pub struct TypeLowering<'ll> {\n \n     /// If padding is used the slice maps fields from source order\n     /// to llvm order.\n-    pub field_remapping: Option<Box<SmallVec<[u32; 4]>>>,\n+    pub field_remapping: Option<SmallVec<[u32; 4]>>,\n }\n \n fn to_llvm_tls_model(tls_model: TlsModel) -> llvm::ThreadLocalMode {"}, {"sha": "85efe3e64836c76c5df392129d6095f1f8b45c7f", "filename": "compiler/rustc_codegen_llvm/src/type_of.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/02295f464aaf78ece81a80e5b99a034119e74748/compiler%2Frustc_codegen_llvm%2Fsrc%2Ftype_of.rs", "raw_url": "https://github.com/rust-lang/rust/raw/02295f464aaf78ece81a80e5b99a034119e74748/compiler%2Frustc_codegen_llvm%2Fsrc%2Ftype_of.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Ftype_of.rs?ref=02295f464aaf78ece81a80e5b99a034119e74748", "patch": "@@ -19,7 +19,7 @@ fn uncached_llvm_type<'a, 'tcx>(\n     cx: &CodegenCx<'a, 'tcx>,\n     layout: TyAndLayout<'tcx>,\n     defer: &mut Option<(&'a Type, TyAndLayout<'tcx>)>,\n-    field_remapping: &mut Option<Box<SmallVec<[u32; 4]>>>,\n+    field_remapping: &mut Option<SmallVec<[u32; 4]>>,\n ) -> &'a Type {\n     match layout.abi {\n         Abi::Scalar(_) => bug!(\"handled elsewhere\"),\n@@ -94,7 +94,7 @@ fn uncached_llvm_type<'a, 'tcx>(\n fn struct_llfields<'a, 'tcx>(\n     cx: &CodegenCx<'a, 'tcx>,\n     layout: TyAndLayout<'tcx>,\n-) -> (Vec<&'a Type>, bool, Option<Box<SmallVec<[u32; 4]>>>) {\n+) -> (Vec<&'a Type>, bool, Option<SmallVec<[u32; 4]>>) {\n     debug!(\"struct_llfields: {:#?}\", layout);\n     let field_count = layout.fields.count();\n \n@@ -150,7 +150,7 @@ fn struct_llfields<'a, 'tcx>(\n     } else {\n         debug!(\"struct_llfields: offset: {:?} stride: {:?}\", offset, layout.size);\n     }\n-    let field_remapping = if padding_used { Some(Box::new(field_remapping)) } else { None };\n+    let field_remapping = if padding_used { Some(field_remapping) } else { None };\n     (result, packed, field_remapping)\n }\n "}]}