{"sha": "8709ac81d3047b42757ee616a5bb6662a3a20bff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg3MDlhYzgxZDMwNDdiNDI3NTdlZTYxNmE1YmI2NjYyYTNhMjBiZmY=", "commit": {"author": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2020-12-11T05:33:12Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-12-11T05:33:12Z"}, "message": "Rollup merge of #79858 - sasurau4:doc/update-unstable-book-const-fn, r=oli-obk\n\nUpdate const-fn doc in unstable-book\n\nFix #79691\n\nI couldn't find suitable examples. It seems that `const_fn` feature-gate used only following place. https://github.com/rust-lang/rust/blob/810324d1f31eb8d75e8f0044df720652986ef133/compiler/rustc_ast_passes/src/feature_gate.rs#L560-L562\n\nAnd example like following emits [E0379](https://doc.rust-lang.org/error-index.html#E0379).\n\n```rust\n#![feature(const_fn)]\n\ntrait Foo {\n    const fn bar() -> Self;\n}\n```\n\nAny other suitable example exists, please let me know.", "tree": {"sha": "b81548d25f5be9540b1683add59c97cab92c0dfb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b81548d25f5be9540b1683add59c97cab92c0dfb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8709ac81d3047b42757ee616a5bb6662a3a20bff", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf0wSYCRBK7hj4Ov3rIwAAdHIIAI+aQBxbFf2DIxPTG14hDUWU\n78VF0N81D/N4mUN0MNeCiQ/7/TUo3JY/0cjD9A0ZGW2Lp9zRoUxaCex1DvKzV2Pw\n9kiLP+4+sweYxIXu9JM2By1wo6EHakgP0AZ5r5GKqPHnqUvRVgHsfjAlFasfmkri\nkKhSYgifKJzqhrbZjjMh++jzkMGjtMr0G+Ch7EABXGzb+whrvcBrIT+iddU/7b8w\nLsMupNlqW8xqomH82ZlhnOgDHJA3RWCnbQp1YVNe2gdy/KfC2phau9hyvwZKQ8FQ\n4MqzLBmkny4gRyI2yxWrBFfaYbNTkPHVbPT+SCGBZaDMvhFmJjWLyUl/sF5LalY=\n=Xivx\n-----END PGP SIGNATURE-----\n", "payload": "tree b81548d25f5be9540b1683add59c97cab92c0dfb\nparent dc90573454775538702f27dedd458f7c7eb31124\nparent caab16fa20c582f1c7e39f835286482eaa51710a\nauthor Tyler Mandry <tmandry@gmail.com> 1607664792 -0800\ncommitter GitHub <noreply@github.com> 1607664792 -0800\n\nRollup merge of #79858 - sasurau4:doc/update-unstable-book-const-fn, r=oli-obk\n\nUpdate const-fn doc in unstable-book\n\nFix #79691\n\nI couldn't find suitable examples. It seems that `const_fn` feature-gate used only following place. https://github.com/rust-lang/rust/blob/810324d1f31eb8d75e8f0044df720652986ef133/compiler/rustc_ast_passes/src/feature_gate.rs#L560-L562\n\nAnd example like following emits [E0379](https://doc.rust-lang.org/error-index.html#E0379).\n\n```rust\n#![feature(const_fn)]\n\ntrait Foo {\n    const fn bar() -> Self;\n}\n```\n\nAny other suitable example exists, please let me know.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8709ac81d3047b42757ee616a5bb6662a3a20bff", "html_url": "https://github.com/rust-lang/rust/commit/8709ac81d3047b42757ee616a5bb6662a3a20bff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8709ac81d3047b42757ee616a5bb6662a3a20bff/comments", "author": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc90573454775538702f27dedd458f7c7eb31124", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc90573454775538702f27dedd458f7c7eb31124", "html_url": "https://github.com/rust-lang/rust/commit/dc90573454775538702f27dedd458f7c7eb31124"}, {"sha": "caab16fa20c582f1c7e39f835286482eaa51710a", "url": "https://api.github.com/repos/rust-lang/rust/commits/caab16fa20c582f1c7e39f835286482eaa51710a", "html_url": "https://github.com/rust-lang/rust/commit/caab16fa20c582f1c7e39f835286482eaa51710a"}], "stats": {"total": 23, "additions": 2, "deletions": 21}, "files": [{"sha": "bcf7f78b8fe0decd22e26a0134a36b545f36aac9", "filename": "src/doc/unstable-book/src/language-features/const-fn.md", "status": "modified", "additions": 2, "deletions": 21, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/8709ac81d3047b42757ee616a5bb6662a3a20bff/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fconst-fn.md", "raw_url": "https://github.com/rust-lang/rust/raw/8709ac81d3047b42757ee616a5bb6662a3a20bff/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fconst-fn.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fconst-fn.md?ref=8709ac81d3047b42757ee616a5bb6662a3a20bff", "patch": "@@ -6,24 +6,5 @@ The tracking issue for this feature is: [#57563]\n \n ------------------------\n \n-The `const_fn` feature allows marking free functions and inherent methods as\n-`const`, enabling them to be called in constants contexts, with constant\n-arguments.\n-\n-## Examples\n-\n-```rust\n-#![feature(const_fn)]\n-\n-const fn double(x: i32) -> i32 {\n-    x * 2\n-}\n-\n-const FIVE: i32 = 5;\n-const TEN: i32 = double(FIVE);\n-\n-fn main() {\n-    assert_eq!(5, FIVE);\n-    assert_eq!(10, TEN);\n-}\n-```\n+The `const_fn` feature enables additional functionality not stabilized in the\n+[minimal subset of `const_fn`](https://github.com/rust-lang/rust/issues/53555)"}]}