{"sha": "947cbda5eb557ee3015b2310adfc80a393e42051", "node_id": "C_kwDOAAsO6NoAKDk0N2NiZGE1ZWI1NTdlZTMwMTViMjMxMGFkZmM4MGEzOTNlNDIwNTE", "commit": {"author": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-07-12T11:24:08Z"}, "committer": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-07-12T11:24:08Z"}, "message": "fix the typo", "tree": {"sha": "5455283a4e6bf1151008c1b65033beca21d3b1d7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5455283a4e6bf1151008c1b65033beca21d3b1d7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/947cbda5eb557ee3015b2310adfc80a393e42051", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE0u8S3YU336XkLsQOPNdIZH7vY1kFAmLNWdgACgkQPNdIZH7v\nY1l55A/9HXAwpgpR37woS8xAQjc16cZhjOX6n3EUXMGmY4POMS5oCbyjcz/2KgIf\ngbesdznZRWRSLrIehxElV8A7MGFiz8jpH6TfetAELAXuV8NqFmZg7dQ/D6pBEmq1\nkEiheaJcSp5hDNH6glToFNNlhMpDfktW/IYXBDrU/DT1tatrWcrbo4Buw8LsRPqr\n9cb7PXt2k/+H1PsQS3IKN/5ko2AGoDz96PfVcq7z2P+mX9kfDsLKqcrdA3un/MpG\nSGNEWQ6Dxb1O6VOGcyELhPmp3JukGJmc4VvHUCZ6OXANuXhOeCrLzqQdP9oCGNId\nW54FA1r563NGpFNIABCKlaoMMnGtocwqEx6+0lzYbTvf8VJeNdSfYZOFhW5Y0iMY\nEl3WCMZd1Iqy7A6CKy5K/5TSAkT75kd5Wt68XSoZ/3fn35G1RFnZBeKpDmZM25AQ\nL2tU6Sk5XTFwPQpgarr9KFQJ+3mHWA2RfJcrfzIs4+EJ/R6LtlFGjN6B6iV9ltng\nMM2OJAwrxkapbColqnzr1AOrAe9eNazYvujWhEqDZe+YQOXwPi0z5NeCrEwosZjV\n18CVUZp7dC7jbOxkdlFwHWKpZZ6dTWG3ky09UfdGh3cHPGthnYxqap/YrqmOH2JF\nt8VdcqPg3HL5rvDZwMQc8VVXcaAsTzvULXaQ+p8PRxgnMWNJyv0=\n=I6R+\n-----END PGP SIGNATURE-----", "payload": "tree 5455283a4e6bf1151008c1b65033beca21d3b1d7\nparent 5374688e1d8cbcff7d1d14bb34e38fe6fe7c233e\nauthor Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1657625048 +0200\ncommitter Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1657625048 +0200\n\nfix the typo\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/947cbda5eb557ee3015b2310adfc80a393e42051", "html_url": "https://github.com/rust-lang/rust/commit/947cbda5eb557ee3015b2310adfc80a393e42051", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/947cbda5eb557ee3015b2310adfc80a393e42051/comments", "author": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5374688e1d8cbcff7d1d14bb34e38fe6fe7c233e", "url": "https://api.github.com/repos/rust-lang/rust/commits/5374688e1d8cbcff7d1d14bb34e38fe6fe7c233e", "html_url": "https://github.com/rust-lang/rust/commit/5374688e1d8cbcff7d1d14bb34e38fe6fe7c233e"}], "stats": {"total": 6, "additions": 2, "deletions": 4}, "files": [{"sha": "9d7420acd2662661182420ba50673dc733fddb87", "filename": "compiler/rustc_typeck/src/expr_use_visitor.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/947cbda5eb557ee3015b2310adfc80a393e42051/compiler%2Frustc_typeck%2Fsrc%2Fexpr_use_visitor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947cbda5eb557ee3015b2310adfc80a393e42051/compiler%2Frustc_typeck%2Fsrc%2Fexpr_use_visitor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fexpr_use_visitor.rs?ref=947cbda5eb557ee3015b2310adfc80a393e42051", "patch": "@@ -498,12 +498,10 @@ impl<'a, 'tcx> ExprUseVisitor<'a, 'tcx> {\n         f(self);\n         if let Some(els) = els {\n             // borrowing because we need to test the descriminant\n-            // self.borrow_expr(expr, ImmBorrow);\n-            self.maybe_read_scrutinee(expr, expr_place, from_ref(pat).iter());\n+            self.maybe_read_scrutinee(expr, expr_place.clone(), from_ref(pat).iter());\n             self.walk_block(els)\n-        } else {\n-            self.walk_irrefutable_pat(&expr_place, &pat);\n         }\n+        self.walk_irrefutable_pat(&expr_place, &pat);\n     }\n \n     /// Indicates that the value of `blk` will be consumed, meaning either copied or moved"}]}