{"sha": "e792ec3eca6214329d053715a6477cc4f7a05672", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3OTJlYzNlY2E2MjE0MzI5ZDA1MzcxNWE2NDc3Y2M0ZjdhMDU2NzI=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-10T11:17:38Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-02-10T11:17:38Z"}, "message": "G: use name refs in paths", "tree": {"sha": "983d71dd78990607924edce788a0326db1bfad20", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/983d71dd78990607924edce788a0326db1bfad20"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e792ec3eca6214329d053715a6477cc4f7a05672", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e792ec3eca6214329d053715a6477cc4f7a05672", "html_url": "https://github.com/rust-lang/rust/commit/e792ec3eca6214329d053715a6477cc4f7a05672", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e792ec3eca6214329d053715a6477cc4f7a05672/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa2131365e8ff2a6fa4fcb47aa04e6d51a32943e", "url": "https://api.github.com/repos/rust-lang/rust/commits/fa2131365e8ff2a6fa4fcb47aa04e6d51a32943e", "html_url": "https://github.com/rust-lang/rust/commit/fa2131365e8ff2a6fa4fcb47aa04e6d51a32943e"}], "stats": {"total": 144, "additions": 93, "deletions": 51}, "files": [{"sha": "abf9fe86c43959e9183568aaf97f7c08608300f2", "filename": "src/parser/grammar/mod.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/src%2Fparser%2Fgrammar%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/src%2Fparser%2Fgrammar%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fmod.rs?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -60,6 +60,16 @@ fn name(p: &mut Parser) {\n     }\n }\n \n+fn name_ref(p: &mut Parser) {\n+    if p.at(IDENT) {\n+        let m = p.start();\n+        p.bump();\n+        m.complete(p, NAME_REF);\n+    } else {\n+        p.error(\"expected identifier\");\n+    }\n+}\n+\n fn error_block(p: &mut Parser, message: &str) {\n     assert!(p.at(L_CURLY));\n     let err = p.start();"}, {"sha": "6ed315c3da9adc5f7b9e038cc6d4ea9df136f3b2", "filename": "src/parser/grammar/paths.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/src%2Fparser%2Fgrammar%2Fpaths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/src%2Fparser%2Fgrammar%2Fpaths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparser%2Fgrammar%2Fpaths.rs?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -42,7 +42,8 @@ fn path_segment(p: &mut Parser, first: bool) {\n         p.eat(COLONCOLON);\n     }\n     match p.current() {\n-        IDENT | SELF_KW | SUPER_KW => p.bump(),\n+        IDENT => name_ref(p),\n+        SELF_KW | SUPER_KW => p.bump(),\n         _ => {\n             p.error(\"expected identifier\");\n         }"}, {"sha": "0a67002ac74ba022959faec8c5744a7e5f79f20d", "filename": "tests/data/parser/err/0004_use_path_bad_segment.txt", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Ferr%2F0004_use_path_bad_segment.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Ferr%2F0004_use_path_bad_segment.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Ferr%2F0004_use_path_bad_segment.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -5,8 +5,9 @@ FILE@[0; 12)\n       PATH@[3; 9)\n         PATH@[3; 7)\n           PATH_SEGMENT@[3; 7)\n-            WHITESPACE@[3; 4)\n-            IDENT@[4; 7) \"foo\"\n+            NAME_REF@[3; 7)\n+              WHITESPACE@[3; 4)\n+              IDENT@[4; 7) \"foo\"\n         COLONCOLON@[7; 9)\n         PATH_SEGMENT@[9; 9)\n         err: `expected identifier`"}, {"sha": "8daf4be0daf1d9d6c730e6eb7b35693e560f23f2", "filename": "tests/data/parser/ok/0009_use_item.txt", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0009_use_item.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0009_use_item.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0009_use_item.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -4,8 +4,9 @@ FILE@[0; 19)\n     USE_TREE@[3; 7)\n       PATH@[3; 7)\n         PATH_SEGMENT@[3; 7)\n-          WHITESPACE@[3; 4)\n-          IDENT@[4; 7) \"foo\"\n+          NAME_REF@[3; 7)\n+            WHITESPACE@[3; 4)\n+            IDENT@[4; 7) \"foo\"\n     SEMI@[7; 8)\n     WHITESPACE@[8; 9)\n   USE_ITEM@[9; 19)\n@@ -15,5 +16,6 @@ FILE@[0; 19)\n         PATH_SEGMENT@[12; 18)\n           WHITESPACE@[12; 13)\n           COLONCOLON@[13; 15)\n-          IDENT@[15; 18) \"bar\"\n+          NAME_REF@[15; 18)\n+            IDENT@[15; 18) \"bar\"\n     SEMI@[18; 19)"}, {"sha": "96d10d741bdbb42d8a4c2b222a31d75426bfa880", "filename": "tests/data/parser/ok/0010_use_path_segments.txt", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0010_use_path_segments.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0010_use_path_segments.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0010_use_path_segments.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -8,13 +8,16 @@ FILE@[0; 40)\n             PATH_SEGMENT@[3; 9)\n               WHITESPACE@[3; 4)\n               COLONCOLON@[4; 6)\n-              IDENT@[6; 9) \"foo\"\n+              NAME_REF@[6; 9)\n+                IDENT@[6; 9) \"foo\"\n           COLONCOLON@[9; 11)\n           PATH_SEGMENT@[11; 14)\n-            IDENT@[11; 14) \"bar\"\n+            NAME_REF@[11; 14)\n+              IDENT@[11; 14) \"bar\"\n         COLONCOLON@[14; 16)\n         PATH_SEGMENT@[16; 19)\n-          IDENT@[16; 19) \"baz\"\n+          NAME_REF@[16; 19)\n+            IDENT@[16; 19) \"baz\"\n     SEMI@[19; 20)\n     WHITESPACE@[20; 21)\n   USE_ITEM@[21; 40)\n@@ -24,13 +27,16 @@ FILE@[0; 40)\n         PATH@[24; 33)\n           PATH@[24; 28)\n             PATH_SEGMENT@[24; 28)\n-              WHITESPACE@[24; 25)\n-              IDENT@[25; 28) \"foo\"\n+              NAME_REF@[24; 28)\n+                WHITESPACE@[24; 25)\n+                IDENT@[25; 28) \"foo\"\n           COLONCOLON@[28; 30)\n           PATH_SEGMENT@[30; 33)\n-            IDENT@[30; 33) \"bar\"\n+            NAME_REF@[30; 33)\n+              IDENT@[30; 33) \"bar\"\n         COLONCOLON@[33; 35)\n         PATH_SEGMENT@[35; 38)\n-          IDENT@[35; 38) \"baz\"\n+          NAME_REF@[35; 38)\n+            IDENT@[35; 38) \"baz\"\n     SEMI@[38; 39)\n     WHITESPACE@[39; 40)"}, {"sha": "c138b73f369175a08bec58ea36225fa6683003c4", "filename": "tests/data/parser/ok/0012_visibility.txt", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0012_visibility.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0012_visibility.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0012_visibility.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -67,14 +67,17 @@ FILE@[0; 98)\n         PATH@[72; 81)\n           PATH@[72; 76)\n             PATH_SEGMENT@[72; 76)\n-              WHITESPACE@[72; 73)\n-              IDENT@[73; 76) \"foo\"\n+              NAME_REF@[72; 76)\n+                WHITESPACE@[72; 73)\n+                IDENT@[73; 76) \"foo\"\n           COLONCOLON@[76; 78)\n           PATH_SEGMENT@[78; 81)\n-            IDENT@[78; 81) \"bar\"\n+            NAME_REF@[78; 81)\n+              IDENT@[78; 81) \"bar\"\n         COLONCOLON@[81; 83)\n         PATH_SEGMENT@[83; 86)\n-          IDENT@[83; 86) \"baz\"\n+          NAME_REF@[83; 86)\n+            IDENT@[83; 86) \"baz\"\n       R_PAREN@[86; 87)\n       WHITESPACE@[87; 88)\n     FN_KW@[88; 90)"}, {"sha": "3542b216415679caf7f1fb1304b6f2d6f789fbad", "filename": "tests/data/parser/ok/0013_use_path_self_super.txt", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0013_use_path_self_super.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0013_use_path_self_super.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0013_use_path_self_super.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -9,7 +9,8 @@ FILE@[0; 65)\n             SELF_KW@[4; 8)\n         COLONCOLON@[8; 10)\n         PATH_SEGMENT@[10; 13)\n-          IDENT@[10; 13) \"foo\"\n+          NAME_REF@[10; 13)\n+            IDENT@[10; 13) \"foo\"\n     SEMI@[13; 14)\n     WHITESPACE@[14; 15)\n   USE_ITEM@[15; 38)\n@@ -26,7 +27,8 @@ FILE@[0; 65)\n             SUPER_KW@[26; 31)\n         COLONCOLON@[31; 33)\n         PATH_SEGMENT@[33; 36)\n-          IDENT@[33; 36) \"bar\"\n+          NAME_REF@[33; 36)\n+            IDENT@[33; 36) \"bar\"\n     SEMI@[36; 37)\n     WHITESPACE@[37; 38)\n   USE_ITEM@[38; 65)\n@@ -42,12 +44,14 @@ FILE@[0; 65)\n                 SELF_KW@[44; 48)\n             COLONCOLON@[48; 50)\n             PATH_SEGMENT@[50; 51)\n-              IDENT@[50; 51) \"a\"\n+              NAME_REF@[50; 51)\n+                IDENT@[50; 51) \"a\"\n           COLONCOLON@[51; 53)\n           PATH_SEGMENT@[53; 58)\n             SUPER_KW@[53; 58)\n         COLONCOLON@[58; 60)\n         PATH_SEGMENT@[60; 63)\n-          IDENT@[60; 63) \"bar\"\n+          NAME_REF@[60; 63)\n+            IDENT@[60; 63) \"bar\"\n     SEMI@[63; 64)\n     WHITESPACE@[64; 65)"}, {"sha": "a7326214d858c4277406d3894df9a28352313287", "filename": "tests/data/parser/ok/0014_use_tree.txt", "status": "modified", "additions": 16, "deletions": 10, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0014_use_tree.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0014_use_tree.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0014_use_tree.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -36,8 +36,9 @@ FILE@[0; 81)\n     USE_TREE@[37; 44)\n       PATH@[37; 41)\n         PATH_SEGMENT@[37; 41)\n-          WHITESPACE@[37; 38)\n-          IDENT@[38; 41) \"foo\"\n+          NAME_REF@[37; 41)\n+            WHITESPACE@[37; 38)\n+            IDENT@[38; 41) \"foo\"\n       COLONCOLON@[41; 43)\n       STAR@[43; 44)\n     SEMI@[44; 45)\n@@ -47,8 +48,9 @@ FILE@[0; 81)\n     USE_TREE@[49; 57)\n       PATH@[49; 53)\n         PATH_SEGMENT@[49; 53)\n-          WHITESPACE@[49; 50)\n-          IDENT@[50; 53) \"foo\"\n+          NAME_REF@[49; 53)\n+            WHITESPACE@[49; 50)\n+            IDENT@[50; 53) \"foo\"\n       COLONCOLON@[53; 55)\n       L_CURLY@[55; 56)\n       R_CURLY@[56; 57)\n@@ -61,25 +63,29 @@ FILE@[0; 81)\n         PATH_SEGMENT@[62; 68)\n           WHITESPACE@[62; 63)\n           COLONCOLON@[63; 65)\n-          IDENT@[65; 68) \"foo\"\n+          NAME_REF@[65; 68)\n+            IDENT@[65; 68) \"foo\"\n       COLONCOLON@[68; 70)\n       L_CURLY@[70; 71)\n       USE_TREE@[71; 72)\n         PATH@[71; 72)\n           PATH_SEGMENT@[71; 72)\n-            IDENT@[71; 72) \"a\"\n+            NAME_REF@[71; 72)\n+              IDENT@[71; 72) \"a\"\n       COMMA@[72; 73)\n       USE_TREE@[73; 75)\n         PATH@[73; 75)\n           PATH_SEGMENT@[73; 75)\n-            WHITESPACE@[73; 74)\n-            IDENT@[74; 75) \"b\"\n+            NAME_REF@[73; 75)\n+              WHITESPACE@[73; 74)\n+              IDENT@[74; 75) \"b\"\n       COMMA@[75; 76)\n       USE_TREE@[76; 78)\n         PATH@[76; 78)\n           PATH_SEGMENT@[76; 78)\n-            WHITESPACE@[76; 77)\n-            IDENT@[77; 78) \"c\"\n+            NAME_REF@[76; 78)\n+              WHITESPACE@[76; 77)\n+              IDENT@[77; 78) \"c\"\n       R_CURLY@[78; 79)\n     SEMI@[79; 80)\n     WHITESPACE@[80; 81)"}, {"sha": "2ba15bbee5fb4a3ea14b4140fb0a72a4de3773a3", "filename": "tests/data/parser/ok/0015_use_tree.txt", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0015_use_tree.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0015_use_tree.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0015_use_tree.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -4,9 +4,10 @@ FILE@[0; 55)\n     USE_TREE@[3; 14)\n       PATH@[3; 8)\n         PATH_SEGMENT@[3; 8)\n-          WHITESPACE@[3; 4)\n-          IDENT@[4; 7) \"foo\"\n-          WHITESPACE@[7; 8)\n+          NAME_REF@[3; 8)\n+            WHITESPACE@[3; 4)\n+            IDENT@[4; 7) \"foo\"\n+            WHITESPACE@[7; 8)\n       ALIAS@[8; 14)\n         AS_KW@[8; 10)\n         NAME@[10; 14)\n@@ -19,15 +20,17 @@ FILE@[0; 55)\n     USE_TREE@[19; 53)\n       PATH@[19; 23)\n         PATH_SEGMENT@[19; 23)\n-          WHITESPACE@[19; 20)\n-          IDENT@[20; 23) \"foo\"\n+          NAME_REF@[19; 23)\n+            WHITESPACE@[19; 20)\n+            IDENT@[20; 23) \"foo\"\n       COLONCOLON@[23; 25)\n       L_CURLY@[25; 26)\n       USE_TREE@[26; 32)\n         PATH@[26; 28)\n           PATH_SEGMENT@[26; 28)\n-            IDENT@[26; 27) \"a\"\n-            WHITESPACE@[27; 28)\n+            NAME_REF@[26; 28)\n+              IDENT@[26; 27) \"a\"\n+              WHITESPACE@[27; 28)\n         ALIAS@[28; 32)\n           AS_KW@[28; 30)\n           NAME@[30; 32)\n@@ -48,8 +51,9 @@ FILE@[0; 55)\n           PATH_SEGMENT@[41; 48)\n             WHITESPACE@[41; 42)\n             COLONCOLON@[42; 44)\n-            IDENT@[44; 47) \"foo\"\n-            WHITESPACE@[47; 48)\n+            NAME_REF@[44; 48)\n+              IDENT@[44; 47) \"foo\"\n+              WHITESPACE@[47; 48)\n         ALIAS@[48; 52)\n           AS_KW@[48; 50)\n           NAME@[50; 52)"}, {"sha": "7132eec6e92510d70805e9607cf01775e9250aca", "filename": "tests/data/parser/ok/0020_type_param_bounds.txt", "status": "modified", "additions": 16, "deletions": 11, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt", "raw_url": "https://github.com/rust-lang/rust/raw/e792ec3eca6214329d053715a6477cc4f7a05672/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdata%2Fparser%2Fok%2F0020_type_param_bounds.txt?ref=e792ec3eca6214329d053715a6477cc4f7a05672", "patch": "@@ -97,8 +97,9 @@ FILE@[0; 200)\n         PLUS@[107; 108)\n         PATH@[108; 114)\n           PATH_SEGMENT@[108; 114)\n-            WHITESPACE@[108; 109)\n-            IDENT@[109; 114) \"Clone\"\n+            NAME_REF@[108; 114)\n+              WHITESPACE@[108; 109)\n+              IDENT@[109; 114) \"Clone\"\n       R_ANGLE@[114; 115)\n     SEMI@[115; 116)\n     WHITESPACE@[116; 117)\n@@ -114,14 +115,16 @@ FILE@[0; 200)\n         COLON@[127; 128)\n         PATH@[128; 135)\n           PATH_SEGMENT@[128; 135)\n-            WHITESPACE@[128; 129)\n-            IDENT@[129; 134) \"Clone\"\n-            WHITESPACE@[134; 135)\n+            NAME_REF@[128; 135)\n+              WHITESPACE@[128; 129)\n+              IDENT@[129; 134) \"Clone\"\n+              WHITESPACE@[134; 135)\n         PLUS@[135; 136)\n         PATH@[136; 141)\n           PATH_SEGMENT@[136; 141)\n-            WHITESPACE@[136; 137)\n-            IDENT@[137; 141) \"Copy\"\n+            NAME_REF@[136; 141)\n+              WHITESPACE@[136; 137)\n+              IDENT@[137; 141) \"Copy\"\n       R_ANGLE@[141; 142)\n     SEMI@[142; 143)\n     WHITESPACE@[143; 144)\n@@ -139,8 +142,9 @@ FILE@[0; 200)\n           PATH_SEGMENT@[155; 162)\n             WHITESPACE@[155; 156)\n             COLONCOLON@[156; 158)\n-            IDENT@[158; 161) \"Foo\"\n-            WHITESPACE@[161; 162)\n+            NAME_REF@[158; 162)\n+              IDENT@[158; 161) \"Foo\"\n+              WHITESPACE@[161; 162)\n         PLUS@[162; 163)\n         PATH@[163; 174)\n           PATH@[163; 168)\n@@ -149,8 +153,9 @@ FILE@[0; 200)\n               SELF_KW@[164; 168)\n           COLONCOLON@[168; 170)\n           PATH_SEGMENT@[170; 174)\n-            IDENT@[170; 173) \"Bar\"\n-            WHITESPACE@[173; 174)\n+            NAME_REF@[170; 174)\n+              IDENT@[170; 173) \"Bar\"\n+              WHITESPACE@[173; 174)\n         PLUS@[174; 175)\n         WHITESPACE@[175; 176)\n         LIFETIME@[176; 178) \"'a\""}]}