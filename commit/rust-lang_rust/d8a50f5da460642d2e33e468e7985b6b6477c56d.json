{"sha": "d8a50f5da460642d2e33e468e7985b6b6477c56d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4YTUwZjVkYTQ2MDY0MmQyZTMzZTQ2OGU3OTg1YjZiNjQ3N2M1NmQ=", "commit": {"author": {"name": "Martin Carton", "email": "cartonmartin+github@gmail.com", "date": "2016-08-28T15:32:25Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-08-28T15:32:25Z"}, "message": "Merge pull request #1201 from Manishearth/rustup\n\nRustup to a23064af5 2016-08-27 and bump to 0.0.86", "tree": {"sha": "634a0088ccd2a36807e718d19256c3edf2daf8ac", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/634a0088ccd2a36807e718d19256c3edf2daf8ac"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d8a50f5da460642d2e33e468e7985b6b6477c56d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d8a50f5da460642d2e33e468e7985b6b6477c56d", "html_url": "https://github.com/rust-lang/rust/commit/d8a50f5da460642d2e33e468e7985b6b6477c56d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d8a50f5da460642d2e33e468e7985b6b6477c56d/comments", "author": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b2aaa2a51c39df9a985b1a9a77306b147e0505d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/b2aaa2a51c39df9a985b1a9a77306b147e0505d4", "html_url": "https://github.com/rust-lang/rust/commit/b2aaa2a51c39df9a985b1a9a77306b147e0505d4"}, {"sha": "f3062f4199d42a0d1f93e1bdbe4a2d3e22ac2cec", "url": "https://api.github.com/repos/rust-lang/rust/commits/f3062f4199d42a0d1f93e1bdbe4a2d3e22ac2cec", "html_url": "https://github.com/rust-lang/rust/commit/f3062f4199d42a0d1f93e1bdbe4a2d3e22ac2cec"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "185072debab10df08a42fb7c1f485319ce555bc1", "filename": "CHANGELOG.md", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -1,7 +1,8 @@\n # Change Log\n All notable changes to this project will be documented in this file.\n \n-## 0.0.86 \u2014 ?\n+## 0.0.86 \u2014 2016-08-28\n+* Rustup to *rustc 1.13.0-nightly (a23064af5 2016-08-27)*\n * New lints: [`missing_docs_in_private_items`], [`zero_prefixed_literal`]\n \n ## 0.0.85 \u2014 2016-08-19"}, {"sha": "78c4b285f70c37259dcc026685a3e029bed9d647", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy\"\n-version = \"0.0.85\"\n+version = \"0.0.86\"\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\",\n \t\"Andre Bogus <bogusandre@gmail.com>\",\n@@ -25,7 +25,7 @@ test = false\n \n [dependencies]\n # begin automatic update\n-clippy_lints = { version = \"0.0.85\", path = \"clippy_lints\" }\n+clippy_lints = { version = \"0.0.86\", path = \"clippy_lints\" }\n # end automatic update\n \n [dev-dependencies]"}, {"sha": "f629e1deb894218bc4ea7f5563b9bb5c4d442405", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -1,7 +1,7 @@\n [package]\n name = \"clippy_lints\"\n # begin automatic update\n-version = \"0.0.85\"\n+version = \"0.0.86\"\n # end automatic update\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\","}, {"sha": "a5f3b1c12f6c3ef5df04980c316640ad70958611", "filename": "clippy_lints/src/derive.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fderive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fderive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fderive.rs?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -107,7 +107,7 @@ fn check_hash_peq<'a, 'tcx: 'a>(cx: &LateContext<'a, 'tcx>, span: Span, trait_re\n \n             // Only care about `impl PartialEq<Foo> for Foo`\n             // For `impl PartialEq<B> for A, input_types is [A, B]\n-            if trait_ref.input_types()[1] == ty {\n+            if trait_ref.substs.type_at(1) == ty {\n                 let mess = if peq_is_automatically_derived {\n                     \"you are implementing `Hash` explicitly but have derived `PartialEq`\"\n                 } else {"}, {"sha": "30c7e067d289bc72959d0a42a9b8a240595565bb", "filename": "clippy_lints/src/escape.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fescape.rs?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -144,7 +144,7 @@ impl<'a, 'tcx: 'a+'gcx, 'gcx: 'a> Delegate<'tcx> for EscapeDelegate<'a, 'tcx, 'g\n         }\n \n     }\n-    fn borrow(&mut self, borrow_id: NodeId, _: Span, cmt: cmt<'tcx>, _: ty::Region, _: ty::BorrowKind,\n+    fn borrow(&mut self, borrow_id: NodeId, _: Span, cmt: cmt<'tcx>, _: &ty::Region, _: ty::BorrowKind,\n               loan_cause: LoanCause) {\n \n         if let Categorization::Local(lid) = cmt.cat {"}, {"sha": "c5ce53e66e5b5620c94f058fac2195c18871590e", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -8,7 +8,6 @@\n #![feature(rustc_private)]\n #![feature(slice_patterns)]\n #![feature(stmt_expr_attributes)]\n-#![feature(type_macros)]\n \n #![allow(indexing_slicing, shadow_reuse, unknown_lints, missing_docs_in_private_items)]\n "}, {"sha": "02366c4a52fb80e698a7f6968d58ccd68c77b5eb", "filename": "clippy_lints/src/methods.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fmethods.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fmethods.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods.rs?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -1083,12 +1083,12 @@ fn get_error_type<'a>(cx: &LateContext, ty: ty::Ty<'a>) -> Option<ty::Ty<'a>> {\n     if !match_type(cx, ty, &paths::RESULT) {\n         return None;\n     }\n+\n     if let ty::TyEnum(_, substs) = ty.sty {\n-        if let Some(err_ty) = substs.types.get(1) {\n-            return Some(err_ty);\n-        }\n+        substs.types().nth(1)\n+    } else {\n+        None\n     }\n-    None\n }\n \n /// This checks whether a given type is known to implement Debug."}, {"sha": "db2c003b61d73a569f3c76f6630b401c6d331be7", "filename": "clippy_lints/src/mutex_atomic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmutex_atomic.rs?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -59,7 +59,7 @@ impl LateLintPass for MutexAtomic {\n         let ty = cx.tcx.expr_ty(expr);\n         if let ty::TyStruct(_, subst) = ty.sty {\n             if match_type(cx, ty, &paths::MUTEX) {\n-                let mutex_param = &subst.types[0].sty;\n+                let mutex_param = &subst.type_at(0).sty;\n                 if let Some(atomic_name) = get_atomic_name(mutex_param) {\n                     let msg = format!(\"Consider using an {} instead of a Mutex here. If you just want the locking \\\n                                        behaviour and not the internal type, consider using Mutex<()>.\","}, {"sha": "9e9ff65ac5ed3b773369aa0a96f385d9210decd9", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -279,7 +279,7 @@ pub fn implements_trait<'a, 'tcx>(cx: &LateContext<'a, 'tcx>, ty: ty::Ty<'tcx>,\n                                                         trait_id,\n                                                         0,\n                                                         ty,\n-                                                        ty_params);\n+                                                        &ty_params);\n \n         traits::SelectionContext::new(&infcx).evaluate_obligation_conservatively(&obligation)\n     })"}, {"sha": "053cc69d7e75845267ce223fb5a0519e088ae106", "filename": "clippy_lints/src/vec.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8a50f5da460642d2e33e468e7985b6b6477c56d/clippy_lints%2Fsrc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fvec.rs?ref=d8a50f5da460642d2e33e468e7985b6b6477c56d", "patch": "@@ -89,7 +89,7 @@ fn check_vec_macro(cx: &LateContext, vec_args: &higher::VecArgs, span: Span) {\n /// Return the item type of the vector (ie. the `T` in `Vec<T>`).\n fn vec_type(ty: ty::Ty) -> ty::Ty {\n     if let ty::TyStruct(_, substs) = ty.sty {\n-        substs.types[0]\n+        substs.type_at(0)\n     } else {\n         panic!(\"The type of `vec!` is a not a struct?\");\n     }"}]}