{"sha": "77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc3ZGQwZWE2MmFhNmEyYWY3MGRhNGM1ZTA1ZGUwNjRlZWUxODJhNmM=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-05-31T17:29:36Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-05-31T17:29:36Z"}, "message": "Add tests for empty blocks", "tree": {"sha": "3f5ee44a0101b4ba63d35326b1ea7b360886a331", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3f5ee44a0101b4ba63d35326b1ea7b360886a331"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl7T6YAACgkQaTCGhp1Q\nZjdTGw//WtUzfZQtWsglGdgICJSfQaIwhtkRLpf36pQMQKsY62bN/8eckiatXYEA\n9bi9RFWH2ZJEsMVVrr2eyKs60UfDIbr8eFVvLT+pNqzBIjU+tkjl9P/ISm0i1DbN\ndCKOtyLanlOCS3P48geOR73g8W0YpVXCslDKHyZ++zizVo+RT6yPLnMtax4eCNlK\naajNzD3qUAVcyenb1d5Y9geEKYTkQVQNoF5utoa+Jx5NqDmbPfMZszK7rUOdo/p6\nouh6EuN0Ai9pNvW0L1S/6MTyEYx3vEL1FgNapir+bvFnVruFmwe0jg/QH6wXmfM2\nYlZI0ZBhNLTxx2qzx5jnFLnkzQgHf2VeBqbi2ENsAD/l+Q534DAEdRKkpOcHyoiF\n7PBL6EMBtiJ6l53Ckwvt/r4aBgkWsItY/5oH04y/zgLYwi8OVt3sFQo+VY3lORAE\np/G8+KplUD0z0EQIHuw8Y6rCbD+cPOuUxl1E3w/bcx5AxQnf5+S39k35ImWIPKQg\nbRYL4QaUpRIV08II+fSu4eC3K8OFDQgURvFS/tmknXRivKbrzzMkqiZElZNO0E53\nP+OdHsD6HDnhL6NMPgHKbEi6SiFG3mKSNzCMMA2+/DPGxhGdzCnu2nnUSqQYX2Od\nvmRGQUgB3F6QZX1Ksz3zvxaqJghbQjG3bZt9ldTeL5XVy61SC0M=\n=F9xf\n-----END PGP SIGNATURE-----", "payload": "tree 3f5ee44a0101b4ba63d35326b1ea7b360886a331\nparent a9cde3a804808e82402888a20878053404a8eded\nauthor flip1995 <hello@philkrones.com> 1590946176 +0200\ncommitter flip1995 <hello@philkrones.com> 1590946176 +0200\n\nAdd tests for empty blocks\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "html_url": "https://github.com/rust-lang/rust/commit/77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9cde3a804808e82402888a20878053404a8eded", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9cde3a804808e82402888a20878053404a8eded", "html_url": "https://github.com/rust-lang/rust/commit/a9cde3a804808e82402888a20878053404a8eded"}], "stats": {"total": 125, "additions": 85, "deletions": 40}, "files": [{"sha": "2992abae775b8ffb438f5ae4e645899698a1302e", "filename": "tests/ui/unit_arg.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg.rs?ref=77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "patch": "@@ -20,7 +20,6 @@ impl Bar {\n }\n \n fn bad() {\n-    foo({});\n     foo({\n         1;\n     });\n@@ -29,7 +28,6 @@ fn bad() {\n         foo(1);\n         foo(2);\n     });\n-    foo3({}, 2, 2);\n     let b = Bar;\n     b.bar({\n         1;"}, {"sha": "56f6a855dfa554d725aa29f6cb3ba12cf5d58175", "filename": "tests/ui/unit_arg.stderr", "status": "modified", "additions": 8, "deletions": 38, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg.stderr?ref=77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "patch": "@@ -1,27 +1,12 @@\n error: passing a unit value to a function\n   --> $DIR/unit_arg.rs:23:5\n    |\n-LL |     foo({});\n-   |     ^^^^^^^\n-   |\n-   = note: `-D clippy::unit-arg` implied by `-D warnings`\n-help: move the expression in front of the call...\n-   |\n-LL |     {};\n-   |\n-help: ...and use a unit literal instead\n-   |\n-LL |     foo(());\n-   |         ^^\n-\n-error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:24:5\n-   |\n LL | /     foo({\n LL | |         1;\n LL | |     });\n    | |______^\n    |\n+   = note: `-D clippy::unit-arg` implied by `-D warnings`\n help: remove the semicolon from the last statement in the block\n    |\n LL |         1\n@@ -38,7 +23,7 @@ LL |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:27:5\n+  --> $DIR/unit_arg.rs:26:5\n    |\n LL |     foo(foo(1));\n    |     ^^^^^^^^^^^\n@@ -53,7 +38,7 @@ LL |     foo(());\n    |         ^^\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:28:5\n+  --> $DIR/unit_arg.rs:27:5\n    |\n LL | /     foo({\n LL | |         foo(1);\n@@ -80,21 +65,6 @@ LL |     foo(());\n error: passing a unit value to a function\n   --> $DIR/unit_arg.rs:32:5\n    |\n-LL |     foo3({}, 2, 2);\n-   |     ^^^^^^^^^^^^^^\n-   |\n-help: move the expression in front of the call...\n-   |\n-LL |     {};\n-   |\n-help: ...and use a unit literal instead\n-   |\n-LL |     foo3((), 2, 2);\n-   |          ^^\n-\n-error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:34:5\n-   |\n LL | /     b.bar({\n LL | |         1;\n LL | |     });\n@@ -116,7 +86,7 @@ LL |     b.bar(());\n    |           ^^\n \n error: passing unit values to a function\n-  --> $DIR/unit_arg.rs:37:5\n+  --> $DIR/unit_arg.rs:35:5\n    |\n LL |     taking_multiple_units(foo(0), foo(1));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -132,7 +102,7 @@ LL |     taking_multiple_units((), ());\n    |                           ^^  ^^\n \n error: passing unit values to a function\n-  --> $DIR/unit_arg.rs:38:5\n+  --> $DIR/unit_arg.rs:36:5\n    |\n LL | /     taking_multiple_units(foo(0), {\n LL | |         foo(1);\n@@ -158,7 +128,7 @@ LL |     taking_multiple_units((), ());\n    |                           ^^  ^^\n \n error: passing unit values to a function\n-  --> $DIR/unit_arg.rs:42:5\n+  --> $DIR/unit_arg.rs:40:5\n    |\n LL | /     taking_multiple_units(\n LL | |         {\n@@ -193,7 +163,7 @@ LL |         (),\n    |\n \n error: passing a unit value to a function\n-  --> $DIR/unit_arg.rs:84:5\n+  --> $DIR/unit_arg.rs:82:5\n    |\n LL |     Some(foo(1))\n    |     ^^^^^^^^^^^^\n@@ -207,5 +177,5 @@ help: ...and use a unit literal instead\n LL |     Some(())\n    |          ^^\n \n-error: aborting due to 10 previous errors\n+error: aborting due to 8 previous errors\n "}, {"sha": "18a31eb3deee26f400f9266c8bb6741017826d15", "filename": "tests/ui/unit_arg_empty_blocks.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg_empty_blocks.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg_empty_blocks.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg_empty_blocks.rs?ref=77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "patch": "@@ -0,0 +1,26 @@\n+#![warn(clippy::unit_arg)]\n+#![allow(clippy::no_effect, unused_must_use, unused_variables)]\n+\n+use std::fmt::Debug;\n+\n+fn foo<T: Debug>(t: T) {\n+    println!(\"{:?}\", t);\n+}\n+\n+fn foo3<T1: Debug, T2: Debug, T3: Debug>(t1: T1, t2: T2, t3: T3) {\n+    println!(\"{:?}, {:?}, {:?}\", t1, t2, t3);\n+}\n+\n+fn bad() {\n+    foo({});\n+    foo3({}, 2, 2);\n+    taking_two_units({}, foo(0));\n+    taking_three_units({}, foo(0), foo(1));\n+}\n+\n+fn taking_two_units(a: (), b: ()) {}\n+fn taking_three_units(a: (), b: (), c: ()) {}\n+\n+fn main() {\n+    bad();\n+}"}, {"sha": "bb58483584b3e9bf419df2506de17a6d52c3b0cd", "filename": "tests/ui/unit_arg_empty_blocks.stderr", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/rust-lang/rust/blob/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg_empty_blocks.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/77dd0ea62aa6a2af70da4c5e05de064eee182a6c/tests%2Fui%2Funit_arg_empty_blocks.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funit_arg_empty_blocks.stderr?ref=77dd0ea62aa6a2af70da4c5e05de064eee182a6c", "patch": "@@ -0,0 +1,51 @@\n+error: passing a unit value to a function\n+  --> $DIR/unit_arg_empty_blocks.rs:15:5\n+   |\n+LL |     foo({});\n+   |     ^^^^--^\n+   |         |\n+   |         help: use a unit literal instead: `()`\n+   |\n+   = note: `-D clippy::unit-arg` implied by `-D warnings`\n+\n+error: passing a unit value to a function\n+  --> $DIR/unit_arg_empty_blocks.rs:16:5\n+   |\n+LL |     foo3({}, 2, 2);\n+   |     ^^^^^--^^^^^^^\n+   |          |\n+   |          help: use a unit literal instead: `()`\n+\n+error: passing unit values to a function\n+  --> $DIR/unit_arg_empty_blocks.rs:17:5\n+   |\n+LL |     taking_two_units({}, foo(0));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: move the expression in front of the call...\n+   |\n+LL |     foo(0);\n+   |\n+help: ...and use unit literals instead\n+   |\n+LL |     taking_two_units((), ());\n+   |                      ^^  ^^\n+\n+error: passing unit values to a function\n+  --> $DIR/unit_arg_empty_blocks.rs:18:5\n+   |\n+LL |     taking_three_units({}, foo(0), foo(1));\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: move the expressions in front of the call...\n+   |\n+LL |     foo(0);\n+LL |     foo(1);\n+   |\n+help: ...and use unit literals instead\n+   |\n+LL |     taking_three_units((), (), ());\n+   |                        ^^  ^^  ^^\n+\n+error: aborting due to 4 previous errors\n+"}]}