{"sha": "6c73adf3240261315446582cb57de079bf2b87f9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjNzNhZGYzMjQwMjYxMzE1NDQ2NTgyY2I1N2RlMDc5YmYyYjg3Zjk=", "commit": {"author": {"name": "varkor", "email": "github@varkor.com", "date": "2020-10-28T00:41:40Z"}, "committer": {"name": "varkor", "email": "github@varkor.com", "date": "2020-10-28T10:47:27Z"}, "message": "Adjust turbofish help message for const generics", "tree": {"sha": "0af836fbee45e0105aac6be7313d9a8f85f41b75", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0af836fbee45e0105aac6be7313d9a8f85f41b75"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6c73adf3240261315446582cb57de079bf2b87f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6c73adf3240261315446582cb57de079bf2b87f9", "html_url": "https://github.com/rust-lang/rust/commit/6c73adf3240261315446582cb57de079bf2b87f9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6c73adf3240261315446582cb57de079bf2b87f9/comments", "author": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac1454001cee3f344a1104fd0cf4012b93443b0b", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac1454001cee3f344a1104fd0cf4012b93443b0b", "html_url": "https://github.com/rust-lang/rust/commit/ac1454001cee3f344a1104fd0cf4012b93443b0b"}], "stats": {"total": 59, "additions": 30, "deletions": 29}, "files": [{"sha": "debe6a5c12ca7b54f5d980a30a86ee82929cb46d", "filename": "compiler/rustc_parse/src/parser/diagnostics.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6c73adf3240261315446582cb57de079bf2b87f9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c73adf3240261315446582cb57de079bf2b87f9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs?ref=6c73adf3240261315446582cb57de079bf2b87f9", "patch": "@@ -20,7 +20,8 @@ use rustc_span::{MultiSpan, Span, SpanSnippetError, DUMMY_SP};\n \n use tracing::{debug, trace};\n \n-const TURBOFISH: &str = \"use `::<...>` instead of `<...>` to specify type arguments\";\n+const TURBOFISH_SUGGESTION_STR: &str =\n+    \"use `::<...>` instead of `<...>` to specify type or const arguments\";\n \n /// Creates a placeholder argument.\n pub(super) fn dummy_arg(ident: Ident) -> Param {\n@@ -659,7 +660,7 @@ impl<'a> Parser<'a> {\n                                 Ok(_) => {\n                                     e.span_suggestion_verbose(\n                                         binop.span.shrink_to_lo(),\n-                                        \"use `::<...>` instead of `<...>` to specify type arguments\",\n+                                        TURBOFISH_SUGGESTION_STR,\n                                         \"::\".to_string(),\n                                         Applicability::MaybeIncorrect,\n                                     );\n@@ -814,7 +815,7 @@ impl<'a> Parser<'a> {\n                 let suggest = |err: &mut DiagnosticBuilder<'_>| {\n                     err.span_suggestion_verbose(\n                         op.span.shrink_to_lo(),\n-                        TURBOFISH,\n+                        TURBOFISH_SUGGESTION_STR,\n                         \"::\".to_string(),\n                         Applicability::MaybeIncorrect,\n                     );\n@@ -888,7 +889,7 @@ impl<'a> Parser<'a> {\n                         {\n                             // All we know is that this is `foo < bar >` and *nothing* else. Try to\n                             // be helpful, but don't attempt to recover.\n-                            err.help(TURBOFISH);\n+                            err.help(TURBOFISH_SUGGESTION_STR);\n                             err.help(\"or use `(...)` if you meant to specify fn arguments\");\n                         }\n "}, {"sha": "13742238a201aa47a48d000dd9e58c56fc4a8fa9", "filename": "src/test/ui/const-generics/min_const_generics/const-expression-suggest-missing-braces-without-turbofish.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fconst-generics%2Fmin_const_generics%2Fconst-expression-suggest-missing-braces-without-turbofish.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fconst-generics%2Fmin_const_generics%2Fconst-expression-suggest-missing-braces-without-turbofish.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fmin_const_generics%2Fconst-expression-suggest-missing-braces-without-turbofish.stderr?ref=6c73adf3240261315446582cb57de079bf2b87f9", "patch": "@@ -4,7 +4,7 @@ error: comparison operators cannot be chained\n LL |     foo<BAR + 3>();\n    |        ^       ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<BAR + 3>();\n    |        ^^\n@@ -15,7 +15,7 @@ error: comparison operators cannot be chained\n LL |     foo<BAR + BAR>();\n    |        ^         ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<BAR + BAR>();\n    |        ^^\n@@ -26,7 +26,7 @@ error: comparison operators cannot be chained\n LL |     foo<3 + 3>();\n    |        ^     ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<3 + 3>();\n    |        ^^\n@@ -37,7 +37,7 @@ error: comparison operators cannot be chained\n LL |     foo<BAR - 3>();\n    |        ^       ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<BAR - 3>();\n    |        ^^\n@@ -48,7 +48,7 @@ error: comparison operators cannot be chained\n LL |     foo<BAR - BAR>();\n    |        ^         ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<BAR - BAR>();\n    |        ^^\n@@ -59,7 +59,7 @@ error: comparison operators cannot be chained\n LL |     foo<100 - BAR>();\n    |        ^         ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<100 - BAR>();\n    |        ^^\n@@ -70,7 +70,7 @@ error: comparison operators cannot be chained\n LL |     foo<bar<i32>()>();\n    |        ^   ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<bar<i32>()>();\n    |        ^^\n@@ -87,7 +87,7 @@ error: comparison operators cannot be chained\n LL |     foo<bar::<i32>()>();\n    |        ^            ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<bar::<i32>()>();\n    |        ^^\n@@ -98,7 +98,7 @@ error: comparison operators cannot be chained\n LL |     foo<bar::<i32>() + BAR>();\n    |        ^                  ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<bar::<i32>() + BAR>();\n    |        ^^\n@@ -109,7 +109,7 @@ error: comparison operators cannot be chained\n LL |     foo<bar::<i32>() - BAR>();\n    |        ^                  ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<bar::<i32>() - BAR>();\n    |        ^^\n@@ -120,7 +120,7 @@ error: comparison operators cannot be chained\n LL |     foo<BAR - bar::<i32>()>();\n    |        ^                  ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<BAR - bar::<i32>()>();\n    |        ^^\n@@ -131,7 +131,7 @@ error: comparison operators cannot be chained\n LL |     foo<BAR - bar::<i32>()>();\n    |        ^                  ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     foo::<BAR - bar::<i32>()>();\n    |        ^^"}, {"sha": "2c2978d2bff2d8ad27d2240d9816e9372ad952ab", "filename": "src/test/ui/did_you_mean/issue-40396.stderr", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fdid_you_mean%2Fissue-40396.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fdid_you_mean%2Fissue-40396.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fissue-40396.stderr?ref=6c73adf3240261315446582cb57de079bf2b87f9", "patch": "@@ -4,7 +4,7 @@ error: comparison operators cannot be chained\n LL |     (0..13).collect<Vec<i32>>();\n    |                    ^   ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     (0..13).collect::<Vec<i32>>();\n    |                    ^^\n@@ -15,7 +15,7 @@ error: comparison operators cannot be chained\n LL |     Vec<i32>::new();\n    |        ^   ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     Vec::<i32>::new();\n    |        ^^\n@@ -26,7 +26,7 @@ error: comparison operators cannot be chained\n LL |     (0..13).collect<Vec<i32>();\n    |                    ^   ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     (0..13).collect::<Vec<i32>();\n    |                    ^^\n@@ -37,7 +37,7 @@ error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, or an operator, found `,`\n LL |     let x = std::collections::HashMap<i128, i128>::new();\n    |                                           ^ expected one of 7 possible tokens\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     let x = std::collections::HashMap::<i128, i128>::new();\n    |                                      ^^\n@@ -48,7 +48,7 @@ error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found\n LL |         std::collections::HashMap<i128, i128>::new()\n    |                                       ^ expected one of 8 possible tokens\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |         std::collections::HashMap::<i128, i128>::new()\n    |                                  ^^\n@@ -59,7 +59,7 @@ error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found\n LL |         std::collections::HashMap<i128, i128>::new();\n    |                                       ^ expected one of 8 possible tokens\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |         std::collections::HashMap::<i128, i128>::new();\n    |                                  ^^\n@@ -70,7 +70,7 @@ error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found\n LL |         std::collections::HashMap<i128, i128>::new(1, 2);\n    |                                       ^ expected one of 8 possible tokens\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |         std::collections::HashMap::<i128, i128>::new(1, 2);\n    |                                  ^^"}, {"sha": "e3ce6cd39bc24f1199612d4daae23d0ca5692f3e", "filename": "src/test/ui/parser/require-parens-for-chained-comparison.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fparser%2Frequire-parens-for-chained-comparison.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fparser%2Frequire-parens-for-chained-comparison.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Frequire-parens-for-chained-comparison.rs?ref=6c73adf3240261315446582cb57de079bf2b87f9", "patch": "@@ -12,15 +12,15 @@ fn main() {\n \n     f<X>();\n     //~^ ERROR comparison operators cannot be chained\n-    //~| HELP use `::<...>` instead of `<...>` to specify type arguments\n+    //~| HELP use `::<...>` instead of `<...>` to specify type or const arguments\n \n     f<Result<Option<X>, Option<Option<X>>>(1, 2);\n     //~^ ERROR comparison operators cannot be chained\n-    //~| HELP use `::<...>` instead of `<...>` to specify type arguments\n+    //~| HELP use `::<...>` instead of `<...>` to specify type or const arguments\n \n     use std::convert::identity;\n     let _ = identity<u8>;\n     //~^ ERROR comparison operators cannot be chained\n-    //~| HELP use `::<...>` instead of `<...>` to specify type arguments\n+    //~| HELP use `::<...>` instead of `<...>` to specify type or const arguments\n     //~| HELP or use `(...)` if you meant to specify fn arguments\n }"}, {"sha": "afb964c17e255053e3403dc5dbe0c96a4faedaab", "filename": "src/test/ui/parser/require-parens-for-chained-comparison.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fparser%2Frequire-parens-for-chained-comparison.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6c73adf3240261315446582cb57de079bf2b87f9/src%2Ftest%2Fui%2Fparser%2Frequire-parens-for-chained-comparison.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Frequire-parens-for-chained-comparison.stderr?ref=6c73adf3240261315446582cb57de079bf2b87f9", "patch": "@@ -26,7 +26,7 @@ error: comparison operators cannot be chained\n LL |     f<X>();\n    |      ^ ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     f::<X>();\n    |      ^^\n@@ -37,7 +37,7 @@ error: comparison operators cannot be chained\n LL |     f<Result<Option<X>, Option<Option<X>>>(1, 2);\n    |      ^      ^\n    |\n-help: use `::<...>` instead of `<...>` to specify type arguments\n+help: use `::<...>` instead of `<...>` to specify type or const arguments\n    |\n LL |     f::<Result<Option<X>, Option<Option<X>>>(1, 2);\n    |      ^^\n@@ -48,7 +48,7 @@ error: comparison operators cannot be chained\n LL |     let _ = identity<u8>;\n    |                     ^  ^\n    |\n-   = help: use `::<...>` instead of `<...>` to specify type arguments\n+   = help: use `::<...>` instead of `<...>` to specify type or const arguments\n    = help: or use `(...)` if you meant to specify fn arguments\n \n error: aborting due to 5 previous errors"}]}