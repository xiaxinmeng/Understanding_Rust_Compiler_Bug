{"sha": "0fe1508a8a2512deff71bb760cc84e58d79debd4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBmZTE1MDhhOGEyNTEyZGVmZjcxYmI3NjBjYzg0ZTU4ZDc5ZGViZDQ=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-05T21:39:08Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-05T21:39:08Z"}, "message": "Use typed slot rather than AST slot in trans_for_loop.", "tree": {"sha": "bdfbdbc86907d4f2a545c5cd5469e61639aa49fb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bdfbdbc86907d4f2a545c5cd5469e61639aa49fb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0fe1508a8a2512deff71bb760cc84e58d79debd4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0fe1508a8a2512deff71bb760cc84e58d79debd4", "html_url": "https://github.com/rust-lang/rust/commit/0fe1508a8a2512deff71bb760cc84e58d79debd4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0fe1508a8a2512deff71bb760cc84e58d79debd4/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b0aba6510a7b571560cb6d02b980350faf028d5c", "url": "https://api.github.com/repos/rust-lang/rust/commits/b0aba6510a7b571560cb6d02b980350faf028d5c", "html_url": "https://github.com/rust-lang/rust/commit/b0aba6510a7b571560cb6d02b980350faf028d5c"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "6a14a1cec26511c537c260b67e88fdeb47590a0c", "filename": "src/boot/me/trans.ml", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/0fe1508a8a2512deff71bb760cc84e58d79debd4/src%2Fboot%2Fme%2Ftrans.ml", "raw_url": "https://github.com/rust-lang/rust/raw/0fe1508a8a2512deff71bb760cc84e58d79debd4/src%2Fboot%2Fme%2Ftrans.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Ftrans.ml?ref=0fe1508a8a2512deff71bb760cc84e58d79debd4", "patch": "@@ -3999,8 +3999,9 @@ let trans_visitor\n \n   and trans_for_loop (fo:Ast.stmt_for) : unit =\n     let ty_params = get_ty_params_of_current_frame () in\n-    let (dst_slot, _) = fo.Ast.for_slot in\n-    let dst_cell = cell_of_block_slot dst_slot.id in\n+    let dst_slot_id = (fst (fo.Ast.for_slot)).id in\n+    let dst_slot = get_slot cx dst_slot_id in\n+    let dst_cell = cell_of_block_slot dst_slot_id in\n     let (head_stmts, seq) = fo.Ast.for_seq in\n     let (seq_cell, seq_ty) = trans_lval seq in\n     let unit_ty = seq_unit_ty seq_ty in\n@@ -4010,7 +4011,7 @@ let trans_visitor\n           fun _ src_cell unit_ty _ ->\n             trans_init_slot_from_cell\n               ty_params CLONE_none\n-              dst_cell dst_slot.node\n+              dst_cell dst_slot\n               src_cell unit_ty;\n             trans_block fo.Ast.for_body;\n         end"}]}