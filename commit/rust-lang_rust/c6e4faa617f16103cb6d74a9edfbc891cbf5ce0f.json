{"sha": "c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM2ZTRmYWE2MTdmMTYxMDNjYjZkNzRhOWVkZmJjODkxY2JmNWNlMGY=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-01-19T23:49:41Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-01-20T16:35:48Z"}, "message": "Rollup merge of #39143 - nikomatsakis:issue-38967, r=eddyb\n\ncheck inherent impls of traits for overlap as well\n\nSimple oversight. Fixes #38967.\n\nr? @eddyb", "tree": {"sha": "8c8d0f4e0ff41be653d5fe628659a44b640aea48", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8c8d0f4e0ff41be653d5fe628659a44b640aea48"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f", "html_url": "https://github.com/rust-lang/rust/commit/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1129b75f8bf4aaccfaf3b2b6d618c46f998f0b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1129b75f8bf4aaccfaf3b2b6d618c46f998f0b0", "html_url": "https://github.com/rust-lang/rust/commit/e1129b75f8bf4aaccfaf3b2b6d618c46f998f0b0"}, {"sha": "f57d5ad7e11007a50db56ebdbdde3fb7f4efd2c1", "url": "https://api.github.com/repos/rust-lang/rust/commits/f57d5ad7e11007a50db56ebdbdde3fb7f4efd2c1", "html_url": "https://github.com/rust-lang/rust/commit/f57d5ad7e11007a50db56ebdbdde3fb7f4efd2c1"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "7890ae20ec26cf603475dd0d395591123279b2c5", "filename": "src/librustc_typeck/coherence/overlap.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Foverlap.rs?ref=c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f", "patch": "@@ -102,6 +102,7 @@ impl<'cx, 'tcx, 'v> ItemLikeVisitor<'v> for OverlapChecker<'cx, 'tcx> {\n         match item.node {\n             hir::ItemEnum(..) |\n             hir::ItemStruct(..) |\n+            hir::ItemTrait(..) |\n             hir::ItemUnion(..) => {\n                 let type_def_id = self.tcx.map.local_def_id(item.id);\n                 self.check_for_overlapping_inherent_impls(type_def_id);"}, {"sha": "a611b22e93de845b62125c6d3228344268d83a33", "filename": "src/test/compile-fail/coherence-overlapping-inherent-impl-trait.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f/src%2Ftest%2Fcompile-fail%2Fcoherence-overlapping-inherent-impl-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f/src%2Ftest%2Fcompile-fail%2Fcoherence-overlapping-inherent-impl-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcoherence-overlapping-inherent-impl-trait.rs?ref=c6e4faa617f16103cb6d74a9edfbc891cbf5ce0f", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(dead_code)]\n+#![deny(overlapping_inherent_impls)]\n+\n+trait C {}\n+impl C { fn f() {} } //~ ERROR duplicate definitions with name `f`\n+impl C { fn f() {} }\n+fn main() { }"}]}