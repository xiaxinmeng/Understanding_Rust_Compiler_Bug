{"sha": "e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5OGZhMGU4OGY5MmY4YzlmM2EzMmNmOGI3ZjY4ZDhhNDJiYjlkYzE=", "commit": {"author": {"name": "Kang Seonghoon", "email": "public+git@mearie.org", "date": "2015-09-08T15:46:44Z"}, "committer": {"name": "Kang Seonghoon", "email": "public+git@mearie.org", "date": "2015-09-08T15:49:23Z"}, "message": "rustdoc: Tweak the main template and CSS for semantic mark-up.\n\n- section.sidebar -> nav.sidebar, also added an unordered list.\n- div#help -> aside#help, also added a hidden heading.\n- the current crate is now emphasized in the sidebar.\n\nFixes #16310.", "tree": {"sha": "5532bddd81a50ce805ad5f064d1f0784e56aaf13", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5532bddd81a50ce805ad5f064d1f0784e56aaf13"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1", "html_url": "https://github.com/rust-lang/rust/commit/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1/comments", "author": {"login": "lifthrasiir", "id": 323836, "node_id": "MDQ6VXNlcjMyMzgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifthrasiir", "html_url": "https://github.com/lifthrasiir", "followers_url": "https://api.github.com/users/lifthrasiir/followers", "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}", "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions", "organizations_url": "https://api.github.com/users/lifthrasiir/orgs", "repos_url": "https://api.github.com/users/lifthrasiir/repos", "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}", "received_events_url": "https://api.github.com/users/lifthrasiir/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lifthrasiir", "id": 323836, "node_id": "MDQ6VXNlcjMyMzgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifthrasiir", "html_url": "https://github.com/lifthrasiir", "followers_url": "https://api.github.com/users/lifthrasiir/followers", "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}", "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions", "organizations_url": "https://api.github.com/users/lifthrasiir/orgs", "repos_url": "https://api.github.com/users/lifthrasiir/repos", "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}", "received_events_url": "https://api.github.com/users/lifthrasiir/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6f142404d6f9e0b2ea87c4f58806bf763eb42d83", "url": "https://api.github.com/repos/rust-lang/rust/commits/6f142404d6f9e0b2ea87c4f58806bf763eb42d83", "html_url": "https://github.com/rust-lang/rust/commit/6f142404d6f9e0b2ea87c4f58806bf763eb42d83"}], "stats": {"total": 44, "additions": 28, "deletions": 16}, "files": [{"sha": "0a7ab43284678dc027ae192ae02ccb59f07771f8", "filename": "src/librustdoc/html/layout.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Flayout.rs?ref=e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1", "patch": "@@ -62,10 +62,10 @@ r##\"<!DOCTYPE html>\n \n     {before_content}\n \n-    <section class=\"sidebar\">\n+    <nav class=\"sidebar\">\n         {logo}\n         {sidebar}\n-    </section>\n+    </nav>\n \n     <nav class=\"sub\">\n         <form class=\"search-form js-only\">\n@@ -83,10 +83,12 @@ r##\"<!DOCTYPE html>\n \n     <section class=\"footer\"></section>\n \n-    <div id=\"help\" class=\"hidden\">\n+    <aside id=\"help\" class=\"hidden\">\n         <div>\n+            <h1 class=\"hidden\">Help</h1>\n+\n             <div class=\"shortcuts\">\n-                <h1>Keyboard Shortcuts</h1>\n+                <h2>Keyboard Shortcuts</h2>\n \n                 <dl>\n                     <dt>?</dt>\n@@ -103,7 +105,7 @@ r##\"<!DOCTYPE html>\n             </div>\n \n             <div class=\"infos\">\n-                <h1>Search Tricks</h1>\n+                <h2>Search Tricks</h2>\n \n                 <p>\n                     Prefix searches with a type followed by a colon (e.g.\n@@ -123,7 +125,7 @@ r##\"<!DOCTYPE html>\n                 </p>\n             </div>\n         </div>\n-    </div>\n+    </aside>\n \n     {after_content}\n "}, {"sha": "e6b653cbd5c348cc9c9d96caade1da526e16b3b6", "filename": "src/librustdoc/html/static/main.css", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css?ref=e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1", "patch": "@@ -104,7 +104,7 @@ h3.impl, h3.method, h4.method, h3.type, h4.type {\n h3.impl, h3.method, h3.type {\n     margin-top: 15px;\n }\n-h1, h2, h3, h4, section.sidebar, a.source, .search-input, .content table :not(code)>a, .collapse-toggle {\n+h1, h2, h3, h4, .sidebar, a.source, .search-input, .content table :not(code)>a, .collapse-toggle {\n     font-family: \"Fira Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n }\n \n@@ -189,11 +189,16 @@ nav.sub {\n     padding: 0 10px;\n     margin-bottom: 14px;\n }\n-.block h2 {\n+.block h2, .block h3 {\n     margin-top: 0;\n     margin-bottom: 8px;\n     text-align: center;\n }\n+.block ul, .block li {\n+    margin: 0;\n+    padding: 0;\n+    list-style: none;\n+}\n \n .block a {\n     display: block;\n@@ -381,7 +386,7 @@ nav.main .separator {\n nav.sum { text-align: right; }\n nav.sub form { display: inline; }\n \n-nav, .content {\n+nav.sub, .content {\n     margin-left: 230px;\n }\n \n@@ -407,6 +412,7 @@ a {\n .content span.method, .content a.method, .block a.current.method { color: #8c6067; }\n .content span.tymethod, .content a.tymethod, .block a.current.tymethod { color: #8c6067; }\n .content .fnname { color: #8c6067; }\n+.block a.current.crate { font-weight: 500; }\n \n .search-input {\n     width: 100%;\n@@ -489,7 +495,7 @@ body.blur > :not(#help) {\n }\n #help dd { margin: 5px 33px; }\n #help .infos { padding-left: 0; }\n-#help h1 { margin-top: 0; }\n+#help h1, #help h2 { margin-top: 0; }\n #help > div div {\n     width: 50%;\n     float: left;"}, {"sha": "9d84d4ea3c1a995d42a44bb95f57f6a4c937f4ed", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=e98fa0e88f92f8c9f3a32cf8b7f68d8a42bb9dc1", "patch": "@@ -773,7 +773,8 @@\n         if (rootPath === '../') {\n             var sidebar = $('.sidebar');\n             var div = $('<div>').attr('class', 'block crate');\n-            div.append($('<h2>').text('Crates'));\n+            div.append($('<h3>').text('Crates'));\n+            var ul = $('<ul>').appendTo(div);\n \n             var crates = [];\n             for (var crate in rawSearchIndex) {\n@@ -788,9 +789,10 @@\n                 }\n                 if (rawSearchIndex[crates[i]].items[0]) {\n                     var desc = rawSearchIndex[crates[i]].items[0][3];\n-                    div.append($('<a>', {'href': '../' + crates[i] + '/index.html',\n+                    var link = $('<a>', {'href': '../' + crates[i] + '/index.html',\n                                          'title': plainSummaryLine(desc),\n-                                         'class': klass}).text(crates[i]));\n+                                         'class': klass}).text(crates[i]);\n+                    ul.append($('<li>').append(link));\n                 }\n             }\n             sidebar.append(div);\n@@ -809,7 +811,8 @@\n             if (!filtered) { return; }\n \n             var div = $('<div>').attr('class', 'block ' + shortty);\n-            div.append($('<h2>').text(longty));\n+            div.append($('<h3>').text(longty));\n+            var ul = $('<ul>').appendTo(div);\n \n             for (var i = 0; i < filtered.length; ++i) {\n                 var item = filtered[i];\n@@ -826,9 +829,10 @@\n                 } else {\n                     path = shortty + '.' + name + '.html';\n                 }\n-                div.append($('<a>', {'href': current.relpath + path,\n+                var link = $('<a>', {'href': current.relpath + path,\n                                      'title': desc,\n-                                     'class': klass}).text(name));\n+                                     'class': klass}).text(name);\n+                ul.append($('<li>').append(link));\n             }\n             sidebar.append(div);\n         }"}]}