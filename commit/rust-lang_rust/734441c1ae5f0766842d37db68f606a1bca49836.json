{"sha": "734441c1ae5f0766842d37db68f606a1bca49836", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczNDQ0MWMxYWU1ZjA3NjY4NDJkMzdkYjY4ZjYwNmExYmNhNDk4MzY=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2020-08-04T09:47:07Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2020-08-16T14:42:22Z"}, "message": "tests: add test for #61019's current behaviour\n\nThis commit adds a test for #61019 where a extern crate is imported as\n`std` which results in name resolution to fail due to the uses of `std`\ntypes introduced from lowering.\n\nSigned-off-by: David Wood <david@davidtw.co>", "tree": {"sha": "226c93e31b0cd303792c5c1de487d409161a2bcf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/226c93e31b0cd303792c5c1de487d409161a2bcf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/734441c1ae5f0766842d37db68f606a1bca49836", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEfgm2/wUjk9OnjxlyJZLnbIc4H9kFAl85Rc4ACgkQJZLnbIc4\nH9kwzBAAr8N4FOSIOJgFwhBHyz0qeL0zJsxA7wBqDJeDipR3bUEfLMj3oXJ/W1MF\nRZyyCeMh0+du4FY1Im6aFDIaotZkHtZYlyqKAiwkT6QP2uzOOnQE8KWHKlrEYyhT\n4OVmkJPzlM3E2ATJ644kLKEgPGYZ4j2l99fyZCEfRDEURqV2L/QH0k+CJuusx4uK\nGKBlaJSG77UO81V/alf9hc9s9UsK4nHl9hyAMSoE+LzTmjC2fFD2bbh0k9XioCe9\nZaX8naYa0Sajv0P1A95Z2BDUZEf5vreTk5XvbMvcutvXtwsHdaxXL8yjK7RZh1LG\n5DOD65/aJ4Ep61QFSeHwNrivlxWoySezBPrPH129xDQD8cPCm5ALQirCTCL/2ku8\n+F7+IrTd0kHVUdEPAslDwQEOylaLlBugPwAUSDi/FIvMeQLMju5LfbSnNw3cWgkG\nYfyyAVd2gttu+Gz/+rbzCLYhRt6fRQFb9ZhjutJ5Bf57Bmg/p78LZ+65bjuziCCn\nM68BkUO0+mp+UaOcGu7lp3wl4ZLWp2t4pO6dMxlYs7QkeUMpI5H2CTu4r1H26JtZ\n+J53XNWo1DmqPf9dRygqrHA4Lct0c4r8tviy26Eh8+O6hhNQQjYOIgvz9pcGjoUr\nXyaTMVFISw99jBW/yHeXKBkARzoYvs8bfO4Up0GCztiI2vwzULM=\n=40Fs\n-----END PGP SIGNATURE-----", "payload": "tree 226c93e31b0cd303792c5c1de487d409161a2bcf\nparent 764dc3dc2f8a2a421fa9d9c6144ad75310a26b99\nauthor David Wood <david@davidtw.co> 1596534427 +0100\ncommitter David Wood <david@davidtw.co> 1597588942 +0100\n\ntests: add test for #61019's current behaviour\n\nThis commit adds a test for #61019 where a extern crate is imported as\n`std` which results in name resolution to fail due to the uses of `std`\ntypes introduced from lowering.\n\nSigned-off-by: David Wood <david@davidtw.co>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/734441c1ae5f0766842d37db68f606a1bca49836", "html_url": "https://github.com/rust-lang/rust/commit/734441c1ae5f0766842d37db68f606a1bca49836", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/734441c1ae5f0766842d37db68f606a1bca49836/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "764dc3dc2f8a2a421fa9d9c6144ad75310a26b99", "url": "https://api.github.com/repos/rust-lang/rust/commits/764dc3dc2f8a2a421fa9d9c6144ad75310a26b99", "html_url": "https://github.com/rust-lang/rust/commit/764dc3dc2f8a2a421fa9d9c6144ad75310a26b99"}], "stats": {"total": 90, "additions": 90, "deletions": 0}, "files": [{"sha": "e5af1000dd53e5430fdfbe2e9c98542a9cfc412b", "filename": "src/test/ui/hygiene/hir-res-hygiene.rs", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/734441c1ae5f0766842d37db68f606a1bca49836/src%2Ftest%2Fui%2Fhygiene%2Fhir-res-hygiene.rs", "raw_url": "https://github.com/rust-lang/rust/raw/734441c1ae5f0766842d37db68f606a1bca49836/src%2Ftest%2Fui%2Fhygiene%2Fhir-res-hygiene.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhir-res-hygiene.rs?ref=734441c1ae5f0766842d37db68f606a1bca49836", "patch": "@@ -0,0 +1,41 @@\n+//~ ERROR failed to resolve: could not find `future` in `std` [E0433]\n+//~^ ERROR failed to resolve: could not find `pin` in `std` [E0433]\n+//~^^ ERROR failed to resolve: could not find `future` in `std` [E0433]\n+//~^^^ ERROR failed to resolve: could not find `future` in `std` [E0433]\n+//~^^^^ ERROR failed to resolve: could not find `task` in `std` [E0433]\n+//~^^^^^ ERROR failed to resolve: could not find `task` in `std` [E0433]\n+//~^^^^^^ ERROR failed to resolve: could not find `future` in `std` [E0433]\n+//~^^^^^^^ ERROR failed to resolve: could not find `future` in `std` [E0433]\n+//~^^^^^^^^ ERROR failed to resolve: could not find `ops` in `std` [E0433]\n+//~^^^^^^^^^ ERROR failed to resolve: could not find `option` in `std` [E0433]\n+//~^^^^^^^^^^ ERROR failed to resolve: could not find `option` in `std` [E0433]\n+//~^^^^^^^^^^^ ERROR failed to resolve: could not find `iter` in `std` [E0433]\n+//~^^^^^^^^^^^^ ERROR failed to resolve: could not find `iter` in `std` [E0433]\n+//~^^^^^^^^^^^^^ ERROR failed to resolve: could not find `ops` in `std` [E0433]\n+//~^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `option` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `option` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `iter` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `iter` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `ops` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `result` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `convert` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `ops` in `std` [E0433]\n+//~^^^^^^^^^^^^^^^^^^^^^^ ERROR failed to resolve: could not find `result` in `std` [E0433]\n+\n+// edition:2018\n+// aux-build:not-libstd.rs\n+\n+// Check that paths created in HIR are not affected by in scope names.\n+\n+extern crate not_libstd as std;\n+\n+async fn the_future() {\n+    async {}.await;\n+}\n+\n+fn main() -> Result<(), ()> {\n+    for i in 0..10 {}\n+    for j in 0..=10 {}\n+    Ok(())?;\n+    Ok(())\n+}"}, {"sha": "73a1bd5c626320a59a5903afed2525a3c7fcbbad", "filename": "src/test/ui/hygiene/hir-res-hygiene.stderr", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/734441c1ae5f0766842d37db68f606a1bca49836/src%2Ftest%2Fui%2Fhygiene%2Fhir-res-hygiene.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/734441c1ae5f0766842d37db68f606a1bca49836/src%2Ftest%2Fui%2Fhygiene%2Fhir-res-hygiene.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fhir-res-hygiene.stderr?ref=734441c1ae5f0766842d37db68f606a1bca49836", "patch": "@@ -0,0 +1,49 @@\n+error[E0433]: failed to resolve: could not find `future` in `std`\n+\n+error[E0433]: failed to resolve: could not find `pin` in `std`\n+\n+error[E0433]: failed to resolve: could not find `future` in `std`\n+\n+error[E0433]: failed to resolve: could not find `future` in `std`\n+\n+error[E0433]: failed to resolve: could not find `task` in `std`\n+\n+error[E0433]: failed to resolve: could not find `task` in `std`\n+\n+error[E0433]: failed to resolve: could not find `future` in `std`\n+\n+error[E0433]: failed to resolve: could not find `future` in `std`\n+\n+error[E0433]: failed to resolve: could not find `ops` in `std`\n+\n+error[E0433]: failed to resolve: could not find `option` in `std`\n+\n+error[E0433]: failed to resolve: could not find `option` in `std`\n+\n+error[E0433]: failed to resolve: could not find `iter` in `std`\n+\n+error[E0433]: failed to resolve: could not find `iter` in `std`\n+\n+error[E0433]: failed to resolve: could not find `ops` in `std`\n+\n+error[E0433]: failed to resolve: could not find `option` in `std`\n+\n+error[E0433]: failed to resolve: could not find `option` in `std`\n+\n+error[E0433]: failed to resolve: could not find `iter` in `std`\n+\n+error[E0433]: failed to resolve: could not find `iter` in `std`\n+\n+error[E0433]: failed to resolve: could not find `ops` in `std`\n+\n+error[E0433]: failed to resolve: could not find `result` in `std`\n+\n+error[E0433]: failed to resolve: could not find `convert` in `std`\n+\n+error[E0433]: failed to resolve: could not find `ops` in `std`\n+\n+error[E0433]: failed to resolve: could not find `result` in `std`\n+\n+error: aborting due to 23 previous errors\n+\n+For more information about this error, try `rustc --explain E0433`."}]}