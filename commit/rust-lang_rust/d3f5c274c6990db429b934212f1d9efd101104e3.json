{"sha": "d3f5c274c6990db429b934212f1d9efd101104e3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQzZjVjMjc0YzY5OTBkYjQyOWI5MzQyMTJmMWQ5ZWZkMTAxMTA0ZTM=", "commit": {"author": {"name": "Duddino", "email": "rezziandrea106@gmail.com", "date": "2020-04-17T16:26:39Z"}, "committer": {"name": "Duddino", "email": "rezziandrea106@gmail.com", "date": "2020-04-17T16:26:39Z"}, "message": "Moved is_try check into try_macro_suggestion", "tree": {"sha": "e7597436142dd127e70cf57a5c5688bd75ec60ff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e7597436142dd127e70cf57a5c5688bd75ec60ff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d3f5c274c6990db429b934212f1d9efd101104e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d3f5c274c6990db429b934212f1d9efd101104e3", "html_url": "https://github.com/rust-lang/rust/commit/d3f5c274c6990db429b934212f1d9efd101104e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d3f5c274c6990db429b934212f1d9efd101104e3/comments", "author": null, "committer": null, "parents": [{"sha": "ba61fe432a13e63ea81112dd63d60b28cc63b40e", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba61fe432a13e63ea81112dd63d60b28cc63b40e", "html_url": "https://github.com/rust-lang/rust/commit/ba61fe432a13e63ea81112dd63d60b28cc63b40e"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "a79e1a44e96ba9b67f9d8022abdf7835bee25df6", "filename": "src/librustc_parse/parser/diagnostics.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d3f5c274c6990db429b934212f1d9efd101104e3/src%2Flibrustc_parse%2Fparser%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3f5c274c6990db429b934212f1d9efd101104e3/src%2Flibrustc_parse%2Fparser%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Fparser%2Fdiagnostics.rs?ref=d3f5c274c6990db429b934212f1d9efd101104e3", "patch": "@@ -1055,10 +1055,11 @@ impl<'a> Parser<'a> {\n     }\n \n     pub(super) fn try_macro_suggestion(&mut self) -> DiagnosticBuilder<'a> {\n+        let is_try = self.token.is_keyword(kw::Try);\n         let is_questionmark = self.look_ahead(1, |t| t == &token::Not); //check for !\n         let is_open = self.look_ahead(2, |t| t == &token::OpenDelim(token::Paren)); //check for (\n \n-        if is_questionmark && is_open {\n+        if is_try && is_questionmark && is_open {\n             let lo = self.token.span;\n             self.bump(); //remove try\n             self.bump(); //remove !"}, {"sha": "ef98aab9c9f9033e3f26d129bbd332ccf0440bfe", "filename": "src/librustc_parse/parser/expr.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d3f5c274c6990db429b934212f1d9efd101104e3/src%2Flibrustc_parse%2Fparser%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3f5c274c6990db429b934212f1d9efd101104e3/src%2Flibrustc_parse%2Fparser%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Fparser%2Fexpr.rs?ref=d3f5c274c6990db429b934212f1d9efd101104e3", "patch": "@@ -1001,14 +1001,12 @@ impl<'a> Parser<'a> {\n \n     fn parse_lit_expr(&mut self, attrs: AttrVec) -> PResult<'a, P<Expr>> {\n         let lo = self.token.span;\n-        let is_try = self.token.is_keyword(kw::Try);\n         match self.parse_opt_lit() {\n             Some(literal) => {\n                 let expr = self.mk_expr(lo.to(self.prev_token.span), ExprKind::Lit(literal), attrs);\n                 self.maybe_recover_from_bad_qpath(expr, true)\n             }\n-            None if is_try => Err(self.try_macro_suggestion()),\n-            None => Err(self.expected_expression_found()),\n+            None => Err(self.try_macro_suggestion()),\n         }\n     }\n "}]}