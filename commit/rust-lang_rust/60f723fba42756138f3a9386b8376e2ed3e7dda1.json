{"sha": "60f723fba42756138f3a9386b8376e2ed3e7dda1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwZjcyM2ZiYTQyNzU2MTM4ZjNhOTM4NmI4Mzc2ZTJlZDNlN2RkYTE=", "commit": {"author": {"name": "rhysd", "email": "lin90162@yahoo.co.jp", "date": "2019-02-03T09:50:00Z"}, "committer": {"name": "rhysd", "email": "lin90162@yahoo.co.jp", "date": "2019-02-03T09:50:00Z"}, "message": "prefer `if` to `match`", "tree": {"sha": "437fb8ae42a233d19233899d8ded018fc5b981bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/437fb8ae42a233d19233899d8ded018fc5b981bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/60f723fba42756138f3a9386b8376e2ed3e7dda1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/60f723fba42756138f3a9386b8376e2ed3e7dda1", "html_url": "https://github.com/rust-lang/rust/commit/60f723fba42756138f3a9386b8376e2ed3e7dda1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/60f723fba42756138f3a9386b8376e2ed3e7dda1/comments", "author": {"login": "rhysd", "id": 823277, "node_id": "MDQ6VXNlcjgyMzI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/823277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhysd", "html_url": "https://github.com/rhysd", "followers_url": "https://api.github.com/users/rhysd/followers", "following_url": "https://api.github.com/users/rhysd/following{/other_user}", "gists_url": "https://api.github.com/users/rhysd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhysd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhysd/subscriptions", "organizations_url": "https://api.github.com/users/rhysd/orgs", "repos_url": "https://api.github.com/users/rhysd/repos", "events_url": "https://api.github.com/users/rhysd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhysd/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rhysd", "id": 823277, "node_id": "MDQ6VXNlcjgyMzI3Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/823277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhysd", "html_url": "https://github.com/rhysd", "followers_url": "https://api.github.com/users/rhysd/followers", "following_url": "https://api.github.com/users/rhysd/following{/other_user}", "gists_url": "https://api.github.com/users/rhysd/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhysd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhysd/subscriptions", "organizations_url": "https://api.github.com/users/rhysd/orgs", "repos_url": "https://api.github.com/users/rhysd/repos", "events_url": "https://api.github.com/users/rhysd/events{/privacy}", "received_events_url": "https://api.github.com/users/rhysd/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3100fecb99782941a2512d58e7021fd93a57b619", "url": "https://api.github.com/repos/rust-lang/rust/commits/3100fecb99782941a2512d58e7021fd93a57b619", "html_url": "https://github.com/rust-lang/rust/commit/3100fecb99782941a2512d58e7021fd93a57b619"}], "stats": {"total": 41, "additions": 19, "deletions": 22}, "files": [{"sha": "ae551a0792d73d5c8101779abcd87d9e11425105", "filename": "clippy_lints/src/dbg_macro.rs", "status": "modified", "additions": 19, "deletions": 22, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/60f723fba42756138f3a9386b8376e2ed3e7dda1/clippy_lints%2Fsrc%2Fdbg_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/60f723fba42756138f3a9386b8376e2ed3e7dda1/clippy_lints%2Fsrc%2Fdbg_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdbg_macro.rs?ref=60f723fba42756138f3a9386b8376e2ed3e7dda1", "patch": "@@ -43,28 +43,25 @@ impl LintPass for Pass {\n impl EarlyLintPass for Pass {\n     fn check_mac(&mut self, cx: &EarlyContext<'_>, mac: &ast::Mac) {\n         if mac.node.path == \"dbg\" {\n-            match tts_span(mac.node.tts.clone()).and_then(|span| snippet_opt(cx, span)) {\n-                Some(sugg) => {\n-                    span_lint_and_sugg(\n-                        cx,\n-                        DBG_MACRO,\n-                        mac.span,\n-                        \"`dbg!` macro is intended as a debugging tool\",\n-                        \"ensure to avoid having uses of it in version control\",\n-                        sugg,\n-                        Applicability::MaybeIncorrect,\n-                    );\n-                }\n-                None => {\n-                    span_help_and_lint(\n-                        cx,\n-                        DBG_MACRO,\n-                        mac.span,\n-                        \"`dbg!` macro is intended as a debugging tool\",\n-                        \"ensure to avoid having uses of it in version control\",\n-                    );\n-                }\n-            };\n+            if let Some(sugg) = tts_span(mac.node.tts.clone()).and_then(|span| snippet_opt(cx, span)) {\n+                span_lint_and_sugg(\n+                    cx,\n+                    DBG_MACRO,\n+                    mac.span,\n+                    \"`dbg!` macro is intended as a debugging tool\",\n+                    \"ensure to avoid having uses of it in version control\",\n+                    sugg,\n+                    Applicability::MaybeIncorrect,\n+                );\n+            } else {\n+                span_help_and_lint(\n+                    cx,\n+                    DBG_MACRO,\n+                    mac.span,\n+                    \"`dbg!` macro is intended as a debugging tool\",\n+                    \"ensure to avoid having uses of it in version control\",\n+                );\n+            }\n         }\n     }\n }"}]}