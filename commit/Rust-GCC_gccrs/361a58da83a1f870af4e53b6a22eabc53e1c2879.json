{"sha": "361a58da83a1f870af4e53b6a22eabc53e1c2879", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYxYTU4ZGE4M2ExZjg3MGFmNGU1M2I2YTIyZWFiYzUzZTFjMjg3OQ==", "commit": {"author": {"name": "David Edelsohn", "email": "dje.gcc@gmail.com", "date": "2012-11-28T20:22:58Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2012-11-28T20:22:58Z"}, "message": "target.def (use_blocks_for_decl_p): New hook.\n\n        * target.def (use_blocks_for_decl_p): New hook.\n        * varasm.c (use_blocks_for_decl_p): Apply hook as final condition.\n        * doc/tm.texi.in (USE_BLOCKS_FOR_DECL_P): New description.\n        * doc/tm.texi: Regenerated.\n\nFrom-SVN: r193906", "tree": {"sha": "d1265a7f21fa36333e53d93d90b783011f0aed2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d1265a7f21fa36333e53d93d90b783011f0aed2f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/361a58da83a1f870af4e53b6a22eabc53e1c2879", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/361a58da83a1f870af4e53b6a22eabc53e1c2879", "html_url": "https://github.com/Rust-GCC/gccrs/commit/361a58da83a1f870af4e53b6a22eabc53e1c2879", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/361a58da83a1f870af4e53b6a22eabc53e1c2879/comments", "author": {"login": "edelsohn", "id": 667700, "node_id": "MDQ6VXNlcjY2NzcwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/667700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edelsohn", "html_url": "https://github.com/edelsohn", "followers_url": "https://api.github.com/users/edelsohn/followers", "following_url": "https://api.github.com/users/edelsohn/following{/other_user}", "gists_url": "https://api.github.com/users/edelsohn/gists{/gist_id}", "starred_url": "https://api.github.com/users/edelsohn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edelsohn/subscriptions", "organizations_url": "https://api.github.com/users/edelsohn/orgs", "repos_url": "https://api.github.com/users/edelsohn/repos", "events_url": "https://api.github.com/users/edelsohn/events{/privacy}", "received_events_url": "https://api.github.com/users/edelsohn/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "00efe3ea3c907b4d7b090da19add210432b3de2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00efe3ea3c907b4d7b090da19add210432b3de2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00efe3ea3c907b4d7b090da19add210432b3de2c"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "83edb9b196507e659fd13e13685979c6fca9d5b2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=361a58da83a1f870af4e53b6a22eabc53e1c2879", "patch": "@@ -1,3 +1,10 @@\n+2012-11-28  David Edelsohn  <dje.gcc@gmail.com>\n+\n+\t* target.def (use_blocks_for_decl_p): New hook.\n+\t* varasm.c (use_blocks_for_decl_p): Apply hook as final condition.\n+\t* doc/tm.texi.in (USE_BLOCKS_FOR_DECL_P): New description.\n+\t* doc/tm.texi: Regenerated.\n+\t\n 2012-11-28  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \tPR middle-end/55438"}, {"sha": "f98196434f878cebcd7502f66e6fe66807f032ec", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=361a58da83a1f870af4e53b6a22eabc53e1c2879", "patch": "@@ -5654,6 +5654,13 @@ of @var{x}.\n The default version returns false for all constants.\n @end deftypefn\n \n+@deftypefn {Target Hook} bool TARGET_USE_BLOCKS_FOR_DECL_P (const_tree @var{decl})\n+This hook should return true if pool entries for @var{decl} should\n+be placed in an @code{object_block} structure.\n+\n+The default version returns true for all decls.\n+@end deftypefn\n+\n @deftypefn {Target Hook} tree TARGET_BUILTIN_RECIPROCAL (unsigned @var{fn}, bool @var{md_fn}, bool @var{sqrt})\n This hook should return the DECL of a function that implements reciprocal of\n the builtin function with builtin function code @var{fn}, or"}, {"sha": "7a93f21073cbcb67388d909ea79d12f587dfd71a", "filename": "gcc/doc/tm.texi.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Fdoc%2Ftm.texi.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Fdoc%2Ftm.texi.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi.in?ref=361a58da83a1f870af4e53b6a22eabc53e1c2879", "patch": "@@ -5570,6 +5570,13 @@ of @var{x}.\n The default version returns false for all constants.\n @end deftypefn\n \n+@hook TARGET_USE_BLOCKS_FOR_DECL_P\n+This hook should return true if pool entries for @var{decl} should\n+be placed in an @code{object_block} structure.\n+\n+The default version returns true for all decls.\n+@end deftypefn\n+\n @hook TARGET_BUILTIN_RECIPROCAL\n This hook should return the DECL of a function that implements reciprocal of\n the builtin function with builtin function code @var{fn}, or"}, {"sha": "0f3164a41bded7cc97e06eb02c1fb14e1079c2d4", "filename": "gcc/target.def", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Ftarget.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Ftarget.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftarget.def?ref=361a58da83a1f870af4e53b6a22eabc53e1c2879", "patch": "@@ -1495,6 +1495,13 @@ DEFHOOK\n  bool, (enum machine_mode mode, const_rtx x),\n  hook_bool_mode_const_rtx_false)\n \n+/* True if the given decl can be put into an object_block.  */\n+DEFHOOK\n+(use_blocks_for_decl_p,\n+ \"\",\n+ bool, (const_tree decl),\n+ hook_bool_const_tree_true)\n+\n /* The minimum and maximum byte offsets for anchored addresses.  */\n DEFHOOKPOD\n (min_anchor_offset,"}, {"sha": "4c98f8659239757684eae87afdc2c51be12f6f27", "filename": "gcc/varasm.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/361a58da83a1f870af4e53b6a22eabc53e1c2879/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=361a58da83a1f870af4e53b6a22eabc53e1c2879", "patch": "@@ -1113,7 +1113,7 @@ use_blocks_for_decl_p (tree decl)\n   if (lookup_attribute (\"alias\", DECL_ATTRIBUTES (decl)))\n     return false;\n \n-  return true;\n+  return targetm.use_blocks_for_decl_p (decl);\n }\n \n /* Create the DECL_RTL for a VAR_DECL or FUNCTION_DECL.  DECL should"}]}