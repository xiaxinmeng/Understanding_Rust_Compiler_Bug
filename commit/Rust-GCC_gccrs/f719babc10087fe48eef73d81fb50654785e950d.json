{"sha": "f719babc10087fe48eef73d81fb50654785e950d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjcxOWJhYmMxMDA4N2ZlNDhlZWY3M2Q4MWZiNTA2NTQ3ODVlOTUwZA==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2014-08-22T20:06:25Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2014-08-22T20:06:25Z"}, "message": "print-rtl.c: Use rtx_insn for various debug_ functions\n\ngcc/\n\t* rtl.h (debug_rtx_list): Strengthen param 1 \"x\" from const_rtx to\n\tconst rtx_insn *.\n\t(debug_rtx_range): Likewise for params 1 and 2 \"start\" and \"end\".\n\t(debug_rtx_find): Likewise for param 1 \"x\".\n\n\t* print-rtl.c (debug_rtx_list): Strengthen param 1 \"x\" from\n\tconst_rtx to const rtx_insn *.  Likewise for local \"insn\".\n\t(debug_rtx_range): Likewise for params 1 and 2 \"start\" and \"end\".\n\t(debug_rtx_find): Likewise for param 1 \"x\".\n\t(print_rtl): Likewise for local \"tmp_rtx\", adding a checked cast\n\tfrom const_rtx to const rtx_insn * within the appropriate cases of\n\tthe switch statement.\n\n\t* config/rs6000/rs6000.c (rs6000_debug_legitimize_address):\n\tStrengthen local \"insns\" from rtx to rtx_insn * since this is\n\tpassed to a call to debug_rtx_list.\n\nFrom-SVN: r214362", "tree": {"sha": "4b4ca847a458b3a2f9854acbe5f17105212f4b55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4b4ca847a458b3a2f9854acbe5f17105212f4b55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f719babc10087fe48eef73d81fb50654785e950d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f719babc10087fe48eef73d81fb50654785e950d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f719babc10087fe48eef73d81fb50654785e950d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f719babc10087fe48eef73d81fb50654785e950d/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "9f215bf54c4e0b9d8fc0368b594edec3a5303386", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f215bf54c4e0b9d8fc0368b594edec3a5303386", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f215bf54c4e0b9d8fc0368b594edec3a5303386"}], "stats": {"total": 51, "additions": 37, "deletions": 14}, "files": [{"sha": "d47b69bc2193e3588fc8fb4a1cd2e1de6fa17e71", "filename": "gcc/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f719babc10087fe48eef73d81fb50654785e950d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f719babc10087fe48eef73d81fb50654785e950d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f719babc10087fe48eef73d81fb50654785e950d", "patch": "@@ -1,3 +1,22 @@\n+2014-08-22  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* rtl.h (debug_rtx_list): Strengthen param 1 \"x\" from const_rtx to\n+\tconst rtx_insn *.\n+\t(debug_rtx_range): Likewise for params 1 and 2 \"start\" and \"end\".\n+\t(debug_rtx_find): Likewise for param 1 \"x\".\n+\n+\t* print-rtl.c (debug_rtx_list): Strengthen param 1 \"x\" from\n+\tconst_rtx to const rtx_insn *.  Likewise for local \"insn\".\n+\t(debug_rtx_range): Likewise for params 1 and 2 \"start\" and \"end\".\n+\t(debug_rtx_find): Likewise for param 1 \"x\".\n+\t(print_rtl): Likewise for local \"tmp_rtx\", adding a checked cast\n+\tfrom const_rtx to const rtx_insn * within the appropriate cases of\n+\tthe switch statement.\n+\n+\t* config/rs6000/rs6000.c (rs6000_debug_legitimize_address):\n+\tStrengthen local \"insns\" from rtx to rtx_insn * since this is\n+\tpassed to a call to debug_rtx_list.\n+\n 2014-08-22  David Malcolm  <dmalcolm@redhat.com>\n \n \t* predict.h (predict_insn_def): Strengthen param \"insn\" from rtx"}, {"sha": "00fa0709a5504c7c730dd97f289507190d262f4c", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f719babc10087fe48eef73d81fb50654785e950d/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f719babc10087fe48eef73d81fb50654785e950d/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=f719babc10087fe48eef73d81fb50654785e950d", "patch": "@@ -6813,7 +6813,7 @@ static rtx\n rs6000_debug_legitimize_address (rtx x, rtx oldx, enum machine_mode mode)\n {\n   rtx ret;\n-  rtx insns;\n+  rtx_insn *insns;\n \n   start_sequence ();\n   ret = rs6000_legitimize_address (x, oldx, mode);"}, {"sha": "be1d01ac6c3598338311cbd92b835528bc32abf5", "filename": "gcc/print-rtl.c", "status": "modified", "additions": 14, "deletions": 10, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f719babc10087fe48eef73d81fb50654785e950d/gcc%2Fprint-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f719babc10087fe48eef73d81fb50654785e950d/gcc%2Fprint-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprint-rtl.c?ref=f719babc10087fe48eef73d81fb50654785e950d", "patch": "@@ -699,14 +699,15 @@ DEBUG_VARIABLE int debug_rtx_count = 0;\t/* 0 is treated as equivalent to 1 */\n /* Call this function to print list from X on.\n \n    N is a count of the rtx's to print. Positive values print from the specified\n-   rtx on.  Negative values print a window around the rtx.\n-   EG: -5 prints 2 rtx's on either side (in addition to the specified rtx).  */\n+   rtx_insn on.  Negative values print a window around the rtx_insn.\n+   EG: -5 prints 2 rtx_insn's on either side (in addition to the specified\n+   rtx_insn).  */\n \n DEBUG_FUNCTION void\n-debug_rtx_list (const_rtx x, int n)\n+debug_rtx_list (const rtx_insn *x, int n)\n {\n   int i,count;\n-  const_rtx insn;\n+  const rtx_insn *insn;\n \n   count = n == 0 ? 1 : n < 0 ? -n : n;\n \n@@ -727,10 +728,11 @@ debug_rtx_list (const_rtx x, int n)\n     }\n }\n \n-/* Call this function to print an rtx list from START to END inclusive.  */\n+/* Call this function to print an rtx_insn list from START to END\n+   inclusive.  */\n \n DEBUG_FUNCTION void\n-debug_rtx_range (const_rtx start, const_rtx end)\n+debug_rtx_range (const rtx_insn *start, const rtx_insn *end)\n {\n   while (1)\n     {\n@@ -742,12 +744,12 @@ debug_rtx_range (const_rtx start, const_rtx end)\n     }\n }\n \n-/* Call this function to search an rtx list to find one with insn uid UID,\n+/* Call this function to search an rtx_insn list to find one with insn uid UID,\n    and then call debug_rtx_list to print it, using DEBUG_RTX_COUNT.\n    The found insn is returned to enable further debugging analysis.  */\n \n DEBUG_FUNCTION const_rtx\n-debug_rtx_find (const_rtx x, int uid)\n+debug_rtx_find (const rtx_insn *x, int uid)\n {\n   while (x != 0 && INSN_UID (x) != uid)\n     x = NEXT_INSN (x);\n@@ -772,7 +774,7 @@ debug_rtx_find (const_rtx x, int uid)\n void\n print_rtl (FILE *outf, const_rtx rtx_first)\n {\n-  const_rtx tmp_rtx;\n+  const rtx_insn *tmp_rtx;\n \n   outfile = outf;\n   sawclose = 0;\n@@ -792,7 +794,9 @@ print_rtl (FILE *outf, const_rtx rtx_first)\n       case CODE_LABEL:\n       case JUMP_TABLE_DATA:\n       case BARRIER:\n-\tfor (tmp_rtx = rtx_first; tmp_rtx != 0; tmp_rtx = NEXT_INSN (tmp_rtx))\n+\tfor (tmp_rtx = as_a <const rtx_insn *> (rtx_first);\n+\t     tmp_rtx != 0;\n+\t     tmp_rtx = NEXT_INSN (tmp_rtx))\n \t  {\n \t    fputs (print_rtx_head, outfile);\n \t    print_rtx (tmp_rtx);"}, {"sha": "aa3f8d0d8207156746245ab5c3bd53d507fde2e1", "filename": "gcc/rtl.h", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f719babc10087fe48eef73d81fb50654785e950d/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f719babc10087fe48eef73d81fb50654785e950d/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=f719babc10087fe48eef73d81fb50654785e950d", "patch": "@@ -3132,9 +3132,9 @@ extern const char *print_rtx_head;\n extern void debug (const rtx_def &ref);\n extern void debug (const rtx_def *ptr);\n extern void debug_rtx (const_rtx);\n-extern void debug_rtx_list (const_rtx, int);\n-extern void debug_rtx_range (const_rtx, const_rtx);\n-extern const_rtx debug_rtx_find (const_rtx, int);\n+extern void debug_rtx_list (const rtx_insn *, int);\n+extern void debug_rtx_range (const rtx_insn *, const rtx_insn *);\n+extern const_rtx debug_rtx_find (const rtx_insn *, int);\n extern void print_mem_expr (FILE *, const_tree);\n extern void print_rtl (FILE *, const_rtx);\n extern void print_simple_rtl (FILE *, const_rtx);"}]}