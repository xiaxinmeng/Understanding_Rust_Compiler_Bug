{"sha": "5c4f0f47935386fd60e70deb452bb4422480d22f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWM0ZjBmNDc5MzUzODZmZDYwZTcwZGViNDUyYmI0NDIyNDgwZDIyZg==", "commit": {"author": {"name": "Bruce Korb", "email": "bkorb@gnu.org", "date": "2007-02-04T15:10:08Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2007-02-04T15:10:08Z"}, "message": "replace \"extern\" only if surrounded by space characters.\n\nFrom-SVN: r121574", "tree": {"sha": "a18934f40a1a5e5d22c71dcc032259e1fa97a37b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a18934f40a1a5e5d22c71dcc032259e1fa97a37b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5c4f0f47935386fd60e70deb452bb4422480d22f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c4f0f47935386fd60e70deb452bb4422480d22f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c4f0f47935386fd60e70deb452bb4422480d22f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c4f0f47935386fd60e70deb452bb4422480d22f/comments", "author": {"login": "brkorb", "id": 1242936, "node_id": "MDQ6VXNlcjEyNDI5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1242936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brkorb", "html_url": "https://github.com/brkorb", "followers_url": "https://api.github.com/users/brkorb/followers", "following_url": "https://api.github.com/users/brkorb/following{/other_user}", "gists_url": "https://api.github.com/users/brkorb/gists{/gist_id}", "starred_url": "https://api.github.com/users/brkorb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brkorb/subscriptions", "organizations_url": "https://api.github.com/users/brkorb/orgs", "repos_url": "https://api.github.com/users/brkorb/repos", "events_url": "https://api.github.com/users/brkorb/events{/privacy}", "received_events_url": "https://api.github.com/users/brkorb/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f1bd2543dbb95d13b56ff8fc27c6a88842abe422", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1bd2543dbb95d13b56ff8fc27c6a88842abe422", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1bd2543dbb95d13b56ff8fc27c6a88842abe422"}], "stats": {"total": 101, "additions": 62, "deletions": 39}, "files": [{"sha": "b8c37a5e7563846edf0009880c235be497fd9509", "filename": "fixincludes/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2FChangeLog?ref=5c4f0f47935386fd60e70deb452bb4422480d22f", "patch": "@@ -1,3 +1,8 @@\n+2007-02-03  Bruce Korb <bkorb@gnu.org>\n+\n+\t* inclhack.def (glibc_c99_inline_4): replace \"extern\" only if\n+\tsurrounded by space characters.\n+\n 2007-01-25  Daniel Franke <franke.daniel@gmail.com>\n \n \tPR target/30272"}, {"sha": "f97bdb63d8577c7309fa8bc66e2a65a51e5748b3", "filename": "fixincludes/fixincl.x", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ffixincl.x?ref=5c4f0f47935386fd60e70deb452bb4422480d22f", "patch": "@@ -2,11 +2,11 @@\n  * \n  * DO NOT EDIT THIS FILE   (fixincl.x)\n  * \n- * It has been AutoGen-ed  Monday January 15, 2007 at 09:38:13 PM CET\n+ * It has been AutoGen-ed  Sunday February  4, 2007 at 07:08:33 AM PST\n  * From the definitions    inclhack.def\n  * and the template file   fixincl\n  */\n-/* DO NOT SVN-MERGE THIS FILE, EITHER Mo Jan 15 21:38:13 CET 2007\n+/* DO NOT SVN-MERGE THIS FILE, EITHER Sun Feb  4 07:08:34 PST 2007\n  *\n  * You must regenerate it.  Use the ./genfixes script.\n  *\n@@ -2316,15 +2316,22 @@ tSCC zGlibc_C99_Inline_4List[] =\n  */\n #define apzGlibc_C99_Inline_4Machs (const char**)NULL\n \n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zGlibc_C99_Inline_4Select0[] =\n+       \" extern \";\n+\n /*\n  *  content bypass pattern - skip fix if pattern found\n  */\n tSCC zGlibc_C99_Inline_4Bypass0[] =\n        \"__STDC_VERSION__\";\n \n-#define    GLIBC_C99_INLINE_4_TEST_CT  1\n+#define    GLIBC_C99_INLINE_4_TEST_CT  2\n static tTestDesc aGlibc_C99_Inline_4Tests[] = {\n-  { TT_NEGREP,   zGlibc_C99_Inline_4Bypass0, (regex_t*)NULL }, };\n+  { TT_NEGREP,   zGlibc_C99_Inline_4Bypass0, (regex_t*)NULL },\n+  { TT_EGREP,    zGlibc_C99_Inline_4Select0, (regex_t*)NULL }, };\n \n /*\n  *  Fix Command Arguments for Glibc_C99_Inline_4\n@@ -2335,7 +2342,6 @@ static const char* apzGlibc_C99_Inline_4Patch[] = {\n #if __STDC_VERSION__ < 19901L\\n\\\n extern\\n\\\n #endif\\n\",\n-    \"extern\",\n     (char*)NULL };\n \n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n@@ -8419,7 +8425,7 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          250\n+#define REGEX_COUNT          251\n #define MACH_LIST_SIZE_LIMIT 261\n #define FIX_COUNT            207\n "}, {"sha": "24dc087f93b932292fcf3775774c446323244e22", "filename": "fixincludes/inclhack.def", "status": "modified", "additions": 42, "deletions": 31, "changes": 73, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Finclhack.def?ref=5c4f0f47935386fd60e70deb452bb4422480d22f", "patch": "@@ -654,7 +654,8 @@ fix = {\n  */\n fix = {\n     hackname  = alpha___extern_prefix;\n-    select    = \"(.*)(defined\\\\(__DECC\\\\)|def[ \\t]*__DECC)[ \\t]*\\n(#[ \\t]*pragma[ \\t]*extern_prefix.*)\";\n+    select    = \"(.*)(defined\\\\(__DECC\\\\)|def[ \\t]*__DECC)[ \\t]*\\n\"\n+                \"(#[ \\t]*pragma[ \\t]*extern_prefix.*)\";\n \n     mach      = \"alpha*-dec-osf*\";\n     c_fix     = format;\n@@ -681,7 +682,8 @@ fix = {\n     c_fix     = format;\n     c_fix_arg = \"%0 && !defined(__PRAGMA_EXTERN_PREFIX)\";\n \n-    test_text = \"#if (_ISO_C_SOURCE>=19990L) && !defined(_LIBC_POLLUTION_H_) && !defined(__DECC)\";\n+    test_text = \"#if (_ISO_C_SOURCE>=19990L) \"\n+                \"&& !defined(_LIBC_POLLUTION_H_) && !defined(__DECC)\";\n };\n \n \n@@ -714,7 +716,8 @@ fix = {\n     select    = '(#define assert\\(EX\\).*)\\(\\(int\\) \\(EX\\)\\)';\n     c_fix     = format;\n     c_fix_arg = \"%1(EX)\";\n-    test_text = '#define assert(EX) (((int) (EX)) ? (void)0 : __assert(#EX, __FILE__, __LINE__))';\n+    test_text = '#define assert(EX) (((int) (EX)) ? (void)0 '\n+                ': __assert(#EX, __FILE__, __LINE__))';\n };\n \n \n@@ -782,14 +785,17 @@ fix = {\n fix = {\n     hackname  = alpha_pthread;\n     files     = pthread.h;\n-    select    = \"((#[ \\t]*if)([ \\t]*defined[ \\t]*\\\\(_PTHREAD_ENV_DECC\\\\)|def _PTHREAD_ENV_DECC)(.*))\\n\"\n+    select    = \"((#[ \\t]*if)([ \\t]*defined[ \\t]*\\\\(_PTHREAD_ENV_DECC\\\\)\"\n+                \"|def _PTHREAD_ENV_DECC)(.*))\\n\"\n \t\t\"(#[ \\t]*define _PTHREAD_USE_PTDNAM_)\";\n \n     mach      = \"alpha*-dec-osf*\";\n     c_fix     = format;\n-    c_fix_arg = \"%2 defined (_PTHREAD_ENV_DECC)%4 || defined (__PRAGMA_EXTERN_PREFIX)\\n%5\";\n+    c_fix_arg = \"%2 defined (_PTHREAD_ENV_DECC)%4 \"\n+                \"|| defined (__PRAGMA_EXTERN_PREFIX)\\n%5\";\n \n-    test_text = \"#  if defined (_PTHREAD_ENV_DECC) || defined (_PTHREAD_ENV_EPCC)\\n\"\n+    test_text = \"#  if defined (_PTHREAD_ENV_DECC) \"\n+                      \"|| defined (_PTHREAD_ENV_EPCC)\\n\"\n \t\t\"#   define _PTHREAD_USE_PTDNAM_\\n\"\n \t\t\"#  endif\\n\"\n \t\t\"#  ifdef _PTHREAD_ENV_DECC\\n\"\n@@ -887,8 +893,12 @@ fix = {\n \n     mach     = \"alpha*-dec-osf4*\";\n     select   = \"#define wcstok wcstok_r\";\n-    sed      = \"s@#define wcstok wcstok_r@extern wchar_t *wcstok __((wchar_t *, const wchar_t *, wchar_t **)) __asm__(\\\"wcstok_r\\\");@\";\n-    sed      = \"s@#define wcsftime __wcsftime_isoc@extern size_t   wcsftime __((wchar_t *, size_t, const wchar_t *, const struct tm *)) __asm__(\\\"__wcsftime_isoc\\\");@\";\n+    sed      = \"s@#define wcstok wcstok_r@\"\n+                \"extern wchar_t *wcstok __((wchar_t *, const wchar_t *, \"\n+                          \"wchar_t **)) __asm__(\\\"wcstok_r\\\");@\";\n+    sed      = \"s@#define wcsftime __wcsftime_isoc@\"\n+                \"extern size_t   wcsftime __((wchar_t *, size_t, const wchar_t *\"\n+                          \", const struct tm *)) __asm__(\\\"__wcsftime_isoc\\\");@\";\n     test_text = \"#define wcstok wcstok_r\\n\"\n \t\t\"#define wcsftime __wcsftime_isoc\";\n };\n@@ -1320,21 +1330,21 @@ fix = {\n     hackname  = glibc_c99_inline_2;\n     files     = sys/stat.h, '*/sys/stat.h';\n     select    = \"extern __inline__ int\";\n-    sed\t      = \"s/extern int \\\\(stat\\\\|lstat\\\\|fstat\\\\|mknod\\\\)/\"\n-\t\t\"#if __STDC_VERSION__ < 199901L\\\\\\nextern\\\\\\n#endif\\\\\\n\"\n-    \t\t\"__inline__ int \\\\1/\";\n-    sed\t      = \"s/extern int __REDIRECT\\\\(_NTH\\\\|\\\\) (\\\\(stat\\\\|lstat\\\\|fstat\\\\)/\"\n-\t\t\"#if __STDC_VERSION__ < 199901L\\\\\\nextern\\\\\\n#endif\\\\\\n\"\n-    \t\t\"__inline__ int __REDIRECT\\\\1 (\\\\2/\";\n-    sed\t      = \"s/^extern __inline__ int/\"\n-\t\t\"#if __STDC_VERSION__ < 199901L\\\\\\nextern\\\\\\n#endif\\\\\\n\"\n-\t\t\"__inline__ int/\";\n+    sed     = \"s/extern int \\\\(stat\\\\|lstat\\\\|fstat\\\\|mknod\\\\)/\"\n+              \"#if __STDC_VERSION__ < 199901L\\\\\\nextern\\\\\\n#endif\\\\\\n\"\n+              \"__inline__ int \\\\1/\";\n+    sed     = \"s/extern int __REDIRECT\\\\(_NTH\\\\|\\\\) (\\\\(stat\\\\|lstat\\\\|fstat\\\\)/\"\n+              \"#if __STDC_VERSION__ < 199901L\\\\\\nextern\\\\\\n#endif\\\\\\n\"\n+              \"__inline__ int __REDIRECT\\\\1 (\\\\2/\";\n+    sed     = \"s/^extern __inline__ int/\"\n+              \"#if __STDC_VERSION__ < 199901L\\\\\\nextern\\\\\\n#endif\\\\\\n\"\n+              \"__inline__ int/\";\n     test_text = <<-EOT\n-extern int fstat64 (int __fd, struct stat64 *__buf) __THROW __nonnull ((2));\n-extern __inline__ int\n-__NTH (fstat64 (int __fd, struct stat64 *__statbuf))\n-{}\n-EOT;\n+\textern int fstat64 (int __fd, struct stat64 *__buf) __THROW __nonnull ((2));\n+\textern __inline__ int\n+\t__NTH (fstat64 (int __fd, struct stat64 *__statbuf))\n+\t{}\n+\tEOT;\n };\n \n \n@@ -1346,25 +1356,26 @@ fix = {\n     c_fix_arg = \"# if defined(__cplusplus) || __STDC_VERSION__ >= 19901L\";\n     c_fix_arg = \"^# ifdef __cplusplus$\";\n     test_text = <<-EOT\n-# ifdef __cplusplus\n-#  define __STRING_INLINE inline\n-# else\n-#  define __STRING_INLINE extern __inline\n-# endif\n-EOT;\n+\t# ifdef __cplusplus\n+\t#  define __STRING_INLINE inline\n+\t# else\n+\t#  define __STRING_INLINE extern __inline\n+\t# endif\n+\tEOT;\n };\n \n \n fix = {\n     hackname  = glibc_c99_inline_4;\n     files     = sys/sysmacros.h, '*/sys/sysmacros.h';\n     bypass    = \"__STDC_VERSION__\";\n+    select    = ' extern ';\n     c_fix     = format;\n     c_fix_arg = \"\\n#if __STDC_VERSION__ < 19901L\\nextern\\n#endif\\n\";\n-    c_fix_arg = \"extern\";\n     test_text = <<-EOT\n-__extension__ extern __inline unsigned int\n-EOT;\n+\t__extension__ extern __inline unsigned int\n+\t__extension__ __extern_inline unsigned int\n+\tEOT;\n };\n \n "}, {"sha": "40c44f6183e616f0b1f5204c93a40bfd42cb421e", "filename": "fixincludes/tests/base/sys/sysmacros.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2Ftests%2Fbase%2Fsys%2Fsysmacros.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5c4f0f47935386fd60e70deb452bb4422480d22f/fixincludes%2Ftests%2Fbase%2Fsys%2Fsysmacros.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/fixincludes%2Ftests%2Fbase%2Fsys%2Fsysmacros.h?ref=5c4f0f47935386fd60e70deb452bb4422480d22f", "patch": "@@ -10,9 +10,10 @@\n \n \n #if defined( GLIBC_C99_INLINE_4_CHECK )\n-__extension__ \n+__extension__\n #if __STDC_VERSION__ < 19901L\n extern\n #endif\n- __inline unsigned int\n+__inline unsigned int\n+__extension__ __extern_inline unsigned int\n #endif  /* GLIBC_C99_INLINE_4_CHECK */"}]}