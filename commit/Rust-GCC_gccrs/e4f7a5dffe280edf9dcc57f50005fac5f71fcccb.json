{"sha": "e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTRmN2E1ZGZmZTI4MGVkZjlkY2M1N2Y1MDAwNWZhYzVmNzFmY2NjYg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-07-30T20:05:10Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2016-07-30T20:05:10Z"}, "message": "re PR fortran/69867 (ICE on initializing character in type with array of incompatible data)\n\n2016-07-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/69867\n\t* decl.c (build_struct): Ensure that pointers point to something.\n\n2016-07-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/69867\n\t* gfortran.dg/pr69867.f90: New test.\n\nFrom-SVN: r238907", "tree": {"sha": "ca41ac30737daa6543bf8287ca147f63b3faef9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca41ac30737daa6543bf8287ca147f63b3faef9a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/comments", "author": null, "committer": null, "parents": [{"sha": "b441ae1d89410e8f95a4c3317db0f52831bfaf0e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b441ae1d89410e8f95a4c3317db0f52831bfaf0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b441ae1d89410e8f95a4c3317db0f52831bfaf0e"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "13f1a9089dbe41c1c069d4b3c3e4e53eef07fd0d", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "patch": "@@ -1,3 +1,8 @@\n+2016-07-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/69867\n+\t* decl.c (build_struct): Ensure that pointers point to something.\n+\n 2016-07-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/69962"}, {"sha": "818e7d4ca988cd6d6390e263fea49d3307ff6f02", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "patch": "@@ -1926,8 +1926,10 @@ build_struct (const char *name, gfc_charlen *cl, gfc_expr **init,\n \n       if (c->initializer->expr_type == EXPR_CONSTANT)\n \tgfc_set_constant_character_len (len, c->initializer, -1);\n-      else if (mpz_cmp (c->ts.u.cl->length->value.integer,\n-\t\t\tc->initializer->ts.u.cl->length->value.integer))\n+      else if (c->initializer\n+\t\t&& c->initializer->ts.u.cl\n+\t\t&& mpz_cmp (c->ts.u.cl->length->value.integer,\n+\t\t\t    c->initializer->ts.u.cl->length->value.integer))\n \t{\n \t  gfc_constructor *ctor;\n \t  ctor = gfc_constructor_first (c->initializer->value.constructor);"}, {"sha": "8625717c5bfd0c32845035ab2a859a7ddae578c2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "patch": "@@ -1,3 +1,8 @@\n+2016-07-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/69867\n+\t* gfortran.dg/pr69867.f90: New test.\n+\n 2016-07-30  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/69962"}, {"sha": "132d5e83b1612b5cf1b9b2d10b54bbc21a8d2ac4", "filename": "gcc/testsuite/gfortran.dg/pr69867.f90", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr69867.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4f7a5dffe280edf9dcc57f50005fac5f71fcccb/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr69867.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr69867.f90?ref=e4f7a5dffe280edf9dcc57f50005fac5f71fcccb", "patch": "@@ -0,0 +1,6 @@\n+! { dg-do compile }\n+program p\n+ type t\n+  character(1) :: c(1)=[1] ! { dg-error \"convert INTEGER.4. to CHARACTER.1.\" }\n+ end type\n+end"}]}