{"sha": "440aabf8657a9f818f755f768f80f65f205b5077", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQwYWFiZjg2NTdhOWY4MThmNzU1Zjc2OGY4MGY2NWYyMDViNTA3Nw==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2001-07-26T06:56:13Z"}, "committer": {"name": "Neil Booth", "email": "neil@gcc.gnu.org", "date": "2001-07-26T06:56:13Z"}, "message": "toplev.c, [...]: Include xcoffout.h if appropriate.\n\n\t* toplev.c, varasm.c, final.c: Include xcoffout.h if appropriate.\n\t* dbxout.c (dbxout_global_decl): Move outside #ifdef.\n\t* Makefile.in (varasm.o, final.o, toplev.o): Update dependencies.\n\nFrom-SVN: r44382", "tree": {"sha": "4ae0c09398bfea9241b677632feb032a1ae1e43c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ae0c09398bfea9241b677632feb032a1ae1e43c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/440aabf8657a9f818f755f768f80f65f205b5077", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/440aabf8657a9f818f755f768f80f65f205b5077", "html_url": "https://github.com/Rust-GCC/gccrs/commit/440aabf8657a9f818f755f768f80f65f205b5077", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/440aabf8657a9f818f755f768f80f65f205b5077/comments", "author": null, "committer": null, "parents": [{"sha": "a6ed70ef1df6e0d2e900d976513c4a2c3b439b8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6ed70ef1df6e0d2e900d976513c4a2c3b439b8a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6ed70ef1df6e0d2e900d976513c4a2c3b439b8a"}], "stats": {"total": 52, "additions": 37, "deletions": 15}, "files": [{"sha": "aad462cc72a5557f36728c73d7656ca3a826048c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=440aabf8657a9f818f755f768f80f65f205b5077", "patch": "@@ -1,3 +1,9 @@\n+2001-07-26  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* toplev.c, varasm.c, final.c: Include xcoffout.h if appropriate.\n+\t* dbxout.c (dbxout_global_decl): Move outside #ifdef.\n+\t* Makefile.in (varasm.o, final.o, toplev.o): Update dependencies.\n+\n 2001-07-26  Neil Booth  <neil@cat.daikokuya.demon.co.uk>\n \n \t* cpphash.h (struct_lexer_state): Delete was_skipping."}, {"sha": "6e619d9b37263199b1d0166c8c3103144044c961", "filename": "gcc/Makefile.in", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=440aabf8657a9f818f755f768f80f65f205b5077", "patch": "@@ -1339,7 +1339,7 @@ diagnostic.o : diagnostic.c diagnostic.h diagnostic.def \\\n    $(CONFIG_H) $(SYSTEM_H) $(TREE_H) $(RTL_H) $(TM_P_H) flags.h \\\n    $(GGC_H) input.h $(INSN_ATTR_H) insn-config.h toplev.h intl.h\n toplev.o : toplev.c $(CONFIG_H) $(SYSTEM_H) $(TREE_H) $(RTL_H) function.h \\\n-   flags.h input.h $(INSN_ATTR_H) output.h diagnostic.h \\\n+   flags.h xcoffout.h input.h $(INSN_ATTR_H) output.h diagnostic.h \\\n    debug.h insn-config.h intl.h $(RECOG_H) Makefile toplev.h \\\n    dwarf2out.h sdbout.h dbxout.h $(EXPR_H) hard-reg-set.h $(BASIC_BLOCK_H) \\\n    graph.h $(LOOP_H) except.h $(REGS_H) $(TIMEVAR_H) $(lang_options_files) \\\n@@ -1362,7 +1362,8 @@ errors.o : errors.c $(GCONFIG_H) $(SYSTEM_H) errors.h\n \n varasm.o : varasm.c $(CONFIG_H) $(SYSTEM_H) $(TREE_H) $(RTL_H) flags.h \\\n    function.h $(EXPR_H) hard-reg-set.h $(REGS_H) $(OBSTACK_H) \\\n-   output.h c-pragma.h toplev.h debug.h $(GGC_H) $(TM_P_H) $(HASHTAB_H)\n+   output.h c-pragma.h toplev.h xcoffout.h debug.h $(GGC_H) $(TM_P_H) \\\n+   $(HASHTAB_H)\n function.o : function.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) $(TREE_H) flags.h \\\n    function.h $(EXPR_H) $(REGS_H) hard-reg-set.h \\\n    insn-config.h $(RECOG_H) output.h toplev.h except.h hash.h $(GGC_H) $(TM_P_H)\n@@ -1523,7 +1524,7 @@ sched-vis.o : sched-vis.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) sched-int.h \\\n    hard-reg-set.h $(BASIC_BLOCK_H) $(INSN_ATTR_H) $(REGS_H) $(TM_P_H)\n final.o : final.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) $(TREE_H) flags.h intl.h \\\n    $(REGS_H) $(RECOG_H) conditions.h insn-config.h $(INSN_ATTR_H) function.h \\\n-   real.h output.h hard-reg-set.h except.h debug.h \\\n+   real.h output.h hard-reg-set.h except.h debug.h xcoffout.h \\\n    toplev.h reload.h dwarf2out.h $(BASIC_BLOCK_H) $(TM_P_H) $(TARGET_H)\n recog.o : recog.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) function.h $(BASIC_BLOCK_H) \\\n    $(REGS_H) $(RECOG_H) $(EXPR_H) hard-reg-set.h flags.h insn-config.h \\"}, {"sha": "0d330c2265373380ca210e6ace54878ad0e3acb7", "filename": "gcc/dbxout.c", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Fdbxout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Fdbxout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbxout.c?ref=440aabf8657a9f818f755f768f80f65f205b5077", "patch": "@@ -625,18 +625,6 @@ dbxout_end_block (line, n)\n   ASM_OUTPUT_INTERNAL_LABEL (asmfile, \"LBE\", n);\n }\n \n-/* Debug information for a global DECL.  Called from toplev.c after\n-   compilation proper has finished.  */\n-static void\n-dbxout_global_decl (decl)\n-     tree decl;\n-{\n-  if (TREE_CODE (decl) == VAR_DECL\n-      && ! DECL_EXTERNAL (decl)\n-      && DECL_RTL_SET_P (decl))\t/* Not necessary?  */\n-    dbxout_symbol (decl, 0);\n-} \n-\n /* Output dbx data for a function definition.\n    This includes a definition of the function name itself (a symbol),\n    definitions of the parameters (locating them in the parameter list)\n@@ -666,6 +654,18 @@ dbxout_function_decl (decl)\n \n #endif /* DBX_DEBUGGING_INFO  */\n \n+/* Debug information for a global DECL.  Called from toplev.c after\n+   compilation proper has finished.  */\n+static void\n+dbxout_global_decl (decl)\n+     tree decl;\n+{\n+  if (TREE_CODE (decl) == VAR_DECL\n+      && ! DECL_EXTERNAL (decl)\n+      && DECL_RTL_SET_P (decl))\t/* Not necessary?  */\n+    dbxout_symbol (decl, 0);\n+} \n+\n /* At the end of compilation, finish writing the symbol table.\n    Unless you define DBX_OUTPUT_MAIN_SOURCE_FILE_END, the default is\n    to do nothing.  */"}, {"sha": "1529251686e2aa286d05e9a053cb3be6f30d6aa3", "filename": "gcc/final.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Ffinal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Ffinal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffinal.c?ref=440aabf8657a9f818f755f768f80f65f205b5077", "patch": "@@ -68,6 +68,11 @@ Boston, MA 02111-1307, USA.  */\n #include \"target.h\"\n #include \"debug.h\"\n \n+#ifdef XCOFF_DEBUGGING_INFO\n+#include \"xcoffout.h\"\t\t/* Needed for external data\n+\t\t\t\t   declarations for e.g. AIX 4.x.  */\n+#endif\n+\n #if defined (DWARF2_UNWIND_INFO) || defined (DWARF2_DEBUGGING_INFO)\n #include \"dwarf2out.h\"\n #endif"}, {"sha": "a28b38e8704475cf274126b2e881e2c1cea3051a", "filename": "gcc/toplev.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=440aabf8657a9f818f755f768f80f65f205b5077", "patch": "@@ -79,6 +79,11 @@ Boston, MA 02111-1307, USA.  */\n #ifdef SDB_DEBUGGING_INFO\n #include \"sdbout.h\"\n #endif\n+\n+#ifdef XCOFF_DEBUGGING_INFO\n+#include \"xcoffout.h\"\t\t/* Needed for external data\n+\t\t\t\t   declarations for e.g. AIX 4.x.  */\n+#endif\n \f\n #ifdef VMS\n /* The extra parameters substantially improve the I/O performance.  */"}, {"sha": "e739784cf17819e9809e46f2cd407c1e16685007", "filename": "gcc/varasm.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/440aabf8657a9f818f755f768f80f65f205b5077/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=440aabf8657a9f818f755f768f80f65f205b5077", "patch": "@@ -47,6 +47,11 @@ Boston, MA 02111-1307, USA.  */\n #include \"tm_p.h\"\n #include \"debug.h\"\n \n+#ifdef XCOFF_DEBUGGING_INFO\n+#include \"xcoffout.h\"\t\t/* Needed for external data\n+\t\t\t\t   declarations for e.g. AIX 4.x.  */\n+#endif\n+\n #ifndef TRAMPOLINE_ALIGNMENT\n #define TRAMPOLINE_ALIGNMENT FUNCTION_BOUNDARY\n #endif"}]}