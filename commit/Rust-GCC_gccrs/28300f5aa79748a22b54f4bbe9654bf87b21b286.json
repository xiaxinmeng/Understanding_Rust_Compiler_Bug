{"sha": "28300f5aa79748a22b54f4bbe9654bf87b21b286", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjgzMDBmNWFhNzk3NDhhMjJiNTRmNGJiZTk2NTRiZjg3YjIxYjI4Ng==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-06-07T19:07:46Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-06-07T19:07:46Z"}, "message": "re PR fortran/40008 (F2008: Add NEWUNIT= for OPEN statement)\n\n2009-06-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/40008\n\t* gfortran.dg/negative_unit.f: Update test.\n\t* gfortran.dg/negative_unit_int8.f: Update test.\n\t* gfortran.dg/newunit_1.f90: New test.\n\nFrom-SVN: r148255", "tree": {"sha": "0fd8f6de3651918de195f80778dcdd1fb42094c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0fd8f6de3651918de195f80778dcdd1fb42094c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/28300f5aa79748a22b54f4bbe9654bf87b21b286", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28300f5aa79748a22b54f4bbe9654bf87b21b286", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28300f5aa79748a22b54f4bbe9654bf87b21b286", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28300f5aa79748a22b54f4bbe9654bf87b21b286/comments", "author": null, "committer": null, "parents": [{"sha": "82aee54346d1128604f59785b820de6dded93c46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82aee54346d1128604f59785b820de6dded93c46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82aee54346d1128604f59785b820de6dded93c46"}], "stats": {"total": 62, "additions": 44, "deletions": 18}, "files": [{"sha": "fead8424557fc26661bba93c2b2e4a6324cea7da", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=28300f5aa79748a22b54f4bbe9654bf87b21b286", "patch": "@@ -1,3 +1,10 @@\n+2009-06-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/40008\n+\t* gfortran.dg/negative_unit.f: Update test.\n+\t* gfortran.dg/negative_unit_int8.f: Update test.\n+\t* gfortran.dg/newunit_1.f90: New test.\n+\n 2009-06-07  Daniel Franke  <franke.daniel@gmail.com>\n \n \tPR fortran/25104"}, {"sha": "f1733a8888f159770d39695ede756b2cedd95d9b", "filename": "gcc/testsuite/gfortran.dg/negative_unit.f", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2Fgfortran.dg%2Fnegative_unit.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2Fgfortran.dg%2Fnegative_unit.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnegative_unit.f?ref=28300f5aa79748a22b54f4bbe9654bf87b21b286", "patch": "@@ -6,20 +6,19 @@\n ! Test case update by Jerry DeLisle <jvdelisle@gcc.gnu.org>\n !\n ! Bugs submitted by Walt Brainerd\n-      integer i\n+      integer i,j\n       logical l\n       \n-      i = 0\n+      i = -1\n ! gfortran created a 'fort.-1' file and wrote \"Hello\" in it\n-      write (unit=-1, fmt=*, iostat=i) \"Hello\"\n-      if (i <= 0) call abort\n+      write (unit=i, fmt=*, iostat=j) \"Hello\"\n+      if (j <= 0) call abort\n       \n-      i = 0\n-      open (unit=-11, file=\"xxx\", iostat=i)\n-      if (i <= 0) call abort\n+      i = -11\n+      open (unit=i, file=\"xxx\", iostat=j)\n+      if (j <= 0) call abort\n \n-      i = 0\n-      inquire (unit=-42, exist=l)\n+      i = -42\n+      inquire (unit=i, exist=l)\n       if (l) call abort\n-\n       end"}, {"sha": "d4c35579f044c8bb6fe87fb3b2857cc9d8585370", "filename": "gcc/testsuite/gfortran.dg/negative_unit_int8.f", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2Fgfortran.dg%2Fnegative_unit_int8.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2Fgfortran.dg%2Fnegative_unit_int8.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnegative_unit_int8.f?ref=28300f5aa79748a22b54f4bbe9654bf87b21b286", "patch": "@@ -13,22 +13,22 @@\n       integer, parameter ::ERROR_BAD_UNIT = 5005\n       logical l\n       \n-      i = 0\n+      i = -1\n ! gfortran created a 'fort.-1' file and wrote \"Hello\" in it\n-      write (unit=-1, fmt=*, iostat=i) \"Hello\"\n+      write (unit=i, fmt=*, iostat=i) \"Hello\"\n       if (i <= 0) call abort\n       \n-      i = 0\n-      open (unit=-11, file=\"xxx\", iostat=i)\n+      i = -11\n+      open (unit=i, file=\"xxx\", iostat=i)\n       if (i <= 0) call abort\n \n-      i = 0\n-      inquire (unit=-42, exist=l)\n+      i = -42\n+      inquire (unit=i, exist=l)\n       if (l) call abort\n \n-      i = 0 \n+      i = 2_8*huge(0_4)+20_8\n ! This one is nasty\n-      inquire (unit=2_8*huge(0_4)+20_8, exist=l, iostat=i)\n+      inquire (unit=i, exist=l, iostat=i)\n       if (l) call abort\n       if (i.ne.ERROR_BAD_UNIT) call abort\n "}, {"sha": "3a0c0b98cbe258fe09d0fb4b8c459634341e4aa4", "filename": "gcc/testsuite/gfortran.dg/newunit_1.f90", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2Fgfortran.dg%2Fnewunit_1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/28300f5aa79748a22b54f4bbe9654bf87b21b286/gcc%2Ftestsuite%2Fgfortran.dg%2Fnewunit_1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnewunit_1.f90?ref=28300f5aa79748a22b54f4bbe9654bf87b21b286", "patch": "@@ -0,0 +1,20 @@\n+! { dg-do run }\n+! PR40008 F2008: Add NEWUNIT= for OPEN statement \n+! Contributed by Jerry DeLisle <jvdelisle@gcc.gnu.org>\n+program newunit_1\n+  character(len=25) :: str\n+  integer(1) :: myunit, myunit2\n+  myunit = 25\n+  str = \"bad\"\n+  open(newunit=myunit, status=\"scratch\")\n+  open(newunit = myunit2, file=\"newunit_1file\")\n+  write(myunit,'(e24.15e2)') 1.0d0\n+  write(myunit2,*) \"abcdefghijklmnop\"\n+  flush(myunit)\n+  rewind(myunit)\n+  rewind(myunit2)\n+  read(myunit2,'(a)') str\n+  if (str.ne.\" abcdefghijklmnop\") call abort\n+  close(myunit)\n+  close(myunit2, status=\"delete\")\n+end program newunit_1"}]}