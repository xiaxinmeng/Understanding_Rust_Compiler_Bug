{"sha": "4e5813dd13475bfe2e16b30707450ea51477a467", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGU1ODEzZGQxMzQ3NWJmZTJlMTZiMzA3MDc0NTBlYTUxNDc3YTQ2Nw==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2004-11-04T14:08:16Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2004-11-04T14:08:16Z"}, "message": "re PR rtl-optimization/15342 ([arm-linux] internal compiler error: in verify_local_live_at_start)\n\n\tPR target/15342\n\t* regrename.c (scan_rtx): Treat the destinations of SETs and CLOBBERs\n\tas OP_INOUT if the instruction is predicated.\n\nFrom-SVN: r90063", "tree": {"sha": "2554d10152e693ead3b4c6250f3de30e1bc5c022", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2554d10152e693ead3b4c6250f3de30e1bc5c022"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e5813dd13475bfe2e16b30707450ea51477a467", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e5813dd13475bfe2e16b30707450ea51477a467", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e5813dd13475bfe2e16b30707450ea51477a467", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e5813dd13475bfe2e16b30707450ea51477a467/comments", "author": null, "committer": null, "parents": [{"sha": "d46aed512ee2db1c96652a08718660dedcb2a68f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d46aed512ee2db1c96652a08718660dedcb2a68f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d46aed512ee2db1c96652a08718660dedcb2a68f"}], "stats": {"total": 35, "additions": 33, "deletions": 2}, "files": [{"sha": "0320b0c87263e0520aaa9f403ecdd4494803599d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4e5813dd13475bfe2e16b30707450ea51477a467", "patch": "@@ -1,3 +1,9 @@\n+2004-11-04  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\tPR target/15342\n+\t* regrename.c (scan_rtx): Treat the destinations of SETs and CLOBBERs\n+\tas OP_INOUT if the instruction is predicated.\n+\n 2004-11-04  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* bitmap.h: Fix a comment typo.  Follow spelling conventions."}, {"sha": "3856c2cf0208bb8732aa835c0788553c5d85570c", "filename": "gcc/regrename.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2Fregrename.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2Fregrename.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregrename.c?ref=4e5813dd13475bfe2e16b30707450ea51477a467", "patch": "@@ -667,7 +667,8 @@ scan_rtx (rtx insn, rtx *loc, enum reg_class cl,\n \n     case SET:\n       scan_rtx (insn, &SET_SRC (x), cl, action, OP_IN, 0);\n-      scan_rtx (insn, &SET_DEST (x), cl, action, OP_OUT, 0);\n+      scan_rtx (insn, &SET_DEST (x), cl, action,\n+\t\tGET_CODE (PATTERN (insn)) == COND_EXEC ? OP_INOUT : OP_OUT, 0);\n       return;\n \n     case STRICT_LOW_PART:\n@@ -692,7 +693,8 @@ scan_rtx (rtx insn, rtx *loc, enum reg_class cl,\n       gcc_unreachable ();\n \n     case CLOBBER:\n-      scan_rtx (insn, &SET_DEST (x), cl, action, OP_OUT, 1);\n+      scan_rtx (insn, &SET_DEST (x), cl, action,\n+\t\tGET_CODE (PATTERN (insn)) == COND_EXEC ? OP_INOUT : OP_OUT, 0);\n       return;\n \n     case EXPR_LIST:"}, {"sha": "2e1d71da6e567294ce56ca6f3ed47d462358052d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4e5813dd13475bfe2e16b30707450ea51477a467", "patch": "@@ -1,3 +1,8 @@\n+2004-11-04  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\tPR target/15342\n+\t* gcc.dg/20041104-1.c: New test.\n+\n 2004-11-04  Giovanni Bajo  <giovannibajo@gcc.gnu.org>\n \n \t* g++.dg/template/nontype7.C: New test."}, {"sha": "b4d359d1e7bf070cc7ed73b31109af33af2c68ea", "filename": "gcc/testsuite/gcc.dg/20041104-1.c", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2Ftestsuite%2Fgcc.dg%2F20041104-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e5813dd13475bfe2e16b30707450ea51477a467/gcc%2Ftestsuite%2Fgcc.dg%2F20041104-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2F20041104-1.c?ref=4e5813dd13475bfe2e16b30707450ea51477a467", "patch": "@@ -0,0 +1,18 @@\n+/* This testcase exposed the same bug as PR 15342.  */\n+/* { dg-options \"-O2 -frename-registers -fno-schedule-insns\" } */\n+\n+void *memcpy (void *, const void *, __SIZE_TYPE__);\n+\n+void f (int n, int (*x)[4])\n+{\n+  while (n--)\n+    {\n+      int f = x[0][0];\n+      if (f <= 0)\n+\tmemcpy (&x[1], &x[0], sizeof (x[0]));\n+      else\n+\tmemcpy (&x[f], &x[0], sizeof (x[0]));\n+      f = x[0][2];\n+      x[0][1] = f;\n+    }\n+}"}]}