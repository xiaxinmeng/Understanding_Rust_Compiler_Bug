{"sha": "9c4ed267d69057cf5307b896a9466daf3e55f5d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWM0ZWQyNjdkNjkwNTdjZjUzMDdiODk2YTk0NjZkYWYzZTU1ZjVkNQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2007-06-09T16:28:31Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2007-06-09T16:28:31Z"}, "message": "re PR tree-optimization/32169 (Ice in set_value_range, at tree-vrp.c:326)\n\n./:\tPR tree-optimization/32169\n\t* tree-vrp.c (extract_range_from_unary_expr): For NOP_EXPR and\n\tCONVERT_EXPR, check whether min and max both converted to an\n\toverflow infinity representation.\ntestsuite/:\n\tPR tree-optimization/32169\n\t* gcc.c-torture/compile/pr32169.c: New test.\n\nFrom-SVN: r125591", "tree": {"sha": "8bb4c1810d65b5f93973d77fd9499addb7a3e0be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bb4c1810d65b5f93973d77fd9499addb7a3e0be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9c4ed267d69057cf5307b896a9466daf3e55f5d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c4ed267d69057cf5307b896a9466daf3e55f5d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c4ed267d69057cf5307b896a9466daf3e55f5d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c4ed267d69057cf5307b896a9466daf3e55f5d5/comments", "author": null, "committer": null, "parents": [{"sha": "84152c25a53201930fd73cb13a905d8335367971", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84152c25a53201930fd73cb13a905d8335367971", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84152c25a53201930fd73cb13a905d8335367971"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "dbb244741721919fdfc95fabd2225a322923bace", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9c4ed267d69057cf5307b896a9466daf3e55f5d5", "patch": "@@ -1,3 +1,10 @@\n+2007-06-09  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR tree-optimization/32169\n+\t* tree-vrp.c (extract_range_from_unary_expr): For NOP_EXPR and\n+\tCONVERT_EXPR, check whether min and max both converted to an\n+\toverflow infinity representation.\n+\n 2007-06-08  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* reload1.c (fixup_abnormal_edges): Clear bb field for insns"}, {"sha": "bc45908ac6b39071ed002a4f9e44f9bb321abac1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9c4ed267d69057cf5307b896a9466daf3e55f5d5", "patch": "@@ -1,3 +1,8 @@\n+2007-06-09  Ian Lance Taylor  <iant@google.com>\n+\n+\tPR tree-optimization/32169\n+\t* gcc.c-torture/compile/pr32169.c: New test.\n+\n 2007-06-08  Harsha Jagasia <harsha.jagasia@amd.com>\n \n \t* gcc.dg/vect/costmodel: New directory."}, {"sha": "29d3022df7395ba490294c782d894b284a852e2f", "filename": "gcc/testsuite/gcc.c-torture/compile/pr32169.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32169.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32169.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32169.c?ref=9c4ed267d69057cf5307b896a9466daf3e55f5d5", "patch": "@@ -0,0 +1,17 @@\n+void f(char);\n+static inline\n+void * __memset_generic(char c)\n+{\n+  f(c);\n+}\n+int prepare_startup_playback_urb(\n+     int b,\n+     int c\n+)\n+{\n+  char d;\n+  if (b)\n+    __memset_generic(c == ( 1) ? 0x80 : 0);\n+  else\n+    __memset_generic (c == ( 1) ? 0x80 : 0);\n+}"}, {"sha": "2a51de7ba43bce43be90b1e67a4be1ef179e5d03", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9c4ed267d69057cf5307b896a9466daf3e55f5d5/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=9c4ed267d69057cf5307b896a9466daf3e55f5d5", "patch": "@@ -2208,6 +2208,8 @@ extract_range_from_unary_expr (value_range_t *vr, tree expr)\n \t      && is_gimple_val (new_max)\n \t      && tree_int_cst_equal (new_min, orig_min)\n \t      && tree_int_cst_equal (new_max, orig_max)\n+\t      && (!is_overflow_infinity (new_min)\n+\t\t  || !is_overflow_infinity (new_max))\n \t      && (cmp = compare_values (new_min, new_max)) <= 0\n \t      && cmp >= -1)\n \t    {"}]}