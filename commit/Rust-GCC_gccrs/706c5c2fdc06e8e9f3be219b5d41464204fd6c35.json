{"sha": "706c5c2fdc06e8e9f3be219b5d41464204fd6c35", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzA2YzVjMmZkYzA2ZThlOWYzYmUyMTliNWQ0MTQ2NDIwNGZkNmMzNQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-10-16T08:54:07Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-10-16T08:54:07Z"}, "message": "haifa-sched.c (compute_block_forward_dependencies): Only check for notes, deleted insns and duplicates if ENABLE_CHECKING is defined.\n\n \t* haifa-sched.c (compute_block_forward_dependencies): Only check\n\tfor notes, deleted insns and duplicates if ENABLE_CHECKING is defined.\n\nFrom-SVN: r30042", "tree": {"sha": "c976a223e7c4ddaed359d255ee0027bc70a48623", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c976a223e7c4ddaed359d255ee0027bc70a48623"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/706c5c2fdc06e8e9f3be219b5d41464204fd6c35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/706c5c2fdc06e8e9f3be219b5d41464204fd6c35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/706c5c2fdc06e8e9f3be219b5d41464204fd6c35", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/706c5c2fdc06e8e9f3be219b5d41464204fd6c35/comments", "author": null, "committer": null, "parents": [{"sha": "c2d88e8417438b9e905c098d2540ccad235cf8d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2d88e8417438b9e905c098d2540ccad235cf8d3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2d88e8417438b9e905c098d2540ccad235cf8d3"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "0676b06d19a836cd306ce0bd9a2ce44c493c9af0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/706c5c2fdc06e8e9f3be219b5d41464204fd6c35/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/706c5c2fdc06e8e9f3be219b5d41464204fd6c35/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=706c5c2fdc06e8e9f3be219b5d41464204fd6c35", "patch": "@@ -1,3 +1,8 @@\n+Sat Oct 16 02:48:22 1999  Jeffrey A Law  (law@cygnus.com)\n+\n+\t* haifa-sched.c (compute_block_forward_dependencies): Only check\n+\tfor notes, deleted insns and duplicates if ENABLE_CHECKING is defined.\n+\n Sat Oct 16 00:07:01 1999  Richard Henderson  <rth@cygnus.com>\n \n \t* gcse.c (hash_expr_1): Add in MEM_ALIAS_SET."}, {"sha": "5e4c1ba43637a7ed01538375e310864ab4ecce11", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/706c5c2fdc06e8e9f3be219b5d41464204fd6c35/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/706c5c2fdc06e8e9f3be219b5d41464204fd6c35/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=706c5c2fdc06e8e9f3be219b5d41464204fd6c35", "patch": "@@ -6093,11 +6093,18 @@ compute_block_forward_dependences (bb)\n \t  if (x != XEXP (link, 0))\n \t    continue;\n \n-\t  /* Ignore dependences upon deleted insn.  */\n-\t  if (GET_CODE (x) == NOTE || INSN_DELETED_P (x))\n-\t    continue;\n-\t  if (find_insn_list (insn, INSN_DEPEND (x)))\n-\t    continue;\n+#ifdef ENABLE_CHECKING\n+\t  /* If add_dependence is working properly there should never\n+\t     be notes, deleted insns or duplicates in the backward\n+\t     links.  Thus we need not check for them here.\n+\n+\t     However, if we have enabled checking we might as well go\n+\t     ahead and verify that add_dependence worked properly.  */\n+\t  if (GET_CODE (x) == NOTE\n+\t      || INSN_DELETED_P (x)\n+\t      || find_insn_list (insn, INSN_DEPEND (x)))\n+\t    abort ();\n+#endif\n \n \t  new_link = alloc_INSN_LIST (insn, INSN_DEPEND (x));\n "}]}