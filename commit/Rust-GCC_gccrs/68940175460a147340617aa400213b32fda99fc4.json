{"sha": "68940175460a147340617aa400213b32fda99fc4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg5NDAxNzU0NjBhMTQ3MzQwNjE3YWE0MDAyMTNiMzJmZGE5OWZjNA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2000-12-29T08:03:56Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-12-29T08:03:56Z"}, "message": "c-decl.c (grokdeclarator): Prevent crash in case of overflow in array size.\n\n* c-decl.c (grokdeclarator): Prevent crash in case of overflow in\narray size.\n\nFrom-SVN: r38526", "tree": {"sha": "5b5e361f6a06b4c347e6c6f865287c196fa1c6f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5b5e361f6a06b4c347e6c6f865287c196fa1c6f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68940175460a147340617aa400213b32fda99fc4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68940175460a147340617aa400213b32fda99fc4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68940175460a147340617aa400213b32fda99fc4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68940175460a147340617aa400213b32fda99fc4/comments", "author": null, "committer": null, "parents": [{"sha": "7e7d95175604e98bd3d23134f6d708d87a66b5ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e7d95175604e98bd3d23134f6d708d87a66b5ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e7d95175604e98bd3d23134f6d708d87a66b5ed"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "04d22cd73245b3eac60ce355c1a9ce7d5391c173", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68940175460a147340617aa400213b32fda99fc4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68940175460a147340617aa400213b32fda99fc4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=68940175460a147340617aa400213b32fda99fc4", "patch": "@@ -1,5 +1,8 @@\n 2000-12-29  Alexandre Oliva  <aoliva@redhat.com>\n \n+\t* c-decl.c (grokdeclarator): Prevent crash in case of overflow in\n+\tarray size.\n+\n \t* calls.c (emit_library_call_value_1): Add to call_fusage the\n \tstack slot assigned to argument passed by reference.\n "}, {"sha": "92d84038ffdcb2ba130804a7afa4bcd9e49fdb21", "filename": "gcc/c-decl.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68940175460a147340617aa400213b32fda99fc4/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68940175460a147340617aa400213b32fda99fc4/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=68940175460a147340617aa400213b32fda99fc4", "patch": "@@ -4684,7 +4684,12 @@ grokdeclarator (declarator, declspecs, decl_context, initialized)\n   if (TREE_CODE (type) == ARRAY_TYPE\n       && COMPLETE_TYPE_P (type)\n       && TREE_OVERFLOW (TYPE_SIZE (type)))\n-    error (\"size of array `%s' is too large\", name);\n+    {\n+      error (\"size of array `%s' is too large\", name);\n+      /* If we proceed with the array type as it is, we'll eventully\n+\t crash in tree_low_cst().  */\n+      type = error_mark_node;\n+    }\n \n   /* If this is declaring a typedef name, return a TYPE_DECL.  */\n "}]}