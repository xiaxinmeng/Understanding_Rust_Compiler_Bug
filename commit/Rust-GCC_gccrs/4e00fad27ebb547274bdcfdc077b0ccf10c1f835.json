{"sha": "4e00fad27ebb547274bdcfdc077b0ccf10c1f835", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGUwMGZhZDI3ZWJiNTQ3Mjc0YmRjZmRjMDc3YjBjY2YxMGMxZjgzNQ==", "commit": {"author": {"name": "Andi Kleen", "email": "ak@linux.intel.com", "date": "2010-10-07T09:34:50Z"}, "committer": {"name": "Andi Kleen", "email": "ak@gcc.gnu.org", "date": "2010-10-07T09:34:50Z"}, "message": "Turn PR_SET_NAME check into link check\n\nFixes cross compilation for libiberty after my change\n\nlibiberty/\n\n2010-10-07  Andi Kleen <ak@linux.intel.com>\n\n\t* configure: Regenerate.\n\t* configure.ac: Turn PR_SET_NAME check into link check.\n\nFrom-SVN: r165086", "tree": {"sha": "16df7d397e543234b4a01eb8a23bfbfa623ea2c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/16df7d397e543234b4a01eb8a23bfbfa623ea2c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e00fad27ebb547274bdcfdc077b0ccf10c1f835", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e00fad27ebb547274bdcfdc077b0ccf10c1f835", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e00fad27ebb547274bdcfdc077b0ccf10c1f835", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e00fad27ebb547274bdcfdc077b0ccf10c1f835/comments", "author": null, "committer": null, "parents": [{"sha": "844ba5faec84783f31bab615ea507508329b6620", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/844ba5faec84783f31bab615ea507508329b6620", "html_url": "https://github.com/Rust-GCC/gccrs/commit/844ba5faec84783f31bab615ea507508329b6620"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "8c9a79f87c32baf892ff1612a9c545795fde99a1", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e00fad27ebb547274bdcfdc077b0ccf10c1f835/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e00fad27ebb547274bdcfdc077b0ccf10c1f835/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=4e00fad27ebb547274bdcfdc077b0ccf10c1f835", "patch": "@@ -1,3 +1,8 @@\n+2010-10-07  Andi Kleen <ak@linux.intel.com>\n+\n+\t* configure: Regenerate.\n+\t* configure.ac: Turn PR_SET_NAME check into link check.\n+\n 2010-10-06  Andi Kleen <ak@linux.intel.com>\n \n \t* Makefile.in (CFILES): Add setproctitle."}, {"sha": "7579000f96e3bae29ed107fcfab2b32cdd14344e", "filename": "libiberty/configure", "status": "modified", "additions": 7, "deletions": 12, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e00fad27ebb547274bdcfdc077b0ccf10c1f835/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e00fad27ebb547274bdcfdc077b0ccf10c1f835/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=4e00fad27ebb547274bdcfdc077b0ccf10c1f835", "patch": "@@ -5707,13 +5707,10 @@ fi\n \n \n # check for prctl PR_SET_NAME\n-if test \"$cross_compiling\" = yes; then :\n-  { { $as_echo \"$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\" >&5\n-$as_echo \"$as_me: error: in \\`$ac_pwd':\" >&2;}\n-as_fn_error \"cannot run test program while cross compiling\n-See \\`config.log' for more details.\" \"$LINENO\" 5; }\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+if test x$gcc_no_link = xyes; then\n+  as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n+fi\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n #include <sys/prctl.h>\n@@ -5723,15 +5720,13 @@ int main()\n }\n \n _ACEOF\n-if ac_fn_c_try_run \"$LINENO\"; then :\n+if ac_fn_c_try_link \"$LINENO\"; then :\n \n $as_echo \"#define HAVE_PRCTL_SET_NAME 1\" >>confdefs.h\n \n fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n-fi\n-\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n \n case \"${host}\" in\n   *-*-cygwin* | *-*-mingw*)"}, {"sha": "73ea6c96fcce441828bafe8cd7b6f0b4f39112ce", "filename": "libiberty/configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e00fad27ebb547274bdcfdc077b0ccf10c1f835/libiberty%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e00fad27ebb547274bdcfdc077b0ccf10c1f835/libiberty%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.ac?ref=4e00fad27ebb547274bdcfdc077b0ccf10c1f835", "patch": "@@ -536,7 +536,7 @@ AC_SUBST(CHECK)\n AC_SUBST(target_header_dir)\n \n # check for prctl PR_SET_NAME\n-AC_RUN_IFELSE([AC_LANG_SOURCE([[\n+AC_LINK_IFELSE([AC_LANG_SOURCE([[\n #include <sys/prctl.h>\n int main()\n {"}]}