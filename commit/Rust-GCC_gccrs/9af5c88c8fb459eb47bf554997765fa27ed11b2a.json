{"sha": "9af5c88c8fb459eb47bf554997765fa27ed11b2a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWFmNWM4OGM4ZmI0NTllYjQ3YmY1NTQ5OTc3NjVmYTI3ZWQxMWIyYQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-09-20T17:33:26Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-09-20T17:33:26Z"}, "message": "compiler: Update for GCC push_cfun changes.\n\nFrom-SVN: r191582", "tree": {"sha": "29dda1c214f91c8e9c48bebd5a416c8a80314d5f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/29dda1c214f91c8e9c48bebd5a416c8a80314d5f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9af5c88c8fb459eb47bf554997765fa27ed11b2a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9af5c88c8fb459eb47bf554997765fa27ed11b2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9af5c88c8fb459eb47bf554997765fa27ed11b2a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9af5c88c8fb459eb47bf554997765fa27ed11b2a/comments", "author": null, "committer": null, "parents": [{"sha": "5ae27c9c1f350ab000fbbb3269c1161bae794f61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5ae27c9c1f350ab000fbbb3269c1161bae794f61", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5ae27c9c1f350ab000fbbb3269c1161bae794f61"}], "stats": {"total": 9, "additions": 0, "deletions": 9}, "files": [{"sha": "4922c081513e40438898a48653cd0def78a005f1", "filename": "gcc/go/gofrontend/gogo-tree.cc", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9af5c88c8fb459eb47bf554997765fa27ed11b2a/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9af5c88c8fb459eb47bf554997765fa27ed11b2a/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo-tree.cc?ref=9af5c88c8fb459eb47bf554997765fa27ed11b2a", "patch": "@@ -476,7 +476,6 @@ Gogo::write_initialization_function(tree fndecl, tree init_stmt_list)\n \n   DECL_SAVED_TREE(fndecl) = init_stmt_list;\n \n-  current_function_decl = fndecl;\n   if (DECL_STRUCT_FUNCTION(fndecl) == NULL)\n     push_struct_function(fndecl);\n   else\n@@ -487,7 +486,6 @@ Gogo::write_initialization_function(tree fndecl, tree init_stmt_list)\n \n   cgraph_add_new_function(fndecl, false);\n \n-  current_function_decl = NULL_TREE;\n   pop_cfun();\n }\n \n@@ -864,17 +862,13 @@ Gogo::write_globals()\n \t      // means that we need an fndecl.\n \t      if (init_fndecl == NULL_TREE)\n \t\tinit_fndecl = this->initialization_function_decl();\n-\t      current_function_decl = init_fndecl;\n \t      if (DECL_STRUCT_FUNCTION(init_fndecl) == NULL)\n \t\tpush_struct_function(init_fndecl);\n \t      else\n \t\tpush_cfun(DECL_STRUCT_FUNCTION(init_fndecl));\n-\n \t      tree var_decl = is_sink ? NULL_TREE : vec[i];\n \t      var_init_tree = no->var_value()->get_init_block(this, NULL,\n \t\t\t\t\t\t\t      var_decl);\n-\n-\t      current_function_decl = NULL_TREE;\n \t      pop_cfun();\n \t    }\n \n@@ -1126,15 +1120,12 @@ Named_object::get_tree(Gogo* gogo, Named_object* function)\n \t\tcfun->function_end_locus =\n                   func->block()->end_location().gcc_location();\n \n-\t\tcurrent_function_decl = decl;\n-\n \t\tfunc->build_tree(gogo, this);\n \n \t\tgimplify_function_tree(decl);\n \n \t\tcgraph_finalize_function(decl, true);\n \n-\t\tcurrent_function_decl = NULL_TREE;\n \t\tpop_cfun();\n \t      }\n \t  }"}]}