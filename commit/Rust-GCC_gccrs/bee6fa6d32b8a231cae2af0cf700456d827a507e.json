{"sha": "bee6fa6d32b8a231cae2af0cf700456d827a507e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmVlNmZhNmQzMmI4YTIzMWNhZTJhZjBjZjcwMDQ1NmQ4MjdhNTA3ZQ==", "commit": {"author": {"name": "Adam Nemet", "email": "anemet@caviumnetworks.com", "date": "2009-01-28T02:55:20Z"}, "committer": {"name": "Adam Nemet", "email": "nemet@gcc.gnu.org", "date": "2009-01-28T02:55:20Z"}, "message": "c.opt (Wpacked-bitfield-compat): Change init value to -1.\n\n\t* c.opt (Wpacked-bitfield-compat): Change init value to -1.\n\t* c-opts.c (c_common_post_options): If -W*packed-bitfield-compat\n\twas not supplied then set warn_packed_bitfield_compat to the\n\tdefault value of 1.\n\t* stor-layout.c (place_field): Check warn_packed_bitfield_compat\n\tagainst 1.\n\nFrom-SVN: r143718", "tree": {"sha": "f191db5683ac9ece9c05e4e999f873fb140b3fa0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f191db5683ac9ece9c05e4e999f873fb140b3fa0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bee6fa6d32b8a231cae2af0cf700456d827a507e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bee6fa6d32b8a231cae2af0cf700456d827a507e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bee6fa6d32b8a231cae2af0cf700456d827a507e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bee6fa6d32b8a231cae2af0cf700456d827a507e/comments", "author": null, "committer": null, "parents": [{"sha": "2b5ba03731292c4e012be4acc95e81d488af1771", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b5ba03731292c4e012be4acc95e81d488af1771", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b5ba03731292c4e012be4acc95e81d488af1771"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "8b99dc968bbde5a44f034208f1bf8f99b07b735e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bee6fa6d32b8a231cae2af0cf700456d827a507e", "patch": "@@ -1,3 +1,12 @@\n+2009-01-27  Adam Nemet  <anemet@caviumnetworks.com>\n+\n+\t* c.opt (Wpacked-bitfield-compat): Change init value to -1.\n+\t* c-opts.c (c_common_post_options): If -W*packed-bitfield-compat\n+\twas not supplied then set warn_packed_bitfield_compat to the\n+\tdefault value of 1.\n+\t* stor-layout.c (place_field): Check warn_packed_bitfield_compat\n+\tagainst 1.\n+\n 2009-01-27  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/38503"}, {"sha": "a7ff6cc6d4506f971cb588ec278dff43286412a3", "filename": "gcc/c-opts.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2Fc-opts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2Fc-opts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-opts.c?ref=bee6fa6d32b8a231cae2af0cf700456d827a507e", "patch": "@@ -1085,6 +1085,11 @@ c_common_post_options (const char **pfilename)\n   if (warn_sign_conversion == -1)\n     warn_sign_conversion =  (c_dialect_cxx ()) ? 0 : warn_conversion;\n \n+  /* -Wpacked-bitfield-compat is on by default for the C languages.  The\n+     warning is issued in stor-layout.c which is not part of the front-end so\n+     we need to selectively turn it on here.  */\n+  if (warn_packed_bitfield_compat == -1)\n+    warn_packed_bitfield_compat = 1;\n \n   /* Special format checking options don't work without -Wformat; warn if\n      they are used.  */"}, {"sha": "e512ec663944029075fb9ad39cde6a927c869ba0", "filename": "gcc/c.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2Fc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2Fc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc.opt?ref=bee6fa6d32b8a231cae2af0cf700456d827a507e", "patch": "@@ -365,7 +365,7 @@ C ObjC Var(warn_override_init) Init(-1) Warning\n Warn about overriding initializers without side effects\n \n Wpacked-bitfield-compat\n-C ObjC C++ ObjC++ Var(warn_packed_bitfield_compat) Init(1) Warning\n+C ObjC C++ ObjC++ Var(warn_packed_bitfield_compat) Init(-1) Warning\n Warn about packed bit-fields whose offset changed in GCC 4.4\n \n Wparentheses"}, {"sha": "1a33b1c54d65b07f5cfcd180251c26876777b807", "filename": "gcc/stor-layout.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2Fstor-layout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bee6fa6d32b8a231cae2af0cf700456d827a507e/gcc%2Fstor-layout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstor-layout.c?ref=bee6fa6d32b8a231cae2af0cf700456d827a507e", "patch": "@@ -963,7 +963,7 @@ place_field (record_layout_info rli, tree field)\n \t{\n \t  if (DECL_PACKED (field))\n \t    {\n-\t      if (warn_packed_bitfield_compat)\n+\t      if (warn_packed_bitfield_compat == 1)\n \t\tinform\n \t\t  (input_location,\n \t\t   \"Offset of packed bit-field %qD has changed in GCC 4.4\","}]}