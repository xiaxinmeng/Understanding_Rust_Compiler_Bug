{"sha": "26563586437d27f43544bb2feb7ed0486621f796", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjY1NjM1ODY0MzdkMjdmNDM1NDRiYjJmZWI3ZWQwNDg2NjIxZjc5Ng==", "commit": {"author": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1993-10-10T16:46:52Z"}, "committer": {"name": "Richard Earnshaw", "email": "erich@gnu.org", "date": "1993-10-10T16:46:52Z"}, "message": "(OPTIMIZATION_OPTIONS): Don't set flag_omit_frame_pointer, since this inhibits debugging.\n\n(OPTIMIZATION_OPTIONS): Don't set flag_omit_frame_pointer, since\nthis inhibits debugging.\n(ASM_OUTPUT_INTERNAL_LABEL): Always clear arm_target_insn when FSM\ngoes to state 0.\n\nFrom-SVN: r5710", "tree": {"sha": "5172f8dc7426f4559362ee164dc2bf0d1232145d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5172f8dc7426f4559362ee164dc2bf0d1232145d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26563586437d27f43544bb2feb7ed0486621f796", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26563586437d27f43544bb2feb7ed0486621f796", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26563586437d27f43544bb2feb7ed0486621f796", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26563586437d27f43544bb2feb7ed0486621f796/comments", "author": null, "committer": null, "parents": [{"sha": "ff12fdac9b0679941912411b85263c7eba027a64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff12fdac9b0679941912411b85263c7eba027a64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff12fdac9b0679941912411b85263c7eba027a64"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "c12ba93a3906d5cea8d4164027a4903290d720b7", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26563586437d27f43544bb2feb7ed0486621f796/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26563586437d27f43544bb2feb7ed0486621f796/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=26563586437d27f43544bb2feb7ed0486621f796", "patch": "@@ -157,16 +157,15 @@ extern enum processor_type arm_cpu;\n \n /* Omitting the frame pointer is a very good idea on the ARM, especially if\n    not TARGET_APCS, in which case all that pushing on function entry isn't\n-   mandatory anymore.  \n-   Forcing loads to be explicit also allows cse to work better */\n+   mandatory anymore.  Unfortunately this is not permitted since we mustn't\n+   change the flags when -g is enabled and without a frame pointer debugging\n+   using dbx is impossible.\n+   Forcing loads to be explicit allows cse to work better */\n \n #define OPTIMIZATION_OPTIONS(OPTIMIZE)  \\\n {\t\t\t\t\t\\\n   if (OPTIMIZE)\t\t\t\t\\\n-    {\t\t\t\t\t\\\n-      flag_force_mem = 1;\t\t\\\n-      flag_omit_frame_pointer = 1;\t\\\n-    }\t\t\t\t\t\\\n+    flag_force_mem = 1;\t\t\t\\\n }\n \f\n /* Target machine storage Layout.  */\n@@ -1474,11 +1473,13 @@ do {\t\t\t\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t      \t   \t\t\\\n       char *s = (char *) alloca (11 + strlen (PREFIX));\t   \t\t\\\n       extern int arm_target_label, arm_ccfsm_state;\t   \t\t\\\n+      extern rtx arm_target_insn;\t\t\t\t\t\\\n \t\t\t\t\t\t           \t\t\\\n       if (arm_ccfsm_state == 3 && arm_target_label == (NUM)   \t\t\\\n \t&& !strcmp (PREFIX, \"L\"))\t\t\t\t\t\\\n \t{\t\t\t\t\t\t\t\t\\\n \t  arm_ccfsm_state = 0;\t\t\t\t        \t\\\n+\t  arm_target_insn = NULL;\t\t\t\t\t\\\n \t}\t\t\t\t\t\t\t\t\\\n \tstrcpy (s, \"*\");\t\t\t\t      \t\t\\\n \tsprintf (&s[strlen (s)], \"%s%d\", (PREFIX), (NUM));   \t\t\\"}]}