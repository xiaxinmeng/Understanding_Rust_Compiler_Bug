{"sha": "faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmFlYjRlZTNhYWMwZWNlMGY4NjE5YmE4YzNhMjkwOGM2ZWQ3YjljMQ==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@CeBiTec.Uni-Bielefeld.DE", "date": "2010-07-02T16:17:04Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2010-07-02T16:17:04Z"}, "message": "configure.ac (gfortran_use_symver): Only check for Sun-style symbol versioning on Solaris 2.\n\n\tlibgfortran:\n\t* configure.ac (gfortran_use_symver): Only check for Sun-style symbol\n\tversioning on Solaris 2.\n\t* configure: Regenerate.\n\n\tlibssp:\n\t* configure.ac (ssp_use_symver): Only check for Sun-style symbol\n\tversioning on Solaris 2.\n\t* configure: Regenerate.\n\nFrom-SVN: r161724", "tree": {"sha": "57acd2fb8515721e79bd9323b666b1a50a54670e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/57acd2fb8515721e79bd9323b666b1a50a54670e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/comments", "author": {"login": "rorth", "id": 3930951, "node_id": "MDQ6VXNlcjM5MzA5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3930951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorth", "html_url": "https://github.com/rorth", "followers_url": "https://api.github.com/users/rorth/followers", "following_url": "https://api.github.com/users/rorth/following{/other_user}", "gists_url": "https://api.github.com/users/rorth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorth/subscriptions", "organizations_url": "https://api.github.com/users/rorth/orgs", "repos_url": "https://api.github.com/users/rorth/repos", "events_url": "https://api.github.com/users/rorth/events{/privacy}", "received_events_url": "https://api.github.com/users/rorth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1fa29c84624c8ab2c3739d906bc08c7b112eee73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fa29c84624c8ab2c3739d906bc08c7b112eee73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fa29c84624c8ab2c3739d906bc08c7b112eee73"}], "stats": {"total": 76, "additions": 52, "deletions": 24}, "files": [{"sha": "645056bc30ddd4699eb3eee4658e2a41763eadd4", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "patch": "@@ -1,3 +1,9 @@\n+2010-07-02  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* configure.ac (gfortran_use_symver): Only check for Sun-style symbol\n+\tversioning on Solaris 2.\n+\t* configure: Regenerate.\n+\n 2010-07-02  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* configure.ac: Check for Sun symbol versioning."}, {"sha": "7038d1a05404855a98d3a9b04ff42286c3473f2c", "filename": "libgfortran/configure", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libgfortran%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libgfortran%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure?ref=faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "patch": "@@ -4448,15 +4448,17 @@ fi\n rm -f core conftest.err conftest.$ac_objext \\\n     conftest$ac_exeext conftest.$ac_ext\n if test x$gfortran_use_symver = xno; then\n-  LDFLAGS=\"$save_LDFLAGS\"\n-  LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n-  # Sun ld cannot handle wildcards and treats all entries as undefined.\n-  cat > conftest.map <<EOF\n+  case \"$target_os\" in\n+    solaris2*)\n+      LDFLAGS=\"$save_LDFLAGS\"\n+      LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n+      # Sun ld cannot handle wildcards and treats all entries as undefined.\n+      cat > conftest.map <<EOF\n FOO_1.0 {\n   global: foo; local: *;\n };\n EOF\n-  if test x$gcc_no_link = xyes; then\n+      if test x$gcc_no_link = xyes; then\n   as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n fi\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n@@ -4477,6 +4479,8 @@ else\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n     conftest$ac_exeext conftest.$ac_ext\n+      ;;\n+  esac\n fi\n LDFLAGS=\"$save_LDFLAGS\"\n { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $gfortran_use_symver\" >&5\n@@ -11358,7 +11362,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11361 \"configure\"\n+#line 11365 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11464,7 +11468,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11467 \"configure\"\n+#line 11471 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "8b9ac74c16a884786f85fcbf6215394bdaebff3e", "filename": "libgfortran/configure.ac", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libgfortran%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libgfortran%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fconfigure.ac?ref=faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "patch": "@@ -147,15 +147,19 @@ FOO_1.0 {\n EOF\n AC_TRY_LINK([int foo;],[],[gfortran_use_symver=gnu],[gfortran_use_symver=no])\n if test x$gfortran_use_symver = xno; then\n-  LDFLAGS=\"$save_LDFLAGS\"\n-  LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n-  # Sun ld cannot handle wildcards and treats all entries as undefined.\n-  cat > conftest.map <<EOF\n+  case \"$target_os\" in\n+    solaris2*)\n+      LDFLAGS=\"$save_LDFLAGS\"\n+      LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n+      # Sun ld cannot handle wildcards and treats all entries as undefined.\n+      cat > conftest.map <<EOF\n FOO_1.0 {\n   global: foo; local: *;\n };\n EOF\n-  AC_TRY_LINK([int foo;],[],[gfortran_use_symver=sun],[gfortran_use_symver=no])\n+      AC_TRY_LINK([int foo;],[],[gfortran_use_symver=sun],[gfortran_use_symver=no])\n+      ;;\n+  esac\n fi\n LDFLAGS=\"$save_LDFLAGS\"\n AC_MSG_RESULT($gfortran_use_symver)"}, {"sha": "a3fda218d21bd30ab888f0ee3ac1043247901bc3", "filename": "libssp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libssp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libssp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libssp%2FChangeLog?ref=faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "patch": "@@ -1,3 +1,9 @@\n+2010-07-02  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n+\n+\t* configure.ac (ssp_use_symver): Only check for Sun-style symbol\n+\tversioning on Solaris 2.\n+\t* configure: Regenerate.\n+\n 2010-07-02  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* configure.ac: Check for Sun symbol versioning."}, {"sha": "50098d4409b3f76cf62f7c2d84aed0fc270c4682", "filename": "libssp/configure", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libssp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libssp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libssp%2Fconfigure?ref=faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "patch": "@@ -4131,15 +4131,17 @@ fi\n rm -f core conftest.err conftest.$ac_objext \\\n     conftest$ac_exeext conftest.$ac_ext\n   if test x$ssp_use_symver = xno; then\n-    LDFLAGS=\"$save_LDFLAGS\"\n-    LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n-    # Sun ld cannot handle wildcards and treats all entries as undefined.\n-    cat > conftest.map <<EOF\n+    case \"$target_os\" in\n+      solaris2*)\n+        LDFLAGS=\"$save_LDFLAGS\"\n+        LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n+        # Sun ld cannot handle wildcards and treats all entries as undefined.\n+        cat > conftest.map <<EOF\n FOO_1.0 {\n   global: foo; local: *;\n };\n EOF\n-    if test x$gcc_no_link = xyes; then\n+        if test x$gcc_no_link = xyes; then\n   as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n fi\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n@@ -4160,6 +4162,8 @@ else\n fi\n rm -f core conftest.err conftest.$ac_objext \\\n     conftest$ac_exeext conftest.$ac_ext\n+    \t;;\n+    esac\n   fi\n   LDFLAGS=\"$save_LDFLAGS\"\n fi\n@@ -10642,7 +10646,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10645 \"configure\"\n+#line 10649 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -10748,7 +10752,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 10751 \"configure\"\n+#line 10755 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "8181bed0067ca951fbd2019ead05ac82e81fd644", "filename": "libssp/configure.ac", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libssp%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1/libssp%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libssp%2Fconfigure.ac?ref=faeb4ee3aac0ece0f8619ba8c3a2908c6ed7b9c1", "patch": "@@ -86,15 +86,19 @@ FOO_1.0 {\n EOF\n   AC_TRY_LINK([int foo;],[],[ssp_use_symver=gnu],[ssp_use_symver=no])\n   if test x$ssp_use_symver = xno; then\n-    LDFLAGS=\"$save_LDFLAGS\"\n-    LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n-    # Sun ld cannot handle wildcards and treats all entries as undefined.\n-    cat > conftest.map <<EOF\n+    case \"$target_os\" in\n+      solaris2*)\n+        LDFLAGS=\"$save_LDFLAGS\"\n+        LDFLAGS=\"$LDFLAGS -fPIC -shared -Wl,-M,./conftest.map\"\n+        # Sun ld cannot handle wildcards and treats all entries as undefined.\n+        cat > conftest.map <<EOF\n FOO_1.0 {\n   global: foo; local: *;\n };\n EOF\n-    AC_TRY_LINK([int foo;],[],[ssp_use_symver=sun],[ssp_use_symver=no])\n+        AC_TRY_LINK([int foo;],[],[ssp_use_symver=sun],[ssp_use_symver=no])\n+    \t;;\n+    esac\n   fi\n   LDFLAGS=\"$save_LDFLAGS\"\n fi"}]}