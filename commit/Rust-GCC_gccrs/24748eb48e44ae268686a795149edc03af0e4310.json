{"sha": "24748eb48e44ae268686a795149edc03af0e4310", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQ3NDhlYjQ4ZTQ0YWUyNjg2ODZhNzk1MTQ5ZWRjMDNhZjBlNDMxMA==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2011-11-02T20:15:55Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2011-11-02T20:15:55Z"}, "message": "re PR tree-optimization/50769 (ICE: in phi_alternatives_equal, at tree-cfgcleanup.c:355 with -O2 -fno-delete-null-pointer-checks -fno-guess-branch-probability -fipa-pta)\n\n2011-11-02  Tom de Vries  <tom@codesourcery.com>\n\n\tPR tree-optimization/50769\n\t* gfortran.dg/pr50769.f90: New test.\n\nFrom-SVN: r180793", "tree": {"sha": "bb5d42cafb8cd95fa54f084081ac8087251b37b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bb5d42cafb8cd95fa54f084081ac8087251b37b7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/24748eb48e44ae268686a795149edc03af0e4310", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24748eb48e44ae268686a795149edc03af0e4310", "html_url": "https://github.com/Rust-GCC/gccrs/commit/24748eb48e44ae268686a795149edc03af0e4310", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/24748eb48e44ae268686a795149edc03af0e4310/comments", "author": null, "committer": null, "parents": [{"sha": "19e5fa42c6233b2303eccabb594626f8fc8cef09", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19e5fa42c6233b2303eccabb594626f8fc8cef09", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19e5fa42c6233b2303eccabb594626f8fc8cef09"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "56e9480854975c1f67122c12f06025fa0e9cfe84", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24748eb48e44ae268686a795149edc03af0e4310/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24748eb48e44ae268686a795149edc03af0e4310/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=24748eb48e44ae268686a795149edc03af0e4310", "patch": "@@ -1,3 +1,8 @@\n+2011-11-02  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR tree-optimization/50769\n+\t* gfortran.dg/pr50769.f90: New test.\n+\n 2011-11-02  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc.target/sparc/20111102-1.c: New test."}, {"sha": "3a98543e3a6569817867fad31c689f6a0d846c45", "filename": "gcc/testsuite/gfortran.dg/pr50769.f90", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/24748eb48e44ae268686a795149edc03af0e4310/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr50769.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/24748eb48e44ae268686a795149edc03af0e4310/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr50769.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr50769.f90?ref=24748eb48e44ae268686a795149edc03af0e4310", "patch": "@@ -0,0 +1,30 @@\n+! { dg-do compile }\n+! { dg-options \"-O2 -ftree-tail-merge -fno-delete-null-pointer-checks -fno-guess-branch-probability\" }\n+!\n+! based on testsuite/gfortran.dg/alloc_comp_optional_1.f90,\n+! which was contributed by David Kinniburgh <davidkinniburgh@yahoo.co.uk>\n+!\n+program test_iso\n+  type ivs\n+     character(LEN=1), dimension(:), allocatable :: chars\n+  end type ivs\n+  type(ivs) :: v_str\n+  integer :: i\n+  call foo(v_str, i)\n+  if (v_str%chars(1) .ne. \"a\") call abort\n+  if (i .ne. 0) call abort\n+  call foo(flag = i)\n+  if (i .ne. 1) call abort\n+contains\n+  subroutine foo (arg, flag)\n+    type(ivs), optional, intent(out) :: arg\n+    integer :: flag\n+    if (present(arg)) then\n+      arg = ivs([(char(i+96), i = 1,10)])\n+      flag = 0\n+    else\n+      flag = 1\n+    end if\n+  end subroutine\n+end\n+"}]}