{"sha": "298978c9331b7601a24eeb5d46a56ee88740c9c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjk4OTc4YzkzMzFiNzYwMWEyNGVlYjVkNDZhNTZlZTg4NzQwYzljMg==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@cygnus.com", "date": "1998-10-22T14:47:52Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-10-22T14:47:52Z"}, "message": "Makefile.in (distdir-cvs, [...]): Clean up so it works if \"$(srcdir)\" != \".\".\n\n        * Makefile.in (distdir-cvs, distdir-start):  Clean up so it\n        works if \"$(srcdir)\" != \".\".\n\nFrom-SVN: r23222", "tree": {"sha": "2f72428c7d2b27b3cdaa01627f7e84dde4984531", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f72428c7d2b27b3cdaa01627f7e84dde4984531"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/298978c9331b7601a24eeb5d46a56ee88740c9c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/298978c9331b7601a24eeb5d46a56ee88740c9c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/298978c9331b7601a24eeb5d46a56ee88740c9c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/298978c9331b7601a24eeb5d46a56ee88740c9c2/comments", "author": null, "committer": null, "parents": [{"sha": "4ac2fccfc79a61b3280f72de74eacead661509e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ac2fccfc79a61b3280f72de74eacead661509e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ac2fccfc79a61b3280f72de74eacead661509e2"}], "stats": {"total": 47, "additions": 27, "deletions": 20}, "files": [{"sha": "d6be33b53263197de2554e8135de71ce32327dcb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/298978c9331b7601a24eeb5d46a56ee88740c9c2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/298978c9331b7601a24eeb5d46a56ee88740c9c2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=298978c9331b7601a24eeb5d46a56ee88740c9c2", "patch": "@@ -1,3 +1,8 @@\n+Thu Oct 22 15:46:23 1998  Per Bothner (bothner@cygnus.com)\n+\n+\t* Makefile.in (distdir-cvs, distdir-start):  Clean up so it\n+\tworks if \"$(srcdir)\" != \".\".\n+\n Wed Oct 21 19:23:59 1998  Jim Wilson  <wilson@cygnus.com>\n \n \t* expmed.c (store_bit_field): If need to add a SUBREG, then remove"}, {"sha": "a346620c588bcc320530a082c0c86006f5c73ebb", "filename": "gcc/Makefile.in", "status": "modified", "additions": 22, "deletions": 20, "changes": 42, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/298978c9331b7601a24eeb5d46a56ee88740c9c2/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/298978c9331b7601a24eeb5d46a56ee88740c9c2/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=298978c9331b7601a24eeb5d46a56ee88740c9c2", "patch": "@@ -2703,7 +2703,7 @@ tmp-gcc.xtar: distdir\n \ttar -chf tmp-gcc.xtar gcc-$(version)\n \n distdir-cvs: force\n-\tif [ -d $(srcdir)/CVS ]; then cvs -r update; fi\n+\tif [ -d $(srcdir)/CVS ]; then cd $(srcdir) && cvs -r update; fi\n \n # This target exists to do the initial work before the language specific\n # stuff gets done.\n@@ -2718,39 +2718,41 @@ distdir-start: doc $(srcdir)/INSTALL $(srcdir)/c-parse.y $(srcdir)/c-gperf.h \\\n \tawk '$$1 \" \" $$2 \" \" $$3 == \"This directory contains\" \\\n \t\t{ $$6 = version; print $$0 } \\\n \t     $$1 \" \" $$2 \" \" $$3 != \"This directory contains\"' \\\n-\t  version=$(version) README > tmp.README\n+\t  version=$(version) $(srcdir)/README > tmp.README\n \tmv tmp.README README\n \t-rm -rf gcc-$(version) tmp\t\n # Put all the files in a temporary subdirectory\n # which has the name that we want to have in the tar file.\n \tmkdir tmp\n \tmkdir tmp/config\n \tmkdir tmp/ginclude\n-\tfor file in *[0-9a-zA-Z+]; do \\\n-\t  $(LN) $$file tmp; \\\n+\tmkdir tmp/objc\n+\tfor file in `(cd $(srcdir) && echo *[0-9a-zA-Z+])`; do \\\n+\t  test -f $(srcdir)/$$file && $(LN_S) $(srcdir)/$$file tmp; \\\n \tdone\n-\tcd config; \\\n-\tfor file in *[0-9a-zA-Z+]; do \\\n-\t  if test -d $$file && test \"$$file\" != RCS && test \"$$file\" != CVS; then \\\n-\t    mkdir ../tmp/config/$$file; \\\n-\t    cd $$file; \\\n-\t    for subfile in *[0-9a-zA-Z+]; do \\\n-\t      $(LN) $$subfile ../../tmp/config/$$file; \\\n+\tif test \"$(srcdir)\" != \".\" ; then \\\n+\t  for file in c-parse.c cexp.c ; do \\\n+\t    test -f ./$$file && $(LN_S) ../$$file tmp; \\\n+\t  done; \\\n+\tfi\n+\tfor file in `(cd $(srcdir)/config && echo *[0-9a-zA-Z+])`; do \\\n+\t  if test -d $(srcdir)/config/$$file \\\n+\t      && test \"$$file\" != RCS && test \"$$file\" != CVS; then \\\n+\t    mkdir tmp/config/$$file; \\\n+\t    for subfile in `(cd $(srcdir)/config/$$file && echo *[0-9a-zA-Z+])`; do \\\n+\t      $(LN_S) $(srcdir)/config/$$file/$$subfile tmp/config/$$file; \\\n \t    done; \\\n-\t    cd ..; \\\n \t  else \\\n-\t    $(LN) $$file ../tmp/config; \\\n+\t    $(LN_S) $(srcdir)/config/$$file tmp/config; \\\n \t  fi; \\\n \tdone\n-\tcd ginclude; \\\n-\tfor file in *[0-9a-zA-Z+]; do \\\n-\t  $(LN) $$file ../tmp/ginclude; \\\n+\tfor file in `(cd $(srcdir)/ginclude && echo *[0-9a-zA-Z+])`; do \\\n+\t  $(LN_S) $(srcdir)/ginclude/$$file tmp/ginclude; \\\n \tdone\n-\tcd objc; \\\n-\tfor file in *[0-9a-zA-Z+]; do \\\n-\t  $(LN) $$file ../tmp/objc; \\\n+\tfor file in `(cd $(srcdir)/objc && echo *[0-9a-zA-Z+])`; do \\\n+\t  $(LN_S) $(srcdir)/objc/$$file tmp/objc; \\\n \tdone\n-\t$(LN) .gdbinit tmp\n+\t$(LN_S) .gdbinit tmp\n \n # Finish making `distdir', after the languages have done their thing.\n distdir-finish:"}]}