{"sha": "e7d687bba681c44a9d8925690a72c31a1798628a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdkNjg3YmJhNjgxYzQ0YTlkODkyNTY5MGE3MmMzMWExNzk4NjI4YQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2003-04-17T10:35:08Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-04-17T10:35:08Z"}, "message": "stormy16.c (xstormy16_encode_section_info): Kill.\n\n        * config/stormy16/stormy16.c (xstormy16_encode_section_info): Kill.\n        * config/stormy16/stormy16.h (ASM_OUTPUT_SYMBOL_REF): Use                       SYMBOL_REF_FUNCTION_P.\n\nFrom-SVN: r65737", "tree": {"sha": "e0e7e7a7ff31312998b04c970c63be00ad53b35a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0e7e7a7ff31312998b04c970c63be00ad53b35a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7d687bba681c44a9d8925690a72c31a1798628a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7d687bba681c44a9d8925690a72c31a1798628a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7d687bba681c44a9d8925690a72c31a1798628a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7d687bba681c44a9d8925690a72c31a1798628a/comments", "author": null, "committer": null, "parents": [{"sha": "72628c61b811e275b36776e8d7b044812f0908cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/72628c61b811e275b36776e8d7b044812f0908cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/72628c61b811e275b36776e8d7b044812f0908cc"}], "stats": {"total": 22, "additions": 7, "deletions": 15}, "files": [{"sha": "33183c523c6ec716088a166935991d2e54c30553", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7d687bba681c44a9d8925690a72c31a1798628a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7d687bba681c44a9d8925690a72c31a1798628a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e7d687bba681c44a9d8925690a72c31a1798628a", "patch": "@@ -1,3 +1,9 @@\n+2003-04-17  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/stormy16/stormy16.c (xstormy16_encode_section_info): Kill.\n+\t* config/stormy16/stormy16.h (ASM_OUTPUT_SYMBOL_REF): Use\n+\tSYMBOL_REF_FUNCTION_P.\n+\n 2003-04-17  Richard Henderson  <rth@redhat.com>\n \n \t* config/sparc/sparc.c (sparc_encode_section_info): Remove."}, {"sha": "b70a8c5feea22d8f83e5a77bc3cd1aac22a53587", "filename": "gcc/config/stormy16/stormy16.c", "status": "modified", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7d687bba681c44a9d8925690a72c31a1798628a/gcc%2Fconfig%2Fstormy16%2Fstormy16.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7d687bba681c44a9d8925690a72c31a1798628a/gcc%2Fconfig%2Fstormy16%2Fstormy16.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fstormy16%2Fstormy16.c?ref=e7d687bba681c44a9d8925690a72c31a1798628a", "patch": "@@ -51,7 +51,6 @@ Boston, MA 02111-1307, USA.  */\n static rtx emit_addhi3_postreload PARAMS ((rtx, rtx, rtx));\n static void xstormy16_asm_out_constructor PARAMS ((rtx, int));\n static void xstormy16_asm_out_destructor PARAMS ((rtx, int));\n-static void xstormy16_encode_section_info PARAMS ((tree, int));\n static void xstormy16_asm_output_mi_thunk PARAMS ((FILE *, tree, HOST_WIDE_INT,\n \t\t\t\t\t\t   HOST_WIDE_INT, tree));\n \n@@ -1530,17 +1529,6 @@ xstormy16_asm_output_mi_thunk (file, thunk_fndecl, delta,\n   putc ('\\n', file);\n }\n \n-/* Mark functions with SYMBOL_REF_FLAG.  */\n-\n-static void\n-xstormy16_encode_section_info (decl, first)\n-     tree decl;\n-     int first ATTRIBUTE_UNUSED;\n-{\n-  if (TREE_CODE (decl) == FUNCTION_DECL)\n-    SYMBOL_REF_FLAG (XEXP (DECL_RTL (decl), 0)) = 1;\n-}\n-\n /* Output constructors and destructors.  Just like \n    default_named_section_asm_out_* but don't set the sections writable.  */\n #undef TARGET_ASM_CONSTRUCTOR\n@@ -2284,8 +2272,6 @@ xstormy16_expand_builtin(exp, target, subtarget, mode, ignore)\n #define TARGET_ASM_ALIGNED_HI_OP \"\\t.hword\\t\"\n #undef TARGET_ASM_ALIGNED_SI_OP\n #define TARGET_ASM_ALIGNED_SI_OP \"\\t.word\\t\"\n-#undef TARGET_ENCODE_SECTION_INFO\n-#define TARGET_ENCODE_SECTION_INFO xstormy16_encode_section_info\n \n #undef TARGET_ASM_OUTPUT_MI_THUNK\n #define TARGET_ASM_OUTPUT_MI_THUNK xstormy16_asm_output_mi_thunk"}, {"sha": "9c1c6caf007f44fe05d30d6df0a2dec414f03339", "filename": "gcc/config/stormy16/stormy16.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7d687bba681c44a9d8925690a72c31a1798628a/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7d687bba681c44a9d8925690a72c31a1798628a/gcc%2Fconfig%2Fstormy16%2Fstormy16.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fstormy16%2Fstormy16.h?ref=e7d687bba681c44a9d8925690a72c31a1798628a", "patch": "@@ -2664,7 +2664,7 @@ do {\t\t\t\t\t\t\t\\\n    definition of a symbol named SYMBOL.  */\n #define ASM_OUTPUT_SYMBOL_REF(STREAM, SYMBOL)\t\t\t\t\\\n   do {\t\t\t\t\t\t\t\t\t\\\n-    if (SYMBOL_REF_FLAG (SYMBOL))\t\t\t\t\t\\\n+    if (SYMBOL_REF_FUNCTION_P (SYMBOL))\t\t\t\t\t\\\n       ASM_OUTPUT_LABEL_REF ((STREAM), XSTR (SYMBOL, 0));\t\t\\\n     else\t\t\t\t\t\t\t\t\\\n       assemble_name (STREAM, XSTR (SYMBOL, 0));\t\t\t\t\\"}]}