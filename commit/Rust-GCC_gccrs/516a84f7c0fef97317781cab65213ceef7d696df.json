{"sha": "516a84f7c0fef97317781cab65213ceef7d696df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE2YTg0ZjdjMGZlZjk3MzE3NzgxY2FiNjUyMTNjZWVmN2Q2OTZkZg==", "commit": {"author": {"name": "Roman Gareev", "email": "gareevroman@gmail.com", "date": "2014-06-29T12:16:11Z"}, "committer": {"name": "Roman Gareev", "email": "romangareev@gcc.gnu.org", "date": "2014-06-29T12:16:11Z"}, "message": "graphite-dependences.c (subtract_commutative_associative_deps): Add NULL checking of the following variables...\n\n\n\tgcc/\n\t* graphite-dependences.c (subtract_commutative_associative_deps): \n\tAdd NULL checking of the following variables: must_raw_no_source, \n\tmay_raw_no_source, must_war_no_source, may_war_no_source, \n\tmust_waw_no_source, may_waw_no_source, must_raw, may_raw, \n\tmust_war, may_war, must_waw, may_waw\n\n\tgcc/testsuite/gfortran.dg/graphite/pr59586.f: New testcase.\n\nFrom-SVN: r212122", "tree": {"sha": "0d0df88729931bdb6891e8ec57d2032d9223b4f3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d0df88729931bdb6891e8ec57d2032d9223b4f3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/516a84f7c0fef97317781cab65213ceef7d696df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/516a84f7c0fef97317781cab65213ceef7d696df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/516a84f7c0fef97317781cab65213ceef7d696df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/516a84f7c0fef97317781cab65213ceef7d696df/comments", "author": {"login": "gareevroman", "id": 6114710, "node_id": "MDQ6VXNlcjYxMTQ3MTA=", "avatar_url": "https://avatars.githubusercontent.com/u/6114710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gareevroman", "html_url": "https://github.com/gareevroman", "followers_url": "https://api.github.com/users/gareevroman/followers", "following_url": "https://api.github.com/users/gareevroman/following{/other_user}", "gists_url": "https://api.github.com/users/gareevroman/gists{/gist_id}", "starred_url": "https://api.github.com/users/gareevroman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gareevroman/subscriptions", "organizations_url": "https://api.github.com/users/gareevroman/orgs", "repos_url": "https://api.github.com/users/gareevroman/repos", "events_url": "https://api.github.com/users/gareevroman/events{/privacy}", "received_events_url": "https://api.github.com/users/gareevroman/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "db72d6061893ef8d127758474a79e2833bd3eef1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db72d6061893ef8d127758474a79e2833bd3eef1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db72d6061893ef8d127758474a79e2833bd3eef1"}], "stats": {"total": 104, "additions": 86, "deletions": 18}, "files": [{"sha": "dcf5f1566fa4d5fcaf64167e5c6edb57ae5a8023", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/516a84f7c0fef97317781cab65213ceef7d696df/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/516a84f7c0fef97317781cab65213ceef7d696df/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=516a84f7c0fef97317781cab65213ceef7d696df", "patch": "@@ -1,3 +1,13 @@\n+2014-06-29  Roman Gareev  <gareevroman@gmail.com>\n+\n+\t* graphite-dependences.c (subtract_commutative_associative_deps): \n+\tAdd NULL checking of the following variables: must_raw_no_source, \n+\tmay_raw_no_source, must_war_no_source, may_war_no_source, \n+\tmust_waw_no_source, may_waw_no_source, must_raw, may_raw, \n+\tmust_war, may_war, must_waw, may_waw\n+\n+\ttestsuite/gfortran.dg/graphite/pr59586.f: New testcase.\n+\n 2014-06-29  Roman Gareev  <gareevroman@gmail.com>\n \n \t* graphite-clast-to-gimple.c:"}, {"sha": "e934d9a05ef17ef6f4254fc9e09b80c41c2d3e5a", "filename": "gcc/graphite-dependences.c", "status": "modified", "additions": 65, "deletions": 18, "changes": 83, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/516a84f7c0fef97317781cab65213ceef7d696df/gcc%2Fgraphite-dependences.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/516a84f7c0fef97317781cab65213ceef7d696df/gcc%2Fgraphite-dependences.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-dependences.c?ref=516a84f7c0fef97317781cab65213ceef7d696df", "patch": "@@ -424,24 +424,71 @@ subtract_commutative_associative_deps (scop_p scop,\n \t\t\t\t\t  &x_may_waw_no_source);\n \tgcc_assert (res == 0);\n \n-\t*must_raw = isl_union_map_subtract (*must_raw, x_must_raw);\n-\t*may_raw = isl_union_map_subtract (*may_raw, x_may_raw);\n-\t*must_raw_no_source = isl_union_map_subtract (*must_raw_no_source,\n-\t\t\t\t\t\t      x_must_raw_no_source);\n-\t*may_raw_no_source = isl_union_map_subtract (*may_raw_no_source,\n-\t\t\t\t\t\t     x_may_raw_no_source);\n-\t*must_war = isl_union_map_subtract (*must_war, x_must_war);\n-\t*may_war = isl_union_map_subtract (*may_war, x_may_war);\n-\t*must_war_no_source = isl_union_map_subtract (*must_war_no_source,\n-\t\t\t\t\t\t      x_must_war_no_source);\n-\t*may_war_no_source = isl_union_map_subtract (*may_war_no_source,\n-\t\t\t\t\t\t     x_may_war_no_source);\n-\t*must_waw = isl_union_map_subtract (*must_waw, x_must_waw);\n-\t*may_waw = isl_union_map_subtract (*may_waw, x_may_waw);\n-\t*must_waw_no_source = isl_union_map_subtract (*must_waw_no_source,\n-\t\t\t\t\t\t      x_must_waw_no_source);\n-\t*may_waw_no_source = isl_union_map_subtract (*may_waw_no_source,\n-\t\t\t\t\t\t     x_may_waw_no_source);\n+\tif (must_raw)\n+\t  *must_raw = isl_union_map_subtract (*must_raw, x_must_raw);\n+\telse\n+\t  isl_union_map_free (x_must_raw);\n+\n+\tif (may_raw)\n+\t  *may_raw = isl_union_map_subtract (*may_raw, x_may_raw);\n+\telse\n+\t  isl_union_map_free (x_may_raw);\n+\n+\tif (must_raw_no_source)\n+\t  *must_raw_no_source = isl_union_map_subtract (*must_raw_no_source,\n+\t\t\t\t\t\t        x_must_raw_no_source);\n+\telse\n+\t  isl_union_map_free (x_must_raw_no_source);\n+\n+\tif (may_raw_no_source)\n+\t  *may_raw_no_source = isl_union_map_subtract (*may_raw_no_source,\n+\t\t\t\t\t\t       x_may_raw_no_source);\n+\telse\n+\t  isl_union_map_free (x_may_raw_no_source);\n+\n+\tif (must_war)\n+\t  *must_war = isl_union_map_subtract (*must_war, x_must_war);\n+\telse\n+\t  isl_union_map_free (x_must_war);\n+\n+\tif (may_war)\n+\t  *may_war = isl_union_map_subtract (*may_war, x_may_war);\n+\telse\n+\t  isl_union_map_free (x_may_war);\n+\n+\tif (must_war_no_source)\n+\t  *must_war_no_source = isl_union_map_subtract (*must_war_no_source,\n+\t\t\t\t\t\t        x_must_war_no_source);\n+\telse\n+\t  isl_union_map_free (x_must_war_no_source);\n+\n+\tif (may_war_no_source)\n+\t  *may_war_no_source = isl_union_map_subtract (*may_war_no_source,\n+\t\t\t\t\t\t       x_may_war_no_source);\n+\telse\n+\t  isl_union_map_free (x_may_war_no_source);\n+\n+\tif (must_waw)\n+\t  *must_waw = isl_union_map_subtract (*must_waw, x_must_waw);\n+\telse\n+\t  isl_union_map_free (x_must_waw);\n+\n+\tif (may_waw)\n+\t  *may_waw = isl_union_map_subtract (*may_waw, x_may_waw);\n+\telse\n+\t  isl_union_map_free (x_may_waw);\n+\n+\tif (must_waw_no_source)\n+\t  *must_waw_no_source = isl_union_map_subtract (*must_waw_no_source,\n+\t\t\t\t\t\t        x_must_waw_no_source);\n+\telse\n+\t  isl_union_map_free (x_must_waw_no_source);\n+\n+\tif (may_waw_no_source)\n+\t  *may_waw_no_source = isl_union_map_subtract (*may_waw_no_source,\n+\t\t\t\t\t\t       x_may_waw_no_source);\n+\telse\n+\t  isl_union_map_free (x_may_waw_no_source);\n       }\n \n   isl_union_map_free (original);"}, {"sha": "f33a1b10d6de1f130a7363473ae62f62556a7671", "filename": "gcc/testsuite/gfortran.dg/graphite/pr59586.f", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/516a84f7c0fef97317781cab65213ceef7d696df/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr59586.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/516a84f7c0fef97317781cab65213ceef7d696df/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr59586.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgraphite%2Fpr59586.f?ref=516a84f7c0fef97317781cab65213ceef7d696df", "patch": "@@ -0,0 +1,11 @@\n+! { dg-additional-options \"-Ofast -floop-parallelize-all\" }\n+\n+      subroutine subsm ( n, x, xp, xx)\n+      integer        n, m, x(n),xp(n), xx(n), gg(n), dd_p\n+      do 55 i=1, n\n+         dd_p  = dd_p + (x(i) - xx(i))*gg(i)\n+ 55   continue\n+      if ( dd_p .gt. 0  ) then\n+         call dcopy( n, xp, 1, x, 1 )\n+      endif\n+      end"}]}