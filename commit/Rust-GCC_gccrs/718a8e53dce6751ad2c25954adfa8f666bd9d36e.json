{"sha": "718a8e53dce6751ad2c25954adfa8f666bd9d36e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzE4YThlNTNkY2U2NzUxYWQyYzI1OTU0YWRmYThmNjY2YmQ5ZDM2ZQ==", "commit": {"author": {"name": "Nicola Pero", "email": "nicola.pero@meta-innovation.com", "date": "2010-10-12T16:17:18Z"}, "committer": {"name": "Nicola Pero", "email": "nicola@gcc.gnu.org", "date": "2010-10-12T16:17:18Z"}, "message": "archive.c: Do not include objc/objc.h.\n\n2010-10-12  Nicola Pero  <nicola.pero@meta-innovation.com>\n\n        * archive.c: Do not include objc/objc.h.\n        * class.c: Do not include objc/objc.h.\n        * encoding.c: Include objc/runtime.h, ctype.h and\n        objc-private/module-abi-8.h instead of objc/objc-api.h and\n        objc/encoding.h.\n        * error.c: Do not include objc/objc.h.\n        * gc.c: Include tconfig.h and objc/encoding.h only if\n        OBJC_WITH_GC.\n        * hash.c: Include objc/runtime.h and objc/thr.h instead of\n        objc/objc-api.h.  Do not include objc/objc.h.\n        * init.c: Do not include objc/objc.h.\n        * ivars.c: Include objc/runtime.h, objc-private/module-abi-8.h and\n        objc/thr.h instead of objc/objc-api.h.  Do not include\n        objc/objc.h.\n        * linking.m: Tidied comment.\n        * memory.c: Include objc/runtime.h instead of objc/objc-api.h.\n        Do not include objc/objc.h.\n        * objects.c: Do not include objc/objc.h.\n        * objc-sync.c: Include objc/runtime.h instead of objc/objc-api.h.\n        * protocols.c: Do not include objc/objc.h.\n        * sarray.c: Include objc/runtime.h instead of objc/objc-api.h.  Do\n        not include objc/objc.h.\n        * selector.c: Do not include objc/objc.h.\n        * sendmsg.c: Do not include objc/objc.h.\n        * thr.c: Include objc/runtime.h instead of objc/objc-api.h.\n        Do not include objc/objc.h.\n        * objc/objc-decls.h: Reindented code.\n        * objc/runtime.h Include objc-decls.h.  Updated comments.\n        (objc_malloc): New.\n        (objc_atomic_malloc): New.\n        (objc_calloc): New.\n        (objc_realloc): New.\n        (objc_free): New.\n        * objc-private/runtime.h: Updated comments.\n\nFrom-SVN: r165386", "tree": {"sha": "7e29a3f7298da78a7ec2df063e05a796f6ceb968", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e29a3f7298da78a7ec2df063e05a796f6ceb968"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/718a8e53dce6751ad2c25954adfa8f666bd9d36e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/718a8e53dce6751ad2c25954adfa8f666bd9d36e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/718a8e53dce6751ad2c25954adfa8f666bd9d36e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/718a8e53dce6751ad2c25954adfa8f666bd9d36e/comments", "author": {"login": "Nico-31415", "id": 94470564, "node_id": "U_kgDOBaGBpA", "avatar_url": "https://avatars.githubusercontent.com/u/94470564?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nico-31415", "html_url": "https://github.com/Nico-31415", "followers_url": "https://api.github.com/users/Nico-31415/followers", "following_url": "https://api.github.com/users/Nico-31415/following{/other_user}", "gists_url": "https://api.github.com/users/Nico-31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nico-31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nico-31415/subscriptions", "organizations_url": "https://api.github.com/users/Nico-31415/orgs", "repos_url": "https://api.github.com/users/Nico-31415/repos", "events_url": "https://api.github.com/users/Nico-31415/events{/privacy}", "received_events_url": "https://api.github.com/users/Nico-31415/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "729530c035d094bc047f0a0802db5bf3bfdca197", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/729530c035d094bc047f0a0802db5bf3bfdca197", "html_url": "https://github.com/Rust-GCC/gccrs/commit/729530c035d094bc047f0a0802db5bf3bfdca197"}], "stats": {"total": 132, "additions": 94, "deletions": 38}, "files": [{"sha": "78467d86d4744a4d2ac87fb33bd644d7519960d7", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -1,3 +1,40 @@\n+2010-10-12  Nicola Pero  <nicola.pero@meta-innovation.com>\n+\n+\t* archive.c: Do not include objc/objc.h.\n+\t* class.c: Do not include objc/objc.h.\n+\t* encoding.c: Include objc/runtime.h, ctype.h and\n+\tobjc-private/module-abi-8.h instead of objc/objc-api.h and\n+\tobjc/encoding.h.\n+\t* error.c: Do not include objc/objc.h.\n+\t* gc.c: Include tconfig.h and objc/encoding.h only if\n+\tOBJC_WITH_GC.\n+\t* hash.c: Include objc/runtime.h and objc/thr.h instead of\n+\tobjc/objc-api.h.  Do not include objc/objc.h.\n+\t* init.c: Do not include objc/objc.h.\n+\t* ivars.c: Include objc/runtime.h, objc-private/module-abi-8.h and\n+\tobjc/thr.h instead of objc/objc-api.h.  Do not include\n+\tobjc/objc.h.\n+\t* linking.m: Tidied comment.\n+\t* memory.c: Include objc/runtime.h instead of objc/objc-api.h.\n+\tDo not include objc/objc.h.\n+\t* objects.c: Do not include objc/objc.h.\n+\t* objc-sync.c: Include objc/runtime.h instead of objc/objc-api.h.\n+\t* protocols.c: Do not include objc/objc.h.\n+\t* sarray.c: Include objc/runtime.h instead of objc/objc-api.h.  Do\n+\tnot include objc/objc.h.\n+\t* selector.c: Do not include objc/objc.h.\n+\t* sendmsg.c: Do not include objc/objc.h.\t\n+\t* thr.c: Include objc/runtime.h instead of objc/objc-api.h.\n+\tDo not include objc/objc.h.\n+\t* objc/objc-decls.h: Reindented code.\n+\t* objc/runtime.h Include objc-decls.h.  Updated comments.\n+\t(objc_malloc): New.\n+\t(objc_atomic_malloc): New.\n+\t(objc_calloc): New.\n+\t(objc_realloc): New.\n+\t(objc_free): New.\n+\t* objc-private/runtime.h: Updated comments.\n+\t\n 2010-10-12  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \t* Makefile.in (C_SOURCE_FILES): Added protocols.c."}, {"sha": "b539ca1163ed928f0e5e5d619e259c8576a2a8f7", "filename": "libobjc/archive.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Farchive.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Farchive.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Farchive.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -27,7 +27,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include \"objc-private/common.h\"\n #include \"objc-private/error.h\"\n #include \"tconfig.h\"\n-#include \"objc/objc.h\"\n #include \"objc/objc-api.h\"\n #include \"objc/hash.h\"\n #include \"objc/objc-list.h\" "}, {"sha": "75c933ba32f8bf0873ba63a9bdc93d9827da3e54", "filename": "libobjc/class.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fclass.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -89,7 +89,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"objc-private/common.h\"\n #include \"objc-private/error.h\"\n-#include \"objc/objc.h\"\n #include \"objc/objc-api.h\"\n #include \"objc/thr.h\"\n #include \"objc-private/runtime.h\"            /* the kitchen sink */"}, {"sha": "87517f4eaf85cdcbbbe0612557eb7c58f1322a4d", "filename": "libobjc/encoding.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fencoding.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fencoding.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fencoding.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -36,9 +36,10 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include \"tconfig.h\"\n #include \"coretypes.h\"\n #include \"tm.h\"\n-#include \"objc/objc-api.h\"\n-#include \"objc/encoding.h\"\n+#include \"objc/runtime.h\"\n+#include \"objc-private/module-abi-8.h\" /* For struct objc_method */\n #include <stdlib.h>\n+#include <ctype.h>\n \n #undef  MAX\n #define MAX(X, Y)                    \\"}, {"sha": "7c6ba44b76fadb700f4a8f3e42312c5b56b1cb9c", "filename": "libobjc/error.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Ferror.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -48,8 +48,7 @@ _objc_abort (const char *fmt, ...)\n }\n \n /* The rest of the file is deprecated.  */\n-#include \"objc/objc.h\"\n-#include \"objc/objc-api.h\"\n+#include \"objc/objc-api.h\" /* For objc_error_handler.  */\n \n /*\n ** Error handler function"}, {"sha": "ed5effbb437f9071cabcda272ac552c2d6e00a1f", "filename": "libobjc/gc.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fgc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fgc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fgc.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -24,15 +24,15 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n #include \"objc-private/common.h\"\n-#include \"tconfig.h\"\n #include \"objc/objc.h\"\n-#include \"objc/encoding.h\"\n \n+#if OBJC_WITH_GC\n+\n+#include \"tconfig.h\"\n #include <assert.h>\n #include <string.h>\n #include <stdlib.h>\n-\n-#if OBJC_WITH_GC\n+#include \"objc/encoding.h\"\n \n #include <gc.h>\n #include <limits.h>"}, {"sha": "3ecc54a170a5b42386dcd87af1640b552dd93aa2", "filename": "libobjc/hash.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fhash.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fhash.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fhash.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -25,8 +25,8 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include \"objc-private/common.h\"\n #include <assert.h> /* For assert */\n \n-#include \"objc/objc.h\"\n-#include \"objc/objc-api.h\"\n+#include \"objc/runtime.h\" /* For objc_calloc */\n+#include \"objc/thr.h\"     /* Required by objc-private/runtime.h.  */\n #include \"objc-private/hash.h\"\n #include \"objc-private/runtime.h\"\t\t/* for DEBUG_PRINTF */\n "}, {"sha": "0f714c4059661f35f2e57d9e593eec54f6f2c18d", "filename": "libobjc/init.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Finit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Finit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Finit.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -26,7 +26,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"objc-private/common.h\"\n #include \"objc-private/error.h\"\n-#include \"objc/objc.h\"\n #include \"objc/objc-api.h\"\n #include \"objc/thr.h\"\n #include \"objc-private/hash.h\""}, {"sha": "061fa211fa8f4c5707d8aaafbd8d1c7d4b9760ad", "filename": "libobjc/ivars.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fivars.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fivars.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fivars.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -23,8 +23,9 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n #include \"objc-private/common.h\"\n-#include \"objc/objc.h\"\n-#include \"objc/objc-api.h\"\n+#include \"objc/runtime.h\"\n+#include \"objc-private/module-abi-8.h\" /* For runtime structures  */\n+#include \"objc/thr.h\"\n #include \"objc-private/runtime.h\"\t\t/* the kitchen sink */\n #include <string.h> /* For strcmp */\n "}, {"sha": "e94c8ea8c4b8247fffabfcbab2281f29e8859e13", "filename": "libobjc/linking.m", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Flinking.m", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Flinking.m", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Flinking.m?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -28,8 +28,7 @@ Contributed by Ovidiu Predescu (ovidiu@net-community.com).\n #include <objc/NXConstStr.h>\n \n /* Generate references to Object and NXConstanstString classes since they are\n-   needed by the runtime system to run correctly. */\n-\n+   needed by the runtime system to run correctly.  */\n \n void __objc_linking (void)\n {"}, {"sha": "458d2566fcbe68ea453707d1050d0a17992e6e58", "filename": "libobjc/memory.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fmemory.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fmemory.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fmemory.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -42,8 +42,7 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #define __USE_FIXED_PROTOTYPES__\n #include <stdlib.h>\n \n-#include \"objc/objc.h\"\n-#include \"objc/objc-api.h\"\n+#include \"objc/runtime.h\"\n \n #if OBJC_WITH_GC\n #include <gc.h>"}, {"sha": "b7e75ae4304f072d8eeabfbf8e218888a45d3ca1", "filename": "libobjc/objc-private/runtime.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc-private%2Fruntime.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc-private%2Fruntime.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc-private%2Fruntime.h?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -34,7 +34,8 @@ The original list was:\n \n but can almost certainly be shrinked down.\n \n-*/\n+Note that you can use this file both with objc/objc-api.h and with\n+objc/runtime.h.  */\n \n #ifndef __objc_private_runtime_INCLUDE_GNU\n #define __objc_private_runtime_INCLUDE_GNU"}, {"sha": "d01707ca6595da9cfff9590f95cf922fca9330d6", "filename": "libobjc/objc-sync.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc-sync.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc-sync.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc-sync.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -79,7 +79,7 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"objc-private/common.h\"\n #include \"objc/objc-sync.h\"         /* For objc_sync_enter(), objc_sync_exit() */\n-#include \"objc/objc-api.h\"          /* For objc_malloc() */\n+#include \"objc/runtime.h\"           /* For objc_malloc() */\n #include \"objc/thr.h\"               /* For objc_mutex_loc() and similar */\n #include \"objc-private/objc-sync.h\" /* For __objc_sync_init() */\n "}, {"sha": "b3cfb2120f2ac7a436f2c7fcdfdb1dbb5eed5c46", "filename": "libobjc/objc/objc-decls.h", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc%2Fobjc-decls.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc%2Fobjc-decls.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc%2Fobjc-decls.h?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -28,13 +28,13 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #if defined (_WIN32) || defined (__WIN32__) || defined (WIN32)\n \n-#    ifdef DLL_EXPORT /* defined by libtool (if required) */\n-#  define objc_EXPORT \n-#  define objc_DECLARE\n-#else\n-#  define objc_EXPORT  extern __declspec(dllimport)\n-#  define objc_DECLARE extern __declspec(dllimport)\n-#endif\n+#  ifdef DLL_EXPORT /* defined by libtool (if required) */\n+#    define objc_EXPORT \n+#    define objc_DECLARE\n+#  else\n+#    define objc_EXPORT  extern __declspec(dllimport)\n+#    define objc_DECLARE extern __declspec(dllimport)\n+#  endif\n \n #else\n "}, {"sha": "6efe78d6fce3db5b21b0d043df23b7c19109a4cb", "filename": "libobjc/objc/runtime.h", "status": "modified", "additions": 29, "deletions": 1, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc%2Fruntime.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjc%2Fruntime.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjc%2Fruntime.h?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -48,6 +48,7 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n /* TODO: This file is incomplete.  */\n \n #include \"objc.h\"\n+#include \"objc-decls.h\"\n \n /* An 'Ivar' represents an instance variable.  It holds information\n    about the name, type and offset of the instance variable.  */\n@@ -543,11 +544,38 @@ struct __objcFastEnumerationState\n */\n \n \n+/** Implementation: the following functions are in memory.c.  */\n+\n+/* Traditional GNU Objective-C Runtime functions that are used for\n+   memory allocation and disposal.  These functions are used in the\n+   same way as you use malloc, realloc, calloc and free and make sure\n+   that memory allocation works properly with the garbage\n+   collector.\n+\n+   Compatibility Note: these functions are not available with the\n+   Apple/NeXT runtime.  */\n+\n+objc_EXPORT void *objc_malloc(size_t size);\n+\n+/* FIXME: Shouldn't the following be called objc_malloc_atomic ?  The\n+   GC function is GC_malloc_atomic() which makes sense.\n+ */\n+objc_EXPORT void *objc_atomic_malloc(size_t size);\n+\n+objc_EXPORT void *objc_realloc(void *mem, size_t size);\n+\n+objc_EXPORT void *objc_calloc(size_t nelem, size_t size);\n+\n+objc_EXPORT void objc_free(void *mem);\n+\n+\n /** Implementation: the following functions are in encoding.c.  */\n \n /* Traditional GNU Objective-C Runtime functions that are currently\n    used to implement method forwarding.\n-*/\n+\n+   Compatibility Note: these functions are not available with the\n+   Apple/NeXT runtime.  */\n \n /* Return the size of a variable which has the specified 'type'\n    encoding.  */"}, {"sha": "7aaf9a3afa51d57178edf620e9d08e61f30f0745", "filename": "libobjc/objects.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjects.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fobjects.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fobjects.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -23,7 +23,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n #include \"objc-private/common.h\"\n-#include \"objc/objc.h\"\n #include \"objc/objc-api.h\"\n #include \"objc-private/runtime.h\"\t\t/* the kitchen sink */\n "}, {"sha": "6d429803c8fd584168ce425d64f006a444090941", "filename": "libobjc/protocols.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fprotocols.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fprotocols.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fprotocols.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -23,7 +23,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n #include \"objc-private/common.h\"\n-#include \"objc/objc.h\"\n #include \"objc/runtime.h\"\n #include \"objc-private/module-abi-8.h\" /* For runtime structures  */\n #include \"objc/thr.h\""}, {"sha": "9dd160e51eb68ffb8890d7c06d78810544c62313", "filename": "libobjc/sarray.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fsarray.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fsarray.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fsarray.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -24,9 +24,8 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n #include \"objc-private/common.h\"\n #include \"objc-private/sarray.h\"\n-#include \"objc/objc.h\"\n-#include \"objc/objc-api.h\"\n-#include \"objc/thr.h\"\n+#include \"objc/runtime.h\" /* For objc_malloc */\n+#include \"objc/thr.h\"     /* For objc_mutex_lock */\n #include \"objc-private/runtime.h\"\n #include <stdio.h>\n #include <string.h> /* For memset */"}, {"sha": "1d4bc7e69d73275f50ebffde80ba3803ef880181", "filename": "libobjc/selector.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fselector.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fselector.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fselector.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -23,7 +23,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n <http://www.gnu.org/licenses/>.  */\n \n #include \"objc-private/common.h\"\n-#include \"objc/objc.h\"\n #include \"objc/objc-api.h\"\n #include \"objc/thr.h\"\n #include \"objc-private/hash.h\""}, {"sha": "02be39c5b0528d3e70d8e3ac64253d6cdd7dacaa", "filename": "libobjc/sendmsg.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fsendmsg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fsendmsg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fsendmsg.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -33,7 +33,6 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include \"tconfig.h\"\n #include \"coretypes.h\"\n #include \"tm.h\"\n-#include \"objc/objc.h\"\n #include \"objc/objc-api.h\"\n #include \"objc/thr.h\"\n #include \"objc-private/runtime.h\""}, {"sha": "609872d3d1751bfcb0d2ebdd92faf0dc079f9226", "filename": "libobjc/thr.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fthr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/718a8e53dce6751ad2c25954adfa8f666bd9d36e/libobjc%2Fthr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fthr.c?ref=718a8e53dce6751ad2c25954adfa8f666bd9d36e", "patch": "@@ -38,8 +38,7 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n #include \"tm.h\"\n #include \"defaults.h\"\n #include \"objc/thr.h\"\n-#include \"objc/objc.h\"\n-#include \"objc/objc-api.h\"\n+#include \"objc/runtime.h\"\n #include \"objc-private/runtime.h\"\n #include <gthr.h>\n "}]}