{"sha": "978e411ffa21a917971b21f1e68003cbe91a5666", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTc4ZTQxMWZmYTIxYTkxNzk3MWIyMWYxZTY4MDAzY2JlOTFhNTY2Ng==", "commit": {"author": {"name": "Carlos O'Donell", "email": "carlos@codesourcery.com", "date": "2006-11-03T00:59:32Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2006-11-03T00:59:32Z"}, "message": "linux-elf.h (NEED_INDICATE_EXEC_STACK): Define as 1.\n\n2006-11-02  Carlos O'Donell  <carlos@codesourcery.com>\n\n\tgcc/\n\t* config/arm/linux-elf.h (NEED_INDICATE_EXEC_STACK): Define as 1.\n\t* arm.c (arm_file_end): If NEED_INDICATE_EXEC_STACK call \n\tfile_end_indicate_exec_stack. \n\t* arm.h [!NEED_INDICATE_EXEC_STACK] (NEED_INIDCATE_EXEC_STACK): \n\tDefine as 0.\n\t* lib1funcs.asm [__ELF__ && __linux__]: Emit .note.GNU-stack section\n\tfor a non-executable stack.\n\t* crti.asm: Likewise.\n\t* crtn.asm: Likewise.\n\t* libunwind.S: Likewise.\n\nFrom-SVN: r118445", "tree": {"sha": "034daed3d8fa40a96d1f2e843ef5f035c06fe376", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/034daed3d8fa40a96d1f2e843ef5f035c06fe376"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/978e411ffa21a917971b21f1e68003cbe91a5666", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/978e411ffa21a917971b21f1e68003cbe91a5666", "html_url": "https://github.com/Rust-GCC/gccrs/commit/978e411ffa21a917971b21f1e68003cbe91a5666", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/978e411ffa21a917971b21f1e68003cbe91a5666/comments", "author": null, "committer": null, "parents": [{"sha": "50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50f606a629ca09f8cbf9c595362ad3e23c79cb5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50f606a629ca09f8cbf9c595362ad3e23c79cb5d"}], "stats": {"total": 52, "additions": 52, "deletions": 0}, "files": [{"sha": "db5ad31fa9d6a890dd5d01a896e1f1e9e54ec5fd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -1,3 +1,16 @@\n+2006-11-02  Carlos O'Donell  <carlos@codesourcery.com>\n+\n+\t* config/arm/linux-elf.h (NEED_INDICATE_EXEC_STACK): Define as 1.\n+\t* arm.c (arm_file_end): If NEED_INDICATE_EXEC_STACK call \n+\tfile_end_indicate_exec_stack. \n+\t* arm.h [!NEED_INDICATE_EXEC_STACK] (NEED_INIDCATE_EXEC_STACK): \n+\tDefine as 0.\n+\t* lib1funcs.asm [__ELF__ && __linux__]: Emit .note.GNU-stack section\n+\tfor a non-executable stack.\n+\t* crti.asm: Likewise.\n+\t* crtn.asm: Likewise.\n+\t* libunwind.S: Likewise. \n+\n 2006-11-02  Ben Elliston  <bje@au.ibm.com>\n \n \t* tree-ssa.c (warn_uninit): Use expand_location variables for"}, {"sha": "bbf4863a7adfff80eedceca1d069959c12d698aa", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -14417,6 +14417,10 @@ arm_file_end (void)\n {\n   int regno;\n \n+  if (NEED_INDICATE_EXEC_STACK)\n+    /* Add .note.GNU-stack.  */\n+    file_end_indicate_exec_stack ();\n+\n   if (! thumb_call_reg_needed)\n     return;\n "}, {"sha": "beb222263ab156d95410a099d37a2b67ad774e41", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -2591,4 +2591,10 @@ enum arm_builtins\n \n   ARM_BUILTIN_MAX\n };\n+\n+/* Do not emit .note.GNU-stack by default.  */\n+#ifndef NEED_INDICATE_EXEC_STACK\n+#define NEED_INDICATE_EXEC_STACK\t0\n+#endif\n+\n #endif /* ! GCC_ARM_H */"}, {"sha": "6f0acd199e0309854edb32d113eb080d5f281aea", "filename": "gcc/config/arm/crti.asm", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Fcrti.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Fcrti.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcrti.asm?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -31,6 +31,12 @@\n #    the executable file might be covered by the GNU General Public License.\n # \n \n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n # This file just make a stack frame for the contents of the .fini and\n # .init sections.  Users may put any desired instructions in those\n # sections."}, {"sha": "36c417d7ddef69b9322bcab770ff8663ef2b40ae", "filename": "gcc/config/arm/crtn.asm", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Fcrtn.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Fcrtn.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Fcrtn.asm?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -31,6 +31,12 @@\n #    the executable file might be covered by the GNU General Public License.\n # \n \n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n # This file just makes sure that the .fini and .init sections do in\n # fact return.  Users may put any desired instructions in those sections.\n # This file is the last thing linked into any executable."}, {"sha": "93c0df824a870cdadf43b3ad051124d9b3a07004", "filename": "gcc/config/arm/lib1funcs.asm", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flib1funcs.asm?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -27,6 +27,13 @@ You should have received a copy of the GNU General Public License\n along with this program; see the file COPYING.  If not, write to\n the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n Boston, MA 02110-1301, USA.  */\n+\n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n /* ------------------------------------------------------------------------ */\n \n /* We need to know what prefix to add to function names.  */"}, {"sha": "f53a20232b81f013c457d950e6299333383ef94e", "filename": "gcc/config/arm/libunwind.S", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Flibunwind.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Flibunwind.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flibunwind.S?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -26,6 +26,12 @@\n    the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n    Boston, MA 02110-1301, USA.  */\n \n+/* An executable stack is *not* required for these functions.  */\n+#if defined(__ELF__) && defined(__linux__)\n+.section .note.GNU-stack,\"\",%progbits\n+.previous\n+#endif\n+\n #ifndef __symbian__\n \n #include \"lib1funcs.asm\""}, {"sha": "d4e83514206971efe8ad2bd589e4b8a1bfd4af1c", "filename": "gcc/config/arm/linux-elf.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Flinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/978e411ffa21a917971b21f1e68003cbe91a5666/gcc%2Fconfig%2Farm%2Flinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-elf.h?ref=978e411ffa21a917971b21f1e68003cbe91a5666", "patch": "@@ -104,3 +104,7 @@\n \n /* The GNU/Linux profiler needs a frame pointer.  */\n #define SUBTARGET_FRAME_POINTER_REQUIRED current_function_profile\n+\n+/* Add .note.GNU-stack.  */\n+#undef NEED_INDICATE_EXEC_STACK\n+#define NEED_INDICATE_EXEC_STACK\t1"}]}