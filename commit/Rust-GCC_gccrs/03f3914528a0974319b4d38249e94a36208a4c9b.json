{"sha": "03f3914528a0974319b4d38249e94a36208a4c9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNmMzkxNDUyOGEwOTc0MzE5YjRkMzgyNDllOTRhMzYyMDhhNGM5Yg==", "commit": {"author": {"name": "Jiong Wang", "email": "jiong.wang@arm.com", "date": "2015-11-11T12:30:46Z"}, "committer": {"name": "Jiong Wang", "email": "jiwang@gcc.gnu.org", "date": "2015-11-11T12:30:46Z"}, "message": "[ARM] PR67305, tighten neon_vector_mem_operand on eliminable registers\n\n2015-11-11  Jiong Wang  <jiong.wang@arm.com>\n\t    Jim Wilson  <wilson@gcc.gnu.org>\n\n\tPR target/67305\n\t* config/arm/arm.md (neon_vector_mem_operand): Return FALSE if strict\n\tbe true and eliminable registers mentioned.\n\n\nCo-Authored-By: Jim Wilson <wilson@gcc.gnu.org>\n\nFrom-SVN: r230158", "tree": {"sha": "fd4655634f6a2841560041e51e6b68056cc957fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd4655634f6a2841560041e51e6b68056cc957fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03f3914528a0974319b4d38249e94a36208a4c9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03f3914528a0974319b4d38249e94a36208a4c9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03f3914528a0974319b4d38249e94a36208a4c9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03f3914528a0974319b4d38249e94a36208a4c9b/comments", "author": null, "committer": null, "parents": [{"sha": "f50bb868f2145ffcc4d330fd6df6367dd5c804e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f50bb868f2145ffcc4d330fd6df6367dd5c804e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f50bb868f2145ffcc4d330fd6df6367dd5c804e3"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "8d2f9702def5056b3041d90b421ff434ff311e89", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03f3914528a0974319b4d38249e94a36208a4c9b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03f3914528a0974319b4d38249e94a36208a4c9b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=03f3914528a0974319b4d38249e94a36208a4c9b", "patch": "@@ -1,3 +1,10 @@\n+2015-11-11  Jiong Wang  <jiong.wang@arm.com>\n+\t    Jim Wilson  <wilson@gcc.gnu.org>\n+\n+\tPR target/67305\n+\t* config/arm/arm.md (neon_vector_mem_operand): Return FALSE if strict\n+\tbe true and eliminable registers mentioned.\n+\n 2015-11-11  Claudiu Zissulescu  <claziss@synopsys.com>\n \n \t* common/config/arc/arc-common.c (arc_handle_option): Handle ARCv2"}, {"sha": "709369441d0bac1c02355db8b9145224c20617c5", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03f3914528a0974319b4d38249e94a36208a4c9b/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03f3914528a0974319b4d38249e94a36208a4c9b/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=03f3914528a0974319b4d38249e94a36208a4c9b", "patch": "@@ -12960,14 +12960,14 @@ neon_vector_mem_operand (rtx op, int type, bool strict)\n   rtx ind;\n \n   /* Reject eliminable registers.  */\n-  if (! (reload_in_progress || reload_completed)\n-      && (   reg_mentioned_p (frame_pointer_rtx, op)\n+  if (strict && ! (reload_in_progress || reload_completed)\n+      && (reg_mentioned_p (frame_pointer_rtx, op)\n \t  || reg_mentioned_p (arg_pointer_rtx, op)\n \t  || reg_mentioned_p (virtual_incoming_args_rtx, op)\n \t  || reg_mentioned_p (virtual_outgoing_args_rtx, op)\n \t  || reg_mentioned_p (virtual_stack_dynamic_rtx, op)\n \t  || reg_mentioned_p (virtual_stack_vars_rtx, op)))\n-    return !strict;\n+    return FALSE;\n \n   /* Constants are converted into offsets from labels.  */\n   if (!MEM_P (op))"}]}