{"sha": "e886c40fa340a9d1238d464fcada1b3b914ad05b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg4NmM0MGZhMzQwYTlkMTIzOGQ0NjRmY2FkYTFiM2I5MTRhZDA1Yg==", "commit": {"author": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "2000-01-13T02:57:43Z"}, "committer": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "2000-01-13T02:57:43Z"}, "message": "sco5.h (INIT_SECTION_ASM_OP_COFF): Rename section to \"ctor\".\n\n2000-01-12  Robert Lipe  <robertl@sco.com>\n        * i386/sco5.h (INIT_SECTION_ASM_OP_COFF): Rename section to \"ctor\".\n        (BUILD_VA_LIST_TYPE): Define.\n        (EH_FRAME_SECTION_ASM_OP): Explictly define to better interact                  with crtstuff.c.\n\nFrom-SVN: r31377", "tree": {"sha": "2594b7d26e15936f670fe628e3fd375850835423", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2594b7d26e15936f670fe628e3fd375850835423"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e886c40fa340a9d1238d464fcada1b3b914ad05b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e886c40fa340a9d1238d464fcada1b3b914ad05b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e886c40fa340a9d1238d464fcada1b3b914ad05b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e886c40fa340a9d1238d464fcada1b3b914ad05b/comments", "author": null, "committer": null, "parents": [{"sha": "09ed39ad87a8537f7b8f70b133751715646c8160", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/09ed39ad87a8537f7b8f70b133751715646c8160", "html_url": "https://github.com/Rust-GCC/gccrs/commit/09ed39ad87a8537f7b8f70b133751715646c8160"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "9716d4e32bd203f9e56ca55547023b707e28dd30", "filename": "gcc/config/i386/sco5.h", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e886c40fa340a9d1238d464fcada1b3b914ad05b/gcc%2Fconfig%2Fi386%2Fsco5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e886c40fa340a9d1238d464fcada1b3b914ad05b/gcc%2Fconfig%2Fi386%2Fsco5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsco5.h?ref=e886c40fa340a9d1238d464fcada1b3b914ad05b", "patch": "@@ -101,7 +101,8 @@ Boston, MA 02111-1307, USA.  */\n \n #undef INIT_SECTION_ASM_OP\n #define INIT_SECTION_ASM_OP_ELF\t\t\"\\t.section\\t.init\"\n-#define INIT_SECTION_ASM_OP_COFF\t\"\\t.section\\t.init ,\\\"x\\\"\"\n+/* Rename these for COFF becuase crt1.o will try to run them. */\n+#define INIT_SECTION_ASM_OP_COFF\t\"\\t.section\\t.ctor ,\\\"x\\\"\"\n #define INIT_SECTION_ASM_OP\t\\\n   ((TARGET_ELF) ? INIT_SECTION_ASM_OP_ELF : INIT_SECTION_ASM_OP_COFF)\n \n@@ -927,6 +928,13 @@ dtors_section ()\t\t\t\t\t\t\t\\\n \n #define MAX_OFILE_ALIGNMENT (32768*8)\n \n+/* Define the `__builtin_va_list' type for the ABI.  On OpenServer, this\n+   type is `char *'.  */\n+#undef BUILD_VA_LIST_TYPE\n+#define BUILD_VA_LIST_TYPE(VALIST) \\\n+  (VALIST) = build_pointer_type (char_type_node)\n+\n+\n /*\n Here comes some major hackery to get the crt stuff to compile properly.\n Since we can (and do) compile for both COFF and ELF environments, we\n@@ -960,7 +968,7 @@ compiler at the end of the day. Onward we go ...\n #  define FINI_SECTION_ASM_OP FINI_SECTION_ASM_OP_COFF\n #  define DTORS_SECTION_ASM_OP DTORS_SECTION_ASM_OP_COFF\n #  define CTORS_SECTION_ASM_OP CTORS_SECTION_ASM_OP_COFF\n-#  define EH_FRAME_SECTION_ASM_OP \"\"\n+#  define EH_FRAME_SECTION_ASM_OP EH_FRAME_SECTION_ASM_OP_COFF\n #  define CTOR_LIST_BEGIN asm (INIT_SECTION_ASM_OP); asm (\"pushl $0\")\n #  define CTOR_LIST_END CTOR_LIST_BEGIN\n #  define DO_GLOBAL_CTORS_BODY\t\t\t\t\t\t\\"}]}