{"sha": "49d77e22756fe0076f542dcb82cd434b54742c46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDlkNzdlMjI3NTZmZTAwNzZmNTQyZGNiODJjZDQzNGI1NDc0MmM0Ng==", "commit": {"author": {"name": "David Jee", "email": "djee@redhat.com", "date": "2004-02-10T17:12:09Z"}, "committer": {"name": "David Jee", "email": "djee@gcc.gnu.org", "date": "2004-02-10T17:12:09Z"}, "message": "2004-02-10  David Jee  <djee@redhat.com>\n\n\t* gnu/java/awt/peer/gtk/GtkButtonPeer.java\n\t(gtkSetLabel): New native method definition.\n\t(setLabel): Use gtkSetLabel.\n\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c\n\t(Java_gnu_java_awt_peer_gtk_GtkButtonPeer_gtkSetLabel): New method.\n\nFrom-SVN: r77604", "tree": {"sha": "e28e2d51c2de43dd3d4f6ce0ea4a3ebcb08c76b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e28e2d51c2de43dd3d4f6ce0ea4a3ebcb08c76b1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/49d77e22756fe0076f542dcb82cd434b54742c46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49d77e22756fe0076f542dcb82cd434b54742c46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49d77e22756fe0076f542dcb82cd434b54742c46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49d77e22756fe0076f542dcb82cd434b54742c46/comments", "author": null, "committer": null, "parents": [{"sha": "31cc6081778b66c7fc1d0e864fea5a73dcbd25c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31cc6081778b66c7fc1d0e864fea5a73dcbd25c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31cc6081778b66c7fc1d0e864fea5a73dcbd25c8"}], "stats": {"total": 30, "additions": 29, "deletions": 1}, "files": [{"sha": "8134d7ea4ba6e91a3108d06c12720d8c76cfd966", "filename": "libjava/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d77e22756fe0076f542dcb82cd434b54742c46/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d77e22756fe0076f542dcb82cd434b54742c46/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=49d77e22756fe0076f542dcb82cd434b54742c46", "patch": "@@ -1,3 +1,11 @@\n+2004-02-10  David Jee  <djee@redhat.com>\n+\n+\t* gnu/java/awt/peer/gtk/GtkButtonPeer.java\n+\t(gtkSetLabel): New native method definition.\n+\t(setLabel): Use gtkSetLabel.\n+\t* jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c\n+\t(Java_gnu_java_awt_peer_gtk_GtkButtonPeer_gtkSetLabel): New method.\n+\n 2004-02-10  Alan Modra  <amodra@bigpond.net.au>\n \n \t* include/powerpc-signal.h: Revert 2004-01-21 change."}, {"sha": "cf7260c11798f89806ac98faad22e0acaa752149", "filename": "libjava/gnu/java/awt/peer/gtk/GtkButtonPeer.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d77e22756fe0076f542dcb82cd434b54742c46/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkButtonPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d77e22756fe0076f542dcb82cd434b54742c46/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkButtonPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkButtonPeer.java?ref=49d77e22756fe0076f542dcb82cd434b54742c46", "patch": "@@ -54,6 +54,7 @@ public class GtkButtonPeer extends GtkComponentPeer\n   public native void connectSignals ();\n \n   native void gtkSetFont(String name, int style, int size);\n+  native void gtkSetLabel(String label);\n   native void gtkWidgetSetForeground (int red, int green, int blue);\n \n   public GtkButtonPeer (Button b)\n@@ -63,7 +64,7 @@ public GtkButtonPeer (Button b)\n \n   public void setLabel (String label) \n   {\n-    set (\"label\", label);\n+    gtkSetLabel(label);\n   }\n \n   public void handleEvent (AWTEvent e)"}, {"sha": "7f5d44a2d7c13f81aa43c8a90c665b20a371527c", "filename": "libjava/jni/gtk-peer/gnu_java_awt_peer_gtk_GtkButtonPeer.c", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49d77e22756fe0076f542dcb82cd434b54742c46/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkButtonPeer.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49d77e22756fe0076f542dcb82cd434b54742c46/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkButtonPeer.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni%2Fgtk-peer%2Fgnu_java_awt_peer_gtk_GtkButtonPeer.c?ref=49d77e22756fe0076f542dcb82cd434b54742c46", "patch": "@@ -87,6 +87,25 @@ Java_gnu_java_awt_peer_gtk_GtkButtonPeer_connectSignals\n   Java_gnu_java_awt_peer_gtk_GtkComponentPeer_connectSignals (env, obj);\n }\n \n+JNIEXPORT void JNICALL \n+Java_gnu_java_awt_peer_gtk_GtkButtonPeer_gtkSetLabel\n+  (JNIEnv *env, jobject obj, jstring jtext)\n+{\n+  const char *text;\n+  GtkWidget *label;\n+  void *ptr;\n+\n+  ptr = NSA_GET_PTR (env, obj);\n+  label = gtk_bin_get_child (GTK_BIN(ptr));\n+  text = (*env)->GetStringUTFChars (env, jtext, NULL);\n+\n+  gdk_threads_enter ();\n+  gtk_label_set_text (GTK_LABEL(label), text);\n+  gdk_threads_leave ();\n+\n+  (*env)->ReleaseStringUTFChars (env, jtext, text);\n+}\n+\n JNIEXPORT void JNICALL \n Java_gnu_java_awt_peer_gtk_GtkButtonPeer_gtkSetFont\n   (JNIEnv *env, jobject obj, jstring name, jint style, jint size)"}]}