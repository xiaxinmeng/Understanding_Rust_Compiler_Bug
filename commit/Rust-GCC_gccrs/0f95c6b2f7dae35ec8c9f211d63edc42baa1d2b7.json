{"sha": "0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY5NWM2YjJmN2RhZTM1ZWM4YzlmMjExZDYzZWRjNDJiYWExZDJiNw==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@linux.alibaba.com", "date": "2021-07-28T09:44:35Z"}, "committer": {"name": "Bin Cheng", "email": "bin.cheng@linux.alibaba.com", "date": "2021-07-28T09:44:35Z"}, "message": "Don't skip prologue/epilogue when initializing alias.\n\nRegister might be modified in prologue/epilogue, which shouldn't\nbe skipped in alias info analysis.\n\n2021-07-28  Bin Cheng  <bin.cheng@linux.alibaba.com>\n\ngcc/\n\t* alias.c (init_alias_analysis): Don't skip prologue/epilogue.", "tree": {"sha": "01deeb06d1bbe1e98098d3ea25231be6e5cd8990", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/01deeb06d1bbe1e98098d3ea25231be6e5cd8990"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7/comments", "author": null, "committer": null, "parents": [{"sha": "88d0f70a326eeb42b479aa537f8a81bf5a199346", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88d0f70a326eeb42b479aa537f8a81bf5a199346", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88d0f70a326eeb42b479aa537f8a81bf5a199346"}], "stats": {"total": 12, "additions": 0, "deletions": 12}, "files": [{"sha": "099acabca6b0c868920e7110de06e8cd6c4d88cd", "filename": "gcc/alias.c", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7/gcc%2Falias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7/gcc%2Falias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Falias.c?ref=0f95c6b2f7dae35ec8c9f211d63edc42baa1d2b7", "patch": "@@ -3406,14 +3406,6 @@ init_alias_analysis (void)\n   rpo = XNEWVEC (int, n_basic_blocks_for_fn (cfun));\n   rpo_cnt = pre_and_rev_post_order_compute (NULL, rpo, false);\n \n-  /* The prologue/epilogue insns are not threaded onto the\n-     insn chain until after reload has completed.  Thus,\n-     there is no sense wasting time checking if INSN is in\n-     the prologue/epilogue until after reload has completed.  */\n-  bool could_be_prologue_epilogue = ((targetm.have_prologue ()\n-\t\t\t\t      || targetm.have_epilogue ())\n-\t\t\t\t     && reload_completed);\n-\n   pass = 0;\n   do\n     {\n@@ -3459,10 +3451,6 @@ init_alias_analysis (void)\n \t\t{\n \t\t  rtx note, set;\n \n-\t\t  if (could_be_prologue_epilogue\n-\t\t      && prologue_epilogue_contains (insn))\n-\t\t    continue;\n-\n \t\t  /* If this insn has a noalias note, process it,  Otherwise,\n \t\t     scan for sets.  A simple set will have no side effects\n \t\t     which could change the base value of any other register.  */"}]}