{"sha": "374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzc0YjBiN2QwYzJlZTdmMGE4YWQ4ODQ2ZWI4MjUzMDk1Mzk3NTQ5Zg==", "commit": {"author": {"name": "Alan Modra", "email": "amodra@bigpond.net.au", "date": "2002-09-13T23:29:58Z"}, "committer": {"name": "Alan Modra", "email": "amodra@gcc.gnu.org", "date": "2002-09-13T23:29:58Z"}, "message": "tm.texi (DBX_OUTPUT_NFUN): Describe.\n\n\t* doc/tm.texi (DBX_OUTPUT_NFUN): Describe.\n\t* dbxout.c (dbxout_function_end): Use DBX_OUTPUT_NFUN.\n\t* config/rs6000/linux64.h (DBX_OUTPUT_NFUN): Define.\n\nFrom-SVN: r57122", "tree": {"sha": "56d6eaae71719c920376e0802c6f13e372416560", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/56d6eaae71719c920376e0802c6f13e372416560"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/comments", "author": null, "committer": null, "parents": [{"sha": "690eed2ccf6f4d12c7bd86c4104c3308be3e1476", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/690eed2ccf6f4d12c7bd86c4104c3308be3e1476", "html_url": "https://github.com/Rust-GCC/gccrs/commit/690eed2ccf6f4d12c7bd86c4104c3308be3e1476"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "4856ab65a73b8e9f0ac643239f09ddb71ceb67e0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "patch": "@@ -1,3 +1,9 @@\n+2002-09-14  Alan Modra  <amodra@bigpond.net.au>\n+\n+\t* doc/tm.texi (DBX_OUTPUT_NFUN): Describe.\n+\t* dbxout.c (dbxout_function_end): Use DBX_OUTPUT_NFUN.\n+\t* config/rs6000/linux64.h (DBX_OUTPUT_NFUN): Define.\n+\n 2002-09-13  Nathan Sidwell  <nathan@codesourcery.com>\n \n \t* ggc-common.c (ggc_mark_roots): Don't iterate NULL hash tables."}, {"sha": "8f96043706abaf2c30d965492a0dbfb38e79911e", "filename": "gcc/config/rs6000/linux64.h", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2Fconfig%2Frs6000%2Flinux64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2Fconfig%2Frs6000%2Flinux64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Flinux64.h?ref=374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "patch": "@@ -354,6 +354,18 @@ while (0)\n #define DBX_OUTPUT_LBRAC(FILE, NAME) DBX_OUTPUT_BRAC (FILE, NAME, N_LBRAC)\n #define DBX_OUTPUT_RBRAC(FILE, NAME) DBX_OUTPUT_BRAC (FILE, NAME, N_RBRAC)\n \n+/* Another case where we want the dot name.  */\n+#define\tDBX_OUTPUT_NFUN(FILE, LSCOPE, DECL)\t\t\t\t\\\n+  do\t\t\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      fprintf (FILE, \"%s\\\"\\\",%d,0,0,\", ASM_STABS_OP, N_FUN);\t\t\\\n+      assemble_name (FILE, LSCOPE);\t\t\t\t\t\\\n+      fputs (\"-.\", FILE);\t\t\t\t\t\t\\\n+      assemble_name (FILE, XSTR (XEXP (DECL_RTL (DECL), 0), 0));\t\\\n+      putc ('\\n', FILE);\t\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n+  while (0)\n+\n /* Override sysv4.h as these are ABI_V4 only.  */\n #undef\tASM_OUTPUT_REG_PUSH\n #undef\tASM_OUTPUT_REG_POP"}, {"sha": "a570856ad4a62dd8d2dfc319d473244e9f7a6e9e", "filename": "gcc/dbxout.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2Fdbxout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2Fdbxout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbxout.c?ref=374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "patch": "@@ -397,11 +397,15 @@ dbxout_function_end ()\n \n   /* By convention, GCC will mark the end of a function with an N_FUN\n      symbol and an empty string.  */\n+#ifdef DBX_OUTPUT_NFUN\n+  DBX_OUTPUT_NFUN (asmfile, lscope_label_name, current_function_decl);\n+#else\n   fprintf (asmfile, \"%s\\\"\\\",%d,0,0,\", ASM_STABS_OP, N_FUN);\n   assemble_name (asmfile, lscope_label_name);\n   putc ('-', asmfile);\n   assemble_name (asmfile, XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0));\n   fprintf (asmfile, \"\\n\");\n+#endif\n }\n #endif /* DBX_DEBUGGING_INFO */\n "}, {"sha": "8bc5155029e0ffecd29a447c948d8f562dcbe5b9", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/374b0b7d0c2ee7f0a8ad8846eb8253095397549f/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=374b0b7d0c2ee7f0a8ad8846eb8253095397549f", "patch": "@@ -7848,6 +7848,11 @@ argument @var{name} is the name of an assembler symbol (for use with\n @item DBX_OUTPUT_RBRAC (@var{stream}, @var{name})\n Like @code{DBX_OUTPUT_LBRAC}, but for the end of a scope level.\n \n+@findex DBX_OUTPUT_NFUN\n+@item DBX_OUTPUT_NFUN (@var{stream}, @var{lscope_label}, @var{decl})\n+Define this macro if the target machine requires special handling to\n+output an @code{N_FUN} entry for the function @var{decl}.\n+\n @findex DBX_OUTPUT_ENUM\n @item DBX_OUTPUT_ENUM (@var{stream}, @var{type})\n Define this macro if the target machine requires special handling to"}]}