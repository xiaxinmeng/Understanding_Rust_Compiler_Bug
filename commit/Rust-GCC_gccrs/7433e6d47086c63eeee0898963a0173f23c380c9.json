{"sha": "7433e6d47086c63eeee0898963a0173f23c380c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzQzM2U2ZDQ3MDg2YzYzZWVlZTA4OTg5NjNhMDE3M2YyM2MzODBjOQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-08-30T01:42:48Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-08-30T01:42:48Z"}, "message": "re PR c++/12093 (inconstitent error with templates/non-templates)\n\n2003-08-29  Mark Mitchell  <mark@codesourcery.com>\n\n\tPR c++/12093\n\t* pt.c (build_non_dependent_expr): Do not build a\n\tNON_DEPENDENT_EXPR for a STRING_CST.\n\n2003-08-29  Mark Mitchell  <mark@codesourcery.com>\n\n\tPR c++/12093\n\t* g++.dg/template/non-dependent4.C: New test.\n\nFrom-SVN: r70941", "tree": {"sha": "fe982fcdef1b28f684fa99e57282a46ca0095be1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fe982fcdef1b28f684fa99e57282a46ca0095be1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7433e6d47086c63eeee0898963a0173f23c380c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7433e6d47086c63eeee0898963a0173f23c380c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7433e6d47086c63eeee0898963a0173f23c380c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7433e6d47086c63eeee0898963a0173f23c380c9/comments", "author": null, "committer": null, "parents": [{"sha": "c2096ef8a3e9c250d81ee0fbed1a38d47a879f59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2096ef8a3e9c250d81ee0fbed1a38d47a879f59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2096ef8a3e9c250d81ee0fbed1a38d47a879f59"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "d0664230fd27e7c8391d0bc611d8a0c847557357", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7433e6d47086c63eeee0898963a0173f23c380c9", "patch": "@@ -1,5 +1,9 @@\n 2003-08-29  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/12093\n+\t* pt.c (build_non_dependent_expr): Do not build a\n+\tNON_DEPENDENT_EXPR for a STRING_CST.\n+\n \tPR c++/11928\n \t* search.c (add_conversions): Avoid adding two conversion\n \toperators for the same type."}, {"sha": "6ae091e749c633e2c8508121950f1f07439760d9", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=7433e6d47086c63eeee0898963a0173f23c380c9", "patch": "@@ -11806,6 +11806,11 @@ build_non_dependent_expr (tree expr)\n      types.  */\n   if (TREE_CODE (expr) == OVERLOAD)\n     return expr;\n+  /* Preserve string constants; conversions from string constants to\n+     \"char *\" are allowed, even though normally a \"const char *\"\n+     cannot be used to initialize a \"char *\".  */\n+  if (TREE_CODE (expr) == STRING_CST)\n+    return expr;\n \n   if (TREE_CODE (expr) == COND_EXPR)\n     return build (COND_EXPR,"}, {"sha": "8eeca7e50c34b90b834c99eabcd1472c3174d4ba", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7433e6d47086c63eeee0898963a0173f23c380c9", "patch": "@@ -1,5 +1,8 @@\n 2003-08-29  Mark Mitchell  <mark@codesourcery.com>\n \n+\tPR c++/12093\n+\t* g++.dg/template/non-dependent4.C: New test.\n+\n \tPR c++/11928\n \t* g++.dg/inherit/conv1.C: New test.\n "}, {"sha": "d17930757d9957c27a54756eada60a0f5f2c8840", "filename": "gcc/testsuite/g++.dg/ext/cond1.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fcond1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7433e6d47086c63eeee0898963a0173f23c380c9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fcond1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fcond1.C?ref=7433e6d47086c63eeee0898963a0173f23c380c9", "patch": "@@ -0,0 +1,10 @@\n+// { dg-options \"\" }\n+\n+template<int X> class c;\n+\n+template<int X, int Y> int test(c<X ? : Y>&);\n+\n+void test(c<2>*c2) {\n+\ttest<0, 2>(*c2);\n+}\n+"}]}