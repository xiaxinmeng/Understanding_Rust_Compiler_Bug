{"sha": "bfdc651abd28f3c76a4ef150dd87d5edc19902d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZkYzY1MWFiZDI4ZjNjNzZhNGVmMTUwZGQ4N2Q1ZWRjMTk5MDJkNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2019-03-22T12:58:09Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2019-03-22T12:58:09Z"}, "message": "* config/i386/sse.md (<avx512>_fmadd_<mode>_mask3<round_name>,\n\n\t<avx512>_fmsub_<mode>_mask3<round_name>,\n\t<avx512>_fnmadd_<mode>_mask3<round_name>,\n\t<avx512>_fnmsub_<mode>_mask3<round_name>,\n\tavx512f_vmfmadd_<mode>_mask3<round_name>,\n\tavx512f_vmfmsub_<mode>_mask3<round_name>,\n\t*avx512f_vmfnmadd_<mode>_mask3<round_name>): Use <round_nimm_predicate>\n\tinstead of register_operand and %v instead of v for match_operand 1.\n\t(avx512f_vmfnmsub_<mode>_mask3<round_name>): Rename to ...\n\t(*avx512f_vmfnmsub_<mode>_mask3<round_name>): ... this.  Use\n\t<round_nimm_predicate> instead of register_operand and %v instead of v\n\tfor match_operand 1.\n\nFrom-SVN: r269870", "tree": {"sha": "f0f205e265cfe2cf972f1aac14dfef3d6c86248a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0f205e265cfe2cf972f1aac14dfef3d6c86248a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfdc651abd28f3c76a4ef150dd87d5edc19902d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfdc651abd28f3c76a4ef150dd87d5edc19902d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfdc651abd28f3c76a4ef150dd87d5edc19902d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfdc651abd28f3c76a4ef150dd87d5edc19902d7/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ecf392360a548c5c510b491f284c439b05964b3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ecf392360a548c5c510b491f284c439b05964b3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ecf392360a548c5c510b491f284c439b05964b3a"}], "stats": {"total": 35, "additions": 24, "deletions": 11}, "files": [{"sha": "9fa4bb9dfb7c1b5ccb124599a9ba66acd0ac0df8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 15, "deletions": 2, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfdc651abd28f3c76a4ef150dd87d5edc19902d7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfdc651abd28f3c76a4ef150dd87d5edc19902d7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bfdc651abd28f3c76a4ef150dd87d5edc19902d7", "patch": "@@ -1,5 +1,18 @@\n 2019-03-22  Jakub Jelinek  <jakub@redhat.com>\n \n+\t* config/i386/sse.md (<avx512>_fmadd_<mode>_mask3<round_name>,\n+\t<avx512>_fmsub_<mode>_mask3<round_name>,\n+\t<avx512>_fnmadd_<mode>_mask3<round_name>,\n+\t<avx512>_fnmsub_<mode>_mask3<round_name>,\n+\tavx512f_vmfmadd_<mode>_mask3<round_name>,\n+\tavx512f_vmfmsub_<mode>_mask3<round_name>,\n+\t*avx512f_vmfnmadd_<mode>_mask3<round_name>): Use <round_nimm_predicate>\n+\tinstead of register_operand and %v instead of v for match_operand 1.\n+\t(avx512f_vmfnmsub_<mode>_mask3<round_name>): Rename to ...\n+\t(*avx512f_vmfnmsub_<mode>_mask3<round_name>): ... this.  Use\n+\t<round_nimm_predicate> instead of register_operand and %v instead of v\n+\tfor match_operand 1.\n+\n \t* config/i386/sse.md (<avx512>_fmadd_<mode>_mask<round_name>,\n \t<avx512>_fmadd_<mode>_mask3<round_name>,\n \t<avx512>_fmsub_<mode>_mask<round_name>,\n@@ -39,8 +52,8 @@\n \t*avx512f_vmfnmadd_<mode>_mask3<round_name>,\n \t*avx512f_vmfnmadd_<mode>_maskz_1<round_name>,\n \t*avx512f_vmfnmsub_<mode>_mask<round_name>,\n-\t*avx512f_vmfnmsub_<mode>_mask3<round_name>,\n-\t*avx512f_vmfnmasub_<mode>_maskz_1<round_name>): New define_insns.\n+\tavx512f_vmfnmsub_<mode>_mask3<round_name>,\n+\t*avx512f_vmfnmsub_<mode>_maskz_1<round_name>): New define_insns.\n \t(avx512f_vmfmadd_<mode>_maskz<round_expand_name>): New define_expand.\n \t* config/i386/avx512fintrin.h (_mm_mask_fmadd_sd, _mm_mask_fmadd_ss,\n \t_mm_mask3_fmadd_sd, _mm_mask3_fmadd_ss, _mm_maskz_fmadd_sd,"}, {"sha": "6b8298d957ed8967f08eecc1f6c097fdcd6886bb", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfdc651abd28f3c76a4ef150dd87d5edc19902d7/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfdc651abd28f3c76a4ef150dd87d5edc19902d7/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=bfdc651abd28f3c76a4ef150dd87d5edc19902d7", "patch": "@@ -3973,7 +3973,7 @@\n   [(set (match_operand:VF_AVX512VL 0 \"register_operand\" \"=v\")\n \t(vec_merge:VF_AVX512VL\n \t  (fma:VF_AVX512VL\n-\t    (match_operand:VF_AVX512VL 1 \"register_operand\" \"v\")\n+\t    (match_operand:VF_AVX512VL 1 \"<round_nimm_predicate>\" \"%v\")\n \t    (match_operand:VF_AVX512VL 2 \"<round_nimm_predicate>\" \"<round_constraint>\")\n \t    (match_operand:VF_AVX512VL 3 \"register_operand\" \"0\"))\n \t  (match_dup 3)\n@@ -4094,7 +4094,7 @@\n   [(set (match_operand:VF_AVX512VL 0 \"register_operand\" \"=v\")\n \t(vec_merge:VF_AVX512VL\n \t  (fma:VF_AVX512VL\n-\t    (match_operand:VF_AVX512VL 1 \"register_operand\" \"v\")\n+\t    (match_operand:VF_AVX512VL 1 \"<round_nimm_predicate>\" \"%v\")\n \t    (match_operand:VF_AVX512VL 2 \"<round_nimm_predicate>\" \"<round_constraint>\")\n \t    (neg:VF_AVX512VL\n \t      (match_operand:VF_AVX512VL 3 \"register_operand\" \"0\")))\n@@ -4217,7 +4217,7 @@\n \t(vec_merge:VF_AVX512VL\n \t  (fma:VF_AVX512VL\n \t    (neg:VF_AVX512VL\n-\t      (match_operand:VF_AVX512VL 1 \"register_operand\" \"v\"))\n+\t      (match_operand:VF_AVX512VL 1 \"<round_nimm_predicate>\" \"%v\"))\n \t    (match_operand:VF_AVX512VL 2 \"<round_nimm_predicate>\" \"<round_constraint>\")\n \t    (match_operand:VF_AVX512VL 3 \"register_operand\" \"0\"))\n \t  (match_dup 3)\n@@ -4345,7 +4345,7 @@\n \t(vec_merge:VF_AVX512VL\n \t  (fma:VF_AVX512VL\n \t    (neg:VF_AVX512VL\n-\t      (match_operand:VF_AVX512VL 1 \"register_operand\" \"v\"))\n+\t      (match_operand:VF_AVX512VL 1 \"<round_nimm_predicate>\" \"%v\"))\n \t    (match_operand:VF_AVX512VL 2 \"<round_nimm_predicate>\" \"<round_constraint>\")\n \t    (neg:VF_AVX512VL\n \t      (match_operand:VF_AVX512VL 3 \"register_operand\" \"0\")))\n@@ -4667,7 +4667,7 @@\n \t(vec_merge:VF_128\n \t  (vec_merge:VF_128\n \t    (fma:VF_128\n-\t      (match_operand:VF_128 1 \"register_operand\" \"v\")\n+\t      (match_operand:VF_128 1 \"<round_nimm_predicate>\" \"%v\")\n \t      (match_operand:VF_128 2 \"<round_nimm_predicate>\" \"<round_constraint>\")\n \t      (match_operand:VF_128 3 \"register_operand\" \"0\"))\n \t    (match_dup 3)\n@@ -4737,7 +4737,7 @@\n \t(vec_merge:VF_128\n \t  (vec_merge:VF_128\n \t    (fma:VF_128\n-\t      (match_operand:VF_128 1 \"register_operand\" \"v\")\n+\t      (match_operand:VF_128 1 \"<round_nimm_predicate>\" \"%v\")\n \t      (match_operand:VF_128 2 \"<round_nimm_predicate>\" \"<round_constraint>\")\n \t      (neg:VF_128\n \t\t(match_operand:VF_128 3 \"register_operand\" \"0\")))\n@@ -4797,7 +4797,7 @@\n \t    (fma:VF_128\n \t      (neg:VF_128\n \t\t(match_operand:VF_128 2 \"<round_nimm_predicate>\" \"<round_constraint>\"))\n-\t      (match_operand:VF_128 1 \"register_operand\" \"v\")\n+\t      (match_operand:VF_128 1 \"<round_nimm_predicate>\" \"%v\")\n \t      (match_operand:VF_128 3 \"register_operand\" \"0\"))\n \t    (match_dup 3)\n \t    (match_operand:QI 4 \"register_operand\" \"Yk\"))\n@@ -4849,14 +4849,14 @@\n   [(set_attr \"type\" \"ssemuladd\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n-(define_insn \"avx512f_vmfnmsub_<mode>_mask3<round_name>\"\n+(define_insn \"*avx512f_vmfnmsub_<mode>_mask3<round_name>\"\n   [(set (match_operand:VF_128 0 \"register_operand\" \"=v\")\n \t(vec_merge:VF_128\n \t  (vec_merge:VF_128\n \t    (fma:VF_128\n \t      (neg:VF_128\n \t\t(match_operand:VF_128 2 \"<round_nimm_predicate>\" \"<round_constraint>\"))\n-\t      (match_operand:VF_128 1 \"register_operand\" \"v\")\n+\t      (match_operand:VF_128 1 \"<round_nimm_predicate>\" \"%v\")\n \t      (neg:VF_128\n \t\t(match_operand:VF_128 3 \"register_operand\" \"0\")))\n \t    (match_dup 3)"}]}