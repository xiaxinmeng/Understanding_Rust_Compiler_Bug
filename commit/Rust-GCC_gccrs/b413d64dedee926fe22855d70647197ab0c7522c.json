{"sha": "b413d64dedee926fe22855d70647197ab0c7522c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjQxM2Q2NGRlZGVlOTI2ZmUyMjg1NWQ3MDY0NzE5N2FiMGM3NTIyYw==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@codesourcery.com", "date": "2000-08-22T06:54:54Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2000-08-22T06:54:54Z"}, "message": "diagnostic.h (report_problematic_module): Declare.\n\n2000-08-22  Gabriel Dos Reis  <gdr@codesourcery.com>\n\n\t* diagnostic.h (report_problematic_module): Declare.\n\t* diagnostic.c (report_problematic_module): New function.\n\t(report_error_function): Tweak.\n\nFrom-SVN: r35866", "tree": {"sha": "58da251d2b0356355ede0569a531cdde142081d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58da251d2b0356355ede0569a531cdde142081d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b413d64dedee926fe22855d70647197ab0c7522c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b413d64dedee926fe22855d70647197ab0c7522c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b413d64dedee926fe22855d70647197ab0c7522c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b413d64dedee926fe22855d70647197ab0c7522c/comments", "author": null, "committer": null, "parents": [{"sha": "c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4a6c0f353b4e56359f0bfc8733ab390efa2416f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4a6c0f353b4e56359f0bfc8733ab390efa2416f"}], "stats": {"total": 56, "additions": 35, "deletions": 21}, "files": [{"sha": "817b50f13371fb7bd570ac9472f6f7f8d32b5965", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b413d64dedee926fe22855d70647197ab0c7522c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b413d64dedee926fe22855d70647197ab0c7522c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b413d64dedee926fe22855d70647197ab0c7522c", "patch": "@@ -1,3 +1,9 @@\n+2000-08-22  Gabriel Dos Reis  <gdr@codesourcery.com>\n+\n+\t* diagnostic.h (report_problematic_module): Declare.\n+\t* diagnostic.c (report_problematic_module): New function.\n+\t(report_error_function): Tweak.\n+\n Tue Aug 22 02:31:26 2000  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* stmt.c (expand_goto_internal, fixup_gotos): Only check"}, {"sha": "35ca050c18fd7fb9c997c3b8e4f7bebdf36eddf1", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 28, "deletions": 20, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b413d64dedee926fe22855d70647197ab0c7522c/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b413d64dedee926fe22855d70647197ab0c7522c/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=b413d64dedee926fe22855d70647197ab0c7522c", "patch": "@@ -1243,26 +1243,7 @@ void\n report_error_function (file)\n   const char *file ATTRIBUTE_UNUSED;\n {\n-  struct file_stack *p;\n-\n-  if (output_needs_newline (diagnostic_buffer))\n-    {\n-      verbatim (\"\\n\");\n-      output_needs_newline (diagnostic_buffer) = 0;\n-    }\n-\n-  if (input_file_stack && input_file_stack->next != 0\n-      && error_function_changed ())\n-    {\n-      for (p = input_file_stack->next; p; p = p->next)\n-\tif (p == input_file_stack->next)\n-\t  verbatim (\"In file included from %s:%d\", p->name, p->line);\n-\telse\n-\t  verbatim (\",\\n                 from %s:%d\", p->name, p->line);\n-      verbatim (\":\\n\");\n-      record_last_error_function ();\n-    }\n-\n+  report_problematic_module (diagnostic_buffer);\n   (*print_error_function) (input_filename);\n }\n \n@@ -1677,6 +1658,33 @@ set_diagnostic_context (dc, message, args_ptr, file, line, warn)\n   diagnostic_finalizer (dc) = lang_diagnostic_finalizer;\n }\n \n+void\n+report_problematic_module (buffer)\n+     output_buffer *buffer;\n+{\n+  struct file_stack *p;\n+\n+  if (output_needs_newline (buffer))\n+    {\n+      output_verbatim (buffer, \"\\n\");\n+      output_needs_newline (buffer) = 0;\n+    }\n+\n+  if (input_file_stack && input_file_stack->next != 0\n+      && error_function_changed ())\n+    {\n+      for (p = input_file_stack->next; p; p = p->next)\n+\tif (p == input_file_stack->next)\n+\t  output_verbatim\n+            (buffer, \"In file included from %s:%d\", p->name, p->line);\n+\telse\n+\t  output_verbatim\n+            (buffer, \",\\n                 from %s:%d\", p->name, p->line);\n+      output_verbatim (buffer, \":\\n\");\n+      record_last_error_function ();\n+    }\n+}\n+\n static void\n default_diagnostic_starter (buffer, dc)\n      output_buffer *buffer;"}, {"sha": "e93a77b3b125234e311c1bbe412b2fce21a460b1", "filename": "gcc/diagnostic.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b413d64dedee926fe22855d70647197ab0c7522c/gcc%2Fdiagnostic.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b413d64dedee926fe22855d70647197ab0c7522c/gcc%2Fdiagnostic.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.h?ref=b413d64dedee926fe22855d70647197ab0c7522c", "patch": "@@ -195,6 +195,6 @@ int error_module_changed        PARAMS ((void));\n void record_last_error_module   PARAMS ((void));\n int error_function_changed      PARAMS ((void));\n void record_last_error_function PARAMS ((void));\n-     \n+void report_problematic_module  PARAMS ((output_buffer *));     \n \n #endif /* __GCC_DIAGNOSTIC_H__ */"}]}