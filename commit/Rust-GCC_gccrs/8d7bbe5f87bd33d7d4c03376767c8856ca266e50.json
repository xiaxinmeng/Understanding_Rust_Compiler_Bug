{"sha": "8d7bbe5f87bd33d7d4c03376767c8856ca266e50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ3YmJlNWY4N2JkMzNkN2Q0YzAzMzc2NzY3Yzg4NTZjYTI2NmU1MA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-15T18:39:52Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-07-15T18:39:52Z"}, "message": "(finish_struct): Handle nested struct redefinitions.\n\nFrom-SVN: r1593", "tree": {"sha": "c94d1dccb26dfce1b0e5106fdd3c68f073c0a1d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c94d1dccb26dfce1b0e5106fdd3c68f073c0a1d9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d7bbe5f87bd33d7d4c03376767c8856ca266e50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d7bbe5f87bd33d7d4c03376767c8856ca266e50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d7bbe5f87bd33d7d4c03376767c8856ca266e50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d7bbe5f87bd33d7d4c03376767c8856ca266e50/comments", "author": null, "committer": null, "parents": [{"sha": "e0b382b17ae011b19fa2cda8201e2588a910632e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e0b382b17ae011b19fa2cda8201e2588a910632e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e0b382b17ae011b19fa2cda8201e2588a910632e"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "5a730e81d583c76b82906a4106eb4d1f616833e3", "filename": "gcc/c-decl.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d7bbe5f87bd33d7d4c03376767c8856ca266e50/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d7bbe5f87bd33d7d4c03376767c8856ca266e50/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=8d7bbe5f87bd33d7d4c03376767c8856ca266e50", "patch": "@@ -4664,6 +4664,11 @@ finish_struct (t, fieldlist)\n       if (C_DECL_VARIABLE_SIZE (x))\n \tC_TYPE_VARIABLE_SIZE (t) = 1;\n \n+      /* Detect invalid nested redefinition.  */\n+      if (TREE_TYPE (x) == t)\n+\terror (\"nested redefinition of `%s'\",\n+\t       IDENTIFIER_POINTER (TYPE_NAME (t)));\n+\n       /* Detect invalid bit-field size.  */\n       if (DECL_INITIAL (x))\n \tSTRIP_NOPS (DECL_INITIAL (x));"}]}