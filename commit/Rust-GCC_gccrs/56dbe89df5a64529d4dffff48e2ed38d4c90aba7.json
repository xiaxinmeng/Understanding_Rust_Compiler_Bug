{"sha": "56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZkYmU4OWRmNWE2NDUyOWQ0ZGZmZmY0OGUyZWQzOGQ0YzkwYWJhNw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2006-07-13T19:21:51Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2006-07-13T19:21:51Z"}, "message": "Makefile.am (pch*_output_anchor): Add.\n\n2006-07-13  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* include/Makefile.am (pch*_output_anchor): Add.\n\t(pch*_output): Use.\n\t(CLEANFILES): Use.\n\t* include/Makefile.in: Regenerate.\n\t\n\t* scripts/check_performance: Be verbose on compile error.\n\nFrom-SVN: r115419", "tree": {"sha": "eca6499ef537136342248c222433cc14d5a8c637", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eca6499ef537136342248c222433cc14d5a8c637"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/comments", "author": null, "committer": null, "parents": [{"sha": "0ed431d48446d901139127e3ce9dc894f0ced6c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ed431d48446d901139127e3ce9dc894f0ced6c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ed431d48446d901139127e3ce9dc894f0ced6c8"}], "stats": {"total": 46, "additions": 43, "deletions": 3}, "files": [{"sha": "205972472455aadf5b3563deb7a011c2824bb1cc", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "patch": "@@ -1,3 +1,12 @@\n+2006-07-13  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* include/Makefile.am (pch*_output_anchor): Add.\n+\t(pch*_output): Use.\n+\t(CLEANFILES): Use.\n+\t* include/Makefile.in: Regenerate.\n+\t\n+\t* scripts/check_performance: Be verbose on compile error.\n+\n 2006-07-12  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* include/Makefile.am: Revert last change."}, {"sha": "bb76da646ae3de3434d16fb06227607b93e7e5d5", "filename": "libstdc++-v3/include/Makefile.am", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2Finclude%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2Finclude%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.am?ref=56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "patch": "@@ -766,25 +766,30 @@ thread_host_headers = \\\n \n pch1_source = ${glibcxx_srcdir}/include/precompiled/stdc++.h\n pch1_output_builddir = ${host_builddir}/stdc++.h.gch\n+pch1_output_anchor = ${host_builddir}/stdc++.h\n pch1_output_installdir = ${host_installdir}/stdc++.h.gch\n pch1a_output = ${pch1_output_builddir}/O0g.gch\n pch1b_output = ${pch1_output_builddir}/O2g.gch\n pch1_output = ${pch1a_output} ${pch1b_output}\n \n pch2_source = ${glibcxx_srcdir}/include/precompiled/stdtr1c++.h\n pch2_output_builddir = ${host_builddir}/stdtr1c++.h.gch\n+pch2_output_anchor = ${host_builddir}/stdtr1c++.h\n pch2_output_installdir = ${host_installdir}/stdtr1c++.h.gch\n pch2_output = ${pch2_output_builddir}/O2g.gch\n \n pch3_source = ${glibcxx_srcdir}/include/precompiled/extc++.h\n pch3_output_builddir = ${host_builddir}/extc++.h.gch\n+pch3_output_anchor = ${host_builddir}/extc++.h\n pch3_output_installdir = ${host_installdir}/extc++.h.gch\n pch3_output = ${pch3_output_builddir}/O2g.gch\n \n \n pch_output = ${pch1_output} ${pch2_output} ${pch3_output}\n pch_output_dirs = \\\n \t${pch1_output_builddir} ${pch2_output_builddir} ${pch3_output_builddir}\n+pch_output_anchors = \\\n+\t${pch1_output_anchor} ${pch2_output_anchor} ${pch3_output_anchor}\n PCHFLAGS=-Winvalid-pch -Wno-deprecated -x c++-header $(CXXFLAGS)\n if GLIBCXX_BUILD_PCH\n pch_build = ${pch_output}\n@@ -1049,27 +1054,30 @@ ${pch1a_output}: ${allstamped} ${host_builddir}/c++config.h ${pch1_source}\n \t  mkdir -p ${pch1_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O0 -g ${pch1_source} -o $@\n+\ttouch ${pch1_output_anchor}\n \n ${pch1b_output}: ${allstamped} ${host_builddir}/c++config.h ${pch1_source}\n \tif [ ! -d \"${pch1_output_builddir}\" ]; then \\\n \t  mkdir -p ${pch1_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O2 -g ${pch1_source} -o $@\n+\ttouch ${pch1_output_anchor}\n \n # Build a precompiled TR1 include, stdtr1c++.h.gch/O2.gch\n ${pch2_output}: ${pch2_source} ${pch1_output}\n \tif [ ! -d \"${pch2_output_builddir}\" ]; then \\\n \t  mkdir -p ${pch2_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O2 -g ${pch2_source} -o $@\n+\ttouch ${pch2_output_anchor}\n \n # Build a precompiled extension include, extc++.h.gch/O2.gch\n ${pch3_output}: ${pch3_source} ${pch2_output}\n \tif [ ! -d \"${pch3_output_builddir}\" ]; then \\\n \t  mkdir -p ${pch3_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O2 -g ${pch3_source} -o $@\n-\n+\ttouch ${pch3_output_anchor}\n \n # For robustness sake (in light of junk files or in-source\n # configuration), copy from the build or source tree to the install\n@@ -1175,9 +1183,11 @@ install-pch:\n \t$(mkinstalldirs) $(DESTDIR)${pch2_output_installdir}\n \tfor file in ${pch2_output_builddir}/*; do \\\n \t  $(INSTALL_DATA) $$file $(DESTDIR)${pch2_output_installdir}; done\n+\t$(INSTALL_DATA) ${pch1_output_anchor} $(DESTDIR)${host_installdir}\n+\t$(INSTALL_DATA) ${pch2_output_anchor} $(DESTDIR)${host_installdir}\n \n # By adding these files here, automake will remove them for 'make clean'\n-CLEANFILES = ${pch_output} \n+CLEANFILES = ${pch_output} ${pch_output_anchors}\n \n # To remove directories.\n clean-local:"}, {"sha": "5df0756e71c7383551a1ce46deade35be8c3ec94", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "patch": "@@ -980,22 +980,28 @@ thread_host_headers = \\\n \n pch1_source = ${glibcxx_srcdir}/include/precompiled/stdc++.h\n pch1_output_builddir = ${host_builddir}/stdc++.h.gch\n+pch1_output_anchor = ${host_builddir}/stdc++.h\n pch1_output_installdir = ${host_installdir}/stdc++.h.gch\n pch1a_output = ${pch1_output_builddir}/O0g.gch\n pch1b_output = ${pch1_output_builddir}/O2g.gch\n pch1_output = ${pch1a_output} ${pch1b_output}\n pch2_source = ${glibcxx_srcdir}/include/precompiled/stdtr1c++.h\n pch2_output_builddir = ${host_builddir}/stdtr1c++.h.gch\n+pch2_output_anchor = ${host_builddir}/stdtr1c++.h\n pch2_output_installdir = ${host_installdir}/stdtr1c++.h.gch\n pch2_output = ${pch2_output_builddir}/O2g.gch\n pch3_source = ${glibcxx_srcdir}/include/precompiled/extc++.h\n pch3_output_builddir = ${host_builddir}/extc++.h.gch\n+pch3_output_anchor = ${host_builddir}/extc++.h\n pch3_output_installdir = ${host_installdir}/extc++.h.gch\n pch3_output = ${pch3_output_builddir}/O2g.gch\n pch_output = ${pch1_output} ${pch2_output} ${pch3_output}\n pch_output_dirs = \\\n \t${pch1_output_builddir} ${pch2_output_builddir} ${pch3_output_builddir}\n \n+pch_output_anchors = \\\n+\t${pch1_output_anchor} ${pch2_output_anchor} ${pch3_output_anchor}\n+\n PCHFLAGS = -Winvalid-pch -Wno-deprecated -x c++-header $(CXXFLAGS)\n @GLIBCXX_BUILD_PCH_FALSE@pch_build = \n @GLIBCXX_BUILD_PCH_TRUE@pch_build = ${pch_output}\n@@ -1021,7 +1027,7 @@ allcreated = \\\n uppercase = [ABCDEFGHIJKLMNOPQRSTUVWXYZ_]\n \n # By adding these files here, automake will remove them for 'make clean'\n-CLEANFILES = ${pch_output} \n+CLEANFILES = ${pch_output} ${pch_output_anchors}\n all: all-am\n \n .SUFFIXES:\n@@ -1421,26 +1427,30 @@ ${pch1a_output}: ${allstamped} ${host_builddir}/c++config.h ${pch1_source}\n \t  mkdir -p ${pch1_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O0 -g ${pch1_source} -o $@\n+\ttouch ${pch1_output_anchor}\n \n ${pch1b_output}: ${allstamped} ${host_builddir}/c++config.h ${pch1_source}\n \tif [ ! -d \"${pch1_output_builddir}\" ]; then \\\n \t  mkdir -p ${pch1_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O2 -g ${pch1_source} -o $@\n+\ttouch ${pch1_output_anchor}\n \n # Build a precompiled TR1 include, stdtr1c++.h.gch/O2.gch\n ${pch2_output}: ${pch2_source} ${pch1_output}\n \tif [ ! -d \"${pch2_output_builddir}\" ]; then \\\n \t  mkdir -p ${pch2_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O2 -g ${pch2_source} -o $@\n+\ttouch ${pch2_output_anchor}\n \n # Build a precompiled extension include, extc++.h.gch/O2.gch\n ${pch3_output}: ${pch3_source} ${pch2_output}\n \tif [ ! -d \"${pch3_output_builddir}\" ]; then \\\n \t  mkdir -p ${pch3_output_builddir}; \\\n \tfi; \\\n \t$(CXX) $(PCHFLAGS) $(AM_CPPFLAGS) -O2 -g ${pch3_source} -o $@\n+\ttouch ${pch3_output_anchor}\n \n # For robustness sake (in light of junk files or in-source\n # configuration), copy from the build or source tree to the install\n@@ -1543,6 +1553,8 @@ install-pch:\n \t$(mkinstalldirs) $(DESTDIR)${pch2_output_installdir}\n \tfor file in ${pch2_output_builddir}/*; do \\\n \t  $(INSTALL_DATA) $$file $(DESTDIR)${pch2_output_installdir}; done\n+\t$(INSTALL_DATA) ${pch1_output_anchor} $(DESTDIR)${host_installdir}\n+\t$(INSTALL_DATA) ${pch2_output_anchor} $(DESTDIR)${host_installdir}\n \n # To remove directories.\n clean-local:"}, {"sha": "b7bbd6d02021ef77fca2d6c9dd66d8e8adb9057f", "filename": "libstdc++-v3/scripts/check_performance", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2Fscripts%2Fcheck_performance", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56dbe89df5a64529d4dffff48e2ed38d4c90aba7/libstdc%2B%2B-v3%2Fscripts%2Fcheck_performance", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fscripts%2Fcheck_performance?ref=56dbe89df5a64529d4dffff48e2ed38d4c90aba7", "patch": "@@ -54,6 +54,9 @@ do\n     $CXX -DNOTHREAD -D$CYCLE $TESTNAME $LIBS -o $EXE_NAME\n     if [ -f $EXE_NAME ]; then\n       ./$EXE_NAME\n+    else\n+      echo \"compile error:\"\n+      echo \"$CXX -DNOTHREAD -D$CYCLE $TESTNAME $LIBS -o $EXE_NAME\"\n     fi\n   done\n \n@@ -65,6 +68,9 @@ do\n     $CXX $THREAD_FLAG -D$CYCLE $TESTNAME $LIBS -o $EXE_NAME\n     if [ -f $EXE_NAME ]; then\n       ./$EXE_NAME\n+    else\n+      echo \"compile error:\"\n+      echo \"$CXX $THREAD_FLAG -D$CYCLE $TESTNAME $LIBS -o $EXE_NAME\"\n     fi\n   done\n \n@@ -74,6 +80,9 @@ do\n     $CXX $TESTNAME $LIBS -o $EXE_NAME\n     if [ -f $EXE_NAME ]; then\n \t./$EXE_NAME >& tmp.$FILE_NAME\n+    else\n+      echo \"compile error:\"\n+      echo \"$CXX $TESTNAME $LIBS -o $EXE_NAME\"\n     fi\n     if [ -s tmp.$FILE_NAME ]; then\n \tmv tmp.$FILE_NAME $FILE_NAME.xml"}]}