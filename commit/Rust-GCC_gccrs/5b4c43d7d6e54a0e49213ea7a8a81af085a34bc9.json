{"sha": "5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWI0YzQzZDdkNmU1NGEwZTQ5MjEzZWE3YThhODFhZjA4NWEzNGJjOQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2009-04-17T20:30:10Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-04-17T20:30:10Z"}, "message": "dbxout.c (dbxout_block): Reinstate test on TREE_USED.\n\n\t* dbxout.c (dbxout_block): Reinstate test on TREE_USED.\n\t* tree-ssa-live.c (remove_unused_scope_block_p): Update TREE_USED bit.\t* dbxout.c (dbxout_block): Reinstate test on TREE_USED.\n\t* tree-ssa-live.c (remove_unused_scope_block_p): Update TREE_USED bit.\n\nFrom-SVN: r146289", "tree": {"sha": "7385a95a993f6630e16b46680d8f0c287c12628b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7385a95a993f6630e16b46680d8f0c287c12628b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9/comments", "author": null, "committer": null, "parents": [{"sha": "b51605c41d1170c5e52f1a0abdd1a5a1fe4db3ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b51605c41d1170c5e52f1a0abdd1a5a1fe4db3ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b51605c41d1170c5e52f1a0abdd1a5a1fe4db3ed"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "ab237e8a96dc5c6044e3fb9219cf0acc932a6209", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9", "patch": "@@ -1,3 +1,8 @@\n+2009-04-17  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* dbxout.c (dbxout_block): Reinstate test on TREE_USED.\n+\t* tree-ssa-live.c (remove_unused_scope_block_p): Update TREE_USED bit.\n+\n 2009-04-17  Richard Guenther  <rguenther@suse.de>\n \n \t* tree-ssa-structalias.c (get_constraint_for_component_ref):"}, {"sha": "2182d78c20340d423a1f716dab37d569be8ebbaf", "filename": "gcc/dbxout.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9/gcc%2Fdbxout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9/gcc%2Fdbxout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdbxout.c?ref=5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9", "patch": "@@ -3594,7 +3594,7 @@ dbxout_block (tree block, int depth, tree args)\n   while (block)\n     {\n       /* Ignore blocks never expanded or otherwise marked as real.  */\n-      if (TREE_ASM_WRITTEN (block))\n+      if (TREE_USED (block) && TREE_ASM_WRITTEN (block))\n \t{\n \t  int did_output;\n \t  int blocknum = BLOCK_NUMBER (block);"}, {"sha": "5f3b9d86cc5862f55ad3d4d6483435c147ef38e2", "filename": "gcc/tree-ssa-live.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9/gcc%2Ftree-ssa-live.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9/gcc%2Ftree-ssa-live.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-live.c?ref=5b4c43d7d6e54a0e49213ea7a8a81af085a34bc9", "patch": "@@ -595,6 +595,8 @@ remove_unused_scope_block_p (tree scope)\n    /* Verfify that only blocks with source location set\n       are entry points to the inlined functions.  */\n      gcc_assert (BLOCK_SOURCE_LOCATION (scope) == UNKNOWN_LOCATION);\n+\n+   TREE_USED (scope) = !unused;\n    return unused;\n }\n "}]}