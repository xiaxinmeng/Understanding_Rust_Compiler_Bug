{"sha": "bbdb509856d39eedf5bfff25f845060a965d592a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJkYjUwOTg1NmQzOWVlZGY1YmZmZjI1Zjg0NTA2MGE5NjVkNTkyYQ==", "commit": {"author": {"name": "Maciej W. Rozycki", "email": "macro@codesourcery.com", "date": "2014-10-03T20:15:29Z"}, "committer": {"name": "Maciej W. Rozycki", "email": "macro@gcc.gnu.org", "date": "2014-10-03T20:15:29Z"}, "message": "e500.h (HARD_REGNO_CALLER_SAVE_MODE): Remove macro.\n\n\t* config/rs6000/e500.h (HARD_REGNO_CALLER_SAVE_MODE): Remove\n\tmacro.\n\t* config/rs6000/rs6000.h (HARD_REGNO_CALLER_SAVE_MODE): Handle\n\tTARGET_E500_DOUBLE case here.\n\nFrom-SVN: r215875", "tree": {"sha": "2870da67b6bec3c0fda07e0ff713131ce658a96c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2870da67b6bec3c0fda07e0ff713131ce658a96c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbdb509856d39eedf5bfff25f845060a965d592a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbdb509856d39eedf5bfff25f845060a965d592a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbdb509856d39eedf5bfff25f845060a965d592a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbdb509856d39eedf5bfff25f845060a965d592a/comments", "author": null, "committer": null, "parents": [{"sha": "6bc8a1261f5523c515ff7071ec6c188d99aa24ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6bc8a1261f5523c515ff7071ec6c188d99aa24ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6bc8a1261f5523c515ff7071ec6c188d99aa24ef"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "e3d54cde017e0142ef20bc60da267cc8fffdcb57", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbdb509856d39eedf5bfff25f845060a965d592a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbdb509856d39eedf5bfff25f845060a965d592a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bbdb509856d39eedf5bfff25f845060a965d592a", "patch": "@@ -1,3 +1,10 @@\n+2014-10-03  Maciej W. Rozycki  <macro@codesourcery.com>\n+\n+\t* config/rs6000/e500.h (HARD_REGNO_CALLER_SAVE_MODE): Remove\n+\tmacro.\n+\t* config/rs6000/rs6000.h (HARD_REGNO_CALLER_SAVE_MODE): Handle\n+\tTARGET_E500_DOUBLE case here.\n+\n 2014-10-03  Marc Glisse  <marc.glisse@inria.fr>\n \n \tPR c++/54427"}, {"sha": "d97dabc3c65f9198c65e0945e61a7e377aef2bf8", "filename": "gcc/config/rs6000/e500.h", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbdb509856d39eedf5bfff25f845060a965d592a/gcc%2Fconfig%2Frs6000%2Fe500.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbdb509856d39eedf5bfff25f845060a965d592a/gcc%2Fconfig%2Frs6000%2Fe500.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fe500.h?ref=bbdb509856d39eedf5bfff25f845060a965d592a", "patch": "@@ -43,12 +43,3 @@\n \t  error (\"E500 and FPRs not supported\");\t\t\t\\\n       }\t\t\t\t\t\t\t\t\t\\\n   } while (0)\n-\n-/* Override rs6000.h definition.  */\n-#undef HARD_REGNO_CALLER_SAVE_MODE\n-/* When setting up caller-save slots (MODE == VOIDmode) ensure we\n-   allocate space for DFmode.  Save gprs in the correct mode too.  */\n-#define HARD_REGNO_CALLER_SAVE_MODE(REGNO, NREGS, MODE) \\\n-  (TARGET_E500_DOUBLE && ((MODE) == VOIDmode || (MODE) == DFmode)\t\\\n-   ? DFmode\t\t\t\t\t\t\t\t\\\n-   : choose_hard_reg_mode ((REGNO), (NREGS), false))"}, {"sha": "01699f73ae54f56cec2f64e5b4b6d82f53391ec0", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbdb509856d39eedf5bfff25f845060a965d592a/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbdb509856d39eedf5bfff25f845060a965d592a/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=bbdb509856d39eedf5bfff25f845060a965d592a", "patch": "@@ -1178,9 +1178,11 @@ enum data_align { align_abi, align_opt, align_both };\n    && ((MODE) == VOIDmode || ALTIVEC_OR_VSX_VECTOR_MODE (MODE))\t\t\\\n    && FP_REGNO_P (REGNO)\t\t\t\t\t\t\\\n    ? V2DFmode\t\t\t\t\t\t\t\t\\\n-   : ((MODE) == TFmode && FP_REGNO_P (REGNO))\t\t\t\t\\\n+   : TARGET_E500_DOUBLE && ((MODE) == VOIDmode || (MODE) == DFmode)\t\\\n    ? DFmode\t\t\t\t\t\t\t\t\\\n-   : ((MODE) == TDmode && FP_REGNO_P (REGNO))\t\t\t\t\\\n+   : !TARGET_E500_DOUBLE && (MODE) == TFmode && FP_REGNO_P (REGNO)\t\\\n+   ? DFmode\t\t\t\t\t\t\t\t\\\n+   : !TARGET_E500_DOUBLE && (MODE) == TDmode && FP_REGNO_P (REGNO)\t\\\n    ? DImode\t\t\t\t\t\t\t\t\\\n    : choose_hard_reg_mode ((REGNO), (NREGS), false))\n "}]}