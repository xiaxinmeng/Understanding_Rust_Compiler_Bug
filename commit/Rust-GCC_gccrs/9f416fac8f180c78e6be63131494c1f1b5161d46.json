{"sha": "9f416fac8f180c78e6be63131494c1f1b5161d46", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY0MTZmYWM4ZjE4MGM3OGU2YmU2MzEzMTQ5NGMxZjFiNTE2MWQ0Ng==", "commit": {"author": {"name": "Michael Hayes", "email": "m.hayes@elec.canterbury.ac.nz", "date": "2000-12-16T23:41:44Z"}, "committer": {"name": "Michael Hayes", "email": "m.hayes@gcc.gnu.org", "date": "2000-12-16T23:41:44Z"}, "message": "c4x.h (REGISTER_TARGET_PRAGMAS): Call c4x_init_pragma.\n\n\t* config/c4x/c4x.h (REGISTER_TARGET_PRAGMAS): Call c4x_init_pragma.\n\n\t* config/c4x/c4x-protos.h (c4x_init_pragma): New prototype.\n\n\t* config/c4x/c4x.c (c4x_init_pragma): New function.\n\t(c_lex_func): New variable.\n\t(c4x_parse_pragma): Use c_lex_func.\n\nCo-Authored-By: Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>\n\nFrom-SVN: r38317", "tree": {"sha": "71b87136b9f8dce383b0758a078566ac1bcc48a2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71b87136b9f8dce383b0758a078566ac1bcc48a2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f416fac8f180c78e6be63131494c1f1b5161d46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f416fac8f180c78e6be63131494c1f1b5161d46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f416fac8f180c78e6be63131494c1f1b5161d46", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f416fac8f180c78e6be63131494c1f1b5161d46/comments", "author": null, "committer": null, "parents": [{"sha": "94eebed99ae75af66b357e96c5492de01ff4df7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/94eebed99ae75af66b357e96c5492de01ff4df7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/94eebed99ae75af66b357e96c5492de01ff4df7b"}], "stats": {"total": 35, "additions": 29, "deletions": 6}, "files": [{"sha": "1de2a260ba7c3366279b7b79bb8f65265bee0b24", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9f416fac8f180c78e6be63131494c1f1b5161d46", "patch": "@@ -1,3 +1,14 @@\n+2000-12-17  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n+            Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>\n+\n+\t* config/c4x/c4x.h (REGISTER_TARGET_PRAGMAS): Call c4x_init_pragma.\n+\n+\t* config/c4x/c4x-protos.h (c4x_init_pragma): New prototype.\n+\n+\t* config/c4x/c4x.c (c4x_init_pragma): New function.\n+\t(c_lex_func): New variable.\n+\t(c4x_parse_pragma): Use c_lex_func.\n+\n 2000-12-17  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n             Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>\n "}, {"sha": "8c8b77032b7cc5ec5d7387c189a9d13b6ec99938", "filename": "gcc/config/c4x/c4x-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2Fconfig%2Fc4x%2Fc4x-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2Fconfig%2Fc4x%2Fc4x-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x-protos.h?ref=9f416fac8f180c78e6be63131494c1f1b5161d46", "patch": "@@ -308,6 +308,7 @@ extern void c4x_pr_FUNC_IS_PURE\t\tPARAMS ((cpp_reader *));\n extern void c4x_pr_FUNC_NEVER_RETURNS\tPARAMS ((cpp_reader *));\n extern void c4x_pr_INTERRUPT\t\tPARAMS ((cpp_reader *));\n extern void c4x_pr_ignored\t\tPARAMS ((cpp_reader *));\n+extern void c4x_init_pragma\t\tPARAMS ((int (*) (tree *)));\n #endif\n \n #endif"}, {"sha": "775c7b6579be788d8fcc41ee2e380eb82123c151", "filename": "gcc/config/c4x/c4x.c", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2Fconfig%2Fc4x%2Fc4x.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2Fconfig%2Fc4x%2Fc4x.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.c?ref=9f416fac8f180c78e6be63131494c1f1b5161d46", "patch": "@@ -4391,6 +4391,16 @@ c4x_operand_subword (op, i, validate_address, mode)\n    -1 for a malformed pragma.  */\n #define BAD(msgid, arg) do { warning (msgid, arg); return -1; } while (0)\n \n+static int (*c_lex_func) (tree *);\n+\n+void\n+c4x_init_pragma (get_token)\n+  int (*get_token) PARAMS ((tree *));\n+{\n+  c_lex_func = get_token;\n+}\n+\n+\n static int\n c4x_parse_pragma (name, func, sect)\n      const char *name;\n@@ -4399,25 +4409,25 @@ c4x_parse_pragma (name, func, sect)\n {\n   tree f, s, x;\n \n-  if (c_lex (&x) != CPP_OPEN_PAREN)\n+  if (c_lex_func (&x) != CPP_OPEN_PAREN)\n     BAD (\"missing '(' after '#pragma %s' - ignored\", name);\n \n-  if (c_lex (&f) != CPP_NAME)\n+  if (c_lex_func (&f) != CPP_NAME)\n     BAD (\"missing function name in '#pragma %s' - ignored\", name);\n \n   if (sect)\n     {\n-      if (c_lex (&x) != CPP_COMMA)\n+      if (c_lex_func (&x) != CPP_COMMA)\n \tBAD (\"malformed '#pragma %s' - ignored\", name);\n-      if (c_lex (&s) != CPP_STRING)\n+      if (c_lex_func (&s) != CPP_STRING)\n \tBAD (\"missing section name in '#pragma %s' - ignored\", name);\n       *sect = s;\n     }\n \n-  if (c_lex (&x) != CPP_CLOSE_PAREN)\n+  if (c_lex_func (&x) != CPP_CLOSE_PAREN)\n     BAD (\"missing ')' for '#pragma %s' - ignored\", name);\n \n-  if (c_lex (&x) != CPP_EOF)\n+  if (c_lex_func (&x) != CPP_EOF)\n     warning (\"junk at end of '#pragma %s'\", name);\n \n   *func = f;"}, {"sha": "48345310e6b221d4276f495ba74905ab1d314b35", "filename": "gcc/config/c4x/c4x.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2Fconfig%2Fc4x%2Fc4x.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f416fac8f180c78e6be63131494c1f1b5161d46/gcc%2Fconfig%2Fc4x%2Fc4x.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.h?ref=9f416fac8f180c78e6be63131494c1f1b5161d46", "patch": "@@ -2385,6 +2385,7 @@ asm_fprintf (FILE, \"%s%d:\\n\", PREFIX, NUM)\n   cpp_register_pragma (PFILE, 0, \"FUNC_NO_GLOBAL_ASG\", c4x_pr_ignored);\t\\\n   cpp_register_pragma (PFILE, 0, \"FUNC_NO_IND_ASG\", c4x_pr_ignored);\t\\\n   cpp_register_pragma (PFILE, 0, \"INTERRUPT\", c4x_pr_INTERRUPT);\t\\\n+  c4x_init_pragma (&c_lex);\t\t\t\t\t\t\\\n } while (0)\n \n #define SET_DEFAULT_DECL_ATTRIBUTES(DECL, ATTRIBUTES) \\"}]}