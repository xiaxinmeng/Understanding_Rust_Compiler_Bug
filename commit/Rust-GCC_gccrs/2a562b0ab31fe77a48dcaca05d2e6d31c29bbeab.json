{"sha": "2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmE1NjJiMGFiMzFmZTc3YTQ4ZGNhY2EwNWQyZTZkMzFjMjliYmVhYg==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2011-04-05T10:04:44Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2011-04-05T10:04:44Z"}, "message": "re PR target/43920 (Choosing conditional execution over conditional branches for code size in some cases.)\n\n2011-04-05  Tom de Vries  <tom@codesourcery.com>\n\n\tPR target/43920\n\t* cfgcleanup.c (flow_find_cross_jump): Don't count USE or CLOBBER as\n\tinsn.\n\nFrom-SVN: r171976", "tree": {"sha": "efebfadb72641a3bc09407f8a2fef2b8cdf0f672", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efebfadb72641a3bc09407f8a2fef2b8cdf0f672"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab/comments", "author": null, "committer": null, "parents": [{"sha": "0248bceb7ba8fa849dc3c06d170edb8ce6d96d14", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0248bceb7ba8fa849dc3c06d170edb8ce6d96d14", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0248bceb7ba8fa849dc3c06d170edb8ce6d96d14"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "6cde480d9d884f92f57ba989006e6a1557189fed", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab", "patch": "@@ -1,3 +1,9 @@\n+2011-04-05  Tom de Vries  <tom@codesourcery.com>\n+\n+\tPR target/43920\n+\t* cfgcleanup.c (flow_find_cross_jump): Don't count USE or CLOBBER as\n+\tinsn.\n+\n 2011-04-05  Tom de Vries  <tom@codesourcery.com>\n \n \t* cfgcleanup.c (try_crossjump_bb): Remove 2 superfluous variables."}, {"sha": "112cb4907b42ca320ce13329d2a37c8179e4f6e8", "filename": "gcc/cfgcleanup.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab/gcc%2Fcfgcleanup.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab/gcc%2Fcfgcleanup.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgcleanup.c?ref=2a562b0ab31fe77a48dcaca05d2e6d31c29bbeab", "patch": "@@ -1070,6 +1070,7 @@ flow_find_cross_jump (basic_block bb1, basic_block bb2, rtx *f1, rtx *f2)\n {\n   rtx i1, i2, last1, last2, afterlast1, afterlast2;\n   int ninsns = 0;\n+  rtx p1;\n \n   /* Skip simple jumps at the end of the blocks.  Complex jumps still\n      need to be compared for equivalence, which we'll do below.  */\n@@ -1118,7 +1119,9 @@ flow_find_cross_jump (basic_block bb1, basic_block bb2, rtx *f1, rtx *f2)\n \n \t  afterlast1 = last1, afterlast2 = last2;\n \t  last1 = i1, last2 = i2;\n-\t  ninsns++;\n+\t  p1 = PATTERN (i1);\n+\t  if (!(GET_CODE (p1) == USE || GET_CODE (p1) == CLOBBER))\n+\t    ninsns++;\n \t}\n \n       i1 = PREV_INSN (i1);"}]}