{"sha": "b8232327261f524f3d69e51219035fbfa2a82093", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjgyMzIzMjcyNjFmNTI0ZjNkNjllNTEyMTkwMzVmYmZhMmE4MjA5Mw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-10-24T00:23:35Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-10-24T00:23:35Z"}, "message": "Replace with working version.\n\nFrom-SVN: r5873", "tree": {"sha": "c4dd0528bbbc21b85ca460a1663789e4fd7bbe6f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4dd0528bbbc21b85ca460a1663789e4fd7bbe6f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b8232327261f524f3d69e51219035fbfa2a82093", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8232327261f524f3d69e51219035fbfa2a82093", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8232327261f524f3d69e51219035fbfa2a82093", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8232327261f524f3d69e51219035fbfa2a82093/comments", "author": null, "committer": null, "parents": [{"sha": "dc29832d1a13961b39356c3808df46f78aa3b8ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc29832d1a13961b39356c3808df46f78aa3b8ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc29832d1a13961b39356c3808df46f78aa3b8ab"}], "stats": {"total": 71, "additions": 56, "deletions": 15}, "files": [{"sha": "a92039725fb282f1cf84a4714f5741512f6ded18", "filename": "gcc/config/mips/iris5.h", "status": "modified", "additions": 56, "deletions": 15, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b8232327261f524f3d69e51219035fbfa2a82093/gcc%2Fconfig%2Fmips%2Firis5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b8232327261f524f3d69e51219035fbfa2a82093/gcc%2Fconfig%2Fmips%2Firis5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis5.h?ref=b8232327261f524f3d69e51219035fbfa2a82093", "patch": "@@ -17,27 +17,68 @@ You should have received a copy of the GNU General Public License\n along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n-#define TARGET_DEFAULT MASK_ABICALLS\n+#define\tTARGET_DEFAULT\tMASK_ABICALLS\n #define ABICALLS_ASM_OP \".option pic2\"\n \n+#define OBJECT_FORMAT_ELF\n+\n #include \"mips/iris4.h\"\n \n-/* mips-tfile doesn't work yet.  No debugging is supported.  */\n-#undef ASM_FINAL_SPEC\n-#undef SDB_DEBUGGING_INFO\n-#undef DBX_DEBUGGING_INFO\n+/* Specify size_t, ptrdiff_t, and wchar_t types.  */\n+#undef\tSIZE_TYPE\n+#undef\tPTRDIFF_TYPE\n+#undef\tWCHAR_TYPE\n+#undef\tWCHAR_TYPE_SIZE\n+\n+#define SIZE_TYPE\t\"unsigned int\"\n+#define PTRDIFF_TYPE\t\"int\"\n+#define WCHAR_TYPE\t\"long int\"\n+#define WCHAR_TYPE_SIZE\tLONG_TYPE_SIZE\n+\n+/* ??? _MIPS_SIM and _MIPS_SZPTR should eventually depend on options when\n+   options for them exist.  */\n \n #undef CPP_PREDEFINES\n-#define CPP_PREDEFINES\t\"\\\n--D_MIPS_FPSET=16 -D_MIPS_ISA=_MIPS_ISA_MIPS1 -D_MIPS_SIM_ABI32 \\\n--Dunix -Dmips -Dsgi -DSVR3 -Dhost_mips -DMIPSEB -DSYSTYPE_SYSV \\\n--D_SYSTYPE_SVR4 -D_LONGLONG -D_MIPSEB -D_SGI_SOURCE -D__SDO__  \\\n--D_MIPS_SZLONG=32 -D_MIPS_SZINT=32 -D_MIPS_SZPTR=32 -D_SVR4_SOURCE \\\n--Asystem(unix) -Asystem(svr3) -Acpu(mips) -Amachine(mips)\"\n+#define CPP_PREDEFINES \\\n+ \"-Dunix -Dmips -Dsgi -Dhost_mips -DMIPSEB -DSYSTYPE_SVR4 \\\n+  -D_SVR4_SOURCE -D_MODERN_C -D__DSO__ \\\n+  -D_MIPS_SIM=_MIPS_SIM_ABI32 -D_MIPS_SZPTR=32 \\\n+  -Asystem(unix) -Asystem(svr4) -Acpu(mips) -Amachine(sgi)\"\n \n-#undef ASM_SPEC\n-#define ASM_SPEC \"-elf -KPIC -EB %{O*:-O2 -fullasopt} %{!O*:-O1}\"\n+#undef CPP_SPEC\n+#define CPP_SPEC \"\\\n+%{!ansi:-D__EXTENSIONS__ -D_SGI_SOURCE -D_LONGLONG} \\\n+%{.S:\t-D_LANGUAGE_ASSEMBLY %{!ansi:-DLANGUAGE_ASSEMBLY}} \\\n+%{.cc:\t-D_LANGUAGE_C_PLUS_PLUS} \\\n+%{.cxx:\t-D_LANGUAGE_C_PLUS_PLUS} \\\n+%{.C:\t-D_LANGUAGE_C_PLUS_PLUS} \\\n+%{.m:\t-D_LANGUAGE_OBJECTIVE_C} \\\n+%{!.S: %{!.cc: %{!.cxx: %{!.C: %{!.m: -D_LANGUAGE_C %{!ansi:-DLANGUAGE_C}}}}}}\\\n+%{!mfp64: -D_MIPS_FPSET=16}%{mfp64: -D_MIPS_FPSET=32} \\\n+%{mips1: -D_MIPS_ISA=_MIPS_ISA_MIPS1} \\\n+%{mips2: -D_MIPS_ISA=_MIPS_ISA_MIPS2} \\\n+%{mips3: -D_MIPS_ISA=_MIPS_ISA_MIPS3} \\\n+%{!mips1: %{!mips2: %{!mips3: -D_MIPS_ISA=_MIPS_ISA_MIPS1}}} \\\n+%{!mint64: -D_MIPS_SZINT=32}%{mint64: -D_MIPS_SZINT=64} \\\n+%{!mlong64: -D_MIPS_SZLONG=32}%{mlong64: -D_MIPS_SZLONG=64}\"\n \n #undef LINK_SPEC\n-#define LINK_SPEC \"-elf -_SYSTYPE_SVR4 -require_dynamic_link \\\n- _rld_new_interface -no_unresolved -KPIC -call_shared -transitive_link\"\n+#define LINK_SPEC \"\\\n+%{G*} \\\n+%{!mgas: \\\n+\t%{mips1} %{mips2} %{mips3} %{bestGnum} \\\n+\t%{shared} %{non_shared} %{call_shared} %{no_archive} %{exact_version} \\\n+\t%{!shared: %{!non_shared: %{!call_shared: -call_shared}}} \\\n+\t-_SYSTYPE_SVR4 }\"\n+\n+#undef LIB_SPEC\n+#define LIB_SPEC \"%{p:-lprof1} %{pg:-lprof1} -lc crtn.o%s\"\n+\n+/* We do not want to run mips-tfile!  */\n+#undef ASM_FINAL_SPEC\n+\n+#undef OBJECT_FORMAT_COFF\n+\n+#undef MACHINE_TYPE\n+#define MACHINE_TYPE \"SGI running IRIX 5.0\"\n+"}]}