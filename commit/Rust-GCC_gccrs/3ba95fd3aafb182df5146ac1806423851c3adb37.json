{"sha": "3ba95fd3aafb182df5146ac1806423851c3adb37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2JhOTVmZDNhYWZiMTgyZGY1MTQ2YWMxODA2NDIzODUxYzNhZGIzNw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-12-07T23:53:35Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-12-07T23:53:35Z"}, "message": "(movhi pattern):  Fixed MEM to MEM move problem.\n\nFrom-SVN: r13246", "tree": {"sha": "1d7902653bf1b227dca0858d1b062e3e8bf5b5c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d7902653bf1b227dca0858d1b062e3e8bf5b5c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ba95fd3aafb182df5146ac1806423851c3adb37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ba95fd3aafb182df5146ac1806423851c3adb37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ba95fd3aafb182df5146ac1806423851c3adb37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ba95fd3aafb182df5146ac1806423851c3adb37/comments", "author": null, "committer": null, "parents": [{"sha": "e36a0077e39e83c5becbb280c059c953f59959e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e36a0077e39e83c5becbb280c059c953f59959e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e36a0077e39e83c5becbb280c059c953f59959e4"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "2f4e75bfb494fe97e38c6238eb6846d6c1312542", "filename": "gcc/config/1750a/1750a.md", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ba95fd3aafb182df5146ac1806423851c3adb37/gcc%2Fconfig%2F1750a%2F1750a.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ba95fd3aafb182df5146ac1806423851c3adb37/gcc%2Fconfig%2F1750a%2F1750a.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2F1750a%2F1750a.md?ref=3ba95fd3aafb182df5146ac1806423851c3adb37", "patch": "@@ -431,15 +431,29 @@\n       }\n   \")\n \n-(define_insn \"movhi\"\n+;; The movhi pattern.\n+\n+(define_insn \"\"\n   [(set (match_operand:HI 0 \"general_operand\" \"=r,r,m\")\n         (match_operand:HI 1 \"general_operand\"  \"r,m,r\"))]\n-  \"\"\n+  \"register_operand (operands[0], HImode) ||\n+   register_operand (operands[1], HImode)\"\n   \"@\n     dlr  r%0,r%1\n     dl   r%0,%1\n     dst  r%1,%0 \")\n \n+(define_expand \"movhi\"\n+  [(set (match_operand:HI 0 \"general_operand\" \"=g\")\n+        (match_operand:HI 1 \"general_operand\"  \"g\"))]\n+  \"\"\n+  \"\n+   {\n+    if (GET_CODE(operands[0]) == MEM &&\n+        GET_CODE(operands[1]) == MEM)\n+      operands[1] = force_reg (HImode, operands[1]);\n+   }\")\n+\n \n ;; Single-Float moves are similar to HImode moves\n "}]}