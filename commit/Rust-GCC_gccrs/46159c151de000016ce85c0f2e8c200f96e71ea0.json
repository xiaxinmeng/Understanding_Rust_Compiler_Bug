{"sha": "46159c151de000016ce85c0f2e8c200f96e71ea0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDYxNTljMTUxZGUwMDAwMTZjZTg1YzBmMmU4YzIwMGY5NmU3MWVhMA==", "commit": {"author": {"name": "Bruce Korb", "email": "bkorb@gnu.org", "date": "2000-12-27T15:46:42Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2000-12-27T15:46:42Z"}, "message": "\"test\" is better at testing for directories than \"ls\"\n\nFrom-SVN: r38499", "tree": {"sha": "247b709b125aaca45af345709ef65cd26159e99b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/247b709b125aaca45af345709ef65cd26159e99b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/46159c151de000016ce85c0f2e8c200f96e71ea0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46159c151de000016ce85c0f2e8c200f96e71ea0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/46159c151de000016ce85c0f2e8c200f96e71ea0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/46159c151de000016ce85c0f2e8c200f96e71ea0/comments", "author": {"login": "brkorb", "id": 1242936, "node_id": "MDQ6VXNlcjEyNDI5MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1242936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brkorb", "html_url": "https://github.com/brkorb", "followers_url": "https://api.github.com/users/brkorb/followers", "following_url": "https://api.github.com/users/brkorb/following{/other_user}", "gists_url": "https://api.github.com/users/brkorb/gists{/gist_id}", "starred_url": "https://api.github.com/users/brkorb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brkorb/subscriptions", "organizations_url": "https://api.github.com/users/brkorb/orgs", "repos_url": "https://api.github.com/users/brkorb/repos", "events_url": "https://api.github.com/users/brkorb/events{/privacy}", "received_events_url": "https://api.github.com/users/brkorb/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "47986760dd977164fb821e3d6a722899e0ea783f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47986760dd977164fb821e3d6a722899e0ea783f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47986760dd977164fb821e3d6a722899e0ea783f"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "ae909575f00793810ea5d1e6bbcd5a83bc28f4de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46159c151de000016ce85c0f2e8c200f96e71ea0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46159c151de000016ce85c0f2e8c200f96e71ea0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=46159c151de000016ce85c0f2e8c200f96e71ea0", "patch": "@@ -3,6 +3,7 @@\n \t* fixinc/Makefile.in: fix for ancient Bourne shell\n \t* fixinc/Makefile.BEOS: obsolete\n \t* fixinc/Makefile.DOS: obsolete\n+\t* fixinc/fixincl.sh(LINKS): use `test -d' rather than `ls' for testing\n \n 2000-12-27  Bernd Schmidt  <bernds@redhat.com>\n "}, {"sha": "18b5fb24651367155429f449e27c8cc3534015ed", "filename": "gcc/fixinc/fixincl.sh", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/46159c151de000016ce85c0f2e8c200f96e71ea0/gcc%2Ffixinc%2Ffixincl.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/46159c151de000016ce85c0f2e8c200f96e71ea0/gcc%2Ffixinc%2Ffixincl.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.sh?ref=46159c151de000016ce85c0f2e8c200f96e71ea0", "patch": "@@ -449,11 +449,11 @@ if $LINKS; then\n   all_dirs=`find . -type l -print`\n   for file in $all_dirs\n   do\n-    if ls -lLd $file > /dev/null\n-    then :\n-    else rm -f $file\n-         test $VERBOSE -gt 3 && echo \"  removed $file\"\n-         rmdir `dirname $file` > /dev/null && \\\n+    if test ! -d $file\n+    then\n+      rm -f $file\n+      test $VERBOSE -gt 3 && echo \"  removed $file\"\n+      rmdir `dirname $file` > /dev/null && \\\n            test $VERBOSE -gt 3 && \\\n            echo \"  removed `dirname $file`\"\n     fi"}]}