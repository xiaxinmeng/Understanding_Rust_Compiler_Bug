{"sha": "4893584c6cca1f77531b40bca12b0a5c46281e95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDg5MzU4NGM2Y2NhMWY3NzUzMWI0MGJjYTEyYjBhNWM0NjI4MWU5NQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T21:08:43Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T21:08:43Z"}, "message": "(flush_register_windows, goto_handler_and_restore):\n\nGive names to these patterns so they are easier to use.\n\nFrom-SVN: r3607", "tree": {"sha": "fc4b0b530bb9240bd63eae5fd37a4648fd7e5094", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fc4b0b530bb9240bd63eae5fd37a4648fd7e5094"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4893584c6cca1f77531b40bca12b0a5c46281e95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4893584c6cca1f77531b40bca12b0a5c46281e95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4893584c6cca1f77531b40bca12b0a5c46281e95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4893584c6cca1f77531b40bca12b0a5c46281e95/comments", "author": null, "committer": null, "parents": [{"sha": "51ec2375642c91567b231ddb9e06f61e33734a89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51ec2375642c91567b231ddb9e06f61e33734a89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51ec2375642c91567b231ddb9e06f61e33734a89"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "5f8afeb5eb3d65bd594df488695fd8f4e109308f", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4893584c6cca1f77531b40bca12b0a5c46281e95/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4893584c6cca1f77531b40bca12b0a5c46281e95/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=4893584c6cca1f77531b40bca12b0a5c46281e95", "patch": "@@ -2756,8 +2756,7 @@\n   \"\n {\n   /* Trap instruction to flush all the registers window.  */\n-  emit_insn (gen_rtx (UNSPEC_VOLATILE, VOIDmode,\n-\t\t      gen_rtvec (1, const0_rtx), 0));\n+  emit_insn (gen_flush_register_windows ());\n   /* Load the fp value for the containing fn into %fp.\n      This is needed because operands[2] refers to %fp.\n      Virtual register instantiation fails if the virtual %fp isn't set from a\n@@ -2782,19 +2781,18 @@\n   emit_insn (gen_rtx (USE, VOIDmode, static_chain_rtx));\n   emit_insn (gen_rtx (USE, VOIDmode, gen_rtx (REG, SImode, 8)));\n   /* Return, restoring reg window and jumping to goto handler.  */\n-  emit_insn (gen_rtx (UNSPEC_VOLATILE, VOIDmode,\n-\t\t      gen_rtvec (1, const0_rtx), 1));\n+  emit_insn (gen_goto_handler_and_restore ());\n   DONE;\n }\")\n \n ;; Special trap insn to flush register windows.\n-(define_insn \"\"\n+(define_insn \"flush_register_windows\"\n   [(unspec_volatile [(const_int 0)] 0)]\n   \"\"\n   \"ta 3\"\n   [(set_attr \"type\" \"misc\")])\n \n-(define_insn \"\"\n+(define_insn \"goto_handler_and_restore\"\n   [(unspec_volatile [(const_int 0)] 1)]\n   \"\"\n   \"jmp %%o0+0\\;restore\""}]}