{"sha": "b0c2c850bd1a715b2b30e21323476e8e9216a572", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjBjMmM4NTBiZDFhNzE1YjJiMzBlMjEzMjM0NzZlOGU5MjE2YTU3Mg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2008-12-13T00:40:06Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2008-12-13T00:40:06Z"}, "message": "atomic.cc: Correct guards to match mutex.cc.\n\n2008-12-12  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* src/atomic.cc: Correct guards to match mutex.cc.\n\nFrom-SVN: r142735", "tree": {"sha": "7bacfce1b1bf0afbea40594ed8846677b0138198", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7bacfce1b1bf0afbea40594ed8846677b0138198"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b0c2c850bd1a715b2b30e21323476e8e9216a572", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0c2c850bd1a715b2b30e21323476e8e9216a572", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0c2c850bd1a715b2b30e21323476e8e9216a572", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0c2c850bd1a715b2b30e21323476e8e9216a572/comments", "author": null, "committer": null, "parents": [{"sha": "d9db9855de30d4394b7855ef0833c6bd89704205", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9db9855de30d4394b7855ef0833c6bd89704205", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d9db9855de30d4394b7855ef0833c6bd89704205"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "a9b95b1d61b9a5b4348e0a247a8fd115bac981bf", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0c2c850bd1a715b2b30e21323476e8e9216a572/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0c2c850bd1a715b2b30e21323476e8e9216a572/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=b0c2c850bd1a715b2b30e21323476e8e9216a572", "patch": "@@ -1,3 +1,7 @@\n+2008-12-12  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* src/atomic.cc: Correct guards to match mutex.cc.\n+\n 2008-12-11  Benjamin Kosnik  <bkoz@redhat.com>\n \t    Richard Henderson  <rth@redhat.com>\n "}, {"sha": "9e6444dcfe374cd03b572489f7264cc203ff0751", "filename": "libstdc++-v3/src/atomic.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b0c2c850bd1a715b2b30e21323476e8e9216a572/libstdc%2B%2B-v3%2Fsrc%2Fatomic.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b0c2c850bd1a715b2b30e21323476e8e9216a572/libstdc%2B%2B-v3%2Fsrc%2Fatomic.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fsrc%2Fatomic.cc?ref=b0c2c850bd1a715b2b30e21323476e8e9216a572", "patch": "@@ -36,7 +36,7 @@\n \n namespace\n {\n-#ifdef _GLIBCXX_HAS_GTHREADS\n+#if defined(_GLIBCXX_HAS_GTHREADS) && defined(_GLIBCXX_USE_C99_STDINT_TR1)\n   std::mutex atomic_mutex;\n #endif\n \n@@ -56,7 +56,7 @@ namespace std\n     bool\n     atomic_flag::test_and_set(memory_order) volatile\n     {\n-#ifdef _GLIBCXX_HAS_GTHREADS\n+#if defined(_GLIBCXX_HAS_GTHREADS) && defined(_GLIBCXX_USE_C99_STDINT_TR1)\n       lock_guard<mutex> __lock(atomic_mutex);\n #endif\n       bool result = _M_i;\n@@ -67,7 +67,7 @@ namespace std\n     void\n     atomic_flag::clear(memory_order) volatile\n     {\n-#ifdef _GLIBCXX_HAS_GTHREADS\n+#if defined(_GLIBCXX_HAS_GTHREADS) && defined(_GLIBCXX_USE_C99_STDINT_TR1)\n       lock_guard<mutex> __lock(atomic_mutex);\n #endif\n       _M_i = false;"}]}