{"sha": "d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDIxYmVkZTNjMWJjN2M4Yzc1YmE0YzNmNjBlN2Q5ZjQ0YzZjYmQxNw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2004-09-21T00:08:53Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2004-09-21T00:08:53Z"}, "message": "re PR middle-end/17126 (ICE with -fno-unit-at-a-time and -O3)\n\n\tPR middle-end/17126\n\t* tree-optimize.c (update_inlined_to_pointers): Fix the recursion.\n\t(tree_rest_of_compilation): Cleanup.\n\nFrom-SVN: r87780", "tree": {"sha": "3c3c2b033d0031cf3fbfdf0e81ce324b658cf76a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c3c2b033d0031cf3fbfdf0e81ce324b658cf76a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17/comments", "author": null, "committer": null, "parents": [{"sha": "37337e55bffa99e90c65939ab893dbfabf64fa06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/37337e55bffa99e90c65939ab893dbfabf64fa06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/37337e55bffa99e90c65939ab893dbfabf64fa06"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "068db13818e88351b1fa59f4c5ab4eb3d1c8722d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17", "patch": "@@ -1,3 +1,9 @@\n+2004-09-21  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR middle-end/17126\n+\t* tree-optimize.c (update_inlined_to_pointers): Fix the recursion.\n+\t(tree_rest_of_compilation): Cleanup.\n+\n 2004-09-20  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* config/s390/s390.c (s390_select_rtx_section): Remove."}, {"sha": "971f0629b4e4fec34d214299ee760f1b2fdf56e7", "filename": "gcc/tree-optimize.c", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17/gcc%2Ftree-optimize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17/gcc%2Ftree-optimize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-optimize.c?ref=d21bede3c1bc7c8c75ba4c3f60e7d9f44c6cbd17", "patch": "@@ -553,7 +553,7 @@ update_inlined_to_pointers (struct cgraph_node *node,\n       if (e->callee->global.inlined_to)\n \t{\n \t  e->callee->global.inlined_to = inlined_to;\n-\t  update_inlined_to_pointers (e->callee, node);\n+\t  update_inlined_to_pointers (e->callee, inlined_to);\n \t}\n     }\n }\n@@ -653,15 +653,9 @@ tree_rest_of_compilation (tree fndecl, bool nested_p)\n \t    cgraph_remove_edge (node->callees);\n \t  node->callees = saved_node->callees;\n \t  saved_node->callees = NULL;\n+\t  update_inlined_to_pointers (node, node);\n \t  for (e = node->callees; e; e = e->next_callee)\n-\t    {\n-\t      if (e->callee->global.inlined_to)\n-\t\t{\n-\t\t  e->callee->global.inlined_to = node;\n-\t\t  update_inlined_to_pointers (e->callee, node);\n-\t\t}\n-\t      e->caller = node;\n-\t    }\n+\t    e->caller = node;\n \t  cgraph_remove_node (saved_node);\n \t}\n     }"}]}