{"sha": "a6392fdc0b4210929c40be82e93184a20dba2766", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTYzOTJmZGMwYjQyMTA5MjljNDBiZTgyZTkzMTg0YTIwZGJhMjc2Ng==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2015-10-28T18:35:31Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2015-10-28T18:35:31Z"}, "message": "omp-low.c (MASK_GANG, [...]): Delete.\n\n\t* omp-low.c (MASK_GANG, MASK_WORKER, MASK_VECTOR): Delete.\n\t(extract_omp_for_data): Remove OpenACC special handling of\n\tchunking.\n\nFrom-SVN: r229499", "tree": {"sha": "33cce6b68c63275657fb5e4bef8e763bdd98d644", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/33cce6b68c63275657fb5e4bef8e763bdd98d644"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a6392fdc0b4210929c40be82e93184a20dba2766", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6392fdc0b4210929c40be82e93184a20dba2766", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6392fdc0b4210929c40be82e93184a20dba2766", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6392fdc0b4210929c40be82e93184a20dba2766/comments", "author": null, "committer": null, "parents": [{"sha": "d2d47a28d87986ac23c8ad451944d9bbdccae356", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2d47a28d87986ac23c8ad451944d9bbdccae356", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2d47a28d87986ac23c8ad451944d9bbdccae356"}], "stats": {"total": 19, "additions": 4, "deletions": 15}, "files": [{"sha": "bc863ce1025134d0ed7c4893807558dc56c9917e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6392fdc0b4210929c40be82e93184a20dba2766/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6392fdc0b4210929c40be82e93184a20dba2766/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a6392fdc0b4210929c40be82e93184a20dba2766", "patch": "@@ -1,5 +1,9 @@\n 2015-10-28  Nathan Sidwell  <nathan@codesourcery.com>\n \n+\t* omp-low.c (MASK_GANG, MASK_WORKER, MASK_VECTOR): Delete.\n+\t(extract_omp_for_data): Remove OpenACC special handling of\n+\tchunking.\n+\n \t* config/nvptx/nvptx.c (nvptx_print_operand): Remove 'd' case.\n \t(struct parallel): Update comment.\n \t(nvptx_reorg): Likewise."}, {"sha": "6fe71c7453c3a41e08ccc051af0605ef4344ae6e", "filename": "gcc/omp-low.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a6392fdc0b4210929c40be82e93184a20dba2766/gcc%2Fomp-low.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a6392fdc0b4210929c40be82e93184a20dba2766/gcc%2Fomp-low.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-low.c?ref=a6392fdc0b4210929c40be82e93184a20dba2766", "patch": "@@ -137,12 +137,6 @@ struct omp_region\n   gomp_ordered *ord_stmt;\n };\n \n-/* Levels of parallelism as defined by OpenACC.  Increasing numbers\n-   correspond to deeper loop nesting levels.  */\n-#define MASK_GANG 1\n-#define MASK_WORKER 2\n-#define MASK_VECTOR 4\n-\n /* Context structure.  Used to store information about each parallel\n    directive in the code.  */\n \n@@ -840,15 +834,6 @@ extract_omp_for_data (gomp_for *for_stmt, struct omp_for_data *fd,\n     }\n   else if (loops)\n     loops[0] = fd->loop;\n-\n-  /* For OpenACC loops, force a chunk size of one, as this avoids the default\n-    scheduling where several subsequent iterations are being executed by the\n-    same thread.  */\n-  if (gimple_omp_for_kind (for_stmt) == GF_OMP_FOR_KIND_OACC_LOOP)\n-    {\n-      gcc_assert (fd->chunk_size == NULL_TREE);\n-      fd->chunk_size = build_int_cst (TREE_TYPE (fd->loop.v), 1);\n-    }\n }\n \n "}]}