{"sha": "5cb10f0e9753338f38f39d6e6e5317f76167b061", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWNiMTBmMGU5NzUzMzM4ZjM4ZjM5ZDZlNmU1MzE3Zjc2MTY3YjA2MQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-21T18:59:52Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-21T18:59:52Z"}, "message": "When making tm.h from config/vax/vms.h, change\nany #include \"vax/*.h\" directives to use native VMS file syntax.\n\nFrom-SVN: r3813", "tree": {"sha": "702d6d3abf099ca820449deadef1b7f85487f934", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/702d6d3abf099ca820449deadef1b7f85487f934"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5cb10f0e9753338f38f39d6e6e5317f76167b061", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cb10f0e9753338f38f39d6e6e5317f76167b061", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5cb10f0e9753338f38f39d6e6e5317f76167b061", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5cb10f0e9753338f38f39d6e6e5317f76167b061/comments", "author": null, "committer": null, "parents": [{"sha": "1bb53f1878a3a81e752e89bfc04f2e3572de892d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bb53f1878a3a81e752e89bfc04f2e3572de892d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bb53f1878a3a81e752e89bfc04f2e3572de892d"}], "stats": {"total": 27, "additions": 25, "deletions": 2}, "files": [{"sha": "4fe4e5ea669ac756b554e233ba33afcd363e2231", "filename": "gcc/vmsconfig.com", "status": "modified", "additions": 25, "deletions": 2, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5cb10f0e9753338f38f39d6e6e5317f76167b061/gcc%2Fvmsconfig.com", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5cb10f0e9753338f38f39d6e6e5317f76167b061/gcc%2Fvmsconfig.com", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvmsconfig.com?ref=5cb10f0e9753338f38f39d6e6e5317f76167b061", "patch": "@@ -30,8 +30,31 @@ $EOD\n $ echo \"Created `hconfig.h'.\n $ !\n $ if f$search(\"tm.h\") .nes. \"\" then delete tm.h.*\n-$ copy [.config.vax]vms.h []tm.h\n-$ echo \"Linked `tm.h' to `[.config.vax]vms.h'.\n+$!! copy [.config.vax]vms.h []tm.h\n+$ edit/tpu/nojournal/nosection/nodisplay/command=sys$input -\n+        [.config.vax]vms.h /output=[]tm.h\n+$DECK\n+!\n+!  Copy file, changing lines of the form\n+!\t#include \"vax/*\"\n+!  into\n+!\t#include \"[.config.vax]*\"\n+!\n+   file := CREATE_BUFFER(\"file\", GET_INFO(COMMAND_LINE, \"file_name\"));\n+   targ := LINE_BEGIN & '#include' & SPAN(ASCII(32)+ASCII(9)) & '\"vax/';\n+   rang := CREATE_RANGE(BEGINNING_OF(file), END_OF(file));\n+   LOOP\n+      incl := SEARCH_QUIETLY(targ, FORWARD, EXACT, rang);\n+      EXITIF incl = 0;\n+      POSITION(BEGINNING_OF(incl));\n+      ERASE(incl);\n+      COPY_TEXT('#include \"[.config.vax]');\n+      rang := CREATE_RANGE(END_OF(incl), END_OF(file));\n+   ENDLOOP;\n+   WRITE_FILE(file, GET_INFO(COMMAND_LINE, \"output_file\"));\n+   QUIT\n+$EOD\n+$ echo \"Generated `tm.h' from `[.config.vax]vms.h'.\n $ !\n $ if f$search(\"md.\") .nes. \"\" then delete md..*\n $ copy [.config.vax]vax.md []md."}]}