{"sha": "7610f2ce1bff1c54feeb451f0b40dcc3d3350389", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzYxMGYyY2UxYmZmMWM1NGZlZWI0NTFmMGI0MGRjYzNkMzM1MDM4OQ==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@casey.cygnus.com", "date": "2000-01-25T05:53:12Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-01-25T05:53:12Z"}, "message": "pt.c (maybe_fold_nontype_arg): Do nothing if we're not in a template.\n\n        * pt.c (maybe_fold_nontype_arg): Do nothing if we're not in a\n        template.\n\n        * decl2.c (mark_used): Do instantiate inlines that have been\n        explicitly instantiated.\n\nFrom-SVN: r31601", "tree": {"sha": "aaffed3fd1d404bedd192dc2f7f42e8be8990999", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aaffed3fd1d404bedd192dc2f7f42e8be8990999"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7610f2ce1bff1c54feeb451f0b40dcc3d3350389", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7610f2ce1bff1c54feeb451f0b40dcc3d3350389", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7610f2ce1bff1c54feeb451f0b40dcc3d3350389", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7610f2ce1bff1c54feeb451f0b40dcc3d3350389/comments", "author": null, "committer": null, "parents": [{"sha": "6d4e202ef0717cf48bf209eddf628f942d444608", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d4e202ef0717cf48bf209eddf628f942d444608", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d4e202ef0717cf48bf209eddf628f942d444608"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "14cad83e5b1d3277815ae63e6b14ae0214df4921", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7610f2ce1bff1c54feeb451f0b40dcc3d3350389/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7610f2ce1bff1c54feeb451f0b40dcc3d3350389/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7610f2ce1bff1c54feeb451f0b40dcc3d3350389", "patch": "@@ -1,3 +1,11 @@\n+2000-01-24  Jason Merrill  <jason@casey.cygnus.com>\n+\n+\t* pt.c (maybe_fold_nontype_arg): Do nothing if we're not in a\n+\ttemplate.\n+\n+\t* decl2.c (mark_used): Do instantiate inlines that have been\n+\texplicitly instantiated.\n+\n 2000-01-24  Richard Henderson  <rth@cygnus.com>\n \n \t* call.c (build_over_call): Use expand_tree_builtin."}, {"sha": "56283c88fbe0c9a8de299416cf9a2a6663534113", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7610f2ce1bff1c54feeb451f0b40dcc3d3350389/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7610f2ce1bff1c54feeb451f0b40dcc3d3350389/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=7610f2ce1bff1c54feeb451f0b40dcc3d3350389", "patch": "@@ -5202,7 +5202,8 @@ mark_used (decl)\n      instantiation because that is not checked in instantiate_decl.  */\n   if ((TREE_CODE (decl) == FUNCTION_DECL || TREE_CODE (decl) == VAR_DECL)\n       && DECL_LANG_SPECIFIC (decl) && DECL_TEMPLATE_INFO (decl)\n-      && !DECL_EXPLICIT_INSTANTIATION (decl))\n+      && (!DECL_EXPLICIT_INSTANTIATION (decl)\n+\t  || (TREE_CODE (decl) == FUNCTION_DECL && DECL_INLINE (decl))))\n     instantiate_decl (decl);\n }\n "}, {"sha": "701ec9bb097b54d4b4ddd5689404232862c80d88", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7610f2ce1bff1c54feeb451f0b40dcc3d3350389/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7610f2ce1bff1c54feeb451f0b40dcc3d3350389/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=7610f2ce1bff1c54feeb451f0b40dcc3d3350389", "patch": "@@ -5121,6 +5121,11 @@ static tree\n maybe_fold_nontype_arg (arg)\n      tree arg;\n {\n+  /* If we're not in a template, ARG is already as simple as it's going to\n+     get, and trying to reprocess the trees will break.  */\n+  if (! processing_template_decl)\n+    return arg;\n+\n   if (TREE_CODE_CLASS (TREE_CODE (arg)) != 't'\n       && !uses_template_parms (arg))\n     {"}]}