{"sha": "d986066d17e534ec854499decc44436559a2db5d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDk4NjA2NmQxN2U1MzRlYzg1NDQ5OWRlY2M0NDQzNjU1OWEyZGI1ZA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-29T10:32:18Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-08-29T10:32:18Z"}, "message": "[multiple changes]\n\n2011-08-29  Robert Dewar  <dewar@adacore.com>\n\n\t* snames.adb-tmpl, sem_ch13.adb: Minor reformatting\n\tMinor code reorganization.\n\n2011-08-29  Bob Duff  <duff@adacore.com>\n\n\t* usage.adb (-gnatwy): Fix documentation: this switch applies to Ada\n\t2012, not just Ada 2005.\n\n2011-08-29  Vincent Celier  <celier@adacore.com>\n\n\t* gnat_ugn.texi: Indicate that when the compiler is called by gnatmake\n\twith a project file or with gprbuid, if -gnatep= is specified, the\n\tbuilder may need to be invoked with -x.\n\n2011-08-29  Tristan Gingold  <gingold@adacore.com>\n\n\t* a-exexpr-gcc.adb: Minor comment fix.\n\nFrom-SVN: r178192", "tree": {"sha": "572d399be53e494cace1738e96d721b8531789ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/572d399be53e494cace1738e96d721b8531789ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d986066d17e534ec854499decc44436559a2db5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d986066d17e534ec854499decc44436559a2db5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d986066d17e534ec854499decc44436559a2db5d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d986066d17e534ec854499decc44436559a2db5d/comments", "author": null, "committer": null, "parents": [{"sha": "ff4f0ed0936a9286310afadf6406386a1b198278", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff4f0ed0936a9286310afadf6406386a1b198278", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff4f0ed0936a9286310afadf6406386a1b198278"}], "stats": {"total": 68, "additions": 43, "deletions": 25}, "files": [{"sha": "d6e5955949aee8e3f41b1e499fe076d6b7656e6d", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=d986066d17e534ec854499decc44436559a2db5d", "patch": "@@ -1,3 +1,23 @@\n+2011-08-29  Robert Dewar  <dewar@adacore.com>\n+\n+\t* snames.adb-tmpl, sem_ch13.adb: Minor reformatting\n+\tMinor code reorganization.\n+\n+2011-08-29  Bob Duff  <duff@adacore.com>\n+\n+\t* usage.adb (-gnatwy): Fix documentation: this switch applies to Ada\n+\t2012, not just Ada 2005.\n+\n+2011-08-29  Vincent Celier  <celier@adacore.com>\n+\n+\t* gnat_ugn.texi: Indicate that when the compiler is called by gnatmake\n+\twith a project file or with gprbuid, if -gnatep= is specified, the\n+\tbuilder may need to be invoked with -x.\n+\n+2011-08-29  Tristan Gingold  <gingold@adacore.com>\n+\n+\t* a-exexpr-gcc.adb: Minor comment fix.\n+\n 2011-08-29  Robert Dewar  <dewar@adacore.com>\n \n \t* sem_ch8.adb: Minor reformatting."}, {"sha": "ac0272df8a086f1233f0bb1aad1d5c296148f7aa", "filename": "gcc/ada/a-exexpr-gcc.adb", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fa-exexpr-gcc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fa-exexpr-gcc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-exexpr-gcc.adb?ref=d986066d17e534ec854499decc44436559a2db5d", "patch": "@@ -567,8 +567,7 @@ package body Exception_Propagation is\n \n       --  Perform a standard raise first. If a regular handler is found, it\n       --  will be entered after all the intermediate cleanups have run. If\n-      --  there is no regular handler, control will get back to after the\n-      --  call.\n+      --  there is no regular handler, it will return.\n \n       Unwind_RaiseException (GCC_Exception);\n "}, {"sha": "64a4489fbd2c4d558659f257334bf301a4d0927e", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=d986066d17e534ec854499decc44436559a2db5d", "patch": "@@ -7638,7 +7638,10 @@ preprocessing is triggered and parameterized.\n @cindex @option{-gnatep} (@command{gcc})\n This switch indicates to the compiler the file name (without directory\n information) of the preprocessor data file to use. The preprocessor data file\n-should be found in the source directories.\n+should be found in the source directories. Note that when the compiler is\n+called by a builder (@command{gnatmake} or @command{gprbuild}) with a project\n+file, if the object directory is not also a source directory, the builder needs\n+to be called with @option{-x}.\n \n @noindent\n A preprocessing data file is a text file with significant lines indicating"}, {"sha": "f7944012722c2dc7c9715618e1e6e94ccbd4ca53", "filename": "gcc/ada/sem_ch13.adb", "status": "modified", "additions": 13, "deletions": 17, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fsem_ch13.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fsem_ch13.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch13.adb?ref=d986066d17e534ec854499decc44436559a2db5d", "patch": "@@ -1541,10 +1541,10 @@ package body Sem_Ch13 is\n \n       procedure Check_Iterator_Functions;\n       --  Check that there is a single function in Default_Iterator attribute\n-      --  that  has the  proper type structure.\n+      --  has the proper type structure.\n \n       function Check_Primitive_Function (Subp : Entity_Id) return Boolean;\n-      --  Common legality check for the previoous two.\n+      --  Common legality check for the previoous two\n \n       -----------------------------------\n       -- Analyze_Stream_TSS_Definition --\n@@ -1688,6 +1688,7 @@ package body Sem_Ch13 is\n       ------------------------------\n \n       procedure Check_Indexing_Functions is\n+\n          procedure Check_One_Function (Subp : Entity_Id);\n          --  Check one possible interpretation\n \n@@ -1752,7 +1753,7 @@ package body Sem_Ch13 is\n          Default : Entity_Id;\n \n          function Valid_Default_Iterator (Subp : Entity_Id) return Boolean;\n-         --  Check one possible interpretation.\n+         --  Check one possible interpretation for validity\n \n          ----------------------------\n          -- Valid_Default_Iterator --\n@@ -1768,23 +1769,18 @@ package body Sem_Ch13 is\n                Formal := First_Formal (Subp);\n             end if;\n \n-            Formal := Next_Formal (Formal);\n-\n-            --  I don't see why the if is required here, we will return\n-            --  True anyway if Present (Formal) is false on first loop ???\n+            --  False if any subsequent formal has no default expression\n \n-            if No (Formal) then\n-               return True;\n+            Formal := Next_Formal (Formal);\n+            while Present (Formal) loop\n+               if No (Expression (Parent (Formal))) then\n+                  return False;\n+               end if;\n \n-            else\n-               while Present (Formal) loop\n-                  if No (Expression (Parent (Formal))) then\n-                     return False;\n-                  end if;\n+               Next_Formal (Formal);\n+            end loop;\n \n-                  Next_Formal (Formal);\n-               end loop;\n-            end if;\n+            --  True if all subsequent formals have default expressions\n \n             return True;\n          end Valid_Default_Iterator;"}, {"sha": "e6753b583de3e82f10537ca1211ecde86e9405b6", "filename": "gcc/ada/snames.adb-tmpl", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fsnames.adb-tmpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fsnames.adb-tmpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsnames.adb-tmpl?ref=d986066d17e534ec854499decc44436559a2db5d", "patch": "@@ -377,11 +377,11 @@ package body Snames is\n    begin\n       return Get_Name_Table_Byte (N) /= 0\n         and then (Ada_Version >= Ada_95\n-                  or else N not in Ada_95_Reserved_Words)\n+                   or else N not in Ada_95_Reserved_Words)\n         and then (Ada_Version >= Ada_2005\n-                  or else N not in Ada_2005_Reserved_Words)\n+                   or else N not in Ada_2005_Reserved_Words)\n         and then (Ada_Version >= Ada_2012\n-                  or else N not in Ada_2012_Reserved_Words);\n+                   or else N not in Ada_2012_Reserved_Words);\n    end Is_Keyword_Name;\n \n    ----------------------------"}, {"sha": "a4f0948369a19cdb23964054c43cb312f27ebb44", "filename": "gcc/ada/usage.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fusage.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d986066d17e534ec854499decc44436559a2db5d/gcc%2Fada%2Fusage.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fusage.adb?ref=d986066d17e534ec854499decc44436559a2db5d", "patch": "@@ -501,8 +501,8 @@ begin\n    Write_Line (\"        X    turn off warnings for export/import\");\n    Write_Line (\"        .x+  turn on warnings for non-local exception\");\n    Write_Line (\"        .X*  turn off warnings for non-local exception\");\n-   Write_Line (\"        y*+  turn on warnings for Ada 2005 incompatibility\");\n-   Write_Line (\"        Y    turn off warnings for Ada 2005 incompatibility\");\n+   Write_Line (\"        y*+  turn on warnings for Ada compatibility issues\");\n+   Write_Line (\"        Y    turn off warnings for Ada compatibility issues\");\n    Write_Line (\"        z*+  turn on warnings for suspicious \" &\n                                                   \"unchecked conversion\");\n    Write_Line (\"        Z    turn off warnings for suspicious \" &"}]}