{"sha": "0e5bad531b3ab78b6a4fd88e80db6232fe460107", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGU1YmFkNTMxYjNhYjc4YjZhNGZkODhlODBkYjYyMzJmZTQ2MDEwNw==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-10-01T03:23:10Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-10-01T03:23:10Z"}, "message": "reorg.c (optimize_skip): Do not thread a jump to a new target if doing so would invalidate the insn in...\n\n        * reorg.c (optimize_skip): Do not thread a jump to a new\n        target if doing so would invalidate the insn in the jump's\n        delay slot.\n\nFrom-SVN: r5540", "tree": {"sha": "d5ee58bbeee6d229a3cec1a73ff8484f6755b2d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d5ee58bbeee6d229a3cec1a73ff8484f6755b2d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0e5bad531b3ab78b6a4fd88e80db6232fe460107", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e5bad531b3ab78b6a4fd88e80db6232fe460107", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e5bad531b3ab78b6a4fd88e80db6232fe460107", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e5bad531b3ab78b6a4fd88e80db6232fe460107/comments", "author": null, "committer": null, "parents": [{"sha": "56ae2659f7473989e070ba6857cb5fdd8bf3958e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56ae2659f7473989e070ba6857cb5fdd8bf3958e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56ae2659f7473989e070ba6857cb5fdd8bf3958e"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "547cba989837300e8edea8b1ed80c1dee75c510c", "filename": "gcc/reorg.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0e5bad531b3ab78b6a4fd88e80db6232fe460107/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0e5bad531b3ab78b6a4fd88e80db6232fe460107/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=0e5bad531b3ab78b6a4fd88e80db6232fe460107", "patch": "@@ -1157,7 +1157,14 @@ optimize_skip (insn)\n \t  target_label = JUMP_LABEL (next_trial);\n \t  if (target_label == 0)\n \t    target_label = find_end_label ();\n-\t  reorg_redirect_jump (insn, target_label);\n+\n+\t  /* Recompute the flags based on TARGET_LABEL since threading\n+\t     the jump to TARGET_LABEL may change the direction of the\n+\t     jump (which may change the circumstances in which the\n+\t     delay slot is nullified).  */\n+\t  flags = get_jump_flags (insn, target_label);\n+\t  if (eligible_for_annul_true (insn, 0, trial, flags))\n+\t    reorg_redirect_jump (insn, target_label);\n \t}\n \n       INSN_ANNULLED_BRANCH_P (insn) = 1;"}]}