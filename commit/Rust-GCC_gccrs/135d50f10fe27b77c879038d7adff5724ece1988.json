{"sha": "135d50f10fe27b77c879038d7adff5724ece1988", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTM1ZDUwZjEwZmUyN2I3N2M4NzkwMzhkN2FkZmY1NzI0ZWNlMTk4OA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-07-15T16:50:41Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-07-15T16:50:41Z"}, "message": "Makefile.in (integrate.o): Add debug.h.\n\n\t* Makefile.in (integrate.o): Add debug.h.\n\t* integrate.c (debug.h): Add.\n\t(output_inline_function): Save, reset, and restore debug_hooks.\n\nFrom-SVN: r44026", "tree": {"sha": "e485f176d4023eda35351327c1ff8b699943d130", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e485f176d4023eda35351327c1ff8b699943d130"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/135d50f10fe27b77c879038d7adff5724ece1988", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/135d50f10fe27b77c879038d7adff5724ece1988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/135d50f10fe27b77c879038d7adff5724ece1988", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/135d50f10fe27b77c879038d7adff5724ece1988/comments", "author": null, "committer": null, "parents": [{"sha": "b762a0ef44e1be8bb7b768e19bba5f8e6de274a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b762a0ef44e1be8bb7b768e19bba5f8e6de274a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b762a0ef44e1be8bb7b768e19bba5f8e6de274a8"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "0246e85aa20feedaa2ff1342cb125127e8865262", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/135d50f10fe27b77c879038d7adff5724ece1988/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/135d50f10fe27b77c879038d7adff5724ece1988/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=135d50f10fe27b77c879038d7adff5724ece1988", "patch": "@@ -1,3 +1,9 @@\n+Sun Jul 15 12:53:51 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* Makefile.in (integrate.o): Add debug.h.\n+\t* integrate.c (debug.h): Add.\n+\t(output_inline_function): Save, reset, and restore debug_hooks.\n+\n 2001-07-15  Richard Henderson  <rth@redhat.com>\n \n \t* config/alpha/alpha.c (alpha_emit_xfloating_compare): Use CCmode"}, {"sha": "4fcba9bab0bdf78a14fd6714c76bfda57c2754c7", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/135d50f10fe27b77c879038d7adff5724ece1988/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/135d50f10fe27b77c879038d7adff5724ece1988/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=135d50f10fe27b77c879038d7adff5724ece1988", "patch": "@@ -1417,7 +1417,7 @@ emit-rtl.o : emit-rtl.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) $(TREE_H) flags.h \\\n    $(HASHTAB_H) $(TM_P_H)\n real.o : real.c $(CONFIG_H) $(SYSTEM_H) $(TREE_H) toplev.h $(TM_P_H)\n integrate.o : integrate.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) $(TREE_H) flags.h \\\n-   $(INTEGRATE_H) insn-config.h $(EXPR_H) real.h $(REGS_H) \\\n+   debug.h $(INTEGRATE_H) insn-config.h $(EXPR_H) real.h $(REGS_H) \\\n    intl.h function.h output.h $(RECOG_H) except.h toplev.h $(LOOP_H) \\\n    $(PARAMS_H) $(TM_P_H)\n jump.o : jump.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) flags.h hard-reg-set.h $(REGS_H) \\"}, {"sha": "bcb65e826a3e1e5d18311cc68258c96786e83c10", "filename": "gcc/integrate.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/135d50f10fe27b77c879038d7adff5724ece1988/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/135d50f10fe27b77c879038d7adff5724ece1988/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=135d50f10fe27b77c879038d7adff5724ece1988", "patch": "@@ -28,6 +28,7 @@ Boston, MA 02111-1307, USA.  */\n #include \"tm_p.h\"\n #include \"regs.h\"\n #include \"flags.h\"\n+#include \"debug.h\"\n #include \"insn-config.h\"\n #include \"expr.h\"\n #include \"output.h\"\n@@ -2866,6 +2867,7 @@ output_inline_function (fndecl)\n {\n   struct function *old_cfun = cfun;\n   enum debug_info_type old_write_symbols = write_symbols;\n+  struct debug_hooks *old_debug_hooks = debug_hooks;\n   struct function *f = DECL_SAVED_INSNS (fndecl);\n \n   cfun = f;\n@@ -2879,7 +2881,10 @@ output_inline_function (fndecl)\n \n   /* If requested, suppress debugging information.  */\n   if (f->no_debugging_symbols)\n-    write_symbols = NO_DEBUG;\n+    {\n+      write_symbols = NO_DEBUG;\n+      debug_hooks = &do_nothing_debug_hooks;\n+    }\n \n   /* Do any preparation, such as emitting abstract debug info for the inline\n      before it gets mangled by optimization.  */\n@@ -2895,6 +2900,7 @@ output_inline_function (fndecl)\n   cfun = old_cfun;\n   current_function_decl = old_cfun ? old_cfun->decl : 0;\n   write_symbols = old_write_symbols;\n+  debug_hooks = old_debug_hooks;\n }\n \n \f"}]}