{"sha": "1072ec3fdc48a1fe16084bdb046077bbb43e1216", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTA3MmVjM2ZkYzQ4YTFmZTE2MDg0YmRiMDQ2MDc3YmJiNDNlMTIxNg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-06-04T22:21:21Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2003-06-04T22:21:21Z"}, "message": "re PR bootstrap/3163 ([3.3 Only] gcc/aclocal.m4 mmap test fails on UnixWare 7.1.1)\n\n\tPR bootstrap/3163\n\t* aclocal.m4 (AC_FUNC_MMAP_ANYWHERE, AC_FUNC_MMAP_FILE): Delete.\n\t(gcc_AC_FUNC_MMAP_BLACKLIST): New.\n\t* configure.in: Check for sys/mman.h and mmap in AC_CHECK_HEADERS\n\tand AC_CHECK_FUNCS lists, respectively.  Use\n\tgcc_AC_FUNC_MMAP_BLACKLIST, not AC_FUNC_MMAP_ANYWHERE nor\n\tAC_FUNC_MMAP_FILE.\n\t* configure, config.in: Regenerate.\n\nFrom-SVN: r67467", "tree": {"sha": "4ea4a5a16922d570cbaeba85a4ea51dc9bcd29d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ea4a5a16922d570cbaeba85a4ea51dc9bcd29d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1072ec3fdc48a1fe16084bdb046077bbb43e1216", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1072ec3fdc48a1fe16084bdb046077bbb43e1216", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1072ec3fdc48a1fe16084bdb046077bbb43e1216", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1072ec3fdc48a1fe16084bdb046077bbb43e1216/comments", "author": null, "committer": null, "parents": [{"sha": "88d5a16e0b42cb6871bf30e770ee75feb0da967b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88d5a16e0b42cb6871bf30e770ee75feb0da967b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88d5a16e0b42cb6871bf30e770ee75feb0da967b"}], "stats": {"total": 1459, "additions": 433, "deletions": 1026}, "files": [{"sha": "708baca15b4a5f8349ca71939e863877b5a21e01", "filename": "gcc/ChangeLog", "status": "modified", "additions": 43, "deletions": 32, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1072ec3fdc48a1fe16084bdb046077bbb43e1216", "patch": "@@ -1,3 +1,14 @@\n+2003-06-04  Zack Weinberg  <zack@codesourcery.com>\n+\n+\tPR bootstrap/3163\n+\t* aclocal.m4 (AC_FUNC_MMAP_ANYWHERE, AC_FUNC_MMAP_FILE): Delete.\n+\t(gcc_AC_FUNC_MMAP_BLACKLIST): New.\n+\t* configure.in: Check for sys/mman.h and mmap in AC_CHECK_HEADERS\n+\tand AC_CHECK_FUNCS lists, respectively.  Use\n+\tgcc_AC_FUNC_MMAP_BLACKLIST, not AC_FUNC_MMAP_ANYWHERE nor\n+\tAC_FUNC_MMAP_FILE.\n+\t* configure, config.in: Regenerate.\n+\n 2003-06-04  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* arm/aout.h (ASM_OUTPUT_SKIP): Fix cast for format specifier warning.\n@@ -9,8 +20,8 @@\n \n 2003-06-04  Richard Henderson  <rth@redhat.com>\n \n-        * cse.c (find_best_addr): Consider binary operators even if second\n-        argument is not CONST_INT.\n+\t* cse.c (find_best_addr): Consider binary operators even if second\n+\targument is not CONST_INT.\n \n 2003-06-04  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n \n@@ -27,7 +38,7 @@\n \n 2003-06-04  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n-\t* i370.c (mvs_function_name_length): Fix signed/unsigned warnings. \n+\t* i370.c (mvs_function_name_length): Fix signed/unsigned warnings.\n \t* i370.h (mvs_function_name_length): Likewise.\n \t* i960.h (CONSTANT_ALIGNMENT): Likewise.\n \t* mips/linux.h (ASM_OUTPUT_ALIGNED_BSS): Likewise.\n@@ -72,8 +83,8 @@\n \n 2003-06-04  Aldy Hernandez  <aldyh@redhat.com>\n \n-        * config/rs6000/rs6000.c (rs6000_complex_function_value): Unpack\n-        complex numbers <= 32 bits into two registers.\n+\t* config/rs6000/rs6000.c (rs6000_complex_function_value): Unpack\n+\tcomplex numbers <= 32 bits into two registers.\n \n 2003-06-04  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n@@ -83,7 +94,7 @@\n \t* arm/aof.h (ASM_OUTPUT_COMMON, ASM_OUTPUT_LOCAL): Likewise.\n \t* arm/pe.h (ASM_OUTPUT_COMMON): Likewise.\n \t* avr.h (ASM_OUTPUT_COMMON, ASM_GENERATE_INTERNAL_LABEL,\n-\tASM_OUTPUT_SKIP): Likewise. \n+\tASM_OUTPUT_SKIP): Likewise.\n \t* c4x.h (ASM_GENERATE_INTERNAL_LABEL): Likewise.\n \t* dsp16xx.h (ASM_GENERATE_INTERNAL_LABEL): Likewise.\n \t* h8300.h (ASM_GENERATE_INTERNAL_LABEL, ASM_OUTPUT_COMMON):\n@@ -113,15 +124,15 @@\n \n 2003-06-04  Richard Henderson  <rth@redhat.com>\n \n-        * c-common.c (handle_cleanup_attribute): New.\n-        (c_common_attributes): Add it.\n-        * c-decl.c (finish_decl): Honor the cleanup attribute.\n-        * doc/extend.texi (Variable Attributes): Document it.\n+\t* c-common.c (handle_cleanup_attribute): New.\n+\t(c_common_attributes): Add it.\n+\t* c-decl.c (finish_decl): Honor the cleanup attribute.\n+\t* doc/extend.texi (Variable Attributes): Document it.\n \n-        * unwind-c.c: New file.\n-        * Makefile.in (LIB2ADDEH): Add it.\n-        * config/t-darwin, config/t-linux, config/t-linux-gnulibc1,\n-        config/ia64/t-ia64: Likewise.\n+\t* unwind-c.c: New file.\n+\t* Makefile.in (LIB2ADDEH): Add it.\n+\t* config/t-darwin, config/t-linux, config/t-linux-gnulibc1,\n+\tconfig/ia64/t-ia64: Likewise.\n \n 2003-06-04  Jakub Jelinek  <jakub@redhat.com>\n \n@@ -362,7 +373,7 @@ Wed Jun  4 09:49:21 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n \t* doc/tm.texi (Trampolines): Remove INSN_CACHE_DEPTH,\n \tINSN_CACHE_SIZE and INSN_CACHE_LINE_WIDTH.\n-\t\n+\n \t* dbxout.c (dbxout_type): Remove usage of DBX_OUTPUT_ENUM.\n \t(dbxout_symbol): Remove usage of DBX_OUTPUT_CONSTANT_SYMBOL.\n \t(dbxout_block): Remove usage of DBX_OUTPUT_CATCH.\n@@ -390,7 +401,7 @@ Wed Jun  4 09:49:21 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \t(frame_dummy): Likewise.\n \t* unwind-dw2-fde-glibc.c (_Unwind_IteratePhdrCallback): Likewise.\n \t* system.h: Poison CRT_GET_RFIB_TEXT.\n-\t\n+\n \t* collect2.c (is_ctor_dtor): Remove CFRONT_LOSSAGE dependend code.\n \n \t* fix-header.c: Remove ADD_MISSING_EXTERN_C dependend variables.\n@@ -493,27 +504,27 @@ Wed Jun  4 09:49:21 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n 2003-06-03  Aldy Hernandez  <aldyh@redhat.com>\n \n-        * function.c (assign_parms): Split complex arguments.\n+\t* function.c (assign_parms): Split complex arguments.\n \n-        * doc/tm.texi (SPLIT_COMPLEX_ARGS): Document.\n+\t* doc/tm.texi (SPLIT_COMPLEX_ARGS): Document.\n \n-        * expr.h (SPLIT_COMPLEX_ARGS): Define.\n-        (split_complex_types): Protoize.\n-        (split_complex_values): Protoize.\n+\t* expr.h (SPLIT_COMPLEX_ARGS): Define.\n+\t(split_complex_types): Protoize.\n+\t(split_complex_values): Protoize.\n \n-        * calls.c (expand_call): Split complex arguments on architectures\n-        that require it.\n-        (split_complex_values): New.\n-        (split_complex_types): New.\n+\t* calls.c (expand_call): Split complex arguments on architectures\n+\tthat require it.\n+\t(split_complex_values): New.\n+\t(split_complex_types): New.\n \n-        * config/rs6000/rs6000.c (rs6000_libcall_value): New.\n-        (rs6000_function_value): Handle complex values on AIX.\n-        (rs6000_complex_function_value): New.\n+\t* config/rs6000/rs6000.c (rs6000_libcall_value): New.\n+\t(rs6000_function_value): Handle complex values on AIX.\n+\t(rs6000_complex_function_value): New.\n \n-        * config/rs6000/rs6000-protos.h (rs6000_libcall_value): Protoize.\n+\t* config/rs6000/rs6000-protos.h (rs6000_libcall_value): Protoize.\n \n-        * config/rs6000/rs6000.h (LIBCALL_VALUE): Call function.\n-        (SPLIT_COMPLEX_ARGS): New.\n+\t* config/rs6000/rs6000.h (LIBCALL_VALUE): Call function.\n+\t(SPLIT_COMPLEX_ARGS): New.\n \n 2003-06-03  Jakub Jelinek  <jakub@redhat.com>\n \n@@ -626,7 +637,7 @@ Wed Jun  4 09:49:21 CEST 2003  Jan Hubicka  <jh@suse.cz>\n \n 2003-06-02  Kazuhiro Inaoka  <inaoka.kazuhiro@renesas.com>\n \n-        * gcc/config.gcc Add support multilib parts for m32rx processor.\n+\t* gcc/config.gcc Add support multilib parts for m32rx processor.\n \n 2003-06-02  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n "}, {"sha": "12848de9f4ebfe81b86d6f150386f842385cde50", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 79, "deletions": 343, "changes": 422, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=1072ec3fdc48a1fe16084bdb046077bbb43e1216", "patch": "@@ -398,357 +398,93 @@ fi\n AC_SUBST($1)dnl\n ])\n \n-# Check whether mmap can map an arbitrary page from /dev/zero or with\n-# MAP_ANONYMOUS, without MAP_FIXED.\n-AC_DEFUN([AC_FUNC_MMAP_ANYWHERE],\n-[AC_CHECK_FUNCS(getpagesize)\n-# The test program for the next two tests is the same except for one\n-# set of ifdefs.\n-changequote({{{,}}})dnl\n-{{{cat >ct-mmap.inc <<'EOF'\n-#include <sys/types.h>\n+# mmap(2) blacklisting.  Some platforms provide the mmap library routine\n+# but don't support all of the features we need from it.\n+AC_DEFUN([gcc_AC_FUNC_MMAP_BLACKLIST],\n+[if test $ac_cv_header_sys_mman_h != yes \\\n+ || test $ac_cv_func_mmap != yes; then\n+   gcc_cv_func_mmap_file=no\n+   gcc_cv_func_mmap_dev_zero=no\n+   gcc_cv_func_mmap_anon=no\n+else\n+   AC_CACHE_CHECK([whether read-only mmap of a plain file works], \n+  gcc_cv_func_mmap_file,\n+  [# Add a system to this blacklist if \n+   # mmap(0, stat_size, PROT_READ, MAP_PRIVATE, fd, 0) doesn't return a\n+   # memory area containing the same data that you'd get if you applied\n+   # read() to the same fd.  The only system known to have a problem here\n+   # is VMS, where text files have record structure.\n+   case \"$host_os\" in\n+     vms*) \n+        gcc_cv_func_mmap_file=no ;;\n+     *)\n+        gcc_cv_func_mmap_file=yes;;\n+   esac])\n+   AC_CACHE_CHECK([whether mmap from /dev/zero works],\n+  gcc_cv_func_mmap_dev_zero,\n+  [# Add a system to this blacklist if it has mmap() but /dev/zero\n+   # does not exist, or if mmapping /dev/zero does not give anonymous\n+   # zeroed pages with both the following properties:\n+   # 1. If you map N consecutive pages in with one call, and then\n+   #    unmap any subset of those pages, the pages that were not\n+   #    explicitly unmapped remain accessible.\n+   # 2. If you map two adjacent blocks of memory and then unmap them\n+   #    both at once, they must both go away.\n+   # Systems known to be in this category are Windows (all variants),\n+   # VMS, and Darwin.\n+   case \"$host_os\" in\n+     vms* | cygwin* | pe | mingw* | darwin*)\n+        gcc_cv_func_mmap_dev_zero=no ;;\n+     *)\n+        gcc_cv_func_mmap_dev_zero=yes;;\n+   esac])\n+\n+   # Unlike /dev/zero, the MAP_ANON(YMOUS) defines can be probed for.\n+   AC_CACHE_CHECK([for MAP_ANON(YMOUS)], gcc_cv_decl_map_anon,\n+    [AC_TRY_COMPILE(\n+[#include <sys/types.h>\n #include <sys/mman.h>\n-#include <fcntl.h>\n-#include <signal.h>\n-#include <setjmp.h>\n-#include <stdio.h>\n-\n-#if !defined (MAP_ANONYMOUS) && defined (MAP_ANON)\n-# define MAP_ANONYMOUS MAP_ANON\n-#endif\n-\n-/* This mess was copied from the GNU getpagesize.h.  */\n-#ifndef HAVE_GETPAGESIZE\n-# ifdef HAVE_UNISTD_H\n-#  include <unistd.h>\n-# endif\n-\n-/* Assume that all systems that can run configure have sys/param.h.  */\n-# ifndef HAVE_SYS_PARAM_H\n-#  define HAVE_SYS_PARAM_H 1\n-# endif\n-\n-# ifdef _SC_PAGESIZE\n-#  define getpagesize() sysconf(_SC_PAGESIZE)\n-# else /* no _SC_PAGESIZE */\n-#  ifdef HAVE_SYS_PARAM_H\n-#   include <sys/param.h>\n-#   ifdef EXEC_PAGESIZE\n-#    define getpagesize() EXEC_PAGESIZE\n-#   else /* no EXEC_PAGESIZE */\n-#    ifdef NBPG\n-#     define getpagesize() NBPG * CLSIZE\n-#     ifndef CLSIZE\n-#      define CLSIZE 1\n-#     endif /* no CLSIZE */\n-#    else /* no NBPG */\n-#     ifdef NBPC\n-#      define getpagesize() NBPC\n-#     else /* no NBPC */\n-#      ifdef PAGESIZE\n-#       define getpagesize() PAGESIZE\n-#      endif /* PAGESIZE */\n-#     endif /* no NBPC */\n-#    endif /* no NBPG */\n-#   endif /* no EXEC_PAGESIZE */\n-#  else /* no HAVE_SYS_PARAM_H */\n-#   define getpagesize() 8192\t/* punt totally */\n-#  endif /* no HAVE_SYS_PARAM_H */\n-# endif /* no _SC_PAGESIZE */\n-\n-#endif /* no HAVE_GETPAGESIZE */\n-\n-#ifndef MAP_FAILED\n-# define MAP_FAILED -1\n-#endif\n-\n-#undef perror_exit\n-#define perror_exit(str, val) \\\n-  do { perror(str); exit(val); } while (0)\n-\n-/* Some versions of cygwin mmap require that munmap is called with the\n-   same parameters as mmap.  GCC expects that this is not the case.\n-   Test for various forms of this problem.  Warning - icky signal games.  */\n-\n-static sigset_t unblock_sigsegv;\n-static jmp_buf r;\n-static size_t pg;\n-static int devzero;\n-\n-static char *\n-anonmap (size)\n-     size_t size;\n-{\n-#ifdef USE_MAP_ANON\n-  return (char *) mmap (0, size, PROT_READ|PROT_WRITE,\n-\t\t\tMAP_PRIVATE|MAP_ANONYMOUS, -1, 0);\n-#else\n-  return (char *) mmap (0, size, PROT_READ|PROT_WRITE,\n-\t\t\tMAP_PRIVATE, devzero, 0);\n-#endif\n-}\n-\n-static void\n-sigsegv (unused)\n-     int unused;\n-{\n-  sigprocmask (SIG_UNBLOCK, &unblock_sigsegv, 0);\n-  longjmp (r, 1);\n-}\n-\n-/* Basic functionality test.  */\n-void\n-test_0 ()\n-{\n-  char *x = anonmap (pg);\n-  if (x == (char *) MAP_FAILED)\n-    perror_exit(\"test 0 mmap\", 2);\n-\n-  *(int *)x += 1;\n-\n-  if (munmap(x, pg) < 0)\n-    perror_exit(\"test 0 munmap\", 3);\n-}\n-\n-/* 1. If we map a 2-page region and unmap its second page, the first page\n-   must remain.  */\n-static void\n-test_1 ()\n-{\n-  char *x = anonmap (pg * 2);\n-  if (x == (char *)MAP_FAILED)\n-    perror_exit (\"test 1 mmap\", 4);\n-\n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r))\n-    perror_exit (\"test 1 fault\", 5);\n-\n-  x[0] = 1;\n-  x[pg] = 1;\n-\n-  if (munmap (x + pg, pg) < 0)\n-    perror_exit (\"test 1 munmap 1\", 6);\n-  x[0] = 2;\n-\n-  if (setjmp (r) == 0)\n-    {\n-      x[pg] = 1;\n-      perror_exit (\"test 1 no fault\", 7);\n-    }\n-  if (munmap (x, pg) < 0)\n-    perror_exit (\"test 1 munmap 2\", 8);\n-}\n-\n-/* 2. If we map a 2-page region and unmap its first page, the second\n-   page must remain.  */\n-static void\n-test_2 ()\n-{\n-  char *x = anonmap (pg * 2);\n-  if (x == (char *)MAP_FAILED)\n-    perror_exit (\"test 2 mmap\", 9);\n-\n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r))\n-    perror_exit (\"test 2 fault\", 10);\n-\n-  x[0] = 1;\n-  x[pg] = 1;\n-\n-  if (munmap (x, pg) < 0)\n-    perror_exit (\"test 2 munmap 1\", 11);\n-\n-  x[pg] = 2;\n-\n-  if (setjmp (r) == 0)\n-    {\n-      x[0] = 1;\n-      perror_exit (\"test 2 no fault\", 12);\n-    }\n-\n-  if (munmap (x+pg, pg) < 0)\n-    perror_exit (\"test 2 munmap 2\", 13);\n-}\n+#include <unistd.h>\n \n-/* 3. If we map two adjacent 1-page regions and unmap them both with\n-   one munmap, both must go away.\n-\n-   Getting two adjacent 1-page regions with two mmap calls is slightly\n-   tricky.  All OS's tested skip over already-allocated blocks; therefore\n-   we have been careful to unmap all allocated regions in previous tests.\n-   HP/UX allocates pages backward in memory.  No OS has yet been observed\n-   to be so perverse as to leave unmapped space between consecutive calls\n-   to mmap.  */\n-\n-static void\n-test_3 ()\n-{\n-  char *x, *y, *z;\n-\n-  x = anonmap (pg);\n-  if (x == (char *)MAP_FAILED)\n-    perror_exit (\"test 3 mmap 1\", 14);\n-  y = anonmap (pg);\n-  if (y == (char *)MAP_FAILED)\n-    perror_exit (\"test 3 mmap 2\", 15);\n-\n-  if (y != x + pg)\n-    {\n-      if (y == x - pg)\n-\tz = y, y = x, x = z;\n-      else\n-\t{\n-\t  fprintf (stderr, \"test 3 nonconsecutive pages - %lx, %lx\\n\",\n-\t\t   (unsigned long)x, (unsigned long)y);\n-\t  exit (16);\n-\t}\n-    }\n-\n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r))\n-    perror_exit (\"test 3 fault\", 17);\n-\n-  x[0] = 1;\n-  y[0] = 1;\n-\n-  if (munmap (x, pg*2) < 0)\n-    perror_exit (\"test 3 munmap\", 18);\n-\n-  if (setjmp (r) == 0)\n-    {\n-      x[0] = 1;\n-      perror_exit (\"test 3 no fault 1\", 19);\n-    }\n-  \n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r) == 0)\n-    {\n-      y[0] = 1;\n-      perror_exit (\"test 3 no fault 2\", 20);\n-    }\n-}\n-\n-int\n-main ()\n-{\n-  sigemptyset (&unblock_sigsegv);\n-  sigaddset (&unblock_sigsegv, SIGSEGV);\n-  pg = getpagesize ();\n-#ifndef USE_MAP_ANON\n-  devzero = open (\"/dev/zero\", O_RDWR);\n-  if (devzero < 0)\n-    perror_exit (\"open /dev/zero\", 1);\n+#ifndef MAP_ANONYMOUS\n+#define MAP_ANONYMOUS MAP_ANON\n #endif\n-\n-  test_0();\n-  test_1();\n-  test_2();\n-  test_3();\n-\n-  exit(0);\n-}\n-EOF}}}\n-changequote([,])dnl\n-\n-AC_CACHE_CHECK(for working mmap from /dev/zero,\n-  ac_cv_func_mmap_dev_zero,\n-[AC_TRY_RUN(\n- [#include \"ct-mmap.inc\"],\n- ac_cv_func_mmap_dev_zero=yes,\n- [if test $? -lt 4\n- then ac_cv_func_mmap_dev_zero=no\n- else ac_cv_func_mmap_dev_zero=buggy\n- fi],\n- # When cross-building, assume that this works, unless we know it\n- # doesn't.  Of course, we have no way of knowing if there even is a /dev/zero\n- # on the host, let alone whether mmap will work on it.\n- [case \"$host_os\" in\n-   cygwin* | win32 | pe | mingw* ) ac_cv_func_mmap_dev_zero=buggy ;;\n-   darwin* ) ac_cv_func_mmap_dev_zero=no ;;\n-   * ) ac_cv_func_mmap_dev_zero=yes ;;\n-  esac])\n-])\n-if test $ac_cv_func_mmap_dev_zero = yes; then\n-  AC_DEFINE(HAVE_MMAP_DEV_ZERO, 1,\n-\t    [Define if mmap can get us zeroed pages from /dev/zero.])\n-fi\n-\n-AC_CACHE_CHECK([for working mmap with MAP_ANON(YMOUS)],\n-  ac_cv_func_mmap_anon,\n-[AC_TRY_RUN(\n- [#define USE_MAP_ANON\n-#include \"ct-mmap.inc\"],\n- ac_cv_func_mmap_anon=yes,\n- [if test $? -lt 4\n- then ac_cv_func_mmap_anon=no\n- else ac_cv_func_mmap_anon=buggy\n- fi],\n- # Unlike /dev/zero, it is not safe to assume MAP_ANON(YMOUS) works\n- # just because it's there. Some SCO Un*xen define it but don't implement it.\n- [case \"$host_os\" in\n-   darwin* ) ac_cv_func_mmap_anon=yes ;;\n-   * ) ac_cv_func_mmap_anon=no ;;\n-  esac])\n-])\n-if test $ac_cv_func_mmap_anon = yes; then\n-  AC_DEFINE(HAVE_MMAP_ANON, 1,\n-\t    [Define if mmap can get us zeroed pages using MAP_ANON(YMOUS).])\n+],\n+[int n = MAP_ANONYMOUS;],\n+    gcc_cv_decl_map_anon=yes,\n+    gcc_cv_decl_map_anon=no)])\n+\n+   if test $gcc_cv_decl_map_anon = no; then\n+     gcc_cv_func_mmap_anon=no\n+   else\n+     AC_CACHE_CHECK([whether mmap with MAP_ANON(YMOUS) works],\n+     gcc_cv_func_mmap_anon,\n+  [# Add a system to this blacklist if it has mmap() and MAP_ANON or\n+   # MAP_ANONYMOUS, but using mmap(..., MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)\n+   # doesn't give anonymous zeroed pages with the same properties listed\n+   # above for use of /dev/zero.\n+   # Systems known to be in this category are Windows, VMS, and SCO Unix.\n+   case \"$host_os\" in\n+     vms* | cygwin* | pe | mingw* | sco* | udk* )\n+        gcc_cv_func_mmap_anon=no ;;\n+     *)\n+        gcc_cv_func_mmap_anon=yes;;\n+   esac])\n+   fi\n fi\n-rm -f ct-mmap.inc\n-])\n-\n-# Check whether mmap can map a plain file, without MAP_FIXED.\n-AC_DEFUN([AC_FUNC_MMAP_FILE], \n-[AC_CACHE_CHECK(for working mmap of a file, ac_cv_func_mmap_file,\n-[# Create a file one thousand bytes long.\n-for i in 1 2 3 4 5 6 7 8 9 0\n-do for j in 1 2 3 4 5 6 7 8 9 0\n-do echo $i $j xxxxx\n-done\n-done > conftestdata$$\n-\n-AC_TRY_RUN([\n-/* Test by Zack Weinberg.  Modified from MMAP_ANYWHERE test by\n-   Richard Henderson and Alexandre Oliva.\n-   Check whether read-only mmap of a plain file works. */\n-#include <sys/types.h>\n-#include <sys/stat.h>\n-#include <fcntl.h>\n-#include <sys/mman.h>\n \n-int main()\n-{\n-  char *x;\n-  int fd;\n-  struct stat st;\n-\n-  fd = open(\"conftestdata$$\", O_RDONLY);\n-  if (fd < 0)\n-    exit(1);\n-\n-  if (fstat (fd, &st))\n-    exit(2);\n-\n-  x = (char*)mmap(0, st.st_size, PROT_READ, MAP_PRIVATE, fd, 0);\n-  if (x == (char *) -1)\n-    exit(3);\n-\n-  if (x[0] != '1' || x[1] != ' ' || x[2] != '1' || x[3] != ' ')\n-    exit(4);\n-\n-  if (munmap(x, st.st_size) < 0)\n-    exit(5);\n-\n-  exit(0);\n-}], ac_cv_func_mmap_file=yes, ac_cv_func_mmap_file=no,\n- [case \"$host_os\" in\n-   darwin* ) ac_cv_func_mmap_file=yes ;;\n-   * ) ac_cv_func_mmap_file=no ;;\n-  esac])])\n-if test $ac_cv_func_mmap_file = yes; then\n+if test $gcc_cv_func_mmap_file = yes; then\n   AC_DEFINE(HAVE_MMAP_FILE, 1,\n \t    [Define if read-only mmap of a plain file works.])\n fi\n+if test $gcc_cv_func_mmap_dev_zero = yes; then\n+  AC_DEFINE(HAVE_MMAP_DEV_ZERO, 1,\n+\t    [Define if mmap of /dev/zero works.])\n+fi\n+if test $gcc_cv_func_mmap_anon = yes; then\n+  AC_DEFINE(HAVE_MMAP_ANON, 1,\n+\t    [Define if mmap with MAP_ANON(YMOUS) works.])\n+fi\n ])\n \n dnl Locate a program and check that its version is acceptable."}, {"sha": "0bb8e6aa37f4c19d09890e267a217d11d9053b3d", "filename": "gcc/config.in", "status": "modified", "additions": 18, "deletions": 15, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=1072ec3fdc48a1fe16084bdb046077bbb43e1216", "patch": "@@ -1,4 +1,4 @@\n-/* config.in.  Generated automatically from configure.in by autoheader.  */\n+/* config.in.  Generated automatically from configure.in by autoheader 2.13.  */\n \n /* Define if using alloca.c.  */\n #undef C_ALLOCA\n@@ -141,9 +141,6 @@\n /* Define if you have the getgid function.  */\n #undef HAVE_GETGID\n \n-/* Define if you have the getpagesize function.  */\n-#undef HAVE_GETPAGESIZE\n-\n /* Define if you have the getrlimit function.  */\n #undef HAVE_GETRLIMIT\n \n@@ -168,6 +165,9 @@\n /* Define if you have the mempcpy function.  */\n #undef HAVE_MEMPCPY\n \n+/* Define if you have the mmap function.  */\n+#undef HAVE_MMAP\n+\n /* Define if you have the munmap function.  */\n #undef HAVE_MUNMAP\n \n@@ -264,6 +264,9 @@\n /* Define if you have the <sys/file.h> header file.  */\n #undef HAVE_SYS_FILE_H\n \n+/* Define if you have the <sys/mman.h> header file.  */\n+#undef HAVE_SYS_MMAN_H\n+\n /* Define if you have the <sys/param.h> header file.  */\n #undef HAVE_SYS_PARAM_H\n \n@@ -362,12 +365,6 @@\n /* Define if valgrind's memcheck.h header is installed. */\n #undef HAVE_MEMCHECK_H\n \n-/* Define if you want to use __cxa_atexit, rather than atexit, to\n-   register C++ destructors for local statics and global objects.\n-   This is essential for fully standards-compliant handling of\n-   destructors, but requires __cxa_atexit in libc. */\n-#undef DEFAULT_USE_CXA_ATEXIT\n-\n /* Define if you want the C and C++ compilers to support multibyte\n    character sets for source code. */\n #undef MULTIBYTE_CHARS\n@@ -404,15 +401,15 @@\n /* Define if printf supports %p. */\n #undef HAVE_PRINTF_PTR\n \n-/* Define if mmap can get us zeroed pages from /dev/zero. */\n+/* Define if read-only mmap of a plain file works. */\n+#undef HAVE_MMAP_FILE\n+\n+/* Define if mmap of /dev/zero works. */\n #undef HAVE_MMAP_DEV_ZERO\n \n-/* Define if mmap can get us zeroed pages using MAP_ANON(YMOUS). */\n+/* Define if mmap with MAP_ANON(YMOUS) works. */\n #undef HAVE_MMAP_ANON\n \n-/* Define if read-only mmap of a plain file works. */\n-#undef HAVE_MMAP_FILE\n-\n /* Define if you have the iconv() function. */\n #undef HAVE_ICONV\n \n@@ -527,6 +524,12 @@\n /* Define to 1 if HOST_WIDE_INT must be 64 bits wide (see hwint.h). */\n #undef NEED_64BIT_HOST_WIDE_INT\n \n+/* Define if you want to use __cxa_atexit, rather than atexit, to\n+   register C++ destructors for local statics and global objects.\n+   This is essential for fully standards-compliant handling of\n+   destructors, but requires __cxa_atexit in libc. */\n+#undef DEFAULT_USE_CXA_ATEXIT\n+\n /* Define to the name of a file containing a list of extra machine modes\n    for this architecture. */\n #undef EXTRA_MODES_FILE"}, {"sha": "16613e7b45308166d703a5469554ef48a3d35f51", "filename": "gcc/configure", "status": "modified", "additions": 290, "deletions": 632, "changes": 922, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=1072ec3fdc48a1fe16084bdb046077bbb43e1216", "patch": "@@ -3115,7 +3115,7 @@ EOF\n fi\n \n for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h \\\n-\t\t fcntl.h unistd.h sys/file.h sys/time.h \\\n+\t\t fcntl.h unistd.h sys/file.h sys/time.h sys/mman.h \\\n \t\t sys/resource.h sys/param.h sys/times.h sys/stat.h \\\n \t\t direct.h malloc.h langinfo.h ldfcn.h wchar.h\n do\n@@ -3729,7 +3729,7 @@ fi\n for ac_func in times clock dup2 kill getrlimit setrlimit atoll atoq \\\n \tsysconf strsignal putc_unlocked fputc_unlocked fputs_unlocked \\\n \tfwrite_unlocked fprintf_unlocked getrusage nl_langinfo lstat \\\n-        scandir alphasort gettimeofday mbstowcs wcswidth\n+        scandir alphasort gettimeofday mbstowcs wcswidth mmap\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n echo \"configure:3736: checking for $ac_func\" >&5\n@@ -4030,6 +4030,135 @@ EOF\n \n fi\n \n+if test $ac_cv_header_sys_mman_h != yes \\\n+ || test $ac_cv_func_mmap != yes; then\n+   gcc_cv_func_mmap_file=no\n+   gcc_cv_func_mmap_dev_zero=no\n+   gcc_cv_func_mmap_anon=no\n+else\n+   echo $ac_n \"checking whether read-only mmap of a plain file works\"\"... $ac_c\" 1>&6\n+echo \"configure:4041: checking whether read-only mmap of a plain file works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_func_mmap_file'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # Add a system to this blacklist if \n+   # mmap(0, stat_size, PROT_READ, MAP_PRIVATE, fd, 0) doesn't return a\n+   # memory area containing the same data that you'd get if you applied\n+   # read() to the same fd.  The only system known to have a problem here\n+   # is VMS, where text files have record structure.\n+   case \"$host_os\" in\n+     vms*) \n+        gcc_cv_func_mmap_file=no ;;\n+     *)\n+        gcc_cv_func_mmap_file=yes;;\n+   esac\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_func_mmap_file\" 1>&6\n+   echo $ac_n \"checking whether mmap from /dev/zero works\"\"... $ac_c\" 1>&6\n+echo \"configure:4060: checking whether mmap from /dev/zero works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_func_mmap_dev_zero'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # Add a system to this blacklist if it has mmap() but /dev/zero\n+   # does not exist, or if mmapping /dev/zero does not give anonymous\n+   # zeroed pages with both the following properties:\n+   # 1. If you map N consecutive pages in with one call, and then\n+   #    unmap any subset of those pages, the pages that were not\n+   #    explicitly unmapped remain accessible.\n+   # 2. If you map two adjacent blocks of memory and then unmap them\n+   #    both at once, they must both go away.\n+   # Systems known to be in this category are Windows (all variants),\n+   # VMS, and Darwin.\n+   case \"$host_os\" in\n+     vms* | cygwin* | pe | mingw* | darwin*)\n+        gcc_cv_func_mmap_dev_zero=no ;;\n+     *)\n+        gcc_cv_func_mmap_dev_zero=yes;;\n+   esac\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_func_mmap_dev_zero\" 1>&6\n+\n+   # Unlike /dev/zero, the MAP_ANON(YMOUS) defines can be probed for.\n+   echo $ac_n \"checking for MAP_ANON(YMOUS)\"\"... $ac_c\" 1>&6\n+echo \"configure:4086: checking for MAP_ANON(YMOUS)\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_decl_map_anon'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 4091 \"configure\"\n+#include \"confdefs.h\"\n+#include <sys/types.h>\n+#include <sys/mman.h>\n+#include <unistd.h>\n+\n+#ifndef MAP_ANONYMOUS\n+#define MAP_ANONYMOUS MAP_ANON\n+#endif\n+\n+int main() {\n+int n = MAP_ANONYMOUS;\n+; return 0; }\n+EOF\n+if { (eval echo configure:4105: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  gcc_cv_decl_map_anon=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  gcc_cv_decl_map_anon=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_decl_map_anon\" 1>&6\n+\n+   if test $gcc_cv_decl_map_anon = no; then\n+     gcc_cv_func_mmap_anon=no\n+   else\n+     echo $ac_n \"checking whether mmap with MAP_ANON(YMOUS) works\"\"... $ac_c\" 1>&6\n+echo \"configure:4123: checking whether mmap with MAP_ANON(YMOUS) works\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_func_mmap_anon'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  # Add a system to this blacklist if it has mmap() and MAP_ANON or\n+   # MAP_ANONYMOUS, but using mmap(..., MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)\n+   # doesn't give anonymous zeroed pages with the same properties listed\n+   # above for use of /dev/zero.\n+   # Systems known to be in this category are Windows, VMS, and SCO Unix.\n+   case \"$host_os\" in\n+     vms* | cygwin* | pe | mingw* | sco* | udk* )\n+        gcc_cv_func_mmap_anon=no ;;\n+     *)\n+        gcc_cv_func_mmap_anon=yes;;\n+   esac\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_func_mmap_anon\" 1>&6\n+   fi\n+fi\n+\n+if test $gcc_cv_func_mmap_file = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP_FILE 1\n+EOF\n+\n+fi\n+if test $gcc_cv_func_mmap_dev_zero = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP_DEV_ZERO 1\n+EOF\n+\n+fi\n+if test $gcc_cv_func_mmap_anon = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_MMAP_ANON 1\n+EOF\n+\n+fi\n+\n \n case \"${host}\" in\n *-*-uwin*)\n@@ -4045,12 +4174,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4049: checking for pid_t\" >&5\n+echo \"configure:4178: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4054 \"configure\"\n+#line 4183 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4079,17 +4208,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4083: checking for vfork.h\" >&5\n+echo \"configure:4212: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4088 \"configure\"\n+#line 4217 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4093: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4222: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4114,18 +4243,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:4118: checking for working vfork\" >&5\n+echo \"configure:4247: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:4124: checking for vfork\" >&5\n+echo \"configure:4253: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4129 \"configure\"\n+#line 4258 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -4148,7 +4277,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4152: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4281: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -4170,7 +4299,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4174 \"configure\"\n+#line 4303 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -4265,7 +4394,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:4269: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4398: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -4287,477 +4416,6 @@ EOF\n \n fi\n \n-for ac_func in getpagesize\n-do\n-echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4294: checking for $ac_func\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 4299 \"configure\"\n-#include \"confdefs.h\"\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $ac_func(); below.  */\n-#include <assert.h>\n-/* Override any gcc2 internal prototype to avoid an error.  */\n-/* We use char because int might match the return type of a gcc2\n-    builtin and then its argument prototype would still apply.  */\n-char $ac_func();\n-\n-int main() {\n-\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined (__stub_$ac_func) || defined (__stub___$ac_func)\n-choke me\n-#else\n-$ac_func();\n-#endif\n-\n-; return 0; }\n-EOF\n-if { (eval echo configure:4322: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n-  rm -rf conftest*\n-  eval \"ac_cv_func_$ac_func=yes\"\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"ac_cv_func_$ac_func=no\"\n-fi\n-rm -f conftest*\n-fi\n-\n-if eval \"test \\\"`echo '$ac_cv_func_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n-  cat >> confdefs.h <<EOF\n-#define $ac_tr_func 1\n-EOF\n- \n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n-fi\n-done\n-\n-# The test program for the next two tests is the same except for one\n-# set of ifdefs.\n-cat >ct-mmap.inc <<'EOF'\n-#include <sys/types.h>\n-#include <sys/mman.h>\n-#include <fcntl.h>\n-#include <signal.h>\n-#include <setjmp.h>\n-#include <stdio.h>\n-\n-#if !defined (MAP_ANONYMOUS) && defined (MAP_ANON)\n-# define MAP_ANONYMOUS MAP_ANON\n-#endif\n-\n-/* This mess was copied from the GNU getpagesize.h.  */\n-#ifndef HAVE_GETPAGESIZE\n-# ifdef HAVE_UNISTD_H\n-#  include <unistd.h>\n-# endif\n-\n-/* Assume that all systems that can run configure have sys/param.h.  */\n-# ifndef HAVE_SYS_PARAM_H\n-#  define HAVE_SYS_PARAM_H 1\n-# endif\n-\n-# ifdef _SC_PAGESIZE\n-#  define getpagesize() sysconf(_SC_PAGESIZE)\n-# else /* no _SC_PAGESIZE */\n-#  ifdef HAVE_SYS_PARAM_H\n-#   include <sys/param.h>\n-#   ifdef EXEC_PAGESIZE\n-#    define getpagesize() EXEC_PAGESIZE\n-#   else /* no EXEC_PAGESIZE */\n-#    ifdef NBPG\n-#     define getpagesize() NBPG * CLSIZE\n-#     ifndef CLSIZE\n-#      define CLSIZE 1\n-#     endif /* no CLSIZE */\n-#    else /* no NBPG */\n-#     ifdef NBPC\n-#      define getpagesize() NBPC\n-#     else /* no NBPC */\n-#      ifdef PAGESIZE\n-#       define getpagesize() PAGESIZE\n-#      endif /* PAGESIZE */\n-#     endif /* no NBPC */\n-#    endif /* no NBPG */\n-#   endif /* no EXEC_PAGESIZE */\n-#  else /* no HAVE_SYS_PARAM_H */\n-#   define getpagesize() 8192\t/* punt totally */\n-#  endif /* no HAVE_SYS_PARAM_H */\n-# endif /* no _SC_PAGESIZE */\n-\n-#endif /* no HAVE_GETPAGESIZE */\n-\n-#ifndef MAP_FAILED\n-# define MAP_FAILED -1\n-#endif\n-\n-#undef perror_exit\n-#define perror_exit(str, val) \\\n-  do { perror(str); exit(val); } while (0)\n-\n-/* Some versions of cygwin mmap require that munmap is called with the\n-   same parameters as mmap.  GCC expects that this is not the case.\n-   Test for various forms of this problem.  Warning - icky signal games.  */\n-\n-static sigset_t unblock_sigsegv;\n-static jmp_buf r;\n-static size_t pg;\n-static int devzero;\n-\n-static char *\n-anonmap (size)\n-     size_t size;\n-{\n-#ifdef USE_MAP_ANON\n-  return (char *) mmap (0, size, PROT_READ|PROT_WRITE,\n-\t\t\tMAP_PRIVATE|MAP_ANONYMOUS, -1, 0);\n-#else\n-  return (char *) mmap (0, size, PROT_READ|PROT_WRITE,\n-\t\t\tMAP_PRIVATE, devzero, 0);\n-#endif\n-}\n-\n-static void\n-sigsegv (unused)\n-     int unused;\n-{\n-  sigprocmask (SIG_UNBLOCK, &unblock_sigsegv, 0);\n-  longjmp (r, 1);\n-}\n-\n-/* Basic functionality test.  */\n-void\n-test_0 ()\n-{\n-  char *x = anonmap (pg);\n-  if (x == (char *) MAP_FAILED)\n-    perror_exit(\"test 0 mmap\", 2);\n-\n-  *(int *)x += 1;\n-\n-  if (munmap(x, pg) < 0)\n-    perror_exit(\"test 0 munmap\", 3);\n-}\n-\n-/* 1. If we map a 2-page region and unmap its second page, the first page\n-   must remain.  */\n-static void\n-test_1 ()\n-{\n-  char *x = anonmap (pg * 2);\n-  if (x == (char *)MAP_FAILED)\n-    perror_exit (\"test 1 mmap\", 4);\n-\n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r))\n-    perror_exit (\"test 1 fault\", 5);\n-\n-  x[0] = 1;\n-  x[pg] = 1;\n-\n-  if (munmap (x + pg, pg) < 0)\n-    perror_exit (\"test 1 munmap 1\", 6);\n-  x[0] = 2;\n-\n-  if (setjmp (r) == 0)\n-    {\n-      x[pg] = 1;\n-      perror_exit (\"test 1 no fault\", 7);\n-    }\n-  if (munmap (x, pg) < 0)\n-    perror_exit (\"test 1 munmap 2\", 8);\n-}\n-\n-/* 2. If we map a 2-page region and unmap its first page, the second\n-   page must remain.  */\n-static void\n-test_2 ()\n-{\n-  char *x = anonmap (pg * 2);\n-  if (x == (char *)MAP_FAILED)\n-    perror_exit (\"test 2 mmap\", 9);\n-\n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r))\n-    perror_exit (\"test 2 fault\", 10);\n-\n-  x[0] = 1;\n-  x[pg] = 1;\n-\n-  if (munmap (x, pg) < 0)\n-    perror_exit (\"test 2 munmap 1\", 11);\n-\n-  x[pg] = 2;\n-\n-  if (setjmp (r) == 0)\n-    {\n-      x[0] = 1;\n-      perror_exit (\"test 2 no fault\", 12);\n-    }\n-\n-  if (munmap (x+pg, pg) < 0)\n-    perror_exit (\"test 2 munmap 2\", 13);\n-}\n-\n-/* 3. If we map two adjacent 1-page regions and unmap them both with\n-   one munmap, both must go away.\n-\n-   Getting two adjacent 1-page regions with two mmap calls is slightly\n-   tricky.  All OS's tested skip over already-allocated blocks; therefore\n-   we have been careful to unmap all allocated regions in previous tests.\n-   HP/UX allocates pages backward in memory.  No OS has yet been observed\n-   to be so perverse as to leave unmapped space between consecutive calls\n-   to mmap.  */\n-\n-static void\n-test_3 ()\n-{\n-  char *x, *y, *z;\n-\n-  x = anonmap (pg);\n-  if (x == (char *)MAP_FAILED)\n-    perror_exit (\"test 3 mmap 1\", 14);\n-  y = anonmap (pg);\n-  if (y == (char *)MAP_FAILED)\n-    perror_exit (\"test 3 mmap 2\", 15);\n-\n-  if (y != x + pg)\n-    {\n-      if (y == x - pg)\n-\tz = y, y = x, x = z;\n-      else\n-\t{\n-\t  fprintf (stderr, \"test 3 nonconsecutive pages - %lx, %lx\\n\",\n-\t\t   (unsigned long)x, (unsigned long)y);\n-\t  exit (16);\n-\t}\n-    }\n-\n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r))\n-    perror_exit (\"test 3 fault\", 17);\n-\n-  x[0] = 1;\n-  y[0] = 1;\n-\n-  if (munmap (x, pg*2) < 0)\n-    perror_exit (\"test 3 munmap\", 18);\n-\n-  if (setjmp (r) == 0)\n-    {\n-      x[0] = 1;\n-      perror_exit (\"test 3 no fault 1\", 19);\n-    }\n-  \n-  signal (SIGSEGV, sigsegv);\n-  if (setjmp (r) == 0)\n-    {\n-      y[0] = 1;\n-      perror_exit (\"test 3 no fault 2\", 20);\n-    }\n-}\n-\n-int\n-main ()\n-{\n-  sigemptyset (&unblock_sigsegv);\n-  sigaddset (&unblock_sigsegv, SIGSEGV);\n-  pg = getpagesize ();\n-#ifndef USE_MAP_ANON\n-  devzero = open (\"/dev/zero\", O_RDWR);\n-  if (devzero < 0)\n-    perror_exit (\"open /dev/zero\", 1);\n-#endif\n-\n-  test_0();\n-  test_1();\n-  test_2();\n-  test_3();\n-\n-  exit(0);\n-}\n-EOF\n-\n-echo $ac_n \"checking for working mmap from /dev/zero\"\"... $ac_c\" 1>&6\n-echo \"configure:4593: checking for working mmap from /dev/zero\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_dev_zero'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test \"$cross_compiling\" = yes; then\n-  # When cross-building, assume that this works, unless we know it\n- # doesn't.  Of course, we have no way of knowing if there even is a /dev/zero\n- # on the host, let alone whether mmap will work on it.\n- case \"$host_os\" in\n-   cygwin* | win32 | pe | mingw* ) ac_cv_func_mmap_dev_zero=buggy ;;\n-   darwin* ) ac_cv_func_mmap_dev_zero=no ;;\n-   * ) ac_cv_func_mmap_dev_zero=yes ;;\n-  esac\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 4608 \"configure\"\n-#include \"confdefs.h\"\n-#include \"ct-mmap.inc\"\n-EOF\n-if { (eval echo configure:4612: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n-then\n-  ac_cv_func_mmap_dev_zero=yes\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -fr conftest*\n-  if test $? -lt 4\n- then ac_cv_func_mmap_dev_zero=no\n- else ac_cv_func_mmap_dev_zero=buggy\n- fi\n-fi\n-rm -fr conftest*\n-fi\n-\n-\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_func_mmap_dev_zero\" 1>&6\n-if test $ac_cv_func_mmap_dev_zero = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_MMAP_DEV_ZERO 1\n-EOF\n-\n-fi\n-\n-echo $ac_n \"checking for working mmap with MAP_ANON(YMOUS)\"\"... $ac_c\" 1>&6\n-echo \"configure:4639: checking for working mmap with MAP_ANON(YMOUS)\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_anon'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  if test \"$cross_compiling\" = yes; then\n-  # Unlike /dev/zero, it is not safe to assume MAP_ANON(YMOUS) works\n- # just because it's there. Some SCO Un*xen define it but don't implement it.\n- case \"$host_os\" in\n-   darwin* ) ac_cv_func_mmap_anon=yes ;;\n-   * ) ac_cv_func_mmap_anon=no ;;\n-  esac\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 4652 \"configure\"\n-#include \"confdefs.h\"\n-#define USE_MAP_ANON\n-#include \"ct-mmap.inc\"\n-EOF\n-if { (eval echo configure:4657: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n-then\n-  ac_cv_func_mmap_anon=yes\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -fr conftest*\n-  if test $? -lt 4\n- then ac_cv_func_mmap_anon=no\n- else ac_cv_func_mmap_anon=buggy\n- fi\n-fi\n-rm -fr conftest*\n-fi\n-\n-\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_func_mmap_anon\" 1>&6\n-if test $ac_cv_func_mmap_anon = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_MMAP_ANON 1\n-EOF\n-\n-fi\n-rm -f ct-mmap.inc\n-\n-echo $ac_n \"checking for working mmap of a file\"\"... $ac_c\" 1>&6\n-echo \"configure:4685: checking for working mmap of a file\" >&5\n-if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_file'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  # Create a file one thousand bytes long.\n-for i in 1 2 3 4 5 6 7 8 9 0\n-do for j in 1 2 3 4 5 6 7 8 9 0\n-do echo $i $j xxxxx\n-done\n-done > conftestdata$$\n-\n-if test \"$cross_compiling\" = yes; then\n-  case \"$host_os\" in\n-   darwin* ) ac_cv_func_mmap_file=yes ;;\n-   * ) ac_cv_func_mmap_file=no ;;\n-  esac\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 4703 \"configure\"\n-#include \"confdefs.h\"\n-\n-/* Test by Zack Weinberg.  Modified from MMAP_ANYWHERE test by\n-   Richard Henderson and Alexandre Oliva.\n-   Check whether read-only mmap of a plain file works. */\n-#include <sys/types.h>\n-#include <sys/stat.h>\n-#include <fcntl.h>\n-#include <sys/mman.h>\n-\n-int main()\n-{\n-  char *x;\n-  int fd;\n-  struct stat st;\n-\n-  fd = open(\"conftestdata$$\", O_RDONLY);\n-  if (fd < 0)\n-    exit(1);\n-\n-  if (fstat (fd, &st))\n-    exit(2);\n-\n-  x = (char*)mmap(0, st.st_size, PROT_READ, MAP_PRIVATE, fd, 0);\n-  if (x == (char *) -1)\n-    exit(3);\n-\n-  if (x[0] != '1' || x[1] != ' ' || x[2] != '1' || x[3] != ' ')\n-    exit(4);\n-\n-  if (munmap(x, st.st_size) < 0)\n-    exit(5);\n-\n-  exit(0);\n-}\n-EOF\n-if { (eval echo configure:4740: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n-then\n-  ac_cv_func_mmap_file=yes\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -fr conftest*\n-  ac_cv_func_mmap_file=no\n-fi\n-rm -fr conftest*\n-fi\n-\n-fi\n-\n-echo \"$ac_t\"\"$ac_cv_func_mmap_file\" 1>&6\n-if test $ac_cv_func_mmap_file = yes; then\n-  cat >> confdefs.h <<\\EOF\n-#define HAVE_MMAP_FILE 1\n-EOF\n-\n-fi\n-\n \n \n     \n@@ -4775,15 +4433,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:4779: checking for iconv\" >&5\n+echo \"configure:4437: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 4787 \"configure\"\n+#line 4445 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4793,7 +4451,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4797: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4455: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -4805,7 +4463,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 4809 \"configure\"\n+#line 4467 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -4815,7 +4473,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:4819: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4477: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -4836,13 +4494,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:4840: checking for iconv declaration\" >&5\n+echo \"configure:4498: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 4846 \"configure\"\n+#line 4504 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -4861,7 +4519,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4865: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4523: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -4899,12 +4557,12 @@ for ac_func in getenv atol sbrk abort atof getcwd getwd \\\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4903: checking whether $ac_func is declared\" >&5\n+echo \"configure:4561: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4908 \"configure\"\n+#line 4566 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4918,7 +4576,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4922: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4580: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -5020,12 +4678,12 @@ for ac_func in getrlimit setrlimit getrusage\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:5024: checking whether $ac_func is declared\" >&5\n+echo \"configure:4682: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5029 \"configure\"\n+#line 4687 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -5043,7 +4701,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:5047: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4705: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -5082,7 +4740,7 @@ fi\n \n \n cat > conftest.$ac_ext <<EOF\n-#line 5086 \"configure\"\n+#line 4744 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5095,7 +4753,7 @@ int main() {\n rlim_t l = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:5099: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4757: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   :\n else\n   echo \"configure: failed program was:\" >&5\n@@ -5112,12 +4770,12 @@ for ac_func in ldgetname\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:5116: checking whether $ac_func is declared\" >&5\n+echo \"configure:4774: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5121 \"configure\"\n+#line 4779 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -5135,7 +4793,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:5139: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4797: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -5171,12 +4829,12 @@ for ac_func in times\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:5175: checking whether $ac_func is declared\" >&5\n+echo \"configure:4833: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5180 \"configure\"\n+#line 4838 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -5194,7 +4852,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:5198: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4856: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -5228,13 +4886,13 @@ fi\n \n # More time-related stuff.\n echo $ac_n \"checking for struct tms\"\"... $ac_c\" 1>&6\n-echo \"configure:5232: checking for struct tms\" >&5\n+echo \"configure:4890: checking for struct tms\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tms'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 5238 \"configure\"\n+#line 4896 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5247,7 +4905,7 @@ int main() {\n struct tms tms;\n ; return 0; }\n EOF\n-if { (eval echo configure:5251: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4909: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tms=yes\n else\n@@ -5270,13 +4928,13 @@ fi\n # use gcc_cv_* here because this doesn't match the behavior of AC_CHECK_TYPE.\n # revisit after autoconf 2.50.\n echo $ac_n \"checking for clock_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5274: checking for clock_t\" >&5\n+echo \"configure:4932: checking for clock_t\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_clock_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 5280 \"configure\"\n+#line 4938 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5286,7 +4944,7 @@ int main() {\n clock_t x;\n ; return 0; }\n EOF\n-if { (eval echo configure:5290: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4948: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_type_clock_t=yes\n else\n@@ -5307,12 +4965,12 @@ EOF\n fi\n \n echo $ac_n \"checking for uchar\"\"... $ac_c\" 1>&6\n-echo \"configure:5311: checking for uchar\" >&5\n+echo \"configure:4969: checking for uchar\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_uchar'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5316 \"configure\"\n+#line 4974 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -5323,7 +4981,7 @@ if ((uchar *)0) return 0;\n  if (sizeof(uchar)) return 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:5327: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4985: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_type_uchar=yes\n else\n@@ -5353,23 +5011,23 @@ if test \"${enable_initfini_array+set}\" = set; then\n else\n   \n echo $ac_n \"checking for .preinit_array/.init_array/.fini_array support\"\"... $ac_c\" 1>&6\n-echo \"configure:5357: checking for .preinit_array/.init_array/.fini_array support\" >&5\n+echo \"configure:5015: checking for .preinit_array/.init_array/.fini_array support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_initfini_array'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n     if test \"$cross_compiling\" = yes; then\n   gcc_cv_initfini_array=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5365 \"configure\"\n+#line 5023 \"configure\"\n #include \"confdefs.h\"\n \n static int x = -1;\n int main (void) { return x; }\n int foo (void) { x = 0; }\n int (*fp) (void) __attribute__ ((section (\".init_array\"))) = foo;\n EOF\n-if { (eval echo configure:5373: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:5031: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_initfini_array=yes\n else\n@@ -5397,12 +5055,12 @@ fi\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:5401: checking if mkdir takes one argument\" >&5\n+echo \"configure:5059: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5406 \"configure\"\n+#line 5064 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -5419,7 +5077,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:5423: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5081: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -5459,22 +5117,22 @@ fi\n \n \n echo $ac_n \"checking for main in -lunwind\"\"... $ac_c\" 1>&6\n-echo \"configure:5463: checking for main in -lunwind\" >&5\n+echo \"configure:5121: checking for main in -lunwind\" >&5\n ac_lib_var=`echo unwind'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lunwind  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5471 \"configure\"\n+#line 5129 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:5478: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5136: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5783,14 +5441,14 @@ fi\n \n             \n echo $ac_n \"checking for library containing strerror\"\"... $ac_c\" 1>&6\n-echo \"configure:5787: checking for library containing strerror\" >&5\n+echo \"configure:5445: checking for library containing strerror\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_strerror'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_strerror=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 5794 \"configure\"\n+#line 5452 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5801,7 +5459,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5805: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5463: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"none required\"\n else\n@@ -5812,7 +5470,7 @@ rm -f conftest*\n test \"$ac_cv_search_strerror\" = \"no\" && for i in cposix; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5816 \"configure\"\n+#line 5474 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5823,7 +5481,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5827: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5485: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"-l$i\"\n break\n@@ -5846,12 +5504,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:5850: checking for working const\" >&5\n+echo \"configure:5508: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5855 \"configure\"\n+#line 5513 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -5900,7 +5558,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5904: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5562: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -5921,12 +5579,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5925: checking for off_t\" >&5\n+echo \"configure:5583: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5930 \"configure\"\n+#line 5588 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5954,12 +5612,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5958: checking for size_t\" >&5\n+echo \"configure:5616: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5963 \"configure\"\n+#line 5621 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5989,19 +5647,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5993: checking for working alloca.h\" >&5\n+echo \"configure:5651: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5998 \"configure\"\n+#line 5656 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6005: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5663: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6022,12 +5680,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6026: checking for alloca\" >&5\n+echo \"configure:5684: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6031 \"configure\"\n+#line 5689 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6055,7 +5713,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6059: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5717: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6087,12 +5745,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6091: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:5749: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6096 \"configure\"\n+#line 5754 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6117,12 +5775,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6121: checking for $ac_func\" >&5\n+echo \"configure:5779: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6126 \"configure\"\n+#line 5784 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6145,7 +5803,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6149: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5807: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6172,15 +5830,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6176: checking stack direction for C alloca\" >&5\n+echo \"configure:5834: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6184 \"configure\"\n+#line 5842 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6199,7 +5857,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6203: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:5861: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6222,12 +5880,12 @@ fi\n \n \n     echo $ac_n \"checking whether we are using the GNU C Library 2.1 or newer\"\"... $ac_c\" 1>&6\n-echo \"configure:6226: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n+echo \"configure:5884: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_gnu_library_2_1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6231 \"configure\"\n+#line 5889 \"configure\"\n #include \"confdefs.h\"\n \n #include <features.h>\n@@ -6263,17 +5921,17 @@ stdlib.h string.h unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6267: checking for $ac_hdr\" >&5\n+echo \"configure:5925: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6272 \"configure\"\n+#line 5930 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6277: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5935: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6304,12 +5962,12 @@ getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \\\n strdup strtoul tsearch __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6308: checking for $ac_func\" >&5\n+echo \"configure:5966: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6313 \"configure\"\n+#line 5971 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6332,7 +5990,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6336: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5994: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6373,15 +6031,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:6377: checking for iconv\" >&5\n+echo \"configure:6035: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 6385 \"configure\"\n+#line 6043 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6391,7 +6049,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6395: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6053: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -6403,7 +6061,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 6407 \"configure\"\n+#line 6065 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6413,7 +6071,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6417: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6075: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -6434,13 +6092,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:6438: checking for iconv declaration\" >&5\n+echo \"configure:6096: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 6444 \"configure\"\n+#line 6102 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -6459,7 +6117,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6463: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6121: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -6488,19 +6146,19 @@ EOF\n \n    \n   echo $ac_n \"checking for nl_langinfo and CODESET\"\"... $ac_c\" 1>&6\n-echo \"configure:6492: checking for nl_langinfo and CODESET\" >&5\n+echo \"configure:6150: checking for nl_langinfo and CODESET\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_langinfo_codeset'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6497 \"configure\"\n+#line 6155 \"configure\"\n #include \"confdefs.h\"\n #include <langinfo.h>\n int main() {\n char* cs = nl_langinfo(CODESET);\n ; return 0; }\n EOF\n-if { (eval echo configure:6504: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6162: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_langinfo_codeset=yes\n else\n@@ -6523,19 +6181,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:6527: checking for LC_MESSAGES\" >&5\n+echo \"configure:6185: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6532 \"configure\"\n+#line 6190 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:6539: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6197: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -6556,7 +6214,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6560: checking whether NLS is requested\" >&5\n+echo \"configure:6218: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -6579,7 +6237,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6583: checking whether included gettext is requested\" >&5\n+echo \"configure:6241: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -6599,17 +6257,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6603: checking for libintl.h\" >&5\n+echo \"configure:6261: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6608 \"configure\"\n+#line 6266 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6613: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6271: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6630,12 +6288,12 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n EOF\n \n            echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:6634: checking for GNU gettext in libc\" >&5\n+echo \"configure:6292: checking for GNU gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6639 \"configure\"\n+#line 6297 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6644,7 +6302,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6648: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6306: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libc=yes\n else\n@@ -6660,14 +6318,14 @@ echo \"$ac_t\"\"$gt_cv_func_gnugettext1_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gnugettext1_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for GNU gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:6664: checking for GNU gettext in libintl\" >&5\n+echo \"configure:6322: checking for GNU gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gt_save_LIBS=\"$LIBS\"\n \t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 6671 \"configure\"\n+#line 6329 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6676,7 +6334,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6680: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6338: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libintl=yes\n else\n@@ -6709,12 +6367,12 @@ EOF\n \t     for ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6713: checking for $ac_func\" >&5\n+echo \"configure:6371: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6718 \"configure\"\n+#line 6376 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6737,7 +6395,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6741: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6399: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6766,7 +6424,7 @@ done\n \t     \t     # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6770: checking for $ac_word\" >&5\n+echo \"configure:6428: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6800,7 +6458,7 @@ fi\n \t     # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6804: checking for $ac_word\" >&5\n+echo \"configure:6462: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6837,7 +6495,7 @@ fi\n \t     \t     # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6841: checking for $ac_word\" >&5\n+echo \"configure:6499: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6887,7 +6545,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6891: checking for $ac_word\" >&5\n+echo \"configure:6549: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6921,7 +6579,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6925: checking for $ac_word\" >&5\n+echo \"configure:6583: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6957,7 +6615,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6961: checking for $ac_word\" >&5\n+echo \"configure:6619: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7029,7 +6687,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7033: checking for $ac_word\" >&5\n+echo \"configure:6691: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7062,7 +6720,7 @@ done\n       ac_verc_fail=yes\n     else\n             echo $ac_n \"checking version of bison\"\"... $ac_c\" 1>&6\n-echo \"configure:7066: checking version of bison\" >&5\n+echo \"configure:6724: checking version of bison\" >&5\n       ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n       case $ac_prog_version in\n         '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n@@ -7107,7 +6765,7 @@ EOF\n \n          if test \"x$CATOBJEXT\" != x; then\n      echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:7111: checking for catalogs to be installed\" >&5\n+echo \"configure:6769: checking for catalogs to be installed\" >&5\n      # Look for .po and .gmo files in the source directory.\n      CATALOGS=\n      XLINGUAS=\n@@ -7165,7 +6823,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7169: checking whether windows registry support is requested\" >&5\n+echo \"configure:6827: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -7174,14 +6832,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:7178: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:6836: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 7185 \"configure\"\n+#line 6843 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7192,7 +6850,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7196: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6854: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -7203,7 +6861,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7207 \"configure\"\n+#line 6865 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7214,7 +6872,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7218: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6876: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -7256,7 +6914,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:7260: checking registry key on windows hosts\" >&5\n+echo \"configure:6918: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -7467,7 +7125,7 @@ esac\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7471: checking what assembler to use\" >&5\n+echo \"configure:7129: checking what assembler to use\" >&5\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n@@ -7578,7 +7236,7 @@ esac\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7582: checking what linker to use\" >&5\n+echo \"configure:7240: checking what linker to use\" >&5\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -7681,7 +7339,7 @@ esac\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7685: checking what nm to use\" >&5\n+echo \"configure:7343: checking what nm to use\" >&5\n in_tree_nm=no\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n@@ -7704,7 +7362,7 @@ esac\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7708: checking what objdump to use\" >&5\n+echo \"configure:7366: checking what objdump to use\" >&5\n in_tree_objdump=no\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n@@ -7729,7 +7387,7 @@ esac\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7733: checking assembler alignment features\" >&5\n+echo \"configure:7391: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test $in_tree_gas = yes; then\n   # Gas version 2.6 and later support for .balign and .p2align.\n@@ -7790,7 +7448,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7794: checking assembler subsection support\" >&5\n+echo \"configure:7452: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7839,7 +7497,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7843: checking assembler weak support\" >&5\n+echo \"configure:7501: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7869,7 +7527,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7873: checking assembler hidden support\" >&5\n+echo \"configure:7531: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7950,7 +7608,7 @@ libgcc_visibility=$gcc_cv_as_hidden\n \n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7954: checking assembler leb128 support\" >&5\n+echo \"configure:7612: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8004,7 +7662,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:8008: checking assembler eh_frame optimization\" >&5\n+echo \"configure:7666: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8094,7 +7752,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:8098: checking assembler section merging support\" >&5\n+echo \"configure:7756: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8126,7 +7784,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n \n echo $ac_n \"checking assembler thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:8130: checking assembler thread-local storage support\" >&5\n+echo \"configure:7788: checking assembler thread-local storage support\" >&5\n gcc_cv_as_tls=no\n conftest_s=\n tls_first_major=\n@@ -8336,7 +7994,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler supports explicit relocations\"\"... $ac_c\" 1>&6\n-echo \"configure:8340: checking assembler supports explicit relocations\" >&5\n+echo \"configure:7998: checking assembler supports explicit relocations\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8389,7 +8047,7 @@ EOF\n     ;;\n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8393: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8051: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8417,7 +8075,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:8421: checking assembler supports -relax\" >&5\n+echo \"configure:8079: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8445,7 +8103,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:8449: checking assembler and linker support unaligned pc related relocs\" >&5\n+echo \"configure:8107: checking assembler and linker support unaligned pc related relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8472,7 +8130,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:8476: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n+echo \"configure:8134: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8512,7 +8170,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8516: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8174: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8551,7 +8209,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8555: checking assembler instructions\" >&5\n+echo \"configure:8213: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test $in_tree_gas = yes ; then \n        if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8585,7 +8243,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:8589: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:8247: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test $in_tree_gas = yes ; then\n        if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8619,7 +8277,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler supports ltoffx and ldxmov\"\"... $ac_c\" 1>&6\n-echo \"configure:8623: checking assembler supports ltoffx and ldxmov\" >&5\n+echo \"configure:8281: checking assembler supports ltoffx and ldxmov\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8664,7 +8322,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:8668: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:8326: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -8726,7 +8384,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n \n echo $ac_n \"checking assembler --gdwarf2 support\"\"... $ac_c\" 1>&6\n-echo \"configure:8730: checking assembler --gdwarf2 support\" >&5\n+echo \"configure:8388: checking assembler --gdwarf2 support\" >&5\n gcc_cv_as_gdwarf2_flag=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8760,7 +8418,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gdwarf2_flag\" 1>&6\n \n echo $ac_n \"checking assembler --gstabs support\"\"... $ac_c\" 1>&6\n-echo \"configure:8764: checking assembler --gstabs support\" >&5\n+echo \"configure:8422: checking assembler --gstabs support\" >&5\n gcc_cv_as_gstabs_flag=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8793,7 +8451,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gstabs_flag\" 1>&6\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:8797: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:8455: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8831,7 +8489,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:8835: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:8493: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8852,7 +8510,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:8856: checking linker position independent executable support\" >&5\n+echo \"configure:8514: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8876,7 +8534,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:8880: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:8538: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -8904,7 +8562,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_mips_libgloss_startup\" 1>&6\n \n     echo $ac_n \"checking whether the assembler has explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:8908: checking whether the assembler has explicit relocation support\" >&5\n+echo \"configure:8566: checking whether the assembler has explicit relocation support\" >&5\n     if test x$gcc_cv_mips_explicit_relocs = x; then\n       gcc_cv_mips_explicit_relocs=no\n       if test x$gcc_cv_as != x; then\n@@ -9099,7 +8757,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:9103: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:8761: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "e087d3225da0df106406d33f69bd4fcceb874d31", "filename": "gcc/configure.in", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1072ec3fdc48a1fe16084bdb046077bbb43e1216/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=1072ec3fdc48a1fe16084bdb046077bbb43e1216", "patch": "@@ -699,7 +699,7 @@ gcc_AC_HEADER_STDBOOL\n gcc_AC_HEADER_STRING\n AC_HEADER_SYS_WAIT\n AC_CHECK_HEADERS(limits.h stddef.h string.h strings.h stdlib.h time.h \\\n-\t\t fcntl.h unistd.h sys/file.h sys/time.h \\\n+\t\t fcntl.h unistd.h sys/file.h sys/time.h sys/mman.h \\\n \t\t sys/resource.h sys/param.h sys/times.h sys/stat.h \\\n \t\t direct.h malloc.h langinfo.h ldfcn.h wchar.h)\n \n@@ -800,7 +800,7 @@ dnl gcc_AC_C_ENUM_BF_UNSIGNED\n AC_CHECK_FUNCS(times clock dup2 kill getrlimit setrlimit atoll atoq \\\n \tsysconf strsignal putc_unlocked fputc_unlocked fputs_unlocked \\\n \tfwrite_unlocked fprintf_unlocked getrusage nl_langinfo lstat \\\n-        scandir alphasort gettimeofday mbstowcs wcswidth)\n+        scandir alphasort gettimeofday mbstowcs wcswidth mmap)\n \n if test x$ac_cv_func_mbstowcs = xyes; then\n   AC_CACHE_CHECK(whether mbstowcs works, gcc_cv_func_mbstowcs_works,\n@@ -843,6 +843,7 @@ fi\n AC_SUBST(TARGET_GETGROUPS_T)\n \n gcc_AC_FUNC_PRINTF_PTR\n+gcc_AC_FUNC_MMAP_BLACKLIST\n \n case \"${host}\" in\n *-*-uwin*)\n@@ -858,8 +859,6 @@ case \"${host}\" in\n   ;;\n esac\n AC_FUNC_VFORK\n-AC_FUNC_MMAP_ANYWHERE\n-AC_FUNC_MMAP_FILE\n \n AM_ICONV\n "}]}