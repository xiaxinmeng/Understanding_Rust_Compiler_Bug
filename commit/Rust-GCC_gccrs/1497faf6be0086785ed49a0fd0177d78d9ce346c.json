{"sha": "1497faf6be0086785ed49a0fd0177d78d9ce346c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTQ5N2ZhZjZiZTAwODY3ODVlZDQ5YTBmZDAxNzdkNzhkOWNlMzQ2Yw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1999-09-12T06:26:04Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1999-09-12T06:26:04Z"}, "message": "* cse.c (cse_main): If gc'ing, collect around cse_basic_block.\n\nFrom-SVN: r29354", "tree": {"sha": "8ec63ee7e8e66c5bb736d50e494319ac6ca8900d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8ec63ee7e8e66c5bb736d50e494319ac6ca8900d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1497faf6be0086785ed49a0fd0177d78d9ce346c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1497faf6be0086785ed49a0fd0177d78d9ce346c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1497faf6be0086785ed49a0fd0177d78d9ce346c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1497faf6be0086785ed49a0fd0177d78d9ce346c/comments", "author": null, "committer": null, "parents": [{"sha": "0172a8f1f4d500b89ae32fb9155f51bb169f036f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0172a8f1f4d500b89ae32fb9155f51bb169f036f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0172a8f1f4d500b89ae32fb9155f51bb169f036f"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "c050d119ff9632b129fada803e26ed8674604b88", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1497faf6be0086785ed49a0fd0177d78d9ce346c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1497faf6be0086785ed49a0fd0177d78d9ce346c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1497faf6be0086785ed49a0fd0177d78d9ce346c", "patch": "@@ -1,3 +1,10 @@\n+Sat Sep 11 23:23:46 1999  Richard Henderson  <rth@cygnus.com>\n+\n+\t* cse.c (cse_main): If gc'ing, collect around cse_basic_block.\n+\n+\t* ggc-simple.c (ggc_pop_context): Fold outstanding bytes into\n+\tsurrounding context.\n+\n Sat Sep 11 19:52:43 1999  Mark Mitchell  <mark@codesourcery.com>\n \n \t* tree.c (type_hash_canon): Put all types in the hash-table, when"}, {"sha": "e07e3384cc80d0cf40bd484f4dbe4ff6dd60bc5e", "filename": "gcc/cse.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1497faf6be0086785ed49a0fd0177d78d9ce346c/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1497faf6be0086785ed49a0fd0177d78d9ce346c/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=1497faf6be0086785ed49a0fd0177d78d9ce346c", "patch": "@@ -36,6 +36,7 @@ Boston, MA 02111-1307, USA.  */\n #include \"toplev.h\"\n #include \"output.h\"\n #include \"splay-tree.h\"\n+#include \"ggc.h\"\n \n /* The basic idea of common subexpression elimination is to go\n    through the code, keeping a record of expressions that would\n@@ -8730,6 +8731,9 @@ cse_main (f, nregs, after_loop, file)\n \t|| global_regs[i])\n       SET_HARD_REG_BIT (regs_invalidated_by_call, i);\n \n+  if (ggc_p)\n+    ggc_push_context ();\n+\n   /* Loop over basic blocks.\n      Compute the maximum number of qty's needed for each basic block\n      (which is 2 for each SET).  */\n@@ -8786,11 +8790,17 @@ cse_main (f, nregs, after_loop, file)\n \t  cse_jumps_altered |= old_cse_jumps_altered;\n \t}\n \n+      if (ggc_p)\n+\tggc_collect ();\n+\n #ifdef USE_C_ALLOCA\n       alloca (0);\n #endif\n     }\n \n+  if (ggc_p)\n+    ggc_pop_context ();\n+\n   /* Tell refers_to_mem_p that qty_const info is not available.  */\n   qty_const = 0;\n "}]}