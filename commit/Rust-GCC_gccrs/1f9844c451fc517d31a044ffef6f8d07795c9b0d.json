{"sha": "1f9844c451fc517d31a044ffef6f8d07795c9b0d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWY5ODQ0YzQ1MWZjNTE3ZDMxYTA0NGZmZWY2ZjhkMDc3OTVjOWIwZA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-09-25T05:49:59Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1992-09-25T05:49:59Z"}, "message": "(nonlocal_goto): Force operands[0] to be a register.\n\nFrom-SVN: r2243", "tree": {"sha": "634e9d89047262797c0c2e770979f2e80317dbbc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/634e9d89047262797c0c2e770979f2e80317dbbc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f9844c451fc517d31a044ffef6f8d07795c9b0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f9844c451fc517d31a044ffef6f8d07795c9b0d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f9844c451fc517d31a044ffef6f8d07795c9b0d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f9844c451fc517d31a044ffef6f8d07795c9b0d/comments", "author": null, "committer": null, "parents": [{"sha": "8d02144cd854ffbc8695d94d1a73a49a41546fd7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d02144cd854ffbc8695d94d1a73a49a41546fd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d02144cd854ffbc8695d94d1a73a49a41546fd7"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "034d6ea5ac26a35e64cb7085eb7da94103fa44a8", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f9844c451fc517d31a044ffef6f8d07795c9b0d/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f9844c451fc517d31a044ffef6f8d07795c9b0d/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=1f9844c451fc517d31a044ffef6f8d07795c9b0d", "patch": "@@ -2632,12 +2632,16 @@\n   \"\"\n   \"\n {\n-  rtx temp;\n   /* Trap instruction to flush all the registers window.  */\n   emit_insn (gen_rtx (UNSPEC_VOLATILE, VOIDmode,\n \t\t      gen_rtvec (1, const0_rtx), 0));\n   /* Load the fp value for the containing fn into %fp.\n-     This is needed because operands[2] refers to %fp.  */\n+     This is needed because operands[2] refers to %fp.\n+     Virtual register instantiation fails if the virtual %fp isn't set from a\n+     register.  Thus we must copy operands[0] into a register if it isn't\n+     already one.  */\n+  if (GET_CODE (operands[0]) != REG)\n+    operands[0] = force_reg (SImode, operands[0]);\n   emit_move_insn (virtual_stack_vars_rtx, operands[0]);\n   /* Find the containing function's current nonlocal goto handler,\n      which will do any cleanups and then jump to the label.  */"}]}