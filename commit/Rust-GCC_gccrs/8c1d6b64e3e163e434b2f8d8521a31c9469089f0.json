{"sha": "8c1d6b64e3e163e434b2f8d8521a31c9469089f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGMxZDZiNjRlM2UxNjNlNDM0YjJmOGQ4NTIxYTMxYzk0NjkwODlmMA==", "commit": {"author": {"name": "Andrew Burgess", "email": "andrew.burgess@embecosm.com", "date": "2017-04-14T21:08:35Z"}, "committer": {"name": "Andrew Burgess", "email": "aburgess@gcc.gnu.org", "date": "2017-04-14T21:08:35Z"}, "message": "arc: Use @pcl assembler syntax instead of invalid expressions\n\nThe old ARC assembler would accept expressions like 'LABEL-(.&-4)'\nwhich would calculate the offset from the PCL to LABEL.  The new ARC\nassembler does not accept these expressions, instead there's an @pcl\nsynax, used like LABEL@pcl which gives the offset from PCL to LABEL.\n\nMost of the use of the old expression syntax have been removed,\nhowever, this one got missed.\n\ngcc/ChangeLog:\n\n\t* config/arc/arc.md (doloop_begin_i): Use @pcl assembler syntax.\n\nFrom-SVN: r246932", "tree": {"sha": "313cd8aba080d7daa3cfd79ca56d168ed772fd16", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/313cd8aba080d7daa3cfd79ca56d168ed772fd16"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8c1d6b64e3e163e434b2f8d8521a31c9469089f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c1d6b64e3e163e434b2f8d8521a31c9469089f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8c1d6b64e3e163e434b2f8d8521a31c9469089f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8c1d6b64e3e163e434b2f8d8521a31c9469089f0/comments", "author": {"login": "T-J-Teru", "id": 475372, "node_id": "MDQ6VXNlcjQ3NTM3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/475372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/T-J-Teru", "html_url": "https://github.com/T-J-Teru", "followers_url": "https://api.github.com/users/T-J-Teru/followers", "following_url": "https://api.github.com/users/T-J-Teru/following{/other_user}", "gists_url": "https://api.github.com/users/T-J-Teru/gists{/gist_id}", "starred_url": "https://api.github.com/users/T-J-Teru/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/T-J-Teru/subscriptions", "organizations_url": "https://api.github.com/users/T-J-Teru/orgs", "repos_url": "https://api.github.com/users/T-J-Teru/repos", "events_url": "https://api.github.com/users/T-J-Teru/events{/privacy}", "received_events_url": "https://api.github.com/users/T-J-Teru/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "31a07c8102fa4a7e44118bdacda5f8577ca7218e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/31a07c8102fa4a7e44118bdacda5f8577ca7218e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/31a07c8102fa4a7e44118bdacda5f8577ca7218e"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "8c4728c91875fce4cc950714c3fb0f0445ccc42b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c1d6b64e3e163e434b2f8d8521a31c9469089f0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c1d6b64e3e163e434b2f8d8521a31c9469089f0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8c1d6b64e3e163e434b2f8d8521a31c9469089f0", "patch": "@@ -1,3 +1,7 @@\n+2017-04-14  Andrew Burgess  <andrew.burgess@embecosm.com>\n+\n+\t* config/arc/arc.md (doloop_begin_i): Use @pcl assembler syntax.\n+\n 2017-04-14  Michael Meissner  <meissner@linux.vnet.ibm.com>\n \n \tPR target/80098"}, {"sha": "f707bd0755e4832cea01d29c16d1b62f21a0e0ab", "filename": "gcc/config/arc/arc.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8c1d6b64e3e163e434b2f8d8521a31c9469089f0/gcc%2Fconfig%2Farc%2Farc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8c1d6b64e3e163e434b2f8d8521a31c9469089f0/gcc%2Fconfig%2Farc%2Farc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farc%2Farc.md?ref=8c1d6b64e3e163e434b2f8d8521a31c9469089f0", "patch": "@@ -5070,7 +5070,7 @@\n     {\n       /* ??? Can do better for when a scratch register\n \t is known.  But that would require extra testing.  */\n-      return \"push_s r0\\;add r0,pcl,%4-(.&-4)\\;sr r0,[2]; LP_START\\;add r0,pcl,.L__GCC__LP%1-(.&-4)\\;sr r0,[3]; LP_END\\;pop_s r0\";\n+      return \"push_s r0\\;add r0,pcl,%4@pcl\\;sr r0,[2]; LP_START\\;add r0,pcl,.L__GCC__LP%1@pcl\\;sr r0,[3]; LP_END\\;pop_s r0\";\n     }\n   /* Check if the loop end is in range to be set by the lp instruction.  */\n   size = INTVAL (operands[3]) < 2 ? 0 : 2048;"}]}