{"sha": "de0e7b1fab41af63788f7e9042f000153a8e4117", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUwZTdiMWZhYjQxYWY2Mzc4OGY3ZTkwNDJmMDAwMTUzYThlNDExNw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2017-07-13T12:35:52Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2017-07-13T12:35:52Z"}, "message": "libcp1plugin.cc (plugin_build_decl): Use DECL_CXX_{CON,DE}STRUCTOR directly.\n\n\t* libcp1plugin.cc (plugin_build_decl): Use\n\tDECL_CXX_{CON,DE}STRUCTOR directly.\n\nFrom-SVN: r250180", "tree": {"sha": "58bdb537ffaaa38ad2258d7d60b31708c75338fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58bdb537ffaaa38ad2258d7d60b31708c75338fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de0e7b1fab41af63788f7e9042f000153a8e4117", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de0e7b1fab41af63788f7e9042f000153a8e4117", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de0e7b1fab41af63788f7e9042f000153a8e4117", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de0e7b1fab41af63788f7e9042f000153a8e4117/comments", "author": null, "committer": null, "parents": [{"sha": "6d28654eed653652112dd62241fbcc0fd6090707", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d28654eed653652112dd62241fbcc0fd6090707", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d28654eed653652112dd62241fbcc0fd6090707"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "d7bf5a29d6d0019a3a87aeb6979814aebf6721d3", "filename": "libcc1/libcp1plugin.cc", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de0e7b1fab41af63788f7e9042f000153a8e4117/libcc1%2Flibcp1plugin.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de0e7b1fab41af63788f7e9042f000153a8e4117/libcc1%2Flibcp1plugin.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libcc1%2Flibcp1plugin.cc?ref=de0e7b1fab41af63788f7e9042f000153a8e4117", "patch": "@@ -1556,7 +1556,7 @@ plugin_build_decl (cc1_plugin::connection *self,\n \n   if ((ctor || dtor)\n       /* Don't crash after a duplicate declaration of a cdtor.  */\n-      && TYPE_METHODS (current_class_type) == decl)\n+      && TYPE_FIELDS (current_class_type) == decl)\n     {\n       /* ctors and dtors clones are chained after DECL.\n \t However, we create the clones before TYPE_METHODS is\n@@ -1568,9 +1568,9 @@ plugin_build_decl (cc1_plugin::connection *self,\n       tree save = DECL_CHAIN (decl);\n       DECL_CHAIN (decl) = NULL_TREE;\n       clone_function_decl (decl, /*update_methods=*/true);\n-      gcc_assert (TYPE_METHODS (current_class_type) == decl);\n-      TYPE_METHODS (current_class_type)\n-\t= nreverse (TYPE_METHODS (current_class_type));\n+      gcc_assert (TYPE_FIELDS (current_class_type) == decl);\n+      TYPE_FIELDS (current_class_type)\n+\t= nreverse (TYPE_FIELDS (current_class_type));\n       DECL_CHAIN (decl) = save;\n     }\n "}]}