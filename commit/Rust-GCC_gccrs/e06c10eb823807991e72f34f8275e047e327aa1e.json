{"sha": "e06c10eb823807991e72f34f8275e047e327aa1e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTA2YzEwZWI4MjM4MDc5OTFlNzJmMzRmODI3NWUwNDdlMzI3YWExZQ==", "commit": {"author": {"name": "Robert Lipe", "email": "robertl@dgii.com", "date": "1998-07-01T00:16:29Z"}, "committer": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "1998-07-01T00:16:29Z"}, "message": "i386.c (asm_output_function_prefix): Make 686 function\n  prologues not issue .types for non-global lables.\n\nFrom-SVN: r20861", "tree": {"sha": "032f42b175bcec3b78093bac3cac0b08c62ff0d4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/032f42b175bcec3b78093bac3cac0b08c62ff0d4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e06c10eb823807991e72f34f8275e047e327aa1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e06c10eb823807991e72f34f8275e047e327aa1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e06c10eb823807991e72f34f8275e047e327aa1e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e06c10eb823807991e72f34f8275e047e327aa1e/comments", "author": null, "committer": null, "parents": [{"sha": "506506fa41d57ba80e9f17ebc5e76d8a8a728fcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/506506fa41d57ba80e9f17ebc5e76d8a8a728fcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/506506fa41d57ba80e9f17ebc5e76d8a8a728fcb"}], "stats": {"total": 18, "additions": 15, "deletions": 3}, "files": [{"sha": "812d9cc1c84c09a202a2636e219dfed0d2162e8e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e06c10eb823807991e72f34f8275e047e327aa1e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e06c10eb823807991e72f34f8275e047e327aa1e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e06c10eb823807991e72f34f8275e047e327aa1e", "patch": "@@ -1,3 +1,8 @@\n+Wed Jul  1 02:12:33 1998  Robert Lipe  <robertl@dgii.com>\n+\n+\t* i386.c (asm_output_function_prefix): Make 686 function\n+\tprologues not issue .types for non-global lables.\n+\n Tue Jun 30 23:46:53 1998  Dmitrij Tejblum <tejblum@arc.hq.cti.ru>\n \n \t* i386/freebsd.h (WCHAR_TYPE): Chagne to an \"int\"."}, {"sha": "336bb675cb6c33c81e73442da2ffd310bce869fe", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e06c10eb823807991e72f34f8275e047e327aa1e/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e06c10eb823807991e72f34f8275e047e327aa1e/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=e06c10eb823807991e72f34f8275e047e327aa1e", "patch": "@@ -1914,9 +1914,16 @@ asm_output_function_prefix (file, name)\n \n       prologue_node = make_node (FUNCTION_DECL);\n       DECL_RESULT (prologue_node) = 0;\n-#ifdef ASM_DECLARE_FUNCTION_NAME\n-      ASM_DECLARE_FUNCTION_NAME (file, pic_label_name, prologue_node);\n-#endif\n+\n+      /* This used to call ASM_DECLARE_FUNCTION_NAME() but since it's an\n+\t internal (non-global) label that's being emitted, it didn't make\n+\t sense to have .type information for local labels.   This caused\n+\t the SCO OpenServer 5.0.4 ELF assembler grief (why are you giving\n+  \t me debug info for a label that you're declaring non-global?) this\n+\t was changed to call ASM_OUTPUT_LABEL() instead. */\n+\n+\n+      ASM_OUTPUT_LABEL (file, pic_label_name); \n       output_asm_insn (\"movl (%1),%0\", xops);\n       output_asm_insn (\"ret\", xops);\n     }"}]}