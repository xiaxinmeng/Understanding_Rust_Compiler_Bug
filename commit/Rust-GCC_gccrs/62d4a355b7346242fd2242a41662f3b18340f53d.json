{"sha": "62d4a355b7346242fd2242a41662f3b18340f53d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjJkNGEzNTViNzM0NjI0MmZkMjI0MmE0MTY2MmYzYjE4MzQwZjUzZA==", "commit": {"author": {"name": "Tom de Vries", "email": "tdevries@suse.de", "date": "2019-01-28T22:21:19Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2019-01-28T22:21:19Z"}, "message": "[libbacktrace] Fix and simplify xcoff_%.c pattern rule\n\nWhen generating xcoff_%.c, the last command is a sed command.  In case of a\nsed failure, this will leave an incomplete file, which will appear as up to\ndate to make, so consequently it will not be regenerated.  Fix this by\nsedding into a temporary file instead.\n\nAlso, use $< to access the prerequisite xcoff.c, instead of spelling out the\nfile name once more.\n\n2019-01-28  Tom de Vries  <tdevries@suse.de>\n\n\t* Makefile.am (xcoff_%.c): Generate sed result into temporary file.\n\tUse $< to access prerequisite.\n\t* Makefile.in: Regenerate.\n\nFrom-SVN: r268344", "tree": {"sha": "1857f30aa773cb56b54368657b754eef669986a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1857f30aa773cb56b54368657b754eef669986a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/62d4a355b7346242fd2242a41662f3b18340f53d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62d4a355b7346242fd2242a41662f3b18340f53d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62d4a355b7346242fd2242a41662f3b18340f53d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62d4a355b7346242fd2242a41662f3b18340f53d/comments", "author": {"login": "vries", "id": 4057235, "node_id": "MDQ6VXNlcjQwNTcyMzU=", "avatar_url": "https://avatars.githubusercontent.com/u/4057235?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vries", "html_url": "https://github.com/vries", "followers_url": "https://api.github.com/users/vries/followers", "following_url": "https://api.github.com/users/vries/following{/other_user}", "gists_url": "https://api.github.com/users/vries/gists{/gist_id}", "starred_url": "https://api.github.com/users/vries/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vries/subscriptions", "organizations_url": "https://api.github.com/users/vries/orgs", "repos_url": "https://api.github.com/users/vries/repos", "events_url": "https://api.github.com/users/vries/events{/privacy}", "received_events_url": "https://api.github.com/users/vries/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b6d0f41ac5c1786911858b4763bb6f92519166f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6d0f41ac5c1786911858b4763bb6f92519166f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6d0f41ac5c1786911858b4763bb6f92519166f4"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "9097401014bbf6f35f92230e3e5187bf38d4b4ec", "filename": "libbacktrace/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d4a355b7346242fd2242a41662f3b18340f53d/libbacktrace%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d4a355b7346242fd2242a41662f3b18340f53d/libbacktrace%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FChangeLog?ref=62d4a355b7346242fd2242a41662f3b18340f53d", "patch": "@@ -1,3 +1,9 @@\n+2019-01-28  Tom de Vries  <tdevries@suse.de>\n+\n+\t* Makefile.am (xcoff_%.c): Generate sed result into temporary file.\n+\tUse $< to access prerequisite.\n+\t* Makefile.in: Regenerate.\n+\n 2019-01-25  Nathan Sidwell  <nathan@acm.org>\n \n \t* elf.c (elf_add): Pass \"\" filename to recursive call with"}, {"sha": "0d5b3193e2549c902f73fdcd368750309cc9d6cb", "filename": "libbacktrace/Makefile.am", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d4a355b7346242fd2242a41662f3b18340f53d/libbacktrace%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d4a355b7346242fd2242a41662f3b18340f53d/libbacktrace%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.am?ref=62d4a355b7346242fd2242a41662f3b18340f53d", "patch": "@@ -108,8 +108,9 @@ xcoff_%.c: xcoff.c\n \tREPLACE='#undef BACKTRACE_XCOFF_SIZE\\\n \t#define BACKTRACE_XCOFF_SIZE'; \\\n \t$(SED) \"s/^$$SEARCH\\$$/$$REPLACE $*/\" \\\n-\t\t$(srcdir)/xcoff.c \\\n-\t\t> $@\n+\t\t$< \\\n+\t\t> $@.tmp\n+\tmv $@.tmp $@\n \n test_elf_SOURCES = test_format.c testlib.c\n test_elf_LDADD = libbacktrace_noformat.la elf.lo"}, {"sha": "b25ac92aeda0864f4de303ed25fd9be4d1d05881", "filename": "libbacktrace/Makefile.in", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/62d4a355b7346242fd2242a41662f3b18340f53d/libbacktrace%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/62d4a355b7346242fd2242a41662f3b18340f53d/libbacktrace%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libbacktrace%2FMakefile.in?ref=62d4a355b7346242fd2242a41662f3b18340f53d", "patch": "@@ -1754,8 +1754,9 @@ uninstall-am:\n @NATIVE_TRUE@\tREPLACE='#undef BACKTRACE_XCOFF_SIZE\\\n @NATIVE_TRUE@\t#define BACKTRACE_XCOFF_SIZE'; \\\n @NATIVE_TRUE@\t$(SED) \"s/^$$SEARCH\\$$/$$REPLACE $*/\" \\\n-@NATIVE_TRUE@\t\t$(srcdir)/xcoff.c \\\n-@NATIVE_TRUE@\t\t> $@\n+@NATIVE_TRUE@\t\t$< \\\n+@NATIVE_TRUE@\t\t> $@.tmp\n+@NATIVE_TRUE@\tmv $@.tmp $@\n \n @NATIVE_TRUE@instrumented_alloc.lo: alloc.c\n "}]}