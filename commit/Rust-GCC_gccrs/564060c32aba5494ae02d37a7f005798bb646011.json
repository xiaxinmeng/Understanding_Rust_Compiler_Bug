{"sha": "564060c32aba5494ae02d37a7f005798bb646011", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTY0MDYwYzMyYWJhNTQ5NGFlMDJkMzdhN2YwMDU3OThiYjY0NjAxMQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-10-06T22:09:25Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-10-06T22:09:25Z"}, "message": "[multiple changes]\n\n2004-10-05  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR c++/17368\n        * semantics.c (finish_asm_stmt): Asm expressions need cleanup\n        also.\n\n2004-10-06  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR c++/17368\n        * g++.dg/ext/asm6.C: New test.\n\nFrom-SVN: r88627", "tree": {"sha": "f69aafaa7090073f1025eee854d0ae5fdd52b317", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f69aafaa7090073f1025eee854d0ae5fdd52b317"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/564060c32aba5494ae02d37a7f005798bb646011", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/564060c32aba5494ae02d37a7f005798bb646011", "html_url": "https://github.com/Rust-GCC/gccrs/commit/564060c32aba5494ae02d37a7f005798bb646011", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/564060c32aba5494ae02d37a7f005798bb646011/comments", "author": null, "committer": null, "parents": [{"sha": "df7d2d8064462dd97080d05df30063808203b70a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df7d2d8064462dd97080d05df30063808203b70a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df7d2d8064462dd97080d05df30063808203b70a"}], "stats": {"total": 25, "additions": 24, "deletions": 1}, "files": [{"sha": "20a6a2de72c5f9e8b19021e6a7a728646dfdf166", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=564060c32aba5494ae02d37a7f005798bb646011", "patch": "@@ -1,3 +1,9 @@\n+2004-10-05  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR c++/17368\n+\t* semantics.c (finish_asm_stmt): Asm expressions need cleanup\n+\talso.\n+\n 2004-10-05  Gabriel Dos Reis  <gdr@integrable-solutions.net>\n \n \tConvert diagnostics to use quoting flag q 6/n"}, {"sha": "78d2683f6ef839e78b1ee481b8c406c94ba5225d", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=564060c32aba5494ae02d37a7f005798bb646011", "patch": "@@ -1178,6 +1178,7 @@ finish_asm_stmt (int volatile_p, tree string, tree output_operands,\n \t\t  output_operands, input_operands,\n \t\t  clobbers);\n   ASM_VOLATILE_P (r) = volatile_p;\n+  r = maybe_cleanup_point_expr (r);\n   return add_stmt (r);\n }\n "}, {"sha": "8e23309fb6245918ac94689e9f77a64d5866e100", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=564060c32aba5494ae02d37a7f005798bb646011", "patch": "@@ -1,6 +1,11 @@\n+2004-10-06  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR c++/17368\n+\t* g++.dg/ext/asm6.C: New test.\n+\n 2004-10-06  Kenneth Zadeck <zadeck@naturalbridge.com>\n \n-\tgcc.dg/20011119-1.c : Added memory attribute to asm sequence.\n+\t* gcc.dg/20011119-1.c : Added memory attribute to asm sequence.\n \n 2004-10-06  Paul Brook  <paul@codesourcery.com>\n "}, {"sha": "eaf79f43cdee17d5cca7d2cfd70b5bb7bab6d44c", "filename": "gcc/testsuite/g++.dg/ext/asm6.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fasm6.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/564060c32aba5494ae02d37a7f005798bb646011/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fasm6.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fasm6.C?ref=564060c32aba5494ae02d37a7f005798bb646011", "patch": "@@ -0,0 +1,11 @@\n+struct A\n+{\n+    ~A();\n+};\n+int foo(A);\n+void bar()\n+{\n+    A a;\n+    asm(\"\" : : \"r\"(foo(a)) );//<-- cleanup needed here.\n+};\n+"}]}