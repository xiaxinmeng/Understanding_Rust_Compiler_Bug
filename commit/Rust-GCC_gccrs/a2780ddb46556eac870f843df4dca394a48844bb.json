{"sha": "a2780ddb46556eac870f843df4dca394a48844bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTI3ODBkZGI0NjU1NmVhYzg3MGY4NDNkZjRkY2EzOTRhNDg4NDRiYg==", "commit": {"author": {"name": "Andreas Krebbel", "email": "krebbel@linux.vnet.ibm.com", "date": "2015-05-19T14:51:47Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2015-05-19T14:51:47Z"}, "message": "optabs: Fix vec_perm -> V16QI middle end lowering.\n\nThe current implementation re-uses the location of the selection\npattern to generate a new one.  This fails if the pattern resides in a\nread-only location.\n\ngcc/\n\t* optabs.c (expand_vec_perm): Don't re-use SEL as target operand.\n\nFrom-SVN: r223369", "tree": {"sha": "8f9016957b046d14ea2fa168b38119c22cd95089", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8f9016957b046d14ea2fa168b38119c22cd95089"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a2780ddb46556eac870f843df4dca394a48844bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2780ddb46556eac870f843df4dca394a48844bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a2780ddb46556eac870f843df4dca394a48844bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a2780ddb46556eac870f843df4dca394a48844bb/comments", "author": null, "committer": null, "parents": [{"sha": "057021105092a95a712e4237959025683bee7d42", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/057021105092a95a712e4237959025683bee7d42", "html_url": "https://github.com/Rust-GCC/gccrs/commit/057021105092a95a712e4237959025683bee7d42"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "e261bc0f2fc4a0047c92c51368bb6c483c009138", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a2780ddb46556eac870f843df4dca394a48844bb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a2780ddb46556eac870f843df4dca394a48844bb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a2780ddb46556eac870f843df4dca394a48844bb", "patch": "@@ -1,3 +1,7 @@\n+2015-05-19  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n+\n+\t* optabs.c (expand_vec_perm): Don't re-use SEL as target operand.\n+\n 2015-05-19  Andreas Krebbel  <krebbel@linux.vnet.ibm.com>\n \n \t* config/s390/s390.c (s390_secondary_reload): Fix check for"}, {"sha": "5fa9eecb55f4feb0a10b51516b91b5779879f1ac", "filename": "gcc/optabs.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a2780ddb46556eac870f843df4dca394a48844bb/gcc%2Foptabs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a2780ddb46556eac870f843df4dca394a48844bb/gcc%2Foptabs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Foptabs.c?ref=a2780ddb46556eac870f843df4dca394a48844bb", "patch": "@@ -6777,11 +6777,11 @@ expand_vec_perm (machine_mode mode, rtx v0, rtx v1, rtx sel, rtx target)\n       machine_mode selmode = GET_MODE (sel);\n       if (u == 2)\n \tsel = expand_simple_binop (selmode, PLUS, sel, sel,\n-\t\t\t\t   sel, 0, OPTAB_DIRECT);\n+\t\t\t\t   NULL, 0, OPTAB_DIRECT);\n       else\n \tsel = expand_simple_binop (selmode, ASHIFT, sel,\n \t\t\t\t   GEN_INT (exact_log2 (u)),\n-\t\t\t\t   sel, 0, OPTAB_DIRECT);\n+\t\t\t\t   NULL, 0, OPTAB_DIRECT);\n       gcc_assert (sel != NULL);\n \n       /* Broadcast the low byte each element into each of its bytes.  */"}]}