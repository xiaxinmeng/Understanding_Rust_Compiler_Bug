{"sha": "d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDE3YzI5YzM1ZmMxMDA0MDJjYmZlZGIwYzY2M2ViOGU1ZmZjNGI5Ng==", "commit": {"author": {"name": "Paul Brook", "email": "paul@codesourcery.com", "date": "2009-12-22T12:24:32Z"}, "committer": {"name": "Paul Brook", "email": "pbrook@gcc.gnu.org", "date": "2009-12-22T12:24:32Z"}, "message": "tm.texi (ARG_POINTER_CFA_OFFSET): Document new default.\n\n2009-12-22  Paul Brook <paul@codesourcery.com>\n\n\tgcc/\n\t* doc/tm.texi (ARG_POINTER_CFA_OFFSET): Document new default.\n\t* defaults.h (ARG_POINTER_CFA_OFFSET): Add pretend_args_size.\n\t* config/spu/spu.h (ARG_POINTER_CFA_OFFSET): Add pretend_args_size.\n\nFrom-SVN: r155396", "tree": {"sha": "cd8771b1e0228f70a0a775d3d24200fb3cc66d8a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd8771b1e0228f70a0a775d3d24200fb3cc66d8a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/comments", "author": null, "committer": null, "parents": [{"sha": "ac2e5c890aa795612105a0c4d4ab48a57e5c60fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac2e5c890aa795612105a0c4d4ab48a57e5c60fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac2e5c890aa795612105a0c4d4ab48a57e5c60fd"}], "stats": {"total": 15, "additions": 12, "deletions": 3}, "files": [{"sha": "ff75266888db1b86ef7c63c6883ffd418b8411d3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "patch": "@@ -1,3 +1,9 @@\n+2009-12-22  Paul Brook <paul@codesourcery.com>\n+\n+\t* doc/tm.texi (ARG_POINTER_CFA_OFFSET): Document new default.\n+\t* defaults.h (ARG_POINTER_CFA_OFFSET): Add pretend_args_size.\n+\t* config/spu/spu.h (ARG_POINTER_CFA_OFFSET): Add pretend_args_size.\n+\n 2009-12-21  Brian Hackett  <bhackett1024@gmail.com>\n \n \t* plugin.def: Rename pre-genericize event."}, {"sha": "6d6a3061a631fbd633ab4a6ba982076b1584279b", "filename": "gcc/config/spu/spu.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2Fconfig%2Fspu%2Fspu.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2Fconfig%2Fspu%2Fspu.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fspu%2Fspu.h?ref=d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "patch": "@@ -272,7 +272,8 @@ targetm.resolve_overloaded_builtin = spu_resolve_overloaded_builtin;\t\\\n \n #define DWARF_FRAME_RETURN_COLUMN DWARF_FRAME_REGNUM (LINK_REGISTER_REGNUM)\n \n-#define ARG_POINTER_CFA_OFFSET(FNDECL) (-STACK_POINTER_OFFSET)\n+#define ARG_POINTER_CFA_OFFSET(FNDECL) \\\n+  (crtl->args.pretend_args_size - STACK_POINTER_OFFSET)\n \n \f\n /* Stack Checking */"}, {"sha": "8ca889684948b8a4dfffb3dba9980254b9c85df3", "filename": "gcc/defaults.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2Fdefaults.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2Fdefaults.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdefaults.h?ref=d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "patch": "@@ -1086,7 +1086,8 @@ see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see\n \n /* On most machines, the CFA coincides with the first incoming parm.  */\n #ifndef ARG_POINTER_CFA_OFFSET\n-#define ARG_POINTER_CFA_OFFSET(FNDECL) FIRST_PARM_OFFSET (FNDECL)\n+#define ARG_POINTER_CFA_OFFSET(FNDECL) \\\n+  (FIRST_PARM_OFFSET (FNDECL) + crtl->args.pretend_args_size)\n #endif\n \n /* On most machines, we use the CFA as DW_AT_frame_base.  */"}, {"sha": "4ae9e2e7f9fb462ad7b9bd99447ce4607bf245f3", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d17c29c35fc100402cbfedb0c663eb8e5ffc4b96/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=d17c29c35fc100402cbfedb0c663eb8e5ffc4b96", "patch": "@@ -3340,7 +3340,8 @@ final value should coincide with that calculated by\n @code{INCOMING_FRAME_SP_OFFSET}.  Which is unfortunately not usable\n during virtual register instantiation.\n \n-The default value for this macro is @code{FIRST_PARM_OFFSET (fundecl)},\n+The default value for this macro is\n+@code{FIRST_PARM_OFFSET (fundecl) + crtl->args.pretend_args_size},\n which is correct for most machines; in general, the arguments are found\n immediately before the stack frame.  Note that this is not the case on\n some targets that save registers into the caller's frame, such as SPARC"}]}