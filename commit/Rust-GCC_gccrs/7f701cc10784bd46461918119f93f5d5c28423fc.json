{"sha": "7f701cc10784bd46461918119f93f5d5c28423fc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Y3MDFjYzEwNzg0YmQ0NjQ2MTkxODExOWY5M2Y1ZDVjMjg0MjNmYw==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2010-12-10T16:06:30Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2010-12-10T16:06:30Z"}, "message": "decl.c (grokmethod): Test DECL_CLASS_SCOPE_P.\n\n\t* decl.c (grokmethod): Test DECL_CLASS_SCOPE_P.\n\t* error.c (dump_decl): Test DECL_FILE_SCOPE_P.\n\nFrom-SVN: r167691", "tree": {"sha": "49ef354df8df1a4fb1bcc1ed7d1084a065baabb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/49ef354df8df1a4fb1bcc1ed7d1084a065baabb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f701cc10784bd46461918119f93f5d5c28423fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f701cc10784bd46461918119f93f5d5c28423fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f701cc10784bd46461918119f93f5d5c28423fc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f701cc10784bd46461918119f93f5d5c28423fc/comments", "author": null, "committer": null, "parents": [{"sha": "97ce54b9ed9b518d6c028b138c06c914e11b7622", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97ce54b9ed9b518d6c028b138c06c914e11b7622", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97ce54b9ed9b518d6c028b138c06c914e11b7622"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "4b060564412c5ea6c3901ddb806446d7f778bf54", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f701cc10784bd46461918119f93f5d5c28423fc/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f701cc10784bd46461918119f93f5d5c28423fc/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=7f701cc10784bd46461918119f93f5d5c28423fc", "patch": "@@ -1,3 +1,8 @@\n+2010-12-10  Nathan Froyd  <froydnj@codesourcery.com>\n+\n+\t* decl.c (grokmethod): Test DECL_CLASS_SCOPE_P.\n+\t* error.c (dump_decl): Test DECL_FILE_SCOPE_P.\n+\n 2010-12-10  Nathan Froyd  <froydnj@codesourcery.com>\n \n \t* cp-tree.h (readonly_error_kind): Delete."}, {"sha": "b75a13e2de3fed2812d0c3d5b60f9694c85b7351", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f701cc10784bd46461918119f93f5d5c28423fc/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f701cc10784bd46461918119f93f5d5c28423fc/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=7f701cc10784bd46461918119f93f5d5c28423fc", "patch": "@@ -13098,8 +13098,7 @@ grokmethod (cp_decl_specifier_seq *declspecs,\n \n   if (DECL_IN_AGGR_P (fndecl))\n     {\n-      if (DECL_CONTEXT (fndecl)\n-\t  && TREE_CODE (DECL_CONTEXT (fndecl)) != NAMESPACE_DECL)\n+      if (DECL_CLASS_SCOPE_P (fndecl))\n \terror (\"%qD is already defined in class %qT\", fndecl,\n \t       DECL_CONTEXT (fndecl));\n       return error_mark_node;"}, {"sha": "e1bac244418f5599a90570ede4edaa8504ff39a9", "filename": "gcc/cp/error.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f701cc10784bd46461918119f93f5d5c28423fc/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f701cc10784bd46461918119f93f5d5c28423fc/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=7f701cc10784bd46461918119f93f5d5c28423fc", "patch": "@@ -1027,7 +1027,7 @@ dump_decl (tree t, int flags)\n \t      dump_type (DECL_CONTEXT (t), flags);\n \t      pp_cxx_colon_colon (cxx_pp);\n \t    }\n-\t  else if (DECL_CONTEXT (t))\n+\t  else if (!DECL_FILE_SCOPE_P (t))\n \t    {\n \t      dump_decl (DECL_CONTEXT (t), flags);\n \t      pp_cxx_colon_colon (cxx_pp);"}]}