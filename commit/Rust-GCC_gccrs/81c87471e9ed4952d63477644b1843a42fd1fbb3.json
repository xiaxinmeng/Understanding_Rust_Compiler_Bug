{"sha": "81c87471e9ed4952d63477644b1843a42fd1fbb3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODFjODc0NzFlOWVkNDk1MmQ2MzQ3NzY0NGIxODQzYTQyZmQxZmJiMw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2014-02-04T10:46:22Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2014-02-04T10:46:22Z"}, "message": "re PR sanitizer/60055 (Invalid binding of __tsan_default_options)\n\n\tPR sanitizer/60055\n\t* tsan/tsan_flags.cc (__tsan_default_options): Add\n\tSANITIZER_INTERFACE_ATTRIBUTE.  Backport from upstream r200747.\n\t* tsan/tsan_rtl.cc (__tsan::OnFinalize): Likewise.\n\nFrom-SVN: r207459", "tree": {"sha": "e9339ebb002ea58744a5123eb12281e41abec7f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9339ebb002ea58744a5123eb12281e41abec7f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/81c87471e9ed4952d63477644b1843a42fd1fbb3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81c87471e9ed4952d63477644b1843a42fd1fbb3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81c87471e9ed4952d63477644b1843a42fd1fbb3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81c87471e9ed4952d63477644b1843a42fd1fbb3/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "25c90aae33b79da3efe82a1d5e23879b4672de50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25c90aae33b79da3efe82a1d5e23879b4672de50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25c90aae33b79da3efe82a1d5e23879b4672de50"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "d8147db33640ee5202519fdd8a5ea84dc52b90b4", "filename": "libsanitizer/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81c87471e9ed4952d63477644b1843a42fd1fbb3/libsanitizer%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81c87471e9ed4952d63477644b1843a42fd1fbb3/libsanitizer%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2FChangeLog?ref=81c87471e9ed4952d63477644b1843a42fd1fbb3", "patch": "@@ -1,5 +1,10 @@\n 2014-02-04  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR sanitizer/60055\n+\t* tsan/tsan_flags.cc (__tsan_default_options): Add\n+\tSANITIZER_INTERFACE_ATTRIBUTE.  Backport from upstream r200747.\n+\t* tsan/tsan_rtl.cc (__tsan::OnFinalize): Likewise.\n+\n \tPR sanitizer/60038\n \t* sanitizer_common/sanitizer_linux_libcdep.cc: Include\n \tsanitizer_atomic.h and unistd.h."}, {"sha": "158e24f82412f7245b35779a25ea48dd31241d55", "filename": "libsanitizer/tsan/tsan_flags.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81c87471e9ed4952d63477644b1843a42fd1fbb3/libsanitizer%2Ftsan%2Ftsan_flags.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81c87471e9ed4952d63477644b1843a42fd1fbb3/libsanitizer%2Ftsan%2Ftsan_flags.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Ftsan%2Ftsan_flags.cc?ref=81c87471e9ed4952d63477644b1843a42fd1fbb3", "patch": "@@ -29,7 +29,8 @@ extern \"C\" const char* __tsan_default_options();\n void WEAK OverrideFlags(Flags *f) {\n   (void)f;\n }\n-extern \"C\" const char *WEAK __tsan_default_options() {\n+extern \"C\" SANITIZER_INTERFACE_ATTRIBUTE\n+const char *WEAK __tsan_default_options() {\n   return \"\";\n }\n #endif"}, {"sha": "573eeb8a9188c347b1b320d1a98457b9f87ea811", "filename": "libsanitizer/tsan/tsan_rtl.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/81c87471e9ed4952d63477644b1843a42fd1fbb3/libsanitizer%2Ftsan%2Ftsan_rtl.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/81c87471e9ed4952d63477644b1843a42fd1fbb3/libsanitizer%2Ftsan%2Ftsan_rtl.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libsanitizer%2Ftsan%2Ftsan_rtl.cc?ref=81c87471e9ed4952d63477644b1843a42fd1fbb3", "patch": "@@ -40,6 +40,7 @@ static char ctx_placeholder[sizeof(Context)] ALIGNED(64);\n #ifdef TSAN_EXTERNAL_HOOKS\n bool OnFinalize(bool failed);\n #else\n+SANITIZER_INTERFACE_ATTRIBUTE\n bool WEAK OnFinalize(bool failed) {\n   return failed;\n }"}]}