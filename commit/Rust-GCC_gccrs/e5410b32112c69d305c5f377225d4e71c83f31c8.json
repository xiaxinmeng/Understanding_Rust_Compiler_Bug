{"sha": "e5410b32112c69d305c5f377225d4e71c83f31c8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTU0MTBiMzIxMTJjNjlkMzA1YzVmMzc3MjI1ZDRlNzFjODNmMzFjOA==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2001-06-01T11:57:35Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2001-06-01T11:57:35Z"}, "message": "Amend previous changelog PR g++/2936 Part missed from first commit\n\nAmend previous changelog\n\tPR g++/2936\n\tPart missed from first commit\n\t* decl2.c (finish_anon_union): Copy context.\n\nFrom-SVN: r42777", "tree": {"sha": "623386ffc81e16d35ca5b1888a1e86ed854ca4d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/623386ffc81e16d35ca5b1888a1e86ed854ca4d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e5410b32112c69d305c5f377225d4e71c83f31c8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5410b32112c69d305c5f377225d4e71c83f31c8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5410b32112c69d305c5f377225d4e71c83f31c8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5410b32112c69d305c5f377225d4e71c83f31c8/comments", "author": null, "committer": null, "parents": [{"sha": "feb48bde314eefc11a5de647ab316e4598c713e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/feb48bde314eefc11a5de647ab316e4598c713e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/feb48bde314eefc11a5de647ab316e4598c713e8"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "8f49fc685d500829d3c714781eb792ded0f798f9", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5410b32112c69d305c5f377225d4e71c83f31c8/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5410b32112c69d305c5f377225d4e71c83f31c8/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e5410b32112c69d305c5f377225d4e71c83f31c8", "patch": "@@ -1,7 +1,12 @@\n+2001-06-01  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR g++/2936\n+\tPart missed from first commit\n+\t* decl2.c (finish_anon_union): Copy context.\n+\n 2001-05-30  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR g++/2936\n-\t* decl.c (finish_anon_union): Copy context.\n \t* optimize.c (remap_decl): Remap anonymous aggregate members too.\n \n 2001-05-26  Nathan Sidwell  <nathan@codesourcery.com>"}, {"sha": "3dac86679a035c28c09525c856eb1ef419871a14", "filename": "gcc/cp/decl2.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e5410b32112c69d305c5f377225d4e71c83f31c8/gcc%2Fcp%2Fdecl2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e5410b32112c69d305c5f377225d4e71c83f31c8/gcc%2Fcp%2Fdecl2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl2.c?ref=e5410b32112c69d305c5f377225d4e71c83f31c8", "patch": "@@ -2113,6 +2113,9 @@ finish_anon_union (anon_union_decl)\n   int static_p = TREE_STATIC (anon_union_decl);\n   int external_p = DECL_EXTERNAL (anon_union_decl);\n \n+  /* The VAR_DECL's context is the same as the TYPE's context. */\n+  DECL_CONTEXT (anon_union_decl) = DECL_CONTEXT (TYPE_NAME (type));\n+  \n   if (TYPE_FIELDS (type) == NULL_TREE)\n     return;\n "}]}