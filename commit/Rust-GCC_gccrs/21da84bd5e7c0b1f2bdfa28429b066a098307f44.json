{"sha": "21da84bd5e7c0b1f2bdfa28429b066a098307f44", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjFkYTg0YmQ1ZTdjMGIxZjJiZGZhMjg0MjliMDY2YTA5ODMwN2Y0NA==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2007-09-14T19:24:26Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2007-09-14T19:24:26Z"}, "message": "re PR target/33438 (ICE in cselib_record_set, at cselib.c:1515 on x86)\n\n        PR target/33438\n        * config/i386/i386.md (fmodxf3): Copy operands[2] to temporary register\n        when operands[2] equals operands[1].\n        (remainderxf3): Ditto.\n\ntestsuite/ChangeLog:\n\n        PR target/33438\n        * gcc.target/i386/pr33438.c: New test.\n\nFrom-SVN: r128502", "tree": {"sha": "4abcf9dad0688d3ff2d411ff47c86465f62bf3c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4abcf9dad0688d3ff2d411ff47c86465f62bf3c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/21da84bd5e7c0b1f2bdfa28429b066a098307f44", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21da84bd5e7c0b1f2bdfa28429b066a098307f44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21da84bd5e7c0b1f2bdfa28429b066a098307f44", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21da84bd5e7c0b1f2bdfa28429b066a098307f44/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "56e449d39af4a5c032d8d1f2825182ebed7a1a75", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56e449d39af4a5c032d8d1f2825182ebed7a1a75", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56e449d39af4a5c032d8d1f2825182ebed7a1a75"}], "stats": {"total": 55, "additions": 47, "deletions": 8}, "files": [{"sha": "728309eda9e6ffdc0b47c69018a721b444c7b441", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=21da84bd5e7c0b1f2bdfa28429b066a098307f44", "patch": "@@ -1,3 +1,10 @@\n+2007-09-14  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/33438\n+\t* config/i386/i386.md (fmodxf3): Copy operands[2] to temporary register\n+\twhen operands[2] equals operands[1].\n+\t(remainderxf3): Ditto.\n+\n 2007-09-14  Sandra Loosemore  <sandra@codesourcery.com>\n \t    Nigel Stephens  <nigel@mips.com>\n \n@@ -1191,8 +1198,7 @@\n \t(lshr<mode>3): Ditto.\n \t(ashl<mode>3): Ditto.\n \t(vec_shl_<mode>): Use const_0_to_255_mul_8_operand predicate for op2.\n-\t(vec_shr_<mode>): Use const_0_to_255_mul_8_operand predicate for op2.\n-\n+\t(vec_shr_<mode>): Ditto.\n \t* gcc/config/i386/i386.c (ix86_expand_builtin) [IX86_BUILTIN_PSLL?128,\n \tIX86_BUILTIN_PSRA*?128, IX86_BUILTIN_PSRL?128]: Convert op1 to SImode.\n "}, {"sha": "622686beeaf109b1e6d9c9c3a42e25db6d7eae2d", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 22, "deletions": 6, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=21da84bd5e7c0b1f2bdfa28429b066a098307f44", "patch": "@@ -16691,10 +16691,18 @@\n {\n   rtx label = gen_label_rtx ();\n \n-  emit_label (label);\n+  rtx op2;\n+\n+  if (rtx_equal_p (operands[1], operands[2]))\n+    {\n+      op2 = gen_reg_rtx (XFmode);\n+      emit_move_insn (op2, operands[2]);\n+    }\n+  else\n+    op2 = operands[2];\n \n-  emit_insn (gen_fpremxf4_i387 (operands[1], operands[2],\n-\t\t\t\toperands[1], operands[2]));\n+  emit_label (label);\n+  emit_insn (gen_fpremxf4_i387 (operands[1], op2, operands[1], op2));\n   ix86_emit_fp_unordered_jump (label);\n   LABEL_NUSES (label) = 1;\n \n@@ -16755,10 +16763,18 @@\n {\n   rtx label = gen_label_rtx ();\n \n-  emit_label (label);\n+  rtx op2;\n+\n+  if (rtx_equal_p (operands[1], operands[2]))\n+    {\n+      op2 = gen_reg_rtx (XFmode);\n+      emit_move_insn (op2, operands[2]);\n+    }\n+  else\n+    op2 = operands[2];\n \n-  emit_insn (gen_fprem1xf4_i387 (operands[1], operands[2],\n-\t\t\t\t operands[1], operands[2]));\n+  emit_label (label);\n+  emit_insn (gen_fprem1xf4_i387 (operands[1], op2, operands[1], op2));\n   ix86_emit_fp_unordered_jump (label);\n   LABEL_NUSES (label) = 1;\n "}, {"sha": "884f3f93984f2877ca54f2f5756a30e3629b3c27", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=21da84bd5e7c0b1f2bdfa28429b066a098307f44", "patch": "@@ -1,3 +1,8 @@\n+2007-09-14  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR target/33438\n+\t* gcc.target/i386/pr33438.c: New test.\n+\n 2007-09-14  Francois-Xavier Coudert  <fxcoudert@gcc.gnu.org>\n \n \t* gfortran.dg/nint_2.f90: Revert previous commit."}, {"sha": "8fe2a946bba2772aa2d3278a41f0cc2ac6bbd703", "filename": "gcc/testsuite/gcc.target/i386/pr33483.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr33483.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/21da84bd5e7c0b1f2bdfa28429b066a098307f44/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr33483.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr33483.c?ref=21da84bd5e7c0b1f2bdfa28429b066a098307f44", "patch": "@@ -0,0 +1,12 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O2\" } */\n+\n+long double f1 (long double x)\n+{\n+  return __builtin_fmodl (x, x);\n+}\n+\n+long double f2 (long double x)\n+{\n+  return __builtin_remainderl (x, x);\n+}"}]}