{"sha": "400ec270792adedd6950240d2adfb90cc8d0f26d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDAwZWMyNzA3OTJhZGVkZDY5NTAyNDBkMmFkZmI5MGNjOGQwZjI2ZA==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-09-08T07:01:32Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "1999-09-08T07:01:32Z"}, "message": "posix-threads.h (_Jv_PthreadCheckMonitor): Changed test in __m_count case.\n\n\t* include/posix-threads.h (_Jv_PthreadCheckMonitor): Changed test\n\tin __m_count case.\n\nFrom-SVN: r29193", "tree": {"sha": "545b1054d4194b06ad0b023d71e8207c08207fa9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/545b1054d4194b06ad0b023d71e8207c08207fa9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/400ec270792adedd6950240d2adfb90cc8d0f26d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/400ec270792adedd6950240d2adfb90cc8d0f26d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/400ec270792adedd6950240d2adfb90cc8d0f26d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/400ec270792adedd6950240d2adfb90cc8d0f26d/comments", "author": null, "committer": null, "parents": [{"sha": "f3ad1f9c0d8f61ccd729b0b9687944856dd9cf07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f3ad1f9c0d8f61ccd729b0b9687944856dd9cf07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f3ad1f9c0d8f61ccd729b0b9687944856dd9cf07"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "9d60804091803abd75b027a960162a42b3870f32", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/400ec270792adedd6950240d2adfb90cc8d0f26d/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/400ec270792adedd6950240d2adfb90cc8d0f26d/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=400ec270792adedd6950240d2adfb90cc8d0f26d", "patch": "@@ -1,3 +1,8 @@\n+1999-09-08  Tom Tromey  <tromey@cygnus.com>\n+\n+\t* include/posix-threads.h (_Jv_PthreadCheckMonitor): Changed test\n+\tin __m_count case.\n+\n 1999-09-07  Tom Tromey  <tromey@cygnus.com>\n \n \t* posix-threads.cc (_Jv_CondWait): pthread_ calls return error\n@@ -6,7 +11,7 @@\n \t* posix-threads.cc (_Jv_CondWait): Check `errno' against EINTR,\n \tnot `r'.  Changed `done_sleeping' to a `bool'.\n \n-1999-09-07  Matt Welsh <mdw@cs.berkeley.edu\n+1999-09-07  Matt Welsh <mdw@cs.berkeley.edu>\n \n \t* libjava/posix-threads.cc: Added _Jv_ThreadDataKey.\n \tAdded FLAG_INTERRUPTED to indicate that a thread was interrupted"}, {"sha": "f60dc8fe20a3e4f6a08e1cda22acf2a56c9f5aff", "filename": "libjava/THANKS", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/400ec270792adedd6950240d2adfb90cc8d0f26d/libjava%2FTHANKS", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/400ec270792adedd6950240d2adfb90cc8d0f26d/libjava%2FTHANKS", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FTHANKS?ref=400ec270792adedd6950240d2adfb90cc8d0f26d", "patch": "@@ -11,6 +11,7 @@ Franz Sirl\t\tFranz.Sirl-kernel@lauterbach.com\n Geoff Berry\t\tgcb@gnu.org\n Gilles Zunino\t\tGilles.Zunino@hei.fr\n Kresten Krab Thorup\tkrab@gnu.org\n+Matt Welsh\t\tmdw@cs.berkeley.edu\n Per Bothner\t\tper@bothner.com\n Rainer Orth\t\tro@TechFak.Uni-Bielefeld.DE\n Stu Grossman\t\tgrossman@juniper.net"}, {"sha": "00a918fab279764feeae324cc8d4e261b94838b7", "filename": "libjava/include/posix-threads.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/400ec270792adedd6950240d2adfb90cc8d0f26d/libjava%2Finclude%2Fposix-threads.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/400ec270792adedd6950240d2adfb90cc8d0f26d/libjava%2Finclude%2Fposix-threads.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fposix-threads.h?ref=400ec270792adedd6950240d2adfb90cc8d0f26d", "patch": "@@ -114,7 +114,7 @@ _Jv_PthreadCheckMonitor (_Jv_Mutex_t *mu)\n   // On Linux we exploit knowledge of the implementation.\n   int r = pmu->m_count == 1;\n #elif defined (PTHREAD_MUTEX_HAVE___M_COUNT)\n-  int r = pmu->__m_count == 1;\n+  int r = (pthread_t) pmu->__m_owner == pthread_self ();\n #else\n   int r = mu->count == 0;\n #endif"}]}