{"sha": "44a4ca5e4fd004949da533324aed10247b2ea3e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDRhNGNhNWU0ZmQwMDQ5NDlkYTUzMzMyNGFlZDEwMjQ3YjJlYTNlNQ==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2001-10-12T19:44:38Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2001-10-12T19:44:38Z"}, "message": "arit.c: Use __builtin_labs, not abs.\n\n\t* config/cris/arit.c: Use __builtin_labs, not abs.\n\n\t* config/cris/cris.h (SET_STRIPPABLE_EXECUTABLE): Don't define.\n\n\t* config/cris/cris.c (cris_target_asm_function_epilogue): Move\n\tmisplaced sprintf and fprintf argument.\n\nFrom-SVN: r46234", "tree": {"sha": "81fd73c7dcf4916cf122857004db1d0ae3d148f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81fd73c7dcf4916cf122857004db1d0ae3d148f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44a4ca5e4fd004949da533324aed10247b2ea3e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44a4ca5e4fd004949da533324aed10247b2ea3e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44a4ca5e4fd004949da533324aed10247b2ea3e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44a4ca5e4fd004949da533324aed10247b2ea3e5/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "71a94577632a238bf4e112f0f016819ead09f1d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71a94577632a238bf4e112f0f016819ead09f1d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71a94577632a238bf4e112f0f016819ead09f1d5"}], "stats": {"total": 43, "additions": 14, "deletions": 29}, "files": [{"sha": "ae5a21ef1947758f9d5e918871944bb9efe12970", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=44a4ca5e4fd004949da533324aed10247b2ea3e5", "patch": "@@ -1,3 +1,12 @@\n+2001-10-12  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* config/cris/arit.c: Use __builtin_labs, not abs.\n+\n+\t* config/cris/cris.h (SET_STRIPPABLE_EXECUTABLE): Don't define.\n+\n+\t* config/cris/cris.c (cris_target_asm_function_epilogue): Move\n+\tmisplaced sprintf and fprintf argument.\n+\n 2001-10-12  Zack Weinberg  <zack@codesourcery.com>\n \n \t* ABOUT-NLS, aclocal.m4: Update i18n framework from gettext 0.10.40."}, {"sha": "057ce81d0ad8da3bb8d68b1c243e0e7e308a78fe", "filename": "gcc/config/cris/arit.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2Fconfig%2Fcris%2Farit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2Fconfig%2Fcris%2Farit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Farit.c?ref=44a4ca5e4fd004949da533324aed10247b2ea3e5", "patch": "@@ -223,7 +223,7 @@ __Div (long a, long b)\n      which is still 32 bits.  */\n \n   sign = a ^ b;\n-  result = __Udiv (abs (a), abs (b));\n+  result = __Udiv (__builtin_labs (a), __builtin_labs (b));\n \n   return  (sign < 0) ? -result : result;\n }\n@@ -286,7 +286,7 @@ __Mod (long a, long b)\n {\n   long\tresult;\n \n-  result = __Umod (abs (a), abs (b));\n+  result = __Umod (__builtin_labs (a), __builtin_labs (b));\n \n   return (a < 0) ? -result : result;\n }"}, {"sha": "668811ee010d01dcc44c0e6b3418955cd2db2391", "filename": "gcc/config/cris/cris.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2Fconfig%2Fcris%2Fcris.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2Fconfig%2Fcris%2Fcris.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.c?ref=44a4ca5e4fd004949da533324aed10247b2ea3e5", "patch": "@@ -1058,7 +1058,7 @@ cris_target_asm_function_epilogue (file, size)\n \t/* Flush previous non-movem:ed registers.  */\n \tif (*save_last && file)\n \t  fprintf (file, save_last);\n-\tsprintf (save_last, \"\\tPop $%s\\n\");\n+\tsprintf (save_last, \"\\tPop $%s\\n\", reg_names[regno]);\n       }\n \n   if (last_movem_reg != -1)\n@@ -1140,7 +1140,7 @@ cris_target_asm_function_epilogue (file, size)\n \t    {\n \t      /* The installed EH-return address is in *this* frame, so we\n \t\t need to pop it before we return.  */\n-\t      fprintf (file, \"\\tpop $srp\\n\", reg_names[CRIS_STACKADJ_REG]);\n+\t      fprintf (file, \"\\tpop $srp\\n\");\n \t      fprintf (file, \"\\tret\\n\");\n \t      fprintf (file, \"\\tadd.d $%s,$sp\\n\", reg_names[CRIS_STACKADJ_REG]);\n \t    }"}, {"sha": "8e62c4119fec2143f575ed6e06362a43aaa7199c", "filename": "gcc/config/cris/cris.h", "status": "modified", "additions": 1, "deletions": 25, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2Fconfig%2Fcris%2Fcris.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44a4ca5e4fd004949da533324aed10247b2ea3e5/gcc%2Fconfig%2Fcris%2Fcris.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Fcris.h?ref=44a4ca5e4fd004949da533324aed10247b2ea3e5", "patch": "@@ -1714,31 +1714,7 @@ struct cum_args {int regs;};\n /* (no definitions) */\n \n /* Node: Macros for Initialization */\n-\n-/* We don't want to use \"strip\" for anything linked with \"-melinux\"\n-   \"-shlib\", seen by the linker as \"-Ur -d -Bdynamic\" in combination.  */\n-#define SET_STRIPPABLE_EXECUTABLE(DS, ARGC, ARGV)\t\t\\\n-  do \t\t\t\t\t\t\t\t\\\n-    {\t\t\t\t\t\t\t\t\\\n-      int i;\t\t\t\t\t\t\t\\\n-      int flags = 0;\t\t\t\t\t\t\\\n-      for (i = (ARGC) - 1; i > 0; i--)\t\t\t\t\\\n-\t{\t\t\t\t\t\t\t\\\n-\t  if (strcmp ((ARGV)[i], \"-Ur\") == 0)\t\t\t\\\n-\t    flags |= 1;\t\t\t\t\t\t\\\n-\t  else if (strcmp ((ARGV)[i], \"-d\") == 0)\t\t\\\n-\t    flags |= 2;\t\t\t\t\t\t\\\n-\t  else if (strcmp ((ARGV)[i], \"-Bdynamic\") == 0)\t\\\n-\t    flags |= 4;\t\t\t\t\t\t\\\n-\t\t\t\t\t\t\t\t\\\n-\t  if (flags == 7)\t\t\t\t\t\\\n-\t    break;\t\t\t\t\t\t\\\n-\t}\t\t\t\t\t\t\t\\\n-\t\t\t\t\t\t\t\t\\\n-      (DS) = (flags != 7);\t\t\t\t\t\\\n-    }\t\t\t\t\t\t\t\t\\\n-  while (0)\n-\n+/* (no definitions) */\n \n /* Node: Instruction Output */\n "}]}