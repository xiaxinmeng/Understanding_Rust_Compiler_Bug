{"sha": "38692f1f94e9483345a45de94d2a70443e4717e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzg2OTJmMWY5NGU5NDgzMzQ1YTQ1ZGU5NGQyYTcwNDQzZTQ3MTdlNA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-06-25T20:13:21Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-06-25T20:13:21Z"}, "message": "(OBJC_ERR_BAD_STATE): New error code.\n\nOn NeXT redefine object_copy and object_dispose to avoid\na conflict with those defined in system library.\n\nFrom-SVN: r14306", "tree": {"sha": "40629c46d57381b85367c0864641269577eb6eaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/40629c46d57381b85367c0864641269577eb6eaf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38692f1f94e9483345a45de94d2a70443e4717e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38692f1f94e9483345a45de94d2a70443e4717e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38692f1f94e9483345a45de94d2a70443e4717e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38692f1f94e9483345a45de94d2a70443e4717e4/comments", "author": null, "committer": null, "parents": [{"sha": "c3fb89daf573163de78694a643965bdcccbc988d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3fb89daf573163de78694a643965bdcccbc988d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3fb89daf573163de78694a643965bdcccbc988d"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "1f417f8287c53e09fe87ab1b98823fac54f9e8e4", "filename": "gcc/objc/objc-api.h", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38692f1f94e9483345a45de94d2a70443e4717e4/gcc%2Fobjc%2Fobjc-api.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38692f1f94e9483345a45de94d2a70443e4717e4/gcc%2Fobjc%2Fobjc-api.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fobjc%2Fobjc-api.h?ref=38692f1f94e9483345a45de94d2a70443e4717e4", "patch": "@@ -127,6 +127,8 @@ objc_error_handler objc_set_error_handler(objc_error_handler func);\n \n #define OBJC_ERR_UNIMPLEMENTED 30      /* Method is not implemented */\n \n+#define OBJC_ERR_BAD_STATE 40          /* Bad thread state */\n+\n /*\n ** Set this variable nonzero to print a line describing each\n ** message that is sent.  (this is currently disabled)\n@@ -443,12 +445,6 @@ BOOL sel_is_mapped (SEL aSel);\n \n extern id class_create_instance(Class class);\n \n-/* You should call this function immediately after a bundle has loaded the\n-   code. This function sends the +load message to all classes/categories\n-   just loaded and then calls the _objc_load_callback function for each\n-   class/category. */\n-extern void objc_send_load (void);\n-\n static inline const char *\n class_get_class_name(Class class)\n {\n@@ -507,6 +503,12 @@ method_get_imp(Method_t method)\n \n IMP get_imp (Class class, SEL sel);\n \n+/* Redefine on NeXTSTEP so as not to conflict with system function */\n+#ifdef __NeXT__\n+#define object_copy\tgnu_object_copy\n+#define object_dispose\tgnu_object_dispose\n+#endif\n+\n id object_copy(id object);\n \n id object_dispose(id object);"}]}