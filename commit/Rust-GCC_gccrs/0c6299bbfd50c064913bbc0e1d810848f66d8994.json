{"sha": "0c6299bbfd50c064913bbc0e1d810848f66d8994", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGM2Mjk5YmJmZDUwYzA2NDkxM2JiYzBlMWQ4MTA4NDhmNjZkODk5NA==", "commit": {"author": {"name": "Markus Trippelsdorf", "email": "markus@trippelsdorf.de", "date": "2017-01-18T15:49:15Z"}, "committer": {"name": "Markus Trippelsdorf", "email": "trippels@gcc.gnu.org", "date": "2017-01-18T15:49:15Z"}, "message": "PR c++/77489 -- Reorganize abi warning check\n\n\tPR c++/77489\n\t* mangle.c (write_discriminator): Reorganize abi warning check.\n\nFrom-SVN: r244580", "tree": {"sha": "6b3c0cb7f743a6a5b1f77be83ea32176e4c1a0fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6b3c0cb7f743a6a5b1f77be83ea32176e4c1a0fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0c6299bbfd50c064913bbc0e1d810848f66d8994", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c6299bbfd50c064913bbc0e1d810848f66d8994", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0c6299bbfd50c064913bbc0e1d810848f66d8994", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0c6299bbfd50c064913bbc0e1d810848f66d8994/comments", "author": null, "committer": null, "parents": [{"sha": "8465132c9b8b8dd9a98f97bbba93b6fd8da1da44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8465132c9b8b8dd9a98f97bbba93b6fd8da1da44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8465132c9b8b8dd9a98f97bbba93b6fd8da1da44"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "7e8c465aba9a044610d6afecf997b55efadebbc1", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c6299bbfd50c064913bbc0e1d810848f66d8994/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c6299bbfd50c064913bbc0e1d810848f66d8994/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=0c6299bbfd50c064913bbc0e1d810848f66d8994", "patch": "@@ -1,3 +1,8 @@\n+2017-01-18  Markus Trippelsdorf  <markus@trippelsdorf.de>\n+\n+\tPR c++/77489\n+\t* mangle.c (write_discriminator): Reorganize abi warning check.\n+\n 2017-01-18  Nathan Sidwell  <nathan@acm.org>\n \n \t* cp-tree.h: Clarify exception spec node comment."}, {"sha": "38b6a6357044af4c7308dd7c4fef4ba1006fdffa", "filename": "gcc/cp/mangle.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0c6299bbfd50c064913bbc0e1d810848f66d8994/gcc%2Fcp%2Fmangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0c6299bbfd50c064913bbc0e1d810848f66d8994/gcc%2Fcp%2Fmangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmangle.c?ref=0c6299bbfd50c064913bbc0e1d810848f66d8994", "patch": "@@ -1964,11 +1964,12 @@ write_discriminator (const int discriminator)\n   if (discriminator > 0)\n     {\n       write_char ('_');\n-      if (abi_version_at_least (11) && discriminator - 1 >= 10)\n+      if (discriminator - 1 >= 10)\n \t{\n-\t  write_char ('_');\n \t  if (abi_warn_or_compat_version_crosses (11))\n \t    G.need_abi_warning = 1;\n+\t  if (abi_version_at_least (11))\n+\t    write_char ('_');\n \t}\n       write_unsigned_number (discriminator - 1);\n       if (abi_version_at_least (11) && discriminator - 1 >= 10)"}]}