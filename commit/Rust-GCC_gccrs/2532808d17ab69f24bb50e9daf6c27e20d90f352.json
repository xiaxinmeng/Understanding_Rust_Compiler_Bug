{"sha": "2532808d17ab69f24bb50e9daf6c27e20d90f352", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjUzMjgwOGQxN2FiNjlmMjRiYjUwZTlkYWY2YzI3ZTIwZDkwZjM1Mg==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2005-03-16T00:32:38Z"}, "committer": {"name": "Geert Bosch", "email": "bosch@gcc.gnu.org", "date": "2005-03-16T00:32:38Z"}, "message": "mlib-tgt-darwin.adb (Library_Exist_For, [...]): Add new parameter In_Tree to specify the project tree...\n\n\t* mlib-tgt-darwin.adb (Library_Exist_For, Library_File_Name_For):\n        Add new parameter In_Tree to specify the project tree: needed\n        by the project manager. Adapt to changes in project manager\n        using new parameter In_Tree.\n\nFrom-SVN: r96545", "tree": {"sha": "8768f5c164a0008b471af4427a7c22c7b112b438", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8768f5c164a0008b471af4427a7c22c7b112b438"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2532808d17ab69f24bb50e9daf6c27e20d90f352", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2532808d17ab69f24bb50e9daf6c27e20d90f352", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2532808d17ab69f24bb50e9daf6c27e20d90f352", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2532808d17ab69f24bb50e9daf6c27e20d90f352/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "c96a2f400d3a0e94763e9677c8c7f48a274b295e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c96a2f400d3a0e94763e9677c8c7f48a274b295e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c96a2f400d3a0e94763e9677c8c7f48a274b295e"}], "stats": {"total": 40, "additions": 29, "deletions": 11}, "files": [{"sha": "37e1c5a9815158e728b3c888110d8da67289ddf7", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2532808d17ab69f24bb50e9daf6c27e20d90f352/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2532808d17ab69f24bb50e9daf6c27e20d90f352/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=2532808d17ab69f24bb50e9daf6c27e20d90f352", "patch": "@@ -1,3 +1,10 @@\n+2005-03-15  Vincent Celier  <celier@adacore.com>\n+\n+\t* mlib-tgt-darwin.adb (Library_Exist_For, Library_File_Name_For): \n+        Add new parameter In_Tree to specify the project tree: needed\n+        by the project manager. Adapt to changes in project manager\n+        using new parameter In_Tree.\n+\n 2005-03-15  Jakub Jelinek  <jakub@redhat.com>\n \n \t* Make-lang.in (ada/treeprs.ads, ada/einfo.h, ada/sinfo.h,\n@@ -806,8 +813,8 @@\n 2005-02-13  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR ada/19942\n-\t* utils.c (gnat_type_for_mode): Return null instead of ICE because we asked\n-\tfor an unknown mode.\n+\t* utils.c (gnat_type_for_mode): Return null instead of ICE because\n+        we asked for an unknown mode.\n \n 2005-02-12  Richard Henderson  <rth@redhat.com>\n "}, {"sha": "1b168a9d7b80a97879a9574ab31e39b64dbe1fab", "filename": "gcc/ada/mlib-tgt-darwin.adb", "status": "modified", "additions": 20, "deletions": 9, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2532808d17ab69f24bb50e9daf6c27e20d90f352/gcc%2Fada%2Fmlib-tgt-darwin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2532808d17ab69f24bb50e9daf6c27e20d90f352/gcc%2Fada%2Fmlib-tgt-darwin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fmlib-tgt-darwin.adb?ref=2532808d17ab69f24bb50e9daf6c27e20d90f352", "patch": "@@ -266,22 +266,28 @@ package body MLib.Tgt is\n    -- Library_Exists_For --\n    ------------------------\n \n-   function Library_Exists_For (Project : Project_Id) return Boolean is\n+   function Library_Exists_For\n+     (Project : Project_Id; In_Tree : Project_Tree_Ref) return Boolean\n+   is\n    begin\n-      if not Projects.Table (Project).Library then\n+      if not In_Tree.Projects.Table (Project).Library then\n          Prj.Com.Fail (\"INTERNAL ERROR: Library_Exists_For called \" &\n                        \"for non library project\");\n          return False;\n \n       else\n          declare\n             Lib_Dir : constant String :=\n-              Get_Name_String (Projects.Table (Project).Library_Dir);\n+              Get_Name_String\n+                (In_Tree.Projects.Table (Project).Library_Dir);\n             Lib_Name : constant String :=\n-              Get_Name_String (Projects.Table (Project).Library_Name);\n+              Get_Name_String\n+                (In_Tree.Projects.Table (Project).Library_Name);\n \n          begin\n-            if Projects.Table (Project).Library_Kind = Static then\n+            if In_Tree.Projects.Table (Project).Library_Kind =\n+              Static\n+            then\n                return Is_Regular_File\n                  (Lib_Dir & Directory_Separator & \"lib\" &\n                   Fil.Ext_To (Lib_Name, Archive_Ext));\n@@ -299,23 +305,28 @@ package body MLib.Tgt is\n    -- Library_File_Name_For --\n    ---------------------------\n \n-   function Library_File_Name_For (Project : Project_Id) return Name_Id is\n+   function Library_File_Name_For\n+     (Project : Project_Id;\n+      In_Tree : Project_Tree_Ref) return Name_Id\n+   is\n    begin\n-      if not Projects.Table (Project).Library then\n+      if not In_Tree.Projects.Table (Project).Library then\n          Prj.Com.Fail (\"INTERNAL ERROR: Library_File_Name_For called \" &\n                        \"for non library project\");\n          return No_Name;\n \n       else\n          declare\n             Lib_Name : constant String :=\n-              Get_Name_String (Projects.Table (Project).Library_Name);\n+              Get_Name_String\n+                (In_Tree.Projects.Table (Project).Library_Name);\n \n          begin\n             Name_Len := 3;\n             Name_Buffer (1 .. Name_Len) := \"lib\";\n \n-            if Projects.Table (Project).Library_Kind = Static then\n+            if In_Tree.Projects.Table (Project).Library_Kind =\n+              Static then\n                Add_Str_To_Name_Buffer (Fil.Ext_To (Lib_Name, Archive_Ext));\n \n             else"}]}