{"sha": "36a1fa96c3382e0bdb50036e79bba334bc4b3199", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzZhMWZhOTZjMzM4MmUwYmRiNTAwMzZlNzliYmEzMzRiYzRiMzE5OQ==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "1999-11-01T06:04:59Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-11-01T06:04:59Z"}, "message": "integrate.c (expand_inline_function): Fix bugs in previous change from Oct 28, 1999.\n\n        * integrate.c (expand_inline_function): Fix bugs in previous\n        change from Oct 28, 1999.\n\nFrom-SVN: r30312", "tree": {"sha": "580af2d0bced1efa3355f1aa72c6d1f02db2a527", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/580af2d0bced1efa3355f1aa72c6d1f02db2a527"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/36a1fa96c3382e0bdb50036e79bba334bc4b3199", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36a1fa96c3382e0bdb50036e79bba334bc4b3199", "html_url": "https://github.com/Rust-GCC/gccrs/commit/36a1fa96c3382e0bdb50036e79bba334bc4b3199", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/36a1fa96c3382e0bdb50036e79bba334bc4b3199/comments", "author": null, "committer": null, "parents": [{"sha": "64b6368a9ae1bb20ec5d3cae80e4f7ccbfa2b174", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64b6368a9ae1bb20ec5d3cae80e4f7ccbfa2b174", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64b6368a9ae1bb20ec5d3cae80e4f7ccbfa2b174"}], "stats": {"total": 25, "additions": 17, "deletions": 8}, "files": [{"sha": "3e20f1643e7fb09a4db58e242bcb0658f839a3f7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36a1fa96c3382e0bdb50036e79bba334bc4b3199/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36a1fa96c3382e0bdb50036e79bba334bc4b3199/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=36a1fa96c3382e0bdb50036e79bba334bc4b3199", "patch": "@@ -1,3 +1,8 @@\n+Sun Oct 31 23:03:25 1999  Jeffrey A Law  (law@cygnus.com)\n+\n+        * integrate.c (expand_inline_function): Fix bugs in previous\n+        change from Oct 28, 1999.\n+\n Sun Oct 31 20:27:45 1999  Mark Mitchell  <mark@codesourcery.com>\n \n \t* stmt.c (expand_value_return): Fix typo in this change:"}, {"sha": "3668ab91a993b27dfc01c7a498e80114ad241db4", "filename": "gcc/integrate.c", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/36a1fa96c3382e0bdb50036e79bba334bc4b3199/gcc%2Fintegrate.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/36a1fa96c3382e0bdb50036e79bba334bc4b3199/gcc%2Fintegrate.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fintegrate.c?ref=36a1fa96c3382e0bdb50036e79bba334bc4b3199", "patch": "@@ -1091,24 +1091,28 @@ expand_inline_function (fndecl, parms, target, ignore, type,\n \t  else if (set != 0\n \t\t   && rtx_equal_p (SET_DEST (set), virtual_stack_vars_rtx))\n \t    {\n+\t      HOST_WIDE_INT offset;\n \t      temp = map->reg_map[REGNO (SET_DEST (set))];\n \t      temp = VARRAY_CONST_EQUIV (map->const_equiv_varray,\n \t\t\t\t\t REGNO (temp)).rtx;\n \n-\t      if (GET_CODE (temp) != PLUS\n-\t\t  || ! rtx_equal_p (XEXP (temp, 0), virtual_stack_vars_rtx)\n-\t\t  || GET_CODE (XEXP (temp, 1)) != CONST_INT)\n+\t      if (rtx_equal_p (temp, virtual_stack_vars_rtx))\n+\t\toffset = 0;\n+\t      else if (GET_CODE (temp) == PLUS\n+\t\t       && rtx_equal_p (XEXP (temp, 0), virtual_stack_vars_rtx)\n+\t\t       && GET_CODE (XEXP (temp, 1)) == CONST_INT)\n+\t\toffset = INTVAL (XEXP (temp, 1));\n+\t      else\n \t\tabort ();\n \n \t      if (rtx_equal_p (SET_SRC (set), stack_pointer_rtx))\n \t\ttemp = SET_SRC (set);\n \t      else\n-\t\ttemp\n-\t\t  = force_operand (plus_constant (SET_SRC (set),\n-\t\t\t\t\t\t  - INTVAL (XEXP (temp, 1))),\n-\t\t\t\t   NULL_RTX);\n+\t\ttemp = force_operand (plus_constant (SET_SRC (set),\n+\t\t\t\t\t\t     - offset),\n+\t\t\t\t      NULL_RTX);\n \n-\t      copy = emit_move_insn (SET_DEST (set), temp);\n+\t      copy = emit_move_insn (virtual_stack_vars_rtx, temp);\n \t    }\n \n \t  else"}]}