{"sha": "17b8888b84e6893c6be498d2afc2fd1383a1e018", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdiODg4OGI4NGU2ODkzYzZiZTQ5OGQyYWZjMmZkMTM4M2ExZTAxOA==", "commit": {"author": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "2000-12-30T17:14:52Z"}, "committer": {"name": "Robert Lipe", "email": "robertl@gcc.gnu.org", "date": "2000-12-30T17:14:52Z"}, "message": "Remove COFF support from i?86-pc-sco3.2v5.\n\n2000-12-29  Robert Lipe <robertl@sco.com>\n\n        Remove COFF support from i?86-pc-sco3.2v5.\n        * i386/sco5.h (PREFERRED_DEBUGGING_TYPE): Change to Dwarf II.\n        (TARGET_ELF): Now always true.\n        (SUBTARGET_SWTICHES: )Remove -mcoff.\n\n        * i386/t-sco5 (MULTILIB_OPTIONS, MULTILIB_DIRNAMES,\n        MULTILIB_EXCEPTION): Nuke coff.\n        (CRTSTUFF_T_CFLAGS_S):  Deleted.\n        (TARGET_LIBGCC2_CFLAGS): Added.\n\nFrom-SVN: r38565", "tree": {"sha": "31caecc5dec0c150be5af87f1cc4dd2de7c2cbf0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/31caecc5dec0c150be5af87f1cc4dd2de7c2cbf0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17b8888b84e6893c6be498d2afc2fd1383a1e018", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17b8888b84e6893c6be498d2afc2fd1383a1e018", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17b8888b84e6893c6be498d2afc2fd1383a1e018", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17b8888b84e6893c6be498d2afc2fd1383a1e018/comments", "author": null, "committer": null, "parents": [{"sha": "965a9c31d976b3d8e2dc94b314836d8eab32f233", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/965a9c31d976b3d8e2dc94b314836d8eab32f233", "html_url": "https://github.com/Rust-GCC/gccrs/commit/965a9c31d976b3d8e2dc94b314836d8eab32f233"}], "stats": {"total": 28, "additions": 11, "deletions": 17}, "files": [{"sha": "e9fae7a72b879c5fe96178356967b9c49d9fe41e", "filename": "gcc/config/i386/sco5.h", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17b8888b84e6893c6be498d2afc2fd1383a1e018/gcc%2Fconfig%2Fi386%2Fsco5.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17b8888b84e6893c6be498d2afc2fd1383a1e018/gcc%2Fconfig%2Fi386%2Fsco5.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsco5.h?ref=17b8888b84e6893c6be498d2afc2fd1383a1e018", "patch": "@@ -556,7 +556,7 @@ do {\t\t\t\t\t\t\t\t\t\\\n #define SDB_DEBUGGING_INFO   1\n #define DBX_DEBUGGING_INFO   1\n #define PREFERRED_DEBUGGING_TYPE\t\t\t\t\t\\\n-  ((TARGET_ELF) ? DWARF_DEBUG: SDB_DEBUG)\n+  ((TARGET_ELF) ? DWARF2_DEBUG: SDB_DEBUG)\n \n #undef EXTRA_SECTIONS\n #define EXTRA_SECTIONS in_const, in_init, in_fini, in_ctors, in_dtors\n@@ -891,11 +891,10 @@ dtors_section ()\t\t\t\t\t\t\t\\\n \n #define MASK_COFF     \t\t010000000000\t/* Mask for elf generation */\n #define TARGET_COFF             (target_flags & MASK_COFF)\n-#define TARGET_ELF              (!(target_flags & MASK_COFF))\n+#define TARGET_ELF              (1) /* (!(target_flags & MASK_COFF)) */\n \n #undef SUBTARGET_SWITCHES\n #define SUBTARGET_SWITCHES \t\t\t\t\t\\\n-\t{ \"coff\", MASK_COFF, N_(\"Generate COFF output\") }, \t\\\n \t{ \"elf\", -MASK_COFF, N_(\"Generate ELF output\")  },\n \n #define NO_DOLLAR_IN_LABEL"}, {"sha": "42ae7db8c9f31196d37a71a6ff4bb0b033d5f544", "filename": "gcc/config/i386/t-sco5", "status": "modified", "additions": 9, "deletions": 14, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17b8888b84e6893c6be498d2afc2fd1383a1e018/gcc%2Fconfig%2Fi386%2Ft-sco5", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17b8888b84e6893c6be498d2afc2fd1383a1e018/gcc%2Fconfig%2Fi386%2Ft-sco5", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-sco5?ref=17b8888b84e6893c6be498d2afc2fd1383a1e018", "patch": "@@ -1,19 +1,14 @@\n-# The pushl in CTOR initialization interferes with frame pointer elimination.\n-CRTSTUFF_T_CFLAGS   = -fPIC -fno-omit-frame-pointer\n-CRTSTUFF_T_CFLAGS_S = -mcoff -fno-omit-frame-pointer\n+# We need to use -fPIC when we are using gcc to compile the routines in\n+# crtstuff.c.  This is only really needed when we are going to use gcc/g++\n+# to produce a shared library, but since we don't know ahead of time when\n+# we will be doing that, we just always use -fPIC when compiling the\n+# routines in crtstuff.c.  Likewise for libgcc2.c.   This is less painful\n+# than multilibbing everything with PIC and PIC-not variants.\n \n-#\n-# I am still a little unsure of the multilib architecture. The following\n-# 4 lines are based on advice from meissner@cygnus.com.\n-#\n-MULTILIB_OPTIONS    = mcoff/fPIC\n-MULTILIB_DIRNAMES   = coff pic\n-MULTILIB_EXCEPTIONS = *mcoff*/*fPIC*\n-MULTILIB_MATCHES    = fPIC=fpic\n-MULTILIB_EXTRA_OPTS =\n+# The pushl in CTOR initialization interferes with frame pointer elimination.\n \n-LIBGCC=stmp-multilib\n-INSTALL_LIBGCC=install-multilib\n+CRTSTUFF_T_CFLAGS   = -fPIC -fno-omit-frame-pointer\n+TARGET_LIBGCC2_CFLAGS = -fPIC\n \n crti.o: $(srcdir)/config/i386/sol2-ci.asm $(GCC_PASSES)\n \tsed -e '/^!/d' <$(srcdir)/config/i386/sol2-ci.asm >crti.s"}]}