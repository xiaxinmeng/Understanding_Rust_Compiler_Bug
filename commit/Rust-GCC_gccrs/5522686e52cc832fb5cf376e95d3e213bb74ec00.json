{"sha": "5522686e52cc832fb5cf376e95d3e213bb74ec00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTUyMjY4NmU1MmNjODMyZmI1Y2YzNzZlOTVkM2UyMTNiYjc0ZWMwMA==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gdcproject.org", "date": "2019-02-13T07:14:46Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-02-13T07:14:46Z"}, "message": "libphobos: Fallback on UnwindBacktrace if LibBacktrace not defined.\n\nIn the gcc.backtrace module, either one of LibBacktrace or\nUnwindBacktrace will always be defined.  Giving UnwindBacktrace a higher\nprecedence over the libc backtrace as the default handler because the\nlatter depends on a rt.backtrace module that is not compiled in.\n\nlibphobos/ChangeLog:\n\n\t* libdruntime/core/runtime.d (defaultTraceHandler): Give\n\tUnwindBacktrace handler precedence over backtrace.\n\nFrom-SVN: r268836", "tree": {"sha": "5fa78e52c1d2b737ad28d09b7693c210e781406d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5fa78e52c1d2b737ad28d09b7693c210e781406d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5522686e52cc832fb5cf376e95d3e213bb74ec00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5522686e52cc832fb5cf376e95d3e213bb74ec00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5522686e52cc832fb5cf376e95d3e213bb74ec00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5522686e52cc832fb5cf376e95d3e213bb74ec00/comments", "author": {"login": "ibuclaw", "id": 397929, "node_id": "MDQ6VXNlcjM5NzkyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/397929?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibuclaw", "html_url": "https://github.com/ibuclaw", "followers_url": "https://api.github.com/users/ibuclaw/followers", "following_url": "https://api.github.com/users/ibuclaw/following{/other_user}", "gists_url": "https://api.github.com/users/ibuclaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibuclaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibuclaw/subscriptions", "organizations_url": "https://api.github.com/users/ibuclaw/orgs", "repos_url": "https://api.github.com/users/ibuclaw/repos", "events_url": "https://api.github.com/users/ibuclaw/events{/privacy}", "received_events_url": "https://api.github.com/users/ibuclaw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "91c50487de75a5275e2e8c2e1cd4b10f3a59b7df", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91c50487de75a5275e2e8c2e1cd4b10f3a59b7df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91c50487de75a5275e2e8c2e1cd4b10f3a59b7df"}], "stats": {"total": 37, "additions": 21, "deletions": 16}, "files": [{"sha": "e43b8559d27f539579d5a118a691151ba5b2dc1c", "filename": "libphobos/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5522686e52cc832fb5cf376e95d3e213bb74ec00/libphobos%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5522686e52cc832fb5cf376e95d3e213bb74ec00/libphobos%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2FChangeLog?ref=5522686e52cc832fb5cf376e95d3e213bb74ec00", "patch": "@@ -1,3 +1,8 @@\n+2019-02-13  Iain Buclaw  <ibuclaw@gdcproject.org>\n+\n+\t* libdruntime/core/runtime.d (defaultTraceHandler): Give\n+\tUnwindBacktrace handler precedence over backtrace.\n+\n 2019-02-10  Iain Buclaw  <ibuclaw@gdcproject.org>\n \n \t* libdruntime/Makefile.am (DRUNTIME_DSOURCES): Remove rt/util/hash.d"}, {"sha": "0ead04752e4b349ecafe0437012bdf5d0270effb", "filename": "libphobos/libdruntime/core/runtime.d", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5522686e52cc832fb5cf376e95d3e213bb74ec00/libphobos%2Flibdruntime%2Fcore%2Fruntime.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5522686e52cc832fb5cf376e95d3e213bb74ec00/libphobos%2Flibdruntime%2Fcore%2Fruntime.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fruntime.d?ref=5522686e52cc832fb5cf376e95d3e213bb74ec00", "patch": "@@ -619,6 +619,22 @@ Throwable.TraceInfo defaultTraceHandler( void* ptr = null )\n         }\n         return new LibBacktrace(FIRSTFRAME);\n     }\n+    else static if ( __traits( compiles, new UnwindBacktrace(0) ) )\n+    {\n+        version (Posix)\n+        {\n+            static enum FIRSTFRAME = 5;\n+        }\n+        else version (Win64)\n+        {\n+            static enum FIRSTFRAME = 4;\n+        }\n+        else\n+        {\n+            static enum FIRSTFRAME = 0;\n+        }\n+        return new UnwindBacktrace(FIRSTFRAME);\n+    }\n     else static if ( __traits( compiles, backtrace ) )\n     {\n         import core.demangle;\n@@ -885,22 +901,6 @@ Throwable.TraceInfo defaultTraceHandler( void* ptr = null )\n         auto s = new StackTrace(FIRSTFRAME, cast(CONTEXT*)ptr);\n         return s;\n     }\n-    else static if ( __traits( compiles, new UnwindBacktrace(0) ) )\n-    {\n-        version (Posix)\n-        {\n-            static enum FIRSTFRAME = 5;\n-        }\n-        else version (Win64)\n-        {\n-            static enum FIRSTFRAME = 4;\n-        }\n-        else\n-        {\n-            static enum FIRSTFRAME = 0;\n-        }\n-        return new UnwindBacktrace(FIRSTFRAME);\n-    }\n     else\n     {\n         return null;"}]}