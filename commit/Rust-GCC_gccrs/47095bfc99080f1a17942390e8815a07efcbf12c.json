{"sha": "47095bfc99080f1a17942390e8815a07efcbf12c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDcwOTViZmM5OTA4MGYxYTE3OTQyMzkwZTg4MTVhMDdlZmNiZjEyYw==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-05-10T05:48:40Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-05-10T05:48:40Z"}, "message": "flow.c (find_basic_blocks_1): Do not delete the first bb_note we run across.\n\n        * flow.c (find_basic_blocks_1): Do not delete the first\n        bb_note we run across.\n        (create_basic_block): Use reorder_insns to move an existing\n        bb_note to the correct place.\n\nFrom-SVN: r33814", "tree": {"sha": "bef8339a2300fe6163aecfbb335441279c09169a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bef8339a2300fe6163aecfbb335441279c09169a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47095bfc99080f1a17942390e8815a07efcbf12c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47095bfc99080f1a17942390e8815a07efcbf12c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47095bfc99080f1a17942390e8815a07efcbf12c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47095bfc99080f1a17942390e8815a07efcbf12c/comments", "author": null, "committer": null, "parents": [{"sha": "840e7b5148eb5894ee29e8d6267b56903412eeac", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/840e7b5148eb5894ee29e8d6267b56903412eeac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/840e7b5148eb5894ee29e8d6267b56903412eeac"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "ea8972bdb6ee974a588885ec8265d1c72af1a220", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47095bfc99080f1a17942390e8815a07efcbf12c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47095bfc99080f1a17942390e8815a07efcbf12c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47095bfc99080f1a17942390e8815a07efcbf12c", "patch": "@@ -1,3 +1,10 @@\n+2000-05-09  Richard Henderson  <rth@cygnus.com>\n+\n+\t* flow.c (find_basic_blocks_1): Do not delete the first\n+\tbb_note we run across.\n+\t(create_basic_block): Use reorder_insns to move an existing\n+\tbb_note to the correct place.\n+\n 2000-05-09  Richard Henderson  <rth@cygnus.com>\n \n \t* calls.c (expand_call): Increment currently_expanding_call"}, {"sha": "239c70f4d30b4d8dd31c29e2150e8422219a6be0", "filename": "gcc/flow.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47095bfc99080f1a17942390e8815a07efcbf12c/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47095bfc99080f1a17942390e8815a07efcbf12c/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=47095bfc99080f1a17942390e8815a07efcbf12c", "patch": "@@ -584,8 +584,8 @@ find_basic_blocks_1 (f)\n \t      {\n \t\tif (bb_note == NULL_RTX)\n \t\t  bb_note = insn;\n-\n-\t\tnext = flow_delete_insn (insn);\n+\t\telse\n+\t\t  next = flow_delete_insn (insn);\n \t      }\n \t    break;\n \t  }\n@@ -780,13 +780,18 @@ create_basic_block (index, head, end, bb_note)\n     {\n       /* If we found an existing note, thread it back onto the chain.  */\n \n+      rtx after;\n+\n       if (GET_CODE (head) == CODE_LABEL)\n-\tadd_insn_after (bb_note, head);\n+\tafter = head;\n       else\n \t{\n-\t  add_insn_before (bb_note, head);\n+\t  after = PREV_INSN (head);\n \t  head = bb_note;\n \t}\n+\n+      if (after != bb_note && NEXT_INSN (after) != bb_note)\n+\treorder_insns (bb_note, bb_note, after);\n     }\n   else\n     {"}]}