{"sha": "e804f8229005019d5907146aaee4ff48df081535", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTgwNGY4MjI5MDA1MDE5ZDU5MDcxNDZhYWVlNGZmNDhkZjA4MTUzNQ==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-06-25T19:44:49Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-06-25T19:44:49Z"}, "message": "cp-mudflap.c (mflang_flush_calls): Fix thinkos resulting from 2004-06-23 change.\n\n\t* cp-mudflap.c (mflang_flush_calls): Fix thinkos resulting from\n\t2004-06-23 change.\n\nFrom-SVN: r83675", "tree": {"sha": "4c47ad4f706b8f2a3633736f4fc839863a4cf630", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c47ad4f706b8f2a3633736f4fc839863a4cf630"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e804f8229005019d5907146aaee4ff48df081535", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e804f8229005019d5907146aaee4ff48df081535", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e804f8229005019d5907146aaee4ff48df081535", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e804f8229005019d5907146aaee4ff48df081535/comments", "author": null, "committer": null, "parents": [{"sha": "4f430fb914a00768b8406f9b6fdb15ae4a93a8b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f430fb914a00768b8406f9b6fdb15ae4a93a8b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f430fb914a00768b8406f9b6fdb15ae4a93a8b8"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "bfb995cb0af7b38c78f9c087fb1bdf7b8f61cda5", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e804f8229005019d5907146aaee4ff48df081535/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e804f8229005019d5907146aaee4ff48df081535/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e804f8229005019d5907146aaee4ff48df081535", "patch": "@@ -1,3 +1,8 @@\n+2004-06-25  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* cp-mudflap.c (mflang_flush_calls): Fix thinkos resulting from\n+\t2004-06-23 change.\n+\n 2004-06-25  Paul Brook  <paul@codesourcery.com>\n \n \t* decl2.c (get_guard): Call targetm.cxx.guard_type."}, {"sha": "a9703a76ec2d0bbb32e8f599f363a47dcf50a234", "filename": "gcc/cp/cp-mudflap.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e804f8229005019d5907146aaee4ff48df081535/gcc%2Fcp%2Fcp-mudflap.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e804f8229005019d5907146aaee4ff48df081535/gcc%2Fcp%2Fcp-mudflap.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcp-mudflap.c?ref=e804f8229005019d5907146aaee4ff48df081535", "patch": "@@ -74,10 +74,10 @@ mflang_flush_calls (tree enqueued_call_stmt_chain)\n   type = build_function_type (void_type_node, void_list_node);\n   fndecl = build_lang_decl (FUNCTION_DECL, fnname, type);\n \n-  TREE_PUBLIC (current_function_decl) = 0;\n-  TREE_USED (current_function_decl) = 1;\n-  DECL_ARTIFICIAL (current_function_decl) = 1;\n-  mf_mark (current_function_decl);\n+  TREE_PUBLIC (fndecl) = 0;\n+  TREE_USED (fndecl) = 1;\n+  DECL_ARTIFICIAL (fndecl) = 1;\n+  mf_mark (fndecl);\n \n   /* Generate the body, one statement at a time.  */\n   start_preparsed_function (fndecl, /*attrs=*/NULL_TREE, SF_PRE_PARSED);"}]}