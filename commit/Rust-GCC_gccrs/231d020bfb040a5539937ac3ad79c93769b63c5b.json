{"sha": "231d020bfb040a5539937ac3ad79c93769b63c5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjMxZDAyMGJmYjA0MGE1NTM5OTM3YWMzYWQ3OWM5Mzc2OWI2M2M1Yg==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2015-01-29T16:25:14Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2015-01-29T16:25:14Z"}, "message": "PR jit/64780: configure: --enable-host-shared and the jit\n\nChangeLog:\n\tPR jit/64780\n\t* configure.ac: Require the user to explicitly specify\n\t--enable-host-shared if the jit is enabled.\n\t* configure: Regenerate.\n\nFrom-SVN: r220253", "tree": {"sha": "3e5a350e954a658d2efdc71bb3a05bae5e0210c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e5a350e954a658d2efdc71bb3a05bae5e0210c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/231d020bfb040a5539937ac3ad79c93769b63c5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/231d020bfb040a5539937ac3ad79c93769b63c5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/231d020bfb040a5539937ac3ad79c93769b63c5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/231d020bfb040a5539937ac3ad79c93769b63c5b/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3dbb84276aca1070a0802efae72483bec4f10882", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3dbb84276aca1070a0802efae72483bec4f10882", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3dbb84276aca1070a0802efae72483bec4f10882"}], "stats": {"total": 55, "additions": 55, "deletions": 0}, "files": [{"sha": "ae98e615d55bf94177518b3a93cbcfc6566bc864", "filename": "ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231d020bfb040a5539937ac3ad79c93769b63c5b/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231d020bfb040a5539937ac3ad79c93769b63c5b/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=231d020bfb040a5539937ac3ad79c93769b63c5b", "patch": "@@ -1,3 +1,10 @@\n+2015-01-29  David Malcolm  <dmalcolm@redhat.com>\n+\n+\tPR jit/64780\n+\t* configure.ac: Require the user to explicitly specify\n+\t--enable-host-shared if the jit is enabled.\n+\t* configure: Regenerate.\n+\n 2015-01-27  Robert Suchanek  <robert.suchanek@imgtec.com>\n \n \t* MAINTAINERS (Write After Approval): Add myself."}, {"sha": "dd794dbe4627e2a0ec5affb3506d48fd8cc77c7c", "filename": "configure", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231d020bfb040a5539937ac3ad79c93769b63c5b/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231d020bfb040a5539937ac3ad79c93769b63c5b/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=231d020bfb040a5539937ac3ad79c93769b63c5b", "patch": "@@ -14750,6 +14750,30 @@ fi\n \n \n \n+# PR jit/64780: Require the user to explicitly specify\n+# --enable-host-shared if the jit is enabled, hinting\n+# that they might want to do a separate configure/build of\n+# the jit, to avoid users from slowing down the rest of the\n+# compiler by enabling the jit.\n+if test ${host_shared} = \"no\" ; then\n+  case \"${enable_languages}\" in\n+    *jit*)\n+      as_fn_error \"\n+Enabling language \\\"jit\\\" requires --enable-host-shared.\n+\n+--enable-host-shared typically slows the rest of the compiler down by\n+a few %, so you must explicitly enable it.\n+\n+If you want to build both the jit and the regular compiler, it is often\n+best to do this via two separate configure/builds, in separate\n+directories, to avoid imposing the performance cost of\n+--enable-host-shared on the regular compiler.\" \"$LINENO\" 5\n+      ;;\n+    *)\n+      ;;\n+  esac\n+fi\n+\n # Specify what files to not compare during bootstrap.\n \n compare_exclusions=\"gcc/cc*-checksum\\$(objext) | gcc/ada/*tools/*\""}, {"sha": "4ea5e0061bfbb213f118275b184293f806a970e7", "filename": "configure.ac", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/231d020bfb040a5539937ac3ad79c93769b63c5b/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/231d020bfb040a5539937ac3ad79c93769b63c5b/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=231d020bfb040a5539937ac3ad79c93769b63c5b", "patch": "@@ -3467,6 +3467,30 @@ AC_ARG_ENABLE(host-shared,\n [host_shared=$enableval], [host_shared=no])\n AC_SUBST(host_shared)\n \n+# PR jit/64780: Require the user to explicitly specify\n+# --enable-host-shared if the jit is enabled, hinting\n+# that they might want to do a separate configure/build of\n+# the jit, to avoid users from slowing down the rest of the\n+# compiler by enabling the jit.\n+if test ${host_shared} = \"no\" ; then\n+  case \"${enable_languages}\" in\n+    *jit*)\n+      AC_MSG_ERROR([\n+Enabling language \"jit\" requires --enable-host-shared.\n+\n+--enable-host-shared typically slows the rest of the compiler down by\n+a few %, so you must explicitly enable it.\n+\n+If you want to build both the jit and the regular compiler, it is often\n+best to do this via two separate configure/builds, in separate\n+directories, to avoid imposing the performance cost of\n+--enable-host-shared on the regular compiler.])\n+      ;;\n+    *)\n+      ;;\n+  esac\n+fi\n+\n # Specify what files to not compare during bootstrap.\n \n compare_exclusions=\"gcc/cc*-checksum\\$(objext) | gcc/ada/*tools/*\""}]}