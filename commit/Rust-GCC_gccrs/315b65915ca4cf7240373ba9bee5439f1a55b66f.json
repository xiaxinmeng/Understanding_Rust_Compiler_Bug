{"sha": "315b65915ca4cf7240373ba9bee5439f1a55b66f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE1YjY1OTE1Y2E0Y2Y3MjQwMzczYmE5YmVlNTQzOWYxYTU1YjY2Zg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-10-16T14:58:15Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-10-16T14:58:15Z"}, "message": "re PR libgcj/8234 (ZipInputStream chokes when InputStream.read() returns small chunks)\n\n\tFix for PR libgcj/8234:\n\t* java/util/zip/natInflater.cc (reset): Reset avail_in.\n\t* java/util/zip/natDeflater.cc (reset): Reset avail_in.\n\nFrom-SVN: r58205", "tree": {"sha": "8b5064bd95996dbdbda5d93f476e5f225f6018e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b5064bd95996dbdbda5d93f476e5f225f6018e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/315b65915ca4cf7240373ba9bee5439f1a55b66f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/315b65915ca4cf7240373ba9bee5439f1a55b66f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/315b65915ca4cf7240373ba9bee5439f1a55b66f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/315b65915ca4cf7240373ba9bee5439f1a55b66f/comments", "author": null, "committer": null, "parents": [{"sha": "d09e61b9b0d33ba4f48ddd29a138581282950e2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d09e61b9b0d33ba4f48ddd29a138581282950e2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d09e61b9b0d33ba4f48ddd29a138581282950e2b"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "16f50b409f338bfdba1fcdf130ba5016da28dd9a", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/315b65915ca4cf7240373ba9bee5439f1a55b66f/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/315b65915ca4cf7240373ba9bee5439f1a55b66f/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=315b65915ca4cf7240373ba9bee5439f1a55b66f", "patch": "@@ -1,3 +1,9 @@\n+2002-10-15  Tom Tromey  <tromey@redhat.com>\n+\n+\tFix for PR libgcj/8234:\n+\t* java/util/zip/natInflater.cc (reset): Reset avail_in.\n+\t* java/util/zip/natDeflater.cc (reset): Reset avail_in.\n+\n 2002-10-13  Mark Wielaard  <mark@klomp.org>\n \n \t* mauve-libgcj: Enable Mauve tests that compile now."}, {"sha": "23e1201b5436847188d7f913e1cf4459d08e3d77", "filename": "libjava/java/util/zip/natDeflater.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/315b65915ca4cf7240373ba9bee5439f1a55b66f/libjava%2Fjava%2Futil%2Fzip%2FnatDeflater.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/315b65915ca4cf7240373ba9bee5439f1a55b66f/libjava%2Fjava%2Futil%2Fzip%2FnatDeflater.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2Fzip%2FnatDeflater.cc?ref=315b65915ca4cf7240373ba9bee5439f1a55b66f", "patch": "@@ -124,6 +124,7 @@ java::util::zip::Deflater::reset ()\n   z_streamp s = (z_streamp) zstream;\n   // Just ignore errors.\n   deflateReset (s);\n+  s->avail_in = 0;\n   flush_flag = 0;\n   is_finished = false;\n }"}, {"sha": "69de6c33560491f3eba8e0f30aff43b86cceaac4", "filename": "libjava/java/util/zip/natInflater.cc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/315b65915ca4cf7240373ba9bee5439f1a55b66f/libjava%2Fjava%2Futil%2Fzip%2FnatInflater.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/315b65915ca4cf7240373ba9bee5439f1a55b66f/libjava%2Fjava%2Futil%2Fzip%2FnatInflater.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Futil%2Fzip%2FnatInflater.cc?ref=315b65915ca4cf7240373ba9bee5439f1a55b66f", "patch": "@@ -149,6 +149,7 @@ java::util::zip::Inflater::reset ()\n   z_streamp s = (z_streamp) zstream;\n   // Just ignore errors.\n   inflateReset (s);\n+  s->avail_in = 0;\n   is_finished = false;\n   dict_needed = false;\n }"}]}