{"sha": "4f5a1f77343b3c32468044c087a9d8475c7e4d04", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY1YTFmNzczNDNiM2MzMjQ2ODA0NGMwODdhOWQ4NDc1YzdlNGQwNA==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-02-21T21:46:21Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1992-02-21T21:46:21Z"}, "message": "Initial revision\n\nFrom-SVN: r354", "tree": {"sha": "a48d8c16885dab413176495edd0b3318918099b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a48d8c16885dab413176495edd0b3318918099b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f5a1f77343b3c32468044c087a9d8475c7e4d04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f5a1f77343b3c32468044c087a9d8475c7e4d04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f5a1f77343b3c32468044c087a9d8475c7e4d04", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f5a1f77343b3c32468044c087a9d8475c7e4d04/comments", "author": null, "committer": null, "parents": [{"sha": "373b5e3b36dabba9b20dc23502e1e0672ee37ec8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/373b5e3b36dabba9b20dc23502e1e0672ee37ec8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/373b5e3b36dabba9b20dc23502e1e0672ee37ec8"}], "stats": {"total": 126, "additions": 126, "deletions": 0}, "files": [{"sha": "9b75ebb9dfcb58411d6da39d7b9e17ba25959dad", "filename": "gcc/halfpic.c", "status": "added", "additions": 95, "deletions": 0, "changes": 95, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f5a1f77343b3c32468044c087a9d8475c7e4d04/gcc%2Fhalfpic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f5a1f77343b3c32468044c087a9d8475c7e4d04/gcc%2Fhalfpic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhalfpic.c?ref=4f5a1f77343b3c32468044c087a9d8475c7e4d04", "patch": "@@ -0,0 +1,95 @@\n+/* OSF/rose half-pic support functions.\n+   Copyright (C) 1992 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n+\n+/* The OSF/rose half-pic model assumes that the non-library code does\n+   not need to have full PIC (position independent code), but rather,\n+   that pointers to external references are put into the data section\n+   and derefenced as normal pointers.  References to static data does\n+   not need to be PIC-ized.\n+\n+   Another optimization is to have the compiler know what symbols are\n+   in the shared libraries, and to only lay down the pointers to\n+   things which in the library proper.  */\n+\n+#include \"config.h\"\n+\n+#ifdef HALF_PIC_INIT\n+\n+#include \"tree.h\"\n+#include \"rtl.h\"\n+#include <stdio.h>\n+\n+extern rtx eliminate_constant_term ();\n+\n+int flag_half_pic;\t\t/* Global half-pic flag.  */\n+\n+\f\n+/* Do any half-pic initializations.  */\n+\n+void\n+half_pic_init ()\n+{\n+  flag_half_pic = TRUE;\n+}\n+\n+\f\n+/* Encode in a declaration whether or not it is half-pic.  */\n+\n+void\n+half_pic_encode (decl)\n+     tree decl;\n+{\n+#if 0\n+  fprintf (stderr, \"\\n========== Half_pic_encode\\n\");\n+  debug_tree (decl);\n+#endif\n+}\n+\n+\f\n+/* Return whether an address is half-pic.  */\n+\n+int\n+half_pic_address_p (addr)\n+     rtx addr;\n+{\n+  int offset;\n+  char *name;\n+\n+  switch (GET_CODE (addr))\n+    {\n+    case CONST:\n+      offset = 0;\n+      addr = eliminate_constant_term (addr, &offset);\n+      if (GET_CODE (addr) != SYMBOL_REF)\n+\treturn FALSE;\n+\t\n+      /* fall through */\n+\n+    case SYMBOL_REF:\n+      name = XSTR (addr, 0);\n+\n+      /* If this is a label, it will have a '*' in front of it.  */\n+      if (name[0] == '*')\n+\treturn FALSE;\n+    }\n+\n+  return FALSE;\n+}\n+\n+#endif /* HALF_PIC_INIT */"}, {"sha": "3dd309145e6195709e4f8427f563b7180cfa9766", "filename": "gcc/halfpic.h", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f5a1f77343b3c32468044c087a9d8475c7e4d04/gcc%2Fhalfpic.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f5a1f77343b3c32468044c087a9d8475c7e4d04/gcc%2Fhalfpic.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhalfpic.h?ref=4f5a1f77343b3c32468044c087a9d8475c7e4d04", "patch": "@@ -0,0 +1,31 @@\n+/* OSF/rose half-pic support definitions.\n+   Copyright (C) 1992 Free Software Foundation, Inc.\n+\n+This file is part of GNU CC.\n+\n+GNU CC is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU CC is distributed in the hope that it will be useful,\n+but WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+GNU General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU CC; see the file COPYING.  If not, write to\n+the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n+\n+extern int flag_half_pic;\t\t/* Global half-pic flag.  */\n+extern void half_pic_encode ();\t\t/* encode whether half-pic */\n+extern void half_pic_init ();\t\t/* half_pic initialization */\n+extern int half_pic_address_p ();\t/* true if an address is half-pic */\n+\n+/* Macros to provide access to the half-pic stuff (so they can easily\n+   be stubbed out.  */\n+\n+#define HALF_PIC_P()\t\t(flag_half_pic)\n+#define HALF_PIC_ENCODE(DECL)\thalf_pic_encode (DECL)\n+#define HALF_PIC_INIT()\t\thalf_pic_init ()\n+#define HALF_PIC_ADDRESS_P(X)\t(flag_half_pic && half_pic_address_p (X))"}]}