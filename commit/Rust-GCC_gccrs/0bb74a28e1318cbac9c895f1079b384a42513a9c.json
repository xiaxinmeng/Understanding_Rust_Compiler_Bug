{"sha": "0bb74a28e1318cbac9c895f1079b384a42513a9c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGJiNzRhMjhlMTMxOGNiYWM5Yzg5NWYxMDc5YjM4NGE0MjUxM2E5Yw==", "commit": {"author": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-08-12T18:02:20Z"}, "committer": {"name": "Andrew MacLeod", "email": "amacleod@redhat.com", "date": "2021-08-17T23:28:43Z"}, "message": "Change evrp-mode options.\n\nRemove tracing in hybrid mode. Add trace/gori/cache tracing options.\ntracing options are now  'trace', 'gori', 'cache', or all combined in 'debug'\n\n\t* flag-types.h (enum evrp_mode): Adjust evrp-mode values.\n\t* gimple-range-cache.cc (DEBUG_RANGE_CACHE): Relocate from.\n\t* gimple-range-trace.h (DEBUG_RANGE_CACHE): Here.\n\t* params.opt (--param=evrp-mode): Adjust options.", "tree": {"sha": "78e909ad91f5269a2408cc32cb57d9a2b2989903", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/78e909ad91f5269a2408cc32cb57d9a2b2989903"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0bb74a28e1318cbac9c895f1079b384a42513a9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bb74a28e1318cbac9c895f1079b384a42513a9c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0bb74a28e1318cbac9c895f1079b384a42513a9c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0bb74a28e1318cbac9c895f1079b384a42513a9c/comments", "author": null, "committer": null, "parents": [{"sha": "e68c8280fa2e1b7071378cfdd876155c73ec944f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e68c8280fa2e1b7071378cfdd876155c73ec944f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e68c8280fa2e1b7071378cfdd876155c73ec944f"}], "stats": {"total": 28, "additions": 16, "deletions": 12}, "files": [{"sha": "4fb1cb4743d6be48dadc83682e174cf88892cedd", "filename": "gcc/flag-types.h", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fflag-types.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fflag-types.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflag-types.h?ref=0bb74a28e1318cbac9c895f1079b384a42513a9c", "patch": "@@ -444,14 +444,15 @@ enum parloops_schedule_type\n /* EVRP mode.  */\n enum evrp_mode\n {\n-  EVRP_MODE_EVRP_FIRST = 0,\n+  EVRP_MODE_RVRP_ONLY = 0,\n   EVRP_MODE_EVRP_ONLY = 1,\n-  EVRP_MODE_RVRP_ONLY = 2,\n+  EVRP_MODE_EVRP_FIRST = 2,\n   EVRP_MODE_RVRP_FIRST = 3,\n   EVRP_MODE_TRACE = 4,\n-  EVRP_MODE_DEBUG = 8 | EVRP_MODE_TRACE,\n-  EVRP_MODE_RVRP_TRACE = EVRP_MODE_RVRP_ONLY | EVRP_MODE_TRACE,\n-  EVRP_MODE_RVRP_DEBUG = EVRP_MODE_RVRP_ONLY | EVRP_MODE_DEBUG\n+  EVRP_MODE_CACHE = (8 | EVRP_MODE_TRACE),\n+  EVRP_MODE_GORI = 16,\n+  EVRP_MODE_TRACE_GORI = (EVRP_MODE_TRACE | EVRP_MODE_GORI),\n+  EVRP_MODE_DEBUG = (EVRP_MODE_GORI | EVRP_MODE_CACHE)\n };\n \n /* Modes of OpenACC 'kernels' constructs handling.  */"}, {"sha": "4138d0556c678b5baacd8a7d83338cba7b7591b2", "filename": "gcc/gimple-range-cache.cc", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fgimple-range-cache.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fgimple-range-cache.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-range-cache.cc?ref=0bb74a28e1318cbac9c895f1079b384a42513a9c", "patch": "@@ -30,6 +30,9 @@ along with GCC; see the file COPYING3.  If not see\n #include \"gimple-range.h\"\n #include \"tree-cfg.h\"\n \n+#define DEBUG_RANGE_CACHE (dump_file && (param_evrp_mode & EVRP_MODE_CACHE) \\\n+\t\t\t\t\t == EVRP_MODE_CACHE)\n+\n // During contructor, allocate the vector of ssa_names.\n \n non_null_ref::non_null_ref ()"}, {"sha": "d2d1a8b270c0984b58e61fd885204be46ca34b30", "filename": "gcc/gimple-range-trace.h", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fgimple-range-trace.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fgimple-range-trace.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-range-trace.h?ref=0bb74a28e1318cbac9c895f1079b384a42513a9c", "patch": "@@ -58,7 +58,4 @@ range_tracer::header (const char *str)\n     return do_header (str);\n   return 0;\n }\n-\n-#define DEBUG_RANGE_CACHE (dump_file && (param_evrp_mode & EVRP_MODE_DEBUG))\n-\n #endif // GCC_GIMPLE_RANGE_TRACE_H"}, {"sha": "f9264887b409710a02401998b96a663bf2635115", "filename": "gcc/params.opt", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fparams.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0bb74a28e1318cbac9c895f1079b384a42513a9c/gcc%2Fparams.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.opt?ref=0bb74a28e1318cbac9c895f1079b384a42513a9c", "patch": "@@ -132,7 +132,7 @@ Maximum number of basic blocks before EVRP uses a sparse cache.\n \n -param=evrp-mode=\n Common Joined Var(param_evrp_mode) Enum(evrp_mode) Init(EVRP_MODE_RVRP_ONLY) Param Optimization\n---param=evrp-mode=[legacy|ranger|legacy-first|ranger-first|ranger-trace|ranger-debug|trace|debug] Specifies the mode Early VRP should operate in.\n+--param=evrp-mode=[legacy|ranger|legacy-first|ranger-first|trace|gori|cache|tracegori|debug] Specifies the mode Early VRP should operate in.\n \n Enum\n Name(evrp_mode) Type(enum evrp_mode) UnknownError(unknown evrp mode %qs)\n@@ -150,13 +150,16 @@ EnumValue\n Enum(evrp_mode) String(ranger-first) Value(EVRP_MODE_RVRP_FIRST)\n \n EnumValue\n-Enum(evrp_mode) String(ranger-trace) Value(EVRP_MODE_RVRP_TRACE)\n+Enum(evrp_mode) String(trace) Value(EVRP_MODE_TRACE)\n \n EnumValue\n-Enum(evrp_mode) String(ranger-debug) Value(EVRP_MODE_RVRP_DEBUG)\n+Enum(evrp_mode) String(cache) Value(EVRP_MODE_CACHE)\n \n EnumValue\n-Enum(evrp_mode) String(trace) Value(EVRP_MODE_TRACE)\n+Enum(evrp_mode) String(gori) Value(EVRP_MODE_GORI)\n+\n+EnumValue\n+Enum(evrp_mode) String(tracegori) Value(EVRP_MODE_TRACE_GORI)\n \n EnumValue\n Enum(evrp_mode) String(debug) Value(EVRP_MODE_DEBUG)"}]}