{"sha": "e923ef4132bd61afa7ca5818281a12ce8fafcdd2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTkyM2VmNDEzMmJkNjFhZmE3Y2E1ODE4MjgxYTEyY2U4ZmFmY2RkMg==", "commit": {"author": {"name": "Martin Jambor", "email": "mjambor@suse.cz", "date": "2011-07-08T10:16:51Z"}, "committer": {"name": "Martin Jambor", "email": "jamborm@gcc.gnu.org", "date": "2011-07-08T10:16:51Z"}, "message": "tree-sra.c (analyze_all_variable_accesses): Dump that a struture is too big for total scalarization.\n\n2011-07-08  Martin Jambor  <mjambor@suse.cz>\n\n\t* tree-sra.c (analyze_all_variable_accesses): Dump that a struture\n\tis too big for total scalarization.\n\nFrom-SVN: r176033", "tree": {"sha": "c830686cdcf2850c40071d50f438b3a1badb17a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c830686cdcf2850c40071d50f438b3a1badb17a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e923ef4132bd61afa7ca5818281a12ce8fafcdd2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e923ef4132bd61afa7ca5818281a12ce8fafcdd2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e923ef4132bd61afa7ca5818281a12ce8fafcdd2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e923ef4132bd61afa7ca5818281a12ce8fafcdd2/comments", "author": {"login": "jamborm", "id": 2180070, "node_id": "MDQ6VXNlcjIxODAwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/2180070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamborm", "html_url": "https://github.com/jamborm", "followers_url": "https://api.github.com/users/jamborm/followers", "following_url": "https://api.github.com/users/jamborm/following{/other_user}", "gists_url": "https://api.github.com/users/jamborm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamborm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamborm/subscriptions", "organizations_url": "https://api.github.com/users/jamborm/orgs", "repos_url": "https://api.github.com/users/jamborm/repos", "events_url": "https://api.github.com/users/jamborm/events{/privacy}", "received_events_url": "https://api.github.com/users/jamborm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "00fc1bf6c76bfad31ba34dfb188e32b75153a2f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/00fc1bf6c76bfad31ba34dfb188e32b75153a2f4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/00fc1bf6c76bfad31ba34dfb188e32b75153a2f4"}], "stats": {"total": 25, "additions": 19, "deletions": 6}, "files": [{"sha": "1bd92cb7d94481c6638ee7c3c06f361de462714d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e923ef4132bd61afa7ca5818281a12ce8fafcdd2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e923ef4132bd61afa7ca5818281a12ce8fafcdd2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e923ef4132bd61afa7ca5818281a12ce8fafcdd2", "patch": "@@ -1,3 +1,8 @@\n+2011-07-08  Martin Jambor  <mjambor@suse.cz>\n+\n+\t* tree-sra.c (analyze_all_variable_accesses): Dump that a struture\n+\tis too big for total scalarization.\n+\n 2011-07-07  Richard Henderson  <rth@redhat.com>\n \n \t* config/alpha/elf.h (MIPS_DEBUGGING_INFO): Undef."}, {"sha": "6f784ee6489b776b02198aecbc95c42fccfdaf9b", "filename": "gcc/tree-sra.c", "status": "modified", "additions": 14, "deletions": 6, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e923ef4132bd61afa7ca5818281a12ce8fafcdd2/gcc%2Ftree-sra.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e923ef4132bd61afa7ca5818281a12ce8fafcdd2/gcc%2Ftree-sra.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-sra.c?ref=e923ef4132bd61afa7ca5818281a12ce8fafcdd2", "patch": "@@ -2312,16 +2312,24 @@ analyze_all_variable_accesses (void)\n \ttree var = referenced_var (i);\n \n \tif (TREE_CODE (var) == VAR_DECL\n-\t    && ((unsigned) tree_low_cst (TYPE_SIZE (TREE_TYPE (var)), 1)\n-\t\t<= max_total_scalarization_size)\n \t    && type_consists_of_records_p (TREE_TYPE (var)))\n \t  {\n-\t    completely_scalarize_var (var);\n-\t    if (dump_file && (dump_flags & TDF_DETAILS))\n+\t    if ((unsigned) tree_low_cst (TYPE_SIZE (TREE_TYPE (var)), 1)\n+\t\t<= max_total_scalarization_size)\n+\t      {\n+\t\tcompletely_scalarize_var (var);\n+\t\tif (dump_file && (dump_flags & TDF_DETAILS))\n+\t\t  {\n+\t\t    fprintf (dump_file, \"Will attempt to totally scalarize \");\n+\t\t    print_generic_expr (dump_file, var, 0);\n+\t\t    fprintf (dump_file, \" (UID: %u): \\n\", DECL_UID (var));\n+\t\t  }\n+\t      }\n+\t    else if (dump_file && (dump_flags & TDF_DETAILS))\n \t      {\n-\t\tfprintf (dump_file, \"Will attempt to totally scalarize \");\n+\t\tfprintf (dump_file, \"Too big to totally scalarize: \");\n \t\tprint_generic_expr (dump_file, var, 0);\n-\t\tfprintf (dump_file, \" (UID: %u): \\n\", DECL_UID (var));\n+\t\tfprintf (dump_file, \" (UID: %u)\\n\", DECL_UID (var));\n \t      }\n \t  }\n       }"}]}