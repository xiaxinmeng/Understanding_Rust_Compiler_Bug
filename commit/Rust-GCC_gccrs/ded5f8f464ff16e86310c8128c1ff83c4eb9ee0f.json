{"sha": "ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVkNWY4ZjQ2NGZmMTZlODYzMTBjODEyOGMxZmY4M2M0ZWI5ZWUwZg==", "commit": {"author": {"name": "Nathan Froyd", "email": "froydnj@codesourcery.com", "date": "2006-10-26T20:39:10Z"}, "committer": {"name": "Nathan Froyd", "email": "froydnj@gcc.gnu.org", "date": "2006-10-26T20:39:10Z"}, "message": "ggc-common.c (ggc_min_heapsize_heuristic): Be more conservative when choosing the minimum heapsize.\n\n      * ggc-common.c (ggc_min_heapsize_heuristic): Be more conservative\n      when choosing the minimum heapsize.\n\nCo-Authored-By: Nathan Sidwell <nathan@codesourcery.com>\n\nFrom-SVN: r118070", "tree": {"sha": "0d31700f667ffc325c2da4256a1a1e9f0e7e830f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d31700f667ffc325c2da4256a1a1e9f0e7e830f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f/comments", "author": null, "committer": null, "parents": [{"sha": "a38677037cca7c646a7b6211483caeb3d69fc1f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a38677037cca7c646a7b6211483caeb3d69fc1f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a38677037cca7c646a7b6211483caeb3d69fc1f0"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "c4699707b092456d0d6192c45ff25bde6b59ce53", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f", "patch": "@@ -1,3 +1,9 @@\n+2006-10-26  Nathan Froyd  <froydnj@codesourcery.com>\n+            Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* ggc-common.c (ggc_min_heapsize_heuristic): Be more conservative\n+\twhen choosing the minimum heapsize.\n+\n 2006-10-26  Nathan Froyd <froydnj@codesourcery.com>\n \n \t* gcc/unwind-dw2.h: Move cfa-related variables into"}, {"sha": "3cafc770efd00fa991ed1a88df7c5a2fbe2e4aac", "filename": "gcc/ggc-common.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f/gcc%2Fggc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f/gcc%2Fggc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-common.c?ref=ded5f8f464ff16e86310c8128c1ff83c4eb9ee0f", "patch": "@@ -751,10 +751,10 @@ ggc_min_heapsize_heuristic (void)\n # endif\n \n   /* Don't blindly run over our data limit; do GC at least when the\n-     *next* GC would be within 16Mb of the limit.  If GCC does hit the\n-     data limit, compilation will fail, so this tries to be\n-     conservative.  */\n-  limit_kbytes = MAX (0, limit_kbytes - 16 * 1024);\n+     *next* GC would be within 20Mb of the limit or within a quarter of\n+     the limit, whichever is larger.  If GCC does hit the data limit,\n+     compilation will fail, so this tries to be conservative.  */\n+  limit_kbytes = MAX (0, limit_kbytes - MAX (limit_kbytes / 4, 20 * 1024));\n   limit_kbytes = (limit_kbytes * 100) / (110 + ggc_min_expand_heuristic());\n   phys_kbytes = MIN (phys_kbytes, limit_kbytes);\n "}]}