{"sha": "68180ebadd0ac19bbf2ce55bd0625d1d001f7d33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjgxODBlYmFkZDBhYzE5YmJmMmNlNTViZDA2MjVkMWQwMDFmN2QzMw==", "commit": {"author": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2015-07-24T14:44:59Z"}, "committer": {"name": "Mikael Morin", "email": "mikael@gcc.gnu.org", "date": "2015-07-24T14:44:59Z"}, "message": "Fix gfortran.dg/class_to_type_4.f90 deallocation code misordering failure\n\n\tPR fortran/64986\ngcc/fortran/\n\t* trans-expr.c (gfc_trans_assignment_1): Put component deallocation\n\tcode at the beginning of the block.\n\nFrom-SVN: r226162", "tree": {"sha": "ca2129b91aa3bac51e447ae5d0bf0b803df2e510", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ca2129b91aa3bac51e447ae5d0bf0b803df2e510"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33/comments", "author": null, "committer": null, "parents": [{"sha": "710ee218547fc4ecbcba7a0f1dff73ce51fffb7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/710ee218547fc4ecbcba7a0f1dff73ce51fffb7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/710ee218547fc4ecbcba7a0f1dff73ce51fffb7b"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "0ed6b9bb9013fe2ea4ca864e9cd258b61acac863", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=68180ebadd0ac19bbf2ce55bd0625d1d001f7d33", "patch": "@@ -1,3 +1,9 @@\n+2015-07-24  Mikael Morin  <mikael@gcc.gnu.org>\n+\n+\tPR fortran/64986\n+\t* trans-expr.c (gfc_trans_assignment_1): Put component deallocation\n+\tcode at the beginning of the block.\n+\n 2015-07-22  Mikael Morin  <mikael@gcc.gnu.org>\n \n \tPR fortran/61831"}, {"sha": "be6bfe2006d9996973a3cb32d2eb0a24418fb340", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68180ebadd0ac19bbf2ce55bd0625d1d001f7d33/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=68180ebadd0ac19bbf2ce55bd0625d1d001f7d33", "patch": "@@ -9241,7 +9241,7 @@ gfc_trans_assignment_1 (gfc_expr * expr1, gfc_expr * expr2, bool init_flag,\n   if (scalar_to_array && dealloc)\n     {\n       tmp = gfc_deallocate_alloc_comp_no_caf (expr2->ts.u.derived, rse.expr, 0);\n-      gfc_add_expr_to_block (&loop.post, tmp);\n+      gfc_prepend_expr_to_block (&loop.post, tmp);\n     }\n \n   /* When assigning a character function result to a deferred-length variable,"}]}