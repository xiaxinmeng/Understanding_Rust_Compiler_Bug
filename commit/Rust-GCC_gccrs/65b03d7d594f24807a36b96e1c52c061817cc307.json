{"sha": "65b03d7d594f24807a36b96e1c52c061817cc307", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjViMDNkN2Q1OTRmMjQ4MDdhMzZiOTZlMWM1MmMwNjE4MTdjYzMwNw==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonber@gnat.com", "date": "2004-10-27T13:54:38Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2004-10-27T13:54:38Z"}, "message": "sem_elab.adb (Check_Elab_Call): Do not check a call that does not appear in the code for the main unit.\n\n2004-10-26  Ed Schonberg  <schonberg@gnat.com>\n\n\t* sem_elab.adb (Check_Elab_Call): Do not check a call that does not\n\tappear in the code for the main unit. Dependencies among units in the\n\tcontext of the main unit are established when those other units are\n\tcompiled. Otherwise spurious elaboration constraints can generate\n\tincorrect elaboration circularities.\n\nFrom-SVN: r89673", "tree": {"sha": "1afa7631a5c082a786b8b415df0c1075abfe9ad7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1afa7631a5c082a786b8b415df0c1075abfe9ad7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/65b03d7d594f24807a36b96e1c52c061817cc307", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65b03d7d594f24807a36b96e1c52c061817cc307", "html_url": "https://github.com/Rust-GCC/gccrs/commit/65b03d7d594f24807a36b96e1c52c061817cc307", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/65b03d7d594f24807a36b96e1c52c061817cc307/comments", "author": null, "committer": null, "parents": [{"sha": "e895b4353e55d9c4bacb17be111deda3329ec095", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e895b4353e55d9c4bacb17be111deda3329ec095", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e895b4353e55d9c4bacb17be111deda3329ec095"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "5c8b3e611b6d8e08a0db1b51d3d6d771c3f29d74", "filename": "gcc/ada/sem_elab.adb", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/65b03d7d594f24807a36b96e1c52c061817cc307/gcc%2Fada%2Fsem_elab.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/65b03d7d594f24807a36b96e1c52c061817cc307/gcc%2Fada%2Fsem_elab.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_elab.adb?ref=65b03d7d594f24807a36b96e1c52c061817cc307", "patch": "@@ -913,6 +913,14 @@ package body Sem_Elab is\n    --  Start of processing for Check_Elab_Call\n \n    begin\n+      --  If the call does not come from the main unit, there is nothing to\n+      --  check. Elaboration call from units in the context of the main unit\n+      --  will lead to semantic dependencies when those units are compiled.\n+\n+      if not In_Extended_Main_Code_Unit (N) then\n+         return;\n+      end if;\n+\n       --  For an entry call, check relevant restriction\n \n       if Nkind (N) = N_Entry_Call_Statement"}]}