{"sha": "8d8238b6267048f1238ea5e6212fdb922b284954", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ4MjM4YjYyNjcwNDhmMTIzOGVhNWU2MjEyZmRiOTIyYjI4NDk1NA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@casey.cygnus.com", "date": "2000-05-10T11:02:37Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2000-05-10T11:02:37Z"}, "message": "dwarf2out.c (gen_subprogram_die): Fixup die_parent for the abstract instance of a nested inline function.\n\n        * dwarf2out.c (gen_subprogram_die): Fixup die_parent for the\n        abstract instance of a nested inline function.\n\n        * stor-layout.c (finish_record_layout): finalize_type_size\n        before laying out the pending_statics.\n\nFrom-SVN: r33820", "tree": {"sha": "9bde39acaf3c33712f5455337f3bfa1d7e8a4d1f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9bde39acaf3c33712f5455337f3bfa1d7e8a4d1f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d8238b6267048f1238ea5e6212fdb922b284954", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d8238b6267048f1238ea5e6212fdb922b284954", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d8238b6267048f1238ea5e6212fdb922b284954", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d8238b6267048f1238ea5e6212fdb922b284954/comments", "author": null, "committer": null, "parents": [{"sha": "fe517fb2c9ddd0300d5ecad7658ac8e4554069bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe517fb2c9ddd0300d5ecad7658ac8e4554069bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe517fb2c9ddd0300d5ecad7658ac8e4554069bb"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "2c46eac8b0a34f9357fcb61567d1054086d9b9fe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d8238b6267048f1238ea5e6212fdb922b284954/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d8238b6267048f1238ea5e6212fdb922b284954/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8d8238b6267048f1238ea5e6212fdb922b284954", "patch": "@@ -1,3 +1,11 @@\n+2000-05-10  Jason Merrill  <jason@casey.cygnus.com>\n+\n+\t* dwarf2out.c (gen_subprogram_die): Fixup die_parent for the\n+\tabstract instance of a nested inline function.\n+\n+\t* stor-layout.c (finish_record_layout): finalize_type_size\n+\tbefore laying out the pending_statics.\n+\n Wed 10 May 09:36:47 2000  Neil Booth  <NeilB@earthling.net>\n \n \t* cpplex.c (spell_token): New function."}, {"sha": "c0da4221632086c38a23e2d8be8e9e8a3f3e518d", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d8238b6267048f1238ea5e6212fdb922b284954/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d8238b6267048f1238ea5e6212fdb922b284954/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=8d8238b6267048f1238ea5e6212fdb922b284954", "patch": "@@ -8160,6 +8160,11 @@ gen_subprogram_die (decl, context_die)\n       if (declaration && ! local_scope_p (context_die))\n \tabort ();\n \n+      /* Fixup die_parent for the abstract instance of a nested\n+\t inline function.  */\n+      if (old_die && old_die->die_parent == NULL)\n+\tadd_child_die (context_die, old_die);\n+\n       subr_die = new_die (DW_TAG_subprogram, context_die);\n       add_abstract_origin_attribute (subr_die, origin);\n     }"}, {"sha": "ad7768f1487684199fe19d54c1a1e849ed2d3b7e", "filename": "gcc/stor-layout.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d8238b6267048f1238ea5e6212fdb922b284954/gcc%2Fstor-layout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d8238b6267048f1238ea5e6212fdb922b284954/gcc%2Fstor-layout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstor-layout.c?ref=8d8238b6267048f1238ea5e6212fdb922b284954", "patch": "@@ -1162,6 +1162,9 @@ finish_record_layout (rli)\n   /* Compute the TYPE_MODE for the record.  */\n   compute_record_mode (rli->t);\n \n+  /* Perform any last tweaks to the TYPE_SIZE, etc.  */\n+  finalize_type_size (rli->t);\n+\n   /* Lay out any static members.  This is done now because their type\n      may use the record's type.  */\n   while (rli->pending_statics)\n@@ -1170,9 +1173,6 @@ finish_record_layout (rli)\n       rli->pending_statics = TREE_CHAIN (rli->pending_statics);\n     }\n \n-  /* Perform any last tweaks to the TYPE_SIZE, etc.  */\n-  finalize_type_size (rli->t);\n-\n   /* Clean up.  */\n   free (rli);\n }"}]}