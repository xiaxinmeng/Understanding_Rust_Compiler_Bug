{"sha": "cbe16f8a7df8eabfb00de694ef3fc7bc2479888f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2JlMTZmOGE3ZGY4ZWFiZmIwMGRlNjk0ZWYzZmM3YmMyNDc5ODg4Zg==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-02-20T00:10:42Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-02-20T00:10:42Z"}, "message": "sol2.h (CPP_SPEC): Use %(cpp_cpu).\n\n\t* sparc/sol2.h (CPP_SPEC): Use %(cpp_cpu).\n\t(ASM_SPEC): Likewise.\n\t(ASM_{DEFAULT,CPU}_SPEC): Use Solaris syntax for sparc64.\n\nFrom-SVN: r11315", "tree": {"sha": "8b73ec9727944b6e9906299a83af4e46f3b6eb31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b73ec9727944b6e9906299a83af4e46f3b6eb31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cbe16f8a7df8eabfb00de694ef3fc7bc2479888f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbe16f8a7df8eabfb00de694ef3fc7bc2479888f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cbe16f8a7df8eabfb00de694ef3fc7bc2479888f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cbe16f8a7df8eabfb00de694ef3fc7bc2479888f/comments", "author": null, "committer": null, "parents": [{"sha": "4d790f67ee1aa4e5b1bc8e0b1a001284180c1030", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d790f67ee1aa4e5b1bc8e0b1a001284180c1030", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d790f67ee1aa4e5b1bc8e0b1a001284180c1030"}], "stats": {"total": 27, "additions": 21, "deletions": 6}, "files": [{"sha": "9d176889a10d0d07d2fb73573bfd398ddf0ec098", "filename": "gcc/config/sparc/sol2.h", "status": "modified", "additions": 21, "deletions": 6, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cbe16f8a7df8eabfb00de694ef3fc7bc2479888f/gcc%2Fconfig%2Fsparc%2Fsol2.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cbe16f8a7df8eabfb00de694ef3fc7bc2479888f/gcc%2Fconfig%2Fsparc%2Fsol2.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsol2.h?ref=cbe16f8a7df8eabfb00de694ef3fc7bc2479888f", "patch": "@@ -31,16 +31,31 @@ Boston, MA 02111-1307, USA.  */\n \n #undef CPP_SPEC\n #define CPP_SPEC \"\\\n-   %{compat-bsd:-iwithprefixbefore ucbinclude -I/usr/ucbinclude}\\\n-   %{msparclite:-D__sparclite__} %{mv8:-D__sparc_v8__}\\\n-   %{msupersparc:-D__supersparc__ -D__sparc_v8__}\"\n+%{compat-bsd:-iwithprefixbefore ucbinclude -I/usr/ucbinclude} \\\n+%(cpp_cpu) \\\n+\"\n \n /* The sun bundled assembler doesn't accept -Yd, (and neither does gas).\n    It's safe to pass -s always, even if -g is not used. */\n #undef ASM_SPEC\n-#define ASM_SPEC \\\n-  \"%{V} %{v:%{!V:-V}} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Wa,*:%*} -s \\\n-   %{fpic:-K PIC} %{fPIC:-K PIC}\"\n+#define ASM_SPEC \"\\\n+%{V} %{v:%{!V:-V}} %{Qy:} %{!Qn:-Qy} %{n} %{T} %{Ym,*} %{Wa,*:%*} -s \\\n+%{fpic:-K PIC} %{fPIC:-K PIC} \\\n+%(asm_cpu) \\\n+\"\n+\n+/* This is here rather than in sparc.h because it's not known what\n+   other assemblers will accept.  */\n+#if TARGET_CPU_DEFAULT == TARGET_CPU_sparc64\n+#undef ASM_DEFAULT_SPEC\n+#define ASM_DEFAULT_SPEC \"-xarch=v8plus\"\n+#endif\n+#undef ASM_CPU_SPEC\n+#define ASM_CPU_SPEC \"\\\n+%{-mcpu=v9:-xarch=v8plus} \\\n+%{-mcpu=ultrasparc:-xarch=v8plus} \\\n+%{!mcpu*:%(asm_default)} \\\n+\"\n \n /* However it appears that Solaris 2.0 uses the same reg numbering as\n    the old BSD-style system did. */"}]}