{"sha": "ccd4c273d9fd62fa7d57061387ad73ffb1043aa0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2NkNGMyNzNkOWZkNjJmYTdkNTcwNjEzODdhZDczZmZiMTA0M2FhMA==", "commit": {"author": {"name": "Anthony Green", "email": "green@cygnus.com", "date": "2000-02-19T23:02:33Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2000-02-19T23:02:33Z"}, "message": "jcf-depend.c (add_entry): Add entries to the end of the list.\n\n        * jcf-depend.c (add_entry): Add entries to the end of the list.\n\nI\n\nFrom-SVN: r32066", "tree": {"sha": "d42a5b7e18a7904cfb46daaf6316d480fb0a6438", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d42a5b7e18a7904cfb46daaf6316d480fb0a6438"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0/comments", "author": null, "committer": null, "parents": [{"sha": "5df6c7801beb30670cba0333a160aeeb7095f339", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5df6c7801beb30670cba0333a160aeeb7095f339", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5df6c7801beb30670cba0333a160aeeb7095f339"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "450b4817e803b04718bbd1f5e3672978e02aef1e", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=ccd4c273d9fd62fa7d57061387ad73ffb1043aa0", "patch": "@@ -1,3 +1,7 @@\n+2000-02-19  Anthony Green  <green@cygnus.com>\n+\n+\t* jcf-depend.c (add_entry): Add entries to the end of the list.\n+\n Wed Nov 03 02:16:00 PST 1999  Pekka Nikander  <pekka.nikander@hut.fi>\n \n \t* decl.c (INT_TYPE_SIZE): Define if necessary."}, {"sha": "53bd17bcd319abc6e9d9d5605e2e5f6fd2991b3d", "filename": "gcc/java/jcf-depend.c", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0/gcc%2Fjava%2Fjcf-depend.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ccd4c273d9fd62fa7d57061387ad73ffb1043aa0/gcc%2Fjava%2Fjcf-depend.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-depend.c?ref=ccd4c273d9fd62fa7d57061387ad73ffb1043aa0", "patch": "@@ -78,22 +78,30 @@ free_entry (entp)\n   *entp = NULL;\n }\n \n-/* Helper to add to entry list.  */\n+/* Helper to add to the end of the entry list.  */\n static void\n add_entry (entp, name)\n      struct entry **entp;\n      const char *name;\n {\n-  struct entry *ent;\n+  struct entry *ent, *last;\n \n-  for (ent = *entp; ent != NULL; ent = ent->next)\n+  for (last = ent = *entp; ent != NULL; last = ent, ent = ent->next)\n     if (! strcmp (ent->file, name))\n       return;\n \n   ent = (struct entry *) xmalloc (sizeof (struct entry));\n   ent->file = xstrdup (name);\n-  ent->next = *entp;\n-  *entp = ent;\n+  ent->next = NULL;\n+\n+  if (last == ent)\n+    {\n+      // This is only true the first time through, when the entry list\n+      // is empty.\n+      *entp = ent;\n+    }     \n+  else\n+    last->next = ent;\n }\n \n /* Call this to reset the dependency module.  This is required if"}]}