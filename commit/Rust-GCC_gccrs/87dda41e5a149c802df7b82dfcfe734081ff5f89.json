{"sha": "87dda41e5a149c802df7b82dfcfe734081ff5f89", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdkZGE0MWU1YTE0OWM4MDJkZjdiODJkZmNmZTczNDA4MWZmNWY4OQ==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-06-16T07:49:30Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2019-06-16T07:49:30Z"}, "message": "re PR d/90762 (ICE in resolvePropertiesX, at d/dmd/expression.c:251)\n\n\tPR d/90762\nd/dmd: Merge upstream dmd b0cd59177\n\nFixes segmentation fault in resolvePropertiesX.\n\nReviewed-on: https://github.com/dlang/dmd/pull/10006\n\nFrom-SVN: r272347", "tree": {"sha": "2c7426346133cba585a7d64ecf3d053e2086b07d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c7426346133cba585a7d64ecf3d053e2086b07d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87dda41e5a149c802df7b82dfcfe734081ff5f89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87dda41e5a149c802df7b82dfcfe734081ff5f89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87dda41e5a149c802df7b82dfcfe734081ff5f89", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87dda41e5a149c802df7b82dfcfe734081ff5f89/comments", "author": null, "committer": null, "parents": [{"sha": "e5338b0449f4382594c86ec0f3ea6d9958aeeef5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5338b0449f4382594c86ec0f3ea6d9958aeeef5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5338b0449f4382594c86ec0f3ea6d9958aeeef5"}], "stats": {"total": 28, "additions": 22, "deletions": 6}, "files": [{"sha": "36f9aa9c241275b841ba211b7af98b9faab3cde9", "filename": "gcc/d/dmd/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87dda41e5a149c802df7b82dfcfe734081ff5f89/gcc%2Fd%2Fdmd%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87dda41e5a149c802df7b82dfcfe734081ff5f89/gcc%2Fd%2Fdmd%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2FMERGE?ref=87dda41e5a149c802df7b82dfcfe734081ff5f89", "patch": "@@ -1,4 +1,4 @@\n-d912f4e495412b67f0a2e3b07f645909cfee0212\n+b0cd591770fefb4db6eaba89b7a548ef1e980f5c\n \n The first line of this file holds the git revision number of the last\n merge done from the dlang/dmd repository."}, {"sha": "0dc5e77b4100a1123586dbb074645ccf4df96ec9", "filename": "gcc/d/dmd/statementsem.c", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87dda41e5a149c802df7b82dfcfe734081ff5f89/gcc%2Fd%2Fdmd%2Fstatementsem.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87dda41e5a149c802df7b82dfcfe734081ff5f89/gcc%2Fd%2Fdmd%2Fstatementsem.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fd%2Fdmd%2Fstatementsem.c?ref=87dda41e5a149c802df7b82dfcfe734081ff5f89", "patch": "@@ -3492,12 +3492,18 @@ class StatementSemanticVisitor : public Visitor\n             }\n \n             s->semantic(sc);\n-            Module::addDeferredSemantic2(s);     // Bugzilla 14666\n-            sc->insert(s);\n-\n-            for (size_t j = 0; j < s->aliasdecls.dim; j++)\n+            // https://issues.dlang.org/show_bug.cgi?id=19942\n+            // If the module that's being imported doesn't exist, don't add it to the symbol table\n+            // for the current scope.\n+            if (s->mod != NULL)\n             {\n-                sc->insert(s->aliasdecls[j]);\n+                Module::addDeferredSemantic2(s);     // Bugzilla 14666\n+                sc->insert(s);\n+\n+                for (size_t j = 0; j < s->aliasdecls.dim; j++)\n+                {\n+                    sc->insert(s->aliasdecls[j]);\n+                }\n             }\n         }\n         result = imps;"}, {"sha": "736eae4a89deeeba3aab7dacafb242be121b5336", "filename": "gcc/testsuite/gdc.test/compilable/traits.d", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87dda41e5a149c802df7b82dfcfe734081ff5f89/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Ftraits.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87dda41e5a149c802df7b82dfcfe734081ff5f89/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Ftraits.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgdc.test%2Fcompilable%2Ftraits.d?ref=87dda41e5a149c802df7b82dfcfe734081ff5f89", "patch": "@@ -0,0 +1,10 @@\n+// REQUIRED_ARGS:\n+\n+// This file is intended to contain all compilable traits-related tests in an\n+// effort to keep the number of files in the `compilable` folder to a minimum.\n+\n+/******************************************/\n+// https://issues.dlang.org/show_bug.cgi?id=19942\n+\n+static assert(!__traits(compiles, { a.init; }));\n+static assert(!__traits(compiles, { import m : a; a.init; }));"}]}