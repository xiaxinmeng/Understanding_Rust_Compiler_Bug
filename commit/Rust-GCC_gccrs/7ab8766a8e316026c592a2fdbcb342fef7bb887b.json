{"sha": "7ab8766a8e316026c592a2fdbcb342fef7bb887b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2FiODc2NmE4ZTMxNjAyNmM1OTJhMmZkYmNiMzQyZmVmN2JiODg3Yg==", "commit": {"author": {"name": "Joshua Conner", "email": "joshconner@google.com", "date": "2017-05-06T00:22:38Z"}, "committer": {"name": "Josh Conner", "email": "jconner@gcc.gnu.org", "date": "2017-05-06T00:22:38Z"}, "message": "Add fuchsia support to libgcc\n\n\t* config/arm/unwind-arm.h (_Unwind_decode_typeinfo_ptr): Use\n\tpc-relative indirect handling for fuchsia.\n\t* config/t-slibgcc-fuchsia: New file.\n\t* config.host (*-*-fuchsia*, aarch64*-*-fuchsia*, arm*-*-fuchsia*,\n\tx86_64-*-fuchsia*): Add definitions.\n\nFrom-SVN: r247710", "tree": {"sha": "c6f8bc937644178a124618d76081674b3c657601", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c6f8bc937644178a124618d76081674b3c657601"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ab8766a8e316026c592a2fdbcb342fef7bb887b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ab8766a8e316026c592a2fdbcb342fef7bb887b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ab8766a8e316026c592a2fdbcb342fef7bb887b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ab8766a8e316026c592a2fdbcb342fef7bb887b/comments", "author": {"login": "josh-conner", "id": 22758796, "node_id": "MDQ6VXNlcjIyNzU4Nzk2", "avatar_url": "https://avatars.githubusercontent.com/u/22758796?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josh-conner", "html_url": "https://github.com/josh-conner", "followers_url": "https://api.github.com/users/josh-conner/followers", "following_url": "https://api.github.com/users/josh-conner/following{/other_user}", "gists_url": "https://api.github.com/users/josh-conner/gists{/gist_id}", "starred_url": "https://api.github.com/users/josh-conner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josh-conner/subscriptions", "organizations_url": "https://api.github.com/users/josh-conner/orgs", "repos_url": "https://api.github.com/users/josh-conner/repos", "events_url": "https://api.github.com/users/josh-conner/events{/privacy}", "received_events_url": "https://api.github.com/users/josh-conner/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "08dd548e8db027bd4e26fa3df8f130cf47a54213", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/08dd548e8db027bd4e26fa3df8f130cf47a54213", "html_url": "https://github.com/Rust-GCC/gccrs/commit/08dd548e8db027bd4e26fa3df8f130cf47a54213"}], "stats": {"total": 71, "additions": 70, "deletions": 1}, "files": [{"sha": "2e0f7fcca1f2dc0d9006449d70b63a814cd474f7", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=7ab8766a8e316026c592a2fdbcb342fef7bb887b", "patch": "@@ -1,3 +1,11 @@\n+2017-05-05  Joshua Conner  <joshconner@google.com>\n+\n+\t* config/arm/unwind-arm.h (_Unwind_decode_typeinfo_ptr): Use\n+\tpc-relative indirect handling for fuchsia.\n+\t* config/t-slibgcc-fuchsia: New file.\n+\t* config.host (*-*-fuchsia*, aarch64*-*-fuchsia*, arm*-*-fuchsia*,\n+\tx86_64-*-fuchsia*): Add definitions. \n+\n 2017-04-19  Martin Liska  <mliska@suse.cz>\n \n \tPR gcov-profile/80435"}, {"sha": "1426b04f47f44625a8c046594371cdc7cfc5dfde", "filename": "libgcc/config.host", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2Fconfig.host", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2Fconfig.host", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig.host?ref=7ab8766a8e316026c592a2fdbcb342fef7bb887b", "patch": "@@ -231,6 +231,10 @@ case ${host} in\n       ;;\n   esac\n   ;;\n+*-*-fuchsia*)\n+  tmake_file=\"$tmake_file t-crtstuff-pic t-libgcc-pic t-eh-dw2-dip t-slibgcc t-slibgcc-fuchsia\"\n+  extra_parts=\"crtbegin.o crtend.o\"\n+  ;;\n *-*-linux* | frv-*-*linux* | *-*-kfreebsd*-gnu | *-*-gnu* | *-*-kopensolaris*-gnu)\n   tmake_file=\"$tmake_file t-crtstuff-pic t-libgcc-pic t-eh-dw2-dip t-slibgcc t-slibgcc-gld t-slibgcc-elf-ver t-linux\"\n   extra_parts=\"crtbegin.o crtbeginS.o crtbeginT.o crtend.o crtendS.o\"\n@@ -342,6 +346,10 @@ aarch64*-*-freebsd*)\n \ttmake_file=\"${tmake_file} ${cpu_type}/t-softfp t-softfp t-crtfm\"\n \tmd_unwind_header=aarch64/freebsd-unwind.h\n \t;;\n+aarch64*-*-fuchsia*)\n+\ttmake_file=\"${tmake_file} ${cpu_type}/t-aarch64\"\n+\ttmake_file=\"${tmake_file} ${cpu_type}/t-softfp t-softfp\"\n+\t;;\n aarch64*-*-linux*)\n \textra_parts=\"$extra_parts crtfastmath.o\"\n \tmd_unwind_header=aarch64/linux-unwind.h\n@@ -394,6 +402,12 @@ arm*-*-freebsd*)                # ARM FreeBSD EABI\n \tunwind_header=config/arm/unwind-arm.h\n \ttmake_file=\"${tmake_file} t-softfp-sfdf t-softfp-excl arm/t-softfp t-softfp\"\n \t;;\n+arm*-*-fuchsia*)\n+\ttmake_file=\"${tmake_file} arm/t-arm arm/t-elf arm/t-bpabi\"\n+\ttmake_file=\"${tmake_file} arm/tsoftfp t-softfp\"\n+\ttm_file=\"${tm_file} arm/bpabi-lib.h\"\n+\tunwind_header=config/arm/unwind-arm.h\n+\t;;\n arm*-*-netbsdelf*)\n \ttmake_file=\"$tmake_file arm/t-arm arm/t-netbsd t-slibgcc-gld-nover\"\n \t;;\n@@ -588,6 +602,9 @@ i[34567]86-*-elf*)\n x86_64-*-elf* | x86_64-*-rtems*)\n \ttmake_file=\"$tmake_file i386/t-crtstuff t-crtstuff-pic t-libgcc-pic\"\n \t;;\n+x86_64-*-fuchsia*)\n+\ttmake_file=\"$tmake_file t-libgcc-pic\"\n+\t;;\n i[34567]86-*-dragonfly*)\n \ttmake_file=\"${tmake_file} i386/t-dragonfly i386/t-crtstuff\"\n \tmd_unwind_header=i386/dragonfly-unwind.h"}, {"sha": "9ceec5472abd5df071adea61bacf1465a6639b85", "filename": "libgcc/config/arm/unwind-arm.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2Fconfig%2Farm%2Funwind-arm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2Fconfig%2Farm%2Funwind-arm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Farm%2Funwind-arm.h?ref=7ab8766a8e316026c592a2fdbcb342fef7bb887b", "patch": "@@ -49,7 +49,7 @@ extern \"C\" {\n \treturn 0;\n \n #if (defined(linux) && !defined(__uClinux__)) || defined(__NetBSD__) \\\n-    || defined(__FreeBSD__)\n+    || defined(__FreeBSD__) || defined(__fuchsia__)\n       /* Pc-relative indirect.  */\n #define _GLIBCXX_OVERRIDE_TTYPE_ENCODING (DW_EH_PE_pcrel | DW_EH_PE_indirect)\n       tmp += ptr;"}, {"sha": "a171283585010a2f831eb99be1f99939600b6964", "filename": "libgcc/config/t-slibgcc-fuchsia", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2Fconfig%2Ft-slibgcc-fuchsia", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ab8766a8e316026c592a2fdbcb342fef7bb887b/libgcc%2Fconfig%2Ft-slibgcc-fuchsia", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Ft-slibgcc-fuchsia?ref=7ab8766a8e316026c592a2fdbcb342fef7bb887b", "patch": "@@ -0,0 +1,44 @@\n+# Copyright (C) 2017 Free Software Foundation, Inc.\n+#\n+# This file is part of GCC.\n+#\n+# GCC is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 3, or (at your option)\n+# any later version.\n+#\n+# GCC is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with GCC; see the file COPYING3.  If not see\n+# <http://www.gnu.org/licenses/>.\n+\n+# Fuchsia-specific shared library overrides.\n+\n+SHLIB_LDFLAGS = -Wl,--soname=$(SHLIB_SONAME) \\\n+                $(LDFLAGS)\n+# Copyright (C) 2017 Free Software Foundation, Inc.\n+#\n+# This file is part of GCC.\n+#\n+# GCC is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 3, or (at your option)\n+# any later version.\n+#\n+# GCC is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+#\n+# You should have received a copy of the GNU General Public License\n+# along with GCC; see the file COPYING3.  If not see\n+# <http://www.gnu.org/licenses/>.\n+\n+# Fuchsia-specific shared library overrides.\n+\n+SHLIB_LDFLAGS = -Wl,--soname=$(SHLIB_SONAME) \\\n+                $(LDFLAGS)"}]}