{"sha": "ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7", "node_id": "C_kwDOANBUbNoAKGNhMjdkNzY1ZjFkODhhMGY5ZDYyNWIzNTE5YjZhOGIxZjhiMTljYzc", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-03-05T18:08:26Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2023-03-05T18:08:26Z"}, "message": "testsuite: Fix up syntax error in scan-tree-dump-times target selector\n\nOn aarch64, powerpc64le and s390x-linux I'm seeing another syntax error\nwhich didn't show up on x86_64-linux nor i686-linux:\nERROR: gcc.dg/vect/slp-perm-8.c -flto -ffat-lto-objects: error executing dg-final: syntax error in target selector \"target  ! vect_load_lanes  && vect_partial_vectors_usage_1 &&  ! s390_vx\"\nERROR: gcc.dg/vect/slp-perm-8.c: error executing dg-final: syntax error in target selector \"target  ! vect_load_lanes  && vect_partial_vectors_usage_1 &&  ! s390_vx\"\n\nThe following patch fixes that.\n\n2023-03-05  Jakub Jelinek  <jakub@redhat.com>\n\n\t* gcc.dg/vect/slp-perm-8.c: Fix up syntax error in\n\tscan-tree-dump-times target selector.", "tree": {"sha": "f6e1e7fcf6e76cd837f1e523eac53059a0700349", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f6e1e7fcf6e76cd837f1e523eac53059a0700349"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "44c918b50af64d1c0f27067b2671e1a4f744841b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44c918b50af64d1c0f27067b2671e1a4f744841b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44c918b50af64d1c0f27067b2671e1a4f744841b"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "44df21aae2a2f860d49c36568122733e693d4310", "filename": "gcc/testsuite/gcc.dg/vect/slp-perm-8.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-perm-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-perm-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fvect%2Fslp-perm-8.c?ref=ca27d765f1d88a0f9d625b3519b6a8b1f8b19cc7", "patch": "@@ -60,9 +60,9 @@ int main (int argc, const char* argv[])\n }\n \n /* { dg-final { scan-tree-dump-times \"vectorized 1 loops\" 1 \"vect\" { target { vect_perm_byte } } } } */\n-/* { dg-final { scan-tree-dump-times \"vectorizing stmts using SLP\" 1 \"vect\" { target { vect_perm3_byte && { { ! vect_load_lanes } && { {! vect_partial_vectors_usage_1 } || s390_vx } } } } } } */\n+/* { dg-final { scan-tree-dump-times \"vectorizing stmts using SLP\" 1 \"vect\" { target { vect_perm3_byte && { { ! vect_load_lanes } && { { ! vect_partial_vectors_usage_1 } || s390_vx } } } } } } */\n /* The epilogues are vectorized using partial vectors.  */\n-/* { dg-final { scan-tree-dump-times \"vectorizing stmts using SLP\" 2 \"vect\" { target { vect_perm3_byte && { { ! vect_load_lanes } && vect_partial_vectors_usage_1 && { ! s390_vx } } } } } } */\n+/* { dg-final { scan-tree-dump-times \"vectorizing stmts using SLP\" 2 \"vect\" { target { vect_perm3_byte && { { ! vect_load_lanes } && { vect_partial_vectors_usage_1 && { ! s390_vx } } } } } } } */\n /* { dg-final { scan-tree-dump-times \"vectorizing stmts using SLP\" 0 \"vect\" { target vect_load_lanes } } } */\n /* { dg-final { scan-tree-dump \"Built SLP cancelled: can use load/store-lanes\" \"vect\" { target { vect_perm3_byte && vect_load_lanes } } } } */\n /* { dg-final { scan-tree-dump \"LOAD_LANES\" \"vect\" { target vect_load_lanes } } } */"}]}