{"sha": "1d23c208bdd8439363d8550e5fed9ee88b58b988", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQyM2MyMDhiZGQ4NDM5MzYzZDg1NTBlNWZlZDllZTg4YjU4Yjk4OA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-05T17:47:54Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-05T17:47:54Z"}, "message": "(main): Put argv[0] in collect_obstack instead of programname.\n\nFrom-SVN: r3655", "tree": {"sha": "e96a1bc004e7553043486d619e6bd63dfc47df26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e96a1bc004e7553043486d619e6bd63dfc47df26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d23c208bdd8439363d8550e5fed9ee88b58b988", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d23c208bdd8439363d8550e5fed9ee88b58b988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d23c208bdd8439363d8550e5fed9ee88b58b988", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d23c208bdd8439363d8550e5fed9ee88b58b988/comments", "author": null, "committer": null, "parents": [{"sha": "2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d08d5b6566d4c019a85ee1ea957a1d59d4bc8f6"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "d0eb72f3d3dfa20b967262d208d3ed65ecffc2a8", "filename": "gcc/gcc.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d23c208bdd8439363d8550e5fed9ee88b58b988/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d23c208bdd8439363d8550e5fed9ee88b58b988/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=1d23c208bdd8439363d8550e5fed9ee88b58b988", "patch": "@@ -3396,10 +3396,11 @@ main (argc, argv)\n   obstack_init (&obstack);\n \n   /* Set up to remember the pathname of gcc and any options\n-     needed for collect.  */\n+     needed for collect.  We use argv[0] instead of programname because\n+     we need the complete pathname.  */\n   obstack_init (&collect_obstack);\n   obstack_grow (&collect_obstack, \"COLLECT_GCC=\", sizeof (\"COLLECT_GCC=\")-1);\n-  obstack_grow (&collect_obstack, programname, strlen (programname)+1);\n+  obstack_grow (&collect_obstack, argv[0], strlen (argv[0])+1);\n   putenv (obstack_finish (&collect_obstack));\n \n   /* Choose directory for temp files.  */"}]}