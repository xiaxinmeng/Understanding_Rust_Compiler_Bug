{"sha": "5a5129a0dfde266e7a1736c61045f656459d0cf8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE1MTI5YTBkZmRlMjY2ZTdhMTczNmM2MTA0NWY2NTY0NTlkMGNmOA==", "commit": {"author": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2018-12-01T21:48:43Z"}, "committer": {"name": "Iain Buclaw", "email": "ibuclaw@gcc.gnu.org", "date": "2018-12-01T21:48:43Z"}, "message": "libphobos: Add support for RISCV to glibc bindings\n\nBackported from upstream druntime master.\n\nReviewed-on: https://github.com/dlang/druntime/pull/2355\n\nFrom-SVN: r266713", "tree": {"sha": "55837b98877ca6ef48ccfe552113927667f813c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55837b98877ca6ef48ccfe552113927667f813c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a5129a0dfde266e7a1736c61045f656459d0cf8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a5129a0dfde266e7a1736c61045f656459d0cf8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a5129a0dfde266e7a1736c61045f656459d0cf8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a5129a0dfde266e7a1736c61045f656459d0cf8/comments", "author": null, "committer": null, "parents": [{"sha": "16e48dd1b41d4d99a3f0b576a8e3448a69ad5bbf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/16e48dd1b41d4d99a3f0b576a8e3448a69ad5bbf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/16e48dd1b41d4d99a3f0b576a8e3448a69ad5bbf"}], "stats": {"total": 380, "additions": 374, "deletions": 6}, "files": [{"sha": "00b99af97a20794b8679259889baa0a41975639b", "filename": "libphobos/libdruntime/core/stdc/fenv.d", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fstdc%2Ffenv.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fstdc%2Ffenv.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fstdc%2Ffenv.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -34,6 +34,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -128,6 +130,12 @@ version (GNUFP)\n         alias fenv_t = double;\n         alias fexcept_t = uint;\n     }\n+    // https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/riscv/bits/fenv.h\n+    else version (RISCV_Any)\n+    {\n+        alias fenv_t = uint;\n+        alias fexcept_t = uint;\n+    }\n     // https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/sparc/fpu/bits/fenv.h\n     else version (SPARC64)\n     {\n@@ -573,6 +581,28 @@ else\n             FE_DOWNWARD     = 3, ///\n         }\n     }\n+    else version (RISCV_Any)\n+    {\n+        // Define bits representing exceptions in the FPSR status word.\n+        enum\n+        {\n+            FE_INEXACT      = 0x01, ///\n+            FE_UNDERFLOW    = 0x02, ///\n+            FE_OVERFLOW     = 0x04, ///\n+            FE_DIVBYZERO    = 0x08, ///\n+            FE_INVALID      = 0x10, ///\n+            FE_ALL_EXCEPT   = 0x1f, ///\n+        }\n+\n+        // Define bits representing rounding modes in the FPCR Rmode field.\n+        enum\n+        {\n+            FE_TONEAREST    = 0x0, ///\n+            FE_TOWARDZERO   = 0x1, ///\n+            FE_DOWNWARD     = 0x2, ///\n+            FE_UPWARD       = 0x3, ///\n+        }\n+    }\n     else version (SPARC_Any)\n     {\n         // Define bits representing the exception."}, {"sha": "b121f050747bbe6e34b9f964754ea67f604f9dd6", "filename": "libphobos/libdruntime/core/stdc/math.d", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fstdc%2Fmath.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fstdc%2Fmath.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fstdc%2Fmath.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -30,6 +30,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -159,6 +161,13 @@ else version (CRuntime_Glibc)\n         ///\n         enum int FP_ILOGBNAN      = int.max;\n     }\n+    else version (RISCV_Any)\n+    {\n+        ///\n+        enum int FP_ILOGB0        = -int.max;\n+        ///\n+        enum int FP_ILOGBNAN      = int.max;\n+    }\n     else version (SPARC_Any)\n     {\n         ///"}, {"sha": "4f0e66201fb1ffafd628888356498fd2a051cff5", "filename": "libphobos/libdruntime/core/sys/linux/dlfcn.d", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fdlfcn.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fdlfcn.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fdlfcn.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -16,6 +16,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -123,6 +125,30 @@ else version (ARM_Any)\n         void _dl_mcount_wrapper_check(void* __selfpc);\n     }\n }\n+else version (RISCV_Any)\n+{\n+    // http://sourceware.org/git/?p=glibc.git;a=blob;f=bits/dlfcn.h\n+    // enum RTLD_LAZY = 0x0001; // POSIX\n+    // enum RTLD_NOW = 0x0002; // POSIX\n+    enum RTLD_BINDING_MASK = 0x3;\n+    enum RTLD_NOLOAD = 0x00004;\n+    enum RTLD_DEEPBIND = 0x00008;\n+\n+    // enum RTLD_GLOBAL = 0x00100; // POSIX\n+    // enum RTLD_LOCAL = 0; // POSIX\n+    enum RTLD_NODELETE = 0x01000;\n+\n+    static if (__USE_GNU)\n+    {\n+        RT DL_CALL_FCT(RT, Args...)(RT function(Args) fctp, auto ref Args args)\n+        {\n+            _dl_mcount_wrapper_check(cast(void*)fctp);\n+            return fctp(args);\n+        }\n+\n+        void _dl_mcount_wrapper_check(void* __selfpc);\n+    }\n+}\n else version (SPARC_Any)\n {\n     // http://sourceware.org/git/?p=glibc.git;a=blob;f=bits/dlfcn.h"}, {"sha": "c6ee220481560bed967833ce7262e8a1550c8b1c", "filename": "libphobos/libdruntime/core/sys/linux/epoll.d", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fepoll.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fepoll.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fepoll.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -21,6 +21,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -92,6 +94,14 @@ else version (MIPS_Any)\n         epoll_data_t data;\n     }\n }\n+else version (RISCV_Any)\n+{\n+    struct epoll_event\n+    {\n+        uint events;\n+        epoll_data_t data;\n+    }\n+}\n else version (SPARC_Any)\n {\n     struct epoll_event"}, {"sha": "3587ead8d856eae0053c52ed3fbcb9607ed171db", "filename": "libphobos/libdruntime/core/sys/linux/link.d", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Flink.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Flink.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Flink.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -15,6 +15,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n version (X86)     version = X86_Any;\n@@ -50,6 +52,12 @@ else version (ARM_Any)\n     alias __WORDSIZE __ELF_NATIVE_CLASS;\n     alias uint32_t Elf_Symndx;\n }\n+else version (RISCV_Any)\n+{\n+    // http://sourceware.org/git/?p=glibc.git;a=blob;f=bits/elfclass.h\n+    alias __WORDSIZE __ELF_NATIVE_CLASS;\n+    alias uint32_t Elf_Symndx;\n+}\n else version (SPARC_Any)\n {\n     // http://sourceware.org/git/?p=glibc.git;a=blob;f=bits/elfclass.h"}, {"sha": "83e7896476350ceaf0e8ad2c96c16abb85911d9a", "filename": "libphobos/libdruntime/core/sys/linux/sys/eventfd.d", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Feventfd.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Feventfd.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Feventfd.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -18,6 +18,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -64,6 +66,12 @@ else version (ARM_Any)\n     enum EFD_CLOEXEC = 0x80000; // octal!2000000\n     enum EFD_NONBLOCK = 0x800; // octal!4000\n }\n+else version (RISCV_Any)\n+{\n+    enum EFD_SEMAPHORE = 1;\n+    enum EFD_CLOEXEC = 0x80000; // octal!2000000\n+    enum EFD_NONBLOCK = 0x800; // octal!4000\n+}\n else version (SPARC_Any)\n {\n     enum EFD_SEMAPHORE = 1;"}, {"sha": "39d69a277278f927398793f7f295787647c49486", "filename": "libphobos/libdruntime/core/sys/linux/sys/inotify.d", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Finotify.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Finotify.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Finotify.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -17,6 +17,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -86,6 +88,11 @@ else version (ARM_Any)\n     enum IN_CLOEXEC = 0x80000; // octal!2000000\n     enum IN_NONBLOCK = 0x800; // octal!4000\n }\n+else version (RISCV_Any)\n+{\n+    enum IN_CLOEXEC = 0x80000; // octal!2000000\n+    enum IN_NONBLOCK = 0x800; // octal!4000\n+}\n else version (SPARC_Any)\n {\n     enum IN_CLOEXEC = 0x80000; // octal!2000000"}, {"sha": "212943bbb3a16616bc2a17a48fbaf750381ed593", "filename": "libphobos/libdruntime/core/sys/linux/sys/mman.d", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Fmman.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Fmman.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Flinux%2Fsys%2Fmman.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -17,6 +17,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -53,6 +55,31 @@ version (PPC_Any)\n     //     MCL_FUTURE = 0x4000,\n     // }\n }\n+// https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/unix/sysv/linux/riscv/bits/mman.h\n+else version (RISCV_Any)\n+{\n+    static if (__USE_MISC) enum\n+    {\n+        MAP_GROWSDOWN = 0x00100,\n+        MAP_DENYWRITE = 0x00800,\n+        MAP_EXECUTABLE = 0x01000,\n+        MAP_LOCKED = 0x02000,\n+        MAP_NORESERVE = 0x04000,\n+        MAP_POPULATE = 0x08000,\n+        MAP_NONBLOCK = 0x10000,\n+        MAP_STACK = 0x20000,\n+        MAP_HUGETLB = 0x40000,\n+        MAP_SYNC = 0x80000,\n+        MAP_FIXED_NOREPLACE = 0x100000,\n+    }\n+\n+    // in core.sys.posix.sys.mman\n+    // enum\n+    // {\n+    //     MCL_CURRENT = 0x2000,\n+    //     MCL_FUTURE = 0x4000,\n+    // }\n+}\n // http://sourceware.org/git/?p=glibc.git;a=blob;hb=51e945a8f950a6695754b11c1e6fba8bb750e100;f=sysdeps/unix/sysv/linux/s390/bits/mman.h\n else version (IBMZ_Any)\n {"}, {"sha": "2378a331f8a5d21e90a2955d737a42665620229b", "filename": "libphobos/libdruntime/core/sys/posix/dlfcn.d", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fdlfcn.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fdlfcn.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fdlfcn.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -31,6 +31,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -88,6 +90,13 @@ version (CRuntime_Glibc)\n         enum RTLD_GLOBAL    = 0x00100;\n         enum RTLD_LOCAL     = 0;\n     }\n+    else version (RISCV_Any)\n+    {\n+        enum RTLD_LAZY      = 0x00001;\n+        enum RTLD_NOW       = 0x00002;\n+        enum RTLD_GLOBAL    = 0x00100;\n+        enum RTLD_LOCAL     = 0;\n+    }\n     else version (SPARC_Any)\n     {\n         enum RTLD_LAZY      = 0x00001;"}, {"sha": "8f563ef9420b8c36818a04f77e6d6ea882d7098f", "filename": "libphobos/libdruntime/core/sys/posix/fcntl.d", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Ffcntl.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Ffcntl.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Ffcntl.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -34,6 +34,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -191,6 +193,19 @@ version (CRuntime_Glibc)\n         enum O_DSYNC        = 0x1000;   // octal   010000\n         enum O_RSYNC        = O_SYNC;\n     }\n+    else version (RISCV_Any)\n+    {\n+        enum O_CREAT        = 0x40;     // octal     0100\n+        enum O_EXCL         = 0x80;     // octal     0200\n+        enum O_NOCTTY       = 0x100;    // octal     0400\n+        enum O_TRUNC        = 0x200;    // octal    01000\n+\n+        enum O_APPEND       = 0x400;    // octal    02000\n+        enum O_NONBLOCK     = 0x800;    // octal    04000\n+        enum O_SYNC         = 0x101000; // octal 04010000\n+        enum O_DSYNC        = 0x1000;   // octal   010000\n+        enum O_RSYNC        = O_SYNC;\n+    }\n     else version (SPARC_Any)\n     {\n         enum O_CREAT        = 0x200;"}, {"sha": "e8a3d1fdd02f89460c571c97ef02d7e756993850", "filename": "libphobos/libdruntime/core/sys/posix/setjmp.d", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsetjmp.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsetjmp.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsetjmp.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -20,6 +20,9 @@ private import core.sys.posix.signal; // for sigset_t\n version (Posix):\n extern (C) nothrow @nogc:\n \n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n+\n //\n // Required\n //\n@@ -125,6 +128,17 @@ version (CRuntime_Glibc)\n                 double[6] __fpregs;\n         }\n     }\n+    else version (RISCV_Any)\n+    {\n+        struct __riscv_jmp_buf\n+        {\n+            c_long __pc;\n+            c_long[12] __regs;\n+            c_long __sp;\n+            double[12] __fpregs;\n+        }\n+        alias __jmp_buf = __riscv_jmp_buf[1];\n+    }\n     else version (SystemZ)\n     {\n         struct __s390_jmp_buf"}, {"sha": "a592f6f1eb04a8c065931d1d757a97b3e373802b", "filename": "libphobos/libdruntime/core/sys/posix/signal.d", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsignal.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsignal.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsignal.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -31,6 +31,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -328,6 +330,30 @@ version (linux)\n         enum SIGUSR2    = 12;\n         enum SIGURG     = 23;\n     }\n+    else version (RISCV_Any)\n+    {\n+        //SIGABRT (defined in core.stdc.signal)\n+        enum SIGALRM    = 14;\n+        enum SIGBUS     = 7;\n+        enum SIGCHLD    = 17;\n+        enum SIGCONT    = 18;\n+        //SIGFPE (defined in core.stdc.signal)\n+        enum SIGHUP     = 1;\n+        //SIGILL (defined in core.stdc.signal)\n+        //SIGINT (defined in core.stdc.signal)\n+        enum SIGKILL    = 9;\n+        enum SIGPIPE    = 13;\n+        enum SIGQUIT    = 3;\n+        //SIGSEGV (defined in core.stdc.signal)\n+        enum SIGSTOP    = 19;\n+        //SIGTERM (defined in core.stdc.signal)\n+        enum SIGTSTP    = 20;\n+        enum SIGTTIN    = 21;\n+        enum SIGTTOU    = 22;\n+        enum SIGUSR1    = 10;\n+        enum SIGUSR2    = 12;\n+        enum SIGURG     = 23;\n+    }\n     else version (SPARC_Any)\n     {\n         //SIGABRT (defined in core.stdc.signal)\n@@ -2019,6 +2045,16 @@ version (CRuntime_Glibc)\n         enum SIGXCPU    = 24;\n         enum SIGXFSZ    = 25;\n     }\n+    else version (RISCV_Any)\n+    {\n+        enum SIGPOLL    = 29;\n+        enum SIGPROF    = 27;\n+        enum SIGSYS     = 31;\n+        enum SIGTRAP    = 5;\n+        enum SIGVTALRM  = 26;\n+        enum SIGXCPU    = 24;\n+        enum SIGXFSZ    = 25;\n+    }\n     else version (SPARC_Any)\n     {\n         enum SIGPOLL    = 23;"}, {"sha": "c08ba009f834e7a78bf389ff78e776b6df41ba3f", "filename": "libphobos/libdruntime/core/sys/posix/sys/mman.d", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fmman.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fmman.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fmman.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -34,6 +34,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -356,6 +358,8 @@ version (CRuntime_Glibc)\n         enum MS_INVALIDATE = 2;\n         enum MS_SYNC = 4;\n     }\n+    else version (RISCV_Any)\n+        private enum DEFAULTS = true;\n     else version (SPARC_Any)\n         private enum DEFAULTS = true;\n     else version (PPC_Any)"}, {"sha": "637df206ccec08c8679ef4c3b7a8d7af1abf9f68", "filename": "libphobos/libdruntime/core/sys/posix/sys/msg.d", "status": "modified", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fmsg.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fmsg.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fmsg.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -180,6 +180,51 @@ else version (PPC64)\n         c_ulong   __glibc_reserved5;\n     }\n }\n+else version (RISCV32)\n+{\n+    // https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/unix/sysv/linux/generic/bits/msq.h\n+    alias c_ulong msgqnum_t;\n+    alias c_ulong msglen_t;\n+\n+    struct msqid_ds\n+    {\n+        ipc_perm msg_perm;\n+        c_ulong __glibc_reserved1;\n+        time_t          msg_stime;\n+        c_ulong __glibc_reserved2;\n+        time_t          msg_rtime;\n+        c_ulong __glibc_reserved3;\n+        time_t          msg_ctime;\n+        c_ulong         __msg_cbytes;\n+        msgqnum_t       msg_qnum;\n+        msglen_t        msg_qbytes;\n+        pid_t           msg_lspid;\n+        pid_t           msg_lrpid;\n+        c_ulong __glibc_reserved4;\n+        c_ulong __glibc_reserved5;\n+    }\n+}\n+else version (RISCV64)\n+{\n+    // https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/unix/sysv/linux/generic/bits/msq.h\n+    alias c_ulong msgqnum_t;\n+    alias c_ulong msglen_t;\n+\n+    struct msqid_ds\n+    {\n+        ipc_perm msg_perm;\n+        time_t          msg_stime;\n+        time_t          msg_rtime;\n+        time_t          msg_ctime;\n+        c_ulong         __msg_cbytes;\n+        msgqnum_t       msg_qnum;\n+        msglen_t        msg_qbytes;\n+        pid_t           msg_lspid;\n+        pid_t           msg_lrpid;\n+        c_ulong __glibc_reserved4;\n+        c_ulong __glibc_reserved5;\n+    }\n+}\n else version (S390)\n {\n     // https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/unix/sysv/linux/s390/bits/msq.h"}, {"sha": "3489a4aec2674732e80278e1c6eb47dc8de55ec7", "filename": "libphobos/libdruntime/core/sys/posix/sys/socket.d", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fsocket.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fsocket.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fsocket.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -33,6 +33,8 @@ version (MIPS32)  version = MIPS_Any;\n version (MIPS64)  version = MIPS_Any;\n version (PPC)     version = PPC_Any;\n version (PPC64)   version = PPC_Any;\n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n version (S390)    version = IBMZ_Any;\n version (SPARC)   version = SPARC_Any;\n version (SPARC64) version = SPARC_Any;\n@@ -391,6 +393,40 @@ version (CRuntime_Glibc)\n             SO_TYPE         = 3\n         }\n     }\n+    else version (RISCV_Any)\n+    {\n+        enum\n+        {\n+            SOCK_DGRAM      = 2,\n+            SOCK_SEQPACKET  = 5,\n+            SOCK_STREAM     = 1\n+        }\n+\n+        enum\n+        {\n+            SOL_SOCKET      = 1\n+        }\n+\n+        enum\n+        {\n+            SO_ACCEPTCONN   = 30,\n+            SO_BROADCAST    = 6,\n+            SO_DEBUG        = 1,\n+            SO_DONTROUTE    = 5,\n+            SO_ERROR        = 4,\n+            SO_KEEPALIVE    = 9,\n+            SO_LINGER       = 13,\n+            SO_OOBINLINE    = 10,\n+            SO_RCVBUF       = 8,\n+            SO_RCVLOWAT     = 18,\n+            SO_RCVTIMEO     = 20,\n+            SO_REUSEADDR    = 2,\n+            SO_SNDBUF       = 7,\n+            SO_SNDLOWAT     = 19,\n+            SO_SNDTIMEO     = 21,\n+            SO_TYPE         = 3\n+        }\n+    }\n     else version (SPARC_Any)\n     {\n         enum"}, {"sha": "512f48a1505e97e9f984435de4b01687486b27a5", "filename": "libphobos/libdruntime/core/sys/posix/sys/stat.d", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fstat.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fstat.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fsys%2Fstat.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -28,6 +28,9 @@ else version (TVOS)\n else version (WatchOS)\n     version = Darwin;\n \n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n+\n version (Posix):\n extern (C) nothrow @nogc:\n \n@@ -353,6 +356,30 @@ version (CRuntime_Glibc)\n             c_ulong     __unused6;\n         }\n     }\n+    else version (RISCV_Any)\n+    {\n+        struct stat_t\n+        {\n+            dev_t       st_dev;\n+            ino_t       st_ino;\n+            mode_t      st_mode;\n+            nlink_t     st_nlink;\n+            uid_t       st_uid;\n+            gid_t       st_gid;\n+            dev_t       st_rdev;\n+            dev_t       __pad1;\n+            off_t       st_size;\n+            blksize_t   st_blksize;\n+            int         __pad2;\n+            time_t      st_atime;\n+            c_ulong     st_atime_nsec;\n+            time_t      st_mtime;\n+            c_ulong     st_mtime_nsec;\n+            time_t      st_ctime;\n+            c_ulong     st_ctime_nsec;\n+            int[2]      __reserved;\n+        }\n+    }\n     else version (ARM)\n     {\n         private"}, {"sha": "964b77cc50dce5befc77088eb0ace91502a2e7af", "filename": "libphobos/libdruntime/core/sys/posix/ucontext.d", "status": "modified", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fucontext.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fucontext.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Fcore%2Fsys%2Fposix%2Fucontext.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -23,6 +23,9 @@ extern (C):\n nothrow:\n @nogc:\n \n+version (RISCV32) version = RISCV_Any;\n+version (RISCV64) version = RISCV_Any;\n+\n //\n // XOpen (XSI)\n //\n@@ -542,6 +545,55 @@ version (CRuntime_Glibc)\n             mcontext_t  uc_mcontext;\n         }\n     }\n+    else version (RISCV_Any)\n+    {\n+        private\n+        {\n+            alias c_ulong[32] __riscv_mc_gp_state;\n+\n+            struct __riscv_mc_f_ext_state\n+            {\n+                uint[32] __f;\n+                uint __fcsr;\n+            }\n+\n+            struct __riscv_mc_d_ext_state\n+            {\n+                ulong[32] __f;\n+                uint __fcsr;\n+            }\n+\n+            struct __riscv_mc_q_ext_state\n+            {\n+                align(16) ulong[64] __f;\n+                uint __fcsr;\n+                uint[3] __reserved;\n+            }\n+\n+            union __riscv_mc_fp_state\n+            {\n+                __riscv_mc_f_ext_state __f;\n+                __riscv_mc_d_ext_state __d;\n+                __riscv_mc_q_ext_state __q;\n+            }\n+        }\n+\n+        struct mcontext_t\n+        {\n+            __riscv_mc_gp_state __gregs;\n+            __riscv_mc_fp_state __fpregs;\n+        }\n+\n+        struct ucontext_t\n+        {\n+            c_ulong     __uc_flags;\n+            ucontext_t* uc_link;\n+            stack_t     uc_stack;\n+            sigset_t    uc_sigmask;\n+            char[1024 / 8 - sigset_t.sizeof] __reserved;\n+            mcontext_t  uc_mcontext;\n+        }\n+    }\n     else version (SPARC64)\n     {\n         enum MC_NGREG = 19;"}, {"sha": "b392eb1aff9fe8dbe3e9db90abfef8bc1c597273", "filename": "libphobos/libdruntime/rt/sections_elf_shared.d", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Frt%2Fsections_elf_shared.d", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a5129a0dfde266e7a1736c61045f656459d0cf8/libphobos%2Flibdruntime%2Frt%2Fsections_elf_shared.d", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libphobos%2Flibdruntime%2Frt%2Fsections_elf_shared.d?ref=5a5129a0dfde266e7a1736c61045f656459d0cf8", "patch": "@@ -965,19 +965,24 @@ extern(C) void* __tls_get_addr(tls_index* ti) nothrow @nogc;\n  * each TLS block. This is at least true for PowerPC and Mips platforms.\n  * See: https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/powerpc/dl-tls.h;h=f7cf6f96ebfb505abfd2f02be0ad0e833107c0cd;hb=HEAD#l34\n  *      https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/mips/dl-tls.h;h=93a6dc050cb144b9f68b96fb3199c60f5b1fcd18;hb=HEAD#l32\n+ *      https://sourceware.org/git/?p=glibc.git;a=blob;f=sysdeps/riscv/dl-tls.h;h=ab2d860314de94c18812bc894ff6b3f55368f20f;hb=HEAD#l32\n  */\n version (X86)\n-    enum TLS_DTV_OFFSET = 0x;\n+    enum TLS_DTV_OFFSET = 0x0;\n else version (X86_64)\n-    enum TLS_DTV_OFFSET = 0x;\n+    enum TLS_DTV_OFFSET = 0x0;\n else version (ARM)\n-    enum TLS_DTV_OFFSET = 0x;\n+    enum TLS_DTV_OFFSET = 0x0;\n else version (AArch64)\n-    enum TLS_DTV_OFFSET = 0x;\n+    enum TLS_DTV_OFFSET = 0x0;\n+else version (RISCV32)\n+    enum TLS_DTV_OFFSET = 0x800;\n+else version (RISCV64)\n+    enum TLS_DTV_OFFSET = 0x800;\n else version (SPARC)\n-    enum TLS_DTV_OFFSET = 0x;\n+    enum TLS_DTV_OFFSET = 0x0;\n else version (SPARC64)\n-    enum TLS_DTV_OFFSET = 0x;\n+    enum TLS_DTV_OFFSET = 0x0;\n else version (PPC)\n     enum TLS_DTV_OFFSET = 0x8000;\n else version (PPC64)"}]}