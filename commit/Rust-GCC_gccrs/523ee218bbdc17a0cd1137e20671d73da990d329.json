{"sha": "523ee218bbdc17a0cd1137e20671d73da990d329", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTIzZWUyMThiYmRjMTdhMGNkMTEzN2UyMDY3MWQ3M2RhOTkwZDMyOQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-10-15T18:38:54Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-10-15T18:38:54Z"}, "message": "re PR fortran/77972 (ICE on broken character continuation with -Wall etc.)\n\n2016-10-15  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/77972\n\t* scanner.c (gfc_next_char_literal): If nextc is null do not\n\tdecrement the pointer and call the diagnostics.\n\n\tPR fortran/77972\n\t* gfortran.dg/unexpected_eof_4.f90: New test.\n\nFrom-SVN: r241201", "tree": {"sha": "7434e20fe63a2bbbb5e5ea9fc6f02a76d59feac4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7434e20fe63a2bbbb5e5ea9fc6f02a76d59feac4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/523ee218bbdc17a0cd1137e20671d73da990d329", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/523ee218bbdc17a0cd1137e20671d73da990d329", "html_url": "https://github.com/Rust-GCC/gccrs/commit/523ee218bbdc17a0cd1137e20671d73da990d329", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/523ee218bbdc17a0cd1137e20671d73da990d329/comments", "author": null, "committer": null, "parents": [{"sha": "e2a02db7690190247c42bf233384530ef65d8881", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2a02db7690190247c42bf233384530ef65d8881", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2a02db7690190247c42bf233384530ef65d8881"}], "stats": {"total": 24, "additions": 21, "deletions": 3}, "files": [{"sha": "6dce4ebeb6a79a1579ab2d284b7607e9b028501e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=523ee218bbdc17a0cd1137e20671d73da990d329", "patch": "@@ -1,3 +1,9 @@\n+2016-10-15  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/77972\n+\t* scanner.c (gfc_next_char_literal): If nextc is null do not\n+\tdecrement the pointer and call the diagnostics.\n+\n 2016-10-14  Andre Vehreschild  <vehre@gcc.gnu.org>\n \n \t* resolve.c (resolve_symbol): Add unimplemented message for"}, {"sha": "5e355359163768c3fde612cb10748c5d662fe9a1", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=523ee218bbdc17a0cd1137e20671d73da990d329", "patch": "@@ -1414,10 +1414,9 @@ gfc_next_char_literal (gfc_instring in_string)\n \n       if (c != '&')\n \t{\n-\t  if (in_string)\n+\t  if (in_string && gfc_current_locus.nextc)\n \t    {\n-\t      if (gfc_current_locus.nextc)\n-\t        gfc_current_locus.nextc--;\n+\t      gfc_current_locus.nextc--;\n \t      if (warn_ampersand && in_string == INSTRING_WARN)\n \t\tgfc_warning (OPT_Wampersand, \n \t\t\t     \"Missing %<&%> in continued character \""}, {"sha": "63eafa620dc1a73d7c5fdea1f5482e1a9ac1120d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=523ee218bbdc17a0cd1137e20671d73da990d329", "patch": "@@ -1,3 +1,8 @@\n+2016-10-15  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/77972\n+\t* gfortran.dg/unexpected_eof_4.f90: New test.\n+\n 2016-10-15  Janne Blomqvist  <jb@gcc.gnu.org>\n \n         PR libfortran/48587"}, {"sha": "2832128e6d6850661dbf5ca5dbba2fc8cd03fcc7", "filename": "gcc/testsuite/gfortran.dg/unexpected_eof_4.f90", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ftestsuite%2Fgfortran.dg%2Funexpected_eof_4.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/523ee218bbdc17a0cd1137e20671d73da990d329/gcc%2Ftestsuite%2Fgfortran.dg%2Funexpected_eof_4.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Funexpected_eof_4.f90?ref=523ee218bbdc17a0cd1137e20671d73da990d329", "patch": "@@ -0,0 +1,8 @@\n+! { dg-do compile }\n+! { dg-options \"-Wampersand\" }\n+! PR77972\n+program p\n+   character(8) :: z\n+   z = 'abc&\n+! { dg-error \"Unterminated character constant\" \"\" { target *-*-* } 0  }\n+! { dg-error \"Unexpected end of file\" \"\" { target *-*-* } 0 }"}]}