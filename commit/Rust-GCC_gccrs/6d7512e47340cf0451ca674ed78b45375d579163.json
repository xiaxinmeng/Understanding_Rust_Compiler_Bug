{"sha": "6d7512e47340cf0451ca674ed78b45375d579163", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmQ3NTEyZTQ3MzQwY2YwNDUxY2E2NzRlZDc4YjQ1Mzc1ZDU3OTE2Mw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-30T06:46:33Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-07-30T06:46:33Z"}, "message": "(ffssi2 and ffshi2 recognizers): Generate unique labels by hand.\n\nFrom-SVN: r5041", "tree": {"sha": "b377fbe65932027e2c8c761323fa4dc3e4622209", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b377fbe65932027e2c8c761323fa4dc3e4622209"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6d7512e47340cf0451ca674ed78b45375d579163", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d7512e47340cf0451ca674ed78b45375d579163", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d7512e47340cf0451ca674ed78b45375d579163", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d7512e47340cf0451ca674ed78b45375d579163/comments", "author": null, "committer": null, "parents": [{"sha": "81d57b8e1d9a23be27a1b4affaa03bc6c82d4471", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/81d57b8e1d9a23be27a1b4affaa03bc6c82d4471", "html_url": "https://github.com/Rust-GCC/gccrs/commit/81d57b8e1d9a23be27a1b4affaa03bc6c82d4471"}], "stats": {"total": 44, "additions": 40, "deletions": 4}, "files": [{"sha": "f0a0498936bbf311cfa81fa568b9b89f25910be9", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 40, "deletions": 4, "changes": 44, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6d7512e47340cf0451ca674ed78b45375d579163/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6d7512e47340cf0451ca674ed78b45375d579163/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=6d7512e47340cf0451ca674ed78b45375d579163", "patch": "@@ -4461,15 +4461,33 @@\n   \"*\n {\n   rtx xops[3];\n+  static int ffssi_label_number;\n+  char buffer[30];\n \n   xops[0] = operands[0];\n   xops[1] = operands[1];\n   xops[2] = constm1_rtx;\n   /* Can there be a way to avoid the jump here?  */\n   output_asm_insn (AS2 (bsf%L0,%1,%0), xops);\n-  output_asm_insn (\\\"jnz 1f\\\", xops);\n+#ifdef LOCAL_LABEL_PREFIX\n+  sprintf (buffer, \\\"jnz %sLFFSSI%d\\\",\n+\t   LOCAL_LABEL_PREFIX, ffssi_label_number);\n+#else\n+  sprintf (buffer, \\\"jnz %sLFFSSI%d\\\",\n+\t   \\\"\\\", ffssi_label_number);\n+#endif\n+  output_asm_insn (buffer, xops);\n   output_asm_insn (AS2 (mov%L0,%2,%0), xops);\n-  output_asm_insn (\\\"1:\\\", xops);\n+#ifdef LOCAL_LABEL_PREFIX\n+  sprintf (buffer, \\\"%sLFFSSI%d:\\\",\n+\t   LOCAL_LABEL_PREFIX, ffssi_label_number);\n+#else\n+  sprintf (buffer, \\\"%sLFFSSI%d:\\\",\n+\t   \\\"\\\", ffssi_label_number);\n+#endif\n+  output_asm_insn (buffer, xops);\n+\n+  ffssi_label_number++;\n   return \\\"\\\";\n }\")\n \n@@ -4490,14 +4508,32 @@\n   \"*\n {\n   rtx xops[3];\n+  static int ffshi_label_number;\n+  char buffer[30];\n \n   xops[0] = operands[0];\n   xops[1] = operands[1];\n   xops[2] = constm1_rtx;\n   output_asm_insn (AS2 (bsf%W0,%1,%0), xops);\n-  output_asm_insn (\\\"jnz 1f\\\", xops);\n+#ifdef LOCAL_LABEL_PREFIX\n+  sprintf (buffer, \\\"jnz %sLFFSHI%d\\\",\n+\t   LOCAL_LABEL_PREFIX, ffshi_label_number);\n+#else\n+  sprintf (buffer, \\\"jnz %sLFFSHI%d\\\",\n+\t   \\\"\\\", ffshi_label_number);\n+#endif\n+  output_asm_insn (buffer, xops);\n   output_asm_insn (AS2 (mov%W0,%2,%0), xops);\n-  output_asm_insn (\\\"1:\\\", xops);\n+#ifdef LOCAL_LABEL_PREFIX\n+  sprintf (buffer, \\\"%sLFFSHI%d:\\\",\n+\t   LOCAL_LABEL_PREFIX, ffshi_label_number);\n+#else\n+  sprintf (buffer, \\\"%sLFFSHI%d:\\\",\n+\t   \\\"\\\", ffshi_label_number);\n+#endif\n+  output_asm_insn (buffer, xops);\n+\n+  ffshi_label_number++;\n   return \\\"\\\";\n }\")\n \f"}]}