{"sha": "b397e31bd8dcc8b2c112a57e7dca2785cdbf569f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjM5N2UzMWJkOGRjYzhiMmMxMTJhNTdlN2RjYTI3ODVjZGJmNTY5Zg==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2008-04-29T05:45:00Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2008-04-29T05:45:00Z"}, "message": "c++config: Move os_defines and cpu_defines after namespace definitions and base macros.\n\n\n2008-04-28  Benjamin Kosnik  <bkoz@redhat.com>\n\n\t* include/bits/c++config: Move os_defines and cpu_defines after\n\tnamespace definitions and base macros.\n\nFrom-SVN: r134779", "tree": {"sha": "b5223acd8cf7faf8cae3f58c51ec9fe4f4eb6240", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5223acd8cf7faf8cae3f58c51ec9fe4f4eb6240"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f/comments", "author": null, "committer": null, "parents": [{"sha": "0aec205c3ba181eb52a98a0e93de628161efea82", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0aec205c3ba181eb52a98a0e93de628161efea82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0aec205c3ba181eb52a98a0e93de628161efea82"}], "stats": {"total": 64, "additions": 32, "deletions": 32}, "files": [{"sha": "87f0c6fed8c9986f8ced9380d0cf3ff70adad93b", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=b397e31bd8dcc8b2c112a57e7dca2785cdbf569f", "patch": "@@ -1,3 +1,8 @@\n+2008-04-28  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\t* include/bits/c++config: Move os_defines and cpu_defines after\n+\tnamespace definitions and base macros.\n+\n 2008-04-28  Benjamin Kosnik  <bkoz@redhat.com>\n \n \tPR libstdc++/35887"}, {"sha": "7b2ce7798a12c35378ee24b738a163cf63d6e791", "filename": "libstdc++-v3/include/bits/c++config", "status": "modified", "additions": 27, "deletions": 32, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b397e31bd8dcc8b2c112a57e7dca2785cdbf569f/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig?ref=b397e31bd8dcc8b2c112a57e7dca2785cdbf569f", "patch": "@@ -36,12 +36,6 @@\n #ifndef _GLIBCXX_CXX_CONFIG_H\n #define _GLIBCXX_CXX_CONFIG_H 1\n \n-// Pick up any OS-specific definitions.\n-#include <bits/os_defines.h>\n-\n-// Pick up any CPU-specific definitions.\n-#include <bits/cpu_defines.h>\n-\n // The current version of the C++ library in compressed ISO date format.\n #define __GLIBCXX__ \n \n@@ -216,6 +210,28 @@ namespace std\n }\n #endif\n \n+// XXX GLIBCXX_ABI Deprecated\n+// Define if compatibility should be provided for -mlong-double-64\n+#if defined __cplusplus && defined __LONG_DOUBLE_128__ \n+# undef _GLIBCXX_LONG_DOUBLE_COMPAT\n+#endif\n+\n+// Namespace associations for long double 128 mode.\n+#ifdef _GLIBCXX_LONG_DOUBLE_COMPAT\n+namespace std\n+{\n+  inline namespace __gnu_cxx_ldbl128 { }\n+}\n+# define _GLIBCXX_LDBL_NAMESPACE __gnu_cxx_ldbl128::\n+# define _GLIBCXX_BEGIN_LDBL_NAMESPACE namespace __gnu_cxx_ldbl128 {\n+# define _GLIBCXX_END_LDBL_NAMESPACE }\n+#else\n+# define _GLIBCXX_LDBL_NAMESPACE\n+# define _GLIBCXX_BEGIN_LDBL_NAMESPACE\n+# define _GLIBCXX_END_LDBL_NAMESPACE\n+#endif\n+\n+\n // Defines for C compatibility. In particular, define extern \"C\"\n // linkage only when using  C++, same with namespaces.\n #if __cplusplus\n@@ -230,25 +246,13 @@ namespace std\n # define _GLIBCXX_END_NAMESPACE \n #endif\n \n-// Define if compatibility should be provided for -mlong-double-64.\n-#undef _GLIBCXX_LONG_DOUBLE_COMPAT\n+// First includes.\n \n-// XXX GLIBCXX_ABI Deprecated\n-// Namespace associations for long double 128 mode.\n-_GLIBCXX_BEGIN_NAMESPACE(std)\n-#if defined _GLIBCXX_LONG_DOUBLE_COMPAT && defined __LONG_DOUBLE_128__ \\\n-  && defined __cplusplus\n-# define _GLIBCXX_LDBL_NAMESPACE __gnu_cxx_ldbl128::\n-# define _GLIBCXX_BEGIN_LDBL_NAMESPACE namespace __gnu_cxx_ldbl128 {\n-# define _GLIBCXX_END_LDBL_NAMESPACE }\n-  inline namespace __gnu_cxx_ldbl128 { }\n-#else\n-# define _GLIBCXX_LDBL_NAMESPACE\n-# define _GLIBCXX_BEGIN_LDBL_NAMESPACE\n-# define _GLIBCXX_END_LDBL_NAMESPACE\n-#endif\n-_GLIBCXX_END_NAMESPACE\n+// Pick up any OS-specific definitions.\n+#include <bits/os_defines.h>\n \n+// Pick up any CPU-specific definitions.\n+#include <bits/cpu_defines.h>\n \n // Allow use of \"export template.\" This is currently not a feature\n // that g++ supports.\n@@ -264,22 +268,13 @@ _GLIBCXX_END_NAMESPACE\n # define _GLIBCXX_EXTERN_TEMPLATE 1\n #endif\n \n-\n // Certain function definitions that are meant to be overridable from\n // user code are decorated with this macro.  For some targets, this\n // macro causes these definitions to be weak.\n #ifndef _GLIBCXX_WEAK_DEFINITION\n # define _GLIBCXX_WEAK_DEFINITION\n #endif\n \n-// Macro used to indicate that the native \"C\" includes, when compiled\n-// as \"C++\", have declarations in namespace std and not the global\n-// namespace. Note, this is unrelated to possible \"C\" compatibility\n-// includes that inject C90/C99 names into the global namespace.\n-#if __cplusplus == 199711L\n-# define _GLIBCXX_NAMESPACE_GLOBAL_INJECTION 1\n-#endif\n-\n // The remainder of the prewritten config is automatic; all the\n // user hooks are listed above.\n "}]}