{"sha": "d1137c020aa59c6e86385523ac7e23934d408758", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDExMzdjMDIwYWE1OWM2ZTg2Mzg1NTIzYWM3ZTIzOTM0ZDQwODc1OA==", "commit": {"author": {"name": "Thomas De Schampheleire", "email": "thomas.de_schampheleire@nokia.com", "date": "2019-05-31T08:22:14Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2019-05-31T08:22:14Z"}, "message": "re PR debug/86964 (Too many debug symbols included, especially for extern globals)\n\n2019-05-31  Thomas De Schampheleire  <thomas.de_schampheleire@nokia.com>\n\n\tPR debug/86964\n\t* common.opt (feliminate-unused-debug-symbols): Enable by default.\n\t* doc/invoke.texi (Debugging Options): Document new default of\n\t-feliminate-unused-debug-symbols and remove restriction to 'stabs'.\n\n\t* g++.dg/debug/dwarf2/fesd-any.C: Use\n\t-fno-eliminate-unused-debug-symbols.\n\t* g++.dg/debug/dwarf2/fesd-baseonly.C: Likewise.\n\t* g++.dg/debug/dwarf2/fesd-none.C: Likewise.\n\t* g++.dg/debug/dwarf2/fesd-reduced.C: Likewise.\n\t* g++.dg/debug/dwarf2/fesd-sys.C: Likewise.\n\t* g++.dg/debug/dwarf2/inline-var-1.C: Likewise.\n\t* g++.dg/debug/enum-2.C: Likewise.\n\t* gcc.dg/debug/dwarf2/fesd-any.c: Likewise.\n\t* gcc.dg/debug/dwarf2/fesd-baseonly.c: Likewise.\n\t* gcc.dg/debug/dwarf2/fesd-none.c: Likewise.\n\t* gcc.dg/debug/dwarf2/fesd-reduced.c: Likewise.\n\t* gcc.dg/debug/dwarf2/fesd-sys.c: Likewise.\n\nFrom-SVN: r271803", "tree": {"sha": "6d5ca061eb98fb9388c317d482bd6cd46682553d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d5ca061eb98fb9388c317d482bd6cd46682553d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1137c020aa59c6e86385523ac7e23934d408758", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1137c020aa59c6e86385523ac7e23934d408758", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1137c020aa59c6e86385523ac7e23934d408758", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1137c020aa59c6e86385523ac7e23934d408758/comments", "author": {"login": "patrickdepinguin", "id": 7582443, "node_id": "MDQ6VXNlcjc1ODI0NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/7582443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patrickdepinguin", "html_url": "https://github.com/patrickdepinguin", "followers_url": "https://api.github.com/users/patrickdepinguin/followers", "following_url": "https://api.github.com/users/patrickdepinguin/following{/other_user}", "gists_url": "https://api.github.com/users/patrickdepinguin/gists{/gist_id}", "starred_url": "https://api.github.com/users/patrickdepinguin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patrickdepinguin/subscriptions", "organizations_url": "https://api.github.com/users/patrickdepinguin/orgs", "repos_url": "https://api.github.com/users/patrickdepinguin/repos", "events_url": "https://api.github.com/users/patrickdepinguin/events{/privacy}", "received_events_url": "https://api.github.com/users/patrickdepinguin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6992d6fbf2ffdb4a5c78604fbf33ae95956fffdd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6992d6fbf2ffdb4a5c78604fbf33ae95956fffdd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6992d6fbf2ffdb4a5c78604fbf33ae95956fffdd"}], "stats": {"total": 58, "additions": 42, "deletions": 16}, "files": [{"sha": "b275f01b541895610f57c31db397045e1b8341d0", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,3 +1,10 @@\n+2019-05-31  Thomas De Schampheleire  <thomas.de_schampheleire@nokia.com>\n+\n+\tPR debug/86964\n+\t* common.opt (feliminate-unused-debug-symbols): Enable by default.\n+\t* doc/invoke.texi (Debugging Options): Document new default of\n+\t-feliminate-unused-debug-symbols and remove restriction to 'stabs'.\n+\n 2019-05-31  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/90671"}, {"sha": "0e72fd08ec46b4cf649435442e22394a27e65cb2", "filename": "gcc/common.opt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1379,7 +1379,7 @@ Common Report Var(flag_ipa_sra) Init(0) Optimization\n Perform interprocedural reduction of aggregates.\n \n feliminate-unused-debug-symbols\n-Common Report Var(flag_debug_only_used_symbols)\n+Common Report Var(flag_debug_only_used_symbols) Init(1)\n Perform unused symbol elimination in debug info.\n \n feliminate-unused-debug-types"}, {"sha": "9e2fab5098ff81c493e529e07c8164e2326429ad", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -388,7 +388,7 @@ Objective-C and Objective-C++ Dialects}.\n -fno-eliminate-unused-debug-types @gol\n -femit-struct-debug-baseonly  -femit-struct-debug-reduced @gol\n -femit-struct-debug-detailed@r{[}=@var{spec-list}@r{]} @gol\n--feliminate-unused-debug-symbols  -femit-class-debug-always @gol\n+-fno-eliminate-unused-debug-symbols  -femit-class-debug-always @gol\n -fno-merge-debug-strings  -fno-dwarf2-cfi-asm @gol\n -fvar-tracking  -fvar-tracking-assignments}\n \n@@ -7828,10 +7828,11 @@ confusion with @option{-gdwarf-@var{level}}.\n Instead use an additional @option{-g@var{level}} option to change the\n debug level for DWARF.\n \n-@item -feliminate-unused-debug-symbols\n+@item -fno-eliminate-unused-debug-symbols\n @opindex feliminate-unused-debug-symbols\n-Produce debugging information in stabs format (if that is supported),\n-for only symbols that are actually used.\n+@opindex fno-eliminate-unused-debug-symbols\n+By default, no debug information is produced for symbols that are not actually\n+used. Use this option if you want debug information for all symbols.\n \n @item -femit-class-debug-always\n @opindex femit-class-debug-always"}, {"sha": "b2f4478126d7d1a4521c1953692e96919297eda0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,3 +1,20 @@\n+2019-05-31  Thomas De Schampheleire  <thomas.de_schampheleire@nokia.com>\n+\n+\tPR debug/86964\n+\t* g++.dg/debug/dwarf2/fesd-any.C: Use\n+\t-fno-eliminate-unused-debug-symbols.\n+\t* g++.dg/debug/dwarf2/fesd-baseonly.C: Likewise.\n+\t* g++.dg/debug/dwarf2/fesd-none.C: Likewise.\n+\t* g++.dg/debug/dwarf2/fesd-reduced.C: Likewise.\n+\t* g++.dg/debug/dwarf2/fesd-sys.C: Likewise.\n+\t* g++.dg/debug/dwarf2/inline-var-1.C: Likewise.\n+\t* g++.dg/debug/enum-2.C: Likewise.\n+\t* gcc.dg/debug/dwarf2/fesd-any.c: Likewise.\n+\t* gcc.dg/debug/dwarf2/fesd-baseonly.c: Likewise.\n+\t* gcc.dg/debug/dwarf2/fesd-none.c: Likewise.\n+\t* gcc.dg/debug/dwarf2/fesd-reduced.c: Likewise.\n+\t* gcc.dg/debug/dwarf2/fesd-sys.c: Likewise.\n+\n 2019-05-31  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/90671"}, {"sha": "5868ebc9c85eb488071d8467d176db10df9b63cd", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/fesd-any.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-any.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-any.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-any.C?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-detailed=any\" }\n+// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-detailed=any -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "fe0016a45638f7b3d615442b7969ce7dcaf7efa8", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/fesd-baseonly.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-baseonly.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-baseonly.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-baseonly.C?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-baseonly\" }\n+// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-baseonly -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "c5a33967426c1996a901ed672ab651a474263aae", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/fesd-none.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-none.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-none.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-none.C?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-detailed=none\" }\n+// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-detailed=none -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "ba40f1763755a97215a2add03cad1374e3785aa8", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/fesd-reduced.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-reduced.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-reduced.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-reduced.C?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-reduced\" }\n+// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-reduced -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "86eeb21cf104da0feb5b82277753ec27011826ec", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/fesd-sys.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-sys.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-sys.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Ffesd-sys.C?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-detailed=sys\" }\n+// { dg-options \"-gdwarf-2 -dA -femit-struct-debug-detailed=sys -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "3b1c913edfca779e244c7fc121e4e6ffb9140b2b", "filename": "gcc/testsuite/g++.dg/debug/dwarf2/inline-var-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Finline-var-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Finline-var-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fdwarf2%2Finline-var-1.C?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile { target c++17 } }\n-// { dg-options \"-O -g -dA -gno-strict-dwarf\" }\n+// { dg-options \"-O -g -dA -gno-strict-dwarf -fno-eliminate-unused-debug-symbols\" }\n // { dg-require-weak \"\" }\n // { dg-final { scan-assembler-times \"0x3\\[^\\n\\r]* DW_AT_inline\" 6 { xfail *-*-aix* } } }\n // { dg-final { scan-assembler-times \"0x1\\[^\\n\\r]* DW_AT_inline\" 2 { xfail *-*-aix* } } }"}, {"sha": "554de37c40a2535e6fd22b7a27b00328c0c21e7c", "filename": "gcc/testsuite/g++.dg/debug/enum-2.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fenum-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fenum-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdebug%2Fenum-2.C?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,6 @@\n /* Verify that used enums are output.  */\n /* { dg-do compile } */\n+/* { dg-options \"-fno-eliminate-unused-debug-symbols\" } */\n /* { dg-final { scan-assembler \"JTI_MAX\" } } */\n \n int var;"}, {"sha": "4062268e54c3d2fda99f5513b2f70a2988367494", "filename": "gcc/testsuite/gcc.dg/debug/dwarf2/fesd-any.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-any.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-any.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-any.c?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf -dA -femit-struct-debug-detailed=any\" }\n+// { dg-options \"-gdwarf -dA -femit-struct-debug-detailed=any -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "fffdf04cfb6ea22cbb754689b3399e082b1fcfb1", "filename": "gcc/testsuite/gcc.dg/debug/dwarf2/fesd-baseonly.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-baseonly.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-baseonly.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-baseonly.c?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf -dA -femit-struct-debug-baseonly\" }\n+// { dg-options \"-gdwarf -dA -femit-struct-debug-baseonly -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "6fba51287efa84bac8cedc0b5610d87ba2d30a89", "filename": "gcc/testsuite/gcc.dg/debug/dwarf2/fesd-none.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-none.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-none.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-none.c?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf -dA -femit-struct-debug-detailed=none\" }\n+// { dg-options \"-gdwarf -dA -femit-struct-debug-detailed=none -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler-not \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "4209e30e3f934d86a691b2f3fdf3e644cbbaecb1", "filename": "gcc/testsuite/gcc.dg/debug/dwarf2/fesd-reduced.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-reduced.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-reduced.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-reduced.c?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf -dA -femit-struct-debug-reduced\" }\n+// { dg-options \"-gdwarf -dA -femit-struct-debug-reduced -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_nsec.*DW_AT_name\" } }"}, {"sha": "9c100d7cf918466ff76cfc2c8793d3c25e0366bb", "filename": "gcc/testsuite/gcc.dg/debug/dwarf2/fesd-sys.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-sys.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1137c020aa59c6e86385523ac7e23934d408758/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-sys.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fdwarf2%2Ffesd-sys.c?ref=d1137c020aa59c6e86385523ac7e23934d408758", "patch": "@@ -1,5 +1,5 @@\n // { dg-do compile }\n-// { dg-options \"-gdwarf -dA -femit-struct-debug-detailed=sys\" }\n+// { dg-options \"-gdwarf -dA -femit-struct-debug-detailed=sys -fno-eliminate-unused-debug-symbols\" }\n // { dg-final { scan-assembler \"timespec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_sec.*DW_AT_name\" } }\n // { dg-final { scan-assembler \"tv_nsec.*DW_AT_name\" } }"}]}