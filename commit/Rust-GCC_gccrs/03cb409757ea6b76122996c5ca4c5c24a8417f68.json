{"sha": "03cb409757ea6b76122996c5ca4c5c24a8417f68", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNjYjQwOTc1N2VhNmI3NjEyMjk5NmM1Y2E0YzVjMjRhODQxN2Y2OA==", "commit": {"author": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2014-07-17T23:44:57Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2014-07-17T23:44:57Z"}, "message": "pa-linux.h (TARGET_OS_CPP_BUILTINS): Remove defines for __GCC_HAVE_SYNC_COMPARE_AND_SWAP_1...\n\n\t* config/pa/pa-linux.h (TARGET_OS_CPP_BUILTINS): Remove defines for\n\t__GCC_HAVE_SYNC_COMPARE_AND_SWAP_1, __GCC_HAVE_SYNC_COMPARE_AND_SWAP_2\n\tand __GCC_HAVE_SYNC_COMPARE_AND_SWAP_4.\n\t(HAVE_sync_compare_and_swapqi): Define.\n\t(HAVE_sync_compare_and_swaphi): Likewise.\n\t(HAVE_sync_compare_and_swapsi): Likewise.\n\nFrom-SVN: r212770", "tree": {"sha": "ea1b964b7654801a1ca02c1ceee6c6b3d5a180fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea1b964b7654801a1ca02c1ceee6c6b3d5a180fc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03cb409757ea6b76122996c5ca4c5c24a8417f68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03cb409757ea6b76122996c5ca4c5c24a8417f68", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03cb409757ea6b76122996c5ca4c5c24a8417f68", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03cb409757ea6b76122996c5ca4c5c24a8417f68/comments", "author": null, "committer": null, "parents": [{"sha": "a41370902e01cdfea8bef6eb3a0bd43c4615360b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a41370902e01cdfea8bef6eb3a0bd43c4615360b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a41370902e01cdfea8bef6eb3a0bd43c4615360b"}], "stats": {"total": 22, "additions": 19, "deletions": 3}, "files": [{"sha": "535875a6d8bbe5b37e1c4aab07f397ef931b5ad6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03cb409757ea6b76122996c5ca4c5c24a8417f68/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03cb409757ea6b76122996c5ca4c5c24a8417f68/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=03cb409757ea6b76122996c5ca4c5c24a8417f68", "patch": "@@ -1,3 +1,12 @@\n+2014-07-17  John David Anglin  <danglin@gcc.gnu.org>\n+\n+\t* config/pa/pa-linux.h (TARGET_OS_CPP_BUILTINS): Remove defines for\n+\t__GCC_HAVE_SYNC_COMPARE_AND_SWAP_1, __GCC_HAVE_SYNC_COMPARE_AND_SWAP_2\n+\tand __GCC_HAVE_SYNC_COMPARE_AND_SWAP_4.\n+\t(HAVE_sync_compare_and_swapqi): Define.\n+\t(HAVE_sync_compare_and_swaphi): Likewise.\n+\t(HAVE_sync_compare_and_swapsi): Likewise.\n+\n 2014-07-17  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* config/mips/p5600.md: Add missing cpu tests."}, {"sha": "3c3d51fb3374e6b253f8a418dc2b7d9229e21e94", "filename": "gcc/config/pa/pa-linux.h", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03cb409757ea6b76122996c5ca4c5c24a8417f68/gcc%2Fconfig%2Fpa%2Fpa-linux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03cb409757ea6b76122996c5ca4c5c24a8417f68/gcc%2Fconfig%2Fpa%2Fpa-linux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa-linux.h?ref=03cb409757ea6b76122996c5ca4c5c24a8417f68", "patch": "@@ -22,9 +22,6 @@ along with GCC; see the file COPYING3.  If not see\n #define TARGET_OS_CPP_BUILTINS()\t\t\\\n   do\t\t\t\t\t\t\\\n     {\t\t\t\t\t\t\\\n-\tbuiltin_define (\"__GCC_HAVE_SYNC_COMPARE_AND_SWAP_1\");\t\\\n-\tbuiltin_define (\"__GCC_HAVE_SYNC_COMPARE_AND_SWAP_2\");\t\\\n-\tbuiltin_define (\"__GCC_HAVE_SYNC_COMPARE_AND_SWAP_4\");\t\\\n \tGNU_USER_TARGET_OS_CPP_BUILTINS();\t\\\n \tbuiltin_assert (\"machine=bigendian\");\t\\\n     }\t\t\t\t\t\t\\\n@@ -133,3 +130,13 @@ along with GCC; see the file COPYING3.  If not see\n \n #undef TARGET_SYNC_LIBCALL\n #define TARGET_SYNC_LIBCALL 1\n+\n+/* The SYNC operations are implemented as library functions, not\n+   INSN patterns.  As a result, the HAVE defines for the patterns are\n+   not defined.  We need to define them to generate the corresponding\n+   __GCC_HAVE_SYNC_COMPARE_AND_SWAP_* and __GCC_ATOMIC_*_LOCK_FREE\n+   defines.  */\n+\n+#define HAVE_sync_compare_and_swapqi 1\n+#define HAVE_sync_compare_and_swaphi 1\n+#define HAVE_sync_compare_and_swapsi 1"}]}