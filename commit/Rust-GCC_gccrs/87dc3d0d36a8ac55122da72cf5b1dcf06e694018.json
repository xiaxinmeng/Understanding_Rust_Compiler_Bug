{"sha": "87dc3d0d36a8ac55122da72cf5b1dcf06e694018", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdkYzNkMGQzNmE4YWM1NTEyMmRhNzJjZjViMWRjZjA2ZTY5NDAxOA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-03-04T12:31:52Z"}, "committer": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2021-03-04T15:53:24Z"}, "message": "Handle ERROR_MARK in direct_abstract_declarator\n\nThe gcc.dg/noncompile/pr79758.c testcase prints\n\npr79758.c:5:6: error: redefinition of 'fn1'\n'error_mark' not supported by direct_abstract_declarator)'/home/rguenther/src/gcc3/gcc/testsuite/gcc.dg/noncompile/pr79758.c:4:6: note: previous definition of 'fn1' with type\n\nwhich shows a) re-entry of pp_printf via pp_unsupported_tree and b) a\nbogus diagnostic.  The following handles ERROR_MARK in\ndirect_abstract_declarator, yielding in the better\n\n/home/rguenther/src/gcc3/gcc/testsuite/gcc.dg/noncompile/pr79758.c:5:6: error: redefinition of 'fn1'\n/home/rguenther/src/gcc3/gcc/testsuite/gcc.dg/noncompile/pr79758.c:4:6: note: previous definition of 'fn1' with type 'void(<type-error>)'\n\nbut still maybe not perfect.\n\n2021-03-04  Richard Biener  <rguenther@suse.de>\n\ngcc/c-family/\n\t* c-pretty-print.c (c_pretty_printer::direct_abstract_declarator):\n\tHandle ERROR_MARK.", "tree": {"sha": "b6ea7768745c98c20e5fcb2327b525e5256937d1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b6ea7768745c98c20e5fcb2327b525e5256937d1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87dc3d0d36a8ac55122da72cf5b1dcf06e694018", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87dc3d0d36a8ac55122da72cf5b1dcf06e694018", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87dc3d0d36a8ac55122da72cf5b1dcf06e694018", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87dc3d0d36a8ac55122da72cf5b1dcf06e694018/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6a8fc0c31a9ae759fe9bf59b5418abf2af938f91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a8fc0c31a9ae759fe9bf59b5418abf2af938f91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a8fc0c31a9ae759fe9bf59b5418abf2af938f91"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "a987da46d6da3da1c614e01d037fe741a05690f2", "filename": "gcc/c-family/c-pretty-print.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87dc3d0d36a8ac55122da72cf5b1dcf06e694018/gcc%2Fc-family%2Fc-pretty-print.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87dc3d0d36a8ac55122da72cf5b1dcf06e694018/gcc%2Fc-family%2Fc-pretty-print.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc-pretty-print.c?ref=87dc3d0d36a8ac55122da72cf5b1dcf06e694018", "patch": "@@ -676,6 +676,7 @@ c_pretty_printer::direct_abstract_declarator (tree t)\n     case VECTOR_TYPE:\n     case COMPLEX_TYPE:\n     case TYPE_DECL:\n+    case ERROR_MARK:\n       break;\n \n     default:"}]}