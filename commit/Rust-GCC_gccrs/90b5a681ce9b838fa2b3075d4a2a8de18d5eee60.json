{"sha": "90b5a681ce9b838fa2b3075d4a2a8de18d5eee60", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTBiNWE2ODFjZTliODM4ZmEyYjMwNzVkNGEyYThkZTE4ZDVlZWU2MA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-07T23:11:15Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-09-07T23:11:15Z"}, "message": "(c_build_type_variant): Allocate new type in same obstack as old one.\n\nFrom-SVN: r5278", "tree": {"sha": "0f845a10711ed59fd03f9c3390abe0e9307e2344", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f845a10711ed59fd03f9c3390abe0e9307e2344"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/90b5a681ce9b838fa2b3075d4a2a8de18d5eee60", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90b5a681ce9b838fa2b3075d4a2a8de18d5eee60", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90b5a681ce9b838fa2b3075d4a2a8de18d5eee60", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90b5a681ce9b838fa2b3075d4a2a8de18d5eee60/comments", "author": null, "committer": null, "parents": [{"sha": "e3a12f0cb1d544f7b86c93f3073c0a6459f2f394", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3a12f0cb1d544f7b86c93f3073c0a6459f2f394", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3a12f0cb1d544f7b86c93f3073c0a6459f2f394"}], "stats": {"total": 7, "additions": 2, "deletions": 5}, "files": [{"sha": "3bdc7140ad3fa39401f67b6ebfea618e1783898d", "filename": "gcc/c-common.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/90b5a681ce9b838fa2b3075d4a2a8de18d5eee60/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/90b5a681ce9b838fa2b3075d4a2a8de18d5eee60/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=90b5a681ce9b838fa2b3075d4a2a8de18d5eee60", "patch": "@@ -1194,16 +1194,13 @@ c_build_type_variant (type, constp, volatilep)\n   if (TREE_CODE (type) == ARRAY_TYPE)\n     {\n       tree real_main_variant = TYPE_MAIN_VARIANT (type);\n-      int permanent = TREE_PERMANENT (type);\n \n-      if (permanent)\n-\tpush_obstacks (&permanent_obstack, &permanent_obstack);\n+      push_obstacks (TYPE_OBSTACK (type), TYPE_OBSTACK (type));\n       type = build_array_type (c_build_type_variant (TREE_TYPE (type),\n \t\t\t\t\t\t     constp, volatilep),\n \t\t\t       TYPE_DOMAIN (type));\n       TYPE_MAIN_VARIANT (type) = real_main_variant;\n-      if (permanent)\n-\tpop_obstacks ();\n+      pop_obstacks ();\n     }\n   return build_type_variant (type, constp, volatilep);\n }"}]}