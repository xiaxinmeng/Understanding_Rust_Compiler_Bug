{"sha": "8b4c8a86958bfb9aac5eb8dd043d6609786b8223", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGI0YzhhODY5NThiZmI5YWFjNWViOGRkMDQzZDY2MDk3ODZiODIyMw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-11-11T21:40:27Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-11-11T21:40:27Z"}, "message": "inclhack.def (avoid_wchar_t_type): New fix.\n\n\t* fixinc/inclhack.def (avoid_wchar_t_type): New fix.\n\t* fininc/fixincl.x: Regenerated.\n\nFrom-SVN: r37391", "tree": {"sha": "ce119da89ebd6a1f1a0070fa3c86e45f5fbbad3c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ce119da89ebd6a1f1a0070fa3c86e45f5fbbad3c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b4c8a86958bfb9aac5eb8dd043d6609786b8223", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b4c8a86958bfb9aac5eb8dd043d6609786b8223", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b4c8a86958bfb9aac5eb8dd043d6609786b8223", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b4c8a86958bfb9aac5eb8dd043d6609786b8223/comments", "author": null, "committer": null, "parents": [{"sha": "ac51395dc07e1fb8b1e66e996724e440cb30a8fc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac51395dc07e1fb8b1e66e996724e440cb30a8fc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac51395dc07e1fb8b1e66e996724e440cb30a8fc"}], "stats": {"total": 272, "additions": 168, "deletions": 104}, "files": [{"sha": "5c34f1ae9772c7ca276d740545a406080e1109f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b4c8a86958bfb9aac5eb8dd043d6609786b8223/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b4c8a86958bfb9aac5eb8dd043d6609786b8223/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8b4c8a86958bfb9aac5eb8dd043d6609786b8223", "patch": "@@ -1,3 +1,8 @@\n+2000-11-11  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* fixinc/inclhack.def (avoid_wchar_t_type): New fix.\n+\t* fininc/fixincl.x: Regenerated.\n+\n 2000-11-11  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* invoke.texi: Correct spelling of -foptimize-register-move."}, {"sha": "524489b4de53b755b58c9c453088e667e7953271", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 147, "deletions": 104, "changes": 251, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b4c8a86958bfb9aac5eb8dd043d6609786b8223/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b4c8a86958bfb9aac5eb8dd043d6609786b8223/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=8b4c8a86958bfb9aac5eb8dd043d6609786b8223", "patch": "@@ -5,7 +5,7 @@\n  * files which are fixed to work correctly with ANSI C and placed in a\n  * directory that GNU C will search.\n  *\n- * This file contains 129 fixup descriptions.\n+ * This file contains 130 fixup descriptions.\n  *\n  * See README-fixinc for more information.\n  *\n@@ -1293,11 +1293,49 @@ static const char* apzAvoid_Bool_TypePatch[] = {\n     \"^[ \\t]*typedef[ \\t].*[ \\t]bool[ \\t]*;.*\",\n     (char*)NULL };\n \n+/* * * * * * * * * * * * * * * * * * * * * * * * * *\n+ *\n+ *  Description of Avoid_Wchar_T_Type fix\n+ */\n+#define AVOID_WCHAR_T_TYPE_FIXIDX        28\n+tSCC zAvoid_Wchar_T_TypeName[] =\n+     \"avoid_wchar_t_type\";\n+\n+/*\n+ *  File name selection pattern\n+ */\n+#define zAvoid_Wchar_T_TypeList (char*)NULL\n+/*\n+ *  Machine/OS name selection pattern\n+ */\n+#define apzAvoid_Wchar_T_TypeMachs (const char**)NULL\n+\n+/*\n+ *  content selection pattern - do fix if pattern found\n+ */\n+tSCC zAvoid_Wchar_T_TypeSelect0[] =\n+       \"^[ \\t]*typedef[ \\t].*[ \\t]wchar_t[ \\t]*;\";\n+\n+#define    AVOID_WCHAR_T_TYPE_TEST_CT  1\n+static tTestDesc aAvoid_Wchar_T_TypeTests[] = {\n+  { TT_EGREP,    zAvoid_Wchar_T_TypeSelect0, (regex_t*)NULL }, };\n+\n+/*\n+ *  Fix Command Arguments for Avoid_Wchar_T_Type\n+ */\n+static const char* apzAvoid_Wchar_T_TypePatch[] = {\n+    \"format\",\n+    \"#ifndef __cplusplus\\n\\\n+%0\\n\\\n+#endif\",\n+    \"^[ \\t]*typedef[ \\t].*[ \\t]wchar_t[ \\t]*;.*\",\n+    (char*)NULL };\n+\n /* * * * * * * * * * * * * * * * * * * * * * * * * *\n  *\n  *  Description of Bad_Lval fix\n  */\n-#define BAD_LVAL_FIXIDX                  28\n+#define BAD_LVAL_FIXIDX                  29\n tSCC zBad_LvalName[] =\n      \"bad_lval\";\n \n@@ -1332,7 +1370,7 @@ static const char* apzBad_LvalPatch[] = { \"sed\",\n  *\n  *  Description of Bad_Struct_Term fix\n  */\n-#define BAD_STRUCT_TERM_FIXIDX           29\n+#define BAD_STRUCT_TERM_FIXIDX           30\n tSCC zBad_Struct_TermName[] =\n      \"bad_struct_term\";\n \n@@ -1368,7 +1406,7 @@ static const char* apzBad_Struct_TermPatch[] = {\n  *\n  *  Description of Badquote fix\n  */\n-#define BADQUOTE_FIXIDX                  30\n+#define BADQUOTE_FIXIDX                  31\n tSCC zBadquoteName[] =\n      \"badquote\";\n \n@@ -1404,7 +1442,7 @@ static const char* apzBadquotePatch[] = {\n  *\n  *  Description of Broken_Assert_Stdio fix\n  */\n-#define BROKEN_ASSERT_STDIO_FIXIDX       31\n+#define BROKEN_ASSERT_STDIO_FIXIDX       32\n tSCC zBroken_Assert_StdioName[] =\n      \"broken_assert_stdio\";\n \n@@ -1447,7 +1485,7 @@ static const char* apzBroken_Assert_StdioPatch[] = {\n  *\n  *  Description of Broken_Assert_Stdlib fix\n  */\n-#define BROKEN_ASSERT_STDLIB_FIXIDX      32\n+#define BROKEN_ASSERT_STDLIB_FIXIDX      33\n tSCC zBroken_Assert_StdlibName[] =\n      \"broken_assert_stdlib\";\n \n@@ -1492,7 +1530,7 @@ static const char* apzBroken_Assert_StdlibPatch[] = {\n  *\n  *  Description of Broken_Cabs fix\n  */\n-#define BROKEN_CABS_FIXIDX               33\n+#define BROKEN_CABS_FIXIDX               34\n tSCC zBroken_CabsName[] =\n      \"broken_cabs\";\n \n@@ -1529,7 +1567,7 @@ static const char* apzBroken_CabsPatch[] = {\n  *\n  *  Description of Ctrl_Quotes_Def fix\n  */\n-#define CTRL_QUOTES_DEF_FIXIDX           34\n+#define CTRL_QUOTES_DEF_FIXIDX           35\n tSCC zCtrl_Quotes_DefName[] =\n      \"ctrl_quotes_def\";\n \n@@ -1564,7 +1602,7 @@ static const char* apzCtrl_Quotes_DefPatch[] = {\n  *\n  *  Description of Ctrl_Quotes_Use fix\n  */\n-#define CTRL_QUOTES_USE_FIXIDX           35\n+#define CTRL_QUOTES_USE_FIXIDX           36\n tSCC zCtrl_Quotes_UseName[] =\n      \"ctrl_quotes_use\";\n \n@@ -1599,7 +1637,7 @@ static const char* apzCtrl_Quotes_UsePatch[] = {\n  *\n  *  Description of Cxx_Unready fix\n  */\n-#define CXX_UNREADY_FIXIDX               36\n+#define CXX_UNREADY_FIXIDX               37\n tSCC zCxx_UnreadyName[] =\n      \"cxx_unready\";\n \n@@ -1647,7 +1685,7 @@ extern \\\"C\\\" {\\n\\\n  *\n  *  Description of Dec_Intern_Asm fix\n  */\n-#define DEC_INTERN_ASM_FIXIDX            37\n+#define DEC_INTERN_ASM_FIXIDX            38\n tSCC zDec_Intern_AsmName[] =\n      \"dec_intern_asm\";\n \n@@ -1677,7 +1715,7 @@ static const char* apzDec_Intern_AsmPatch[] = { \"sed\",\n  *\n  *  Description of Ecd_Cursor fix\n  */\n-#define ECD_CURSOR_FIXIDX                38\n+#define ECD_CURSOR_FIXIDX                39\n tSCC zEcd_CursorName[] =\n      \"ecd_cursor\";\n \n@@ -1713,7 +1751,7 @@ static const char* apzEcd_CursorPatch[] = {\n  *\n  *  Description of Fix_Header_Breakage fix\n  */\n-#define FIX_HEADER_BREAKAGE_FIXIDX       39\n+#define FIX_HEADER_BREAKAGE_FIXIDX       40\n tSCC zFix_Header_BreakageName[] =\n      \"fix_header_breakage\";\n \n@@ -1751,7 +1789,7 @@ static const char* apzFix_Header_BreakagePatch[] = {\n  *\n  *  Description of Hp_Inline fix\n  */\n-#define HP_INLINE_FIXIDX                 40\n+#define HP_INLINE_FIXIDX                 41\n tSCC zHp_InlineName[] =\n      \"hp_inline\";\n \n@@ -1788,7 +1826,7 @@ static const char* apzHp_InlinePatch[] = {\n  *\n  *  Description of Hp_Sysfile fix\n  */\n-#define HP_SYSFILE_FIXIDX                41\n+#define HP_SYSFILE_FIXIDX                42\n tSCC zHp_SysfileName[] =\n      \"hp_sysfile\";\n \n@@ -1825,7 +1863,7 @@ static const char* apzHp_SysfilePatch[] = {\n  *\n  *  Description of Hpux11_Fabsf fix\n  */\n-#define HPUX11_FABSF_FIXIDX              42\n+#define HPUX11_FABSF_FIXIDX              43\n tSCC zHpux11_FabsfName[] =\n      \"hpux11_fabsf\";\n \n@@ -1870,7 +1908,7 @@ static const char* apzHpux11_FabsfPatch[] = {\n  *\n  *  Description of Hpux11_Uint32_C fix\n  */\n-#define HPUX11_UINT32_C_FIXIDX           43\n+#define HPUX11_UINT32_C_FIXIDX           44\n tSCC zHpux11_Uint32_CName[] =\n      \"hpux11_uint32_c\";\n \n@@ -1906,7 +1944,7 @@ static const char* apzHpux11_Uint32_CPatch[] = {\n  *\n  *  Description of Hpux8_Bogus_Inlines fix\n  */\n-#define HPUX8_BOGUS_INLINES_FIXIDX       44\n+#define HPUX8_BOGUS_INLINES_FIXIDX       45\n tSCC zHpux8_Bogus_InlinesName[] =\n      \"hpux8_bogus_inlines\";\n \n@@ -1944,7 +1982,7 @@ static const char* apzHpux8_Bogus_InlinesPatch[] = { \"sed\",\n  *\n  *  Description of Int_Abort_Free_And_Exit fix\n  */\n-#define INT_ABORT_FREE_AND_EXIT_FIXIDX   45\n+#define INT_ABORT_FREE_AND_EXIT_FIXIDX   46\n tSCC zInt_Abort_Free_And_ExitName[] =\n      \"int_abort_free_and_exit\";\n \n@@ -1980,7 +2018,7 @@ static const char* apzInt_Abort_Free_And_ExitPatch[] = {\n  *\n  *  Description of Isc_Omits_With_Stdc fix\n  */\n-#define ISC_OMITS_WITH_STDC_FIXIDX       46\n+#define ISC_OMITS_WITH_STDC_FIXIDX       47\n tSCC zIsc_Omits_With_StdcName[] =\n      \"isc_omits_with_stdc\";\n \n@@ -2016,7 +2054,7 @@ static const char* apzIsc_Omits_With_StdcPatch[] = {\n  *\n  *  Description of Io_Quotes_Def fix\n  */\n-#define IO_QUOTES_DEF_FIXIDX             47\n+#define IO_QUOTES_DEF_FIXIDX             48\n tSCC zIo_Quotes_DefName[] =\n      \"io_quotes_def\";\n \n@@ -2051,7 +2089,7 @@ static const char* apzIo_Quotes_DefPatch[] = {\n  *\n  *  Description of Io_Quotes_Use fix\n  */\n-#define IO_QUOTES_USE_FIXIDX             48\n+#define IO_QUOTES_USE_FIXIDX             49\n tSCC zIo_Quotes_UseName[] =\n      \"io_quotes_use\";\n \n@@ -2086,7 +2124,7 @@ static const char* apzIo_Quotes_UsePatch[] = {\n  *\n  *  Description of Hpux_Maxint fix\n  */\n-#define HPUX_MAXINT_FIXIDX               49\n+#define HPUX_MAXINT_FIXIDX               50\n tSCC zHpux_MaxintName[] =\n      \"hpux_maxint\";\n \n@@ -2125,7 +2163,7 @@ static const char* apzHpux_MaxintPatch[] = {\n  *\n  *  Description of Hpux_Systime fix\n  */\n-#define HPUX_SYSTIME_FIXIDX              50\n+#define HPUX_SYSTIME_FIXIDX              51\n tSCC zHpux_SystimeName[] =\n      \"hpux_systime\";\n \n@@ -2161,7 +2199,7 @@ static const char* apzHpux_SystimePatch[] = {\n  *\n  *  Description of Ip_Missing_Semi fix\n  */\n-#define IP_MISSING_SEMI_FIXIDX           51\n+#define IP_MISSING_SEMI_FIXIDX           52\n tSCC zIp_Missing_SemiName[] =\n      \"ip_missing_semi\";\n \n@@ -2196,7 +2234,7 @@ static const char* apzIp_Missing_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Irix_Asm_Apostrophe fix\n  */\n-#define IRIX_ASM_APOSTROPHE_FIXIDX       52\n+#define IRIX_ASM_APOSTROPHE_FIXIDX       53\n tSCC zIrix_Asm_ApostropheName[] =\n      \"irix_asm_apostrophe\";\n \n@@ -2233,7 +2271,7 @@ static const char* apzIrix_Asm_ApostrophePatch[] = {\n  *\n  *  Description of Isc_Fmod fix\n  */\n-#define ISC_FMOD_FIXIDX                  53\n+#define ISC_FMOD_FIXIDX                  54\n tSCC zIsc_FmodName[] =\n      \"isc_fmod\";\n \n@@ -2269,7 +2307,7 @@ static const char* apzIsc_FmodPatch[] = {\n  *\n  *  Description of Kandr_Concat fix\n  */\n-#define KANDR_CONCAT_FIXIDX              54\n+#define KANDR_CONCAT_FIXIDX              55\n tSCC zKandr_ConcatName[] =\n      \"kandr_concat\";\n \n@@ -2305,7 +2343,7 @@ static const char* apzKandr_ConcatPatch[] = {\n  *\n  *  Description of Libc1_Ifdefd_Memx fix\n  */\n-#define LIBC1_IFDEFD_MEMX_FIXIDX         55\n+#define LIBC1_IFDEFD_MEMX_FIXIDX         56\n tSCC zLibc1_Ifdefd_MemxName[] =\n      \"libc1_ifdefd_memx\";\n \n@@ -2354,7 +2392,7 @@ extern [a-z_]+ mem.*(\\n\\\n  *\n  *  Description of Limits_Ifndefs fix\n  */\n-#define LIMITS_IFNDEFS_FIXIDX            56\n+#define LIMITS_IFNDEFS_FIXIDX            57\n tSCC zLimits_IfndefsName[] =\n      \"limits_ifndefs\";\n \n@@ -2393,7 +2431,7 @@ static const char* apzLimits_IfndefsPatch[] = {\n  *\n  *  Description of Lynx_Void_Int fix\n  */\n-#define LYNX_VOID_INT_FIXIDX             57\n+#define LYNX_VOID_INT_FIXIDX             58\n tSCC zLynx_Void_IntName[] =\n      \"lynx_void_int\";\n \n@@ -2429,7 +2467,7 @@ static const char* apzLynx_Void_IntPatch[] = {\n  *\n  *  Description of Lynxos_Fcntl_Proto fix\n  */\n-#define LYNXOS_FCNTL_PROTO_FIXIDX        58\n+#define LYNXOS_FCNTL_PROTO_FIXIDX        59\n tSCC zLynxos_Fcntl_ProtoName[] =\n      \"lynxos_fcntl_proto\";\n \n@@ -2466,7 +2504,7 @@ static const char* apzLynxos_Fcntl_ProtoPatch[] = {\n  *\n  *  Description of M88k_Bad_Hypot_Opt fix\n  */\n-#define M88K_BAD_HYPOT_OPT_FIXIDX        59\n+#define M88K_BAD_HYPOT_OPT_FIXIDX        60\n tSCC zM88k_Bad_Hypot_OptName[] =\n      \"m88k_bad_hypot_opt\";\n \n@@ -2515,7 +2553,7 @@ static __inline__ double fake_hypot (x, y)\\n\\\n  *\n  *  Description of M88k_Bad_S_If fix\n  */\n-#define M88K_BAD_S_IF_FIXIDX             60\n+#define M88K_BAD_S_IF_FIXIDX             61\n tSCC zM88k_Bad_S_IfName[] =\n      \"m88k_bad_s_if\";\n \n@@ -2554,7 +2592,7 @@ static const char* apzM88k_Bad_S_IfPatch[] = {\n  *\n  *  Description of M88k_Multi_Incl fix\n  */\n-#define M88K_MULTI_INCL_FIXIDX           61\n+#define M88K_MULTI_INCL_FIXIDX           62\n tSCC zM88k_Multi_InclName[] =\n      \"m88k_multi_incl\";\n \n@@ -2591,7 +2629,7 @@ static const char* apzM88k_Multi_InclPatch[] = {\n  *\n  *  Description of Machine_Ansi_H_Va_List fix\n  */\n-#define MACHINE_ANSI_H_VA_LIST_FIXIDX    62\n+#define MACHINE_ANSI_H_VA_LIST_FIXIDX    63\n tSCC zMachine_Ansi_H_Va_ListName[] =\n      \"machine_ansi_h_va_list\";\n \n@@ -2635,7 +2673,7 @@ static const char* apzMachine_Ansi_H_Va_ListPatch[] = {\n  *\n  *  Description of Machine_Name fix\n  */\n-#define MACHINE_NAME_FIXIDX              63\n+#define MACHINE_NAME_FIXIDX              64\n tSCC zMachine_NameName[] =\n      \"machine_name\";\n \n@@ -2668,7 +2706,7 @@ static const char* apzMachine_NamePatch[] = {\n  *\n  *  Description of Math_Exception fix\n  */\n-#define MATH_EXCEPTION_FIXIDX            64\n+#define MATH_EXCEPTION_FIXIDX            65\n tSCC zMath_ExceptionName[] =\n      \"math_exception\";\n \n@@ -2716,7 +2754,7 @@ static const char* apzMath_ExceptionPatch[] = {\n  *\n  *  Description of Math_Huge_Val_From_Dbl_Max fix\n  */\n-#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 65\n+#define MATH_HUGE_VAL_FROM_DBL_MAX_FIXIDX 66\n tSCC zMath_Huge_Val_From_Dbl_MaxName[] =\n      \"math_huge_val_from_dbl_max\";\n \n@@ -2763,7 +2801,7 @@ static const char* apzMath_Huge_Val_From_Dbl_MaxPatch[] = { \"sh\", \"-c\",\n  *\n  *  Description of Math_Huge_Val_Ifndef fix\n  */\n-#define MATH_HUGE_VAL_IFNDEF_FIXIDX      66\n+#define MATH_HUGE_VAL_IFNDEF_FIXIDX      67\n tSCC zMath_Huge_Val_IfndefName[] =\n      \"math_huge_val_ifndef\";\n \n@@ -2802,7 +2840,7 @@ static const char* apzMath_Huge_Val_IfndefPatch[] = {\n  *\n  *  Description of Nested_Motorola fix\n  */\n-#define NESTED_MOTOROLA_FIXIDX           67\n+#define NESTED_MOTOROLA_FIXIDX           68\n tSCC zNested_MotorolaName[] =\n      \"nested_motorola\";\n \n@@ -2840,7 +2878,7 @@ static const char* apzNested_MotorolaPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Sys_Limits fix\n  */\n-#define NESTED_SYS_LIMITS_FIXIDX         68\n+#define NESTED_SYS_LIMITS_FIXIDX         69\n tSCC zNested_Sys_LimitsName[] =\n      \"nested_sys_limits\";\n \n@@ -2876,7 +2914,7 @@ static const char* apzNested_Sys_LimitsPatch[] = { \"sed\",\n  *\n  *  Description of Nested_Auth_Des fix\n  */\n-#define NESTED_AUTH_DES_FIXIDX           69\n+#define NESTED_AUTH_DES_FIXIDX           70\n tSCC zNested_Auth_DesName[] =\n      \"nested_auth_des\";\n \n@@ -2912,7 +2950,7 @@ static const char* apzNested_Auth_DesPatch[] = {\n  *\n  *  Description of News_Os_Recursion fix\n  */\n-#define NEWS_OS_RECURSION_FIXIDX         70\n+#define NEWS_OS_RECURSION_FIXIDX         71\n tSCC zNews_Os_RecursionName[] =\n      \"news_os_recursion\";\n \n@@ -2950,7 +2988,7 @@ static const char* apzNews_Os_RecursionPatch[] = {\n  *\n  *  Description of Next_Math_Prefix fix\n  */\n-#define NEXT_MATH_PREFIX_FIXIDX          71\n+#define NEXT_MATH_PREFIX_FIXIDX          72\n tSCC zNext_Math_PrefixName[] =\n      \"next_math_prefix\";\n \n@@ -2987,7 +3025,7 @@ static const char* apzNext_Math_PrefixPatch[] = {\n  *\n  *  Description of Next_Template fix\n  */\n-#define NEXT_TEMPLATE_FIXIDX             72\n+#define NEXT_TEMPLATE_FIXIDX             73\n tSCC zNext_TemplateName[] =\n      \"next_template\";\n \n@@ -3024,7 +3062,7 @@ static const char* apzNext_TemplatePatch[] = {\n  *\n  *  Description of Next_Volitile fix\n  */\n-#define NEXT_VOLITILE_FIXIDX             73\n+#define NEXT_VOLITILE_FIXIDX             74\n tSCC zNext_VolitileName[] =\n      \"next_volitile\";\n \n@@ -3061,7 +3099,7 @@ static const char* apzNext_VolitilePatch[] = {\n  *\n  *  Description of Next_Wait_Union fix\n  */\n-#define NEXT_WAIT_UNION_FIXIDX           74\n+#define NEXT_WAIT_UNION_FIXIDX           75\n tSCC zNext_Wait_UnionName[] =\n      \"next_wait_union\";\n \n@@ -3097,7 +3135,7 @@ static const char* apzNext_Wait_UnionPatch[] = {\n  *\n  *  Description of Nodeent_Syntax fix\n  */\n-#define NODEENT_SYNTAX_FIXIDX            75\n+#define NODEENT_SYNTAX_FIXIDX            76\n tSCC zNodeent_SyntaxName[] =\n      \"nodeent_syntax\";\n \n@@ -3133,7 +3171,7 @@ static const char* apzNodeent_SyntaxPatch[] = {\n  *\n  *  Description of Osf_Namespace_A fix\n  */\n-#define OSF_NAMESPACE_A_FIXIDX           76\n+#define OSF_NAMESPACE_A_FIXIDX           77\n tSCC zOsf_Namespace_AName[] =\n      \"osf_namespace_a\";\n \n@@ -3179,7 +3217,7 @@ static const char* apzOsf_Namespace_APatch[] = {\n  *\n  *  Description of Osf_Namespace_C fix\n  */\n-#define OSF_NAMESPACE_C_FIXIDX           77\n+#define OSF_NAMESPACE_C_FIXIDX           78\n tSCC zOsf_Namespace_CName[] =\n      \"osf_namespace_c\";\n \n@@ -3234,7 +3272,7 @@ typedef __regmatch_t\\tregmatch_t;\",\n  *\n  *  Description of Pthread_Page_Size fix\n  */\n-#define PTHREAD_PAGE_SIZE_FIXIDX         78\n+#define PTHREAD_PAGE_SIZE_FIXIDX         79\n tSCC zPthread_Page_SizeName[] =\n      \"pthread_page_size\";\n \n@@ -3270,7 +3308,7 @@ static const char* apzPthread_Page_SizePatch[] = {\n  *\n  *  Description of Read_Ret_Type fix\n  */\n-#define READ_RET_TYPE_FIXIDX             79\n+#define READ_RET_TYPE_FIXIDX             80\n tSCC zRead_Ret_TypeName[] =\n      \"read_ret_type\";\n \n@@ -3308,7 +3346,7 @@ static const char* apzRead_Ret_TypePatch[] = {\n  *\n  *  Description of Rs6000_Double fix\n  */\n-#define RS6000_DOUBLE_FIXIDX             80\n+#define RS6000_DOUBLE_FIXIDX             81\n tSCC zRs6000_DoubleName[] =\n      \"rs6000_double\";\n \n@@ -3347,7 +3385,7 @@ static const char* apzRs6000_DoublePatch[] = {\n  *\n  *  Description of Rs6000_Fchmod fix\n  */\n-#define RS6000_FCHMOD_FIXIDX             81\n+#define RS6000_FCHMOD_FIXIDX             82\n tSCC zRs6000_FchmodName[] =\n      \"rs6000_fchmod\";\n \n@@ -3383,7 +3421,7 @@ static const char* apzRs6000_FchmodPatch[] = {\n  *\n  *  Description of Rs6000_Param fix\n  */\n-#define RS6000_PARAM_FIXIDX              82\n+#define RS6000_PARAM_FIXIDX              83\n tSCC zRs6000_ParamName[] =\n      \"rs6000_param\";\n \n@@ -3419,7 +3457,7 @@ static const char* apzRs6000_ParamPatch[] = {\n  *\n  *  Description of Sco_Static_Func fix\n  */\n-#define SCO_STATIC_FUNC_FIXIDX           83\n+#define SCO_STATIC_FUNC_FIXIDX           84\n tSCC zSco_Static_FuncName[] =\n      \"sco_static_func\";\n \n@@ -3463,7 +3501,7 @@ extern \\\"C\\\" {\\\\\\n\\\n  *\n  *  Description of Sco_Strict_Ansi fix\n  */\n-#define SCO_STRICT_ANSI_FIXIDX           84\n+#define SCO_STRICT_ANSI_FIXIDX           85\n tSCC zSco_Strict_AnsiName[] =\n      \"sco_strict_ansi\";\n \n@@ -3501,7 +3539,7 @@ static const char* apzSco_Strict_AnsiPatch[] = {\n  *\n  *  Description of Sco_Utime fix\n  */\n-#define SCO_UTIME_FIXIDX                 85\n+#define SCO_UTIME_FIXIDX                 86\n tSCC zSco_UtimeName[] =\n      \"sco_utime\";\n \n@@ -3539,7 +3577,7 @@ static const char* apzSco_UtimePatch[] = {\n  *\n  *  Description of Statsswtch fix\n  */\n-#define STATSSWTCH_FIXIDX                86\n+#define STATSSWTCH_FIXIDX                87\n tSCC zStatsswtchName[] =\n      \"statsswtch\";\n \n@@ -3575,7 +3613,7 @@ static const char* apzStatsswtchPatch[] = {\n  *\n  *  Description of Stdio_Stdarg_H fix\n  */\n-#define STDIO_STDARG_H_FIXIDX            87\n+#define STDIO_STDARG_H_FIXIDX            88\n tSCC zStdio_Stdarg_HName[] =\n      \"stdio_stdarg_h\";\n \n@@ -3612,7 +3650,7 @@ static const char* apzStdio_Stdarg_HPatch[] = {\n  *\n  *  Description of Stdio_Va_List fix\n  */\n-#define STDIO_VA_LIST_FIXIDX             88\n+#define STDIO_VA_LIST_FIXIDX             89\n tSCC zStdio_Va_ListName[] =\n      \"stdio_va_list\";\n \n@@ -3657,7 +3695,7 @@ s@_Va_LIST@_VA_LIST@\",\n  *\n  *  Description of Struct_File fix\n  */\n-#define STRUCT_FILE_FIXIDX               89\n+#define STRUCT_FILE_FIXIDX               90\n tSCC zStruct_FileName[] =\n      \"struct_file\";\n \n@@ -3694,7 +3732,7 @@ static const char* apzStruct_FilePatch[] = {\n  *\n  *  Description of Struct_Sockaddr fix\n  */\n-#define STRUCT_SOCKADDR_FIXIDX           90\n+#define STRUCT_SOCKADDR_FIXIDX           91\n tSCC zStruct_SockaddrName[] =\n      \"struct_sockaddr\";\n \n@@ -3738,7 +3776,7 @@ static const char* apzStruct_SockaddrPatch[] = {\n  *\n  *  Description of Sun_Auth_Proto fix\n  */\n-#define SUN_AUTH_PROTO_FIXIDX            91\n+#define SUN_AUTH_PROTO_FIXIDX            92\n tSCC zSun_Auth_ProtoName[] =\n      \"sun_auth_proto\";\n \n@@ -3779,7 +3817,7 @@ static const char* apzSun_Auth_ProtoPatch[] = {\n  *\n  *  Description of Sun_Bogus_Ifdef fix\n  */\n-#define SUN_BOGUS_IFDEF_FIXIDX           92\n+#define SUN_BOGUS_IFDEF_FIXIDX           93\n tSCC zSun_Bogus_IfdefName[] =\n      \"sun_bogus_ifdef\";\n \n@@ -3815,7 +3853,7 @@ static const char* apzSun_Bogus_IfdefPatch[] = {\n  *\n  *  Description of Sun_Catmacro fix\n  */\n-#define SUN_CATMACRO_FIXIDX              93\n+#define SUN_CATMACRO_FIXIDX              94\n tSCC zSun_CatmacroName[] =\n      \"sun_catmacro\";\n \n@@ -3855,7 +3893,7 @@ static const char* apzSun_CatmacroPatch[] = {\n  *\n  *  Description of Sun_Malloc fix\n  */\n-#define SUN_MALLOC_FIXIDX                94\n+#define SUN_MALLOC_FIXIDX                95\n tSCC zSun_MallocName[] =\n      \"sun_malloc\";\n \n@@ -3886,7 +3924,7 @@ static const char* apzSun_MallocPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Rusers_Semi fix\n  */\n-#define SUN_RUSERS_SEMI_FIXIDX           95\n+#define SUN_RUSERS_SEMI_FIXIDX           96\n tSCC zSun_Rusers_SemiName[] =\n      \"sun_rusers_semi\";\n \n@@ -3921,7 +3959,7 @@ static const char* apzSun_Rusers_SemiPatch[] = { \"sed\",\n  *\n  *  Description of Sun_Signal fix\n  */\n-#define SUN_SIGNAL_FIXIDX                96\n+#define SUN_SIGNAL_FIXIDX                97\n tSCC zSun_SignalName[] =\n      \"sun_signal\";\n \n@@ -3961,7 +3999,7 @@ void\\t(*signal(...))(...);\\n\\\n  *\n  *  Description of Sunos_Matherr_Decl fix\n  */\n-#define SUNOS_MATHERR_DECL_FIXIDX        97\n+#define SUNOS_MATHERR_DECL_FIXIDX        98\n tSCC zSunos_Matherr_DeclName[] =\n      \"sunos_matherr_decl\";\n \n@@ -4004,7 +4042,7 @@ static const char* apzSunos_Matherr_DeclPatch[] = {\n  *\n  *  Description of Sunos_Strlen fix\n  */\n-#define SUNOS_STRLEN_FIXIDX              98\n+#define SUNOS_STRLEN_FIXIDX              99\n tSCC zSunos_StrlenName[] =\n      \"sunos_strlen\";\n \n@@ -4040,7 +4078,7 @@ static const char* apzSunos_StrlenPatch[] = {\n  *\n  *  Description of Svr4__P fix\n  */\n-#define SVR4__P_FIXIDX                   99\n+#define SVR4__P_FIXIDX                   100\n tSCC zSvr4__PName[] =\n      \"svr4__p\";\n \n@@ -4078,7 +4116,7 @@ static const char* apzSvr4__PPatch[] = {\n  *\n  *  Description of Svr4_Getcwd fix\n  */\n-#define SVR4_GETCWD_FIXIDX               100\n+#define SVR4_GETCWD_FIXIDX               101\n tSCC zSvr4_GetcwdName[] =\n      \"svr4_getcwd\";\n \n@@ -4114,7 +4152,7 @@ static const char* apzSvr4_GetcwdPatch[] = {\n  *\n  *  Description of Svr4_Profil fix\n  */\n-#define SVR4_PROFIL_FIXIDX               101\n+#define SVR4_PROFIL_FIXIDX               102\n tSCC zSvr4_ProfilName[] =\n      \"svr4_profil\";\n \n@@ -4150,7 +4188,7 @@ static const char* apzSvr4_ProfilPatch[] = {\n  *\n  *  Description of Gnu_Types fix\n  */\n-#define GNU_TYPES_FIXIDX                 102\n+#define GNU_TYPES_FIXIDX                 103\n tSCC zGnu_TypesName[] =\n      \"gnu_types\";\n \n@@ -4192,7 +4230,7 @@ static const char* apzGnu_TypesPatch[] = {\n  *\n  *  Description of Sysv68_String fix\n  */\n-#define SYSV68_STRING_FIXIDX             103\n+#define SYSV68_STRING_FIXIDX             104\n tSCC zSysv68_StringName[] =\n      \"sysv68_string\";\n \n@@ -4229,7 +4267,7 @@ extern unsigned int\\\\\\n\\\n  *\n  *  Description of Sysz_Stdlib_For_Sun fix\n  */\n-#define SYSZ_STDLIB_FOR_SUN_FIXIDX       104\n+#define SYSZ_STDLIB_FOR_SUN_FIXIDX       105\n tSCC zSysz_Stdlib_For_SunName[] =\n      \"sysz_stdlib_for_sun\";\n \n@@ -4265,7 +4303,7 @@ static const char* apzSysz_Stdlib_For_SunPatch[] = {\n  *\n  *  Description of Tinfo_Cplusplus fix\n  */\n-#define TINFO_CPLUSPLUS_FIXIDX           105\n+#define TINFO_CPLUSPLUS_FIXIDX           106\n tSCC zTinfo_CplusplusName[] =\n      \"tinfo_cplusplus\";\n \n@@ -4301,7 +4339,7 @@ static const char* apzTinfo_CplusplusPatch[] = {\n  *\n  *  Description of Ultrix_Atof_Param fix\n  */\n-#define ULTRIX_ATOF_PARAM_FIXIDX         106\n+#define ULTRIX_ATOF_PARAM_FIXIDX         107\n tSCC zUltrix_Atof_ParamName[] =\n      \"ultrix_atof_param\";\n \n@@ -4337,7 +4375,7 @@ static const char* apzUltrix_Atof_ParamPatch[] = {\n  *\n  *  Description of Ultrix_Const fix\n  */\n-#define ULTRIX_CONST_FIXIDX              107\n+#define ULTRIX_CONST_FIXIDX              108\n tSCC zUltrix_ConstName[] =\n      \"ultrix_const\";\n \n@@ -4374,7 +4412,7 @@ static const char* apzUltrix_ConstPatch[] = {\n  *\n  *  Description of Ultrix_Const2 fix\n  */\n-#define ULTRIX_CONST2_FIXIDX             108\n+#define ULTRIX_CONST2_FIXIDX             109\n tSCC zUltrix_Const2Name[] =\n      \"ultrix_const2\";\n \n@@ -4411,7 +4449,7 @@ static const char* apzUltrix_Const2Patch[] = {\n  *\n  *  Description of Ultrix_Fix_Fixproto fix\n  */\n-#define ULTRIX_FIX_FIXPROTO_FIXIDX       109\n+#define ULTRIX_FIX_FIXPROTO_FIXIDX       110\n tSCC zUltrix_Fix_FixprotoName[] =\n      \"ultrix_fix_fixproto\";\n \n@@ -4449,7 +4487,7 @@ static const char* apzUltrix_Fix_FixprotoPatch[] = {\n  *\n  *  Description of Ultrix_Ifdef fix\n  */\n-#define ULTRIX_IFDEF_FIXIDX              110\n+#define ULTRIX_IFDEF_FIXIDX              111\n tSCC zUltrix_IfdefName[] =\n      \"ultrix_ifdef\";\n \n@@ -4485,7 +4523,7 @@ static const char* apzUltrix_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Math_Ifdef fix\n  */\n-#define ULTRIX_MATH_IFDEF_FIXIDX         111\n+#define ULTRIX_MATH_IFDEF_FIXIDX         112\n tSCC zUltrix_Math_IfdefName[] =\n      \"ultrix_math_ifdef\";\n \n@@ -4521,7 +4559,7 @@ static const char* apzUltrix_Math_IfdefPatch[] = {\n  *\n  *  Description of Ultrix_Nested_Ioctl fix\n  */\n-#define ULTRIX_NESTED_IOCTL_FIXIDX       112\n+#define ULTRIX_NESTED_IOCTL_FIXIDX       113\n tSCC zUltrix_Nested_IoctlName[] =\n      \"ultrix_nested_ioctl\";\n \n@@ -4556,7 +4594,7 @@ static const char* apzUltrix_Nested_IoctlPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Nested_Svc fix\n  */\n-#define ULTRIX_NESTED_SVC_FIXIDX         113\n+#define ULTRIX_NESTED_SVC_FIXIDX         114\n tSCC zUltrix_Nested_SvcName[] =\n      \"ultrix_nested_svc\";\n \n@@ -4591,7 +4629,7 @@ static const char* apzUltrix_Nested_SvcPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Stat fix\n  */\n-#define ULTRIX_STAT_FIXIDX               114\n+#define ULTRIX_STAT_FIXIDX               115\n tSCC zUltrix_StatName[] =\n      \"ultrix_stat\";\n \n@@ -4632,7 +4670,7 @@ static const char* apzUltrix_StatPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Static fix\n  */\n-#define ULTRIX_STATIC_FIXIDX             115\n+#define ULTRIX_STATIC_FIXIDX             116\n tSCC zUltrix_StaticName[] =\n      \"ultrix_static\";\n \n@@ -4669,7 +4707,7 @@ static const char* apzUltrix_StaticPatch[] = { \"sed\",\n  *\n  *  Description of Ultrix_Strings fix\n  */\n-#define ULTRIX_STRINGS_FIXIDX            116\n+#define ULTRIX_STRINGS_FIXIDX            117\n tSCC zUltrix_StringsName[] =\n      \"ultrix_strings\";\n \n@@ -4704,7 +4742,7 @@ static const char* apzUltrix_StringsPatch[] = {\n  *\n  *  Description of Undefine_Null fix\n  */\n-#define UNDEFINE_NULL_FIXIDX             117\n+#define UNDEFINE_NULL_FIXIDX             118\n tSCC zUndefine_NullName[] =\n      \"undefine_null\";\n \n@@ -4750,7 +4788,7 @@ static const char* apzUndefine_NullPatch[] = {\n  *\n  *  Description of Uw7_Byteorder_Fix fix\n  */\n-#define UW7_BYTEORDER_FIX_FIXIDX         118\n+#define UW7_BYTEORDER_FIX_FIXIDX         119\n tSCC zUw7_Byteorder_FixName[] =\n      \"uw7_byteorder_fix\";\n \n@@ -4801,7 +4839,7 @@ static const char* apzUw7_Byteorder_FixPatch[] = {\n  *\n  *  Description of Va_I960_Macro fix\n  */\n-#define VA_I960_MACRO_FIXIDX             119\n+#define VA_I960_MACRO_FIXIDX             120\n tSCC zVa_I960_MacroName[] =\n      \"va_i960_macro\";\n \n@@ -4837,7 +4875,7 @@ static const char* apzVa_I960_MacroPatch[] = {\n  *\n  *  Description of Void_Null fix\n  */\n-#define VOID_NULL_FIXIDX                 120\n+#define VOID_NULL_FIXIDX                 121\n tSCC zVoid_NullName[] =\n      \"void_null\";\n \n@@ -4873,7 +4911,7 @@ static const char* apzVoid_NullPatch[] = {\n  *\n  *  Description of Vxworks_Gcc_Problem fix\n  */\n-#define VXWORKS_GCC_PROBLEM_FIXIDX       121\n+#define VXWORKS_GCC_PROBLEM_FIXIDX       122\n tSCC zVxworks_Gcc_ProblemName[] =\n      \"vxworks_gcc_problem\";\n \n@@ -4923,7 +4961,7 @@ static const char* apzVxworks_Gcc_ProblemPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Needs_Vxtypes fix\n  */\n-#define VXWORKS_NEEDS_VXTYPES_FIXIDX     122\n+#define VXWORKS_NEEDS_VXTYPES_FIXIDX     123\n tSCC zVxworks_Needs_VxtypesName[] =\n      \"vxworks_needs_vxtypes\";\n \n@@ -4959,7 +4997,7 @@ static const char* apzVxworks_Needs_VxtypesPatch[] = {\n  *\n  *  Description of Vxworks_Needs_Vxworks fix\n  */\n-#define VXWORKS_NEEDS_VXWORKS_FIXIDX     123\n+#define VXWORKS_NEEDS_VXWORKS_FIXIDX     124\n tSCC zVxworks_Needs_VxworksName[] =\n      \"vxworks_needs_vxworks\";\n \n@@ -5008,7 +5046,7 @@ static const char* apzVxworks_Needs_VxworksPatch[] = { \"sed\",\n  *\n  *  Description of Vxworks_Time fix\n  */\n-#define VXWORKS_TIME_FIXIDX              124\n+#define VXWORKS_TIME_FIXIDX              125\n tSCC zVxworks_TimeName[] =\n      \"vxworks_time\";\n \n@@ -5059,7 +5097,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\n\\\n  *\n  *  Description of X11_Class fix\n  */\n-#define X11_CLASS_FIXIDX                 125\n+#define X11_CLASS_FIXIDX                 126\n tSCC zX11_ClassName[] =\n      \"x11_class\";\n \n@@ -5106,7 +5144,7 @@ static const char* apzX11_ClassPatch[] = {\n  *\n  *  Description of X11_Class_Usage fix\n  */\n-#define X11_CLASS_USAGE_FIXIDX           126\n+#define X11_CLASS_USAGE_FIXIDX           127\n tSCC zX11_Class_UsageName[] =\n      \"x11_class_usage\";\n \n@@ -5149,7 +5187,7 @@ static const char* apzX11_Class_UsagePatch[] = {\n  *\n  *  Description of X11_New fix\n  */\n-#define X11_NEW_FIXIDX                   127\n+#define X11_NEW_FIXIDX                   128\n tSCC zX11_NewName[] =\n      \"x11_new\";\n \n@@ -5190,7 +5228,7 @@ static const char* apzX11_NewPatch[] = { \"sed\",\n  *\n  *  Description of X11_Sprintf fix\n  */\n-#define X11_SPRINTF_FIXIDX               128\n+#define X11_SPRINTF_FIXIDX               129\n tSCC zX11_SprintfName[] =\n      \"x11_sprintf\";\n \n@@ -5229,9 +5267,9 @@ static const char* apzX11_SprintfPatch[] = {\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          133\n+#define REGEX_COUNT          134\n #define MACH_LIST_SIZE_LIMIT 279\n-#define FIX_COUNT            129\n+#define FIX_COUNT            130\n \n tFixDesc fixDescList[ FIX_COUNT ] = {\n   {  zAaa_Ki_IfaceName,    zAaa_Ki_IfaceList,\n@@ -5374,6 +5412,11 @@ tFixDesc fixDescList[ FIX_COUNT ] = {\n      AVOID_BOOL_TYPE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n      aAvoid_Bool_TypeTests,   apzAvoid_Bool_TypePatch },\n \n+  {  zAvoid_Wchar_T_TypeName,    zAvoid_Wchar_T_TypeList,\n+     apzAvoid_Wchar_T_TypeMachs,\n+     AVOID_WCHAR_T_TYPE_TEST_CT, FD_MACH_ONLY | FD_SUBROUTINE,\n+     aAvoid_Wchar_T_TypeTests,   apzAvoid_Wchar_T_TypePatch },\n+\n   {  zBad_LvalName,    zBad_LvalList,\n      apzBad_LvalMachs,\n      BAD_LVAL_TEST_CT, FD_MACH_ONLY,"}, {"sha": "1eb953b3a561311928b35578a36484d858d44d94", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b4c8a86958bfb9aac5eb8dd043d6609786b8223/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b4c8a86958bfb9aac5eb8dd043d6609786b8223/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=8b4c8a86958bfb9aac5eb8dd043d6609786b8223", "patch": "@@ -769,6 +769,22 @@ fix = {\n     test_text = \"typedef unsigned int\\tbool \\t; /* bool type */\";\n };\n \n+/*\n+ *  For C++, avoid any typedef definition of wchar_t,\n+ *  and use the built in type instead.\n+ */\n+\n+fix = {\n+    hackname = avoid_wchar_t_type;\n+\n+    select    = \"^[ \\t]*typedef[ \\t].*[ \\t]wchar_t[ \\t]*;\";\n+\n+    c_fix     = format;\n+    c_fix_arg = \"#ifndef __cplusplus\\n%0\\n#endif\";\n+    c_fix_arg = \"^[ \\t]*typedef[ \\t].*[ \\t]wchar_t[ \\t]*;.*\";\n+\n+    test_text = \"typedef unsigned short\\twchar_t \\t; /* wchar_t type */\";\n+};\n \n /*\n  *  Fix #defines under Alpha OSF/1:"}]}