{"sha": "bc026668404da5ca49520ea01647d3d452c3613f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmMwMjY2Njg0MDRkYTVjYTQ5NTIwZWEwMTY0N2QzZDQ1MmMzNjEzZg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-06-30T20:08:45Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "1994-06-30T20:08:45Z"}, "message": "Wrap <time.h> and <sys/time.h> to avoid multiple inclusion errors.\n\nFrom-SVN: r7624", "tree": {"sha": "d4d4778eccaa5df5d2f7bfba67dd28061ea476e4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d4d4778eccaa5df5d2f7bfba67dd28061ea476e4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bc026668404da5ca49520ea01647d3d452c3613f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc026668404da5ca49520ea01647d3d452c3613f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bc026668404da5ca49520ea01647d3d452c3613f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bc026668404da5ca49520ea01647d3d452c3613f/comments", "author": null, "committer": null, "parents": [{"sha": "42cfe4cf3e14e2b10b46d09040e01f7b3b797de4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/42cfe4cf3e14e2b10b46d09040e01f7b3b797de4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/42cfe4cf3e14e2b10b46d09040e01f7b3b797de4"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "0254022e36c3632846abe37eb0d2c4f127997782", "filename": "gcc/fixincludes", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bc026668404da5ca49520ea01647d3d452c3613f/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bc026668404da5ca49520ea01647d3d452c3613f/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=bc026668404da5ca49520ea01647d3d452c3613f", "patch": "@@ -1710,6 +1710,24 @@ if [ -r ${LIB}/$file ]; then\n   rm -f ${LIB}/$file\n fi\n \n+# Put cpp wrappers around these include files to avoid redeclaration\n+# errors during multiple inclusion on m88k-tektronix-sysv3.\n+for file in time.h sys/time.h ; do\n+  if [ -r $file ] && [ ! -r ${LIB}/$file ]; then\n+    cp $file ${LIB}/$file >/dev/null 2>&1 || echo \"Can't copy $file\"\n+    chmod +w ${LIB}/$file 2>/dev/null\n+  fi\n+  if [ -r ${LIB}/$file ]; then\n+    echo Fixing $file, to protect against multiple inclusion.\n+    cpp_wrapper=`echo $file | sed -e 's,\\.,_,g' -e 's,/,_,g'`\n+    (echo \"#ifndef __GCC_GOT_${cpp_wrapper}_\"\n+    echo \"#define __GCC_GOT_${cpp_wrapper}_\"\n+    cat ${LIB}/${file}\n+    echo '#endif /* !_GCC_GOT_'${cpp_wrapper}_' */')  > ${LIB}/${file}.new\n+    rm -f ${LIB}/$file; mv ${LIB}/${file}.new ${LIB}/$file\n+  fi\n+done\n+\n echo 'Removing unneeded directories:'\n cd $LIB\n files=`find . -type d -print | sort -r`"}]}