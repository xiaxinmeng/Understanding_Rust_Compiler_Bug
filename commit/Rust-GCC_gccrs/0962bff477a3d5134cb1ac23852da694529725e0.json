{"sha": "0962bff477a3d5134cb1ac23852da694529725e0", "node_id": "C_kwDOANBUbNoAKDA5NjJiZmY0NzdhM2Q1MTM0Y2IxYWMyMzg1MmRhNjk0NTI5NzI1ZTA", "commit": {"author": {"name": "SiYu Wu", "email": "siyu@isrc.iscas.ac.cn", "date": "2021-11-22T08:19:10Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2021-12-03T16:10:35Z"}, "message": "RISC-V: Add implied defines of Zk, Zkn and Zks\n\ngcc/ChangeLog:\n\n2021-11-22  SiYu Wu  <siyu@isrc.iscas.ac.cn>\n\n\t* common/config/riscv/riscv-common.c (riscv_implied_info):\n\tAdd K-ext related entry.\n\t(riscv_supported_std_ext): Add 'k'.\n\t* config/riscv/arch-canonicalize (CANONICAL_ORDER): Add 'k'.\n\t(IMPLIED_EXT): Add K-ext related entry.", "tree": {"sha": "9bb8e3212593ade4dbd93fddfcf9ec0df3c091ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9bb8e3212593ade4dbd93fddfcf9ec0df3c091ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0962bff477a3d5134cb1ac23852da694529725e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0962bff477a3d5134cb1ac23852da694529725e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0962bff477a3d5134cb1ac23852da694529725e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0962bff477a3d5134cb1ac23852da694529725e0/comments", "author": {"login": "WuSiYu", "id": 6263652, "node_id": "MDQ6VXNlcjYyNjM2NTI=", "avatar_url": "https://avatars.githubusercontent.com/u/6263652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WuSiYu", "html_url": "https://github.com/WuSiYu", "followers_url": "https://api.github.com/users/WuSiYu/followers", "following_url": "https://api.github.com/users/WuSiYu/following{/other_user}", "gists_url": "https://api.github.com/users/WuSiYu/gists{/gist_id}", "starred_url": "https://api.github.com/users/WuSiYu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WuSiYu/subscriptions", "organizations_url": "https://api.github.com/users/WuSiYu/orgs", "repos_url": "https://api.github.com/users/WuSiYu/repos", "events_url": "https://api.github.com/users/WuSiYu/events{/privacy}", "received_events_url": "https://api.github.com/users/WuSiYu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "add31efdc7b0aa869cb9d83f40e274e864072b25", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/add31efdc7b0aa869cb9d83f40e274e864072b25", "html_url": "https://github.com/Rust-GCC/gccrs/commit/add31efdc7b0aa869cb9d83f40e274e864072b25"}], "stats": {"total": 32, "additions": 30, "deletions": 2}, "files": [{"sha": "f352ff4ce7bae0a7678d1f64ceb43932070981cc", "filename": "gcc/common/config/riscv/riscv-common.c", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0962bff477a3d5134cb1ac23852da694529725e0/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0962bff477a3d5134cb1ac23852da694529725e0/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.c?ref=0962bff477a3d5134cb1ac23852da694529725e0", "patch": "@@ -50,6 +50,20 @@ static const riscv_implied_info_t riscv_implied_info[] =\n   {\"d\", \"f\"},\n   {\"f\", \"zicsr\"},\n   {\"d\", \"zicsr\"},\n+  {\"zk\", \"zkn\"},\n+  {\"zk\", \"zkr\"},\n+  {\"zk\", \"zkt\"},\n+  {\"zkn\", \"zbkb\"},\n+  {\"zkn\", \"zbkc\"},\n+  {\"zkn\", \"zbkx\"},\n+  {\"zkn\", \"zkne\"},\n+  {\"zkn\", \"zknd\"},\n+  {\"zkn\", \"zknh\"},\n+  {\"zks\", \"zbkb\"},\n+  {\"zks\", \"zbkc\"},\n+  {\"zks\", \"zbkx\"},\n+  {\"zks\", \"zksed\"},\n+  {\"zks\", \"zksh\"},\n   {NULL, NULL}\n };\n \n@@ -502,7 +516,7 @@ riscv_subset_list::lookup (const char *subset, int major_version,\n static const char *\n riscv_supported_std_ext (void)\n {\n-  return \"mafdqlcbjtpvn\";\n+  return \"mafdqlcbjktpvn\";\n }\n \n /* Parsing subset version."}, {"sha": "90dbd194801cdae743ff4587221bcd527ef180a8", "filename": "gcc/config/riscv/arch-canonicalize", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0962bff477a3d5134cb1ac23852da694529725e0/gcc%2Fconfig%2Friscv%2Farch-canonicalize", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0962bff477a3d5134cb1ac23852da694529725e0/gcc%2Fconfig%2Friscv%2Farch-canonicalize", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Farch-canonicalize?ref=0962bff477a3d5134cb1ac23852da694529725e0", "patch": "@@ -28,14 +28,28 @@ import itertools\n from functools import reduce\n \n \n-CANONICAL_ORDER = \"imafdgqlcbjtpvn\"\n+CANONICAL_ORDER = \"imafdgqlcbjktpvn\"\n LONG_EXT_PREFIXES = ['z', 's', 'h', 'x']\n \n #\n # IMPLIED_EXT(ext) -> implied extension list.\n #\n IMPLIED_EXT = {\n   \"d\" : [\"f\"],\n+  \"zk\" : [\"zkn\"],\n+  \"zk\" : [\"zkr\"],\n+  \"zk\" : [\"zkt\"],\n+  \"zkn\" : [\"zbkb\"],\n+  \"zkn\" : [\"zbkc\"],\n+  \"zkn\" : [\"zbkx\"],\n+  \"zkn\" : [\"zkne\"],\n+  \"zkn\" : [\"zknd\"],\n+  \"zkn\" : [\"zknh\"],\n+  \"zks\" : [\"zbkb\"],\n+  \"zks\" : [\"zbkc\"],\n+  \"zks\" : [\"zbkx\"],\n+  \"zks\" : [\"zksed\"],\n+  \"zks\" : [\"zksh\"],\n }\n \n def arch_canonicalize(arch):"}]}