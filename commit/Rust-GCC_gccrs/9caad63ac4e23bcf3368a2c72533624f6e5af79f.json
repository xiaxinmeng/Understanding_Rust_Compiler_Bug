{"sha": "9caad63ac4e23bcf3368a2c72533624f6e5af79f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWNhYWQ2M2FjNGUyM2JjZjMzNjhhMmM3MjUzMzYyNGY2ZTVhZjc5Zg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2004-03-11T23:19:51Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2004-03-11T23:19:51Z"}, "message": "except.c (remove_unreachable_regions): Look thru CALL_PLACEHOLDER.\n\n        * except.c (remove_unreachable_regions): Look thru CALL_PLACEHOLDER.\n\t* g++.dg/opt/eh1.C: New.\n\nFrom-SVN: r79350", "tree": {"sha": "08f9e0d18bb965ce4349c71b21f1a6ea6a2b383d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08f9e0d18bb965ce4349c71b21f1a6ea6a2b383d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9caad63ac4e23bcf3368a2c72533624f6e5af79f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9caad63ac4e23bcf3368a2c72533624f6e5af79f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9caad63ac4e23bcf3368a2c72533624f6e5af79f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9caad63ac4e23bcf3368a2c72533624f6e5af79f/comments", "author": null, "committer": null, "parents": [{"sha": "03ca1672e4d910a7829d8680860fe9aa0fbcfbaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03ca1672e4d910a7829d8680860fe9aa0fbcfbaf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03ca1672e4d910a7829d8680860fe9aa0fbcfbaf"}], "stats": {"total": 39, "additions": 38, "deletions": 1}, "files": [{"sha": "7e39ad6f4c977fe70e549b45f66fad583f09ccf5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9caad63ac4e23bcf3368a2c72533624f6e5af79f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9caad63ac4e23bcf3368a2c72533624f6e5af79f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9caad63ac4e23bcf3368a2c72533624f6e5af79f", "patch": "@@ -1,3 +1,8 @@\n+2004-03-11  Richard Henderson  <rth@redhat.com>\n+\n+\tPR middle-end/14477\n+\t* except.c (remove_unreachable_regions): Look thru CALL_PLACEHOLDER.\n+\n 2004-03-11  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \tPR target/14262"}, {"sha": "809f6536c78636edb0f6a1133822579b892ad291", "filename": "gcc/except.c", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9caad63ac4e23bcf3368a2c72533624f6e5af79f/gcc%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9caad63ac4e23bcf3368a2c72533624f6e5af79f/gcc%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexcept.c?ref=9caad63ac4e23bcf3368a2c72533624f6e5af79f", "patch": "@@ -1048,7 +1048,18 @@ remove_unreachable_regions (rtx insns)\n     }\n \n   for (insn = insns; insn; insn = NEXT_INSN (insn))\n-    reachable[uid_region_num[INSN_UID (insn)]] = true;\n+    {\n+      reachable[uid_region_num[INSN_UID (insn)]] = true;\n+\n+      if (GET_CODE (insn) == CALL_INSN\n+\t  && GET_CODE (PATTERN (insn)) == CALL_PLACEHOLDER)\n+\tfor (i = 0; i < 3; i++)\n+\t  {\n+\t    rtx sub = XEXP (PATTERN (insn), i);\n+\t    for (; sub ; sub = NEXT_INSN (sub))\n+\t      reachable[uid_region_num[INSN_UID (sub)]] = true;\n+\t  }\n+    }\n \n   for (i = cfun->eh->last_region_number; i > 0; --i)\n     {"}, {"sha": "63a4d2ef35f2427f9612c64410023dfe92d0df12", "filename": "gcc/testsuite/g++.dg/opt/eh1.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9caad63ac4e23bcf3368a2c72533624f6e5af79f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Feh1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9caad63ac4e23bcf3368a2c72533624f6e5af79f/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Feh1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Feh1.C?ref=9caad63ac4e23bcf3368a2c72533624f6e5af79f", "patch": "@@ -0,0 +1,21 @@\n+// PR middle-end/14477\n+// { dg-do compile }\n+// { dg-options \"-O2 -fno-default-inline\" }\n+\n+struct A\n+{\n+  A();\n+};\n+\n+struct B\n+{\n+  B(const A*);\n+};\n+\n+struct C\n+{\n+  B b;\n+  C(int) : b(new A) {}\n+};\n+\n+C c(0);"}]}