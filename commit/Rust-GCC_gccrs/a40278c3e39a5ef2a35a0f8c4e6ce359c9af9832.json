{"sha": "a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQwMjc4YzNlMzlhNWVmMmEzNWEwZjhjNGU2Y2UzNTljOWFmOTgzMg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-10-05T16:32:24Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2016-10-05T16:32:24Z"}, "message": "re PR libfortran/77868 (Fail to NULL guard check for internal unit in inquire_via_unit)\n\n2016-10-05  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR fortran/77868\n\t* io/inquire.c (inquire_via_unit): NULL guard the check for\n\tinternal unit passed into child IO procedure.\n\n\t* gfortran.dg/dtio_15.f90: Fix spaces in dg-do.\n\t* gfortran.dg/class_array_20.f03: Likewise.\n\t* gfortran.dg/class_array_21.f03: Likewise.\n\t* gfortran.dg/finalize_29.f08: Likewise.\n\t* gfortran.dg/unlimited_polymorphic_23.f90: Likewise.\n\nFrom-SVN: r240794", "tree": {"sha": "e9f55a185d17abdba2cce6a575f56a47f70d5f69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9f55a185d17abdba2cce6a575f56a47f70d5f69"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/comments", "author": null, "committer": null, "parents": [{"sha": "73e1414cb829d02baef1bf241d4bdf3805f6f724", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73e1414cb829d02baef1bf241d4bdf3805f6f724", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73e1414cb829d02baef1bf241d4bdf3805f6f724"}], "stats": {"total": 28, "additions": 21, "deletions": 7}, "files": [{"sha": "947e84cbc6fbe8d6dc2a5575c6840aa403354660", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -1,3 +1,11 @@\n+2016-10-05  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* gfortran.dg/dtio_15.f90: Fix spaces in dg-do.\n+\t* gfortran.dg/class_array_20.f03: Likewise.\n+\t* gfortran.dg/class_array_21.f03: Likewise.\n+\t* gfortran.dg/finalize_29.f08: Likewise.\n+\t* gfortran.dg/unlimited_polymorphic_23.f90: Likewise.\n+\n 2016-10-05  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/77826"}, {"sha": "b4be04579666ddf5173dfbedc703669dfafac6cd", "filename": "gcc/testsuite/gfortran.dg/class_array_20.f03", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_array_20.f03", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_array_20.f03", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_array_20.f03?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -1,4 +1,4 @@\n-! {dg-do run}\n+! { dg-do run }\n !\n ! Test contributed by Thomas L. Clune via pr60322\n !                  and Antony Lewis via pr64692"}, {"sha": "ed03ed8d3f4d00efbe915d3414154e1d3ff54c5e", "filename": "gcc/testsuite/gfortran.dg/class_array_21.f03", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_array_21.f03", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_array_21.f03", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fclass_array_21.f03?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -1,4 +1,4 @@\n-! {dg-do run}\n+! { dg-do run }\n !\n ! Contributed by Andre Vehreschild\n ! Check more elaborate class array addressing."}, {"sha": "776f442a4659eabab0514b678161e4db475218eb", "filename": "gcc/testsuite/gfortran.dg/dtio_15.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Fdtio_15.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Fdtio_15.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fdtio_15.f90?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -1,4 +1,4 @@\n-! {dg-do run }\n+! { dg-do run }\n ! Test that inquire of string internal unit in child process errors.\n module string_m\n   implicit none"}, {"sha": "9640f4f7f9cd92736153f2f5e344207355ca3ca6", "filename": "gcc/testsuite/gfortran.dg/finalize_29.f08", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Ffinalize_29.f08", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Ffinalize_29.f08", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Ffinalize_29.f08?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -1,4 +1,4 @@\n-! {dg-do run}\n+! { dg-do run }\n !\n ! Testcase contributed by Andre Vehreschild  <vehre@gcc.gnu.org>\n "}, {"sha": "99b5f6b696257a779062a60c88e8d7594a554abb", "filename": "gcc/testsuite/gfortran.dg/unlimited_polymorphic_23.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Funlimited_polymorphic_23.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/gcc%2Ftestsuite%2Fgfortran.dg%2Funlimited_polymorphic_23.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Funlimited_polymorphic_23.f90?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -1,4 +1,4 @@\n-! {dg-do run }\n+! { dg-do run }\n !\n ! Test the fix for PR65024, in which the structure for the 'info'\n ! component of type 'T' was not being converted into TREE_SSA and"}, {"sha": "d38646ac8b7f2d63cc0b5e9addb3cde974a2e9b7", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -1,6 +1,12 @@\n+2016-10-05  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR fortran/77868\n+\t* io/inquire.c (inquire_via_unit): NULL guard the check for\n+\tinternal unit passed into child IO procedure.\n+\n 2016-10-04  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n-\tio/inquire.c (inquire_via_unit): Add check for internal unit\n+\t* io/inquire.c (inquire_via_unit): Add check for internal unit\n \tpassed into child IO procedure.\n \n 2016-10-01  Andre Vehreschild  <vehre@gcc.gnu.org>"}, {"sha": "7e663130e566e387904c79aca79a53ec69ad3438", "filename": "libgfortran/io/inquire.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/libgfortran%2Fio%2Finquire.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832/libgfortran%2Fio%2Finquire.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Finquire.c?ref=a40278c3e39a5ef2a35a0f8c4e6ce359c9af9832", "patch": "@@ -43,7 +43,7 @@ inquire_via_unit (st_parameter_inquire *iqp, gfc_unit * u)\n \n   if (iqp->common.unit == GFC_INTERNAL_UNIT ||\n \tiqp->common.unit == GFC_INTERNAL_UNIT4 ||\n-\tu->internal_unit_kind != 0)\n+\t(u != NULL && u->internal_unit_kind != 0))\n     generate_error (&iqp->common, LIBERROR_INQUIRE_INTERNAL_UNIT, NULL);\n \n   if ((cf & IOPARM_INQUIRE_HAS_EXIST) != 0)"}]}