{"sha": "4731f878b70eeb1f7e180334e7939e546b1478b4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDczMWY4NzhiNzBlZWIxZjdlMTgwMzM0ZTc5MzllNTQ2YjE0NzhiNA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-12-04T06:18:07Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-12-04T06:18:07Z"}, "message": "runtime: Fix build failures with -D_FORTIFY_SOURCE=2.\n\nFrom-SVN: r194116", "tree": {"sha": "858cd40fe8297597d39434fd8ee7658324d30af5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/858cd40fe8297597d39434fd8ee7658324d30af5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4731f878b70eeb1f7e180334e7939e546b1478b4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4731f878b70eeb1f7e180334e7939e546b1478b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4731f878b70eeb1f7e180334e7939e546b1478b4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4731f878b70eeb1f7e180334e7939e546b1478b4/comments", "author": null, "committer": null, "parents": [{"sha": "3f7af571aa8bcd3707843c413b2baa06bbe46ff3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3f7af571aa8bcd3707843c413b2baa06bbe46ff3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3f7af571aa8bcd3707843c413b2baa06bbe46ff3"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "6ac33d7fc1e11d63cce174865c420ef98f491a7c", "filename": "libgo/runtime/go-signal.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4731f878b70eeb1f7e180334e7939e546b1478b4/libgo%2Fruntime%2Fgo-signal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4731f878b70eeb1f7e180334e7939e546b1478b4/libgo%2Fruntime%2Fgo-signal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fgo-signal.c?ref=4731f878b70eeb1f7e180334e7939e546b1478b4", "patch": "@@ -144,10 +144,13 @@ static int8 badsignal[] = \"runtime: signal received on thread not created by Go.\n static void\n runtime_badsignal(int32 sig)\n {\n+\t// Avoid -D_FORTIFY_SOURCE problems.\n+\tint rv __attribute__((unused));\n+\n \tif (sig == SIGPROF) {\n \t\treturn;  // Ignore SIGPROFs intended for a non-Go thread.\n \t}\n-\truntime_write(2, badsignal, sizeof badsignal - 1);\n+\trv = runtime_write(2, badsignal, sizeof badsignal - 1);\n \truntime_exit(1);\n }\n "}, {"sha": "9e0c45b0df4b0191c0d42725fd252f6a39b7059f", "filename": "libgo/runtime/print.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4731f878b70eeb1f7e180334e7939e546b1478b4/libgo%2Fruntime%2Fprint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4731f878b70eeb1f7e180334e7939e546b1478b4/libgo%2Fruntime%2Fprint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fruntime%2Fprint.c?ref=4731f878b70eeb1f7e180334e7939e546b1478b4", "patch": "@@ -18,7 +18,10 @@ gwrite(const void *v, int32 n)\n \tG* g = runtime_g();\n \n \tif(g == nil || g->writebuf == nil) {\n-\t\truntime_write(2, v, n);\n+\t\t// Avoid -D_FORTIFY_SOURCE problems.\n+\t\tint rv __attribute__((unused));\n+\n+\t\trv = runtime_write(2, v, n);\n \t\treturn;\n \t}\n "}]}