{"sha": "67f783cbc3d03913a53ab9dd8c46d82aafe3a671", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjdmNzgzY2JjM2QwMzkxM2E1M2FiOWRkOGM0NmQ4MmFhZmUzYTY3MQ==", "commit": {"author": {"name": "Alexander Ivchenko", "email": "alexander.ivchenko@intel.com", "date": "2013-10-11T13:38:15Z"}, "committer": {"name": "Kirill Yukhin", "email": "kyukhin@gcc.gnu.org", "date": "2013-10-11T13:38:15Z"}, "message": "i386.md (multdiv): New.\n\n        * config/i386/i386.md (multdiv): New.\n        (multdiv_mnemonic): Ditto.\n        * config/i386/sse.md (<sse>_vmmul<mode>3): Changed to...\n        (<sse>_vm<multdiv_mnemonic><mode>3): This.\n        (<sse>_vmdiv<mode>3): Removed.\n\n\nCo-Authored-By: Andrey Turetskiy <andrey.turetskiy@intel.com>\nCo-Authored-By: Anna Tikhonova <anna.tikhonova@intel.com>\nCo-Authored-By: Ilya Tocar <ilya.tocar@intel.com>\nCo-Authored-By: Ilya Verbin <ilya.verbin@intel.com>\nCo-Authored-By: Kirill Yukhin <kirill.yukhin@intel.com>\nCo-Authored-By: Maxim Kuznetsov <maxim.kuznetsov@intel.com>\nCo-Authored-By: Michael Zolotukhin <michael.v.zolotukhin@intel.com>\nCo-Authored-By: Sergey Lega <sergey.s.lega@intel.com>\n\nFrom-SVN: r203432", "tree": {"sha": "ed84879bd8861aee471d33fc78d6753ac9a477b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed84879bd8861aee471d33fc78d6753ac9a477b0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/67f783cbc3d03913a53ab9dd8c46d82aafe3a671", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67f783cbc3d03913a53ab9dd8c46d82aafe3a671", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67f783cbc3d03913a53ab9dd8c46d82aafe3a671", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67f783cbc3d03913a53ab9dd8c46d82aafe3a671/comments", "author": null, "committer": null, "parents": [{"sha": "ec5e777c3e15c4de3f0fbe329dceebd730f7b231", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec5e777c3e15c4de3f0fbe329dceebd730f7b231", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec5e777c3e15c4de3f0fbe329dceebd730f7b231"}], "stats": {"total": 51, "additions": 27, "deletions": 24}, "files": [{"sha": "c57fa68e3654c2a55d7ce23ffc9a520d104c4036", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67f783cbc3d03913a53ab9dd8c46d82aafe3a671/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67f783cbc3d03913a53ab9dd8c46d82aafe3a671/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=67f783cbc3d03913a53ab9dd8c46d82aafe3a671", "patch": "@@ -1,3 +1,19 @@\n+2013-10-11  Alexander Ivchenko  <alexander.ivchenko@intel.com>\n+\t    Maxim Kuznetsov  <maxim.kuznetsov@intel.com>\n+\t    Sergey Lega  <sergey.s.lega@intel.com>\n+\t    Anna Tikhonova  <anna.tikhonova@intel.com>\n+\t    Ilya Tocar  <ilya.tocar@intel.com>\n+\t    Andrey Turetskiy  <andrey.turetskiy@intel.com>\n+\t    Ilya Verbin  <ilya.verbin@intel.com>\n+\t    Kirill Yukhin  <kirill.yukhin@intel.com>\n+\t    Michael Zolotukhin  <michael.v.zolotukhin@intel.com>\n+\n+\t* config/i386/i386.md (multdiv): New.\n+\t(multdiv_mnemonic): Ditto.\n+\t* config/i386/sse.md (<sse>_vmmul<mode>3): Changed to...\n+\t(<sse>_vm<multdiv_mnemonic><mode>3): This.\n+\t(<sse>_vmdiv<mode>3): Removed.\n+\n 2013-10-11  Alexander Ivchenko  <alexander.ivchenko@intel.com>\n \t    Maxim Kuznetsov  <maxim.kuznetsov@intel.com>\n \t    Sergey Lega  <sergey.s.lega@intel.com>"}, {"sha": "ad79589c0c72c41b52b18511230a00bb3d65e13e", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67f783cbc3d03913a53ab9dd8c46d82aafe3a671/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67f783cbc3d03913a53ab9dd8c46d82aafe3a671/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=67f783cbc3d03913a53ab9dd8c46d82aafe3a671", "patch": "@@ -746,6 +746,8 @@\n \n (define_code_iterator sat_plusminus [ss_plus us_plus ss_minus us_minus])\n \n+(define_code_iterator multdiv [mult div])\n+\n ;; Base name for define_insn\n (define_code_attr plusminus_insn\n   [(plus \"add\") (ss_plus \"ssadd\") (us_plus \"usadd\")\n@@ -757,6 +759,8 @@\n    (minus \"sub\") (ss_minus \"subs\") (us_minus \"subus\")])\n (define_code_attr plusminus_carry_mnemonic\n   [(plus \"adc\") (minus \"sbb\")])\n+(define_code_attr multdiv_mnemonic\n+  [(mult \"mul\") (div \"div\")])\n \n ;; Mark commutative operators as such in constraints.\n (define_code_attr comm [(plus \"%\") (ss_plus \"%\") (us_plus \"%\")"}, {"sha": "89c31c5c0bb152072f297605400f98070d23e684", "filename": "gcc/config/i386/sse.md", "status": "modified", "additions": 7, "deletions": 24, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67f783cbc3d03913a53ab9dd8c46d82aafe3a671/gcc%2Fconfig%2Fi386%2Fsse.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67f783cbc3d03913a53ab9dd8c46d82aafe3a671/gcc%2Fconfig%2Fi386%2Fsse.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fsse.md?ref=67f783cbc3d03913a53ab9dd8c46d82aafe3a671", "patch": "@@ -1061,21 +1061,22 @@\n    (set_attr \"btver2_decode\" \"direct,double\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n-(define_insn \"<sse>_vmmul<mode>3\"\n+(define_insn \"<sse>_vm<multdiv_mnemonic><mode>3\"\n   [(set (match_operand:VF_128 0 \"register_operand\" \"=x,v\")\n \t(vec_merge:VF_128\n-\t  (mult:VF_128\n+\t  (multdiv:VF_128\n \t    (match_operand:VF_128 1 \"register_operand\" \"0,v\")\n \t    (match_operand:VF_128 2 \"nonimmediate_operand\" \"xm,vm\"))\n \t  (match_dup 1)\n \t  (const_int 1)))]\n   \"TARGET_SSE\"\n   \"@\n-   mul<ssescalarmodesuffix>\\t{%2, %0|%0, %<iptr>2}\n-   vmul<ssescalarmodesuffix>\\t{%2, %1, %0|%0, %1, %<iptr>2}\"\n+   <multdiv_mnemonic><ssescalarmodesuffix>\\t{%2, %0|%0, %<iptr>2}\n+   v<multdiv_mnemonic><ssescalarmodesuffix>\\t{%2, %1, %0|%0, %1, %<iptr>2}\"\n   [(set_attr \"isa\" \"noavx,avx\")\n-   (set_attr \"type\" \"ssemul\")\n-   (set_attr \"prefix\" \"orig,vex\")\n+   (set_attr \"type\" \"sse<multdiv_mnemonic>\")\n+   (set_attr \"prefix\" \"orig,maybe_evex\")\n+   (set_attr \"btver2_decode\" \"direct,double\")\n    (set_attr \"mode\" \"<ssescalarmode>\")])\n \n (define_expand \"div<mode>3\"\n@@ -1118,24 +1119,6 @@\n    (set_attr \"prefix\" \"orig,vex\")\n    (set_attr \"mode\" \"<MODE>\")])\n \n-(define_insn \"<sse>_vmdiv<mode>3\"\n-  [(set (match_operand:VF_128 0 \"register_operand\" \"=x,v\")\n-\t(vec_merge:VF_128\n-\t  (div:VF_128\n-\t    (match_operand:VF_128 1 \"register_operand\" \"0,v\")\n-\t    (match_operand:VF_128 2 \"nonimmediate_operand\" \"xm,vm\"))\n-\t  (match_dup 1)\n-\t  (const_int 1)))]\n-  \"TARGET_SSE\"\n-  \"@\n-   div<ssescalarmodesuffix>\\t{%2, %0|%0, %<iptr>2}\n-   vdiv<ssescalarmodesuffix>\\t{%2, %1, %0|%0, %1, %<iptr>2}\"\n-  [(set_attr \"isa\" \"noavx,avx\")\n-   (set_attr \"type\" \"ssediv\")\n-   (set_attr \"prefix\" \"orig,vex\")\n-   (set_attr \"btver2_decode\" \"direct,double\")\n-   (set_attr \"mode\" \"<ssescalarmode>\")])\n-\n (define_insn \"<sse>_rcp<mode>2\"\n   [(set (match_operand:VF1_128_256 0 \"register_operand\" \"=x\")\n \t(unspec:VF1_128_256"}]}