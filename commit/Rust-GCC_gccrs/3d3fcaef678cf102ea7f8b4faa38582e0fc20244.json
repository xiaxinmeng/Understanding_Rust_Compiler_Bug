{"sha": "3d3fcaef678cf102ea7f8b4faa38582e0fc20244", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2QzZmNhZWY2NzhjZjEwMmVhN2Y4YjRmYWEzODU4MmUwZmMyMDI0NA==", "commit": {"author": {"name": "Andreas Schwab", "email": "schwab@issan.cs.uni-dortmund.de", "date": "1999-05-20T01:54:28Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-05-20T01:54:28Z"}, "message": "dbxcoff.h (DBX_OUTPUT_MAIN_SOURCE_FILE_END): Use asm_fprintf and %L to generate the label name.\n\n        * config/dbxcoff.h (DBX_OUTPUT_MAIN_SOURCE_FILE_END): Use\n        asm_fprintf and %L to generate the label name.\n        * config/dbxelf.h (DBX_OUTPUT_MAIN_SOURCE_FILE_END): Likewise.\n        (ASM_OUTPUT_SOURCE_LINE): Correct generation of internal labels.\n\nFrom-SVN: r27048", "tree": {"sha": "329ee7c23d9539a1eed1e520f6f98b6653028d8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/329ee7c23d9539a1eed1e520f6f98b6653028d8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d3fcaef678cf102ea7f8b4faa38582e0fc20244", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d3fcaef678cf102ea7f8b4faa38582e0fc20244", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d3fcaef678cf102ea7f8b4faa38582e0fc20244", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d3fcaef678cf102ea7f8b4faa38582e0fc20244/comments", "author": null, "committer": null, "parents": [{"sha": "eacc0666b081e168009a022a80aa2b6f3f1d8c39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eacc0666b081e168009a022a80aa2b6f3f1d8c39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eacc0666b081e168009a022a80aa2b6f3f1d8c39"}], "stats": {"total": 29, "additions": 20, "deletions": 9}, "files": [{"sha": "5a20e9417053e3d31046016c7cadd18eeda4235c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3fcaef678cf102ea7f8b4faa38582e0fc20244/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3fcaef678cf102ea7f8b4faa38582e0fc20244/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3d3fcaef678cf102ea7f8b4faa38582e0fc20244", "patch": "@@ -1,3 +1,10 @@\n+1999-05-20  Andreas Schwab  <schwab@issan.cs.uni-dortmund.de>\n+\n+\t* config/dbxcoff.h (DBX_OUTPUT_MAIN_SOURCE_FILE_END): Use\n+\tasm_fprintf and %L to generate the label name.\n+\t* config/dbxelf.h (DBX_OUTPUT_MAIN_SOURCE_FILE_END): Likewise.\n+\t(ASM_OUTPUT_SOURCE_LINE): Correct generation of internal labels.\n+\n Thu May 20 01:40:55 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* jump.c (can_reverse_comparison_p): Do not abort if the comparison"}, {"sha": "1d5b448879f65a82a0e6ec81a8d279e1d493790b", "filename": "gcc/config/dbxcoff.h", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3fcaef678cf102ea7f8b4faa38582e0fc20244/gcc%2Fconfig%2Fdbxcoff.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3fcaef678cf102ea7f8b4faa38582e0fc20244/gcc%2Fconfig%2Fdbxcoff.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdbxcoff.h?ref=3d3fcaef678cf102ea7f8b4faa38582e0fc20244", "patch": "@@ -49,8 +49,8 @@ Boston, MA 02111-1307, USA.  */\n \n #undef DBX_OUTPUT_MAIN_SOURCE_FILE_END\n #define DBX_OUTPUT_MAIN_SOURCE_FILE_END(FILE, FILENAME)\t\t\t\\\n-  fprintf (FILE,\t\t\t\t\t\t\t\\\n-\t   \"\\t.text\\n\\t.stabs \\\"\\\",%d,0,0,Letext\\nLetext:\\n\", N_SO)\n+  asm_fprintf (FILE,\t\t\t\t\t\t\t\\\n+\t       \"\\t.text\\n\\t.stabs \\\"\\\",%d,0,0,%LLetext\\n%LLetext:\\n\", N_SO)\n \n /* Like block addresses, stabs line numbers are relative to the\n    current function.  */"}, {"sha": "3971bc1c9dca11a3f33fd72e956ede2ee7ca4503", "filename": "gcc/config/dbxelf.h", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d3fcaef678cf102ea7f8b4faa38582e0fc20244/gcc%2Fconfig%2Fdbxelf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d3fcaef678cf102ea7f8b4faa38582e0fc20244/gcc%2Fconfig%2Fdbxelf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdbxelf.h?ref=3d3fcaef678cf102ea7f8b4faa38582e0fc20244", "patch": "@@ -80,15 +80,19 @@ while (0)\n    current function.  */\n \n #undef  ASM_OUTPUT_SOURCE_LINE\n-#define ASM_OUTPUT_SOURCE_LINE(file, line)\t\t\t\t\\\n+#define ASM_OUTPUT_SOURCE_LINE(FILE, LINE)\t\t\t\t\\\n do\t\t\t\t\t\t\t\t\t\\\n   {\t\t\t\t\t\t\t\t\t\\\n     static int sym_lineno = 1;\t\t\t\t\t\t\\\n-    fprintf (file, \".stabn 68,0,%d,.LM%d-\",\t\t\t\t\\\n-\t     line, sym_lineno);\t\t\t\t\t\t\\\n-    assemble_name (file,\t\t\t\t\t\t\\\n+    char temp[256];\t\t\t\t\t\t\t\\\n+    ASM_GENERATE_INTERNAL_LABEL (temp, \"LM\", sym_lineno);\t\t\\\n+    fprintf (FILE, \".stabn 68,0,%d,\", LINE);\t\t\t\t\\\n+    assemble_name (FILE, temp);\t\t\t\t\t\t\\\n+    putc ('-', FILE);\t\t\t\t\t\t\t\\\n+    assemble_name (FILE,\t\t\t\t\t\t\\\n \t\t   XSTR (XEXP (DECL_RTL (current_function_decl), 0), 0));\\\n-    fprintf (file, \"\\n.LM%d:\\n\", sym_lineno);\t\t\t\t\\\n+    putc ('\\n', FILE);\t\t\t\t\t\t\t\\\n+    ASM_OUTPUT_INTERNAL_LABEL (FILE, \"LM\", sym_lineno);\t\t\t\\\n     sym_lineno += 1;\t\t\t\t\t\t\t\\\n   }\t\t\t\t\t\t\t\t\t\\\n while (0)\n@@ -99,7 +103,7 @@ while (0)\n \n #undef  DBX_OUTPUT_MAIN_SOURCE_FILE_END\n #define DBX_OUTPUT_MAIN_SOURCE_FILE_END(FILE, FILENAME)\t\t\t\\\n-  fprintf (FILE,\t\t\t\t\t\t\t\\\n-\t   \"\\t.text\\n\\t.stabs \\\"\\\",%d,0,0,Letext\\nLetext:\\n\", N_SO)\n+  asm_fprintf (FILE,\t\t\t\t\t\t\t\\\n+\t       \"\\t.text\\n\\t.stabs \\\"\\\",%d,0,0,%LLetext\\n%LLetext:\\n\", N_SO)\n \n #endif /* __DBX_ELF_H */"}]}