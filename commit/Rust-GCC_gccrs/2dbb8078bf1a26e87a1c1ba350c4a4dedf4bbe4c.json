{"sha": "2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmRiYjgwNzhiZjFhMjZlODdhMWMxYmEzNTBjNGE0ZGVkZjRiYmU0Yw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-09-24T12:00:06Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-09-24T12:00:06Z"}, "message": "Insert newlines just before end of 'sed' command strings if last 'sed'\ncommand is 'a' or 'i'.\n\nFrom-SVN: r12830", "tree": {"sha": "1cdc412f2bc66e156fa1c00ffd2db054067ede6e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1cdc412f2bc66e156fa1c00ffd2db054067ede6e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c/comments", "author": null, "committer": null, "parents": [{"sha": "30657ee33dd334a375a7aaf5f76f45ffddd0c189", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30657ee33dd334a375a7aaf5f76f45ffddd0c189", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30657ee33dd334a375a7aaf5f76f45ffddd0c189"}], "stats": {"total": 95, "additions": 61, "deletions": 34}, "files": [{"sha": "7464205dd800588ae1c0731990fd05bdbcdc302d", "filename": "gcc/fixinc.ptx", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c/gcc%2Ffixinc.ptx", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c/gcc%2Ffixinc.ptx", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.ptx?ref=2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c", "patch": "@@ -129,7 +129,8 @@ if [ \\! -z \"$file_to_fix\" ]; then\n \\\n #if defined(__STDC__) || defined(__cplusplus)\\\n #include <stdio.h>\\\n-#endif  /* __STDC__ */' \\\n+#endif  /* __STDC__ */\n+' \\\n     $file_to_fix > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n     echo Fixed $file_to_fix\n@@ -183,10 +184,11 @@ if [ \\! -z \"$file_to_fix\" ]; then\n \\\n #if defined (__GNUC__) || defined (__GNUG__)\\\n #include <sys/byteorder.h>\\\n-#else  /* not __GNUC__ */\\\n+#else  /* not __GNUC__ */\n ' \\\n     -e '/#endif[ \t]*\\/\\* NETSWAP \\*\\//i\\\n-#endif /* not __GNUC__ */' \\\n+#endif /* not __GNUC__ */\n+' \\\n     $file_to_fix > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n     echo Fixed $file_to_fix"}, {"sha": "bf00c03091d5ec05c83968badd3f67b9a6a0038a", "filename": "gcc/fixinc.svr4", "status": "modified", "additions": 48, "deletions": 27, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c/gcc%2Ffixinc.svr4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c/gcc%2Ffixinc.svr4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc.svr4?ref=2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c", "patch": "@@ -1,9 +1,8 @@\n #! /bin/sh\n-#\n-#   fixinc.svr4  --  Install modified versions of certain ANSI-incompatible\n-#   native System V Release 4 system include files.\n-#\n-#   Written by Ron Guilmette (rfg@ncd.com).\n+# Install modified versions of certain ANSI-incompatible\n+# native System V Release 4 system include files.\n+# Copyright (C) 1994, 1996 Free Software Foundation, Inc.\n+# Contributed by Ron Guilmette (rfg@monkeys.com).\n #\n # This file is part of GNU CC.\n # \n@@ -476,14 +475,16 @@ else\n static\\\n #else\\\n extern\\\n-#endif'\\\n+#endif\n+'\\\n   -e 's/extern \\(int ftw(const.*\\)$/\\1/' \\\n   -e '/^extern int nftw/i\\\n #if defined(_STYPES)\\\n static\\\n #else\\\n extern\\\n-#endif'\\\n+#endif\n+'\\\n   -e 's/extern \\(int nftw.*\\)$/\\1/' \\\n   -e '/^extern int ftw(),/c\\\n #if !defined(_STYPES)\\\n@@ -1029,9 +1030,11 @@ fi\n #     true\n #   else\n #     sed -e '/#ifdef INKERNEL/i\\\n-# #ifdef _KERNEL' \\\n+# #ifdef _KERNEL\n+# ' \\\n #     -e '/#endif[ \t]*\\/\\* INKERNEL \\*\\//a\\\n-# #endif /* _KERNEL */' \\\n+# #endif /* _KERNEL */\n+# ' \\\n #     $file_to_fix > ${LIB}/${file}.sed\n #     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n #     echo Fixed $file_to_fix\n@@ -1057,10 +1060,12 @@ if [ \\! -z \"$file_to_fix\" ]; then\n     true\n   else\n     sed -e '/#\tifdef\t__STDC__/i\\\n-#   if !defined (__GNUC__) && !defined (__GNUG__)' \\\n+#   if !defined (__GNUC__) && !defined (__GNUG__)\n+' \\\n     -e '/#\t\tinclude\t<sys\\/byteorder.h>/s/\t\t/   /'\\\n     -e '/#   include\t<sys\\/byteorder.h>/i\\\n-#   endif /* !defined (__GNUC__) && !defined (__GNUG__) */'\\\n+#   endif /* !defined (__GNUC__) && !defined (__GNUG__) */\n+'\\\n     $file_to_fix > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n     echo Fixed $file_to_fix\n@@ -1336,29 +1341,41 @@ fi\n if [ \\! -z \"$file_to_fix\" ]; then\n   echo Checking $file_to_fix\n   sed -e '/[ \t]FLT_MIN[ \t]/i\\\n-#ifndef FLT_MIN'\\\n+#ifndef FLT_MIN\n+'\\\n       -e '/[ \t]FLT_MIN[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n       -e '/[ \t]FLT_MAX[ \t]/i\\\n-#ifndef FLT_MAX'\\\n+#ifndef FLT_MAX\n+'\\\n       -e '/[ \t]FLT_MAX[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n       -e '/[ \t]FLT_DIG[ \t]/i\\\n-#ifndef FLT_DIG'\\\n+#ifndef FLT_DIG\n+'\\\n       -e '/[ \t]FLT_DIG[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n       -e '/[ \t]DBL_MIN[ \t]/i\\\n-#ifndef DBL_MIN'\\\n+#ifndef DBL_MIN\n+'\\\n       -e '/[ \t]DBL_MIN[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n       -e '/[ \t]DBL_MAX[ \t]/i\\\n-#ifndef DBL_MAX'\\\n+#ifndef DBL_MAX\n+'\\\n       -e '/[ \t]DBL_MAX[ \t]/a\\\n-#endif'\\\n+#endif\n+'\\\n       -e '/[ \t]DBL_DIG[ \t]/i\\\n-#ifndef DBL_DIG'\\\n+#ifndef DBL_DIG\n+'\\\n       -e '/[ \t]DBL_DIG[ \t]/a\\\n-#endif' $file_to_fix > /tmp/$base\n+#endif\n+' $file_to_fix > /tmp/$base\n   if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n     true\n   else\n@@ -1409,9 +1426,11 @@ fi\n if [ \\! -z \"$file_to_fix\" ]; then\n   echo Checking $file_to_fix\n   sed -e '/define[ \t]HUGE_VAL[ \t]/i\\\n-#ifndef HUGE_VAL'\\\n+#ifndef HUGE_VAL\n+'\\\n       -e '/define[ \t]HUGE_VAL[ \t]/a\\\n-#endif' $file_to_fix > /tmp/$base\n+#endif\n+' $file_to_fix > /tmp/$base\n   if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n     true\n   else\n@@ -1440,9 +1459,11 @@ for file in math.h floatingpoint.h; do\n   if [ \\! -z \"$file_to_fix\" ]; then\n     echo Checking $file_to_fix\n     sed -e '/^#define[ \t]*__P/i\\\n-#ifndef __P'\\\n+#ifndef __P\n+'\\\n         -e '/^#define[ \t]*__P/a\\\n-#endif' $file_to_fix > /tmp/$base\n+#endif\n+' $file_to_fix > /tmp/$base\n     if cmp $file_to_fix /tmp/$base >/dev/null 2>&1; then \\\n       true\n     else"}, {"sha": "f4803b728ff5fd226f4260f3a6a9259a368d7ac6", "filename": "gcc/fixincludes", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c/gcc%2Ffixincludes", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c/gcc%2Ffixincludes", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixincludes?ref=2dbb8078bf1a26e87a1c1ba350c4a4dedf4bbe4c", "patch": "@@ -2078,13 +2078,17 @@ for files in curses.h; do\n \n     echo Fixing $file\n     sed -e '/^#[ \t]*define[ \t][ \t]*bool[ \t][ \t]*char[ \t]*$/i\\\n-#ifndef __cplusplus'\\\n+#ifndef __cplusplus\n+'\\\n \t-e '/^#[ \t]*define[ \t][ \t]*bool[ \t][ \t]*char[ \t]*$/a\\\n-#endif'\\\n+#endif\n+'\\\n \t-e '/^typedef[ \t][ \t]*char[ \t][ \t]*bool[ \t]*;/i\\\n-#ifndef __cplusplus'\\\n+#ifndef __cplusplus\n+'\\\n \t-e '/^typedef[ \t][ \t]*char[ \t][ \t]*bool[ \t]*;/a\\\n-#endif'\\\n+#endif\n+'\\\n \t${LIB}/$file > ${LIB}/${file}.sed\n     rm -f ${LIB}/$file; mv ${LIB}/${file}.sed ${LIB}/$file\n     if cmp $file ${LIB}/$file >/dev/null 2>&1; then"}]}