{"sha": "c105ee098f6d6e855d2fee00fa898883726ccd39", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzEwNWVlMDk4ZjZkNmU4NTVkMmZlZTAwZmE4OTg4ODM3MjZjY2QzOQ==", "commit": {"author": {"name": "Rask Ingemann Lambertsen", "email": "rask@sygehus.dk", "date": "2007-06-19T21:41:43Z"}, "committer": {"name": "Rask Ingemann Lambertsen", "email": "rask@gcc.gnu.org", "date": "2007-06-19T21:41:43Z"}, "message": "m68hc11.c: Include dataflow header file.\n\n2007-06-19  Rask Ingemann Lambertsen  <rask@sygehus.dk>\n\n\t* config/m68hc11/m68hc11.c: Include dataflow header file.\n\t(m68hc11_reorg): Port to dataflow.\n\nFrom-SVN: r125861", "tree": {"sha": "45faeaa95aeebd2fed6ee6239bdd7ce02013877a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45faeaa95aeebd2fed6ee6239bdd7ce02013877a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c105ee098f6d6e855d2fee00fa898883726ccd39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c105ee098f6d6e855d2fee00fa898883726ccd39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c105ee098f6d6e855d2fee00fa898883726ccd39", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c105ee098f6d6e855d2fee00fa898883726ccd39/comments", "author": null, "committer": null, "parents": [{"sha": "4aa0f91154fea25a5434fa68943da765246b2914", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4aa0f91154fea25a5434fa68943da765246b2914", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4aa0f91154fea25a5434fa68943da765246b2914"}], "stats": {"total": 34, "additions": 10, "deletions": 24}, "files": [{"sha": "9c6108bd551ede8cbecb1984932566c8845d56e9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c105ee098f6d6e855d2fee00fa898883726ccd39/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c105ee098f6d6e855d2fee00fa898883726ccd39/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c105ee098f6d6e855d2fee00fa898883726ccd39", "patch": "@@ -1,3 +1,8 @@\n+2007-06-19  Rask Ingemann Lambertsen  <rask@sygehus.dk>\n+\n+\t* config/m68hc11/m68hc11.c: Include dataflow header file.\n+\t(m68hc11_reorg): Port to dataflow.\n+\n 2007-06-19  Kenneth Zadeck <zadeck@naturalbridge.com>\n \n \t* df.h (DF_FIRST_OPTIONAL_PROBLEM): Removed."}, {"sha": "431af782623bd130ddbb81379a21ffcd766536bf", "filename": "gcc/config/m68hc11/m68hc11.c", "status": "modified", "additions": 5, "deletions": 24, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c105ee098f6d6e855d2fee00fa898883726ccd39/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c105ee098f6d6e855d2fee00fa898883726ccd39/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68hc11%2Fm68hc11.c?ref=c105ee098f6d6e855d2fee00fa898883726ccd39", "patch": "@@ -59,6 +59,7 @@ Boston, MA 02110-1301, USA.\n #include \"reload.h\"\n #include \"target.h\"\n #include \"target-def.h\"\n+#include \"df.h\"\n \n static void emit_move_after_reload (rtx, rtx, rtx);\n static rtx simplify_logical (enum machine_mode, int, rtx, rtx *);\n@@ -5004,7 +5005,7 @@ static void\n m68hc11_reorg (void)\n {\n   int split_done = 0;\n-  rtx insn, first;\n+  rtx first;\n \n   z_replacement_completed = 0;\n   z_reg = gen_rtx_REG (HImode, HARD_Z_REGNUM);\n@@ -5036,29 +5037,9 @@ m68hc11_reorg (void)\n      description to use the best assembly directives.  */\n   if (optimize)\n     {\n-      /* Before recomputing the REG_DEAD notes, remove all of them.\n-         This is necessary because the reload_cse_regs() pass can\n-         have replaced some (MEM) with a register.  In that case,\n-         the REG_DEAD that could exist for that register may become\n-         wrong.  */\n-      for (insn = first; insn; insn = NEXT_INSN (insn))\n-        {\n-          if (INSN_P (insn))\n-            {\n-              rtx *pnote;\n-\n-              pnote = &REG_NOTES (insn);\n-              while (*pnote != 0)\n-                {\n-                  if (REG_NOTE_KIND (*pnote) == REG_DEAD)\n-                    *pnote = XEXP (*pnote, 1);\n-                  else\n-                    pnote = &XEXP (*pnote, 1);\n-                }\n-            }\n-        }\n-\n-      life_analysis (PROP_REG_INFO | PROP_DEATH_NOTES);\n+      df_note_add_problem ();\n+      df_analyze ();\n+      df_remove_problem (df_note);\n     }\n \n   z_replacement_completed = 2;"}]}