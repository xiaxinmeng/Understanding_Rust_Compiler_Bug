{"sha": "44bfb268f19cc9b5bbd8e9784653433156139ffd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDRiZmIyNjhmMTljYzliNWJiZDhlOTc4NDY1MzQzMzE1NjEzOWZmZA==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1995-02-18T17:19:55Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1995-02-18T17:19:55Z"}, "message": "lynx.h (LIB_SPEC, [...]): Update to LynxOS 2.2.2.\n\n\t* config/lynx.h (LIB_SPEC, STARTFILE_SPEC): Update to LynxOS 2.2.2.\n\t(FUNCTION_PROFILE): Undef.\n\nFrom-SVN: r8961", "tree": {"sha": "4cf054931301e04447a68bbdb9961ae5e1f6188f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4cf054931301e04447a68bbdb9961ae5e1f6188f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44bfb268f19cc9b5bbd8e9784653433156139ffd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44bfb268f19cc9b5bbd8e9784653433156139ffd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44bfb268f19cc9b5bbd8e9784653433156139ffd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44bfb268f19cc9b5bbd8e9784653433156139ffd/comments", "author": null, "committer": null, "parents": [{"sha": "6c360d6f462bd85453b1aa8b0a7e5b17bcfbbd41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c360d6f462bd85453b1aa8b0a7e5b17bcfbbd41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c360d6f462bd85453b1aa8b0a7e5b17bcfbbd41"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "caca8e947fa02f09370a0f2ce885ca206ab54a92", "filename": "gcc/config/lynx.h", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44bfb268f19cc9b5bbd8e9784653433156139ffd/gcc%2Fconfig%2Flynx.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44bfb268f19cc9b5bbd8e9784653433156139ffd/gcc%2Fconfig%2Flynx.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Flynx.h?ref=44bfb268f19cc9b5bbd8e9784653433156139ffd", "patch": "@@ -1,5 +1,5 @@\n /* Target independent definitions for LynxOS.\n-   Copyright (C) 1993, 1994 Free Software Foundation, Inc.\n+   Copyright (C) 1993, 1994, 1995 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -36,12 +36,12 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n #undef LIB_SPEC\n #define LIB_SPEC \"%{mthreads:-L/lib/thread/}  \\\n   %{msystem-v:-lc_v}  \\\n-  %{!msystem-v:%{mposix:-lc_p} -lc}\"\n+  %{!msystem-v:%{mposix:-lc_p} -lc -lm}\"\n \n /* Set the appropriate names for the Lynx startfiles. */\n \n #undef STARTFILE_SPEC\n-#define STARTFILE_SPEC \"%{p:pinit1.o%s}%{!p:%{msystem-v:vinit1.o%s}%{!msystem-v:init1.o%s}}\"\n+#define STARTFILE_SPEC \"%{p:%{mthreads:thread/pinit1.o%s}%{!mthreads:pinit1.o%s}}%{!p:%{msystem-v:vinit1.o%s -e_start}%{!msystem-v:%{mthreads:thread/init1.o%s}%{!mthreads:init1.o%s}}}\"\n \n #undef ENDFILE_SPEC\n #define ENDFILE_SPEC \"%{p:_etext.o%s}%{!p:initn.o%s}\"\n@@ -114,10 +114,12 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #undef SUBTARGET_OVERRIDE_OPTIONS\n #define SUBTARGET_OVERRIDE_OPTIONS \\\n-{ if (TARGET_SYSTEM_V && profile_flag)\t\t\t\\\n+do {\t\t\t\t\t\t\t\t\\\n+  if (TARGET_SYSTEM_V && profile_flag)\t\t\t\t\\\n     warning (\"-msystem-v and -p are incompatible\");\t\t\\\n   if (TARGET_SYSTEM_V && TARGET_THREADS)\t\t\t\\\n-    warning (\"-msystem-v and -mthreads are incompatible\"); }\n+    warning (\"-msystem-v and -mthreads are incompatible\");\t\\\n+} while (0)\n \n /* Define this so that C++ destructors will use atexit, since LynxOS\n    calls exit after main returns.  */\n@@ -171,3 +173,7 @@ the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.  */\n \n #undef DO_GLOBAL_CTORS_BODY\n #undef DO_GLOBAL_DTORS_BODY\n+\n+/* LynxOS doesn't have mcount. */\n+#undef FUNCTION_PROFILER\n+#define FUNCTION_PROFILER(file, profile_label_no)"}]}