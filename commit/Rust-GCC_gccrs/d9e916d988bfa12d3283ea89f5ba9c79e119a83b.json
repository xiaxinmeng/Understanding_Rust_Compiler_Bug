{"sha": "d9e916d988bfa12d3283ea89f5ba9c79e119a83b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDllOTE2ZDk4OGJmYTEyZDMyODNlYTg5ZjViYTljNzllMTE5YTgzYg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-01-23T12:49:12Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-01-23T12:49:12Z"}, "message": "re PR c++/3331 (member pointer inherits const)\n\n        PR c++/3331\n        * init.c (resolve_offset_ref): Use build_indirect_ref.\n\n[[Split portion of a mixed commit.]]\n\nFrom-SVN: r49134.2", "tree": {"sha": "9412b5e357260bdec2eff9c69da0d4ca65a2f2d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9412b5e357260bdec2eff9c69da0d4ca65a2f2d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d9e916d988bfa12d3283ea89f5ba9c79e119a83b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9e916d988bfa12d3283ea89f5ba9c79e119a83b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d9e916d988bfa12d3283ea89f5ba9c79e119a83b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d9e916d988bfa12d3283ea89f5ba9c79e119a83b/comments", "author": null, "committer": null, "parents": [{"sha": "608afcc5e973175f043f94edde39acd5cbd4618a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/608afcc5e973175f043f94edde39acd5cbd4618a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/608afcc5e973175f043f94edde39acd5cbd4618a"}], "stats": {"total": 22, "additions": 22, "deletions": 0}, "files": [{"sha": "25778fa73bcea5c77ee9193b089c9400787557d2", "filename": "gcc/testsuite/g++.dg/other/const2.C", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d9e916d988bfa12d3283ea89f5ba9c79e119a83b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fconst2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d9e916d988bfa12d3283ea89f5ba9c79e119a83b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fconst2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fconst2.C?ref=d9e916d988bfa12d3283ea89f5ba9c79e119a83b", "patch": "@@ -0,0 +1,22 @@\n+// PR c++/3331: just because 'this' is readonly and bars[0].b is readonly\n+// doesn't mean that the result of the member reference is readonly.\n+\n+struct foo\n+{\n+  int a;\n+\n+  struct bar\n+  { int foo::* b ;};\n+\n+  static const bar bars[];\n+\n+  int bad ()\n+  {\n+    this->*(bars[0].b) = 42; // { dg-bogus \"read-only\" \"\" }\n+  }\n+};\n+\n+const foo::bar foo::bars[] = { { &foo::a } };\n+\n+int main ()\n+{ }"}]}