{"sha": "49e4181d22489d2e73d06188cdb52f7d5f953183", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDllNDE4MWQyMjQ4OWQyZTczZDA2MTg4Y2RiNTJmN2Q1Zjk1MzE4Mw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "1998-07-28T14:05:55Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "1998-07-28T14:05:55Z"}, "message": "\ufffd\ntry 1\n\nFrom-SVN: r21440", "tree": {"sha": "2e4c779802571e71809691d0278b371959667d9d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e4c779802571e71809691d0278b371959667d9d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/49e4181d22489d2e73d06188cdb52f7d5f953183", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49e4181d22489d2e73d06188cdb52f7d5f953183", "html_url": "https://github.com/Rust-GCC/gccrs/commit/49e4181d22489d2e73d06188cdb52f7d5f953183", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/49e4181d22489d2e73d06188cdb52f7d5f953183/comments", "author": null, "committer": null, "parents": [{"sha": "32fcacb0134c8cd4db35b6d03eed33e1218e131d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32fcacb0134c8cd4db35b6d03eed33e1218e131d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32fcacb0134c8cd4db35b6d03eed33e1218e131d"}], "stats": {"total": 71, "additions": 71, "deletions": 0}, "files": [{"sha": "a834f4f49561ac74517e9e0ca6cb0f5d82a62592", "filename": "gcc/testsuite/g++.old-deja/g++.benjamin/scope01.C", "status": "added", "additions": 71, "deletions": 0, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/49e4181d22489d2e73d06188cdb52f7d5f953183/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2Fscope01.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/49e4181d22489d2e73d06188cdb52f7d5f953183/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2Fscope01.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2Fscope01.C?ref=49e4181d22489d2e73d06188cdb52f7d5f953183", "patch": "@@ -0,0 +1,71 @@\n+// Build don't link:\n+// 980604 bkoz\n+// 3.4.5 Class member access p 4\n+// nested and non-nested calls, no dtors\n+\n+struct L { \n+  int ii; \n+  void foo(int a) {++a;}\n+  struct Linner {\n+    int ii_inner; \n+    void foo_inner(int b) {++b;}\n+  };\n+};\n+class A : public L {};\n+class B : public L {};\n+class C : public A, public B {};\n+\n+\n+void foo() {\n+  // straight call\n+  C x;\n+  x.A::ii = 5;\n+  x.A::foo(x.A::ii);\n+  \n+  // 5.1 Primary expressions\n+  // p 8 \n+  // a nested name specifier that names a class,\n+  // optionally followed by the keyword template and then followd by\n+  // the name of a member of either that class or one of its base\n+  // classes is a qualified-id.  (3.4.3.1 describes their lookup.) \n+\n+  // 5.2.5 Class memember access \n+\n+  // p 3 if E1 has the type 'pointer to class X' then \n+  // E1->E2 == (*(E1)).E32\n+  // E1 == object-expression\n+  // E2 == id-expression\n+  // thus everything gets converted to the \".\" notation\n+\n+  // p 2\n+  // the id-expression shall name a member of the class\n+  // (object-expression) or of one of its base classes.\n+\n+  // p4 if E2 is a nested type (of the object-expression), tye\n+  // expression E1.E2 is ill formed.\n+\n+  // try 1 nested call - ERROR\n+#if 0\n+  C x2;\n+  x2.A::L::Linner::ii_inner = 6; //ERROR violates p2, does not name member of C\n+  x2.A::L::Linner::foo_inner(x2.A::L::Linner::ii_inner);\n+#endif\n+\n+  //try2: scoped method call  -edg +acc +g++\n+#if 1\n+  C::A::Linner x2;\n+  x2.A::Linner::ii_inner = 6;\n+  x2.A::Linner::foo_inner(x2.A::Linner::ii_inner);\n+#endif\n+\n+  //try 3: non-scoped method call  -edg +acc +g++\n+#if 0\n+  C::A::L::Linner x3;\n+  x3.ii_inner = 6;\n+  x3.foo_inner(x3.ii_inner);\n+#endif\n+}\n+\n+\n+\n+"}]}