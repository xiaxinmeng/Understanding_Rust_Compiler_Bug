{"sha": "30fbb95c050ae400fecc0ea84a66c2042c8ed5dc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzBmYmI5NWMwNTBhZTQwMGZlY2MwZWE4NGE2NmMyMDQyYzhlZDVkYw==", "commit": {"author": {"name": "Todd Stock", "email": "toddastock@yahoo.com", "date": "2002-02-14T17:48:36Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-02-14T17:48:36Z"}, "message": "re PR libgcj/5670 (verify.cc not properly merging states)\n\n2002-02-13  Todd Stock  <toddastock@yahoo.com>\n\n\tFix for PR libgcj/5670:\n\t* verify.cc (is_assignable_from_slow): If `source' is interface,\n\trecursively look for merge with `target'.\n\nFrom-SVN: r49769", "tree": {"sha": "7645434815392b2fd12c17e6cdea16812d401fc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7645434815392b2fd12c17e6cdea16812d401fc7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc/comments", "author": null, "committer": null, "parents": [{"sha": "6c4cf6956ed5f4d8a36ab8e1e1cc9f808b6c087a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c4cf6956ed5f4d8a36ab8e1e1cc9f808b6c087a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c4cf6956ed5f4d8a36ab8e1e1cc9f808b6c087a"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "9688503e8c057434d2d89d76017c97b7477606fc", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=30fbb95c050ae400fecc0ea84a66c2042c8ed5dc", "patch": "@@ -1,3 +1,9 @@\n+2002-02-13  Todd Stock  <toddastock@yahoo.com>\n+\n+\tFix for PR libgcj/5670:\n+\t* verify.cc (is_assignable_from_slow): If `source' is interface,\n+\trecursively look for merge with `target'.\n+\n 2002-02-14  Martin Kahlert  <martin.kahlert@infineon.com>\n \n \t* include/jni.h: Fix typo."}, {"sha": "ed734eab8f6f2972fe88c067a281b3c40bff8d64", "filename": "libjava/verify.cc", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc/libjava%2Fverify.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/30fbb95c050ae400fecc0ea84a66c2042c8ed5dc/libjava%2Fverify.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fverify.cc?ref=30fbb95c050ae400fecc0ea84a66c2042c8ed5dc", "patch": "@@ -259,10 +259,22 @@ class _Jv_BytecodeVerifier\n \t    if (source == NULL)\n \t      return false;\n \t  }\n+\telse if (source->isInterface ())\n+\t  {\n+\t    for (int i = 0; i < target->interface_count; ++i)\n+\t      {\n+\t\t// We use a recursive call because we also need to\n+\t\t// check superinterfaces.\n+\t\tif (is_assignable_from_slow (target->interfaces[i], source))\n+\t\t  return true;\n+\t      }\n+\t    target = target->getSuperclass ();\n+\t    if (target == NULL)\n+\t      return false;\n+\t  }\n \telse if (target == &java::lang::Object::class$)\n \t  return true;\n-\telse if (source->isInterface ()\n-\t\t || source == &java::lang::Object::class$)\n+\telse if (source == &java::lang::Object::class$)\n \t  return false;\n \telse\n \t  source = source->getSuperclass ();"}]}