{"sha": "6215885d43d8ebe55454794cedfe092604f62718", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjIxNTg4NWQ0M2Q4ZWJlNTU0NTQ3OTRjZWRmZTA5MjYwNGY2MjcxOA==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2006-07-04T19:11:20Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2006-07-04T19:11:20Z"}, "message": "libjava.exp (libjava_init): Look for libgcj-$version.jar instead of libgcj-*.jar.\n\n2006-07-04  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* testsuite/lib/libjava.exp (libjava_init): Look for libgcj-$version.jar\n\tinstead of libgcj-*.jar.\n\nFrom-SVN: r115181", "tree": {"sha": "51c5fff92b5f2d2b45f265b4ecd2370fa6b78c01", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51c5fff92b5f2d2b45f265b4ecd2370fa6b78c01"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6215885d43d8ebe55454794cedfe092604f62718", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6215885d43d8ebe55454794cedfe092604f62718", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6215885d43d8ebe55454794cedfe092604f62718", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6215885d43d8ebe55454794cedfe092604f62718/comments", "author": null, "committer": null, "parents": [{"sha": "56d30bd5c8440e8596a4165f2d42d09a28fc062c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56d30bd5c8440e8596a4165f2d42d09a28fc062c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56d30bd5c8440e8596a4165f2d42d09a28fc062c"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "3e22f23a5d83061f5ec75731f5b7416c2b73e173", "filename": "libjava/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6215885d43d8ebe55454794cedfe092604f62718/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6215885d43d8ebe55454794cedfe092604f62718/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=6215885d43d8ebe55454794cedfe092604f62718", "patch": "@@ -1,3 +1,8 @@\n+2006-07-04  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* testsuite/lib/libjava.exp (libjava_init): Look for libgcj-$version.jar\n+\tinstead of libgcj-*.jar.\n+\n 2006-07-04  Thomas Fitzsimmons  <fitzsim@redhat.com>\n \n \tPR libgcj/28244:"}, {"sha": "4b1f7ae2df4b47373999ded63fb67b2e72d4a119", "filename": "libjava/testsuite/lib/libjava.exp", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6215885d43d8ebe55454794cedfe092604f62718/libjava%2Ftestsuite%2Flib%2Flibjava.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6215885d43d8ebe55454794cedfe092604f62718/libjava%2Ftestsuite%2Flib%2Flibjava.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2Flib%2Flibjava.exp?ref=6215885d43d8ebe55454794cedfe092604f62718", "patch": "@@ -144,6 +144,7 @@ proc libjava_init { args } {\n     global tool_root_dir\n     global libjava_libgcc_s_path\n     global target_triplet\n+    global libjava_version\n \n     # We set LC_ALL and LANG to C so that we get the same error messages as expected.\n     setenv LC_ALL C\n@@ -164,7 +165,14 @@ proc libjava_init { args } {\n     }\n \n     # Find the libgcj jar file.\n-    set libgcj_jar [glob $objdir/../libgcj-*.jar]\n+\n+    set tmp [eval exec \"$GCJ_UNDER_TEST -v 2>@ stdout\"]\n+    regexp \" version \\[^\\n\\r\\]*\" $tmp version\n+    set libjava_version [lindex $version 1]\n+\n+    verbose \"version: $libjava_version\"\n+\n+    set libgcj_jar [glob $objdir/../libgcj-$libjava_version.jar]\n     verbose \"jar file is $libgcj_jar\"\n \n     # FIXME: This finds libgcj.spec for the default multilib."}]}