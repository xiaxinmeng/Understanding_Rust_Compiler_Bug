{"sha": "1f0282cb01ef671a61707c95065df945bdbd1240", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWYwMjgyY2IwMWVmNjcxYTYxNzA3Yzk1MDY1ZGY5NDViZGJkMTI0MA==", "commit": {"author": {"name": "Gunther Nikl", "email": "gni@gecko.de", "date": "2004-02-17T20:24:44Z"}, "committer": {"name": "Bernardo Innocenti", "email": "bernie@gcc.gnu.org", "date": "2004-02-17T20:24:44Z"}, "message": "* config/m68k/m68k.c: Remove obsolete support for HPUX_ASM.\n\nFrom-SVN: r77977", "tree": {"sha": "c337317bfe1f7c7ba79e56278c1a2523f5a80d53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c337317bfe1f7c7ba79e56278c1a2523f5a80d53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1f0282cb01ef671a61707c95065df945bdbd1240", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f0282cb01ef671a61707c95065df945bdbd1240", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f0282cb01ef671a61707c95065df945bdbd1240", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f0282cb01ef671a61707c95065df945bdbd1240/comments", "author": null, "committer": null, "parents": [{"sha": "6552458ac313505a93fcb0651b2c9ae911988656", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6552458ac313505a93fcb0651b2c9ae911988656", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6552458ac313505a93fcb0651b2c9ae911988656"}], "stats": {"total": 42, "additions": 6, "deletions": 36}, "files": [{"sha": "ff7bb7d8ee177a70acd851b4764c135bf4211e11", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0282cb01ef671a61707c95065df945bdbd1240/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0282cb01ef671a61707c95065df945bdbd1240/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1f0282cb01ef671a61707c95065df945bdbd1240", "patch": "@@ -1,3 +1,7 @@\n+2004-02-16  Gunther Nikl  <gni@gecko.de>\n+\n+\t* config/m68k/m68k.c: Remove obsolete support for HPUX_ASM.\n+\n 2004-02-17  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/h8300/h8300.c (h8300_expand_prologue): Don't generate"}, {"sha": "f289185c9529670e2fa259ad1c59dcad403840c3", "filename": "gcc/config/m68k/m68k.c", "status": "modified", "additions": 2, "deletions": 36, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1f0282cb01ef671a61707c95065df945bdbd1240/gcc%2Fconfig%2Fm68k%2Fm68k.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1f0282cb01ef671a61707c95065df945bdbd1240/gcc%2Fconfig%2Fm68k%2Fm68k.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.c?ref=1f0282cb01ef671a61707c95065df945bdbd1240", "patch": "@@ -98,10 +98,6 @@ static void m68k_output_function_epilogue (FILE *, HOST_WIDE_INT);\n #ifdef M68K_TARGET_COFF\n static void m68k_coff_asm_named_section (const char *, unsigned int);\n #endif /* M68K_TARGET_COFF */\n-#ifdef HPUX_ASM\n-static void m68k_hp320_internal_label (FILE *, const char *, unsigned long);\n-static void m68k_hp320_file_start (void);\n-#endif\n static void m68k_output_mi_thunk (FILE *, tree, HOST_WIDE_INT,\n \t\t\t\t\t  HOST_WIDE_INT, tree);\n static rtx m68k_struct_value_rtx (tree, int);\n@@ -171,10 +167,6 @@ int m68k_last_compare_had_fp_operands;\n #define TARGET_ASM_FUNCTION_PROLOGUE m68k_output_function_prologue\n #undef TARGET_ASM_FUNCTION_EPILOGUE\n #define TARGET_ASM_FUNCTION_EPILOGUE m68k_output_function_epilogue\n-#ifdef HPUX_ASM\n-#undef TARGET_ASM_INTERNAL_LABEL\n-#define  TARGET_ASM_INTERNAL_LABEL m68k_hp320_internal_label\n-#endif\n \n #undef TARGET_ASM_OUTPUT_MI_THUNK\n #define TARGET_ASM_OUTPUT_MI_THUNK m68k_output_mi_thunk\n@@ -1017,9 +1009,7 @@ m68k_output_pic_call(rtx dest)\n   else if (TARGET_PCREL)\n     out = \"bsr.l %o0\";\n   else if ((flag_pic == 1) || TARGET_68020)\n-#ifdef HPUX_ASM\n-    out = \"bsr.l %0\";\n-#elif defined(USE_GAS)\n+#if defined(USE_GAS)\n     out = \"bsr.l %0@PLTPC\";\n #else\n     out = \"bsr %0@PLTPC\";\n@@ -3350,28 +3340,6 @@ m68k_coff_asm_named_section (const char *name, unsigned int flags)\n \n #endif /* M68K_TARGET_COFF */\n \n-#ifdef HPUX_ASM\n-static void\n-m68k_hp320_internal_label (FILE *stream, const char *prefix,\n-                           unsigned long labelno)\n-{\n-  if (prefix[0] == 'L' && prefix[1] == 'I')\n-    fprintf(stream, \"\\tset %s%ld,.+2\\n\", prefix, labelno);\n-  else\n-    fprintf (stream, \"%s%ld:\\n\", prefix, labelno);\n-}\n-\n-static void\n-m68k_hp320_file_start (void)\n-{\n-  /* version 1: 68010.\n-             2: 68020 without FPU.\n-\t     3: 68020 with FPU.  */\n-  fprintf (asm_out_file, \"\\tversion %d\\n\",\n-\t   TARGET_68020 ? (TARGET_68881 ? 3 : 2) : 1);\n-}\n-#endif\n-\n static void\n m68k_output_mi_thunk (FILE *file, tree thunk ATTRIBUTE_UNUSED,\n \t\t      HOST_WIDE_INT delta,\n@@ -3407,9 +3375,7 @@ m68k_output_mi_thunk (FILE *file, tree thunk ATTRIBUTE_UNUSED,\n       else if ((flag_pic == 1) || TARGET_68020)\n \t{\n \t  if (MOTOROLA)\n-#ifdef HPUX_ASM\n-\t    fmt = \"bra.l %0\";\n-#elif defined(USE_GAS)\n+#if defined(USE_GAS)\n \t    fmt = \"bra.l %0@PLTPC\";\n #else\n \t    fmt = \"bra %0@PLTPC\";"}]}