{"sha": "15cd18b9a469833eed13556a1f941526d6c23ec8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVjZDE4YjlhNDY5ODMzZWVkMTM1NTZhMWY5NDE1MjZkNmMyM2VjOA==", "commit": {"author": {"name": "Sohail Somani", "email": "sohail@sohailsomani.com", "date": "2004-12-30T11:24:06Z"}, "committer": {"name": "Andreas Jaeger", "email": "aj@gcc.gnu.org", "date": "2004-12-30T11:24:06Z"}, "message": "re PR ada/19128 (Bug box while building asharp)\n\n2004-12-30  Sohail Somani <sohail@sohailsomani.com>\n\n\tPR ada/19128\n\t* trans.c (gnat_to_gnu): Fix typo: Use correct return variable.\n\nFrom-SVN: r92732", "tree": {"sha": "61e090b3b8a53741b02aa913f9ea07a8c27fa8a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61e090b3b8a53741b02aa913f9ea07a8c27fa8a1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15cd18b9a469833eed13556a1f941526d6c23ec8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15cd18b9a469833eed13556a1f941526d6c23ec8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15cd18b9a469833eed13556a1f941526d6c23ec8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15cd18b9a469833eed13556a1f941526d6c23ec8/comments", "author": null, "committer": null, "parents": [{"sha": "9eb892ec7fe35b807b994814a0702e1a329d3b39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9eb892ec7fe35b807b994814a0702e1a329d3b39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9eb892ec7fe35b807b994814a0702e1a329d3b39"}], "stats": {"total": 57, "additions": 31, "deletions": 26}, "files": [{"sha": "04ebd6f130a7120177e2f004b6e237cff3f24bd2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 29, "deletions": 24, "changes": 53, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15cd18b9a469833eed13556a1f941526d6c23ec8/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15cd18b9a469833eed13556a1f941526d6c23ec8/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=15cd18b9a469833eed13556a1f941526d6c23ec8", "patch": "@@ -1,5 +1,10 @@\n+2004-12-30  Sohail Somani <sohail@sohailsomani.com>\n+\n+\tPR ada/19128\n+\t* trans.c (gnat_to_gnu): Fix typo: Use correct return variable.\n+\n 2004-12-23  Eric Botcazou  <ebotcazou@libertysurf.fr>\n- \n+\n \t* trans.c (Attribute_to_gnu): Adjust call to get_inner_reference.\n \t* utils2.c (build_unary_op): Likewise.\n \n@@ -291,7 +296,7 @@\n \n 2004-12-07  Ed Schonberg  <schonberg@adacore.com>\n \n-\t* lib-xref.adb: \n+\t* lib-xref.adb:\n \t(Generate_Reference): Handle properly a reference to an entry formal,\n \t when an accept statement has a pragma Unreferenced for it.\n \n@@ -491,7 +496,7 @@\n \n 2004-11-18  Robert Dewar  <dewar@adacore.com>\n \n-\t* a-stmaco.ads, exp_util.ads, exp_util.adb, i-cpp.ads, i-cpp.adb: \n+\t* a-stmaco.ads, exp_util.ads, exp_util.adb, i-cpp.ads, i-cpp.adb:\n \tMinor reformatting througout (including new function specs)\n \tAdd ??? comments asking for clarification.\n \n@@ -721,7 +726,7 @@\n 2004-11-18  Robert Dewar  <dewar@adacore.com>\n \t    Sergey Rybin  <rybin@adacore.com>\n \n-\t* gnat_ugn.texi: \n+\t* gnat_ugn.texi:\n \tRemove extra paren check from list of checks for redundant constructs\n \tAdd documentation of new -gnatyx style check (check extra parens)\n \tRemove paragraph about gnatelim debug options.\n@@ -920,7 +925,7 @@\n \tRename RCI_Info to RCI_Locator, for consistency between the PolyORB\n \tversion and the GARLIC version.\n \n-\t* snames.ads, snames.adb, s-parint.ads, s-parint.adb: \n+\t* snames.ads, snames.adb, s-parint.ads, s-parint.adb:\n \tRename RCI_Info to RCI_Locator for better consistency between the\n \tGARLIC and PolyORB versions of the distributed systems annex.\n \t(DSA_Implementation_Name): This enumeration lists the possible\n@@ -1351,9 +1356,9 @@\n \n 2004-10-04  Vincent Celier  <celier@gnat.com>\n \n-\t* mlib-tgt-tru64.adb, mlib-tgt-aix.adb, mlib-tgt-irix.adb, \n-\tmlib-tgt-hpux.adb, mlib-tgt-linux.adb, mlib-tgt-solaris.adb, \n-\tmlib-tgt-vms-alpha.adb, mlib-tgt-vms-ia64.adb, mlib-tgt-mingw.adb, \n+\t* mlib-tgt-tru64.adb, mlib-tgt-aix.adb, mlib-tgt-irix.adb,\n+\tmlib-tgt-hpux.adb, mlib-tgt-linux.adb, mlib-tgt-solaris.adb,\n+\tmlib-tgt-vms-alpha.adb, mlib-tgt-vms-ia64.adb, mlib-tgt-mingw.adb,\n \tmlib-tgt-vxworks.adb, mlib-tgt.adb (Build_Dynamic_Library): New\n \tparameter Options_2.\n \n@@ -1384,16 +1389,16 @@\n \t(Get_Target_Parameters): Including the processing for\n \tPreallocated_Stacks.\n \n-\t* system.ads, system-vxworks-x86.ads, system-darwin-ppc.ads, \n-\tsystem-vms_64.ads, system-unixware.ads, system-linux-ia64.ads, \n-\tsystem-freebsd-x86.ads, system-lynxos-ppc.ads, system-lynxos-x86.ads, \n-\tsystem-linux-x86_64.ads, system-tru64.ads, system-aix.ads, \n-\tsystem-vxworks-sparcv9.ads, system-vxworks-xscale.ads, \n-\tsystem-solaris-x86.ads, system-irix-o32.ads, system-irix-n32.ads, \n-\tsystem-hpux.ads, system-vxworks-m68k.ads, system-linux-x86.ads, \n-\tsystem-vxworks-mips.ads, system-os2.ads, system-interix.ads, \n-\tsystem-solaris-sparc.ads, system-solaris-sparcv9.ads, system-vms.ads, \n-\tsystem-mingw.ads, system-vms-zcx.ads, system-vxworks-ppc.ads, \n+\t* system.ads, system-vxworks-x86.ads, system-darwin-ppc.ads,\n+\tsystem-vms_64.ads, system-unixware.ads, system-linux-ia64.ads,\n+\tsystem-freebsd-x86.ads, system-lynxos-ppc.ads, system-lynxos-x86.ads,\n+\tsystem-linux-x86_64.ads, system-tru64.ads, system-aix.ads,\n+\tsystem-vxworks-sparcv9.ads, system-vxworks-xscale.ads,\n+\tsystem-solaris-x86.ads, system-irix-o32.ads, system-irix-n32.ads,\n+\tsystem-hpux.ads, system-vxworks-m68k.ads, system-linux-x86.ads,\n+\tsystem-vxworks-mips.ads, system-os2.ads, system-interix.ads,\n+\tsystem-solaris-sparc.ads, system-solaris-sparcv9.ads, system-vms.ads,\n+\tsystem-mingw.ads, system-vms-zcx.ads, system-vxworks-ppc.ads,\n \tsystem-vxworks-alpha.ads: Add the flag Preallocated_Stacks, that is\n \tused to signal whether the compiler creates the required stacks and\n \tdescriptors for the different tasks (when True) or it is done by the\n@@ -1432,9 +1437,9 @@\n 2004-10-04  Thomas Quinot  <quinot@act-europe.fr>\n \n \t* g-socket.ads, g-socket.adb, g-socthi.adb, socket.c,\n-\tg-soccon-aix.ads, g-soccon-irix.ads, g-soccon-hpux.ads, \n-\tg-soccon-interix.ads, g-soccon-solaris.ads, g-soccon-vms.adb, \n-\tg-soccon-mingw.ads, g-soccon-vxworks.ads, g-soccon-freebsd.ads, \n+\tg-soccon-aix.ads, g-soccon-irix.ads, g-soccon-hpux.ads,\n+\tg-soccon-interix.ads, g-soccon-solaris.ads, g-soccon-vms.adb,\n+\tg-soccon-mingw.ads, g-soccon-vxworks.ads, g-soccon-freebsd.ads,\n \tg-soccon.ads, g-soccon-unixware.ads, g-soccon-tru64.ads:  Add new\n \tsockets constant MSG_NOSIGNAL (Linux-specific).\n \tAdd new sockets constant MSG_Forced_Flags, list of flags to be set on\n@@ -2972,7 +2977,7 @@\n \n \t* decl.c: Remove calls to add_decl_expr, pushdecl, rest_of_compilation,\n \tand rest_of_type_compilation; add arg to create_*_decl.\n- \t(annotate_decl_with_node): Deleted.\n+\t(annotate_decl_with_node): Deleted.\n \t(gnat_to_gnu_entity, case E_Array_Type): Set location of fields.\n \t* gigi.h (get_decls, block_has_vars, pushdecl): Deleted.\n \t(get_current_block_context, gnat_pushdecl): New declarations.\n@@ -3115,7 +3120,7 @@\n \t* decl.c: add_decl_stmt now add_decl_expr.\n \t* gigi.h: Likewise.\n \t* trans.c: Likewise.\n- \t(gnat_gimplify_type_sizes, gnat_gimplify_one_sizepos): Deleted.\n+\t(gnat_gimplify_type_sizes, gnat_gimplify_one_sizepos): Deleted.\n \t(gnat_to_gnu, case N_Subprogram_Body): Set cfun->function_end_locus.\n \t(add_stmt): Only handle padded type here.\n \t(add_stmt_with_node): Allow gnat_node to not be present.\n@@ -3822,7 +3827,7 @@\n \t(STMT_STMT, USE_STMT): New statement codes.\n \t(LOOP_STMT, EXIT_STMT): Make slight semantic changes.\n \t* ada-tree.h: Reflect above changes.\n- \t(struct tree_loop_id): Deleted.\n+\t(struct tree_loop_id): Deleted.\n \t(union lang_tree_node, struct lang_decl, struct lang_type):\n \tNow just contains a tree node; update macros using TYPE_LANG_SPECIFIC\n \tand DECL_LANGUAGE_SPECIFIC to reflect these changes."}, {"sha": "a005fed641c0cf9504c77cf99ee4167fe5bdff76", "filename": "gcc/ada/trans.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15cd18b9a469833eed13556a1f941526d6c23ec8/gcc%2Fada%2Ftrans.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15cd18b9a469833eed13556a1f941526d6c23ec8/gcc%2Fada%2Ftrans.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ftrans.c?ref=15cd18b9a469833eed13556a1f941526d6c23ec8", "patch": "@@ -3546,8 +3546,8 @@ gnat_to_gnu (Node_Id gnat_node)\n \t       are doing a call, pass that target to the call.  */\n \t    if (TYPE_RETURNS_BY_TARGET_PTR_P (gnu_subprog_type)\n \t\t&& Nkind (Expression (gnat_node)) == N_Function_Call)\n-\t      gnu_result = call_to_gnu (Expression (gnat_node),\n-\t\t\t\t\t&gnu_result_type, gnu_lhs);\n+\t      gnu_ret_val = call_to_gnu (Expression (gnat_node),\n+\t\t\t\t\t &gnu_result_type, gnu_lhs);\n \n \t    else\n \t      {"}]}