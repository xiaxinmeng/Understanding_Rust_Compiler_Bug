{"sha": "47e6ea667d23d2fd20ad3664e39654cc8a44502f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdlNmVhNjY3ZDIzZDJmZDIwYWQzNjY0ZTM5NjU0Y2M4YTQ0NTAyZg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-01-28T21:54:39Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-01-28T21:54:39Z"}, "message": "haifa-sched.c (schedule_insns): Don't recompute reg info after reload.\n\n        * haifa-sched.c (schedule_insns): Don't recompute reg info\n        after reload.\n\nFrom-SVN: r31675", "tree": {"sha": "43b3092259aa69e29579b0bcb9441a5e97e7e0be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/43b3092259aa69e29579b0bcb9441a5e97e7e0be"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47e6ea667d23d2fd20ad3664e39654cc8a44502f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47e6ea667d23d2fd20ad3664e39654cc8a44502f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47e6ea667d23d2fd20ad3664e39654cc8a44502f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47e6ea667d23d2fd20ad3664e39654cc8a44502f/comments", "author": null, "committer": null, "parents": [{"sha": "ae20388c7d5fea2bbea463fa0057468aa4a3b311", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae20388c7d5fea2bbea463fa0057468aa4a3b311", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae20388c7d5fea2bbea463fa0057468aa4a3b311"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "c1e8282c56751c4974d9625f6eb0fcd35aab9026", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e6ea667d23d2fd20ad3664e39654cc8a44502f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e6ea667d23d2fd20ad3664e39654cc8a44502f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47e6ea667d23d2fd20ad3664e39654cc8a44502f", "patch": "@@ -4,6 +4,9 @@\n \t* flow.c (mark_regs_live_at_end): Likewise.  Force BLKmode\n \tFUNCTION_VALUE result to DECL_RESULT's mode.\n \n+\t* haifa-sched.c (schedule_insns): Don't recompute reg info\n+\tafter reload.\n+\n 2000-01-28  Zack Weinberg  <zack@wolery.cumb.org>\n \n \t* configure.in: Make --enable-cpplib the default."}, {"sha": "2c9adf2815b717d5bd8797e1770a341b4793d90c", "filename": "gcc/haifa-sched.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e6ea667d23d2fd20ad3664e39654cc8a44502f/gcc%2Fhaifa-sched.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e6ea667d23d2fd20ad3664e39654cc8a44502f/gcc%2Fhaifa-sched.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fhaifa-sched.c?ref=47e6ea667d23d2fd20ad3664e39654cc8a44502f", "patch": "@@ -6975,8 +6975,11 @@ schedule_insns (dump_file)\n \tSET_BIT (blocks, rgn_bb_table[RGN_BLOCKS (rgn)]);\n \tRESET_BIT (large_region_blocks, rgn_bb_table[RGN_BLOCKS (rgn)]);\n \n+\t/* Don't update reg info after reload, since that affects\n+\t   regs_ever_live, which should not change after reload.  */\n \tupdate_life_info (blocks, UPDATE_LIFE_LOCAL,\n-\t\t\t  PROP_DEATH_NOTES | PROP_REG_INFO);\n+\t\t\t  (reload_completed ? PROP_DEATH_NOTES\n+\t\t\t   : PROP_DEATH_NOTES | PROP_REG_INFO));\n \n \t/* In the single block case, the count of registers that died should\n \t   not have changed during the schedule.  */"}]}