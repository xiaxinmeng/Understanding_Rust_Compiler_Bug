{"sha": "2588b26e0e0374bccd928e2d102e81a9e334fc0b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjU4OGIyNmUwZTAzNzRiY2NkOTI4ZTJkMTAyZTgxYTllMzM0ZmMwYg==", "commit": {"author": {"name": "Robert Mason", "email": "rbmj@verizon.net", "date": "2012-11-03T15:53:28Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "2012-11-03T15:53:28Z"}, "message": "final patch for enabling VxWorks\n\nFrom-SVN: r193124", "tree": {"sha": "a6986ee5adfb979a07e590f264651d5cf98a61ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6986ee5adfb979a07e590f264651d5cf98a61ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2588b26e0e0374bccd928e2d102e81a9e334fc0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2588b26e0e0374bccd928e2d102e81a9e334fc0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2588b26e0e0374bccd928e2d102e81a9e334fc0b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2588b26e0e0374bccd928e2d102e81a9e334fc0b/comments", "author": {"login": "rbmj", "id": 359868, "node_id": "MDQ6VXNlcjM1OTg2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/359868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbmj", "html_url": "https://github.com/rbmj", "followers_url": "https://api.github.com/users/rbmj/followers", "following_url": "https://api.github.com/users/rbmj/following{/other_user}", "gists_url": "https://api.github.com/users/rbmj/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbmj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbmj/subscriptions", "organizations_url": "https://api.github.com/users/rbmj/orgs", "repos_url": "https://api.github.com/users/rbmj/repos", "events_url": "https://api.github.com/users/rbmj/events{/privacy}", "received_events_url": "https://api.github.com/users/rbmj/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "358a3dbce6aad5488da4c4dd68d37ca74fbe4157", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358a3dbce6aad5488da4c4dd68d37ca74fbe4157", "html_url": "https://github.com/Rust-GCC/gccrs/commit/358a3dbce6aad5488da4c4dd68d37ca74fbe4157"}], "stats": {"total": 61, "additions": 47, "deletions": 14}, "files": [{"sha": "961340b999792efbff8642f8df93a17f29ca7fac", "filename": "ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2588b26e0e0374bccd928e2d102e81a9e334fc0b/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2588b26e0e0374bccd928e2d102e81a9e334fc0b/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=2588b26e0e0374bccd928e2d102e81a9e334fc0b", "patch": "@@ -1,3 +1,8 @@\n+2012-11-03  Robert Mason  <rbmj@verizon.net>\n+\n+\t* configure.ac: add --disable-libstdcxx configure option\n+\tand handle defaulted state only for VxWorks, ARM-wince-pe and AVR.\n+\n 2012-10-30 Ganesh Gopalasubramanian  <Ganesh.Gopalasubramanian@amd.com>\n \n \t* MAINTAINERS (Write After Approval): Add myself."}, {"sha": "a21cd8a5488bf9cc20e87afd86abc281b8fd6934", "filename": "configure.ac", "status": "modified", "additions": 25, "deletions": 13, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2588b26e0e0374bccd928e2d102e81a9e334fc0b/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2588b26e0e0374bccd928e2d102e81a9e334fc0b/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=2588b26e0e0374bccd928e2d102e81a9e334fc0b", "patch": "@@ -427,6 +427,15 @@ AC_ARG_ENABLE(libssp,\n ENABLE_LIBSSP=$enableval,\n ENABLE_LIBSSP=yes)\n \n+AC_ARG_ENABLE(libstdcxx,\n+AS_HELP_STRING([--disable-libstdcxx],\n+  [do not build libstdc++-v3 directory]),\n+ENABLE_LIBSTDCXX=$enableval,\n+ENABLE_LIBSTDCXX=default)\n+[if test \"${ENABLE_LIBSTDCXX}\" = \"no\" ; then\n+  noconfigdirs=\"$noconfigdirs libstdc++-v3\"\n+fi]\n+\n # Save it here so that, even in case of --enable-libgcj, if the Java\n # front-end isn't enabled, we still get libgcj disabled.\n libgcj_saved=$libgcj\n@@ -562,19 +571,22 @@ case \"${target}\" in\n esac\n \n # Disable libstdc++-v3 for some systems.\n-case \"${target}\" in\n-  *-*-vxworks*)\n-    # VxWorks uses the Dinkumware C++ library.\n-    noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n-    ;;\n-  arm*-wince-pe*)\n-    # the C++ libraries don't build on top of CE's C libraries\n-    noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n-    ;;\n-  avr-*-*)\n-    noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n-    ;;\n-esac\n+# Allow user to override this if they pass --enable-libstdc++-v3\n+if test \"${ENABLE_LIBSTDCXX}\" = \"default\" ; then\n+  case \"${target}\" in\n+    *-*-vxworks*)\n+      # VxWorks uses the Dinkumware C++ library.\n+      noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n+      ;;\n+    arm*-wince-pe*)\n+      # the C++ libraries don't build on top of CE's C libraries\n+      noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n+      ;;\n+    avr-*-*)\n+      noconfigdirs=\"$noconfigdirs target-libstdc++-v3\"\n+      ;;\n+  esac\n+fi\n \n # Disable Fortran for some systems.\n case \"${target}\" in"}, {"sha": "e3eb2f26754396092060e8a1f58cac74d407fb9b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2588b26e0e0374bccd928e2d102e81a9e334fc0b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2588b26e0e0374bccd928e2d102e81a9e334fc0b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2588b26e0e0374bccd928e2d102e81a9e334fc0b", "patch": "@@ -1,3 +1,7 @@\n+2012-11-03  Robert Mason  <rbmj@verizon.net>\n+\n+\t* gcov-io.c (gcov_open): Add file mode to open call (need for VxWorks)\n+\n 2012-11-03  Sandra Loosemore  <sandra@codesourcery.com>\n \n \t* doc/extend.texi: Copy-edit to use present tense except when"}, {"sha": "f5626542521f91a6b5b4b31b6d2e70ea0359301b", "filename": "gcc/gcov-io.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2588b26e0e0374bccd928e2d102e81a9e334fc0b/gcc%2Fgcov-io.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2588b26e0e0374bccd928e2d102e81a9e334fc0b/gcc%2Fgcov-io.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcov-io.c?ref=2588b26e0e0374bccd928e2d102e81a9e334fc0b", "patch": "@@ -92,7 +92,8 @@ gcov_open (const char *name, int mode)\n     {\n       /* Read-only mode - acquire a read-lock.  */\n       s_flock.l_type = F_RDLCK;\n-      fd = open (name, O_RDONLY);\n+      /* pass mode (ignored) for compatibility */\n+      fd = open (name, O_RDONLY, S_IRUSR | S_IWUSR);\n     }\n   else\n     {"}, {"sha": "3ceefae51f70a91462e58d3daaf147479e5a4d7e", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2588b26e0e0374bccd928e2d102e81a9e334fc0b/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2588b26e0e0374bccd928e2d102e81a9e334fc0b/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=2588b26e0e0374bccd928e2d102e81a9e334fc0b", "patch": "@@ -1,3 +1,8 @@\n+2012-11-03  Robert Mason  <rbmj@verizon.net>\n+\n+\t* config/os/vxworks/os_defines.h:\n+\tKeep vxWorks from defining min()/max() as macros\n+\n 2012-11-03  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \t* doc/html/*: Regenerate."}, {"sha": "93ad1d4b01f11e25933db62a77351ab8168c32ce", "filename": "libstdc++-v3/config/os/vxworks/os_defines.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2588b26e0e0374bccd928e2d102e81a9e334fc0b/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fvxworks%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2588b26e0e0374bccd928e2d102e81a9e334fc0b/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fvxworks%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fvxworks%2Fos_defines.h?ref=2588b26e0e0374bccd928e2d102e81a9e334fc0b", "patch": "@@ -33,4 +33,10 @@\n // System-specific #define, typedefs, corrections, etc, go here.  This\n // file will come before all others.\n \n+//Keep vxWorks from defining min()/max() as macros\n+#ifdef NOMINMAX\n+#undef NOMINMAX\n+#endif\n+#define NOMINMAX 1\n+\n #endif"}]}