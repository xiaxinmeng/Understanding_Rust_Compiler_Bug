{"sha": "7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2VmZWVhNWU3YzYwOGI0ZGQ5M2RlOTE1ZTFmNGZhZjRjNThhNjAwOQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-02-21T08:36:18Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2007-02-21T08:36:18Z"}, "message": "[multiple changes]\n\n2007-02-21  Bernhard Fischer  <aldot@gcc.gnu.org>\n\n\t* parse.c (next_free): Gooble spaces after OpenMP sentinel.\n\n2007-02-21  Jakub Jelinek  <jakub@redhat.com>\n\n\t* gfortran.dg/gomp/omp_parse1.f90: New test.\n\t* gfortran.dg/gomp/omp_parse2.f: New test.\n\nFrom-SVN: r122190", "tree": {"sha": "a2a30c5ffdd34f3f453d84ec3d6be1f3bf8abf71", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2a30c5ffdd34f3f453d84ec3d6be1f3bf8abf71"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/comments", "author": null, "committer": null, "parents": [{"sha": "645c40865d770bca166a4aaa874b7515b9bfd036", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/645c40865d770bca166a4aaa874b7515b9bfd036", "html_url": "https://github.com/Rust-GCC/gccrs/commit/645c40865d770bca166a4aaa874b7515b9bfd036"}], "stats": {"total": 104, "additions": 76, "deletions": 28}, "files": [{"sha": "cea7f13ec005a40b95d47e89cd3c1fe3b301cfe2", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 32, "deletions": 28, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "patch": "@@ -1,7 +1,11 @@\n+2007-02-21  Bernhard Fischer  <aldot@gcc.gnu.org>\n+\n+\t* parse.c (next_free): Gooble spaces after OpenMP sentinel.\n+\n 2007-02-20  Thomas Koenig  <Thomas.Koenig@online.de>\n \n \tPR fortran/30869\n-\t* match.c(gfc_match_iterator):  Remove conflict between\n+\t* match.c (gfc_match_iterator): Remove conflict between\n \tloop variable and pointer.\n \n 2007-02-20  Tobias Burnus  <burnus@net-b.de>\n@@ -22,9 +26,9 @@\n 2007-02-19  Thomas Koenig  <Thomas.Koenig@online.de>\n \n \tPR libfortran/30533\n-\t* fortran/iresolve.c(gfc_resolve_maxloc):  Remove coercion of\n+\t* fortran/iresolve.c (gfc_resolve_maxloc): Remove coercion of\n \targument to default integer.\n-\t(gfc_resolve_minloc):  Likewise.\n+\t(gfc_resolve_minloc): Likewise.\n \n 2007-02-18  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n@@ -151,7 +155,7 @@\n \n 2007-02-12  Nick Clifton  <nickc@redhat.com>\n \n-\t* lang.opt:  Add Warning attribute to warning options.\n+\t* lang.opt: Add Warning attribute to warning options.\n \n 2007-02-11  Daniel Franke  <franke.daniel@gmail.com>\n \n@@ -312,7 +316,7 @@\n 2007-01-30  Steve Ellcey  <sje@cup.hp.com>\n \n \tPR fortran/30432\n-\t* trans-types.c (gfc_get_function_type):  Do not add void_type_node\n+\t* trans-types.c (gfc_get_function_type): Do not add void_type_node\n \tto empty arg list.\n \t* trans-decl.c (create_function_arglist): Change assert.\n \n@@ -326,27 +330,27 @@\n 2007-01-28  Thomas Koenig  <Thomas.Koenig@online.de>\n \n \tPR libfortran/30389\n-\t* gfortran.h:  Remove gfc_simplify_init_1.\n-\t* arith.h:  Remove third argument from gfc_compare_string.\n-\t* arith.c(gfc_compare_expression):  Remove third argument\n+\t* gfortran.h: Remove gfc_simplify_init_1.\n+\t* arith.h: Remove third argument from gfc_compare_string.\n+\t* arith.c (gfc_compare_expression): Remove third argument\n \tfrom call to gfc_compare_string.\n-\t(gfc_compare_string):  Remove third argument xcoll_table.\n+\t(gfc_compare_string): Remove third argument xcoll_table.\n \tRemove use of xcoll_table.\n-\t* misc.c(gfc_init_1):  Remove call to gfc_simplify_init_1.\n-\t* simplify.c(ascii_table):  Remove.\n+\t* misc.c (gfc_init_1): Remove call to gfc_simplify_init_1.\n+\t* simplify.c (ascii_table): Remove.\n \t(xascii_table): Likewise.\n-\t(gfc_simplify_achar):  ICE if extract_int fails.  Remove use of\n+\t(gfc_simplify_achar): ICE if extract_int fails.  Remove use of\n \tascii_table.  Warn if -Wsurprising and value < 0 or > 127.\n-\t(gfc_simplify_char):  ICE if extract_int fails. Error if\n+\t(gfc_simplify_char): ICE if extract_int fails. Error if\n \tvalue < 0 or value > 255.\n-\t(gfc_simplify_iachar):  Remove use of xascii_table.\n+\t(gfc_simplify_iachar): Remove use of xascii_table.\n \tChar values outside of 0..255 are an ICE.\n-\t(gfc_simplify_lge):  Remove use of xascii_table.\n-\t(gfc_simplify_lgt):  Likewise.\n-\t(gfc_simplify_lle):  Likewise.\n-\t(gfc_simplify_llt):  Likewise.\n-\t(invert_table):  Remove.\n-\t(gfc_simplify_init_1):  Remove.\n+\t(gfc_simplify_lge): Remove use of xascii_table.\n+\t(gfc_simplify_lgt): Likewise.\n+\t(gfc_simplify_lle): Likewise.\n+\t(gfc_simplify_llt): Likewise.\n+\t(invert_table): Remove.\n+\t(gfc_simplify_init_1): Remove.\n \n 2007-01-27  Roger Sayle  <roger@eyesopen.com>\n \n@@ -423,7 +427,7 @@\n 2007-01-20  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \t* openmp.c, matchexp.c, module.c, scanner.c, resolve.c, st.c,\n-\tparse.c, primary.c, options.c, misc.c, simplify.c:  Next installment\n+\tparse.c, primary.c, options.c, misc.c, simplify.c: Next installment\n \tin the massive whitespace patch.\n \n 2007-01-20  Roger Sayle  <roger@eyesopen.com>\n@@ -632,11 +636,11 @@\n 2007-01-11  Thomas Koenig  <Thomas.Koenig@online.de>\n \n \tPR libfortran/30415\n-\t* iresolve.c (gfc_resolve_maxloc):  If the rank\n+\t* iresolve.c (gfc_resolve_maxloc): If the rank\n \tof the return array is nonzero and we process an\n \tinteger array smaller than default kind, coerce\n \tthe array to default integer.\n-\t* iresolve.c (gfc_resolve_minloc):  Likewise.\n+\t* iresolve.c (gfc_resolve_minloc): Likewise.\n \n 2007-01-11  Brooks Moses  <brooks.moses@codesourcery.com>\n \n@@ -689,7 +693,7 @@\n 2007-01-08  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \t* interface.c, intrinsic.c, gfortranspec.c, io.c, f95-lang.c,\n-\tiresolve.c, match.c:  Update Copyright years.  Whitespace.\n+\tiresolve.c, match.c: Update Copyright years.  Whitespace.\n \n 2007-01-08  Richard Guenther  <rguenther@suse.de>\n \n@@ -705,7 +709,7 @@\n \tinitialized gfortran array for a given EXPR_ARRAY.\n \t(gfc_trans_constant_array_constructor): Efficiently scalarize\n \ta constant array constructor.\n-\t(gfc_trans_array_constructor):  Tidy up use of CONST_STRING.\n+\t(gfc_trans_array_constructor): Tidy up use of CONST_STRING.\n \tSpecial case scalarization of constant array constructors, all of\n \twhose elements are specified, using constant_array_constructor_p \n \tand gfc_trans_constant_array_constructor.\n@@ -719,7 +723,7 @@\n 2007-01-07  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \t* decl.c, dump-parse-tree.c, error.c, data.c, expr.c, dependency.c,\n-\tconvert.c:  Update Copyright dates.  Fix whitespace.\n+\tconvert.c: Update Copyright dates.  Fix whitespace.\n \n 2007-01-07  Bernhard Fischer  <aldot@gcc.gnu.org>\n \n@@ -742,7 +746,7 @@\n \n 2007-01-06  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n-\t* array.c, bbt.c, check.c:  Update copyright years.  Whitespace.\n+\t* array.c, bbt.c, check.c: Update copyright years.  Whitespace.\n \n 2007-01-06  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n@@ -768,7 +772,7 @@\n \n 2007-01-05  Roger Sayle  <roger@eyesopen.com>\n \n-\t* trans-array.c (gfc_conv_loop_setup):  Test whether the loop\n+\t* trans-array.c (gfc_conv_loop_setup): Test whether the loop\n \tstride is one, to avoid fold_build2 introducing a useless\n \tNON_LVALUE_EXPR node.\n "}, {"sha": "6e36ea21a538459ee3cb1d99958823c167371964", "filename": "gcc/fortran/parse.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ffortran%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ffortran%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fparse.c?ref=7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "patch": "@@ -485,6 +485,7 @@ next_free (void)\n \t    gcc_assert (c == \"!$omp\"[i]);\n \n \t  gcc_assert (c == ' ');\n+\t  gfc_gobble_whitespace ();\n \t  return decode_omp_directive ();\n \t}\n     }"}, {"sha": "55927de0e8f87cc116bf29ada9bf2d6937d8bdf2", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "patch": "@@ -1,3 +1,8 @@\n+2007-02-21  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* gfortran.dg/gomp/omp_parse1.f90: New test.\n+\t* gfortran.dg/gomp/omp_parse2.f: New test.\n+\n 2007-02-20  Thomas Koenig  <Thomas.Koenig@online.de>\n \n \tPR fortran/30869"}, {"sha": "9cd5ebf59c0daab000e3e02bc62e979c99e66d5c", "filename": "gcc/testsuite/gfortran.dg/gomp/omp_parse1.f90", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fomp_parse1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fomp_parse1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fomp_parse1.f90?ref=7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "patch": "@@ -0,0 +1,24 @@\n+! { dg-do compile }\n+! { dg-options \"-fopenmp -fdump-tree-omplower\" }\n+  !$omp  parallel\n+call bar\n+\t!$omp end parallel\n+  !$omp \t \tp&\n+!$omp&arallel\n+call bar\n+!$omp e&\n+!$omp&ndparallel\n+!$omp  &\n+!$omp  &  &\n+!$omp pa&\n+!$omp rallel\n+call bar\n+!$omp end parallel\n+! Non-continuation !$omp must be followed by space, and my reading\n+! doesn't seem to allow tab there.  So such lines should be completely\n+! ignored.\n+!$omp\tstrange\n+end\n+\n+! { dg-final { scan-tree-dump-times \"pragma omp parallel\" 3 \"omplower\" } }\n+! { dg-final { cleanup-tree-dump \"omplower\" } }"}, {"sha": "510d337952c4a24931e6797e08d772fde555a365", "filename": "gcc/testsuite/gfortran.dg/gomp/omp_parse2.f", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fomp_parse2.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7efeea5e7c608b4dd93de915e1f4faf4c58a6009/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fomp_parse2.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fomp_parse2.f?ref=7efeea5e7c608b4dd93de915e1f4faf4c58a6009", "patch": "@@ -0,0 +1,14 @@\n+c { dg-do compile }\n+c { dg-options \"-fopenmp -fdump-tree-omplower\" }\n+!$omp  parallel\n+      call bar\n+c$omp\tend parallel\n+C$omp \t \tp\n+*$omp+arallel\n+      call bar\n+!$omp e\n+!$omp+ndparallel\n+      end\n+\n+! { dg-final { scan-tree-dump-times \"pragma omp parallel\" 2 \"omplower\" } }\n+! { dg-final { cleanup-tree-dump \"omplower\" } }"}]}