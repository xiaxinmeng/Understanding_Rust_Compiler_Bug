{"sha": "2bcbee3aae8e27021a1f41b77efa965483901825", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmJjYmVlM2FhZThlMjcwMjFhMWY0MWI3N2VmYTk2NTQ4MzkwMTgyNQ==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2009-12-12T01:12:55Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2009-12-12T01:12:55Z"}, "message": "tree.c (need_assembler_name_p): Abstract decls do not need an assembler name.\n\n2009-12-12  Richard Guenther  <rguenther@suse.de>\n\n\t* tree.c (need_assembler_name_p): Abstract decls do not need\n\tan assembler name.\n\t* dwarf2out.c (dwarf2out_abstract_function): Preserve\n\tDECL_ABSTRACT properly.\n\nFrom-SVN: r155189", "tree": {"sha": "ece91ba25fcd77e78e57f19a637336eb95e2eb1b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ece91ba25fcd77e78e57f19a637336eb95e2eb1b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2bcbee3aae8e27021a1f41b77efa965483901825", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bcbee3aae8e27021a1f41b77efa965483901825", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2bcbee3aae8e27021a1f41b77efa965483901825", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2bcbee3aae8e27021a1f41b77efa965483901825/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "19f49d971e5f55477ae3137bc41eb4a528a37f91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19f49d971e5f55477ae3137bc41eb4a528a37f91", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19f49d971e5f55477ae3137bc41eb4a528a37f91"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "daad24950ad73cc3a9d77c13128de8d04ee31190", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bcbee3aae8e27021a1f41b77efa965483901825/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bcbee3aae8e27021a1f41b77efa965483901825/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2bcbee3aae8e27021a1f41b77efa965483901825", "patch": "@@ -1,3 +1,10 @@\n+2009-12-12  Richard Guenther  <rguenther@suse.de>\n+\n+\t* tree.c (need_assembler_name_p): Abstract decls do not need\n+\tan assembler name.\n+\t* dwarf2out.c (dwarf2out_abstract_function): Preserve\n+\tDECL_ABSTRACT properly.\n+\n 2009-12-11  Richard Guenther  <rguenther@suse.de>\n \n \t* lto-streamer-in.c (lto_input_tree_ref): Do not register"}, {"sha": "ec5298c0ccb245375bd6cce7b1684a10817181e3", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bcbee3aae8e27021a1f41b77efa965483901825/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bcbee3aae8e27021a1f41b77efa965483901825/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=2bcbee3aae8e27021a1f41b77efa965483901825", "patch": "@@ -17434,7 +17434,7 @@ dwarf2out_abstract_function (tree decl)\n   dw_die_ref old_die;\n   tree save_fn;\n   tree context;\n-  int was_abstract = DECL_ABSTRACT (decl);\n+  int was_abstract;\n   htab_t old_decl_loc_table;\n \n   /* Make sure we have the actual abstract inline, not a clone.  */\n@@ -17466,6 +17466,7 @@ dwarf2out_abstract_function (tree decl)\n   current_function_decl = decl;\n   push_cfun (DECL_STRUCT_FUNCTION (decl));\n \n+  was_abstract = DECL_ABSTRACT (decl);\n   set_decl_abstract_flags (decl, 1);\n   dwarf2out_decl (decl);\n   if (! was_abstract)"}, {"sha": "769b332e2444f3f624fa07975ddb685430c6e969", "filename": "gcc/tree.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2bcbee3aae8e27021a1f41b77efa965483901825/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2bcbee3aae8e27021a1f41b77efa965483901825/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=2bcbee3aae8e27021a1f41b77efa965483901825", "patch": "@@ -4273,6 +4273,10 @@ need_assembler_name_p (tree decl)\n       || DECL_ASSEMBLER_NAME_SET_P (decl))\n     return false;\n \n+  /* Abstract decls do not need an assembler name.  */\n+  if (DECL_ABSTRACT (decl))\n+    return false;\n+\n   /* For VAR_DECLs, only static, public and external symbols need an\n      assembler name.  */\n   if (TREE_CODE (decl) == VAR_DECL"}]}