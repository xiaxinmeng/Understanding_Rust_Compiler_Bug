{"sha": "f54104df4e03a710acc8b1789d5719bbcf981ff0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU0MTA0ZGY0ZTAzYTcxMGFjYzhiMTc4OWQ1NzE5YmJjZjk4MWZmMA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-04-15T16:50:51Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-04-15T16:50:51Z"}, "message": "gcse.c (compute_ld_motion_mems): ASM outputs aren't moveable.\n\n* gcse.c (compute_ld_motion_mems): ASM outputs aren't moveable.\n(find_moveable_store): Likewise.\n\nFrom-SVN: r41363", "tree": {"sha": "f8545d4df4157528aef0a0f1c4fbe72951d462c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f8545d4df4157528aef0a0f1c4fbe72951d462c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f54104df4e03a710acc8b1789d5719bbcf981ff0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f54104df4e03a710acc8b1789d5719bbcf981ff0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f54104df4e03a710acc8b1789d5719bbcf981ff0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f54104df4e03a710acc8b1789d5719bbcf981ff0/comments", "author": null, "committer": null, "parents": [{"sha": "aa570f545ad4d643c09eaa8c3b06127e6895c0e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa570f545ad4d643c09eaa8c3b06127e6895c0e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa570f545ad4d643c09eaa8c3b06127e6895c0e6"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "7fd793704a8b4b6c61df862c184ef35f50b15c99", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f54104df4e03a710acc8b1789d5719bbcf981ff0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f54104df4e03a710acc8b1789d5719bbcf981ff0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f54104df4e03a710acc8b1789d5719bbcf981ff0", "patch": "@@ -1,3 +1,8 @@\n+2001-04-15  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* gcse.c (compute_ld_motion_mems): ASM outputs aren't moveable.\n+\t(find_moveable_store): Likewise.\n+\n 2001-04-15  Jim Wilson  <wilson@redhat.com>\n \n \t* function.c (expand_function_end): Handle PARALLEL real_decl_rtl."}, {"sha": "56117f9a170eb56dad493367045d048cdb6ba0c5", "filename": "gcc/gcse.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f54104df4e03a710acc8b1789d5719bbcf981ff0/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f54104df4e03a710acc8b1789d5719bbcf981ff0/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=f54104df4e03a710acc8b1789d5719bbcf981ff0", "patch": "@@ -6264,7 +6264,8 @@ compute_ld_motion_mems ()\n \t\t    {\n \t\t      ptr = ldst_entry (dest);\n \t\t      \n-\t\t      if (GET_CODE (src) != MEM)\n+\t\t      if (GET_CODE (src) != MEM\n+\t\t\t  && GET_CODE (src) != ASM_OPERANDS)\n \t\t\tptr->stores = alloc_INSN_LIST (insn, ptr->stores);\n \t\t      else\n \t\t\tptr->invalid = 1;\n@@ -6521,7 +6522,8 @@ find_moveable_store (insn)\n   struct ls_expr * ptr;\n   rtx dest = PATTERN (insn);\n \n-  if (GET_CODE (dest) != SET)\n+  if (GET_CODE (dest) != SET\n+      || GET_CODE (SET_SRC (dest)) == ASM_OPERANDS)\n     return;\n \n   dest = SET_DEST (dest);"}]}