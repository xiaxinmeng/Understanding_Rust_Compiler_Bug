{"sha": "e905ac64c06a8a90b9303d66078484723b40fb4c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTkwNWFjNjRjMDZhOGE5MGI5MzAzZDY2MDc4NDg0NzIzYjQwZmI0Yw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2005-04-03T22:08:12Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2005-04-03T22:08:12Z"}, "message": "builtins.def (BUILT_IN_STPNCPY, [...]): New.\n\n\t* builtins.def (BUILT_IN_STPNCPY, BUILT_IN_STRCASECMP,\n\tBUILT_IN_STRNCASECMP): New.\n\t* doc/extend.texi: Document stpncpy, strcasecmp, strncasecmp\n\tand strndup.\n\ntestsuite:\n\t* gcc.dg/nonnull-3.c: Also test __builtin_stpncpy,\n\t__builtin_strcasecmp and __builtin_strncasecmp.\n\nFrom-SVN: r97498", "tree": {"sha": "0e143875b137f913f71d7d321b1c7974b63d6eeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e143875b137f913f71d7d321b1c7974b63d6eeb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e905ac64c06a8a90b9303d66078484723b40fb4c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e905ac64c06a8a90b9303d66078484723b40fb4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e905ac64c06a8a90b9303d66078484723b40fb4c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e905ac64c06a8a90b9303d66078484723b40fb4c/comments", "author": null, "committer": null, "parents": [{"sha": "a5d58aeb44c19ae40182d2c090904b1d85262def", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a5d58aeb44c19ae40182d2c090904b1d85262def", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a5d58aeb44c19ae40182d2c090904b1d85262def"}], "stats": {"total": 32, "additions": 29, "deletions": 3}, "files": [{"sha": "330c4b2fadafad65d55d593801976210d41e618b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e905ac64c06a8a90b9303d66078484723b40fb4c", "patch": "@@ -1,3 +1,10 @@\n+2005-04-03  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* builtins.def (BUILT_IN_STPNCPY, BUILT_IN_STRCASECMP,\n+\tBUILT_IN_STRNCASECMP): New.\n+\t* doc/extend.texi: Document stpncpy, strcasecmp, strncasecmp\n+\tand strndup.\n+\n 2005-04-03  Richard Earnshaw  <richard.earnshaw@arm.com>\n \n \tPR target/14812"}, {"sha": "c7cfb083ec42bd5c1d2c2d4542ef5e8e4b3ac60d", "filename": "gcc/builtins.def", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Fbuiltins.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Fbuiltins.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.def?ref=e905ac64c06a8a90b9303d66078484723b40fb4c", "patch": "@@ -462,6 +462,8 @@ DEF_EXT_LIB_BUILTIN    (BUILT_IN_MEMPCPY, \"mempcpy\", BT_FN_PTR_PTR_CONST_PTR_SIZ\n DEF_LIB_BUILTIN        (BUILT_IN_MEMSET, \"memset\", BT_FN_PTR_PTR_INT_SIZE, ATTR_NOTHROW_NONNULL)\n DEF_EXT_LIB_BUILTIN    (BUILT_IN_RINDEX, \"rindex\", BT_FN_STRING_CONST_STRING_INT, ATTR_PURE_NOTHROW_NONNULL)\n DEF_EXT_LIB_BUILTIN    (BUILT_IN_STPCPY, \"stpcpy\", BT_FN_STRING_STRING_CONST_STRING, ATTR_NOTHROW_NONNULL)\n+DEF_EXT_LIB_BUILTIN    (BUILT_IN_STPNCPY, \"stpncpy\", BT_FN_STRING_STRING_CONST_STRING_SIZE, ATTR_NOTHROW_NONNULL)\n+DEF_EXT_LIB_BUILTIN    (BUILT_IN_STRCASECMP, \"strcasecmp\", BT_FN_INT_CONST_STRING_CONST_STRING, ATTR_PURE_NOTHROW_NONNULL)\n DEF_LIB_BUILTIN        (BUILT_IN_STRCAT, \"strcat\", BT_FN_STRING_STRING_CONST_STRING, ATTR_NOTHROW_NONNULL)\n DEF_LIB_BUILTIN        (BUILT_IN_STRCHR, \"strchr\", BT_FN_STRING_CONST_STRING_INT, ATTR_PURE_NOTHROW_NONNULL)\n DEF_LIB_BUILTIN        (BUILT_IN_STRCMP, \"strcmp\", BT_FN_INT_CONST_STRING_CONST_STRING, ATTR_PURE_NOTHROW_NONNULL)\n@@ -470,6 +472,7 @@ DEF_LIB_BUILTIN        (BUILT_IN_STRCSPN, \"strcspn\", BT_FN_SIZE_CONST_STRING_CON\n DEF_EXT_LIB_BUILTIN    (BUILT_IN_STRDUP, \"strdup\", BT_FN_STRING_CONST_STRING, ATTR_MALLOC_NOTHROW_NONNULL)\n DEF_EXT_LIB_BUILTIN    (BUILT_IN_STRNDUP, \"strndup\", BT_FN_STRING_CONST_STRING_SIZE, ATTR_MALLOC_NOTHROW_NONNULL)\n DEF_LIB_BUILTIN        (BUILT_IN_STRLEN, \"strlen\", BT_FN_SIZE_CONST_STRING, ATTR_PURE_NOTHROW_NONNULL)\n+DEF_EXT_LIB_BUILTIN    (BUILT_IN_STRNCASECMP, \"strncasecmp\", BT_FN_INT_CONST_STRING_CONST_STRING_SIZE, ATTR_PURE_NOTHROW_NONNULL)\n DEF_LIB_BUILTIN        (BUILT_IN_STRNCAT, \"strncat\", BT_FN_STRING_STRING_CONST_STRING_SIZE, ATTR_NOTHROW_NONNULL)\n DEF_LIB_BUILTIN        (BUILT_IN_STRNCMP, \"strncmp\", BT_FN_INT_CONST_STRING_CONST_STRING_SIZE, ATTR_PURE_NOTHROW_NONNULL)\n DEF_LIB_BUILTIN        (BUILT_IN_STRNCPY, \"strncpy\", BT_FN_STRING_STRING_CONST_STRING_SIZE, ATTR_NOTHROW_NONNULL)"}, {"sha": "06d700e896e12c673671fcef70f3d57f15e77be6", "filename": "gcc/doc/extend.texi", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Fdoc%2Fextend.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Fdoc%2Fextend.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Fextend.texi?ref=e905ac64c06a8a90b9303d66078484723b40fb4c", "patch": "@@ -4880,6 +4880,8 @@ identifier, or a sequence of member accesses and array references.\n @findex sqrtl\n @findex sscanf\n @findex stpcpy\n+@findex stpncpy\n+@findex strcasecmp\n @findex strcat\n @findex strchr\n @findex strcmp\n@@ -4889,9 +4891,11 @@ identifier, or a sequence of member accesses and array references.\n @findex strfmon\n @findex strftime\n @findex strlen\n+@findex strncasecmp\n @findex strncat\n @findex strncmp\n @findex strncpy\n+@findex strndup\n @findex strpbrk\n @findex strrchr\n @findex strspn\n@@ -4963,9 +4967,10 @@ Outside strict ISO C mode (@option{-ansi}, @option{-std=c89} or\n @code{scalb}, @code{signbit}, @code{signbitf}, @code{signbitl},\n @code{significandf}, @code{significandl}, @code{significand},\n @code{sincosf}, @code{sincosl}, @code{sincos}, @code{stpcpy},\n-@code{strdup}, @code{strfmon}, @code{toascii}, @code{y0f}, @code{y0l},\n-@code{y0}, @code{y1f}, @code{y1l}, @code{y1}, @code{ynf}, @code{ynl} and\n-@code{yn}\n+@code{stpncpy}, @code{strcasecmp}, @code{strdup}, @code{strfmon},\n+@code{strncasecmp}, @code{strndup}, @code{toascii}, @code{y0f},\n+@code{y0l}, @code{y0}, @code{y1f}, @code{y1l}, @code{y1}, @code{ynf},\n+@code{ynl} and @code{yn}\n may be handled as built-in functions.\n All these functions have corresponding versions\n prefixed with @code{__builtin_}, which may be used even in strict C89"}, {"sha": "57946bdbe1dce7da0cb18f11d5b88e1e06b7dfb1", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=e905ac64c06a8a90b9303d66078484723b40fb4c", "patch": "@@ -1,3 +1,8 @@\n+2005-04-03  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* gcc.dg/nonnull-3.c: Also test __builtin_stpncpy,\n+\t__builtin_strcasecmp and __builtin_strncasecmp.\n+\n 2005-04-03  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/20723"}, {"sha": "040248c53aa7a19fe4b6209219d20d6aa0227cf9", "filename": "gcc/testsuite/gcc.dg/nonnull-3.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Ftestsuite%2Fgcc.dg%2Fnonnull-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e905ac64c06a8a90b9303d66078484723b40fb4c/gcc%2Ftestsuite%2Fgcc.dg%2Fnonnull-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fnonnull-3.c?ref=e905ac64c06a8a90b9303d66078484723b40fb4c", "patch": "@@ -33,10 +33,16 @@ foo (void *p, char *s)\n   __builtin_strncat (s, NULL, 16);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_stpcpy (NULL, s);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_stpcpy (s, NULL);  /* { dg-warning \"null\" \"null pointer check\" } */\n+  __builtin_stpncpy (NULL, s, 16);  /* { dg-warning \"null\" \"null pointer check\" } */\n+  __builtin_stpncpy (s, NULL, 16);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_strcpy (NULL, s);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_strcpy (s, NULL);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_strncpy (NULL, s, 16);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_strncpy (s, NULL, 16);  /* { dg-warning \"null\" \"null pointer check\" } */\n+  __builtin_strcasecmp (NULL, s);  /* { dg-warning \"null\" \"null pointer check\" } */\n+  __builtin_strcasecmp (s, NULL);  /* { dg-warning \"null\" \"null pointer check\" } */\n+  __builtin_strncasecmp (NULL, s, 16);  /* { dg-warning \"null\" \"null pointer check\" } */\n+  __builtin_strncasecmp (s, NULL, 16);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_strcmp (NULL, s);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_strcmp (s, NULL);  /* { dg-warning \"null\" \"null pointer check\" } */\n   __builtin_strncmp (NULL, s, 16);  /* { dg-warning \"null\" \"null pointer check\" } */"}]}