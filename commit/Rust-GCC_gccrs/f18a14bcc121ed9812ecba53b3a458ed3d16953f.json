{"sha": "f18a14bcc121ed9812ecba53b3a458ed3d16953f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjE4YTE0YmNjMTIxZWQ5ODEyZWNiYTUzYjNhNDU4ZWQzZDE2OTUzZg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-08-26T04:19:52Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-08-26T04:19:52Z"}, "message": "decl.c (grokdeclarator): Amend comment.\n\n\t* decl.c (grokdeclarator): Amend comment.\n\t* except.c (expand_start_catch_block): Call push_template_decl for\n\tcatch-block parameters.\n\t* method.c (synthesize_method): Build an empty compound statement\n\tfor the body of a constructor.\n\nFrom-SVN: r28888", "tree": {"sha": "c53bd3b828bb517a2846eccbd4ea66b2c560cc23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c53bd3b828bb517a2846eccbd4ea66b2c560cc23"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f18a14bcc121ed9812ecba53b3a458ed3d16953f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f18a14bcc121ed9812ecba53b3a458ed3d16953f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f18a14bcc121ed9812ecba53b3a458ed3d16953f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f18a14bcc121ed9812ecba53b3a458ed3d16953f/comments", "author": null, "committer": null, "parents": [{"sha": "b06167fcc48be5a7b709cc031b5f6ab29c2c6d33", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b06167fcc48be5a7b709cc031b5f6ab29c2c6d33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b06167fcc48be5a7b709cc031b5f6ab29c2c6d33"}], "stats": {"total": 35, "additions": 30, "deletions": 5}, "files": [{"sha": "3fa07ec03a993e450661c6c8b5dcb011a3f2d5f6", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=f18a14bcc121ed9812ecba53b3a458ed3d16953f", "patch": "@@ -1,3 +1,11 @@\n+1999-08-25  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* decl.c (grokdeclarator): Amend comment.\n+\t* except.c (expand_start_catch_block): Call push_template_decl for\n+\tcatch-block parameters.\n+\t* method.c (synthesize_method): Build an empty compound statement\n+\tfor the body of a constructor.\n+\n 1999-08-25  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* tree.c (cp_build_qualified_type_real): If we're asking for the"}, {"sha": "8d929aded99ea2abc1b8f5bdaabf1fac20baafaf", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=f18a14bcc121ed9812ecba53b3a458ed3d16953f", "patch": "@@ -11067,10 +11067,8 @@ grokdeclarator (declarator, declspecs, decl_context, initialized, attrlist)\n \n \t    if (staticp)\n \t      {\n-\t\t/* C++ allows static class members.\n-\t\t   All other work for this is done by grokfield.\n-\t\t   This VAR_DECL is built by build_lang_decl.\n-\t\t   All other VAR_DECLs are built by build_decl.  */\n+\t\t/* C++ allows static class members.  All other work\n+\t\t   for this is done by grokfield.  */\n \t\tdecl = build_lang_decl (VAR_DECL, declarator, type);\n \t\tTREE_STATIC (decl) = 1;\n \t\t/* In class context, 'static' means public access.  */"}, {"sha": "4f8ad7b52f95a5c288bf02437e6091d00c116f2c", "filename": "gcc/cp/except.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fexcept.c?ref=f18a14bcc121ed9812ecba53b3a458ed3d16953f", "patch": "@@ -524,6 +524,8 @@ expand_start_catch_block (declspecs, declarator)\n \t{\n \t  decl = grokdeclarator (declarator, declspecs, CATCHPARM,\n \t\t\t\t 1, NULL_TREE);\n+\t  if (processing_template_decl)\n+\t    decl = push_template_decl (decl);\n \t  pushdecl (decl);\n \t  add_decl_stmt (decl);\n \t}"}, {"sha": "e39da7e8643cb402327f4e180d3ed27f623446d9", "filename": "gcc/cp/method.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2Fmethod.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Fcp%2Fmethod.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fmethod.c?ref=f18a14bcc121ed9812ecba53b3a458ed3d16953f", "patch": "@@ -2386,7 +2386,13 @@ synthesize_method (fndecl)\n       if (arg_chain != void_list_node)\n \tdo_build_copy_constructor (fndecl);\n       else if (TYPE_NEEDS_CONSTRUCTING (current_class_type))\n-\tsetup_vtbl_ptr ();\n+\t{\n+\t  tree compound_stmt;\n+\n+\t  setup_vtbl_ptr ();\n+\t  compound_stmt = begin_compound_stmt (/*has_no_scope=*/0);\n+\t  finish_compound_stmt (/*has_no_scope=*/0, compound_stmt);\n+\t}\n     }\n \n   finish_function (lineno, 0, nested);"}, {"sha": "1f799810d1019c9c34bd78ab32699a84b2ee99c6", "filename": "gcc/testsuite/g++.old-deja/g++.eh/tmpl4.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Ftmpl4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f18a14bcc121ed9812ecba53b3a458ed3d16953f/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Ftmpl4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Ftmpl4.C?ref=f18a14bcc121ed9812ecba53b3a458ed3d16953f", "patch": "@@ -0,0 +1,11 @@\n+// Build don't link:\n+// Origin: Mark Mitchell <mark@codesourcery.com>\n+\n+template <class T> void test(){\n+  try {\n+  }\n+  catch(int x){\n+  }\n+}\n+\n+template void test<int>();"}]}