{"sha": "010af1040bcf4870c8f1aac88a7b1538f622858b", "node_id": "C_kwDOANBUbNoAKDAxMGFmMTA0MGJjZjQ4NzBjOGYxYWFjODhhN2IxNTM4ZjYyMjg1OGI", "commit": {"author": {"name": "Palmer Dabbelt", "email": "palmer@rivosinc.com", "date": "2022-05-04T00:27:15Z"}, "committer": {"name": "Palmer Dabbelt", "email": "palmer@rivosinc.com", "date": "2022-05-13T16:54:12Z"}, "message": "testsuite: btf: Fix btf-datasec-1.c for RISC-V\n\nSimilar to 37e65643d3e (\"testsuite/101269: fix testcase when used with\n-m32\"), RISC-V needs to be told not to put symbols in the\nsdata/srodata/sbss sections.\n\ngcc/testsuite/ChangeLog\n\n\t* gcc.dg/debug/btf/btf-datasec-1.c: Don't use small data on RISC-V.", "tree": {"sha": "decaac20c750356bee39899695eef4b77531bdda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/decaac20c750356bee39899695eef4b77531bdda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/010af1040bcf4870c8f1aac88a7b1538f622858b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJHBAABCAAxFiEEKzw3R0RoQ7JKlDp6LhMZ81+7GIkFAmJ+jUMTHHBhbG1lckBk\nYWJiZWx0LmNvbQAKCRAuExnzX7sYicvEEACSvCk3yfJ3iWIuw1Cvoen8UvEl2r3x\nXOSAIrfaLFhvZEgBqhFA9u3uAyzMPJFYy4X+uVYrbM4bnFuyaRI87PrjBqBjfZVS\nRM3Le6Kcp3TW1BMD9JalSIr/Kdj60lZ9qlKSTD/zLWLVfxDG29n59aAkq6Td8ca5\nB4SnproSOEW1ph1/NA8poI79Mu2eESptHQ2Ly84yiYbcHgSt8GJ4/cfXVVO1q6pS\n1kkLARr0Tl5cJtEhbxZKLYmYEJ4rLsDctbaqtRaXJSfzchhNM2UutwmatBHPbi8c\nq2OrVjQn0Edyyf95sxLhvAEPHQEjmpZJOwJdmQPGNT20xA/UWI0V8TnD61ATG6Hw\nCq9gg0Req6K1aHenv/W93h5QDwf5lexInyj1LAw+btU9hdkF9wqoXsFE1skUYA4w\nntu6TKoh6Ppb2VG+zrmdAWaJWlD2xESzAH9+BBH3Zh26gEbAHtNe/kQe5PBBgfOf\nb3rUMdRn7uqhV6AMx+vB9/lOXaYMR0as/EVVJAW5XN16WEARh1WbKlqJhQaLFscc\nhEjw7m0qfeniaWAS1X6nOLvVZSWfuaCFjLM5Xs9Ggzibolg42Q5k0ygxU9IJaRTX\n+aGdGNqv2QWNSsMOu6+ePKuzpJJBAJZx64VO4jtM8BdtMc74290PyEnMBq9ZsHGf\nQmJYsAff8lsbJg==\n=5iVj\n-----END PGP SIGNATURE-----", "payload": "tree decaac20c750356bee39899695eef4b77531bdda\nparent dc32901a0221a43e121591b9819b4e33bcc2fd0a\nauthor Palmer Dabbelt <palmer@rivosinc.com> 1651624035 -0700\ncommitter Palmer Dabbelt <palmer@rivosinc.com> 1652460852 -0700\n\ntestsuite: btf: Fix btf-datasec-1.c for RISC-V\n\nSimilar to 37e65643d3e (\"testsuite/101269: fix testcase when used with\n-m32\"), RISC-V needs to be told not to put symbols in the\nsdata/srodata/sbss sections.\n\ngcc/testsuite/ChangeLog\n\n\t* gcc.dg/debug/btf/btf-datasec-1.c: Don't use small data on RISC-V.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/010af1040bcf4870c8f1aac88a7b1538f622858b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/010af1040bcf4870c8f1aac88a7b1538f622858b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/010af1040bcf4870c8f1aac88a7b1538f622858b/comments", "author": {"login": "palmer-dabbelt", "id": 1383006, "node_id": "MDQ6VXNlcjEzODMwMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1383006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/palmer-dabbelt", "html_url": "https://github.com/palmer-dabbelt", "followers_url": "https://api.github.com/users/palmer-dabbelt/followers", "following_url": "https://api.github.com/users/palmer-dabbelt/following{/other_user}", "gists_url": "https://api.github.com/users/palmer-dabbelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/palmer-dabbelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/palmer-dabbelt/subscriptions", "organizations_url": "https://api.github.com/users/palmer-dabbelt/orgs", "repos_url": "https://api.github.com/users/palmer-dabbelt/repos", "events_url": "https://api.github.com/users/palmer-dabbelt/events{/privacy}", "received_events_url": "https://api.github.com/users/palmer-dabbelt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "palmer-dabbelt", "id": 1383006, "node_id": "MDQ6VXNlcjEzODMwMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1383006?v=4", "gravatar_id": "", "url": "https://api.github.com/users/palmer-dabbelt", "html_url": "https://github.com/palmer-dabbelt", "followers_url": "https://api.github.com/users/palmer-dabbelt/followers", "following_url": "https://api.github.com/users/palmer-dabbelt/following{/other_user}", "gists_url": "https://api.github.com/users/palmer-dabbelt/gists{/gist_id}", "starred_url": "https://api.github.com/users/palmer-dabbelt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/palmer-dabbelt/subscriptions", "organizations_url": "https://api.github.com/users/palmer-dabbelt/orgs", "repos_url": "https://api.github.com/users/palmer-dabbelt/repos", "events_url": "https://api.github.com/users/palmer-dabbelt/events{/privacy}", "received_events_url": "https://api.github.com/users/palmer-dabbelt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc32901a0221a43e121591b9819b4e33bcc2fd0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc32901a0221a43e121591b9819b4e33bcc2fd0a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc32901a0221a43e121591b9819b4e33bcc2fd0a"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "77df88648c54ded6f9d06649f3dad8dc826ee253", "filename": "gcc/testsuite/gcc.dg/debug/btf/btf-datasec-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/010af1040bcf4870c8f1aac88a7b1538f622858b/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fbtf%2Fbtf-datasec-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/010af1040bcf4870c8f1aac88a7b1538f622858b/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fbtf%2Fbtf-datasec-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fdebug%2Fbtf%2Fbtf-datasec-1.c?ref=010af1040bcf4870c8f1aac88a7b1538f622858b", "patch": "@@ -12,6 +12,7 @@\n /* { dg-do compile )  */\n /* { dg-options \"-O0 -gbtf -dA\" } */\n /* { dg-options \"-O0 -gbtf -dA -msdata=none\" { target { { powerpc*-*-* } && ilp32 } } } */\n+/* { dg-options \"-O0 -gbtf -dA -msmall-data-limit=0\" { target { riscv*-*-* } } } */\n /* { dg-options \"-O0 -gbtf -dA -G0\" { target { nios2-*-* } } } */\n \n /* Check for two DATASEC entries with vlen 3, and one with vlen 1.  */"}]}