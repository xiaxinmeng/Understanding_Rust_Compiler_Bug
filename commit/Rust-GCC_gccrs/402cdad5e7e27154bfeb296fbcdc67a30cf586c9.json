{"sha": "402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDAyY2RhZDVlN2UyNzE1NGJmZWIyOTZmYmNkYzY3YTMwY2Y1ODZjOQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "1998-07-17T15:00:11Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "1998-07-17T15:00:11Z"}, "message": "alloca.c: Respect USE_C_ALLOCA.\n\n        * alloca.c: Respect USE_C_ALLOCA.\n        * gencheck.c (xmalloc): Ignore __GNUC__ for definition.\n        * gengenrtl.c (xmalloc): Likewise.\n\nFrom-SVN: r21264", "tree": {"sha": "80b89240a48844dc4084342e504e7630722b7734", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/80b89240a48844dc4084342e504e7630722b7734"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/comments", "author": null, "committer": null, "parents": [{"sha": "45f97e2e08b016d585fd38f932ee7d2ca9302acf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45f97e2e08b016d585fd38f932ee7d2ca9302acf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45f97e2e08b016d585fd38f932ee7d2ca9302acf"}], "stats": {"total": 29, "additions": 17, "deletions": 12}, "files": [{"sha": "b7fbd76f363490449e586849fc0250d450e993a8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "patch": "@@ -1,3 +1,9 @@\n+Fri Jul 17 14:58:44 1998  Richard Henderson  <rth@cygnus.com>\n+\n+\t* alloca.c: Respect USE_C_ALLOCA.\n+\t* gencheck.c (xmalloc): Ignore __GNUC__ for definition.\n+\t* gengenrtl.c (xmalloc): Likewise.\n+\n Fri Jul 17 14:18:14 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* loop.h (struct induction): Add no_const_addval."}, {"sha": "0f8a21511db8f5112a4042762f6f8f0c4d5e5658", "filename": "gcc/alloca.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2Falloca.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2Falloca.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Falloca.c?ref=402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "patch": "@@ -36,8 +36,9 @@\n #include \"blockinput.h\"\n #endif\n \n-/* If compiling with GCC 2, this file's not needed.  */\n-#if !defined (__GNUC__) || __GNUC__ < 2\n+/* If compiling with GCC 2, this file's not needed.  Except of course if\n+   the C alloca is explicitly requested.  */\n+#if defined (USE_C_ALLOCA) || !defined (__GNUC__) || __GNUC__ < 2\n \n /* If someone has defined alloca as a macro,\n    there must be some other way alloca is supposed to work.  */"}, {"sha": "e53f4ab7ad5c9e8902e38955cfa0deb481e64ca8", "filename": "gcc/gencheck.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2Fgencheck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2Fgencheck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgencheck.c?ref=402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "patch": "@@ -61,7 +61,7 @@ int main (argc, argv)\n   return 0;\n }\n \n-#if defined(USE_C_ALLOCA) && !defined(__GNUC__)\n+#if defined(USE_C_ALLOCA)\n /* FIXME: We only need an xmalloc definition because we are forced to\n    link with alloca.o on some platforms.  This should go away if/when\n    we link against libiberty.a. (ghazi@caip.rutgers.edu 6/3/98) */\n@@ -73,10 +73,11 @@ xmalloc (nbytes)\n \n   if (!tmp)\n     {\n-      fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\", nbytes);\n+      fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\",\n+\t       nbytes);\n       exit (FATAL_EXIT_CODE);\n     }\n \n   return tmp;\n }\n-#endif /* USE_C_ALLOCA && !__GNUC__ */\n+#endif /* USE_C_ALLOCA */"}, {"sha": "73eb39d79635335b683d94650b4d6b4d7e82a530", "filename": "gcc/gengenrtl.c", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2Fgengenrtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/402cdad5e7e27154bfeb296fbcdc67a30cf586c9/gcc%2Fgengenrtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgengenrtl.c?ref=402cdad5e7e27154bfeb296fbcdc67a30cf586c9", "patch": "@@ -22,10 +22,6 @@ Boston, MA 02111-1307, USA.  */\n #include \"hconfig.h\"\n #include \"system.h\"\n \n-#include \"obstack.h\"\n-#define\tobstack_chunk_alloc\txmalloc\n-#define\tobstack_chunk_free\tfree\n-\n #define NO_GENRTL_H\n #include \"rtl.h\"\n \n@@ -284,7 +280,7 @@ gencode (f)\n     gendef (f, *fmt);\n }\n \n-#if defined(USE_C_ALLOCA) && !defined(__GNUC__)\n+#if defined(USE_C_ALLOCA)\n char *\n xmalloc (nbytes)\n      int nbytes;\n@@ -293,13 +289,14 @@ xmalloc (nbytes)\n \n   if (!tmp)\n     {\n-      fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\", nbytes);\n+      fprintf (stderr, \"can't allocate %d bytes (out of virtual memory)\\n\",\n+\t       nbytes);\n       exit (FATAL_EXIT_CODE);\n     }\n \n   return tmp;\n }\n-#endif /* USE_C_ALLOCA && !__GNUC__ */\n+#endif /* USE_C_ALLOCA */\n \n int\n main(argc, argv)"}]}