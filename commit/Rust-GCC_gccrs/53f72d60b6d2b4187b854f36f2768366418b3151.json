{"sha": "53f72d60b6d2b4187b854f36f2768366418b3151", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTNmNzJkNjBiNmQyYjQxODdiODU0ZjM2ZjI3NjgzNjY0MThiMzE1MQ==", "commit": {"author": {"name": "Per Bothner", "email": "pbothner@apple.com", "date": "2003-07-22T23:10:22Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "2003-07-22T23:10:22Z"}, "message": "diagnostic.c. (diagnostic_report_current_module): Update to match 2003-06-05 changes to push_srcloc and pop_srcloc.\n\n\n\t* diagnostic.c.(diagnostic_report_current_module):  Update to match\n\t2003-06-05 changes to push_srcloc and pop_srcloc.\n\nFrom-SVN: r69687", "tree": {"sha": "3d7e2d566c0348ce538f6bff685f41747c37cd41", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d7e2d566c0348ce538f6bff685f41747c37cd41"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53f72d60b6d2b4187b854f36f2768366418b3151", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53f72d60b6d2b4187b854f36f2768366418b3151", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53f72d60b6d2b4187b854f36f2768366418b3151", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53f72d60b6d2b4187b854f36f2768366418b3151/comments", "author": null, "committer": null, "parents": [{"sha": "e81f8786c2d4249f26bd5e2d908dc2a2cd634524", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e81f8786c2d4249f26bd5e2d908dc2a2cd634524", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e81f8786c2d4249f26bd5e2d908dc2a2cd634524"}], "stats": {"total": 25, "additions": 14, "deletions": 11}, "files": [{"sha": "21263c2869400298d898d5aec9dd94a1354e3ff3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53f72d60b6d2b4187b854f36f2768366418b3151/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53f72d60b6d2b4187b854f36f2768366418b3151/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=53f72d60b6d2b4187b854f36f2768366418b3151", "patch": "@@ -1,3 +1,8 @@\n+2003-07-22  Per Bothner  <pbothner@apple.com>\n+\n+\t* diagnostic.c.(diagnostic_report_current_module):  Update to match\n+\t2003-06-05 changes to push_srcloc and pop_srcloc.\n+\n 2003-07-22  Wolfgang Bangerth  <bangerth@dealii.org>\n \n \t* doc/trouble.texi: Better document two-stage name lookup."}, {"sha": "be4b03cc7dd79bb5134f90141d129455deee9fcf", "filename": "gcc/diagnostic.c", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53f72d60b6d2b4187b854f36f2768366418b3151/gcc%2Fdiagnostic.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53f72d60b6d2b4187b854f36f2768366418b3151/gcc%2Fdiagnostic.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdiagnostic.c?ref=53f72d60b6d2b4187b854f36f2768366418b3151", "patch": "@@ -978,18 +978,16 @@ diagnostic_report_current_module (diagnostic_context *context)\n       output_needs_newline (&context->buffer) = false;\n     }\n \n-  if (input_file_stack && input_file_stack->next != 0\n-      && diagnostic_last_module_changed (context))\n+  if (input_file_stack && diagnostic_last_module_changed (context))\n     {\n-      for (p = input_file_stack->next; p; p = p->next)\n-\tif (p == input_file_stack->next)\n-\t  output_verbatim (&context->buffer,\n-                           \"In file included from %s:%d\",\n-\t\t\t   p->location.file, p->location.line);\n-\telse\n-\t  output_verbatim (&context->buffer,\n-                           \",\\n                 from %s:%d\",\n-\t\t\t   p->location.file, p->location.line);\n+      p = input_file_stack;\n+      output_verbatim (&context->buffer,\n+\t\t       \"In file included from %s:%d\",\n+\t\t       p->location.file, p->location.line);\n+      while ((p = p->next) != NULL)\n+\toutput_verbatim (&context->buffer,\n+\t\t\t \",\\n                 from %s:%d\",\n+\t\t\t p->location.file, p->location.line);\n       output_verbatim (&context->buffer, \":\\n\");\n       diagnostic_set_last_module (context);\n     }"}]}