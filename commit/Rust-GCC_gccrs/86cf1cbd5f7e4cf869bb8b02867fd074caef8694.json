{"sha": "86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZjZjFjYmQ1ZjdlNGNmODY5YmI4YjAyODY3ZmQwNzRjYWVmODY5NA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2000-04-26T00:03:37Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2000-04-26T00:03:37Z"}, "message": "aclocal.m4 (gcc_AC_NEED_DECLARATION): This macro now requires INCLUDES to search and does not provide any of its own.\n\n       * aclocal.m4 (gcc_AC_NEED_DECLARATION): This macro now requires\n       INCLUDES to search and does not provide any of its own.  Also it\n       now accepts optional ACTION-IF-NEEDED and ACTION-IF-NOT-NEEDED\n       parameters.  Also it does not call AC_DEFINE.\n       (gcc_AC_NEED_DECLARATIONS): Likewise.  Also this macro now calls\n       AC_DEFINE and provides for automatic entries for autoheader.\n       (gcc_AC_FUNC_PRINTF_PTR): Cleanup C code in test.\n\n       * configure.in (gcc_AC_NEED_DECLARATIONS): Save and restore CFLAGS\n       so we can pass -I flags and include gansidecl.h/system.h in this\n       test.\n\n       * acconfig.h: Delete all NEED_DECLARATION_* entries.\n\nFrom-SVN: r33428", "tree": {"sha": "7527fe573b9186c6c89e984b8638b44c3877d5ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7527fe573b9186c6c89e984b8638b44c3877d5ed"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/comments", "author": null, "committer": null, "parents": [{"sha": "62076024ce4f6f781b484ff049f78354a2b041b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/62076024ce4f6f781b484ff049f78354a2b041b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/62076024ce4f6f781b484ff049f78354a2b041b9"}], "stats": {"total": 795, "additions": 343, "deletions": 452}, "files": [{"sha": "9f19de88ff923abe0d7af22bb6c068c405113a31", "filename": "gcc/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "patch": "@@ -1,3 +1,19 @@\n+2000-04-25  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* aclocal.m4 (gcc_AC_NEED_DECLARATION): This macro now requires\n+\tINCLUDES to search and does not provide any of its own.  Also it\n+\tnow accepts optional ACTION-IF-NEEDED and ACTION-IF-NOT-NEEDED\n+\tparameters.  Also it does not call AC_DEFINE.\n+\t(gcc_AC_NEED_DECLARATIONS): Likewise.  Also this macro now calls\n+\tAC_DEFINE and provides for automatic entries for autoheader.\n+\t(gcc_AC_FUNC_PRINTF_PTR): Cleanup C code in test.\n+\n+\t* configure.in (gcc_AC_NEED_DECLARATIONS): Save and restore CFLAGS\n+\tso we can pass -I flags and include gansidecl.h/system.h in this\n+\ttest.\n+\n+\t* acconfig.h: Delete all NEED_DECLARATION_* entries.\n+\n 2000-04-25  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n         * acconfig.h (ENABLE_STD_NAMESPACE, ENABLE_CHECKING,"}, {"sha": "5418b1a0d16c90387067d4eaf606996a541851af", "filename": "gcc/acconfig.h", "status": "modified", "additions": 6, "deletions": 78, "changes": 84, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Facconfig.h?ref=86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "patch": "@@ -7,6 +7,12 @@\n /* Define as 1 if you have gettext and don't want to use GNU gettext.  */\n #undef HAVE_GETTEXT\n \n+/* Define if your locale.h file contains LC_MESSAGES.  */\n+#undef HAVE_LC_MESSAGES\n+\n+/* Define as 1 if you have the stpcpy function.  */\n+#undef HAVE_STPCPY\n+\n /* Define if your assembler supports specifying the maximum number\n    of bytes to skip when using the GAS .p2align command. */\n #undef HAVE_GAS_MAX_SKIP_P2ALIGN\n@@ -17,82 +23,4 @@\n /* Define if your assembler uses the old HImode fild and fist notation.  */\n #undef HAVE_GAS_FILDS_FISTS\n \n-/* Define if your locale.h file contains LC_MESSAGES.  */\n-#undef HAVE_LC_MESSAGES\n-\n-/* Define as 1 if you have the stpcpy function.  */\n-#undef HAVE_STPCPY\n-\n-/* Whether malloc must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_MALLOC\n-\n-/* Whether realloc must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_REALLOC\n-\n-/* Whether calloc must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_CALLOC\n-\n-/* Whether free must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_FREE\n-\n-/* Whether bcopy must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_BCOPY\n-\n-/* Whether bcmp must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_BCMP\n-\n-/* Whether bzero must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_BZERO\n-\n-/* Whether index must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_INDEX\n-\n-/* Whether rindex must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_RINDEX\n-\n-/* Whether getenv must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_GETENV\n-\n-/* Whether atol must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_ATOL\n-\n-/* Whether atof must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_ATOF\n-\n-/* Whether sbrk must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_SBRK\n-\n-/* Whether abort must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_ABORT\n-\n-/* Whether strsignal must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_STRSIGNAL\n-\n-/* Whether strstr must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_STRSTR\n-\n-/* Whether getcwd must be declared even if <unistd.h> is included.  */\n-#undef NEED_DECLARATION_GETCWD\n-\n-/* Whether getwd must be declared even if <unistd.h> is included.  */\n-#undef NEED_DECLARATION_GETWD\n-\n-/* Whether getrlimit must be declared even if <sys/resource.h> is included.  */\n-#undef NEED_DECLARATION_GETRLIMIT\n-\n-/* Whether setrlimit must be declared even if <sys/resource.h> is included.  */\n-#undef NEED_DECLARATION_SETRLIMIT\n-\n-/* Whether getrusage must be declared even if <sys/resource.h> is included.  */\n-#undef NEED_DECLARATION_GETRUSAGE\n-\n-/* Whether putc_unlocked must be declared even if <stdio.h> is included.  */\n-#undef NEED_DECLARATION_PUTC_UNLOCKED\n-\n-/* Whether fputs_unlocked must be declared even if <stdio.h> is included.  */\n-#undef NEED_DECLARATION_FPUTS_UNLOCKED\n-\n-/* Whether environ must be declared.  */\n-#undef NEED_DECLARATION_ENVIRON\n-\n @TOP@"}, {"sha": "6e8e7556f186eb5d3f763de96b8b2f16434ce801", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 27, "deletions": 42, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "patch": "@@ -10,59 +10,44 @@ fi\n ])\n \n dnl See whether we need a declaration for a function.\n-dnl gcc_AC_NEED_DECLARATION(FUNCTION [, EXTRA-HEADER-FILES])\n+dnl The result is highly dependent on the INCLUDES passed in, so make sure\n+dnl to use a different cache variable name in this macro if it is invoked\n+dnl in a different context somewhere else.\n+dnl gcc_AC_NEED_DECLARATION(FUNCTION, INCLUDES,\n+dnl\t[ACTION-IF-NEEDED [, ACTION-IF-NOT-NEEDED]])\n AC_DEFUN(gcc_AC_NEED_DECLARATION,\n [AC_MSG_CHECKING([whether $1 must be declared])\n AC_CACHE_VAL(gcc_cv_decl_needed_$1,\n-[AC_TRY_COMPILE([\n-#include <stdio.h>\n-#ifdef STRING_WITH_STRINGS\n-# include <string.h>\n-# include <strings.h>\n-#else\n-# ifdef HAVE_STRING_H\n-#  include <string.h>\n-# else\n-#  ifdef HAVE_STRINGS_H\n-#   include <strings.h>\n-#  endif\n-# endif\n-#endif\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifndef HAVE_RINDEX\n-#ifndef rindex\n-#define rindex strrchr\n-#endif\n-#endif\n-#ifndef HAVE_INDEX\n-#ifndef index\n-#define index strchr\n-#endif\n-#endif\n-$2],\n-[char *(*pfn) = (char *(*)) $1],\n-eval \"gcc_cv_decl_needed_$1=no\", eval \"gcc_cv_decl_needed_$1=yes\")])\n+[AC_TRY_COMPILE([$2],\n+[#ifndef $1\n+char *(*pfn) = (char *(*)) $1 ;\n+#endif], eval \"gcc_cv_decl_needed_$1=no\", eval \"gcc_cv_decl_needed_$1=yes\")])\n if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$1`\\\" = yes\"; then\n-  AC_MSG_RESULT(yes)\n-  gcc_tr_decl=NEED_DECLARATION_`echo $1 | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n-  AC_DEFINE_UNQUOTED($gcc_tr_decl)\n+  AC_MSG_RESULT(yes) ; ifelse([$3], , :, [$3])\n else\n-  AC_MSG_RESULT(no)\n+  AC_MSG_RESULT(no) ; ifelse([$4], , :, [$4])\n fi\n ])dnl\n \n dnl Check multiple functions to see whether each needs a declaration.\n-dnl gcc_AC_NEED_DECLARATIONS(FUNCTION... [, EXTRA-HEADER-FILES])\n+dnl Arrange to define NEED_DECLARATION_<FUNCTION> if appropriate.\n+dnl gcc_AC_NEED_DECLARATIONS(FUNCTION... , INCLUDES,\n+dnl\t[ACTION-IF-NEEDED [, ACTION-IF-NOT-NEEDED]])\n AC_DEFUN(gcc_AC_NEED_DECLARATIONS,\n [for ac_func in $1\n do\n-gcc_AC_NEED_DECLARATION($ac_func, $2)\n+gcc_AC_NEED_DECLARATION($ac_func, [$2],\n+[changequote(, )dnl\n+  ac_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+changequote([, ])dnl\n+  AC_DEFINE_UNQUOTED($ac_tr_decl) $3], $4)\n done\n+dnl Automatically generate config.h entries via autoheader.\n+if test x = y ; then\n+  patsubst(translit([$1], [a-z], [A-Z]), [\\w+],\n+    AC_DEFINE([NEED_DECLARATION_\\&], 1,\n+      [Define if you need to provide a declaration for this function.]))dnl\n+fi\n ])\n \n dnl Check if we have vprintf and possibly _doprnt.\n@@ -87,13 +72,13 @@ AC_DEFUN(gcc_AC_FUNC_PRINTF_PTR,\n   gcc_cv_func_printf_ptr,\n [AC_TRY_RUN([#include <stdio.h>\n \n-main()\n+int main()\n {\n   char buf[64];\n   char *p = buf, *q = NULL;\n   sprintf(buf, \"%p\", p);\n   sscanf(buf, \"%p\", &q);\n-  exit (p != q);\n+  return (p != q);\n }], gcc_cv_func_printf_ptr=yes, gcc_cv_func_printf_ptr=no,\n \tgcc_cv_func_printf_ptr=no)\n rm -f core core.* *.core])"}, {"sha": "6cb7da81994db332fa29dd5d16de265629183df7", "filename": "gcc/config.in", "status": "modified", "additions": 78, "deletions": 78, "changes": 156, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "patch": "@@ -8,6 +8,12 @@\n /* Define as 1 if you have gettext and don't want to use GNU gettext.  */\n #undef HAVE_GETTEXT\n \n+/* Define if your locale.h file contains LC_MESSAGES.  */\n+#undef HAVE_LC_MESSAGES\n+\n+/* Define as 1 if you have the stpcpy function.  */\n+#undef HAVE_STPCPY\n+\n /* Define if your assembler supports specifying the maximum number\n    of bytes to skip when using the GAS .p2align command. */\n #undef HAVE_GAS_MAX_SKIP_P2ALIGN\n@@ -18,84 +24,6 @@\n /* Define if your assembler uses the old HImode fild and fist notation.  */\n #undef HAVE_GAS_FILDS_FISTS\n \n-/* Define if your locale.h file contains LC_MESSAGES.  */\n-#undef HAVE_LC_MESSAGES\n-\n-/* Define as 1 if you have the stpcpy function.  */\n-#undef HAVE_STPCPY\n-\n-/* Whether malloc must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_MALLOC\n-\n-/* Whether realloc must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_REALLOC\n-\n-/* Whether calloc must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_CALLOC\n-\n-/* Whether free must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_FREE\n-\n-/* Whether bcopy must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_BCOPY\n-\n-/* Whether bcmp must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_BCMP\n-\n-/* Whether bzero must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_BZERO\n-\n-/* Whether index must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_INDEX\n-\n-/* Whether rindex must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_RINDEX\n-\n-/* Whether getenv must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_GETENV\n-\n-/* Whether atol must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_ATOL\n-\n-/* Whether atof must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_ATOF\n-\n-/* Whether sbrk must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_SBRK\n-\n-/* Whether abort must be declared even if <stdlib.h> is included.  */\n-#undef NEED_DECLARATION_ABORT\n-\n-/* Whether strsignal must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_STRSIGNAL\n-\n-/* Whether strstr must be declared even if <string.h> is included.  */\n-#undef NEED_DECLARATION_STRSTR\n-\n-/* Whether getcwd must be declared even if <unistd.h> is included.  */\n-#undef NEED_DECLARATION_GETCWD\n-\n-/* Whether getwd must be declared even if <unistd.h> is included.  */\n-#undef NEED_DECLARATION_GETWD\n-\n-/* Whether getrlimit must be declared even if <sys/resource.h> is included.  */\n-#undef NEED_DECLARATION_GETRLIMIT\n-\n-/* Whether setrlimit must be declared even if <sys/resource.h> is included.  */\n-#undef NEED_DECLARATION_SETRLIMIT\n-\n-/* Whether getrusage must be declared even if <sys/resource.h> is included.  */\n-#undef NEED_DECLARATION_GETRUSAGE\n-\n-/* Whether putc_unlocked must be declared even if <stdio.h> is included.  */\n-#undef NEED_DECLARATION_PUTC_UNLOCKED\n-\n-/* Whether fputs_unlocked must be declared even if <stdio.h> is included.  */\n-#undef NEED_DECLARATION_FPUTS_UNLOCKED\n-\n-/* Whether environ must be declared.  */\n-#undef NEED_DECLARATION_ENVIRON\n-\n \n /* Define if using alloca.c.  */\n #undef C_ALLOCA\n@@ -385,6 +313,78 @@\n /* Define if read-only mmap of a plain file works. */\n #undef HAVE_MMAP_FILE\n \n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_BCOPY\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_BZERO\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_BCMP\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_INDEX\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_RINDEX\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_GETENV\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_ATOL\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_SBRK\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_ABORT\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_ATOF\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_GETCWD\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_GETWD\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_STRSIGNAL\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_PUTC_UNLOCKED\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_FPUTS_UNLOCKED\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_STRSTR\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_ENVIRON\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_MALLOC\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_REALLOC\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_CALLOC\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_FREE\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_GETRLIMIT\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_SETRLIMIT\n+\n+/* Define if you need to provide a declaration for this function. */\n+#undef NEED_DECLARATION_GETRUSAGE\n+\n /* Define if host mkdir takes a single argument. */\n #undef MKDIR_TAKES_ONE_ARG\n "}, {"sha": "d8d2056253c350006a84920c596de787281b05ea", "filename": "gcc/configure", "status": "modified", "additions": 204, "deletions": 246, "changes": 450, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "patch": "@@ -2445,13 +2445,13 @@ else\n #include \"confdefs.h\"\n #include <stdio.h>\n \n-main()\n+int main()\n {\n   char buf[64];\n   char *p = buf, *q = NULL;\n   sprintf(buf, \"%p\", p);\n   sscanf(buf, \"%p\", &q);\n-  exit (p != q);\n+  return (p != q);\n }\n EOF\n if { (eval echo configure:2458: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n@@ -3003,54 +3003,32 @@ EOF\n fi\n \n \n+# We will need to find libiberty.h and ansidecl.h\n+saved_CFLAGS=\"$CFLAGS\"\n+CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\"\n for ac_func in bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof getcwd getwd \\\n-\tstrsignal putc_unlocked fputs_unlocked strstr environ\n+\tstrsignal putc_unlocked fputs_unlocked strstr environ \\\n+\tmalloc realloc calloc free\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3012: checking whether $ac_func must be declared\" >&5\n+echo \"configure:3016: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3017 \"configure\"\n+#line 3021 \"configure\"\n #include \"confdefs.h\"\n \n-#include <stdio.h>\n-#ifdef STRING_WITH_STRINGS\n-# include <string.h>\n-# include <strings.h>\n-#else\n-# ifdef HAVE_STRING_H\n-#  include <string.h>\n-# else\n-#  ifdef HAVE_STRINGS_H\n-#   include <strings.h>\n-#  endif\n-# endif\n-#endif\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifndef HAVE_RINDEX\n-#ifndef rindex\n-#define rindex strrchr\n-#endif\n-#endif\n-#ifndef HAVE_INDEX\n-#ifndef index\n-#define index strchr\n-#endif\n-#endif\n-\n+#include \"gansidecl.h\"\n+#include \"system.h\"\n int main() {\n-char *(*pfn) = (char *(*)) $ac_func\n+#ifndef $ac_func\n+char *(*pfn) = (char *(*)) $ac_func ;\n+#endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3054: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3032: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3063,143 +3041,110 @@ rm -f conftest*\n fi\n \n if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  echo \"$ac_t\"\"yes\" 1>&6 ;   ac_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n   cat >> confdefs.h <<EOF\n-#define $gcc_tr_decl 1\n+#define $ac_tr_decl 1\n EOF\n-\n+ \n else\n-  echo \"$ac_t\"\"no\" 1>&6\n+  echo \"$ac_t\"\"no\" 1>&6 ; :\n fi\n \n done\n-\n-\n-for ac_func in malloc realloc calloc free\n-do\n-echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3083: checking whether $ac_func must be declared\" >&5\n-if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n-  echo $ac_n \"(cached) $ac_c\" 1>&6\n-else\n-  cat > conftest.$ac_ext <<EOF\n-#line 3088 \"configure\"\n-#include \"confdefs.h\"\n-\n-#include <stdio.h>\n-#ifdef STRING_WITH_STRINGS\n-# include <string.h>\n-# include <strings.h>\n-#else\n-# ifdef HAVE_STRING_H\n-#  include <string.h>\n-# else\n-#  ifdef HAVE_STRINGS_H\n-#   include <strings.h>\n-#  endif\n-# endif\n-#endif\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifndef HAVE_RINDEX\n-#ifndef rindex\n-#define rindex strrchr\n-#endif\n-#endif\n-#ifndef HAVE_INDEX\n-#ifndef index\n-#define index strchr\n-#endif\n-#endif\n-#ifdef HAVE_MALLOC_H\n-#include <malloc.h>\n-#endif\n-\n-int main() {\n-char *(*pfn) = (char *(*)) $ac_func\n-; return 0; }\n-EOF\n-if { (eval echo configure:3128: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n-  rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=no\"\n-else\n-  echo \"configure: failed program was:\" >&5\n-  cat conftest.$ac_ext >&5\n-  rm -rf conftest*\n-  eval \"gcc_cv_decl_needed_$ac_func=yes\"\n-fi\n-rm -f conftest*\n-fi\n-\n-if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+if test x = y ; then\n   cat >> confdefs.h <<EOF\n-#define $gcc_tr_decl 1\n+#define NEED_DECLARATION_BCOPY 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_BZERO 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_BCMP 1\n+EOF\n+ \\\n+\tcat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_INDEX 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_RINDEX 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_GETENV 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_ATOL 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_SBRK 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_ABORT 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_ATOF 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_GETCWD 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_GETWD 1\n+EOF\n+ \\\n+\tcat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_STRSIGNAL 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_PUTC_UNLOCKED 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_FPUTS_UNLOCKED 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_STRSTR 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_ENVIRON 1\n+EOF\n+ \\\n+\tcat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_MALLOC 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_REALLOC 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_CALLOC 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_FREE 1\n EOF\n-\n-else\n-  echo \"$ac_t\"\"no\" 1>&6\n fi\n \n-done\n-\n \n for ac_func in getrlimit setrlimit getrusage\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:3157: checking whether $ac_func must be declared\" >&5\n+echo \"configure:3128: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3162 \"configure\"\n+#line 3133 \"configure\"\n #include \"confdefs.h\"\n \n-#include <stdio.h>\n-#ifdef STRING_WITH_STRINGS\n-# include <string.h>\n-# include <strings.h>\n-#else\n-# ifdef HAVE_STRING_H\n-#  include <string.h>\n-# else\n-#  ifdef HAVE_STRINGS_H\n-#   include <strings.h>\n-#  endif\n-# endif\n-#endif\n-#ifdef HAVE_STDLIB_H\n-#include <stdlib.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-#include <unistd.h>\n-#endif\n-#ifndef HAVE_RINDEX\n-#ifndef rindex\n-#define rindex strrchr\n-#endif\n-#endif\n-#ifndef HAVE_INDEX\n-#ifndef index\n-#define index strchr\n-#endif\n-#endif\n-#include <sys/types.h>\n+#include \"gansidecl.h\"\n+#include \"system.h\"\n #ifdef HAVE_SYS_RESOURCE_H\n #include <sys/resource.h>\n #endif\n \n int main() {\n-char *(*pfn) = (char *(*)) $ac_func\n+#ifndef $ac_func\n+char *(*pfn) = (char *(*)) $ac_func ;\n+#endif\n ; return 0; }\n EOF\n-if { (eval echo configure:3203: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3148: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -3212,27 +3157,40 @@ rm -f conftest*\n fi\n \n if eval \"test \\\"`echo '$gcc_cv_decl_needed_'$ac_func`\\\" = yes\"; then\n-  echo \"$ac_t\"\"yes\" 1>&6\n-  gcc_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+  echo \"$ac_t\"\"yes\" 1>&6 ;   ac_tr_decl=NEED_DECLARATION_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n   cat >> confdefs.h <<EOF\n-#define $gcc_tr_decl 1\n+#define $ac_tr_decl 1\n EOF\n-\n+ \n else\n-  echo \"$ac_t\"\"no\" 1>&6\n+  echo \"$ac_t\"\"no\" 1>&6 ; :\n fi\n \n done\n+if test x = y ; then\n+  cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_GETRLIMIT 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_SETRLIMIT 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define NEED_DECLARATION_GETRUSAGE 1\n+EOF\n+fi\n+\n \n+# Restore CFLAGS from before the gcc_AC_NEED_DECLARATIONS tests.\n+CFLAGS=\"$saved_CFLAGS\"\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:3231: checking if mkdir takes one argument\" >&5\n+echo \"configure:3189: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3236 \"configure\"\n+#line 3194 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -3249,7 +3207,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:3253: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3211: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -6690,15 +6648,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:6694: checking for strerror in -lcposix\" >&5\n+echo \"configure:6652: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 6702 \"configure\"\n+#line 6660 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -6709,7 +6667,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:6713: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6671: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -6732,12 +6690,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:6736: checking for working const\" >&5\n+echo \"configure:6694: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6741 \"configure\"\n+#line 6699 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -6786,7 +6744,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6790: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6748: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -6807,21 +6765,21 @@ EOF\n fi\n \n echo $ac_n \"checking for inline\"\"... $ac_c\" 1>&6\n-echo \"configure:6811: checking for inline\" >&5\n+echo \"configure:6769: checking for inline\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_inline'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_cv_c_inline=no\n for ac_kw in inline __inline__ __inline; do\n   cat > conftest.$ac_ext <<EOF\n-#line 6818 \"configure\"\n+#line 6776 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n } $ac_kw foo() {\n ; return 0; }\n EOF\n-if { (eval echo configure:6825: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6783: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_inline=$ac_kw; break\n else\n@@ -6847,12 +6805,12 @@ EOF\n esac\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6851: checking for off_t\" >&5\n+echo \"configure:6809: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6856 \"configure\"\n+#line 6814 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6880,12 +6838,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:6884: checking for size_t\" >&5\n+echo \"configure:6842: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6889 \"configure\"\n+#line 6847 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -6915,19 +6873,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6919: checking for working alloca.h\" >&5\n+echo \"configure:6877: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6924 \"configure\"\n+#line 6882 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6931: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6889: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6948,12 +6906,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6952: checking for alloca\" >&5\n+echo \"configure:6910: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6957 \"configure\"\n+#line 6915 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6981,7 +6939,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6985: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6943: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -7013,12 +6971,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:7017: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6975: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7022 \"configure\"\n+#line 6980 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -7043,12 +7001,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7047: checking for $ac_func\" >&5\n+echo \"configure:7005: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7052 \"configure\"\n+#line 7010 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7071,7 +7029,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7075: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7033: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7098,15 +7056,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:7102: checking stack direction for C alloca\" >&5\n+echo \"configure:7060: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7110 \"configure\"\n+#line 7068 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -7125,7 +7083,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:7129: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:7087: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -7152,17 +7110,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:7156: checking for $ac_hdr\" >&5\n+echo \"configure:7114: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7161 \"configure\"\n+#line 7119 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7166: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7124: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7192,12 +7150,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7196: checking for $ac_func\" >&5\n+echo \"configure:7154: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7201 \"configure\"\n+#line 7159 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7220,7 +7178,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7224: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7182: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7249,12 +7207,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7253: checking for $ac_func\" >&5\n+echo \"configure:7211: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7258 \"configure\"\n+#line 7216 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7277,7 +7235,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7281: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7239: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7311,19 +7269,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:7315: checking for LC_MESSAGES\" >&5\n+echo \"configure:7273: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7320 \"configure\"\n+#line 7278 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:7327: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7285: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -7344,7 +7302,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7348: checking whether NLS is requested\" >&5\n+echo \"configure:7306: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -7364,7 +7322,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7368: checking whether included gettext is requested\" >&5\n+echo \"configure:7326: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -7383,17 +7341,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:7387: checking for libintl.h\" >&5\n+echo \"configure:7345: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7392 \"configure\"\n+#line 7350 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:7397: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:7355: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -7410,19 +7368,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:7414: checking for gettext in libc\" >&5\n+echo \"configure:7372: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7419 \"configure\"\n+#line 7377 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:7426: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7384: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -7438,15 +7396,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7442: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:7400: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7450 \"configure\"\n+#line 7408 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7457,7 +7415,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:7461: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7419: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7473,20 +7431,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7477: checking for gettext in libintl\" >&5\n+echo \"configure:7435: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:7482: checking for gettext in -lintl\" >&5\n+echo \"configure:7440: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7490 \"configure\"\n+#line 7448 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7497,7 +7455,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:7501: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7459: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7536,7 +7494,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7540: checking for $ac_word\" >&5\n+echo \"configure:7498: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7570,12 +7528,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:7574: checking for $ac_func\" >&5\n+echo \"configure:7532: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7579 \"configure\"\n+#line 7537 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -7598,7 +7556,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7602: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7560: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -7625,7 +7583,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7629: checking for $ac_word\" >&5\n+echo \"configure:7587: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7661,7 +7619,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7665: checking for $ac_word\" >&5\n+echo \"configure:7623: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7693,15 +7651,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 7697 \"configure\"\n+#line 7655 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:7705: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7663: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -7724,7 +7682,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:7728: checking whether catgets can be used\" >&5\n+echo \"configure:7686: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -7737,22 +7695,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:7741: checking for main in -li\" >&5\n+echo \"configure:7699: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7749 \"configure\"\n+#line 7707 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:7756: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7714: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -7780,12 +7738,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:7784: checking for catgets\" >&5\n+echo \"configure:7742: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 7789 \"configure\"\n+#line 7747 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -7808,7 +7766,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:7812: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7770: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -7830,7 +7788,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7834: checking for $ac_word\" >&5\n+echo \"configure:7792: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7866,7 +7824,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7870: checking for $ac_word\" >&5\n+echo \"configure:7828: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7903,7 +7861,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7907: checking for $ac_word\" >&5\n+echo \"configure:7865: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7938,7 +7896,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7942: checking for $ac_word\" >&5\n+echo \"configure:7900: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7996,7 +7954,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8000: checking for $ac_word\" >&5\n+echo \"configure:7958: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8030,7 +7988,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8034: checking for $ac_word\" >&5\n+echo \"configure:7992: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8066,7 +8024,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:8070: checking for $ac_word\" >&5\n+echo \"configure:8028: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8159,7 +8117,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:8163: checking for catalogs to be installed\" >&5\n+echo \"configure:8121: checking for catalogs to be installed\" >&5\n        NEW_LINGUAS=\n        for lang in ${LINGUAS=$ALL_LINGUAS}; do\n          case \"$ALL_LINGUAS\" in\n@@ -8187,17 +8145,17 @@ echo \"configure:8163: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:8191: checking for linux/version.h\" >&5\n+echo \"configure:8149: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 8196 \"configure\"\n+#line 8154 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:8201: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:8159: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -8272,7 +8230,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:8276: checking whether windows registry support is requested\" >&5\n+echo \"configure:8234: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -8301,7 +8259,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:8305: checking registry key on windows hosts\" >&5\n+echo \"configure:8263: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -8477,7 +8435,7 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:8481: checking assembler alignment features\" >&5\n+echo \"configure:8439: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n@@ -8598,7 +8556,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:8602: checking assembler subsection support\" >&5\n+echo \"configure:8560: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -8638,7 +8596,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:8642: checking assembler weak support\" >&5\n+echo \"configure:8600: checking assembler weak support\" >&5\n gcc_cv_as_weak=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .weak\n@@ -8655,7 +8613,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:8659: checking assembler hidden support\" >&5\n+echo \"configure:8617: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .hidden\n@@ -8675,7 +8633,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8679: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8637: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8705,7 +8663,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:8709: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:8667: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8750,7 +8708,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8754: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8712: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8789,7 +8747,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8793: checking assembler instructions\" >&5\n+echo \"configure:8751: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_as != x; then\n \tset \"filds fists\" \"filds mem; fists mem\"\n@@ -8915,7 +8873,7 @@ fi\n \n # Build a new-libstdc++ system (ie libstdc++-v3)\n echo $ac_n \"checking for libstdc++ to install\"\"... $ac_c\" 1>&6\n-echo \"configure:8919: checking for libstdc++ to install\" >&5\n+echo \"configure:8877: checking for libstdc++ to install\" >&5\n # Check whether --enable-libstdcxx-v3 or --disable-libstdcxx-v3 was given.\n if test \"${enable_libstdcxx_v3+set}\" = set; then\n   enableval=\"$enable_libstdcxx_v3\""}, {"sha": "d410f5327eeb45c4c9cd92829b4fa8117d41c8c0", "filename": "gcc/configure.in", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86cf1cbd5f7e4cf869bb8b02867fd074caef8694/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=86cf1cbd5f7e4cf869bb8b02867fd074caef8694", "patch": "@@ -446,23 +446,27 @@ AC_FUNC_VFORK\n AC_FUNC_MMAP_ANYWHERE\n AC_FUNC_MMAP_FILE\n \n+# We will need to find libiberty.h and ansidecl.h\n+saved_CFLAGS=\"$CFLAGS\"\n+CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\"\n gcc_AC_NEED_DECLARATIONS(bcopy bzero bcmp \\\n \tindex rindex getenv atol sbrk abort atof getcwd getwd \\\n-\tstrsignal putc_unlocked fputs_unlocked strstr environ)\n-\n-gcc_AC_NEED_DECLARATIONS(malloc realloc calloc free, [\n-#ifdef HAVE_MALLOC_H\n-#include <malloc.h>\n-#endif\n-])\n+\tstrsignal putc_unlocked fputs_unlocked strstr environ \\\n+\tmalloc realloc calloc free, [\n+#include \"gansidecl.h\"\n+#include \"system.h\"])\n \n gcc_AC_NEED_DECLARATIONS(getrlimit setrlimit getrusage, [\n-#include <sys/types.h>\n+#include \"gansidecl.h\"\n+#include \"system.h\"\n #ifdef HAVE_SYS_RESOURCE_H\n #include <sys/resource.h>\n #endif\n ])\n \n+# Restore CFLAGS from before the gcc_AC_NEED_DECLARATIONS tests.\n+CFLAGS=\"$saved_CFLAGS\"\n+\n # mkdir takes a single argument on some systems. \n gcc_AC_FUNC_MKDIR_TAKES_ONE_ARG\n "}]}