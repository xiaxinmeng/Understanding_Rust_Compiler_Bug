{"sha": "350b83cc917e67622b621d92df29b7306c9183d8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzUwYjgzY2M5MTdlNjc2MjJiNjIxZDkyZGYyOWI3MzA2YzkxODNkOA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-02-20T14:21:35Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-02-20T14:21:35Z"}, "message": "2014-02-20  Sergey Rybin  <rybin@adacore.com frybin>\n\n\t* gnat_ugn.texi, vms_data.ads (gnatelim): Add description of\n\tproject-specific options.\n\n2014-02-20  Ed Schonberg  <schonberg@adacore.com>\n\n\t* a-cbdlli.adb (Insert): When capacity exceeded, raise Capacity_Error,\n\tnot Constraint_Error.\n\t* a-cbmutr.adb (Append_Child, Insert_Child, Prepend_Child): Ditto.\n\t* sem_ch5.adb: Code clean up.\n\nFrom-SVN: r207954", "tree": {"sha": "05aa04b147d665aec51bbecb491a14aa712e1102", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05aa04b147d665aec51bbecb491a14aa712e1102"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/350b83cc917e67622b621d92df29b7306c9183d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/350b83cc917e67622b621d92df29b7306c9183d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/350b83cc917e67622b621d92df29b7306c9183d8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/350b83cc917e67622b621d92df29b7306c9183d8/comments", "author": null, "committer": null, "parents": [{"sha": "8880426d05f9bf038fb0e735da6914cfd1ec8b55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8880426d05f9bf038fb0e735da6914cfd1ec8b55", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8880426d05f9bf038fb0e735da6914cfd1ec8b55"}], "stats": {"total": 64, "additions": 53, "deletions": 11}, "files": [{"sha": "16d0156851f3fcd23151942c4e54b4ef63ae0f6f", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=350b83cc917e67622b621d92df29b7306c9183d8", "patch": "@@ -1,3 +1,15 @@\n+2014-02-20  Sergey Rybin  <rybin@adacore.com frybin>\n+\n+\t* gnat_ugn.texi, vms_data.ads (gnatelim): Add description of\n+\tproject-specific options.\n+\n+2014-02-20  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* a-cbdlli.adb (Insert): When capacity exceeded, raise Capacity_Error,\n+\tnot Constraint_Error.\n+\t* a-cbmutr.adb (Append_Child, Insert_Child, Prepend_Child): Ditto.\n+\t* sem_ch5.adb: Code clean up.\n+\n 2014-02-20  Hristian Kirtchev  <kirtchev@adacore.com>\n \n \t* sem_prag.adb (Usage_Error): Remove local"}, {"sha": "d36239abc9c39ba0fec2c2dc4909fdcb9612eaaa", "filename": "gcc/ada/a-cbdlli.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fa-cbdlli.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fa-cbdlli.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-cbdlli.adb?ref=350b83cc917e67622b621d92df29b7306c9183d8", "patch": "@@ -1085,7 +1085,7 @@ package body Ada.Containers.Bounded_Doubly_Linked_Lists is\n       end if;\n \n       if Container.Length > Container.Capacity - Count then\n-         raise Constraint_Error with \"new length exceeds capacity\";\n+         raise Capacity_Error with \"capacity exceeded\";\n       end if;\n \n       if Container.Busy > 0 then"}, {"sha": "aa754149067dc4ed0aa929cd3423743129c1fce1", "filename": "gcc/ada/a-cbmutr.adb", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fa-cbmutr.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fa-cbmutr.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fa-cbmutr.adb?ref=350b83cc917e67622b621d92df29b7306c9183d8", "patch": "@@ -397,7 +397,7 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n       end if;\n \n       if Container.Count > Container.Capacity - Count then\n-         raise Constraint_Error\n+         raise Capacity_Error\n            with \"requested count exceeds available storage\";\n       end if;\n \n@@ -1538,7 +1538,7 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n       end if;\n \n       if Container.Count > Container.Capacity - Count then\n-         raise Constraint_Error\n+         raise Capacity_Error\n            with \"requested count exceeds available storage\";\n       end if;\n \n@@ -1614,7 +1614,7 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n       end if;\n \n       if Container.Count > Container.Capacity - Count then\n-         raise Constraint_Error\n+         raise Capacity_Error\n            with \"requested count exceeds available storage\";\n       end if;\n \n@@ -2237,7 +2237,7 @@ package body Ada.Containers.Bounded_Multiway_Trees is\n       end if;\n \n       if Container.Count > Container.Capacity - Count then\n-         raise Constraint_Error\n+         raise Capacity_Error\n            with \"requested count exceeds available storage\";\n       end if;\n "}, {"sha": "f8974492aeb4453e2f18bab61068300452e9b689", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 28, "deletions": 3, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=350b83cc917e67622b621d92df29b7306c9183d8", "patch": "@@ -11283,6 +11283,17 @@ Display Copyright and version, then exit disregarding all other options.\n @cindex @option{--help} @command{gnatelim}\n Display usage, then exit disregarding all other options.\n \n+@item -P @var{file}\n+@cindex @option{-P} @command{gnatelim}\n+Indicates the name of the project file that describes the set of sources\n+to be processed.\n+\n+@item -X@var{name}=@var{value}\n+@cindex @option{-X} @command{gnatelim}\n+Indicates that external variable @var{name} in the argument project\n+has the @var{value} value. Has no effect if no project is specified as\n+tool argument.\n+\n @item ^-files^/FILES^=@var{filename}\n @cindex @option{^-files^/FILES^} (@code{gnatelim})\n Take the argument source files from the specified file. This file should be an\n@@ -11296,9 +11307,11 @@ an explicit list of files.\n Duplicate all the output sent to @file{stderr} into a log file. The log file\n is named @file{gnatelim.log} and is located in the current directory.\n \n+@ignore\n @item ^-log^/LOGFILE^=@var{filename}\n @cindex @option{^-log^/LOGFILE^} (@command{gnatelim})\n Duplicate all the output sent to @file{stderr} into a specified log file.\n+@end ignore\n \n @cindex @option{^--no-elim-dispatch^/NO_DISPATCH^} (@command{gnatelim})\n @item ^--no-elim-dispatch^/NO_DISPATCH^\n@@ -16655,7 +16668,7 @@ Display Copyright and version, then exit disregarding all other options.\n Display usage, then exit disregarding all other options.\n \n @item -P @var{file}\n-@cindex @option{-P @var{file}} @command{gnatmetric}\n+@cindex @option{-P} @command{gnatmetric}\n Indicates the name of the project file that describes the set of sources\n to be processed. The exact set of argument sources depends on other options\n specified, see below.\n@@ -16668,14 +16681,13 @@ all the units of the closure of the argument project. Otherwise this option\n has no effect.\n \n @item -U @var{main_unit}\n-@cindex @option{-U @var{main_unit}} @command{gnatmetric}\n If a project file is specified and no argument source is explicitly\n specified (either directly or by means of @option{-files} option), process\n the closure of units rooted at @var{main_unit}. Otherwise this option\n has no effect.\n \n @item -X@var{name}=@var{value}\n-@cindex @option{-X@var{name}=@var{value}} @command{gnatmetric}\n+@cindex @option{-X} @command{gnatmetric}\n Indicates that external variable @var{name} in the argument project\n has the @var{value} value. Has no effect if no project is specified as\n tool argument.\n@@ -16717,11 +16729,13 @@ a trace of sources being processed.\n Quiet mode.\n @end table\n \n+@ignore\n @noindent\n If a project file is specified and no argument source is explicitly\n specified (either directly or by means of @option{-files} option), and no\n @option{-U} is specified, then the set of processed sources is\n all the immediate units of the argument project.\n+@end ignore\n \n \n @ignore\n@@ -19549,6 +19563,17 @@ Display Copyright and version, then exit disregarding all other options.\n @cindex @option{--help} @command{gnatstub}\n Display usage, then exit disregarding all other options.\n \n+@item -P @var{file}\n+@cindex @option{-P} @command{gnatstub}\n+Indicates the name of the project file that describes the set of sources\n+to be processed.\n+\n+@item -X@var{name}=@var{value}\n+@cindex @option{-X} @command{gnatstub}\n+Indicates that external variable @var{name} in the argument project\n+has the @var{value} value. Has no effect if no project is specified as\n+tool argument.\n+\n @item ^-f^/FULL^\n @cindex @option{^-f^/FULL^} (@command{gnatstub})\n If the destination directory already contains a file with the name of the"}, {"sha": "e03525e560a05a7f5336c1ad42c60e8d422a3ee1", "filename": "gcc/ada/sem_ch5.adb", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fsem_ch5.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fsem_ch5.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch5.adb?ref=350b83cc917e67622b621d92df29b7306c9183d8", "patch": "@@ -1955,8 +1955,13 @@ package body Sem_Ch5 is\n \n       --  A loop parameter cannot be volatile. This check is peformed only when\n       --  SPARK_Mode is on as it is not a standard Ada legality check.\n+      --  Not clear whether this applies to element iterators, where the\n+      --  cursor is not an explicit entity ???\n \n-      if SPARK_Mode = On and then Is_SPARK_Volatile_Object (Ent) then\n+      if SPARK_Mode = On\n+        and then not Of_Present (N)\n+        and then Is_SPARK_Volatile_Object (Ent)\n+      then\n          Error_Msg_N\n            (\"loop parameter cannot be volatile (SPARK RM 7.1.3(6))\", Ent);\n       end if;"}, {"sha": "42aaffe4955d04c6a69ee95d6b76d67d2847307c", "filename": "gcc/ada/vms_data.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fvms_data.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/350b83cc917e67622b621d92df29b7306c9183d8/gcc%2Fada%2Fvms_data.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_data.ads?ref=350b83cc917e67622b621d92df29b7306c9183d8", "patch": "@@ -4049,14 +4049,14 @@ package VMS_Data is\n    --   text file.\n \n    S_Elim_Log     : aliased constant S := \"/LOG \"                          &\n-                                          \"-l\";\n+                                          \"-log\";\n    --        /NOLOG (D)\n    --        /LOG\n    --\n    --   Duplicate all the output sent to Stderr into a default log file.\n \n    S_Elim_Logfile : aliased constant S := \"/LOGFILE=@\"                     &\n-                                          \"-l@\";\n+                                          \"-log@\";\n \n    --      /LOGFILE=logfilename\n    --"}]}