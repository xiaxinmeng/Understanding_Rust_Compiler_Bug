{"sha": "6868bb1cb1a3598357893bfe1bbf86fe33943930", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg2OGJiMWNiMWEzNTk4MzU3ODkzYmZlMWJiZjg2ZmUzMzk0MzkzMA==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2004-03-29T23:00:28Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2004-03-29T23:00:28Z"}, "message": "toplev.c (backend_init): Add missing call to inint_optimization_passes.\n\n\t* toplev.c (backend_init): Add missing call to inint_optimization_passes.\n\t* passes.c (init_optimization_passes, finish_optimization_passes): Output cgraph\n\tdump file in non-unit-at-a-time mode.\n\nFrom-SVN: r80066", "tree": {"sha": "dfd9be7e0bd9bd70880a5299885f6d0e59a4063c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dfd9be7e0bd9bd70880a5299885f6d0e59a4063c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6868bb1cb1a3598357893bfe1bbf86fe33943930", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6868bb1cb1a3598357893bfe1bbf86fe33943930", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6868bb1cb1a3598357893bfe1bbf86fe33943930", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6868bb1cb1a3598357893bfe1bbf86fe33943930/comments", "author": null, "committer": null, "parents": [{"sha": "43537bf62f9e1eb15a0a5076a67377f6e69434c5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/43537bf62f9e1eb15a0a5076a67377f6e69434c5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/43537bf62f9e1eb15a0a5076a67377f6e69434c5"}], "stats": {"total": 25, "additions": 13, "deletions": 12}, "files": [{"sha": "8b60350ad17a107a8c048f9f82af21115e2ffc3c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6868bb1cb1a3598357893bfe1bbf86fe33943930/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6868bb1cb1a3598357893bfe1bbf86fe33943930/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6868bb1cb1a3598357893bfe1bbf86fe33943930", "patch": "@@ -1,3 +1,9 @@\n+2004-03-30  Jan Hubicka  <jh@suse.cz>\n+\n+\t* toplev.c (backend_init): Add missing call to inint_optimization_passes.\n+\t* passes.c (init_optimization_passes, finish_optimization_passes): Output cgraph\n+\tdump file in non-unit-at-a-time mode.\n+\n 2004-03-29  Hans-Peter Nilsson  <hp@axis.com>\n \n \t* config/cris/cris.h: Correct #ifdef to test for"}, {"sha": "aa5cb86c7fb2de77920bbe01269e3a7cd9222695", "filename": "gcc/passes.c", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6868bb1cb1a3598357893bfe1bbf86fe33943930/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6868bb1cb1a3598357893bfe1bbf86fe33943930/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=6868bb1cb1a3598357893bfe1bbf86fe33943930", "patch": "@@ -2124,12 +2124,9 @@ rest_of_compilation (tree decl)\n void\n init_optimization_passes (void)\n {\n-  if (flag_unit_at_a_time)\n-    {\n-      open_dump_file (DFI_cgraph, NULL);\n-      cgraph_dump_file = dump_file;\n-      dump_file = NULL;\n-    }\n+  open_dump_file (DFI_cgraph, NULL);\n+  cgraph_dump_file = dump_file;\n+  dump_file = NULL;\n }\n \n void\n@@ -2154,12 +2151,9 @@ finish_optimization_passes (void)\n       timevar_pop (TV_DUMP);\n     }\n \n-  if (flag_unit_at_a_time)\n-    {\n-      dump_file = cgraph_dump_file;\n-      cgraph_dump_file = NULL;\n-      close_dump_file (DFI_cgraph, NULL, NULL_RTX);\n-    }\n+  dump_file = cgraph_dump_file;\n+  cgraph_dump_file = NULL;\n+  close_dump_file (DFI_cgraph, NULL, NULL_RTX);\n \n   /* Do whatever is necessary to finish printing the graphs.  */\n   if (graph_dump_format != no_graph)"}, {"sha": "88ad4c97519cf091b213394031fce45ea8c9f6a0", "filename": "gcc/toplev.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6868bb1cb1a3598357893bfe1bbf86fe33943930/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6868bb1cb1a3598357893bfe1bbf86fe33943930/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=6868bb1cb1a3598357893bfe1bbf86fe33943930", "patch": "@@ -2449,6 +2449,7 @@ backend_init (void)\n      provide a dummy function context for them.  */\n   init_dummy_function_start ();\n   init_expmed ();\n+  init_optimization_passes ();\n   if (flag_caller_saves)\n     init_caller_save ();\n   expand_dummy_function_end ();"}]}