{"sha": "68c0ab4febb3f846b60865d737a13b752b083d9b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjhjMGFiNGZlYmIzZjg0NmI2MDg2NWQ3MzdhMTNiNzUyYjA4M2Q5Yg==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2003-11-14T10:04:34Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2003-11-14T10:04:34Z"}, "message": "frv.c (frv_in_small_data_p): Return false for unknown section names.\n\n\t* config/frv/frv.c (frv_in_small_data_p): Return false for unknown\n\tsection names.\n\nFrom-SVN: r73593", "tree": {"sha": "8b520a407f916c0f2f0b3981bc1556184c96b5b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8b520a407f916c0f2f0b3981bc1556184c96b5b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/68c0ab4febb3f846b60865d737a13b752b083d9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68c0ab4febb3f846b60865d737a13b752b083d9b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/68c0ab4febb3f846b60865d737a13b752b083d9b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/68c0ab4febb3f846b60865d737a13b752b083d9b/comments", "author": null, "committer": null, "parents": [{"sha": "7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7fb768e5dcf9ce539e511f9ca0871e4a866c5a54"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "bed55ebeae4de5ad7fd90f5a8d743fabbcd4cab8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68c0ab4febb3f846b60865d737a13b752b083d9b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68c0ab4febb3f846b60865d737a13b752b083d9b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=68c0ab4febb3f846b60865d737a13b752b083d9b", "patch": "@@ -1,3 +1,8 @@\n+2003-11-14  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/frv/frv.c (frv_in_small_data_p): Return false for unknown\n+\tsection names.\n+\n 2003-11-14  Jason Merrill  <jason@redhat.com>\n \n \tPR middle-end/12526"}, {"sha": "5b17a2d2062ba003b6c13bc8839faf2909486270", "filename": "gcc/config/frv/frv.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/68c0ab4febb3f846b60865d737a13b752b083d9b/gcc%2Fconfig%2Ffrv%2Ffrv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/68c0ab4febb3f846b60865d737a13b752b083d9b/gcc%2Fconfig%2Ffrv%2Ffrv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ffrv%2Ffrv.c?ref=68c0ab4febb3f846b60865d737a13b752b083d9b", "patch": "@@ -9784,10 +9784,6 @@ frv_in_small_data_p (decl)\n   if (TREE_CODE (decl) != VAR_DECL || DECL_ARTIFICIAL (decl))\n     return false;\n \n-  size = int_size_in_bytes (TREE_TYPE (decl));\n-  if (size > 0 && (unsigned HOST_WIDE_INT) size <= g_switch_value)\n-    return true;\n-\n   /* If we already know which section the decl should be in, see if\n      it's a small data section.  */\n   section_name = DECL_SECTION_NAME (decl);\n@@ -9799,8 +9795,13 @@ frv_in_small_data_p (decl)\n \treturn true;\n       if (frv_string_begins_with (section_name, \".sbss\"))\n \treturn true;\n+      return false;\n     }\n \n+  size = int_size_in_bytes (TREE_TYPE (decl));\n+  if (size > 0 && (unsigned HOST_WIDE_INT) size <= g_switch_value)\n+    return true;\n+\n   return false;\n }\n \f"}]}