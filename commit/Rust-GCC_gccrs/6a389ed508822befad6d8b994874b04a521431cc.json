{"sha": "6a389ed508822befad6d8b994874b04a521431cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmEzODllZDUwODgyMmJlZmFkNmQ4Yjk5NDg3NGIwNGE1MjE0MzFjYw==", "commit": {"author": {"name": "David Malcolm", "email": "dmalcolm@redhat.com", "date": "2013-08-05T20:04:02Z"}, "committer": {"name": "David Malcolm", "email": "dmalcolm@gcc.gnu.org", "date": "2013-08-05T20:04:02Z"}, "message": "Zero-initialize pass_manager\n\ngcc/\n\n\t* passes.c (pass_manager::operator new): New.\n\nFrom-SVN: r201506", "tree": {"sha": "809dc530fde0246b16ba125f9f342ee515aaefc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/809dc530fde0246b16ba125f9f342ee515aaefc8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6a389ed508822befad6d8b994874b04a521431cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a389ed508822befad6d8b994874b04a521431cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6a389ed508822befad6d8b994874b04a521431cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6a389ed508822befad6d8b994874b04a521431cc/comments", "author": {"login": "davidmalcolm", "id": 1553248, "node_id": "MDQ6VXNlcjE1NTMyNDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1553248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidmalcolm", "html_url": "https://github.com/davidmalcolm", "followers_url": "https://api.github.com/users/davidmalcolm/followers", "following_url": "https://api.github.com/users/davidmalcolm/following{/other_user}", "gists_url": "https://api.github.com/users/davidmalcolm/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidmalcolm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidmalcolm/subscriptions", "organizations_url": "https://api.github.com/users/davidmalcolm/orgs", "repos_url": "https://api.github.com/users/davidmalcolm/repos", "events_url": "https://api.github.com/users/davidmalcolm/events{/privacy}", "received_events_url": "https://api.github.com/users/davidmalcolm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f7695dbf402847104b2330126a3c61fae199cc1a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7695dbf402847104b2330126a3c61fae199cc1a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7695dbf402847104b2330126a3c61fae199cc1a"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "b985e37aec35a12273f40a07a5d1d9bda7741fc4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a389ed508822befad6d8b994874b04a521431cc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a389ed508822befad6d8b994874b04a521431cc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6a389ed508822befad6d8b994874b04a521431cc", "patch": "@@ -1,3 +1,7 @@\n+2013-08-05  David Malcolm  <dmalcolm@redhat.com>\n+\n+\t* passes.c (pass_manager::operator new): New.\n+\n 2013-08-05  David Malcolm  <dmalcolm@redhat.com>\n \n \tHandwritten part of conversion of passes to C++ classes."}, {"sha": "00f0b1c50f4f53b094ee7f39a057b4279dc9d942", "filename": "gcc/pass_manager.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a389ed508822befad6d8b994874b04a521431cc/gcc%2Fpass_manager.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a389ed508822befad6d8b994874b04a521431cc/gcc%2Fpass_manager.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpass_manager.h?ref=6a389ed508822befad6d8b994874b04a521431cc", "patch": "@@ -47,6 +47,8 @@ class context;\n class pass_manager\n {\n public:\n+  void *operator new (size_t sz);\n+\n   pass_manager(context *ctxt);\n \n   void register_pass (struct register_pass_info *pass_info);"}, {"sha": "8efce30b6e6ebf59b22b884ceb763471b4c4dcd9", "filename": "gcc/passes.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6a389ed508822befad6d8b994874b04a521431cc/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6a389ed508822befad6d8b994874b04a521431cc/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=6a389ed508822befad6d8b994874b04a521431cc", "patch": "@@ -1339,6 +1339,13 @@ pass_manager::register_pass (struct register_pass_info *pass_info)\n \t\t\t\t        -> all_passes\n */\n \n+void *\n+pass_manager::operator new (size_t sz)\n+{\n+  /* Ensure that all fields of the pass manager are zero-initialized.  */\n+  return xcalloc (1, sz);\n+}\n+\n pass_manager::pass_manager (context *ctxt)\n : all_passes(NULL), all_small_ipa_passes(NULL), all_lowering_passes(NULL),\n   all_regular_ipa_passes(NULL), all_lto_gen_passes(NULL),"}]}