{"sha": "0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ2NmFkNTcyYjAzZWI5ZDg5MjFjNjQ5YmE2ZjRiMGNmZGYyZThiNg==", "commit": {"author": {"name": "Neil Booth", "email": "neil@daikokuya.demon.co.uk", "date": "2002-06-01T23:27:50Z"}, "committer": {"name": "Michael Hayes", "email": "m.hayes@gcc.gnu.org", "date": "2002-06-01T23:27:50Z"}, "message": "c4x.h (TARGET_CPU_CPP_BUILTINS): New.\n\n\n\t* c4x/c4x.h (TARGET_CPU_CPP_BUILTINS): New.\n\t(CPP_SPEC, CPP_PREDEFINES): Kill.\n\t* c4x/rtems.h (CPP_PREDEFINES): Kill.\n\t(TARGET_OS_CPP_BUILTINS): New.\n\nFrom-SVN: r54155", "tree": {"sha": "c9ed4ef77631bd22e64d0d7bea6d059b73b53f73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9ed4ef77631bd22e64d0d7bea6d059b73b53f73"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6/comments", "author": null, "committer": null, "parents": [{"sha": "5c856b23687ca60610fb67b80f1e1e663c2db691", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c856b23687ca60610fb67b80f1e1e663c2db691", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c856b23687ca60610fb67b80f1e1e663c2db691"}], "stats": {"total": 93, "additions": 65, "deletions": 28}, "files": [{"sha": "f6017406ea17c85ad127289acc5bd0f0512d29cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6", "patch": "@@ -1,3 +1,10 @@\n+2002-06-02  Neil Booth  <neil@daikokuya.demon.co.uk>\n+\n+\t* c4x/c4x.h (TARGET_CPU_CPP_BUILTINS): New.\n+\t(CPP_SPEC, CPP_PREDEFINES): Kill.\n+\t* c4x/rtems.h (CPP_PREDEFINES): Kill.\n+\t(TARGET_OS_CPP_BUILTINS): New.\n+\n Sat Jun  1 23:29:51 CEST 2002  Jan Hubicka  <jh@suse.cz>\n \n \t* Makefile.in (tracer.o): New."}, {"sha": "9ccb2f98f1d373101b9a61142ab6f20635d4987c", "filename": "gcc/config/c4x/c4x.h", "status": "modified", "additions": 52, "deletions": 26, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6/gcc%2Fconfig%2Fc4x%2Fc4x.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6/gcc%2Fconfig%2Fc4x%2Fc4x.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.h?ref=0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6", "patch": "@@ -28,6 +28,58 @@\n \n #define C4x   1\n \n+#define TARGET_CPU_CPP_BUILTINS()\t\t\\\n+  do\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\\\n+      if (!TARGET_SMALL)\t\t\t\\\n+\tbuiltin_define (\"_BIGMODEL\");\t\t\\\n+      if (!TARGET_MEMPARM)\t\t\t\\\n+\tbuiltin_define (\"_REGPARM\");\t\t\\\n+      if (flag_inline_functions)\t\t\\\n+\tbuiltin_define (\"_INLINE\");\t\t\\\n+      if (TARGET_C3X)\t\t\t\t\\\n+\t{\t\t\t\t\t\\\n+\t  builtin_define (\"_TMS320C3x\");\t\\\n+\t  builtin_define (\"_C3x\");\t\t\\\n+\t  if (TARGET_C30)\t\t\t\\\n+\t    {\t\t\t\t\t\\\n+\t      builtin_define (\"_TMS320C30\");\t\\\n+\t      builtin_define (\"_C30\");\t\t\\\n+\t    }\t\t\t\t\t\\\n+\t  else if (TARGET_C31)\t\t\t\\\n+\t    {\t\t\t\t\t\\\n+\t      builtin_define (\"_TMS320C31\");\t\\\n+\t      builtin_define (\"_C31\");\t\t\\\n+\t    }\t\t\t\t\t\\\n+\t  else if (TARGET_C32)\t\t\t\\\n+\t    {\t\t\t\t\t\\\n+\t      builtin_define (\"_TMS320C32\");\t\\\n+\t      builtin_define (\"_C32\");\t\t\\\n+\t    }\t\t\t\t\t\\\n+\t  else if (TARGET_C33)\t\t\t\\\n+\t    {\t\t\t\t\t\\\n+\t      builtin_define (\"_TMS320C33\");\t\\\n+\t      builtin_define (\"_C33\");\t\t\\\n+\t    }\t\t\t\t\t\\\n+\t}\t\t\t\t\t\\\n+      else\t\t\t\t\t\\\n+\t{\t\t\t\t\t\\\n+\t  builtin_define (\"_TMS320C4x\");\t\\\n+\t  builtin_define (\"_C4x\");\t\t\\\n+\t  if (TARGET_C40)\t\t\t\\\n+\t    {\t\t\t\t\t\\\n+\t      builtin_define (\"_TMS320C40\");\t\\\n+\t      builtin_define (\"_C40\");\t\t\\\n+\t    }\t\t\t\t\t\\\n+\t  else if (TARGET_C44)\t\t\t\\\n+\t    {\t\t\t\t\t\\\n+\t      builtin_define (\"_TMS320C44\");\t\\\n+\t      builtin_define (\"_C44\");\t\t\\\n+\t    }\t\t\t\t\t\\\n+\t}\t\t\t\t\t\\\n+    }\t\t\t\t\t\t\\\n+  while (0)\n+\n /* Name of the c4x assembler.  */\n \n #define ASM_PROG \"c4x-as\"\n@@ -70,30 +122,6 @@\n %{mcpu=32:--architecture c3x} \\\n %{mcpu=33:--architecture c3x}\"\n \n-/* Define C preprocessor options.  */\n-\n-#define CPP_SPEC \"\\\n-%{!m30:%{!m31:%{!m32:%{!m33:%{!mcpu=30:%{!mcpu=31:%{!mcpu=32:%{!mcpu=33:\\\n-%{!mcpu=40:%{!mcpu=44:%{\\\n-!m40:%{!m44:-D_TMS320C4x -D_C4x -D_TMS320C40 -D_C40}}}}}}}}}}}} \\\n-%{mcpu=30:-D_TMS320C3x -D_C3x -D_TMS320C30 -D_C30 } \\\n-%{m30:-D_TMS320C3x -D_C3x -D_TMS320C30 -D_C30 } \\\n-%{mcpu=31:-D_TMS320C3x -D_C3x -D_TMS320C31 -D_C31 } \\\n-%{m31:-D_TMS320C3x -D_C3x -D_TMS320C31 -D_C31 } \\\n-%{mcpu=32:-D_TMS320C3x -D_C3x -D_TMS320C32 -D_C32 } \\\n-%{m32:-D_TMS320C3x -D_C3x -D_TMS320C32 -D_C32 } \\\n-%{mcpu=33:-D_TMS320C3x -D_C3x -D_TMS320C33 -D_C33 } \\\n-%{m33:-D_TMS320C3x -D_C3x -D_TMS320C33 -D_C33 } \\\n-%{mcpu=40:-D_TMS320C4x -D_C4x -D_TMS320C40 -D_C40 } \\\n-%{m40:-D_TMS320C4x -D_C4x -D_TMS320C40 -D_C40 } \\\n-%{mcpu=44:-D_TMS320C4x -D_C4x -D_TMS320C44 -D_C44 } \\\n-%{m44:-D_TMS320C4x -D_C4x -D_TMS320C44 -D_C44 } \\\n-%{mmemparm:-U_REGPARM }%{mregparm:-D_REGPARM } \\\n-%{!mmemparm:%{!mregparm:-D_REGPARM }} \\\n-%{msmall:-U_BIGMODEL } %{mbig:-D_BIGMODEL } \\\n-%{!msmall:%{!mbig:-D_BIGMODEL }} \\\n-%{finline-functions:-D_INLINE }\"\n-\n /* Specify the end file to link with.  */\n \n #define ENDFILE_SPEC \"\"\n@@ -1855,8 +1883,6 @@ do {\t\t\t\t\t\t\\\n #define ASM_OUTPUT_IDENT(FILE, NAME) \\\n   fprintf (FILE, \"\\t.ident \\\"%s\\\"\\n\", NAME);\n \n-#define CPP_PREDEFINES \"\"\n-\n /* Output of Uninitialized Variables.  */\n \n /* This says how to output an assembler line to define a local"}, {"sha": "d51d37d810c1838e80f0963aadb134b8f2b24d7a", "filename": "gcc/config/c4x/rtems.h", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6/gcc%2Fconfig%2Fc4x%2Frtems.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6/gcc%2Fconfig%2Fc4x%2Frtems.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Frtems.h?ref=0d66ad572b03eb9d8921c649ba6f4b0cfdf2e8b6", "patch": "@@ -21,5 +21,9 @@ Boston, MA 02111-1307, USA.  */\n \n /* Specify predefined symbols in preprocessor.  */\n \n-#undef CPP_PREDEFINES\n-#define CPP_PREDEFINES \"-D__rtems__ -Asystem=rtems -D__USE_INIT_FINI__\"\n+#define TARGET_OS_CPP_BUILTINS()\t\t\\\n+    do {\t\t\t\t\t\\\n+\tbuiltin_define (\"__rtems__\");\t\t\\\n+\tbuiltin_define (\"__USE_INIT_FINI__\");\t\\\n+\tbuiltin_assert (\"system=rtems\");\t\\\n+    } while (0)"}]}