{"sha": "f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjgwZDZhMTc4ZWQyMDQzYzZhOWE0ZDgwNzZjZGM3MmQ2MWI2N2IyYg==", "commit": {"author": {"name": "Alexander Monakov", "email": "amonakov@ispras.ru", "date": "2018-08-10T10:13:37Z"}, "committer": {"name": "Alexander Monakov", "email": "amonakov@gcc.gnu.org", "date": "2018-08-10T10:13:37Z"}, "message": "i386: do not use SImode mul-highpart on 64-bit (PR 82418)\n\n\tPR target/82418\n\t* config/i386/i386.md (<s>mul<mode>3_highpart): Use DWIH mode iterator\n\tinstead of SWI48.\n\ntestsuite/\n\t* gcc.target/i386/pr82418.c: New test.\n\nFrom-SVN: r263467", "tree": {"sha": "071fafebc13d80caa575dbcf150e2a8767285740", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/071fafebc13d80caa575dbcf150e2a8767285740"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/comments", "author": {"login": "amonakov", "id": 1997391, "node_id": "MDQ6VXNlcjE5OTczOTE=", "avatar_url": "https://avatars.githubusercontent.com/u/1997391?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amonakov", "html_url": "https://github.com/amonakov", "followers_url": "https://api.github.com/users/amonakov/followers", "following_url": "https://api.github.com/users/amonakov/following{/other_user}", "gists_url": "https://api.github.com/users/amonakov/gists{/gist_id}", "starred_url": "https://api.github.com/users/amonakov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amonakov/subscriptions", "organizations_url": "https://api.github.com/users/amonakov/orgs", "repos_url": "https://api.github.com/users/amonakov/repos", "events_url": "https://api.github.com/users/amonakov/events{/privacy}", "received_events_url": "https://api.github.com/users/amonakov/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1e9168b27999c2f151e7169beabce4ee71d3eccc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e9168b27999c2f151e7169beabce4ee71d3eccc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e9168b27999c2f151e7169beabce4ee71d3eccc"}], "stats": {"total": 31, "additions": 26, "deletions": 5}, "files": [{"sha": "710d164ba88dd6edc517d35308fffea735b3f8bf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "patch": "@@ -1,3 +1,9 @@\n+2018-08-10  Alexander Monakov  <amonakov@ispras.ru>\n+\n+\tPR target/82418\n+\t* config/i386/i386.md (<s>mul<mode>3_highpart): Use DWIH mode iterator\n+\tinstead of SWI48.\n+\n 2018-08-10  Martin Liska  <mliska@suse.cz>\n \n         PR target/83610"}, {"sha": "10783d305d24ea12cd9def9a4e579da628d35c62", "filename": "gcc/config/i386/i386.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2Fconfig%2Fi386%2Fi386.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2Fconfig%2Fi386%2Fi386.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.md?ref=f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "patch": "@@ -7792,16 +7792,16 @@\n    (set_attr \"mode\" \"QI\")])\n \n (define_expand \"<s>mul<mode>3_highpart\"\n-  [(parallel [(set (match_operand:SWI48 0 \"register_operand\")\n-\t\t   (truncate:SWI48\n+  [(parallel [(set (match_operand:DWIH 0 \"register_operand\")\n+\t\t   (truncate:DWIH\n \t\t     (lshiftrt:<DWI>\n \t\t       (mult:<DWI>\n \t\t\t (any_extend:<DWI>\n-\t\t\t   (match_operand:SWI48 1 \"nonimmediate_operand\"))\n+\t\t\t   (match_operand:DWIH 1 \"nonimmediate_operand\"))\n \t\t\t (any_extend:<DWI>\n-\t\t\t   (match_operand:SWI48 2 \"register_operand\")))\n+\t\t\t   (match_operand:DWIH 2 \"register_operand\")))\n \t\t       (match_dup 3))))\n-\t      (clobber (match_scratch:SWI48 4))\n+\t      (clobber (match_scratch:DWIH 4))\n \t      (clobber (reg:CC FLAGS_REG))])]\n   \"\"\n   \"operands[3] = GEN_INT (GET_MODE_BITSIZE (<MODE>mode));\")"}, {"sha": "174137ee086a42353c686f4e557dae330e97e405", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "patch": "@@ -1,3 +1,8 @@\n+2018-08-10  Alexander Monakov  <amonakov@ispras.ru>\n+\n+\tPR target/82418\n+\t* gcc.target/i386/pr82418.c: New test.\n+\n 2018-08-10  Martin Liska  <mliska@suse.cz>\n \n         PR target/83610"}, {"sha": "95a506d5ccdfd3195fb32b3beb7cbcad34961e45", "filename": "gcc/testsuite/gcc.target/i386/pr82418.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr82418.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr82418.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr82418.c?ref=f80d6a178ed2043c6a9a4d8076cdc72d61b67b2b", "patch": "@@ -0,0 +1,10 @@\n+/* PR target/82418 */\n+/* { dg-do compile { target { ! ia32 } } } */\n+/* { dg-options \"-O2\" } */\n+/* { dg-final { scan-assembler \"imul\\[^\\n\\r]*1374389535\" } } */\n+\n+unsigned\n+f1(unsigned x)\n+{\n+  return x / 100;\n+}"}]}