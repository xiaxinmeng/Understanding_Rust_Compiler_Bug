{"sha": "22963fee5bbfa9de82c08664af99fa24de267872", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI5NjNmZWU1YmJmYTlkZTgyYzA4NjY0YWY5OWZhMjRkZTI2Nzg3Mg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2010-06-14T19:18:18Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2010-06-14T19:18:18Z"}, "message": "re PR debug/43650 (\"-fcompare-debug failure\" with \"-O2 -fpeel-loops -fgraphite-identity\")\n\nPR debug/43650\nPR debug/44181\nPR debug/44247\n* tree-ssa-loop-manip.c (tree_transform_and_unroll_loop): Skip\ndebug stmts.\n(canonicalize_loop_ivs): Likewise.\n\nFrom-SVN: r160762", "tree": {"sha": "06e43c7db56953fa7d163285157c22a6f3df7334", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06e43c7db56953fa7d163285157c22a6f3df7334"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/22963fee5bbfa9de82c08664af99fa24de267872", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22963fee5bbfa9de82c08664af99fa24de267872", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22963fee5bbfa9de82c08664af99fa24de267872", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22963fee5bbfa9de82c08664af99fa24de267872/comments", "author": null, "committer": null, "parents": [{"sha": "c11b0b3b811ccc0a7321843f5d6af42c44af6eea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c11b0b3b811ccc0a7321843f5d6af42c44af6eea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c11b0b3b811ccc0a7321843f5d6af42c44af6eea"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "8cad980875bcbf544d5b8e9b9c2cd2fb9e2766d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22963fee5bbfa9de82c08664af99fa24de267872/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22963fee5bbfa9de82c08664af99fa24de267872/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=22963fee5bbfa9de82c08664af99fa24de267872", "patch": "@@ -1,3 +1,12 @@\n+2010-06-14  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\tPR debug/43650\n+\tPR debug/44181\n+\tPR debug/44247\n+\t* tree-ssa-loop-manip.c (tree_transform_and_unroll_loop): Skip\n+\tdebug stmts.\n+\t(canonicalize_loop_ivs): Likewise.\n+\n 2010-06-14  Alexandre Oliva  <aoliva@redhat.com>\n \n \tPR debug/43656"}, {"sha": "c6dc8ed55eae55916e872a97c8a0ba9bfe7b40aa", "filename": "gcc/tree-ssa-loop-manip.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/22963fee5bbfa9de82c08664af99fa24de267872/gcc%2Ftree-ssa-loop-manip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/22963fee5bbfa9de82c08664af99fa24de267872/gcc%2Ftree-ssa-loop-manip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-manip.c?ref=22963fee5bbfa9de82c08664af99fa24de267872", "patch": "@@ -1081,7 +1081,7 @@ tree_transform_and_unroll_loop (struct loop *loop, unsigned factor,\n \n   /* Finally create the new counter for number of iterations and add the new\n      exit instruction.  */\n-  bsi = gsi_last_bb (exit_bb);\n+  bsi = gsi_last_nondebug_bb (exit_bb);\n   exit_if = gsi_stmt (bsi);\n   create_iv (exit_base, exit_step, NULL_TREE, loop,\n \t     &bsi, false, &ctr_before, &ctr_after);\n@@ -1217,7 +1217,7 @@ canonicalize_loop_ivs (struct loop *loop, tree *nit, bool bump_in_latch)\n \tgsi_insert_seq_on_edge_immediate (loop_preheader_edge (loop), stmts);\n     }\n \n-  gsi = gsi_last_bb (bump_in_latch ? loop->latch : loop->header);\n+  gsi = gsi_last_nondebug_bb (bump_in_latch ? loop->latch : loop->header);\n   create_iv (build_int_cst_type (type, 0), build_int_cst (type, 1), NULL_TREE,\n \t     loop, &gsi, bump_in_latch, &var_before, NULL);\n "}]}