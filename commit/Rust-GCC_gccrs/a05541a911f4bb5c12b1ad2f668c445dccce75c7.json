{"sha": "a05541a911f4bb5c12b1ad2f668c445dccce75c7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTA1NTQxYTkxMWY0YmI1YzEyYjFhZDJmNjY4YzQ0NWRjY2NlNzVjNw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2010-07-04T22:21:39Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2010-07-04T22:21:39Z"}, "message": "cgraphunit.c (init_cgraph): Only initialize dump file if it is not already initialized.\n\n\n        * cgraphunit.c (init_cgraph): Only initialize dump file if it is not already\n        initialized.\n        * lto.c (read_cgraph_and_symbols): Dump cgraph before merging.\n\nFrom-SVN: r161811", "tree": {"sha": "e4de917840f47bc635592908332e7a699bf11329", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e4de917840f47bc635592908332e7a699bf11329"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a05541a911f4bb5c12b1ad2f668c445dccce75c7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a05541a911f4bb5c12b1ad2f668c445dccce75c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a05541a911f4bb5c12b1ad2f668c445dccce75c7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a05541a911f4bb5c12b1ad2f668c445dccce75c7/comments", "author": null, "committer": null, "parents": [{"sha": "f9621cc4774d44166dc6e25228a1d86f14aaaca6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9621cc4774d44166dc6e25228a1d86f14aaaca6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9621cc4774d44166dc6e25228a1d86f14aaaca6"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "5a654ac68c91a16ba766d798f50290e117bcac1b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a05541a911f4bb5c12b1ad2f668c445dccce75c7", "patch": "@@ -1,3 +1,8 @@\n+2010-07-04  Jan Hubicka  <jh@suse.cz>\n+\n+        * cgraphunit.c (init_cgraph): Only initialize dump file if it is not already\n+        initialized.\n+\n 2010-07-04  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* optabs.h (reload_in_optab, reload_out_optab, code_to_optab)"}, {"sha": "2988f1c22df5e54403d82d0c7a39ace950feaa4a", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=a05541a911f4bb5c12b1ad2f668c445dccce75c7", "patch": "@@ -2070,7 +2070,8 @@ cgraph_build_static_cdtor (char which, tree body, int priority)\n void\n init_cgraph (void)\n {\n-  cgraph_dump_file = dump_begin (TDI_cgraph, NULL);\n+  if (!cgraph_dump_file)\n+    cgraph_dump_file = dump_begin (TDI_cgraph, NULL);\n }\n \n /* The edges representing the callers of the NEW_VERSION node were"}, {"sha": "567cfcd9c397350bbd71b6ec5efe7f4638437cab", "filename": "gcc/lto/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2Flto%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2Flto%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2FChangeLog?ref=a05541a911f4bb5c12b1ad2f668c445dccce75c7", "patch": "@@ -1,3 +1,7 @@\n+2010-07-04  Jan Hubicka  <jh@suse.cz>\n+\n+        * lto.c (read_cgraph_and_symbols): Dump cgraph before merging.\n+\n 2010-06-13  Richard Guenther  <rguenther@suse.de>\n \n \t* lto.c (lto_fixup_type): Do not register or fixup TYPE_CANONICAL."}, {"sha": "27d2600e234b2799175e81c6a517799644103c66", "filename": "gcc/lto/lto.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2Flto%2Flto.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a05541a911f4bb5c12b1ad2f668c445dccce75c7/gcc%2Flto%2Flto.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flto%2Flto.c?ref=a05541a911f4bb5c12b1ad2f668c445dccce75c7", "patch": "@@ -1435,6 +1435,7 @@ read_cgraph_and_symbols (unsigned nfiles, const char **fnames)\n   struct cgraph_node *node;\n \n   lto_stats.num_input_files = nfiles;\n+  init_cgraph ();\n \n   timevar_push (TV_IPA_LTO_DECL_IN);\n \n@@ -1534,6 +1535,12 @@ read_cgraph_and_symbols (unsigned nfiles, const char **fnames)\n \n   /* Finally merge the cgraph according to the decl merging decisions.  */\n   timevar_push (TV_IPA_LTO_CGRAPH_MERGE);\n+  if (cgraph_dump_file)\n+    {\n+      fprintf (cgraph_dump_file, \"Before merging:\\n\");\n+      dump_cgraph (cgraph_dump_file);\n+      dump_varpool (cgraph_dump_file);\n+    }\n   lto_symtab_merge_cgraph_nodes ();\n   ggc_collect ();\n "}]}