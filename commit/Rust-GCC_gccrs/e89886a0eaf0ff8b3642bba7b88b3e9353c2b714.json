{"sha": "e89886a0eaf0ff8b3642bba7b88b3e9353c2b714", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTg5ODg2YTBlYWYwZmY4YjM2NDJiYmE3Yjg4YjNlOTM1M2MyYjcxNA==", "commit": {"author": {"name": "Douglas Gregor", "email": "doug.gregor@gmail.com", "date": "2007-03-29T14:11:28Z"}, "committer": {"name": "Doug Gregor", "email": "dgregor@gcc.gnu.org", "date": "2007-03-29T14:11:28Z"}, "message": "re PR middle-end/30666 (warning: canonical types differ for identical types double __complex__ and double __complex__)\n\n2007-03-29  Douglas Gregor  <doug.gregor@gmail.com>\n\n\tPR tree-optimization/30666\n\t* tree.c (build_complex_type): When creating type names for DWARF2\n\tdebug info, create TYPE_DECLs for TYPE_NAME instead of\n\tIDENTIFIER_NODEs.\n\t(build_common_tree_nodes_2): Use build_complex_type when building\n\tpredefined complex types, to preserve canonical types.\n\nFrom-SVN: r123330", "tree": {"sha": "71b8132557308fe006fa303079733b84731aa6bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/71b8132557308fe006fa303079733b84731aa6bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714/comments", "author": {"login": "DougGregor", "id": 989428, "node_id": "MDQ6VXNlcjk4OTQyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/989428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DougGregor", "html_url": "https://github.com/DougGregor", "followers_url": "https://api.github.com/users/DougGregor/followers", "following_url": "https://api.github.com/users/DougGregor/following{/other_user}", "gists_url": "https://api.github.com/users/DougGregor/gists{/gist_id}", "starred_url": "https://api.github.com/users/DougGregor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DougGregor/subscriptions", "organizations_url": "https://api.github.com/users/DougGregor/orgs", "repos_url": "https://api.github.com/users/DougGregor/repos", "events_url": "https://api.github.com/users/DougGregor/events{/privacy}", "received_events_url": "https://api.github.com/users/DougGregor/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2a42f4aa198bf06b093a76d38dd29a49324d904e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2a42f4aa198bf06b093a76d38dd29a49324d904e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2a42f4aa198bf06b093a76d38dd29a49324d904e"}], "stats": {"total": 30, "additions": 14, "deletions": 16}, "files": [{"sha": "d6c580aa317eb9858dbda69ad89947239d93e1b5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e89886a0eaf0ff8b3642bba7b88b3e9353c2b714", "patch": "@@ -1,3 +1,12 @@\n+2007-03-29  Douglas Gregor  <doug.gregor@gmail.com>\n+\n+\tPR tree-optimization/30666\n+\t* tree.c (build_complex_type): When creating type names for DWARF2\n+\tdebug info, create TYPE_DECLs for TYPE_NAME instead of\n+\tIDENTIFIER_NODEs.\n+\t(build_common_tree_nodes_2): Use build_complex_type when building\n+\tpredefined complex types, to preserve canonical types.\n+\n 2007-03-29  Steven Bosscher  <steven@gcc.gnu.org>\n \n \t* ifcvt.c (struct noce_if_info): Add then_else_reversed field."}, {"sha": "0ea18b2f700fed1375f8d0cd7e9a4f15ec78daee", "filename": "gcc/tree.c", "status": "modified", "additions": 5, "deletions": 16, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e89886a0eaf0ff8b3642bba7b88b3e9353c2b714/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=e89886a0eaf0ff8b3642bba7b88b3e9353c2b714", "patch": "@@ -5826,7 +5826,7 @@ build_complex_type (tree component_type)\n \tname = 0;\n \n       if (name != 0)\n-\tTYPE_NAME (t) = get_identifier (name);\n+\tTYPE_NAME (t) = build_decl (TYPE_DECL, get_identifier (name), t);\n     }\n \n   return build_qualified_type (t, TYPE_QUALS (component_type));\n@@ -7004,21 +7004,10 @@ build_common_tree_nodes_2 (int short_double)\n   TYPE_MODE (dfloat128_type_node) = TDmode;\n   dfloat128_ptr_type_node = build_pointer_type (dfloat128_type_node);\n \n-  complex_integer_type_node = make_node (COMPLEX_TYPE);\n-  TREE_TYPE (complex_integer_type_node) = integer_type_node;\n-  layout_type (complex_integer_type_node);\n-\n-  complex_float_type_node = make_node (COMPLEX_TYPE);\n-  TREE_TYPE (complex_float_type_node) = float_type_node;\n-  layout_type (complex_float_type_node);\n-\n-  complex_double_type_node = make_node (COMPLEX_TYPE);\n-  TREE_TYPE (complex_double_type_node) = double_type_node;\n-  layout_type (complex_double_type_node);\n-\n-  complex_long_double_type_node = make_node (COMPLEX_TYPE);\n-  TREE_TYPE (complex_long_double_type_node) = long_double_type_node;\n-  layout_type (complex_long_double_type_node);\n+  complex_integer_type_node = build_complex_type (integer_type_node);\n+  complex_float_type_node = build_complex_type (float_type_node);\n+  complex_double_type_node = build_complex_type (double_type_node);\n+  complex_long_double_type_node = build_complex_type (long_double_type_node);\n \n   {\n     tree t = targetm.build_builtin_va_list ();"}]}