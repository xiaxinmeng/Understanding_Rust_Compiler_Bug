{"sha": "2b5995275004a0099be1281557f0c13810f18734", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmI1OTk1Mjc1MDA0YTAwOTliZTEyODE1NTdmMGMxMzgxMGYxODczNA==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-22T07:04:44Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-22T07:04:44Z"}, "message": "(incomplete_decl_finalize_hook): New variable.\n\n(compile_file): Call incomplete_decl_finalize_hook.\n\nFrom-SVN: r3824", "tree": {"sha": "301e556dd5a03d73ec4fe2534b346f5a438290cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/301e556dd5a03d73ec4fe2534b346f5a438290cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b5995275004a0099be1281557f0c13810f18734", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b5995275004a0099be1281557f0c13810f18734", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b5995275004a0099be1281557f0c13810f18734", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b5995275004a0099be1281557f0c13810f18734/comments", "author": null, "committer": null, "parents": [{"sha": "b4892310d56ec029bae5195e1f4c385d598303cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4892310d56ec029bae5195e1f4c385d598303cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4892310d56ec029bae5195e1f4c385d598303cb"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "55cb88185ae2bba9207a9a7f54829ed795f5202d", "filename": "gcc/toplev.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b5995275004a0099be1281557f0c13810f18734/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b5995275004a0099be1281557f0c13810f18734/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=2b5995275004a0099be1281557f0c13810f18734", "patch": "@@ -218,6 +218,11 @@ char *(*decl_printable_name) ();\n \n struct rtx_def *(*lang_expand_expr) ();\n \n+/* Pointer to function to finish handling an incomplete decl at the\n+   end of compilation.  */\n+\n+void (*incomplete_decl_finalize_hook) () = 0;\n+\n /* Nonzero if generating code to do profiling.  */\n \n int profile_flag = 0;\n@@ -1838,6 +1843,9 @@ compile_file (name)\n     for (i = 0; i < len; i++)\n       {\n \tdecl = vec[i];\n+\tif (DECL_SIZE (decl) == 0)\n+\t  (*incomplete_decl_finalize_hook) (decl);\n+\n \tif (TREE_CODE (decl) == VAR_DECL && TREE_STATIC (decl)\n \t    && ! TREE_ASM_WRITTEN (decl))\n \t  {"}]}