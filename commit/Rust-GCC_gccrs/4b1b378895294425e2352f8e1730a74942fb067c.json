{"sha": "4b1b378895294425e2352f8e1730a74942fb067c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGIxYjM3ODg5NTI5NDQyNWUyMzUyZjhlMTczMGE3NDk0MmZiMDY3Yw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@google.com", "date": "2012-08-21T20:51:42Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2012-08-21T20:51:42Z"}, "message": "morestack.S (__morestack_non_split): Increase amount of space allocated for non-split code stack.\n\n\t* config/i386/morestack.S (__morestack_non_split): Increase amount\n\tof space allocated for non-split code stack.\n\nFrom-SVN: r190574", "tree": {"sha": "a9abac2f89d0303bc8fd193c6dba6e14e7874c39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9abac2f89d0303bc8fd193c6dba6e14e7874c39"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4b1b378895294425e2352f8e1730a74942fb067c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b1b378895294425e2352f8e1730a74942fb067c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b1b378895294425e2352f8e1730a74942fb067c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b1b378895294425e2352f8e1730a74942fb067c/comments", "author": null, "committer": null, "parents": [{"sha": "8a3ffc5d39c44c2e7923f5ad39c1b6392c429cb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a3ffc5d39c44c2e7923f5ad39c1b6392c429cb0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a3ffc5d39c44c2e7923f5ad39c1b6392c429cb0"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "eaa4f2904a13a50adab82e735791a63f9b3b648d", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b1b378895294425e2352f8e1730a74942fb067c/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b1b378895294425e2352f8e1730a74942fb067c/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=4b1b378895294425e2352f8e1730a74942fb067c", "patch": "@@ -1,3 +1,8 @@\n+2012-08-21  Ian Lance Taylor  <iant@google.com>\n+\n+\t* config/i386/morestack.S (__morestack_non_split): Increase amount\n+\tof space allocated for non-split code stack.\n+\n 2012-08-19  Joseph Myers  <joseph@codesourcery.com>\n \n \t* crtstuff.c (USE_PT_GNU_EH_FRAME): Define for systems using glibc"}, {"sha": "9528431f7e67d1647f6d60b25620f26a5b20843e", "filename": "libgcc/config/i386/morestack.S", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4b1b378895294425e2352f8e1730a74942fb067c/libgcc%2Fconfig%2Fi386%2Fmorestack.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4b1b378895294425e2352f8e1730a74942fb067c/libgcc%2Fconfig%2Fi386%2Fmorestack.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Fi386%2Fmorestack.S?ref=4b1b378895294425e2352f8e1730a74942fb067c", "patch": "@@ -83,6 +83,9 @@\n #endif\n \n \n+# The amount of space we ask for when calling non-split-stack code.\n+#define NON_SPLIT_STACK 0x100000\n+\n # This entry point is for split-stack code which calls non-split-stack\n # code.  When the linker sees this case, it converts the call to\n # __morestack to call __morestack_non_split instead.  We just bump the\n@@ -109,7 +112,7 @@ __morestack_non_split:\n \n \tmovl\t%esp,%eax\t\t# Current stack,\n \tsubl\t8(%esp),%eax\t\t# less required stack frame size,\n-\tsubl\t$0x4000,%eax\t\t# less space for non-split code.\n+\tsubl\t$NON_SPLIT_STACK,%eax\t# less space for non-split code.\n \tcmpl\t%gs:0x30,%eax\t\t# See if we have enough space.\n \tjb\t2f\t\t\t# Get more space if we need it.\n \n@@ -171,7 +174,8 @@ __morestack_non_split:\n \n \t.cfi_adjust_cfa_offset -4\t# Account for popped register.\n \n-\taddl\t$0x5000+BACKOFF,4(%esp)\t# Increment space we request.\n+\t# Increment space we request.\n+\taddl\t$NON_SPLIT_STACK+0x1000+BACKOFF,4(%esp)\n \n \t# Fall through into morestack.\n \n@@ -186,7 +190,7 @@ __morestack_non_split:\n \n \tmovq\t%rsp,%rax\t\t# Current stack,\n \tsubq\t%r10,%rax\t\t# less required stack frame size,\n-\tsubq\t$0x4000,%rax\t\t# less space for non-split code.\n+\tsubq\t$NON_SPLIT_STACK,%rax\t# less space for non-split code.\n \n #ifdef __LP64__\n \tcmpq\t%fs:0x70,%rax\t\t# See if we have enough space.\n@@ -219,7 +223,8 @@ __morestack_non_split:\n \n \t.cfi_adjust_cfa_offset -8\t# Adjust for popped register.\n \n-\taddq\t$0x5000+BACKOFF,%r10\t# Increment space we request.\n+\t# Increment space we request.\n+\taddq\t$NON_SPLIT_STACK+0x1000+BACKOFF,%r10\n \n \t# Fall through into morestack.\n "}]}