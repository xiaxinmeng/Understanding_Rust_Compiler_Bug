{"sha": "9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTYyOGQ3NmIyYThhN2IzYzI1MDA1MjM4MTdjYjc2YmE0Y2E0OWRhZg==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2007-12-26T22:02:14Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2007-12-26T22:02:14Z"}, "message": "avr.h (LINK_SPEC, [...]): Move AT90USB82 and AT90USB162 devices from 'avr5' to 'avr35' architecture.\n\n\t* config/avr/avr.h (LINK_SPEC, CRT_BINUTILS_SPECS): Move AT90USB82 \n\tand AT90USB162 devices from 'avr5' to 'avr35' architecture.\n\t(ASM_SPEC): Add 'avr35' architecture.\n\t* config/avr/avr.c (avr_mcu_types): Move AT90USB82 and AT90USB162 \n\tdevices from 'avr5' to 'avr35' architecture.\n\t(avr_arch_types): Add \"avr23\" entries.\n\t(avr_arch): Add 'ARCH_AVR35'.\n\t* config/avr/t-avr (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add 'avr35'.\n\t(MULTILIB_MATCHES): Move AT90USB82 and AT90USB162 devices from 'avr5'\n\tto 'avr35' architecture.\n\nFrom-SVN: r131189", "tree": {"sha": "803a4da08ca1ab4e9afa1a9d52d9012f597dfbce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/803a4da08ca1ab4e9afa1a9d52d9012f597dfbce"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/comments", "author": null, "committer": null, "parents": [{"sha": "5f6d5f0af6d71c61fc06e2d0435babc4a5a4502a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f6d5f0af6d71c61fc06e2d0435babc4a5a4502a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f6d5f0af6d71c61fc06e2d0435babc4a5a4502a"}], "stats": {"total": 42, "additions": 31, "deletions": 11}, "files": [{"sha": "2cbba254700c19de0feef56118a0f5d1563cc201", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "patch": "@@ -1,3 +1,16 @@\n+2007-12-26  Anatoly Sokolov <aesok@post.ru>\n+\n+\t* config/avr/avr.h (LINK_SPEC, CRT_BINUTILS_SPECS): Move AT90USB82 \n+\tand AT90USB162 devices from 'avr5' to 'avr35' architecture.\n+\t(ASM_SPEC): Add 'avr35' architecture.\n+\t* config/avr/avr.c (avr_mcu_types): Move AT90USB82 and AT90USB162 \n+\tdevices from 'avr5' to 'avr35' architecture.\n+\t(avr_arch_types): Add \"avr23\" entries.\n+\t(avr_arch): Add 'ARCH_AVR35'.\n+\t* config/avr/t-avr (MULTILIB_OPTIONS, MULTILIB_DIRNAMES): Add 'avr35'.\n+\t(MULTILIB_MATCHES): Move AT90USB82 and AT90USB162 devices from 'avr5'\n+\tto 'avr35' architecture.\n+\n 2007-12-22  David Daney  <ddaney@avtrex.com>\n \n \t* doc/install.texi (disable-libgcj-bc): Document new option."}, {"sha": "a27d2ea886f22cd85c4a72088b413c572bc2179d", "filename": "gcc/config/avr/avr.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2Fconfig%2Favr%2Favr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2Fconfig%2Favr%2Favr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.c?ref=9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "patch": "@@ -128,6 +128,7 @@ static const struct base_arch_s avr_arch_types[] = {\n   { 0, 0, 0, 0, \"__AVR_ARCH__=2\" },\n   { 0, 0, 0, 1, \"__AVR_ARCH__=25\"},\n   { 0, 0, 1, 0, \"__AVR_ARCH__=3\" },\n+  { 0, 0, 1, 1, \"__AVR_ARCH__=35\"},\n   { 0, 1, 0, 1, \"__AVR_ARCH__=4\" },\n   { 0, 1, 1, 1, \"__AVR_ARCH__=5\" }\n };\n@@ -142,6 +143,7 @@ enum avr_arch\n   ARCH_AVR2,\n   ARCH_AVR25,\n   ARCH_AVR3,\n+  ARCH_AVR35,\n   ARCH_AVR4,\n   ARCH_AVR5\n };\n@@ -199,6 +201,10 @@ static const struct mcu_type_s avr_mcu_types[] = {\n   { \"at43usb320\",   ARCH_AVR3, \"__AVR_AT43USB320__\" },\n   { \"at43usb355\",   ARCH_AVR3, \"__AVR_AT43USB355__\" },\n   { \"at76c711\",     ARCH_AVR3, \"__AVR_AT76C711__\" },\n+    /* Classic + MOVW + JMP/CALL.  */\n+  { \"avr35\",        ARCH_AVR35, NULL },\n+  { \"at90usb82\",    ARCH_AVR35, \"__AVR_AT90USB82__\" },\n+  { \"at90usb162\",   ARCH_AVR35, \"__AVR_AT90USB162__\" },\n     /* Enhanced, <= 8K.  */\n   { \"avr4\",         ARCH_AVR4, NULL },\n   { \"atmega8\",      ARCH_AVR4, \"__AVR_ATmega8__\" },\n@@ -259,8 +265,6 @@ static const struct mcu_type_s avr_mcu_types[] = {\n   { \"at90can128\",   ARCH_AVR5, \"__AVR_AT90CAN128__\" },\n   { \"at90pwm216\",   ARCH_AVR5, \"__AVR_AT90PWM216__\" },\n   { \"at90pwm316\",   ARCH_AVR5, \"__AVR_AT90PWM316__\" },\n-  { \"at90usb82\",    ARCH_AVR5, \"__AVR_AT90USB82__\" },\n-  { \"at90usb162\",   ARCH_AVR5, \"__AVR_AT90USB162__\" },\n   { \"at90usb646\",   ARCH_AVR5, \"__AVR_AT90USB646__\" },\n   { \"at90usb647\",   ARCH_AVR5, \"__AVR_AT90USB647__\" },\n   { \"at90usb1286\",  ARCH_AVR5, \"__AVR_AT90USB1286__\" },"}, {"sha": "bbabaef7372a049b9f5ea561198b76d193c9716d", "filename": "gcc/config/avr/avr.h", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2Fconfig%2Favr%2Favr.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2Fconfig%2Favr%2Favr.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.h?ref=9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "patch": "@@ -734,7 +734,7 @@ extern int avr_case_values_threshold;\n /* A C string constant that tells the GCC driver program options to\n    pass to `cc1plus'.  */\n \n-#define ASM_SPEC \"%{mmcu=avr25:-mmcu=avr2;\\\n+#define ASM_SPEC \"%{mmcu=avr25:-mmcu=avr2;mmcu=avr35:-mmcu=avr3;\\\n mmcu=*:-mmcu=%*}\"\n \n #define LINK_SPEC \" %{!mmcu*:-m avr2}\\\n@@ -759,7 +759,9 @@ mmcu=*:-mmcu=%*}\"\n   mmcu=attiny8*:-m avr2}\\\n %{mmcu=atmega103|\\\n   mmcu=at43*|\\\n-  mmcu=at76*:-m avr3}\\\n+  mmcu=at76*|\\\n+  mmcu=at90usb82|\\\n+  mmcu=at90usb162:-m avr3}\\\n %{mmcu=atmega8*|\\\n   mmcu=atmega48*|\\\n   mmcu=at90pwm1|\\\n@@ -775,7 +777,8 @@ mmcu=*:-mmcu=%*}\"\n   mmcu=at90can*|\\\n   mmcu=at90pwm216|\\\n   mmcu=at90pwm316|\\\n-  mmcu=at90usb*|\\\n+  mmcu=at90usb64*|\\\n+  mmcu=at90usb128*|\\\n   mmcu=at94k:-m avr5}\\\n %{mmcu=atmega324*|\\\n   mmcu=atmega325*|\\\n@@ -857,6 +860,8 @@ mmcu=*:-mmcu=%*}\"\n %{mmcu=at43usb320:crt43320.o%s} \\\n %{mmcu=at43usb355:crt43355.o%s} \\\n %{mmcu=at76c711:crt76711.o%s} \\\n+%{mmcu=at90usb162|mmcu=avr35:crtusb162.o%s} \\\n+%{mmcu=at90usb82:crtusb82.o%s} \\\n %{mmcu=atmega8|mmcu=avr4:crtm8.o%s} \\\n %{mmcu=atmega48:crtm48.o%s} \\\n %{mmcu=atmega48p:crtm48p.o%s} \\\n@@ -913,8 +918,6 @@ mmcu=*:-mmcu=%*}\"\n %{mmcu=at90can128:crtcan128.o%s} \\\n %{mmcu=at90pwm216:crt90pwm216.o%s} \\\n %{mmcu=at90pwm316:crt90pwm316.o%s} \\\n-%{mmcu=at90usb82:crtusb82.o%s} \\\n-%{mmcu=at90usb162:crtusb162.o%s} \\\n %{mmcu=at90usb646:crtusb646.o%s} \\\n %{mmcu=at90usb647:crtusb647.o%s} \\\n %{mmcu=at90usb1286:crtusb1286.o%s} \\"}, {"sha": "f16a5286b2601467cdaf235ef798cf94bc46ff0a", "filename": "gcc/config/avr/t-avr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2Fconfig%2Favr%2Ft-avr", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9628d76b2a8a7b3c2500523817cb76ba4ca49daf/gcc%2Fconfig%2Favr%2Ft-avr", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Ft-avr?ref=9628d76b2a8a7b3c2500523817cb76ba4ca49daf", "patch": "@@ -37,8 +37,8 @@ fp-bit.c: $(srcdir)/config/fp-bit.c $(srcdir)/config/avr/t-avr\n \n FPBIT = fp-bit.c\n \n-MULTILIB_OPTIONS = mmcu=avr2/mmcu=avr25/mmcu=avr3/mmcu=avr4/mmcu=avr5\n-MULTILIB_DIRNAMES = avr2 avr25 avr3 avr4 avr5\n+MULTILIB_OPTIONS = mmcu=avr2/mmcu=avr25/mmcu=avr3/mmcu=avr35/mmcu=avr4/mmcu=avr5\n+MULTILIB_DIRNAMES = avr2 avr25 avr3 avr35 avr4 avr5\n \n # The many avr2 matches are not listed here - this is the default.\n MULTILIB_MATCHES = \\\n@@ -61,6 +61,8 @@ MULTILIB_MATCHES = \\\n \tmmcu?avr3=mmcu?at43usb320 \\\n \tmmcu?avr3=mmcu?at43usb355 \\\n \tmmcu?avr3=mmcu?at76c711 \\\n+\tmmcu?avr35=mmcu?at90usb82 \\\n+\tmmcu?avr35=mmcu?at90usb162 \\\n \tmmcu?avr4=mmcu?atmega48 \\\n \tmmcu?avr4=mmcu?atmega48p \\\n \tmmcu?avr4=mmcu?atmega8 \\\n@@ -117,8 +119,6 @@ MULTILIB_MATCHES = \\\n \tmmcu?avr5=mmcu?at90can128 \\\n \tmmcu?avr5=mmcu?at90pwm216 \\\n \tmmcu?avr5=mmcu?at90pwm316 \\\n-\tmmcu?avr5=mmcu?at90usb82 \\\n-\tmmcu?avr5=mmcu?at90usb162 \\\n \tmmcu?avr5=mmcu?at90usb646 \\\n \tmmcu?avr5=mmcu?at90usb647 \\\n \tmmcu?avr5=mmcu?at90usb1286 \\"}]}