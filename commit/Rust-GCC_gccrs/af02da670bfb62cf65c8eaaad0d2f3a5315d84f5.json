{"sha": "af02da670bfb62cf65c8eaaad0d2f3a5315d84f5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWYwMmRhNjcwYmZiNjJjZjY1YzhlYWFhZDBkMmYzYTUzMTVkODRmNQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-05-19T15:31:53Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-05-19T15:31:53Z"}, "message": "Fix SCO5 namespace/dwarf interaction bug.\n\n\t* dwarfout.c (dwarfout_file_scope_decl, case TYPE_DECL): Ignore\n\tLANG_TYPE trees with DECL_SOURCE_LINE of 0.\n\nFrom-SVN: r19883", "tree": {"sha": "c54c968896b49d0462ebe45dab5ffb8d35ce28e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c54c968896b49d0462ebe45dab5ffb8d35ce28e5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5/comments", "author": null, "committer": null, "parents": [{"sha": "ae0a6181ecc5b70c69810de5f9887291294ac2d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae0a6181ecc5b70c69810de5f9887291294ac2d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae0a6181ecc5b70c69810de5f9887291294ac2d9"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "811a157a4b0f0a1901e50fd2df624d6e45180d14", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=af02da670bfb62cf65c8eaaad0d2f3a5315d84f5", "patch": "@@ -1,3 +1,8 @@\n+1998-05-19  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* dwarfout.c (dwarfout_file_scope_decl, case TYPE_DECL): Ignore\n+\tLANG_TYPE trees with DECL_SOURCE_LINE of 0.\n+\n Tue May 19 15:07:54 1998  Todd Vierling  <tv@netbsd.org>\n \n \t* arm/netbsd.h: Ensure DWARF2_UNWIND_INFO is undefined."}, {"sha": "ce9df47efd385699496bb3365521db62c5e544f6", "filename": "gcc/dwarfout.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5/gcc%2Fdwarfout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af02da670bfb62cf65c8eaaad0d2f3a5315d84f5/gcc%2Fdwarfout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarfout.c?ref=af02da670bfb62cf65c8eaaad0d2f3a5315d84f5", "patch": "@@ -5190,8 +5190,18 @@ dwarfout_file_scope_decl (decl, set_finalizing)\n \t really need to output these (non-fundamental) types because other\n \t DIEs may contain references to them.  */\n \n+      /* Also ignore language dependent types here, because they are probably\n+\t also built-in types.  If we didn't ignore them, then we would get\n+\t references to undefined labels because output_type doesn't support\n+\t them.   So, for now, we need to ignore them to avoid assembler\n+\t errors.  */\n+\n+      /* ??? This code is different than the equivalent code in dwarf2out.c.\n+\t The dwarf2out.c code is probably more correct.  */\n+\n       if (DECL_SOURCE_LINE (decl) == 0\n-\t  && type_is_fundamental (TREE_TYPE (decl)))\n+\t  && (type_is_fundamental (TREE_TYPE (decl))\n+\t      || TREE_CODE (TREE_TYPE (decl)) == LANG_TYPE))\n \treturn;\n \n       /* If we are in terse mode, don't generate any DIEs to represent"}]}