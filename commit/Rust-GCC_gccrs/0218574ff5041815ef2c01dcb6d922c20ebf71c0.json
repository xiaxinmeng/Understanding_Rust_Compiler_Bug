{"sha": "0218574ff5041815ef2c01dcb6d922c20ebf71c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDIxODU3NGZmNTA0MTgxNWVmMmMwMWRjYjZkOTIyYzIwZWJmNzFjMA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2014-07-11T13:44:49Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2014-07-11T13:44:49Z"}, "message": "predicates.md (call expander): Update for DECL_SECTION_NAME being string.\n\n\n\t* config/xtensa/predicates.md (call expander): Update for\n\tDECL_SECTION_NAME being string.\n\nFrom-SVN: r212454", "tree": {"sha": "b5fa8c0c2dd3839f5506a9eefbfe49b8e998acbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b5fa8c0c2dd3839f5506a9eefbfe49b8e998acbb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0218574ff5041815ef2c01dcb6d922c20ebf71c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0218574ff5041815ef2c01dcb6d922c20ebf71c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0218574ff5041815ef2c01dcb6d922c20ebf71c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0218574ff5041815ef2c01dcb6d922c20ebf71c0/comments", "author": null, "committer": null, "parents": [{"sha": "cdd1ba62102cd0196d6692b1af256680151fc222", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdd1ba62102cd0196d6692b1af256680151fc222", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdd1ba62102cd0196d6692b1af256680151fc222"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "4804b63940c5263aa27d984fefd98f824a491dc8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0218574ff5041815ef2c01dcb6d922c20ebf71c0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0218574ff5041815ef2c01dcb6d922c20ebf71c0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0218574ff5041815ef2c01dcb6d922c20ebf71c0", "patch": "@@ -1,3 +1,8 @@\n+2014-07-11  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* config/xtensa/predicates.md (call expander): Update for\n+\tDECL_SECTION_NAME being string.\n+\n 2014-07-11  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/61473"}, {"sha": "0981f485d98199f197922b30902abec7934b0eaf", "filename": "gcc/config/xtensa/predicates.md", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0218574ff5041815ef2c01dcb6d922c20ebf71c0/gcc%2Fconfig%2Fxtensa%2Fpredicates.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0218574ff5041815ef2c01dcb6d922c20ebf71c0/gcc%2Fconfig%2Fxtensa%2Fpredicates.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fpredicates.md?ref=0218574ff5041815ef2c01dcb6d922c20ebf71c0", "patch": "@@ -97,7 +97,8 @@\n       /* Direct calls only allowed to static functions with PIC.  */\n       if (flag_pic)\n \t{\n-\t  tree callee, callee_sec, caller_sec;\n+\t  tree callee;\n+\t  const char * callee_sec, * caller_sec;\n \n \t  if (GET_CODE (op) != SYMBOL_REF\n \t      || !SYMBOL_REF_LOCAL_P (op) || SYMBOL_REF_EXTERNAL_P (op))\n@@ -117,13 +118,12 @@\n \t      if (DECL_ONE_ONLY (callee))\n \t\treturn false;\n \t      callee_sec = DECL_SECTION_NAME (callee);\n-\t      if (((caller_sec == NULL_TREE) ^ (callee_sec == NULL_TREE))\n-\t\t  || (caller_sec != NULL_TREE\n-\t\t      && strcmp (TREE_STRING_POINTER (caller_sec),\n-\t\t\t\t TREE_STRING_POINTER (callee_sec)) != 0))\n+\t      if (((caller_sec == NULL) ^ (callee_sec == NULL))\n+\t\t  || (caller_sec != NULL\n+\t\t      && caller_sec != callee_sec))\n \t\treturn false;\n \t    }\n-\t  else if (caller_sec != NULL_TREE)\n+\t  else if (caller_sec)\n \t    return false;\n \t}\n       return true;"}]}