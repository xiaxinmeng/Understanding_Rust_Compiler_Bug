{"sha": "1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWViZDU1NThlYjA0OTM4YTYyZWFhOGNiZmFhMjRiMDIwNTMyNmI4Nw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2016-01-11T17:56:39Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-01-11T17:56:39Z"}, "message": "re PR tree-optimization/69214 (ICE (segfault) at -Os on x86_64-linux-gnu in \"fail_abnormal_edge_coalesce\")\n\n\tPR tree-optimization/69214\n\t* tree-vrp.c (simplify_cond_using_ranges): Don't propagate\n\tinnerop into a comparison if SSA_NAME_OCCURS_IN_ABNORMAL_PHI.\n\tFormatting fix.\n\n\t* gcc.c-torture/compile/pr69214.c: New test.\n\nFrom-SVN: r232235", "tree": {"sha": "2392d4d1604ee48729edf6ea5d71ab85cf6841c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2392d4d1604ee48729edf6ea5d71ab85cf6841c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "de41ebf5ddab45c643cfe8166c1d274ed4620d4f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de41ebf5ddab45c643cfe8166c1d274ed4620d4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de41ebf5ddab45c643cfe8166c1d274ed4620d4f"}], "stats": {"total": 34, "additions": 31, "deletions": 3}, "files": [{"sha": "4f4bb009e987d7ea73f2af8255a145703f078820", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "patch": "@@ -1,5 +1,10 @@\n 2016-01-11  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR tree-optimization/69214\n+\t* tree-vrp.c (simplify_cond_using_ranges): Don't propagate\n+\tinnerop into a comparison if SSA_NAME_OCCURS_IN_ABNORMAL_PHI.\n+\tFormatting fix.\n+\n \tPR tree-optimization/69207\n \t* tree-vect-slp.c (vect_get_constant_vectors): For\n \tVECTOR_BOOLEAN_TYPE_P, assert op has integral type instead of"}, {"sha": "1497f00b3d898d7a3e017fab1bc88ad63d509e48", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "patch": "@@ -1,3 +1,8 @@\n+2016-01-11  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR tree-optimization/69214\n+\t* gcc.c-torture/compile/pr69214.c: New test.\n+\n 2016-01-11  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* gcc.target/i386/pr66232-10.c: Do not compile on ia32 target."}, {"sha": "61728f51a480af6055e8f021457405c813b7afe0", "filename": "gcc/testsuite/gcc.c-torture/compile/pr69214.c", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr69214.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr69214.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr69214.c?ref=1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "patch": "@@ -0,0 +1,17 @@\n+/* PR tree-optimization/69214 */\n+\n+extern void bar (void);\n+extern int __setjmp (char *);\n+\n+void\n+foo (char *p)\n+{\n+  int d = 0;\n+  bar ();\n+  if (__setjmp (p))\n+    return;\n+  long a = d;\n+  d = 8;\n+  if (!a)\n+    bar ();\n+}"}, {"sha": "920a9b1818dabc0521d62b2c74a10c2973e3c1a0", "filename": "gcc/tree-vrp.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2Ftree-vrp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebd5558eb04938a62eaa8cbfaa24b0205326b87/gcc%2Ftree-vrp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-vrp.c?ref=1ebd5558eb04938a62eaa8cbfaa24b0205326b87", "patch": "@@ -9478,7 +9478,8 @@ simplify_cond_using_ranges (gcond *stmt)\n \n       if (TREE_CODE (innerop) == SSA_NAME\n \t  && !POINTER_TYPE_P (TREE_TYPE (innerop))\n-         && desired_pro_or_demotion_p (TREE_TYPE (innerop), TREE_TYPE (op0)))\n+\t  && !SSA_NAME_OCCURS_IN_ABNORMAL_PHI (innerop)\n+\t  && desired_pro_or_demotion_p (TREE_TYPE (innerop), TREE_TYPE (op0)))\n \t{\n \t  value_range *vr = get_value_range (innerop);\n \n@@ -9509,8 +9510,8 @@ simplify_cond_using_ranges (gcond *stmt)\n \t\t  else\n \t\t    location = gimple_location (stmt);\n \t\t  warning_at (location, OPT_Wstrict_overflow,\n-\t\t      \"assuming signed overflow does not occur when \"\n-\t\t      \"simplifying conditional\");\n+\t\t\t      \"assuming signed overflow does not occur when \"\n+\t\t\t      \"simplifying conditional\");\n \t\t}\n \n \t      tree newconst = fold_convert (TREE_TYPE (innerop), op1);"}]}