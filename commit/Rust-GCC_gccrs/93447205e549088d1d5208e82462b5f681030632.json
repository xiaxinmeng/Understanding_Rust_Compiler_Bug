{"sha": "93447205e549088d1d5208e82462b5f681030632", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTM0NDcyMDVlNTQ5MDg4ZDFkNTIwOGU4MjQ2MmI1ZjY4MTAzMDYzMg==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-12-07T12:42:21Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-12-07T12:42:21Z"}, "message": "[multiple changes]\n\nMon Dec  7 15:38:25 1998  Dave Brolley  <brolley@cygnus.com>\n\t* gcc.c (default_compilers): Fix typo in USE_CPPLIB spec for cc1.\nMon Dec  7 15:38:25 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n        * c-aux-info.c (concat): Wrap function definition in !USE_CPPLIB.\n        * cppalloc.c: Move function `xcalloc' from cpplib.c to here.\n        * cpplib.c: Move function `xcalloc' from here to cppalloc.c.\n\nFrom-SVN: r24152", "tree": {"sha": "0e06ddfb7c06a8eb1366ed235d653e8ced12b583", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0e06ddfb7c06a8eb1366ed235d653e8ced12b583"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/93447205e549088d1d5208e82462b5f681030632", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93447205e549088d1d5208e82462b5f681030632", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93447205e549088d1d5208e82462b5f681030632", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93447205e549088d1d5208e82462b5f681030632/comments", "author": null, "committer": null, "parents": [{"sha": "f070035e54ea019f78aad2db4132b71d1478a797", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f070035e54ea019f78aad2db4132b71d1478a797", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f070035e54ea019f78aad2db4132b71d1478a797"}], "stats": {"total": 39, "additions": 27, "deletions": 12}, "files": [{"sha": "84a79ba5cd8569bfab0ce81c4e15a0a59bb39713", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93447205e549088d1d5208e82462b5f681030632/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93447205e549088d1d5208e82462b5f681030632/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=93447205e549088d1d5208e82462b5f681030632", "patch": "@@ -1,3 +1,13 @@\n+Mon Dec  7 15:38:25 1998  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* gcc.c (default_compilers): Fix typo in USE_CPPLIB spec for cc1.\n+\n+Mon Dec  7 15:38:25 1998  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+        * c-aux-info.c (concat): Wrap function definition in !USE_CPPLIB.\n+        * cppalloc.c: Move function `xcalloc' from cpplib.c to here.\n+        * cpplib.c: Move function `xcalloc' from here to cppalloc.c.\n+\n Mon Dec  7 11:30:49 1998  Nick Clifton  <nickc@cygnus.com>\n \n \t* final.c (output_asm_name): Use tabs to seperate comments from"}, {"sha": "d86d44539fb528aedeab11277924b8a6d31f324b", "filename": "gcc/c-aux-info.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93447205e549088d1d5208e82462b5f681030632/gcc%2Fc-aux-info.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93447205e549088d1d5208e82462b5f681030632/gcc%2Fc-aux-info.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-aux-info.c?ref=93447205e549088d1d5208e82462b5f681030632", "patch": "@@ -48,6 +48,10 @@ static char *gen_decl\t\t\tPROTO((tree, int, formals_style));\n \n    This function is based on the one in libiberty.  */\n \n+/* This definition will conflict with the one from prefix.c in\n+   libcpp.a when linking cc1 and cc1obj.  So only provide it if we are\n+   not using libcpp.a */\n+#ifndef USE_CPPLIB\n char *\n concat VPROTO((const char *first, ...))\n {\n@@ -99,6 +103,7 @@ concat VPROTO((const char *first, ...))\n \n   return (newstr);\n }\n+#endif /* ! USE_CPPLIB */\n \n /* Given a string representing an entire type or an entire declaration\n    which only lacks the actual \"data-type\" specifier (at its left end),"}, {"sha": "a852d00cb15d71d862653d3c4fbcd87a20e338eb", "filename": "gcc/cppalloc.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93447205e549088d1d5208e82462b5f681030632/gcc%2Fcppalloc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93447205e549088d1d5208e82462b5f681030632/gcc%2Fcppalloc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcppalloc.c?ref=93447205e549088d1d5208e82462b5f681030632", "patch": "@@ -45,6 +45,16 @@ xmalloc (size)\n   return ptr;\n }\n \n+PTR\n+xcalloc (number, size)\n+  size_t number, size;\n+{\n+  register PTR ptr = (PTR) calloc (number, size);\n+  if (ptr == 0)\n+    memory_full ();\n+  return ptr;\n+}\n+\n PTR\n xrealloc (old, size)\n   PTR old;"}, {"sha": "a9bb550bb55e66d0a1c9e8c2d432556a61bdc44c", "filename": "gcc/cpplib.c", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93447205e549088d1d5208e82462b5f681030632/gcc%2Fcpplib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93447205e549088d1d5208e82462b5f681030632/gcc%2Fcpplib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplib.c?ref=93447205e549088d1d5208e82462b5f681030632", "patch": "@@ -6429,20 +6429,10 @@ free_token_list (tokens)\n   }\n }\n \n-/* FIXME: savestring() should be renamed strdup() and both should\n+/* FIXME: savestring() should be renamed strdup() and should\n    be moved into cppalloc.c.  We can't do that right now because\n    then we'd get multiple-symbol clashes with toplev.c and several\n    other people. */\n-PTR\n-xcalloc (number, size)\n-  size_t number, size;\n-{\n-  register unsigned total = number * size;\n-  register PTR ptr = (PTR) xmalloc (total);\n-  bzero (ptr, total);\n-  return ptr;\n-}\n-\n char *\n savestring (input)\n      char *input;"}, {"sha": "438304529a7f6afab3af7d47ed6720a3b87224d0", "filename": "gcc/gcc.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93447205e549088d1d5208e82462b5f681030632/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93447205e549088d1d5208e82462b5f681030632/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=93447205e549088d1d5208e82462b5f681030632", "patch": "@@ -581,7 +581,7 @@ static struct compiler default_compilers[] =\n   {\"@c\",\n    {\n #if USE_CPPLIB\n-     \"%{E|M|MM:cpp -lang-c %(ansi:-std=c89} %{std*} %{nostdinc*}\\\n+     \"%{E|M|MM:cpp -lang-c %{ansi:-std=c89} %{std*} %{nostdinc*}\\\n \t%{C} %{v} %{A*} %{I*} %{P} %I\\\n \t%{C:%{!E:%eGNU C does not support -C without using -E}}\\\n \t%{M} %{MM} %{MD:-MD %b.d} %{MMD:-MMD %b.d} %{MG}\\"}]}