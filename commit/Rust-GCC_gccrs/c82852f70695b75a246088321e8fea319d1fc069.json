{"sha": "c82852f70695b75a246088321e8fea319d1fc069", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzgyODUyZjcwNjk1Yjc1YTI0NjA4ODMyMWU4ZmVhMzE5ZDFmYzA2OQ==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2009-09-30T00:43:28Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2009-09-30T00:43:28Z"}, "message": "sed and head portability fixes in ld version check.\n\nlibstdc++-v3/:\n\tPR libstdc++/38923\n\t* acinclude.m4 (GLIBCXX_CHECK_LINKER_FEATURES): Avoid 'head',\n\tuse sed script portable to Solaris /bin/sed for extracting ld\n\tversion.\n\t* configure: Regenerate.\n\nlibgomp/:\n\t* acinclude.m4 (LIBGOMP_CHECK_LINKER_FEATURES): Avoid 'head',\n\tuse sed script portable to Solaris /bin/sed for extracting ld\n\tversion.\n\t* configure: Regenerate.\n\nFrom-SVN: r152315", "tree": {"sha": "12dea2c8068e54333cb1a2b8698238283ca1fa79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12dea2c8068e54333cb1a2b8698238283ca1fa79"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c82852f70695b75a246088321e8fea319d1fc069", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c82852f70695b75a246088321e8fea319d1fc069", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c82852f70695b75a246088321e8fea319d1fc069", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c82852f70695b75a246088321e8fea319d1fc069/comments", "author": null, "committer": null, "parents": [{"sha": "d3666db42fe882dade6d21b31e29839940b80e74", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3666db42fe882dade6d21b31e29839940b80e74", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3666db42fe882dade6d21b31e29839940b80e74"}], "stats": {"total": 75, "additions": 45, "deletions": 30}, "files": [{"sha": "682da80e2975e00fa7fb0f9cc8e74decd78b3e90", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c82852f70695b75a246088321e8fea319d1fc069/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c82852f70695b75a246088321e8fea319d1fc069/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=c82852f70695b75a246088321e8fea319d1fc069", "patch": "@@ -1,3 +1,10 @@\n+2009-09-30  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\t* acinclude.m4 (LIBGOMP_CHECK_LINKER_FEATURES): Avoid 'head',\n+\tuse sed script portable to Solaris /bin/sed for extracting ld\n+\tversion.\n+\t* configure: Regenerate.\n+\n 2009-09-17  Alexander Monakov  <amonakov@ispras.ru>\n \n \t* testsuite/libgomp.graphite/bounds.c: New test."}, {"sha": "5e0f96c70f5bc19fb69f7fbab83d30c6755fdb57", "filename": "libgomp/acinclude.m4", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c82852f70695b75a246088321e8fea319d1fc069/libgomp%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c82852f70695b75a246088321e8fea319d1fc069/libgomp%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Facinclude.m4?ref=c82852f70695b75a246088321e8fea319d1fc069", "patch": "@@ -152,8 +152,8 @@ AC_DEFUN([LIBGOMP_CHECK_LINKER_FEATURES], [\n     libgomp_ld_is_gold=yes\n   fi\n   changequote(,)\n-  ldver=`$LD --version 2>/dev/null | head -1 | \\\n-         sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+  ldver=`$LD --version 2>/dev/null |\n+         sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n   changequote([,])\n   libgomp_gnu_ld_version=`echo $ldver | \\\n          $AWK -F. '{ if (NF<3) [$]3=0; print ([$]1*100+[$]2)*100+[$]3 }'`"}, {"sha": "d138f68798327a3c32f4826b0e675f6fb8f359a8", "filename": "libgomp/configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c82852f70695b75a246088321e8fea319d1fc069/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c82852f70695b75a246088321e8fea319d1fc069/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=c82852f70695b75a246088321e8fea319d1fc069", "patch": "@@ -15692,8 +15692,8 @@ with_gnu_ld=$lt_cv_prog_gnu_ld\n     libgomp_ld_is_gold=yes\n   fi\n \n-  ldver=`$LD --version 2>/dev/null | head -1 | \\\n-         sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+  ldver=`$LD --version 2>/dev/null |\n+         sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n   libgomp_gnu_ld_version=`echo $ldver | \\\n          $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`"}, {"sha": "04239e502ab20b379518af48a855a66d0e76eefa", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c82852f70695b75a246088321e8fea319d1fc069/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c82852f70695b75a246088321e8fea319d1fc069/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=c82852f70695b75a246088321e8fea319d1fc069", "patch": "@@ -1,3 +1,11 @@\n+2009-09-30  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR libstdc++/38923\n+\t* acinclude.m4 (GLIBCXX_CHECK_LINKER_FEATURES): Avoid 'head',\n+\tuse sed script portable to Solaris /bin/sed for extracting ld\n+\tversion.\n+\t* configure: Regenerate.\n+\n 2009-09-28  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t*  libsupc++/eh_terminate.cc: Fixes for -fno-exceptions."}, {"sha": "04487e6f85b543a979e760c8974b3d1d12f67492", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c82852f70695b75a246088321e8fea319d1fc069/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c82852f70695b75a246088321e8fea319d1fc069/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=c82852f70695b75a246088321e8fea319d1fc069", "patch": "@@ -209,8 +209,8 @@ AC_DEFUN([GLIBCXX_CHECK_LINKER_FEATURES], [\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n     changequote([,])\n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) [$]3=0; print ([$]1*100+[$]2)*100+[$]3 }'`"}, {"sha": "1eb77d19193d259c34e3bc1e98f047efe4b26340", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 24, "deletions": 24, "changes": 48, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c82852f70695b75a246088321e8fea319d1fc069/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c82852f70695b75a246088321e8fea319d1fc069/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=c82852f70695b75a246088321e8fea319d1fc069", "patch": "@@ -19507,8 +19507,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -26409,8 +26409,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -32224,8 +32224,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -43869,8 +43869,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -44083,8 +44083,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -44558,8 +44558,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -50727,8 +50727,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -56527,8 +56527,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -56694,8 +56694,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -56843,8 +56843,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -57010,8 +57010,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`\n@@ -57182,8 +57182,8 @@ $as_echo_n \"checking for ld version... \" >&6; }\n     if $LD --version 2>/dev/null | grep 'GNU gold' >/dev/null 2>&1; then\n       glibcxx_ld_is_gold=yes\n     fi\n-    ldver=`$LD --version 2>/dev/null | head -1 | \\\n-           sed -e 's/GNU \\(go\\)\\{0,1\\}ld \\(version \\)\\{0,1\\}\\(([^)]*) \\)\\{0,1\\}\\([0-9.][0-9.]*\\).*/\\4/'`\n+    ldver=`$LD --version 2>/dev/null |\n+\t   sed -e 's/GNU g*o*ld v*e*r*s*i*o*n* *\\(([^)]*)* *\\) \\([0-9.][0-9.]*\\).*/\\2/; q'`\n \n     glibcxx_gnu_ld_version=`echo $ldver | \\\n            $AWK -F. '{ if (NF<3) $3=0; print ($1*100+$2)*100+$3 }'`"}]}