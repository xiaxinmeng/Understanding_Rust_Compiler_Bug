{"sha": "317363b4c15062c196316f3df87d6204bc26b06f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzE3MzYzYjRjMTUwNjJjMTk2MzE2ZjNkZjg3ZDYyMDRiYzI2YjA2Zg==", "commit": {"author": {"name": "Dodji Seketeli", "email": "dodji@redhat.com", "date": "2014-01-24T15:34:03Z"}, "committer": {"name": "Dodji Seketeli", "email": "dodji@gcc.gnu.org", "date": "2014-01-24T15:34:03Z"}, "message": "Avoid crashing when an input file could not be opened\n\n\t* input.c (add_file_to_cache_tab): Handle the case where fopen\n\treturns NULL.\n\nSigned-off-by: Dodji Seketeli <dodji@seketeli.org>\n\nFrom-SVN: r207046", "tree": {"sha": "4a0d530478e4a3581cd9b8579761fcf864874518", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4a0d530478e4a3581cd9b8579761fcf864874518"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/317363b4c15062c196316f3df87d6204bc26b06f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/317363b4c15062c196316f3df87d6204bc26b06f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/317363b4c15062c196316f3df87d6204bc26b06f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/317363b4c15062c196316f3df87d6204bc26b06f/comments", "author": null, "committer": null, "parents": [{"sha": "f27ad2b2201c1a05bf6ef048960ebb8b98d6e0e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f27ad2b2201c1a05bf6ef048960ebb8b98d6e0e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f27ad2b2201c1a05bf6ef048960ebb8b98d6e0e8"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "7feb332d94b8c17b16c6c1a8c8dd927ecaaed1cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/317363b4c15062c196316f3df87d6204bc26b06f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/317363b4c15062c196316f3df87d6204bc26b06f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=317363b4c15062c196316f3df87d6204bc26b06f", "patch": "@@ -1,3 +1,8 @@\n+2014-01-24  Dodji Seketeli  <dodji@redhat.com>\n+\n+\t* input.c (add_file_to_cache_tab): Handle the case where fopen\n+\treturns NULL.\n+\n 2014-01-23  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/59929"}, {"sha": "547c177b09ff58e79b9be9e0a8b32e8981ce4be6", "filename": "gcc/input.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/317363b4c15062c196316f3df87d6204bc26b06f/gcc%2Finput.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/317363b4c15062c196316f3df87d6204bc26b06f/gcc%2Finput.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Finput.c?ref=317363b4c15062c196316f3df87d6204bc26b06f", "patch": "@@ -293,11 +293,8 @@ add_file_to_cache_tab (const char *file_path)\n {\n \n   FILE *fp = fopen (file_path, \"r\");\n-  if (ferror (fp))\n-    {\n-      fclose (fp);\n-      return NULL;\n-    }\n+  if (fp == NULL)\n+    return NULL;\n \n   unsigned highest_use_count = 0;\n   fcache *r = evicted_cache_tab_entry (&highest_use_count);"}]}