{"sha": "cd8002350ee8486af2e113cdd16271f6b409986f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2Q4MDAyMzUwZWU4NDg2YWYyZTExM2NkZDE2MjcxZjZiNDA5OTg2Zg==", "commit": {"author": {"name": "Senthil Kumar Selvaraj", "email": "senthil_kumar.selvaraj@atmel.com", "date": "2016-08-22T06:12:32Z"}, "committer": {"name": "Senthil Kumar Selvaraj", "email": "saaadhu@gcc.gnu.org", "date": "2016-08-22T06:12:32Z"}, "message": "Skip tests that assume 4 byte alignment for avr\n\ngcc/testsuite\n\n        * gcc.dg/ipa/propalign-1.c: Skip for targets with !natural_alignment_32\n        and !natural_alignment_64.\n        * gcc.dg/ipa/propalign-2.c: Likewise.\n        * gcc.dg/ipa/propalign-3.c: Likewise.\n        * gcc.dg/ipa/propalign-4.c: Likewise.\n        * gcc.dg/ipa/propalign-5.c: Likewise.\n        * lib/target-supports.exp\n        (check_effective_target_natural_alignment_32): Add avr-*-*.\n\nFrom-SVN: r239647", "tree": {"sha": "586a05c645ce65a97c3f2e897cdb03ebe707b2bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/586a05c645ce65a97c3f2e897cdb03ebe707b2bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cd8002350ee8486af2e113cdd16271f6b409986f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd8002350ee8486af2e113cdd16271f6b409986f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cd8002350ee8486af2e113cdd16271f6b409986f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cd8002350ee8486af2e113cdd16271f6b409986f/comments", "author": null, "committer": {"login": "saaadhu", "id": 532256, "node_id": "MDQ6VXNlcjUzMjI1Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/532256?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saaadhu", "html_url": "https://github.com/saaadhu", "followers_url": "https://api.github.com/users/saaadhu/followers", "following_url": "https://api.github.com/users/saaadhu/following{/other_user}", "gists_url": "https://api.github.com/users/saaadhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/saaadhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saaadhu/subscriptions", "organizations_url": "https://api.github.com/users/saaadhu/orgs", "repos_url": "https://api.github.com/users/saaadhu/repos", "events_url": "https://api.github.com/users/saaadhu/events{/privacy}", "received_events_url": "https://api.github.com/users/saaadhu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fd3cda8b87dd214a4e5d3a8a4f152ccc0af909fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd3cda8b87dd214a4e5d3a8a4f152ccc0af909fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd3cda8b87dd214a4e5d3a8a4f152ccc0af909fe"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "b308ee86e88aa8f3482663709a8fd9dd652b3764", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cd8002350ee8486af2e113cdd16271f6b409986f", "patch": "@@ -1,3 +1,14 @@\n+2016-08-22  Senthil Kumar Selvaraj  <senthil_kumar.selvaraj@atmel.com>\n+\n+\t* gcc.dg/ipa/propalign-1.c: Skip for targets with !natural_alignment_32\n+\tand !natural_alignment_64.\n+\t* gcc.dg/ipa/propalign-2.c: Likewise.\n+\t* gcc.dg/ipa/propalign-3.c: Likewise.\n+\t* gcc.dg/ipa/propalign-4.c: Likewise.\n+\t* gcc.dg/ipa/propalign-5.c: Likewise.\n+\t* lib/target-supports.exp\n+\t(check_effective_target_natural_alignment_32): Add avr-*-*.\n+\n 2016-08-20  Kugan Vivekanandarajah  <kuganv@linaro.org>\n \n \tPR tree-optimization/61839"}, {"sha": "f34552c86203150261df0633b524d6a34b7e3aff", "filename": "gcc/testsuite/gcc.dg/ipa/propalign-1.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-1.c?ref=cd8002350ee8486af2e113cdd16271f6b409986f", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fno-early-inlining -fdump-ipa-cp -fdump-tree-optimized\" } */\n+/* { dg-skip-if \"No alignment restrictions\" { { ! natural_alignment_32 } && { ! natural_alignment_64 } } } */\n \n #include <stdint.h>\n "}, {"sha": "67b149ae977b1c66650992d7aa00906594217917", "filename": "gcc/testsuite/gcc.dg/ipa/propalign-2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-2.c?ref=cd8002350ee8486af2e113cdd16271f6b409986f", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fno-early-inlining -fdump-ipa-cp -fdump-tree-optimized\" } */\n+/* { dg-skip-if \"No alignment restrictions\" { { ! natural_alignment_32 } && { ! natural_alignment_64 } } } */\n \n #include <stdint.h>\n "}, {"sha": "d3bc2c4b2e8149eae07cf33a9510d2a849e0d367", "filename": "gcc/testsuite/gcc.dg/ipa/propalign-3.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-3.c?ref=cd8002350ee8486af2e113cdd16271f6b409986f", "patch": "@@ -1,5 +1,6 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fno-ipa-cp-alignment -fno-early-inlining -fdump-ipa-cp -fdump-tree-optimized\" } */\n+/* { dg-skip-if \"No alignment restrictions\" { { ! natural_alignment_32 } && { ! natural_alignment_64 } } } */\n \n #include <stdint.h>\n "}, {"sha": "b6808131c88bf11ce716d8876efdac9ca160b2a8", "filename": "gcc/testsuite/gcc.dg/ipa/propalign-4.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-4.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-4.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-4.c?ref=cd8002350ee8486af2e113cdd16271f6b409986f", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fdump-ipa-cp\"  } */\n+/* { dg-skip-if \"No alignment restrictions\" { { ! natural_alignment_32 } && { ! natural_alignment_64 } } } */\n+\n int n;\n \n static void"}, {"sha": "f2cf60020e3146b52b67a5e5b7f6cec11befd732", "filename": "gcc/testsuite/gcc.dg/ipa/propalign-5.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-5.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-5.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fipa%2Fpropalign-5.c?ref=cd8002350ee8486af2e113cdd16271f6b409986f", "patch": "@@ -1,5 +1,7 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -fdump-ipa-cp\"  } */\n+/* { dg-skip-if \"No alignment restrictions\" { { ! natural_alignment_32 } && { ! natural_alignment_64 } } } */\n+\n int n;\n \n static void"}, {"sha": "533d3a668d8ae0d56cb28d60ca340c095995581e", "filename": "gcc/testsuite/lib/target-supports.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cd8002350ee8486af2e113cdd16271f6b409986f/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Ftarget-supports.exp?ref=cd8002350ee8486af2e113cdd16271f6b409986f", "patch": "@@ -5350,7 +5350,8 @@ proc check_effective_target_natural_alignment_32 { } {\n     } else {\n         # FIXME: 32bit powerpc: guaranteed only if MASK_ALIGN_NATURAL/POWER.\n         set et_natural_alignment_32_saved 1\n-        if { ([istarget *-*-darwin*] && [is-effective-target lp64]) } {\n+        if { ([istarget *-*-darwin*] && [is-effective-target lp64])\n+             || [istarget avr-*-*] } {\n             set et_natural_alignment_32_saved 0\n         }\n     }"}]}