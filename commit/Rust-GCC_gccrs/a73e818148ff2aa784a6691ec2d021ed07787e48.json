{"sha": "a73e818148ff2aa784a6691ec2d021ed07787e48", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTczZTgxODE0OGZmMmFhNzg0YTY2OTFlYzJkMDIxZWQwNzc4N2U0OA==", "commit": {"author": {"name": "Thiago Macieira", "email": "thiago.macieira@intel.com", "date": "2018-08-30T15:59:41Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2018-08-30T15:59:41Z"}, "message": "x86: Move AESNI generation to Skylake and Goldmont\n\nThe instruction set first appeared with Westmere, but not all processors\nin that and the next few generations have the instructions. According to\nWikipedia[1], the first generation in which all SKUs have AES\ninstructions are Skylake and Goldmont. I can't find any Skylake,\nKabylake, Kabylake-R or Cannon Lake currently listed at\nhttps://ark.intel.com that says \"Intel\u00ae AES New Instructions\" \"No\".\n\n[1] https://en.wikipedia.org/wiki/AES_instruction_set\n\n2018-08-30  Thiago Macieira  <thiago.macieira@intel.com>\n\n\t* config/i386/i386.c (PTA_WESTMERE): Remove PTA_AES.\n\t(PTA_SKYLAKE): Add PTA_AES.\n\t(PTA_GOLDMONT): Likewise.\n\nFrom-SVN: r263989", "tree": {"sha": "af0016db3b0f6c5a9e73b142d8373fffc9bc9760", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af0016db3b0f6c5a9e73b142d8373fffc9bc9760"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a73e818148ff2aa784a6691ec2d021ed07787e48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a73e818148ff2aa784a6691ec2d021ed07787e48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a73e818148ff2aa784a6691ec2d021ed07787e48", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a73e818148ff2aa784a6691ec2d021ed07787e48/comments", "author": {"login": "thiagomacieira", "id": 4109772, "node_id": "MDQ6VXNlcjQxMDk3NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4109772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thiagomacieira", "html_url": "https://github.com/thiagomacieira", "followers_url": "https://api.github.com/users/thiagomacieira/followers", "following_url": "https://api.github.com/users/thiagomacieira/following{/other_user}", "gists_url": "https://api.github.com/users/thiagomacieira/gists{/gist_id}", "starred_url": "https://api.github.com/users/thiagomacieira/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thiagomacieira/subscriptions", "organizations_url": "https://api.github.com/users/thiagomacieira/orgs", "repos_url": "https://api.github.com/users/thiagomacieira/repos", "events_url": "https://api.github.com/users/thiagomacieira/events{/privacy}", "received_events_url": "https://api.github.com/users/thiagomacieira/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4e6a938029976924c3be5300e2d0caaae9d05c5d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e6a938029976924c3be5300e2d0caaae9d05c5d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e6a938029976924c3be5300e2d0caaae9d05c5d"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "5d12003b0c8ef19269697fd32c7cc550f2d27827", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a73e818148ff2aa784a6691ec2d021ed07787e48/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a73e818148ff2aa784a6691ec2d021ed07787e48/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a73e818148ff2aa784a6691ec2d021ed07787e48", "patch": "@@ -1,3 +1,9 @@\n+2018-08-30  Thiago Macieira  <thiago.macieira@intel.com>\n+\n+\t* config/i386/i386.c (PTA_WESTMERE): Remove PTA_AES.\n+\t(PTA_SKYLAKE): Add PTA_AES.\n+\t(PTA_GOLDMONT): Likewise.\n+\n 2018-08-29  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/86517"}, {"sha": "8672a666024cb239fc242b8308778247fdf2c0b1", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a73e818148ff2aa784a6691ec2d021ed07787e48/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a73e818148ff2aa784a6691ec2d021ed07787e48/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=a73e818148ff2aa784a6691ec2d021ed07787e48", "patch": "@@ -3479,7 +3479,7 @@ ix86_option_override_internal (bool main_args_p,\n     | PTA_SSE3 | PTA_SSSE3 | PTA_CX16 | PTA_FXSR;\n   const wide_int_bitmask PTA_NEHALEM = PTA_CORE2 | PTA_SSE4_1 | PTA_SSE4_2\n     | PTA_POPCNT;\n-  const wide_int_bitmask PTA_WESTMERE = PTA_NEHALEM | PTA_AES | PTA_PCLMUL;\n+  const wide_int_bitmask PTA_WESTMERE = PTA_NEHALEM | PTA_PCLMUL;\n   const wide_int_bitmask PTA_SANDYBRIDGE = PTA_WESTMERE | PTA_AVX | PTA_XSAVE\n     | PTA_XSAVEOPT;\n   const wide_int_bitmask PTA_IVYBRIDGE = PTA_SANDYBRIDGE | PTA_FSGSBASE\n@@ -3488,7 +3488,7 @@ ix86_option_override_internal (bool main_args_p,\n     | PTA_BMI2 | PTA_LZCNT | PTA_FMA | PTA_MOVBE | PTA_HLE;\n   const wide_int_bitmask PTA_BROADWELL = PTA_HASWELL | PTA_ADX | PTA_PRFCHW\n     | PTA_RDSEED;\n-  const wide_int_bitmask PTA_SKYLAKE = PTA_BROADWELL | PTA_CLFLUSHOPT\n+  const wide_int_bitmask PTA_SKYLAKE = PTA_BROADWELL | PTA_AES | PTA_CLFLUSHOPT\n     | PTA_XSAVEC | PTA_XSAVES | PTA_SGX;\n   const wide_int_bitmask PTA_SKYLAKE_AVX512 = PTA_SKYLAKE | PTA_AVX512F\n     | PTA_AVX512CD | PTA_AVX512VL | PTA_AVX512BW | PTA_AVX512DQ | PTA_PKU\n@@ -3505,7 +3505,7 @@ ix86_option_override_internal (bool main_args_p,\n     | PTA_AVX512F | PTA_AVX512CD;\n   const wide_int_bitmask PTA_BONNELL = PTA_CORE2 | PTA_MOVBE;\n   const wide_int_bitmask PTA_SILVERMONT = PTA_WESTMERE | PTA_MOVBE | PTA_RDRND;\n-  const wide_int_bitmask PTA_GOLDMONT = PTA_SILVERMONT | PTA_SHA | PTA_XSAVE\n+  const wide_int_bitmask PTA_GOLDMONT = PTA_SILVERMONT | PTA_AES | PTA_SHA | PTA_XSAVE\n     | PTA_RDSEED | PTA_XSAVEC | PTA_XSAVES | PTA_CLFLUSHOPT | PTA_XSAVEOPT\n     | PTA_FSGSBASE;\n   const wide_int_bitmask PTA_GOLDMONT_PLUS = PTA_GOLDMONT | PTA_RDPID"}]}