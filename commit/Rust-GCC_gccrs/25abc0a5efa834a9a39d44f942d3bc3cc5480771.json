{"sha": "25abc0a5efa834a9a39d44f942d3bc3cc5480771", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjVhYmMwYTVlZmE4MzRhOWEzOWQ0NGY5NDJkM2JjM2NjNTQ4MDc3MQ==", "commit": {"author": {"name": "Gabriel Dos Reis", "email": "gdr@integrable-solutions.net", "date": "2003-06-21T17:39:58Z"}, "committer": {"name": "Gabriel Dos Reis", "email": "gdr@gcc.gnu.org", "date": "2003-06-21T17:39:58Z"}, "message": "re PR c++/10784 (Warning about choosing custom operator over copy constructor cannot be turned off (and it's useless in the first place))\n\ncp/\n        PR c++/10784\n        * call.c (joust): Warn about choosing conversion sequence only if\n        -Wconversion.\n\ntestsuite/\n        * g++.old-deja/g++.benjamin/16077.C: Add -Wconversion option.\n        * g++.old-deja/g++.other/conv7.C: Likewise\n        * g++.old-deja/g++.other/overcnv2.C: Likewise.\n        * g++.old-deja/g++.other/overload14.C: Likewise.\n\nFrom-SVN: r68312", "tree": {"sha": "32fb950e73559984b72a7c2f099244e64b51366a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/32fb950e73559984b72a7c2f099244e64b51366a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25abc0a5efa834a9a39d44f942d3bc3cc5480771", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25abc0a5efa834a9a39d44f942d3bc3cc5480771", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25abc0a5efa834a9a39d44f942d3bc3cc5480771", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25abc0a5efa834a9a39d44f942d3bc3cc5480771/comments", "author": {"login": "cxx-undef", "id": 5528103, "node_id": "MDQ6VXNlcjU1MjgxMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/5528103?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cxx-undef", "html_url": "https://github.com/cxx-undef", "followers_url": "https://api.github.com/users/cxx-undef/followers", "following_url": "https://api.github.com/users/cxx-undef/following{/other_user}", "gists_url": "https://api.github.com/users/cxx-undef/gists{/gist_id}", "starred_url": "https://api.github.com/users/cxx-undef/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cxx-undef/subscriptions", "organizations_url": "https://api.github.com/users/cxx-undef/orgs", "repos_url": "https://api.github.com/users/cxx-undef/repos", "events_url": "https://api.github.com/users/cxx-undef/events{/privacy}", "received_events_url": "https://api.github.com/users/cxx-undef/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cff5cdc83d920e0ea10209a764649c6abc011804", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cff5cdc83d920e0ea10209a764649c6abc011804", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cff5cdc83d920e0ea10209a764649c6abc011804"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "7809040519e2af382fa81b3c68408d37072d7bc6", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=25abc0a5efa834a9a39d44f942d3bc3cc5480771", "patch": "@@ -1,6 +1,12 @@\n+2003-06-21  Gabriel Dos Reis <gdr@integrable-solutions.net>\n+\n+\tPR c++/10784\n+\t* call.c (joust): Warn about choosing conversion sequence only if\n+\t-Wconversion.\n+\n 2003-06-21  Gabriel Dos Reis  <gdr@integrable-solutions.net>\n \n-\tPC c++/10864\n+\tPR c++/10864\n \t* call.c (op_error): Tidy.\n \t* error.c (dump_expr): Properly format 'T()' when T is an\n \taggregate type."}, {"sha": "bb1ad5b91bce2bdb76da509e31c241850bbe1f7a", "filename": "gcc/cp/call.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=25abc0a5efa834a9a39d44f942d3bc3cc5480771", "patch": "@@ -5807,7 +5807,7 @@ joust (struct z_candidate *cand1, struct z_candidate *cand2, bool warn)\n       \n       if (!give_warning)\n \t/*NOP*/;\n-      else if (warn)\n+      else if (warn && warn_conversion)\n \t{\n \t  tree source = source_type (TREE_VEC_ELT (w->convs, 0));\n \t  if (! DECL_CONSTRUCTOR_P (w->fn))"}, {"sha": "4e3c4cf24fd7190173dc90cfae0ffce61049a3df", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=25abc0a5efa834a9a39d44f942d3bc3cc5480771", "patch": "@@ -1,3 +1,10 @@\n+2003-06-21  Gabriel Dos Reis <gdr@integrable-solutions.net>\n+\n+        * g++.old-deja/g++.benjamin/16077.C: Add -Wconversion  option.\n+        * g++.old-deja/g++.other/conv7.C: Likewise\n+        * g++.old-deja/g++.other/overcnv2.C: Likewise.\n+        * g++.old-deja/g++.other/overload14.C: Likewise.\n+\n 2003-06-21  Gabriel Dos Reis <gdr@integrable-solutions.net>\n \n \t* g++.old-deja/g++.jason/conversion5.C: Adjust option."}, {"sha": "9f854b5e189b19492fa091a203f147dc150c71db", "filename": "gcc/testsuite/g++.old-deja/g++.benjamin/16077.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2F16077.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2F16077.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2F16077.C?ref=25abc0a5efa834a9a39d44f942d3bc3cc5480771", "patch": "@@ -1,6 +1,7 @@\n // { dg-do assemble  }\n // 981203 bkoz\n // g++/16077\n+// { dg-options \"-Wconversion\" }\n \n class nicaragua;\n struct colombia {"}, {"sha": "7042e147ca5559c1925c520fe6c6323b61f1fe54", "filename": "gcc/testsuite/g++.old-deja/g++.other/conv7.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fconv7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fconv7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fconv7.C?ref=25abc0a5efa834a9a39d44f942d3bc3cc5480771", "patch": "@@ -1,4 +1,5 @@\n // { dg-do assemble  }\n+// { dg-options \"-Wconversion\" }\n // \n // Copyright (C) 2001 Free Software Foundation, Inc.\n // Contributed by Nathan Sidwell 5 May 2001 <nathan@codesourcery.com>"}, {"sha": "ef9c1f7823b8181044627c666e29a9955950c578", "filename": "gcc/testsuite/g++.old-deja/g++.other/overcnv2.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fovercnv2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fovercnv2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fovercnv2.C?ref=25abc0a5efa834a9a39d44f942d3bc3cc5480771", "patch": "@@ -1,4 +1,5 @@\n // { dg-do assemble  }\n+// { dg-options \"-Wconversion\" } \n // Test that we resolve this case as mandated by the standard, but also\n // warn about it.  We choose op char* not because it is a member of B --\n // the standard says that all conversion ops are treated as coming from"}, {"sha": "2a50b1bf5104e9ed9ee29b70e738bd7bc319780b", "filename": "gcc/testsuite/g++.old-deja/g++.other/overload14.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Foverload14.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25abc0a5efa834a9a39d44f942d3bc3cc5480771/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Foverload14.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Foverload14.C?ref=25abc0a5efa834a9a39d44f942d3bc3cc5480771", "patch": "@@ -1,4 +1,5 @@\n // { dg-do run  }\n+// { dg-options \"-Wconversion\" }\n extern \"C\" void abort();\n \n struct A {"}]}