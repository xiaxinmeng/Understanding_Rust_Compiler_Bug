{"sha": "c7dfe584801a38a984c279332c63e8fb41af4294", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzdkZmU1ODQ4MDFhMzhhOTg0YzI3OTMzMmM2M2U4ZmI0MWFmNDI5NA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-03-17T12:20:38Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-03-17T12:20:38Z"}, "message": "pt.c (push_template_decl): Complain about template with C linkage, anonymous template class.\n\n\t* pt.c (push_template_decl): Complain about template with C linkage,\n\tanonymous template class.\n\nFrom-SVN: r18646", "tree": {"sha": "dabddfa3ed6bcc4a893f84e2b95f77d89abdbafb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dabddfa3ed6bcc4a893f84e2b95f77d89abdbafb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c7dfe584801a38a984c279332c63e8fb41af4294", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7dfe584801a38a984c279332c63e8fb41af4294", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c7dfe584801a38a984c279332c63e8fb41af4294", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c7dfe584801a38a984c279332c63e8fb41af4294/comments", "author": null, "committer": null, "parents": [{"sha": "edcd669072bdfccf47020cc6925af2cc620d411c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/edcd669072bdfccf47020cc6925af2cc620d411c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/edcd669072bdfccf47020cc6925af2cc620d411c"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "46505862ccddb36a3e4631836dc85e751f8a2272", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7dfe584801a38a984c279332c63e8fb41af4294/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7dfe584801a38a984c279332c63e8fb41af4294/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c7dfe584801a38a984c279332c63e8fb41af4294", "patch": "@@ -1,3 +1,8 @@\n+Tue Mar 17 11:40:26 1998  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* pt.c (push_template_decl): Complain about template with C linkage,\n+\tanonymous template class.\n+\n Mon Mar 16 12:10:39 1998  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* class.c (pushclass): Only use the mi_matrix stuff #ifdef MI_MATRIX."}, {"sha": "6cc0aa30083f4ff392e56b1593abf28e2e9c9ada", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c7dfe584801a38a984c279332c63e8fb41af4294/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c7dfe584801a38a984c279332c63e8fb41af4294/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=c7dfe584801a38a984c279332c63e8fb41af4294", "patch": "@@ -1369,6 +1369,11 @@ push_template_decl (decl)\n   int is_friend = (TREE_CODE (decl) == FUNCTION_DECL\n \t\t   && DECL_FRIEND_P (decl));\n \n+  if (current_lang_name == lang_name_c)\n+    cp_error (\"template with C linkage\");\n+  if (TREE_CODE (decl) == TYPE_DECL && ANON_AGGRNAME_P (DECL_NAME (decl)))\n+    cp_error (\"template class without a name\");\n+\n   if (is_friend)\n     /* For a friend, we want the context of the friend function, not\n        the type of which it is a friend.  */"}]}