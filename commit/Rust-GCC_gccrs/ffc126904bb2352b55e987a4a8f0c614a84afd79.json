{"sha": "ffc126904bb2352b55e987a4a8f0c614a84afd79", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmZjMTI2OTA0YmIyMzUyYjU1ZTk4N2E0YThmMGM2MTRhODRhZmQ3OQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2017-06-16T21:06:36Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2017-06-16T21:06:36Z"}, "message": "[arm] Add a few missing architecture extension options.\n\n\nReviewing the list of options for the purposes of writing the\ndocumentation revealed that a small number of options were missing.\nMostly these are aliases for existing options, but in a couple of\ncases we lacked the ability to disable certain other options.\n\n\t* config/arm/arm-cpus.in (armv7): Add extension +nofp.\n\t(armv7-r): Add aliases vfpv3xd and vfpv3-d16.\n\t(armv8-m.main): Add option +nodsp.\n\t* config/arm/arm-cpu-cdata.h: Regenerated.\n\nFrom-SVN: r249306", "tree": {"sha": "3082d5d75d3847de51de72447c8f1c1a21ff7d92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3082d5d75d3847de51de72447c8f1c1a21ff7d92"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ffc126904bb2352b55e987a4a8f0c614a84afd79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffc126904bb2352b55e987a4a8f0c614a84afd79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffc126904bb2352b55e987a4a8f0c614a84afd79", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffc126904bb2352b55e987a4a8f0c614a84afd79/comments", "author": null, "committer": null, "parents": [{"sha": "be5c4e06871958f2cbd7f091b6b123fb5ee94151", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/be5c4e06871958f2cbd7f091b6b123fb5ee94151", "html_url": "https://github.com/Rust-GCC/gccrs/commit/be5c4e06871958f2cbd7f091b6b123fb5ee94151"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "88b17343ec7e2c478e99e4deec59929adbada24b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc126904bb2352b55e987a4a8f0c614a84afd79/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc126904bb2352b55e987a4a8f0c614a84afd79/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ffc126904bb2352b55e987a4a8f0c614a84afd79", "patch": "@@ -1,3 +1,10 @@\n+2017-06-16  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\t* config/arm/arm-cpus.in (armv7): Add extension +nofp.\n+\t(armv7-r): Add aliases vfpv3xd and vfpv3-d16.\n+\t(armv8-m.main): Add option +nodsp.\n+\t* config/arm/arm-cpu-cdata.h: Regenerated.\n+\n 2017-06-16  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* config/arm/t-fuchsia: New file."}, {"sha": "8406fa05423bc9995f1a9091e6ad1a92db816f7e", "filename": "gcc/config/arm/arm-cpu-cdata.h", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc126904bb2352b55e987a4a8f0c614a84afd79/gcc%2Fconfig%2Farm%2Farm-cpu-cdata.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc126904bb2352b55e987a4a8f0c614a84afd79/gcc%2Fconfig%2Farm%2Farm-cpu-cdata.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-cpu-cdata.h?ref=ffc126904bb2352b55e987a4a8f0c614a84afd79", "patch": "@@ -1813,6 +1813,10 @@ static const struct cpu_arch_extension arch_opttab_armv7[] = {\n     \"fp\", false, false,\n     { ISA_VFPv3,ISA_FP_DBL, isa_nobit }\n   },\n+  {\n+    \"nofp\", true, false,\n+    { ISA_ALL_FP, isa_nobit }\n+  },\n   {\n     \"vfpv3-d16\", false, true, \n     { ISA_VFPv3,ISA_FP_DBL, isa_nobit }\n@@ -1961,6 +1965,14 @@ static const struct cpu_arch_extension arch_opttab_armv7_r[] = {\n     \"noidiv\", true, false,\n     { isa_bit_adiv, isa_nobit }\n   },\n+  {\n+    \"vfpv3xd\", false, true, \n+    { ISA_VFPv3, isa_nobit }\n+  },\n+  {\n+    \"vfpv3-d16\", false, true, \n+    { ISA_VFPv3,ISA_FP_DBL, isa_nobit }\n+  },\n   { NULL, false, false, {isa_nobit}}\n };\n \n@@ -2025,6 +2037,14 @@ static const struct cpu_arch_extension arch_opttab_armv8_1_a[] = {\n     \"nofp\", true, false,\n     { ISA_ALL_FP, isa_nobit }\n   },\n+  {\n+    \"vfpv4-sp-d16\", false, true, \n+    { ISA_VFPv4, isa_nobit }\n+  },\n+  {\n+    \"fpv5-d16\", false, true, \n+    { ISA_FPv5,ISA_FP_DBL, isa_nobit }\n+  },\n   { NULL, false, false, {isa_nobit}}\n };\n \n@@ -2069,6 +2089,10 @@ static const struct cpu_arch_extension arch_opttab_armv8_m_main[] = {\n     \"nofp\", true, false,\n     { ISA_ALL_FP, isa_nobit }\n   },\n+  {\n+    \"nodsp\", true, false,\n+    { isa_bit_ARMv7em, isa_nobit }\n+  },\n   { NULL, false, false, {isa_nobit}}\n };\n "}, {"sha": "43f4ebcc5f7d66c80740ba99d5e49514f5f13501", "filename": "gcc/config/arm/arm-cpus.in", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ffc126904bb2352b55e987a4a8f0c614a84afd79/gcc%2Fconfig%2Farm%2Farm-cpus.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ffc126904bb2352b55e987a4a8f0c614a84afd79/gcc%2Fconfig%2Farm%2Farm-cpus.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm-cpus.in?ref=ffc126904bb2352b55e987a4a8f0c614a84afd79", "patch": "@@ -228,6 +228,7 @@ begin arch armv7\n # fp => VFPv3-d16 (only useful for the A+R profile subset).\n  option fp add VFPv3 FP_DBL\n  optalias vfpv3-d16 fp\n+ option nofp remove ALL_FP\n end arch armv7\n \n begin arch armv7-a\n@@ -281,7 +282,9 @@ begin arch armv7-r\n  isa ARMv7r\n # ARMv7-r uses VFPv3-d16\n  option fp.sp add VFPv3\n+ optalias vfpv3xd fp.sp\n  option fp add VFPv3 FP_DBL\n+ optalias vfpv3-d16 fp\n  option idiv add bit_adiv\n  option nofp remove ALL_FP\n  option noidiv remove bit_adiv\n@@ -303,8 +306,10 @@ begin arch armv7e-m\n  isa ARMv7em\n # fp => VFPv4-sp-d16; fpv5 => FPv5-sp-d16; fp.dp => FPv5-d16\n  option fp add VFPv4\n+ optalias vfpv4-sp-d16 fp\n  option fpv5 add FPv5\n  option fp.dp add FPv5 FP_DBL\n+ optalias fpv5-d16 fp.dp\n  option nofp remove ALL_FP\n end arch armv7e-m\n \n@@ -359,6 +364,7 @@ begin arch armv8-m.main\n  option fp add FPv5\n  option fp.dp add FPv5 FP_DBL\n  option nofp remove ALL_FP\n+ option nodsp remove bit_ARMv7em\n end arch armv8-m.main\n \n begin arch iwmmxt"}]}