{"sha": "deeec83de4379e253af4f41eaaf8f45d4db17302", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVlZWM4M2RlNDM3OWUyNTNhZjRmNDFlYWFmOGY0NWQ0ZGIxNzMwMg==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2019-03-05T14:57:12Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2019-03-05T14:57:12Z"}, "message": "re PR tree-optimization/89594 (ICE: Segmentation fault (in gsi_for_stmt(gimple*)))\n\n2019-03-05  Richard Biener  <rguenther@suse.de>\n\n\tPR tree-optimization/89594\n\t* tree-if-conv.c (pass_if_conversion::execute): Handle\n\tcase where .LOOP_VECTORIZED_FUNCTION was removed.\n\n\t* gcc.dg/pr89594.c: New testcase.\n\nFrom-SVN: r269389", "tree": {"sha": "d3f6b70ba0ca9bfd730b88857c96e9c0b4e9de7e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d3f6b70ba0ca9bfd730b88857c96e9c0b4e9de7e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/deeec83de4379e253af4f41eaaf8f45d4db17302", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deeec83de4379e253af4f41eaaf8f45d4db17302", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deeec83de4379e253af4f41eaaf8f45d4db17302", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deeec83de4379e253af4f41eaaf8f45d4db17302/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "186ae93c7b641f7fb94359b0bf764205624a0fd1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/186ae93c7b641f7fb94359b0bf764205624a0fd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/186ae93c7b641f7fb94359b0bf764205624a0fd1"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "4fb2792c70deeb326a3b2ef8ebad0a70a00ed0e4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=deeec83de4379e253af4f41eaaf8f45d4db17302", "patch": "@@ -1,3 +1,9 @@\n+2019-03-05  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/89594\n+\t* tree-if-conv.c (pass_if_conversion::execute): Handle\n+\tcase where .LOOP_VECTORIZED_FUNCTION was removed.\n+\n 2019-03-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR bootstrap/89560"}, {"sha": "529aa3cfd04da5c8e0b7c9e53c0ca28b11bdfd14", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=deeec83de4379e253af4f41eaaf8f45d4db17302", "patch": "@@ -1,3 +1,8 @@\n+2019-03-05  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/89594\n+\t* gcc.dg/pr89594.c: New testcase.\n+\n 2019-03-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/89487"}, {"sha": "4039f735af80892c57ff0eea2fa9adbce7869024", "filename": "gcc/testsuite/gcc.dg/pr89594.c", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2Ftestsuite%2Fgcc.dg%2Fpr89594.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2Ftestsuite%2Fgcc.dg%2Fpr89594.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr89594.c?ref=deeec83de4379e253af4f41eaaf8f45d4db17302", "patch": "@@ -0,0 +1,24 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O -ftree-loop-if-convert -ftree-loop-vectorize -fno-tree-ch\" } */\n+\n+int h3;\n+\n+void\n+in (void)\n+{\n+  long int zr;\n+  int ee = 0;\n+\n+  for (zr = 0; zr < 1; zr = h3)\n+    {\n+      ee = !!h3 ? zr : 0;\n+\n+      h3 = 0;\n+      while (h3 < 0)\n+\th3 = 0;\n+    }\n+\n+  h3 = 0;\n+  while (h3 < 1)\n+    h3 = !!ee ? (!!h3 + 1) : 0;\n+}"}, {"sha": "ec2db007a6165fb1c905a59c35922afd0f73081b", "filename": "gcc/tree-if-conv.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2Ftree-if-conv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deeec83de4379e253af4f41eaaf8f45d4db17302/gcc%2Ftree-if-conv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-if-conv.c?ref=deeec83de4379e253af4f41eaaf8f45d4db17302", "patch": "@@ -3176,6 +3176,8 @@ pass_if_conversion::execute (function *fun)\n   for (unsigned i = 0; i < preds.length (); ++i)\n     {\n       gimple *g = preds[i];\n+      if (!gimple_bb (g))\n+\tcontinue;\n       unsigned ifcvt_loop = tree_to_uhwi (gimple_call_arg (g, 0));\n       if (!get_loop (fun, ifcvt_loop))\n \t{"}]}