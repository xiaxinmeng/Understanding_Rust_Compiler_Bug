{"sha": "61a66555d1e569532761325ddc029926c681c0b9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFhNjY1NTVkMWU1Njk1MzI3NjEzMjVkZGMwMjk5MjZjNjgxYzBiOQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-06T20:40:41Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-07-06T20:40:41Z"}, "message": "(output_move_quad): Implement CNSTOP case.\n\nFrom-SVN: r4861", "tree": {"sha": "c00b399b5439031eca9b30b7afb7b74f03ee2cef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c00b399b5439031eca9b30b7afb7b74f03ee2cef"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61a66555d1e569532761325ddc029926c681c0b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61a66555d1e569532761325ddc029926c681c0b9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61a66555d1e569532761325ddc029926c681c0b9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61a66555d1e569532761325ddc029926c681c0b9/comments", "author": null, "committer": null, "parents": [{"sha": "1bc147fb8a28c7f171c4095e89a5c1b28341e5eb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bc147fb8a28c7f171c4095e89a5c1b28341e5eb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bc147fb8a28c7f171c4095e89a5c1b28341e5eb"}], "stats": {"total": 23, "additions": 14, "deletions": 9}, "files": [{"sha": "b3d69c85468946445628544bc1ae315ddd6c5ca9", "filename": "gcc/config/sparc/sparc.c", "status": "modified", "additions": 14, "deletions": 9, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61a66555d1e569532761325ddc029926c681c0b9/gcc%2Fconfig%2Fsparc%2Fsparc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61a66555d1e569532761325ddc029926c681c0b9/gcc%2Fconfig%2Fsparc%2Fsparc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.c?ref=61a66555d1e569532761325ddc029926c681c0b9", "patch": "@@ -1298,15 +1298,20 @@ output_move_quad (operands)\n     }\n   else if (optype1 == CNSTOP)\n     {\n-      /* This case isn't implemented yet, because there is no internal\n-\t representation for quad-word constants, and there is no split_quad\n-\t function.  */\n-#if 0\n-      split_quad (op1, &wordpart[0][1], &wordpart[1][1],\n-\t\t  &wordpart[2][1], &wordpart[3][1]);\n-#else\n-      abort ();\n-#endif\n+      REAL_VALUE_TYPE r;\n+      long l[4];\n+\n+      /* This only works for TFmode floating point constants.  */\n+      if (GET_CODE (op1) != CONST_DOUBLE || GET_MODE (op1) != TFmode)\n+\tabort ();\n+\n+      REAL_VALUE_FROM_CONST_DOUBLE (r, op1);\n+      REAL_VALUE_TO_TARGET_LONG_DOUBLE (r, l);\n+      \n+      wordpart[0][1] = GEN_INT (l[0]);\n+      wordpart[1][1] = GEN_INT (l[1]);\n+      wordpart[2][1] = GEN_INT (l[2]);\n+      wordpart[3][1] = GEN_INT (l[3]);\n     }\n   else\n     {"}]}