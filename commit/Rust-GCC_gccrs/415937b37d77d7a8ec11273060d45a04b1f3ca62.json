{"sha": "415937b37d77d7a8ec11273060d45a04b1f3ca62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDE1OTM3YjM3ZDc3ZDdhOGVjMTEyNzMwNjBkNDVhMDRiMWYzY2E2Mg==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2018-12-06T15:35:34Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2018-12-06T15:35:34Z"}, "message": "re PR testsuite/86540 (pr77445-2.c and ssa-dom-thread-7.c regressions since May 20, 2018)\n\n\tPR testsuite/86540\n\t* gcc.dg/tree-ssa/ssa-dom-thread-7.c: Skip the post switch conversion\n\ttests on aarch64.\n\t* gcc.dg/tree-ssa/pr77445-2.c: Similarly.\n\nFrom-SVN: r266857", "tree": {"sha": "e9f6d100f2e52aded6ea65e11ba6fa730077b543", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e9f6d100f2e52aded6ea65e11ba6fa730077b543"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/415937b37d77d7a8ec11273060d45a04b1f3ca62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/415937b37d77d7a8ec11273060d45a04b1f3ca62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/415937b37d77d7a8ec11273060d45a04b1f3ca62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/415937b37d77d7a8ec11273060d45a04b1f3ca62/comments", "author": null, "committer": null, "parents": [{"sha": "f11854d42ab072a260ab9ee019a527acf03c5107", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f11854d42ab072a260ab9ee019a527acf03c5107", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f11854d42ab072a260ab9ee019a527acf03c5107"}], "stats": {"total": 24, "additions": 19, "deletions": 5}, "files": [{"sha": "0272bbe06050ba2388c0a92043958522f2a02999", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/415937b37d77d7a8ec11273060d45a04b1f3ca62/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/415937b37d77d7a8ec11273060d45a04b1f3ca62/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=415937b37d77d7a8ec11273060d45a04b1f3ca62", "patch": "@@ -1,3 +1,10 @@\n+2018-12-06  Jeff Law  <law@redhat.com>\n+\n+\tPR testsuite/86540\n+\t* gcc.dg/tree-ssa/ssa-dom-thread-7.c: Skip the post switch conversion\n+\ttests on aarch64.\n+\t* gcc.dg/tree-ssa/pr77445-2.c: Similarly.\n+ \n 2018-12-06  David Malcolm  <dmalcolm@redhat.com>\n \n \tPR c++/85110"}, {"sha": "c5d567dabdc5fad3f49cb6b944a676f1be1f14e3", "filename": "gcc/testsuite/gcc.dg/tree-ssa/pr77445-2.c", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/415937b37d77d7a8ec11273060d45a04b1f3ca62/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr77445-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/415937b37d77d7a8ec11273060d45a04b1f3ca62/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr77445-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fpr77445-2.c?ref=415937b37d77d7a8ec11273060d45a04b1f3ca62", "patch": "@@ -118,10 +118,14 @@ enum STATES FMS( u8 **in , u32 *transitions) {\n \n /* The profile is not updated perfectly because it is inconsitent from\n    profile estimation stage. But the number of inconsistencies should not\n-   increase much.  */\n+   increase much. \n+\n+   aarch64 has the highest CASE_VALUES_THRESHOLD in GCC.  It's high enough\n+   to change decisions in switch expansion which in turn can expose new\n+   jump threading opportunities.  Skip the later tests on aarch64.  */\n /* { dg-final { scan-tree-dump \"Jumps threaded: 1\\[1-9\\]\" \"thread1\" } } */\n /* { dg-final { scan-tree-dump-times \"Invalid sum\" 3 \"thread1\" } } */\n /* { dg-final { scan-tree-dump-not \"not considered\" \"thread1\" } } */\n /* { dg-final { scan-tree-dump-not \"not considered\" \"thread2\" } } */\n-/* { dg-final { scan-tree-dump-not \"not considered\" \"thread3\" } } */\n-/* { dg-final { scan-tree-dump-not \"not considered\" \"thread4\" } } */\n+/* { dg-final { scan-tree-dump-not \"not considered\" \"thread3\" { target { ! aarch64*-*-* } } } } */\n+/* { dg-final { scan-tree-dump-not \"not considered\" \"thread4\" { target { ! aarch64*-*-* } } } } */ "}, {"sha": "f833aa4351deb440c4eb6a4bcfa3421670bd68cb", "filename": "gcc/testsuite/gcc.dg/tree-ssa/ssa-dom-thread-7.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/415937b37d77d7a8ec11273060d45a04b1f3ca62/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/415937b37d77d7a8ec11273060d45a04b1f3ca62/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fssa-dom-thread-7.c?ref=415937b37d77d7a8ec11273060d45a04b1f3ca62", "patch": "@@ -3,8 +3,11 @@\n /* { dg-final { scan-tree-dump \"Jumps threaded: 16\"  \"thread1\" } } */\n /* { dg-final { scan-tree-dump \"Jumps threaded: 9\" \"thread2\" } } */\n /* { dg-final { scan-tree-dump \"Jumps threaded: 1\"  \"dom2\" } } */\n-/* { dg-final { scan-tree-dump-not \"Jumps threaded\"  \"dom3\" } } */\n-/* { dg-final { scan-tree-dump-not \"Jumps threaded\"  \"vrp2\" } } */\n+/* aarch64 has the highest CASE_VALUES_THRESHOLD in GCC.  It's high enough\n+   to change decisions in switch expansion which in turn can expose new\n+   jump threading opportunities.  Skip the later tests on aarch64.  */\n+/* { dg-final { scan-tree-dump-not \"Jumps threaded\"  \"dom3\" { target { ! aarch64*-*-* } } } } */\n+/* { dg-final { scan-tree-dump-not \"Jumps threaded\"  \"vrp2\" { target { ! aarch64*-*-* } } } } */\n \n /* Most architectures get 3 threadable paths here, whereas aarch64 and\n    possibly others get 5.  We really should rewrite threading tests to"}]}