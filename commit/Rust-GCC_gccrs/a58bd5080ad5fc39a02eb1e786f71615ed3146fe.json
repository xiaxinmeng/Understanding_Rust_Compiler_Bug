{"sha": "a58bd5080ad5fc39a02eb1e786f71615ed3146fe", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTU4YmQ1MDgwYWQ1ZmMzOWEwMmViMWU3ODZmNzE2MTVlZDMxNDZmZQ==", "commit": {"author": {"name": "Michael Tiemann", "email": "michael@impact.tiemann.org", "date": "1998-09-19T23:27:02Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-09-19T23:27:02Z"}, "message": "fold-const.c (fold): Fix typo in COND_EXPR handling code.\n\n        * fold-const.c (fold): Fix typo in COND_EXPR handling code.\n        (invert_truthvalue): Enable truthvalue inversion for\n        floating-point operands if -ffast-math.\n\nFrom-SVN: r22488", "tree": {"sha": "bf68cba9a0bcd3905cd9990cc6ba8f391559f0f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf68cba9a0bcd3905cd9990cc6ba8f391559f0f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a58bd5080ad5fc39a02eb1e786f71615ed3146fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a58bd5080ad5fc39a02eb1e786f71615ed3146fe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a58bd5080ad5fc39a02eb1e786f71615ed3146fe", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a58bd5080ad5fc39a02eb1e786f71615ed3146fe/comments", "author": null, "committer": null, "parents": [{"sha": "750930c1f87332d91ef00835a8e3bb4cd2e028f9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/750930c1f87332d91ef00835a8e3bb4cd2e028f9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/750930c1f87332d91ef00835a8e3bb4cd2e028f9"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "ae27929bc5a3fa229cb3987b93d8c5e4b4495177", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a58bd5080ad5fc39a02eb1e786f71615ed3146fe/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a58bd5080ad5fc39a02eb1e786f71615ed3146fe/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a58bd5080ad5fc39a02eb1e786f71615ed3146fe", "patch": "@@ -1,3 +1,9 @@\n+Sun Sep 20 00:22:23 1998  Michael Tiemann  <michael@impact.tiemann.org>\n+\n+\t* fold-const.c (fold): Fix typo in COND_EXPR handling code.\n+\t(invert_truthvalue): Enable truthvalue inversion for\n+\tfloating-point operands if -ffast-math.\n+\n Sat Sep 19 23:58:07 1998  Melissa O'Neill <oneill@cs.sfu.ca>\n \t\t\t \n \t* configure.in: Disable collect2 for nextstep.  Instead use"}, {"sha": "5eab656228284199b8ee675a275d07afb695036c", "filename": "gcc/fold-const.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a58bd5080ad5fc39a02eb1e786f71615ed3146fe/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a58bd5080ad5fc39a02eb1e786f71615ed3146fe/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=a58bd5080ad5fc39a02eb1e786f71615ed3146fe", "patch": "@@ -2230,7 +2230,7 @@ invert_truthvalue (arg)\n   if (TREE_CODE_CLASS (code) == '<')\n     {\n       if (FLOAT_TYPE_P (TREE_TYPE (TREE_OPERAND (arg, 0)))\n-\t  && code != NE_EXPR && code != EQ_EXPR)\n+\t  && !flag_fast_math && code != NE_EXPR && code != EQ_EXPR)\n \treturn build1 (TRUTH_NOT_EXPR, type, arg);\n       else\n \treturn build (invert_tree_comparison (code), type,\n@@ -5824,7 +5824,8 @@ fold (expr)\n \t      t = build (code, type, tem,\n \t\t\t TREE_OPERAND (t, 2), TREE_OPERAND (t, 1));\n \t      arg0 = tem;\n-\t      arg1 = TREE_OPERAND (t, 2);\n+\t      /* arg1 should be the first argument of the new T.  */\n+\t      arg1 = TREE_OPERAND (t, 1);\n \t      STRIP_NOPS (arg1);\n \t    }\n \t}"}]}