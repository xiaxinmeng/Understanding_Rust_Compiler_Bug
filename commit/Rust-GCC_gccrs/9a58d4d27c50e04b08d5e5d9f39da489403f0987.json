{"sha": "9a58d4d27c50e04b08d5e5d9f39da489403f0987", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWE1OGQ0ZDI3YzUwZTA0YjA4ZDVlNWQ5ZjM5ZGE0ODk0MDNmMDk4Nw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2009-02-08T23:10:00Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-02-08T23:10:00Z"}, "message": "tree-ssa-loop-ivopts.c (may_be_nonaddressable_p): Make case self-contained.\n\n\t* tree-ssa-loop-ivopts.c (may_be_nonaddressable_p) <VIEW_CONVERT_EXPR>:\n\tMake case self-contained.\n\t<ARRAY_REF>: Test TYPE_NONALIASED_COMPONENT flag.\nada/\n\t* gcc-interface/decl.c (gnat_to_gnu_entity) <E_String_Literal_Subtype>:\n\tSet TYPE_NONALIASED_COMPONENT on the array type.\n\nFrom-SVN: r144021", "tree": {"sha": "6a2ee53b314ca031061181f3fc11e2218d380be3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a2ee53b314ca031061181f3fc11e2218d380be3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9a58d4d27c50e04b08d5e5d9f39da489403f0987", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a58d4d27c50e04b08d5e5d9f39da489403f0987", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9a58d4d27c50e04b08d5e5d9f39da489403f0987", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9a58d4d27c50e04b08d5e5d9f39da489403f0987/comments", "author": null, "committer": null, "parents": [{"sha": "ede965edbc14b64b34ed2e2f71164f151c3bf191", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ede965edbc14b64b34ed2e2f71164f151c3bf191", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ede965edbc14b64b34ed2e2f71164f151c3bf191"}], "stats": {"total": 23, "additions": 17, "deletions": 6}, "files": [{"sha": "c5833dd3ab4566286a1b4d4a3c68baa6cae13bce", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9a58d4d27c50e04b08d5e5d9f39da489403f0987", "patch": "@@ -1,3 +1,9 @@\n+2009-02-08  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-ssa-loop-ivopts.c (may_be_nonaddressable_p) <VIEW_CONVERT_EXPR>:\n+\tMake case self-contained.\n+\t<ARRAY_REF>: Test TYPE_NONALIASED_COMPONENT flag.\n+\n 2009-02-07  Anatoly Sokolov  <aesok@post.ru>\n \n \t* config/avr/avr.c (avr_mcu_t): Add ata6289 device."}, {"sha": "4da0bbb7222f526602cdaaf7b8101e12894bcb57", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=9a58d4d27c50e04b08d5e5d9f39da489403f0987", "patch": "@@ -1,3 +1,8 @@\n+2009-02-08  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (gnat_to_gnu_entity) <E_String_Literal_Subtype>:\n+\tSet TYPE_NONALIASED_COMPONENT on the array type.\n+\n 2009-01-31  Laurent GUERBY  <laurent@guerby.net>\n \n \t* gcc-interface/Makefile.in: Fix mipsel linux handling."}, {"sha": "874b1ccb0353d67f449c9b953e9be98c080806c9", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=9a58d4d27c50e04b08d5e5d9f39da489403f0987", "patch": "@@ -2615,6 +2615,7 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \tgnu_type\n \t  = build_array_type (gnat_to_gnu_type (Component_Type (gnat_entity)),\n \t\t\t      gnu_index_type);\n+\tTYPE_NONALIASED_COMPONENT (gnu_type) = 1;\n \tcopy_alias_set (gnu_type,  gnu_string_type);\n       }\n       break;"}, {"sha": "a1f5c47572dd4df7e81b343155fe2be150b9ed37", "filename": "gcc/tree-ssa-loop-ivopts.c", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2Ftree-ssa-loop-ivopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9a58d4d27c50e04b08d5e5d9f39da489403f0987/gcc%2Ftree-ssa-loop-ivopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivopts.c?ref=9a58d4d27c50e04b08d5e5d9f39da489403f0987", "patch": "@@ -1562,15 +1562,14 @@ may_be_nonaddressable_p (tree expr)\n \t and make them look addressable.  After some processing the\n \t non-addressability may be uncovered again, causing ADDR_EXPRs\n \t of inappropriate objects to be built.  */\n-      if (is_gimple_reg (TREE_OPERAND (expr, 0))\n-\t  || !is_gimple_addressable (TREE_OPERAND (expr, 0)))\n-\treturn true;\n-\n-      /* ... fall through ... */\n+      return is_gimple_reg (TREE_OPERAND (expr, 0))\n+\t     || !is_gimple_addressable (TREE_OPERAND (expr, 0))\n+\t     || may_be_nonaddressable_p (TREE_OPERAND (expr, 0));\n \n     case ARRAY_REF:\n     case ARRAY_RANGE_REF:\n-      return may_be_nonaddressable_p (TREE_OPERAND (expr, 0));\n+      return TYPE_NONALIASED_COMPONENT (TREE_TYPE (TREE_OPERAND (expr, 0)))\n+\t     || may_be_nonaddressable_p (TREE_OPERAND (expr, 0));\n \n     CASE_CONVERT:\n       return true;"}]}