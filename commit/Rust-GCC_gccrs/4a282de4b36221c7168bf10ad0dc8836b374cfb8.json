{"sha": "4a282de4b36221c7168bf10ad0dc8836b374cfb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGEyODJkZTRiMzYyMjFjNzE2OGJmMTBhZDBkYzg4MzZiMzc0Y2ZiOA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2006-03-21T04:00:36Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2006-03-21T04:00:36Z"}, "message": "use scan-hidden\n\nFrom-SVN: r112241", "tree": {"sha": "1a392412165e983b01eee110c4bf885d416d2f9c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a392412165e983b01eee110c4bf885d416d2f9c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a282de4b36221c7168bf10ad0dc8836b374cfb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a282de4b36221c7168bf10ad0dc8836b374cfb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a282de4b36221c7168bf10ad0dc8836b374cfb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a282de4b36221c7168bf10ad0dc8836b374cfb8/comments", "author": null, "committer": null, "parents": [{"sha": "39a404c5abc2a0254f8fcfbb46444fa9b7116729", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39a404c5abc2a0254f8fcfbb46444fa9b7116729", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39a404c5abc2a0254f8fcfbb46444fa9b7116729"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "7a04db601154afff111900f34d8784f71326698c", "filename": "gcc/testsuite/g++.dg/ext/visibility/local1.C", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a282de4b36221c7168bf10ad0dc8836b374cfb8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Flocal1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a282de4b36221c7168bf10ad0dc8836b374cfb8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Flocal1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Flocal1.C?ref=4a282de4b36221c7168bf10ad0dc8836b374cfb8", "patch": "@@ -2,10 +2,10 @@\n // Test that hidden visibility on an inline function is inherited by static\n // local variables and local classes.\n \n-// { dg-do compile { target i?86-*-linux* x86_64-*-linux* powerpc*-*-linux* } }\n-// { dg-final { scan-assembler \"hidden\\[ \\t\\]*_Z1fv\" } }\n-// { dg-final { scan-assembler \"hidden\\[ \\t\\]*_ZZ1fvE1i\" } }\n-// { dg-final { scan-assembler \"hidden\\[ \\t\\]*_ZZ1fvEN1A1fEv\" } }\n+// { dg-require-visibility \"\" }\n+// { dg-final { scan-hidden \"_Z1fv\" } }\n+// { dg-final { scan-hidden \"_ZZ1fvE1i\" } }\n+// { dg-final { scan-hidden \"_ZZ1fvEN1A1fEv\" } }\n \n __attribute ((visibility (\"hidden\"))) inline int\n f()"}, {"sha": "b7773dc9d61cb274bb2ad4fad082918bc14a638a", "filename": "gcc/testsuite/g++.dg/ext/visibility/namespace1.C", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a282de4b36221c7168bf10ad0dc8836b374cfb8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Fnamespace1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a282de4b36221c7168bf10ad0dc8836b374cfb8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Fnamespace1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fvisibility%2Fnamespace1.C?ref=4a282de4b36221c7168bf10ad0dc8836b374cfb8", "patch": "@@ -1,12 +1,12 @@\n // PR c++/21764\n // Test for namespace visibility attribute semantics.\n \n-// { dg-do compile { target i?86-*-linux* x86_64-*-linux* powerpc*-*-linux* } }\n-// { dg-final { scan-assembler \"hidden\\[ \\t\\]*_ZN3foo1fEv\" } }\n-// { dg-final { scan-assembler \"hidden\\[ \\t\\]*_ZN3foo1gEv\" } }\n-// { dg-final { scan-assembler \"hidden\\[ \\t\\]*_ZN3foo1A1mEv\" } }\n-// { dg-final { scan-assembler \"hidden\\[ \\t\\]*_ZN3foo1tIiEEvv\" } }\n-// { dg-final { scan-assembler-not \"hidden\\[ \\t\\]*_ZN3foo1hEv\" } }\n+// { dg-require-visibility \"\" }\n+// { dg-final { scan-hidden \"_ZN3foo1fEv\" } }\n+// { dg-final { scan-hidden \"_ZN3foo1gEv\" } }\n+// { dg-final { scan-hidden \"_ZN3foo1A1mEv\" } }\n+// { dg-final { scan-hidden \"_ZN3foo1tIiEEvv\" } }\n+// { dg-final { scan-not-hidden \"_ZN3foo1hEv\" } }\n \n namespace foo __attribute ((visibility (\"hidden\")))\n {"}]}