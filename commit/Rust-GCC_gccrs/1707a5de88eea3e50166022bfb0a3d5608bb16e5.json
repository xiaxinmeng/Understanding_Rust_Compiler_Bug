{"sha": "1707a5de88eea3e50166022bfb0a3d5608bb16e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTcwN2E1ZGU4OGVlYTNlNTAxNjYwMjJiZmIwYTNkNTYwOGJiMTZlNQ==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2013-11-07T15:07:58Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2013-11-07T15:07:58Z"}, "message": "libgomp: Prepare for testcases without -fopenmp.\n\n\tlibgomp/\n\t* testsuite/lib/libgomp.exp (libgomp_init): Don't add -fopenmp to\n\tALWAYS_CFLAGS.\n\t* testsuite/libgomp.c++/c++.exp (ALWAYS_CFLAGS): Add -fopenmp.\n\t* testsuite/libgomp.c/c.exp (ALWAYS_CFLAGS): Likewise.\n\t* testsuite/libgomp.fortran/fortran.exp (ALWAYS_CFLAGS): Likewise.\n\t* testsuite/libgomp.graphite/graphite.exp (ALWAYS_CFLAGS):\n\tLikewise.\n\nFrom-SVN: r204519", "tree": {"sha": "58d7a7b7ca50655c031627419515b803f7e1daf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58d7a7b7ca50655c031627419515b803f7e1daf1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1707a5de88eea3e50166022bfb0a3d5608bb16e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1707a5de88eea3e50166022bfb0a3d5608bb16e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1707a5de88eea3e50166022bfb0a3d5608bb16e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1707a5de88eea3e50166022bfb0a3d5608bb16e5/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "70f05c436243dd9ca862663f2c05bda86f49719c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/70f05c436243dd9ca862663f2c05bda86f49719c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/70f05c436243dd9ca862663f2c05bda86f49719c"}], "stats": {"total": 23, "additions": 20, "deletions": 3}, "files": [{"sha": "00b4ce1ba899bee312c95830efea3f8f2c466d67", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=1707a5de88eea3e50166022bfb0a3d5608bb16e5", "patch": "@@ -1,5 +1,13 @@\n 2013-11-07  Thomas Schwinge  <thomas@codesourcery.com>\n \n+\t* testsuite/lib/libgomp.exp (libgomp_init): Don't add -fopenmp to\n+\tALWAYS_CFLAGS.\n+\t* testsuite/libgomp.c++/c++.exp (ALWAYS_CFLAGS): Add -fopenmp.\n+\t* testsuite/libgomp.c/c.exp (ALWAYS_CFLAGS): Likewise.\n+\t* testsuite/libgomp.fortran/fortran.exp (ALWAYS_CFLAGS): Likewise.\n+\t* testsuite/libgomp.graphite/graphite.exp (ALWAYS_CFLAGS):\n+\tLikewise.\n+\n \t* libgomp_g.h: Include <stddef.h> for size_t.\n \n \t* libgomp.spec.in: Update comment about libgomp's dependencies."}, {"sha": "c965147e4fde58ab6f0cbb7900cd969f8e1de906", "filename": "libgomp/testsuite/lib/libgomp.exp", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flib%2Flibgomp.exp?ref=1707a5de88eea3e50166022bfb0a3d5608bb16e5", "patch": "@@ -169,9 +169,6 @@ proc libgomp_init { args } {\n \n     # Disable color diagnostics\n     lappend ALWAYS_CFLAGS \"additional_flags=-fdiagnostics-color=never\"\n-\n-    # And, gee, turn on OpenMP.\n-    lappend ALWAYS_CFLAGS \"additional_flags=-fopenmp\"\n }\n \n #"}, {"sha": "88e017e4e29cf568d3289af3d6eed5f2a7eee972", "filename": "libgomp/testsuite/libgomp.c++/c++.exp", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Fc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Fc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2B%2B%2Fc%2B%2B.exp?ref=1707a5de88eea3e50166022bfb0a3d5608bb16e5", "patch": "@@ -11,6 +11,9 @@ set lang_library_path \"../libstdc++-v3/src/.libs\"\n # Initialize dg.\n dg-init\n \n+# Turn on OpenMP.\n+lappend ALWAYS_CFLAGS \"additional_flags=-fopenmp\"\n+\n set blddir [lookfor_file [get_multilibs] libgomp]\n \n "}, {"sha": "8e902d4c131e8ec76b6bb5b81474121c84f01ff5", "filename": "libgomp/testsuite/libgomp.c/c.exp", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.c%2Fc.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.c%2Fc.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.c%2Fc.exp?ref=1707a5de88eea3e50166022bfb0a3d5608bb16e5", "patch": "@@ -17,6 +17,9 @@ if ![info exists DEFAULT_CFLAGS] then {\n # Initialize dg.\n dg-init\n \n+# Turn on OpenMP.\n+lappend ALWAYS_CFLAGS \"additional_flags=-fopenmp\"\n+\n # Gather a list of all tests.\n set tests [lsort [find $srcdir/$subdir *.c]]\n "}, {"sha": "e0bffe390b7a6e7ea78c8ff6bdb24a2d5689335d", "filename": "libgomp/testsuite/libgomp.fortran/fortran.exp", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ffortran.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ffortran.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.fortran%2Ffortran.exp?ref=1707a5de88eea3e50166022bfb0a3d5608bb16e5", "patch": "@@ -15,6 +15,9 @@ set quadmath_library_path \"../libquadmath/.libs\"\n # Initialize dg.\n dg-init\n \n+# Turn on OpenMP.\n+lappend ALWAYS_CFLAGS \"additional_flags=-fopenmp\"\n+\n if { $blddir != \"\" } {\n     lappend ALWAYS_CFLAGS \"additional_flags=-fintrinsic-modules-path=${blddir}\"\n     # Look for a static libgfortran first."}, {"sha": "9129964eb19df0b0c670a77323d7094b742c9912", "filename": "libgomp/testsuite/libgomp.graphite/graphite.exp", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.graphite%2Fgraphite.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1707a5de88eea3e50166022bfb0a3d5608bb16e5/libgomp%2Ftestsuite%2Flibgomp.graphite%2Fgraphite.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.graphite%2Fgraphite.exp?ref=1707a5de88eea3e50166022bfb0a3d5608bb16e5", "patch": "@@ -42,6 +42,9 @@ set PARALLEL_CFLAGS \"-ansi -pedantic-errors -O2 \\\n # Initialize `dg'.\n dg-init\n \n+# Turn on OpenMP.\n+lappend ALWAYS_CFLAGS \"additional_flags=-fopenmp\"\n+\n # Gather a list of all tests.\n set tests [lsort [find $srcdir/$subdir *.c]]\n "}]}