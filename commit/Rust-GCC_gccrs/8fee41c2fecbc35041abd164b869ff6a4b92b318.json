{"sha": "8fee41c2fecbc35041abd164b869ff6a4b92b318", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZlZTQxYzJmZWNiYzM1MDQxYWJkMTY0Yjg2OWZmNmE0YjkyYjMxOA==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2007-07-26T18:06:38Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2007-07-26T18:06:38Z"}, "message": "dominance.c (dom_computed, [...]): Removed.\n\n\t* dominance.c (dom_computed, n_bbs_in_dom_tree): Removed.\n\t* function.h (dom_computed, n_bbs_in_dom_tree): New macros.\n\t* basic-block.h (struct control_flow_graph): Added x_dom_computed\n\tand x_n_bbs_in_dom_tree fields.\n\nFrom-SVN: r126960", "tree": {"sha": "e691ad2d1c68ced9688625a401830f3a64cc09f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e691ad2d1c68ced9688625a401830f3a64cc09f0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8fee41c2fecbc35041abd164b869ff6a4b92b318", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fee41c2fecbc35041abd164b869ff6a4b92b318", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fee41c2fecbc35041abd164b869ff6a4b92b318", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fee41c2fecbc35041abd164b869ff6a4b92b318/comments", "author": null, "committer": null, "parents": [{"sha": "87621e5f0fa6c55652477118bc6e69f84b9bf6b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87621e5f0fa6c55652477118bc6e69f84b9bf6b3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87621e5f0fa6c55652477118bc6e69f84b9bf6b3"}], "stats": {"total": 37, "additions": 24, "deletions": 13}, "files": [{"sha": "df8646210d899771d1c10dc3597e21ebbaa0510d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8fee41c2fecbc35041abd164b869ff6a4b92b318", "patch": "@@ -1,3 +1,10 @@\n+2007-07-26  Zdenek Dvorak  <dvorakz@suse.cz>\n+\n+\t* dominance.c (dom_computed, n_bbs_in_dom_tree): Removed.\n+\t* function.h (dom_computed, n_bbs_in_dom_tree): New macros.\n+\t* basic-block.h (struct control_flow_graph): Added x_dom_computed\n+\tand x_n_bbs_in_dom_tree fields.\n+\n 2007-07-26  Steve Ellcey  <sje@cup.hp.com>\n \n \tPR tree-optimization/32087"}, {"sha": "f8920b9e45a8c1e0d8168b4b5f51adf52e65ae87", "filename": "gcc/basic-block.h", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2Fbasic-block.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2Fbasic-block.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbasic-block.h?ref=8fee41c2fecbc35041abd164b869ff6a4b92b318", "patch": "@@ -348,6 +348,15 @@ enum bb_flags\n #define BB_COPY_PARTITION(dstbb, srcbb) \\\n   BB_SET_PARTITION (dstbb, BB_PARTITION (srcbb))\n \n+/* State of dominance information.  */\n+\n+enum dom_state\n+{\n+  DOM_NONE,\t\t/* Not computed at all.  */\n+  DOM_NO_FAST_QUERY,\t/* The data is OK, but the fast query data are not usable.  */\n+  DOM_OK\t\t/* Everything is ok.  */\n+};\n+\n /* A structure to group all the per-function control flow graph data.\n    The x_* prefixing is necessary because otherwise references to the\n    fields of this struct are interpreted as the defines for backward\n@@ -380,6 +389,12 @@ struct control_flow_graph GTY(())\n     PROFILE_GUESSED,\n     PROFILE_READ\n   } x_profile_status;\n+\n+  /* Whether the dominators and the postdominators are available.  */\n+  enum dom_state x_dom_computed[2];\n+\n+  /* Number of basic blocks in the dominance tree.  */\n+  unsigned x_n_bbs_in_dom_tree[2];\n };\n \n /* Defines for accessing the fields of the CFG structure for function FN.  */\n@@ -887,13 +902,6 @@ enum cdi_direction\n   CDI_POST_DOMINATORS = 2\n };\n \n-enum dom_state\n-{\n-  DOM_NONE,\t\t/* Not computed at all.  */\n-  DOM_NO_FAST_QUERY,\t/* The data is OK, but the fast query data are not usable.  */\n-  DOM_OK\t\t/* Everything is ok.  */\n-};\n-\n extern enum dom_state dom_info_state (enum cdi_direction);\n extern void set_dom_info_availability (enum cdi_direction, enum dom_state);\n extern bool dom_info_available_p (enum cdi_direction);"}, {"sha": "a67cb37cd0996eef276719d7034c2db72a0b1250", "filename": "gcc/dominance.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2Fdominance.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2Fdominance.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdominance.c?ref=8fee41c2fecbc35041abd164b869ff6a4b92b318", "patch": "@@ -47,9 +47,6 @@\n #include \"pointer-set.h\"\n #include \"graphds.h\"\n \n-/* Whether the dominators and the postdominators are available.  */\n-static enum dom_state dom_computed[2];\n-\n /* We name our nodes with integers, beginning with 1.  Zero is reserved for\n    'undefined' or 'end of list'.  The name of each node is given by the dfs\n    number of the corresponding basic block.  Please note, that we include the\n@@ -125,9 +122,6 @@ static void calc_idoms (struct dom_info *, bool);\n void debug_dominance_info (enum cdi_direction);\n void debug_dominance_tree (enum cdi_direction, basic_block);\n \n-/* Keeps track of the*/\n-static unsigned n_bbs_in_dom_tree[2];\n-\n /* Helper macro for allocating and initializing an array,\n    for aesthetic reasons.  */\n #define init_ar(var, type, num, content)\t\t\t\\"}, {"sha": "7de484c28144797259475b297bf1fee3038f2086", "filename": "gcc/function.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2Ffunction.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fee41c2fecbc35041abd164b869ff6a4b92b318/gcc%2Ffunction.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.h?ref=8fee41c2fecbc35041abd164b869ff6a4b92b318", "patch": "@@ -534,6 +534,8 @@ extern int trampolines_created;\n #define nonlocal_goto_handler_labels (cfun->x_nonlocal_goto_handler_labels)\n #define rtl_df (cfun->df)\n #define current_loops (cfun->x_current_loops)\n+#define dom_computed (cfun->cfg->x_dom_computed)\n+#define n_bbs_in_dom_tree (cfun->cfg->x_n_bbs_in_dom_tree)\n #define VALUE_HISTOGRAMS(fun) (fun)->value_histograms\n \n /* Given a function decl for a containing function,"}]}