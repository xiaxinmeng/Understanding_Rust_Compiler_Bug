{"sha": "4edc91ae51a40b656c11d7dffbe74692be8d755e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGVkYzkxYWU1MWE0MGI2NTZjMTFkN2RmZmJlNzQ2OTJiZThkNzU1ZQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2001-07-23T13:55:28Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-07-23T13:55:28Z"}, "message": "* analyze_brprob: Fix awk compatibility problems; update comment.\n\nFrom-SVN: r44266", "tree": {"sha": "85678ec92cf1918391d7b5b5470641042192dbc4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/85678ec92cf1918391d7b5b5470641042192dbc4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4edc91ae51a40b656c11d7dffbe74692be8d755e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4edc91ae51a40b656c11d7dffbe74692be8d755e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4edc91ae51a40b656c11d7dffbe74692be8d755e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4edc91ae51a40b656c11d7dffbe74692be8d755e/comments", "author": null, "committer": null, "parents": [{"sha": "bfa7942289a356768a63ca08a87c4ed0b291b2d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfa7942289a356768a63ca08a87c4ed0b291b2d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfa7942289a356768a63ca08a87c4ed0b291b2d6"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "851af247d3d3b3c8510759c2e41c2707a7f34ee1", "filename": "contrib/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4edc91ae51a40b656c11d7dffbe74692be8d755e/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4edc91ae51a40b656c11d7dffbe74692be8d755e/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=4edc91ae51a40b656c11d7dffbe74692be8d755e", "patch": "@@ -1,3 +1,7 @@\n+Mon Jul 23 15:47:19 CEST 2001  Jan Hubicka  <jh@suse.cz>\n+\n+\t* analyze_brprob: Fix awk compatibility problems; update comment.\n+\n 2001-07-23  Andreas Jaeger  <aj@suse.de>\n \n \t* analyze_brprob: Fix more typos."}, {"sha": "c17f3d0415dac6a49a47631f79ca941da57ab9d4", "filename": "contrib/analyze_brprob", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4edc91ae51a40b656c11d7dffbe74692be8d755e/contrib%2Fanalyze_brprob", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4edc91ae51a40b656c11d7dffbe74692be8d755e/contrib%2Fanalyze_brprob", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fanalyze_brprob?ref=4edc91ae51a40b656c11d7dffbe74692be8d755e", "patch": "@@ -36,7 +36,6 @@\n #    saved into *.life dumps.  You need to pass the -df switch to the compiler as well\n #    as -fbranch-probabilities to get the results of profiling noted in the dumps.\n #    Ensure that there are no \"Arc profiling: some edge counts were bad.\" warnings.\n-#    Keep the -fprofile-arcs switch to ensure that CFGs match.\n #  Step 3: Run this script to concatenate all *.life files:\n #    analyze_brprob `find . -name *.life`\n #    the information is collected and print once all files are parsed.  This\n@@ -124,26 +123,26 @@ BEGIN {nnames = 0}\n     #BC crashes on long strings.  Irritating.\n     if (length(counts[name]) > 4000)\n       {\n-\tcounts[name] = longeval (counts[name])\n-\thits[name] = longeval (hits[name])\n-\tphits[name] = longeval (phits[name])\n+\tcounts[name] = longeval(counts[name])\n+\thits[name] = longeval(hits[name])\n+\tphits[name] = longeval(phits[name])\n       }\n   }\n END {\n   # Heuristics called combined predicts just everything.\n-  maxcounts = longeval (counts[\"first match\"])\n+  maxcounts = longeval(counts[\"first match\"])\n   maxbranches = branches[\"first match\"]\n   max = names[\"first match\"]\n   printf(\"HEURISTICS                  BRANCHES  (REL)  HITRATE             COVERAGE  (REL)\\n\")\n   for (i = 0; i < nnames ; i++)\n    {\n      name = names[i]\n-     counts[name] = longeval (counts[name])\n+     counts[name] = longeval(counts[name])\n      printf (\"%-27s %8i %5.1f%% %6s%%/%6s%% %12s %5.1f%%\\n\",\n \t     name,\n \t     branches[name], branches[name] * 100 / maxbranches,\n-\t     longeval (\"(\"hits[name]\") * 100 /(\" counts[name]\"-0.00001)\"),\n-\t     longeval (\"(\"phits[name]\") * 100 /(\" counts[name]\"-0.00001)\"),\n-\t     counts[name], longeval (counts[name]\" * 100 / (\"maxcounts\"-0.00001)\"))\n+\t     longeval(\"(\"hits[name]\") * 100 /(\" counts[name]\"-0.00001)\"),\n+\t     longeval(\"(\"phits[name]\") * 100 /(\" counts[name]\"-0.00001)\"),\n+\t     counts[name], longeval(counts[name]\" * 100 / (\"maxcounts\"-0.00001)\"))\n    }\n }"}]}