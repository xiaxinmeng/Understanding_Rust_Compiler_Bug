{"sha": "61021c2c736d4e512ca32192cab19069ce8e261c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjEwMjFjMmM3MzZkNGU1MTJjYTMyMTkyY2FiMTkwNjljZThlMjYxYw==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew_pinski@playstation.sony.com", "date": "2007-08-20T00:48:09Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2007-08-20T00:48:09Z"}, "message": "re PR middle-end/32940 (REG_POINTER attribute on DECL_ARTIFICIAL pointers)\n\n2007-08-19  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR middle-end/32940\n        * cfgexpand.c  (expand_one_register_var): Mark pointer\n        DECL_ARTIFICIAL as REG_POINTER also.\n        * stmt.c (expand_decl): Likewise.\n\nFrom-SVN: r127634", "tree": {"sha": "5fa3a5c401371070f18b2927b4c82bb90ba076d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5fa3a5c401371070f18b2927b4c82bb90ba076d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61021c2c736d4e512ca32192cab19069ce8e261c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61021c2c736d4e512ca32192cab19069ce8e261c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61021c2c736d4e512ca32192cab19069ce8e261c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61021c2c736d4e512ca32192cab19069ce8e261c/comments", "author": null, "committer": null, "parents": [{"sha": "001231ffe06dbadfc7c0568d4af869f7e9014e67", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/001231ffe06dbadfc7c0568d4af869f7e9014e67", "html_url": "https://github.com/Rust-GCC/gccrs/commit/001231ffe06dbadfc7c0568d4af869f7e9014e67"}], "stats": {"total": 33, "additions": 12, "deletions": 21}, "files": [{"sha": "88d9e7a23d92293ddcf34c8e5bfc8e39307e22fa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61021c2c736d4e512ca32192cab19069ce8e261c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61021c2c736d4e512ca32192cab19069ce8e261c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=61021c2c736d4e512ca32192cab19069ce8e261c", "patch": "@@ -1,3 +1,10 @@\n+2007-08-19  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR middle-end/32940\n+\t* cfgexpand.c  (expand_one_register_var): Mark pointer\n+\tDECL_ARTIFICIAL as REG_POINTER also.\n+\t* stmt.c (expand_decl): Likewise.\n+\n 2007-08-19  Daniel Berlin  <dberlin@dberlin.org>\n \n \tFix PR 32772"}, {"sha": "6031fda7c7246e63e013e33c78d98837caa9cea5", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61021c2c736d4e512ca32192cab19069ce8e261c/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61021c2c736d4e512ca32192cab19069ce8e261c/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=61021c2c736d4e512ca32192cab19069ce8e261c", "patch": "@@ -673,18 +673,10 @@ expand_one_register_var (tree var)\n \n   /* Note if the object is a user variable.  */\n   if (!DECL_ARTIFICIAL (var))\n-    {\n       mark_user_reg (x);\n \n-      /* Trust user variables which have a pointer type to really\n-\t be pointers.  Do not trust compiler generated temporaries\n-\t as our type system is totally busted as it relates to\n-\t pointer arithmetic which translates into lots of compiler\n-\t generated objects with pointer types, but which are not really\n-\t pointers.  */\n-      if (POINTER_TYPE_P (type))\n-\tmark_reg_pointer (x, TYPE_ALIGN (TREE_TYPE (TREE_TYPE (var))));\n-    }\n+  if (POINTER_TYPE_P (type))\n+    mark_reg_pointer (x, TYPE_ALIGN (TREE_TYPE (TREE_TYPE (var))));\n }\n \n /* A subroutine of expand_one_var.  Called to assign rtl to a VAR_DECL that"}, {"sha": "7192dcaf29195e81dab8fe4abf7fe178d72fa581", "filename": "gcc/stmt.c", "status": "modified", "additions": 3, "deletions": 11, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61021c2c736d4e512ca32192cab19069ce8e261c/gcc%2Fstmt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61021c2c736d4e512ca32192cab19069ce8e261c/gcc%2Fstmt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fstmt.c?ref=61021c2c736d4e512ca32192cab19069ce8e261c", "patch": "@@ -1898,19 +1898,11 @@ expand_decl (tree decl)\n \n       /* Note if the object is a user variable.  */\n       if (!DECL_ARTIFICIAL (decl))\n-\t{\n \t  mark_user_reg (DECL_RTL (decl));\n \n-\t  /* Trust user variables which have a pointer type to really\n-\t     be pointers.  Do not trust compiler generated temporaries\n-\t     as our type system is totally busted as it relates to\n-\t     pointer arithmetic which translates into lots of compiler\n-\t     generated objects with pointer types, but which are not really\n-\t     pointers.  */\n-\t  if (POINTER_TYPE_P (type))\n-\t    mark_reg_pointer (DECL_RTL (decl),\n-\t\t\t      TYPE_ALIGN (TREE_TYPE (TREE_TYPE (decl))));\n-\t}\n+      if (POINTER_TYPE_P (type))\n+\tmark_reg_pointer (DECL_RTL (decl),\n+\t\t\t  TYPE_ALIGN (TREE_TYPE (TREE_TYPE (decl))));\n     }\n \n   else if (TREE_CODE (DECL_SIZE_UNIT (decl)) == INTEGER_CST"}]}