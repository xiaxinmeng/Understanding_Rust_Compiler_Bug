{"sha": "b7616c4045535a8eb987dfc0f2fed84c3efbc675", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjc2MTZjNDA0NTUzNWE4ZWI5ODdkZmMwZjJmZWQ4NGMzZWZiYzY3NQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2007-05-29T14:30:42Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2007-05-29T14:30:42Z"}, "message": "configure.ac: Don't include ../config/confsubdir.m4.\n\n2007-05-29  H.J. Lu  <hongjiu.lu@intel.com>\n\n\t* configure.ac: Don't include ../config/confsubdir.m4.\n\t* aclocal.m4: Regenerated.\n\t* configure: Likewise.\n\nFrom-SVN: r125164", "tree": {"sha": "cb888b5f83507f8b1176fa3dc2283d29c9dccaa8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cb888b5f83507f8b1176fa3dc2283d29c9dccaa8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7616c4045535a8eb987dfc0f2fed84c3efbc675", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7616c4045535a8eb987dfc0f2fed84c3efbc675", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7616c4045535a8eb987dfc0f2fed84c3efbc675", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7616c4045535a8eb987dfc0f2fed84c3efbc675/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f5062a66be2784d7b43608a9151b2cfa756f0dd6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5062a66be2784d7b43608a9151b2cfa756f0dd6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5062a66be2784d7b43608a9151b2cfa756f0dd6"}], "stats": {"total": 69, "additions": 42, "deletions": 27}, "files": [{"sha": "d8e3a4bf4aa1a58db6153ee36d4aacfafd40c51c", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=b7616c4045535a8eb987dfc0f2fed84c3efbc675", "patch": "@@ -1,3 +1,9 @@\n+2007-05-29  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* configure.ac: Don't include ../config/confsubdir.m4.\n+\t* aclocal.m4: Regenerated.\n+\t* configure: Likewise.\n+\n 2007-05-27  Paolo Bonzini  <bonzini@gnu.org>\n \n \tPR bootstrap/32078"}, {"sha": "77f5fa23b80691a95f2696901febd23ad9d7de0e", "filename": "libjava/aclocal.m4", "status": "modified", "additions": 29, "deletions": 6, "changes": 35, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Faclocal.m4?ref=b7616c4045535a8eb987dfc0f2fed84c3efbc675", "patch": "@@ -1578,10 +1578,27 @@ linux*)\n   # before this can be enabled.\n   hardcode_into_libs=yes\n \n+  # find out which ABI we are using\n+  libsuff=\n+  case \"$host_cpu\" in\n+  x86_64*|s390x*|powerpc64*)\n+    echo '[#]line __oline__ \"configure\"' > conftest.$ac_ext\n+    if AC_TRY_EVAL(ac_compile); then\n+      case `/usr/bin/file conftest.$ac_objext` in\n+      *64-bit*)\n+        libsuff=64\n+        sys_lib_search_path_spec=\"/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}\"\n+        ;;\n+      esac\n+    fi\n+    rm -rf conftest*\n+    ;;\n+  esac\n+\n   # Append ld.so.conf contents to the search path\n   if test -f /etc/ld.so.conf; then\n-    lt_ld_extra=`awk '/^include / { system(sprintf(\"cd /etc; cat %s\", \\[$]2)); skip = 1; } { if (!skip) print \\[$]0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\\n' ' '`\n-    sys_lib_dlsearch_path_spec=\"/lib /usr/lib $lt_ld_extra\"\n+    lt_ld_extra=`awk '/^include / { system(sprintf(\"cd /etc; cat %s 2>/dev/null\", \\[$]2)); skip = 1; } { if (!skip) print \\[$]0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\\n' ' '`\n+    sys_lib_dlsearch_path_spec=\"/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra\"\n   fi\n \n   # We used to test for /lib/ld.so.1 and disable shared libraries on\n@@ -4288,6 +4305,9 @@ CC=$lt_[]_LT_AC_TAGVAR(compiler, $1)\n # Is the compiler the GNU C compiler?\n with_gcc=$_LT_AC_TAGVAR(GCC, $1)\n \n+gcc_dir=\\`gcc -print-file-name=. | $SED 's,/\\.$,,'\\`\n+gcc_ver=\\`gcc -dumpversion\\`\n+\n # An ERE matcher.\n EGREP=$lt_EGREP\n \n@@ -4421,11 +4441,11 @@ striplib=$lt_striplib\n \n # Dependencies to place before the objects being linked to create a\n # shared library.\n-predep_objects=$lt_[]_LT_AC_TAGVAR(predep_objects, $1)\n+predep_objects=\\`echo $lt_[]_LT_AC_TAGVAR(predep_objects, $1) | \\$SED -e \"s@\\${gcc_dir}@\\\\\\${gcc_dir}@g;s@\\${gcc_ver}@\\\\\\${gcc_ver}@g\"\\`\n \n # Dependencies to place after the objects being linked to create a\n # shared library.\n-postdep_objects=$lt_[]_LT_AC_TAGVAR(postdep_objects, $1)\n+postdep_objects=\\`echo $lt_[]_LT_AC_TAGVAR(postdep_objects, $1) | \\$SED -e \"s@\\${gcc_dir}@\\\\\\${gcc_dir}@g;s@\\${gcc_ver}@\\\\\\${gcc_ver}@g\"\\`\n \n # Dependencies to place before the objects being linked to create a\n # shared library.\n@@ -4437,7 +4457,7 @@ postdeps=$lt_[]_LT_AC_TAGVAR(postdeps, $1)\n \n # The library search path used internally by the compiler when linking\n # a shared library.\n-compiler_lib_search_path=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1)\n+compiler_lib_search_path=\\`echo $lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1) | \\$SED -e \"s@\\${gcc_dir}@\\\\\\${gcc_dir}@g;s@\\${gcc_ver}@\\\\\\${gcc_ver}@g\"\\`\n \n # Method to check whether dependent libraries are shared objects.\n deplibs_check_method=$lt_deplibs_check_method\n@@ -4517,7 +4537,7 @@ variables_saved_for_relink=\"$variables_saved_for_relink\"\n link_all_deplibs=$_LT_AC_TAGVAR(link_all_deplibs, $1)\n \n # Compile-time system search path for libraries\n-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec\n+sys_lib_search_path_spec=\\`echo $lt_sys_lib_search_path_spec | \\$SED -e \"s@\\${gcc_dir}@\\\\\\${gcc_dir}@g;s@\\${gcc_ver}@\\\\\\${gcc_ver}@g\"\\`\n \n # Run-time system search path for libraries\n sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec\n@@ -6353,6 +6373,7 @@ do\n     done\n   done\n done\n+IFS=$as_save_IFS\n lt_ac_max=0\n lt_ac_count=0\n # Add /usr/xpg4/bin/sed as it is typically found on Solaris\n@@ -6385,6 +6406,7 @@ for lt_ac_sed in $lt_ac_sed_list /usr/xpg4/bin/sed; do\n done\n ])\n SED=$lt_cv_path_SED\n+AC_SUBST([SED])\n AC_MSG_RESULT([$SED])\n ])\n \n@@ -7281,6 +7303,7 @@ AC_SUBST([am__untar])\n ]) # _AM_PROG_TAR\n \n m4_include([../config/acx.m4])\n+m4_include([../config/confsubdir.m4])\n m4_include([../config/depstand.m4])\n m4_include([../config/enable.m4])\n m4_include([../config/gxx-include-dir.m4])"}, {"sha": "b32854c52792e44df6188f38524813031a51934f", "filename": "libjava/configure", "status": "modified", "additions": 7, "deletions": 20, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=b7616c4045535a8eb987dfc0f2fed84c3efbc675", "patch": "@@ -18291,19 +18291,6 @@ fi\n \n \n \n-\n-\n-\n-\n-# _AC_OUTPUT_SUBDIRS\n-# ------------------\n-# This is a subroutine of AC_OUTPUT, but it does not go into\n-# config.status, rather, it is called after running config.status.\n-# _AC_OUTPUT_SUBDIRS\n-\n-\n-\n-\n subdirs=\"$subdirs classpath libltdl\"\n \n \n@@ -18510,7 +18497,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then\n   :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 18513 \"configure\"\n+#line 18500 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -18994,15 +18981,15 @@ ac_x_header_dirs='\n /usr/openwin/share/include'\n \n if test \"$ac_x_includes\" = no; then\n-  # Guess where to find include files, by looking for Intrinsic.h.\n+  # Guess where to find include files, by looking for Xlib.h.\n   # First, try using that file with no special directory specified.\n   cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Intrinsic.h>\n+#include <X11/Xlib.h>\n _ACEOF\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n@@ -19029,7 +19016,7 @@ else\n sed 's/^/| /' conftest.$ac_ext >&5\n \n   for ac_dir in $ac_x_header_dirs; do\n-  if test -r \"$ac_dir/X11/Intrinsic.h\"; then\n+  if test -r \"$ac_dir/X11/Xlib.h\"; then\n     ac_x_includes=$ac_dir\n     break\n   fi\n@@ -19043,7 +19030,7 @@ if test \"$ac_x_libraries\" = no; then\n   # See if we find them without any special options.\n   # Don't add to $LIBS permanently.\n   ac_save_LIBS=$LIBS\n-  LIBS=\"-lXt $LIBS\"\n+  LIBS=\"-lX11 $LIBS\"\n   if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n@@ -19055,11 +19042,11 @@ _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Intrinsic.h>\n+#include <X11/Xlib.h>\n int\n main ()\n {\n-XtMalloc (0)\n+XrmInitialize ()\n   ;\n   return 0;\n }"}, {"sha": "1c571dce8bae96bb3a96b9035c421f862758fec2", "filename": "libjava/configure.ac", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7616c4045535a8eb987dfc0f2fed84c3efbc675/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=b7616c4045535a8eb987dfc0f2fed84c3efbc675", "patch": "@@ -450,7 +450,6 @@ AC_PROG_LIBTOOL\n AM_PROG_GCJ\n AM_PROG_CC_C_O\n \n-m4_include([../config/confsubdir.m4])\n AC_CONFIG_SUBDIRS(classpath libltdl)\n \n # The -no-testsuite modules omit the test subdir."}]}