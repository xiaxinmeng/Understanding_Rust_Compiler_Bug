{"sha": "01d92cfd79872e4cffc78bf233bb9b767336beb8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDFkOTJjZmQ3OTg3MmU0Y2ZmYzc4YmYyMzNiYjliNzY3MzM2YmViOA==", "commit": {"author": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2021-01-04T09:14:48Z"}, "committer": {"name": "Kito Cheng", "email": "kito.cheng@sifive.com", "date": "2021-01-08T03:14:03Z"}, "message": "Fix array-quals-1.c for RISC-V\n\nRISC-V will put those variable on srodata rather than rodata.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.dg/array-quals-1.c: Allow srodata.", "tree": {"sha": "bedff18cd72e96b4a58b67ea930df5682dfd1c2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bedff18cd72e96b4a58b67ea930df5682dfd1c2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/01d92cfd79872e4cffc78bf233bb9b767336beb8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01d92cfd79872e4cffc78bf233bb9b767336beb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01d92cfd79872e4cffc78bf233bb9b767336beb8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01d92cfd79872e4cffc78bf233bb9b767336beb8/comments", "author": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kito-cheng", "id": 2723185, "node_id": "MDQ6VXNlcjI3MjMxODU=", "avatar_url": "https://avatars.githubusercontent.com/u/2723185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kito-cheng", "html_url": "https://github.com/kito-cheng", "followers_url": "https://api.github.com/users/kito-cheng/followers", "following_url": "https://api.github.com/users/kito-cheng/following{/other_user}", "gists_url": "https://api.github.com/users/kito-cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/kito-cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kito-cheng/subscriptions", "organizations_url": "https://api.github.com/users/kito-cheng/orgs", "repos_url": "https://api.github.com/users/kito-cheng/repos", "events_url": "https://api.github.com/users/kito-cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/kito-cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e3354b6de7a348386425879847c4f18ef1e82791", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e3354b6de7a348386425879847c4f18ef1e82791", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e3354b6de7a348386425879847c4f18ef1e82791"}], "stats": {"total": 40, "additions": 20, "deletions": 20}, "files": [{"sha": "c8d3629643498f7972c10c42d4f3d770284a6c95", "filename": "gcc/testsuite/gcc.dg/array-quals-1.c", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01d92cfd79872e4cffc78bf233bb9b767336beb8/gcc%2Ftestsuite%2Fgcc.dg%2Farray-quals-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01d92cfd79872e4cffc78bf233bb9b767336beb8/gcc%2Ftestsuite%2Fgcc.dg%2Farray-quals-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Farray-quals-1.c?ref=01d92cfd79872e4cffc78bf233bb9b767336beb8", "patch": "@@ -6,46 +6,46 @@\n /* { dg-options \"-Wno-discarded-array-qualifiers\" } */\n /* The MMIX port always switches to the .data section at the end of a file.  */\n /* { dg-final { scan-assembler-not \"\\\\.data(?!\\\\.rel\\\\.ro)\" { xfail powerpc*-*-aix* mmix-*-* x86_64-*-mingw* } } } */\n-/* { dg-final { scan-assembler-symbol-section {^_?a$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?a$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n static const int a[2] = { 1, 2 };\n-/* { dg-final { scan-assembler-symbol-section {^_?a1$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?a1$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n const int a1[2] = { 1, 2 };\n typedef const int ci;\n-/* { dg-final { scan-assembler-symbol-section {^_?b$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?b$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n static ci b[2] = { 3, 4 };\n-/* { dg-final { scan-assembler-symbol-section {^_?b1$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?b1$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n ci b1[2] = { 3, 4 };\n typedef int ia[2];\n-/* { dg-final { scan-assembler-symbol-section {^_?c$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?c$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n static const ia c = { 5, 6 };\n-/* { dg-final { scan-assembler-symbol-section {^_?c1$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?c1$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n const ia c1 = { 5, 6 };\n typedef const int cia[2];\n-/* { dg-final { scan-assembler-symbol-section {^_?d$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?d$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n static cia d = { 7, 8 };\n-/* { dg-final { scan-assembler-symbol-section {^_?d1$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?d1$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n cia d1 = { 7, 8 };\n-/* { dg-final { scan-assembler-symbol-section {^_?e$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?e$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n static cia e[2] = { { 1, 2 }, { 3, 4 } };\n-/* { dg-final { scan-assembler-symbol-section {^_?e1$} {^\\.(const|rodata)|\\[RO\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?e1$} {^\\.(const|rodata|srodata)|\\[RO\\]} } } */\n cia e1[2] = { { 1, 2 }, { 3, 4 } };\n-/* { dg-final { scan-assembler-symbol-section {^_?p$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?p$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const p = &a;\n-/* { dg-final { scan-assembler-symbol-section {^_?q$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?q$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const q = &b;\n-/* { dg-final { scan-assembler-symbol-section {^_?r$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?r$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const r = &c;\n-/* { dg-final { scan-assembler-symbol-section {^_?s$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?s$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const s = &d;\n-/* { dg-final { scan-assembler-symbol-section {^_?t$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?t$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const t = &e;\n-/* { dg-final { scan-assembler-symbol-section {^_?p1$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?p1$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const p1 = &a1;\n-/* { dg-final { scan-assembler-symbol-section {^_?q1$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?q1$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const q1 = &b1;\n-/* { dg-final { scan-assembler-symbol-section {^_?r1$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?r1$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const r1 = &c1;\n-/* { dg-final { scan-assembler-symbol-section {^_?s1$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?s1$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const s1 = &d1;\n-/* { dg-final { scan-assembler-symbol-section {^_?t1$} {^\\.(const|rodata)|\\[RW\\]} } } */\n+/* { dg-final { scan-assembler-symbol-section {^_?t1$} {^\\.(const|rodata|srodata)|\\[RW\\]} } } */\n void *const t1 = &e1;"}]}