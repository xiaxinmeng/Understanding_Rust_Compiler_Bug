{"sha": "1ebe8c03cebbcc8f21a33254903570983dab8f3a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWViZThjMDNjZWJiY2M4ZjIxYTMzMjU0OTAzNTcwOTgzZGFiOGYzYQ==", "commit": {"author": {"name": "Jason Thorpe", "email": "thorpej@wasabisystems.com", "date": "2002-11-24T21:17:04Z"}, "committer": {"name": "Jason Thorpe", "email": "thorpej@gcc.gnu.org", "date": "2002-11-24T21:17:04Z"}, "message": "netbsd-elf.h (STARTFILE_SPEC): Rename to NETBSD_STARTFILE_SPEC.\n\n* config/netbsd-elf.h (STARTFILE_SPEC): Rename to\nNETBSD_STARTFILE_SPEC.\n(STARTFILE_SPEC): Redefine in terms of NETBSD_STARTFILE_SPEC.\n(ENDFILE_SPEC): Likewise.\n* config/netbsd.h (LIB_SPEC, LIBGCC_SPEC): Likewise.\n\nFrom-SVN: r59436", "tree": {"sha": "c70b5b6eff1818170db1b035f5b19afe6c4ebd52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c70b5b6eff1818170db1b035f5b19afe6c4ebd52"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ebe8c03cebbcc8f21a33254903570983dab8f3a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ebe8c03cebbcc8f21a33254903570983dab8f3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ebe8c03cebbcc8f21a33254903570983dab8f3a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ebe8c03cebbcc8f21a33254903570983dab8f3a/comments", "author": null, "committer": null, "parents": [{"sha": "523cb4994d07591538b0ad90db7af6022cb4d5e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/523cb4994d07591538b0ad90db7af6022cb4d5e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/523cb4994d07591538b0ad90db7af6022cb4d5e7"}], "stats": {"total": 37, "additions": 26, "deletions": 11}, "files": [{"sha": "8d313a4fe7ee3e4ae62a445b5a5ce3b5d0381f0d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebe8c03cebbcc8f21a33254903570983dab8f3a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebe8c03cebbcc8f21a33254903570983dab8f3a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1ebe8c03cebbcc8f21a33254903570983dab8f3a", "patch": "@@ -1,3 +1,11 @@\n+2002-11-24  Jason Thorpe  <thorpej@wasabisystems.com>\n+\n+\t* config/netbsd-elf.h (STARTFILE_SPEC): Rename to\n+\tNETBSD_STARTFILE_SPEC.\n+\t(STARTFILE_SPEC): Redefine in terms of NETBSD_STARTFILE_SPEC.\n+\t(ENDFILE_SPEC): Likewise.\n+\t* config/netbsd.h (LIB_SPEC, LIBGCC_SPEC): Likewise.\n+\n 2002-11-24  Andreas Schwab  <schwab@suse.de>\n \n \t* Makefile.in (install-driver): Remove versioned link before"}, {"sha": "4846ba605bbae22ab5a9fb6402b24d15ae09f7eb", "filename": "gcc/config/netbsd-elf.h", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebe8c03cebbcc8f21a33254903570983dab8f3a/gcc%2Fconfig%2Fnetbsd-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebe8c03cebbcc8f21a33254903570983dab8f3a/gcc%2Fconfig%2Fnetbsd-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd-elf.h?ref=1ebe8c03cebbcc8f21a33254903570983dab8f3a", "patch": "@@ -46,8 +46,7 @@ Boston, MA 02111-1307, USA.  */\n    of the support for getting C++ file-scope static objects\n    constructed before entering \"main\".  */\n \n-#undef STARTFILE_SPEC\n-#define STARTFILE_SPEC\t\t\\\n+#define NETBSD_STARTFILE_SPEC\t\\\n   \"%{!shared:\t\t\t\\\n      %{pg:gcrt0%O%s}\t\t\\\n      %{!pg:\t\t\t\\\n@@ -56,16 +55,20 @@ Boston, MA 02111-1307, USA.  */\n    %:if-exists(crti%O%s)\t\\\n    %{!shared:crtbegin%O%s} %{shared:crtbeginS%O%s}\"\n \n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC NETBSD_STARTFILE_SPEC\n+\n \n /* Provide an ENDFILE_SPEC appropriate for NetBSD ELF.  Here we\n    add crtend.o, which provides part of the support for getting\n    C++ file-scope static objects deconstructed after exiting \"main\".  */\n \n-#undef ENDFILE_SPEC\n-#define ENDFILE_SPEC\t\t\\\n+#define NETBSD_ENDFILE_SPEC\t\\\n   \"%{!shared:crtend%O%s} %{shared:crtendS%O%s} \\\n    %:if-exists(crtn%O%s)\"\n \n+#undef ENDFILE_SPEC\n+#define ENDFILE_SPEC NETBSD_ENDFILE_SPEC\n \n /* Provide a LINK_SPEC appropriate for NetBSD ELF.  Here we provide\n    support for the special GCC options -assert, -R, -rpath, -shared,"}, {"sha": "61b44aceac407d8850b42a97a384a115421df877", "filename": "gcc/config/netbsd.h", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ebe8c03cebbcc8f21a33254903570983dab8f3a/gcc%2Fconfig%2Fnetbsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ebe8c03cebbcc8f21a33254903570983dab8f3a/gcc%2Fconfig%2Fnetbsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnetbsd.h?ref=1ebe8c03cebbcc8f21a33254903570983dab8f3a", "patch": "@@ -90,9 +90,8 @@ Boston, MA 02111-1307, USA.  */\n    FIXME: Could eliminate the duplication here if we were allowed to\n    use string concatenation.  */\n \n-#undef LIB_SPEC\n #ifdef NETBSD_ENABLE_PTHREADS\n-#define LIB_SPEC\t\t\\\n+#define NETBSD_LIB_SPEC\t\t\\\n   \"%{pthread:\t\t\t\\\n      %{!p:\t\t\t\\\n        %{!pg:-lpthread}}\t\\\n@@ -110,7 +109,7 @@ Boston, MA 02111-1307, USA.  */\n        %{p:-lc_p}\t\t\\\n        %{pg:-lc_p}}}\"\n #else\n-#define LIB_SPEC\t\t\\\n+#define NETBSD_LIB_SPEC\t\t\\\n   \"%{posix:\t\t\t\\\n      %{!p:\t\t\t\\\n        %{!pg:-lposix}}\t\t\\\n@@ -124,23 +123,28 @@ Boston, MA 02111-1307, USA.  */\n        %{pg:-lc_p}}}\"\n #endif\n \n+#undef LIB_SPEC\n+#define LIB_SPEC NETBSD_LIB_SPEC\n+\n /* Provide a LIBGCC_SPEC appropriate for NetBSD.  We also want to exclude\n    libgcc with -symbolic.  */\n \n-#undef LIBGCC_SPEC\n #ifdef NETBSD_NATIVE\n-#define LIBGCC_SPEC\t\t\\\n+#define NETBSD_LIBGCC_SPEC\t\\\n   \"%{!symbolic:\t\t\t\\\n      %{!shared:\t\t\t\\\n        %{!p:\t\t\t\\\n-\t %{!pg: -lgcc}}}\t\t\\\n+\t %{!pg: -lgcc}}}\t\\\n      %{shared: -lgcc_pic}\t\\\n      %{p: -lgcc_p}\t\t\\\n      %{pg: -lgcc_p}}\"\n #else\n-#define LIBGCC_SPEC \"%{!shared:%{!symbolic: -lgcc}}\"\n+#define NETBSD_LIBGCC_SPEC \"%{!shared:%{!symbolic: -lgcc}}\"\n #endif\n \n+#undef LIBGCC_SPEC\n+#define LIBGCC_SPEC NETBSD_LIBGCC_SPEC\n+\n /* When building shared libraries, the initialization and finalization \n    functions for the library are .init and .fini respectively.  */\n "}]}