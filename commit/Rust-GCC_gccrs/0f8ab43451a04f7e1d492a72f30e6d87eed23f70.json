{"sha": "0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY4YWI0MzQ1MWEwNGY3ZTFkNDkyYTcyZjMwZTZkODdlZWQyM2Y3MA==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2011-01-12T17:40:06Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2011-01-12T17:40:06Z"}, "message": "s390.h (OUTPUT_ADDR_CONST_EXTRA): Remove.\n\n\t* config/s390/s390.h (OUTPUT_ADDR_CONST_EXTRA): Remove.\n\t* config/s390/s390-protos.h (s390_output_addr_const_extra): Remove.\n\t* config/s390/s390.c (s390_output_addr_const_extra): Make static.\n\t(TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA): Define.\n\nFrom-SVN: r168719", "tree": {"sha": "742992a7f7c84c2a89c8b0daa683643742118de5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/742992a7f7c84c2a89c8b0daa683643742118de5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/comments", "author": null, "committer": null, "parents": [{"sha": "d8a24b65216793dbdb1939f9b6a034fb02ccc3ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8a24b65216793dbdb1939f9b6a034fb02ccc3ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8a24b65216793dbdb1939f9b6a034fb02ccc3ae"}], "stats": {"total": 26, "additions": 14, "deletions": 12}, "files": [{"sha": "fffa356b2eeb2b839733655215ae6d474921ef86", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "patch": "@@ -1,3 +1,10 @@\n+2011-01-12  Anatoly Sokolov  <aesok@post.ru>\n+\n+\t* config/s390/s390.h (OUTPUT_ADDR_CONST_EXTRA): Remove.\n+\t* config/s390/s390-protos.h (s390_output_addr_const_extra): Remove.\n+\t* config/s390/s390.c (s390_output_addr_const_extra): Make static.\n+\t(TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA): Define.\n+\n 2011-01-12  Kai Tietz  <kai.tietz@onevision.com>\n \n \tPR debug/47209"}, {"sha": "fdd4f1305e76119d6791925effa2eb00fb9264a5", "filename": "gcc/config/s390/s390-protos.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2Fconfig%2Fs390%2Fs390-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2Fconfig%2Fs390%2Fs390-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390-protos.h?ref=0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler, for IBM S/390.\n-   Copyright (C) 2000, 2002, 2003, 2004, 2005, 2007, 2008, 2009, 2010\n+   Copyright (C) 2000, 2002, 2003, 2004, 2005, 2007, 2008, 2009, 2010, 2011\n    Free Software Foundation, Inc.\n \n    Contributed by Hartmut Penner (hpenner@de.ibm.com)\n@@ -99,7 +99,6 @@ extern bool s390_logical_operator_ok_p (rtx *);\n extern void s390_narrow_logical_operator (enum rtx_code, rtx *, rtx *);\n extern void s390_split_access_reg (rtx, rtx *, rtx *);\n \n-extern bool s390_output_addr_const_extra (FILE*, rtx);\n extern void print_operand_address (FILE *, rtx);\n extern void print_operand (FILE *, rtx, int);\n extern void s390_output_pool_entry (rtx, enum machine_mode, unsigned int);"}, {"sha": "c0389bf4d8fee981ad5e66b4dc187af4e6e9c3f6", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "patch": "@@ -1,6 +1,6 @@\n /* Subroutines used for code generation on IBM S/390 and zSeries\n    Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,\n-   2007, 2008, 2009, 2010 Free Software Foundation, Inc.\n+   2007, 2008, 2009, 2010, 2011 Free Software Foundation, Inc.\n    Contributed by Hartmut Penner (hpenner@de.ibm.com) and\n                   Ulrich Weigand (uweigand@de.ibm.com) and\n                   Andreas Krebbel (Andreas.Krebbel@de.ibm.com).\n@@ -5056,7 +5056,7 @@ get_some_local_dynamic_name (void)\n    in assembler syntax to stdio stream FILE.  Returns true if the\n    constant X could be recognized, false otherwise.  */\n \n-bool\n+static bool\n s390_output_addr_const_extra (FILE *file, rtx x)\n {\n   if (GET_CODE (x) == UNSPEC && XVECLEN (x, 0) == 1)\n@@ -10600,6 +10600,9 @@ s390_loop_unroll_adjust (unsigned nunroll, struct loop *loop)\n #undef  TARGET_EXPAND_BUILTIN\n #define TARGET_EXPAND_BUILTIN s390_expand_builtin\n \n+#undef TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA\n+#define TARGET_ASM_OUTPUT_ADDR_CONST_EXTRA s390_output_addr_const_extra\n+\n #undef TARGET_ASM_OUTPUT_MI_THUNK\n #define TARGET_ASM_OUTPUT_MI_THUNK s390_output_mi_thunk\n #undef TARGET_ASM_CAN_OUTPUT_MI_THUNK"}, {"sha": "ed0a2aa546c684c281fcb3971ddb6c375ac3ade1", "filename": "gcc/config/s390/s390.h", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2Fconfig%2Fs390%2Fs390.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f8ab43451a04f7e1d492a72f30e6d87eed23f70/gcc%2Fconfig%2Fs390%2Fs390.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.h?ref=0f8ab43451a04f7e1d492a72f30e6d87eed23f70", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler, for IBM S/390\n    Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006,\n-   2007, 2008, 2009, 2010 Free Software Foundation, Inc.\n+   2007, 2008, 2009, 2010, 2011 Free Software Foundation, Inc.\n    Contributed by Hartmut Penner (hpenner@de.ibm.com) and\n                   Ulrich Weigand (uweigand@de.ibm.com).\n                   Andreas Krebbel (Andreas.Krebbel@de.ibm.com)\n@@ -909,13 +909,6 @@ do {\t\t\t\t\t\t\t\t\t\\\n #define PRINT_OPERAND(FILE, X, CODE) print_operand (FILE, X, CODE)\n #define PRINT_OPERAND_ADDRESS(FILE, ADDR) print_operand_address (FILE, ADDR)\n \n-/* Output machine-dependent UNSPECs in address constants.  */\n-#define OUTPUT_ADDR_CONST_EXTRA(FILE, X, FAIL)\t\t\\\n-do {\t\t\t\t\t\t\t\\\n-  if (!s390_output_addr_const_extra (FILE, (X)))\t\\\n-    goto FAIL;\t\t\t\t\t\t\\\n-} while (0);\n-\n /* Output an element of a case-vector that is absolute.  */\n #define ASM_OUTPUT_ADDR_VEC_ELT(FILE, VALUE)\t\t\t\t\\\n do {\t\t\t\t\t\t\t\t\t\\"}]}