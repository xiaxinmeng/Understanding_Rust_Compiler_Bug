{"sha": "9e3eba15997699303768c9c7b6eee72f8a9ca294", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWUzZWJhMTU5OTc2OTkzMDM3NjhjOWM3YjZlZWU3MmY4YTljYTI5NA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2009-04-25T03:24:17Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2009-04-25T03:24:17Z"}, "message": "re PR bootstrap/39739 (Bootstrapping with in-tree mpfr-2.4.1 and --with-gmp=... errors)\n\n\tPR bootstrap/39739\n\t* configure.ac (extra_mpfr_configure_flags): Set and AC_SUBST.\n\t* Makefile.def (module=mpfr): Use extra_mpfr_configure_flags.\n\n\t* configure, Makefile.in: Regenerate.\n\nFrom-SVN: r146754", "tree": {"sha": "fd56186e7966d8794ec9eca62bda22b371218f53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd56186e7966d8794ec9eca62bda22b371218f53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e3eba15997699303768c9c7b6eee72f8a9ca294", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e3eba15997699303768c9c7b6eee72f8a9ca294", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e3eba15997699303768c9c7b6eee72f8a9ca294", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e3eba15997699303768c9c7b6eee72f8a9ca294/comments", "author": null, "committer": null, "parents": [{"sha": "569c72fc740316fc468b0dab64f2b72ad6dc5fbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/569c72fc740316fc468b0dab64f2b72ad6dc5fbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/569c72fc740316fc468b0dab64f2b72ad6dc5fbd"}], "stats": {"total": 35, "additions": 24, "deletions": 11}, "files": [{"sha": "f25b9526b343ab245a21b3ae8aedb85d8995933a", "filename": "ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e3eba15997699303768c9c7b6eee72f8a9ca294/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e3eba15997699303768c9c7b6eee72f8a9ca294/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=9e3eba15997699303768c9c7b6eee72f8a9ca294", "patch": "@@ -1,3 +1,11 @@\n+2009-04-24  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\tPR bootstrap/39739\n+\t* configure.ac (extra_mpfr_configure_flags): Set and AC_SUBST.\n+\t* Makefile.def (module=mpfr): Use extra_mpfr_configure_flags.\n+\n+\t* configure, Makefile.in: Regenerate.\n+\n 2009-04-21  Taras Glek <tglek@mozilla.com>\n \n \t* include/hashtab.h: Update GTY annotations to new syntax"}, {"sha": "ceee5558d096d17303fd546f1bb80c9408afb9a3", "filename": "Makefile.def", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e3eba15997699303768c9c7b6eee72f8a9ca294/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e3eba15997699303768c9c7b6eee72f8a9ca294/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=9e3eba15997699303768c9c7b6eee72f8a9ca294", "patch": "@@ -65,7 +65,7 @@ host_modules= { module= gmp; lib_path=.libs; bootstrap=true;\n \t        host=\"none-${host_vendor}-${host_os}\";\n \t\ttarget=\"none-${host_vendor}-${host_os}\"; };\n host_modules= { module= mpfr; lib_path=.libs; bootstrap=true;\n-\t\textra_configure_flags='--disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp';\n+\t\textra_configure_flags='--disable-shared @extra_mpfr_configure_flags@';\n \t\tno_install= true; \n \t        host=\"none-${host_vendor}-${host_os}\";\n \t\ttarget=\"none-${host_vendor}-${host_os}\"; };"}, {"sha": "1d893399e5d36ea5f3167c468cf9b98b209f26ed", "filename": "Makefile.in", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e3eba15997699303768c9c7b6eee72f8a9ca294/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e3eba15997699303768c9c7b6eee72f8a9ca294/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=9e3eba15997699303768c9c7b6eee72f8a9ca294", "patch": "@@ -17068,7 +17068,7 @@ configure-mpfr:\n \tlibsrcdir=\"$$s/mpfr\"; \\\n \t$(SHELL) $${libsrcdir}/configure \\\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n-\t  --target=none-${host_vendor}-${host_os} $${srcdiroption} --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp \\\n+\t  --target=none-${host_vendor}-${host_os} $${srcdiroption} --disable-shared @extra_mpfr_configure_flags@ \\\n \t  || exit 1\n @endif mpfr\n \n@@ -17101,7 +17101,7 @@ configure-stage1-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t   \\\n-\t  --disable-intermodule $(STAGE1_CHECKING) \t  --disable-coverage --enable-languages=\"$(STAGE1_LANGUAGES)\" --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  --disable-intermodule $(STAGE1_CHECKING) \t  --disable-coverage --enable-languages=\"$(STAGE1_LANGUAGES)\" --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n .PHONY: configure-stage2-mpfr maybe-configure-stage2-mpfr\n@@ -17132,7 +17132,7 @@ configure-stage2-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t  --with-build-libsubdir=$(HOST_SUBDIR) \\\n-\t  @stage2_werror_flag@ --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  @stage2_werror_flag@ --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n .PHONY: configure-stageb2g0-mpfr maybe-configure-stageb2g0-mpfr\n@@ -17163,7 +17163,7 @@ configure-stageb2g0-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t  --with-build-libsubdir=$(HOST_SUBDIR) \\\n-\t  @stage2_werror_flag@ --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  @stage2_werror_flag@ --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n .PHONY: configure-stage3-mpfr maybe-configure-stage3-mpfr\n@@ -17194,7 +17194,7 @@ configure-stage3-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t  --with-build-libsubdir=$(HOST_SUBDIR) \\\n-\t  @stage2_werror_flag@ --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  @stage2_werror_flag@ --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n .PHONY: configure-stageb3g2-mpfr maybe-configure-stageb3g2-mpfr\n@@ -17225,7 +17225,7 @@ configure-stageb3g2-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t  --with-build-libsubdir=$(HOST_SUBDIR) \\\n-\t  @stage2_werror_flag@ --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  @stage2_werror_flag@ --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n .PHONY: configure-stage4-mpfr maybe-configure-stage4-mpfr\n@@ -17256,7 +17256,7 @@ configure-stage4-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t  --with-build-libsubdir=$(HOST_SUBDIR) \\\n-\t  @stage2_werror_flag@ --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  @stage2_werror_flag@ --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n .PHONY: configure-stageprofile-mpfr maybe-configure-stageprofile-mpfr\n@@ -17287,7 +17287,7 @@ configure-stageprofile-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t  --with-build-libsubdir=$(HOST_SUBDIR) \\\n-\t  @stage2_werror_flag@ --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  @stage2_werror_flag@ --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n .PHONY: configure-stagefeedback-mpfr maybe-configure-stagefeedback-mpfr\n@@ -17318,7 +17318,7 @@ configure-stagefeedback-mpfr:\n \t  $(HOST_CONFIGARGS) --build=${build_alias} --host=none-${host_vendor}-${host_os} \\\n \t  --target=none-${host_vendor}-${host_os} $${srcdiroption} \\\n \t  --with-build-libsubdir=$(HOST_SUBDIR) \\\n-\t  @stage2_werror_flag@ --disable-shared --with-gmp-build=$$r/$(HOST_SUBDIR)/gmp\n+\t  @stage2_werror_flag@ --disable-shared @extra_mpfr_configure_flags@\n @endif mpfr-bootstrap\n \n "}, {"sha": "45d85c98bd96e4aeac3d49abfcf41a158cfd46a7", "filename": "configure", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e3eba15997699303768c9c7b6eee72f8a9ca294/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e3eba15997699303768c9c7b6eee72f8a9ca294/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=9e3eba15997699303768c9c7b6eee72f8a9ca294", "patch": "@@ -272,7 +272,7 @@ PACKAGE_STRING=\n PACKAGE_BUGREPORT=\n \n ac_unique_file=\"move-if-change\"\n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS TOPLEVEL_CONFIGURE_ARGUMENTS build build_cpu build_vendor build_os build_noncanonical host_noncanonical target_noncanonical host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA LN LN_S build_libsubdir build_subdir host_subdir target_subdir CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT CXX CXXFLAGS ac_ct_CXX GNATBIND ac_ct_GNATBIND GNATMAKE ac_ct_GNATMAKE do_compare gmplibs gmpinc ppllibs pplinc clooglibs clooginc stage1_languages SYSROOT_CFLAGS_FOR_TARGET DEBUG_PREFIX_CFLAGS_FOR_TARGET CFLAGS_FOR_TARGET CXXFLAGS_FOR_TARGET RPATH_ENVVAR GCC_SHLIB_SUBDIR tooldir build_tooldir CONFIGURE_GDB_TK GDB_TK INSTALL_GDB_TK build_configargs build_configdirs host_configargs configdirs target_configargs AR_FOR_BUILD AS_FOR_BUILD CC_FOR_BUILD CFLAGS_FOR_BUILD CXXFLAGS_FOR_BUILD CXX_FOR_BUILD DLLTOOL_FOR_BUILD GCJ_FOR_BUILD GFORTRAN_FOR_BUILD LDFLAGS_FOR_BUILD LD_FOR_BUILD NM_FOR_BUILD RANLIB_FOR_BUILD WINDMC_FOR_BUILD WINDRES_FOR_BUILD config_shell YACC BISON M4 LEX FLEX MAKEINFO EXPECT RUNTEST AR AS DLLTOOL LD LIPO NM RANLIB STRIP WINDRES WINDMC OBJCOPY OBJDUMP CC_FOR_TARGET CXX_FOR_TARGET GCC_FOR_TARGET GCJ_FOR_TARGET GFORTRAN_FOR_TARGET AR_FOR_TARGET AS_FOR_TARGET DLLTOOL_FOR_TARGET LD_FOR_TARGET LIPO_FOR_TARGET NM_FOR_TARGET OBJDUMP_FOR_TARGET RANLIB_FOR_TARGET STRIP_FOR_TARGET WINDRES_FOR_TARGET WINDMC_FOR_TARGET RAW_CXX_FOR_TARGET FLAGS_FOR_TARGET COMPILER_AS_FOR_TARGET COMPILER_LD_FOR_TARGET COMPILER_NM_FOR_TARGET MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT stage1_cflags stage1_checking stage2_werror_flag datarootdir docdir pdfdir htmldir LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS TOPLEVEL_CONFIGURE_ARGUMENTS build build_cpu build_vendor build_os build_noncanonical host_noncanonical target_noncanonical host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA LN LN_S build_libsubdir build_subdir host_subdir target_subdir CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT CXX CXXFLAGS ac_ct_CXX GNATBIND ac_ct_GNATBIND GNATMAKE ac_ct_GNATMAKE do_compare gmplibs gmpinc extra_mpfr_configure_flags ppllibs pplinc clooglibs clooginc stage1_languages SYSROOT_CFLAGS_FOR_TARGET DEBUG_PREFIX_CFLAGS_FOR_TARGET CFLAGS_FOR_TARGET CXXFLAGS_FOR_TARGET RPATH_ENVVAR GCC_SHLIB_SUBDIR tooldir build_tooldir CONFIGURE_GDB_TK GDB_TK INSTALL_GDB_TK build_configargs build_configdirs host_configargs configdirs target_configargs AR_FOR_BUILD AS_FOR_BUILD CC_FOR_BUILD CFLAGS_FOR_BUILD CXXFLAGS_FOR_BUILD CXX_FOR_BUILD DLLTOOL_FOR_BUILD GCJ_FOR_BUILD GFORTRAN_FOR_BUILD LDFLAGS_FOR_BUILD LD_FOR_BUILD NM_FOR_BUILD RANLIB_FOR_BUILD WINDMC_FOR_BUILD WINDRES_FOR_BUILD config_shell YACC BISON M4 LEX FLEX MAKEINFO EXPECT RUNTEST AR AS DLLTOOL LD LIPO NM RANLIB STRIP WINDRES WINDMC OBJCOPY OBJDUMP CC_FOR_TARGET CXX_FOR_TARGET GCC_FOR_TARGET GCJ_FOR_TARGET GFORTRAN_FOR_TARGET AR_FOR_TARGET AS_FOR_TARGET DLLTOOL_FOR_TARGET LD_FOR_TARGET LIPO_FOR_TARGET NM_FOR_TARGET OBJDUMP_FOR_TARGET RANLIB_FOR_TARGET STRIP_FOR_TARGET WINDRES_FOR_TARGET WINDMC_FOR_TARGET RAW_CXX_FOR_TARGET FLAGS_FOR_TARGET COMPILER_AS_FOR_TARGET COMPILER_LD_FOR_TARGET COMPILER_NM_FOR_TARGET MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT stage1_cflags stage1_checking stage2_werror_flag datarootdir docdir pdfdir htmldir LIBOBJS LTLIBOBJS'\n ac_subst_files='serialization_dependencies host_makefile_frag target_makefile_frag alphaieee_frag ospace_frag'\n ac_pwd=`pwd`\n \n@@ -4600,6 +4600,7 @@ fi\n if test \"x$with_gmp$with_gmp_include$with_gmp_lib\" = x && test -d ${srcdir}/gmp; then\n   gmplibs='-L$$r/$(HOST_SUBDIR)/gmp/.libs -L$$r/$(HOST_SUBDIR)/gmp/_libs '\"$gmplibs\"\n   gmpinc='-I$$r/$(HOST_SUBDIR)/gmp -I$$s/gmp '\"$gmpinc\"\n+  extra_mpfr_configure_flags='--with-gmp-build=$$r/$(HOST_SUBDIR)/gmp'\n   # Do not test the gmp version.  Assume that it is sufficient, since\n   # it is in the source tree, and the library has not been built yet\n   # but it would be included on the link line in the version check below\n@@ -4814,6 +4815,7 @@ fi\n \n \n \n+\n # Allow host libstdc++ to be specified for static linking with PPL.\n \n # Check whether --with-host-libstdcxx or --without-host-libstdcxx was given.\n@@ -13255,6 +13257,7 @@ s,@ac_ct_GNATMAKE@,$ac_ct_GNATMAKE,;t t\n s,@do_compare@,$do_compare,;t t\n s,@gmplibs@,$gmplibs,;t t\n s,@gmpinc@,$gmpinc,;t t\n+s,@extra_mpfr_configure_flags@,$extra_mpfr_configure_flags,;t t\n s,@ppllibs@,$ppllibs,;t t\n s,@pplinc@,$pplinc,;t t\n s,@clooglibs@,$clooglibs,;t t"}, {"sha": "0bb26e83a4ad410c6dd4c71a3769fe091e677378", "filename": "configure.ac", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e3eba15997699303768c9c7b6eee72f8a9ca294/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e3eba15997699303768c9c7b6eee72f8a9ca294/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=9e3eba15997699303768c9c7b6eee72f8a9ca294", "patch": "@@ -1254,6 +1254,7 @@ fi\n if test \"x$with_gmp$with_gmp_include$with_gmp_lib\" = x && test -d ${srcdir}/gmp; then\n   gmplibs='-L$$r/$(HOST_SUBDIR)/gmp/.libs -L$$r/$(HOST_SUBDIR)/gmp/_libs '\"$gmplibs\"\n   gmpinc='-I$$r/$(HOST_SUBDIR)/gmp -I$$s/gmp '\"$gmpinc\"\n+  extra_mpfr_configure_flags='--with-gmp-build=$$r/$(HOST_SUBDIR)/gmp'\n   # Do not test the gmp version.  Assume that it is sufficient, since\n   # it is in the source tree, and the library has not been built yet\n   # but it would be included on the link line in the version check below\n@@ -1318,6 +1319,7 @@ fi\n # Flags needed for both GMP and/or MPFR\n AC_SUBST(gmplibs)\n AC_SUBST(gmpinc)\n+AC_SUBST(extra_mpfr_configure_flags)\n \n # Allow host libstdc++ to be specified for static linking with PPL.\n AC_ARG_WITH(host-libstdcxx, [  --with-host-libstdcxx=L Use linker arguments L to link with libstdc++"}]}