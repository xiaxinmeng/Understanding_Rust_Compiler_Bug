{"sha": "4ba00e9dba4d8e2113d3347532fe9aff2a293625", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJhMDBlOWRiYTRkOGUyMTEzZDMzNDc1MzJmZTlhZmYyYTI5MzYyNQ==", "commit": {"author": {"name": "Tom de Vries", "email": "tom@codesourcery.com", "date": "2015-08-31T09:12:15Z"}, "committer": {"name": "Tom de Vries", "email": "vries@gcc.gnu.org", "date": "2015-08-31T09:12:15Z"}, "message": "Improve function header comments in tree-ssa-loop-manip.c\n\n2015-08-31  Tom de Vries  <tom@codesourcery.com>\n\n\t* tree-ssa-loop-manip.c (find_uses_to_rename_use)\n\t(find_uses_to_rename_stmt, find_uses_to_rename_bb, find_uses_to_rename):\n\tImprove function header comments.\n\nFrom-SVN: r227334", "tree": {"sha": "5bb18ef44c7d0421bd6e5fc09fe39d4a8a44612a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5bb18ef44c7d0421bd6e5fc09fe39d4a8a44612a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ba00e9dba4d8e2113d3347532fe9aff2a293625", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ba00e9dba4d8e2113d3347532fe9aff2a293625", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ba00e9dba4d8e2113d3347532fe9aff2a293625", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ba00e9dba4d8e2113d3347532fe9aff2a293625/comments", "author": null, "committer": null, "parents": [{"sha": "97532d1aab192f93ea8ed0a651f692407ab5e06f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/97532d1aab192f93ea8ed0a651f692407ab5e06f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/97532d1aab192f93ea8ed0a651f692407ab5e06f"}], "stats": {"total": 30, "additions": 18, "deletions": 12}, "files": [{"sha": "a0123b12ad6a47f18dba5f75fa1a64ab486187a7", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ba00e9dba4d8e2113d3347532fe9aff2a293625/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ba00e9dba4d8e2113d3347532fe9aff2a293625/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4ba00e9dba4d8e2113d3347532fe9aff2a293625", "patch": "@@ -1,3 +1,9 @@\n+2015-08-31  Tom de Vries  <tom@codesourcery.com>\n+\n+\t* tree-ssa-loop-manip.c (find_uses_to_rename_use)\n+\t(find_uses_to_rename_stmt, find_uses_to_rename_bb, find_uses_to_rename):\n+\tImprove function header comments.\n+\n 2015-08-30  Michael Collison  <michael.collison@linaro.org>\n \n \tPR other/67320"}, {"sha": "5c13d4b373153cdf349aa91936a0518e7287d104", "filename": "gcc/tree-ssa-loop-manip.c", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ba00e9dba4d8e2113d3347532fe9aff2a293625/gcc%2Ftree-ssa-loop-manip.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ba00e9dba4d8e2113d3347532fe9aff2a293625/gcc%2Ftree-ssa-loop-manip.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-manip.c?ref=4ba00e9dba4d8e2113d3347532fe9aff2a293625", "patch": "@@ -366,7 +366,9 @@ get_loops_exits (bitmap *loop_exits)\n \n /* For USE in BB, if it is used outside of the loop it is defined in,\n    mark it for rewrite.  Record basic block BB where it is used\n-   to USE_BLOCKS.  Record the ssa name index to NEED_PHIS bitmap.  */\n+   to USE_BLOCKS.  Record the ssa name index to NEED_PHIS bitmap.\n+   Note that for USEs in phis, BB should be the src of the edge corresponding to\n+   the use, rather than the bb containing the phi.  */\n \n static void\n find_uses_to_rename_use (basic_block bb, tree use, bitmap *use_blocks,\n@@ -402,9 +404,8 @@ find_uses_to_rename_use (basic_block bb, tree use, bitmap *use_blocks,\n }\n \n /* For uses in STMT, mark names that are used outside of the loop they are\n-   defined to rewrite.  Record the set of blocks in that the ssa\n-   names are defined to USE_BLOCKS and the ssa names themselves to\n-   NEED_PHIS.  */\n+   defined to rewrite.  Record the set of blocks in which the ssa names are used\n+   to USE_BLOCKS and the ssa names themselves to NEED_PHIS.  */\n \n static void\n find_uses_to_rename_stmt (gimple stmt, bitmap *use_blocks, bitmap need_phis)\n@@ -420,10 +421,9 @@ find_uses_to_rename_stmt (gimple stmt, bitmap *use_blocks, bitmap need_phis)\n     find_uses_to_rename_use (bb, var, use_blocks, need_phis);\n }\n \n-/* Marks names that are used in BB and outside of the loop they are\n-   defined in for rewrite.  Records the set of blocks in that the ssa\n-   names are defined to USE_BLOCKS.  Record the SSA names that will\n-   need exit PHIs in NEED_PHIS.  */\n+/* Marks names that are used in BB and outside of the loop they are defined in\n+   for rewrite.  Records the set of blocks in which the ssa names are used to\n+   USE_BLOCKS.  Record the SSA names that will need exit PHIs in NEED_PHIS.  */\n \n static void\n find_uses_to_rename_bb (basic_block bb, bitmap *use_blocks, bitmap need_phis)\n@@ -446,10 +446,10 @@ find_uses_to_rename_bb (basic_block bb, bitmap *use_blocks, bitmap need_phis)\n     find_uses_to_rename_stmt (gsi_stmt (bsi), use_blocks, need_phis);\n }\n \n-/* Marks names that are used outside of the loop they are defined in\n-   for rewrite.  Records the set of blocks in that the ssa\n-   names are defined to USE_BLOCKS.  If CHANGED_BBS is not NULL,\n-   scan only blocks in this set.  */\n+/* Marks names that are used outside of the loop they are defined in for\n+   rewrite.  Records the set of blocks in which the ssa names are used to\n+   USE_BLOCKS.  Record the SSA names that will need exit PHIs in NEED_PHIS.  If\n+   CHANGED_BBS is not NULL, scan only blocks in this set.  */\n \n static void\n find_uses_to_rename (bitmap changed_bbs, bitmap *use_blocks, bitmap need_phis)"}]}