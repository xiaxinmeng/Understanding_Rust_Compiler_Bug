{"sha": "8d6f415e90f94dd0360c6f140744d92af3d3575f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQ2ZjQxNWU5MGY5NGRkMDM2MGM2ZjE0MDc0NGQ5MmFmM2QzNTc1Zg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-31T06:08:41Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-05-31T06:08:41Z"}, "message": "(output_cbranch): In forward/long branch case...\n\n(output_cbranch): In forward/long branch case, only\nnullify if the delay slot was empty or if the delay slot\nwas explicitly nullified.\n\n(output_bb): Likewise.\n\nFrom-SVN: r4608", "tree": {"sha": "3502c3e2db1ea7d72740f844c457347de8bd7e2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3502c3e2db1ea7d72740f844c457347de8bd7e2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d6f415e90f94dd0360c6f140744d92af3d3575f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d6f415e90f94dd0360c6f140744d92af3d3575f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d6f415e90f94dd0360c6f140744d92af3d3575f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d6f415e90f94dd0360c6f140744d92af3d3575f/comments", "author": null, "committer": null, "parents": [{"sha": "d0ca05efa9a42742551531350bbef921e0a5a0b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0ca05efa9a42742551531350bbef921e0a5a0b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0ca05efa9a42742551531350bbef921e0a5a0b8"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "ff04b056f7205b81d9a7401bbdb60f3669342f44", "filename": "gcc/config/pa/pa.c", "status": "modified", "additions": 15, "deletions": 8, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d6f415e90f94dd0360c6f140744d92af3d3575f/gcc%2Fconfig%2Fpa%2Fpa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d6f415e90f94dd0360c6f140744d92af3d3575f/gcc%2Fconfig%2Fpa%2Fpa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.c?ref=8d6f415e90f94dd0360c6f140744d92af3d3575f", "patch": "@@ -3225,10 +3225,13 @@ output_cbranch (operands, nullify, length, negated, insn)\n \t  strcat (buf, \"%S3\");\n \telse\n \t  strcat (buf, \"%B3\");\n-\t/* Regardless of whether or not this branch got its slot\n-\t   filled we can nullify the following instruction and \n-\t   avoid emitting a nop.  */\n-\tstrcat (buf, \" %2,%1,0\\n\\tbl%* %0,0\");\n+\t/* Nullify the delay slot if the delay slot was explicitly\n+\t   nullified by the delay branch scheduler or if no insn\n+\t   could be placed in the delay slot.  */\n+\tif (nullify)\n+\t  strcat (buf, \" %2,%1,0\\n\\tbl,n %0,0\");\n+\telse\n+\t  strcat (buf, \" %2,%1,0\\n\\tbl%* %0,0\");\n \tbreak;\n \n       /* Long backward conditional branch with nullification.  */\n@@ -3308,10 +3311,14 @@ output_bb (operands, nullify, length, negated, insn, which)\n \t  strcat (buf, \"<\");\n \telse\n \t  strcat (buf, \">=\");\n-\t/* Regardless of whether or not this branch got its slot\n-\t   filled we can nullify the following instruction and \n-\t   avoid emitting a nop.  */\n-\tif (negated)\n+\t/* Nullify the delay slot if the delay slot was explicitly\n+\t   nullified by the delay branch scheduler or if no insn\n+\t   could be placed in the delay slot.  */\n+\tif (nullify && negated)\n+\t  strcat (buf, \" %0,%1,1,0\\n\\tbl,n %3,0\");\n+\telse if (nullify && ! negated)\n+\t  strcat (buf, \" %0,%1,1,0\\n\\tbl,n %2,0\");\n+\telse if (negated)\n \t  strcat (buf, \" %0,%1,1,0\\n\\tbl%* %3,0\");\n \telse \n \t  strcat (buf, \" %0,%1,1,0\\n\\tbl%* %2,0\");"}]}