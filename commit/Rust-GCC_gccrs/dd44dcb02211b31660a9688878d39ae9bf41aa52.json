{"sha": "dd44dcb02211b31660a9688878d39ae9bf41aa52", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ0NGRjYjAyMjExYjMxNjYwYTk2ODg4NzhkMzlhZTliZjQxYWE1Mg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2012-01-30T13:47:38Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2012-01-30T13:47:38Z"}, "message": "re PR debug/52048 (-fcompare-debug failure with -O2 -fcompare-debug -fnon-call-exceptions -fno-tree-dominator-opts)\n\n\tPR debug/52048\n\t* tree-ssa-tail-merge.c (local_def): Ignore debug uses.\n\n\t* g++.dg/other/pr52048.C: New test.\n\nFrom-SVN: r183723", "tree": {"sha": "cd9ec4475d15f4f5effcf1dd180b2e4ab2d7c523", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cd9ec4475d15f4f5effcf1dd180b2e4ab2d7c523"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd44dcb02211b31660a9688878d39ae9bf41aa52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd44dcb02211b31660a9688878d39ae9bf41aa52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd44dcb02211b31660a9688878d39ae9bf41aa52", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd44dcb02211b31660a9688878d39ae9bf41aa52/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ab448cfa68bc2686ba6fcf54e1ee40acd5e403a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab448cfa68bc2686ba6fcf54e1ee40acd5e403a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab448cfa68bc2686ba6fcf54e1ee40acd5e403a8"}], "stats": {"total": 91, "additions": 91, "deletions": 0}, "files": [{"sha": "2bec9cb82ae59aa0fe1604b9b0a2f75c2336bd9c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=dd44dcb02211b31660a9688878d39ae9bf41aa52", "patch": "@@ -1,3 +1,8 @@\n+2012-01-30  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR debug/52048\n+\t* tree-ssa-tail-merge.c (local_def): Ignore debug uses.\n+\n 2012-01-30  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/52045"}, {"sha": "e543e9a630a0135927f969cc64a58b359dd41657", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=dd44dcb02211b31660a9688878d39ae9bf41aa52", "patch": "@@ -1,3 +1,8 @@\n+2012-01-30  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR debug/52048\n+\t* g++.dg/other/pr52048.C: New test.\n+\n 2012-01-30  Richard Guenther  <rguenther@suse.de>\n \n \tPR tree-optimization/52045"}, {"sha": "6bf51f1e28805253c75ee0b4f15eeb37ca2f18a5", "filename": "gcc/testsuite/g++.dg/other/pr52048.C", "status": "added", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fpr52048.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fpr52048.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fpr52048.C?ref=dd44dcb02211b31660a9688878d39ae9bf41aa52", "patch": "@@ -0,0 +1,79 @@\n+// PR debug/52048\n+// { dg-do compile }\n+// { dg-options \"-fcompare-debug -fnon-call-exceptions -fno-tree-dominator-opts -O2\" }\n+\n+template <typename T> struct A;\n+template <typename T>\n+struct A <T *>\n+{\n+  typedef T &a;\n+};\n+template <typename T>\n+struct B\n+{\n+  typedef typename A <T>::a a;\n+  a operator *() {}\n+};\n+template <typename T, typename U>\n+bool operator != (B <T>, B <U>)\n+{\n+}\n+template <typename T>\n+struct C\n+{\n+  typedef T *c;\n+  template <typename>\n+  struct D { typedef C d; };\n+};\n+template <typename T, typename U> struct E\n+{\n+  typedef typename U::template D <T>::d e;\n+};\n+template <typename T, typename U = C <T> >\n+struct F\n+{\n+  typedef E <T, U> b;\n+  typedef typename b::e e;\n+  typedef typename e::c c;\n+  typedef B <c> i;\n+  i begin ();\n+  i end ();\n+};\n+class G;\n+class H;\n+struct I\n+{\n+  void *i;\n+  template <typename T> T foo ();\n+};\n+struct J : public I\n+{\n+  virtual bool bar ();\n+};\n+class K {};\n+struct L\n+{\n+  bool baz () {}\n+};\n+struct M\n+{\n+  K m1 (K);\n+  K m2 (H *) {}\n+};\n+struct N : J\n+{\n+  bool bar (G &);\n+};\n+bool\n+N::bar (G &)\n+{\n+  M m = foo <M> ();\n+  F <H *> f;\n+  for (F <H *>::i I = f.begin (), E = f.end (); I != E;)\n+    {\n+      H *h = *I;\n+      L l;\n+      if (l.baz ())\n+\tm.m1 (m.m2 (h));\n+    }\n+}"}, {"sha": "1f46b10a64e103691c0cd94db78e2d35014fb316", "filename": "gcc/tree-ssa-tail-merge.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2Ftree-ssa-tail-merge.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd44dcb02211b31660a9688878d39ae9bf41aa52/gcc%2Ftree-ssa-tail-merge.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-tail-merge.c?ref=dd44dcb02211b31660a9688878d39ae9bf41aa52", "patch": "@@ -371,6 +371,8 @@ local_def (tree val)\n   res = true;\n   FOR_EACH_IMM_USE_STMT (stmt, iter, val)\n     {\n+      if (is_gimple_debug (stmt))\n+\tcontinue;\n       bb = gimple_bb (stmt);\n       if (bb == def_bb)\n \tcontinue;"}]}