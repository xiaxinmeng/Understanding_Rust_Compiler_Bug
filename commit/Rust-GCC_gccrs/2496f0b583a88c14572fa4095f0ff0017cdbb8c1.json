{"sha": "2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjQ5NmYwYjU4M2E4OGMxNDU3MmZhNDA5NWYwZmYwMDE3Y2RiYjhjMQ==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2000-09-07T17:20:04Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2000-09-07T17:20:04Z"}, "message": "c-common.c (time_char_table): Allow %#b and %#h.\n\n\t* c-common.c (time_char_table): Allow %#b and %#h.\n\ntestsuite:\n\t* gcc.dg/format-ext-3.c: Test %#b and %#h as formats that should\n\tbe accepted.\n\nFrom-SVN: r36241", "tree": {"sha": "f180d5823fdef196c0fdbef5cd871fee2ed92a11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f180d5823fdef196c0fdbef5cd871fee2ed92a11"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bf6302f0e771555388849d8f525a63231cec79f5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf6302f0e771555388849d8f525a63231cec79f5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf6302f0e771555388849d8f525a63231cec79f5"}], "stats": {"total": 27, "additions": 16, "deletions": 11}, "files": [{"sha": "20a9fff06ee0ae71010f0e93eb39d591005a2279", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "patch": "@@ -1,3 +1,7 @@\n+2000-09-07  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* c-common.c (time_char_table): Allow %#b and %#h.\n+\n 2000-09-07 Herman A.J. ten Brugge <Haj.Ten.Brugge@net.HCC.nl>\n \n \t* reorg.c (find_end_label): If the basic block reorder pass moves the"}, {"sha": "c53ee1ae7dd0e447a90c3cdf226920e1f21a8c0e", "filename": "gcc/c-common.c", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2Fc-common.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2Fc-common.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-common.c?ref=2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "patch": "@@ -1420,8 +1420,7 @@ static const format_char_info scan_char_table[] =\n static format_char_info time_char_table[] =\n {\n   /* C89 conversion specifiers.  */\n-  { \"ABZa\",\t\t0, STD_C89, NOLENGTHS, \"^#\" },\n-  { \"b\",\t\t0, STD_C89, NOLENGTHS, \"^\" },\n+  { \"ABZab\",\t\t0, STD_C89, NOLENGTHS, \"^#\" },\n   { \"cx\", \t\t0, STD_C89, NOLENGTHS, \"3E\" },\n   { \"HIMSUWdmw\",\t0, STD_C89, NOLENGTHS, \"-_0Ow\" },\n   { \"j\",\t\t0, STD_C89, NOLENGTHS, \"-_0Oow\" },\n@@ -1437,7 +1436,7 @@ static format_char_info time_char_table[] =\n   { \"FRTnrt\",\t\t0, STD_C99, NOLENGTHS, \"\" },\n   { \"g\", \t\t0, STD_C99, NOLENGTHS, \"2Oo-_0w\" },\n   { \"G\",\t\t0, STD_C99, NOLENGTHS, \"-_0Oow\" },\n-  { \"h\",\t\t0, STD_C99, NOLENGTHS, \"^\" },\n+  { \"h\",\t\t0, STD_C99, NOLENGTHS, \"^#\" },\n   { \"z\",\t\t0, STD_C99, NOLENGTHS, \"Oo\" },\n   /* GNU conversion specifiers.  */\n   { \"kls\",\t\t0, STD_EXT, NOLENGTHS, \"-_0Ow\" },"}, {"sha": "ff26a525f268452bfcacfe8a9ead67d4612259c3", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "patch": "@@ -1,3 +1,8 @@\n+2000-09-07  Joseph S. Myers  <jsm28@cam.ac.uk>\n+\n+\t* gcc.dg/format-ext-3.c: Test %#b and %#h as formats that should\n+\tbe accepted.\n+\n 2000-09-07  Catherine Moore  <clm@redhat.com>\n \n         * gcc.c-torture/execute/unroll-1.c: New test."}, {"sha": "27f2f7ed65ddeaa5a2c5531bc57d8ad78752a0ce", "filename": "gcc/testsuite/gcc.dg/format-ext-3.c", "status": "modified", "additions": 5, "deletions": 8, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2Ftestsuite%2Fgcc.dg%2Fformat-ext-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2496f0b583a88c14572fa4095f0ff0017cdbb8c1/gcc%2Ftestsuite%2Fgcc.dg%2Fformat-ext-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat-ext-3.c?ref=2496f0b583a88c14572fa4095f0ff0017cdbb8c1", "patch": "@@ -121,12 +121,10 @@ foo (char *s, size_t m, const struct tm *tp)\n   strftime (s, m, \"%0P\", tp); /* { dg-warning \"flag\" \"bad %P\" } */\n   /* The \"^\" and \"#\" flags control the case of the output.\n      ^ (uppercase) makes sense on aAbBhZ; # (change case) makes sense\n-     on the same (though glibc ignores it on bh for some reason; for now our\n-     implementation in GCC follows glibc) and on p.\n+     on the same and on p.\n   */\n-  strftime (s, m, \"%^a%#a%^A%#A%^b%^B%#B%^h%^Z%#Z%#p\", tp);\n+  strftime (s, m, \"%^a%#a%^A%#A%^b%#b%^B%#B%^h%#h%^Z%#Z%#p\", tp);\n   /* Bad usages.  */\n-  strftime (s, m, \"%#b\", tp); /* { dg-warning \"flag\" \"bad %b\" } */\n   strftime (s, m, \"%^C\", tp); /* { dg-warning \"flag\" \"bad %C\" } */\n   strftime (s, m, \"%#C\", tp); /* { dg-warning \"flag\" \"bad %C\" } */\n   strftime (s, m, \"%^d\", tp); /* { dg-warning \"flag\" \"bad %d\" } */\n@@ -137,7 +135,6 @@ foo (char *s, size_t m, const struct tm *tp)\n   strftime (s, m, \"%#F\", tp); /* { dg-warning \"flag\" \"bad %F\" } */\n   strftime (s, m, \"%^G\", tp); /* { dg-warning \"flag\" \"bad %G\" } */\n   strftime (s, m, \"%#G\", tp); /* { dg-warning \"flag\" \"bad %G\" } */\n-  strftime (s, m, \"%#h\", tp); /* { dg-warning \"flag\" \"bad %h\" } */\n   strftime (s, m, \"%^H\", tp); /* { dg-warning \"flag\" \"bad %H\" } */\n   strftime (s, m, \"%#H\", tp); /* { dg-warning \"flag\" \"bad %H\" } */\n   strftime (s, m, \"%^I\", tp); /* { dg-warning \"flag\" \"bad %I\" } */\n@@ -196,16 +193,16 @@ foo (char *s, size_t m, const struct tm *tp)\n   strftime (s, m, \"%#x\", tp); /* { dg-warning \"flag\" \"bad %x\" } */\n   strftime (s, m, \"%^y\", tp); /* { dg-warning \"flag\" \"bad %y\" } */\n   strftime (s, m, \"%#y\", tp); /* { dg-warning \"flag\" \"bad %y\" } */\n+  /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 186 } */\n+  /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 187 } */\n+  /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 188 } */\n   /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 189 } */\n   /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 190 } */\n   /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 191 } */\n   /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 192 } */\n   /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 193 } */\n   /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 194 } */\n   /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 195 } */\n-  /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 196 } */\n-  /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 197 } */\n-  /* { dg-warning \"only last 2\" \"2-digit year\" { target *-*-* } 198 } */\n   /* GCC also accepts the glibc format extensions %P, %k, %l, %s.  */\n   strftime (s, m, \"%P%k%l%s\", tp);\n   /* GCC also accepts the glibc extension of the \"O\" modifier on some"}]}