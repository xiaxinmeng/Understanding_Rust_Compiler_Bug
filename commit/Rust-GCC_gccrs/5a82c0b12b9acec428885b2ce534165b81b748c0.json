{"sha": "5a82c0b12b9acec428885b2ce534165b81b748c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWE4MmMwYjEyYjlhY2VjNDI4ODg1YjJjZTUzNDE2NWI4MWI3NDhjMA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2003-04-08T20:16:54Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2003-04-08T20:16:54Z"}, "message": "reorg.c (fill_slots_from_thread): When considering changing the insn following a reg-to-reg copy insn to use the...\n\n\t* reorg.c (fill_slots_from_thread): When considering changing the\n\tinsn following a reg-to-reg copy insn to use the source reg of the\n\tcopy, bail out if there's overlap between the registers.\n\nFrom-SVN: r65381", "tree": {"sha": "86f219c53777bb206099b1ca39b7026fb2c5cbe4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/86f219c53777bb206099b1ca39b7026fb2c5cbe4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5a82c0b12b9acec428885b2ce534165b81b748c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a82c0b12b9acec428885b2ce534165b81b748c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a82c0b12b9acec428885b2ce534165b81b748c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a82c0b12b9acec428885b2ce534165b81b748c0/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8a5275eb09e8d3914cb8497e3815231e60526c13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a5275eb09e8d3914cb8497e3815231e60526c13", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a5275eb09e8d3914cb8497e3815231e60526c13"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "b0f45f6dffeabf776305a8503672aa3209317339", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a82c0b12b9acec428885b2ce534165b81b748c0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a82c0b12b9acec428885b2ce534165b81b748c0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5a82c0b12b9acec428885b2ce534165b81b748c0", "patch": "@@ -1,3 +1,9 @@\n+2003-04-08  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* reorg.c (fill_slots_from_thread): When considering changing the\n+\tinsn following a reg-to-reg copy insn to use the source reg of the\n+\tcopy, bail out if there's overlap between the registers.\n+\n 2003-04-08  Zdenek Dvorak  <rakdver@atrey.karlin.mff.cuni.cz>\n \n \t* function.c (postponed_insns): New."}, {"sha": "161e7b03ab23488f2d44a7f32ea5eb0c7f4563bd", "filename": "gcc/reorg.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5a82c0b12b9acec428885b2ce534165b81b748c0/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5a82c0b12b9acec428885b2ce534165b81b748c0/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=5a82c0b12b9acec428885b2ce534165b81b748c0", "patch": "@@ -2813,11 +2813,13 @@ fill_slots_from_thread (insn, condition, thread, opposite_thread, likely,\n \t that would make the replacement into the insn invalid.  We also can't\n \t do this if it modifies our source, because it might be an earlyclobber\n \t operand.  This latter test also prevents updating the contents of\n-\t a PRE_INC.  */\n+\t a PRE_INC.  We also can't do this if there's overlap of source and\n+\t destination.  Overlap may happen for larger-than-register-size modes.  */\n \n       if (GET_CODE (trial) == INSN && GET_CODE (pat) == SET\n \t  && GET_CODE (SET_SRC (pat)) == REG\n-\t  && GET_CODE (SET_DEST (pat)) == REG)\n+\t  && GET_CODE (SET_DEST (pat)) == REG\n+\t  && !reg_overlap_mentioned_p (SET_DEST (pat), SET_SRC (pat)))\n \t{\n \t  rtx next = next_nonnote_insn (trial);\n "}]}