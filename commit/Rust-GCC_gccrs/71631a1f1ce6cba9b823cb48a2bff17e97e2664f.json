{"sha": "71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzE2MzFhMWYxY2U2Y2JhOWI4MjNjYjQ4YTJiZmYxN2U5N2UyNjY0Zg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2000-11-15T11:59:07Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2000-11-15T11:59:07Z"}, "message": "typeck.c (lookup_anon_field): Cope with qv qualifiers.\n\ncp/\n\t* typeck.c (lookup_anon_field): Cope with qv qualifiers.\ntestsuite/\n\t* g++.old-deja/g++.other/anon5.C: New test.\n\nFrom-SVN: r37478", "tree": {"sha": "b6ff16dc9d8af462973b8cea045e7c79c3d7b84a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b6ff16dc9d8af462973b8cea045e7c79c3d7b84a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/comments", "author": null, "committer": null, "parents": [{"sha": "eab0c1ab23e6ab6f37af519150a22f6b3129c452", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eab0c1ab23e6ab6f37af519150a22f6b3129c452", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eab0c1ab23e6ab6f37af519150a22f6b3129c452"}], "stats": {"total": 27, "additions": 26, "deletions": 1}, "files": [{"sha": "881ad2b4fada5d1152bc7bd55bade02cf09c5ba8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "patch": "@@ -1,3 +1,7 @@\n+2000-11-15  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* typeck.c (lookup_anon_field): Cope with qv qualifiers.\n+\n 2000-11-14  Mark Mitchell  <mark@codesourcery.com>\n \n \t* class.c (build_vtbl_initializer): Fix typo in comment."}, {"sha": "d0ca2bbcb28696be6538a7caa05f9a73fc815841", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "patch": "@@ -1994,7 +1994,7 @@ lookup_anon_field (t, type)\n \n       /* If we find it directly, return the field.  */\n       if (DECL_NAME (field) == NULL_TREE\n-\t  && type == TREE_TYPE (field))\n+\t  && type == TYPE_MAIN_VARIANT (TREE_TYPE (field)))\n \t{\n \t  return field;\n \t}"}, {"sha": "6a01b9243a1d371781ec1493ce7c34111ce04db4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "patch": "@@ -1,3 +1,7 @@\n+2000-11-15  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* g++.old-deja/g++.other/anon5.C: New test.\n+\n 2000-11-14  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gcc.dg/c90-const-expr-2.c, gcc.dg/c99-const-expr-2.c: Add more"}, {"sha": "69fafdae1827eb68018c9cd019177ac25f1ee1c8", "filename": "gcc/testsuite/g++.old-deja/g++.other/anon5.C", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fanon5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/71631a1f1ce6cba9b823cb48a2bff17e97e2664f/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fanon5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fanon5.C?ref=71631a1f1ce6cba9b823cb48a2bff17e97e2664f", "patch": "@@ -0,0 +1,17 @@\n+// Build don't link:\n+// Copyright (C) 2000 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 14 Nov 2000 <nathan@codesourcery.com>\n+\n+// Bug 649. A cv qualified anonymous union would cause confusion.\n+\n+struct X\n+{\n+  int fn () const\n+  {\n+    return member;\n+  }\n+  const union\n+  {\n+    int member;\n+  };\n+};"}]}