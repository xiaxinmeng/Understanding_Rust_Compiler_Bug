{"sha": "6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjgwOWY0YjUwZTQ4MzJlODdmYzNkNjhjM2E4MTNmOGM2YjRhMTdlZQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2010-09-15T09:06:32Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2010-09-15T09:06:32Z"}, "message": "re PR c++/45665 (ICE: tree check: expected class 'type', have 'exceptional' (error_mark) in grokdeclarator, at cp/decl.c:8797 on invalid code)\n\n/cp\n2010-09-15  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/45665\n\t* decl.c (grokdeclarator): Check build_memfn_type return value\n\tfor error_mark_node.\n\n/testsuite\n2010-09-15  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/45665\n\t* g++.dg/template/crash103.C: New.\n\nFrom-SVN: r164299", "tree": {"sha": "42c7eaaecea214d2ce95be1f7d1c1b6d4c01ef5b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/42c7eaaecea214d2ce95be1f7d1c1b6d4c01ef5b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/comments", "author": null, "committer": null, "parents": [{"sha": "1093719080cda3aedc8a17dfa379def891044ba7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1093719080cda3aedc8a17dfa379def891044ba7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1093719080cda3aedc8a17dfa379def891044ba7"}], "stats": {"total": 21, "additions": 19, "deletions": 2}, "files": [{"sha": "20887a064d5576d40e890c97351df24d60fc428d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "patch": "@@ -1,3 +1,9 @@\n+2010-09-15  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/45665\n+\t* decl.c (grokdeclarator): Check build_memfn_type return value\n+\tfor error_mark_node.\n+\n 2010-09-13  Rodrigo Rivas Costa <rodrigorivascosta@gmail.com>\n \n \t* semantics.c (finish_for_stmt): Always test flag_new_for_scope."}, {"sha": "3d1420a23ebe2e527b22197250041ded58e9e3df", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "patch": "@@ -8762,6 +8762,8 @@ grokdeclarator (const cp_declarator *declarator,\n \t      type = build_memfn_type (type,\n \t\t\t\t       declarator->u.pointer.class_type,\n \t\t\t\t       memfn_quals);\n+\t      if (type == error_mark_node)\n+\t\treturn error_mark_node;\n \t      memfn_quals = TYPE_UNQUALIFIED;\n \t    }\n "}, {"sha": "72f7e71930bdd156b932b08babbc783a2e44f407", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "patch": "@@ -1,3 +1,8 @@\n+2010-09-15  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/45665\n+\t* g++.dg/template/crash103.C: New.\n+\n 2010-09-15  Nicola Pero  <nicola.pero@meta-innovation.com>\n \n \tMerge from 'apple/trunk' branch on FSF servers.\n@@ -12,7 +17,7 @@\n \n \tRadar 4219590\n \t* objc.dg/break-in-ifstmt.m: New.\n-\t\n+\n \t2005-08-22  Ziemowit Laski  <zlaski@apple.com>\n \n \tRadar 4174166\n@@ -24,7 +29,7 @@\n \tRadar 4216500\n \t* obj-c++.dg/proto-lossage-7.mm: New.\n \t* objc.dg/proto-lossage-7.m: New.\n-\t\n+\n 2010-09-14  Jan Hubicka  <jh@suse.cz>\n \n \t* gfortran.dg/vect/fast-math-pr38968.f90: Add common to prevent"}, {"sha": "9f3e224e71166b1e03313f08bdb4a5109ccaeff5", "filename": "gcc/testsuite/g++.dg/template/crash103.C", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash103.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash103.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fcrash103.C?ref=6809f4b50e4832e87fc3d68c3a813f8c6b4a17ee", "patch": "@@ -0,0 +1,4 @@\n+// PR c++/45665\n+\n+template < typename > struct S;\n+void (S <0>::*ptr) (); // { dg-error \"type\" }"}]}