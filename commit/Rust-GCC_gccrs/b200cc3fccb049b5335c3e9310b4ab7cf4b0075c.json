{"sha": "b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjIwMGNjM2ZjY2IwNDliNTMzNWMzZTkzMTBiNGFiN2NmNGIwMDc1Yw==", "commit": {"author": {"name": "Richard Guenther", "email": "rguenther@suse.de", "date": "2011-12-21T09:22:58Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2011-12-21T09:22:58Z"}, "message": "re PR lto/41159 ([LTO] ICE in insert_value_copy_on_edge, at tree-outof-ssa.c:225)\n\n2011-12-21  Richard Guenther  <rguenther@suse.de>\n\n\tPR lto/41159\n\t* tree-outof-ssa.c (insert_value_copy_on_edge): Use the\n\tmode of the pseudo as destination mode.  Only assert that\n\tis equal to the promoted mode of the decl if it is a REG.\n\nFrom-SVN: r182570", "tree": {"sha": "81fb597d11aae860b99eb2e662b300a9ae338c19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81fb597d11aae860b99eb2e662b300a9ae338c19"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8e1d97d43b4230fa8a4bd78f73b0817864082493", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e1d97d43b4230fa8a4bd78f73b0817864082493", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e1d97d43b4230fa8a4bd78f73b0817864082493"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "2fd7a51a4087e94e79e74aca9fd3c6358746614b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "patch": "@@ -1,3 +1,10 @@\n+2011-12-21  Richard Guenther  <rguenther@suse.de>\n+\n+\tPR lto/41159\n+\t* tree-outof-ssa.c (insert_value_copy_on_edge): Use the\n+\tmode of the pseudo as destination mode.  Only assert that\n+\tis equal to the promoted mode of the decl if it is a REG.\n+\n 2011-12-21  Tristan Gingold  <gingold@adacore.com>\n \n \t* config/vms/xm-vms.h (STANDARD_EXEC_PREFIX): Remove define."}, {"sha": "f52b26030121e0d87922cc127c99e21436c6e6c5", "filename": "gcc/tree-outof-ssa.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c/gcc%2Ftree-outof-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b200cc3fccb049b5335c3e9310b4ab7cf4b0075c/gcc%2Ftree-outof-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-outof-ssa.c?ref=b200cc3fccb049b5335c3e9310b4ab7cf4b0075c", "patch": "@@ -237,9 +237,10 @@ insert_value_copy_on_edge (edge e, int dest, tree src, source_location locus)\n \n   var = SSA_NAME_VAR (partition_to_var (SA.map, dest));\n   src_mode = TYPE_MODE (TREE_TYPE (src));\n-  dest_mode = promote_decl_mode (var, &unsignedp);\n+  dest_mode = GET_MODE (SA.partition_to_pseudo[dest]);\n   gcc_assert (src_mode == TYPE_MODE (TREE_TYPE (var)));\n-  gcc_assert (dest_mode == GET_MODE (SA.partition_to_pseudo[dest]));\n+  gcc_assert (!REG_P (SA.partition_to_pseudo[dest])\n+\t      || dest_mode == promote_decl_mode (var, &unsignedp));\n \n   if (src_mode != dest_mode)\n     {"}]}