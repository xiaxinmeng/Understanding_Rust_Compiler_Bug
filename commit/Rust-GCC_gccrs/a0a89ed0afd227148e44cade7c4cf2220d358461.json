{"sha": "a0a89ed0afd227148e44cade7c4cf2220d358461", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTBhODllZDBhZmQyMjcxNDhlNDRjYWRlN2M0Y2YyMjIwZDM1ODQ2MQ==", "commit": {"author": {"name": "Chris Demetriou", "email": "cgd@broadcom.com", "date": "2003-03-14T15:53:48Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2003-03-14T15:53:48Z"}, "message": "mips.h (FUNCTION_PROFILER): _mcount() doesn't pop 2 words in new abis.\n\n* config/mips/mips.h (FUNCTION_PROFILER): _mcount() doesn't pop 2\nwords in new abis.\n\nFrom-SVN: r64364", "tree": {"sha": "143a87d994e2c1187f3241f5519f562df6bcd787", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/143a87d994e2c1187f3241f5519f562df6bcd787"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a0a89ed0afd227148e44cade7c4cf2220d358461", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0a89ed0afd227148e44cade7c4cf2220d358461", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0a89ed0afd227148e44cade7c4cf2220d358461", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0a89ed0afd227148e44cade7c4cf2220d358461/comments", "author": null, "committer": null, "parents": [{"sha": "8d3f82aa3ae7dc4a11f94bd191e56a63faa06ae8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d3f82aa3ae7dc4a11f94bd191e56a63faa06ae8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d3f82aa3ae7dc4a11f94bd191e56a63faa06ae8"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "75a31316d160052cc63ff3f7cd4ff76fcff4dfa2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0a89ed0afd227148e44cade7c4cf2220d358461/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0a89ed0afd227148e44cade7c4cf2220d358461/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a0a89ed0afd227148e44cade7c4cf2220d358461", "patch": "@@ -1,3 +1,8 @@\n+2003-03-14  Chris Demetriou  <cgd@broadcom.com>, Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* config/mips/mips.h (FUNCTION_PROFILER): _mcount() doesn't pop 2\n+\twords in new abis.\n+\n 2003-03-14  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \tPR optimization/8396"}, {"sha": "9c6fefd298fd566e798a57b9e2cbbdbb9170e083", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a0a89ed0afd227148e44cade7c4cf2220d358461/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a0a89ed0afd227148e44cade7c4cf2220d358461/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=a0a89ed0afd227148e44cade7c4cf2220d358461", "patch": "@@ -2921,12 +2921,15 @@ typedef struct mips_args {\n   fprintf (FILE, \"\\t.set\\tnoat\\n\");\t\t\t\t\t\\\n   fprintf (FILE, \"\\tmove\\t%s,%s\\t\\t# save current return address\\n\",\t\\\n \t   reg_names[GP_REG_FIRST + 1], reg_names[GP_REG_FIRST + 31]);\t\\\n-  fprintf (FILE,\t\t\t\t\t\t\t\\\n-\t   \"\\t%s\\t%s,%s,%d\\t\\t# _mcount pops 2 words from  stack\\n\",\t\\\n-\t   TARGET_64BIT ? \"dsubu\" : \"subu\",\t\t\t\t\\\n-\t   reg_names[STACK_POINTER_REGNUM],\t\t\t\t\\\n-\t   reg_names[STACK_POINTER_REGNUM],\t\t\t\t\\\n-\t   Pmode == DImode ? 16 : 8);\t\t\t\t\t\\\n+  if (mips_abi != ABI_N32 && mips_abi != ABI_64)\t\t\t\\\n+    {\t\t\t\t\t\t\t\t\t\\\n+      fprintf (FILE,\t\t\t\t\t\t\t\\\n+\t       \"\\t%s\\t%s,%s,%d\\t\\t# _mcount pops 2 words from  stack\\n\", \\\n+\t       TARGET_64BIT ? \"dsubu\" : \"subu\",\t\t\t\t\\\n+\t       reg_names[STACK_POINTER_REGNUM],\t\t\t\t\\\n+\t       reg_names[STACK_POINTER_REGNUM],\t\t\t\t\\\n+\t       Pmode == DImode ? 16 : 8);\t\t\t\t\\\n+    }\t\t\t\t\t\t\t\t\t\\\n   fprintf (FILE, \"\\tjal\\t_mcount\\n\");                                   \\\n   fprintf (FILE, \"\\t.set\\tat\\n\");\t\t\t\t\t\\\n }"}]}