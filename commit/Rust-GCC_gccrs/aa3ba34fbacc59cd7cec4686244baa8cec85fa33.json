{"sha": "aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWEzYmEzNGZiYWNjNTljZDdjZWM0Njg2MjQ0YmFhOGNlYzg1ZmEzMw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-11-04T01:52:40Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-11-04T01:52:40Z"}, "message": "gotest: fix handling of --goarch option\n    \n    I managed to add a new --goarch option to gotest without noticing that\n    the script already had one.  Worse, they set different variables.\n    Remove the old option in favor of the new one.\n    \n    Reviewed-on: https://go-review.googlesource.com/16613\n\nFrom-SVN: r229734", "tree": {"sha": "3222b0ded296a9a9a6df3508a605090e336830f1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3222b0ded296a9a9a6df3508a605090e336830f1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/comments", "author": null, "committer": null, "parents": [{"sha": "bfd4a4de7dbcda2382aee83752b4ddd2d11bb44c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfd4a4de7dbcda2382aee83752b4ddd2d11bb44c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfd4a4de7dbcda2382aee83752b4ddd2d11bb44c"}], "stats": {"total": 26, "additions": 8, "deletions": 18}, "files": [{"sha": "dc042d91656e14b8421f156c45914e0a77a1a00a", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "patch": "@@ -1,4 +1,4 @@\n-10e0f935ac369f8403c198b05c909e42e565c1e5\n+47f256e1ed527b2eb4041acf90d33e6abc5e1685\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "ef671c4a5470bbffd561a5ad8a384c11f0e9072b", "filename": "libgo/Makefile.am", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "patch": "@@ -2344,11 +2344,11 @@ CHECK = \\\n \t$(MKDIR_P) $(@D); \\\n \trm -f $@-testsum $@-testlog; \\\n \tif test \"$(USE_DEJAGNU)\" = \"yes\"; then \\\n-\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n+\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n \telif test \"$(GOBENCH)\" != \"\"; then \\\n-\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" --bench=\"$(GOBENCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n+\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --bench=\"$(GOBENCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n \telse \\\n-\t  if $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files) >>$@-testlog 2>&1; then \\\n+\t  if $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files) >>$@-testlog 2>&1; then \\\n \t    echo \"PASS: $(@D)\" >> $@-testlog; \\\n \t    echo \"PASS: $(@D)\"; \\\n \t    echo \"PASS: $(@D)\" > $@-testsum; \\"}, {"sha": "44175b96dbf0a1386038e80367ef2cf19e9aea81", "filename": "libgo/Makefile.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "patch": "@@ -2371,11 +2371,11 @@ CHECK = \\\n \t$(MKDIR_P) $(@D); \\\n \trm -f $@-testsum $@-testlog; \\\n \tif test \"$(USE_DEJAGNU)\" = \"yes\"; then \\\n-\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n+\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --dejagnu=yes --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --testname=\"$(@D)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n \telif test \"$(GOBENCH)\" != \"\"; then \\\n-\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" --bench=\"$(GOBENCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n+\t  $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --bench=\"$(GOBENCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files); \\\n \telse \\\n-\t  if $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" --goarch=\"$(GOARCH)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files) >>$@-testlog 2>&1; then \\\n+\t  if $(SHELL) $(srcdir)/testsuite/gotest --goarch=$(GOARCH) --goos=$(GOOS) --basedir=$(srcdir) --srcdir=$(srcdir)/go/$(@D) --pkgpath=\"$(@D)\" --pkgfiles=\"$(go_$(subst /,_,$(@D))_files)\" $(GOTESTFLAGS) $(go_$(subst /,_,$(@D))_test_files) >>$@-testlog 2>&1; then \\\n \t    echo \"PASS: $(@D)\" >> $@-testlog; \\\n \t    echo \"PASS: $(@D)\"; \\\n \t    echo \"PASS: $(@D)\" > $@-testsum; \\"}, {"sha": "19cc6bed9740df4e638054fe7044f08798283cc7", "filename": "libgo/testsuite/gotest", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/libgo%2Ftestsuite%2Fgotest", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/aa3ba34fbacc59cd7cec4686244baa8cec85fa33/libgo%2Ftestsuite%2Fgotest", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Ftestsuite%2Fgotest?ref=aa3ba34fbacc59cd7cec4686244baa8cec85fa33", "patch": "@@ -35,7 +35,6 @@ keep=false\n pkgpath=\n prefix=\n dejagnu=no\n-GOARCH=\"\"\n timeout=240\n testname=\"\"\n bench=\"\"\n@@ -118,15 +117,6 @@ while $loop; do\n \t\tdejagnu=`echo $1 | sed -e 's/^--dejagnu=//'`\n \t\tshift\n \t\t;;\n-\tx--goarch)\n-\t\tGOARCH=$2\n-\t\tshift\n-\t\tshift\n-\t\t;;\n-\tx--goarch=*)\n-\t\tGOARCH=`echo $1 | sed -e 's/^--goarch=//'`\n-\t\tshift\n-\t\t;;\n \tx--timeout)\n \t\ttimeout=$2\n \t\tshift\n@@ -496,7 +486,7 @@ localname() {\n \n {\n \ttext=\"T\"\n-\tcase \"$GOARCH\" in\n+\tcase \"$goarch\" in\n \tppc64*) text=\"[TD]\" ;;\n \tesac\n "}]}