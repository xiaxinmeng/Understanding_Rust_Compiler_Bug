{"sha": "9f4593a8563143a67df852e7264c82f8c839ef47", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWY0NTkzYTg1NjMxNDNhNjdkZjg1MmU3MjY0YzgyZjhjODM5ZWY0Nw==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2006-08-14T23:15:57Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2006-08-14T23:15:57Z"}, "message": "re PR c++/28288 (ICE with min/max operator)\n\n\tPR c++/28288\n\tPR c++/14556\n\t* g++.old-deja/g++.warn/compare1.C: Delete.\n\t* g++.dg/opt/pr7503-2.C: Delete.\n\t* g++.dg/opt/pr7503-3.C: Delete.\n\t* g++.dg/opt/pr7503-4.C: Delete.\n\t* g++.dg/opt/pr7503-5.C: Delete.\n\t* g++.dg/opt/max1.C: Delete.\n\t* g++.dg/warn/minmax.C: Delete.\n\t* g++.dg/expr/minmax.C: New test.\n\nFrom-SVN: r116141", "tree": {"sha": "037c92132b9ff04a802c1d4cf96c9a6cd9bb129c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/037c92132b9ff04a802c1d4cf96c9a6cd9bb129c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9f4593a8563143a67df852e7264c82f8c839ef47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f4593a8563143a67df852e7264c82f8c839ef47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f4593a8563143a67df852e7264c82f8c839ef47", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f4593a8563143a67df852e7264c82f8c839ef47/comments", "author": null, "committer": null, "parents": [{"sha": "b52dbbf86510c011400a97e204cf9384fef83b0c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b52dbbf86510c011400a97e204cf9384fef83b0c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b52dbbf86510c011400a97e204cf9384fef83b0c"}], "stats": {"total": 374, "additions": 27, "deletions": 347}, "files": [{"sha": "6802b840322f564861b4a15effba0ff5387ac2bf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f4593a8563143a67df852e7264c82f8c839ef47/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f4593a8563143a67df852e7264c82f8c839ef47/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=9f4593a8563143a67df852e7264c82f8c839ef47", "patch": "@@ -1,3 +1,16 @@\n+2006-08-14  Steve Ellcey  <sje@cup.hp.com>\n+\n+\tPR c++/28288\n+\tPR c++/14556\n+\t* g++.old-deja/g++.warn/compare1.C: Delete.\n+\t* g++.dg/opt/pr7503-2.C: Delete.\n+\t* g++.dg/opt/pr7503-3.C: Delete.\n+\t* g++.dg/opt/pr7503-4.C: Delete.\n+\t* g++.dg/opt/pr7503-5.C: Delete.\n+\t* g++.dg/opt/max1.C: Delete.\n+\t* g++.dg/warn/minmax.C: Delete.\n+\t* g++.dg/expr/minmax.C: New test.\n+\n 2006-08-14  Richard Guenther  <rguenther@suse.de>\n \n \tPR testsuite/28703"}, {"sha": "407a92bb4758a690ea1bcf2d208e038780c6b3d1", "filename": "gcc/testsuite/g++.dg/expr/minmax.C", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9f4593a8563143a67df852e7264c82f8c839ef47/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fminmax.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9f4593a8563143a67df852e7264c82f8c839ef47/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fminmax.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fexpr%2Fminmax.C?ref=9f4593a8563143a67df852e7264c82f8c839ef47", "patch": "@@ -0,0 +1,14 @@\n+// { dg-do compile }\n+\n+void f(void)\n+{\n+\tint a, b;\n+\t(a >? b) = 1; // { dg-error \"\" }\n+}\n+\n+\n+void g(void)\n+{\n+\tint a, b;\n+\t(a <? b) = 1; // { dg-error \"\" }\n+}"}, {"sha": "10a6e57d92dd10ab75549a567c1da45f9b51ddff", "filename": "gcc/testsuite/g++.dg/opt/max1.C", "status": "removed", "additions": 0, "deletions": 29, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fmax1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fmax1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fmax1.C?ref=b52dbbf86510c011400a97e204cf9384fef83b0c", "patch": "@@ -1,29 +0,0 @@\n-/* PR middle-end/19068 */\n-/* Test case by Andrew Pinski <pinskia@physics.uc.edu> */\n-/* { dg-do run } */\n-/* { dg-options \"-O2 -Wno-deprecated\" } */\n-\n-extern \"C\" void abort (void);\n-\n-long fff[10];\n-\n-void f(long a)\n-{\n-  int i;\n-  a =  *((long*)(a+1+sizeof(long))) >? *((long*)(a+1)); \n-\n-  for(i=0;i<10;i++)\n-   fff[i] = a;\n-}\n-\n-int main(void)\n-{\n-  int i;\n-  long a[2] = {10,5};\n-  f((long)(&a)-1);\n-  for(i = 0;i<10;i++)\n-   if (fff[i]!=10)\n-    abort ();\n-  return 0;\n-}\n-"}, {"sha": "02ce5988d703532aeb5f194f4e960cebe3111a44", "filename": "gcc/testsuite/g++.dg/opt/pr7503-2.C", "status": "removed", "additions": 0, "deletions": 79, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-2.C?ref=b52dbbf86510c011400a97e204cf9384fef83b0c", "patch": "@@ -1,79 +0,0 @@\n-// PR c++/7503\n-// { dg-do run }\n-// { dg-options \"-O2 -Wno-deprecated\" }\n-\n-extern \"C\" void abort();\n-\n-void test1a()\n-{\n-  int A = 4;\n-  int B = 4;\n-\n-  (A >? B) = 1;\n-  if (A != 1 || B != 4)\n-    abort ();\n-}\n-\n-void test1b()\n-{\n-  int A = 3;\n-  int B = 5;\n-\n-  (A >? B) = 1;\n-  if (A != 3 || B != 1)\n-    abort ();\n-}\n-\n-void test1c()\n-{\n-  int A = 5;\n-  int B = 3;\n-\n-  (A >? B) = 1;\n-  if (A != 1 || B != 3)\n-    abort ();\n-}\n-\n-\n-void test2a()\n-{\n-  int A = 4;\n-  int B = 4;\n-\n-  (A <? B) = 1;\n-  if (A != 1 || B != 4)\n-    abort ();\n-}\n-\n-void test2b()\n-{\n-  int A = 3;\n-  int B = 5;\n-\n-  (A <? B) = 1;\n-  if (A != 1 || B != 5)\n-    abort ();\n-}\n-\n-void test2c()\n-{\n-  int A = 5;\n-  int B = 3;\n-\n-  (A <? B) = 1;\n-  if (A != 5 || B != 1)\n-    abort ();\n-}\n-\n-\n-int main()\n-{\n-  test1a();\n-  test1b();\n-  test1c();\n-  test2a();\n-  test2b();\n-  test2c();\n-  return 0;\n-}\n-"}, {"sha": "dc71d20638b15545bce091a23f6e7f68a352df59", "filename": "gcc/testsuite/g++.dg/opt/pr7503-3.C", "status": "removed", "additions": 0, "deletions": 26, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-3.C?ref=b52dbbf86510c011400a97e204cf9384fef83b0c", "patch": "@@ -1,26 +0,0 @@\n-// PR c++/7503\n-// { dg-do compile }\n-// { dg-options \"-O2 -Wno-deprecated\" }\n-\n-extern int A, B;\n-\n-void test1()\n-{\n-  (A++ <? B) = 0;  // { dg-error \"lvalue required\" }\n-}\n-\n-void test2()\n-{\n-  (A <? B++) = 0;  // { dg-error \"lvalue required\" }\n-}\n-\n-void test3()\n-{\n-  (A++ >? B) = 0;  // { dg-error \"lvalue required\" }\n-}\n-\n-void test4()\n-{\n-  (A >? B++) = 0;  // { dg-error \"lvalue required\" }\n-}\n-"}, {"sha": "7ed70946984346e5d6c2ed0a0d3849b8d73e1e88", "filename": "gcc/testsuite/g++.dg/opt/pr7503-4.C", "status": "removed", "additions": 0, "deletions": 81, "changes": 81, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-4.C?ref=b52dbbf86510c011400a97e204cf9384fef83b0c", "patch": "@@ -1,81 +0,0 @@\n-// PR c++/7503\n-// { dg-do run }\n-// { dg-options \"-O2 -Wno-deprecated\" }\n-\n-extern \"C\" void abort();\n-\n-void test1a()\n-{\n-  int A = 4;\n-  int B = 4;\n-\n-  A >?= B;\n-  if (A != 4 || B != 4)\n-    abort ();\n-}\n-\n-void test1b()\n-{\n-  int A = 3;\n-  int B = 5;\n-\n-  A >?= B;\n-  if (A != 5 || B != 5)\n-    abort ();\n-}\n-\n-void test1c()\n-{\n-  int A = 5;\n-  int B = 3;\n-\n-  A >?= B;\n-  if (A != 5 || B != 3)\n-    abort ();\n-}\n-\n-\n-void test2a()\n-{\n-  int A = 4;\n-  int B = 4;\n-\n-  A <?= B;\n-  if (A != 4 || B != 4)\n-    abort ();\n-}\n-\n-void test2b()\n-{\n-  int A = 3;\n-  int B = 5;\n-\n-  A <?= B;\n-  if (A != 3 || B != 5)\n-    abort ();\n-}\n-\n-void test2c()\n-{\n-  int A = 5;\n-  int B = 3;\n-\n-  A <?= B;\n-  if (A != 3 || B != 3)\n-    abort ();\n-}\n-\n-\n-int main()\n-{\n-  test1a();\n-  test1b();\n-  test1c();\n-\n-  test2a();\n-  test2b();\n-  test2c();\n-\n-  return 0;\n-}\n-"}, {"sha": "236ac93aa3aece57b6a4a247739b32abf6743221", "filename": "gcc/testsuite/g++.dg/opt/pr7503-5.C", "status": "removed", "additions": 0, "deletions": 81, "changes": 81, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-5.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-5.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fopt%2Fpr7503-5.C?ref=b52dbbf86510c011400a97e204cf9384fef83b0c", "patch": "@@ -1,81 +0,0 @@\n-// PR c++/7503\n-// { dg-do run }\n-// { dg-options \"-O2 -Wno-deprecated\" }\n-\n-extern \"C\" void abort();\n-\n-void test1a()\n-{\n-  int A = 4;\n-  int B = 4;\n-\n-  A >?= B++;\n-  if (A != 4 || B != 5)\n-    abort ();\n-}\n-\n-void test1b()\n-{\n-  int A = 3;\n-  int B = 5;\n-\n-  A >?= B++;\n-  if (A != 5 || B != 6)\n-    abort ();\n-}\n-\n-void test1c()\n-{\n-  int A = 5;\n-  int B = 3;\n-\n-  A >?= B++;\n-  if (A != 5 || B != 4)\n-    abort ();\n-}\n-\n-\n-void test2a()\n-{\n-  int A = 4;\n-  int B = 4;\n-\n-  A <?= B++;\n-  if (A != 4 || B != 5)\n-    abort ();\n-}\n-\n-void test2b()\n-{\n-  int A = 3;\n-  int B = 5;\n-\n-  A <?= B++;\n-  if (A != 3 || B != 6)\n-    abort ();\n-}\n-\n-void test2c()\n-{\n-  int A = 5;\n-  int B = 3;\n-\n-  A <?= B++;\n-  if (A != 3 || B != 4)\n-    abort ();\n-}\n-\n-\n-int main()\n-{\n-  test1a();\n-  test1b();\n-  test1c();\n-\n-  test2a();\n-  test2b();\n-  test2c();\n-\n-  return 0;\n-}\n-"}, {"sha": "7431bfc3c4ef954419eaa0f0b647d0e01eca2001", "filename": "gcc/testsuite/g++.dg/warn/minmax.C", "status": "removed", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fminmax.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fminmax.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fminmax.C?ref=b52dbbf86510c011400a97e204cf9384fef83b0c", "patch": "@@ -1,15 +0,0 @@\n-int i, j, k;\n-\n-void f() {\n-  i = j <? k; // { dg-warning \"deprecated\" }\n-  i = j >? k; // { dg-warning \"deprecated\" }\n-  i <?= j; // { dg-warning \"deprecated\" }\n-  i >?= j; // { dg-warning \"deprecated\" }\n-}\n-\n-struct S {\n-  void operator<?(int); // { dg-warning \"deprecated\" }\n-  void operator>?(int); // { dg-warning \"deprecated\" }\n-  void operator<?=(int); // { dg-warning \"deprecated\" }\n-  void operator>?=(int); // { dg-warning \"deprecated\" }\n-};"}, {"sha": "7a231801bfaee856ac355f304ebca4bbbb3e9046", "filename": "gcc/testsuite/g++.old-deja/g++.warn/compare1.C", "status": "removed", "additions": 0, "deletions": 36, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.warn%2Fcompare1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b52dbbf86510c011400a97e204cf9384fef83b0c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.warn%2Fcompare1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.warn%2Fcompare1.C?ref=b52dbbf86510c011400a97e204cf9384fef83b0c", "patch": "@@ -1,36 +0,0 @@\n-// { dg-do assemble  }\n-// { dg-options \"-ansi -pedantic-errors -Wsign-compare -Wno-deprecated\" }\n-\n-// Copyright (C) 2001 Free Software Foundation, Inc.\n-// Contributed by Kaveh R. Ghazi <ghazi@caip.rutgers.edu> 5/13/2001\n-\n-int foo(int x, int y, unsigned u)\n-{\n-  /* A MAX_EXPR is non-negative if EITHER argument to the MAX_EXPR is\n-     determined to be non-negative.  */\n-  if (u < (x >? -1)) // { dg-warning \"\" } signed and unsigned\n-    return x;\n-  if (u < (x >? 10))\n-    return x;\n-  if ((10 >? x) < u)\n-    return x;\n-  if (u < (x >? (y ? (x==y) : 10)))\n-    return x;\n-  if (((y ? 10 : (x==y)) >? x) < u)\n-    return x;\n-\n-  /* A MIN_EXPR is non-negative if BOTH arguments to the MIN_EXPR are\n-     determined to be non-negative.  */\n-  if (u < ((x?11:8) <? -1)) // { dg-warning \"\" } signed and unsigned\n-    return x;\n-  if (u < ((x?11:8) <? 10))\n-    return x;\n-  if ((10 <? (x?8:11)) < u)\n-    return x;\n-  if (u < ((x?11:(x==y)) <? 10))\n-    return x;\n-  if ((10 <? (x?(x==y):11)) < u)\n-    return x;\n-\n-  return 0;\n-}"}]}