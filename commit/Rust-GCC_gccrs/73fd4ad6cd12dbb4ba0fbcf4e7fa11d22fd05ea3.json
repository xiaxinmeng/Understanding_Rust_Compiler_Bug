{"sha": "73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzNmZDRhZDZjZDEyZGJiNGJhMGZiY2Y0ZTdmYTExZDIyZmQwNWVhMw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2007-06-11T15:40:52Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2007-06-11T15:40:52Z"}, "message": "tree-ssa-structalias.c (find_what_p_points_to): Return false for ref-all pointers that point-to anything.\n\n\t* tree-ssa-structalias.c (find_what_p_points_to): Return false\n\tfor ref-all pointers that point-to anything.\n\nFrom-SVN: r125620", "tree": {"sha": "1b8157062e08bc40acc9e00f97163fff095d7437", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1b8157062e08bc40acc9e00f97163fff095d7437"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3/comments", "author": null, "committer": null, "parents": [{"sha": "afcc986d03991b070c7ab76159f5b792b94c0a80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afcc986d03991b070c7ab76159f5b792b94c0a80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afcc986d03991b070c7ab76159f5b792b94c0a80"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "a4414797048124f17b50fb2dd338e651e3258ee8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3", "patch": "@@ -1,3 +1,8 @@\n+2007-06-11  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-ssa-structalias.c (find_what_p_points_to): Return false\n+\tfor ref-all pointers that point-to anything.\n+\n 2007-06-11  Joseph Myers  <joseph@codesourcery.com>\n \n \t* config/arm/arm.c (arm_output_dwarf_dtprel,"}, {"sha": "d351bf503c24c3245a3196eb781a75641523be4b", "filename": "gcc/tree-ssa-structalias.c", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3/gcc%2Ftree-ssa-structalias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3/gcc%2Ftree-ssa-structalias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-structalias.c?ref=73fd4ad6cd12dbb4ba0fbcf4e7fa11d22fd05ea3", "patch": "@@ -4540,12 +4540,19 @@ find_what_p_points_to (tree p)\n \t  finished_solution = BITMAP_GGC_ALLOC ();\n \t  stats.points_to_sets_created++;\n \t  \n-\t  /* Instead of using pt_anything, we instead merge in the SMT\n-\t     aliases for the underlying SMT.  In addition, if they\n-\t     could have pointed to anything, they could point to\n-\t     global memory.  */\n+\t  /* Instead of using pt_anything, we merge in the SMT aliases\n+\t     for the underlying SMT.  In addition, if they could have\n+\t     pointed to anything, they could point to global memory.\n+\t     But we cannot do that for ref-all pointers because these\n+\t     aliases have not been computed yet.  */\n \t  if (was_pt_anything)\n \t    {\n+\t      if (PTR_IS_REF_ALL (p))\n+\t\t{\n+\t\t  pi->pt_anything = 1;\n+\t\t  return false;\n+\t\t}\n+\n \t      merge_smts_into (p, finished_solution);\n \t      pi->pt_global_mem = 1;\n \t    }"}]}