{"sha": "863a331486b914ecc90a157198b0384b927e3f21", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODYzYTMzMTQ4NmI5MTRlY2M5MGExNTcxOThiMDM4NGI5MjdlM2YyMQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2005-08-24T10:21:46Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2005-08-24T10:21:46Z"}, "message": "re PR c++/22454 (ICE with operator in default argument in template class)\n\ncp:\n\tPR c++/22454\n\t* parser.c (cp_lexer_peek_nth_token): Relax assert.\ntestsuite:\n\tPR c++/22454\n\t* g++.dg/parse/crash29.C: New.\n\nFrom-SVN: r103438", "tree": {"sha": "cbb233db998dd402e7725ba528b06dc7243f51dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cbb233db998dd402e7725ba528b06dc7243f51dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/863a331486b914ecc90a157198b0384b927e3f21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/863a331486b914ecc90a157198b0384b927e3f21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/863a331486b914ecc90a157198b0384b927e3f21", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/863a331486b914ecc90a157198b0384b927e3f21/comments", "author": null, "committer": null, "parents": [{"sha": "b9a6624012d373b43c70193b13fd226f7e5b4c24", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9a6624012d373b43c70193b13fd226f7e5b4c24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9a6624012d373b43c70193b13fd226f7e5b4c24"}], "stats": {"total": 25, "additions": 23, "deletions": 2}, "files": [{"sha": "75c4500028239f0da2b0e9042f62bded0aa583b4", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=863a331486b914ecc90a157198b0384b927e3f21", "patch": "@@ -1,3 +1,8 @@\n+2005-08-24  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/22454\n+\t* parser.c (cp_lexer_peek_nth_token): Relax assert.\n+\n 2005-08-23  Nathan Sidwell  <nathan@codesourcery.com>\n \n \tPR c++/23044"}, {"sha": "6712f00ae82324d997e22d2164f8d2c6cf1e0914", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=863a331486b914ecc90a157198b0384b927e3f21", "patch": "@@ -497,14 +497,15 @@ cp_lexer_peek_nth_token (cp_lexer* lexer, size_t n)\n   cp_token *token;\n \n   /* N is 1-based, not zero-based.  */\n-  gcc_assert (n > 0 && lexer->next_token != &eof_token);\n-\n+  gcc_assert (n > 0);\n+  \n   if (cp_lexer_debugging_p (lexer))\n     fprintf (cp_lexer_debug_stream,\n \t     \"cp_lexer: peeking ahead %ld at token: \", (long)n);\n \n   --n;\n   token = lexer->next_token;\n+  gcc_assert (!n || token != &eof_token);\n   while (n != 0)\n     {\n       ++token;"}, {"sha": "e787eaa4c1c040dc39b9ee9954ad2f5a57ba4aaf", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=863a331486b914ecc90a157198b0384b927e3f21", "patch": "@@ -1,3 +1,8 @@\n+2005-08-24  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/22454\n+\t* g++.dg/parse/crash29.C: New.\n+\n 2005-08-23  DJ Delorie  <dj@redhat.com>\n \n \t* gcc.c-torture/execute/stdarg-2.c (main): Make sure long"}, {"sha": "29ede042b9f9b7c94070d15af523bb832d1cab0e", "filename": "gcc/testsuite/g++.dg/parse/crash29.C", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash29.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/863a331486b914ecc90a157198b0384b927e3f21/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash29.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fparse%2Fcrash29.C?ref=863a331486b914ecc90a157198b0384b927e3f21", "patch": "@@ -0,0 +1,10 @@\n+// Copyright (C) 2005 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 23 Aug 2005 <nathan@codesourcery.com>\n+\n+// PR 22454: ICE\n+// Origin: Volker Reichelt reichelt@gcc.gnu.org\n+\n+template<int> struct A\n+{\n+    A(void* = &operator new);\n+};"}]}