{"sha": "5609699aff5bb12377bf7c187594ecee17264ee3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTYwOTY5OWFmZjViYjEyMzc3YmY3YzE4NzU5NGVjZWUxNzI2NGVlMw==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-10-26T19:05:08Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2010-10-26T19:05:08Z"}, "message": "re PR fortran/46010 (I/O: Namelist-reading bug)\n\n2010-10-26  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libgfortran/46010\n\t* io/list_read.c (nml_parse_qualifier): Add additional conditions for\n\tsetting the end index for loop specification. Fix some whitespace.\n\t* io/write.c (write_default_char4): Const-ify the source argument.\n\nFrom-SVN: r165979", "tree": {"sha": "db30d851481038a71124decce133cf0cb5e3baeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/db30d851481038a71124decce133cf0cb5e3baeb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5609699aff5bb12377bf7c187594ecee17264ee3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5609699aff5bb12377bf7c187594ecee17264ee3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5609699aff5bb12377bf7c187594ecee17264ee3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5609699aff5bb12377bf7c187594ecee17264ee3/comments", "author": null, "committer": null, "parents": [{"sha": "892ae21cc72abd2c3b954a621b303fc2f37adc2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/892ae21cc72abd2c3b954a621b303fc2f37adc2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/892ae21cc72abd2c3b954a621b303fc2f37adc2a"}], "stats": {"total": 19, "additions": 14, "deletions": 5}, "files": [{"sha": "d5e047e2f652ed01129b4d4884e87c27c5a18ae5", "filename": "libgfortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5609699aff5bb12377bf7c187594ecee17264ee3/libgfortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5609699aff5bb12377bf7c187594ecee17264ee3/libgfortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2FChangeLog?ref=5609699aff5bb12377bf7c187594ecee17264ee3", "patch": "@@ -1,3 +1,10 @@\n+2010-10-26  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libgfortran/46010\n+\t* io/list_read.c (nml_parse_qualifier): Add additional conditions for\n+\tsetting the end index for loop specification. Fix some whitespace.\n+\t* io/write.c (write_default_char4): Const-ify the source argument.\n+\n 2010-10-21  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/46007"}, {"sha": "7fa57f59c007d082f88c6eac0a48563b6f347d37", "filename": "libgfortran/io/list_read.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5609699aff5bb12377bf7c187594ecee17264ee3/libgfortran%2Fio%2Flist_read.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5609699aff5bb12377bf7c187594ecee17264ee3/libgfortran%2Fio%2Flist_read.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Flist_read.c?ref=5609699aff5bb12377bf7c187594ecee17264ee3", "patch": "@@ -2105,8 +2105,10 @@ nml_parse_qualifier (st_parameter_dt *dtp, descriptor_dimension *ad,\n \n \t\t  /*  If -std=f95/2003 or an array section is specified,\n \t\t      do not allow excess data to be processed.  */\n-                  if (is_array_section == 1\n-\t\t      || !(compile_options.allow_std & GFC_STD_GNU))\n+\t\t  if (is_array_section == 1\n+\t\t      || !(compile_options.allow_std & GFC_STD_GNU)\n+\t\t      || !dtp->u.p.ionml->touched\n+\t\t      || dtp->u.p.ionml->type == BT_DERIVED)\n \t\t    ls[dim].end = ls[dim].start;\n \t\t  else\n \t\t    dtp->u.p.expanded_read = 1;\n@@ -2121,12 +2123,12 @@ nml_parse_qualifier (st_parameter_dt *dtp, descriptor_dimension *ad,\n \t}\n \n       if (is_array_section == 1 && dtp->u.p.expanded_read == 1)\n-     \t{\n+\t{\n \t  int i;\n \t  dtp->u.p.expanded_read = 0;\n \t  for (i = 0; i < dim; i++)\n \t    ls[i].end = ls[i].start;\n-      \t}\n+\t}\n \n       /* Check the values of the triplet indices.  */\n       if ((ls[dim].start > (ssize_t) GFC_DIMENSION_UBOUND(ad[dim]))"}, {"sha": "5afbbd529fc7e70621fb12d6d4af0534e2a6a365", "filename": "libgfortran/io/write.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5609699aff5bb12377bf7c187594ecee17264ee3/libgfortran%2Fio%2Fwrite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5609699aff5bb12377bf7c187594ecee17264ee3/libgfortran%2Fio%2Fwrite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgfortran%2Fio%2Fwrite.c?ref=5609699aff5bb12377bf7c187594ecee17264ee3", "patch": "@@ -65,7 +65,7 @@ memcpy4 (gfc_char4_t *dest, const char *source, int k)\n /* Write out default char4.  */\n \n static void\n-write_default_char4 (st_parameter_dt *dtp, gfc_char4_t *source,\n+write_default_char4 (st_parameter_dt *dtp, const gfc_char4_t *source,\n \t\t     int src_len, int w_len)\n {\n   char *p;"}]}