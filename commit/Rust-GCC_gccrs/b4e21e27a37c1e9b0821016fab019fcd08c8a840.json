{"sha": "b4e21e27a37c1e9b0821016fab019fcd08c8a840", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjRlMjFlMjdhMzdjMWU5YjA4MjEwMTZmYWIwMTlmY2QwOGM4YTg0MA==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1994-08-11T20:36:33Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1994-08-11T20:36:33Z"}, "message": "If NO_IMPLICIT_EXTERN_C is defined, add extern \"C\" { ... }.\n\nFrom-SVN: r7894", "tree": {"sha": "98e41f69671c4b84a60c3d434858f6160f0d61fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/98e41f69671c4b84a60c3d434858f6160f0d61fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b4e21e27a37c1e9b0821016fab019fcd08c8a840", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4e21e27a37c1e9b0821016fab019fcd08c8a840", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b4e21e27a37c1e9b0821016fab019fcd08c8a840", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b4e21e27a37c1e9b0821016fab019fcd08c8a840/comments", "author": null, "committer": null, "parents": [{"sha": "a3f2d1bab1ad1dff1be1ca6a08329b4abd4581ee", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a3f2d1bab1ad1dff1be1ca6a08329b4abd4581ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a3f2d1bab1ad1dff1be1ca6a08329b4abd4581ee"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "eba15fa909a5d4001bcd2676ff48fa959de27e24", "filename": "gcc/fix-header.c", "status": "modified", "additions": 14, "deletions": 4, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b4e21e27a37c1e9b0821016fab019fcd08c8a840/gcc%2Ffix-header.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b4e21e27a37c1e9b0821016fab019fcd08c8a840/gcc%2Ffix-header.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffix-header.c?ref=b4e21e27a37c1e9b0821016fab019fcd08c8a840", "patch": "@@ -381,8 +381,13 @@ write_rbrac ()\n   char **rptr;\n \n   if (required_unseen_count)\n-    fprintf (outf,\n-\t     \"#if defined(__cplusplus) || defined(__USE_FIXED_PROTOTYPES__)\\n\");\n+    {\n+      fprintf (outf,\n+\t\"#if defined(__cplusplus) || defined(__USE_FIXED_PROTOTYPES__)\\n\");\n+#ifdef NO_IMPLICIT_EXTERN_C\n+      fprintf (outf, \"extern \\\"C\\\" {\\n\");\n+#endif\n+    }\n \n   /* Now we print out prototypes for those functions that we haven't seen. */\n   for (rptr = required_functions; *rptr; rptr++)\n@@ -410,8 +415,13 @@ write_rbrac ()\n \tfprintf (outf, \"#endif\\n\");\n     }\n   if (required_unseen_count)\n-    fprintf (outf,\n-\t     \"#endif /* defined(__cplusplus) || defined(__USE_FIXED_PROTOTYPES__*/\\n\");\n+    {\n+#ifdef NO_IMPLICIT_EXTERN_C\n+      fprintf (outf, \"}\\n\");\n+#endif\n+      fprintf (outf,\n+\t\"#endif /* defined(__cplusplus) || defined(__USE_FIXED_PROTOTYPES__*/\\n\");\n+    }\n \n   switch (special_file_handling)\n     {"}]}