{"sha": "86910c53b6301f301d093a8de8e8794e90c5ee00", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODY5MTBjNTNiNjMwMWYzMDFkMDkzYThkZThlODc5NGU5MGM1ZWUwMA==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-10-26T02:07:12Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-10-26T02:07:12Z"}, "message": "typeck2.c (check_for_new_type): Only depend on pedantic for C-style casts.\n\n\t* typeck2.c (check_for_new_type): Only depend on pedantic for\n\tC-style casts.\n\nFrom-SVN: r23342", "tree": {"sha": "ac71ec70c6d0a2dc7df491a80fe4e6cbccb00473", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ac71ec70c6d0a2dc7df491a80fe4e6cbccb00473"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86910c53b6301f301d093a8de8e8794e90c5ee00", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86910c53b6301f301d093a8de8e8794e90c5ee00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86910c53b6301f301d093a8de8e8794e90c5ee00", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86910c53b6301f301d093a8de8e8794e90c5ee00/comments", "author": null, "committer": null, "parents": [{"sha": "a28e148a865f17a858cd8aa7acbbe1390896e6dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a28e148a865f17a858cd8aa7acbbe1390896e6dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a28e148a865f17a858cd8aa7acbbe1390896e6dd"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "00e5f798d69f6966cc4342c6f66688f377d5bc2f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86910c53b6301f301d093a8de8e8794e90c5ee00/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86910c53b6301f301d093a8de8e8794e90c5ee00/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=86910c53b6301f301d093a8de8e8794e90c5ee00", "patch": "@@ -10,7 +10,8 @@\n \t* init.c (build_member_call): Don't try to convert to the base type\n \tif it's ambiguous.\n \n-\t* typeck2.c (check_for_new_type): Don't depend on pedantic.\n+\t* typeck2.c (check_for_new_type): Only depend on pedantic for\n+\tC-style casts.\n \n 1998-10-25  Mark Mitchell  <mark@markmitchell.com>\n "}, {"sha": "fc0551495800a477240a4980e36a2586c17a6e19", "filename": "gcc/cp/typeck2.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86910c53b6301f301d093a8de8e8794e90c5ee00/gcc%2Fcp%2Ftypeck2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86910c53b6301f301d093a8de8e8794e90c5ee00/gcc%2Fcp%2Ftypeck2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck2.c?ref=86910c53b6301f301d093a8de8e8794e90c5ee00", "patch": "@@ -1654,11 +1654,15 @@ report_case_error (code, type, new_value, old_value)\n }\n #endif\n \n+/* Complain about defining new types in inappropriate places.  We give an\n+   exception for C-style casts, to accommodate GNU C stylings.  */\n+\n void\n check_for_new_type (string, inptree)\n      char *string;\n      flagged_type_tree inptree;\n {\n-  if (inptree.new_type_flag)\n+  if (inptree.new_type_flag\n+      && (pedantic || strcmp (string, \"cast\") != 0))\n     pedwarn (\"ANSI C++ forbids defining types within %s\",string);\n }"}]}