{"sha": "8784e5ac5fd857290fda9cd7bc382b4ec0d0790e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODc4NGU1YWM1ZmQ4NTcyOTBmZGE5Y2Q3YmMzODJiNGVjMGQwNzkwZQ==", "commit": {"author": {"name": "Andreas Krebbel", "email": "Andreas.Krebbel@de.ibm.com", "date": "2010-11-06T06:31:02Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2010-11-06T06:31:02Z"}, "message": "re PR debug/45939 (Wrong debug info: Negative location range generated)\n\n2010-11-06  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n\n\tPR debug/45939\n\t* var-tracking.c (emit_note_insn_var_location): Make sure that\n\tcall related var location notes come before the normal ones.\n\nFrom-SVN: r166396", "tree": {"sha": "ee5c8c887f5c4c9ebb83843b3252a00217e14232", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ee5c8c887f5c4c9ebb83843b3252a00217e14232"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e/comments", "author": null, "committer": null, "parents": [{"sha": "77bb7c610afbe8652b5a7084c907c64601287777", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77bb7c610afbe8652b5a7084c907c64601287777", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77bb7c610afbe8652b5a7084c907c64601287777"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "65f917abf12550e23a015f20cfcd7e1ffb499e02", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8784e5ac5fd857290fda9cd7bc382b4ec0d0790e", "patch": "@@ -1,3 +1,9 @@\n+2010-11-06  Andreas Krebbel  <Andreas.Krebbel@de.ibm.com>\n+\n+\tPR debug/45939\n+\t* var-tracking.c (emit_note_insn_var_location): Make sure that\n+\tcall related var location notes come before the normal ones.\n+\n 2010-11-05  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR target/46326"}, {"sha": "b9c6908e2b3a232afdf6ed5b9626b39f6f311ed3", "filename": "gcc/var-tracking.c", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e/gcc%2Fvar-tracking.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8784e5ac5fd857290fda9cd7bc382b4ec0d0790e/gcc%2Fvar-tracking.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvar-tracking.c?ref=8784e5ac5fd857290fda9cd7bc382b4ec0d0790e", "patch": "@@ -7339,7 +7339,17 @@ emit_note_insn_var_location (void **varp, void *data)\n \tNOTE_DURING_CALL_P (note) = true;\n     }\n   else\n-    note = emit_note_before (NOTE_INSN_VAR_LOCATION, insn);\n+    {\n+      /* Make sure that the call related notes come first.  */\n+      while (NEXT_INSN (insn)\n+\t     && NOTE_P (insn)\n+\t     && NOTE_DURING_CALL_P (insn))\n+\tinsn = NEXT_INSN (insn);\n+      if (NOTE_P (insn) && NOTE_DURING_CALL_P (insn))\n+\tnote = emit_note_after (NOTE_INSN_VAR_LOCATION, insn);\n+      else\n+\tnote = emit_note_before (NOTE_INSN_VAR_LOCATION, insn);\n+    }\n   NOTE_VAR_LOCATION (note) = note_vl;\n \n  clear:"}]}