{"sha": "e533f648afeea51f6c8d2e2c26306aff0a947867", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTUzM2Y2NDhhZmVlYTUxZjZjOGQyZTJjMjYzMDZhZmYwYTk0Nzg2Nw==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@cygnus.com", "date": "1999-07-15T05:17:08Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "1999-07-15T05:17:08Z"}, "message": "expr.c (expand_expr): Do not return the last statement in a block as the block's value.\n\n1999-07-14  Andrew Haley  <aph@cygnus.com>\n        * expr.c (expand_expr): Do not return the last statement in a\n        block as the block's value.\n\nFrom-SVN: r28112", "tree": {"sha": "6c8bb8319f9ea05b4197f208e8ade94b50974da2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c8bb8319f9ea05b4197f208e8ade94b50974da2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e533f648afeea51f6c8d2e2c26306aff0a947867", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e533f648afeea51f6c8d2e2c26306aff0a947867", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e533f648afeea51f6c8d2e2c26306aff0a947867", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e533f648afeea51f6c8d2e2c26306aff0a947867/comments", "author": null, "committer": null, "parents": [{"sha": "39df13d95d75ce4a5295ddad78dab75d4677f737", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39df13d95d75ce4a5295ddad78dab75d4677f737", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39df13d95d75ce4a5295ddad78dab75d4677f737"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "d170b3db10df2d4c30beca64ce3cf985902632fe", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e533f648afeea51f6c8d2e2c26306aff0a947867/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e533f648afeea51f6c8d2e2c26306aff0a947867/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=e533f648afeea51f6c8d2e2c26306aff0a947867", "patch": "@@ -1,3 +1,8 @@\n+1999-07-14  Andrew Haley  <aph@cygnus.com>\n+\n+        * expr.c (expand_expr): Do not return the last statement in a\n+        block as the block's value.\n+\n Sat Jul  3 22:26:32 1999  Alexandre Petit-Bianco  <apbianco@cygnus.com>\n \n \t* expr.c (force_evaluation_order): Save the COMPOUND_EXPR'ed"}, {"sha": "d47ed1af8570f500bef66e846da7bbde3ffa2aa1", "filename": "gcc/java/expr.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e533f648afeea51f6c8d2e2c26306aff0a947867/gcc%2Fjava%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e533f648afeea51f6c8d2e2c26306aff0a947867/gcc%2Fjava%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexpr.c?ref=e533f648afeea51f6c8d2e2c26306aff0a947867", "patch": "@@ -1895,7 +1895,6 @@ java_lang_expand_expr (exp, target, tmode, modifier)\n \t{\n \t  tree local;\n \t  tree body = BLOCK_EXPR_BODY (exp);\n-\t  struct rtx_def *to_return;\n \t  pushlevel (2);\t/* 2 and above */\n \t  expand_start_bindings (0);\n \t  local = BLOCK_EXPR_DECLS (exp);\n@@ -1913,10 +1912,11 @@ java_lang_expand_expr (exp, target, tmode, modifier)\n \t      emit_queue ();\n \t      body = TREE_OPERAND (body, 1);\n \t    }\n-\t  to_return = expand_expr (body, target, tmode, modifier);\n+\t  expand_expr (body, const0_rtx, VOIDmode, 0);\n+\t  emit_queue ();\n \t  poplevel (1, 1, 0);\n \t  expand_end_bindings (getdecls (), 1, 0);\n-\t  return to_return;\n+\t  return const0_rtx;\n \t}\n       break;\n "}]}