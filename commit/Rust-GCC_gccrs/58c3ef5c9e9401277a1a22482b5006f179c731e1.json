{"sha": "58c3ef5c9e9401277a1a22482b5006f179c731e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThjM2VmNWM5ZTk0MDEyNzdhMWEyMjQ4MmI1MDA2ZjE3OWM3MzFlMQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2002-12-19T01:54:59Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2002-12-19T01:54:59Z"}, "message": "vector_capacity.cc (test03): Move ...\n\n\t* testsuite/23_containers/vector_capacity.cc (test03): Move ...\n\t* testsuite/23_containers/vector_resize.cc: ...here as a new file.\n\tPass in -lmalloc for irix6.\n\t* testsuite/27_io/ios_base_storage.cc: Pass in -lmalloc for irix6.\n\nFrom-SVN: r60276", "tree": {"sha": "a6a5c7e4f91864f55be6f6d41076bff3b0defc61", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6a5c7e4f91864f55be6f6d41076bff3b0defc61"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58c3ef5c9e9401277a1a22482b5006f179c731e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58c3ef5c9e9401277a1a22482b5006f179c731e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58c3ef5c9e9401277a1a22482b5006f179c731e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58c3ef5c9e9401277a1a22482b5006f179c731e1/comments", "author": null, "committer": null, "parents": [{"sha": "782d0c0231f8ccb3ea1efd4c91e77ffad1ea7eaf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/782d0c0231f8ccb3ea1efd4c91e77ffad1ea7eaf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/782d0c0231f8ccb3ea1efd4c91e77ffad1ea7eaf"}], "stats": {"total": 91, "additions": 70, "deletions": 21}, "files": [{"sha": "34d072e09501ebf5b71e83576bb083d5afa7bf43", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=58c3ef5c9e9401277a1a22482b5006f179c731e1", "patch": "@@ -1,3 +1,10 @@\n+2002-12-18  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* testsuite/23_containers/vector_capacity.cc (test03): Move ...\n+\t* testsuite/23_containers/vector_resize.cc: ...here as a new file.\n+\tPass in -lmalloc for irix6.\n+\t* testsuite/27_io/ios_base_storage.cc: Pass in -lmalloc for irix6.\n+\n 2002-12-18  Jason Merrill  <jason@redhat.com>\n \n \t* src/vterminate.cc (__verbose_terminate_handler): Send"}, {"sha": "50740ba59677f8c33df15bd0521670e19b419ed0", "filename": "libstdc++-v3/testsuite/23_containers/vector_capacity.cc", "status": "modified", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_capacity.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_capacity.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_capacity.cc?ref=58c3ef5c9e9401277a1a22482b5006f179c731e1", "patch": "@@ -100,26 +100,6 @@ void test02()\n   }\n }\n \n-void test03()\n-{\n-  bool test = true;\n-  std::vector<int> v;\n-  try\n-    {\n-      v.resize(v.max_size());  \n-      v[v.max_size() - 1] = 2002;\n-    }\n-  catch (const std::bad_alloc& error)\n-    {\n-      test = true;\n-    }\n-  catch (...)\n-    {\n-      test = false;\n-    }\n-  VERIFY( test );\n-}\n-\n // Verifies basic functionality of reserve() with forced reallocation.\n void\n test_reserve()\n@@ -184,7 +164,6 @@ int main()\n {\n   test01();\n   test02();\n-  test03();\n   test_reserve();\n   test_reserve_exception_guarantee();\n   return 0;"}, {"sha": "3cc6c57ed4253fdc4ad4581757cb672ef39a78f2", "filename": "libstdc++-v3/testsuite/23_containers/vector_resize.cc", "status": "added", "additions": 57, "deletions": 0, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_resize.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_resize.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fvector_resize.cc?ref=58c3ef5c9e9401277a1a22482b5006f179c731e1", "patch": "@@ -0,0 +1,57 @@\n+// 1999-05-07\n+// bkoz \n+\n+// Copyright (C) 1999, 2002 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// 23.2.4.2 vector capacity\n+\n+// XXX This test will not work for irix6 because of bug(s) in libc malloc\n+// XXX for very large allocations.  However -lmalloc seems to work.\n+// See http://gcc.gnu.org/ml/libstdc++/2002-12/msg00131.html\n+// { dg-options \"-lmalloc\" { target mips*-*-irix6* } }\n+\n+#include <vector>\n+#include <stdexcept>\n+#include <testsuite_hooks.h>\n+\n+void test01()\n+{\n+  bool test = true;\n+  std::vector<int> v;\n+  try\n+    {\n+      v.resize(v.max_size());  \n+      v[v.max_size() - 1] = 2002;\n+    }\n+  catch (const std::bad_alloc& error)\n+    {\n+      test = true;\n+    }\n+  catch (...)\n+    {\n+      test = false;\n+    }\n+  VERIFY( test );\n+}\n+\n+int main()\n+{\n+  test01();\n+  return 0;\n+}"}, {"sha": "a02eacba166703bfe8d4629e268d86742927379f", "filename": "libstdc++-v3/testsuite/27_io/ios_base_storage.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base_storage.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58c3ef5c9e9401277a1a22482b5006f179c731e1/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base_storage.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F27_io%2Fios_base_storage.cc?ref=58c3ef5c9e9401277a1a22482b5006f179c731e1", "patch": "@@ -20,6 +20,12 @@\n \n // 27.4.2.5 ios_base storage functions\n \n+// XXX This test will not work for some versions of irix6 because of\n+// XXX bug(s) in libc malloc for very large allocations.  However\n+// XXX -lmalloc seems to work.\n+// See http://gcc.gnu.org/ml/gcc/2002-05/msg01012.html\n+// { dg-options \"-lmalloc\" { target mips*-*-irix6* } }\n+\n #include <sstream>\n #include <iostream>\n "}]}