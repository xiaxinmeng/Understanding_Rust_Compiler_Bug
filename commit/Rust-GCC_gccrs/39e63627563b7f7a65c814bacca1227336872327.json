{"sha": "39e63627563b7f7a65c814bacca1227336872327", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzllNjM2Mjc1NjNiN2Y3YTY1YzgxNGJhY2NhMTIyNzMzNjg3MjMyNw==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2003-11-14T19:05:16Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2003-11-14T19:05:16Z"}, "message": "rs6000.md: Add 'DEFAULT_ABI == ABI_DARWIN' to each place where TARGET_LONG_DOUBLE_128 is...\n\n\t* config/rs6000/rs6000.md: Add 'DEFAULT_ABI == ABI_DARWIN'\n\tto each place where TARGET_LONG_DOUBLE_128 is used with\n\tDEFAULT_ABI == ABI_AIX.\n\nFrom-SVN: r73612", "tree": {"sha": "1f1c261664c5a613986892556d20c36cb72c61dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1f1c261664c5a613986892556d20c36cb72c61dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39e63627563b7f7a65c814bacca1227336872327", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39e63627563b7f7a65c814bacca1227336872327", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39e63627563b7f7a65c814bacca1227336872327", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39e63627563b7f7a65c814bacca1227336872327/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e235d8bfa033489aa77d9d30c4ae55d9cb7470b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e235d8bfa033489aa77d9d30c4ae55d9cb7470b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e235d8bfa033489aa77d9d30c4ae55d9cb7470b0"}], "stats": {"total": 62, "additions": 34, "deletions": 28}, "files": [{"sha": "d091df54bb98f21932903cdb249a4aae745e9b59", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39e63627563b7f7a65c814bacca1227336872327/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39e63627563b7f7a65c814bacca1227336872327/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39e63627563b7f7a65c814bacca1227336872327", "patch": "@@ -1,5 +1,9 @@\n 2003-11-14  Geoffrey Keating  <geoffk@apple.com>\n \n+\t* config/rs6000/rs6000.md: Add 'DEFAULT_ABI == ABI_DARWIN'\n+\tto each place where TARGET_LONG_DOUBLE_128 is used with\n+\tDEFAULT_ABI == ABI_AIX.\n+\n \t* cppfiles.c (_cpp_find_file): Make 'one or more PCH files were found'\n \tmessage comply with GNU standards.\n "}, {"sha": "5c2beea20db3e1fdfb917608bfcb45de9dcf88cc", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 30, "deletions": 28, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39e63627563b7f7a65c814bacca1227336872327/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39e63627563b7f7a65c814bacca1227336872327/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=39e63627563b7f7a65c814bacca1227336872327", "patch": "@@ -8202,15 +8202,15 @@\n (define_expand \"movtf\"\n   [(set (match_operand:TF 0 \"general_operand\" \"\")\n \t(match_operand:TF 1 \"any_operand\" \"\"))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"{ rs6000_emit_move (operands[0], operands[1], TFmode); DONE; }\")\n \n (define_insn \"*movtf_internal\"\n   [(set (match_operand:TF 0 \"nonimmediate_operand\" \"=f,f,m,!r,!r,!r\")\n \t(match_operand:TF 1 \"input_operand\" \"f,m,f,G,H,F\"))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\n    && (gpc_reg_operand (operands[0], TFmode)\n        || gpc_reg_operand (operands[1], TFmode))\"\n   \"*\n@@ -8314,8 +8314,8 @@\n (define_insn \"extenddftf2\"\n   [(set (match_operand:TF 0 \"gpc_reg_operand\" \"=f\")\n \t(float_extend:TF (match_operand:DF 1 \"gpc_reg_operand\" \"f\")))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"*\n {\n   if (REGNO (operands[0]) == REGNO (operands[1]))\n@@ -8328,8 +8328,8 @@\n (define_insn \"extendsftf2\"\n   [(set (match_operand:TF 0 \"gpc_reg_operand\" \"=f\")\n \t(float_extend:TF (match_operand:SF 1 \"gpc_reg_operand\" \"f\")))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"*\n {\n   if (REGNO (operands[0]) == REGNO (operands[1]))\n@@ -8342,8 +8342,8 @@\n (define_insn \"trunctfdf2\"\n   [(set (match_operand:DF 0 \"gpc_reg_operand\" \"=f\")\n \t(float_truncate:DF (match_operand:TF 1 \"gpc_reg_operand\" \"f\")))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"fadd %0,%1,%L1\"\n   [(set_attr \"type\" \"fp\")\n    (set_attr \"length\" \"8\")])\n@@ -8352,8 +8352,8 @@\n   [(set (match_operand:SF 0 \"gpc_reg_operand\" \"=f\")\n \t(float_truncate:SF (match_operand:TF 1 \"gpc_reg_operand\" \"f\")))\n    (clobber (match_scratch:DF 2 \"=f\"))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT\n-   && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"#\"\n   \"&& reload_completed\"\n   [(set (match_dup 2)\n@@ -8366,7 +8366,8 @@\n   [(set (match_operand:TF 0 \"gpc_reg_operand\" \"=f\")\n         (float:TF (match_operand:DI 1 \"gpc_reg_operand\" \"*f\")))\n    (clobber (match_scratch:DF 2 \"=f\"))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_POWERPC64\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_POWERPC64\n    && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"#\"\n   \"&& reload_completed\"\n@@ -8380,8 +8381,8 @@\n   [(set (match_operand:TF 0 \"gpc_reg_operand\" \"=f\")\n         (float:TF (match_operand:SI 1 \"gpc_reg_operand\" \"r\")))\n    (clobber (match_scratch:DF 2 \"=f\"))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"#\"\n   \"&& reload_completed\"\n   [(set (match_dup 2)\n@@ -8394,7 +8395,8 @@\n   [(set (match_operand:DI 0 \"gpc_reg_operand\" \"=*f\")\n         (fix:DI (match_operand:TF 1 \"gpc_reg_operand\" \"f\")))\n    (clobber (match_scratch:DF 2 \"=f\"))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_POWERPC64\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_POWERPC64\n    && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"#\"\n   \"&& reload_completed\"\n@@ -8408,8 +8410,8 @@\n   [(set (match_operand:SI 0 \"gpc_reg_operand\" \"=r\")\n         (fix:SI (match_operand:TF 1 \"gpc_reg_operand\" \"f\")))\n    (clobber (match_scratch:DF 2 \"=f\"))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"#\"\n   \"&& reload_completed\"\n   [(set (match_dup 2)\n@@ -8421,8 +8423,8 @@\n (define_insn \"negtf2\"\n   [(set (match_operand:TF 0 \"gpc_reg_operand\" \"=f\")\n \t(neg:TF (match_operand:TF 1 \"gpc_reg_operand\" \"f\")))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"*\n {\n   if (REGNO (operands[0]) == REGNO (operands[1]) + 1)\n@@ -8436,8 +8438,8 @@\n (define_insn \"abstf2\"\n   [(set (match_operand:TF 0 \"gpc_reg_operand\" \"=f\")\n \t(abs:TF (match_operand:TF 1 \"gpc_reg_operand\" \"f\")))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"*\n {\n   if (REGNO (operands[0]) == REGNO (operands[1]) + 1)\n@@ -8451,8 +8453,8 @@\n (define_insn \"\"\n   [(set (match_operand:TF 0 \"gpc_reg_operand\" \"=f\")\n \t(neg:TF (abs:TF (match_operand:TF 1 \"gpc_reg_operand\" \"f\"))))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"*\n {\n   if (REGNO (operands[0]) == REGNO (operands[1]) + 1)\n@@ -10978,8 +10980,8 @@\n (define_expand \"cmptf\"\n   [(set (cc0) (compare (match_operand:TF 0 \"gpc_reg_operand\" \"\")\n \t\t       (match_operand:TF 1 \"gpc_reg_operand\" \"\")))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT\n-   && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"\n {\n   rs6000_compare_op0 = operands[0];\n@@ -11344,8 +11346,8 @@\n   [(set (match_operand:CCFP 0 \"cc_reg_operand\" \"=y\")\n \t(compare:CCFP (match_operand:TF 1 \"gpc_reg_operand\" \"f\")\n \t\t      (match_operand:TF 2 \"gpc_reg_operand\" \"f\")))]\n-  \"DEFAULT_ABI == ABI_AIX && TARGET_HARD_FLOAT && TARGET_FPRS\n-   && TARGET_LONG_DOUBLE_128\"\n+  \"(DEFAULT_ABI == ABI_AIX || DEFAULT_ABI == ABI_DARWIN)\n+   && TARGET_HARD_FLOAT && TARGET_FPRS && TARGET_LONG_DOUBLE_128\"\n   \"fcmpu %0,%1,%2\\;bne %0,$+4\\;fcmpu %0,%L1,%L2\"\n   [(set_attr \"type\" \"fpcompare\")\n    (set_attr \"length\" \"12\")])"}]}