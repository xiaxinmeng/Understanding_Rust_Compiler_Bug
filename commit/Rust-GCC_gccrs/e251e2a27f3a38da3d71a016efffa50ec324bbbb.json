{"sha": "e251e2a27f3a38da3d71a016efffa50ec324bbbb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTI1MWUyYTI3ZjNhMzhkYTNkNzFhMDE2ZWZmZmE1MGVjMzI0YmJiYg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2000-07-30T18:44:13Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2000-07-30T18:44:13Z"}, "message": "gcse.c (try_replace_reg): Use validate_replace_rtx_subexp instead of replace_rtx.\n\n\n\t* gcse.c (try_replace_reg): Use validate_replace_rtx_subexp\n\tinstead of replace_rtx.\n\t* recog.c (validate_replace_rtx_subexp): New function.\n\t* recog.h (validate_replace_rtx_subexp): Declare.\n\nFrom-SVN: r35349", "tree": {"sha": "2c6fd84da6f0c23faff8a5ea847eb2f65a7c2b4c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c6fd84da6f0c23faff8a5ea847eb2f65a7c2b4c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e251e2a27f3a38da3d71a016efffa50ec324bbbb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e251e2a27f3a38da3d71a016efffa50ec324bbbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e251e2a27f3a38da3d71a016efffa50ec324bbbb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e251e2a27f3a38da3d71a016efffa50ec324bbbb/comments", "author": null, "committer": null, "parents": [{"sha": "e8dc6d50748c9fa9b1f572e1b0a39c6ac1d222bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8dc6d50748c9fa9b1f572e1b0a39c6ac1d222bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8dc6d50748c9fa9b1f572e1b0a39c6ac1d222bf"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "b3f06208602b27ed7290a3d0f7df5f2a07d676cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e251e2a27f3a38da3d71a016efffa50ec324bbbb", "patch": "@@ -1,3 +1,10 @@\n+Sun Jul 30 20:42:21 MET DST 2000  Jan Hubicka  <jh@suse.cz>\n+\n+\t* gcse.c (try_replace_reg): Use validate_replace_rtx_subexp\n+\tinstead of replace_rtx.\n+\t* recog.c (validate_replace_rtx_subexp): New function.\n+\t* recog.h (validate_replace_rtx_subexp): Declare.\n+\n Sun Jul 30 20:38:26 MET DST 2000  Jan Hubicka  <jh@suse.cz>\n \n \t* combine.c (simplify_set, make_extraction, make_compound_operation"}, {"sha": "9825794882ae2a360c86284f334aa57f3d96cbe6", "filename": "gcc/gcse.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=e251e2a27f3a38da3d71a016efffa50ec324bbbb", "patch": "@@ -3578,8 +3578,10 @@ try_replace_reg (from, to, insn)\n     {\n       rtx simplified;\n \n+      if (!validate_replace_rtx_subexp (from, to, insn, &XEXP (note, 0)))\n+\tabort();\n+\n       src = XEXP (note, 0);\n-      replace_rtx (src, from, to);\n \n       /* Try to simplify resulting note. */\n       simplified = simplify_rtx (src);"}, {"sha": "18875de580b0eef80320ccace91b9ceec4008b0f", "filename": "gcc/recog.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=e251e2a27f3a38da3d71a016efffa50ec324bbbb", "patch": "@@ -603,6 +603,18 @@ validate_replace_rtx_1 (loc, from, to, object)\n     }\n }\n \n+/* Try replacing every occurrence of FROM in subexpression LOC of INSN\n+   with TO.  After all changes have been made, validate by seeing\n+   if INSN is still valid.  */\n+\n+int\n+validate_replace_rtx_subexp (from, to, insn, loc)\n+     rtx from, to, insn, *loc;\n+{\n+  validate_replace_rtx_1 (loc, from, to, insn);\n+  return apply_change_group ();\n+}\n+\n /* Try replacing every occurrence of FROM in INSN with TO.  After all\n    changes have been made, validate by seeing if INSN is still valid.  */\n "}, {"sha": "d4fd4fd6934f30cdf7da5617d953965b2c66a5fd", "filename": "gcc/recog.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2Frecog.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e251e2a27f3a38da3d71a016efffa50ec324bbbb/gcc%2Frecog.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.h?ref=e251e2a27f3a38da3d71a016efffa50ec324bbbb", "patch": "@@ -79,6 +79,7 @@ extern void cancel_changes\t\tPARAMS ((int));\n extern int constrain_operands\t\tPARAMS ((int));\n extern int memory_address_p\t\tPARAMS ((enum machine_mode, rtx));\n extern int strict_memory_address_p\tPARAMS ((enum machine_mode, rtx));\n+extern int validate_replace_rtx_subexp\tPARAMS ((rtx, rtx, rtx, rtx *));\n extern int validate_replace_rtx\t\tPARAMS ((rtx, rtx, rtx));\n extern void validate_replace_rtx_group\tPARAMS ((rtx, rtx, rtx));\n extern int validate_replace_src\t\tPARAMS ((rtx, rtx, rtx));"}]}