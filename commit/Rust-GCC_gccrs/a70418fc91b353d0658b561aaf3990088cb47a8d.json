{"sha": "a70418fc91b353d0658b561aaf3990088cb47a8d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTcwNDE4ZmM5MWIzNTNkMDY1OGI1NjFhYWYzOTkwMDg4Y2I0N2E4ZA==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-01-23T08:37:16Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-01-23T08:37:16Z"}, "message": "re PR target/49069 (ICE in gen_cstoredi4, at config/arm/arm.md:7554)\n\n\tPR target/49069\n\t* config/arm/arm.md (cbranchdi4, cstoredi4): Use s_register_operand\n\tinstead of cmpdi_operand for first comparison operand.\n\tDon't assert that comparison operands aren't both constants.\n\n\t* gcc.dg/pr49069.c: New test.\n\nFrom-SVN: r195398", "tree": {"sha": "6619fc5a54a03f8b79142fb660586e6d1ffbca31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6619fc5a54a03f8b79142fb660586e6d1ffbca31"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a70418fc91b353d0658b561aaf3990088cb47a8d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a70418fc91b353d0658b561aaf3990088cb47a8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a70418fc91b353d0658b561aaf3990088cb47a8d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a70418fc91b353d0658b561aaf3990088cb47a8d/comments", "author": null, "committer": null, "parents": [{"sha": "a4bfae44d4a9ddfd5d707231e7c0260f6280b7c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a4bfae44d4a9ddfd5d707231e7c0260f6280b7c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a4bfae44d4a9ddfd5d707231e7c0260f6280b7c3"}], "stats": {"total": 45, "additions": 32, "deletions": 13}, "files": [{"sha": "df62323ca4291aea1f3cbd26dc278a3da169957d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a70418fc91b353d0658b561aaf3990088cb47a8d", "patch": "@@ -1,3 +1,10 @@\n+2013-01-23  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/49069\n+\t* config/arm/arm.md (cbranchdi4, cstoredi4): Use s_register_operand\n+\tinstead of cmpdi_operand for first comparison operand.\n+\tDon't assert that comparison operands aren't both constants.\n+\n 2013-01-22  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \t* doc/install.texi (Downloading the Source): Update references to"}, {"sha": "1bc21890b7ea77b22437f373818796ab4a2fb8c2", "filename": "gcc/config/arm/arm.md", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Fconfig%2Farm%2Farm.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Fconfig%2Farm%2Farm.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.md?ref=a70418fc91b353d0658b561aaf3990088cb47a8d", "patch": "@@ -7030,16 +7030,12 @@\n (define_expand \"cbranchdi4\"\n   [(set (pc) (if_then_else\n \t      (match_operator 0 \"expandable_comparison_operator\"\n-\t       [(match_operand:DI 1 \"cmpdi_operand\" \"\")\n+\t       [(match_operand:DI 1 \"s_register_operand\" \"\")\n \t        (match_operand:DI 2 \"cmpdi_operand\" \"\")])\n \t      (label_ref (match_operand 3 \"\" \"\"))\n \t      (pc)))]\n   \"TARGET_32BIT\"\n   \"{\n-     /* We should not have two constants.  */\n-     gcc_assert (GET_MODE (operands[1]) == DImode\n-\t\t || GET_MODE (operands[2]) == DImode);\n-\n      if (!arm_validize_comparison (&operands[0], &operands[1], &operands[2]))\n        FAIL;\n      emit_jump_insn (gen_cbranch_cc (operands[0], operands[1], operands[2],\n@@ -7955,14 +7951,10 @@\n (define_expand \"cstoredi4\"\n   [(set (match_operand:SI 0 \"s_register_operand\" \"\")\n \t(match_operator:SI 1 \"expandable_comparison_operator\"\n-\t [(match_operand:DI 2 \"cmpdi_operand\" \"\")\n+\t [(match_operand:DI 2 \"s_register_operand\" \"\")\n \t  (match_operand:DI 3 \"cmpdi_operand\" \"\")]))]\n   \"TARGET_32BIT\"\n   \"{\n-     /* We should not have two constants.  */\n-     gcc_assert (GET_MODE (operands[2]) == DImode\n-\t\t || GET_MODE (operands[3]) == DImode);\n-\n      if (!arm_validize_comparison (&operands[1],\n      \t\t\t\t   &operands[2],\n \t\t\t\t   &operands[3]))"}, {"sha": "144da72020b4104da40217c52c01fcd5f132cc75", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=a70418fc91b353d0658b561aaf3990088cb47a8d", "patch": "@@ -1,7 +1,8 @@\n 2013-01-21  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/55919\n-\t* gfortran.dg/include_8.f90:  New test.\n+\t* scanner.c (add_path_to_list): Copy path to temporary and strip\n+\ttrailing directory separators before calling stat().\n \n 2013-01-17  Richard Biener  <rguenther@suse.de>\n "}, {"sha": "3b212630d8bd5bc627863217757412d87f41cf96", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a70418fc91b353d0658b561aaf3990088cb47a8d", "patch": "@@ -1,3 +1,8 @@\n+2013-01-23  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/49069\n+\t* gcc.dg/pr49069.c: New test.\n+\n 2013-01-22  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/55944\n@@ -27,8 +32,7 @@\n 2013-01-21  Thomas Koenig  <tkoenig@gcc.gnu.org>\n \n \tPR fortran/55919\n-\t* add_path_to_list:  Copy path to temporary and strip\n-\ttrailing directory separators before calling stat().\n+\t* gfortran.dg/include_8.f90: New test.\n \n 2013-01-21  Uros Bizjak  <ubizjak@gmail.com>\n "}, {"sha": "f0fe1f2f0804f4a12e21643d01435c19ae6e7404", "filename": "gcc/testsuite/gcc.dg/pr49069.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr49069.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a70418fc91b353d0658b561aaf3990088cb47a8d/gcc%2Ftestsuite%2Fgcc.dg%2Fpr49069.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr49069.c?ref=a70418fc91b353d0658b561aaf3990088cb47a8d", "patch": "@@ -0,0 +1,15 @@\n+/* PR target/49069 */\n+/* { dg-do compile } */\n+/* { dg-options \"-Os -fno-tree-forwprop -Wno-div-by-zero\" } */\n+\n+int a;\n+const unsigned long long b[1] = { 1ULL };\n+extern void bar (int);\n+\n+void\n+foo (void)\n+{\n+  for (a = 0; a == 1; a = 2)\n+    ;\n+  bar (b[0] == (a == 0 ? a : a / 0));\n+}"}]}