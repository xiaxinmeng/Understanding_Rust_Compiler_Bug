{"sha": "4f65832d5c08d16601c8271909c5e1f9deca23ed", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGY2NTgzMmQ1YzA4ZDE2NjAxYzgyNzE5MDljNWUxZjlkZWNhMjNlZA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "1999-04-05T13:09:45Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "1999-04-05T13:09:45Z"}, "message": "Makefile.in (gjavah.o): Depend on $(JAVA_TREE_H).\n\n        * Makefile.in (gjavah.o): Depend on $(JAVA_TREE_H).\n        * gjavah.c: Include math.h earlier.  Include tree.h/java-tree.h.\n        (main_jcf): Don't define.\n        (process_file): Don't set `main_jcf'.\n        * java-tree.h (main_jcf): Don't declare.\n        * jcf-parse.c (main_jcf): Add static definition.\n        * lang.c (main_jcf): Don't define.\n\nFrom-SVN: r26204", "tree": {"sha": "b9b66e4fab448bc92781caec3bf1299deb89910a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b9b66e4fab448bc92781caec3bf1299deb89910a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4f65832d5c08d16601c8271909c5e1f9deca23ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f65832d5c08d16601c8271909c5e1f9deca23ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f65832d5c08d16601c8271909c5e1f9deca23ed", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f65832d5c08d16601c8271909c5e1f9deca23ed/comments", "author": null, "committer": null, "parents": [{"sha": "4504ead1db50e758e107f9b3a42975afbe1e8106", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4504ead1db50e758e107f9b3a42975afbe1e8106", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4504ead1db50e758e107f9b3a42975afbe1e8106"}], "stats": {"total": 30, "additions": 24, "deletions": 6}, "files": [{"sha": "38432aff3a7fc31f1bc148dad5b4f7982413f8ce", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=4f65832d5c08d16601c8271909c5e1f9deca23ed", "patch": "@@ -1,3 +1,17 @@\n+Mon Apr  5 16:06:09 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* Makefile.in (gjavah.o): Depend on $(JAVA_TREE_H).\n+\n+\t* gjavah.c: Include math.h earlier.  Include tree.h/java-tree.h.\n+\t(main_jcf): Don't define.\n+\t(process_file): Don't set `main_jcf'.\n+\t\n+\t* java-tree.h (main_jcf): Don't declare.\n+\n+\t* jcf-parse.c (main_jcf): Add static definition.\n+\n+\t* lang.c (main_jcf): Don't define.\n+\n Mon Apr  5 15:43:51 1999  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n         * class.c (add_method_1): Cast the argument of `bzero' to PTR."}, {"sha": "2dc453c5038099a3ec29be34ddbc7ed21791158f", "filename": "gcc/java/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FMakefile.in?ref=4f65832d5c08d16601c8271909c5e1f9deca23ed", "patch": "@@ -276,7 +276,7 @@ force:\n parse.o : $(PARSE_C) jcf-reader.c $(CONFIG_H) $(srcdir)/../system.h\n jcf-dump.o : $(CONFIG_H) $(srcdir)/../system.h $(JAVA_TREE_H) jcf-dump.c \\\n   jcf-reader.c jcf.h javaop.h javaop.def\n-gjavah.o : $(CONFIG_H) $(srcdir)/../system.h gjavah.c \\\n+gjavah.o : $(CONFIG_H) $(srcdir)/../system.h $(JAVA_TREE_H) gjavah.c \\\n   jcf-reader.c jcf.h javaop.h\n buffer.o : buffer.c $(CONFIG_H) buffer.h $(srcdir)/../gansidecl.h \\\n   $(srcdir)/../system.h $(srcdir)/../toplev.h"}, {"sha": "faf2c9e859da996c2e15b37c7d5dbb9a2f440004", "filename": "gcc/java/gjavah.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Fgjavah.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Fgjavah.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fgjavah.c?ref=4f65832d5c08d16601c8271909c5e1f9deca23ed", "patch": "@@ -26,9 +26,12 @@ The Free Software Foundation is independent of Sun Microsystems, Inc.  */\n \n #include \"config.h\"\n #include \"system.h\"\n+#include <math.h>\n+\n #include \"jcf.h\"\n+#include \"tree.h\"\n+#include \"java-tree.h\"\n #include \"java-opcodes.h\"\n-#include <math.h>\n \n /* The output file.  */\n FILE *out = NULL;\n@@ -72,7 +75,6 @@ int verbose = 0;\n int stubs = 0;\n \n struct JCF *current_jcf;\n-struct JCF *main_jcf;\n \n /* This holds access information for the last field we examined.  They\n    let us generate \"private:\", \"public:\", and \"protected:\" properly.\n@@ -1169,7 +1171,7 @@ DEFUN(process_file, (jcf, out),\n   int code, i;\n   uint32 field_start, method_end, method_start;\n \n-  current_jcf = main_jcf = jcf;\n+  current_jcf = jcf;\n \n   last_access = -1;\n "}, {"sha": "9a1e9646f975d767fa6fa84b4986fad4afaa9be5", "filename": "gcc/java/java-tree.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Fjava-tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Fjava-tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjava-tree.h?ref=4f65832d5c08d16601c8271909c5e1f9deca23ed", "patch": "@@ -139,7 +139,7 @@ extern int flag_not_overriding;\n extern int flag_static_local_jdk1_1;\n \n /* The Java .class file that provides main_class;  the main input file. */\n-extern struct JCF main_jcf[1], *current_jcf;\n+extern struct JCF *current_jcf;\n \n typedef struct CPool constant_pool;\n "}, {"sha": "7b582299f7fb95affea72d89cb4ccb6e62767f3d", "filename": "gcc/java/jcf-parse.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Fjcf-parse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Fjcf-parse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fjcf-parse.c?ref=4f65832d5c08d16601c8271909c5e1f9deca23ed", "patch": "@@ -77,6 +77,9 @@ static tree current_field = NULL_TREE;\n /* The METHOD_DECL for the current method.  */\n static tree current_method = NULL_TREE;\n \n+/* The Java .class file that provides main_class;  the main input file. */\n+static struct JCF main_jcf[1];\n+\n /* Declarations of some functions used here.  */\n static tree give_name_to_class PROTO ((JCF *jcf, int index));\n static void parse_zip_file_entries PROTO ((void));"}, {"sha": "009b612a9a7d47a2483864134ec8de13fe9f04af", "filename": "gcc/java/lang.c", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Flang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4f65832d5c08d16601c8271909c5e1f9deca23ed/gcc%2Fjava%2Flang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Flang.c?ref=4f65832d5c08d16601c8271909c5e1f9deca23ed", "patch": "@@ -125,7 +125,6 @@ lang_f_options[] =\n   {\"emit-class-files\", &flag_emit_class_files, 1},\n };\n \n-JCF main_jcf[1];\n JCF *current_jcf;\n \n /* Variable controlling how dependency tracking is enabled in"}]}