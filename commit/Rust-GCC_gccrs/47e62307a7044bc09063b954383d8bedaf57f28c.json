{"sha": "47e62307a7044bc09063b954383d8bedaf57f28c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDdlNjIzMDdhNzA0NGJjMDkwNjNiOTU0MzgzZDhiZWRhZjU3ZjI4Yw==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2016-05-16T08:55:12Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2016-05-16T08:55:12Z"}, "message": "configure.ac: Add ACX_NONCANONICAL_HOST.\n\ngnattools/\n\t* configure.ac: Add ACX_NONCANONICAL_HOST.\n\t* configure: Regenerate.\n\t* Makefile.in: Replace host_alias with host_noncanonical.\n\t(gnattools-cross): Do not rename the tools.\ngcc/\n\t* configure.ac: Add ACX_NONCANONICAL_HOST.\n\t* configure: Regenerate.\n\t* Makefile.in: Set host_noncanonical.\ngcc/ada\n\t* gcc-interface/Make-lang.in (GNATMAKE_FOR_HOST): In the canadian\n\tcross case, use host_noncanonical instead of host as prefix.\n\t(GNATBIND_FOR_HOST): Likewise.\n\t(GNATLINK_FOR_HOST): Likewise.\n\t(GNATLS_FOR_HOST): Likewise.\n\nFrom-SVN: r236267", "tree": {"sha": "2332d7afe677a11a9c05a9d73f2c43b2ddf37919", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2332d7afe677a11a9c05a9d73f2c43b2ddf37919"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/47e62307a7044bc09063b954383d8bedaf57f28c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47e62307a7044bc09063b954383d8bedaf57f28c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47e62307a7044bc09063b954383d8bedaf57f28c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47e62307a7044bc09063b954383d8bedaf57f28c/comments", "author": null, "committer": null, "parents": [{"sha": "e9024729e2f52424472e893ac080289f7677c02e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e9024729e2f52424472e893ac080289f7677c02e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e9024729e2f52424472e893ac080289f7677c02e"}], "stats": {"total": 102, "additions": 46, "deletions": 56}, "files": [{"sha": "da0814633fc1dcc634a7f69df0149ee233fa8c87", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -1,3 +1,9 @@\n+2016-05-16  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* configure.ac: Add ACX_NONCANONICAL_HOST.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Set host_noncanonical.\n+\n 2016-05-14  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/71097"}, {"sha": "673f87dad890fb596c597caf42d843a7ffe0302a", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -56,6 +56,7 @@ MAKEOVERRIDES =\n \n build=@build@\n host=@host@\n+host_noncanonical=@host_noncanonical@\n target=@target@\n target_noncanonical:=@target_noncanonical@\n "}, {"sha": "6dde4738b5e6565dd2ef7c9161aab52cfac66d8b", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -1,3 +1,11 @@\n+2016-05-16  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/Make-lang.in (GNATMAKE_FOR_HOST): In the canadian\n+\tcross case, use host_noncanonical instead of host as prefix.\n+\t(GNATBIND_FOR_HOST): Likewise.\n+\t(GNATLINK_FOR_HOST): Likewise.\n+\t(GNATLS_FOR_HOST): Likewise.\n+\n 2016-05-06  Eric Botcazou  <ebotcazou@adacore.com>\n \n \tPR ada/70969"}, {"sha": "47a92687f76cbb52745cc1bbfb1308823dada005", "filename": "gcc/ada/gcc-interface/Make-lang.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fada%2Fgcc-interface%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2FMake-lang.in?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -175,10 +175,10 @@ else\n   # or a cross-native compiler. We provide defaults for tools targeting the\n   # host platform, but they can be overriden by just setting <tool>_FOR_HOST\n   # variables.\n-  GNATMAKE_FOR_HOST=$(host)-gnatmake\n-  GNATBIND_FOR_HOST=$(host)-gnatbind\n-  GNATLINK_FOR_HOST=$(host)-gnatlink\n-  GNATLS_FOR_HOST=$(host)-gnatls\n+  GNATMAKE_FOR_HOST=$(host_noncanonical)-gnatmake\n+  GNATBIND_FOR_HOST=$(host_noncanonical)-gnatbind\n+  GNATLINK_FOR_HOST=$(host_noncanonical)-gnatlink\n+  GNATLS_FOR_HOST=$(host_noncanonical)-gnatls\n \n   ifeq ($(host), $(target))\n     # This is a cross native. All the sources are taken from the currently"}, {"sha": "c8d8abcb3a502c58d799ce7664e151ba69b0fa98", "filename": "gcc/configure", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -822,6 +822,7 @@ host_subdir\n build_subdir\n build_libsubdir\n target_noncanonical\n+host_noncanonical\n target_os\n target_vendor\n target_cpu\n@@ -3323,7 +3324,7 @@ test -n \"$target_alias\" &&\n     NONENONEs,x,x, &&\n   program_prefix=${target_alias}-\n \n-# Determine the noncanonical target name, for directory use.\n+# Determine the noncanonical host name, for Ada.\n  case ${build_alias} in\n   \"\") build_noncanonical=${build} ;;\n   *) build_noncanonical=${build_alias} ;;\n@@ -3334,6 +3335,10 @@ esac\n   *) host_noncanonical=${host_alias} ;;\n esac\n \n+\n+\n+\n+# Determine the noncanonical target name, for directory use.\n  case ${target_alias} in\n   \"\") target_noncanonical=${host_noncanonical} ;;\n   *) target_noncanonical=${target_alias} ;;\n@@ -18474,7 +18479,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18477 \"configure\"\n+#line 18482 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -18580,7 +18585,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18583 \"configure\"\n+#line 18588 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H"}, {"sha": "ab91de6e4b11d9343de62526ea45dc1b50e354df", "filename": "gcc/configure.ac", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -35,6 +35,9 @@ AC_CANONICAL_BUILD\n AC_CANONICAL_HOST\n AC_CANONICAL_TARGET\n \n+# Determine the noncanonical host name, for Ada.\n+ACX_NONCANONICAL_HOST\n+\n # Determine the noncanonical target name, for directory use.\n ACX_NONCANONICAL_TARGET\n "}, {"sha": "9432ce1add596852e2f483e2c2ef4812229a1e1a", "filename": "gnattools/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2FChangeLog?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -1,3 +1,10 @@\n+2016-05-16  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* configure.ac: Add ACX_NONCANONICAL_HOST.\n+\t* configure: Regenerate.\n+\t* Makefile.in: Replace host_alias with host_noncanonical.\n+\t(gnattools-cross): Do not rename the tools.\n+\n 2016-04-04  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR bootstrap/70173"}, {"sha": "b0860eaf96d9288893ccdec2bb7d9044ade32fd7", "filename": "gnattools/Makefile.in", "status": "modified", "additions": 5, "deletions": 49, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2FMakefile.in?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -25,7 +25,6 @@ libdir = @libdir@\n build = @build@\n target = @target@\n host = @host@\n-host_alias = @host_alias@\n prefix = @prefix@\n INSTALL = @INSTALL@\n INSTALL_DATA = @INSTALL_DATA@\n@@ -34,6 +33,7 @@ INSTALL_PROGRAM = @INSTALL_PROGRAM@\n # Nonstandard autoconf-set variables.\n LN_S=@LN_S@\n target_noncanonical=@target_noncanonical@\n+host_noncanonical=@host_noncanonical@\n \n # Variables for the user (or the top level) to override.\n exeext = @EXEEXT@\n@@ -118,10 +118,10 @@ ifeq ($(build), $(host))\n   GNATBIND_FOR_HOST=gnatbind\n   GNATLS_FOR_HOST=gnatls\n else\n-  GNATMAKE_FOR_HOST=$(host_alias)-gnatmake\n-  GNATLINK_FOR_HOST=$(host_alias)-gnatlink\n-  GNATBIND_FOR_HOST=$(host_alias)-gnatbind\n-  GNATLS_FOR_HOST=$(host_alias)-gnatls\n+  GNATMAKE_FOR_HOST=$(host_noncanonical)-gnatmake\n+  GNATLINK_FOR_HOST=$(host_noncanonical)-gnatlink\n+  GNATBIND_FOR_HOST=$(host_noncanonical)-gnatbind\n+  GNATLS_FOR_HOST=$(host_noncanonical)-gnatls\n endif\n \n # Put the host RTS dir first in the PATH to hide the default runtime\n@@ -219,50 +219,6 @@ gnattools-cross: $(GCC_DIR)/stamp-tools\n \t# gnattools2\n \t$(MAKE) -C $(GCC_DIR)/ada/tools -f ../Makefile \\\n \t  $(TOOLS_FLAGS_TO_PASS_CROSS) common-tools\n-\t# Rename cross tools to where the GCC makefile wants them when\n-\t# installing.  FIXME: installation should be done elsewhere.\n-\tif [ -f $(GCC_DIR)/gnatbind$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatbind$(exeext) $(GCC_DIR)/gnatbind-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatchop$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatchop$(exeext) $(GCC_DIR)/gnatchop-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnat$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnat$(exeext) $(GCC_DIR)/gnat-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatkr$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatkr$(exeext) $(GCC_DIR)/gnatkr-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatlink$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatlink$(exeext) $(GCC_DIR)/gnatlink-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatls$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatls$(exeext) $(GCC_DIR)/gnatls-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatmake$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatmake$(exeext) $(GCC_DIR)/gnatmake-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatmem$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatmem$(exeext) $(GCC_DIR)/gnatmem-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatname$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatname$(exeext) $(GCC_DIR)/gnatname-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatprep$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatprep$(exeext) $(GCC_DIR)/gnatprep-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatxref$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatxref$(exeext) $(GCC_DIR)/gnatxref-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatfind$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatfind$(exeext) $(GCC_DIR)/gnatfind-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatclean$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatclean$(exeext) $(GCC_DIR)/gnatclean-cross$(exeext); \\\n-\tfi\n-\tif [ -f $(GCC_DIR)/gnatsym$(exeext) ] ; then \\\n-\t  mv $(GCC_DIR)/gnatsym$(exeext) $(GCC_DIR)/gnatsym-cross$(exeext); \\\n-\tfi\n \n # Other\n # -----"}, {"sha": "8c75cc06eb5a9bcaa91f2c203011e0229652505f", "filename": "gnattools/configure", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2Fconfigure?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -567,6 +567,7 @@ TOOLS_TARGET_PAIRS\n default_gnattools_target\n LN_S\n target_noncanonical\n+host_noncanonical\n target_os\n target_vendor\n target_cpu\n@@ -1990,6 +1991,8 @@ esac\n   *) host_noncanonical=${host_alias} ;;\n esac\n \n+\n+\n  case ${target_alias} in\n   \"\") target_noncanonical=${host_noncanonical} ;;\n   *) target_noncanonical=${target_alias} ;;"}, {"sha": "86d8926b6c01d238f7d9a9e248f0b9671e081c4e", "filename": "gnattools/configure.ac", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/47e62307a7044bc09063b954383d8bedaf57f28c/gnattools%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gnattools%2Fconfigure.ac?ref=47e62307a7044bc09063b954383d8bedaf57f28c", "patch": "@@ -46,6 +46,7 @@ AC_CANONICAL_BUILD\n AC_CANONICAL_HOST\n AC_CANONICAL_TARGET\n \n+ACX_NONCANONICAL_HOST\n ACX_NONCANONICAL_TARGET\n \n # Need to pass this down for now :-P"}]}