{"sha": "9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQzZDNmMTA3ODdmMzJhNDhhNWE5ZmFmNDk2ZDQwYWQ2ZjVhMjFjZg==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-11-22T01:59:16Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2009-11-22T01:59:16Z"}, "message": "trans-const.c (gfc_conv_const): Fix typo in comment.\n\n2009-11-21  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\t* trans-const.c (gfc_conv_const): Fix typo in comment. Replace assert\n\twith error message if not constant.\n\t* resolve.c (next_data_value): Delete check for constant.\n\nFrom-SVN: r154418", "tree": {"sha": "0d4d74372861eb96025df3489eb0ad51d38a7c91", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0d4d74372861eb96025df3489eb0ad51d38a7c91"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf/comments", "author": null, "committer": null, "parents": [{"sha": "fd829514a535410961aef304434de9f7488a4e56", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fd829514a535410961aef304434de9f7488a4e56", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fd829514a535410961aef304434de9f7488a4e56"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "adba8ad11f3b599dafd391f5d93a6e7a6e543d7e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf", "patch": "@@ -1,3 +1,9 @@\n+2009-11-21  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\t* trans-const.c (gfc_conv_const): Fix typo in comment. Replace assert\n+\twith error message if not constant.\n+\t* resolve.c (next_data_value): Delete check for constant.\n+\n 2009-11-20  Janus Weil  <janus@gcc.gnu.org>\n \n \t* intrinsic.texi (C_F_PROCPOINTER): Remove obsolete comment."}, {"sha": "bd690a71f0e84afce01a0704570ea5e7529ccefb", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf", "patch": "@@ -11083,9 +11083,6 @@ next_data_value (void)\n {\n   while (mpz_cmp_ui (values.left, 0) == 0)\n     {\n-      if (!gfc_is_constant_expr (values.vnode->expr))\n-\tgfc_error (\"non-constant DATA value at %L\",\n-\t\t   &values.vnode->expr->where);\n \n       if (values.vnode->next == NULL)\n \treturn FAILURE;"}, {"sha": "e2cd40bc954d81c37b1cf2e3b9df0d7b9e6834e2", "filename": "gcc/fortran/trans-const.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf/gcc%2Ffortran%2Ftrans-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf/gcc%2Ffortran%2Ftrans-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-const.c?ref=9d3d3f10787f32a48a5a9faf496d40ad6f5a21cf", "patch": "@@ -340,7 +340,7 @@ void\n gfc_conv_constant (gfc_se * se, gfc_expr * expr)\n {\n   /* We may be receiving an expression for C_NULL_PTR or C_NULL_FUNPTR.  If\n-     so, they expr_type will not yet be an EXPR_CONSTANT.  We need to make\n+     so, the expr_type will not yet be an EXPR_CONSTANT.  We need to make\n      it so here.  */\n   if (expr->ts.type == BT_DERIVED && expr->ts.u.derived\n       && expr->ts.u.derived->attr.is_iso_c)\n@@ -353,7 +353,11 @@ gfc_conv_constant (gfc_se * se, gfc_expr * expr)\n         }\n     }\n \n-  gcc_assert (expr->expr_type == EXPR_CONSTANT);\n+  if (expr->expr_type != EXPR_CONSTANT)\n+    {\n+      gfc_error (\"non-constant initialization expression at %L\", &expr->where);\n+      return;\n+    }\n \n   if (se->ss != NULL)\n     {"}]}