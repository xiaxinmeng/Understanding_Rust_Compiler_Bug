{"sha": "4c59710186081ed4b2d34ccda1190d43454543db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGM1OTcxMDE4NjA4MWVkNGIyZDM0Y2NkYTExOTBkNDM0NTQ1NDNkYg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-09-28T17:10:34Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2019-09-28T17:10:34Z"}, "message": "re PR fortran/91802 (ICE in mio_name_expr_t, at fortran/module.c:2141)\n\n2019-09-28  Steven G. Kargl  <kargl@gcc.ngu.org>\n\n\tPR fortran/91802\n\t* decl.c (attr_decl1): Check if rank+corank > 15.\n\n2019-09-28  Steven G. Kargl  <kargl@gcc.ngu.org>\n\n\tPR fortran/91802\n\t* gfortran.dg/pr91802.f90: New test.\n\nFrom-SVN: r276254", "tree": {"sha": "9fa7706092db03a25566cd9152d6f52a91704739", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9fa7706092db03a25566cd9152d6f52a91704739"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c59710186081ed4b2d34ccda1190d43454543db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c59710186081ed4b2d34ccda1190d43454543db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c59710186081ed4b2d34ccda1190d43454543db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c59710186081ed4b2d34ccda1190d43454543db/comments", "author": null, "committer": null, "parents": [{"sha": "036aa59282d3084076e78216c6ba8e5291dc29f7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/036aa59282d3084076e78216c6ba8e5291dc29f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/036aa59282d3084076e78216c6ba8e5291dc29f7"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "3d40c9a24d4a0d2950240955ba2b2521e3fd6c83", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=4c59710186081ed4b2d34ccda1190d43454543db", "patch": "@@ -1,3 +1,8 @@\n+2019-09-28  Steven G. Kargl  <kargl@gcc.ngu.org>\n+\n+\tPR fortran/91802\n+\t* decl.c (attr_decl1): Check if rank+corank > 15.\n+\n 2019-09-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/91864"}, {"sha": "31b2336a7b03d94a81c8c64710cac0e09dd994be", "filename": "gcc/fortran/decl.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ffortran%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ffortran%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fdecl.c?ref=4c59710186081ed4b2d34ccda1190d43454543db", "patch": "@@ -8468,6 +8468,15 @@ attr_decl1 (void)\n       goto cleanup;\n     }\n \n+  /* Check F2018:C822.  */\n+  if (sym->attr.dimension && sym->attr.codimension\n+      && sym->as && sym->as->rank + sym->as->corank > 15)\n+    {\n+      gfc_error (\"rank + corank of %qs exceeds 15 at %C\", sym->name);\n+      m = MATCH_ERROR;\n+      goto cleanup;\n+    }\n+\n   if (sym->attr.cray_pointee && sym->as != NULL)\n     {\n       /* Fix the array spec.  */"}, {"sha": "5592df3e745b324b3005fcded08d9e995194c404", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4c59710186081ed4b2d34ccda1190d43454543db", "patch": "@@ -1,3 +1,8 @@\n+2019-09-28  Steven G. Kargl  <kargl@gcc.ngu.org>\n+\n+\tPR fortran/91802\n+\t* gfortran.dg/pr91802.f90: New test.\n+\n 2019-09-28  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/91864"}, {"sha": "277d61aae82c7e287eacb18bacc59b679cf4783e", "filename": "gcc/testsuite/gfortran.dg/pr91802.f90", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr91802.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c59710186081ed4b2d34ccda1190d43454543db/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr91802.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr91802.f90?ref=4c59710186081ed4b2d34ccda1190d43454543db", "patch": "@@ -0,0 +1,9 @@\n+! { dg-do compile }\n+! { dg-options \"-fcoarray=single\" }\n+! Code contributed by Gerhard Steinmetz\n+! PR fortran/91802\n+module m\n+   real :: x\n+   dimension ::   x(1,2,1,2,1,2,1,2)\n+   codimension :: x[1,2,1,2,1,2,1,*] ! { dg-error \"exceeds 15\" }\n+end"}]}