{"sha": "3258272f5f9e9849d4fd27ca251925f78bcf429e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzI1ODI3MmY1ZjllOTg0OWQ0ZmQyN2NhMjUxOTI1Zjc4YmNmNDI5ZQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2005-07-15T23:26:50Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2005-07-15T23:26:50Z"}, "message": "profile.c (rest_of_handle_branch_prob): Fix handling of estimation after RTL profiling.\n\n\n\t* profile.c (rest_of_handle_branch_prob): Fix handling of estimation\n\tafter RTL profiling.\n\nFrom-SVN: r102069", "tree": {"sha": "5cdc05558c66c61fb008fa241248ed71433738ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5cdc05558c66c61fb008fa241248ed71433738ba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3258272f5f9e9849d4fd27ca251925f78bcf429e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3258272f5f9e9849d4fd27ca251925f78bcf429e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3258272f5f9e9849d4fd27ca251925f78bcf429e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3258272f5f9e9849d4fd27ca251925f78bcf429e/comments", "author": null, "committer": null, "parents": [{"sha": "01c0a9fa284b7fc10d09b4dca5f3e71f845a5ca1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01c0a9fa284b7fc10d09b4dca5f3e71f845a5ca1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01c0a9fa284b7fc10d09b4dca5f3e71f845a5ca1"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "25cc46d351daee1675b9c6315394e71b3696e759", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3258272f5f9e9849d4fd27ca251925f78bcf429e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3258272f5f9e9849d4fd27ca251925f78bcf429e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3258272f5f9e9849d4fd27ca251925f78bcf429e", "patch": "@@ -1,3 +1,8 @@\n+2005-07-16  Jan Hubicka  <jh@suse.cz>\n+\n+\t* profile.c (rest_of_handle_branch_prob): Fix handling of estimation\n+\tafter RTL profiling.\n+\n 2005-07-11  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR middle-end/22398"}, {"sha": "1e0c3b87d93a150f989f6c2e92ad6d9fbc56d70f", "filename": "gcc/profile.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3258272f5f9e9849d4fd27ca251925f78bcf429e/gcc%2Fprofile.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3258272f5f9e9849d4fd27ca251925f78bcf429e/gcc%2Fprofile.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprofile.c?ref=3258272f5f9e9849d4fd27ca251925f78bcf429e", "patch": "@@ -1381,7 +1381,9 @@ rest_of_handle_branch_prob (void)\n     flow_loops_dump (&loops, dump_file, NULL, 0);\n \n   /* Estimate using heuristics if no profiling info is available.  */\n-  if (flag_guess_branch_prob && profile_status == PROFILE_ABSENT)\n+  if (flag_guess_branch_prob\n+      && (profile_status == PROFILE_ABSENT\n+          || (profile_status == PROFILE_READ && !flag_tree_based_profiling)))\n     estimate_probability (&loops);\n \n   flow_loops_free (&loops);"}]}