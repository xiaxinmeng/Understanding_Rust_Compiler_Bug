{"sha": "f5579898360cab241826dcdc2b22d0ce9d354f06", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU1Nzk4OTgzNjBjYWIyNDE4MjZkY2RjMmIyMmQwY2U5ZDM1NGYwNg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2000-06-04T21:16:04Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2000-06-04T21:16:04Z"}, "message": "libioP.h: Handle new ABI mangling.\n\n\t* libioP.h: Handle new ABI mangling.\n\t* stdstrbufs.cc: Likewise.\n\nFrom-SVN: r34395", "tree": {"sha": "d0a838ab4ac7afcba16af04b63f3841da7ca8c30", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d0a838ab4ac7afcba16af04b63f3841da7ca8c30"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f5579898360cab241826dcdc2b22d0ce9d354f06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5579898360cab241826dcdc2b22d0ce9d354f06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5579898360cab241826dcdc2b22d0ce9d354f06", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5579898360cab241826dcdc2b22d0ce9d354f06/comments", "author": null, "committer": null, "parents": [{"sha": "1f6e1acc0f2017e81282604bda62db1b2b865075", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1f6e1acc0f2017e81282604bda62db1b2b865075", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1f6e1acc0f2017e81282604bda62db1b2b865075"}], "stats": {"total": 26, "additions": 22, "deletions": 4}, "files": [{"sha": "b7b30ea0e248b699be3dfbf0f2e762d075c7880c", "filename": "libio/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5579898360cab241826dcdc2b22d0ce9d354f06/libio%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5579898360cab241826dcdc2b22d0ce9d354f06/libio%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FChangeLog?ref=f5579898360cab241826dcdc2b22d0ce9d354f06", "patch": "@@ -1,3 +1,8 @@\n+2000-06-04  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* libioP.h: Handle new ABI mangling.\n+\t* stdstrbufs.cc: Likewise.\n+\n 2000-05-24  Ulrich Drepper  <drepper@redhat.com>\n \n \t* iostream.cc (endl): Fix bug in last change."}, {"sha": "171d9b9c1dacfad3b8914adaa68fe808025238dc", "filename": "libio/libioP.h", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5579898360cab241826dcdc2b22d0ce9d354f06/libio%2FlibioP.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5579898360cab241826dcdc2b22d0ce9d354f06/libio%2FlibioP.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2FlibioP.h?ref=f5579898360cab241826dcdc2b22d0ce9d354f06", "patch": "@@ -593,13 +593,18 @@ extern int _IO_vscanf __P ((const char *, _IO_va_list));\n /* VTABLE_LABEL defines NAME as of the CLASS class.\n    CNLENGTH is strlen(#CLASS).  */\n #ifdef __GNUC__\n-# if _G_VTABLE_LABEL_HAS_LENGTH\n-#  define VTABLE_LABEL(NAME, CLASS, CNLENGTH) \\\n+# if (!defined(__GXX_ABI_VERSION) || __GXX_ABI_VERSION < 100)\n+#  if _G_VTABLE_LABEL_HAS_LENGTH\n+#   define VTABLE_LABEL(NAME, CLASS, CNLENGTH) \\\n   extern char NAME[] asm (_G_VTABLE_LABEL_PREFIX #CNLENGTH #CLASS);\n+#  else\n+#   define VTABLE_LABEL(NAME, CLASS, CNLENGTH) \\\n+  extern char NAME[] asm (_G_VTABLE_LABEL_PREFIX #CLASS);\n+#  endif\n # else\n #  define VTABLE_LABEL(NAME, CLASS, CNLENGTH) \\\n-  extern char NAME[] asm (_G_VTABLE_LABEL_PREFIX #CLASS);\n-# endif\n+  extern char NAME[] asm (\"_ZN\" #CNLENGTH #CLASS \"TVE\");\n+# endif /* (!defined(__GXX_ABI_VERSION) || __GXX_ABI_VERSION < 100) */\n #endif /* __GNUC__ */\n \n #if !defined(builtinbuf_vtable) && defined(__cplusplus)"}, {"sha": "ee10cdc4d00905673e18779aff3c1a1d2252ad19", "filename": "libio/stdstrbufs.cc", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f5579898360cab241826dcdc2b22d0ce9d354f06/libio%2Fstdstrbufs.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f5579898360cab241826dcdc2b22d0ce9d354f06/libio%2Fstdstrbufs.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libio%2Fstdstrbufs.cc?ref=f5579898360cab241826dcdc2b22d0ce9d354f06", "patch": "@@ -35,11 +35,15 @@ the executable file might be covered by the GNU General Public License. */\n #if !defined(filebuf_vtable) && defined(__cplusplus)\n #ifdef __GNUC__\n extern char filebuf_vtable[]\n+#if (!defined(__GXX_ABI_VERSION) || __GXX_ABI_VERSION < 100)\n   asm (_G_VTABLE_LABEL_PREFIX\n #if _G_VTABLE_LABEL_HAS_LENGTH\n        \"7\"\n #endif\n        \"filebuf\");\n+#else\n+  asm ( \"_ZN7filebufTVE\" );\n+#endif /* (!defined(__GXX_ABI_VERSION) || __GXX_ABI_VERSION < 100) */\n #else /* !__GNUC__ */\n #if _G_VTABLE_LABEL_HAS_LENGTH\n #define filebuf_vtable _G_VTABLE_LABEL_PREFIX_ID##7filebuf\n@@ -87,11 +91,15 @@ struct _IO_fake_stdiobuf {\n #ifndef stdiobuf_vtable\n #ifdef __GNUC__\n extern struct _IO_jump_t stdiobuf_vtable\n+#if (!defined(__GXX_ABI_VERSION) || __GXX_ABI_VERSION < 100)\n   asm (_G_VTABLE_LABEL_PREFIX\n #if _G_VTABLE_LABEL_HAS_LENGTH\n        \"8\"\n #endif\n        \"stdiobuf\");\n+#else\n+  asm ( \"_ZN15stdiobuf_vtableTVE\" );\n+#endif /* (!defined(__GXX_ABI_VERSION) || __GXX_ABI_VERSION < 100) */\n #else /* !__GNUC__ */\n #if _G_VTABLE_LABEL_HAS_LENGTH\n #define stdiobuf_vtable _G_VTABLE_LABEL_PREFIX_ID##8stdiobuf"}]}