{"sha": "a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTk1ODg4YmIzNWU3OGIxYzI1NmE4NDBkMmFkYWY1NmJmOGE4MmExZA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-12-01T09:34:43Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-12-01T09:34:43Z"}, "message": "re PR c++/51367 (Broken diagnostic: 'pointer_type' not supported by dump_expr)\n\n/cp\n2011-12-01  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/51367\n\t* pt.c (unify_inconsistency): Use either %qT or %qE depending on\n\twhether parm is a type or non-type parameter.\n\n/cp\n2011-12-01  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/51367\n\t* g++.dg/template/error47.C: New.\n\nFrom-SVN: r181876", "tree": {"sha": "1e667c176b0072a2df57b80a1d1c075ad147b2ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1e667c176b0072a2df57b80a1d1c075ad147b2ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/comments", "author": null, "committer": null, "parents": [{"sha": "12f300a8aaec3eeb80a660e96d980faf37f607bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12f300a8aaec3eeb80a660e96d980faf37f607bf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12f300a8aaec3eeb80a660e96d980faf37f607bf"}], "stats": {"total": 33, "additions": 30, "deletions": 3}, "files": [{"sha": "998303417d257c1dcde00e306abf799bee83c71e", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "patch": "@@ -1,3 +1,9 @@\n+2011-12-01  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/51367\n+\t* pt.c (unify_inconsistency): Use either %qT or %qE depending on\n+\twhether parm is a type or non-type parameter.\n+\n 2011-11-30  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/51009"}, {"sha": "15ef7a0caeadd23d9e8a813894b99cf5c0e12454", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "patch": "@@ -5501,9 +5501,16 @@ static int\n unify_inconsistency (bool explain_p, tree parm, tree first, tree second)\n {\n   if (explain_p)\n-    inform (input_location,\n-\t    \"  conflicting deductions for parameter %qE (%qE and %qE)\",\n-\t    parm, first, second);\n+    {\n+      if (TYPE_P (parm))\n+\tinform (input_location,\n+\t\t\"  deduced conflicting types for parameter %qT (%qT and %qT)\",\n+\t\tparm, first, second);\n+      else\n+\tinform (input_location,\n+\t\t\"  deduced conflicting values for non-type parameter \"\n+\t\t\"%qE (%qE and %qE)\", parm, first, second);\n+    }\n   return 1;\n }\n "}, {"sha": "db9afc16709b2534665614cebc832cbfd92a8a9b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "patch": "@@ -1,3 +1,8 @@\n+2011-12-01  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/51367\n+\t* g++.dg/template/error47.C: New.\n+\n 2011-11-30  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/51009"}, {"sha": "7e360fe69a88e2ed61618342d4759ba2c9ccf5be", "filename": "gcc/testsuite/g++.dg/template/error47.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Ferror47.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a95888bb35e78b1c256a840d2adaf56bf8a82a1d/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Ferror47.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Ferror47.C?ref=a95888bb35e78b1c256a840d2adaf56bf8a82a1d", "patch": "@@ -0,0 +1,9 @@\n+// PR c++/51367\n+\n+template<typename T> void foo(T, T); // { dg-message \"template\" }\n+\n+void bar(void* p)\n+{\n+  foo(0, p); // { dg-error \"no matching\" }\n+}\n+// { dg-message \"candidate|parameter 'T' ('int' and 'void*')\" { target *-*-* } 7 }"}]}