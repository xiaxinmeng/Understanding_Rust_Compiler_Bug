{"sha": "369239efc9c323a86411bf3c9952ac5824225e41", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzY5MjM5ZWZjOWMzMjNhODY0MTFiZjNjOTk1MmFjNTgyNDIyNWU0MQ==", "commit": {"author": {"name": "Ralf Wildenhues", "email": "Ralf.Wildenhues@gmx.de", "date": "2008-02-26T22:41:16Z"}, "committer": {"name": "Ralf Wildenhues", "email": "rwild@gcc.gnu.org", "date": "2008-02-26T22:41:16Z"}, "message": "re PR c/28800 (warning \"ISO C forbids an empty source file\" could be improved)\n\ngcc/:\nPR c/28800\n* c-parser.c (c_parser_translation_unit): Warn for empty\ntranslation unit, not empty source file.\n\ngcc/testsuite/:\nPR c/28800\n* gcc.dg/empty-source-2.c: Adjust for warning message.\n* gcc.dg/empty-source-3.c: Likewise.\n* gcc.dg/pack-test-2.c: Adjust comment.\n* gcc.dg/pragma-ep-2.c: Likewise.\n* gcc.dg/pragma-re-2.c: Likewise.\n* gcc.dg/va-arg-2.c: Likewise.\n\nFrom-SVN: r132690", "tree": {"sha": "ba260f2caf92b3ea1da029e11ec95332835476cb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ba260f2caf92b3ea1da029e11ec95332835476cb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/369239efc9c323a86411bf3c9952ac5824225e41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/369239efc9c323a86411bf3c9952ac5824225e41", "html_url": "https://github.com/Rust-GCC/gccrs/commit/369239efc9c323a86411bf3c9952ac5824225e41", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/369239efc9c323a86411bf3c9952ac5824225e41/comments", "author": null, "committer": null, "parents": [{"sha": "e19bb1866c16a9fcd38ab36056c5ca55cf6d9d62", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e19bb1866c16a9fcd38ab36056c5ca55cf6d9d62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e19bb1866c16a9fcd38ab36056c5ca55cf6d9d62"}], "stats": {"total": 30, "additions": 23, "deletions": 7}, "files": [{"sha": "a033d4be8ad8e5e9c5492333e17178591c6f1ee3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -1,3 +1,9 @@\n+2008-02-26  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR c/28800\n+\t* c-parser.c (c_parser_translation_unit): Warn for empty\n+\ttranslation unit, not empty source file.\n+\n 2008-02-26  Paul Brook  <paul@codesourcery.com>\n \n \t* config/arm/arm.c (thumb_set_frame_pointer): Ensure SP is first"}, {"sha": "1e63c14ef8b53f1086229528ab5a60f21a8f984f", "filename": "gcc/c-parser.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-parser.c?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -1069,7 +1069,7 @@ c_parser_translation_unit (c_parser *parser)\n   if (c_parser_next_token_is (parser, CPP_EOF))\n     {\n       if (pedantic)\n-\tpedwarn (\"%HISO C forbids an empty source file\",\n+\tpedwarn (\"%HISO C forbids an empty translation unit\",\n \t\t &c_parser_peek_token (parser)->location);\n     }\n   else"}, {"sha": "027543ef92969828544c69eccbd7bd7016d8ef06", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -1,3 +1,13 @@\n+2008-02-26  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n+\n+\tPR c/28800\n+\t* gcc.dg/empty-source-2.c: Adjust for warning message.\n+\t* gcc.dg/empty-source-3.c: Likewise.\n+\t* gcc.dg/pack-test-2.c: Adjust comment.\n+\t* gcc.dg/pragma-ep-2.c: Likewise.\n+\t* gcc.dg/pragma-re-2.c: Likewise.\n+\t* gcc.dg/va-arg-2.c: Likewise.\n+\n 2008-02-26  Tobias Burnus  <burnus@net-b.de>\n \n \tPR fortran/35033"}, {"sha": "8ce201c13cd4cb987a751f42457331025c14e602", "filename": "gcc/testsuite/gcc.dg/empty-source-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fempty-source-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fempty-source-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fempty-source-2.c?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -3,4 +3,4 @@\n /* { dg-do compile } */\n /* { dg-options \"-pedantic\" } */\n \n-/* { dg-warning \"ISO C forbids an empty source file\" \"empty\" { target *-*-* } 6 } */\n+/* { dg-warning \"ISO C forbids an empty translation unit\" \"empty\" { target *-*-* } 6 } */"}, {"sha": "0fd7be77754e4cf48ad3a0ad8a7935c146fd7eaf", "filename": "gcc/testsuite/gcc.dg/empty-source-3.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fempty-source-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fempty-source-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fempty-source-3.c?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -4,4 +4,4 @@\n /* { dg-do compile } */\n /* { dg-options \"-pedantic-errors\" } */\n \n-/* { dg-error \"ISO C forbids an empty source file\" \"empty\" { target *-*-* } 7 } */\n+/* { dg-error \"ISO C forbids an empty translation unit\" \"empty\" { target *-*-* } 7 } */"}, {"sha": "86e4d8df4acd2ac43d6dec9e9a52f3bede731df1", "filename": "gcc/testsuite/gcc.dg/pack-test-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fpack-test-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fpack-test-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpack-test-2.c?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -22,4 +22,4 @@\n \n #pragma pack(push, foo, 3)      /* { dg-warning \"small power of two\" } */\n \n-extern int blah;\t/* prevent \"ISO C forbids an empty source file\" */\n+extern int blah;\t/* prevent \"ISO C forbids an empty translation unit\" */"}, {"sha": "1151d9b4bf142ad18e4ecbb6e46852eb013dabb5", "filename": "gcc/testsuite/gcc.dg/pragma-ep-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fpragma-ep-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fpragma-ep-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpragma-ep-2.c?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -4,4 +4,4 @@\n #pragma extern_prefix foo\t\t/* { dg-warning \"malformed\" } */\n #pragma extern_prefix \"foo\" 1\t\t/* { dg-warning \"junk\" } */\n \n-int bar; /* silence `ISO C forbids an empty source file' warning */\n+int bar; /* silence `ISO C forbids an empty translation unit' warning */"}, {"sha": "e86bb87c818ef90e880da0bf0cab211f30bcad4d", "filename": "gcc/testsuite/gcc.dg/pragma-re-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fpragma-re-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fpragma-re-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpragma-re-2.c?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -5,4 +5,4 @@\n #pragma redefine_extname foo 1\t\t/* { dg-warning \"malformed\" } */\n #pragma redefine_extname foo bar 2\t/* { dg-warning \"junk\" } */\n \n-int bar; /* silence `ISO C forbids an empty source file' warning */\n+int bar; /* silence `ISO C forbids an empty translation unit' warning */"}, {"sha": "2fd0ed97e3f5715598b251f0697971a804affaa8", "filename": "gcc/testsuite/gcc.dg/va-arg-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fva-arg-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/369239efc9c323a86411bf3c9952ac5824225e41/gcc%2Ftestsuite%2Fgcc.dg%2Fva-arg-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fva-arg-2.c?ref=369239efc9c323a86411bf3c9952ac5824225e41", "patch": "@@ -9,4 +9,4 @@\n /* { dg-error \"no longer implements\" \"#error 1\" { target *-*-* } 4 } */\n /* { dg-error \"Revise your code\" \"#error 2\" { target *-*-* } 5 } */\n \n-int x;  /* prevent empty-source-file warning */\n+int x;  /* prevent empty-translation-unit warning */"}]}