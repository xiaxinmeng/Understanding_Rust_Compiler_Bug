{"sha": "021f65807164b2770e8f113b0f85b1bb193020ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDIxZjY1ODA3MTY0YjI3NzBlOGYxMTNiMGY4NWIxYmIxOTMwMjBlZg==", "commit": {"author": {"name": "Ilya Leoshkevich", "email": "iii@linux.ibm.com", "date": "2019-09-30T17:40:02Z"}, "committer": {"name": "Ilya Leoshkevich", "email": "iii@gcc.gnu.org", "date": "2019-09-30T17:40:02Z"}, "message": "S/390: Remove code duplication in vec_unordered<mode>\n\nvec_unordered<mode> is vec_ordered<mode> plus a negation at the end.\nReuse vec_unordered<mode> logic.\n\ngcc/ChangeLog:\n\n2019-09-30  Ilya Leoshkevich  <iii@linux.ibm.com>\n\n\tPR target/77918\n\t* config/s390/vector.md (vec_unordered<mode>): Call\n\tgen_vec_ordered<mode>.\n\nFrom-SVN: r276360", "tree": {"sha": "0bd502e04ec087c50a13b5973caa13fad203bec5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0bd502e04ec087c50a13b5973caa13fad203bec5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/021f65807164b2770e8f113b0f85b1bb193020ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/021f65807164b2770e8f113b0f85b1bb193020ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/021f65807164b2770e8f113b0f85b1bb193020ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/021f65807164b2770e8f113b0f85b1bb193020ef/comments", "author": {"login": "iii-i", "id": 45998171, "node_id": "MDQ6VXNlcjQ1OTk4MTcx", "avatar_url": "https://avatars.githubusercontent.com/u/45998171?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iii-i", "html_url": "https://github.com/iii-i", "followers_url": "https://api.github.com/users/iii-i/followers", "following_url": "https://api.github.com/users/iii-i/following{/other_user}", "gists_url": "https://api.github.com/users/iii-i/gists{/gist_id}", "starred_url": "https://api.github.com/users/iii-i/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iii-i/subscriptions", "organizations_url": "https://api.github.com/users/iii-i/orgs", "repos_url": "https://api.github.com/users/iii-i/repos", "events_url": "https://api.github.com/users/iii-i/events{/privacy}", "received_events_url": "https://api.github.com/users/iii-i/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "6b34d5ff5563916c52582a4c7473689bb0086c19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b34d5ff5563916c52582a4c7473689bb0086c19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b34d5ff5563916c52582a4c7473689bb0086c19"}], "stats": {"total": 20, "additions": 13, "deletions": 7}, "files": [{"sha": "28296d5a786e993cf3285d612802de4b27f5eb5e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/021f65807164b2770e8f113b0f85b1bb193020ef/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/021f65807164b2770e8f113b0f85b1bb193020ef/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=021f65807164b2770e8f113b0f85b1bb193020ef", "patch": "@@ -1,3 +1,9 @@\n+2019-09-30  Ilya Leoshkevich  <iii@linux.ibm.com>\n+\n+\tPR target/77918\n+\t* config/s390/vector.md (vec_unordered<mode>): Call\n+\tgen_vec_ordered<mode>.\n+\n 2019-09-30  Yuliang Wang  <yuliang.wang@arm.com>\n \n \t* config/aarch64/aarch64-sve.md (sdiv_pow2<mode>3):"}, {"sha": "961d2c655e4a692fc3b5e42f7d0b4adcbfdbf28d", "filename": "gcc/config/s390/vector.md", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/021f65807164b2770e8f113b0f85b1bb193020ef/gcc%2Fconfig%2Fs390%2Fvector.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/021f65807164b2770e8f113b0f85b1bb193020ef/gcc%2Fconfig%2Fs390%2Fvector.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fvector.md?ref=021f65807164b2770e8f113b0f85b1bb193020ef", "patch": "@@ -1546,15 +1546,15 @@\n \n ; UNORDERED (a, b): !ORDERED (a, b)\n (define_expand \"vec_unordered<mode>\"\n-  [(set (match_operand:<tointvec>          0 \"register_operand\" \"=v\")\n-\t(ge:<tointvec> (match_operand:VFT 1 \"register_operand\"  \"v\")\n-\t\t (match_operand:VFT 2 \"register_operand\"  \"v\")))\n-   (set (match_dup 3) (gt:<tointvec> (match_dup 2) (match_dup 1)))\n-   (set (match_dup 0) (ior:<tointvec> (match_dup 0) (match_dup 3)))\n-   (set (match_dup 0) (not:<tointvec> (match_dup 0)))]\n+  [(match_operand:<tointvec> 0 \"register_operand\" \"=v\")\n+   (match_operand:VFT        1 \"register_operand\" \"v\")\n+   (match_operand:VFT        2 \"register_operand\" \"v\")]\n   \"TARGET_VX\"\n {\n-  operands[3] = gen_reg_rtx (<tointvec>mode);\n+  emit_insn (gen_vec_ordered<mode> (operands[0], operands[1], operands[2]));\n+  emit_insn (gen_rtx_SET (operands[0],\n+\t     gen_rtx_NOT (<tointvec>mode, operands[0])));\n+  DONE;\n })\n \n (define_expand \"vec_unordered\""}]}