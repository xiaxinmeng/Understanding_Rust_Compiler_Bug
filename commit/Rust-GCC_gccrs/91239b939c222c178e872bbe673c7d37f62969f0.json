{"sha": "91239b939c222c178e872bbe673c7d37f62969f0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTEyMzliOTM5YzIyMmMxNzhlODcyYmJlNjczYzdkMzdmNjI5NjlmMA==", "commit": {"author": {"name": "J\"orn Rennecke", "email": "amylaar@redhat.com", "date": "2001-01-25T02:03:14Z"}, "committer": {"name": "Joern Rennecke", "email": "amylaar@gcc.gnu.org", "date": "2001-01-25T02:03:14Z"}, "message": "c-decl.c (duplicate_decls): If different_binding_level is nonzero...\n\n\t* c-decl.c (duplicate_decls): If different_binding_level is nonzero,\n\tolddecl has argument types and newdecl has none, use the argument\n\ttypes from olddecl.\n\nFrom-SVN: r39254", "tree": {"sha": "488d581146c642d892325add8df753789b577761", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/488d581146c642d892325add8df753789b577761"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/91239b939c222c178e872bbe673c7d37f62969f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91239b939c222c178e872bbe673c7d37f62969f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91239b939c222c178e872bbe673c7d37f62969f0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91239b939c222c178e872bbe673c7d37f62969f0/comments", "author": null, "committer": null, "parents": [{"sha": "e57cabac809559538ae7f3bf2866b66401a321e7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e57cabac809559538ae7f3bf2866b66401a321e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e57cabac809559538ae7f3bf2866b66401a321e7"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "7cb7002308254d3097a4870a0c3105948f6b6d2b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91239b939c222c178e872bbe673c7d37f62969f0/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91239b939c222c178e872bbe673c7d37f62969f0/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=91239b939c222c178e872bbe673c7d37f62969f0", "patch": "@@ -1,3 +1,9 @@\n+Thu Jan 25 02:01:16 2001  J\"orn Rennecke <amylaar@redhat.com>\n+\n+\t* c-decl.c (duplicate_decls): If different_binding_level is nonzero,\n+\tolddecl has argument types and newdecl has none, use the argument\n+\ttypes from olddecl.\n+\n 2001-01-24  Ulrich Drepper  <drepper@redhat.com>\n \n \t* dwarf2out.c (prefix_of): New function.  Determine longest common"}, {"sha": "06bbbef9c459b21677a5e268fb03b9d679fccd6e", "filename": "gcc/c-decl.c", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91239b939c222c178e872bbe673c7d37f62969f0/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91239b939c222c178e872bbe673c7d37f62969f0/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=91239b939c222c178e872bbe673c7d37f62969f0", "patch": "@@ -1800,11 +1800,17 @@ duplicate_decls (newdecl, olddecl, different_binding_level)\n       if (TREE_CODE (newdecl) != FUNCTION_DECL || !DECL_BUILT_IN (olddecl))\n \t{\n \t  if (different_binding_level)\n-\t    TREE_TYPE (newdecl)\n-\t      = build_type_attribute_variant\n-\t\t(newtype,\n-\t\t merge_attributes (TYPE_ATTRIBUTES (newtype),\n-\t\t\t\t   TYPE_ATTRIBUTES (oldtype)));\n+\t    {\n+\t      if (TYPE_ARG_TYPES (oldtype) != 0\n+\t\t  && TYPE_ARG_TYPES (newtype) == 0)\n+\t\tTREE_TYPE (newdecl) = common_type (newtype, oldtype);\n+\t      else\n+\t\tTREE_TYPE (newdecl)\n+\t\t  = build_type_attribute_variant\n+\t\t    (newtype,\n+\t\t     merge_attributes (TYPE_ATTRIBUTES (newtype),\n+\t\t\t\t       TYPE_ATTRIBUTES (oldtype)));\n+\t    }\n \t  else\n \t    TREE_TYPE (newdecl)\n \t      = TREE_TYPE (olddecl)"}]}