{"sha": "a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTFkYWVkMmRlYTVjZDhkNWNjOWMxMjJjZGI2ZDA4MGM4N2FkMzc3Ng==", "commit": {"author": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2006-07-05T17:32:41Z"}, "committer": {"name": "Eric Christopher", "email": "echristo@gcc.gnu.org", "date": "2006-07-05T17:32:41Z"}, "message": "configure.ac: Depend addition of -pthread on host OS.\n\n2006-07-05  Eric Christopher  <echristo@apple.com>\n\n        * configure.ac: Depend addition of -pthread on host OS.\n        * configure: Regenerate.\n\nFrom-SVN: r115205", "tree": {"sha": "3c8d77b4fd64c8cc02c2aeba5c9441d922dfe107", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3c8d77b4fd64c8cc02c2aeba5c9441d922dfe107"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776/comments", "author": null, "committer": null, "parents": [{"sha": "dc8f5205374552519f0e4a89c115f3a17c23931b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc8f5205374552519f0e4a89c115f3a17c23931b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc8f5205374552519f0e4a89c115f3a17c23931b"}], "stats": {"total": 33, "additions": 26, "deletions": 7}, "files": [{"sha": "bd63f3db772d4b944a29ca372b5a5ad481e89204", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776", "patch": "@@ -1,3 +1,8 @@\n+2006-07-05  Eric Christopher  <echristo@apple.com>\n+\n+\t* configure.ac: Depend addition of -pthread on host OS.\n+\t* configure: Regenerate.\n+\n 2006-06-21  Jakub Jelinek  <jakub@redhat.com>\n \n \t* critical.c (GOMP_critical_name_start): Fix *pptr initialization\n@@ -154,7 +159,7 @@\n \n \tPR libgomp/25936\n \t* configure.tgt: Link against -lrt for sem_init on HPUX v11 systems.\n- \n+\n 2006-02-08  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* testsuite/lib/libgomp-dg.exp: Load scanrtl.exp library.\n@@ -982,7 +987,7 @@\n \t* configure.tgt (x86_64-linux): Also test CC for -m32.\n \t* config/linux/x86_64/futex.h (futex_wait): Fix r10 usage.\n \n-\t* testsuite/lib/libgomp-dg.exp (libgomp_link_flags): Add / \n+\t* testsuite/lib/libgomp-dg.exp (libgomp_link_flags): Add /\n \tafter $gccpath.\n \n \t* Makefile.am (SUBDIRS): New.\n@@ -1078,7 +1083,7 @@\n \n \t* iter.c (gomp_iter_runtime_next_locked): Remove.\n \t* loop.c (gomp_loop_static_start, gomp_loop_dynamic_start,\n-\tgomp_loop_guided_start, gomp_loop_ordered_static_start, \n+\tgomp_loop_guided_start, gomp_loop_ordered_static_start,\n \tgomp_loop_ordered_dynamic_start, gomp_loop_ordered_guided_start,\n \tgomp_loop_static_next, gomp_loop_dynamic_next, gomp_loop_guided_next,\n \tgomp_loop_ordered_static_next, gomp_loop_ordered_dynamic_next,"}, {"sha": "28e3c998a36975642cdbbe1b2ad681b1ead22fd0", "filename": "libgomp/configure", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776", "patch": "@@ -8296,7 +8296,8 @@ fi\n # Check to see if -pthread or -lpthread is needed.  Prefer the former.\n # In case the pthread.h system header is not found, this test will fail.\n XPCFLAGS=\"\"\n-CFLAGS=\"$CFLAGS -pthread\"\n+\n+# Darwin doesn't need the -pthread option since threads are in libSystem\n cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n@@ -8335,7 +8336,13 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; }; then\n-  XPCFLAGS=\" -Wc,-pthread\"\n+  case $host in\n+   *-darwin*)\n+     ;;\n+   default)\n+     XPCFLAGS=\" -Wc,-pthread\"\n+     ;;\n+     esac\n else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5"}, {"sha": "5d11982b157a7bbbb8e2b51baa1dce48d4673062", "filename": "libgomp/configure.ac", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776/libgomp%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776/libgomp%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure.ac?ref=a1daed2dea5cd8d5cc9c122cdb6d080c87ad3776", "patch": "@@ -145,13 +145,20 @@ GCC_HEADER_STDINT(gstdint.h)\n # Check to see if -pthread or -lpthread is needed.  Prefer the former.\n # In case the pthread.h system header is not found, this test will fail.\n XPCFLAGS=\"\"\n-CFLAGS=\"$CFLAGS -pthread\"\n+\n+# Darwin doesn't need the -pthread option since threads are in libSystem\n AC_LINK_IFELSE(\n  [AC_LANG_PROGRAM(\n   [#include <pthread.h>\n    void *g(void *d) { return NULL; }],\n   [pthread_t t; pthread_create(&t,NULL,g,NULL);])],\n- [XPCFLAGS=\" -Wc,-pthread\"],\n+ [case $host in\n+   *-darwin*)\n+     ;;\n+   default)\n+     XPCFLAGS=\" -Wc,-pthread\"\n+     ;;\n+     esac],\n  [CFLAGS=\"$save_CFLAGS\" LIBS=\"-lpthread $LIBS\"\n   AC_LINK_IFELSE(\n    [AC_LANG_PROGRAM("}]}