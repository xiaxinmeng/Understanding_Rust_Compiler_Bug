{"sha": "4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQ1ZGNmYjJmMDBhMjI4YWU2OWEyZDdlODQwNzczNzRjM2ViMmMzNw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2011-04-27T16:03:03Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2011-04-27T16:03:03Z"}, "message": "* cgraphunit.c (cgraph_process_new_functions): Fix ordering issue.\n\nFrom-SVN: r173039", "tree": {"sha": "9e5605cc38b169a6d8c45db5db485f246f7bd1d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e5605cc38b169a6d8c45db5db485f246f7bd1d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37/comments", "author": null, "committer": null, "parents": [{"sha": "c224bdc1ee1b93c4a75b9927d9c961fb4a65131a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c224bdc1ee1b93c4a75b9927d9c961fb4a65131a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c224bdc1ee1b93c4a75b9927d9c961fb4a65131a"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "46acb85595eba7e4a19b0bd84ba53a661bf81bc6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37", "patch": "@@ -1,3 +1,7 @@\n+2011-04-27  Jan Hubicka  <jh@suse.cz>\n+\n+\t* cgraphunit.c (cgraph_process_new_functions): Fix ordering issue.\n+\n 2011-04-27  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* config/i386/predicates.md (avx_vpermilp_*_operand): Remove."}, {"sha": "aa2f2a1e7df9cd1a296979ba4b36e1e9b491f967", "filename": "gcc/cgraphunit.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37/gcc%2Fcgraphunit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37/gcc%2Fcgraphunit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcgraphunit.c?ref=4d5dcfb2f00a228ae69a2d7e84077374c3eb2c37", "patch": "@@ -233,6 +233,7 @@ cgraph_process_new_functions (void)\n \t  cgraph_finalize_function (fndecl, false);\n \t  cgraph_mark_reachable_node (node);\n \t  output = true;\n+          cgraph_call_function_insertion_hooks (node);\n \t  break;\n \n \tcase CGRAPH_STATE_IPA:\n@@ -258,20 +259,21 @@ cgraph_process_new_functions (void)\n \t  free_dominance_info (CDI_DOMINATORS);\n \t  pop_cfun ();\n \t  current_function_decl = NULL;\n+          cgraph_call_function_insertion_hooks (node);\n \t  break;\n \n \tcase CGRAPH_STATE_EXPANSION:\n \t  /* Functions created during expansion shall be compiled\n \t     directly.  */\n \t  node->process = 0;\n+          cgraph_call_function_insertion_hooks (node);\n \t  cgraph_expand_function (node);\n \t  break;\n \n \tdefault:\n \t  gcc_unreachable ();\n \t  break;\n \t}\n-      cgraph_call_function_insertion_hooks (node);\n       varpool_analyze_pending_decls ();\n     }\n   return output;"}]}