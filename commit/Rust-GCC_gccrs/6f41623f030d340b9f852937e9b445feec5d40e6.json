{"sha": "6f41623f030d340b9f852937e9b445feec5d40e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmY0MTYyM2YwMzBkMzQwYjlmODUyOTM3ZTliNDQ1ZmVlYzVkNDBlNg==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@hxi.com", "date": "2001-08-30T17:17:17Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2001-08-30T17:17:17Z"}, "message": "h8300.md (zero_extendqihi2): Changes to define_expand to accomodate target-specific attributes.\n\n\t* config/h8300/h8300.md (zero_extendqihi2): Changes to\n\tdefine_expand to accomodate target-specific attributes.\n\t(anonymous zero_extendqihi2 patterns): New.\n\nFrom-SVN: r45290", "tree": {"sha": "258cf52cb3f1e5fa93137db1669ee27ec99d9707", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/258cf52cb3f1e5fa93137db1669ee27ec99d9707"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6f41623f030d340b9f852937e9b445feec5d40e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f41623f030d340b9f852937e9b445feec5d40e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f41623f030d340b9f852937e9b445feec5d40e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f41623f030d340b9f852937e9b445feec5d40e6/comments", "author": null, "committer": null, "parents": [{"sha": "ee437932688dda18e9505d1024206ba6c2f4ad22", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ee437932688dda18e9505d1024206ba6c2f4ad22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ee437932688dda18e9505d1024206ba6c2f4ad22"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "e0661aade98baaf93c552e99a304ec575f05f47a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f41623f030d340b9f852937e9b445feec5d40e6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f41623f030d340b9f852937e9b445feec5d40e6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6f41623f030d340b9f852937e9b445feec5d40e6", "patch": "@@ -1,3 +1,9 @@\n+2001-08-30  Kazu Hirata  <kazu@hxi.com>\n+\n+\t* config/h8300/h8300.md (zero_extendqihi2): Changes to\n+\tdefine_expand to accomodate target-specific attributes.\n+\t(anonymous zero_extendqihi2 patterns): New.\n+\n Thu Aug 30 18:10:56 2001  J\"orn Rennecke <amylaar@redhat.com>\n \n \t* h8300.md (*andorhi3): New pattern."}, {"sha": "eb7dc775c71c71b15204de8e0e6e4d6f586d96bc", "filename": "gcc/config/h8300/h8300.md", "status": "modified", "additions": 18, "deletions": 2, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6f41623f030d340b9f852937e9b445feec5d40e6/gcc%2Fconfig%2Fh8300%2Fh8300.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6f41623f030d340b9f852937e9b445feec5d40e6/gcc%2Fconfig%2Fh8300%2Fh8300.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fh8300%2Fh8300.md?ref=6f41623f030d340b9f852937e9b445feec5d40e6", "patch": "@@ -1604,16 +1604,32 @@\n ;; EXTEND INSTRUCTIONS\n ;; ----------------------------------------------------------------------\n \n-(define_insn \"zero_extendqihi2\"\n+(define_expand \"zero_extendqihi2\"\n+  [(set (match_operand:HI 0 \"register_operand\" \"\")\n+\t(zero_extend:HI (match_operand:QI 1 \"general_operand_src\" \"\")))]\n+  \"\"\n+  \"\")\n+\n+(define_insn \"\"\n   [(set (match_operand:HI 0 \"register_operand\" \"=r,r\")\n \t(zero_extend:HI (match_operand:QI 1 \"general_operand_src\" \"0,g>\")))]\n-  \"\"\n+  \"TARGET_H8300\"\n   \"@\n   mov.b\t#0,%t0\n   mov.b\t%R1,%s0\\;mov.b\t#0,%t0\"\n   [(set_attr \"length\" \"2,10\")\n    (set_attr \"cc\" \"clobber,clobber\")])\n \n+(define_insn \"\"\n+  [(set (match_operand:HI 0 \"register_operand\" \"=r,r\")\n+\t(zero_extend:HI (match_operand:QI 1 \"general_operand_src\" \"0,g>\")))]\n+  \"TARGET_H8300H || TARGET_H8300S\"\n+  \"@\n+  extu.w\t%T0\n+  mov.b\t%R1,%s0\\;extu.w\t%T0\"\n+  [(set_attr \"length\" \"2,10\")\n+   (set_attr \"cc\" \"set_znv,set_znv\")])\n+\n ;; The compiler can synthesize a 300H variant of this which is\n ;; just as efficient as one that we'd create\n (define_insn \"zero_extendqisi2\""}]}