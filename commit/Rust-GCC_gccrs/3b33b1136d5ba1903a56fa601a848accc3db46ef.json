{"sha": "3b33b1136d5ba1903a56fa601a848accc3db46ef", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2IzM2IxMTM2ZDViYTE5MDNhNTZmYTYwMWE4NDhhY2NjM2RiNDZlZg==", "commit": {"author": {"name": "Xi Ruoyao", "email": "xry111@mengyan1223.wang", "date": "2021-06-22T06:15:45Z"}, "committer": {"name": "Xi Ruoyao", "email": "xry111@mengyan1223.wang", "date": "2021-07-09T06:32:04Z"}, "message": "testsuite: mips: use noinline attribute instead of -fno-inline\n\nmips.exp does not support -fno-inline, causing the tests return \"ERROR:\nUnrecognised option: -fno-inline for dg-options ... \".\n\nUse noinline attribute like other mips target tests, to workaround it.\n\ngcc/testsuite/\n\n\t* gcc.target/mips/cfgcleanup-jalr2.c: Remove -fno-inline and add\n\t  __attribute__((noinline)).\n\t* gcc.target/mips/cfgcleanup-jalr3.c: Likewise.", "tree": {"sha": "f37ef0d0f104ce802610fb6650ce82685bde4349", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f37ef0d0f104ce802610fb6650ce82685bde4349"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b33b1136d5ba1903a56fa601a848accc3db46ef", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEEunTLnZqV9wGnXaw2V5HFsy7NNwFAmDn7WQACgkQ2V5HFsy7\nNNwJrQ//SCgR7kS9nKcYbzUjrVMPXeAk+Ma0MSZ1BZ+rgW2HhPPKk/VRKuHJQX/O\n+04QQvO+0tmbjo1LCeX4QQpMzTMWfkXrCdv9QAMwVHRejsZ+176X9V0ci3YQ/wj1\ntWzDZ3R4HqtNu+DgQ0EXUiaKHrbm6Wzg1yL4CCfBfGB2+XPOwDkYh/eQawYf8xPa\norTduljPmnNPBMBkWA1357gxP8AV6+rR2DWCH+2gVLUMm5oIuFWN6SwvSYp3Jmgr\nlGJ1zBkgkmEAlie0kL/Y5HMNJIt2ZBMQMTEeGsJYKgPwrnqLl8IC2C+h8v9XT7Xn\nx9x9Ggl9jlGdsxSMc5Ep8lxHzGJZZ8oVKaPEbHJNip52zxR2FmmaYe1GLEEOjUzy\nUuiyF8hHU4u33wRQ2sPvfjRYpqwdxQUydrQx/FnXsRh+4V3ldir91s5selhVJ8Lu\n7FS7nWUzc6c7B1rFLxsygmHA1UGH1SlYO1ZnRObvpIeAR8HXYxvpRy1wKE/g8jMx\nRwAp/3Rwk38xpGkZi5Q1eLdH/qB/bS2dkkyAdqIFneBvZ82LowCBL/Yip9jbdFaz\nLhwey63SLwh0KGM4wkngs5yDR/vkBvfluMUrkBSwm+A0F8oTPCHX53gyrDuBuJS3\nmm+Id3LxjTKHL9J8sfbVxTC2XNHgkATXyS9GtPFgIXFoptzw9sk=\n=2YJx\n-----END PGP SIGNATURE-----", "payload": "tree f37ef0d0f104ce802610fb6650ce82685bde4349\nparent 82625a42e652d52fc6bbe6070f8d0589d5e0c8ad\nauthor Xi Ruoyao <xry111@mengyan1223.wang> 1624342545 +0800\ncommitter Xi Ruoyao <xry111@mengyan1223.wang> 1625812324 +0800\n\ntestsuite: mips: use noinline attribute instead of -fno-inline\n\nmips.exp does not support -fno-inline, causing the tests return \"ERROR:\nUnrecognised option: -fno-inline for dg-options ... \".\n\nUse noinline attribute like other mips target tests, to workaround it.\n\ngcc/testsuite/\n\n\t* gcc.target/mips/cfgcleanup-jalr2.c: Remove -fno-inline and add\n\t  __attribute__((noinline)).\n\t* gcc.target/mips/cfgcleanup-jalr3.c: Likewise.\n"}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b33b1136d5ba1903a56fa601a848accc3db46ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b33b1136d5ba1903a56fa601a848accc3db46ef", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b33b1136d5ba1903a56fa601a848accc3db46ef/comments", "author": {"login": "xry111", "id": 8733039, "node_id": "MDQ6VXNlcjg3MzMwMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8733039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xry111", "html_url": "https://github.com/xry111", "followers_url": "https://api.github.com/users/xry111/followers", "following_url": "https://api.github.com/users/xry111/following{/other_user}", "gists_url": "https://api.github.com/users/xry111/gists{/gist_id}", "starred_url": "https://api.github.com/users/xry111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xry111/subscriptions", "organizations_url": "https://api.github.com/users/xry111/orgs", "repos_url": "https://api.github.com/users/xry111/repos", "events_url": "https://api.github.com/users/xry111/events{/privacy}", "received_events_url": "https://api.github.com/users/xry111/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xry111", "id": 8733039, "node_id": "MDQ6VXNlcjg3MzMwMzk=", "avatar_url": "https://avatars.githubusercontent.com/u/8733039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xry111", "html_url": "https://github.com/xry111", "followers_url": "https://api.github.com/users/xry111/followers", "following_url": "https://api.github.com/users/xry111/following{/other_user}", "gists_url": "https://api.github.com/users/xry111/gists{/gist_id}", "starred_url": "https://api.github.com/users/xry111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xry111/subscriptions", "organizations_url": "https://api.github.com/users/xry111/orgs", "repos_url": "https://api.github.com/users/xry111/repos", "events_url": "https://api.github.com/users/xry111/events{/privacy}", "received_events_url": "https://api.github.com/users/xry111/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "82625a42e652d52fc6bbe6070f8d0589d5e0c8ad", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/82625a42e652d52fc6bbe6070f8d0589d5e0c8ad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/82625a42e652d52fc6bbe6070f8d0589d5e0c8ad"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "6a9f86a3be008841a40216e4e9ae743988b0e288", "filename": "gcc/testsuite/gcc.target/mips/cfgcleanup-jalr2.c", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b33b1136d5ba1903a56fa601a848accc3db46ef/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcfgcleanup-jalr2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b33b1136d5ba1903a56fa601a848accc3db46ef/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcfgcleanup-jalr2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcfgcleanup-jalr2.c?ref=3b33b1136d5ba1903a56fa601a848accc3db46ef", "patch": "@@ -1,10 +1,15 @@\n /* { dg-do compile } */\n-/* { dg-options \"-mabicalls -fpic -mno-mips16 -mno-micromips -fno-inline -fipa-ra -mcompact-branches=never\" } */\n+/* { dg-options \"-mabicalls -fpic -mno-mips16 -mno-micromips -fipa-ra -mcompact-branches=never\" } */\n /* { dg-skip-if \"needs codesize optimization\" { *-*-* } { \"-O0\" \"-O1\" \"-O2\" \"-O3\" } { \"\" } } */\n \n-static int foo (void* p) { __asm__ (\"\"::\"r\"(p):\"$t0\"); return 0; }\n+static int __attribute__((noinline))\n+foo (void* p)\n+{\n+  __asm__ (\"\"::\"r\"(p):\"$t0\");\n+  return 0;\n+}\n \n-static int bar (void* p) { return 1; }\n+__attribute__((noinline)) static int bar (void* p) { return 1; }\n \n int\n test (void* p)"}, {"sha": "509374128273ddee6e3ebf780da82e62b9bc6d53", "filename": "gcc/testsuite/gcc.target/mips/cfgcleanup-jalr3.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b33b1136d5ba1903a56fa601a848accc3db46ef/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcfgcleanup-jalr3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b33b1136d5ba1903a56fa601a848accc3db46ef/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcfgcleanup-jalr3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fmips%2Fcfgcleanup-jalr3.c?ref=3b33b1136d5ba1903a56fa601a848accc3db46ef", "patch": "@@ -1,10 +1,10 @@\n /* { dg-do compile } */\n-/* { dg-options \"-mabicalls -fpic -mno-mips16 -mno-micromips -fno-inline -fipa-ra -mcompact-branches=never\" } */\n+/* { dg-options \"-mabicalls -fpic -mno-mips16 -mno-micromips -fipa-ra -mcompact-branches=never\" } */\n /* { dg-skip-if \"needs codesize optimization\" { *-*-* } { \"-O0\" \"-O1\" \"-O2\" \"-O3\" } { \"\" } } */\n \n-static int foo (void* p) { return 0; }\n+__attribute__((noinline)) static int foo (void* p) { return 0; }\n \n-static int bar (void* p) { return 1; }\n+__attribute__((noinline)) static int bar (void* p) { return 1; }\n \n int\n test (void* p)"}]}