{"sha": "fe660a1a193183ef0f00965babc5f37293e4d076", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmU2NjBhMWExOTMxODNlZjBmMDA5NjViYWJjNWYzNzI5M2U0ZDA3Ng==", "commit": {"author": {"name": "John David Anglin", "email": "dave@hiauly1.hia.nrc.ca", "date": "2002-04-02T19:44:45Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2002-04-02T19:44:45Z"}, "message": "milli64.S ($$dyncall): New function.\n\n\t* milli64.S ($$dyncall): New function.\n\t* t-linux (LIB1ASMFUNCS): Revise module list.\n\t(LIB1ASMSRC): Use pa/milli64.S.\n\nFrom-SVN: r51760", "tree": {"sha": "7d1101292e8c919f6a605c7b919b6a61dd173638", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d1101292e8c919f6a605c7b919b6a61dd173638"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fe660a1a193183ef0f00965babc5f37293e4d076", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe660a1a193183ef0f00965babc5f37293e4d076", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fe660a1a193183ef0f00965babc5f37293e4d076", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fe660a1a193183ef0f00965babc5f37293e4d076/comments", "author": null, "committer": null, "parents": [{"sha": "eadc0202ff6468fb6927a160f7537503bfa73854", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eadc0202ff6468fb6927a160f7537503bfa73854", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eadc0202ff6468fb6927a160f7537503bfa73854"}], "stats": {"total": 48, "additions": 37, "deletions": 11}, "files": [{"sha": "4b9eaf25ff42fac45aa93c0157832931a6f52c85", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe660a1a193183ef0f00965babc5f37293e4d076/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe660a1a193183ef0f00965babc5f37293e4d076/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=fe660a1a193183ef0f00965babc5f37293e4d076", "patch": "@@ -1,3 +1,9 @@\n+2002-04-02  John David Anglin  <dave@hiauly1.hia.nrc.ca>\n+\n+\t* milli64.S ($$dyncall): New function.\n+\t* t-linux (LIB1ASMFUNCS): Revise module list.\n+\t(LIB1ASMSRC): Use pa/milli64.S.\n+\n 2002-04-02  Richard Henderson  <rth@redhat.com>\n \n \t* fixinc/inclhack.def (AAB_solaris_sys_varargs_h): Move and"}, {"sha": "2190a36e2c9a8a986398b297c2a01186b1b8dd30", "filename": "gcc/config/pa/milli64.S", "status": "modified", "additions": 27, "deletions": 3, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe660a1a193183ef0f00965babc5f37293e4d076/gcc%2Fconfig%2Fpa%2Fmilli64.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe660a1a193183ef0f00965babc5f37293e4d076/gcc%2Fconfig%2Fpa%2Fmilli64.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fmilli64.S?ref=fe660a1a193183ef0f00965babc5f37293e4d076", "patch": "@@ -1,8 +1,8 @@\n-/* 64-bit millicode, original author Hewlett-Packard\n+/* 32 and 64-bit millicode, original author Hewlett-Packard\n    adapted for gcc by Paul Bame <bame@debian.org>\n-   and Alan Modra <alan@linuxcare.com.au>\n+   and Alan Modra <alan@linuxcare.com.au>.\n \n-   Copyright 2001 Free Software Foundation, Inc.\n+   Copyright 2001, 2002 Free Software Foundation, Inc.\n \n    This file is part of GNU CC and is released under the terms of\n    of the GNU General Public License as published by the Free Software\n@@ -194,6 +194,30 @@ mrp_slot:\t.equ\t-20     /* \"current RP\" slot (replacing \"r31_slot\") */\n #define LREF(sym)\t CAT(L$,sym)\n #endif\n \n+#ifdef L_dyncall\n+\tSUBSPA_MILLI\n+\tATTR_DATA\n+GSYM($$dyncall)\n+\t.export $$dyncall,millicode\n+\t.proc\n+\t.callinfo\tmillicode\n+\t.entry\n+\tbb,>=,n %r22,30,LREF(1)\t\t; branch if not plabel address\n+\tdepi\t0,31,2,%r22\t\t; clear the two least significant bits\n+\tldw\t4(%r22),%r19\t\t; load new LTP value\n+\tldw\t0(%r22),%r22\t\t; load address of target\n+LSYM(1)\n+#ifdef LINUX\n+\tbv\t%r0(%r22)\t\t; branch to the real target\n+#else\n+\tldsid\t(%sr0,%r22),%r1\t\t; get the \"space ident\" selected by r22\n+\tmtsp\t%r1,%sr0\t\t; move that space identifier into sr0\n+\tbe\t0(%sr0,%r22)\t\t; branch to the real target\n+#endif\n+\tstw\t%r2,-24(%r30)\t\t; save return address into frame marker\n+\t.exit\n+\t.procend\n+#endif\n \n #ifdef L_divI\n /* ROUTINES:\t$$divI, $$divoI"}, {"sha": "51422987e7628a26a9730117192387bd9d2404c0", "filename": "gcc/config/pa/t-linux", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fe660a1a193183ef0f00965babc5f37293e4d076/gcc%2Fconfig%2Fpa%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fe660a1a193183ef0f00965babc5f37293e4d076/gcc%2Fconfig%2Fpa%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Ft-linux?ref=fe660a1a193183ef0f00965babc5f37293e4d076", "patch": "@@ -1,13 +1,9 @@\n #Plug millicode routines into libgcc.a  We want these on both native and\n-#cross compiles.\n+#cross compiles.  We use the \"64-bit\" routines because the \"32-bit\" code\n+#is broken for certain corner cases.\n \n-LIB1ASMFUNCS =  _divI _divU _remI _remU _multiply \\\n-\t_divI_15 _divI_14 _divI_12 _divI_10 _divI_9 \\\n-\t_divI_7 _divI_6 _divI_5 _divI_3 \\\n-\t_divU_15 _divU_14 _divU_12 _divU_10 _divU_9 \\\n-\t_divU_7 _divU_6 _divU_5 _divU_3 _dyncall\n-\n-LIB1ASMSRC = pa/milli32.S\n+LIB1ASMFUNCS = _divI _divU _remI _remU _div_const _mulI _dyncall\n+LIB1ASMSRC = pa/milli64.S\n \n # Compile crtbeginS.o and crtendS.o as PIC.\n CRTSTUFF_T_CFLAGS_S = -fPIC"}]}