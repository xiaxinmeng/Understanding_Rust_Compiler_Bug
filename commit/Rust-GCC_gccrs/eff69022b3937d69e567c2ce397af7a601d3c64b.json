{"sha": "eff69022b3937d69e567c2ce397af7a601d3c64b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZmNjkwMjJiMzkzN2Q2OWU1NjdjMmNlMzk3YWY3YTYwMWQzYzY0Yg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@adacore.com", "date": "2016-05-02T09:48:55Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2016-05-02T09:48:55Z"}, "message": "lib-xref-spark_specific.adb (Add_SPARK_Scope): add task type scope.\n\n2016-05-02  Arnaud Charlet  <charlet@adacore.com>\n\n\t* lib-xref-spark_specific.adb (Add_SPARK_Scope): add task type scope.\n\t(Detect_And_Add_SPARK_Scope): detect and add task type scope.\n\t(Enclosing_Subprogram_Or_Package): Respect boundaries of task\n\tand entry declarations.\n\t* spark_xrefs.ads: minor typo in comment.\n\nFrom-SVN: r235726", "tree": {"sha": "3474893145e478a497050044fb0627daafc3ce65", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3474893145e478a497050044fb0627daafc3ce65"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eff69022b3937d69e567c2ce397af7a601d3c64b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eff69022b3937d69e567c2ce397af7a601d3c64b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eff69022b3937d69e567c2ce397af7a601d3c64b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eff69022b3937d69e567c2ce397af7a601d3c64b/comments", "author": {"login": "ArnaudCharlet", "id": 30291825, "node_id": "MDQ6VXNlcjMwMjkxODI1", "avatar_url": "https://avatars.githubusercontent.com/u/30291825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArnaudCharlet", "html_url": "https://github.com/ArnaudCharlet", "followers_url": "https://api.github.com/users/ArnaudCharlet/followers", "following_url": "https://api.github.com/users/ArnaudCharlet/following{/other_user}", "gists_url": "https://api.github.com/users/ArnaudCharlet/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArnaudCharlet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArnaudCharlet/subscriptions", "organizations_url": "https://api.github.com/users/ArnaudCharlet/orgs", "repos_url": "https://api.github.com/users/ArnaudCharlet/repos", "events_url": "https://api.github.com/users/ArnaudCharlet/events{/privacy}", "received_events_url": "https://api.github.com/users/ArnaudCharlet/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "fb8d37efa6cb29cc7a2407b1d273d7a9cbf070e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fb8d37efa6cb29cc7a2407b1d273d7a9cbf070e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fb8d37efa6cb29cc7a2407b1d273d7a9cbf070e0"}], "stats": {"total": 26, "additions": 22, "deletions": 4}, "files": [{"sha": "10d30a44731d31f7b2fabe7d8f9d5110e7a30c5d", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eff69022b3937d69e567c2ce397af7a601d3c64b/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eff69022b3937d69e567c2ce397af7a601d3c64b/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=eff69022b3937d69e567c2ce397af7a601d3c64b", "patch": "@@ -1,3 +1,11 @@\n+2016-05-02  Arnaud Charlet  <charlet@adacore.com>\n+\n+\t* lib-xref-spark_specific.adb (Add_SPARK_Scope): add task type scope.\n+\t(Detect_And_Add_SPARK_Scope): detect and add task type scope.\n+\t(Enclosing_Subprogram_Or_Package): Respect boundaries of task\n+\tand entry declarations.\n+\t* spark_xrefs.ads: minor typo in comment.\n+\n 2016-05-02  Arnaud Charlet  <charlet@adacore.com>\n \n \t* make.adb: Minor: avoid an exception when calling gnatmake with"}, {"sha": "d0321dbfa0d3cdfe8ab9866c217ffec2e9453146", "filename": "gcc/ada/lib-xref-spark_specific.adb", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eff69022b3937d69e567c2ce397af7a601d3c64b/gcc%2Fada%2Flib-xref-spark_specific.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eff69022b3937d69e567c2ce397af7a601d3c64b/gcc%2Fada%2Flib-xref-spark_specific.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flib-xref-spark_specific.adb?ref=eff69022b3937d69e567c2ce397af7a601d3c64b", "patch": "@@ -265,6 +265,7 @@ package body SPARK_Specific is\n             | E_Generic_Package\n             | E_Generic_Procedure\n             | E_Package\n+            | E_Task_Type\n          =>\n             Typ := Xref_Entity_Letters (Ekind (E));\n \n@@ -382,7 +383,7 @@ package body SPARK_Specific is\n          Key        => Entity_Id,\n          Hash       => Entity_Hash,\n          Equal      => \"=\");\n-      --  Package used to build a correspondance between entities and scope\n+      --  Package used to build a correspondence between entities and scope\n       --  numbers used in SPARK cross references.\n \n       Nrefs : Nat := Xrefs.Last;\n@@ -1033,7 +1034,8 @@ package body SPARK_Specific is\n                       N_Subprogram_Declaration)\n            or else\n          Nkind_In (N, N_Task_Body,              --  tasks\n-                      N_Task_Body_Stub)\n+                      N_Task_Body_Stub,\n+                      N_Task_Type_Declaration)\n       then\n          Add_SPARK_Scope (N);\n       end if;\n@@ -1125,10 +1127,18 @@ package body SPARK_Specific is\n                Result := Defining_Identifier (Result);\n                exit;\n \n+            when N_Entry_Declaration =>\n+               Result := Defining_Identifier (Result);\n+               exit;\n+\n             when N_Task_Body =>\n                Result := Defining_Identifier (Result);\n                exit;\n \n+            when N_Task_Type_Declaration =>\n+               Result := Defining_Identifier (Result);\n+               exit;\n+\n             when others =>\n                Result := Parent (Result);\n          end case;"}, {"sha": "f3bf1a38f76e05212ecff78a1b49a019377d59be", "filename": "gcc/ada/spark_xrefs.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eff69022b3937d69e567c2ce397af7a601d3c64b/gcc%2Fada%2Fspark_xrefs.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eff69022b3937d69e567c2ce397af7a601d3c64b/gcc%2Fada%2Fspark_xrefs.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fspark_xrefs.ads?ref=eff69022b3937d69e567c2ce397af7a601d3c64b", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2011-2015, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2011-2016, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -133,7 +133,7 @@ package SPARK_Xrefs is\n \n    --    FX dependency-number filename . entity-number entity\n \n-   --      dependency-number and filename identity a file in FD lines\n+   --      dependency-number and filename identify a file in FD lines\n \n    --      entity-number and identity identify a scope entity in FS lines for\n    --      the file previously identified."}]}