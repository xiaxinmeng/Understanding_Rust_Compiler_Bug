{"sha": "b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjFlNjRlMGQ3ZjNmNjdkMmY4MDBkNjVmYWFhZjM2ZTA2OTc5YjRkMQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-14T02:08:37Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-03-14T02:08:37Z"}, "message": "(emit_call_1): Restore inhibit_defer_pop before popping args\nso that pops really do get deferred if appropriate.\n\nFrom-SVN: r3730", "tree": {"sha": "825789039c09957859f48a74903e8df890574896", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/825789039c09957859f48a74903e8df890574896"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1/comments", "author": null, "committer": null, "parents": [{"sha": "91a60f374f56e4dad751afb34904d66a4333e695", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91a60f374f56e4dad751afb34904d66a4333e695", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91a60f374f56e4dad751afb34904d66a4333e695"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "0b4e745c5130af1d64036b0774b9f08098e82c78", "filename": "gcc/calls.c", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=b1e64e0d7f3f67d2f800d65faaaf36e06979b4d1", "patch": "@@ -375,6 +375,10 @@ emit_call_1 (funexp, funtype, stack_size, struct_value_size, next_arg_reg,\n   if (is_const)\n     CONST_CALL_P (call_insn) = 1;\n \n+  /* Restore this now, so that we do defer pops for this call's args\n+     if the context of the call as a whole permits.  */\n+  inhibit_defer_pop = old_inhibit_defer_pop;\n+\n #ifndef ACCUMULATE_OUTGOING_ARGS\n   /* If returning from the subroutine does not automatically pop the args,\n      we need an instruction to pop them sooner or later.\n@@ -399,8 +403,6 @@ emit_call_1 (funexp, funtype, stack_size, struct_value_size, next_arg_reg,\n \tadjust_stack (stack_size_rtx);\n     }\n #endif\n-\n-  inhibit_defer_pop = old_inhibit_defer_pop;\n }\n \n /* Generate all the code for a function call"}]}