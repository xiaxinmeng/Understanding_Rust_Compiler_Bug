{"sha": "f299afab9b5479f9eaf8628dde4db4e5403aa9a6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjI5OWFmYWI5YjU0NzlmOWVhZjg2MjhkZGU0ZGI0ZTU0MDNhYTlhNg==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@bitrange.com", "date": "2000-10-06T11:37:31Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2000-10-06T11:37:31Z"}, "message": "dwarf2out.c (build_cfa_loc): Correct to use DW_OP_regx or DW_OP_bregx when cfa->reg > 31.\n\n\t* dwarf2out.c (build_cfa_loc): Correct to use DW_OP_regx or\n\tDW_OP_bregx when cfa->reg > 31.\n\n\t* frame-dwarf2.c (decode_stack_op) [case DW_OP_regx]: Add missing\n\tbreak.\n\nFrom-SVN: r36757", "tree": {"sha": "81588a1d31f893afc4e0c98e4e2b6cc124aa6a63", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81588a1d31f893afc4e0c98e4e2b6cc124aa6a63"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f299afab9b5479f9eaf8628dde4db4e5403aa9a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f299afab9b5479f9eaf8628dde4db4e5403aa9a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f299afab9b5479f9eaf8628dde4db4e5403aa9a6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f299afab9b5479f9eaf8628dde4db4e5403aa9a6/comments", "author": null, "committer": null, "parents": [{"sha": "903cef853fd04ab6ff24672cba7b096ccb69f2ce", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/903cef853fd04ab6ff24672cba7b096ccb69f2ce", "html_url": "https://github.com/Rust-GCC/gccrs/commit/903cef853fd04ab6ff24672cba7b096ccb69f2ce"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "f4abd1314d7b275809b8ed681d498b110aa7a169", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f299afab9b5479f9eaf8628dde4db4e5403aa9a6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f299afab9b5479f9eaf8628dde4db4e5403aa9a6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f299afab9b5479f9eaf8628dde4db4e5403aa9a6", "patch": "@@ -1,3 +1,11 @@\n+2000-10-06  Hans-Peter Nilsson  <hp@bitrange.com>\n+\n+\t* dwarf2out.c (build_cfa_loc): Correct to use DW_OP_regx or\n+\tDW_OP_bregx when cfa->reg > 31.\n+\n+\t* frame-dwarf2.c (decode_stack_op) [case DW_OP_regx]: Add missing\n+\tbreak.\n+\n 2000-10-05  Richard Henderson  <rth@cygnus.com>\n \n \t* c-decl.c (warn_missing_noreturn): Remove."}, {"sha": "a73b2cc11ecea83e84283fcaf9c9cf78bb6bae0c", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f299afab9b5479f9eaf8628dde4db4e5403aa9a6/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f299afab9b5479f9eaf8628dde4db4e5403aa9a6/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=f299afab9b5479f9eaf8628dde4db4e5403aa9a6", "patch": "@@ -2827,9 +2827,16 @@ build_cfa_loc (cfa)\n     abort ();\n \n   if (cfa->base_offset)\n-    head = new_loc_descr (DW_OP_breg0 + cfa->reg, cfa->base_offset, 0);\n-  else\n+    {\n+      if (cfa->reg <= 31)\n+\thead = new_loc_descr (DW_OP_breg0 + cfa->reg, cfa->base_offset, 0);\n+      else\n+\thead = new_loc_descr (DW_OP_bregx, cfa->reg, cfa->base_offset);\n+    }\n+  else if (cfa->reg <= 31)\n     head = new_loc_descr (DW_OP_reg0 + cfa->reg, 0, 0);\n+  else\n+    head = new_loc_descr (DW_OP_regx, cfa->reg, 0);\n   head->dw_loc_oprnd1.val_class = dw_val_class_const;\n   tmp = new_loc_descr (DW_OP_deref, 0, 0);\n   add_loc_descr (&head, tmp);"}, {"sha": "459af6d918a0b58ac96b0c9772019ee9801424a6", "filename": "gcc/frame-dwarf2.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f299afab9b5479f9eaf8628dde4db4e5403aa9a6/gcc%2Fframe-dwarf2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f299afab9b5479f9eaf8628dde4db4e5403aa9a6/gcc%2Fframe-dwarf2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fframe-dwarf2.c?ref=f299afab9b5479f9eaf8628dde4db4e5403aa9a6", "patch": "@@ -514,6 +514,7 @@ decode_stack_op (unsigned char *buf, struct frame_state *state)\n     case DW_OP_regx:\n       buf = decode_sleb128 (buf, &offset);\n       state->cfa_reg = offset;\n+      break;\n     case DW_OP_breg0:\n     case DW_OP_breg1:\n     case DW_OP_breg2:"}]}