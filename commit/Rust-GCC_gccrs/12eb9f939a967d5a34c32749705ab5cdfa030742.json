{"sha": "12eb9f939a967d5a34c32749705ab5cdfa030742", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTJlYjlmOTM5YTk2N2Q1YTM0YzMyNzQ5NzA1YWI1Y2RmYTAzMDc0Mg==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2001-11-22T00:21:13Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-11-22T00:21:13Z"}, "message": "re PR c++/3637 (Internal compiler error in finish_member_declaration)\n\n\tPR c++/3637\n\t* pt.c (lookup_template_class): Ensure that all specializations\n\tare registered on the list corresponding to the most general\n\ttemplate.\n\nFrom-SVN: r47252", "tree": {"sha": "20ebc5c2f5c91c1b998a25e57927cef63691ea1c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/20ebc5c2f5c91c1b998a25e57927cef63691ea1c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/12eb9f939a967d5a34c32749705ab5cdfa030742", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12eb9f939a967d5a34c32749705ab5cdfa030742", "html_url": "https://github.com/Rust-GCC/gccrs/commit/12eb9f939a967d5a34c32749705ab5cdfa030742", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/12eb9f939a967d5a34c32749705ab5cdfa030742/comments", "author": null, "committer": null, "parents": [{"sha": "3258e9961c0c10b625cf1bcaf7dec24a5c722f45", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3258e9961c0c10b625cf1bcaf7dec24a5c722f45", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3258e9961c0c10b625cf1bcaf7dec24a5c722f45"}], "stats": {"total": 51, "additions": 48, "deletions": 3}, "files": [{"sha": "9637ab5704e0acab58e0c7012c8eef47f08284db", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12eb9f939a967d5a34c32749705ab5cdfa030742/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12eb9f939a967d5a34c32749705ab5cdfa030742/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=12eb9f939a967d5a34c32749705ab5cdfa030742", "patch": "@@ -1,6 +1,12 @@\n-2001-11-20  Mark Mitchell  <mark@codesourcery.com>\n+2001-11-21  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/3637\n+\t* pt.c (lookup_template_class): Ensure that all specializations\n+\tare registered on the list corresponding to the most general\n+\ttemplate.\n+\n+2001-11-20  Mark Mitchell  <mark@codesourcery.com>\n+\n \t* call.c (non_reference): Add documentation.\n \t(convert_class_to_reference): Do not strip reference types \n \tfrom conversion operators."}, {"sha": "f80392ac8750d976bc85811f4cd79adc0d06741b", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12eb9f939a967d5a34c32749705ab5cdfa030742/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12eb9f939a967d5a34c32749705ab5cdfa030742/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=12eb9f939a967d5a34c32749705ab5cdfa030742", "patch": "@@ -4211,9 +4211,8 @@ lookup_template_class (d1, arglist, in_decl, context, entering_scope, complain)\n                  Create the partial instantiation.\n                */\n               TREE_VEC_LENGTH (arglist)--;\n-              template = tsubst (template, arglist, /*complain=*/0, NULL_TREE);\n+              found = tsubst (template, arglist, /*complain=*/0, NULL_TREE);\n               TREE_VEC_LENGTH (arglist)++;\n-              found = template;\n             }\n \t}\n "}, {"sha": "14db8ae28e3c5d54258dcff2af5016f0711d9b2e", "filename": "gcc/testsuite/g++.old-deja/g++.pt/memtemp100.C", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/12eb9f939a967d5a34c32749705ab5cdfa030742/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp100.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/12eb9f939a967d5a34c32749705ab5cdfa030742/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp100.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp100.C?ref=12eb9f939a967d5a34c32749705ab5cdfa030742", "patch": "@@ -0,0 +1,40 @@\n+// Build don't link:\n+// Origin: philippeb@videotron.ca\n+// Special g++ Options:\n+\n+#include <iostream>\n+\n+using namespace std;\n+\n+template <class _T> struct traits\n+{\n+  typedef long next;\n+};\n+\n+\n+template <class _T>\n+struct c1\n+{\n+  template <class _U>\n+  struct c2\n+  {\n+    c2()\n+    {\n+      cout << __PRETTY_FUNCTION__ << endl;\n+    }\n+  };\n+};\n+\n+\n+template <class _T>\n+void foo()\n+{\n+  cout << __PRETTY_FUNCTION__ << endl;\n+  c1<typename traits<_T>::next>::c2<void>();\n+}\n+\n+\n+int main()\n+{\n+  foo<int>();\n+}"}]}