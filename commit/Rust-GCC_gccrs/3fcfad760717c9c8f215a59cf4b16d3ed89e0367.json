{"sha": "3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2ZjZmFkNzYwNzE3YzljOGYyMTVhNTljZjRiMTZkM2VkODllMDM2Nw==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernd.schmidt@analog.com", "date": "2007-06-14T17:10:54Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2007-06-14T17:10:54Z"}, "message": "configure.ac: Don't add target-libmudflap to noconfigdirs for bfin*-*-uclinux* targets.\n\n\t* configure.ac: Don't add target-libmudflap to noconfigdirs for\n\tbfin*-*-uclinux* targets.\n\t* configure: Regenerate.\n\n\t* gcc/config/bfin/uclinux.h (MFWRAP_SPEC): New.\n\nFrom-SVN: r125717", "tree": {"sha": "573f78d11c1261b1e7e32a1b2699ee372db5863b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/573f78d11c1261b1e7e32a1b2699ee372db5863b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/comments", "author": null, "committer": null, "parents": [{"sha": "aa2480c5fb4fa679e109545b1a76cfd20bb0f624", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa2480c5fb4fa679e109545b1a76cfd20bb0f624", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa2480c5fb4fa679e109545b1a76cfd20bb0f624"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "2d201e3080a251c78ecbe183f22653ac81c49767", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "patch": "@@ -1,3 +1,9 @@\n+2007-06-14  Bernd Schmidt  <bernd.schmidt@analog.com>\n+\n+\t* configure.ac: Don't add target-libmudflap to noconfigdirs for\n+\tbfin*-*-uclinux* targets.\n+\t* configure: Regenerate.\n+\n 2007-06-14  Ian Lance Taylor  <iant@google.com>\n \n \t* MAINTAINERS: Add myself as non-algorithmic global write"}, {"sha": "759be37afed3cd25052ac68f30b7fda0dddad572", "filename": "configure", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "patch": "@@ -2075,7 +2075,7 @@ esac\n # Disable libmudflap on some systems.\n if test x$enable_libmudflap = x ; then\n     case \"${target}\" in\n-    *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu)\n+    *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | bfin*-*-uclinux*)\n         # Enable libmudflap by default in GNU and friends.\n \t;;\n     *-*-freebsd*)"}, {"sha": "c78a9b54bed0db3bb5fda954b5394df66e3cc74b", "filename": "configure.ac", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "patch": "@@ -364,7 +364,7 @@ esac\n # Disable libmudflap on some systems.\n if test x$enable_libmudflap = x ; then\n     case \"${target}\" in\n-    *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu)\n+    *-*-linux* | *-*-gnu* | *-*-k*bsd*-gnu | bfin*-*-uclinux*)\n         # Enable libmudflap by default in GNU and friends.\n \t;;\n     *-*-freebsd*)"}, {"sha": "7fa30b85eb0ab3f1d98485c1df3b9defb01ebf83", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "patch": "@@ -1,3 +1,7 @@\n+2007-06-14  Bernd Schmidt  <bernd.schmidt@analog.com>\n+\n+\t* config/bfin/uclinux.h (MFWRAP_SPEC): New.\n+\n 2007-06-14  Rask Ingemann Lambertsen  <rask@sygehus.dk>\n \n \tPR target/32341"}, {"sha": "8e5516b3f4876f484cdaf1ba870ce393d0712dea", "filename": "gcc/config/bfin/uclinux.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/gcc%2Fconfig%2Fbfin%2Fuclinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fcfad760717c9c8f215a59cf4b16d3ed89e0367/gcc%2Fconfig%2Fbfin%2Fuclinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fbfin%2Fuclinux.h?ref=3fcfad760717c9c8f215a59cf4b16d3ed89e0367", "patch": "@@ -43,3 +43,11 @@ asm (TEXT_SECTION_ASM_OP);\n \t  }\t\t\t\t\t\\\n     }\t\t\t\t\t\t\\\n   while (0)\n+\n+/* Like the definition in gcc.c, but for purposes of uClinux, every link is\n+   static.  */\n+#define MFWRAP_SPEC \" %{fmudflap|fmudflapth: \\\n+ --wrap=malloc --wrap=free --wrap=calloc --wrap=realloc\\\n+ --wrap=mmap --wrap=munmap --wrap=alloca\\\n+ %{fmudflapth: --wrap=pthread_create\\\n+}} %{fmudflap|fmudflapth: --wrap=main}\""}]}