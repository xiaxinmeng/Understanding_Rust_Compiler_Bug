{"sha": "b98d154e3eddc1812f391f11ca060eda6f17201d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjk4ZDE1NGUzZWRkYzE4MTJmMzkxZjExY2EwNjBlZGE2ZjE3MjAxZA==", "commit": {"author": {"name": "J. Brobecker", "email": "brobecker@gnat.com", "date": "2004-01-14T02:52:40Z"}, "committer": {"name": "Joel Brobecker", "email": "brobecke@gcc.gnu.org", "date": "2004-01-14T02:52:40Z"}, "message": "dwarf2out.c (is_ada_subrange_type): No longer check the TYPE_NAME.\n\n        * dwarf2out.c (is_ada_subrange_type): No longer check the TYPE_NAME.\n        (subrange_type_die): Add handle for nameless subrange types.\n\nFrom-SVN: r75838", "tree": {"sha": "8241c4c05ef37911c15644d5cbfe1503e13fc9ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8241c4c05ef37911c15644d5cbfe1503e13fc9ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b98d154e3eddc1812f391f11ca060eda6f17201d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b98d154e3eddc1812f391f11ca060eda6f17201d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b98d154e3eddc1812f391f11ca060eda6f17201d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b98d154e3eddc1812f391f11ca060eda6f17201d/comments", "author": null, "committer": null, "parents": [{"sha": "8dd8b815f4b1fc0524ac67f10fd7fb98981ad271", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8dd8b815f4b1fc0524ac67f10fd7fb98981ad271", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8dd8b815f4b1fc0524ac67f10fd7fb98981ad271"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "3b07544a85c13480704f058e14c74172b519c66b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b98d154e3eddc1812f391f11ca060eda6f17201d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b98d154e3eddc1812f391f11ca060eda6f17201d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b98d154e3eddc1812f391f11ca060eda6f17201d", "patch": "@@ -1,3 +1,8 @@\n+2004-01-14  J. Brobecker  <brobecker@gnat.com>\n+\n+\t* dwarf2out.c (is_ada_subrange_type): No longer check the TYPE_NAME.\n+\t(subrange_type_die): Add handle for nameless subrange types.\n+\n 2004-01-13  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/h8300/h8300-protos.h: Replace do_movsi with"}, {"sha": "5f75d296450c590bd3569020dac03d87657af236", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b98d154e3eddc1812f391f11ca060eda6f17201d/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b98d154e3eddc1812f391f11ca060eda6f17201d/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=b98d154e3eddc1812f391f11ca060eda6f17201d", "patch": "@@ -7820,7 +7820,6 @@ is_ada_subrange_type (tree type)\n \n   if (is_ada ()\n       && TREE_CODE (type) == INTEGER_TYPE\n-      && TYPE_NAME (type) != NULL_TREE\n       && subtype != NULL_TREE)\n     {\n       if (TREE_CODE (subtype) == INTEGER_TYPE && TREE_UNSIGNED (subtype))\n@@ -7849,11 +7848,15 @@ subrange_type_die (tree type, dw_die_ref context_die)\n   else\n     subtype_die = base_type_die (TREE_TYPE (type));\n \n-  if (TREE_CODE (name) == TYPE_DECL)\n-    name = DECL_NAME (name);\n-\n   subrange_die = new_die (DW_TAG_subrange_type, context_die, type);\n-  add_name_attribute (subrange_die, IDENTIFIER_POINTER (name));\n+\n+  if (name != NULL)\n+    {\n+      if (TREE_CODE (name) == TYPE_DECL)\n+        name = DECL_NAME (name);\n+      add_name_attribute (subrange_die, IDENTIFIER_POINTER (name));\n+    }\n+\n   if (TYPE_MIN_VALUE (type) != NULL)\n     add_bound_info (subrange_die, DW_AT_lower_bound,\n                     TYPE_MIN_VALUE (type));"}]}