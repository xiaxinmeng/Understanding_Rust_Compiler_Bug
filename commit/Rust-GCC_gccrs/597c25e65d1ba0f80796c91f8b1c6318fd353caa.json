{"sha": "597c25e65d1ba0f80796c91f8b1c6318fd353caa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTk3YzI1ZTY1ZDFiYTBmODA3OTZjOTFmOGIxYzYzMThmZDM1M2NhYQ==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "dan@codesourcery.com", "date": "2006-11-13T20:35:20Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2006-11-13T20:35:20Z"}, "message": "* tls.m4 (GCC_CHECK_TLS): Fall back to a link test.\n\nFrom-SVN: r118777", "tree": {"sha": "b2bf509da6cdeb68219bd470f074906b26fc5f87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2bf509da6cdeb68219bd470f074906b26fc5f87"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/597c25e65d1ba0f80796c91f8b1c6318fd353caa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/597c25e65d1ba0f80796c91f8b1c6318fd353caa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/597c25e65d1ba0f80796c91f8b1c6318fd353caa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/597c25e65d1ba0f80796c91f8b1c6318fd353caa/comments", "author": null, "committer": null, "parents": [{"sha": "d296e02ef82ad43e90316bb15c4b97b9b3158bb5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d296e02ef82ad43e90316bb15c4b97b9b3158bb5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d296e02ef82ad43e90316bb15c4b97b9b3158bb5"}], "stats": {"total": 100, "additions": 67, "deletions": 33}, "files": [{"sha": "fda6f95a2cd826bb64f452d613f233ad675a7db7", "filename": "config/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -1,3 +1,7 @@\n+2006-11-13  Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* tls.m4 (GCC_CHECK_TLS): Fall back to a link test.\n+\n 2006-10-14  Geoffrey Keating  <geoffk@apple.com>\n \n \t* multi.m4: New file, from automake version 2 branch."}, {"sha": "b66b6d758cecbf96dd259c7f4e923027ac1d7f70", "filename": "config/tls.m4", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/config%2Ftls.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/config%2Ftls.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Ftls.m4?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -13,7 +13,8 @@ AC_DEFUN([GCC_CHECK_TLS], [\n \t\t    [have_tls=yes], [have_tls=no], [])\n       LDFLAGS=\"$save_LDFLAGS\"],\n       [have_tls=no],\n-      [AC_COMPILE_IFELSE([__thread int foo;], [have_tls=yes], [have_tls=no])]\n+      [AC_LINK_IFELSE([__thread int a; int b; int main() { return a = b; }],\n+\t[have_tls=yes], [have_tls=no])]\n     )])\n   if test \"$enable_tls $have_tls\" = \"yes yes\"; then\n     AC_DEFINE(HAVE_TLS, 1,"}, {"sha": "56d43681be95330eb311f23c67992a9da320cf00", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -1,9 +1,12 @@\n+2006-11-13  Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* configure: Regenerated.\n+\n 2006-11-09  Uros Bizjak  <ubizjak@gmail.com>\n \n \t* env.c (parse_schedule): Reject out of range values.\n \t(parse_unsigned_long): Reject out of range, negative or zero values.\n \n-\n 2006-10-29  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR fortran/29629"}, {"sha": "c35e84d923020b50b6d42f9851438d14adfa3ac6", "filename": "libgomp/configure", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -8845,11 +8845,11 @@ else\n \n     if test \"$cross_compiling\" = yes; then\n   cat >conftest.$ac_ext <<_ACEOF\n-__thread int foo;\n+__thread int a; int b; int main() { return a = b; }\n _ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n   grep -v '^ *+' conftest.er1 >conftest.err\n   rm -f conftest.er1\n@@ -8863,7 +8863,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n+\t { ac_try='test -s conftest$ac_exeext'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8876,7 +8876,8 @@ sed 's/^/| /' conftest.$ac_ext >&5\n \n have_tls=no\n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n \n else\n   cat >conftest.$ac_ext <<_ACEOF"}, {"sha": "7ba71ca1e19f45de98c6d63ce33b94a1f753a83e", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -1,3 +1,7 @@\n+2006-11-13  Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* configure: Regenerated.\n+\n 2006-11-03  Gary Benson  <gbenson@redhat.com>\n \n \t* java/net/InetAddress.java: Removed."}, {"sha": "15f499122aafafa4c01cb937b94ef375a3888d74", "filename": "libjava/configure", "status": "modified", "additions": 18, "deletions": 12, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -7633,15 +7633,15 @@ ac_x_header_dirs='\n /usr/openwin/share/include'\n \n if test \"$ac_x_includes\" = no; then\n-  # Guess where to find include files, by looking for Xlib.h.\n+  # Guess where to find include files, by looking for Intrinsic.h.\n   # First, try using that file with no special directory specified.\n   cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Xlib.h>\n+#include <X11/Intrinsic.h>\n _ACEOF\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n@@ -7668,7 +7668,7 @@ else\n sed 's/^/| /' conftest.$ac_ext >&5\n \n   for ac_dir in $ac_x_header_dirs; do\n-  if test -r \"$ac_dir/X11/Xlib.h\"; then\n+  if test -r \"$ac_dir/X11/Intrinsic.h\"; then\n     ac_x_includes=$ac_dir\n     break\n   fi\n@@ -7694,11 +7694,11 @@ _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Xlib.h>\n+#include <X11/Intrinsic.h>\n int\n main ()\n {\n-XrmInitialize ()\n+XtMalloc (0)\n   ;\n   return 0;\n }\n@@ -16549,12 +16549,17 @@ if test \"${have_tls+set}\" = set; then\n else\n \n     if test \"$cross_compiling\" = yes; then\n-  cat >conftest.$ac_ext <<_ACEOF\n-__thread int foo;\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int main() { return a = b; }\n _ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n   grep -v '^ *+' conftest.er1 >conftest.err\n   rm -f conftest.er1\n@@ -16568,7 +16573,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n+\t { ac_try='test -s conftest$ac_exeext'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -16581,7 +16586,8 @@ sed 's/^/| /' conftest.$ac_ext >&5\n \n have_tls=no\n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n \n else\n   cat >conftest.$ac_ext <<_ACEOF"}, {"sha": "131979d1809a647489eebd35cc630bbdbe2d750f", "filename": "libmudflap/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libmudflap%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libmudflap%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2FChangeLog?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -1,3 +1,7 @@\n+2006-11-13  Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* configure: Regenerated.\n+\n 2006-11-10  Frank Ch. Eigler  <fche@redhat.com>\n \n \tPR libmudflap/28578"}, {"sha": "2e7f260b902dc555b744f87539b609bfdd51d6dc", "filename": "libmudflap/configure", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libmudflap%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libmudflap%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2Fconfigure?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -7134,11 +7134,11 @@ else\n \n     if test \"$cross_compiling\" = yes; then\n   cat >conftest.$ac_ext <<_ACEOF\n-__thread int foo;\n+__thread int a; int b; int main() { return a = b; }\n _ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n   grep -v '^ *+' conftest.er1 >conftest.err\n   rm -f conftest.er1\n@@ -7152,7 +7152,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n+\t { ac_try='test -s conftest$ac_exeext'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7165,7 +7165,8 @@ sed 's/^/| /' conftest.$ac_ext >&5\n \n have_tls=no\n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n \n else\n   cat >conftest.$ac_ext <<_ACEOF"}, {"sha": "12c49bbb74a343f74febd3b08d5b9f6ca56bdf88", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -1,3 +1,7 @@\n+2006-11-13  Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* configure: Regenerated.\n+\n 2006-11-13  Joseph Myers  <joseph@codesourcery.com>\n \n \t* libsupc++/eh_globals.cc (__cxxabiv1::__cxa_get_globals):"}, {"sha": "8454849501d816e7a7393dbf67a1199aa47f659b", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/597c25e65d1ba0f80796c91f8b1c6318fd353caa/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=597c25e65d1ba0f80796c91f8b1c6318fd353caa", "patch": "@@ -31271,12 +31271,17 @@ if test \"${have_tls+set}\" = set; then\n else\n \n     if test \"$cross_compiling\" = yes; then\n-  cat >conftest.$ac_ext <<_ACEOF\n-__thread int foo;\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int main() { return a = b; }\n _ACEOF\n-rm -f conftest.$ac_objext\n-if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n-  (eval $ac_compile) 2>conftest.er1\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n   grep -v '^ *+' conftest.er1 >conftest.err\n   rm -f conftest.er1\n@@ -31290,7 +31295,7 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   ac_status=$?\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); }; } &&\n-\t { ac_try='test -s conftest.$ac_objext'\n+\t { ac_try='test -s conftest$ac_exeext'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -31303,7 +31308,8 @@ sed 's/^/| /' conftest.$ac_ext >&5\n \n have_tls=no\n fi\n-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n \n else\n   cat >conftest.$ac_ext <<_ACEOF"}]}