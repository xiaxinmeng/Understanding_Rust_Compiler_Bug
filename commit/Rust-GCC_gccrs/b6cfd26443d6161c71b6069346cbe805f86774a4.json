{"sha": "b6cfd26443d6161c71b6069346cbe805f86774a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjZjZmQyNjQ0M2Q2MTYxYzcxYjYwNjkzNDZjYmU4MDVmODY3NzRhNA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-05-19T20:07:18Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-05-19T20:07:18Z"}, "message": "* ifcvt.c (find_if_case_2): Don't allow THEN to be EXIT.\n\nFrom-SVN: r34036", "tree": {"sha": "1279ef32590b83c555c5adb2aa805a92077c8cd9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1279ef32590b83c555c5adb2aa805a92077c8cd9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b6cfd26443d6161c71b6069346cbe805f86774a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6cfd26443d6161c71b6069346cbe805f86774a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b6cfd26443d6161c71b6069346cbe805f86774a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b6cfd26443d6161c71b6069346cbe805f86774a4/comments", "author": null, "committer": null, "parents": [{"sha": "228c4d97ec5e44fcb923349fd1a76da0e83821a7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/228c4d97ec5e44fcb923349fd1a76da0e83821a7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/228c4d97ec5e44fcb923349fd1a76da0e83821a7"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "5e4fc881432dbbc2ab02baa788d01f58122d2221", "filename": "gcc/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6cfd26443d6161c71b6069346cbe805f86774a4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6cfd26443d6161c71b6069346cbe805f86774a4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=b6cfd26443d6161c71b6069346cbe805f86774a4", "patch": "@@ -1,5 +1,7 @@\n 2000-05-19  Richard Henderson  <rth@cygnus.com>\n \n+\t* ifcvt.c (find_if_case_2): Don't allow THEN to be EXIT.\n+\n \t* flow.c (make_edges): The sibling call edge to exit is abnormal.\n \n 2000-05-19  Richard Henderson  <rth@cygnus.com>"}, {"sha": "371e5609353a7d04c411c5087a483f99af17c292", "filename": "gcc/ifcvt.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b6cfd26443d6161c71b6069346cbe805f86774a4/gcc%2Fifcvt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b6cfd26443d6161c71b6069346cbe805f86774a4/gcc%2Fifcvt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fifcvt.c?ref=b6cfd26443d6161c71b6069346cbe805f86774a4", "patch": "@@ -1652,14 +1652,17 @@ find_if_case_2 (test_bb, then_edge, else_edge)\n   if (else_bb->pred->pred_next != NULL)\n     return FALSE;\n \n+  /* THEN is not EXIT.  */\n+  if (then_bb->index < 0)\n+    return FALSE;\n+\n   /* ELSE is predicted or SUCC(ELSE) postdominates THEN.  */\n   note = find_reg_note (test_bb->end, REG_BR_PROB, NULL_RTX);\n   if (note && INTVAL (XEXP (note, 0)) >= REG_BR_PROB_BASE / 2)\n     ;\n   else if (else_succ->dest->index < 0\n-\t   || (then_bb->index >= 0\n-\t       && TEST_BIT (post_dominators[ORIG_INDEX (then_bb)], \n-\t\t\t    ORIG_INDEX (else_succ->dest))))\n+\t   || TEST_BIT (post_dominators[ORIG_INDEX (then_bb)], \n+\t\t\tORIG_INDEX (else_succ->dest)))\n     ;\n   else\n     return FALSE;"}]}