{"sha": "4eae5fe18f93432fde3d744d5ddeda6d85efdedd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGVhZTVmZTE4ZjkzNDMyZmRlM2Q3NDRkNWRkZWRhNmQ4NWVmZGVkZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-05T00:02:52Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-11-05T00:02:52Z"}, "message": "(movdf): Don't have reload choose alternative of loading a constant\ninto a GPR.\n\nFrom-SVN: r6001", "tree": {"sha": "4ada9a2e25fd784807c135a484032d52dae013b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4ada9a2e25fd784807c135a484032d52dae013b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4eae5fe18f93432fde3d744d5ddeda6d85efdedd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4eae5fe18f93432fde3d744d5ddeda6d85efdedd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4eae5fe18f93432fde3d744d5ddeda6d85efdedd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4eae5fe18f93432fde3d744d5ddeda6d85efdedd/comments", "author": null, "committer": null, "parents": [{"sha": "3a322c50e1f6cd93718cf2281b24d2b77c48735a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3a322c50e1f6cd93718cf2281b24d2b77c48735a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3a322c50e1f6cd93718cf2281b24d2b77c48735a"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "4592cba403e983479e5b3d0854e9a3d071958220", "filename": "gcc/config/rs6000/rs6000.md", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4eae5fe18f93432fde3d744d5ddeda6d85efdedd/gcc%2Fconfig%2Frs6000%2Frs6000.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4eae5fe18f93432fde3d744d5ddeda6d85efdedd/gcc%2Fconfig%2Frs6000%2Frs6000.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.md?ref=4eae5fe18f93432fde3d744d5ddeda6d85efdedd", "patch": "@@ -3059,8 +3059,14 @@\n   operands[4] = operand_subword (operands[0], 1, 0, DFmode);\n   operands[5] = operand_subword (operands[1], 1, 0, DFmode); }\")\n \n-(define_insn \"\"\n-  [(set (match_operand:DF 0 \"nonimmediate_operand\" \"=!r,r,o,r,f,f,m\")\n+;; Don't have reload use general registers to load a constant.  First,\n+;; it might not work if the output operand has is the equivalent of\n+;; a non-offsettable memref, but also it is less efficient than loading\n+;; the constant into an FP register, since it will probably be used there.\n+;; The \"??\" is a kludge until we can figure out a more reasonable way\n+;; of handling these non-offsettable values.\n+(define_insn \"\"\n+  [(set (match_operand:DF 0 \"nonimmediate_operand\" \"=!r,??r,o,!r,f,f,m\")\n \t(match_operand:DF 1 \"input_operand\" \"r,o,r,G,f,m,f\"))]\n   \"register_operand (operands[0], DFmode)\n    || register_operand (operands[1], DFmode)\""}]}