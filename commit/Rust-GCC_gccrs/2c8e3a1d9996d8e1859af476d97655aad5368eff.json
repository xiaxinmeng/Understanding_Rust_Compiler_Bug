{"sha": "2c8e3a1d9996d8e1859af476d97655aad5368eff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmM4ZTNhMWQ5OTk2ZDhlMTg1OWFmNDc2ZDk3NjU1YWFkNTM2OGVmZg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2016-10-02T19:32:45Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2016-10-02T19:32:45Z"}, "message": "asm3.C (two): Only use register keyword for C++14 and earlier.\n\n\t* g++.dg/ext/asm3.C (two): Only use register keyword for C++14 and\n\tearlier.\n\t* g++.dg/charset/asm2.c (memmove): Likewise.\n\t* g++.dg/tls/diag-2.C (foo): Expect -Wregister error for C++17.\n\t* g++.dg/tls/diag-4.C (foo): Likewise.\n\t* c-c++-common/vector-subscript-2.c (vf): Change dg-error to\n\tdg-warning, fix up regex.\n\t* g++.old-deja/g++.brendan/warnings4.C: Limit to c++14_down targets.\n\t* g++.old-deja/g++.mike/p700.C: Add -Wno-register.\n\t* g++.old-deja/g++.mike/net31.C: Likewise.\n\t* g++.old-deja/g++.other/regstack.C (foo): Expect -Wregister warning\n\tfor C++17.\n\t* g++.old-deja/g++.jason/enum3.C: Add -Wno-register.\n\t* g++.old-deja/g++.eh/ia64-1.C: Likewise.\n\nFrom-SVN: r240702", "tree": {"sha": "e1aa18376697bc9c95a64ba6bc76534d99edf764", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1aa18376697bc9c95a64ba6bc76534d99edf764"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2c8e3a1d9996d8e1859af476d97655aad5368eff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c8e3a1d9996d8e1859af476d97655aad5368eff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2c8e3a1d9996d8e1859af476d97655aad5368eff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2c8e3a1d9996d8e1859af476d97655aad5368eff/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "333b2f3146be914cdf791e542bef5584671a839c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/333b2f3146be914cdf791e542bef5584671a839c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/333b2f3146be914cdf791e542bef5584671a839c"}], "stats": {"total": 46, "additions": 35, "deletions": 11}, "files": [{"sha": "54de56f8f3c9c40c3bc0891c01772cedbd804a7a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -1,3 +1,20 @@\n+2016-10-02  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* g++.dg/ext/asm3.C (two): Only use register keyword for C++14 and\n+\tearlier.\n+\t* g++.dg/charset/asm2.c (memmove): Likewise.\n+\t* g++.dg/tls/diag-2.C (foo): Expect -Wregister error for C++17.\n+\t* g++.dg/tls/diag-4.C (foo): Likewise.\n+\t* c-c++-common/vector-subscript-2.c (vf): Change dg-error to\n+\tdg-warning, fix up regex.\n+\t* g++.old-deja/g++.brendan/warnings4.C: Limit to c++14_down targets.\n+\t* g++.old-deja/g++.mike/p700.C: Add -Wno-register.\n+\t* g++.old-deja/g++.mike/net31.C: Likewise.\n+\t* g++.old-deja/g++.other/regstack.C (foo): Expect -Wregister warning\n+\tfor C++17.\n+\t* g++.old-deja/g++.jason/enum3.C: Add -Wno-register.\n+\t* g++.old-deja/g++.eh/ia64-1.C: Likewise.\n+\n 2016-10-01  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/77798"}, {"sha": "bfe01fc2740725d7bdd3f4f9379aadef4e774f2f", "filename": "gcc/testsuite/c-c++-common/vector-subscript-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fvector-subscript-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fvector-subscript-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fvector-subscript-2.c?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -7,6 +7,6 @@\n \n float vf(int i)\n {\n-  register vector float a;\t// { dg-error \"ISO C++1z does not allow 'register' storage class specifier\" \"\" { target c++1z } }\n+  register vector float a;\t// { dg-warning \"ISO C\\\\+\\\\+1z does not allow 'register' storage class specifier\" \"\" { target c++1z } }\n   return a[0];\n }"}, {"sha": "3907d32fe86d21a36198ddf84fc019750e54f19d", "filename": "gcc/testsuite/g++.dg/charset/asm2.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcharset%2Fasm2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcharset%2Fasm2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcharset%2Fasm2.c?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -10,7 +10,10 @@\n void *\n memmove (void *__dest, __const void *__src, size_t __n)\n {\n-  register unsigned long int __d0, __d1, __d2;\n+#if __cplusplus <= 201402L\n+  register\n+#endif\n+  unsigned long int __d0, __d1, __d2;\n   if (__dest < __src)\n     __asm__ __volatile__\n       (\"cld\\n\\t\""}, {"sha": "0a0f837f0a76c8a8c94b6400f13a0535b046445e", "filename": "gcc/testsuite/g++.dg/ext/asm3.C", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fasm3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fasm3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fasm3.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -7,9 +7,12 @@\n \n int two(int in)\n {\n-  register int out;\n+#if __cplusplus <= 201402L\n+  register\n+#endif\n+  int out;\n   __asm__ (\"\" : \"r\" (out) : \"r\" (in));\n   return out;\n }\n \n-// { dg-message \"error:\" \"\" { target *-*-* } 11 }\n+// { dg-message \"error:\" \"\" { target *-*-* } 14 }"}, {"sha": "cc46245c1a38e279573a0c3b0f5aac394f1f9b7e", "filename": "gcc/testsuite/g++.dg/tls/diag-2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fdiag-2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fdiag-2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fdiag-2.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -12,7 +12,7 @@ void foo()\n   auto __thread int l2;\t\t/* { dg-error \"multiple storage classes|data types\" } */\n   __thread extern int l3;\t/* { dg-error \"'__thread' before 'extern'\" } */\n   register __thread int l4;\t/* { dg-error \"multiple storage classes\" } */\n-}\n+}\t\t\t\t/* { dg-error \"ISO C\\\\+\\\\+1z does not allow 'register' storage class specifier\" \"\" { target c++1z } .-1 } */\n \n __thread void f1 ();\t\t/* { dg-error \"invalid for function\" } */\n extern __thread void f2 ();\t/* { dg-error \"invalid for function\" } */"}, {"sha": "35440b9114f0457fe957e619fa5d77418d8eb0fe", "filename": "gcc/testsuite/g++.dg/tls/diag-4.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fdiag-4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fdiag-4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftls%2Fdiag-4.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -7,4 +7,4 @@ void foo()\n {\n   __thread auto int l2;\t\t/* { dg-error \"multiple storage classes|data types\" } */\n   __thread register int l4;\t/* { dg-error \"multiple storage classes\" } */\n-}\n+}\t\t\t\t/* { dg-error \"ISO C\\\\+\\\\+1z does not allow 'register' storage class specifier\" \"\" { target c++1z } .-1 } */"}, {"sha": "a0f7dde7a62669f557400f937808b20a3a819a97", "filename": "gcc/testsuite/g++.old-deja/g++.brendan/warnings4.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.brendan%2Fwarnings4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.brendan%2Fwarnings4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.brendan%2Fwarnings4.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -1,4 +1,4 @@\n-// { dg-do assemble  }\n+// { dg-do assemble { target c++14_down } }\n // GROUPS passed warnings\n int\n main ()"}, {"sha": "7767d342e0a97357f13705765a931856ce822210", "filename": "gcc/testsuite/g++.old-deja/g++.eh/ia64-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Fia64-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Fia64-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.eh%2Fia64-1.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -1,5 +1,5 @@\n // { dg-do run  }\n-// { dg-options \"-O2\" }\n+// { dg-options \"-O2 -Wno-register\" }\n \n #include <exception>\n "}, {"sha": "5c65413aea3a2d98ab5f9b5035c45249835f4183", "filename": "gcc/testsuite/g++.old-deja/g++.jason/enum3.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fenum3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fenum3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.jason%2Fenum3.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -1,5 +1,5 @@\n // { dg-do assemble  }\n-// { dg-options \"-Wall\" }\n+// { dg-options \"-Wall -Wno-register\" }\n \n enum tristate { no = -1, maybe, yes };\n "}, {"sha": "da54155f88a02f01ba9a3a0f59bf7d7160f7d59b", "filename": "gcc/testsuite/g++.old-deja/g++.mike/net31.C", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fnet31.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fnet31.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fnet31.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -1,4 +1,5 @@\n // { dg-do assemble  }\n+// { dg-additional-options \"-Wno-register\" }\n \n class foo_a {\n   protected:"}, {"sha": "531962197df77997ccb440af4e2e5af6c82c9f40", "filename": "gcc/testsuite/g++.old-deja/g++.mike/p700.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp700.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp700.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fp700.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -1,5 +1,5 @@\n // { dg-do assemble  }\n-// { dg-options \"-Wno-deprecated\" }\n+// { dg-options \"-Wno-deprecated -Wno-register\" }\n // { dg-error \"limited range of data type\" \"16-bit target\" { target xstormy16-*-* } 0 }\n // prms-id: 700\n "}, {"sha": "90875cfcf5f4fc67d6430ae09280653f98cc2653", "filename": "gcc/testsuite/g++.old-deja/g++.other/regstack.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fregstack.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2c8e3a1d9996d8e1859af476d97655aad5368eff/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fregstack.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fregstack.C?ref=2c8e3a1d9996d8e1859af476d97655aad5368eff", "patch": "@@ -3,7 +3,7 @@\n \n inline double foo (double x)\n {\n-  register double r;\n+  register double r;\t// { dg-warning \"ISO C\\\\+\\\\+1z does not allow 'register' storage class specifier\" \"\" { target c++1z } }\n   asm volatile (\"fsqrt\" : \"=t\" (r) : \"0\" (x));\n   return r;\n }"}]}