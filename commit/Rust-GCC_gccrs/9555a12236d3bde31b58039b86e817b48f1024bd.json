{"sha": "9555a12236d3bde31b58039b86e817b48f1024bd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTU1NWExMjIzNmQzYmRlMzFiNTgwMzliODZlODE3YjQ4ZjEwMjRiZA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-04-04T00:48:51Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-04-04T00:48:51Z"}, "message": "rtl.h (LCT_THROW): New.\n\n        * rtl.h (LCT_THROW): New.\n        * calls.c (emit_library_call_value_1): Handle it.\n        * except.c (connect_post_landing_pads): Use it.\n\nFrom-SVN: r41070", "tree": {"sha": "a27e63fae9c2f86fa257d09e1bbbabb90556730c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a27e63fae9c2f86fa257d09e1bbbabb90556730c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9555a12236d3bde31b58039b86e817b48f1024bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9555a12236d3bde31b58039b86e817b48f1024bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9555a12236d3bde31b58039b86e817b48f1024bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9555a12236d3bde31b58039b86e817b48f1024bd/comments", "author": null, "committer": null, "parents": [{"sha": "d02af173409f89ccce70f4f5f381fb7dad5315f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d02af173409f89ccce70f4f5f381fb7dad5315f8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d02af173409f89ccce70f4f5f381fb7dad5315f8"}], "stats": {"total": 39, "additions": 30, "deletions": 9}, "files": [{"sha": "a5a4673a78aec277425157ae6b187200410b6a2d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9555a12236d3bde31b58039b86e817b48f1024bd", "patch": "@@ -1,3 +1,9 @@\n+2001-04-03  Richard Henderson  <rth@redhat.com>\n+\n+\t* rtl.h (LCT_THROW): New.\n+\t* calls.c (emit_library_call_value_1): Handle it.\n+\t* except.c (connect_post_landing_pads): Use it.\n+\n 2001-04-03  Zack Weinberg  <zackw@stanford.edu>\n \n \t* gansidecl.h: Delete file."}, {"sha": "eb54aee2d8ae83dcba3ea3ae18b8effa23201edc", "filename": "gcc/calls.c", "status": "modified", "additions": 21, "deletions": 7, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=9555a12236d3bde31b58039b86e817b48f1024bd", "patch": "@@ -3521,15 +3521,29 @@ emit_library_call_value_1 (retval, orgfun, value, fn_type, outmode, nargs, p)\n #endif\n #endif\n \n-  /* No library functions can throw.  */\n+  /* By default, library functions can not throw.  */\n   flags = ECF_NOTHROW;\n \n-  if (fn_type == LCT_CONST_MAKE_BLOCK)\n-    flags |= ECF_CONST;\n-  else if (fn_type == LCT_PURE_MAKE_BLOCK)\n-    flags |= ECF_PURE;\n-  else if (fn_type == LCT_NORETURN)\n-    flags |= ECF_NORETURN;\n+  switch (fn_type)\n+    {\n+    case LCT_NORMAL:\n+    case LCT_CONST:\n+    case LCT_PURE:\n+      /* Nothing to do here.  */\n+      break;\n+    case LCT_CONST_MAKE_BLOCK:\n+      flags |= ECF_CONST;\n+      break;\n+    case LCT_PURE_MAKE_BLOCK:\n+      flags |= ECF_PURE;\n+      break;\n+    case LCT_NORETURN:\n+      flags |= ECF_NORETURN;\n+      break;\n+    case LCT_THROW:\n+      flags = ECF_NORETURN;\n+      break;\n+    }\n   fun = orgfun;\n \n #ifdef PREFERRED_STACK_BOUNDARY"}, {"sha": "5404f4989e797dd8015bcd2d318f12bf73fbb55a", "filename": "gcc/except.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2Fexcept.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2Fexcept.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexcept.c?ref=9555a12236d3bde31b58039b86e817b48f1024bd", "patch": "@@ -1818,7 +1818,7 @@ connect_post_landing_pads ()\n       if (outer)\n \temit_jump (outer->post_landing_pad);\n       else\n-\temit_library_call (unwind_resume_libfunc, LCT_NORETURN,\n+\temit_library_call (unwind_resume_libfunc, LCT_THROW,\n \t\t\t   VOIDmode, 1, cfun->eh->exc_ptr, Pmode);\n \n       seq = get_insns ();"}, {"sha": "667a304aec3b0e9ef6aa9c6f0bf8c74fed8e4824", "filename": "gcc/rtl.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2Frtl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9555a12236d3bde31b58039b86e817b48f1024bd/gcc%2Frtl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtl.h?ref=9555a12236d3bde31b58039b86e817b48f1024bd", "patch": "@@ -1982,7 +1982,8 @@ enum libcall_type\n   LCT_PURE = 2,\n   LCT_CONST_MAKE_BLOCK = 3,\n   LCT_PURE_MAKE_BLOCK = 4,\n-  LCT_NORETURN = 5\n+  LCT_NORETURN = 5,\n+  LCT_THROW = 6\n };\n \n extern void emit_library_call\t\tPARAMS ((rtx, enum libcall_type,"}]}