{"sha": "10b6063358b80caf65dbab1ac0dd3844a3b9a8ac", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTBiNjA2MzM1OGI4MGNhZjY1ZGJhYjFhYzBkZDM4NDRhM2I5YThhYw==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonber@gnat.com", "date": "2004-10-27T13:40:29Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2004-10-27T13:40:29Z"}, "message": "sem_ch10.adb (Optional_Subunit): If file of expected subunit is empty, post message on stub.\n\n2004-10-26  Ed Schonberg  <schonberg@gnat.com>\n\n\t* sem_ch10.adb (Optional_Subunit): If file of expected subunit is\n\tempty, post message on stub.\n\nFrom-SVN: r89666", "tree": {"sha": "06af85cbbbfcc3a377c8cdc65041fa8bcde84047", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/06af85cbbbfcc3a377c8cdc65041fa8bcde84047"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10b6063358b80caf65dbab1ac0dd3844a3b9a8ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10b6063358b80caf65dbab1ac0dd3844a3b9a8ac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10b6063358b80caf65dbab1ac0dd3844a3b9a8ac", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10b6063358b80caf65dbab1ac0dd3844a3b9a8ac/comments", "author": null, "committer": null, "parents": [{"sha": "f529bac5efe50881b6660d0b1cab46cea63ebe7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f529bac5efe50881b6660d0b1cab46cea63ebe7b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f529bac5efe50881b6660d0b1cab46cea63ebe7b"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "b790a936fa88bd09691950a43a40c02d9608c5ef", "filename": "gcc/ada/sem_ch10.adb", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10b6063358b80caf65dbab1ac0dd3844a3b9a8ac/gcc%2Fada%2Fsem_ch10.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10b6063358b80caf65dbab1ac0dd3844a3b9a8ac/gcc%2Fada%2Fsem_ch10.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch10.adb?ref=10b6063358b80caf65dbab1ac0dd3844a3b9a8ac", "patch": "@@ -980,7 +980,14 @@ package body Sem_Ch10 is\n          then\n             Comp_Unit := Cunit (Unum);\n \n-            if Nkind (Unit (Comp_Unit)) /= N_Subunit then\n+            --  If the file was empty or seriously mangled, the unit\n+            --  itself may be missing.\n+\n+            if No (Unit (Comp_Unit)) then\n+               Error_Msg_N\n+                 (\"subunit does not contain expected proper body\", N);\n+\n+            elsif Nkind (Unit (Comp_Unit)) /= N_Subunit then\n                Error_Msg_N\n                  (\"expected SEPARATE subunit, found child unit\",\n                   Cunit_Entity (Unum));"}]}