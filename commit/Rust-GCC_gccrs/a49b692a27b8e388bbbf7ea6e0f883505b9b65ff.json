{"sha": "a49b692a27b8e388bbbf7ea6e0f883505b9b65ff", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTQ5YjY5MmEyN2I4ZTM4OGJiYmY3ZWE2ZTBmODgzNTA1YjliNjVmZg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2011-01-12T17:59:31Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2011-01-12T17:59:31Z"}, "message": "mn10300: Auto-clobber the flags in asms.\n\nFrom-SVN: r168725", "tree": {"sha": "34dabd1bccf43a95f0d916368f0a8bb0f1f7ac54", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/34dabd1bccf43a95f0d916368f0a8bb0f1f7ac54"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff/comments", "author": null, "committer": null, "parents": [{"sha": "126b1483704fa2a2c1db26878467130b149e3fb8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/126b1483704fa2a2c1db26878467130b149e3fb8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/126b1483704fa2a2c1db26878467130b149e3fb8"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "c6ec1d5323f2177f97c347d796c1decc029ac431", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a49b692a27b8e388bbbf7ea6e0f883505b9b65ff", "patch": "@@ -1,5 +1,8 @@\n 2011-01-12  Richard Henderson  <rth@redhat.com>\n \n+\t* config/mn10300/mn10300.c (mn10300_md_asm_clobbers): New.\n+\t(TARGET_MD_ASM_CLOBBERS): New.\n+\n \t* config/mn10300/mn10300.c (mn10300_delegitimize_address): New.\n \t(TARGET_DELEGITIMIZE_ADDRESS): New.\n "}, {"sha": "f9be6ea6c5857171dba242818d8e3487daf2d04b", "filename": "gcc/config/mn10300/mn10300.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff/gcc%2Fconfig%2Fmn10300%2Fmn10300.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a49b692a27b8e388bbbf7ea6e0f883505b9b65ff/gcc%2Fconfig%2Fmn10300%2Fmn10300.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmn10300%2Fmn10300.c?ref=a49b692a27b8e388bbbf7ea6e0f883505b9b65ff", "patch": "@@ -2716,6 +2716,20 @@ mn10300_conditional_register_usage (void)\n     fixed_regs[PIC_OFFSET_TABLE_REGNUM] =\n     call_used_regs[PIC_OFFSET_TABLE_REGNUM] = 1;\n }\n+\n+/* Worker function for TARGET_MD_ASM_CLOBBERS.\n+   We do this in the mn10300 backend to maintain source compatibility\n+   with the old cc0-based compiler.  */\n+\n+static tree\n+mn10300_md_asm_clobbers (tree outputs ATTRIBUTE_UNUSED,\n+                         tree inputs ATTRIBUTE_UNUSED,\n+                         tree clobbers)\n+{\n+  clobbers = tree_cons (NULL_TREE, build_string (5, \"EPSW\"),\n+                        clobbers);\n+  return clobbers;\n+}\n \f\n /* Initialize the GCC target structure.  */\n \n@@ -2809,4 +2823,7 @@ mn10300_conditional_register_usage (void)\n #undef  TARGET_CONDITIONAL_REGISTER_USAGE\n #define TARGET_CONDITIONAL_REGISTER_USAGE mn10300_conditional_register_usage\n \n+#undef TARGET_MD_ASM_CLOBBERS\n+#define TARGET_MD_ASM_CLOBBERS  mn10300_md_asm_clobbers\n+\n struct gcc_target targetm = TARGET_INITIALIZER;"}]}