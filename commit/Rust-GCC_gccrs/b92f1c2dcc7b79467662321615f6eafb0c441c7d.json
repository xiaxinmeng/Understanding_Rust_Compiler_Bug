{"sha": "b92f1c2dcc7b79467662321615f6eafb0c441c7d", "node_id": "C_kwDOANBUbNoAKGI5MmYxYzJkY2M3Yjc5NDY3NjYyMzIxNjE1ZjZlYWZiMGM0NDFjN2Q", "commit": {"author": {"name": "Max Filippov", "email": "jcmvbkbc@gmail.com", "date": "2022-12-23T20:17:09Z"}, "committer": {"name": "Max Filippov", "email": "jcmvbkbc@gmail.com", "date": "2022-12-27T15:38:39Z"}, "message": "gcc: xtensa: use define_c_enums instead of define_constants\n\nThis improves RTL dumps readability. No functional changes.\n\ngcc/\n\t* config/xtensa/xtensa.md (unspec): Extract UNSPEC_* constants\n\tinto this enum.\n\t(unspecv): Extract UNSPECV_* constants into this enum.", "tree": {"sha": "ece0eb4b6023753411ed9f4edb824290c546a4d2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ece0eb4b6023753411ed9f4edb824290c546a4d2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b92f1c2dcc7b79467662321615f6eafb0c441c7d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b92f1c2dcc7b79467662321615f6eafb0c441c7d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b92f1c2dcc7b79467662321615f6eafb0c441c7d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b92f1c2dcc7b79467662321615f6eafb0c441c7d/comments", "author": {"login": "jcmvbkbc", "id": 166731, "node_id": "MDQ6VXNlcjE2NjczMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcmvbkbc", "html_url": "https://github.com/jcmvbkbc", "followers_url": "https://api.github.com/users/jcmvbkbc/followers", "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}", "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions", "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs", "repos_url": "https://api.github.com/users/jcmvbkbc/repos", "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}", "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jcmvbkbc", "id": 166731, "node_id": "MDQ6VXNlcjE2NjczMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/166731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcmvbkbc", "html_url": "https://github.com/jcmvbkbc", "followers_url": "https://api.github.com/users/jcmvbkbc/followers", "following_url": "https://api.github.com/users/jcmvbkbc/following{/other_user}", "gists_url": "https://api.github.com/users/jcmvbkbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcmvbkbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcmvbkbc/subscriptions", "organizations_url": "https://api.github.com/users/jcmvbkbc/orgs", "repos_url": "https://api.github.com/users/jcmvbkbc/repos", "events_url": "https://api.github.com/users/jcmvbkbc/events{/privacy}", "received_events_url": "https://api.github.com/users/jcmvbkbc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "48a0e822666b79600cae7401f9a3e8cf16bc3fd1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/48a0e822666b79600cae7401f9a3e8cf16bc3fd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/48a0e822666b79600cae7401f9a3e8cf16bc3fd1"}], "stats": {"total": 46, "additions": 25, "deletions": 21}, "files": [{"sha": "0a26d3dccf44c356c26839d7e2c6845939a1f9f8", "filename": "gcc/config/xtensa/xtensa.md", "status": "modified", "additions": 25, "deletions": 21, "changes": 46, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b92f1c2dcc7b79467662321615f6eafb0c441c7d/gcc%2Fconfig%2Fxtensa%2Fxtensa.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b92f1c2dcc7b79467662321615f6eafb0c441c7d/gcc%2Fconfig%2Fxtensa%2Fxtensa.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa.md?ref=b92f1c2dcc7b79467662321615f6eafb0c441c7d", "patch": "@@ -25,28 +25,32 @@\n   (A7_REG\t\t7)\n   (A8_REG\t\t8)\n   (A9_REG\t\t9)\n+])\n+\n+(define_c_enum \"unspec\" [\n+  UNSPEC_NOP\n+  UNSPEC_PLT\n+  UNSPEC_RET_ADDR\n+  UNSPEC_TPOFF\n+  UNSPEC_DTPOFF\n+  UNSPEC_TLS_FUNC\n+  UNSPEC_TLS_ARG\n+  UNSPEC_TLS_CALL\n+  UNSPEC_TP\n+  UNSPEC_MEMW\n+  UNSPEC_LSETUP_START\n+  UNSPEC_LSETUP_END\n+  UNSPEC_FRAME_BLOCKAGE\n+])\n \n-  (UNSPEC_NOP\t\t2)\n-  (UNSPEC_PLT\t\t3)\n-  (UNSPEC_RET_ADDR\t4)\n-  (UNSPEC_TPOFF\t\t5)\n-  (UNSPEC_DTPOFF\t6)\n-  (UNSPEC_TLS_FUNC\t7)\n-  (UNSPEC_TLS_ARG\t8)\n-  (UNSPEC_TLS_CALL\t9)\n-  (UNSPEC_TP\t\t10)\n-  (UNSPEC_MEMW\t\t11)\n-  (UNSPEC_LSETUP_START  12)\n-  (UNSPEC_LSETUP_END    13)\n-  (UNSPEC_FRAME_BLOCKAGE 14)\n-\n-  (UNSPECV_SET_FP\t1)\n-  (UNSPECV_ENTRY\t2)\n-  (UNSPECV_S32RI\t4)\n-  (UNSPECV_S32C1I\t5)\n-  (UNSPECV_EH_RETURN\t6)\n-  (UNSPECV_SET_TP\t7)\n-  (UNSPECV_BLOCKAGE\t8)\n+(define_c_enum \"unspecv\" [\n+  UNSPECV_SET_FP\n+  UNSPECV_ENTRY\n+  UNSPECV_S32RI\n+  UNSPECV_S32C1I\n+  UNSPECV_EH_RETURN\n+  UNSPECV_SET_TP\n+  UNSPECV_BLOCKAGE\n ])\n \n ;; This code iterator allows signed and unsigned widening multiplications"}]}