{"sha": "41dc48164709a719eb1ee4191afa302fe557163c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDFkYzQ4MTY0NzA5YTcxOWViMWVlNDE5MWFmYTMwMmZlNTU3MTYzYw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-04-03T08:38:45Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-04-03T08:38:45Z"}, "message": "instantiate1.C: Adjust to accommodate peculiarities of the SH.\n\n* g++.old-deja/g++.ext/instantiate1.C: Adjust to accommodate\npeculiarities of the SH.\n* g++.old-deja/g++.ext/instantiate2.C: Likewise.\n\nFrom-SVN: r41045", "tree": {"sha": "d088936a3a6c025b49454fa9411ddc35bcc178bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d088936a3a6c025b49454fa9411ddc35bcc178bb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/41dc48164709a719eb1ee4191afa302fe557163c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41dc48164709a719eb1ee4191afa302fe557163c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41dc48164709a719eb1ee4191afa302fe557163c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41dc48164709a719eb1ee4191afa302fe557163c/comments", "author": null, "committer": null, "parents": [{"sha": "47a15d4fd6222ae1ecadd9ae822c4d41eff57e84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47a15d4fd6222ae1ecadd9ae822c4d41eff57e84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47a15d4fd6222ae1ecadd9ae822c4d41eff57e84"}], "stats": {"total": 44, "additions": 33, "deletions": 11}, "files": [{"sha": "c72d2def208ba3247f38b20d1eee2381c2234f81", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dc48164709a719eb1ee4191afa302fe557163c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dc48164709a719eb1ee4191afa302fe557163c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=41dc48164709a719eb1ee4191afa302fe557163c", "patch": "@@ -1,3 +1,9 @@\n+2001-04-03  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* g++.old-deja/g++.ext/instantiate1.C: Adjust to accommodate\n+\tpeculiarities of the SH.\n+\t* g++.old-deja/g++.ext/instantiate2.C: Likewise.\n+\n 2001-04-02  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n \n \t* gcc.c-torture/execute/ieee/fp-cmp-1.c: Renamed nan to dnan.\n@@ -210,7 +216,6 @@\n \t* g++.old-deja/g++.pt/overload15.C: New test to stress overloaded\n \ttemplatized constructors.\n \n->>>>>>> 1.1119\n 2001-02-24  Franz Sirl  <Franz.Sirl-kernel@lauterbach.com>\n \n \t* gcc.c-torture/execute/20010224-1.c: New test."}, {"sha": "8e0fbe073fd8e092446e1dcf4706e47a1ab3f0dd", "filename": "gcc/testsuite/g++.old-deja/g++.ext/instantiate1.C", "status": "modified", "additions": 16, "deletions": 6, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dc48164709a719eb1ee4191afa302fe557163c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Finstantiate1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dc48164709a719eb1ee4191afa302fe557163c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Finstantiate1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Finstantiate1.C?ref=41dc48164709a719eb1ee4191afa302fe557163c", "patch": "@@ -13,12 +13,22 @@ template <class T> struct A {\n template <class T> void A<T>::f () { }\n extern template struct A<int>;\n \n+// These functions must be defined in a single line, so that, even if\n+// constants or pointers are placed in the code section (for example,\n+// on the SH), we still get the same line numbers.\n+\n+void test_f_int () { f(42); } // ERROR - not instantiated\n+\n+void test_A_int_f () { A<int> a; a.f (); } // ERROR - not instantiated\n+\n+void test_f_double () { f (2.0); } // gets bogus error\n+\n+void test_A_double_f () { A<double> b; b.f (); } // gets bogus error\n+\n int main ()\n {\n-  f (42);\t\t\t// ERROR - not instantiated\n-  A<int> a;\n-  a.f ();\t\t\t// ERROR - not instantiated\n-  f (2.0);\t\t\t// gets bogus error\n-  A<double> b;\n-  b.f ();\t\t\t// gets bogus error\n+  test_f_int ();\n+  test_A_int_f ();\n+  test_f_double ();\n+  test_A_double_f ();\n }"}, {"sha": "9a783a14b63a2cf7483761c370b284a405953df3", "filename": "gcc/testsuite/g++.old-deja/g++.ext/instantiate2.C", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/41dc48164709a719eb1ee4191afa302fe557163c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Finstantiate2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/41dc48164709a719eb1ee4191afa302fe557163c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Finstantiate2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.ext%2Finstantiate2.C?ref=41dc48164709a719eb1ee4191afa302fe557163c", "patch": "@@ -10,10 +10,17 @@ template <class T> struct A {\n template <class T> T A<T>::t = 0;\n static template struct A<int>;\n \n+// These functions must be defined in a single line, so that, even if\n+// constants or pointers are placed in the code section (for example,\n+// on the SH), we still get the same line numbers.\n+\n+void test_int() { A<int>::t = 42; } // gets bogus error\n+\n+void test_char() { A<char>::t = 42; } // ERROR - not instantiated XFAIL *-*-irix*\n+// Irix's default linker does not produce line numbers so XFAIL it.\n+\n int main ()\n {\n-  A<int>::t = 42;\t\t// gets bogus error\n-  A<char>::t = 42;\t\t// ERROR - not instantiated XFAIL mips*-*-*\n-\t\t\t\t// Irix's default linker does not\n-\t\t\t\t// produce line numbers so XFAIL it.\n+  test_int ();\n+  test_char ();\n }"}]}