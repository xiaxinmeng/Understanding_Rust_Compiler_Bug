{"sha": "ea78906a44deed40a23a5ef2362310e4d116c798", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWE3ODkwNmE0NGRlZWQ0MGEyM2E1ZWYyMzYyMzEwZTRkMTE2Yzc5OA==", "commit": {"author": {"name": "Richard Biener", "email": "rguenther@suse.de", "date": "2013-04-29T09:09:08Z"}, "committer": {"name": "Richard Biener", "email": "rguenth@gcc.gnu.org", "date": "2013-04-29T09:09:08Z"}, "message": "re PR tree-optimization/57081 (Segmentation fault in simple_iv (tree-scalar-evolution.c:3151))\n\n2013-04-29  Richard Biener  <rguenther@suse.de>\n\n\tPR tree-optimization/57081\n\t* loop-init.c: Include tree-flow.h.\n\t(loop_optimizer_finalize): Free number of iteration estimates.\n\t* Makefile.in (loop-init.o): Add $(TREE_FLOW_H) dependency.\n\n\t* gcc.dg/torture/pr57081.c: New testcase.\n\nFrom-SVN: r198392", "tree": {"sha": "05821b7b1c508f54cc00d84ecea7b4e4d56626c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/05821b7b1c508f54cc00d84ecea7b4e4d56626c1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea78906a44deed40a23a5ef2362310e4d116c798", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea78906a44deed40a23a5ef2362310e4d116c798", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea78906a44deed40a23a5ef2362310e4d116c798", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea78906a44deed40a23a5ef2362310e4d116c798/comments", "author": {"login": "rguenth", "id": 2046526, "node_id": "MDQ6VXNlcjIwNDY1MjY=", "avatar_url": "https://avatars.githubusercontent.com/u/2046526?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rguenth", "html_url": "https://github.com/rguenth", "followers_url": "https://api.github.com/users/rguenth/followers", "following_url": "https://api.github.com/users/rguenth/following{/other_user}", "gists_url": "https://api.github.com/users/rguenth/gists{/gist_id}", "starred_url": "https://api.github.com/users/rguenth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rguenth/subscriptions", "organizations_url": "https://api.github.com/users/rguenth/orgs", "repos_url": "https://api.github.com/users/rguenth/repos", "events_url": "https://api.github.com/users/rguenth/events{/privacy}", "received_events_url": "https://api.github.com/users/rguenth/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "96cc0ef46bd4bfa5585a0ab900e76b11245e11b7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96cc0ef46bd4bfa5585a0ab900e76b11245e11b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96cc0ef46bd4bfa5585a0ab900e76b11245e11b7"}], "stats": {"total": 39, "additions": 38, "deletions": 1}, "files": [{"sha": "83f1c1ac4a32bf03292ab769c78180fafeb093ba", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ea78906a44deed40a23a5ef2362310e4d116c798", "patch": "@@ -1,3 +1,10 @@\n+2013-04-29  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/57081\n+\t* loop-init.c: Include tree-flow.h.\n+\t(loop_optimizer_finalize): Free number of iteration estimates.\n+\t* Makefile.in (loop-init.o): Add $(TREE_FLOW_H) dependency.\n+\n 2013-04-29  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/57083"}, {"sha": "903125e750482f8c0c829edde359aad547925363", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=ea78906a44deed40a23a5ef2362310e4d116c798", "patch": "@@ -3181,7 +3181,7 @@ cfgloopmanip.o : cfgloopmanip.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) \\\n loop-init.o : loop-init.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) $(GGC_H) \\\n    $(BASIC_BLOCK_H) hard-reg-set.h $(CFGLOOP_H) \\\n    coretypes.h $(TM_H) $(OBSTACK_H) $(TREE_PASS_H) $(FLAGS_H) \\\n-   $(REGS_H) $(DF_H)\n+   $(REGS_H) $(DF_H) $(TREE_FLOW_H)\n loop-unswitch.o : loop-unswitch.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n    $(DUMPFILE_H) \\\n    $(RTL_H) $(TM_H) $(BASIC_BLOCK_H) hard-reg-set.h $(CFGLOOP_H) $(PARAMS_H) \\"}, {"sha": "1f605c9760622bbfc1ec4e993b0c0bfad3d8d314", "filename": "gcc/loop-init.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2Floop-init.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2Floop-init.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-init.c?ref=ea78906a44deed40a23a5ef2362310e4d116c798", "patch": "@@ -30,6 +30,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"flags.h\"\n #include \"df.h\"\n #include \"ggc.h\"\n+#include \"tree-flow.h\"\n \n \f\n /* Apply FLAGS to the loop state.  */\n@@ -142,6 +143,8 @@ loop_optimizer_finalize (void)\n   if (loops_state_satisfies_p (LOOPS_HAVE_RECORDED_EXITS))\n     release_recorded_exits ();\n \n+  free_numbers_of_iterations_estimates ();\n+\n   /* If we should preserve loop structure, do not free it but clear\n      flags that advanced properties are there as we are not preserving\n      that in full.  */"}, {"sha": "e6cee3bb6b6a9f41caaf8a9d63d5e7d80ba5054d", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ea78906a44deed40a23a5ef2362310e4d116c798", "patch": "@@ -1,3 +1,8 @@\n+2013-04-29  Richard Biener  <rguenther@suse.de>\n+\n+\tPR tree-optimization/57081\n+\t* gcc.dg/torture/pr57081.c: New testcase.\n+\n 2013-04-29  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/57083"}, {"sha": "0fcbaaa62b3c882038800ca38033c79f0722c0f0", "filename": "gcc/testsuite/gcc.dg/torture/pr57081.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57081.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea78906a44deed40a23a5ef2362310e4d116c798/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57081.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftorture%2Fpr57081.c?ref=ea78906a44deed40a23a5ef2362310e4d116c798", "patch": "@@ -0,0 +1,22 @@\n+/* { dg-do compile } */\n+\n+int a;\n+\n+void f(void)\n+{\n+  int b;\n+\n+  if(0)\n+    lbl:\n+\tgoto lbl;\n+\n+  if(b)\n+    {\n+      int p = 0;\n+      goto lbl;\n+    }\n+\n+  a = 0;\n+  while(b++);\n+  goto lbl;\n+}"}]}