{"sha": "e33915104685e7c3c0ab74e402d859baabee6a24", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTMzOTE1MTA0Njg1ZTdjM2MwYWI3NGU0MDJkODU5YmFhYmVlNmEyNA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1995-05-23T21:37:52Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1995-05-23T21:37:52Z"}, "message": "(sett): New pattern.\n\n(movsi_i): Change source constraint for move to T reg to be 'z'.\n\nFrom-SVN: r9783", "tree": {"sha": "ef35b93ca5cf15d9a2bbefbdecfaffb142dccbd2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef35b93ca5cf15d9a2bbefbdecfaffb142dccbd2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e33915104685e7c3c0ab74e402d859baabee6a24", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e33915104685e7c3c0ab74e402d859baabee6a24", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e33915104685e7c3c0ab74e402d859baabee6a24", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e33915104685e7c3c0ab74e402d859baabee6a24/comments", "author": null, "committer": null, "parents": [{"sha": "5b5187b3671667b275e2821555b44074b4d35f00", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5b5187b3671667b275e2821555b44074b4d35f00", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5b5187b3671667b275e2821555b44074b4d35f00"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "70d32ea4cefcfd41f1c735214ec6ea8e937e78f6", "filename": "gcc/config/sh/sh.md", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e33915104685e7c3c0ab74e402d859baabee6a24/gcc%2Fconfig%2Fsh%2Fsh.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e33915104685e7c3c0ab74e402d859baabee6a24/gcc%2Fconfig%2Fsh%2Fsh.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsh.md?ref=e33915104685e7c3c0ab74e402d859baabee6a24", "patch": "@@ -982,14 +982,22 @@\n   [(set_attr \"type\" \"load,pload,load\")\n    (set_attr \"hit_stack\" \"yes\")])\n \n+;; These two patterns can happen as the result of optimization, when\n+;; comparisons get simplified to a move of zero or 1 into the T reg.\n+;; They don't disappear completely, because the T reg is a fixed hard reg.\n (define_insn \"clrt\"\n   [(set (reg:SI 18) (const_int 0))]\n   \"\"\n   \"clrt\")\n \n+(define_insn \"sett\"\n+  [(set (reg:SI 18) (const_int 1))]\n+  \"\"\n+  \"sett\")\n+\n (define_insn \"movsi_i\"\n   [(set (match_operand:SI 0 \"general_movdst_operand\" \"=r,r,r,r,r,m,<,xl,xl,t,r\")\n-\t(match_operand:SI 1 \"general_movsrc_operand\" \"Q,rI,m,xl,t,r,xl,r,>,r,i\"))]\n+\t(match_operand:SI 1 \"general_movsrc_operand\" \"Q,rI,m,xl,t,r,xl,r,>,z,i\"))]\n   \"register_operand (operands[0], SImode)\n    || register_operand (operands[1], SImode)\"\n   \"@"}]}