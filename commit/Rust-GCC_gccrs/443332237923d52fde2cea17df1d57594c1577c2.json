{"sha": "443332237923d52fde2cea17df1d57594c1577c2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQzMzMyMjM3OTIzZDUyZmRlMmNlYTE3ZGYxZDU3NTk0YzE1NzdjMg==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-12-24T19:36:04Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1993-12-24T19:36:04Z"}, "message": "cse.c (cse_insn): Set \"cse_jumps_altered\" when collapsing a switch statement into an...\n\n        * cse.c (cse_insn): Set \"cse_jumps_altered\" when collapsing\n        a switch statement into an unconditional jump.\n        * toplev.c (rest_of_compilation): Rerun jump_optimize\n        before the second CSE pass.\n\nFrom-SVN: r6305", "tree": {"sha": "fd251ab87fdea9dd87f6686e4d12e22008459dc6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fd251ab87fdea9dd87f6686e4d12e22008459dc6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/443332237923d52fde2cea17df1d57594c1577c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/443332237923d52fde2cea17df1d57594c1577c2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/443332237923d52fde2cea17df1d57594c1577c2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/443332237923d52fde2cea17df1d57594c1577c2/comments", "author": null, "committer": null, "parents": [{"sha": "18bd1bd9bb69c3845491d690954a0e0f57a7da1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/18bd1bd9bb69c3845491d690954a0e0f57a7da1e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/18bd1bd9bb69c3845491d690954a0e0f57a7da1e"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "2d326cee402d3e3c9f8bfb1c0615bce2a94ab678", "filename": "gcc/cse.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/443332237923d52fde2cea17df1d57594c1577c2/gcc%2Fcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/443332237923d52fde2cea17df1d57594c1577c2/gcc%2Fcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcse.c?ref=443332237923d52fde2cea17df1d57594c1577c2", "patch": "@@ -6447,6 +6447,7 @@ cse_insn (insn, in_libcall_block)\n \t\ttrial = gen_rtx (LABEL_REF, Pmode, get_label_after (trial));\n \n \t      SET_SRC (sets[i].rtl) = trial;\n+ \t      cse_jumps_altered = 1;\n \t      break;\n \t    }\n \t   "}, {"sha": "9031fee75ffa88ff26297b3b6dd2fc171e21c6e4", "filename": "gcc/toplev.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/443332237923d52fde2cea17df1d57594c1577c2/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/443332237923d52fde2cea17df1d57594c1577c2/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=443332237923d52fde2cea17df1d57594c1577c2", "patch": "@@ -2559,7 +2559,11 @@ rest_of_compilation (decl)\n \n   if (optimize > 0 && flag_rerun_cse_after_loop)\n     {\n+      /* Running another jump optimization pass before the second\n+\t cse pass sometimes simplifies the RTL enough to allow\n+\t the second CSE pass to do a better job.  */\n       TIMEVAR (cse2_time, reg_scan (insns, max_reg_num (), 0));\n+      TIMEVAR (jump_time, jump_optimize (insns, 0, 0, 1));\n \n       TIMEVAR (cse2_time, tem = cse_main (insns, max_reg_num (),\n \t\t\t\t\t  1, cse2_dump_file));"}]}