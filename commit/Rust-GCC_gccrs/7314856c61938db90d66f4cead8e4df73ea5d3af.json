{"sha": "7314856c61938db90d66f4cead8e4df73ea5d3af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzMxNDg1NmM2MTkzOGRiOTBkNjZmNGNlYWQ4ZTRkZjczZWE1ZDNhZg==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-06-18T16:01:24Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-06-18T16:01:24Z"}, "message": "Fix bootstrap failure for bare metal due to autoconf link tests\n\nThe AC_CHECK_FUNCS tests cause the build to fail for bare metal cross\ncompilers, where link tests are not allowed. Replace them with\nGCC_TRY_COMPILE_OR_LINK tests instead. Skip all the Filesystem\ndependency checks if not building the filesystem library.\n\n\t* acinclude.m4 (GLIBCXX_CHECK_FILESYSTEM_DEPS): Only check when\n\tenable_libstdcxx_filesystem_ts = yes. Check for link, readlink and\n\tsymlink.\n\t* config.h.in: Regenerate.\n\t* configure: Regenerate.\n\t* configure.ac: Remove AC_CHECK_FUNCS for link, readlink and symlink.\n\nFrom-SVN: r261704", "tree": {"sha": "0dc2a7bc7a7e38b18f00fadfd60b9ae269288e19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0dc2a7bc7a7e38b18f00fadfd60b9ae269288e19"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7314856c61938db90d66f4cead8e4df73ea5d3af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7314856c61938db90d66f4cead8e4df73ea5d3af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7314856c61938db90d66f4cead8e4df73ea5d3af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7314856c61938db90d66f4cead8e4df73ea5d3af/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3be9ded290ac5232d52a8353235ff7d08ce02fae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3be9ded290ac5232d52a8353235ff7d08ce02fae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3be9ded290ac5232d52a8353235ff7d08ce02fae"}], "stats": {"total": 688, "additions": 451, "deletions": 237}, "files": [{"sha": "6b2357a7a4e5debd18a4fe065c4a9e96cf8c8b11", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=7314856c61938db90d66f4cead8e4df73ea5d3af", "patch": "@@ -1,5 +1,12 @@\n 2018-06-18  Jonathan Wakely  <jwakely@redhat.com>\n \n+\t* acinclude.m4 (GLIBCXX_CHECK_FILESYSTEM_DEPS): Only check when\n+\tenable_libstdcxx_filesystem_ts = yes. Check for link, readlink and\n+\tsymlink.\n+\t* config.h.in: Regenerate.\n+\t* configure: Regenerate.\n+\t* configure.ac: Remove AC_CHECK_FUNCS for link, readlink and symlink.\n+\n \tLWG 3035. std::allocator's constructors should be constexpr\n \t* include/bits/allocator.h (allocator): Add constexpr to constructors\n \tfor C++2a. Replace dynamic exception specifications with NOTHROW"}, {"sha": "6c855b6c7e5e726377679b41076d87fa0d91373a", "filename": "libstdc++-v3/acinclude.m4", "status": "modified", "additions": 177, "deletions": 126, "changes": 303, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Facinclude.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Facinclude.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Facinclude.m4?ref=7314856c61938db90d66f4cead8e4df73ea5d3af", "patch": "@@ -4309,143 +4309,194 @@ AC_DEFUN([GLIBCXX_ENABLE_FILESYSTEM_TS], [\n ])\n \n dnl\n-dnl Check whether the library calls required by the Filesystem TS are present\n-dnl and define _GLIBCXX_USE_REALPATH and _GLIBCXX_USE_UTIMENSAT.\n+dnl Check whether the library calls required by the Filesystem TS are present.\n+dnl Defines:\n+dnl  HAVE_STRUCT_DIRENT_D_TYPE\n+dnl  _GLIBCXX_USE_REALPATH\n+dnl  _GLIBCXX_USE_UTIMENSAT\n+dnl  _GLIBCXX_USE_ST_MTIM\n+dnl  _GLIBCXX_USE_FCHMOD\n+dnl  _GLIBCXX_USE_FCHMODAT\n+dnl  _GLIBCXX_USE_SENDFILE\n+dnl  HAVE_LINK\n+dnl  HAVE_READLINK\n+dnl  HAVE_SYMLINK\n dnl\n AC_DEFUN([GLIBCXX_CHECK_FILESYSTEM_DEPS], [dnl\n dnl\n-  AC_LANG_SAVE\n-  AC_LANG_CPLUSPLUS\n-  ac_save_CXXFLAGS=\"$CXXFLAGS\"\n-  CXXFLAGS=\"$CXXFLAGS -fno-exceptions\"\n+  if test $enable_libstdcxx_filesystem_ts = yes; then\n+    AC_LANG_SAVE\n+    AC_LANG_CPLUSPLUS\n+    ac_save_CXXFLAGS=\"$CXXFLAGS\"\n+    CXXFLAGS=\"$CXXFLAGS -fno-exceptions\"\n dnl\n-  AC_MSG_CHECKING([for struct dirent.d_type])\n-  AC_CACHE_VAL(glibcxx_cv_dirent_d_type, [dnl\n-    GCC_TRY_COMPILE_OR_LINK(\n-      [#include <dirent.h>],\n-      [\n-       struct dirent d;\n-       if (sizeof d.d_type) return 0;\n-      ],\n-      [glibcxx_cv_dirent_d_type=yes],\n-      [glibcxx_cv_dirent_d_type=no])\n-  ])\n-  if test $glibcxx_cv_dirent_d_type = yes; then\n-    AC_DEFINE(HAVE_STRUCT_DIRENT_D_TYPE, 1, [Define to 1 if `d_type' is a member of `struct dirent'.])\n-  fi\n-  AC_MSG_RESULT($glibcxx_cv_dirent_d_type)\n+    AC_MSG_CHECKING([for struct dirent.d_type])\n+    AC_CACHE_VAL(glibcxx_cv_dirent_d_type, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [#include <dirent.h>],\n+        [\n+         struct dirent d;\n+         if (sizeof d.d_type) return 0;\n+        ],\n+        [glibcxx_cv_dirent_d_type=yes],\n+        [glibcxx_cv_dirent_d_type=no])\n+    ])\n+    if test $glibcxx_cv_dirent_d_type = yes; then\n+      AC_DEFINE(HAVE_STRUCT_DIRENT_D_TYPE, 1, [Define to 1 if `d_type' is a member of `struct dirent'.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_dirent_d_type)\n dnl\n-  AC_MSG_CHECKING([for realpath])\n-  AC_CACHE_VAL(glibcxx_cv_realpath, [dnl\n-    GCC_TRY_COMPILE_OR_LINK(\n-      [\n-       #include <limits.h>\n-       #include <stdlib.h>\n-       #include <unistd.h>\n-      ],\n-      [\n-       #if _XOPEN_VERSION < 500\n-       #error\n-       #elif _XOPEN_VERSION >= 700 || defined(PATH_MAX)\n-       char *tmp = realpath((const char*)NULL, (char*)NULL);\n-       #else\n-       #error\n-       #endif\n-      ],\n-      [glibcxx_cv_realpath=yes],\n-      [glibcxx_cv_realpath=no])\n-  ])\n-  if test $glibcxx_cv_realpath = yes; then\n-    AC_DEFINE(_GLIBCXX_USE_REALPATH, 1, [Define if usable realpath is available in <stdlib.h>.])\n-  fi\n-  AC_MSG_RESULT($glibcxx_cv_realpath)\n+    AC_MSG_CHECKING([for realpath])\n+    AC_CACHE_VAL(glibcxx_cv_realpath, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [\n+         #include <limits.h>\n+         #include <stdlib.h>\n+         #include <unistd.h>\n+        ],\n+        [\n+         #if _XOPEN_VERSION < 500\n+         #error\n+         #elif _XOPEN_VERSION >= 700 || defined(PATH_MAX)\n+         char *tmp = realpath((const char*)NULL, (char*)NULL);\n+         #else\n+         #error\n+         #endif\n+        ],\n+        [glibcxx_cv_realpath=yes],\n+        [glibcxx_cv_realpath=no])\n+    ])\n+    if test $glibcxx_cv_realpath = yes; then\n+      AC_DEFINE(_GLIBCXX_USE_REALPATH, 1, [Define if usable realpath is available in <stdlib.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_realpath)\n dnl\n-  AC_MSG_CHECKING([for utimensat])\n-  AC_CACHE_VAL(glibcxx_cv_utimensat, [dnl\n-    GCC_TRY_COMPILE_OR_LINK(\n-      [\n-        #include <fcntl.h>\n-        #include <sys/stat.h>\n-      ],\n-      [\n-        struct timespec ts[2] = { { 0, UTIME_OMIT }, { 1, 1 } };\n-        int i = utimensat(AT_FDCWD, \"path\", ts, 0);\n-      ],\n-      [glibcxx_cv_utimensat=yes],\n-      [glibcxx_cv_utimensat=no])\n-  ])\n-  if test $glibcxx_cv_utimensat = yes; then\n-    AC_DEFINE(_GLIBCXX_USE_UTIMENSAT, 1, [Define if utimensat and UTIME_OMIT are available in <sys/stat.h> and AT_FDCWD in <fcntl.h>.])\n-  fi\n-  AC_MSG_RESULT($glibcxx_cv_utimensat)\n+    AC_MSG_CHECKING([for utimensat])\n+    AC_CACHE_VAL(glibcxx_cv_utimensat, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [\n+          #include <fcntl.h>\n+          #include <sys/stat.h>\n+        ],\n+        [\n+          struct timespec ts[2] = { { 0, UTIME_OMIT }, { 1, 1 } };\n+          int i = utimensat(AT_FDCWD, \"path\", ts, 0);\n+        ],\n+        [glibcxx_cv_utimensat=yes],\n+        [glibcxx_cv_utimensat=no])\n+    ])\n+    if test $glibcxx_cv_utimensat = yes; then\n+      AC_DEFINE(_GLIBCXX_USE_UTIMENSAT, 1, [Define if utimensat and UTIME_OMIT are available in <sys/stat.h> and AT_FDCWD in <fcntl.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_utimensat)\n dnl\n-  AC_MSG_CHECKING([for struct stat.st_mtim.tv_nsec])\n-  AC_CACHE_VAL(glibcxx_cv_st_mtim, [dnl\n-    GCC_TRY_COMPILE_OR_LINK(\n-      [ #include <sys/stat.h> ],\n-      [\n-        struct stat st;\n-        return st.st_mtim.tv_nsec;\n-      ],\n-      [glibcxx_cv_st_mtim=yes],\n-      [glibcxx_cv_st_mtim=no])\n-  ])\n-  if test $glibcxx_cv_st_mtim = yes; then\n-    AC_DEFINE(_GLIBCXX_USE_ST_MTIM, 1, [Define if struct stat has timespec members.])\n-  fi\n-  AC_MSG_RESULT($glibcxx_cv_st_mtim)\n+    AC_MSG_CHECKING([for struct stat.st_mtim.tv_nsec])\n+    AC_CACHE_VAL(glibcxx_cv_st_mtim, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [ #include <sys/stat.h> ],\n+        [\n+          struct stat st;\n+          return st.st_mtim.tv_nsec;\n+        ],\n+        [glibcxx_cv_st_mtim=yes],\n+        [glibcxx_cv_st_mtim=no])\n+    ])\n+    if test $glibcxx_cv_st_mtim = yes; then\n+      AC_DEFINE(_GLIBCXX_USE_ST_MTIM, 1, [Define if struct stat has timespec members.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_st_mtim)\n dnl\n-  AC_MSG_CHECKING([for fchmod])\n-  AC_CACHE_VAL(glibcxx_cv_fchmod, [dnl\n-    GCC_TRY_COMPILE_OR_LINK(\n-      [#include <sys/stat.h>],\n-      [fchmod(1, S_IWUSR);],\n-      [glibcxx_cv_fchmod=yes],\n-      [glibcxx_cv_fchmod=no])\n-  ])\n-  if test $glibcxx_cv_fchmod = yes; then\n-    AC_DEFINE(_GLIBCXX_USE_FCHMOD, 1, [Define if fchmod is available in <sys/stat.h>.])\n-  fi\n-  AC_MSG_RESULT($glibcxx_cv_fchmod)\n+    AC_MSG_CHECKING([for fchmod])\n+    AC_CACHE_VAL(glibcxx_cv_fchmod, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [#include <sys/stat.h>],\n+        [fchmod(1, S_IWUSR);],\n+        [glibcxx_cv_fchmod=yes],\n+        [glibcxx_cv_fchmod=no])\n+    ])\n+    if test $glibcxx_cv_fchmod = yes; then\n+      AC_DEFINE(_GLIBCXX_USE_FCHMOD, 1, [Define if fchmod is available in <sys/stat.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_fchmod)\n dnl\n-  AC_MSG_CHECKING([for fchmodat])\n-  AC_CACHE_VAL(glibcxx_cv_fchmodat, [dnl\n-    GCC_TRY_COMPILE_OR_LINK(\n-      [\n-        #include <fcntl.h>\n-        #include <sys/stat.h>\n-      ],\n-      [fchmodat(AT_FDCWD, \"\", 0, AT_SYMLINK_NOFOLLOW);],\n-      [glibcxx_cv_fchmodat=yes],\n-      [glibcxx_cv_fchmodat=no])\n-  ])\n-  if test $glibcxx_cv_fchmodat = yes; then\n-    AC_DEFINE(_GLIBCXX_USE_FCHMODAT, 1, [Define if fchmodat is available in <sys/stat.h>.])\n-  fi\n-  AC_MSG_RESULT($glibcxx_cv_fchmodat)\n+    AC_MSG_CHECKING([for fchmodat])\n+    AC_CACHE_VAL(glibcxx_cv_fchmodat, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [\n+          #include <fcntl.h>\n+          #include <sys/stat.h>\n+        ],\n+        [fchmodat(AT_FDCWD, \"\", 0, AT_SYMLINK_NOFOLLOW);],\n+        [glibcxx_cv_fchmodat=yes],\n+        [glibcxx_cv_fchmodat=no])\n+    ])\n+    if test $glibcxx_cv_fchmodat = yes; then\n+      AC_DEFINE(_GLIBCXX_USE_FCHMODAT, 1, [Define if fchmodat is available in <sys/stat.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_fchmodat)\n+dnl\n+    AC_MSG_CHECKING([for sendfile that can copy files])\n+    AC_CACHE_VAL(glibcxx_cv_sendfile, [dnl\n+      case \"${target_os}\" in\n+        gnu* | linux* | solaris*)\n+          GCC_TRY_COMPILE_OR_LINK(\n+            [#include <sys/sendfile.h>],\n+            [sendfile(1, 2, (off_t*)0, sizeof 1);],\n+            [glibcxx_cv_sendfile=yes],\n+            [glibcxx_cv_sendfile=no])\n+          ;;\n+        *)\n+          glibcxx_cv_sendfile=no\n+          ;;\n+      esac\n+    ])\n+    if test $glibcxx_cv_sendfile = yes; then\n+      AC_DEFINE(_GLIBCXX_USE_SENDFILE, 1, [Define if sendfile is available in <sys/sendfile.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_sendfile)\n dnl\n-  AC_MSG_CHECKING([for sendfile that can copy files])\n-  AC_CACHE_VAL(glibcxx_cv_sendfile, [dnl\n-    case \"${target_os}\" in\n-      gnu* | linux* | solaris*)\n-        GCC_TRY_COMPILE_OR_LINK(\n-          [#include <sys/sendfile.h>],\n-          [sendfile(1, 2, (off_t*)0, sizeof 1);],\n-          [glibcxx_cv_sendfile=yes],\n-          [glibcxx_cv_sendfile=no])\n-        ;;\n-      *)\n-        glibcxx_cv_sendfile=no\n-        ;;\n-    esac\n-  ])\n-  if test $glibcxx_cv_sendfile = yes; then\n-    AC_DEFINE(_GLIBCXX_USE_SENDFILE, 1, [Define if sendfile is available in <sys/sendfile.h>.])\n-  fi\n-  AC_MSG_RESULT($glibcxx_cv_sendfile)\n+    AC_MSG_CHECKING([for link])\n+    AC_CACHE_VAL(glibcxx_cv_link, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [#include <unistd.h>],\n+        [link(\"\", \"\");],\n+        [glibcxx_cv_link=yes],\n+        [glibcxx_cv_link=no])\n+    ])\n+    if test $glibcxx_cv_link = yes; then\n+      AC_DEFINE(HAVE_LINK, 1, [Define if link is available in <unistd.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_link)\n dnl\n-  CXXFLAGS=\"$ac_save_CXXFLAGS\"\n-  AC_LANG_RESTORE\n+    AC_MSG_CHECKING([for readlink])\n+    AC_CACHE_VAL(glibcxx_cv_readlink, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [#include <unistd.h>],\n+        [char buf[32]; readlink(\"\", buf, sizeof(buf));],\n+        [glibcxx_cv_readlink=yes],\n+        [glibcxx_cv_readlink=no])\n+    ])\n+    if test $glibcxx_cv_readlink = yes; then\n+      AC_DEFINE(HAVE_READLINK, 1, [Define if readlink is available in <unistd.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_readlink)\n+dnl\n+    AC_MSG_CHECKING([for symlink])\n+    AC_CACHE_VAL(glibcxx_cv_symlink, [dnl\n+      GCC_TRY_COMPILE_OR_LINK(\n+        [#include <unistd.h>],\n+        [symlink(\"\", \"\");],\n+        [glibcxx_cv_symlink=yes],\n+        [glibcxx_cv_symlink=no])\n+    ])\n+    if test $glibcxx_cv_symlink = yes; then\n+      AC_DEFINE(HAVE_SYMLINK, 1, [Define if symlink is available in <unistd.h>.])\n+    fi\n+    AC_MSG_RESULT($glibcxx_cv_symlink)\n+dnl\n+    CXXFLAGS=\"$ac_save_CXXFLAGS\"\n+    AC_LANG_RESTORE\n+  fi\n ])\n \n dnl"}, {"sha": "919a1f068c0a99a828e47d01cb999d08505af3b4", "filename": "libstdc++-v3/config.h.in", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig.h.in?ref=7314856c61938db90d66f4cead8e4df73ea5d3af", "patch": "@@ -264,7 +264,7 @@\n /* Only used in build directory testsuite_hooks.h. */\n #undef HAVE_LIMIT_VMEM\n \n-/* Define to 1 if you have the `link' function. */\n+/* Define if link is available in <unistd.h>. */\n #undef HAVE_LINK\n \n /* Define if futex syscall is available. */\n@@ -342,7 +342,7 @@\n /* Define to 1 if you have the `quick_exit' function. */\n #undef HAVE_QUICK_EXIT\n \n-/* Define to 1 if you have the `readlink' function. */\n+/* Define if readlink is available in <unistd.h>. */\n #undef HAVE_READLINK\n \n /* Define to 1 if you have the `setenv' function. */\n@@ -414,7 +414,7 @@\n /* Define if strxfrm_l is available in <string.h>. */\n #undef HAVE_STRXFRM_L\n \n-/* Define to 1 if you have the `symlink' function. */\n+/* Define if symlink is available in <unistd.h>. */\n #undef HAVE_SYMLINK\n \n /* Define to 1 if the target runtime linker supports binding the same symbol"}, {"sha": "7bad76486a0bcfe7628604c8fcc7b02556a7ca5a", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 264, "deletions": 107, "changes": 371, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=7314856c61938db90d66f4cead8e4df73ea5d3af", "patch": "@@ -80047,19 +80047,6 @@ _ACEOF\n \n fi\n \n-done\n-\n-for ac_func in link readlink symlink\n-do :\n-  as_ac_var=`$as_echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n-ac_fn_c_check_func \"$LINENO\" \"$ac_func\" \"$as_ac_var\"\n-eval as_val=\\$$as_ac_var\n-   if test \"x$as_val\" = x\"\"yes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define `$as_echo \"HAVE_$ac_func\" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n done\n \n \n@@ -80105,30 +80092,31 @@ $as_echo_n \"checking whether to build Filesystem TS support... \" >&6; }\n $as_echo \"$enable_libstdcxx_filesystem_ts\" >&6; }\n \n \n+  if test $enable_libstdcxx_filesystem_ts = yes; then\n \n-  ac_ext=cpp\n+    ac_ext=cpp\n ac_cpp='$CXXCPP $CPPFLAGS'\n ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n \n-  ac_save_CXXFLAGS=\"$CXXFLAGS\"\n-  CXXFLAGS=\"$CXXFLAGS -fno-exceptions\"\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for struct dirent.d_type\" >&5\n+    ac_save_CXXFLAGS=\"$CXXFLAGS\"\n+    CXXFLAGS=\"$CXXFLAGS -fno-exceptions\"\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for struct dirent.d_type\" >&5\n $as_echo_n \"checking for struct dirent.d_type... \" >&6; }\n-  if test \"${glibcxx_cv_dirent_d_type+set}\" = set; then :\n+    if test \"${glibcxx_cv_dirent_d_type+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      if test x$gcc_no_link = xyes; then\n+        if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n #include <dirent.h>\n int\n main ()\n {\n \n-       struct dirent d;\n-       if (sizeof d.d_type) return 0;\n+         struct dirent d;\n+         if (sizeof d.d_type) return 0;\n \n   ;\n   return 0;\n@@ -80151,8 +80139,8 @@ int\n main ()\n {\n \n-       struct dirent d;\n-       if (sizeof d.d_type) return 0;\n+         struct dirent d;\n+         if (sizeof d.d_type) return 0;\n \n   ;\n   return 0;\n@@ -80169,37 +80157,37 @@ fi\n \n fi\n \n-  if test $glibcxx_cv_dirent_d_type = yes; then\n+    if test $glibcxx_cv_dirent_d_type = yes; then\n \n $as_echo \"#define HAVE_STRUCT_DIRENT_D_TYPE 1\" >>confdefs.h\n \n-  fi\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_dirent_d_type\" >&5\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_dirent_d_type\" >&5\n $as_echo \"$glibcxx_cv_dirent_d_type\" >&6; }\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for realpath\" >&5\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for realpath\" >&5\n $as_echo_n \"checking for realpath... \" >&6; }\n-  if test \"${glibcxx_cv_realpath+set}\" = set; then :\n+    if test \"${glibcxx_cv_realpath+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      if test x$gcc_no_link = xyes; then\n+        if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n-       #include <limits.h>\n-       #include <stdlib.h>\n-       #include <unistd.h>\n+         #include <limits.h>\n+         #include <stdlib.h>\n+         #include <unistd.h>\n \n int\n main ()\n {\n \n-       #if _XOPEN_VERSION < 500\n-       #error\n-       #elif _XOPEN_VERSION >= 700 || defined(PATH_MAX)\n-       char *tmp = realpath((const char*)NULL, (char*)NULL);\n-       #else\n-       #error\n-       #endif\n+         #if _XOPEN_VERSION < 500\n+         #error\n+         #elif _XOPEN_VERSION >= 700 || defined(PATH_MAX)\n+         char *tmp = realpath((const char*)NULL, (char*)NULL);\n+         #else\n+         #error\n+         #endif\n \n   ;\n   return 0;\n@@ -80218,21 +80206,21 @@ fi\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n-       #include <limits.h>\n-       #include <stdlib.h>\n-       #include <unistd.h>\n+         #include <limits.h>\n+         #include <stdlib.h>\n+         #include <unistd.h>\n \n int\n main ()\n {\n \n-       #if _XOPEN_VERSION < 500\n-       #error\n-       #elif _XOPEN_VERSION >= 700 || defined(PATH_MAX)\n-       char *tmp = realpath((const char*)NULL, (char*)NULL);\n-       #else\n-       #error\n-       #endif\n+         #if _XOPEN_VERSION < 500\n+         #error\n+         #elif _XOPEN_VERSION >= 700 || defined(PATH_MAX)\n+         char *tmp = realpath((const char*)NULL, (char*)NULL);\n+         #else\n+         #error\n+         #endif\n \n   ;\n   return 0;\n@@ -80249,31 +80237,31 @@ fi\n \n fi\n \n-  if test $glibcxx_cv_realpath = yes; then\n+    if test $glibcxx_cv_realpath = yes; then\n \n $as_echo \"#define _GLIBCXX_USE_REALPATH 1\" >>confdefs.h\n \n-  fi\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_realpath\" >&5\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_realpath\" >&5\n $as_echo \"$glibcxx_cv_realpath\" >&6; }\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for utimensat\" >&5\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for utimensat\" >&5\n $as_echo_n \"checking for utimensat... \" >&6; }\n-  if test \"${glibcxx_cv_utimensat+set}\" = set; then :\n+    if test \"${glibcxx_cv_utimensat+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      if test x$gcc_no_link = xyes; then\n+        if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n-        #include <fcntl.h>\n-        #include <sys/stat.h>\n+          #include <fcntl.h>\n+          #include <sys/stat.h>\n \n int\n main ()\n {\n \n-        struct timespec ts[2] = { { 0, UTIME_OMIT }, { 1, 1 } };\n-        int i = utimensat(AT_FDCWD, \"path\", ts, 0);\n+          struct timespec ts[2] = { { 0, UTIME_OMIT }, { 1, 1 } };\n+          int i = utimensat(AT_FDCWD, \"path\", ts, 0);\n \n   ;\n   return 0;\n@@ -80292,15 +80280,15 @@ fi\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n-        #include <fcntl.h>\n-        #include <sys/stat.h>\n+          #include <fcntl.h>\n+          #include <sys/stat.h>\n \n int\n main ()\n {\n \n-        struct timespec ts[2] = { { 0, UTIME_OMIT }, { 1, 1 } };\n-        int i = utimensat(AT_FDCWD, \"path\", ts, 0);\n+          struct timespec ts[2] = { { 0, UTIME_OMIT }, { 1, 1 } };\n+          int i = utimensat(AT_FDCWD, \"path\", ts, 0);\n \n   ;\n   return 0;\n@@ -80317,28 +80305,28 @@ fi\n \n fi\n \n-  if test $glibcxx_cv_utimensat = yes; then\n+    if test $glibcxx_cv_utimensat = yes; then\n \n $as_echo \"#define _GLIBCXX_USE_UTIMENSAT 1\" >>confdefs.h\n \n-  fi\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_utimensat\" >&5\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_utimensat\" >&5\n $as_echo \"$glibcxx_cv_utimensat\" >&6; }\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for struct stat.st_mtim.tv_nsec\" >&5\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for struct stat.st_mtim.tv_nsec\" >&5\n $as_echo_n \"checking for struct stat.st_mtim.tv_nsec... \" >&6; }\n-  if test \"${glibcxx_cv_st_mtim+set}\" = set; then :\n+    if test \"${glibcxx_cv_st_mtim+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      if test x$gcc_no_link = xyes; then\n+        if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n  #include <sys/stat.h>\n int\n main ()\n {\n \n-        struct stat st;\n-        return st.st_mtim.tv_nsec;\n+          struct stat st;\n+          return st.st_mtim.tv_nsec;\n \n   ;\n   return 0;\n@@ -80361,8 +80349,8 @@ int\n main ()\n {\n \n-        struct stat st;\n-        return st.st_mtim.tv_nsec;\n+          struct stat st;\n+          return st.st_mtim.tv_nsec;\n \n   ;\n   return 0;\n@@ -80379,19 +80367,19 @@ fi\n \n fi\n \n-  if test $glibcxx_cv_st_mtim = yes; then\n+    if test $glibcxx_cv_st_mtim = yes; then\n \n $as_echo \"#define _GLIBCXX_USE_ST_MTIM 1\" >>confdefs.h\n \n-  fi\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_st_mtim\" >&5\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_st_mtim\" >&5\n $as_echo \"$glibcxx_cv_st_mtim\" >&6; }\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for fchmod\" >&5\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for fchmod\" >&5\n $as_echo_n \"checking for fchmod... \" >&6; }\n-  if test \"${glibcxx_cv_fchmod+set}\" = set; then :\n+    if test \"${glibcxx_cv_fchmod+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      if test x$gcc_no_link = xyes; then\n+        if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n #include <sys/stat.h>\n@@ -80435,24 +80423,24 @@ fi\n \n fi\n \n-  if test $glibcxx_cv_fchmod = yes; then\n+    if test $glibcxx_cv_fchmod = yes; then\n \n $as_echo \"#define _GLIBCXX_USE_FCHMOD 1\" >>confdefs.h\n \n-  fi\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_fchmod\" >&5\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_fchmod\" >&5\n $as_echo \"$glibcxx_cv_fchmod\" >&6; }\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for fchmodat\" >&5\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for fchmodat\" >&5\n $as_echo_n \"checking for fchmodat... \" >&6; }\n-  if test \"${glibcxx_cv_fchmodat+set}\" = set; then :\n+    if test \"${glibcxx_cv_fchmodat+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      if test x$gcc_no_link = xyes; then\n+        if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n-        #include <fcntl.h>\n-        #include <sys/stat.h>\n+          #include <fcntl.h>\n+          #include <sys/stat.h>\n \n int\n main ()\n@@ -80475,8 +80463,8 @@ fi\n cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n \n-        #include <fcntl.h>\n-        #include <sys/stat.h>\n+          #include <fcntl.h>\n+          #include <sys/stat.h>\n \n int\n main ()\n@@ -80497,21 +80485,21 @@ fi\n \n fi\n \n-  if test $glibcxx_cv_fchmodat = yes; then\n+    if test $glibcxx_cv_fchmodat = yes; then\n \n $as_echo \"#define _GLIBCXX_USE_FCHMODAT 1\" >>confdefs.h\n \n-  fi\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_fchmodat\" >&5\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_fchmodat\" >&5\n $as_echo \"$glibcxx_cv_fchmodat\" >&6; }\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sendfile that can copy files\" >&5\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for sendfile that can copy files\" >&5\n $as_echo_n \"checking for sendfile that can copy files... \" >&6; }\n-  if test \"${glibcxx_cv_sendfile+set}\" = set; then :\n+    if test \"${glibcxx_cv_sendfile+set}\" = set; then :\n   $as_echo_n \"(cached) \" >&6\n else\n-      case \"${target_os}\" in\n-      gnu* | linux* | solaris*)\n-        if test x$gcc_no_link = xyes; then\n+        case \"${target_os}\" in\n+        gnu* | linux* | solaris*)\n+          if test x$gcc_no_link = xyes; then\n   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n /* end confdefs.h.  */\n #include <sys/sendfile.h>\n@@ -80552,28 +80540,197 @@ fi\n rm -f core conftest.err conftest.$ac_objext \\\n     conftest$ac_exeext conftest.$ac_ext\n fi\n-        ;;\n-      *)\n-        glibcxx_cv_sendfile=no\n-        ;;\n-    esac\n+          ;;\n+        *)\n+          glibcxx_cv_sendfile=no\n+          ;;\n+      esac\n \n fi\n \n-  if test $glibcxx_cv_sendfile = yes; then\n+    if test $glibcxx_cv_sendfile = yes; then\n \n $as_echo \"#define _GLIBCXX_USE_SENDFILE 1\" >>confdefs.h\n \n-  fi\n-  { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_sendfile\" >&5\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_sendfile\" >&5\n $as_echo \"$glibcxx_cv_sendfile\" >&6; }\n-  CXXFLAGS=\"$ac_save_CXXFLAGS\"\n-  ac_ext=c\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for link\" >&5\n+$as_echo_n \"checking for link... \" >&6; }\n+    if test \"${glibcxx_cv_link+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+        if test x$gcc_no_link = xyes; then\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <unistd.h>\n+int\n+main ()\n+{\n+link(\"\", \"\");\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n+  glibcxx_cv_link=yes\n+else\n+  glibcxx_cv_link=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+else\n+  if test x$gcc_no_link = xyes; then\n+  as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n+fi\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <unistd.h>\n+int\n+main ()\n+{\n+link(\"\", \"\");\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n+  glibcxx_cv_link=yes\n+else\n+  glibcxx_cv_link=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+fi\n+\n+fi\n+\n+    if test $glibcxx_cv_link = yes; then\n+\n+$as_echo \"#define HAVE_LINK 1\" >>confdefs.h\n+\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_link\" >&5\n+$as_echo \"$glibcxx_cv_link\" >&6; }\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for readlink\" >&5\n+$as_echo_n \"checking for readlink... \" >&6; }\n+    if test \"${glibcxx_cv_readlink+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+        if test x$gcc_no_link = xyes; then\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <unistd.h>\n+int\n+main ()\n+{\n+char buf[32]; readlink(\"\", buf, sizeof(buf));\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n+  glibcxx_cv_readlink=yes\n+else\n+  glibcxx_cv_readlink=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+else\n+  if test x$gcc_no_link = xyes; then\n+  as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n+fi\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <unistd.h>\n+int\n+main ()\n+{\n+char buf[32]; readlink(\"\", buf, sizeof(buf));\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n+  glibcxx_cv_readlink=yes\n+else\n+  glibcxx_cv_readlink=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+fi\n+\n+fi\n+\n+    if test $glibcxx_cv_readlink = yes; then\n+\n+$as_echo \"#define HAVE_READLINK 1\" >>confdefs.h\n+\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_readlink\" >&5\n+$as_echo \"$glibcxx_cv_readlink\" >&6; }\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: checking for symlink\" >&5\n+$as_echo_n \"checking for symlink... \" >&6; }\n+    if test \"${glibcxx_cv_symlink+set}\" = set; then :\n+  $as_echo_n \"(cached) \" >&6\n+else\n+        if test x$gcc_no_link = xyes; then\n+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <unistd.h>\n+int\n+main ()\n+{\n+symlink(\"\", \"\");\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_compile \"$LINENO\"; then :\n+  glibcxx_cv_symlink=yes\n+else\n+  glibcxx_cv_symlink=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n+else\n+  if test x$gcc_no_link = xyes; then\n+  as_fn_error \"Link tests are not allowed after GCC_NO_EXECUTABLES.\" \"$LINENO\" 5\n+fi\n+cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n+/* end confdefs.h.  */\n+#include <unistd.h>\n+int\n+main ()\n+{\n+symlink(\"\", \"\");\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+if ac_fn_cxx_try_link \"$LINENO\"; then :\n+  glibcxx_cv_symlink=yes\n+else\n+  glibcxx_cv_symlink=no\n+fi\n+rm -f core conftest.err conftest.$ac_objext \\\n+    conftest$ac_exeext conftest.$ac_ext\n+fi\n+\n+fi\n+\n+    if test $glibcxx_cv_symlink = yes; then\n+\n+$as_echo \"#define HAVE_SYMLINK 1\" >>confdefs.h\n+\n+    fi\n+    { $as_echo \"$as_me:${as_lineno-$LINENO}: result: $glibcxx_cv_symlink\" >&5\n+$as_echo \"$glibcxx_cv_symlink\" >&6; }\n+    CXXFLAGS=\"$ac_save_CXXFLAGS\"\n+    ac_ext=c\n ac_cpp='$CPP $CPPFLAGS'\n ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n+  fi\n \n \n # For Transactional Memory TS"}, {"sha": "7e1fd84606a6ee25c195408379a97acf9fa728c2", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7314856c61938db90d66f4cead8e4df73ea5d3af/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=7314856c61938db90d66f4cead8e4df73ea5d3af", "patch": "@@ -420,7 +420,6 @@ GLIBCXX_CHECK_GTHREADS\n \n # For Filesystem TS.\n AC_CHECK_HEADERS([fcntl.h dirent.h sys/statvfs.h utime.h])\n-AC_CHECK_FUNCS(link readlink symlink)\n GLIBCXX_ENABLE_FILESYSTEM_TS\n GLIBCXX_CHECK_FILESYSTEM_DEPS\n "}]}