{"sha": "e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTFiZWEwYzA2ODdjNWY0NTUxYjNhNjA1OGVjMzdjZTM3MDVmYTZjYw==", "commit": {"author": {"name": "Matthias Klose", "email": "doko@gcc.gnu.org", "date": "2007-06-03T23:18:43Z"}, "committer": {"name": "Matthias Klose", "email": "doko@gcc.gnu.org", "date": "2007-06-03T23:18:43Z"}, "message": "libjava/classpath/ChangeLog.gcj:\n\n2007-05-31  Matthias Klose  <doko@ubuntu.com>\n\n        * javax/management/NotificationBroadcasterSupport.java\n        (getNotificationInfo): Add cast.\n        * native/jni/qt-peer/Makefile.am (AM_CXXFLAGS): Add libstdc++ include\n        directories.\n        * native/jni/qt-peer/Makefile.in: Regenerate.\n\nlibjava/ChangeLog:\n\n2007-06-03  Matthias Klose  <doko@ubuntu.com>\n\n        * java/io/natFileWin32.cc (setFilePermissions): New (stub only).\n        _access: Handle EXEC query, stub only.\n\n2007-06-03  Matthias Klose  <doko@ubuntu.com>\n\n        Merged from classpath:\n        * gnu/java/nio/SelectorProviderImpl.java: Whitespace merge.\n        * java/lang/System.java(inheritedChannel): New.\n        * java/lang/Character.java: Remove stray`;'.\n        * java/net/MulticastSocket.java: Merged.\n        * java/text/DateFormatSymbols.java(getInstance): New, comment updates.\n        * java/text/Collator.java(getInstance): Merged.\n        * java/util/Calendar.java: New attributes ALL_STYLES, SHORT, LONG.\n        getDisplayName, getDisplayNames: New.\n        * java/util/logging/Logger.java: Merged.\n        * Regenerate .class and .h files.\n\n2007-06-03  Matthias Klose  <doko@ubuntu.com>\n\n        * java/io/File.java: Merge with classpath-0.95, new method\n        setFilePermissions, new attribute EXEC.\n        * java/io/natFilePosix.cc (setFilePermissions): New.\n        _access: Handle EXEC query.\n        * classpath/lib/java/io/File.class, java/io/File.h: Regenerate.\n\n2007-06-03  Matthias Klose  <doko@ubuntu.com>\n\n        Imported GNU Classpath 0.95.\n\n        * classpath/Makefile.in,\n        classpath/native/jni/midi-dssi/Makefile.in,\n        classpath/native/jni/classpath/Makefile.in,\n        classpath/native/jni/Makefile.in,\n        classpath/native/jni/gconf-peer/Makefile.in,\n        classpath/native/jni/java-io/Makefile.in,\n        classpath/native/jni/native-lib/Makefile.in,\n        classpath/native/jni/java-util/Makefile.in,\n        classpath/native/jni/midi-alsa/Makefile.in,\n        classpath/native/jni/java-lang/Makefile.in,\n        classpath/native/jni/java-nio/Makefile.in,\n        classpath/native/jni/java-net/Makefile.in,\n        classpath/native/jni/xmlj/Makefile.in,\n        classpath/native/jni/qt-peer/Makefile.in,\n        classpath/native/jni/gtk-peer/Makefile.in,\n        classpath/native/Makefile.in, classpath/native/jawt/Makefile.in,\n        classpath/native/fdlibm/Makefile.in,\n        classpath/native/plugin/Makefile.in,\n        classpath/resource/Makefile.in, classpath/scripts/Makefile.in,\n        classpath/tools/Makefile.in, classpath/doc/Makefile.in,\n        classpath/doc/api/Makefile.in, classpath/lib/Makefile.in,\n        classpath/external/Makefile.in, classpath/external/jsr166/Makefile.in,\n        classpath/external/sax/Makefile.in,\n        classpath/external/w3c_dom/Makefile.in,\n        classpath/external/relaxngDatatype/Makefile.in,\n        classpath/include/Makefile.in,\n        classpath/examples/Makefile.in: Regenerate.\n        * classpath/config.guess, classpath/config.sub,\n        classpath/ltmain.sh : Update.\n        * classpath/configure, classpath/depcomp, classpath/missing,\n        classpath/aclocal.m4, classpath/install-sh: Regenerate.\n\n        * gnu/classpath/Configuration.java (CLASSPATH_VERSION): Now 0.95.\n        * sources.am: Regenerate.\n        * Makefile.in: Regenerate.\n\n        * Update the .class files and generated CNI header files, add new\n        .class and generated CNI header files.\n        * Remove generated files for removed java source files:\n        classpath/gnu/java/net/BASE64.java,\n        classpath/gnu/java/security/util/Base64.java,\n        classpath/gnu/java/awt/peer/gtk/GThreadMutex.java,\n        classpath/gnu/java/awt/peer/gtk/GThreadNativeMethodRunner.java,\n        classpath/gnu/java/awt/font/autofit/Scaler.java,\n        classpath/gnu/classpath/jdwp/util/Value.java,\n        classpath/gnu/javax/net/ssl/Base64.java.\n        * Remove empty directories.\n\n        * Makefile.am(nat_source_files): Add natVMOperatingSystemMXBeanImpl.cc.\n        * java/lang/Class.java(setAccessible): Merge from classpath.\n        * java/util/Locale.java: Remove.\n        * gnu/java/lang/management/VMOperatingSystemMXBeanImpl.java,\n        gnu/java/lang/management/natVMOperatingSystemMXBeanImpl.cc: New.\n        * gcj/javaprims.h: Update class declarations.\n        * scripts/classes.pl: Update usage.\n        * HACKING: Mention to build all peers.\n\nFrom-SVN: r125302", "tree": {"sha": "a9c9e7d91c484d53fe154f9285fc57325572ce50", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a9c9e7d91c484d53fe154f9285fc57325572ce50"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/comments", "author": null, "committer": null, "parents": [{"sha": "af333b9a7f9e1cc1029bec56d48f2de63acdf686", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/af333b9a7f9e1cc1029bec56d48f2de63acdf686", "html_url": "https://github.com/Rust-GCC/gccrs/commit/af333b9a7f9e1cc1029bec56d48f2de63acdf686"}], "stats": {"total": 149531, "additions": 80965, "deletions": 68566}, "files": [{"sha": "357c157fd3429b5e54f7e812dfee1af2792eb627", "filename": "libjava/ChangeLog", "status": "modified", "additions": 88, "deletions": 0, "changes": 88, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,3 +1,91 @@\n+2007-06-03  Matthias Klose  <doko@ubuntu.com>\n+\n+\t* java/io/natFileWin32.cc (setFilePermissions): New (stub only).\n+\t_access: Handle EXEC query, stub only.\n+\n+2007-06-03  Matthias Klose  <doko@ubuntu.com>\n+\n+\tMerged from classpath:\n+\t* gnu/java/nio/SelectorProviderImpl.java: Whitespace merge.\n+\t* java/lang/System.java(inheritedChannel): New.\n+\t* java/lang/Character.java: Remove stray`;'.\n+\t* java/net/MulticastSocket.java: Merged.\n+\t* java/text/DateFormatSymbols.java(getInstance): New, comment updates.\n+\t* java/text/Collator.java(getInstance): Merged.\n+\t* java/util/Calendar.java: New attributes ALL_STYLES, SHORT, LONG.\n+\tgetDisplayName, getDisplayNames: New.\n+\t* java/util/logging/Logger.java: Merged.\n+\t* Regenerate .class and .h files.\n+\n+2007-06-03  Matthias Klose  <doko@ubuntu.com>\n+\n+\t* java/io/File.java: Merge with classpath-0.95, new method\n+\tsetFilePermissions, new attribute EXEC.\n+\t* java/io/natFilePosix.cc (setFilePermissions): New.\n+\t_access: Handle EXEC query.\n+\t* classpath/lib/java/io/File.class, java/io/File.h: Regenerate.\n+\n+2007-06-03  Matthias Klose  <doko@ubuntu.com>\n+\n+\tImported GNU Classpath 0.95.\n+\n+\t* classpath/Makefile.in,\n+\tclasspath/native/jni/midi-dssi/Makefile.in,\n+\tclasspath/native/jni/classpath/Makefile.in,\n+\tclasspath/native/jni/Makefile.in,\n+\tclasspath/native/jni/gconf-peer/Makefile.in,\n+\tclasspath/native/jni/java-io/Makefile.in,\n+\tclasspath/native/jni/native-lib/Makefile.in,\n+\tclasspath/native/jni/java-util/Makefile.in,\n+\tclasspath/native/jni/midi-alsa/Makefile.in,\n+\tclasspath/native/jni/java-lang/Makefile.in,\n+\tclasspath/native/jni/java-nio/Makefile.in,\n+\tclasspath/native/jni/java-net/Makefile.in,\n+\tclasspath/native/jni/xmlj/Makefile.in,\n+\tclasspath/native/jni/qt-peer/Makefile.in,\n+\tclasspath/native/jni/gtk-peer/Makefile.in,\n+\tclasspath/native/Makefile.in, classpath/native/jawt/Makefile.in,\n+\tclasspath/native/fdlibm/Makefile.in,\n+\tclasspath/native/plugin/Makefile.in,\n+\tclasspath/resource/Makefile.in, classpath/scripts/Makefile.in,\n+\tclasspath/tools/Makefile.in, classpath/doc/Makefile.in,\n+\tclasspath/doc/api/Makefile.in, classpath/lib/Makefile.in,\n+\tclasspath/external/Makefile.in,\tclasspath/external/jsr166/Makefile.in,\n+\tclasspath/external/sax/Makefile.in,\n+\tclasspath/external/w3c_dom/Makefile.in,\n+\tclasspath/external/relaxngDatatype/Makefile.in,\n+\tclasspath/include/Makefile.in,\n+\tclasspath/examples/Makefile.in: Regenerate.\n+\t* classpath/config.guess, classpath/config.sub,\n+\tclasspath/ltmain.sh : Update.\n+\t* classpath/configure, classpath/depcomp, classpath/missing,\n+\tclasspath/aclocal.m4, classpath/install-sh: Regenerate.\n+\n+\t* gnu/classpath/Configuration.java (CLASSPATH_VERSION): Now 0.95.\n+\t* sources.am: Regenerate.\n+\t* Makefile.in: Regenerate.\n+\n+\t* Update the .class files and generated CNI header files, add new\n+\t.class and generated CNI header files.\n+\t* Remove generated files for removed java source files:\n+\tclasspath/gnu/java/net/BASE64.java,\n+\tclasspath/gnu/java/security/util/Base64.java,\n+\tclasspath/gnu/java/awt/peer/gtk/GThreadMutex.java,\n+\tclasspath/gnu/java/awt/peer/gtk/GThreadNativeMethodRunner.java,\n+\tclasspath/gnu/java/awt/font/autofit/Scaler.java,\n+\tclasspath/gnu/classpath/jdwp/util/Value.java,\n+\tclasspath/gnu/javax/net/ssl/Base64.java.\n+\t* Remove empty directories.\n+\n+\t* Makefile.am(nat_source_files): Add natVMOperatingSystemMXBeanImpl.cc.\n+\t* java/lang/Class.java(setAccessible): Merge from classpath.\n+\t* java/util/Locale.java: Remove.\n+\t* gnu/java/lang/management/VMOperatingSystemMXBeanImpl.java,\n+\tgnu/java/lang/management/natVMOperatingSystemMXBeanImpl.cc: New.\n+\t* gcj/javaprims.h: Update class declarations.\n+\t* scripts/classes.pl: Update usage.\n+\t* HACKING: Mention to build all peers.\n+\n 2007-06-02  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* configure: Regenerate."}, {"sha": "dc5e144ed43acded217ddf75e7122727401ffd02", "filename": "libjava/HACKING", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FHACKING", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FHACKING", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FHACKING?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -89,6 +89,8 @@ To import a new release:\n   scripts/makemake.tcl > sources.am\n   automake\n - Build, fix, till everything works.\n+  Be sure to build all peers (--enable-java-awt=gtk,xlib,qt\n+  --enable-gconf-peer)\n   Be sure to update gnu/classpath/Configuration.java to reflect\n     the new version\n   Possibly update the gcj/javaprims.h file with scripts/classes.pl"}, {"sha": "9cd5cbef1e01ea19b7bbe5f323219f28bdf54ca2", "filename": "libjava/Makefile.am", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -864,6 +864,7 @@ gnu/java/lang/management/natVMGarbageCollectorMXBeanImpl.cc \\\n gnu/java/lang/management/natVMMemoryMXBeanImpl.cc \\\n gnu/java/lang/management/natVMMemoryManagerMXBeanImpl.cc \\\n gnu/java/lang/management/natVMMemoryPoolMXBeanImpl.cc \\\n+gnu/java/lang/management/natVMOperatingSystemMXBeanImpl.cc \\\n gnu/java/lang/management/natVMRuntimeMXBeanImpl.cc \\\n gnu/java/lang/management/natVMThreadMXBeanImpl.cc \\\n gnu/java/net/natPlainDatagramSocketImpl.cc \\"}, {"sha": "20f904b9dc37ff9468f571520ccef901afa9839a", "filename": "libjava/Makefile.in", "status": "modified", "additions": 110, "deletions": 14, "changes": 124, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -244,11 +244,12 @@ am__DEPENDENCIES_1 = gnu/awt.lo gnu/awt/j2d.lo gnu/classpath.lo \\\n \tjava/rmi/activation.lo java/rmi/dgc.lo java/rmi/registry.lo \\\n \tjava/rmi/server.lo java/security.lo java/security/acl.lo \\\n \tjava/security/cert.lo java/security/interfaces.lo \\\n-\tjava/security/spec.lo java/sql.lo java/text.lo java/util.lo \\\n-\tjava/util/concurrent.lo java/util/concurrent/atomic.lo \\\n-\tjava/util/concurrent/locks.lo java/util/jar.lo \\\n-\tjava/util/logging.lo java/util/prefs.lo java/util/regex.lo \\\n-\tjava/util/zip.lo javax/accessibility.lo javax/crypto.lo \\\n+\tjava/security/spec.lo java/sql.lo java/text.lo \\\n+\tjava/text/spi.lo java/util.lo java/util/concurrent.lo \\\n+\tjava/util/concurrent/atomic.lo java/util/concurrent/locks.lo \\\n+\tjava/util/jar.lo java/util/logging.lo java/util/prefs.lo \\\n+\tjava/util/regex.lo java/util/spi.lo java/util/zip.lo \\\n+\tjavax/accessibility.lo javax/activity.lo javax/crypto.lo \\\n \tjavax/crypto/interfaces.lo javax/crypto/spec.lo \\\n \tjavax/management.lo javax/management/loading.lo \\\n \tjavax/management/openmbean.lo javax/naming.lo \\\n@@ -314,6 +315,7 @@ am__libgcj_la_SOURCES_DIST = prims.cc jni.cc jvmti.cc exception.cc \\\n \tgnu/java/lang/management/natVMMemoryMXBeanImpl.cc \\\n \tgnu/java/lang/management/natVMMemoryManagerMXBeanImpl.cc \\\n \tgnu/java/lang/management/natVMMemoryPoolMXBeanImpl.cc \\\n+\tgnu/java/lang/management/natVMOperatingSystemMXBeanImpl.cc \\\n \tgnu/java/lang/management/natVMRuntimeMXBeanImpl.cc \\\n \tgnu/java/lang/management/natVMThreadMXBeanImpl.cc \\\n \tgnu/java/net/natPlainDatagramSocketImpl.cc \\\n@@ -376,6 +378,7 @@ am__objects_2 = gnu/classpath/jdwp/natVMFrame.lo \\\n \tgnu/java/lang/management/natVMMemoryMXBeanImpl.lo \\\n \tgnu/java/lang/management/natVMMemoryManagerMXBeanImpl.lo \\\n \tgnu/java/lang/management/natVMMemoryPoolMXBeanImpl.lo \\\n+\tgnu/java/lang/management/natVMOperatingSystemMXBeanImpl.lo \\\n \tgnu/java/lang/management/natVMRuntimeMXBeanImpl.lo \\\n \tgnu/java/lang/management/natVMThreadMXBeanImpl.lo \\\n \tgnu/java/net/natPlainDatagramSocketImpl.lo \\\n@@ -1152,6 +1155,7 @@ gnu_awt_xlib_header_files = $(patsubst %.java,%.h,$(gnu_awt_xlib_source_files))\n gnu_classpath_source_files = \\\n gnu/classpath/Configuration.java \\\n classpath/gnu/classpath/NotImplementedException.java \\\n+classpath/gnu/classpath/Pair.java \\\n classpath/gnu/classpath/Pointer.java \\\n classpath/gnu/classpath/Pointer32.java \\\n classpath/gnu/classpath/Pointer64.java \\\n@@ -1294,7 +1298,6 @@ classpath/gnu/classpath/jdwp/util/MethodResult.java \\\n classpath/gnu/classpath/jdwp/util/MonitorInfo.java \\\n classpath/gnu/classpath/jdwp/util/NullObject.java \\\n classpath/gnu/classpath/jdwp/util/Signature.java \\\n-classpath/gnu/classpath/jdwp/util/Value.java \\\n classpath/gnu/classpath/jdwp/util/VariableTable.java\n \n gnu_classpath_jdwp_util_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_classpath_jdwp_util_source_files)))\n@@ -1412,6 +1415,7 @@ classpath/gnu/java/awt/AWTUtilities.java \\\n classpath/gnu/java/awt/BitMaskExtent.java \\\n classpath/gnu/java/awt/BitwiseXORComposite.java \\\n classpath/gnu/java/awt/Buffers.java \\\n+classpath/gnu/java/awt/ClasspathGraphicsEnvironment.java \\\n classpath/gnu/java/awt/ClasspathToolkit.java \\\n classpath/gnu/java/awt/ComponentDataBlitOp.java \\\n classpath/gnu/java/awt/ComponentReshapeEvent.java \\\n@@ -1453,22 +1457,27 @@ classpath/gnu/java/awt/font/GNUGlyphVector.java\n \n gnu_java_awt_font_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_awt_font_source_files)))\n gnu_java_awt_font_autofit_source_files = \\\n+classpath/gnu/java/awt/font/autofit/AutoHinter.java \\\n classpath/gnu/java/awt/font/autofit/AxisHints.java \\\n classpath/gnu/java/awt/font/autofit/Constants.java \\\n+classpath/gnu/java/awt/font/autofit/Edge.java \\\n classpath/gnu/java/awt/font/autofit/GlyphHints.java \\\n+classpath/gnu/java/awt/font/autofit/HintScaler.java \\\n classpath/gnu/java/awt/font/autofit/Latin.java \\\n classpath/gnu/java/awt/font/autofit/LatinAxis.java \\\n+classpath/gnu/java/awt/font/autofit/LatinBlue.java \\\n classpath/gnu/java/awt/font/autofit/LatinMetrics.java \\\n-classpath/gnu/java/awt/font/autofit/Scaler.java \\\n classpath/gnu/java/awt/font/autofit/Script.java \\\n classpath/gnu/java/awt/font/autofit/ScriptMetrics.java \\\n classpath/gnu/java/awt/font/autofit/Segment.java \\\n+classpath/gnu/java/awt/font/autofit/Utils.java \\\n classpath/gnu/java/awt/font/autofit/Width.java\n \n gnu_java_awt_font_autofit_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_awt_font_autofit_source_files)))\n gnu_java_awt_font_opentype_source_files = \\\n classpath/gnu/java/awt/font/opentype/CharGlyphMap.java \\\n classpath/gnu/java/awt/font/opentype/GlyphNamer.java \\\n+classpath/gnu/java/awt/font/opentype/Hinter.java \\\n classpath/gnu/java/awt/font/opentype/MacResourceFork.java \\\n classpath/gnu/java/awt/font/opentype/NameDecoder.java \\\n classpath/gnu/java/awt/font/opentype/OpenTypeFont.java \\\n@@ -1481,6 +1490,7 @@ classpath/gnu/java/awt/font/opentype/truetype/Fixed.java \\\n classpath/gnu/java/awt/font/opentype/truetype/GlyphLoader.java \\\n classpath/gnu/java/awt/font/opentype/truetype/GlyphLocator.java \\\n classpath/gnu/java/awt/font/opentype/truetype/GlyphMeasurer.java \\\n+classpath/gnu/java/awt/font/opentype/truetype/Point.java \\\n classpath/gnu/java/awt/font/opentype/truetype/TrueTypeScaler.java \\\n classpath/gnu/java/awt/font/opentype/truetype/VirtualMachine.java \\\n classpath/gnu/java/awt/font/opentype/truetype/Zone.java \\\n@@ -1494,6 +1504,7 @@ classpath/gnu/java/awt/image/XBMDecoder.java\n gnu_java_awt_image_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_awt_image_source_files)))\n gnu_java_awt_java2d_source_files = \\\n classpath/gnu/java/awt/java2d/AbstractGraphics2D.java \\\n+classpath/gnu/java/awt/java2d/ActiveEdges.java \\\n classpath/gnu/java/awt/java2d/AlphaCompositeContext.java \\\n classpath/gnu/java/awt/java2d/CubicSegment.java \\\n classpath/gnu/java/awt/java2d/ImagePaint.java \\\n@@ -1502,15 +1513,20 @@ classpath/gnu/java/awt/java2d/PolyEdge.java \\\n classpath/gnu/java/awt/java2d/PolyEdgeComparator.java \\\n classpath/gnu/java/awt/java2d/QuadSegment.java \\\n classpath/gnu/java/awt/java2d/RasterGraphics.java \\\n+classpath/gnu/java/awt/java2d/Scanline.java \\\n+classpath/gnu/java/awt/java2d/ScanlineConverter.java \\\n classpath/gnu/java/awt/java2d/Segment.java \\\n classpath/gnu/java/awt/java2d/ShapeCache.java \\\n classpath/gnu/java/awt/java2d/TexturePaintContext.java\n \n gnu_java_awt_java2d_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_awt_java2d_source_files)))\n gnu_java_awt_peer_source_files = \\\n+classpath/gnu/java/awt/peer/ClasspathDesktopPeer.java \\\n classpath/gnu/java/awt/peer/ClasspathFontPeer.java \\\n classpath/gnu/java/awt/peer/EmbeddedWindowPeer.java \\\n classpath/gnu/java/awt/peer/GLightweightPeer.java \\\n+classpath/gnu/java/awt/peer/GnomeDesktopPeer.java \\\n+classpath/gnu/java/awt/peer/KDEDesktopPeer.java \\\n classpath/gnu/java/awt/peer/NativeEventLoopRunningEvent.java\n \n gnu_java_awt_peer_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_awt_peer_source_files)))\n@@ -1523,8 +1539,6 @@ classpath/gnu/java/awt/peer/gtk/CairoSurfaceGraphics.java \\\n classpath/gnu/java/awt/peer/gtk/ComponentGraphics.java \\\n classpath/gnu/java/awt/peer/gtk/ComponentGraphicsCopy.java \\\n classpath/gnu/java/awt/peer/gtk/FreetypeGlyphVector.java \\\n-classpath/gnu/java/awt/peer/gtk/GThreadMutex.java \\\n-classpath/gnu/java/awt/peer/gtk/GThreadNativeMethodRunner.java \\\n classpath/gnu/java/awt/peer/gtk/GdkFontPeer.java \\\n classpath/gnu/java/awt/peer/gtk/GdkGraphicsConfiguration.java \\\n classpath/gnu/java/awt/peer/gtk/GdkGraphicsEnvironment.java \\\n@@ -1782,6 +1796,7 @@ gnu/java/lang/management/VMGarbageCollectorMXBeanImpl.java \\\n gnu/java/lang/management/VMMemoryMXBeanImpl.java \\\n gnu/java/lang/management/VMMemoryManagerMXBeanImpl.java \\\n gnu/java/lang/management/VMMemoryPoolMXBeanImpl.java \\\n+gnu/java/lang/management/VMOperatingSystemMXBeanImpl.java \\\n gnu/java/lang/management/VMRuntimeMXBeanImpl.java \\\n gnu/java/lang/management/VMThreadMXBeanImpl.java\n \n@@ -1940,11 +1955,11 @@ gnu/java/locale/LocaleInformation_zh_TW.java\n \n gnu_java_locale_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_locale_source_files)))\n gnu_java_math_source_files = \\\n+classpath/gnu/java/math/Fixed.java \\\n classpath/gnu/java/math/MPN.java\n \n gnu_java_math_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_math_source_files)))\n gnu_java_net_source_files = \\\n-classpath/gnu/java/net/BASE64.java \\\n classpath/gnu/java/net/CRLFInputStream.java \\\n classpath/gnu/java/net/CRLFOutputStream.java \\\n classpath/gnu/java/net/DefaultContentHandlerFactory.java \\\n@@ -2371,7 +2386,6 @@ classpath/gnu/java/security/sig/rsa/RSASignatureFactory.java\n \n gnu_java_security_sig_rsa_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_security_sig_rsa_source_files)))\n gnu_java_security_util_source_files = \\\n-classpath/gnu/java/security/util/Base64.java \\\n classpath/gnu/java/security/util/ByteArray.java \\\n classpath/gnu/java/security/util/ByteBufferOutputStream.java \\\n classpath/gnu/java/security/util/DerUtil.java \\\n@@ -2405,9 +2419,12 @@ classpath/gnu/java/security/x509/ext/CRLNumber.java \\\n classpath/gnu/java/security/x509/ext/CertificatePolicies.java \\\n classpath/gnu/java/security/x509/ext/ExtendedKeyUsage.java \\\n classpath/gnu/java/security/x509/ext/Extension.java \\\n+classpath/gnu/java/security/x509/ext/GeneralName.java \\\n classpath/gnu/java/security/x509/ext/GeneralNames.java \\\n+classpath/gnu/java/security/x509/ext/GeneralSubtree.java \\\n classpath/gnu/java/security/x509/ext/IssuerAlternativeNames.java \\\n classpath/gnu/java/security/x509/ext/KeyUsage.java \\\n+classpath/gnu/java/security/x509/ext/NameConstraints.java \\\n classpath/gnu/java/security/x509/ext/PolicyConstraint.java \\\n classpath/gnu/java/security/x509/ext/PolicyMappings.java \\\n classpath/gnu/java/security/x509/ext/PrivateKeyUsagePeriod.java \\\n@@ -2429,6 +2446,7 @@ classpath/gnu/java/text/WordBreakIterator.java\n \n gnu_java_text_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_java_text_source_files)))\n gnu_java_util_source_files = \\\n+classpath/gnu/java/util/Base64.java \\\n classpath/gnu/java/util/DoubleEnumeration.java \\\n classpath/gnu/java/util/EmptyEnumeration.java \\\n classpath/gnu/java/util/WeakIdentityHashMap.java \\\n@@ -2914,7 +2932,8 @@ classpath/gnu/javax/imageio/png/PNGTime.java\n gnu_javax_imageio_png_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_javax_imageio_png_source_files)))\n gnu_javax_management_source_files = \\\n classpath/gnu/javax/management/ListenerData.java \\\n-classpath/gnu/javax/management/Server.java\n+classpath/gnu/javax/management/Server.java \\\n+classpath/gnu/javax/management/Translator.java\n \n gnu_javax_naming_giop_source_files = \\\n classpath/gnu/javax/naming/giop/ContextContinuation.java \\\n@@ -2946,7 +2965,6 @@ classpath/gnu/javax/naming/jndi/url/rmi/rmiURLContextFactory.java\n gnu_javax_naming_jndi_url_rmi_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(gnu_javax_naming_jndi_url_rmi_source_files)))\n gnu_javax_net_ssl_source_files = \\\n classpath/gnu/javax/net/ssl/AbstractSessionContext.java \\\n-classpath/gnu/javax/net/ssl/Base64.java \\\n classpath/gnu/javax/net/ssl/EntropySource.java \\\n classpath/gnu/javax/net/ssl/NullManagerParameters.java \\\n classpath/gnu/javax/net/ssl/PreSharedKeyManager.java \\\n@@ -3754,6 +3772,7 @@ classpath/java/awt/ContainerOrderFocusTraversalPolicy.java \\\n classpath/java/awt/Cursor.java \\\n classpath/java/awt/DefaultFocusTraversalPolicy.java \\\n classpath/java/awt/DefaultKeyboardFocusManager.java \\\n+classpath/java/awt/Desktop.java \\\n classpath/java/awt/Dialog.java \\\n classpath/java/awt/Dimension.java \\\n classpath/java/awt/DisplayMode.java \\\n@@ -4059,6 +4078,7 @@ classpath/java/awt/peer/CheckboxPeer.java \\\n classpath/java/awt/peer/ChoicePeer.java \\\n classpath/java/awt/peer/ComponentPeer.java \\\n classpath/java/awt/peer/ContainerPeer.java \\\n+classpath/java/awt/peer/DesktopPeer.java \\\n classpath/java/awt/peer/DialogPeer.java \\\n classpath/java/awt/peer/FileDialogPeer.java \\\n classpath/java/awt/peer/FontPeer.java \\\n@@ -4101,6 +4121,7 @@ classpath/java/beans/AppletInitializer.java \\\n classpath/java/beans/BeanDescriptor.java \\\n classpath/java/beans/BeanInfo.java \\\n classpath/java/beans/Beans.java \\\n+classpath/java/beans/ConstructorProperties.java \\\n classpath/java/beans/Customizer.java \\\n classpath/java/beans/DefaultPersistenceDelegate.java \\\n classpath/java/beans/DesignMode.java \\\n@@ -4367,6 +4388,7 @@ java_lang_management_source_files = \\\n classpath/java/lang/management/ClassLoadingMXBean.java \\\n classpath/java/lang/management/CompilationMXBean.java \\\n classpath/java/lang/management/GarbageCollectorMXBean.java \\\n+classpath/java/lang/management/LockInfo.java \\\n classpath/java/lang/management/ManagementFactory.java \\\n classpath/java/lang/management/ManagementPermission.java \\\n classpath/java/lang/management/MemoryMXBean.java \\\n@@ -4375,6 +4397,7 @@ classpath/java/lang/management/MemoryNotificationInfo.java \\\n classpath/java/lang/management/MemoryPoolMXBean.java \\\n classpath/java/lang/management/MemoryType.java \\\n classpath/java/lang/management/MemoryUsage.java \\\n+classpath/java/lang/management/MonitorInfo.java \\\n classpath/java/lang/management/OperatingSystemMXBean.java \\\n classpath/java/lang/management/RuntimeMXBean.java \\\n classpath/java/lang/management/ThreadInfo.java \\\n@@ -4878,6 +4901,15 @@ classpath/java/text/SimpleDateFormat.java \\\n classpath/java/text/StringCharacterIterator.java\n \n java_text_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(java_text_source_files)))\n+java_text_spi_source_files = \\\n+classpath/java/text/spi/BreakIteratorProvider.java \\\n+classpath/java/text/spi/CollatorProvider.java \\\n+classpath/java/text/spi/DateFormatProvider.java \\\n+classpath/java/text/spi/DateFormatSymbolsProvider.java \\\n+classpath/java/text/spi/DecimalFormatSymbolsProvider.java \\\n+classpath/java/text/spi/NumberFormatProvider.java\n+\n+java_text_spi_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(java_text_spi_source_files)))\n java_util_source_files = \\\n classpath/java/util/AbstractCollection.java \\\n classpath/java/util/AbstractList.java \\\n@@ -4931,7 +4963,7 @@ classpath/java/util/LinkedList.java \\\n classpath/java/util/List.java \\\n classpath/java/util/ListIterator.java \\\n classpath/java/util/ListResourceBundle.java \\\n-java/util/Locale.java \\\n+classpath/java/util/Locale.java \\\n classpath/java/util/Map.java \\\n classpath/java/util/MissingFormatArgumentException.java \\\n classpath/java/util/MissingFormatWidthException.java \\\n@@ -4950,6 +4982,8 @@ classpath/external/jsr166/java/util/Queue.java \\\n classpath/java/util/Random.java \\\n classpath/java/util/RandomAccess.java \\\n classpath/java/util/ResourceBundle.java \\\n+classpath/java/util/ServiceConfigurationError.java \\\n+classpath/java/util/ServiceLoader.java \\\n classpath/java/util/Set.java \\\n classpath/java/util/SimpleTimeZone.java \\\n classpath/java/util/SortedMap.java \\\n@@ -5093,6 +5127,13 @@ classpath/java/util/regex/Pattern.java \\\n classpath/java/util/regex/PatternSyntaxException.java\n \n java_util_regex_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(java_util_regex_source_files)))\n+java_util_spi_source_files = \\\n+classpath/java/util/spi/CurrencyNameProvider.java \\\n+classpath/java/util/spi/LocaleNameProvider.java \\\n+classpath/java/util/spi/LocaleServiceProvider.java \\\n+classpath/java/util/spi/TimeZoneNameProvider.java\n+\n+java_util_spi_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(java_util_spi_source_files)))\n java_util_zip_source_files = \\\n classpath/java/util/zip/Adler32.java \\\n classpath/java/util/zip/CRC32.java \\\n@@ -5144,6 +5185,12 @@ classpath/javax/accessibility/AccessibleTextSequence.java \\\n classpath/javax/accessibility/AccessibleValue.java\n \n javax_accessibility_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(javax_accessibility_source_files)))\n+javax_activity_source_files = \\\n+classpath/javax/activity/ActivityCompletedException.java \\\n+classpath/javax/activity/ActivityRequiredException.java \\\n+classpath/javax/activity/InvalidActivityException.java\n+\n+javax_activity_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(javax_activity_source_files)))\n javax_crypto_source_files = \\\n classpath/javax/crypto/BadPaddingException.java \\\n classpath/javax/crypto/Cipher.java \\\n@@ -5245,11 +5292,18 @@ classpath/javax/imageio/stream/MemoryCacheImageOutputStream.java\n \n javax_management_source_files = \\\n classpath/javax/management/Attribute.java \\\n+classpath/javax/management/AttributeChangeNotification.java \\\n+classpath/javax/management/AttributeChangeNotificationFilter.java \\\n classpath/javax/management/AttributeList.java \\\n classpath/javax/management/AttributeNotFoundException.java \\\n+classpath/javax/management/AttributeValueExp.java \\\n classpath/javax/management/BadAttributeValueExpException.java \\\n classpath/javax/management/BadBinaryOpValueExpException.java \\\n classpath/javax/management/BadStringOperationException.java \\\n+classpath/javax/management/DefaultLoaderRepository.java \\\n+classpath/javax/management/Descriptor.java \\\n+classpath/javax/management/DescriptorAccess.java \\\n+classpath/javax/management/DescriptorRead.java \\\n classpath/javax/management/DynamicMBean.java \\\n classpath/javax/management/InstanceAlreadyExistsException.java \\\n classpath/javax/management/InstanceNotFoundException.java \\\n@@ -5258,6 +5312,7 @@ classpath/javax/management/InvalidApplicationException.java \\\n classpath/javax/management/InvalidAttributeValueException.java \\\n classpath/javax/management/JMException.java \\\n classpath/javax/management/JMRuntimeException.java \\\n+classpath/javax/management/JMX.java \\\n classpath/javax/management/ListenerNotFoundException.java \\\n classpath/javax/management/MBeanAttributeInfo.java \\\n classpath/javax/management/MBeanConstructorInfo.java \\\n@@ -5276,26 +5331,34 @@ classpath/javax/management/MBeanServerConnection.java \\\n classpath/javax/management/MBeanServerDelegate.java \\\n classpath/javax/management/MBeanServerDelegateMBean.java \\\n classpath/javax/management/MBeanServerFactory.java \\\n+classpath/javax/management/MBeanServerInvocationHandler.java \\\n classpath/javax/management/MBeanServerNotification.java \\\n classpath/javax/management/MBeanServerPermission.java \\\n classpath/javax/management/MBeanTrustPermission.java \\\n+classpath/javax/management/MXBean.java \\\n classpath/javax/management/MalformedObjectNameException.java \\\n classpath/javax/management/NotCompliantMBeanException.java \\\n classpath/javax/management/Notification.java \\\n classpath/javax/management/NotificationBroadcaster.java \\\n+classpath/javax/management/NotificationBroadcasterSupport.java \\\n classpath/javax/management/NotificationEmitter.java \\\n classpath/javax/management/NotificationFilter.java \\\n+classpath/javax/management/NotificationFilterSupport.java \\\n classpath/javax/management/NotificationListener.java \\\n classpath/javax/management/ObjectInstance.java \\\n classpath/javax/management/ObjectName.java \\\n classpath/javax/management/OperationsException.java \\\n+classpath/javax/management/PersistentMBean.java \\\n+classpath/javax/management/Query.java \\\n+classpath/javax/management/QueryEval.java \\\n classpath/javax/management/QueryExp.java \\\n classpath/javax/management/ReflectionException.java \\\n classpath/javax/management/RuntimeErrorException.java \\\n classpath/javax/management/RuntimeMBeanException.java \\\n classpath/javax/management/RuntimeOperationsException.java \\\n classpath/javax/management/ServiceNotFoundException.java \\\n classpath/javax/management/StandardMBean.java \\\n+classpath/javax/management/StringValueExp.java \\\n classpath/javax/management/ValueExp.java\n \n javax_management_header_files = $(patsubst classpath/%,%,$(patsubst %.java,%.h,$(javax_management_source_files)))\n@@ -5306,6 +5369,7 @@ javax_management_loading_header_files = $(patsubst classpath/%,%,$(patsubst %.ja\n javax_management_openmbean_source_files = \\\n classpath/javax/management/openmbean/ArrayType.java \\\n classpath/javax/management/openmbean/CompositeData.java \\\n+classpath/javax/management/openmbean/CompositeDataInvocationHandler.java \\\n classpath/javax/management/openmbean/CompositeDataSupport.java \\\n classpath/javax/management/openmbean/CompositeType.java \\\n classpath/javax/management/openmbean/InvalidKeyException.java \\\n@@ -7423,6 +7487,7 @@ all_packages_source_files = \\\n   java/security/spec.list \\\n   java/sql.list \\\n   java/text.list \\\n+  java/text/spi.list \\\n   java/util.list \\\n   java/util/concurrent.list \\\n   java/util/concurrent/atomic.list \\\n@@ -7431,8 +7496,10 @@ all_packages_source_files = \\\n   java/util/logging.list \\\n   java/util/prefs.list \\\n   java/util/regex.list \\\n+  java/util/spi.list \\\n   java/util/zip.list \\\n   javax/accessibility.list \\\n+  javax/activity.list \\\n   javax/crypto.list \\\n   javax/crypto/interfaces.list \\\n   javax/crypto/spec.list \\\n@@ -7670,6 +7737,7 @@ ordinary_header_files = \\\n   $(java_security_spec_header_files) \\\n   $(java_sql_header_files) \\\n   $(java_text_header_files) \\\n+  $(java_text_spi_header_files) \\\n   $(java_util_header_files) \\\n   $(java_util_concurrent_header_files) \\\n   $(java_util_concurrent_atomic_header_files) \\\n@@ -7678,8 +7746,10 @@ ordinary_header_files = \\\n   $(java_util_logging_header_files) \\\n   $(java_util_prefs_header_files) \\\n   $(java_util_regex_header_files) \\\n+  $(java_util_spi_header_files) \\\n   $(java_util_zip_header_files) \\\n   $(javax_accessibility_header_files) \\\n+  $(javax_activity_header_files) \\\n   $(javax_crypto_header_files) \\\n   $(javax_crypto_interfaces_header_files) \\\n   $(javax_crypto_spec_header_files) \\\n@@ -7794,6 +7864,7 @@ property_files = \\\n   classpath/resource/org/ietf/jgss/MessagesBundle.properties \\\n   classpath/resource/sun/rmi/rmic/messages.properties \\\n   classpath/resource/com/sun/tools/javac/messages.properties \\\n+  classpath/resource/META-INF/services/java.util.prefs.PreferencesFactory \\\n   classpath/resource/META-INF/services/java.util.prefs.PreferencesFactory.in \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiDeviceProvider \\\n   classpath/resource/META-INF/services/javax.sound.midi.spi.MidiFileReader \\\n@@ -8002,6 +8073,7 @@ gnu/java/lang/management/natVMGarbageCollectorMXBeanImpl.cc \\\n gnu/java/lang/management/natVMMemoryMXBeanImpl.cc \\\n gnu/java/lang/management/natVMMemoryManagerMXBeanImpl.cc \\\n gnu/java/lang/management/natVMMemoryPoolMXBeanImpl.cc \\\n+gnu/java/lang/management/natVMOperatingSystemMXBeanImpl.cc \\\n gnu/java/lang/management/natVMRuntimeMXBeanImpl.cc \\\n gnu/java/lang/management/natVMThreadMXBeanImpl.cc \\\n gnu/java/net/natPlainDatagramSocketImpl.cc \\\n@@ -8443,6 +8515,9 @@ gnu/java/lang/management/natVMMemoryManagerMXBeanImpl.lo:  \\\n gnu/java/lang/management/natVMMemoryPoolMXBeanImpl.lo:  \\\n \tgnu/java/lang/management/$(am__dirstamp) \\\n \tgnu/java/lang/management/$(DEPDIR)/$(am__dirstamp)\n+gnu/java/lang/management/natVMOperatingSystemMXBeanImpl.lo:  \\\n+\tgnu/java/lang/management/$(am__dirstamp) \\\n+\tgnu/java/lang/management/$(DEPDIR)/$(am__dirstamp)\n gnu/java/lang/management/natVMRuntimeMXBeanImpl.lo:  \\\n \tgnu/java/lang/management/$(am__dirstamp) \\\n \tgnu/java/lang/management/$(DEPDIR)/$(am__dirstamp)\n@@ -8930,6 +9005,8 @@ mostlyclean-compile:\n \t-rm -f gnu/java/lang/management/natVMMemoryManagerMXBeanImpl.lo\n \t-rm -f gnu/java/lang/management/natVMMemoryPoolMXBeanImpl.$(OBJEXT)\n \t-rm -f gnu/java/lang/management/natVMMemoryPoolMXBeanImpl.lo\n+\t-rm -f gnu/java/lang/management/natVMOperatingSystemMXBeanImpl.$(OBJEXT)\n+\t-rm -f gnu/java/lang/management/natVMOperatingSystemMXBeanImpl.lo\n \t-rm -f gnu/java/lang/management/natVMRuntimeMXBeanImpl.$(OBJEXT)\n \t-rm -f gnu/java/lang/management/natVMRuntimeMXBeanImpl.lo\n \t-rm -f gnu/java/lang/management/natVMThreadMXBeanImpl.$(OBJEXT)\n@@ -9115,6 +9192,7 @@ distclean-compile:\n @AMDEP_TRUE@@am__include@ @am__quote@gnu/java/lang/management/$(DEPDIR)/natVMMemoryMXBeanImpl.Plo@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@gnu/java/lang/management/$(DEPDIR)/natVMMemoryManagerMXBeanImpl.Plo@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@gnu/java/lang/management/$(DEPDIR)/natVMMemoryPoolMXBeanImpl.Plo@am__quote@\n+@AMDEP_TRUE@@am__include@ @am__quote@gnu/java/lang/management/$(DEPDIR)/natVMOperatingSystemMXBeanImpl.Plo@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@gnu/java/lang/management/$(DEPDIR)/natVMRuntimeMXBeanImpl.Plo@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@gnu/java/lang/management/$(DEPDIR)/natVMThreadMXBeanImpl.Plo@am__quote@\n @AMDEP_TRUE@@am__include@ @am__quote@gnu/java/net/$(DEPDIR)/natPlainDatagramSocketImpl.Plo@am__quote@\n@@ -11254,6 +11332,12 @@ java/text.list: $(java_text_source_files)\n \n -include java/text.deps\n \n+java/text/spi.list: $(java_text_spi_source_files)\n+\t@$(mkinstalldirs) $(dir $@)\n+\techo $(srcdir)/classpath/lib/java/text/spi/*.class > java/text/spi.list\n+\n+-include java/text/spi.deps\n+\n java/util.list: $(java_util_source_files)\n \t@$(mkinstalldirs) $(dir $@)\n \techo $(srcdir)/classpath/lib/java/util/*.class > java/util.list\n@@ -11302,6 +11386,12 @@ java/util/regex.list: $(java_util_regex_source_files)\n \n -include java/util/regex.deps\n \n+java/util/spi.list: $(java_util_spi_source_files)\n+\t@$(mkinstalldirs) $(dir $@)\n+\techo $(srcdir)/classpath/lib/java/util/spi/*.class > java/util/spi.list\n+\n+-include java/util/spi.deps\n+\n java/util/zip.list: $(java_util_zip_source_files)\n \t@$(mkinstalldirs) $(dir $@)\n \techo $(srcdir)/classpath/lib/java/util/zip/*.class > java/util/zip.list\n@@ -11314,6 +11404,12 @@ javax/accessibility.list: $(javax_accessibility_source_files)\n \n -include javax/accessibility.deps\n \n+javax/activity.list: $(javax_activity_source_files)\n+\t@$(mkinstalldirs) $(dir $@)\n+\techo $(srcdir)/classpath/lib/javax/activity/*.class > javax/activity.list\n+\n+-include javax/activity.deps\n+\n javax/crypto.list: $(javax_crypto_source_files)\n \t@$(mkinstalldirs) $(dir $@)\n \techo $(srcdir)/classpath/lib/javax/crypto/*.class > javax/crypto.list"}, {"sha": "87a79568ab77488157290b100ee335c3fce3446a", "filename": "libjava/classpath/ChangeLog", "status": "modified", "additions": 1925, "deletions": 36368, "changes": 38293, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b8cfb24e259b69d3f13b5b837be7ae1f504cf4c1", "filename": "libjava/classpath/ChangeLog-2006", "status": "added", "additions": 37380, "deletions": 0, "changes": 37380, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FChangeLog-2006", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FChangeLog-2006", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog-2006?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "ef38c1d23915c52a13249326c97c9c6681cd51f4", "filename": "libjava/classpath/ChangeLog.gcj", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FChangeLog.gcj", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FChangeLog.gcj", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FChangeLog.gcj?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,3 +1,11 @@\n+2007-05-31  Matthias Klose  <doko@ubuntu.com>\n+\n+\t* javax/management/NotificationBroadcasterSupport.java\n+\t(getNotificationInfo): Add cast.\n+\t* native/jni/qt-peer/Makefile.am (AM_CXXFLAGS): Add libstdc++ include\n+\tdirectories.\n+\t* native/jni/qt-peer/Makefile.in: Regenerate.\n+\n 2007-05-30  H.J. Lu  <hongjiu.lu@intel.com>\n \n \tPR libjava/32098"}, {"sha": "86ce66c64e48ff0d43d179610d1734acbfd2ea79", "filename": "libjava/classpath/INSTALL", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FINSTALL", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FINSTALL", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FINSTALL?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -50,6 +50,11 @@ Suggested Software\n         - gdk-pixbuf\n \n \t- XTest Extension (libXtst) for GdkRobot support in java.awt.\n+\t\n+\t- There is a bug in earlier versions of at-spi, atk, and gail, which are\n+\tused for GNOME accessibility.  Prior to version 1.18.0 of these packages,\n+\tgtk graphical applications should be run without accessibility (clear the\n+\tGTK_MODULES environment variable).\n \n \tFor building gcjwebplugin you'll need the Mozilla plugin\n \tsupport headers and libraries."}, {"sha": "4e3d8b86f6ec3cb3e22d4049320ba1bb642d2430", "filename": "libjava/classpath/LICENSE", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FLICENSE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FLICENSE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FLICENSE?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -358,3 +358,39 @@ the following notice:\n         (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF\n         THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF\n         SUCH DAMAGE.\n+\n+\n+* m4/ax_func_which_gethostbyname_r.m4\n+\n+  Copyright \ufffd 2005 Caolan McNamara <caolan@skynet.ie>\n+  Copyright \ufffd 2005 Daniel Richard G. <skunk@iskunk.org>\n+\n+  This program is free software; you can redistribute it and/or modify\n+  it under the terms of the GNU General Public License as published by\n+  the Free Software Foundation; either version 2 of the License, or\n+  (at your option) any later version.\n+\n+  This program is distributed in the hope that it will be useful, but\n+  WITHOUT ANY WARRANTY; without even the implied warranty of\n+  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n+  General Public License for more details.\n+\n+  You should have received a copy of the GNU General Public License\n+  along with this program; if not, write to the Free Software\n+  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+  USA.\n+\n+  As a special exception, the respective Autoconf Macro's copyright\n+  owner gives unlimited permission to copy, distribute and modify the\n+  configure scripts that are the output of Autoconf when processing the\n+  Macro. You need not follow the terms of the GNU General Public License\n+  when using or distributing such scripts, even though portions of the\n+  text of the Macro appear in them. The GNU General Public License\n+  (GPL) does govern all other use of the material that constitutes the\n+  Autoconf Macro.\n+\n+  This special exception to the GPL applies to versions of the\n+  Autoconf Macro released by the Autoconf Macro Archive. When you make\n+  and distribute a modified version of the Autoconf Macro, you may\n+  extend this special exception to the GPL to apply to your modified\n+  version as well."}, {"sha": "59cc3c0733b97905278c2d4fa7d913cf4feb5cf9", "filename": "libjava/classpath/Makefile.am", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FMakefile.am?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -10,7 +10,7 @@ ACLOCAL_AMFLAGS = -I m4 -I ../.. -I ../../config\n native: lib\n \n EXTRA_DIST = HACKING BUGS THANKYOU mauve-classpath LICENSE \\\n-             ChangeLog-2003 ChangeLog-2004 ChangeLog-2005 \\\n+             ChangeLog-2003 ChangeLog-2004 ChangeLog-2005 ChangeLog-2006 \\\n              ChangeLog.gnujaxp.1 ChangeLog.gnujaxp.2 ChangeLog.libxmlj \\\n \t     autogen.sh\n "}, {"sha": "cbec75149dd0bc17f0ba0a3d1a9d8dcbc1e73e30", "filename": "libjava/classpath/Makefile.in", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -66,6 +66,7 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n \t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n@@ -117,6 +118,8 @@ AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -181,18 +184,17 @@ FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -214,6 +216,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -353,7 +356,7 @@ SUBDIRS = lib doc external include native resource scripts tools $(EXAMPLESDIR)\n DIST_SUBDIRS = lib doc external include native resource scripts tools examples\n ACLOCAL_AMFLAGS = -I m4 -I ../.. -I ../../config\n EXTRA_DIST = HACKING BUGS THANKYOU mauve-classpath LICENSE \\\n-             ChangeLog-2003 ChangeLog-2004 ChangeLog-2005 \\\n+             ChangeLog-2003 ChangeLog-2004 ChangeLog-2005 ChangeLog-2006 \\\n              ChangeLog.gnujaxp.1 ChangeLog.gnujaxp.2 ChangeLog.libxmlj \\\n \t     autogen.sh\n "}, {"sha": "85630ffab3ca59e186a1b0e97cac47cd39a65190", "filename": "libjava/classpath/NEWS", "status": "modified", "additions": 46, "deletions": 4, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FNEWS", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2FNEWS", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2FNEWS?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,9 +1,51 @@\n-New in release 0.94 (UNRELEASED)\n-\n-* The ASM library is now included.  A separate copy is no longer needed.\n+New in release 0.95 (Apr 23, 2007)\n \n+* Full merge of 1.5 generics work.\n+* Added 1.6 java.util.ServiceLoader support.\n+* The ASM library is now included.  A separate copy is no longer\n+  needed.  gjavah works out of the box now.\n * The setReadTimeout and getReadTimeout methods have been added to\n-  java.net.URLConnection.  They are now fully implemented for http URLs.  \n+  java.net.URLConnection.  They are now fully implemented for http URLs.\n+* The java.lang.management implementation now includes the new features\n+  added in 1.6\n+* java.util.TimeZone now reads time zone information from the system\n+  zoneinfo files (see also runtime interface changes below).\n+* The collection classes have been updated to support all the 1.6\n+  additions.\n+* java.util.spi 1.6 package has been added and is used in java.text.\n+* Bootstrappable with OpenJDK javac compiler\n+  (use configure --with-javac).\n+* Large speedups (and locking behaviour updated) in Graphics2D cairo\n+  and freetype support.\n+* Better detection of browser plugin mechanism for mozilla, iceweasel,\n+  firefox on various platforms.\n+* Inclusion of generic javadoc classes in tools.zip to support more\n+  javadoc processing tools.\n+* Added documentation for command lines options for the included GNU\n+  Classpath Tools gjar, gjavah, gnative2ascii, gorbd, grmid,\n+  grmiregistry, gserialver and gtnameserv.\n+\n+Runtime interface changes:\n+\n+* gnu.java.lang.management.VMThreadMXBeanImpl has gained three new\n+  optional native methods to allow the 1.6 version of the threading\n+  bean to be supported.  One (getMonitorInfo) fills in information\n+  about object monitor locks held by a thread and is only required\n+  if the monitoring of object monitor locks is supported by the VM.\n+  The other two (findDeadlockedThreads and getLockInfo) are related\n+  to ownable synchronizers (part of the java.util.concurrent suite)\n+  and only required if monitoring of locks relating to these is\n+  supported by the VM.\n+* java.util.VMTimeZone and java.util.TimeZone have been refactored\n+  to simplify the reference implementation.  VMTimeZone.readtzFile()\n+  and VMTimeZone.skipFully() have been removed, and a new method\n+  VMTimeZone.readSysconfigClockFile() has been introduced.\n+* VMs need to set the system property \"gnu.java.util.zoneinfo.dir\"\n+  to point to the directory where zoneinfo files live.  In libgcj\n+  this is set to the value of the TZDATA environment variable, or\n+  \"/usr/share/zoneinfo\" if this is not set.\n+* VMFile has been extended to support new 1.6 methods (canExecute,\n+  setReadable, setWritable, setExecutable).\n \n New in release 0.93 (Dec 8, 2006)\n "}, {"sha": "aca1c3cf57303442a198838d8775694ae3558737", "filename": "libjava/classpath/aclocal.m4", "status": "modified", "additions": 29, "deletions": 6399, "changes": 6428, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Faclocal.m4?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "eb94e2258b3511c2dda850a4c96fe45cace970c0", "filename": "libjava/classpath/autogen.sh", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fautogen.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fautogen.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fautogen.sh?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,17 +38,14 @@ have_autoconf=false\n if autoconf --version < /dev/null > /dev/null 2>&1 ; then\n \tautoconf_version=`autoconf --version | sed 's/^[^0-9]*\\([0-9.][0-9.]*\\).*/\\1/'`\n \tcase $autoconf_version in\n-\t    2.59*)\n-\t\thave_autoconf=true\n-\t\t;;\n-\t    2.60*)\n+\t    2.59* | 2.6[0-9]* )\n \t\thave_autoconf=true\n \t\t;;\n \tesac\n fi\n if $have_autoconf ; then : ; else\n \techo\n-\techo \"You must have autoconf 2.59 or 2.60 installed for $PROJECT.\"\n+\techo \"You must have autoconf 2.59 or later installed for $PROJECT.\"\n \techo \"Install the appropriate package for your distribution,\"\n \techo \"or get the source tarball at http://ftp.gnu.org/gnu/autoconf/\"\n \tDIE=1\n@@ -65,14 +62,14 @@ elif automake --version < /dev/null > /dev/null 2>&1 ; then\n \tACLOCAL=aclocal\n \tautomake_version=`automake --version | sed 's/^[^0-9]*\\([0-9.][0-9.]*\\).*/\\1/'`\n \tcase $automake_version in\n-\t    1.9*)\n+\t    1.9* | 1.10*)\n \t\thave_automake=true\n \t\t;;\n \tesac\n fi\n if $have_automake ; then : ; else\n \techo\n-\techo \"You must have automake 1.9 installed to compile $PROJECT.\"\n+\techo \"You must have automake 1.9 or 1.10 installed to compile $PROJECT.\"\n \techo \"Install the appropriate package for your distribution,\"\n \techo \"or get the source tarball at http://ftp.gnu.org/gnu/automake/\"\n \tDIE=1"}, {"sha": "2b03b482280a3280c0705c4c85c3021dd8563ea2", "filename": "libjava/classpath/config.guess", "status": "modified", "additions": 388, "deletions": 289, "changes": 677, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfig.guess", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfig.guess", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfig.guess?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,9 +1,10 @@\n #! /bin/sh\n # Attempt to guess a canonical system name.\n #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,\n-#   2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n+#   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,\n+#   Inc.\n \n-timestamp='2003-06-17'\n+timestamp='2006-12-08'\n \n # This file is free software; you can redistribute it and/or modify it\n # under the terms of the GNU General Public License as published by\n@@ -17,13 +18,15 @@ timestamp='2003-06-17'\n #\n # You should have received a copy of the GNU General Public License\n # along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n+# Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA\n+# 02110-1301, USA.\n #\n # As a special exception to the GNU General Public License, if you\n # distribute this file as part of a program that contains a\n # configuration script generated by Autoconf, you may include it under\n # the same distribution terms that you use for the rest of that program.\n \n+\n # Originally written by Per Bothner <per@bothner.com>.\n # Please send patches to <config-patches@gnu.org>.  Submit a context\n # diff and a properly formatted ChangeLog entry.\n@@ -53,7 +56,7 @@ version=\"\\\n GNU config.guess ($timestamp)\n \n Originally written by Per Bothner.\n-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001\n+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005\n Free Software Foundation, Inc.\n \n This is free software; see the source for copying conditions.  There is NO\n@@ -66,11 +69,11 @@ Try \\`$me --help' for more information.\"\n while test $# -gt 0 ; do\n   case $1 in\n     --time-stamp | --time* | -t )\n-       echo \"$timestamp\" ; exit 0 ;;\n+       echo \"$timestamp\" ; exit ;;\n     --version | -v )\n-       echo \"$version\" ; exit 0 ;;\n+       echo \"$version\" ; exit ;;\n     --help | --h* | -h )\n-       echo \"$usage\"; exit 0 ;;\n+       echo \"$usage\"; exit ;;\n     -- )     # Stop option processing\n        shift; break ;;\n     - )\t# Use stdin as input.\n@@ -104,7 +107,7 @@ set_cc_for_build='\n trap \"exitcode=\\$?; (rm -f \\$tmpfiles 2>/dev/null; rmdir \\$tmp 2>/dev/null) && exit \\$exitcode\" 0 ;\n trap \"rm -f \\$tmpfiles 2>/dev/null; rmdir \\$tmp 2>/dev/null; exit 1\" 1 2 13 15 ;\n : ${TMPDIR=/tmp} ;\n- { tmp=`(umask 077 && mktemp -d -q \"$TMPDIR/cgXXXXXX\") 2>/dev/null` && test -n \"$tmp\" && test -d \"$tmp\" ; } ||\n+ { tmp=`(umask 077 && mktemp -d \"$TMPDIR/cgXXXXXX\") 2>/dev/null` && test -n \"$tmp\" && test -d \"$tmp\" ; } ||\n  { test -n \"$RANDOM\" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||\n  { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo \"Warning: creating insecure temp directory\" >&2 ; } ||\n  { echo \"$me: cannot create a temporary directory in $TMPDIR\" >&2 ; exit 1 ; } ;\n@@ -123,7 +126,7 @@ case $CC_FOR_BUILD,$HOST_CC,$CC in\n \t;;\n  ,,*)   CC_FOR_BUILD=$CC ;;\n  ,*,*)  CC_FOR_BUILD=$HOST_CC ;;\n-esac ;'\n+esac ; set_cc_for_build= ;'\n \n # This is needed to find uname on a Pyramid OSx when run in the BSD universe.\n # (ghazi@noc.rutgers.edu 1994-08-24)\n@@ -136,13 +139,6 @@ UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown\n UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown\n UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown\n \n-## for Red Hat Linux\n-if test -f /etc/redhat-release ; then\n-    VENDOR=redhat ;\n-else\n-    VENDOR= ;\n-fi\n-\n # Note: order is significant - the case branches are not exclusive.\n \n case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n@@ -165,6 +161,7 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n \t    arm*) machine=arm-unknown ;;\n \t    sh3el) machine=shl-unknown ;;\n \t    sh3eb) machine=sh-unknown ;;\n+\t    sh5el) machine=sh5le-unknown ;;\n \t    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;\n \tesac\n \t# The Operating System including object format, if it has switched\n@@ -203,50 +200,32 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n \t# contains redundant information, the shorter form:\n \t# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.\n \techo \"${machine}-${os}${release}\"\n-\texit 0 ;;\n-    amiga:OpenBSD:*:*)\n-\techo m68k-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    arc:OpenBSD:*:*)\n-\techo mipsel-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    hp300:OpenBSD:*:*)\n-\techo m68k-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    mac68k:OpenBSD:*:*)\n-\techo m68k-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    macppc:OpenBSD:*:*)\n-\techo powerpc-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    mvme68k:OpenBSD:*:*)\n-\techo m68k-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    mvme88k:OpenBSD:*:*)\n-\techo m88k-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    mvmeppc:OpenBSD:*:*)\n-\techo powerpc-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    pmax:OpenBSD:*:*)\n-\techo mipsel-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    sgi:OpenBSD:*:*)\n-\techo mipseb-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    sun3:OpenBSD:*:*)\n-\techo m68k-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n-    wgrisc:OpenBSD:*:*)\n-\techo mipsel-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:OpenBSD:*:*)\n-\techo ${UNAME_MACHINE}-unknown-openbsd${UNAME_RELEASE}\n-\texit 0 ;;\n+\tUNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`\n+\techo ${UNAME_MACHINE_ARCH}-unknown-openbsd${UNAME_RELEASE}\n+\texit ;;\n+    *:ekkoBSD:*:*)\n+\techo ${UNAME_MACHINE}-unknown-ekkobsd${UNAME_RELEASE}\n+\texit ;;\n+    *:SolidBSD:*:*)\n+\techo ${UNAME_MACHINE}-unknown-solidbsd${UNAME_RELEASE}\n+\texit ;;\n+    macppc:MirBSD:*:*)\n+\techo powerpc-unknown-mirbsd${UNAME_RELEASE}\n+\texit ;;\n+    *:MirBSD:*:*)\n+\techo ${UNAME_MACHINE}-unknown-mirbsd${UNAME_RELEASE}\n+\texit ;;\n     alpha:OSF1:*:*)\n-\tif test $UNAME_RELEASE = \"V4.0\"; then\n+\tcase $UNAME_RELEASE in\n+\t*4.0)\n \t\tUNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`\n-\tfi\n+\t\t;;\n+\t*5.*)\n+\t        UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $4}'`\n+\t\t;;\n+\tesac\n \t# According to Compaq, /usr/sbin/psrinfo has been available on\n \t# OSF/1 and Tru64 systems produced since 1995.  I hope that\n \t# covers most systems running today.  This code pipes the CPU\n@@ -284,75 +263,82 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n \t    \"EV7.9 (21364A)\")\n \t\tUNAME_MACHINE=\"alphaev79\" ;;\n \tesac\n+\t# A Pn.n version is a patched version.\n \t# A Vn.n version is a released version.\n \t# A Tn.n version is a released field test version.\n \t# A Xn.n version is an unreleased experimental baselevel.\n \t# 1.2 uses \"1.2\" for uname -r.\n-\techo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[VTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`\n-\texit 0 ;;\n-    Alpha*:OpenVMS:*:*)\n-\techo alpha-hp-vms\n-\texit 0 ;;\n+\techo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[PVTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`\n+\texit ;;\n     Alpha\\ *:Windows_NT*:*)\n \t# How do we know it's Interix rather than the generic POSIX subsystem?\n \t# Should we change UNAME_MACHINE based on the output of uname instead\n \t# of the specific Alpha model?\n \techo alpha-pc-interix\n-\texit 0 ;;\n+\texit ;;\n     21064:Windows_NT:50:3)\n \techo alpha-dec-winnt3.5\n-\texit 0 ;;\n+\texit ;;\n     Amiga*:UNIX_System_V:4.0:*)\n \techo m68k-unknown-sysv4\n-\texit 0;;\n+\texit ;;\n     *:[Aa]miga[Oo][Ss]:*:*)\n \techo ${UNAME_MACHINE}-unknown-amigaos\n-\texit 0 ;;\n+\texit ;;\n     *:[Mm]orph[Oo][Ss]:*:*)\n \techo ${UNAME_MACHINE}-unknown-morphos\n-\texit 0 ;;\n+\texit ;;\n     *:OS/390:*:*)\n \techo i370-ibm-openedition\n-\texit 0 ;;\n+\texit ;;\n+    *:z/VM:*:*)\n+\techo s390-ibm-zvmoe\n+\texit ;;\n+    *:OS400:*:*)\n+        echo powerpc-ibm-os400\n+\texit ;;\n     arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)\n \techo arm-acorn-riscix${UNAME_RELEASE}\n-\texit 0;;\n+\texit ;;\n+    arm:riscos:*:*|arm:RISCOS:*:*)\n+\techo arm-unknown-riscos\n+\texit ;;\n     SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)\n \techo hppa1.1-hitachi-hiuxmpp\n-\texit 0;;\n+\texit ;;\n     Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)\n \t# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.\n \tif test \"`(/bin/universe) 2>/dev/null`\" = att ; then\n \t\techo pyramid-pyramid-sysv3\n \telse\n \t\techo pyramid-pyramid-bsd\n \tfi\n-\texit 0 ;;\n+\texit ;;\n     NILE*:*:*:dcosx)\n \techo pyramid-pyramid-svr4\n-\texit 0 ;;\n+\texit ;;\n     DRS?6000:unix:4.0:6*)\n \techo sparc-icl-nx6\n-\texit 0 ;;\n-    DRS?6000:UNIX_SV:4.2*:7*)\n+\texit ;;\n+    DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)\n \tcase `/usr/bin/uname -p` in\n-\t    sparc) echo sparc-icl-nx7 && exit 0 ;;\n+\t    sparc) echo sparc-icl-nx7; exit ;;\n \tesac ;;\n     sun4H:SunOS:5.*:*)\n \techo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit 0 ;;\n+\texit ;;\n     sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)\n \techo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit 0 ;;\n+\texit ;;\n     i86pc:SunOS:5.*:*)\n \techo i386-pc-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit 0 ;;\n+\texit ;;\n     sun4*:SunOS:6*:*)\n \t# According to config.sub, this is the proper way to canonicalize\n \t# SunOS6.  Hard to guess exactly what SunOS6 will be like, but\n \t# it's likely to be more like Solaris than SunOS4.\n \techo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit 0 ;;\n+\texit ;;\n     sun4*:SunOS:*:*)\n \tcase \"`/usr/bin/arch -k`\" in\n \t    Series*|S4*)\n@@ -361,10 +347,10 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n \tesac\n \t# Japanese Language versions have a version number like `4.1.3-JL'.\n \techo sparc-sun-sunos`echo ${UNAME_RELEASE}|sed -e 's/-/_/'`\n-\texit 0 ;;\n+\texit ;;\n     sun3*:SunOS:*:*)\n \techo m68k-sun-sunos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     sun*:*:4.2BSD:*)\n \tUNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`\n \ttest \"x${UNAME_RELEASE}\" = \"x\" && UNAME_RELEASE=3\n@@ -376,10 +362,10 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n \t\techo sparc-sun-sunos${UNAME_RELEASE}\n \t\t;;\n \tesac\n-\texit 0 ;;\n+\texit ;;\n     aushp:SunOS:*:*)\n \techo sparc-auspex-sunos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     # The situation for MiNT is a little confusing.  The machine name\n     # can be virtually everything (everything which is not\n     # \"atarist\" or \"atariste\" at least should have a processor\n@@ -390,37 +376,40 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n     # be no problem.\n     atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)\n         echo m68k-atari-mint${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)\n \techo m68k-atari-mint${UNAME_RELEASE}\n-        exit 0 ;;\n+        exit ;;\n     *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)\n         echo m68k-atari-mint${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)\n         echo m68k-milan-mint${UNAME_RELEASE}\n-        exit 0 ;;\n+        exit ;;\n     hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)\n         echo m68k-hades-mint${UNAME_RELEASE}\n-        exit 0 ;;\n+        exit ;;\n     *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)\n         echo m68k-unknown-mint${UNAME_RELEASE}\n-        exit 0 ;;\n+        exit ;;\n+    m68k:machten:*:*)\n+\techo m68k-apple-machten${UNAME_RELEASE}\n+\texit ;;\n     powerpc:machten:*:*)\n \techo powerpc-apple-machten${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     RISC*:Mach:*:*)\n \techo mips-dec-mach_bsd4.3\n-\texit 0 ;;\n+\texit ;;\n     RISC*:ULTRIX:*:*)\n \techo mips-dec-ultrix${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     VAX*:ULTRIX*:*:*)\n \techo vax-dec-ultrix${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     2020:CLIX:*:* | 2430:CLIX:*:*)\n \techo clipper-intergraph-clix${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     mips:*:*:UMIPS | mips:*:*:RISCos)\n \teval $set_cc_for_build\n \tsed 's/^\t//' << EOF >$dummy.c\n@@ -444,32 +433,33 @@ case \"${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\" in\n \t  exit (-1);\n \t}\n EOF\n-\t$CC_FOR_BUILD -o $dummy $dummy.c \\\n-\t  && $dummy `echo \"${UNAME_RELEASE}\" | sed -n 's/\\([0-9]*\\).*/\\1/p'` \\\n-\t  && exit 0\n+\t$CC_FOR_BUILD -o $dummy $dummy.c &&\n+\t  dummyarg=`echo \"${UNAME_RELEASE}\" | sed -n 's/\\([0-9]*\\).*/\\1/p'` &&\n+\t  SYSTEM_NAME=`$dummy $dummyarg` &&\n+\t    { echo \"$SYSTEM_NAME\"; exit; }\n \techo mips-mips-riscos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     Motorola:PowerMAX_OS:*:*)\n \techo powerpc-motorola-powermax\n-\texit 0 ;;\n+\texit ;;\n     Motorola:*:4.3:PL8-*)\n \techo powerpc-harris-powermax\n-\texit 0 ;;\n+\texit ;;\n     Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)\n \techo powerpc-harris-powermax\n-\texit 0 ;;\n+\texit ;;\n     Night_Hawk:Power_UNIX:*:*)\n \techo powerpc-harris-powerunix\n-\texit 0 ;;\n+\texit ;;\n     m88k:CX/UX:7*:*)\n \techo m88k-harris-cxux7\n-\texit 0 ;;\n+\texit ;;\n     m88k:*:4*:R4*)\n \techo m88k-motorola-sysv4\n-\texit 0 ;;\n+\texit ;;\n     m88k:*:3*:R3*)\n \techo m88k-motorola-sysv3\n-\texit 0 ;;\n+\texit ;;\n     AViiON:dgux:*:*)\n         # DG/UX returns AViiON for all architectures\n         UNAME_PROCESSOR=`/usr/bin/uname -p`\n@@ -485,37 +475,37 @@ EOF\n \telse\n \t    echo i586-dg-dgux${UNAME_RELEASE}\n \tfi\n- \texit 0 ;;\n+ \texit ;;\n     M88*:DolphinOS:*:*)\t# DolphinOS (SVR3)\n \techo m88k-dolphin-sysv3\n-\texit 0 ;;\n+\texit ;;\n     M88*:*:R3*:*)\n \t# Delta 88k system running SVR3\n \techo m88k-motorola-sysv3\n-\texit 0 ;;\n+\texit ;;\n     XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)\n \techo m88k-tektronix-sysv3\n-\texit 0 ;;\n+\texit ;;\n     Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)\n \techo m68k-tektronix-bsd\n-\texit 0 ;;\n+\texit ;;\n     *:IRIX*:*:*)\n \techo mips-sgi-irix`echo ${UNAME_RELEASE}|sed -e 's/-/_/g'`\n-\texit 0 ;;\n+\texit ;;\n     ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.\n-\techo romp-ibm-aix      # uname -m gives an 8 hex-code CPU id\n-\texit 0 ;;              # Note that: echo \"'`uname -s`'\" gives 'AIX '\n+\techo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id\n+\texit ;;               # Note that: echo \"'`uname -s`'\" gives 'AIX '\n     i*86:AIX:*:*)\n \techo i386-ibm-aix\n-\texit 0 ;;\n+\texit ;;\n     ia64:AIX:*:*)\n \tif [ -x /usr/bin/oslevel ] ; then\n \t\tIBM_REV=`/usr/bin/oslevel`\n \telse\n \t\tIBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}\n \tfi\n \techo ${UNAME_MACHINE}-ibm-aix${IBM_REV}\n-\texit 0 ;;\n+\texit ;;\n     *:AIX:2:3)\n \tif grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then\n \t\teval $set_cc_for_build\n@@ -530,14 +520,18 @@ EOF\n \t\t\texit(0);\n \t\t\t}\n EOF\n-\t\t$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0\n-\t\techo rs6000-ibm-aix3.2.5\n+\t\tif $CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy`\n+\t\tthen\n+\t\t\techo \"$SYSTEM_NAME\"\n+\t\telse\n+\t\t\techo rs6000-ibm-aix3.2.5\n+\t\tfi\n \telif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then\n \t\techo rs6000-ibm-aix3.2.4\n \telse\n \t\techo rs6000-ibm-aix3.2\n \tfi\n-\texit 0 ;;\n+\texit ;;\n     *:AIX:*:[45])\n \tIBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`\n \tif /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then\n@@ -551,28 +545,28 @@ EOF\n \t\tIBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}\n \tfi\n \techo ${IBM_ARCH}-ibm-aix${IBM_REV}\n-\texit 0 ;;\n+\texit ;;\n     *:AIX:*:*)\n \techo rs6000-ibm-aix\n-\texit 0 ;;\n+\texit ;;\n     ibmrt:4.4BSD:*|romp-ibm:BSD:*)\n \techo romp-ibm-bsd4.4\n-\texit 0 ;;\n+\texit ;;\n     ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and\n \techo romp-ibm-bsd${UNAME_RELEASE}   # 4.3 with uname added to\n-\texit 0 ;;                           # report: romp-ibm BSD 4.3\n+\texit ;;                             # report: romp-ibm BSD 4.3\n     *:BOSX:*:*)\n \techo rs6000-bull-bosx\n-\texit 0 ;;\n+\texit ;;\n     DPX/2?00:B.O.S.:*:*)\n \techo m68k-bull-sysv3\n-\texit 0 ;;\n+\texit ;;\n     9000/[34]??:4.3bsd:1.*:*)\n \techo m68k-hp-bsd\n-\texit 0 ;;\n+\texit ;;\n     hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)\n \techo m68k-hp-bsd4.4\n-\texit 0 ;;\n+\texit ;;\n     9000/[34678]??:HP-UX:*:*)\n \tHPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`\n \tcase \"${UNAME_MACHINE}\" in\n@@ -634,21 +628,31 @@ EOF\n \tesac\n \tif [ ${HP_ARCH} = \"hppa2.0w\" ]\n \tthen\n-\t    # avoid double evaluation of $set_cc_for_build\n-\t    test -n \"$CC_FOR_BUILD\" || eval $set_cc_for_build\n-\t    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/dev/null\n+\t    eval $set_cc_for_build\n+\n+\t    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating\n+\t    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler\n+\t    # generating 64-bit code.  GNU and HP use different nomenclature:\n+\t    #\n+\t    # $ CC_FOR_BUILD=cc ./config.guess\n+\t    # => hppa2.0w-hp-hpux11.23\n+\t    # $ CC_FOR_BUILD=\"cc +DA2.0w\" ./config.guess\n+\t    # => hppa64-hp-hpux11.23\n+\n+\t    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E - 2>/dev/null) |\n+\t\tgrep __LP64__ >/dev/null\n \t    then\n \t\tHP_ARCH=\"hppa2.0w\"\n \t    else\n \t\tHP_ARCH=\"hppa64\"\n \t    fi\n \tfi\n \techo ${HP_ARCH}-hp-hpux${HPUX_REV}\n-\texit 0 ;;\n+\texit ;;\n     ia64:HP-UX:*:*)\n \tHPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`\n \techo ia64-hp-hpux${HPUX_REV}\n-\texit 0 ;;\n+\texit ;;\n     3050*:HI-UX:*:*)\n \teval $set_cc_for_build\n \tsed 's/^\t//' << EOF >$dummy.c\n@@ -676,150 +680,179 @@ EOF\n \t  exit (0);\n \t}\n EOF\n-\t$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0\n+\t$CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy` &&\n+\t\t{ echo \"$SYSTEM_NAME\"; exit; }\n \techo unknown-hitachi-hiuxwe2\n-\texit 0 ;;\n+\texit ;;\n     9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )\n \techo hppa1.1-hp-bsd\n-\texit 0 ;;\n+\texit ;;\n     9000/8??:4.3bsd:*:*)\n \techo hppa1.0-hp-bsd\n-\texit 0 ;;\n+\texit ;;\n     *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)\n \techo hppa1.0-hp-mpeix\n-\texit 0 ;;\n+\texit ;;\n     hp7??:OSF1:*:* | hp8?[79]:OSF1:*:* )\n \techo hppa1.1-hp-osf\n-\texit 0 ;;\n+\texit ;;\n     hp8??:OSF1:*:*)\n \techo hppa1.0-hp-osf\n-\texit 0 ;;\n+\texit ;;\n     i*86:OSF1:*:*)\n \tif [ -x /usr/sbin/sysversion ] ; then\n \t    echo ${UNAME_MACHINE}-unknown-osf1mk\n \telse\n \t    echo ${UNAME_MACHINE}-unknown-osf1\n \tfi\n-\texit 0 ;;\n+\texit ;;\n     parisc*:Lites*:*:*)\n \techo hppa1.1-hp-lites\n-\texit 0 ;;\n+\texit ;;\n     C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)\n \techo c1-convex-bsd\n-        exit 0 ;;\n+        exit ;;\n     C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)\n \tif getsysinfo -f scalar_acc\n \tthen echo c32-convex-bsd\n \telse echo c2-convex-bsd\n \tfi\n-        exit 0 ;;\n+        exit ;;\n     C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)\n \techo c34-convex-bsd\n-        exit 0 ;;\n+        exit ;;\n     C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)\n \techo c38-convex-bsd\n-        exit 0 ;;\n+        exit ;;\n     C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)\n \techo c4-convex-bsd\n-        exit 0 ;;\n+        exit ;;\n     CRAY*Y-MP:*:*:*)\n \techo ymp-cray-unicos${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit 0 ;;\n+\texit ;;\n     CRAY*[A-Z]90:*:*:*)\n \techo ${UNAME_MACHINE}-cray-unicos${UNAME_RELEASE} \\\n \t| sed -e 's/CRAY.*\\([A-Z]90\\)/\\1/' \\\n \t      -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ \\\n \t      -e 's/\\.[^.]*$/.X/'\n-\texit 0 ;;\n+\texit ;;\n     CRAY*TS:*:*:*)\n \techo t90-cray-unicos${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit 0 ;;\n+\texit ;;\n     CRAY*T3E:*:*:*)\n \techo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit 0 ;;\n+\texit ;;\n     CRAY*SV1:*:*:*)\n \techo sv1-cray-unicos${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit 0 ;;\n+\texit ;;\n     *:UNICOS/mp:*:*)\n-\techo nv1-cray-unicosmp${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/' \n-\texit 0 ;;\n+\techo craynv-cray-unicosmp${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n+\texit ;;\n     F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)\n \tFUJITSU_PROC=`uname -m | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`\n         FUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\\///'`\n         FUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e 's/ /_/'`\n         echo \"${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\"\n-        exit 0 ;;\n+        exit ;;\n+    5000:UNIX_System_V:4.*:*)\n+        FUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\\///'`\n+        FUJITSU_REL=`echo ${UNAME_RELEASE} | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/ /_/'`\n+        echo \"sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\"\n+\texit ;;\n     i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\\ Embedded/OS:*:*)\n \techo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     sparc*:BSD/OS:*:*)\n \techo sparc-unknown-bsdi${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:BSD/OS:*:*)\n \techo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}\n-\texit 0 ;;\n-    *:FreeBSD:*:*|*:GNU/FreeBSD:*:*)\n-\t# Determine whether the default compiler uses glibc.\n-\teval $set_cc_for_build\n-\tsed 's/^\t//' << EOF >$dummy.c\n-\t#include <features.h>\n-\t#if __GLIBC__ >= 2\n-\tLIBC=gnu\n-\t#else\n-\tLIBC=\n-\t#endif\n-EOF\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`\n-\techo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`${LIBC:+-$LIBC}\n-\texit 0 ;;\n+\texit ;;\n+    *:FreeBSD:*:*)\n+\tcase ${UNAME_MACHINE} in\n+\t    pc98)\n+\t\techo i386-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;\n+\t    amd64)\n+\t\techo x86_64-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;\n+\t    *)\n+\t\techo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;\n+\tesac\n+\texit ;;\n     i*:CYGWIN*:*)\n \techo ${UNAME_MACHINE}-pc-cygwin\n-\texit 0 ;;\n+\texit ;;\n     i*:MINGW*:*)\n \techo ${UNAME_MACHINE}-pc-mingw32\n-\texit 0 ;;\n+\texit ;;\n+    i*:windows32*:*)\n+    \t# uname -m includes \"-pc\" on this system.\n+    \techo ${UNAME_MACHINE}-mingw32\n+\texit ;;\n     i*:PW*:*)\n \techo ${UNAME_MACHINE}-pc-pw32\n-\texit 0 ;;\n-    x86:Interix*:[34]*)\n-\techo i586-pc-interix${UNAME_RELEASE}|sed -e 's/\\..*//'\n-\texit 0 ;;\n+\texit ;;\n+    x86:Interix*:[3456]*)\n+\techo i586-pc-interix${UNAME_RELEASE}\n+\texit ;;\n+    EM64T:Interix*:[3456]* | authenticamd:Interix*:[3456]*)\n+\techo x86_64-unknown-interix${UNAME_RELEASE}\n+\texit ;;\n     [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)\n \techo i${UNAME_MACHINE}-pc-mks\n-\texit 0 ;;\n+\texit ;;\n     i*:Windows_NT*:* | Pentium*:Windows_NT*:*)\n \t# How do we know it's Interix rather than the generic POSIX subsystem?\n \t# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we\n \t# UNAME_MACHINE based on the output of uname instead of i386?\n \techo i586-pc-interix\n-\texit 0 ;;\n+\texit ;;\n     i*:UWIN*:*)\n \techo ${UNAME_MACHINE}-pc-uwin\n-\texit 0 ;;\n+\texit ;;\n+    amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)\n+\techo x86_64-unknown-cygwin\n+\texit ;;\n     p*:CYGWIN*:*)\n \techo powerpcle-unknown-cygwin\n-\texit 0 ;;\n+\texit ;;\n     prep*:SunOS:5.*:*)\n \techo powerpcle-unknown-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit 0 ;;\n+\texit ;;\n     *:GNU:*:*)\n+\t# the GNU system\n \techo `echo ${UNAME_MACHINE}|sed -e 's,[-/].*$,,'`-unknown-gnu`echo ${UNAME_RELEASE}|sed -e 's,/.*$,,'`\n-\texit 0 ;;\n+\texit ;;\n+    *:GNU/*:*:*)\n+\t# other systems with GNU libc and userland\n+\techo ${UNAME_MACHINE}-unknown-`echo ${UNAME_SYSTEM} | sed 's,^[^/]*/,,' | tr '[A-Z]' '[a-z]'``echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`-gnu\n+\texit ;;\n     i*86:Minix:*:*)\n \techo ${UNAME_MACHINE}-pc-minix\n-\texit 0 ;;\n+\texit ;;\n     arm*:Linux:*:*)\n \techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit 0 ;;\n+\texit ;;\n+    avr32*:Linux:*:*)\n+\techo ${UNAME_MACHINE}-unknown-linux-gnu\n+\texit ;;\n     cris:Linux:*:*)\n \techo cris-axis-linux-gnu\n-\texit 0 ;;\n+\texit ;;\n+    crisv32:Linux:*:*)\n+\techo crisv32-axis-linux-gnu\n+\texit ;;\n+    frv:Linux:*:*)\n+    \techo frv-unknown-linux-gnu\n+\texit ;;\n     ia64:Linux:*:*)\n-\techo ${UNAME_MACHINE}-${VENDOR:-unknown}-linux-gnu\n-\texit 0 ;;\n+\techo ${UNAME_MACHINE}-unknown-linux-gnu\n+\texit ;;\n+    m32r*:Linux:*:*)\n+\techo ${UNAME_MACHINE}-unknown-linux-gnu\n+\texit ;;\n     m68*:Linux:*:*)\n \techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit 0 ;;\n+\texit ;;\n     mips:Linux:*:*)\n \teval $set_cc_for_build\n \tsed 's/^\t//' << EOF >$dummy.c\n@@ -836,8 +869,12 @@ EOF\n \t#endif\n \t#endif\n EOF\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`\n-\ttest x\"${CPU}\" != x && echo \"${CPU}-unknown-linux-gnu\" && exit 0\n+\teval \"`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '\n+\t    /^CPU/{\n+\t\ts: ::g\n+\t\tp\n+\t    }'`\"\n+\ttest x\"${CPU}\" != x && { echo \"${CPU}-unknown-linux-gnu\"; exit; }\n \t;;\n     mips64:Linux:*:*)\n \teval $set_cc_for_build\n@@ -855,15 +892,22 @@ EOF\n \t#endif\n \t#endif\n EOF\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`\n-\ttest x\"${CPU}\" != x && echo \"${CPU}-unknown-linux-gnu\" && exit 0\n+\teval \"`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '\n+\t    /^CPU/{\n+\t\ts: ::g\n+\t\tp\n+\t    }'`\"\n+\ttest x\"${CPU}\" != x && { echo \"${CPU}-unknown-linux-gnu\"; exit; }\n \t;;\n+    or32:Linux:*:*)\n+\techo or32-unknown-linux-gnu\n+\texit ;;\n     ppc:Linux:*:*)\n-\techo powerpc-${VENDOR:-unknown}-linux-gnu\n-\texit 0 ;;\n+\techo powerpc-unknown-linux-gnu\n+\texit ;;\n     ppc64:Linux:*:*)\n-\techo powerpc64-${VENDOR:-unknown}-linux-gnu\n-\texit 0 ;;\n+\techo powerpc64-unknown-linux-gnu\n+\texit ;;\n     alpha:Linux:*:*)\n \tcase `sed -n '/^cpu model/s/^.*: \\(.*\\)/\\1/p' < /proc/cpuinfo` in\n \t  EV5)   UNAME_MACHINE=alphaev5 ;;\n@@ -877,33 +921,39 @@ EOF\n \tobjdump --private-headers /bin/sh | grep ld.so.1 >/dev/null\n \tif test \"$?\" = 0 ; then LIBC=\"libc1\" ; else LIBC=\"\" ; fi\n \techo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}\n-\texit 0 ;;\n+\texit ;;\n     parisc:Linux:*:* | hppa:Linux:*:*)\n \t# Look for CPU level\n \tcase `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in\n \t  PA7*) echo hppa1.1-unknown-linux-gnu ;;\n \t  PA8*) echo hppa2.0-unknown-linux-gnu ;;\n \t  *)    echo hppa-unknown-linux-gnu ;;\n \tesac\n-\texit 0 ;;\n+\texit ;;\n     parisc64:Linux:*:* | hppa64:Linux:*:*)\n \techo hppa64-unknown-linux-gnu\n-\texit 0 ;;\n+\texit ;;\n     s390:Linux:*:* | s390x:Linux:*:*)\n-\techo ${UNAME_MACHINE}-${VENDOR:-ibm}-linux-gnu\n-\texit 0 ;;\n+\techo ${UNAME_MACHINE}-ibm-linux\n+\texit ;;\n     sh64*:Linux:*:*)\n     \techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit 0 ;;\n+\texit ;;\n     sh*:Linux:*:*)\n \techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit 0 ;;\n+\texit ;;\n     sparc:Linux:*:* | sparc64:Linux:*:*)\n \techo ${UNAME_MACHINE}-unknown-linux-gnu\n-\texit 0 ;;\n+\texit ;;\n+    vax:Linux:*:*)\n+\techo ${UNAME_MACHINE}-dec-linux-gnu\n+\texit ;;\n     x86_64:Linux:*:*)\n-\techo x86_64-${VENDOR:-unknown}-linux-gnu\n-\texit 0 ;;\n+\techo x86_64-unknown-linux-gnu\n+\texit ;;\n+    xtensa:Linux:*:*)\n+    \techo xtensa-unknown-linux-gnu\n+\texit ;;\n     i*86:Linux:*:*)\n \t# The BFD linker knows what the default object file format is, so\n \t# first see if it will tell us. cd to the root directory to prevent\n@@ -921,15 +971,15 @@ EOF\n \t\t;;\n \t  a.out-i386-linux)\n \t\techo \"${UNAME_MACHINE}-pc-linux-gnuaout\"\n-\t\texit 0 ;;\n+\t\texit ;;\n \t  coff-i386)\n \t\techo \"${UNAME_MACHINE}-pc-linux-gnucoff\"\n-\t\texit 0 ;;\n+\t\texit ;;\n \t  \"\")\n \t\t# Either a pre-BFD a.out linker (linux-gnuoldld) or\n \t\t# one that does not give us useful --help.\n \t\techo \"${UNAME_MACHINE}-pc-linux-gnuoldld\"\n-\t\texit 0 ;;\n+\t\texit ;;\n \tesac\n \t# Determine whether the default compiler is a.out or elf\n \teval $set_cc_for_build\n@@ -946,64 +996,78 @@ EOF\n \tLIBC=gnulibc1\n \t# endif\n \t#else\n-\t#ifdef __INTEL_COMPILER\n+\t#if defined(__INTEL_COMPILER) || defined(__PGI) || defined(__SUNPRO_C) || defined(__SUNPRO_CC)\n \tLIBC=gnu\n \t#else\n \tLIBC=gnuaout\n \t#endif\n \t#endif\n+\t#ifdef __dietlibc__\n+\tLIBC=dietlibc\n+\t#endif\n EOF\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`\n-\ttest x\"${LIBC}\" != x && echo \"${UNAME_MACHINE}-${VENDOR:-pc}-linux-${LIBC}\" && exit 0\n-\ttest x\"${TENTATIVE}\" != x && echo \"${TENTATIVE}\" && exit 0\n+\teval \"`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '\n+\t    /^LIBC/{\n+\t\ts: ::g\n+\t\tp\n+\t    }'`\"\n+\ttest x\"${LIBC}\" != x && {\n+\t\techo \"${UNAME_MACHINE}-pc-linux-${LIBC}\"\n+\t\texit\n+\t}\n+\ttest x\"${TENTATIVE}\" != x && { echo \"${TENTATIVE}\"; exit; }\n \t;;\n     i*86:DYNIX/ptx:4*:*)\n \t# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.\n \t# earlier versions are messed up and put the nodename in both\n \t# sysname and nodename.\n \techo i386-sequent-sysv4\n-\texit 0 ;;\n+\texit ;;\n     i*86:UNIX_SV:4.2MP:2.*)\n         # Unixware is an offshoot of SVR4, but it has its own version\n         # number series starting with 2...\n         # I am not positive that other SVR4 systems won't match this,\n \t# I just have to hope.  -- rms.\n         # Use sysv4.2uw... so that sysv4* matches it.\n \techo ${UNAME_MACHINE}-pc-sysv4.2uw${UNAME_VERSION}\n-\texit 0 ;;\n+\texit ;;\n     i*86:OS/2:*:*)\n \t# If we were able to find `uname', then EMX Unix compatibility\n \t# is probably installed.\n \techo ${UNAME_MACHINE}-pc-os2-emx\n-\texit 0 ;;\n+\texit ;;\n     i*86:XTS-300:*:STOP)\n \techo ${UNAME_MACHINE}-unknown-stop\n-\texit 0 ;;\n+\texit ;;\n     i*86:atheos:*:*)\n \techo ${UNAME_MACHINE}-unknown-atheos\n-\texit 0 ;;\n+\texit ;;\n+    i*86:syllable:*:*)\n+\techo ${UNAME_MACHINE}-pc-syllable\n+\texit ;;\n     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.0*:*)\n \techo i386-unknown-lynxos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     i*86:*DOS:*:*)\n \techo ${UNAME_MACHINE}-pc-msdosdjgpp\n-\texit 0 ;;\n+\texit ;;\n     i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)\n \tUNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\\/MP$//'`\n \tif grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then\n \t\techo ${UNAME_MACHINE}-univel-sysv${UNAME_REL}\n \telse\n \t\techo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}\n \tfi\n-\texit 0 ;;\n-    i*86:*:5:[78]*)\n+\texit ;;\n+    i*86:*:5:[678]*)\n+    \t# UnixWare 7.x, OpenUNIX and OpenServer 6.\n \tcase `/bin/uname -X | grep \"^Machine\"` in\n \t    *486*)\t     UNAME_MACHINE=i486 ;;\n \t    *Pentium)\t     UNAME_MACHINE=i586 ;;\n \t    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;\n \tesac\n \techo ${UNAME_MACHINE}-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}\n-\texit 0 ;;\n+\texit ;;\n     i*86:*:3.2:*)\n \tif test -f /usr/options/cb.name; then\n \t\tUNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`\n@@ -1021,165 +1085,178 @@ EOF\n \telse\n \t\techo ${UNAME_MACHINE}-pc-sysv32\n \tfi\n-\texit 0 ;;\n+\texit ;;\n     pc:*:*:*)\n \t# Left here for compatibility:\n         # uname -m prints for DJGPP always 'pc', but it prints nothing about\n         # the processor, so we play safe by assuming i386.\n \techo i386-pc-msdosdjgpp\n-        exit 0 ;;\n+        exit ;;\n     Intel:Mach:3*:*)\n \techo i386-pc-mach3\n-\texit 0 ;;\n+\texit ;;\n     paragon:*:*:*)\n \techo i860-intel-osf1\n-\texit 0 ;;\n+\texit ;;\n     i860:*:4.*:*) # i860-SVR4\n \tif grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then\n \t  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4\n \telse # Add other i860-SVR4 vendors below as they are discovered.\n \t  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4\n \tfi\n-\texit 0 ;;\n+\texit ;;\n     mini*:CTIX:SYS*5:*)\n \t# \"miniframe\"\n \techo m68010-convergent-sysv\n-\texit 0 ;;\n+\texit ;;\n     mc68k:UNIX:SYSTEM5:3.51m)\n \techo m68k-convergent-sysv\n-\texit 0 ;;\n+\texit ;;\n     M680?0:D-NIX:5.3:*)\n \techo m68k-diab-dnix\n-\texit 0 ;;\n-    M68*:*:R3V[567]*:*)\n-\ttest -r /sysV68 && echo 'm68k-motorola-sysv' && exit 0 ;;\n-    3[34]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0)\n+\texit ;;\n+    M68*:*:R3V[5678]*:*)\n+\ttest -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;\n+    3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)\n \tOS_REL=''\n \ttest -r /etc/.relid \\\n \t&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \\([0-9][0-9]\\).*/\\1/p' < /etc/.relid`\n \t/bin/uname -p 2>/dev/null | grep 86 >/dev/null \\\n-\t  && echo i486-ncr-sysv4.3${OS_REL} && exit 0\n+\t  && { echo i486-ncr-sysv4.3${OS_REL}; exit; }\n \t/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \\\n-\t  && echo i586-ncr-sysv4.3${OS_REL} && exit 0 ;;\n+\t  && { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;\n     3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)\n         /bin/uname -p 2>/dev/null | grep 86 >/dev/null \\\n-          && echo i486-ncr-sysv4 && exit 0 ;;\n+          && { echo i486-ncr-sysv4; exit; } ;;\n     m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)\n \techo m68k-unknown-lynxos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     mc68030:UNIX_System_V:4.*:*)\n \techo m68k-atari-sysv4\n-\texit 0 ;;\n+\texit ;;\n     TSUNAMI:LynxOS:2.*:*)\n \techo sparc-unknown-lynxos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     rs6000:LynxOS:2.*:*)\n \techo rs6000-unknown-lynxos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.0*:*)\n \techo powerpc-unknown-lynxos${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     SM[BE]S:UNIX_SV:*:*)\n \techo mips-dde-sysv${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     RM*:ReliantUNIX-*:*:*)\n \techo mips-sni-sysv4\n-\texit 0 ;;\n+\texit ;;\n     RM*:SINIX-*:*:*)\n \techo mips-sni-sysv4\n-\texit 0 ;;\n+\texit ;;\n     *:SINIX-*:*:*)\n \tif uname -p 2>/dev/null >/dev/null ; then\n \t\tUNAME_MACHINE=`(uname -p) 2>/dev/null`\n \t\techo ${UNAME_MACHINE}-sni-sysv4\n \telse\n \t\techo ns32k-sni-sysv\n \tfi\n-\texit 0 ;;\n+\texit ;;\n     PENTIUM:*:4.0*:*) # Unisys `ClearPath HMP IX 4000' SVR4/MP effort\n                       # says <Richard.M.Bartel@ccMail.Census.GOV>\n         echo i586-unisys-sysv4\n-        exit 0 ;;\n+        exit ;;\n     *:UNIX_System_V:4*:FTX*)\n \t# From Gerald Hewes <hewes@openmarket.com>.\n \t# How about differentiating between stratus architectures? -djm\n \techo hppa1.1-stratus-sysv4\n-\texit 0 ;;\n+\texit ;;\n     *:*:*:FTX*)\n \t# From seanf@swdc.stratus.com.\n \techo i860-stratus-sysv4\n-\texit 0 ;;\n+\texit ;;\n+    i*86:VOS:*:*)\n+\t# From Paul.Green@stratus.com.\n+\techo ${UNAME_MACHINE}-stratus-vos\n+\texit ;;\n     *:VOS:*:*)\n \t# From Paul.Green@stratus.com.\n \techo hppa1.1-stratus-vos\n-\texit 0 ;;\n+\texit ;;\n     mc68*:A/UX:*:*)\n \techo m68k-apple-aux${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     news*:NEWS-OS:6*:*)\n \techo mips-sony-newsos6\n-\texit 0 ;;\n+\texit ;;\n     R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)\n \tif [ -d /usr/nec ]; then\n \t        echo mips-nec-sysv${UNAME_RELEASE}\n \telse\n \t        echo mips-unknown-sysv${UNAME_RELEASE}\n \tfi\n-        exit 0 ;;\n+        exit ;;\n     BeBox:BeOS:*:*)\t# BeOS running on hardware made by Be, PPC only.\n \techo powerpc-be-beos\n-\texit 0 ;;\n+\texit ;;\n     BeMac:BeOS:*:*)\t# BeOS running on Mac or Mac clone, PPC only.\n \techo powerpc-apple-beos\n-\texit 0 ;;\n+\texit ;;\n     BePC:BeOS:*:*)\t# BeOS running on Intel PC compatible.\n \techo i586-pc-beos\n-\texit 0 ;;\n+\texit ;;\n     SX-4:SUPER-UX:*:*)\n \techo sx4-nec-superux${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     SX-5:SUPER-UX:*:*)\n \techo sx5-nec-superux${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     SX-6:SUPER-UX:*:*)\n \techo sx6-nec-superux${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n+    SX-7:SUPER-UX:*:*)\n+\techo sx7-nec-superux${UNAME_RELEASE}\n+\texit ;;\n+    SX-8:SUPER-UX:*:*)\n+\techo sx8-nec-superux${UNAME_RELEASE}\n+\texit ;;\n     Power*:Rhapsody:*:*)\n \techo powerpc-apple-rhapsody${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:Rhapsody:*:*)\n \techo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:Darwin:*:*)\n-\tcase `uname -p` in\n-\t    *86) UNAME_PROCESSOR=i686 ;;\n-\t    powerpc) UNAME_PROCESSOR=powerpc ;;\n+\tUNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown\n+\tcase $UNAME_PROCESSOR in\n+\t    unknown) UNAME_PROCESSOR=powerpc ;;\n \tesac\n \techo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:procnto*:*:* | *:QNX:[0123456789]*:*)\n \tUNAME_PROCESSOR=`uname -p`\n \tif test \"$UNAME_PROCESSOR\" = \"x86\"; then\n \t\tUNAME_PROCESSOR=i386\n \t\tUNAME_MACHINE=pc\n \tfi\n \techo ${UNAME_PROCESSOR}-${UNAME_MACHINE}-nto-qnx${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:QNX:*:4*)\n \techo i386-pc-qnx\n-\texit 0 ;;\n-    NSR-[DGKLNPTVW]:NONSTOP_KERNEL:*:*)\n+\texit ;;\n+    NSE-?:NONSTOP_KERNEL:*:*)\n+\techo nse-tandem-nsk${UNAME_RELEASE}\n+\texit ;;\n+    NSR-?:NONSTOP_KERNEL:*:*)\n \techo nsr-tandem-nsk${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:NonStop-UX:*:*)\n \techo mips-compaq-nonstopux\n-\texit 0 ;;\n+\texit ;;\n     BS2000:POSIX*:*:*)\n \techo bs2000-siemens-sysv\n-\texit 0 ;;\n+\texit ;;\n     DS/*:UNIX_System_V:*:*)\n \techo ${UNAME_MACHINE}-${UNAME_SYSTEM}-${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n     *:Plan9:*:*)\n \t# \"uname -m\" is not consistent, so use $cputype instead. 386\n \t# is converted to i386 for consistency with other x86\n@@ -1190,28 +1267,47 @@ EOF\n \t    UNAME_MACHINE=\"$cputype\"\n \tfi\n \techo ${UNAME_MACHINE}-unknown-plan9\n-\texit 0 ;;\n+\texit ;;\n     *:TOPS-10:*:*)\n \techo pdp10-unknown-tops10\n-\texit 0 ;;\n+\texit ;;\n     *:TENEX:*:*)\n \techo pdp10-unknown-tenex\n-\texit 0 ;;\n+\texit ;;\n     KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)\n \techo pdp10-dec-tops20\n-\texit 0 ;;\n+\texit ;;\n     XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)\n \techo pdp10-xkl-tops20\n-\texit 0 ;;\n+\texit ;;\n     *:TOPS-20:*:*)\n \techo pdp10-unknown-tops20\n-\texit 0 ;;\n+\texit ;;\n     *:ITS:*:*)\n \techo pdp10-unknown-its\n-\texit 0 ;;\n+\texit ;;\n     SEI:*:*:SEIUX)\n         echo mips-sei-seiux${UNAME_RELEASE}\n-\texit 0 ;;\n+\texit ;;\n+    *:DragonFly:*:*)\n+\techo ${UNAME_MACHINE}-unknown-dragonfly`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`\n+\texit ;;\n+    *:*VMS:*:*)\n+    \tUNAME_MACHINE=`(uname -p) 2>/dev/null`\n+\tcase \"${UNAME_MACHINE}\" in\n+\t    A*) echo alpha-dec-vms ; exit ;;\n+\t    I*) echo ia64-dec-vms ; exit ;;\n+\t    V*) echo vax-dec-vms ; exit ;;\n+\tesac ;;\n+    *:XENIX:*:SysV)\n+\techo i386-pc-xenix\n+\texit ;;\n+    i*86:skyos:*:*)\n+\techo ${UNAME_MACHINE}-pc-skyos`echo ${UNAME_RELEASE}` | sed -e 's/ .*$//'\n+\texit ;;\n+    i*86:rdos:*:*)\n+\techo ${UNAME_MACHINE}-pc-rdos\n+\texit ;;\n esac\n \n #echo '(No uname command or uname output not recognized.)' 1>&2\n@@ -1243,7 +1339,7 @@ main ()\n #endif\n \n #if defined (__arm) && defined (__acorn) && defined (__unix)\n-  printf (\"arm-acorn-riscix\"); exit (0);\n+  printf (\"arm-acorn-riscix\\n\"); exit (0);\n #endif\n \n #if defined (hp300) && !defined (hpux)\n@@ -1332,11 +1428,12 @@ main ()\n }\n EOF\n \n-$CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && $dummy && exit 0\n+$CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && SYSTEM_NAME=`$dummy` &&\n+\t{ echo \"$SYSTEM_NAME\"; exit; }\n \n # Apollos put the system type in the environment.\n \n-test -d /usr/apollo && { echo ${ISP}-apollo-${SYSTYPE}; exit 0; }\n+test -d /usr/apollo && { echo ${ISP}-apollo-${SYSTYPE}; exit; }\n \n # Convex versions that predate uname can use getsysinfo(1)\n \n@@ -1345,22 +1442,22 @@ then\n     case `getsysinfo -f cpu_type` in\n     c1*)\n \techo c1-convex-bsd\n-\texit 0 ;;\n+\texit ;;\n     c2*)\n \tif getsysinfo -f scalar_acc\n \tthen echo c32-convex-bsd\n \telse echo c2-convex-bsd\n \tfi\n-\texit 0 ;;\n+\texit ;;\n     c34*)\n \techo c34-convex-bsd\n-\texit 0 ;;\n+\texit ;;\n     c38*)\n \techo c38-convex-bsd\n-\texit 0 ;;\n+\texit ;;\n     c4*)\n \techo c4-convex-bsd\n-\texit 0 ;;\n+\texit ;;\n     esac\n fi\n \n@@ -1371,7 +1468,9 @@ This script, last modified $timestamp, has failed to recognize\n the operating system you are using. It is advised that you\n download the most up to date version of the config scripts from\n \n-    ftp://ftp.gnu.org/pub/gnu/config/\n+  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.guess\n+and\n+  http://savannah.gnu.org/cgi-bin/viewcvs/*checkout*/config/config/config.sub\n \n If the version you run ($0) is already up to date, please\n send the following data and any information you think might be"}, {"sha": "b91a4bc4f29298f9a50762827dcb6d73e9a24d05", "filename": "libjava/classpath/config.sub", "status": "modified", "additions": 180, "deletions": 59, "changes": 239, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfig.sub", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfig.sub", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfig.sub?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,9 +1,10 @@\n #! /bin/sh\n # Configuration validation subroutine script.\n #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,\n-#   2000, 2001, 2002, 2003 Free Software Foundation, Inc.\n+#   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,\n+#   Inc.\n \n-timestamp='2003-06-18'\n+timestamp='2006-12-08'\n \n # This file is (in principle) common to ALL GNU software.\n # The presence of a machine in this file suggests that SOME GNU software\n@@ -21,14 +22,15 @@ timestamp='2003-06-18'\n #\n # You should have received a copy of the GNU General Public License\n # along with this program; if not, write to the Free Software\n-# Foundation, Inc., 59 Temple Place - Suite 330,\n-# Boston, MA 02111-1307, USA.\n-\n+# Foundation, Inc., 51 Franklin Street - Fifth Floor, Boston, MA\n+# 02110-1301, USA.\n+#\n # As a special exception to the GNU General Public License, if you\n # distribute this file as part of a program that contains a\n # configuration script generated by Autoconf, you may include it under\n # the same distribution terms that you use for the rest of that program.\n \n+\n # Please send patches to <config-patches@gnu.org>.  Submit a context\n # diff and a properly formatted ChangeLog entry.\n #\n@@ -70,7 +72,7 @@ Report bugs and patches to <config-patches@gnu.org>.\"\n version=\"\\\n GNU config.sub ($timestamp)\n \n-Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001\n+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005\n Free Software Foundation, Inc.\n \n This is free software; see the source for copying conditions.  There is NO\n@@ -83,11 +85,11 @@ Try \\`$me --help' for more information.\"\n while test $# -gt 0 ; do\n   case $1 in\n     --time-stamp | --time* | -t )\n-       echo \"$timestamp\" ; exit 0 ;;\n+       echo \"$timestamp\" ; exit ;;\n     --version | -v )\n-       echo \"$version\" ; exit 0 ;;\n+       echo \"$version\" ; exit ;;\n     --help | --h* | -h )\n-       echo \"$usage\"; exit 0 ;;\n+       echo \"$usage\"; exit ;;\n     -- )     # Stop option processing\n        shift; break ;;\n     - )\t# Use stdin as input.\n@@ -99,7 +101,7 @@ while test $# -gt 0 ; do\n     *local*)\n        # First pass through any local machine types.\n        echo $1\n-       exit 0;;\n+       exit ;;\n \n     * )\n        break ;;\n@@ -118,7 +120,9 @@ esac\n # Here we must recognize all the valid KERNEL-OS combinations.\n maybe_os=`echo $1 | sed 's/^\\(.*\\)-\\([^-]*-[^-]*\\)$/\\2/'`\n case $maybe_os in\n-  nto-qnx* | linux-gnu* | freebsd*-gnu* | netbsd*-gnu* | storm-chaos* | os2-emx* | rtmk-nova*)\n+  nto-qnx* | linux-gnu* | linux-dietlibc | linux-newlib* | linux-uclibc* | \\\n+  uclinux-uclibc* | uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* | \\\n+  storm-chaos* | os2-emx* | rtmk-nova*)\n     os=-$maybe_os\n     basic_machine=`echo $1 | sed 's/^\\(.*\\)-\\([^-]*-[^-]*\\)$/\\1/'`\n     ;;\n@@ -144,7 +148,7 @@ case $os in\n \t-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\\\n \t-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \\\n \t-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \\\n-\t-apple | -axis)\n+\t-apple | -axis | -knuth | -cray)\n \t\tos=\n \t\tbasic_machine=$1\n \t\t;;\n@@ -169,6 +173,10 @@ case $os in\n \t-hiux*)\n \t\tos=-hiuxwe2\n \t\t;;\n+\t-sco6)\n+\t\tos=-sco5v6\n+\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n+\t\t;;\n \t-sco5)\n \t\tos=-sco3.2v5\n \t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n@@ -185,6 +193,10 @@ case $os in\n \t\t# Don't forget version if it is 3.2v4 or newer.\n \t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n \t\t;;\n+\t-sco5v6*)\n+\t\t# Don't forget version if it is 3.2v4 or newer.\n+\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n+\t\t;;\n \t-sco*)\n \t\tos=-sco3.2v2\n \t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n@@ -228,14 +240,18 @@ case $basic_machine in\n \t| a29k \\\n \t| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \\\n \t| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \\\n-\t| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr \\\n+\t| am33_2.0 \\\n+\t| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr | avr32 \\\n+\t| bfin \\\n \t| c4x | clipper \\\n \t| d10v | d30v | dlx | dsp16xx \\\n-\t| fr30 | frv \\\n+\t| fido | fr30 | frv \\\n \t| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \\\n \t| i370 | i860 | i960 | ia64 \\\n-\t| ip2k \\\n-\t| m32r | m68000 | m68k | m88k | mcore \\\n+\t| ip2k | iq2000 \\\n+\t| m32c | m32r | m32rle | m68000 | m68k | m88k \\\n+\t| maxq | mb | microblaze | mcore \\\n+\t| mep \\\n \t| mips | mipsbe | mipseb | mipsel | mipsle \\\n \t| mips16 \\\n \t| mips64 | mips64el \\\n@@ -244,28 +260,33 @@ case $basic_machine in\n \t| mips64vr4100 | mips64vr4100el \\\n \t| mips64vr4300 | mips64vr4300el \\\n \t| mips64vr5000 | mips64vr5000el \\\n+\t| mips64vr5900 | mips64vr5900el \\\n \t| mipsisa32 | mipsisa32el \\\n \t| mipsisa32r2 | mipsisa32r2el \\\n \t| mipsisa64 | mipsisa64el \\\n+\t| mipsisa64r2 | mipsisa64r2el \\\n \t| mipsisa64sb1 | mipsisa64sb1el \\\n \t| mipsisa64sr71k | mipsisa64sr71kel \\\n \t| mipstx39 | mipstx39el \\\n \t| mn10200 | mn10300 \\\n+\t| mt \\\n \t| msp430 \\\n+\t| nios | nios2 \\\n \t| ns16k | ns32k \\\n-\t| openrisc | or32 \\\n+\t| or32 \\\n \t| pdp10 | pdp11 | pj | pjl \\\n \t| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \\\n \t| pyramid \\\n-\t| s390 | s390x \\\n-\t| sh | sh[1234] | sh[23]e | sh[34]eb | shbe | shle | sh[1234]le | sh3ele \\\n+\t| score \\\n+\t| sh | sh[1234] | sh[24]a | sh[23]e | sh[34]eb | sheb | shbe | shle | sh[1234]le | sh3ele \\\n \t| sh64 | sh64le \\\n-\t| sparc | sparc64 | sparc86x | sparclet | sparclite | sparcv8 | sparcv9 | sparcv9b \\\n-\t| strongarm \\\n+\t| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \\\n+\t| sparcv8 | sparcv9 | sparcv9b | sparcv9v \\\n+\t| spu | strongarm \\\n \t| tahoe | thumb | tic4x | tic80 | tron \\\n \t| v850 | v850e \\\n \t| we32k \\\n-\t| x86 | xscale | xstormy16 | xtensa \\\n+\t| x86 | xc16x | xscale | xscalee[bl] | xstormy16 | xtensa \\\n \t| z8k)\n \t\tbasic_machine=$basic_machine-unknown\n \t\t;;\n@@ -276,6 +297,9 @@ case $basic_machine in\n \t\t;;\n \tm88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65 | z8k)\n \t\t;;\n+\tms1)\n+\t\tbasic_machine=mt-unknown\n+\t\t;;\n \n \t# We use `pc' rather than `unknown'\n \t# because (1) that's what they normally are, and\n@@ -295,53 +319,59 @@ case $basic_machine in\n \t| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \\\n \t| alphapca5[67]-* | alpha64pca5[67]-* | arc-* \\\n \t| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \\\n-\t| avr-* \\\n-\t| bs2000-* \\\n+\t| avr-* | avr32-* \\\n+\t| bfin-* | bs2000-* \\\n \t| c[123]* | c30-* | [cjt]90-* | c4x-* | c54x-* | c55x-* | c6x-* \\\n-\t| clipper-* | cydra-* \\\n+\t| clipper-* | craynv-* | cydra-* \\\n \t| d10v-* | d30v-* | dlx-* \\\n \t| elxsi-* \\\n-\t| f30[01]-* | f700-* | fr30-* | frv-* | fx80-* \\\n+\t| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \\\n \t| h8300-* | h8500-* \\\n \t| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \\\n \t| i*86-* | i860-* | i960-* | ia64-* \\\n-\t| ip2k-* \\\n-\t| m32r-* \\\n+\t| ip2k-* | iq2000-* \\\n+\t| m32c-* | m32r-* | m32rle-* \\\n \t| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \\\n-\t| m88110-* | m88k-* | mcore-* \\\n+\t| m88110-* | m88k-* | maxq-* | mcore-* \\\n \t| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \\\n+\t| mep-* \\\n \t| mips16-* \\\n \t| mips64-* | mips64el-* \\\n \t| mips64vr-* | mips64vrel-* \\\n \t| mips64orion-* | mips64orionel-* \\\n \t| mips64vr4100-* | mips64vr4100el-* \\\n \t| mips64vr4300-* | mips64vr4300el-* \\\n \t| mips64vr5000-* | mips64vr5000el-* \\\n+\t| mips64vr5900-* | mips64vr5900el-* \\\n \t| mipsisa32-* | mipsisa32el-* \\\n \t| mipsisa32r2-* | mipsisa32r2el-* \\\n \t| mipsisa64-* | mipsisa64el-* \\\n+\t| mipsisa64r2-* | mipsisa64r2el-* \\\n \t| mipsisa64sb1-* | mipsisa64sb1el-* \\\n \t| mipsisa64sr71k-* | mipsisa64sr71kel-* \\\n \t| mipstx39-* | mipstx39el-* \\\n+\t| mmix-* \\\n+\t| mt-* \\\n \t| msp430-* \\\n-\t| none-* | np1-* | nv1-* | ns16k-* | ns32k-* \\\n+\t| nios-* | nios2-* \\\n+\t| none-* | np1-* | ns16k-* | ns32k-* \\\n \t| orion-* \\\n \t| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \\\n \t| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \\\n \t| pyramid-* \\\n \t| romp-* | rs6000-* \\\n-\t| s390-* | s390x-* \\\n-\t| sh-* | sh[1234]-* | sh[23]e-* | sh[34]eb-* | shbe-* \\\n+\t| sh-* | sh[1234]-* | sh[24]a-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \\\n \t| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \\\n-\t| sparc-* | sparc64-* | sparc86x-* | sparclet-* | sparclite-* \\\n-\t| sparcv8-* | sparcv9-* | sparcv9b-* | strongarm-* | sv1-* | sx?-* \\\n+\t| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \\\n+\t| sparclite-* \\\n+\t| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | strongarm-* | sv1-* | sx?-* \\\n \t| tahoe-* | thumb-* \\\n \t| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \\\n \t| tron-* \\\n \t| v850-* | v850e-* | vax-* \\\n \t| we32k-* \\\n-\t| x86-* | x86_64-* | xps100-* | xscale-* | xstormy16-* \\\n-\t| xtensa-* \\\n+\t| x86-* | x86_64-* | xc16x-* | xps100-* | xscale-* | xscalee[bl]-* \\\n+\t| xstormy16-* | xtensa-* \\\n \t| ymp-* \\\n \t| z8k-*)\n \t\t;;\n@@ -361,6 +391,9 @@ case $basic_machine in\n \t\tbasic_machine=a29k-amd\n \t\tos=-udi\n \t\t;;\n+    \tabacus)\n+\t\tbasic_machine=abacus-unknown\n+\t\t;;\n \tadobe68k)\n \t\tbasic_machine=m68010-adobe\n \t\tos=-scout\n@@ -378,6 +411,9 @@ case $basic_machine in\n \tamd64)\n \t\tbasic_machine=x86_64-pc\n \t\t;;\n+\tamd64-*)\n+\t\tbasic_machine=x86_64-`echo $basic_machine | sed 's/^[^-]*-//'`\n+\t\t;;\n \tamdahl)\n \t\tbasic_machine=580-amdahl\n \t\tos=-sysv\n@@ -437,12 +473,27 @@ case $basic_machine in\n \t\tbasic_machine=j90-cray\n \t\tos=-unicos\n \t\t;;\n+\tcraynv)\n+\t\tbasic_machine=craynv-cray\n+\t\tos=-unicosmp\n+\t\t;;\n+\tcr16c)\n+\t\tbasic_machine=cr16c-unknown\n+\t\tos=-elf\n+\t\t;;\n \tcrds | unos)\n \t\tbasic_machine=m68k-crds\n \t\t;;\n+\tcrisv32 | crisv32-* | etraxfs*)\n+\t\tbasic_machine=crisv32-axis\n+\t\t;;\n \tcris | cris-* | etrax*)\n \t\tbasic_machine=cris-axis\n \t\t;;\n+\tcrx)\n+\t\tbasic_machine=crx-unknown\n+\t\tos=-elf\n+\t\t;;\n \tda30 | da30-*)\n \t\tbasic_machine=m68k-da30\n \t\t;;\n@@ -465,6 +516,10 @@ case $basic_machine in\n \t\tbasic_machine=m88k-motorola\n \t\tos=-sysv3\n \t\t;;\n+\tdjgpp)\n+\t\tbasic_machine=i586-pc\n+\t\tos=-msdosdjgpp\n+\t\t;;\n \tdpx20 | dpx20-*)\n \t\tbasic_machine=rs6000-bull\n \t\tos=-bosx\n@@ -643,10 +698,6 @@ case $basic_machine in\n \tmips3*)\n \t\tbasic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`-unknown\n \t\t;;\n-\tmmix*)\n-\t\tbasic_machine=mmix-knuth\n-\t\tos=-mmixware\n-\t\t;;\n \tmonitor)\n \t\tbasic_machine=m68k-rom68k\n \t\tos=-coff\n@@ -659,6 +710,9 @@ case $basic_machine in\n \t\tbasic_machine=i386-pc\n \t\tos=-msdos\n \t\t;;\n+\tms1-*)\n+\t\tbasic_machine=`echo $basic_machine | sed -e 's/ms1-/mt-/'`\n+\t\t;;\n \tmvs)\n \t\tbasic_machine=i370-ibm\n \t\tos=-mvs\n@@ -727,20 +781,19 @@ case $basic_machine in\n \tnp1)\n \t\tbasic_machine=np1-gould\n \t\t;;\n-\tnv1)\n-\t\tbasic_machine=nv1-cray\n-\t\tos=-unicosmp\n-\t\t;;\n \tnsr-tandem)\n \t\tbasic_machine=nsr-tandem\n \t\t;;\n \top50n-* | op60c-*)\n \t\tbasic_machine=hppa1.1-oki\n \t\tos=-proelf\n \t\t;;\n-\tor32 | or32-*)\n+\topenrisc | openrisc-*)\n \t\tbasic_machine=or32-unknown\n-\t\tos=-coff\n+\t\t;;\n+\tos400)\n+\t\tbasic_machine=powerpc-ibm\n+\t\tos=-os400\n \t\t;;\n \tOSE68000 | ose68000)\n \t\tbasic_machine=m68000-ericsson\n@@ -767,6 +820,12 @@ case $basic_machine in\n \tpc532 | pc532-*)\n \t\tbasic_machine=ns32k-pc532\n \t\t;;\n+\tpc98)\n+\t\tbasic_machine=i386-pc\n+\t\t;;\n+\tpc98-*)\n+\t\tbasic_machine=i386-`echo $basic_machine | sed 's/^[^-]*-//'`\n+\t\t;;\n \tpentium | p5 | k5 | k6 | nexgen | viac3)\n \t\tbasic_machine=i586-pc\n \t\t;;\n@@ -823,6 +882,10 @@ case $basic_machine in\n \t\tbasic_machine=i586-unknown\n \t\tos=-pw32\n \t\t;;\n+\trdos)\n+\t\tbasic_machine=i386-pc\n+\t\tos=-rdos\n+\t\t;;\n \trom68k)\n \t\tbasic_machine=m68k-rom68k\n \t\tos=-coff\n@@ -833,6 +896,12 @@ case $basic_machine in\n \trtpc | rtpc-*)\n \t\tbasic_machine=romp-ibm\n \t\t;;\n+\ts390 | s390-*)\n+\t\tbasic_machine=s390-ibm\n+\t\t;;\n+\ts390x | s390x-*)\n+\t\tbasic_machine=s390x-ibm\n+\t\t;;\n \tsa29200)\n \t\tbasic_machine=a29k-amd\n \t\tos=-udi\n@@ -843,6 +912,10 @@ case $basic_machine in\n \tsb1el)\n \t\tbasic_machine=mipsisa64sb1el-unknown\n \t\t;;\n+\tsde)\n+\t\tbasic_machine=mipsisa32-sde\n+\t\tos=-elf\n+\t\t;;\n \tsei)\n \t\tbasic_machine=mips-sei\n \t\tos=-seiux\n@@ -854,6 +927,9 @@ case $basic_machine in\n \t\tbasic_machine=sh-hitachi\n \t\tos=-hms\n \t\t;;\n+\tsh5el)\n+\t\tbasic_machine=sh5le-unknown\n+\t\t;;\n \tsh64)\n \t\tbasic_machine=sh64-unknown\n \t\t;;\n@@ -956,6 +1032,10 @@ case $basic_machine in\n \ttower | tower-32)\n \t\tbasic_machine=m68k-ncr\n \t\t;;\n+\ttpf)\n+\t\tbasic_machine=s390x-ibm\n+\t\tos=-tpf\n+\t\t;;\n \tudi29k)\n \t\tbasic_machine=a29k-amd\n \t\tos=-udi\n@@ -999,6 +1079,10 @@ case $basic_machine in\n \t\tbasic_machine=hppa1.1-winbond\n \t\tos=-proelf\n \t\t;;\n+\txbox)\n+\t\tbasic_machine=i686-pc\n+\t\tos=-mingw32\n+\t\t;;\n \txps | xps100)\n \t\tbasic_machine=xps100-honeywell\n \t\t;;\n@@ -1029,6 +1113,9 @@ case $basic_machine in\n \tromp)\n \t\tbasic_machine=romp-ibm\n \t\t;;\n+\tmmix)\n+\t\tbasic_machine=mmix-knuth\n+\t\t;;\n \trs6000)\n \t\tbasic_machine=rs6000-ibm\n \t\t;;\n@@ -1045,13 +1132,10 @@ case $basic_machine in\n \twe32k)\n \t\tbasic_machine=we32k-att\n \t\t;;\n-\tsh3 | sh4 | sh[34]eb | sh[1234]le | sh[23]ele)\n+\tsh[1234] | sh[24]a | sh[34]eb | sh[1234]le | sh[23]ele)\n \t\tbasic_machine=sh-unknown\n \t\t;;\n-\tsh64)\n-\t\tbasic_machine=sh64-unknown\n-\t\t;;\n-\tsparc | sparcv8 | sparcv9 | sparcv9b)\n+\tsparc | sparcv8 | sparcv9 | sparcv9b | sparcv9v)\n \t\tbasic_machine=sparc-sun\n \t\t;;\n \tcydra)\n@@ -1124,19 +1208,23 @@ case $os in\n \t      | -aos* \\\n \t      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \\\n \t      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \\\n-\t      | -hiux* | -386bsd* | -netbsd* | -openbsd* | -freebsd* | -riscix* \\\n-\t      | -lynxos* | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \\\n+\t      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \\\n+\t      | -openbsd* | -solidbsd* \\\n+\t      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \\\n+\t      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \\\n \t      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \\\n \t      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \\\n \t      | -chorusos* | -chorusrdb* \\\n \t      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \\\n-\t      | -mingw32* | -linux-gnu* | -uxpv* | -beos* | -mpeix* | -udk* \\\n+\t      | -mingw32* | -linux-gnu* | -linux-newlib* | -linux-uclibc* \\\n+\t      | -uxpv* | -beos* | -mpeix* | -udk* \\\n \t      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \\\n \t      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \\\n \t      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \\\n \t      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \\\n \t      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \\\n-\t      | -powermax* | -dnix* | -nx6 | -nx7 | -sei*)\n+\t      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \\\n+\t      | -skyos* | -haiku* | -rdos* | -toppers*)\n \t# Remember, each alternative MUST END IN *, to match a version number.\n \t\t;;\n \t-qnx*)\n@@ -1154,12 +1242,15 @@ case $os in\n \t\tos=`echo $os | sed -e 's|nto|nto-qnx|'`\n \t\t;;\n \t-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \\\n-\t      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \\\n+\t      | -windows* | -osx | -abug | -netware* | -os9* | -beos* | -haiku* \\\n \t      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)\n \t\t;;\n \t-mac*)\n \t\tos=`echo $os | sed -e 's|mac|macos|'`\n \t\t;;\n+\t-linux-dietlibc)\n+\t\tos=-linux-dietlibc\n+\t\t;;\n \t-linux*)\n \t\tos=`echo $os | sed -e 's|linux|linux-gnu|'`\n \t\t;;\n@@ -1172,6 +1263,9 @@ case $os in\n \t-opened*)\n \t\tos=-openedition\n \t\t;;\n+        -os400*)\n+\t\tos=-os400\n+\t\t;;\n \t-wince*)\n \t\tos=-wince\n \t\t;;\n@@ -1193,6 +1287,9 @@ case $os in\n \t-atheos*)\n \t\tos=-atheos\n \t\t;;\n+\t-syllable*)\n+\t\tos=-syllable\n+\t\t;;\n \t-386bsd)\n \t\tos=-bsd\n \t\t;;\n@@ -1215,6 +1312,9 @@ case $os in\n \t-sinix*)\n \t\tos=-sysv4\n \t\t;;\n+        -tpf*)\n+\t\tos=-tpf\n+\t\t;;\n \t-triton*)\n \t\tos=-sysv3\n \t\t;;\n@@ -1251,6 +1351,9 @@ case $os in\n \t-kaos*)\n \t\tos=-kaos\n \t\t;;\n+\t-zvmoe)\n+\t\tos=-zvmoe\n+\t\t;;\n \t-none)\n \t\t;;\n \t*)\n@@ -1273,6 +1376,12 @@ else\n # system, and we'll never get to this point.\n \n case $basic_machine in\n+        score-*)\n+\t\tos=-elf\n+\t\t;;\n+        spu-*)\n+\t\tos=-elf\n+\t\t;;\n \t*-acorn)\n \t\tos=-riscix1.2\n \t\t;;\n@@ -1282,8 +1391,8 @@ case $basic_machine in\n \tarm*-semi)\n \t\tos=-aout\n \t\t;;\n-\tc4x-* | tic4x-*)\n-\t\tos=-coff\n+        c4x-* | tic4x-*)\n+        \tos=-coff\n \t\t;;\n \t# This must come before the *-dec entry.\n \tpdp10-*)\n@@ -1328,9 +1437,15 @@ case $basic_machine in\n \t*-be)\n \t\tos=-beos\n \t\t;;\n+\t*-haiku)\n+\t\tos=-haiku\n+\t\t;;\n \t*-ibm)\n \t\tos=-aix\n \t\t;;\n+    \t*-knuth)\n+\t\tos=-mmixware\n+\t\t;;\n \t*-wec)\n \t\tos=-proelf\n \t\t;;\n@@ -1463,9 +1578,15 @@ case $basic_machine in\n \t\t\t-mvs* | -opened*)\n \t\t\t\tvendor=ibm\n \t\t\t\t;;\n+\t\t\t-os400*)\n+\t\t\t\tvendor=ibm\n+\t\t\t\t;;\n \t\t\t-ptx*)\n \t\t\t\tvendor=sequent\n \t\t\t\t;;\n+\t\t\t-tpf*)\n+\t\t\t\tvendor=ibm\n+\t\t\t\t;;\n \t\t\t-vxsim* | -vxworks* | -windiss*)\n \t\t\t\tvendor=wrs\n \t\t\t\t;;\n@@ -1490,7 +1611,7 @@ case $basic_machine in\n esac\n \n echo $basic_machine$os\n-exit 0\n+exit\n \n # Local variables:\n # eval: (add-hook 'write-file-hooks 'time-stamp)"}, {"sha": "aab12bb9e36c12080e6c00ddfa16978222a33bbd", "filename": "libjava/classpath/configure", "status": "modified", "additions": 1216, "deletions": 401, "changes": 1617, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfigure?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,6 +1,6 @@\n #! /bin/sh\n # Guess values for system-dependent variables and create Makefiles.\n-# Generated by GNU Autoconf 2.59 for GNU Classpath 0.94-pre.\n+# Generated by GNU Autoconf 2.59 for GNU Classpath 0.95.\n #\n # Report bugs to <classpath@gnu.org>.\n #\n@@ -418,8 +418,8 @@ SHELL=${CONFIG_SHELL-/bin/sh}\n # Identity of this package.\n PACKAGE_NAME='GNU Classpath'\n PACKAGE_TARNAME='classpath'\n-PACKAGE_VERSION='0.94-pre'\n-PACKAGE_STRING='GNU Classpath 0.94-pre'\n+PACKAGE_VERSION='0.95'\n+PACKAGE_STRING='GNU Classpath 0.95'\n PACKAGE_BUGREPORT='classpath@gnu.org'\n \n ac_unique_file=\"java/lang/System.java\"\n@@ -461,7 +461,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os JAVA_MAINTAINER_MODE_TRUE JAVA_MAINTAINER_MODE_FALSE GENINSRC_TRUE GENINSRC_FALSE multi_basedir LIBVERSION CLASSPATH_MODULE CLASSPATH_CONVENIENCE INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar CREATE_COLLECTIONS_TRUE CREATE_COLLECTIONS_FALSE CREATE_JNI_LIBRARIES_TRUE CREATE_JNI_LIBRARIES_FALSE CREATE_CORE_JNI_LIBRARIES_TRUE CREATE_CORE_JNI_LIBRARIES_FALSE CREATE_GCONF_PEER_LIBRARIES_TRUE CREATE_GCONF_PEER_LIBRARIES_FALSE default_toolkit CREATE_XMLJ_LIBRARY_TRUE CREATE_XMLJ_LIBRARY_FALSE CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CPP EGREP CREATE_ALSA_LIBRARIES_TRUE CREATE_ALSA_LIBRARIES_FALSE CREATE_DSSI_LIBRARIES_TRUE CREATE_DSSI_LIBRARIES_FALSE CREATE_GTK_PEER_LIBRARIES_TRUE CREATE_GTK_PEER_LIBRARIES_FALSE CREATE_QT_PEER_LIBRARIES_TRUE CREATE_QT_PEER_LIBRARIES_FALSE CREATE_PLUGIN_TRUE CREATE_PLUGIN_FALSE toolexeclibdir nativeexeclibdir glibjdir VM_BINARY FOUND_CACAO_TRUE FOUND_CACAO_FALSE CREATE_JNI_HEADERS_TRUE CREATE_JNI_HEADERS_FALSE CREATE_WRAPPERS_TRUE CREATE_WRAPPERS_FALSE LN_S LIBTOOL SED FGREP GREP LD DUMPBIN ac_ct_DUMPBIN NM AR ac_ct_AR RANLIB ac_ct_RANLIB lt_ECHO CXX CXXFLAGS ac_ct_CXX CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CXXCPP PERL COLLECTIONS_PREFIX LIBMAGIC LIBICONV LTLIBICONV WARNING_CFLAGS STRICT_WARNING_CFLAGS ERROR_CFLAGS PKG_CONFIG XML_CFLAGS XML_LIBS XSLT_CFLAGS XSLT_LIBS X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS GTK_CFLAGS GTK_LIBS FREETYPE2_CFLAGS FREETYPE2_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS XTEST_LIBS GCONF_CFLAGS GCONF_LIBS GDK_CFLAGS GDK_LIBS QT_CFLAGS QT_LIBS MOC MOZILLA_CFLAGS MOZILLA_LIBS GLIB_CFLAGS GLIB_LIBS PLUGIN_DIR USER_JAVAH USER_SPECIFIED_JAVAH_TRUE USER_SPECIFIED_JAVAH_FALSE CLASSPATH_INCLUDES GCJ JIKES JIKESENCODING JIKESWARNINGS KJC GCJX ECJ FOUND_GCJ_TRUE FOUND_GCJ_FALSE FOUND_JIKES_TRUE FOUND_JIKES_FALSE FOUND_ECJ_TRUE FOUND_ECJ_FALSE FOUND_KJC_TRUE FOUND_KJC_FALSE FOUND_GCJX_TRUE FOUND_GCJX_FALSE USER_CLASSLIB USER_SPECIFIED_CLASSLIB_TRUE USER_SPECIFIED_CLASSLIB_FALSE vm_classes MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBDEBUG INIT_LOAD_LIBRARY ECJ_JAR JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION REMOVE MKDIR CP DATE FIND ZIP FASTJAR INSTALL_GLIBJ_ZIP_TRUE INSTALL_GLIBJ_ZIP_FALSE INSTALL_CLASS_FILES_TRUE INSTALL_CLASS_FILES_FALSE BUILD_CLASS_FILES_TRUE BUILD_CLASS_FILES_FALSE EXAMPLESDIR GJDOC CREATE_API_DOCS_TRUE CREATE_API_DOCS_FALSE JAY JAY_SKELETON REGEN_PARSERS_TRUE REGEN_PARSERS_FALSE USE_PREBUILT_GLIBJ_ZIP_TRUE USE_PREBUILT_GLIBJ_ZIP_FALSE PATH_TO_GLIBJ_ZIP USE_ESCHER_TRUE USE_ESCHER_FALSE PATH_TO_ESCHER ENABLE_LOCAL_SOCKETS_TRUE ENABLE_LOCAL_SOCKETS_FALSE DEFAULT_PREFS_PEER LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os JAVA_MAINTAINER_MODE_TRUE JAVA_MAINTAINER_MODE_FALSE GENINSRC_TRUE GENINSRC_FALSE multi_basedir LIBVERSION CLASSPATH_MODULE CLASSPATH_CONVENIENCE INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar CREATE_COLLECTIONS_TRUE CREATE_COLLECTIONS_FALSE CREATE_JNI_LIBRARIES_TRUE CREATE_JNI_LIBRARIES_FALSE CREATE_CORE_JNI_LIBRARIES_TRUE CREATE_CORE_JNI_LIBRARIES_FALSE CREATE_GCONF_PEER_LIBRARIES_TRUE CREATE_GCONF_PEER_LIBRARIES_FALSE default_toolkit CREATE_XMLJ_LIBRARY_TRUE CREATE_XMLJ_LIBRARY_FALSE CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CPP EGREP CREATE_ALSA_LIBRARIES_TRUE CREATE_ALSA_LIBRARIES_FALSE CREATE_DSSI_LIBRARIES_TRUE CREATE_DSSI_LIBRARIES_FALSE CREATE_GTK_PEER_LIBRARIES_TRUE CREATE_GTK_PEER_LIBRARIES_FALSE CREATE_QT_PEER_LIBRARIES_TRUE CREATE_QT_PEER_LIBRARIES_FALSE CREATE_PLUGIN_TRUE CREATE_PLUGIN_FALSE toolexeclibdir nativeexeclibdir glibjdir VM_BINARY FOUND_CACAO_TRUE FOUND_CACAO_FALSE CREATE_JNI_HEADERS_TRUE CREATE_JNI_HEADERS_FALSE CREATE_WRAPPERS_TRUE CREATE_WRAPPERS_FALSE LN_S LIBTOOL SED FGREP GREP LD DUMPBIN ac_ct_DUMPBIN NM AR ac_ct_AR RANLIB ac_ct_RANLIB lt_ECHO CXX CXXFLAGS ac_ct_CXX CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CXXCPP PERL COLLECTIONS_PREFIX LIBMAGIC LIBICONV LTLIBICONV WARNING_CFLAGS STRICT_WARNING_CFLAGS ERROR_CFLAGS PKG_CONFIG XML_CFLAGS XML_LIBS XSLT_CFLAGS XSLT_LIBS X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS GTK_CFLAGS GTK_LIBS FREETYPE2_CFLAGS FREETYPE2_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS CAIRO_CFLAGS CAIRO_LIBS XTEST_LIBS GCONF_CFLAGS GCONF_LIBS GDK_CFLAGS GDK_LIBS QT_CFLAGS QT_LIBS MOC MOZILLA_CFLAGS MOZILLA_LIBS GLIB_CFLAGS GLIB_LIBS PLUGIN_DIR USER_JAVAH USER_SPECIFIED_JAVAH_TRUE USER_SPECIFIED_JAVAH_FALSE CLASSPATH_INCLUDES GCJ JIKES JIKESENCODING JIKESWARNINGS KJC ECJ JAVAC FOUND_GCJ_TRUE FOUND_GCJ_FALSE FOUND_JIKES_TRUE FOUND_JIKES_FALSE FOUND_ECJ_TRUE FOUND_ECJ_FALSE FOUND_JAVAC_TRUE FOUND_JAVAC_FALSE FOUND_KJC_TRUE FOUND_KJC_FALSE USER_CLASSLIB USER_SPECIFIED_CLASSLIB_TRUE USER_SPECIFIED_CLASSLIB_FALSE vm_classes MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBDEBUG INIT_LOAD_LIBRARY ECJ_JAR JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION REMOVE MKDIR CP DATE FIND ZIP FASTJAR INSTALL_GLIBJ_ZIP_TRUE INSTALL_GLIBJ_ZIP_FALSE INSTALL_CLASS_FILES_TRUE INSTALL_CLASS_FILES_FALSE BUILD_CLASS_FILES_TRUE BUILD_CLASS_FILES_FALSE EXAMPLESDIR GJDOC CREATE_API_DOCS_TRUE CREATE_API_DOCS_FALSE JAY JAY_SKELETON REGEN_PARSERS_TRUE REGEN_PARSERS_FALSE USE_PREBUILT_GLIBJ_ZIP_TRUE USE_PREBUILT_GLIBJ_ZIP_FALSE PATH_TO_GLIBJ_ZIP USE_ESCHER_TRUE USE_ESCHER_FALSE PATH_TO_ESCHER ENABLE_LOCAL_SOCKETS_TRUE ENABLE_LOCAL_SOCKETS_FALSE DEFAULT_PREFS_PEER LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -942,7 +942,7 @@ if test \"$ac_init_help\" = \"long\"; then\n   # Omit some internal or obsolete options to make the list less imposing.\n   # This message is too long to be a string in the A/UX 3.1 sh.\n   cat <<_ACEOF\n-\\`configure' configures GNU Classpath 0.94-pre to adapt to many kinds of systems.\n+\\`configure' configures GNU Classpath 0.95 to adapt to many kinds of systems.\n \n Usage: $0 [OPTION]... [VAR=VALUE]...\n \n@@ -1013,7 +1013,7 @@ fi\n \n if test -n \"$ac_init_help\"; then\n   case $ac_init_help in\n-     short | recursive ) echo \"Configuration of GNU Classpath 0.94-pre:\";;\n+     short | recursive ) echo \"Configuration of GNU Classpath 0.95:\";;\n    esac\n   cat <<\\_ACEOF\n \n@@ -1100,8 +1100,8 @@ Optional Packages:\n   --with-gcj              bytecode compilation with gcj\n   --with-jikes            bytecode compilation with jikes\n   --with-kjc              bytecode compilation with kjc\n-  --with-gcjx             bytecode compilation with gcjx\n   --with-ecj              bytecode compilation with ecj\n+  --with-javac            bytecode compilation with javac\n   --with-classpath        specify path to a classes.zip like file\n   --with-vm-classes       specify path to VM override source files\n   --with-ecj-jar=ABS.PATH specify jar file containing the Eclipse Java\n@@ -1227,7 +1227,7 @@ fi\n test -n \"$ac_init_help\" && exit 0\n if $ac_init_version; then\n   cat <<\\_ACEOF\n-GNU Classpath configure 0.94-pre\n+GNU Classpath configure 0.95\n generated by GNU Autoconf 2.59\n \n Copyright (C) 2003 Free Software Foundation, Inc.\n@@ -1241,7 +1241,7 @@ cat >&5 <<_ACEOF\n This file contains any messages produced by compilers while\n running configure, to aid debugging if configure makes a mistake.\n \n-It was created by GNU Classpath $as_me 0.94-pre, which was\n+It was created by GNU Classpath $as_me 0.95, which was\n generated by GNU Autoconf 2.59.  Invocation command line was\n \n   $ $0 $@\n@@ -2076,7 +2076,7 @@ fi\n \n # Define the identity of the package.\n  PACKAGE='classpath'\n- VERSION='0.94-pre'\n+ VERSION='0.95'\n \n \n cat >>confdefs.h <<_ACEOF\n@@ -11859,6 +11859,109 @@ else\n fi\n \n \n+if test \"x$CC\" != xcc; then\n+  echo \"$as_me:$LINENO: checking whether $CC and cc understand -c and -o together\" >&5\n+echo $ECHO_N \"checking whether $CC and cc understand -c and -o together... $ECHO_C\" >&6\n+else\n+  echo \"$as_me:$LINENO: checking whether cc understands -c and -o together\" >&5\n+echo $ECHO_N \"checking whether cc understands -c and -o together... $ECHO_C\" >&6\n+fi\n+set dummy $CC; ac_cc=`echo $2 |\n+\t\t      sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`\n+if eval \"test \\\"\\${ac_cv_prog_cc_${ac_cc}_c_o+set}\\\" = set\"; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+\n+int\n+main ()\n+{\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+# Make sure it works both with $CC and with simple cc.\n+# We do the test twice because some compilers refuse to overwrite an\n+# existing .o file with -o, though they will create one.\n+ac_try='$CC -c conftest.$ac_ext -o conftest.$ac_objext >&5'\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+   test -f conftest.$ac_objext && { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); };\n+then\n+  eval ac_cv_prog_cc_${ac_cc}_c_o=yes\n+  if test \"x$CC\" != xcc; then\n+    # Test first that cc exists at all.\n+    if { ac_try='cc -c conftest.$ac_ext >&5'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+      ac_try='cc -c conftest.$ac_ext -o conftest.$ac_objext >&5'\n+      if { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t test -f conftest.$ac_objext && { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); };\n+      then\n+\t# cc works too.\n+\t:\n+      else\n+\t# cc exists but doesn't like -o.\n+\teval ac_cv_prog_cc_${ac_cc}_c_o=no\n+      fi\n+    fi\n+  fi\n+else\n+  eval ac_cv_prog_cc_${ac_cc}_c_o=no\n+fi\n+rm -f conftest*\n+\n+fi\n+if eval \"test \\\"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\\\" = yes\"; then\n+  echo \"$as_me:$LINENO: result: yes\" >&5\n+echo \"${ECHO_T}yes\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define NO_MINUS_C_MINUS_O 1\n+_ACEOF\n+\n+fi\n+\n+# FIXME: we rely on the cache variable name because\n+# there is no other way.\n+set dummy $CC\n+ac_cc=`echo $2 | sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`\n+if eval \"test \\\"`echo '$ac_cv_prog_cc_'${ac_cc}_c_o`\\\" != yes\"; then\n+   # Losing compiler, so override with the script.\n+   # FIXME: It is wrong to rewrite CC.\n+   # But if we don't then we get into trouble of one sort or another.\n+   # A longer-term fix would be to have automake use am__CC in this case,\n+   # and then we could set am__CC=\"\\$(top_srcdir)/compile \\$(CC)\"\n+   CC=\"$am_aux_dir/compile $CC\"\n+fi\n+\n ac_ext=c\n ac_cpp='$CPP $CPPFLAGS'\n ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n@@ -15084,11 +15187,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:15087: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:15190: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>conftest.err)\n    ac_status=$?\n    cat conftest.err >&5\n-   echo \"$as_me:15091: \\$? = $ac_status\" >&5\n+   echo \"$as_me:15194: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s \"$ac_outfile\"; then\n      # The compiler can only warn and ignore the option if not recognized\n      # So say no if there are warnings other than the usual output.\n@@ -15183,11 +15286,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:15186: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:15289: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:15190: \\$? = $ac_status\" >&5\n+   echo \"$as_me:15293: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -15235,11 +15338,11 @@ else\n    -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n    -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n    -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \"\\\"\\$as_me:15238: $lt_compile\\\"\" >&5)\n+   (eval echo \"\\\"\\$as_me:15341: $lt_compile\\\"\" >&5)\n    (eval \"$lt_compile\" 2>out/conftest.err)\n    ac_status=$?\n    cat out/conftest.err >&5\n-   echo \"$as_me:15242: \\$? = $ac_status\" >&5\n+   echo \"$as_me:15345: \\$? = $ac_status\" >&5\n    if (exit $ac_status) && test -s out/conftest2.$ac_objext\n    then\n      # The compiler can only warn and ignore the option if not recognized\n@@ -17168,6 +17271,7 @@ rm -f conftest*\n \n \n \n+\n \n \n for ac_func in ftruncate fsync select \\\n@@ -17182,7 +17286,7 @@ for ac_func in ftruncate fsync select \\\n \t\t  lstat readlink \\\n  \t\t  inet_aton inet_addr inet_pton \\\n \t\t  getifaddrs kqueue kevent epoll_create \\\n-                  readdir_r\n+                  readdir_r getloadavg\n do\n as_ac_var=`echo \"ac_cv_func_$ac_func\" | $as_tr_sh`\n echo \"$as_me:$LINENO: checking for $ac_func\" >&5\n@@ -18014,6 +18118,77 @@ _ACEOF\n \n fi\n \n+  echo \"$as_me:$LINENO: checking for inline\" >&5\n+echo $ECHO_N \"checking for inline... $ECHO_C\" >&6\n+if test \"${ac_cv_c_inline+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_cv_c_inline=no\n+for ac_kw in inline __inline__ __inline; do\n+  cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#ifndef __cplusplus\n+typedef int foo_t;\n+static $ac_kw foo_t static_foo () {return 0; }\n+$ac_kw foo_t foo () {return 0; }\n+#endif\n+\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_c_inline=$ac_kw; break\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+done\n+\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_c_inline\" >&5\n+echo \"${ECHO_T}$ac_cv_c_inline\" >&6\n+\n+\n+case $ac_cv_c_inline in\n+  inline | yes) ;;\n+  *)\n+    case $ac_cv_c_inline in\n+      no) ac_val=;;\n+      *) ac_val=$ac_cv_c_inline;;\n+    esac\n+    cat >>confdefs.h <<_ACEOF\n+#ifndef __cplusplus\n+#define inline $ac_val\n+#endif\n+_ACEOF\n+    ;;\n+esac\n+\n   echo \"$as_me:$LINENO: checking for __attribute__\" >&5\n echo $ECHO_N \"checking for __attribute__... $ECHO_C\" >&6\n if test \"${ac_cv_c_attribute+set}\" = set; then\n@@ -18077,146 +18252,465 @@ esac\n \n \n \n-      if test \"X$prefix\" = \"XNONE\"; then\n-    acl_final_prefix=\"$ac_default_prefix\"\n-  else\n-    acl_final_prefix=\"$prefix\"\n-  fi\n-  if test \"X$exec_prefix\" = \"XNONE\"; then\n-    acl_final_exec_prefix='${prefix}'\n-  else\n-    acl_final_exec_prefix=\"$exec_prefix\"\n-  fi\n-  acl_save_prefix=\"$prefix\"\n-  prefix=\"$acl_final_prefix\"\n-  eval acl_final_exec_prefix=\\\"$acl_final_exec_prefix\\\"\n-  prefix=\"$acl_save_prefix\"\n+    ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n+    echo \"$as_me:$LINENO: checking how many arguments gethostbyname_r() takes\" >&5\n+echo $ECHO_N \"checking how many arguments gethostbyname_r() takes... $ECHO_C\" >&6\n \n-# Check whether --with-gnu-ld or --without-gnu-ld was given.\n-if test \"${with_gnu_ld+set}\" = set; then\n-  withval=\"$with_gnu_ld\"\n-  test \"$withval\" = no || with_gnu_ld=yes\n-else\n-  with_gnu_ld=no\n-fi;\n-# Prepare PATH_SEPARATOR.\n-# The user is always right.\n-if test \"${PATH_SEPARATOR+set}\" != set; then\n-  echo \"#! /bin/sh\" >conf$$.sh\n-  echo  \"exit 0\"   >>conf$$.sh\n-  chmod +x conf$$.sh\n-  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n-    PATH_SEPARATOR=';'\n-  else\n-    PATH_SEPARATOR=:\n-  fi\n-  rm -f conf$$.sh\n-fi\n-ac_prog=ld\n-if test \"$GCC\" = yes; then\n-  # Check if gcc -print-prog-name=ld gives a path.\n-  echo \"$as_me:$LINENO: checking for ld used by GCC\" >&5\n-echo $ECHO_N \"checking for ld used by GCC... $ECHO_C\" >&6\n-  case $host in\n-  *-*-mingw*)\n-    # gcc leaves a trailing carriage return which upsets mingw\n-    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n-  *)\n-    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n-  esac\n-  case $ac_prog in\n-    # Accept absolute paths.\n-    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n-      re_direlt='/[^/][^/]*/\\.\\./'\n-      # Canonicalize the path of ld\n-      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n-      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n-\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n-      done\n-      test -z \"$LD\" && LD=\"$ac_prog\"\n-      ;;\n-  \"\")\n-    # If it fails, then pretend we aren't using GCC.\n-    ac_prog=ld\n-    ;;\n-  *)\n-    # If it is relative, then search for the first ld in PATH.\n-    with_gnu_ld=unknown\n-    ;;\n-  esac\n-elif test \"$with_gnu_ld\" = yes; then\n-  echo \"$as_me:$LINENO: checking for GNU ld\" >&5\n-echo $ECHO_N \"checking for GNU ld... $ECHO_C\" >&6\n-else\n-  echo \"$as_me:$LINENO: checking for non-GNU ld\" >&5\n-echo $ECHO_N \"checking for non-GNU ld... $ECHO_C\" >&6\n-fi\n-if test \"${acl_cv_path_LD+set}\" = set; then\n+    if test \"${ac_cv_func_which_gethostbyname_r+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -z \"$LD\"; then\n-  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n-  for ac_dir in $PATH; do\n-    test -z \"$ac_dir\" && ac_dir=.\n-    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n-      acl_cv_path_LD=\"$ac_dir/$ac_prog\"\n-      # Check to see if the program is GNU ld.  I'd rather use --version,\n-      # but apparently some GNU ld's only accept -v.\n-      # Break only if it was the GNU/non-GNU ld that we prefer.\n-      if \"$acl_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n-\ttest \"$with_gnu_ld\" != no && break\n-      else\n-\ttest \"$with_gnu_ld\" != yes && break\n-      fi\n-    fi\n-  done\n-  IFS=\"$ac_save_ifs\"\n-else\n-  acl_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n-fi\n-fi\n \n-LD=\"$acl_cv_path_LD\"\n-if test -n \"$LD\"; then\n-  echo \"$as_me:$LINENO: result: $LD\" >&5\n-echo \"${ECHO_T}$LD\" >&6\n-else\n-  echo \"$as_me:$LINENO: result: no\" >&5\n-echo \"${ECHO_T}no\" >&6\n-fi\n-test -z \"$LD\" && { { echo \"$as_me:$LINENO: error: no acceptable ld found in \\$PATH\" >&5\n-echo \"$as_me: error: no acceptable ld found in \\$PATH\" >&2;}\n-   { (exit 1); exit 1; }; }\n-echo \"$as_me:$LINENO: checking if the linker ($LD) is GNU ld\" >&5\n-echo $ECHO_N \"checking if the linker ($LD) is GNU ld... $ECHO_C\" >&6\n-if test \"${acl_cv_prog_gnu_ld+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n-if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n-  acl_cv_prog_gnu_ld=yes\n-else\n-  acl_cv_prog_gnu_ld=no\n-fi\n-fi\n-echo \"$as_me:$LINENO: result: $acl_cv_prog_gnu_ld\" >&5\n-echo \"${ECHO_T}$acl_cv_prog_gnu_ld\" >&6\n-with_gnu_ld=$acl_cv_prog_gnu_ld\n \n+################################################################\n \n+ac_cv_func_which_gethostbyname_r=unknown\n \n-                                                echo \"$as_me:$LINENO: checking for shared library run path origin\" >&5\n-echo $ECHO_N \"checking for shared library run path origin... $ECHO_C\" >&6\n-if test \"${acl_cv_rpath+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n+#\n+# ONE ARGUMENT (sanity check)\n+#\n \n-    CC=\"$CC\" GCC=\"$GCC\" LDFLAGS=\"$LDFLAGS\" LD=\"$LD\" with_gnu_ld=\"$with_gnu_ld\" \\\n-    ${CONFIG_SHELL-/bin/sh} \"$ac_aux_dir/config.rpath\" \"$host\" > conftest.sh\n-    . ./conftest.sh\n-    rm -f ./conftest.sh\n-    acl_cv_rpath=done\n+# This should fail, as there is no variant of gethostbyname_r() that takes\n+# a single argument. If it actually compiles, then we can assume that\n+# netdb.h is not declaring the function, and the compiler is thereby\n+# assuming an implicit prototype. In which case, we're out of luck.\n+#\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <netdb.h>\n+int\n+main ()\n+{\n+\n+            char *name = \"www.gnu.org\";\n+            (void)gethostbyname_r(name) /* ; */\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_func_which_gethostbyname_r=no\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+\n+#\n+# SIX ARGUMENTS\n+# (e.g. Linux)\n+#\n+\n+if test \"$ac_cv_func_which_gethostbyname_r\" = \"unknown\"; then\n+\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <netdb.h>\n+int\n+main ()\n+{\n+\n+            char *name = \"www.gnu.org\";\n+            struct hostent ret, *retp;\n+            char buf[1024];\n+            int buflen = 1024;\n+            int my_h_errno;\n+            (void)gethostbyname_r(name, &ret, buf, buflen, &retp, &my_h_errno) /* ; */\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_func_which_gethostbyname_r=six\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+\n+fi\n+\n+#\n+# FIVE ARGUMENTS\n+# (e.g. Solaris)\n+#\n+\n+if test \"$ac_cv_func_which_gethostbyname_r\" = \"unknown\"; then\n+\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <netdb.h>\n+int\n+main ()\n+{\n+\n+            char *name = \"www.gnu.org\";\n+            struct hostent ret;\n+            char buf[1024];\n+            int buflen = 1024;\n+            int my_h_errno;\n+            (void)gethostbyname_r(name, &ret, buf, buflen, &my_h_errno) /* ; */\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_func_which_gethostbyname_r=five\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+\n+fi\n+\n+#\n+# THREE ARGUMENTS\n+# (e.g. AIX, HP-UX, Tru64)\n+#\n+\n+if test \"$ac_cv_func_which_gethostbyname_r\" = \"unknown\"; then\n+\n+cat >conftest.$ac_ext <<_ACEOF\n+/* confdefs.h.  */\n+_ACEOF\n+cat confdefs.h >>conftest.$ac_ext\n+cat >>conftest.$ac_ext <<_ACEOF\n+/* end confdefs.h.  */\n+#include <netdb.h>\n+int\n+main ()\n+{\n+\n+            char *name = \"www.gnu.org\";\n+            struct hostent ret;\n+            struct hostent_data data;\n+            (void)gethostbyname_r(name, &ret, &data) /* ; */\n+\n+  ;\n+  return 0;\n+}\n+_ACEOF\n+rm -f conftest.$ac_objext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n+  (eval $ac_compile) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest.$ac_objext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  ac_cv_func_which_gethostbyname_r=three\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+fi\n+rm -f conftest.err conftest.$ac_objext conftest.$ac_ext\n+\n+fi\n+\n+################################################################\n+\n+\n+fi\n+\n+case \"$ac_cv_func_which_gethostbyname_r\" in\n+    three)\n+    echo \"$as_me:$LINENO: result: three\" >&5\n+echo \"${ECHO_T}three\" >&6\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_FUNC_GETHOSTBYNAME_R_3 1\n+_ACEOF\n+\n+    ;;\n+\n+    five)\n+    echo \"$as_me:$LINENO: result: five\" >&5\n+echo \"${ECHO_T}five\" >&6\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_FUNC_GETHOSTBYNAME_R_5 1\n+_ACEOF\n+\n+    ;;\n+\n+    six)\n+    echo \"$as_me:$LINENO: result: six\" >&5\n+echo \"${ECHO_T}six\" >&6\n+\n+cat >>confdefs.h <<\\_ACEOF\n+#define HAVE_FUNC_GETHOSTBYNAME_R_6 1\n+_ACEOF\n+\n+    ;;\n+\n+    no)\n+    echo \"$as_me:$LINENO: result: cannot find function declaration in netdb.h\" >&5\n+echo \"${ECHO_T}cannot find function declaration in netdb.h\" >&6\n+    ;;\n+\n+    unknown)\n+    echo \"$as_me:$LINENO: result: can't tell\" >&5\n+echo \"${ECHO_T}can't tell\" >&6\n+    ;;\n+\n+    *)\n+    { { echo \"$as_me:$LINENO: error: internal error\" >&5\n+echo \"$as_me: error: internal error\" >&2;}\n+   { (exit 1); exit 1; }; }\n+    ;;\n+esac\n+\n+ac_ext=c\n+ac_cpp='$CPP $CPPFLAGS'\n+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n+ac_compiler_gnu=$ac_cv_c_compiler_gnu\n+\n+\n+\n+\n+\n+      if test \"X$prefix\" = \"XNONE\"; then\n+    acl_final_prefix=\"$ac_default_prefix\"\n+  else\n+    acl_final_prefix=\"$prefix\"\n+  fi\n+  if test \"X$exec_prefix\" = \"XNONE\"; then\n+    acl_final_exec_prefix='${prefix}'\n+  else\n+    acl_final_exec_prefix=\"$exec_prefix\"\n+  fi\n+  acl_save_prefix=\"$prefix\"\n+  prefix=\"$acl_final_prefix\"\n+  eval acl_final_exec_prefix=\\\"$acl_final_exec_prefix\\\"\n+  prefix=\"$acl_save_prefix\"\n+\n+\n+# Check whether --with-gnu-ld or --without-gnu-ld was given.\n+if test \"${with_gnu_ld+set}\" = set; then\n+  withval=\"$with_gnu_ld\"\n+  test \"$withval\" = no || with_gnu_ld=yes\n+else\n+  with_gnu_ld=no\n+fi;\n+# Prepare PATH_SEPARATOR.\n+# The user is always right.\n+if test \"${PATH_SEPARATOR+set}\" != set; then\n+  echo \"#! /bin/sh\" >conf$$.sh\n+  echo  \"exit 0\"   >>conf$$.sh\n+  chmod +x conf$$.sh\n+  if (PATH=\"/nonexistent;.\"; conf$$.sh) >/dev/null 2>&1; then\n+    PATH_SEPARATOR=';'\n+  else\n+    PATH_SEPARATOR=:\n+  fi\n+  rm -f conf$$.sh\n+fi\n+ac_prog=ld\n+if test \"$GCC\" = yes; then\n+  # Check if gcc -print-prog-name=ld gives a path.\n+  echo \"$as_me:$LINENO: checking for ld used by GCC\" >&5\n+echo $ECHO_N \"checking for ld used by GCC... $ECHO_C\" >&6\n+  case $host in\n+  *-*-mingw*)\n+    # gcc leaves a trailing carriage return which upsets mingw\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n+  *)\n+    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n+  esac\n+  case $ac_prog in\n+    # Accept absolute paths.\n+    [\\\\/]* | [A-Za-z]:[\\\\/]*)\n+      re_direlt='/[^/][^/]*/\\.\\./'\n+      # Canonicalize the path of ld\n+      ac_prog=`echo $ac_prog| sed 's%\\\\\\\\%/%g'`\n+      while echo $ac_prog | grep \"$re_direlt\" > /dev/null 2>&1; do\n+\tac_prog=`echo $ac_prog| sed \"s%$re_direlt%/%\"`\n+      done\n+      test -z \"$LD\" && LD=\"$ac_prog\"\n+      ;;\n+  \"\")\n+    # If it fails, then pretend we aren't using GCC.\n+    ac_prog=ld\n+    ;;\n+  *)\n+    # If it is relative, then search for the first ld in PATH.\n+    with_gnu_ld=unknown\n+    ;;\n+  esac\n+elif test \"$with_gnu_ld\" = yes; then\n+  echo \"$as_me:$LINENO: checking for GNU ld\" >&5\n+echo $ECHO_N \"checking for GNU ld... $ECHO_C\" >&6\n+else\n+  echo \"$as_me:$LINENO: checking for non-GNU ld\" >&5\n+echo $ECHO_N \"checking for non-GNU ld... $ECHO_C\" >&6\n+fi\n+if test \"${acl_cv_path_LD+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  if test -z \"$LD\"; then\n+  IFS=\"${IFS= \t}\"; ac_save_ifs=\"$IFS\"; IFS=\"${IFS}${PATH_SEPARATOR-:}\"\n+  for ac_dir in $PATH; do\n+    test -z \"$ac_dir\" && ac_dir=.\n+    if test -f \"$ac_dir/$ac_prog\" || test -f \"$ac_dir/$ac_prog$ac_exeext\"; then\n+      acl_cv_path_LD=\"$ac_dir/$ac_prog\"\n+      # Check to see if the program is GNU ld.  I'd rather use --version,\n+      # but apparently some GNU ld's only accept -v.\n+      # Break only if it was the GNU/non-GNU ld that we prefer.\n+      if \"$acl_cv_path_LD\" -v 2>&1 < /dev/null | egrep '(GNU|with BFD)' > /dev/null; then\n+\ttest \"$with_gnu_ld\" != no && break\n+      else\n+\ttest \"$with_gnu_ld\" != yes && break\n+      fi\n+    fi\n+  done\n+  IFS=\"$ac_save_ifs\"\n+else\n+  acl_cv_path_LD=\"$LD\" # Let the user override the test with a path.\n+fi\n+fi\n+\n+LD=\"$acl_cv_path_LD\"\n+if test -n \"$LD\"; then\n+  echo \"$as_me:$LINENO: result: $LD\" >&5\n+echo \"${ECHO_T}$LD\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+test -z \"$LD\" && { { echo \"$as_me:$LINENO: error: no acceptable ld found in \\$PATH\" >&5\n+echo \"$as_me: error: no acceptable ld found in \\$PATH\" >&2;}\n+   { (exit 1); exit 1; }; }\n+echo \"$as_me:$LINENO: checking if the linker ($LD) is GNU ld\" >&5\n+echo $ECHO_N \"checking if the linker ($LD) is GNU ld... $ECHO_C\" >&6\n+if test \"${acl_cv_prog_gnu_ld+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  # I'd rather use --version here, but apparently some GNU ld's only accept -v.\n+if $LD -v 2>&1 </dev/null | egrep '(GNU|with BFD)' 1>&5; then\n+  acl_cv_prog_gnu_ld=yes\n+else\n+  acl_cv_prog_gnu_ld=no\n+fi\n+fi\n+echo \"$as_me:$LINENO: result: $acl_cv_prog_gnu_ld\" >&5\n+echo \"${ECHO_T}$acl_cv_prog_gnu_ld\" >&6\n+with_gnu_ld=$acl_cv_prog_gnu_ld\n+\n+\n+\n+                                                echo \"$as_me:$LINENO: checking for shared library run path origin\" >&5\n+echo $ECHO_N \"checking for shared library run path origin... $ECHO_C\" >&6\n+if test \"${acl_cv_rpath+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+\n+    CC=\"$CC\" GCC=\"$GCC\" LDFLAGS=\"$LDFLAGS\" LD=\"$LD\" with_gnu_ld=\"$with_gnu_ld\" \\\n+    ${CONFIG_SHELL-/bin/sh} \"$ac_aux_dir/config.rpath\" \"$host\" > conftest.sh\n+    . ./conftest.sh\n+    rm -f ./conftest.sh\n+    acl_cv_rpath=done\n \n fi\n echo \"$as_me:$LINENO: result: $acl_cv_rpath\" >&5\n@@ -19187,15 +19681,15 @@ ac_x_header_dirs='\n /usr/openwin/share/include'\n \n if test \"$ac_x_includes\" = no; then\n-  # Guess where to find include files, by looking for Xlib.h.\n+  # Guess where to find include files, by looking for Intrinsic.h.\n   # First, try using that file with no special directory specified.\n   cat >conftest.$ac_ext <<_ACEOF\n /* confdefs.h.  */\n _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Xlib.h>\n+#include <X11/Intrinsic.h>\n _ACEOF\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_cpp conftest.$ac_ext\\\"\") >&5\n   (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1\n@@ -19222,7 +19716,7 @@ else\n sed 's/^/| /' conftest.$ac_ext >&5\n \n   for ac_dir in $ac_x_header_dirs; do\n-  if test -r \"$ac_dir/X11/Xlib.h\"; then\n+  if test -r \"$ac_dir/X11/Intrinsic.h\"; then\n     ac_x_includes=$ac_dir\n     break\n   fi\n@@ -19236,7 +19730,7 @@ if test \"$ac_x_libraries\" = no; then\n   # See if we find them without any special options.\n   # Don't add to $LIBS permanently.\n   ac_save_LIBS=$LIBS\n-  LIBS=\"-lX11 $LIBS\"\n+  LIBS=\"-lXt $LIBS\"\n   if test x$gcc_no_link = xyes; then\n   { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n@@ -19248,11 +19742,11 @@ _ACEOF\n cat confdefs.h >>conftest.$ac_ext\n cat >>conftest.$ac_ext <<_ACEOF\n /* end confdefs.h.  */\n-#include <X11/Xlib.h>\n+#include <X11/Intrinsic.h>\n int\n main ()\n {\n-XrmInitialize ()\n+XtMalloc (0)\n   ;\n   return 0;\n }\n@@ -20795,32 +21289,130 @@ fi\n   else\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n-        echo \"$as_me:$LINENO: checking for freetype2\" >&5\n-echo $ECHO_N \"checking for freetype2... $ECHO_C\" >&6\n+        echo \"$as_me:$LINENO: checking for freetype2\" >&5\n+echo $ECHO_N \"checking for freetype2... $ECHO_C\" >&6\n+\n+        if $PKG_CONFIG --exists \"freetype2\" ; then\n+            echo \"$as_me:$LINENO: result: yes\" >&5\n+echo \"${ECHO_T}yes\" >&6\n+            succeeded=yes\n+\n+            echo \"$as_me:$LINENO: checking FREETYPE2_CFLAGS\" >&5\n+echo $ECHO_N \"checking FREETYPE2_CFLAGS... $ECHO_C\" >&6\n+            FREETYPE2_CFLAGS=`$PKG_CONFIG --cflags \"freetype2\"`\n+            echo \"$as_me:$LINENO: result: $FREETYPE2_CFLAGS\" >&5\n+echo \"${ECHO_T}$FREETYPE2_CFLAGS\" >&6\n+\n+            echo \"$as_me:$LINENO: checking FREETYPE2_LIBS\" >&5\n+echo $ECHO_N \"checking FREETYPE2_LIBS... $ECHO_C\" >&6\n+            FREETYPE2_LIBS=`$PKG_CONFIG --libs \"freetype2\"`\n+            echo \"$as_me:$LINENO: result: $FREETYPE2_LIBS\" >&5\n+echo \"${ECHO_T}$FREETYPE2_LIBS\" >&6\n+        else\n+            FREETYPE2_CFLAGS=\"\"\n+            FREETYPE2_LIBS=\"\"\n+            ## If we have a custom action on failure, don't print errors, but\n+            ## do set a variable so people can do so.\n+            FREETYPE2_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"freetype2\"`\n+            echo $FREETYPE2_PKG_ERRORS\n+        fi\n+\n+\n+\n+     else\n+        echo \"*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer.\"\n+        echo \"*** See http://www.freedesktop.org/software/pkgconfig\"\n+     fi\n+  fi\n+\n+  if test $succeeded = yes; then\n+     :\n+  else\n+     { { echo \"$as_me:$LINENO: error: Library requirements (freetype2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n+echo \"$as_me: error: Library requirements (freetype2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+  fi\n+\n+\n+  succeeded=no\n+\n+  if test -z \"$PKG_CONFIG\"; then\n+    # Extract the first word of \"pkg-config\", so it can be a program name with args.\n+set dummy pkg-config; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_PKG_CONFIG+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  test -z \"$ac_cv_path_PKG_CONFIG\" && ac_cv_path_PKG_CONFIG=\"no\"\n+  ;;\n+esac\n+fi\n+PKG_CONFIG=$ac_cv_path_PKG_CONFIG\n+\n+if test -n \"$PKG_CONFIG\"; then\n+  echo \"$as_me:$LINENO: result: $PKG_CONFIG\" >&5\n+echo \"${ECHO_T}$PKG_CONFIG\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  fi\n+\n+  if test \"$PKG_CONFIG\" = \"no\" ; then\n+     echo \"*** The pkg-config script could not be found. Make sure it is\"\n+     echo \"*** in your path, or set the PKG_CONFIG environment variable\"\n+     echo \"*** to the full path to pkg-config.\"\n+     echo \"*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config.\"\n+  else\n+     PKG_CONFIG_MIN_VERSION=0.9.0\n+     if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n+        echo \"$as_me:$LINENO: checking for pangoft2\" >&5\n+echo $ECHO_N \"checking for pangoft2... $ECHO_C\" >&6\n \n-        if $PKG_CONFIG --exists \"freetype2\" ; then\n+        if $PKG_CONFIG --exists \"pangoft2\" ; then\n             echo \"$as_me:$LINENO: result: yes\" >&5\n echo \"${ECHO_T}yes\" >&6\n             succeeded=yes\n \n-            echo \"$as_me:$LINENO: checking FREETYPE2_CFLAGS\" >&5\n-echo $ECHO_N \"checking FREETYPE2_CFLAGS... $ECHO_C\" >&6\n-            FREETYPE2_CFLAGS=`$PKG_CONFIG --cflags \"freetype2\"`\n-            echo \"$as_me:$LINENO: result: $FREETYPE2_CFLAGS\" >&5\n-echo \"${ECHO_T}$FREETYPE2_CFLAGS\" >&6\n+            echo \"$as_me:$LINENO: checking PANGOFT2_CFLAGS\" >&5\n+echo $ECHO_N \"checking PANGOFT2_CFLAGS... $ECHO_C\" >&6\n+            PANGOFT2_CFLAGS=`$PKG_CONFIG --cflags \"pangoft2\"`\n+            echo \"$as_me:$LINENO: result: $PANGOFT2_CFLAGS\" >&5\n+echo \"${ECHO_T}$PANGOFT2_CFLAGS\" >&6\n \n-            echo \"$as_me:$LINENO: checking FREETYPE2_LIBS\" >&5\n-echo $ECHO_N \"checking FREETYPE2_LIBS... $ECHO_C\" >&6\n-            FREETYPE2_LIBS=`$PKG_CONFIG --libs \"freetype2\"`\n-            echo \"$as_me:$LINENO: result: $FREETYPE2_LIBS\" >&5\n-echo \"${ECHO_T}$FREETYPE2_LIBS\" >&6\n+            echo \"$as_me:$LINENO: checking PANGOFT2_LIBS\" >&5\n+echo $ECHO_N \"checking PANGOFT2_LIBS... $ECHO_C\" >&6\n+            PANGOFT2_LIBS=`$PKG_CONFIG --libs \"pangoft2\"`\n+            echo \"$as_me:$LINENO: result: $PANGOFT2_LIBS\" >&5\n+echo \"${ECHO_T}$PANGOFT2_LIBS\" >&6\n         else\n-            FREETYPE2_CFLAGS=\"\"\n-            FREETYPE2_LIBS=\"\"\n+            PANGOFT2_CFLAGS=\"\"\n+            PANGOFT2_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            FREETYPE2_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"freetype2\"`\n-            echo $FREETYPE2_PKG_ERRORS\n+            PANGOFT2_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"pangoft2\"`\n+            echo $PANGOFT2_PKG_ERRORS\n         fi\n \n \n@@ -20834,8 +21426,8 @@ echo \"${ECHO_T}$FREETYPE2_LIBS\" >&6\n   if test $succeeded = yes; then\n      :\n   else\n-     { { echo \"$as_me:$LINENO: error: Library requirements (freetype2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n-echo \"$as_me: error: Library requirements (freetype2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n+     { { echo \"$as_me:$LINENO: error: Library requirements (pangoft2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n+echo \"$as_me: error: Library requirements (pangoft2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n    { (exit 1); exit 1; }; }\n   fi\n \n@@ -20893,32 +21485,32 @@ fi\n   else\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n-        echo \"$as_me:$LINENO: checking for pangoft2\" >&5\n-echo $ECHO_N \"checking for pangoft2... $ECHO_C\" >&6\n+        echo \"$as_me:$LINENO: checking for cairo >= 1.1.8\" >&5\n+echo $ECHO_N \"checking for cairo >= 1.1.8... $ECHO_C\" >&6\n \n-        if $PKG_CONFIG --exists \"pangoft2\" ; then\n+        if $PKG_CONFIG --exists \"cairo >= 1.1.8\" ; then\n             echo \"$as_me:$LINENO: result: yes\" >&5\n echo \"${ECHO_T}yes\" >&6\n             succeeded=yes\n \n-            echo \"$as_me:$LINENO: checking PANGOFT2_CFLAGS\" >&5\n-echo $ECHO_N \"checking PANGOFT2_CFLAGS... $ECHO_C\" >&6\n-            PANGOFT2_CFLAGS=`$PKG_CONFIG --cflags \"pangoft2\"`\n-            echo \"$as_me:$LINENO: result: $PANGOFT2_CFLAGS\" >&5\n-echo \"${ECHO_T}$PANGOFT2_CFLAGS\" >&6\n-\n-            echo \"$as_me:$LINENO: checking PANGOFT2_LIBS\" >&5\n-echo $ECHO_N \"checking PANGOFT2_LIBS... $ECHO_C\" >&6\n-            PANGOFT2_LIBS=`$PKG_CONFIG --libs \"pangoft2\"`\n-            echo \"$as_me:$LINENO: result: $PANGOFT2_LIBS\" >&5\n-echo \"${ECHO_T}$PANGOFT2_LIBS\" >&6\n+            echo \"$as_me:$LINENO: checking CAIRO_CFLAGS\" >&5\n+echo $ECHO_N \"checking CAIRO_CFLAGS... $ECHO_C\" >&6\n+            CAIRO_CFLAGS=`$PKG_CONFIG --cflags \"cairo >= 1.1.8\"`\n+            echo \"$as_me:$LINENO: result: $CAIRO_CFLAGS\" >&5\n+echo \"${ECHO_T}$CAIRO_CFLAGS\" >&6\n+\n+            echo \"$as_me:$LINENO: checking CAIRO_LIBS\" >&5\n+echo $ECHO_N \"checking CAIRO_LIBS... $ECHO_C\" >&6\n+            CAIRO_LIBS=`$PKG_CONFIG --libs \"cairo >= 1.1.8\"`\n+            echo \"$as_me:$LINENO: result: $CAIRO_LIBS\" >&5\n+echo \"${ECHO_T}$CAIRO_LIBS\" >&6\n         else\n-            PANGOFT2_CFLAGS=\"\"\n-            PANGOFT2_LIBS=\"\"\n+            CAIRO_CFLAGS=\"\"\n+            CAIRO_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            PANGOFT2_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"pangoft2\"`\n-            echo $PANGOFT2_PKG_ERRORS\n+            CAIRO_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"cairo >= 1.1.8\"`\n+            echo $CAIRO_PKG_ERRORS\n         fi\n \n \n@@ -20932,8 +21524,8 @@ echo \"${ECHO_T}$PANGOFT2_LIBS\" >&6\n   if test $succeeded = yes; then\n      :\n   else\n-     { { echo \"$as_me:$LINENO: error: Library requirements (pangoft2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n-echo \"$as_me: error: Library requirements (pangoft2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n+     { { echo \"$as_me:$LINENO: error: Library requirements (cairo >= 1.1.8) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n+echo \"$as_me: error: Library requirements (cairo >= 1.1.8) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n    { (exit 1); exit 1; }; }\n   fi\n \n@@ -21161,31 +21753,31 @@ fi\n   else\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n-        echo \"$as_me:$LINENO: checking for gconf-2.0 >= 2.11.2\" >&5\n-echo $ECHO_N \"checking for gconf-2.0 >= 2.11.2... $ECHO_C\" >&6\n+        echo \"$as_me:$LINENO: checking for gconf-2.0 >= 2.6.0\" >&5\n+echo $ECHO_N \"checking for gconf-2.0 >= 2.6.0... $ECHO_C\" >&6\n \n-        if $PKG_CONFIG --exists \"gconf-2.0 >= 2.11.2\" ; then\n+        if $PKG_CONFIG --exists \"gconf-2.0 >= 2.6.0\" ; then\n             echo \"$as_me:$LINENO: result: yes\" >&5\n echo \"${ECHO_T}yes\" >&6\n             succeeded=yes\n \n             echo \"$as_me:$LINENO: checking GCONF_CFLAGS\" >&5\n echo $ECHO_N \"checking GCONF_CFLAGS... $ECHO_C\" >&6\n-            GCONF_CFLAGS=`$PKG_CONFIG --cflags \"gconf-2.0 >= 2.11.2\"`\n+            GCONF_CFLAGS=`$PKG_CONFIG --cflags \"gconf-2.0 >= 2.6.0\"`\n             echo \"$as_me:$LINENO: result: $GCONF_CFLAGS\" >&5\n echo \"${ECHO_T}$GCONF_CFLAGS\" >&6\n \n             echo \"$as_me:$LINENO: checking GCONF_LIBS\" >&5\n echo $ECHO_N \"checking GCONF_LIBS... $ECHO_C\" >&6\n-            GCONF_LIBS=`$PKG_CONFIG --libs \"gconf-2.0 >= 2.11.2\"`\n+            GCONF_LIBS=`$PKG_CONFIG --libs \"gconf-2.0 >= 2.6.0\"`\n             echo \"$as_me:$LINENO: result: $GCONF_LIBS\" >&5\n echo \"${ECHO_T}$GCONF_LIBS\" >&6\n         else\n             GCONF_CFLAGS=\"\"\n             GCONF_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            GCONF_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"gconf-2.0 >= 2.11.2\"`\n+            GCONF_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"gconf-2.0 >= 2.6.0\"`\n             echo $GCONF_PKG_ERRORS\n         fi\n \n@@ -21200,8 +21792,8 @@ echo \"${ECHO_T}$GCONF_LIBS\" >&6\n   if test $succeeded = yes; then\n      :\n   else\n-     { { echo \"$as_me:$LINENO: error: Library requirements (gconf-2.0 >= 2.11.2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n-echo \"$as_me: error: Library requirements (gconf-2.0 >= 2.11.2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n+     { { echo \"$as_me:$LINENO: error: Library requirements (gconf-2.0 >= 2.6.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n+echo \"$as_me: error: Library requirements (gconf-2.0 >= 2.6.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n    { (exit 1); exit 1; }; }\n   fi\n \n@@ -21884,21 +22476,217 @@ echo \"${ECHO_T}yes\" >&6\n \n             echo \"$as_me:$LINENO: checking MOZILLA_CFLAGS\" >&5\n echo $ECHO_N \"checking MOZILLA_CFLAGS... $ECHO_C\" >&6\n-            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"firefox-plugin firefox-xpcom\"`\n+            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"firefox-plugin firefox-xpcom\"`\n+            echo \"$as_me:$LINENO: result: $MOZILLA_CFLAGS\" >&5\n+echo \"${ECHO_T}$MOZILLA_CFLAGS\" >&6\n+\n+            echo \"$as_me:$LINENO: checking MOZILLA_LIBS\" >&5\n+echo $ECHO_N \"checking MOZILLA_LIBS... $ECHO_C\" >&6\n+            MOZILLA_LIBS=`$PKG_CONFIG --libs \"firefox-plugin firefox-xpcom\"`\n+            echo \"$as_me:$LINENO: result: $MOZILLA_LIBS\" >&5\n+echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n+        else\n+            MOZILLA_CFLAGS=\"\"\n+            MOZILLA_LIBS=\"\"\n+            ## If we have a custom action on failure, don't print errors, but\n+            ## do set a variable so people can do so.\n+            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"firefox-plugin firefox-xpcom\"`\n+\n+        fi\n+\n+\n+\n+     else\n+        echo \"*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer.\"\n+        echo \"*** See http://www.freedesktop.org/software/pkgconfig\"\n+     fi\n+  fi\n+\n+  if test $succeeded = yes; then\n+     MOZILLA_FOUND=yes\n+  else\n+     MOZILLA_FOUND=no\n+  fi\n+\n+    fi\n+    if test \"x${MOZILLA_FOUND}\" = xno; then\n+\n+  succeeded=no\n+\n+  if test -z \"$PKG_CONFIG\"; then\n+    # Extract the first word of \"pkg-config\", so it can be a program name with args.\n+set dummy pkg-config; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_PKG_CONFIG+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  test -z \"$ac_cv_path_PKG_CONFIG\" && ac_cv_path_PKG_CONFIG=\"no\"\n+  ;;\n+esac\n+fi\n+PKG_CONFIG=$ac_cv_path_PKG_CONFIG\n+\n+if test -n \"$PKG_CONFIG\"; then\n+  echo \"$as_me:$LINENO: result: $PKG_CONFIG\" >&5\n+echo \"${ECHO_T}$PKG_CONFIG\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  fi\n+\n+  if test \"$PKG_CONFIG\" = \"no\" ; then\n+     echo \"*** The pkg-config script could not be found. Make sure it is\"\n+     echo \"*** in your path, or set the PKG_CONFIG environment variable\"\n+     echo \"*** to the full path to pkg-config.\"\n+     echo \"*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config.\"\n+  else\n+     PKG_CONFIG_MIN_VERSION=0.9.0\n+     if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n+        echo \"$as_me:$LINENO: checking for xulrunner-plugin xulrunner-xpcom\" >&5\n+echo $ECHO_N \"checking for xulrunner-plugin xulrunner-xpcom... $ECHO_C\" >&6\n+\n+        if $PKG_CONFIG --exists \"xulrunner-plugin xulrunner-xpcom\" ; then\n+            echo \"$as_me:$LINENO: result: yes\" >&5\n+echo \"${ECHO_T}yes\" >&6\n+            succeeded=yes\n+\n+            echo \"$as_me:$LINENO: checking MOZILLA_CFLAGS\" >&5\n+echo $ECHO_N \"checking MOZILLA_CFLAGS... $ECHO_C\" >&6\n+            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"xulrunner-plugin xulrunner-xpcom\"`\n+            echo \"$as_me:$LINENO: result: $MOZILLA_CFLAGS\" >&5\n+echo \"${ECHO_T}$MOZILLA_CFLAGS\" >&6\n+\n+            echo \"$as_me:$LINENO: checking MOZILLA_LIBS\" >&5\n+echo $ECHO_N \"checking MOZILLA_LIBS... $ECHO_C\" >&6\n+            MOZILLA_LIBS=`$PKG_CONFIG --libs \"xulrunner-plugin xulrunner-xpcom\"`\n+            echo \"$as_me:$LINENO: result: $MOZILLA_LIBS\" >&5\n+echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n+        else\n+            MOZILLA_CFLAGS=\"\"\n+            MOZILLA_LIBS=\"\"\n+            ## If we have a custom action on failure, don't print errors, but\n+            ## do set a variable so people can do so.\n+            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"xulrunner-plugin xulrunner-xpcom\"`\n+\n+        fi\n+\n+\n+\n+     else\n+        echo \"*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer.\"\n+        echo \"*** See http://www.freedesktop.org/software/pkgconfig\"\n+     fi\n+  fi\n+\n+  if test $succeeded = yes; then\n+     MOZILLA_FOUND=yes\n+  else\n+     MOZILLA_FOUND=no\n+  fi\n+\n+    fi\n+    if test \"x${MOZILLA_FOUND}\" = xno; then\n+\n+  succeeded=no\n+\n+  if test -z \"$PKG_CONFIG\"; then\n+    # Extract the first word of \"pkg-config\", so it can be a program name with args.\n+set dummy pkg-config; ac_word=$2\n+echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n+echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n+if test \"${ac_cv_path_PKG_CONFIG+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  case $PKG_CONFIG in\n+  [\\\\/]* | ?:[\\\\/]*)\n+  ac_cv_path_PKG_CONFIG=\"$PKG_CONFIG\" # Let the user override the test with a path.\n+  ;;\n+  *)\n+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n+for as_dir in $PATH\n+do\n+  IFS=$as_save_IFS\n+  test -z \"$as_dir\" && as_dir=.\n+  for ac_exec_ext in '' $ac_executable_extensions; do\n+  if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n+    ac_cv_path_PKG_CONFIG=\"$as_dir/$ac_word$ac_exec_ext\"\n+    echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n+    break 2\n+  fi\n+done\n+done\n+\n+  test -z \"$ac_cv_path_PKG_CONFIG\" && ac_cv_path_PKG_CONFIG=\"no\"\n+  ;;\n+esac\n+fi\n+PKG_CONFIG=$ac_cv_path_PKG_CONFIG\n+\n+if test -n \"$PKG_CONFIG\"; then\n+  echo \"$as_me:$LINENO: result: $PKG_CONFIG\" >&5\n+echo \"${ECHO_T}$PKG_CONFIG\" >&6\n+else\n+  echo \"$as_me:$LINENO: result: no\" >&5\n+echo \"${ECHO_T}no\" >&6\n+fi\n+\n+  fi\n+\n+  if test \"$PKG_CONFIG\" = \"no\" ; then\n+     echo \"*** The pkg-config script could not be found. Make sure it is\"\n+     echo \"*** in your path, or set the PKG_CONFIG environment variable\"\n+     echo \"*** to the full path to pkg-config.\"\n+     echo \"*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config.\"\n+  else\n+     PKG_CONFIG_MIN_VERSION=0.9.0\n+     if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n+        echo \"$as_me:$LINENO: checking for mozilla-firefox-plugin mozilla-firefox-xpcom\" >&5\n+echo $ECHO_N \"checking for mozilla-firefox-plugin mozilla-firefox-xpcom... $ECHO_C\" >&6\n+\n+        if $PKG_CONFIG --exists \"mozilla-firefox-plugin mozilla-firefox-xpcom\" ; then\n+            echo \"$as_me:$LINENO: result: yes\" >&5\n+echo \"${ECHO_T}yes\" >&6\n+            succeeded=yes\n+\n+            echo \"$as_me:$LINENO: checking MOZILLA_CFLAGS\" >&5\n+echo $ECHO_N \"checking MOZILLA_CFLAGS... $ECHO_C\" >&6\n+            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"mozilla-firefox-plugin mozilla-firefox-xpcom\"`\n             echo \"$as_me:$LINENO: result: $MOZILLA_CFLAGS\" >&5\n echo \"${ECHO_T}$MOZILLA_CFLAGS\" >&6\n \n             echo \"$as_me:$LINENO: checking MOZILLA_LIBS\" >&5\n echo $ECHO_N \"checking MOZILLA_LIBS... $ECHO_C\" >&6\n-            MOZILLA_LIBS=`$PKG_CONFIG --libs \"firefox-plugin firefox-xpcom\"`\n+            MOZILLA_LIBS=`$PKG_CONFIG --libs \"mozilla-firefox-plugin mozilla-firefox-xpcom\"`\n             echo \"$as_me:$LINENO: result: $MOZILLA_LIBS\" >&5\n echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n         else\n             MOZILLA_CFLAGS=\"\"\n             MOZILLA_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"firefox-plugin firefox-xpcom\"`\n+            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"mozilla-firefox-plugin mozilla-firefox-xpcom\"`\n \n         fi\n \n@@ -21972,31 +22760,31 @@ fi\n   else\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n-        echo \"$as_me:$LINENO: checking for xulrunner-plugin xulrunner-xpcom\" >&5\n-echo $ECHO_N \"checking for xulrunner-plugin xulrunner-xpcom... $ECHO_C\" >&6\n+        echo \"$as_me:$LINENO: checking for seamonkey-plugin seamonkey-xpcom\" >&5\n+echo $ECHO_N \"checking for seamonkey-plugin seamonkey-xpcom... $ECHO_C\" >&6\n \n-        if $PKG_CONFIG --exists \"xulrunner-plugin xulrunner-xpcom\" ; then\n+        if $PKG_CONFIG --exists \"seamonkey-plugin seamonkey-xpcom\" ; then\n             echo \"$as_me:$LINENO: result: yes\" >&5\n echo \"${ECHO_T}yes\" >&6\n             succeeded=yes\n \n             echo \"$as_me:$LINENO: checking MOZILLA_CFLAGS\" >&5\n echo $ECHO_N \"checking MOZILLA_CFLAGS... $ECHO_C\" >&6\n-            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"xulrunner-plugin xulrunner-xpcom\"`\n+            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"seamonkey-plugin seamonkey-xpcom\"`\n             echo \"$as_me:$LINENO: result: $MOZILLA_CFLAGS\" >&5\n echo \"${ECHO_T}$MOZILLA_CFLAGS\" >&6\n \n             echo \"$as_me:$LINENO: checking MOZILLA_LIBS\" >&5\n echo $ECHO_N \"checking MOZILLA_LIBS... $ECHO_C\" >&6\n-            MOZILLA_LIBS=`$PKG_CONFIG --libs \"xulrunner-plugin xulrunner-xpcom\"`\n+            MOZILLA_LIBS=`$PKG_CONFIG --libs \"seamonkey-plugin seamonkey-xpcom\"`\n             echo \"$as_me:$LINENO: result: $MOZILLA_LIBS\" >&5\n echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n         else\n             MOZILLA_CFLAGS=\"\"\n             MOZILLA_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"xulrunner-plugin xulrunner-xpcom\"`\n+            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"seamonkey-plugin seamonkey-xpcom\"`\n \n         fi\n \n@@ -22070,31 +22858,31 @@ fi\n   else\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n-        echo \"$as_me:$LINENO: checking for mozilla-firefox-plugin mozilla-firefox-xpcom\" >&5\n-echo $ECHO_N \"checking for mozilla-firefox-plugin mozilla-firefox-xpcom... $ECHO_C\" >&6\n+        echo \"$as_me:$LINENO: checking for iceape-plugin iceape-xpcom\" >&5\n+echo $ECHO_N \"checking for iceape-plugin iceape-xpcom... $ECHO_C\" >&6\n \n-        if $PKG_CONFIG --exists \"mozilla-firefox-plugin mozilla-firefox-xpcom\" ; then\n+        if $PKG_CONFIG --exists \"iceape-plugin iceape-xpcom\" ; then\n             echo \"$as_me:$LINENO: result: yes\" >&5\n echo \"${ECHO_T}yes\" >&6\n             succeeded=yes\n \n             echo \"$as_me:$LINENO: checking MOZILLA_CFLAGS\" >&5\n echo $ECHO_N \"checking MOZILLA_CFLAGS... $ECHO_C\" >&6\n-            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"mozilla-firefox-plugin mozilla-firefox-xpcom\"`\n+            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"iceape-plugin iceape-xpcom\"`\n             echo \"$as_me:$LINENO: result: $MOZILLA_CFLAGS\" >&5\n echo \"${ECHO_T}$MOZILLA_CFLAGS\" >&6\n \n             echo \"$as_me:$LINENO: checking MOZILLA_LIBS\" >&5\n echo $ECHO_N \"checking MOZILLA_LIBS... $ECHO_C\" >&6\n-            MOZILLA_LIBS=`$PKG_CONFIG --libs \"mozilla-firefox-plugin mozilla-firefox-xpcom\"`\n+            MOZILLA_LIBS=`$PKG_CONFIG --libs \"iceape-plugin iceape-xpcom\"`\n             echo \"$as_me:$LINENO: result: $MOZILLA_LIBS\" >&5\n echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n         else\n             MOZILLA_CFLAGS=\"\"\n             MOZILLA_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"mozilla-firefox-plugin mozilla-firefox-xpcom\"`\n+            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"iceape-plugin iceape-xpcom\"`\n \n         fi\n \n@@ -22114,6 +22902,11 @@ echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n \n     fi\n     if test \"x${MOZILLA_FOUND}\" = xno; then\n+      { { echo \"$as_me:$LINENO: error: Couldn't find plugin support headers and libraries, try --disable-plugin\" >&5\n+echo \"$as_me: error: Couldn't find plugin support headers and libraries, try --disable-plugin\" >&2;}\n+   { (exit 1); exit 1; }; }\n+    fi\n+\n \n   succeeded=no\n \n@@ -22168,32 +22961,32 @@ fi\n   else\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n-        echo \"$as_me:$LINENO: checking for seamonkey-plugin seamonkey-xpcom\" >&5\n-echo $ECHO_N \"checking for seamonkey-plugin seamonkey-xpcom... $ECHO_C\" >&6\n+        echo \"$as_me:$LINENO: checking for glib-2.0\" >&5\n+echo $ECHO_N \"checking for glib-2.0... $ECHO_C\" >&6\n \n-        if $PKG_CONFIG --exists \"seamonkey-plugin seamonkey-xpcom\" ; then\n+        if $PKG_CONFIG --exists \"glib-2.0\" ; then\n             echo \"$as_me:$LINENO: result: yes\" >&5\n echo \"${ECHO_T}yes\" >&6\n             succeeded=yes\n \n-            echo \"$as_me:$LINENO: checking MOZILLA_CFLAGS\" >&5\n-echo $ECHO_N \"checking MOZILLA_CFLAGS... $ECHO_C\" >&6\n-            MOZILLA_CFLAGS=`$PKG_CONFIG --cflags \"seamonkey-plugin seamonkey-xpcom\"`\n-            echo \"$as_me:$LINENO: result: $MOZILLA_CFLAGS\" >&5\n-echo \"${ECHO_T}$MOZILLA_CFLAGS\" >&6\n+            echo \"$as_me:$LINENO: checking GLIB_CFLAGS\" >&5\n+echo $ECHO_N \"checking GLIB_CFLAGS... $ECHO_C\" >&6\n+            GLIB_CFLAGS=`$PKG_CONFIG --cflags \"glib-2.0\"`\n+            echo \"$as_me:$LINENO: result: $GLIB_CFLAGS\" >&5\n+echo \"${ECHO_T}$GLIB_CFLAGS\" >&6\n \n-            echo \"$as_me:$LINENO: checking MOZILLA_LIBS\" >&5\n-echo $ECHO_N \"checking MOZILLA_LIBS... $ECHO_C\" >&6\n-            MOZILLA_LIBS=`$PKG_CONFIG --libs \"seamonkey-plugin seamonkey-xpcom\"`\n-            echo \"$as_me:$LINENO: result: $MOZILLA_LIBS\" >&5\n-echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n+            echo \"$as_me:$LINENO: checking GLIB_LIBS\" >&5\n+echo $ECHO_N \"checking GLIB_LIBS... $ECHO_C\" >&6\n+            GLIB_LIBS=`$PKG_CONFIG --libs \"glib-2.0\"`\n+            echo \"$as_me:$LINENO: result: $GLIB_LIBS\" >&5\n+echo \"${ECHO_T}$GLIB_LIBS\" >&6\n         else\n-            MOZILLA_CFLAGS=\"\"\n-            MOZILLA_LIBS=\"\"\n+            GLIB_CFLAGS=\"\"\n+            GLIB_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            MOZILLA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"seamonkey-plugin seamonkey-xpcom\"`\n-\n+            GLIB_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"glib-2.0\"`\n+            echo $GLIB_PKG_ERRORS\n         fi\n \n \n@@ -22205,12 +22998,13 @@ echo \"${ECHO_T}$MOZILLA_LIBS\" >&6\n   fi\n \n   if test $succeeded = yes; then\n-     MOZILLA_FOUND=yes\n+     :\n   else\n-     MOZILLA_FOUND=no\n+     { { echo \"$as_me:$LINENO: error: Library requirements (glib-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n+echo \"$as_me: error: Library requirements (glib-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n+   { (exit 1); exit 1; }; }\n   fi\n \n-    fi\n \n   succeeded=no\n \n@@ -22265,32 +23059,32 @@ fi\n   else\n      PKG_CONFIG_MIN_VERSION=0.9.0\n      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n-        echo \"$as_me:$LINENO: checking for glib-2.0\" >&5\n-echo $ECHO_N \"checking for glib-2.0... $ECHO_C\" >&6\n+        echo \"$as_me:$LINENO: checking for gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0\" >&5\n+echo $ECHO_N \"checking for gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0... $ECHO_C\" >&6\n \n-        if $PKG_CONFIG --exists \"glib-2.0\" ; then\n+        if $PKG_CONFIG --exists \"gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0\" ; then\n             echo \"$as_me:$LINENO: result: yes\" >&5\n echo \"${ECHO_T}yes\" >&6\n             succeeded=yes\n \n-            echo \"$as_me:$LINENO: checking GLIB_CFLAGS\" >&5\n-echo $ECHO_N \"checking GLIB_CFLAGS... $ECHO_C\" >&6\n-            GLIB_CFLAGS=`$PKG_CONFIG --cflags \"glib-2.0\"`\n-            echo \"$as_me:$LINENO: result: $GLIB_CFLAGS\" >&5\n-echo \"${ECHO_T}$GLIB_CFLAGS\" >&6\n+            echo \"$as_me:$LINENO: checking GTK_CFLAGS\" >&5\n+echo $ECHO_N \"checking GTK_CFLAGS... $ECHO_C\" >&6\n+            GTK_CFLAGS=`$PKG_CONFIG --cflags \"gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0\"`\n+            echo \"$as_me:$LINENO: result: $GTK_CFLAGS\" >&5\n+echo \"${ECHO_T}$GTK_CFLAGS\" >&6\n \n-            echo \"$as_me:$LINENO: checking GLIB_LIBS\" >&5\n-echo $ECHO_N \"checking GLIB_LIBS... $ECHO_C\" >&6\n-            GLIB_LIBS=`$PKG_CONFIG --libs \"glib-2.0\"`\n-            echo \"$as_me:$LINENO: result: $GLIB_LIBS\" >&5\n-echo \"${ECHO_T}$GLIB_LIBS\" >&6\n+            echo \"$as_me:$LINENO: checking GTK_LIBS\" >&5\n+echo $ECHO_N \"checking GTK_LIBS... $ECHO_C\" >&6\n+            GTK_LIBS=`$PKG_CONFIG --libs \"gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0\"`\n+            echo \"$as_me:$LINENO: result: $GTK_LIBS\" >&5\n+echo \"${ECHO_T}$GTK_LIBS\" >&6\n         else\n-            GLIB_CFLAGS=\"\"\n-            GLIB_LIBS=\"\"\n+            GTK_CFLAGS=\"\"\n+            GTK_LIBS=\"\"\n             ## If we have a custom action on failure, don't print errors, but\n             ## do set a variable so people can do so.\n-            GLIB_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"glib-2.0\"`\n-            echo $GLIB_PKG_ERRORS\n+            GTK_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0\"`\n+            echo $GTK_PKG_ERRORS\n         fi\n \n \n@@ -22304,8 +23098,8 @@ echo \"${ECHO_T}$GLIB_LIBS\" >&6\n   if test $succeeded = yes; then\n      :\n   else\n-     { { echo \"$as_me:$LINENO: error: Library requirements (glib-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n-echo \"$as_me: error: Library requirements (glib-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n+     { { echo \"$as_me:$LINENO: error: Library requirements (gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&5\n+echo \"$as_me: error: Library requirements (gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.\" >&2;}\n    { (exit 1); exit 1; }; }\n   fi\n \n@@ -22315,6 +23109,8 @@ echo \"$as_me: error: Library requirements (glib-2.0) not met; consider adjusting\n \n \n \n+\n+\n     PLUGIN_DIR=$HOME/.mozilla/plugins/\n \n   fi\n@@ -23704,26 +24500,26 @@ fi;\n \n \n \n-# Check whether --with-gcjx or --without-gcjx was given.\n-if test \"${with_gcjx+set}\" = set; then\n-  withval=\"$with_gcjx\"\n+# Check whether --with-ecj or --without-ecj was given.\n+if test \"${with_ecj+set}\" = set; then\n+  withval=\"$with_ecj\"\n \n     if test \"x${withval}\" != x && test \"x${withval}\" != xyes && test \"x${withval}\" != xno; then\n \n   if test \"x${withval}\" != x; then\n     if test -f \"${withval}\"; then\n-      GCJX=\"${withval}\"\n+      ECJ=\"${withval}\"\n     else\n       # Extract the first word of \"\"${withval}\"\", so it can be a program name with args.\n set dummy \"${withval}\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_GCJX+set}\" = set; then\n+if test \"${ac_cv_path_ECJ+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $GCJX in\n+  case $ECJ in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_GCJX=\"$GCJX\" # Let the user override the test with a path.\n+  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -23733,7 +24529,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_GCJX=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -23743,28 +24539,28 @@ done\n   ;;\n esac\n fi\n-GCJX=$ac_cv_path_GCJX\n+ECJ=$ac_cv_path_ECJ\n \n-if test -n \"$GCJX\"; then\n-  echo \"$as_me:$LINENO: result: $GCJX\" >&5\n-echo \"${ECHO_T}$GCJX\" >&6\n+if test -n \"$ECJ\"; then\n+  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n+echo \"${ECHO_T}$ECJ\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n     fi\n   else\n-    # Extract the first word of \"\"gcjx\"\", so it can be a program name with args.\n-set dummy \"gcjx\"; ac_word=$2\n+    # Extract the first word of \"\"ecj\"\", so it can be a program name with args.\n+set dummy \"ecj\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_GCJX+set}\" = set; then\n+if test \"${ac_cv_path_ECJ+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $GCJX in\n+  case $ECJ in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_GCJX=\"$GCJX\" # Let the user override the test with a path.\n+  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -23774,7 +24570,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_GCJX=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -23784,11 +24580,11 @@ done\n   ;;\n esac\n fi\n-GCJX=$ac_cv_path_GCJX\n+ECJ=$ac_cv_path_ECJ\n \n-if test -n \"$GCJX\"; then\n-  echo \"$as_me:$LINENO: result: $GCJX\" >&5\n-echo \"${ECHO_T}$GCJX\" >&6\n+if test -n \"$ECJ\"; then\n+  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n+echo \"${ECHO_T}$ECJ\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n@@ -23801,18 +24597,18 @@ fi\n \n   if test \"x\" != x; then\n     if test -f \"\"; then\n-      GCJX=\"\"\n+      ECJ=\"\"\n     else\n       # Extract the first word of \"\"\"\", so it can be a program name with args.\n set dummy \"\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_GCJX+set}\" = set; then\n+if test \"${ac_cv_path_ECJ+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $GCJX in\n+  case $ECJ in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_GCJX=\"$GCJX\" # Let the user override the test with a path.\n+  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -23822,7 +24618,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_GCJX=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -23832,28 +24628,28 @@ done\n   ;;\n esac\n fi\n-GCJX=$ac_cv_path_GCJX\n+ECJ=$ac_cv_path_ECJ\n \n-if test -n \"$GCJX\"; then\n-  echo \"$as_me:$LINENO: result: $GCJX\" >&5\n-echo \"${ECHO_T}$GCJX\" >&6\n+if test -n \"$ECJ\"; then\n+  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n+echo \"${ECHO_T}$ECJ\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n     fi\n   else\n-    # Extract the first word of \"\"gcjx\"\", so it can be a program name with args.\n-set dummy \"gcjx\"; ac_word=$2\n+    # Extract the first word of \"\"ecj\"\", so it can be a program name with args.\n+set dummy \"ecj\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_GCJX+set}\" = set; then\n+if test \"${ac_cv_path_ECJ+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $GCJX in\n+  case $ECJ in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_GCJX=\"$GCJX\" # Let the user override the test with a path.\n+  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -23863,7 +24659,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_GCJX=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -23873,11 +24669,11 @@ done\n   ;;\n esac\n fi\n-GCJX=$ac_cv_path_GCJX\n+ECJ=$ac_cv_path_ECJ\n \n-if test -n \"$GCJX\"; then\n-  echo \"$as_me:$LINENO: result: $GCJX\" >&5\n-echo \"${ECHO_T}$GCJX\" >&6\n+if test -n \"$ECJ\"; then\n+  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n+echo \"${ECHO_T}$ECJ\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n@@ -23887,25 +24683,25 @@ fi\n \n       fi\n     fi\n-    user_specified_javac=gcjx\n+    user_specified_javac=ecj\n \n else\n \n \n   if test \"x\" != x; then\n     if test -f \"\"; then\n-      GCJX=\"\"\n+      ECJ=\"\"\n     else\n       # Extract the first word of \"\"\"\", so it can be a program name with args.\n set dummy \"\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_GCJX+set}\" = set; then\n+if test \"${ac_cv_path_ECJ+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $GCJX in\n+  case $ECJ in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_GCJX=\"$GCJX\" # Let the user override the test with a path.\n+  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -23915,7 +24711,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_GCJX=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -23925,28 +24721,28 @@ done\n   ;;\n esac\n fi\n-GCJX=$ac_cv_path_GCJX\n+ECJ=$ac_cv_path_ECJ\n \n-if test -n \"$GCJX\"; then\n-  echo \"$as_me:$LINENO: result: $GCJX\" >&5\n-echo \"${ECHO_T}$GCJX\" >&6\n+if test -n \"$ECJ\"; then\n+  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n+echo \"${ECHO_T}$ECJ\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n     fi\n   else\n-    # Extract the first word of \"\"gcjx\"\", so it can be a program name with args.\n-set dummy \"gcjx\"; ac_word=$2\n+    # Extract the first word of \"\"ecj\"\", so it can be a program name with args.\n+set dummy \"ecj\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_GCJX+set}\" = set; then\n+if test \"${ac_cv_path_ECJ+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $GCJX in\n+  case $ECJ in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_GCJX=\"$GCJX\" # Let the user override the test with a path.\n+  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -23956,7 +24752,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_GCJX=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -23966,11 +24762,11 @@ done\n   ;;\n esac\n fi\n-GCJX=$ac_cv_path_GCJX\n+ECJ=$ac_cv_path_ECJ\n \n-if test -n \"$GCJX\"; then\n-  echo \"$as_me:$LINENO: result: $GCJX\" >&5\n-echo \"${ECHO_T}$GCJX\" >&6\n+if test -n \"$ECJ\"; then\n+  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n+echo \"${ECHO_T}$ECJ\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n@@ -23984,26 +24780,26 @@ fi;\n \n \n \n-# Check whether --with-ecj or --without-ecj was given.\n-if test \"${with_ecj+set}\" = set; then\n-  withval=\"$with_ecj\"\n+# Check whether --with-javac or --without-javac was given.\n+if test \"${with_javac+set}\" = set; then\n+  withval=\"$with_javac\"\n \n     if test \"x${withval}\" != x && test \"x${withval}\" != xyes && test \"x${withval}\" != xno; then\n \n   if test \"x${withval}\" != x; then\n     if test -f \"${withval}\"; then\n-      ECJ=\"${withval}\"\n+      JAVAC=\"${withval}\"\n     else\n       # Extract the first word of \"\"${withval}\"\", so it can be a program name with args.\n set dummy \"${withval}\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_ECJ+set}\" = set; then\n+if test \"${ac_cv_path_JAVAC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $ECJ in\n+  case $JAVAC in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n+  ac_cv_path_JAVAC=\"$JAVAC\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -24013,7 +24809,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_JAVAC=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -24023,28 +24819,28 @@ done\n   ;;\n esac\n fi\n-ECJ=$ac_cv_path_ECJ\n+JAVAC=$ac_cv_path_JAVAC\n \n-if test -n \"$ECJ\"; then\n-  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n-echo \"${ECHO_T}$ECJ\" >&6\n+if test -n \"$JAVAC\"; then\n+  echo \"$as_me:$LINENO: result: $JAVAC\" >&5\n+echo \"${ECHO_T}$JAVAC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n     fi\n   else\n-    # Extract the first word of \"\"ecj\"\", so it can be a program name with args.\n-set dummy \"ecj\"; ac_word=$2\n+    # Extract the first word of \"\"javac\"\", so it can be a program name with args.\n+set dummy \"javac\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_ECJ+set}\" = set; then\n+if test \"${ac_cv_path_JAVAC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $ECJ in\n+  case $JAVAC in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n+  ac_cv_path_JAVAC=\"$JAVAC\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -24054,7 +24850,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_JAVAC=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -24064,11 +24860,11 @@ done\n   ;;\n esac\n fi\n-ECJ=$ac_cv_path_ECJ\n+JAVAC=$ac_cv_path_JAVAC\n \n-if test -n \"$ECJ\"; then\n-  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n-echo \"${ECHO_T}$ECJ\" >&6\n+if test -n \"$JAVAC\"; then\n+  echo \"$as_me:$LINENO: result: $JAVAC\" >&5\n+echo \"${ECHO_T}$JAVAC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n@@ -24081,18 +24877,18 @@ fi\n \n   if test \"x\" != x; then\n     if test -f \"\"; then\n-      ECJ=\"\"\n+      JAVAC=\"\"\n     else\n       # Extract the first word of \"\"\"\", so it can be a program name with args.\n set dummy \"\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_ECJ+set}\" = set; then\n+if test \"${ac_cv_path_JAVAC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $ECJ in\n+  case $JAVAC in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n+  ac_cv_path_JAVAC=\"$JAVAC\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -24102,7 +24898,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_JAVAC=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -24112,28 +24908,28 @@ done\n   ;;\n esac\n fi\n-ECJ=$ac_cv_path_ECJ\n+JAVAC=$ac_cv_path_JAVAC\n \n-if test -n \"$ECJ\"; then\n-  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n-echo \"${ECHO_T}$ECJ\" >&6\n+if test -n \"$JAVAC\"; then\n+  echo \"$as_me:$LINENO: result: $JAVAC\" >&5\n+echo \"${ECHO_T}$JAVAC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n     fi\n   else\n-    # Extract the first word of \"\"ecj\"\", so it can be a program name with args.\n-set dummy \"ecj\"; ac_word=$2\n+    # Extract the first word of \"\"javac\"\", so it can be a program name with args.\n+set dummy \"javac\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_ECJ+set}\" = set; then\n+if test \"${ac_cv_path_JAVAC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $ECJ in\n+  case $JAVAC in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n+  ac_cv_path_JAVAC=\"$JAVAC\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -24143,7 +24939,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_JAVAC=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -24153,11 +24949,11 @@ done\n   ;;\n esac\n fi\n-ECJ=$ac_cv_path_ECJ\n+JAVAC=$ac_cv_path_JAVAC\n \n-if test -n \"$ECJ\"; then\n-  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n-echo \"${ECHO_T}$ECJ\" >&6\n+if test -n \"$JAVAC\"; then\n+  echo \"$as_me:$LINENO: result: $JAVAC\" >&5\n+echo \"${ECHO_T}$JAVAC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n@@ -24167,25 +24963,25 @@ fi\n \n       fi\n     fi\n-    user_specified_javac=ecj\n+    user_specified_javac=javac\n \n else\n \n \n   if test \"x\" != x; then\n     if test -f \"\"; then\n-      ECJ=\"\"\n+      JAVAC=\"\"\n     else\n       # Extract the first word of \"\"\"\", so it can be a program name with args.\n set dummy \"\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_ECJ+set}\" = set; then\n+if test \"${ac_cv_path_JAVAC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $ECJ in\n+  case $JAVAC in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n+  ac_cv_path_JAVAC=\"$JAVAC\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -24195,7 +24991,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_JAVAC=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -24205,28 +25001,28 @@ done\n   ;;\n esac\n fi\n-ECJ=$ac_cv_path_ECJ\n+JAVAC=$ac_cv_path_JAVAC\n \n-if test -n \"$ECJ\"; then\n-  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n-echo \"${ECHO_T}$ECJ\" >&6\n+if test -n \"$JAVAC\"; then\n+  echo \"$as_me:$LINENO: result: $JAVAC\" >&5\n+echo \"${ECHO_T}$JAVAC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n fi\n \n     fi\n   else\n-    # Extract the first word of \"\"ecj\"\", so it can be a program name with args.\n-set dummy \"ecj\"; ac_word=$2\n+    # Extract the first word of \"\"javac\"\", so it can be a program name with args.\n+set dummy \"javac\"; ac_word=$2\n echo \"$as_me:$LINENO: checking for $ac_word\" >&5\n echo $ECHO_N \"checking for $ac_word... $ECHO_C\" >&6\n-if test \"${ac_cv_path_ECJ+set}\" = set; then\n+if test \"${ac_cv_path_JAVAC+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  case $ECJ in\n+  case $JAVAC in\n   [\\\\/]* | ?:[\\\\/]*)\n-  ac_cv_path_ECJ=\"$ECJ\" # Let the user override the test with a path.\n+  ac_cv_path_JAVAC=\"$JAVAC\" # Let the user override the test with a path.\n   ;;\n   *)\n   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n@@ -24236,7 +25032,7 @@ do\n   test -z \"$as_dir\" && as_dir=.\n   for ac_exec_ext in '' $ac_executable_extensions; do\n   if $as_executable_p \"$as_dir/$ac_word$ac_exec_ext\"; then\n-    ac_cv_path_ECJ=\"$as_dir/$ac_word$ac_exec_ext\"\n+    ac_cv_path_JAVAC=\"$as_dir/$ac_word$ac_exec_ext\"\n     echo \"$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext\" >&5\n     break 2\n   fi\n@@ -24246,11 +25042,11 @@ done\n   ;;\n esac\n fi\n-ECJ=$ac_cv_path_ECJ\n+JAVAC=$ac_cv_path_JAVAC\n \n-if test -n \"$ECJ\"; then\n-  echo \"$as_me:$LINENO: result: $ECJ\" >&5\n-echo \"${ECHO_T}$ECJ\" >&6\n+if test -n \"$JAVAC\"; then\n+  echo \"$as_me:$LINENO: result: $JAVAC\" >&5\n+echo \"${ECHO_T}$JAVAC\" >&6\n else\n   echo \"$as_me:$LINENO: result: no\" >&5\n echo \"${ECHO_T}no\" >&6\n@@ -24294,6 +25090,16 @@ else\n   FOUND_ECJ_FALSE=\n fi\n \n+\n+\n+if test \"x${JAVAC}\" != x; then\n+  FOUND_JAVAC_TRUE=\n+  FOUND_JAVAC_FALSE='#'\n+else\n+  FOUND_JAVAC_TRUE='#'\n+  FOUND_JAVAC_FALSE=\n+fi\n+\n   else\n \n \n@@ -24325,6 +25131,16 @@ else\n   FOUND_ECJ_FALSE=\n fi\n \n+\n+\n+if test \"x${user_specified_javac}\" = xjavac; then\n+  FOUND_JAVAC_TRUE=\n+  FOUND_JAVAC_FALSE='#'\n+else\n+  FOUND_JAVAC_TRUE='#'\n+  FOUND_JAVAC_FALSE=\n+fi\n+\n   fi\n \n \n@@ -24337,19 +25153,9 @@ else\n fi\n \n \n-\n-if test \"x${user_specified_javac}\" = xgcjx; then\n-  FOUND_GCJX_TRUE=\n-  FOUND_GCJX_FALSE='#'\n-else\n-  FOUND_GCJX_TRUE='#'\n-  FOUND_GCJX_FALSE=\n-fi\n-\n-\n-  if test \"x${GCJ}\" = x && test \"x${JIKES}\" = x && test \"x${user_specified_javac}\" != xkjc && test \"x${user_specified_javac}\" != xgcjx && test \"x${user_specified_javac}\" != xecj; then\n-      { { echo \"$as_me:$LINENO: error: cannot find javac, try --with-gcj, --with-jikes, --with-kjc, --with-ecj, or --with-gcjx\" >&5\n-echo \"$as_me: error: cannot find javac, try --with-gcj, --with-jikes, --with-kjc, --with-ecj, or --with-gcjx\" >&2;}\n+  if test \"x${ECJ}\" = x && test \"x${JAVAC}\" = x && test \"x${user_specified_javac}\" != xecj; then\n+      { { echo \"$as_me:$LINENO: error: cannot find javac, try --with-ecj\" >&5\n+echo \"$as_me: error: cannot find javac, try --with-ecj\" >&2;}\n    { (exit 1); exit 1; }; }\n   fi\n \n@@ -28582,6 +29388,13 @@ echo \"$as_me: error: conditional \\\"FOUND_ECJ\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&2;}\n    { (exit 1); exit 1; }; }\n fi\n+if test -z \"${FOUND_JAVAC_TRUE}\" && test -z \"${FOUND_JAVAC_FALSE}\"; then\n+  { { echo \"$as_me:$LINENO: error: conditional \\\"FOUND_JAVAC\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" >&5\n+echo \"$as_me: error: conditional \\\"FOUND_JAVAC\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n if test -z \"${FOUND_GCJ_TRUE}\" && test -z \"${FOUND_GCJ_FALSE}\"; then\n   { { echo \"$as_me:$LINENO: error: conditional \\\"FOUND_GCJ\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&5\n@@ -28603,17 +29416,17 @@ echo \"$as_me: error: conditional \\\"FOUND_ECJ\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&2;}\n    { (exit 1); exit 1; }; }\n fi\n-if test -z \"${FOUND_KJC_TRUE}\" && test -z \"${FOUND_KJC_FALSE}\"; then\n-  { { echo \"$as_me:$LINENO: error: conditional \\\"FOUND_KJC\\\" was never defined.\n+if test -z \"${FOUND_JAVAC_TRUE}\" && test -z \"${FOUND_JAVAC_FALSE}\"; then\n+  { { echo \"$as_me:$LINENO: error: conditional \\\"FOUND_JAVAC\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&5\n-echo \"$as_me: error: conditional \\\"FOUND_KJC\\\" was never defined.\n+echo \"$as_me: error: conditional \\\"FOUND_JAVAC\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&2;}\n    { (exit 1); exit 1; }; }\n fi\n-if test -z \"${FOUND_GCJX_TRUE}\" && test -z \"${FOUND_GCJX_FALSE}\"; then\n-  { { echo \"$as_me:$LINENO: error: conditional \\\"FOUND_GCJX\\\" was never defined.\n+if test -z \"${FOUND_KJC_TRUE}\" && test -z \"${FOUND_KJC_FALSE}\"; then\n+  { { echo \"$as_me:$LINENO: error: conditional \\\"FOUND_KJC\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&5\n-echo \"$as_me: error: conditional \\\"FOUND_GCJX\\\" was never defined.\n+echo \"$as_me: error: conditional \\\"FOUND_KJC\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" >&2;}\n    { (exit 1); exit 1; }; }\n fi\n@@ -28958,7 +29771,7 @@ _ASBOX\n } >&5\n cat >&5 <<_CSEOF\n \n-This file was extended by GNU Classpath $as_me 0.94-pre, which was\n+This file was extended by GNU Classpath $as_me 0.95, which was\n generated by GNU Autoconf 2.59.  Invocation command line was\n \n   CONFIG_FILES    = $CONFIG_FILES\n@@ -29024,7 +29837,7 @@ _ACEOF\n \n cat >>$CONFIG_STATUS <<_ACEOF\n ac_cs_version=\"\\\\\n-GNU Classpath config.status 0.94-pre\n+GNU Classpath config.status 0.95\n configured by $0, generated by GNU Autoconf 2.59,\n   with options \\\\\"`echo \"$ac_configure_args\" | sed 's/[\\\\\"\"\\`\\$]/\\\\\\\\&/g'`\\\\\"\n \n@@ -29791,6 +30604,8 @@ s,@FREETYPE2_CFLAGS@,$FREETYPE2_CFLAGS,;t t\n s,@FREETYPE2_LIBS@,$FREETYPE2_LIBS,;t t\n s,@PANGOFT2_CFLAGS@,$PANGOFT2_CFLAGS,;t t\n s,@PANGOFT2_LIBS@,$PANGOFT2_LIBS,;t t\n+s,@CAIRO_CFLAGS@,$CAIRO_CFLAGS,;t t\n+s,@CAIRO_LIBS@,$CAIRO_LIBS,;t t\n s,@XTEST_LIBS@,$XTEST_LIBS,;t t\n s,@GCONF_CFLAGS@,$GCONF_CFLAGS,;t t\n s,@GCONF_LIBS@,$GCONF_LIBS,;t t\n@@ -29813,18 +30628,18 @@ s,@JIKES@,$JIKES,;t t\n s,@JIKESENCODING@,$JIKESENCODING,;t t\n s,@JIKESWARNINGS@,$JIKESWARNINGS,;t t\n s,@KJC@,$KJC,;t t\n-s,@GCJX@,$GCJX,;t t\n s,@ECJ@,$ECJ,;t t\n+s,@JAVAC@,$JAVAC,;t t\n s,@FOUND_GCJ_TRUE@,$FOUND_GCJ_TRUE,;t t\n s,@FOUND_GCJ_FALSE@,$FOUND_GCJ_FALSE,;t t\n s,@FOUND_JIKES_TRUE@,$FOUND_JIKES_TRUE,;t t\n s,@FOUND_JIKES_FALSE@,$FOUND_JIKES_FALSE,;t t\n s,@FOUND_ECJ_TRUE@,$FOUND_ECJ_TRUE,;t t\n s,@FOUND_ECJ_FALSE@,$FOUND_ECJ_FALSE,;t t\n+s,@FOUND_JAVAC_TRUE@,$FOUND_JAVAC_TRUE,;t t\n+s,@FOUND_JAVAC_FALSE@,$FOUND_JAVAC_FALSE,;t t\n s,@FOUND_KJC_TRUE@,$FOUND_KJC_TRUE,;t t\n s,@FOUND_KJC_FALSE@,$FOUND_KJC_FALSE,;t t\n-s,@FOUND_GCJX_TRUE@,$FOUND_GCJX_TRUE,;t t\n-s,@FOUND_GCJX_FALSE@,$FOUND_GCJX_FALSE,;t t\n s,@USER_CLASSLIB@,$USER_CLASSLIB,;t t\n s,@USER_SPECIFIED_CLASSLIB_TRUE@,$USER_SPECIFIED_CLASSLIB_TRUE,;t t\n s,@USER_SPECIFIED_CLASSLIB_FALSE@,$USER_SPECIFIED_CLASSLIB_FALSE,;t t"}, {"sha": "a751c7dd3129b72e31eeb2c17a6a82d178391642", "filename": "libjava/classpath/configure.ac", "status": "modified", "additions": 18, "deletions": 4, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fconfigure.ac?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -6,7 +6,7 @@ dnl -----------------------------------------------------------\n dnl define([AC_CACHE_LOAD], )dnl\n dnl define([AC_CACHE_SAVE], )dnl\n \n-AC_INIT([GNU Classpath],[0.94-pre],[classpath@gnu.org],[classpath])\n+AC_INIT([GNU Classpath],[0.95],[classpath@gnu.org],[classpath])\n AC_CONFIG_SRCDIR(java/lang/System.java)\n \n dnl GCJ LOCAL\n@@ -72,7 +72,7 @@ CLASSPATH_CONVENIENCE=\"-no-undefined\"\n AC_SUBST(CLASSPATH_CONVENIENCE)\n \n AC_PREREQ(2.59)\n-AM_INIT_AUTOMAKE([1.9.0 gnu std-options tar-ustar])\n+AM_INIT_AUTOMAKE([1.9.0 gnu std-options tar-ustar -Wno-portability])\n AC_CONFIG_HEADERS([include/config.h])\n AC_PREFIX_DEFAULT(/usr/local/classpath)\n \n@@ -360,6 +360,7 @@ AC_DISABLE_STATIC\n AC_PROG_LIBTOOL\n dnl AC_PROG_AWK\n AC_PROG_CC\n+AM_PROG_CC_C_O\n AC_PROG_CPP\n AC_PROG_CXX\n \n@@ -427,7 +428,7 @@ if test \"x${COMPILE_JNI}\" = xyes; then\n \t\t  lstat readlink \\\n  \t\t  inet_aton inet_addr inet_pton \\\n \t\t  getifaddrs kqueue kevent epoll_create \\\n-                  readdir_r ])\n+                  readdir_r getloadavg])\n \n   LIBMAGIC=\n   AC_CHECK_LIB(magic, magic_open, LIBMAGIC=-lmagic)\n@@ -467,7 +468,9 @@ if test \"x${COMPILE_JNI}\" = xyes; then\n           [AC_MSG_RESULT(no)])])])\n \n   AC_C_CONST\n+  AC_C_INLINE\n   AC_C_ATTRIBUTE\n+  AX_FUNC_WHICH_GETHOSTBYNAME_R\n \n   dnl See if we HAVE_ICONV, how ICONV_CONST is set and LTLIBICONV\n   AM_ICONV\n@@ -521,6 +524,7 @@ if test \"x${COMPILE_JNI}\" = xyes; then\n     PKG_CHECK_MODULES(GTK, gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0)\n     PKG_CHECK_MODULES(FREETYPE2, freetype2)\n     PKG_CHECK_MODULES(PANGOFT2, pangoft2)\n+    PKG_CHECK_MODULES(CAIRO, cairo >= 1.1.8)\n     dnl Check if we can link against the XRender library and set\n     dnl HAVE_XRENDER accordingly.\n     AC_CHECK_LIB([Xrender], [XRenderQueryExtension],\n@@ -546,7 +550,7 @@ if test \"x${COMPILE_JNI}\" = xyes; then\n \n   dnl gconf-peer\n   if  test \"x${COMPILE_GCONF_PEER}\" = xyes; then\n-    PKG_CHECK_MODULES(GCONF, gconf-2.0 >= 2.11.2)\n+    PKG_CHECK_MODULES(GCONF, gconf-2.0 >= 2.6.0)\n     AC_SUBST(GCONF_CFLAGS)\n     AC_SUBST(GCONF_LIBS)\n     dnl we also need gdk for locking\n@@ -649,12 +653,22 @@ if test \"x${COMPILE_JNI}\" = xyes; then\n     if test \"x${MOZILLA_FOUND}\" = xno; then\n       PKG_CHECK_MODULES(MOZILLA, seamonkey-plugin seamonkey-xpcom, [MOZILLA_FOUND=yes], [MOZILLA_FOUND=no])\n     fi\n+    if test \"x${MOZILLA_FOUND}\" = xno; then\n+      PKG_CHECK_MODULES(MOZILLA, iceape-plugin iceape-xpcom, [MOZILLA_FOUND=yes], [MOZILLA_FOUND=no])\n+    fi\n+    if test \"x${MOZILLA_FOUND}\" = xno; then\n+      AC_MSG_ERROR([Couldn't find plugin support headers and libraries, try --disable-plugin])\n+    fi\n+\n     PKG_CHECK_MODULES(GLIB, glib-2.0)\n+    PKG_CHECK_MODULES(GTK, gtk+-2.0 >= 2.8 gthread-2.0 >= 2.2 gdk-pixbuf-2.0)\n \n     AC_SUBST(MOZILLA_CFLAGS)\n     AC_SUBST(MOZILLA_LIBS)\n     AC_SUBST(GLIB_CFLAGS)\n     AC_SUBST(GLIB_LIBS)\n+    AC_SUBST(GTK_CFLAGS)\n+    AC_SUBST(GTK_LIBS)\n \n     AC_SUBST(PLUGIN_DIR, $HOME/.mozilla/plugins/)\n   fi"}, {"sha": "ca5ea4e1ef9c125b1cb1fc7d51c93d8747637deb", "filename": "libjava/classpath/depcomp", "status": "modified", "additions": 202, "deletions": 41, "changes": 243, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdepcomp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdepcomp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdepcomp?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,7 +1,10 @@\n #! /bin/sh\n-\n # depcomp - compile a program generating dependencies as side-effects\n-# Copyright 1999, 2000 Free Software Foundation, Inc.\n+\n+scriptversion=2006-10-15.18\n+\n+# Copyright (C) 1999, 2000, 2003, 2004, 2005, 2006 Free Software\n+# Foundation, Inc.\n \n # This program is free software; you can redistribute it and/or modify\n # it under the terms of the GNU General Public License as published by\n@@ -25,22 +28,45 @@\n \n # Originally written by Alexandre Oliva <oliva@dcc.unicamp.br>.\n \n+case $1 in\n+  '')\n+     echo \"$0: No command.  Try \\`$0 --help' for more information.\" 1>&2\n+     exit 1;\n+     ;;\n+  -h | --h*)\n+    cat <<\\EOF\n+Usage: depcomp [--help] [--version] PROGRAM [ARGS]\n+\n+Run PROGRAMS ARGS to compile a file, generating dependencies\n+as side-effects.\n+\n+Environment variables:\n+  depmode     Dependency tracking mode.\n+  source      Source file read by `PROGRAMS ARGS'.\n+  object      Object file output by `PROGRAMS ARGS'.\n+  DEPDIR      directory where to store dependencies.\n+  depfile     Dependency file to output.\n+  tmpdepfile  Temporary file to use when outputing dependencies.\n+  libtool     Whether libtool is used (yes/no).\n+\n+Report bugs to <bug-automake@gnu.org>.\n+EOF\n+    exit $?\n+    ;;\n+  -v | --v*)\n+    echo \"depcomp $scriptversion\"\n+    exit $?\n+    ;;\n+esac\n+\n if test -z \"$depmode\" || test -z \"$source\" || test -z \"$object\"; then\n   echo \"depcomp: Variables source, object and depmode must be set\" 1>&2\n   exit 1\n fi\n-# `libtool' can also be set to `yes' or `no'.\n-\n-if test -z \"$depfile\"; then\n-   base=`echo \"$object\" | sed -e 's,^.*/,,' -e 's,\\.\\([^.]*\\)$,.P\\1,'`\n-   dir=`echo \"$object\" | sed 's,/.*$,/,'`\n-   if test \"$dir\" = \"$object\"; then\n-      dir=\n-   fi\n-   # FIXME: should be _deps on DOS.\n-   depfile=\"$dir.deps/$base\"\n-fi\n \n+# Dependencies for sub/bar.o or sub/bar.obj go into sub/.deps/bar.Po.\n+depfile=${depfile-`echo \"$object\" |\n+  sed 's|[^\\\\/]*$|'${DEPDIR-.deps}'/&|;s|\\.\\([^.]*\\)$|.P\\1|;s|Pobj$|Po|'`}\n tmpdepfile=${tmpdepfile-`echo \"$depfile\" | sed 's/\\.\\([^.]*\\)$/.T\\1/'`}\n \n rm -f \"$tmpdepfile\"\n@@ -66,7 +92,20 @@ gcc3)\n ## gcc 3 implements dependency tracking that does exactly what\n ## we want.  Yay!  Note: for some reason libtool 1.4 doesn't like\n ## it if -MD -MP comes after the -MF stuff.  Hmm.\n-  \"$@\" -MT \"$object\" -MD -MP -MF \"$tmpdepfile\"\n+## Unfortunately, FreeBSD c89 acceptance of flags depends upon\n+## the command line argument order; so add the flags where they\n+## appear in depend2.am.  Note that the slowdown incurred here\n+## affects only configure: in makefiles, %FASTDEP% shortcuts this.\n+  for arg\n+  do\n+    case $arg in\n+    -c) set fnord \"$@\" -MT \"$object\" -MD -MP -MF \"$tmpdepfile\" \"$arg\" ;;\n+    *)  set fnord \"$@\" \"$arg\" ;;\n+    esac\n+    shift # fnord\n+    shift # $arg\n+  done\n+  \"$@\"\n   stat=$?\n   if test $stat -eq 0; then :\n   else\n@@ -172,26 +211,33 @@ sgi)\n \n aix)\n   # The C for AIX Compiler uses -M and outputs the dependencies\n-  # in a .u file.  This file always lives in the current directory.\n-  # Also, the AIX compiler puts `$object:' at the start of each line;\n-  # $object doesn't have directory information.\n-  stripped=`echo \"$object\" | sed -e 's,^.*/,,' -e 's/\\(.*\\)\\..*$/\\1/'`\n+  # in a .u file.  In older versions, this file always lives in the\n+  # current directory.  Also, the AIX compiler puts `$object:' at the\n+  # start of each line; $object doesn't have directory information.\n+  # Version 6 uses the directory in both cases.\n+  stripped=`echo \"$object\" | sed 's/\\(.*\\)\\..*$/\\1/'`\n   tmpdepfile=\"$stripped.u\"\n-  outname=\"$stripped.o\"\n   if test \"$libtool\" = yes; then\n     \"$@\" -Wc,-M\n   else\n     \"$@\" -M\n   fi\n-\n   stat=$?\n+\n+  if test -f \"$tmpdepfile\"; then :\n+  else\n+    stripped=`echo \"$stripped\" | sed 's,^.*/,,'`\n+    tmpdepfile=\"$stripped.u\"\n+  fi\n+\n   if test $stat -eq 0; then :\n   else\n     rm -f \"$tmpdepfile\"\n     exit $stat\n   fi\n \n   if test -f \"$tmpdepfile\"; then\n+    outname=\"$stripped.o\"\n     # Each line is of the form `foo.o: dependent.h'.\n     # Do two passes, one to just change these to\n     # `$object: dependent.h' and one to simply `dependent.h:'.\n@@ -206,6 +252,84 @@ aix)\n   rm -f \"$tmpdepfile\"\n   ;;\n \n+icc)\n+  # Intel's C compiler understands `-MD -MF file'.  However on\n+  #    icc -MD -MF foo.d -c -o sub/foo.o sub/foo.c\n+  # ICC 7.0 will fill foo.d with something like\n+  #    foo.o: sub/foo.c\n+  #    foo.o: sub/foo.h\n+  # which is wrong.  We want:\n+  #    sub/foo.o: sub/foo.c\n+  #    sub/foo.o: sub/foo.h\n+  #    sub/foo.c:\n+  #    sub/foo.h:\n+  # ICC 7.1 will output\n+  #    foo.o: sub/foo.c sub/foo.h\n+  # and will wrap long lines using \\ :\n+  #    foo.o: sub/foo.c ... \\\n+  #     sub/foo.h ... \\\n+  #     ...\n+\n+  \"$@\" -MD -MF \"$tmpdepfile\"\n+  stat=$?\n+  if test $stat -eq 0; then :\n+  else\n+    rm -f \"$tmpdepfile\"\n+    exit $stat\n+  fi\n+  rm -f \"$depfile\"\n+  # Each line is of the form `foo.o: dependent.h',\n+  # or `foo.o: dep1.h dep2.h \\', or ` dep3.h dep4.h \\'.\n+  # Do two passes, one to just change these to\n+  # `$object: dependent.h' and one to simply `dependent.h:'.\n+  sed \"s,^[^:]*:,$object :,\" < \"$tmpdepfile\" > \"$depfile\"\n+  # Some versions of the HPUX 10.20 sed can't process this invocation\n+  # correctly.  Breaking it into two sed invocations is a workaround.\n+  sed 's,^[^:]*: \\(.*\\)$,\\1,;s/^\\\\$//;/^$/d;/:$/d' < \"$tmpdepfile\" |\n+    sed -e 's/$/ :/' >> \"$depfile\"\n+  rm -f \"$tmpdepfile\"\n+  ;;\n+\n+hp2)\n+  # The \"hp\" stanza above does not work with aCC (C++) and HP's ia64\n+  # compilers, which have integrated preprocessors.  The correct option\n+  # to use with these is +Maked; it writes dependencies to a file named\n+  # 'foo.d', which lands next to the object file, wherever that\n+  # happens to be.\n+  # Much of this is similar to the tru64 case; see comments there.\n+  dir=`echo \"$object\" | sed -e 's|/[^/]*$|/|'`\n+  test \"x$dir\" = \"x$object\" && dir=\n+  base=`echo \"$object\" | sed -e 's|^.*/||' -e 's/\\.o$//' -e 's/\\.lo$//'`\n+  if test \"$libtool\" = yes; then\n+    tmpdepfile1=$dir$base.d\n+    tmpdepfile2=$dir.libs/$base.d\n+    \"$@\" -Wc,+Maked\n+  else\n+    tmpdepfile1=$dir$base.d\n+    tmpdepfile2=$dir$base.d\n+    \"$@\" +Maked\n+  fi\n+  stat=$?\n+  if test $stat -eq 0; then :\n+  else\n+     rm -f \"$tmpdepfile1\" \"$tmpdepfile2\"\n+     exit $stat\n+  fi\n+\n+  for tmpdepfile in \"$tmpdepfile1\" \"$tmpdepfile2\"\n+  do\n+    test -f \"$tmpdepfile\" && break\n+  done\n+  if test -f \"$tmpdepfile\"; then\n+    sed -e \"s,^.*\\.[a-z]*:,$object:,\" \"$tmpdepfile\" > \"$depfile\"\n+    # Add `dependent.h:' lines.\n+    sed -ne '2,${; s/^ *//; s/ \\\\*$//; s/$/:/; p;}' \"$tmpdepfile\" >> \"$depfile\"\n+  else\n+    echo \"#dummy\" > \"$depfile\"\n+  fi\n+  rm -f \"$tmpdepfile\" \"$tmpdepfile2\"\n+  ;;\n+\n tru64)\n    # The Tru64 compiler uses -MD to generate dependencies as a side\n    # effect.  `cc -MD -o foo.o ...' puts the dependencies into `foo.o.d'.\n@@ -217,31 +341,47 @@ tru64)\n    base=`echo \"$object\" | sed -e 's|^.*/||' -e 's/\\.o$//' -e 's/\\.lo$//'`\n \n    if test \"$libtool\" = yes; then\n-      tmpdepfile1=\"$dir.libs/$base.lo.d\"\n-      tmpdepfile2=\"$dir.libs/$base.d\"\n+      # With Tru64 cc, shared objects can also be used to make a\n+      # static library.  This mechanism is used in libtool 1.4 series to\n+      # handle both shared and static libraries in a single compilation.\n+      # With libtool 1.4, dependencies were output in $dir.libs/$base.lo.d.\n+      #\n+      # With libtool 1.5 this exception was removed, and libtool now\n+      # generates 2 separate objects for the 2 libraries.  These two\n+      # compilations output dependencies in $dir.libs/$base.o.d and\n+      # in $dir$base.o.d.  We have to check for both files, because\n+      # one of the two compilations can be disabled.  We should prefer\n+      # $dir$base.o.d over $dir.libs/$base.o.d because the latter is\n+      # automatically cleaned when .libs/ is deleted, while ignoring\n+      # the former would cause a distcleancheck panic.\n+      tmpdepfile1=$dir.libs/$base.lo.d   # libtool 1.4\n+      tmpdepfile2=$dir$base.o.d          # libtool 1.5\n+      tmpdepfile3=$dir.libs/$base.o.d    # libtool 1.5\n+      tmpdepfile4=$dir.libs/$base.d      # Compaq CCC V6.2-504\n       \"$@\" -Wc,-MD\n    else\n-      tmpdepfile1=\"$dir$base.o.d\"\n-      tmpdepfile2=\"$dir$base.d\"\n+      tmpdepfile1=$dir$base.o.d\n+      tmpdepfile2=$dir$base.d\n+      tmpdepfile3=$dir$base.d\n+      tmpdepfile4=$dir$base.d\n       \"$@\" -MD\n    fi\n \n    stat=$?\n    if test $stat -eq 0; then :\n    else\n-      rm -f \"$tmpdepfile1\" \"$tmpdepfile2\"\n+      rm -f \"$tmpdepfile1\" \"$tmpdepfile2\" \"$tmpdepfile3\" \"$tmpdepfile4\"\n       exit $stat\n    fi\n \n-   if test -f \"$tmpdepfile1\"; then\n-      tmpdepfile=\"$tmpdepfile1\"\n-   else\n-      tmpdepfile=\"$tmpdepfile2\"\n-   fi\n+   for tmpdepfile in \"$tmpdepfile1\" \"$tmpdepfile2\" \"$tmpdepfile3\" \"$tmpdepfile4\"\n+   do\n+     test -f \"$tmpdepfile\" && break\n+   done\n    if test -f \"$tmpdepfile\"; then\n       sed -e \"s,^.*\\.[a-z]*:,$object:,\" < \"$tmpdepfile\" > \"$depfile\"\n-      # That's a space and a tab in the [].\n-      sed -e 's,^.*\\.[a-z]*:[ \t]*,,' -e 's,$,:,' < \"$tmpdepfile\" >> \"$depfile\"\n+      # That's a tab and a space in the [].\n+      sed -e 's,^.*\\.[a-z]*:[\t ]*,,' -e 's,$,:,' < \"$tmpdepfile\" >> \"$depfile\"\n    else\n       echo \"#dummy\" > \"$depfile\"\n    fi\n@@ -254,7 +394,7 @@ tru64)\n \n dashmstdout)\n   # Important note: in order to support this mode, a compiler *must*\n-  # always write the proprocessed file to stdout, regardless of -o.\n+  # always write the preprocessed file to stdout, regardless of -o.\n   \"$@\" || exit $?\n \n   # Remove the call to Libtool.\n@@ -265,9 +405,7 @@ dashmstdout)\n     shift\n   fi\n \n-  # Remove `-o $object'.  We will use -o /dev/null later,\n-  # however we can't do the remplacement now because\n-  # `-o $object' might simply not be used\n+  # Remove `-o $object'.\n   IFS=\" \"\n   for arg\n   do\n@@ -287,7 +425,11 @@ dashmstdout)\n   done\n \n   test -z \"$dashmflag\" && dashmflag=-M\n-  \"$@\" -o /dev/null $dashmflag | sed 's:^[^:]*\\:[ \t]*:'\"$object\"'\\: :' > \"$tmpdepfile\"\n+  # Require at least two characters before searching for `:'\n+  # in the target name.  This is to cope with DOS-style filenames:\n+  # a dependency such as `c:/foo/bar' could be seen as target `c' otherwise.\n+  \"$@\" $dashmflag |\n+    sed 's:^[  ]*[^: ][^:][^:]*\\:[    ]*:'\"$object\"'\\: :' > \"$tmpdepfile\"\n   rm -f \"$depfile\"\n   cat < \"$tmpdepfile\" > \"$depfile\"\n   tr ' ' '\n@@ -306,6 +448,13 @@ dashXmstdout)\n \n makedepend)\n   \"$@\" || exit $?\n+  # Remove any Libtool call\n+  if test \"$libtool\" = yes; then\n+    while test $1 != '--mode=compile'; do\n+      shift\n+    done\n+    shift\n+  fi\n   # X makedepend\n   shift\n   cleared=no\n@@ -318,7 +467,9 @@ makedepend)\n     case \"$arg\" in\n     -D*|-I*)\n       set fnord \"$@\" \"$arg\"; shift ;;\n-    -*)\n+    # Strip any option that makedepend may not understand.  Remove\n+    # the object too, otherwise makedepend will parse it as a source file.\n+    -*|$object)\n       ;;\n     *)\n       set fnord \"$@\" \"$arg\"; shift ;;\n@@ -339,7 +490,7 @@ makedepend)\n \n cpp)\n   # Important note: in order to support this mode, a compiler *must*\n-  # always write the proprocessed file to stdout.\n+  # always write the preprocessed file to stdout.\n   \"$@\" || exit $?\n \n   # Remove the call to Libtool.\n@@ -370,7 +521,8 @@ cpp)\n   done\n \n   \"$@\" -E |\n-    sed -n '/^# [0-9][0-9]* \"\\([^\"]*\\)\".*/ s:: \\1 \\\\:p' |\n+    sed -n -e '/^# [0-9][0-9]* \"\\([^\"]*\\)\".*/ s:: \\1 \\\\:p' \\\n+       -e '/^#line [0-9][0-9]* \"\\([^\"]*\\)\".*/ s:: \\1 \\\\:p' |\n     sed '$ s: \\\\$::' > \"$tmpdepfile\"\n   rm -f \"$depfile\"\n   echo \"$object : \\\\\" > \"$depfile\"\n@@ -381,7 +533,7 @@ cpp)\n \n msvisualcpp)\n   # Important note: in order to support this mode, a compiler *must*\n-  # always write the proprocessed file to stdout, regardless of -o,\n+  # always write the preprocessed file to stdout, regardless of -o,\n   # because we must use -o when running libtool.\n   \"$@\" || exit $?\n   IFS=\" \"\n@@ -421,3 +573,12 @@ none)\n esac\n \n exit 0\n+\n+# Local Variables:\n+# mode: shell-script\n+# sh-indentation: 2\n+# eval: (add-hook 'write-file-hooks 'time-stamp)\n+# time-stamp-start: \"scriptversion=\"\n+# time-stamp-format: \"%:y-%02m-%02d.%02H\"\n+# time-stamp-end: \"$\"\n+# End:"}, {"sha": "5f9eb68cf48f19a6255aa6dc9b8e2ecc7a4c9e1b", "filename": "libjava/classpath/doc/Makefile.am", "status": "modified", "additions": 7, "deletions": 21, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2FMakefile.am?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,21 +1,19 @@\n SUBDIRS = api\n \n-EXTRA_DIST = README.jaxp $(man_MANS)\n+EXTRA_DIST = README.jaxp texi2pod.pl $(man_MANS)\n \n ## GCJ LOCAL: we don't want to install all of Classpath's info files.\n ## info_TEXINFOS = cp-hacking.texinfo cp-vmintegration.texinfo cp-tools.texinfo\n TEXINFO_TEX = ../../gcc/doc/include/texinfo.tex\n info_TEXINFOS = cp-tools.texinfo\n-cp_tools_TEXINFOS = gcc-vers.texi\n \n-%.dvi : %.texinfo\n+.texinfo.dvi:\n \ttexi2dvi $<\n \n-%.ps : %.dvi\n+.dvi.ps:\n \tdvips -o $@ $<\n \n-docs: cp-hacking.ps cp-vmintegration.ps cp-tools.ps\n-install-data-local: install-info\n+docs: cp-hacking.ps cp-vmintegration.ps cp-tools.ps $(TOOLS_MANFILES)\n \n man_MANS = $(TOOLS_MANFILES)\n TOOLS_MANFILES = \\\n@@ -32,23 +30,11 @@ TOOLS_MANFILES = \\\n \tgserialver.1 \\\n \tgtnameserv.1\n \n-BASEVER = $(top_srcdir)/../../gcc/BASE-VER\n-DEVPHASE = $(top_srcdir)/../../gcc/DEV-PHASE\n-\n-POD2MAN = pod2man --center=\"GNU\" --release=\"gcc-$(shell cat $(BASEVER))\"\n-TEXI2POD = perl $(top_srcdir)/../../contrib/texi2pod.pl\n+POD2MAN = pod2man --center=\"GNU\" --release=\"$(VERSION)\"\n+TEXI2POD = perl $(srcdir)/texi2pod.pl\n STAMP = echo timestamp >\n \n-# gcc-vers.texi is generated from the version files.\n-gcc-vers.texi: $(BASEVER) $(DEVPHASE)\n-\t(echo \"@set version-GCC $(shell cat $(BASEVER))\"; \\\n-\t if [ \"$(shell cat $(DEVPHASE))\" = \"experimental\" ]; \\\n-\t then echo \"@set DEVELOPMENT\"; \\\n-\t else echo \"@clear DEVELOPMENT\"; \\\n-\t fi) > $@T\n-\tmv -f $@T $@\n-\n-%.1: %.pod\n+.pod.1:\n \t$(STAMP) $@\n \t-($(POD2MAN) --section=1 $< > $(@).T$$$$ && \\\n \t\tmv -f $(@).T$$$$ $@) || \\"}, {"sha": "e00e0aefd1e6a1acce48e5501ed4966d5845ab1b", "filename": "libjava/classpath/doc/Makefile.in", "status": "modified", "additions": 48, "deletions": 48, "changes": 96, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -37,23 +37,27 @@ build_triplet = @build@\n host_triplet = @host@\n target_triplet = @target@\n subdir = doc\n-DIST_COMMON = $(cp_tools_TEXINFOS) $(srcdir)/Makefile.am \\\n-\t$(srcdir)/Makefile.in texinfo.tex\n+DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in texinfo.tex\n ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n SOURCES =\n@@ -88,12 +92,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -139,6 +146,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -151,23 +159,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -177,6 +185,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -188,6 +197,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -197,6 +207,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -216,6 +227,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -237,6 +249,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -264,8 +277,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -298,6 +313,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@\n@@ -316,10 +332,9 @@ target_vendor = @target_vendor@\n toolexeclibdir = @toolexeclibdir@\n vm_classes = @vm_classes@\n SUBDIRS = api\n-EXTRA_DIST = README.jaxp $(man_MANS)\n+EXTRA_DIST = README.jaxp texi2pod.pl $(man_MANS)\n TEXINFO_TEX = ../../gcc/doc/include/texinfo.tex\n info_TEXINFOS = cp-tools.texinfo\n-cp_tools_TEXINFOS = gcc-vers.texi\n man_MANS = $(TOOLS_MANFILES)\n TOOLS_MANFILES = \\\n \tgappletviewer.1 \\\n@@ -335,10 +350,8 @@ TOOLS_MANFILES = \\\n \tgserialver.1 \\\n \tgtnameserv.1\n \n-BASEVER = $(top_srcdir)/../../gcc/BASE-VER\n-DEVPHASE = $(top_srcdir)/../../gcc/DEV-PHASE\n-POD2MAN = pod2man --center=\"GNU\" --release=\"gcc-$(shell cat $(BASEVER))\"\n-TEXI2POD = perl $(top_srcdir)/../../contrib/texi2pod.pl\n+POD2MAN = pod2man --center=\"GNU\" --release=\"$(VERSION)\"\n+TEXI2POD = perl $(srcdir)/texi2pod.pl\n STAMP = echo timestamp >\n @GENINSRC_FALSE@STAMP_GENINSRC = \n \n@@ -365,7 +378,7 @@ MAINTAINERCLEANFILES = \\\n all: all-recursive\n \n .SUFFIXES:\n-.SUFFIXES: .dvi .ps\n+.SUFFIXES: .1 .dvi .pod .ps .texinfo\n $(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__configure_deps)\n \t@for dep in $?; do \\\n \t  case '$(am__configure_deps)' in \\\n@@ -405,7 +418,7 @@ clean-libtool:\n distclean-libtool:\n \t-rm -f libtool\n \n-cp-tools.info: cp-tools.texinfo $(cp_tools_TEXINFOS)\n+cp-tools.info: cp-tools.texinfo \n \trestore=: && backupdir=\"$(am__leading_dot)am$$$$\" && \\\n \trm -rf $$backupdir && mkdir $$backupdir && \\\n \tif ($(MAKEINFO) --version) >/dev/null 2>&1; then \\\n@@ -423,17 +436,17 @@ cp-tools.info: cp-tools.texinfo $(cp_tools_TEXINFOS)\n \tfi; \\\n \trm -rf $$backupdir; exit $$rc\n \n-cp-tools.dvi: cp-tools.texinfo $(cp_tools_TEXINFOS) \n+cp-tools.dvi: cp-tools.texinfo  \n \tTEXINPUTS=\"$(am__TEXINFO_TEX_DIR)$(PATH_SEPARATOR)$$TEXINPUTS\" \\\n \tMAKEINFO='$(MAKEINFO) $(AM_MAKEINFOFLAGS) $(MAKEINFOFLAGS) -I $(srcdir)' \\\n \t$(TEXI2DVI) -o $@ `test -f 'cp-tools.texinfo' || echo '$(srcdir)/'`cp-tools.texinfo\n \n-cp-tools.pdf: cp-tools.texinfo $(cp_tools_TEXINFOS) \n+cp-tools.pdf: cp-tools.texinfo  \n \tTEXINPUTS=\"$(am__TEXINFO_TEX_DIR)$(PATH_SEPARATOR)$$TEXINPUTS\" \\\n \tMAKEINFO='$(MAKEINFO) $(AM_MAKEINFOFLAGS) $(MAKEINFOFLAGS) -I $(srcdir)' \\\n \t$(TEXI2PDF) -o $@ `test -f 'cp-tools.texinfo' || echo '$(srcdir)/'`cp-tools.texinfo\n \n-cp-tools.html: cp-tools.texinfo $(cp_tools_TEXINFOS) \n+cp-tools.html: cp-tools.texinfo  \n \trm -rf $(@:.html=.htp)\n \tif $(MAKEINFOHTML) $(AM_MAKEINFOHTMLFLAGS) $(MAKEINFOFLAGS) -I $(srcdir) \\\n \t -o $(@:.html=.htp) `test -f 'cp-tools.texinfo' || echo '$(srcdir)/'`cp-tools.texinfo; \\\n@@ -446,9 +459,6 @@ cp-tools.html: cp-tools.texinfo $(cp_tools_TEXINFOS)\n \t    rm -rf $(@:.html=); else rm -Rf $(@:.html=.htp) $@; fi; \\\n \t  exit 1; \\\n \tfi\n-.dvi.ps:\n-\tTEXINPUTS=\"$(am__TEXINFO_TEX_DIR)$(PATH_SEPARATOR)$$TEXINPUTS\" \\\n-\t$(DVIPS) -o $@ $<\n \n uninstall-info-am:\n \t@$(PRE_UNINSTALL)\n@@ -778,7 +788,7 @@ info: info-recursive\n \n info-am: $(INFO_DEPS)\n \n-install-data-am: install-data-local install-info-am install-man\n+install-data-am: install-info-am install-man\n \n install-exec-am:\n \n@@ -847,36 +857,26 @@ uninstall-man: uninstall-man1\n \tctags ctags-recursive dist-info distclean distclean-generic \\\n \tdistclean-libtool distclean-recursive distclean-tags distdir \\\n \tdvi dvi-am html html-am info info-am install install-am \\\n-\tinstall-data install-data-am install-data-local install-exec \\\n-\tinstall-exec-am install-info install-info-am install-man \\\n-\tinstall-man1 install-strip installcheck installcheck-am \\\n-\tinstalldirs installdirs-am maintainer-clean \\\n-\tmaintainer-clean-aminfo maintainer-clean-generic \\\n-\tmaintainer-clean-recursive mostlyclean mostlyclean-aminfo \\\n-\tmostlyclean-generic mostlyclean-libtool mostlyclean-recursive \\\n-\tpdf pdf-am ps ps-am tags tags-recursive uninstall uninstall-am \\\n-\tuninstall-info-am uninstall-man uninstall-man1\n-\n-\n-%.dvi : %.texinfo\n+\tinstall-data install-data-am install-exec install-exec-am \\\n+\tinstall-info install-info-am install-man install-man1 \\\n+\tinstall-strip installcheck installcheck-am installdirs \\\n+\tinstalldirs-am maintainer-clean maintainer-clean-aminfo \\\n+\tmaintainer-clean-generic maintainer-clean-recursive \\\n+\tmostlyclean mostlyclean-aminfo mostlyclean-generic \\\n+\tmostlyclean-libtool mostlyclean-recursive pdf pdf-am ps ps-am \\\n+\ttags tags-recursive uninstall uninstall-am uninstall-info-am \\\n+\tuninstall-man uninstall-man1\n+\n+\n+.texinfo.dvi:\n \ttexi2dvi $<\n \n-%.ps : %.dvi\n+.dvi.ps:\n \tdvips -o $@ $<\n \n-docs: cp-hacking.ps cp-vmintegration.ps cp-tools.ps\n-install-data-local: install-info\n-\n-# gcc-vers.texi is generated from the version files.\n-gcc-vers.texi: $(BASEVER) $(DEVPHASE)\n-\t(echo \"@set version-GCC $(shell cat $(BASEVER))\"; \\\n-\t if [ \"$(shell cat $(DEVPHASE))\" = \"experimental\" ]; \\\n-\t then echo \"@set DEVELOPMENT\"; \\\n-\t else echo \"@clear DEVELOPMENT\"; \\\n-\t fi) > $@T\n-\tmv -f $@T $@\n+docs: cp-hacking.ps cp-vmintegration.ps cp-tools.ps $(TOOLS_MANFILES)\n \n-%.1: %.pod\n+.pod.1:\n \t$(STAMP) $@\n \t-($(POD2MAN) --section=1 $< > $(@).T$$$$ && \\\n \t\tmv -f $(@).T$$$$ $@) || \\"}, {"sha": "937d0cc9f9c69cf436bb71b26c41512eaa0386da", "filename": "libjava/classpath/doc/api/Makefile.in", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Fapi%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Fapi%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2Fapi%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -44,16 +44,21 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n SOURCES =\n@@ -64,12 +69,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -115,6 +123,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -127,23 +136,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -153,6 +162,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -164,6 +174,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -173,6 +184,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -192,6 +204,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -213,6 +226,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -240,8 +254,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -274,6 +290,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@"}, {"sha": "c79ea5287506f222990cb9b0f615fecda5a3566d", "filename": "libjava/classpath/doc/cp-hacking.texinfo", "status": "modified", "additions": 339, "deletions": 24, "changes": 363, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Fcp-hacking.texinfo", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Fcp-hacking.texinfo", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2Fcp-hacking.texinfo?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,7 +1,7 @@\n \\input texinfo @c -*-texinfo-*-\n \n @c %**start of header\n-@setfilename hacking.info\n+@setfilename cp-hacking.info\n @settitle GNU Classpath Hacker's Guide\n @c %**end of header\n \n@@ -11,7 +11,7 @@\n This file contains important information you will need to know if you\n are going to hack on the GNU Classpath project code.\n \n-Copyright (C) 1998,1999,2000,2001,2002,2003,2004, 2005 Free Software Foundation, Inc.\n+Copyright (C) 1998,1999,2000,2001,2002,2003,2004,2005,2007 Free Software Foundation, Inc.\n \n @ifnotplaintext\n @dircategory GNU Libraries\n@@ -65,6 +65,9 @@ and compilers for the java programming language.\n * Volunteering::                So you want to help out\n * Project Goals::               Goals of the GNU Classpath project\n * Needed Tools and Libraries::  A list of programs and libraries you will need\n+* Installation::                Installation instructions\n+* Building and running with the X AWT peers:: Building and running with the X AWT peers\n+* Misc. Notes::                 Miscellaneous notes\n * Programming Standards::       Standards to use when writing code\n * Hacking Code::                Working on code, Working with others\n * Programming Goals::           What to consider when writing code\n@@ -324,7 +327,7 @@ that way.  But finishing, polishing up, documenting, testing and\n debugging current functionality is of higher priority then adding new\n functionality.\n \n-@node Needed Tools and Libraries, Programming Standards, Project Goals, Top\n+@node Needed Tools and Libraries, Installation, Project Goals, Top\n @comment node-name, next, previous, up\n @chapter Needed Tools and Libraries\n \n@@ -338,15 +341,19 @@ needed when working directly on the CVS version.\n \n @itemize @bullet\n @item\n-GCC 3.3+\n+GNU make 3.80+\n+@item\n+GCC 2.95+\n+@item\n+Eclipse Compiler for Java 3.1+\n @item\n CVS 1.11+\n @item\n-automake 1.7+\n+automake 1.9+\n @item\n autoconf 2.59+\n @item\n-libtool 1.4.2+\n+libtool 1.5+\n @item\n GNU m4 1.4\n @item\n@@ -356,35 +363,50 @@ texinfo 4.2+\n All of these tools are available from\n @uref{ftp://gnudist.gnu.org/pub/gnu/,gnudist.gnu.org} via anonymous\n ftp, except CVS which is available from\n-@uref{http://www.cvshome.org/,www.cvshome.org}.  They are fully\n-documented with texinfo manuals.  Texinfo can be browsed with the\n-Emacs editor, or with the text editor of your choice, or transformed\n-into nicely printable Postscript.\n+@uref{http://www.cvshome.org/,www.cvshome.org} and the Eclipse \n+Compiler for Java, which is available from \n+@uref{http://www.eclipse.org/jdt/core,www.eclipse.org/jdt/core}.\n+\n+Except for the Eclipse Compiler for Java, they are fully documented \n+with texinfo manuals.  Texinfo can be browsed with the Emacs editor, \n+or with the text editor of your choice, or transformed into nicely \n+printable Postscript.\n \n Here is a brief description of the purpose of those tools.\n \n @table @b\n \n+@item make\n+GNU make (\"gmake\") is required for building Classpath.\n+\n @item GCC\n The GNU Compiler Collection. This contains a C compiler (gcc) for\n compiling the native C code and a compiler for the java programming\n-language (gcj).  You will need at least gcj version 3.3 or higher.  If\n-that version is not available for your platform you can try the\n-@uref{http://www.jikes.org/, jikes compiler}.  We try to keep all code\n-compilable with both gcj and jikes at all times.\n+language (gcj).  You will need at least gcc version 2.95 or higher\n+in order to compile the native code. There is currently no \n+released version of gcj that can compile the Java 1.5 programming \n+language used by GNU Classpath.\n+\n+@item ecj\n+The Eclipse Compiler for Java. This is a compiler for the Java 1.5\n+programming language. It translates source code to bytecode. The\n+Eclipse Foundation makes ``ecj.jar'' available as the JDT Core Batch\n+Compiler download.\n \n @item CVS  \n A version control system that maintains a centralized Internet\n repository of all code in the Classpath system.\n \n @item automake  \n-This tool automatically creates Makefile.in files from Makefile.am\n-files.  The Makefile.in is turned into a Makefile by autoconf.  Why\n-use this?  Because it automatically generates every makefile target\n-you would ever want (clean, install, dist, etc) in full compliance\n-with the GNU coding standards.  It also simplifies Makefile creation\n-in a number of ways that cannot be described here.  Read the docs for\n-more info.\n+This tool automatically creates @file{Makefile.in} files from \n+@file{Makefile.am} files.  The @file{Makefile.in} is turned into a \n+@file{Makefile} by @command{autoconf}.  \n+\n+Why use this?  Because it automatically generates every makefile \n+target you would ever want (@option{clean}, @option{install}, \n+@option{dist}, etc) in full compliance with the GNU coding standards.  \n+It also simplifies Makefile creation in a number of ways that cannot \n+be described here.  Read the docs for more info.\n \n @item autoconf  \n Automatically configures a package for the platform on which it is\n@@ -414,21 +436,155 @@ is revised, you need revise only that one document.\n \n @end table\n \n+For any build environment involving native libraries, recent \n+versions of @command{autoconf}, @command{automake}, and @command{libtool}\n+are required if changes are made that require rebuilding @file{configure}, \n+@file{Makefile.in}, @file{aclocal.m4}, or @file{config.h.in}.\n+\n+When working from CVS you can run those tools by executing\n+@command{autogen.sh} in the source directory.\n+\n+For building the Java bytecode (.class files), you can select \n+which compiler should be employed using @option{--with-javac} or \n+@option{--with-ecj} as argument to @command{configure}; \n+the present default is @command{ecj}.\n+\n+Instead of @command{ecj}, you can also use @command{javac}, which is \n+available at \n+@uref{https://openjdk.dev.java.net/compiler, openjdk.dev.java.net/compiler}.\n \n For compiling the native AWT libraries you need to have the following\n-libraries installed:\n+libraries installed (unless @option{--disable-gtk-peer} is used as an argument \n+to @command{configure}):\n \n @table @b\n-@item GTK+ 2.2.x\n+@item GTK+ 2.8.x\n @uref{http://www.gtk.org/,GTK+} is a multi-platform toolkit for\n creating graphical user interfaces.  It is used as the basis of the\n GNU desktop project GNOME.\n \n @item gdk-pixbuf\n @uref{http://www.gnome.org/start/,gdk-pixbuf} is a GNOME library for\n representing images.\n+\n+@item XTest \n+@uref{http://www.x.org,www.x.org} hosts the XTest Extension (libXtst).\n+It is necessary for GdkRobot support in java.awt.\n+\n @end table\n \n+There is a bug in earlier versions of at-spi, atk, and gail, which are\n+used for GNOME accessibility.  Prior to version 1.18.0 of these packages,\n+gtk graphical applications should be run without accessibility (clear the\n+GTK_MODULES environment variable).\n+\n+For building the Qt AWT peer JNI native libraries you have to\n+specify @option{--enable-qt-peer} and need the following library:\n+\n+@table @b\n+@item Qt\n+@uref{http://www.trolltech.com/products/qt,Qt} version 4.0.1 or higher.\n+The Qt library is a cros-platform graphics toolkit.\n+\n+@end table\n+\n+Please note that at the moment most operating systems do not\n+ship Qt version 4.0.1 by default. We recommend using GNU Classpath' Qt\n+support only for its developers and bug reporters. See\n+@uref{http://developer.classpath.org/mediation/ClasspathShowcase, the wiki}\n+for details on how to get it to work.\n+\n+For building the X AWT peers you have to specify where to find the\n+Escher library on your system using the @option{--with-escher=ABS.PATH} option. \n+You will need the following library:\n+\n+@table @b\n+@item Escher\n+@uref{http://escher.sourceforge.net,Escher} version 0.2.3 or higher.\n+The Escher library is an implementation of X protocol and associated\n+libraries written in the Java programming language.\n+\n+@end table\n+\n+For building the ALSA midi provider code you will need\n+the following library:\n+\n+\n+@table @b\n+@item ALSA\n+@uref{http://www.alsa-project.org,ALSA} libraries.\n+\n+The ALSA project provides sound device drivers and associated \n+libraries for the Linux kernel.\n+\n+@end table\n+\n+Building the ALSA midi provider code can be disabled by passing\n+@option{--disable-alsa} to @command{configure}.\n+\n+For building the DSSI midi synthesizer provider code you will\n+need the following libraries:\n+\n+@table @b\n+@item DSSI\n+@uref{http://dssi.sourceforge.net,DSSI} library for audio\n+processing plugins.\n+\n+@item liblo\n+@uref{http://plugin.org.uk/liblo/,liblo}, the Lightweight OSC \n+implementation.\n+\n+@item LADSPA\n+@uref{http://www.ladspa.org,LADSPA}, the Linux Audio Developer's \n+Simple Plugin API.\n+    \n+@item JACK\n+@uref{http://jackit.sourceforge.net,JACK}, a low latency audio \n+server.\n+    \n+@item libsndfile\n+@uref{http://www.mega-nerd.com/libsndfile/,libsndfile}, an audio \n+file I/O library.\n+    \n+@item fluidsynth\n+@uref{http://www.fluidsynth.org/,fluidsynth}, a real-time SoundFont \n+2 based soft-synth.\n+\n+@end table    \n+\n+The GConf-based backend for java.util.prefs needs the following\n+library headers:\n+\n+@table @b\n+@item GConf\n+@uref{http://www.gnome.org/projects/gconf/,GConf} version 2.11.2\n+(or higher). GConf is used for storing dektop and application\n+configuration settings in GNOME.\n+\n+@end table\n+\n+For building @command{gcjwebplugin} you'll need the Mozilla plugin\n+support headers and libraries, which are available at \n+@uref{http://www.mozilla.org,www.mozilla.org}.\n+\n+For enabling the com.sun.tools.javac support in tools.zip you\n+will a need jar file containing the Eclipse Java Compiler.\n+Otherwise com.sun.tools.javac will not be included in @file{tools.zip}.\n+\n+For building the xmlj JAXP implementation (disabled by default, \n+use @command{configure --enable-xmlj}) you need the following libraries:\n+\n+@table @b\n+@item libxml2\n+@uref{http://www.xmlsoft.org/,libxml2} version 2.6.8 or higher.\n+\n+The libxml2 library is the XML C library for the Gnome desktop.\n+\n+@item libxslt\n+@uref{http://www.xmlsoft.org/XSLT/,libxslt} version 1.1.11 or higher.\n+\n+The libxslt library if the XSLT C library for the Gnome desktop.\n+@end table\n \n GNU Classpath comes with a couple of libraries included in the source\n that are not part of GNU Classpath proper, but that have been included\n@@ -457,8 +613,167 @@ java.lang.StrictMath.\n \n @end table\n \n+@node Installation, Building and running with the X AWT peers, Needed Tools and Libraries, Top\n+@comment node-name, next, previous, up\n+@chapter Installation instructions\n+\n+This package was designed to use the GNU standard for configuration\n+and makefiles.  To build and install do the following:\n+\n+@enumerate\n+@item Configuration\n+\n+Run the @command{configure} script to configure the package.  There are\n+various options you might want to pass to @command{configure} to control how the\n+package is built.  Consider the following options, @command{configure --help}\n+gives a complete list.  \n+\n+@table @option\n+@item --enable-java       \n+\n+compile Java source (default=@option{yes}).\n+\n+@item --enable-jni\n+\n+compile JNI source (default=@option{yes}).\n+\n+@item --enable-gtk-peer\n+\n+compile GTK native peers (default=@option{yes}).\n+\n+@item --enable-qt-peer\n+\n+compile Qt4 native peers (default=@option{no}).\n+\n+@item --enable-default-toolkit\n+\n+fully qualified class name of default AWT toolkit (default=@option{no}).\n+\n+@item --enable-xmlj\n+\n+compile native libxml/xslt library (default=@option{no}).\n+\n+@item --enable-load-library\n+\n+enable to use JNI native methods (default=@option{yes}).\n+\n+@item --enable-local-sockets\n+\n+enable build of local Unix sockets.\n+\n+@item --with-glibj\n+define what to install @option{(zip|flat|both|none)} (default=@option{zip}).\n+\n+@item --with-escher=/path/to/escher\n+\n+enable build of the X/Escher peers, with\n+the escher library at @file{/path/to/escher}, either\n+in the form of a JAR file, or a directory\n+containing the .class files of Escher.\n+\n+@item --enable-Werror\n+\n+whether to compile C code with @option{-Werror} which turns\n+any compiler warning into a compilation failure\n+(default=@option{no}).\n+\n+@item --with-gjdoc\n+\n+generate documentation using @command{gjdoc} (default=@option{no}).\n+\n+@item --with-jay\n+\n+Regenerate the parsers with @command{jay}, must be given the\n+path to the @command{jay} executable\n+\n+@item --with-glibj-zip=ABS.PATH\n+\n+use prebuilt glibj.zip class library\n+\n+@item --with-ecj-jar=ABS.PATH \n+\n+specify jar file containing the Eclipse Java Compiler\n+\n+@end table\n+\n+For more flags run @command{configure --help}.\n+\n+@item Building\n+\n+Type @command{gmake} to build the package.  There is no longer a\n+dependency problem and we aim to keep it that way.\n+\n+@item Installation\n+\n+Type @command{gmake install} to install everything.  This may require\n+being the superuser. The default install path is /usr/local/classpath\n+you may change it by giving @command{configure} the \n+@option{--prefix=<path>} option.\n+\n+@end enumerate\n+\n+Report bugs to @email{classpath@@gnu.org} or much better to the \n+GNU Classpath bug tracker at \n+@uref{http://savannah.gnu.org/support/?func=addsupport&group=classpath,Savannah}.\n+\n+Happy Hacking!\n+\n+Once installed, GNU Classpath is ready to be used by any VM that supports\n+using the official version of GNU Classpath.  Simply ensure that\n+@file{/usr/local/classpath/share/classpath} is in your @env{CLASSPATH} environment\n+variable.  You'll also have to set your @env{LD_LIBRARY_PATH}\n+variable (or similar system configuration) to include the Classpath\n+native libraries in @file{/usr/local/classpath/lib/classpath}.\n+\n+*NOTE* All example paths assume the default prefix is used with @command{configure}.\n+If you don't know what this means then the examples are correct.\n+\n+@example\n+LD_LIBRARY_PATH=/usr/local/classpath/lib/classpath\n+CLASSPATH=/usr/local/classpath/share/classpath/glibj.zip:.\n+export LD_LIBRARY_PATH CLASSPATH\n+@end example\n+\n+More information about the VMs that use GNU Classpath can be found in the\n+@file{README} file.\n+\n+@node Building and running with the X AWT peers, Misc. Notes, Installation, Top\n+@comment node-name, next, previous, up\n+@chapter Building and running with the X AWT peers\n+\n+In order build the X peers you need the Escher library version 0.2.3\n+from @uref{http://escher.sourceforge.net,escher.sourceforge.net}. \n+Unpack (and optionally build) the\n+Escher library following the instructions in the downloaded\n+package. Enable the build of the X peers by passing\n+@option{--with-escher=/path/to/escher} to @command{configure} where @file{/path/to/escher}\n+either points to a directory structure or JAR file containing the\n+Escher classes. For Unix systems it is preferable to also build local\n+socket support by passing @option{--enable-local-sockets}, which accelerates\n+the network communication to the X server significantly.\n+\n+In this release you have to enable the X peers at runtime by\n+setting the system property awt.toolkit=gnu.java.awt.peer.x.XToolkit\n+by passing @option{-Dawt.toolkit=gnu.java.awt.peer.x.XToolkit} to the @command{java}\n+command when running an application.\n+\n+@node Misc. Notes, Programming Standards, Building and running with the X AWT peers, Top\n+@comment node-name, next, previous, up\n+@chapter Misc. Notes\n+\n+Compilation is accomplished using a compiler's @@file syntax.  For our\n+part, we avoid placing make style dependencies as rules upon the\n+compilation of a particular class file and leave this up to the Java\n+compiler instead.\n+\n+The @option{--enable-maintainer-mode} option to @command{configure} currently does very \n+little and shouldn't be used by ordinary developers or users anyway.\n+\n+On Windows machines, the native libraries do not currently build, but\n+the Java bytecode library will.  Gcj trunk is beginning to work under\n+Cygwin.\n \n-@node Programming Standards, Hacking Code, Needed Tools and Libraries, Top\n+@node Programming Standards, Hacking Code, Misc. Notes, Top\n @comment node-name, next, previous, up\n @chapter Programming Standards\n "}, {"sha": "97f381a5ffad404cda84067a41932927fa3f1019", "filename": "libjava/classpath/doc/cp-vmintegration.texinfo", "status": "modified", "additions": 27, "deletions": 4, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Fcp-vmintegration.texinfo", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Fcp-vmintegration.texinfo", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2Fcp-vmintegration.texinfo?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,7 +1,7 @@\n \\input texinfo @c -*-texinfo-*-\n \n @c %**start of header\n-@setfilename vmintegration.info\n+@setfilename cp-vmintegration.info\n @settitle GNU Classpath VM Integration Guide\n @c %**end of header\n \n@@ -12,7 +12,7 @@ This file contains important information you will need to know if you\n are going to write an interface between GNU Classpath and a Virtual\n Machine.\n \n-Copyright (C) 1998-2002, 2004, 2005, 2006 Free Software Foundation, Inc.\n+Copyright (C) 1998-2002, 2004, 2005, 2006, 2007 Free Software Foundation, Inc.\n \n @ifnotplaintext\n @dircategory GNU Libraries\n@@ -1376,6 +1376,12 @@ time used by all threads.\n @item @code{gnu.java.lang.management.ThreadContentionSupport} --\n This property should be present if the VM supports thread contention\n monitoring.\n+@item @code{gnu.java.lang.management.MonitorUsageMonitoringSupport} --\n+This property should be present if the VM supports the monitoring\n+of object monitor usage.\n+@item @code{gnu.java.lang.management.OwnableSynchronizerUsageMonitoringSupport} --\n+This property should be present if the VM supports the monitoring\n+of ownable synchronizer usage.\n @end itemize\n \n In addition, the property\n@@ -1386,11 +1392,18 @@ is enabled at startup.\n The methods are as follows:\n \n @itemize @bullet\n+@item @code{(findDeadlockedThreads())} -- This should return\n+an array of thread identifiers which match threads involved in\n+deadlock cycles (where each thread is waiting to obtain a lock\n+held by one of the others) on object monitors or ownable\n+synchronizers.  This is specified as a native method in the\n+reference implementation, and is optional.  It is only called\n+when the VM supports ownable synchronizer monitoring.\n @item @code{(findMonitorDeadlockedThreads())} -- This should return\n an array of thread identifiers which match threads involved in\n deadlock cycles (where each thread is waiting to obtain a lock\n-held by one of the others).  This is specified as a native method\n-in the reference implementation.\n+held by one of the others) on object monitors.  This is specified\n+as a native method in the reference implementation.\n @item @code{(getAllThreads())} -- This should return an array of\n all live threads and set the @code{filled} variable to the number\n found.  A default implementation is provided.\n@@ -1408,6 +1421,16 @@ supporting time monitoring.\n @item @code{(getDaemonThreadCount())} -- This should return the number\n of live daemon threads.  A default implementation is provided, based\n on @code{getAllThreads()}.\n+@item @code{(getLockInfo(ThreadInfo))} -- This is an optional native\n+method called when the VM supports ownable synchronizer usage monitoring\n+and the user has requested information for a particular thread.  The\n+supplied @code{ThreadInfo} object should be filled out with an\n+array of @code{LockInfo} objects, providing details on each lock. \n+@item @code{(getMonitorInfo(ThreadInfo))} -- This is an optional native\n+method called when the VM supports object monitor usage monitoring\n+and the user has requested information for a particular thread.  The\n+supplied @code{ThreadInfo} object should be filled out with an\n+array of @code{MonitorInfo} objects, providing details on each lock. \n @item @code{(getPeakThreadCount())} -- The VM should maintain a record\n of the peak number of live threads, and return it when this method is\n called.  This is specified as a native method in the reference"}, {"sha": "e7b983bd2d282c0a46088d065af2d165ee53aa83", "filename": "libjava/classpath/doc/texi2pod.pl", "status": "added", "additions": 478, "deletions": 0, "changes": 478, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Ftexi2pod.pl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Ftexi2pod.pl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2Ftexi2pod.pl?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,478 @@\n+#! /usr/bin/perl -w\n+\n+#   Copyright (C) 1999, 2000, 2001, 2003 Free Software Foundation, Inc.\n+\n+# This file is part of GCC.\n+\n+# GCC is free software; you can redistribute it and/or modify\n+# it under the terms of the GNU General Public License as published by\n+# the Free Software Foundation; either version 2, or (at your option)\n+# any later version.\n+\n+# GCC is distributed in the hope that it will be useful,\n+# but WITHOUT ANY WARRANTY; without even the implied warranty of\n+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+# GNU General Public License for more details.\n+\n+# You should have received a copy of the GNU General Public License\n+# along with GCC; see the file COPYING.  If not, write to\n+# the Free Software Foundation, 51 Franklin Street, Fifth Floor,\n+# Boston MA 02110-1301, USA.\n+\n+# This does trivial (and I mean _trivial_) conversion of Texinfo\n+# markup to Perl POD format.  It's intended to be used to extract\n+# something suitable for a manpage from a Texinfo document.\n+\n+$output = 0;\n+$skipping = 0;\n+%sects = ();\n+$section = \"\";\n+@icstack = ();\n+@endwstack = ();\n+@skstack = ();\n+@instack = ();\n+$shift = \"\";\n+%defs = ();\n+$fnno = 1;\n+$inf = \"\";\n+$ibase = \"\";\n+@ipath = ();\n+\n+while ($_ = shift) {\n+    if (/^-D(.*)$/) {\n+\tif ($1 ne \"\") {\n+\t    $flag = $1;\n+\t} else {\n+\t    $flag = shift;\n+\t}\n+\t$value = \"\";\n+\t($flag, $value) = ($flag =~ /^([^=]+)(?:=(.+))?/);\n+\tdie \"no flag specified for -D\\n\"\n+\t    unless $flag ne \"\";\n+\tdie \"flags may only contain letters, digits, hyphens, dashes and underscores\\n\"\n+\t    unless $flag =~ /^[a-zA-Z0-9_-]+$/;\n+\t$defs{$flag} = $value;\n+    } elsif (/^-I(.*)$/) {\n+\tif ($1 ne \"\") {\n+\t    $flag = $1;\n+\t} else {\n+\t    $flag = shift;\n+\t}\n+        push (@ipath, $flag);\n+    } elsif (/^-/) {\n+\tusage();\n+    } else {\n+\t$in = $_, next unless defined $in;\n+\t$out = $_, next unless defined $out;\n+\tusage();\n+    }\n+}\n+\n+if (defined $in) {\n+    $inf = gensym();\n+    open($inf, \"<$in\") or die \"opening \\\"$in\\\": $!\\n\";\n+    $ibase = $1 if $in =~ m|^(.+)/[^/]+$|;\n+} else {\n+    $inf = \\*STDIN;\n+}\n+\n+if (defined $out) {\n+    open(STDOUT, \">$out\") or die \"opening \\\"$out\\\": $!\\n\";\n+}\n+\n+while(defined $inf) {\n+while(<$inf>) {\n+    # Certain commands are discarded without further processing.\n+    /^\\@(?:\n+\t [a-z]+index\t\t# @*index: useful only in complete manual\n+\t |need\t\t\t# @need: useful only in printed manual\n+\t |(?:end\\s+)?group\t# @group .. @end group: ditto\n+\t |page\t\t\t# @page: ditto\n+\t |node\t\t\t# @node: useful only in .info file\n+\t |(?:end\\s+)?ifnottex   # @ifnottex .. @end ifnottex: use contents\n+\t)\\b/x and next;\n+\n+    chomp;\n+\n+    # Look for filename and title markers.\n+    /^\\@setfilename\\s+([^.]+)/ and $fn = $1, next;\n+    /^\\@settitle\\s+([^.]+)/ and $tl = postprocess($1), next;\n+\n+    # Identify a man title but keep only the one we are interested in.\n+    /^\\@c\\s+man\\s+title\\s+([A-Za-z0-9-]+)\\s+(.+)/ and do {\n+\tif (exists $defs{$1}) {\n+\t    $fn = $1;\n+\t    $tl = postprocess($2);\n+\t}\n+\tnext;\n+    };\n+\n+    # Look for blocks surrounded by @c man begin SECTION ... @c man end.\n+    # This really oughta be @ifman ... @end ifman and the like, but such\n+    # would require rev'ing all other Texinfo translators.\n+    /^\\@c\\s+man\\s+begin\\s+([A-Z]+)\\s+([A-Za-z0-9-]+)/ and do {\n+\t$output = 1 if exists $defs{$2};\n+        $sect = $1;\n+\tnext;\n+    };\n+    /^\\@c\\s+man\\s+begin\\s+([A-Z]+)/ and $sect = $1, $output = 1, next;\n+    /^\\@c\\s+man\\s+end/ and do {\n+\t$sects{$sect} = \"\" unless exists $sects{$sect};\n+\t$sects{$sect} .= postprocess($section);\n+\t$section = \"\";\n+\t$output = 0;\n+\tnext;\n+    };\n+\n+    # handle variables\n+    /^\\@set\\s+([a-zA-Z0-9_-]+)\\s*(.*)$/ and do {\n+\t$defs{$1} = $2;\n+\tnext;\n+    };\n+    /^\\@clear\\s+([a-zA-Z0-9_-]+)/ and do {\n+\tdelete $defs{$1};\n+\tnext;\n+    };\n+\n+    next unless $output;\n+\n+    # Discard comments.  (Can't do it above, because then we'd never see\n+    # @c man lines.)\n+    /^\\@c\\b/ and next;\n+\n+    # End-block handler goes up here because it needs to operate even\n+    # if we are skipping.\n+    /^\\@end\\s+([a-z]+)/ and do {\n+\t# Ignore @end foo, where foo is not an operation which may\n+\t# cause us to skip, if we are presently skipping.\n+\tmy $ended = $1;\n+\tnext if $skipping && $ended !~ /^(?:ifset|ifclear|ignore|menu|iftex|copying)$/;\n+\n+\tdie \"\\@end $ended without \\@$ended at line $.\\n\" unless defined $endw;\n+\tdie \"\\@$endw ended by \\@end $ended at line $.\\n\" unless $ended eq $endw;\n+\n+\t$endw = pop @endwstack;\n+\n+\tif ($ended =~ /^(?:ifset|ifclear|ignore|menu|iftex)$/) {\n+\t    $skipping = pop @skstack;\n+\t    next;\n+\t} elsif ($ended =~ /^(?:example|smallexample|display)$/) {\n+\t    $shift = \"\";\n+\t    $_ = \"\";\t# need a paragraph break\n+\t} elsif ($ended =~ /^(?:itemize|enumerate|[fv]?table)$/) {\n+\t    $_ = \"\\n=back\\n\";\n+\t    $ic = pop @icstack;\n+\t} elsif ($ended eq \"multitable\") {\n+\t    $_ = \"\\n=back\\n\";\n+\t} else {\n+\t    die \"unknown command \\@end $ended at line $.\\n\";\n+\t}\n+    };\n+\n+    # We must handle commands which can cause skipping even while we\n+    # are skipping, otherwise we will not process nested conditionals\n+    # correctly.\n+    /^\\@ifset\\s+([a-zA-Z0-9_-]+)/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @skstack, $skipping;\n+\t$endw = \"ifset\";\n+\t$skipping = 1 unless exists $defs{$1};\n+\tnext;\n+    };\n+\n+    /^\\@ifclear\\s+([a-zA-Z0-9_-]+)/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @skstack, $skipping;\n+\t$endw = \"ifclear\";\n+\t$skipping = 1 if exists $defs{$1};\n+\tnext;\n+    };\n+\n+    /^\\@(ignore|menu|iftex|copying)\\b/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @skstack, $skipping;\n+\t$endw = $1;\n+\t$skipping = 1;\n+\tnext;\n+    };\n+\n+    next if $skipping;\n+\n+    # Character entities.  First the ones that can be replaced by raw text\n+    # or discarded outright:\n+    s/\\@copyright\\{\\}/(c)/g;\n+    s/\\@dots\\{\\}/.../g;\n+    s/\\@enddots\\{\\}/..../g;\n+    s/\\@([.!? ])/$1/g;\n+    s/\\@[:-]//g;\n+    s/\\@bullet(?:\\{\\})?/*/g;\n+    s/\\@TeX\\{\\}/TeX/g;\n+    s/\\@pounds\\{\\}/\\#/g;\n+    s/\\@minus(?:\\{\\})?/-/g;\n+    s/\\\\,/,/g;\n+\n+    # Now the ones that have to be replaced by special escapes\n+    # (which will be turned back into text by unmunge())\n+    s/&/&amp;/g;\n+    s/\\@\\{/&lbrace;/g;\n+    s/\\@\\}/&rbrace;/g;\n+    s/\\@\\@/&at;/g;\n+\n+    # Inside a verbatim block, handle @var specially.\n+    if ($shift ne \"\") {\n+\ts/\\@var\\{([^\\}]*)\\}/<$1>/g;\n+    }\n+\n+    # POD doesn't interpret E<> inside a verbatim block.\n+    if ($shift eq \"\") {\n+\ts/</&lt;/g;\n+\ts/>/&gt;/g;\n+    } else {\n+\ts/</&LT;/g;\n+\ts/>/&GT;/g;\n+    }\n+\n+    # Single line command handlers.\n+\n+    /^\\@include\\s+(.+)$/ and do {\n+\tpush @instack, $inf;\n+\t$inf = gensym();\n+\t$file = postprocess($1);\n+\n+\t# Try cwd and $ibase, then explicit -I paths.\n+\t$done = 0;\n+\tforeach $path (\"\", $ibase, @ipath) {\n+\t    $mypath = $file;\n+\t    $mypath = $path . \"/\" . $mypath if ($path ne \"\");\n+\t    open($inf, \"<\" . $mypath) and ($done = 1, last);\n+\t}\n+\tdie \"cannot find $file\" if !$done;\n+\tnext;\n+    };\n+\n+    /^\\@(?:section|unnumbered|unnumberedsec|center)\\s+(.+)$/\n+\tand $_ = \"\\n=head2 $1\\n\";\n+    /^\\@subsection\\s+(.+)$/\n+\tand $_ = \"\\n=head3 $1\\n\";\n+    /^\\@subsubsection\\s+(.+)$/\n+\tand $_ = \"\\n=head4 $1\\n\";\n+\n+    # Block command handlers:\n+    /^\\@itemize(?:\\s+(\\@[a-z]+|\\*|-))?/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @icstack, $ic;\n+\tif (defined $1) {\n+\t    $ic = $1;\n+\t} else {\n+\t    $ic = '@bullet';\n+\t}\n+\t$_ = \"\\n=over 4\\n\";\n+\t$endw = \"itemize\";\n+    };\n+\n+    /^\\@enumerate(?:\\s+([a-zA-Z0-9]+))?/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @icstack, $ic;\n+\tif (defined $1) {\n+\t    $ic = $1 . \".\";\n+\t} else {\n+\t    $ic = \"1.\";\n+\t}\n+\t$_ = \"\\n=over 4\\n\";\n+\t$endw = \"enumerate\";\n+    };\n+\n+    /^\\@multitable\\s.*/ and do {\n+\tpush @endwstack, $endw;\n+\t$endw = \"multitable\";\n+\t$_ = \"\\n=over 4\\n\";\n+    };\n+\n+    /^\\@([fv]?table)\\s+(\\@[a-z]+)/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @icstack, $ic;\n+\t$endw = $1;\n+\t$ic = $2;\n+\t$ic =~ s/\\@(?:samp|strong|key|gcctabopt|env)/B/;\n+\t$ic =~ s/\\@(?:code|kbd)/C/;\n+\t$ic =~ s/\\@(?:dfn|var|emph|cite|i)/I/;\n+\t$ic =~ s/\\@(?:file)/F/;\n+\t$_ = \"\\n=over 4\\n\";\n+    };\n+\n+    /^\\@((?:small)?example|display)/ and do {\n+\tpush @endwstack, $endw;\n+\t$endw = $1;\n+\t$shift = \"\\t\";\n+\t$_ = \"\";\t# need a paragraph break\n+    };\n+\n+    /^\\@item\\s+(.*\\S)\\s*$/ and $endw eq \"multitable\" and do {\n+\t@columns = ();\n+\tfor $column (split (/\\s*\\@tab\\s*/, $1)) {\n+\t    # @strong{...} is used a @headitem work-alike\n+\t    $column =~ s/^\\@strong{(.*)}$/$1/;\n+\t    push @columns, $column;\n+\t}\n+\t$_ = \"\\n=item \".join (\" : \", @columns).\"\\n\";\n+    };\n+\n+    /^\\@itemx?\\s*(.+)?$/ and do {\n+\tif (defined $1) {\n+\t    # Entity escapes prevent munging by the <> processing below.\n+\t    $_ = \"\\n=item $ic\\&LT;$1\\&GT;\\n\";\n+\t} else {\n+\t    $_ = \"\\n=item $ic\\n\";\n+\t    $ic =~ y/A-Ya-y/B-Zb-z/;\n+\t    $ic =~ s/(\\d+)/$1 + 1/eg;\n+\t}\n+    };\n+\n+    $section .= $shift.$_.\"\\n\";\n+}\n+# End of current file.\n+close($inf);\n+$inf = pop @instack;\n+}\n+\n+die \"No filename or title\\n\" unless defined $fn && defined $tl;\n+\n+$sects{NAME} = \"$fn \\- $tl\\n\";\n+$sects{FOOTNOTES} .= \"=back\\n\" if exists $sects{FOOTNOTES};\n+\n+for $sect (qw(NAME SYNOPSIS DESCRIPTION OPTIONS ENVIRONMENT FILES\n+\t      BUGS NOTES FOOTNOTES SEEALSO AUTHOR COPYRIGHT)) {\n+    if(exists $sects{$sect}) {\n+\t$head = $sect;\n+\t$head =~ s/SEEALSO/SEE ALSO/;\n+\tprint \"=head1 $head\\n\\n\";\n+\tprint scalar unmunge ($sects{$sect});\n+\tprint \"\\n\";\n+    }\n+}\n+\n+sub usage\n+{\n+    die \"usage: $0 [-D toggle...] [infile [outfile]]\\n\";\n+}\n+\n+sub postprocess\n+{\n+    local $_ = $_[0];\n+\n+    # @value{foo} is replaced by whatever 'foo' is defined as.\n+    while (m/(\\@value\\{([a-zA-Z0-9_-]+)\\})/g) {\n+\tif (! exists $defs{$2}) {\n+\t    print STDERR \"Option $2 not defined\\n\";\n+\t    s/\\Q$1\\E//;\n+\t} else {\n+\t    $value = $defs{$2};\n+\t    s/\\Q$1\\E/$value/;\n+\t}\n+    }\n+\n+    # Formatting commands.\n+    # Temporary escape for @r.\n+    s/\\@r\\{([^\\}]*)\\}/R<$1>/g;\n+    s/\\@(?:dfn|var|emph|cite|i)\\{([^\\}]*)\\}/I<$1>/g;\n+    s/\\@(?:code|kbd)\\{([^\\}]*)\\}/C<$1>/g;\n+    s/\\@(?:gccoptlist|samp|strong|key|option|env|command|b)\\{([^\\}]*)\\}/B<$1>/g;\n+    s/\\@sc\\{([^\\}]*)\\}/\\U$1/g;\n+    s/\\@file\\{([^\\}]*)\\}/F<$1>/g;\n+    s/\\@w\\{([^\\}]*)\\}/S<$1>/g;\n+    s/\\@(?:dmn|math)\\{([^\\}]*)\\}/$1/g;\n+\n+    # keep references of the form @ref{...}, print them bold\n+    s/\\@(?:ref)\\{([^\\}]*)\\}/B<$1>/g;\n+\n+    # Change double single quotes to double quotes.\n+    s/''/\"/g;\n+    s/``/\"/g;\n+\n+    # Cross references are thrown away, as are @noindent and @refill.\n+    # (@noindent is impossible in .pod, and @refill is unnecessary.)\n+    # @* is also impossible in .pod; we discard it and any newline that\n+    # follows it.  Similarly, our macro @gol must be discarded.\n+\n+    s/\\(?\\@xref\\{(?:[^\\}]*)\\}(?:[^.<]|(?:<[^<>]*>))*\\.\\)?//g;\n+    s/\\s+\\(\\@pxref\\{(?:[^\\}]*)\\}\\)//g;\n+    s/;\\s+\\@pxref\\{(?:[^\\}]*)\\}//g;\n+    s/\\@noindent\\s*//g;\n+    s/\\@refill//g;\n+    s/\\@gol//g;\n+    s/\\@\\*\\s*\\n?//g;\n+\n+    # Anchors are thrown away\n+    s/\\@anchor\\{(?:[^\\}]*)\\}//g;\n+\n+    # @uref can take one, two, or three arguments, with different\n+    # semantics each time.  @url and @email are just like @uref with\n+    # one argument, for our purposes.\n+    s/\\@(?:uref|url|email)\\{([^\\},]*)\\}/&lt;B<$1>&gt;/g;\n+    s/\\@uref\\{([^\\},]*),([^\\},]*)\\}/$2 (C<$1>)/g;\n+    s/\\@uref\\{([^\\},]*),([^\\},]*),([^\\},]*)\\}/$3/g;\n+\n+    # Un-escape <> at this point.\n+    s/&LT;/</g;\n+    s/&GT;/>/g;\n+\n+    # Now un-nest all B<>, I<>, R<>.  Theoretically we could have\n+    # indefinitely deep nesting; in practice, one level suffices.\n+    1 while s/([BIR])<([^<>]*)([BIR])<([^<>]*)>/$1<$2>$3<$4>$1</g;\n+\n+    # Replace R<...> with bare ...; eliminate empty markup, B<>;\n+    # shift white space at the ends of [BI]<...> expressions outside\n+    # the expression.\n+    s/R<([^<>]*)>/$1/g;\n+    s/[BI]<>//g;\n+    s/([BI])<(\\s+)([^>]+)>/$2$1<$3>/g;\n+    s/([BI])<([^>]+?)(\\s+)>/$1<$2>$3/g;\n+\n+    # Extract footnotes.  This has to be done after all other\n+    # processing because otherwise the regexp will choke on formatting\n+    # inside @footnote.\n+    while (/\\@footnote/g) {\n+\ts/\\@footnote\\{([^\\}]+)\\}/[$fnno]/;\n+\tadd_footnote($1, $fnno);\n+\t$fnno++;\n+    }\n+\n+    return $_;\n+}\n+\n+sub unmunge\n+{\n+    # Replace escaped symbols with their equivalents.\n+    local $_ = $_[0];\n+\n+    s/&lt;/E<lt>/g;\n+    s/&gt;/E<gt>/g;\n+    s/&lbrace;/\\{/g;\n+    s/&rbrace;/\\}/g;\n+    s/&at;/\\@/g;\n+    s/&amp;/&/g;\n+    return $_;\n+}\n+\n+sub add_footnote\n+{\n+    unless (exists $sects{FOOTNOTES}) {\n+\t$sects{FOOTNOTES} = \"\\n=over 4\\n\\n\";\n+    }\n+\n+    $sects{FOOTNOTES} .= \"=item $fnno.\\n\\n\"; $fnno++;\n+    $sects{FOOTNOTES} .= $_[0];\n+    $sects{FOOTNOTES} .= \"\\n\\n\";\n+}\n+\n+# stolen from Symbol.pm\n+{\n+    my $genseq = 0;\n+    sub gensym\n+    {\n+\tmy $name = \"GEN\" . $genseq++;\n+\tmy $ref = \\*{$name};\n+\tdelete $::{$name};\n+\treturn $ref;\n+    }\n+}"}, {"sha": "80836223506b42c126a09d5425bc55c738c5f149", "filename": "libjava/classpath/doc/texinfo.tex", "status": "modified", "additions": 4106, "deletions": 2965, "changes": 7071, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Ftexinfo.tex", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fdoc%2Ftexinfo.tex", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fdoc%2Ftexinfo.tex?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "8d619e14dc98b635ee17b217ea952601f6807d70", "filename": "libjava/classpath/examples/Makefile.am", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2FMakefile.am?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -8,17 +8,17 @@ GLIBJ_CLASSPATH='$(top_builddir)/lib':'$(top_builddir)/lib/glibj.zip':'$(top_bui\n #if FOUND_JIKES\n #JCOMPILER = $(JIKES) -bootclasspath '' -extdirs '' -sourcepath '' --classpath $(top_builddir)/lib:.\n #else\n-if FOUND_GCJX\n-JCOMPILER = $(GCJX) -encoding UTF-8 -bootclasspath '' -sourcepath '' -classpath $(GLIBJ_CLASSPATH):.\n-else\n if FOUND_ECJ\n-JCOMPILER = $(ECJ) -1.5 -encoding UTF-8 -bootclasspath $(GLIBJ_CLASSPATH) -classpath .\n+JCOMPILER = $(ECJ) -1.5 -encoding UTF-8 -warn:-deprecation,serial,typeHiding,unchecked,unused,varargsCast -bootclasspath $(GLIBJ_CLASSPATH) -classpath .\n+else\n+if FOUND_JAVAC\n+JCOMPILER = $(JAVAC) -encoding UTF-8 -bootclasspath $(GLIBJ_CLASSPATH) -classpath .\n else\n error dunno how to setup the JCOMPILER and compile\n-endif\n #endif\n #endif\n endif\n+endif\n \n # All our example java source files\n EXAMPLE_JAVA_FILES = $(srcdir)/gnu/classpath/examples/*/*.java $(srcdir)/gnu/classpath/examples/*/*/*.java $(srcdir)/gnu/classpath/examples/*/*/*/*.java\n@@ -35,6 +35,7 @@ BUILT_SOURCES = $(EXAMPLE_ZIP)\n \n # the png icons we use in some of the examples.\n EXAMPLE_ICONS = $(srcdir)/gnu/classpath/examples/icons/*.png\n+EXAMPLE_ICONS += $(srcdir)/gnu/classpath/examples/icons/*.gif\n \n # the html pages we use in the swing demo example.\n EXAMPLE_HTML = $(srcdir)/gnu/classpath/examples/swing/*.html"}, {"sha": "731671c8a5f44519682615221e843d93cd904bf8", "filename": "libjava/classpath/examples/Makefile.in", "status": "modified", "additions": 28, "deletions": 10, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -45,16 +45,21 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES = Makefile.jawt Makefile.java2d\n SOURCES =\n@@ -73,12 +78,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -124,6 +132,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -136,23 +145,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -162,6 +171,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -173,6 +183,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -182,6 +193,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -201,6 +213,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -222,6 +235,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -249,8 +263,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -283,6 +299,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@\n@@ -301,7 +318,7 @@ target_vendor = @target_vendor@\n toolexeclibdir = @toolexeclibdir@\n vm_classes = @vm_classes@\n GLIBJ_CLASSPATH = '$(top_builddir)/lib':'$(top_builddir)/lib/glibj.zip':'$(top_builddir)/tools/tools.zip'\n-@FOUND_ECJ_TRUE@@FOUND_GCJX_FALSE@JCOMPILER = $(ECJ) -1.5 -encoding UTF-8 -bootclasspath $(GLIBJ_CLASSPATH) -classpath .\n+@FOUND_ECJ_FALSE@@FOUND_JAVAC_TRUE@JCOMPILER = $(JAVAC) -encoding UTF-8 -bootclasspath $(GLIBJ_CLASSPATH) -classpath .\n \n # Setup the compiler to use the GNU Classpath library we just build\n #if FOUND_GCJ\n@@ -310,7 +327,7 @@ GLIBJ_CLASSPATH = '$(top_builddir)/lib':'$(top_builddir)/lib/glibj.zip':'$(top_b\n #if FOUND_JIKES\n #JCOMPILER = $(JIKES) -bootclasspath '' -extdirs '' -sourcepath '' --classpath $(top_builddir)/lib:.\n #else\n-@FOUND_GCJX_TRUE@JCOMPILER = $(GCJX) -encoding UTF-8 -bootclasspath '' -sourcepath '' -classpath $(GLIBJ_CLASSPATH):.\n+@FOUND_ECJ_TRUE@JCOMPILER = $(ECJ) -1.5 -encoding UTF-8 -warn:-deprecation,serial,typeHiding,unchecked,unused,varargsCast -bootclasspath $(GLIBJ_CLASSPATH) -classpath .\n #endif\n #endif\n \n@@ -328,7 +345,8 @@ EXAMPLE_ZIP = examples.zip\n BUILT_SOURCES = $(EXAMPLE_ZIP)\n \n # the png icons we use in some of the examples.\n-EXAMPLE_ICONS = $(srcdir)/gnu/classpath/examples/icons/*.png\n+EXAMPLE_ICONS = $(srcdir)/gnu/classpath/examples/icons/*.png \\\n+\t$(srcdir)/gnu/classpath/examples/icons/*.gif\n \n # the html pages we use in the swing demo example.\n EXAMPLE_HTML = $(srcdir)/gnu/classpath/examples/swing/*.html\n@@ -540,7 +558,7 @@ uninstall-am: uninstall-exampleDATA uninstall-info-am uninstall-local\n \tuninstall uninstall-am uninstall-exampleDATA uninstall-info-am \\\n \tuninstall-local\n \n-@FOUND_ECJ_FALSE@@FOUND_GCJX_FALSE@error dunno how to setup the JCOMPILER and compile\n+@FOUND_ECJ_FALSE@@FOUND_JAVAC_FALSE@error dunno how to setup the JCOMPILER and compile\n \n # Make sure all sources and icons are also installed so users can use them.\n # (Be careful to strip off the srcdir part of the path when installing.)"}, {"sha": "5bb4ec48ac126ebcc6851c14130331cd8f884b69", "filename": "libjava/classpath/examples/gnu/classpath/examples/awt/AicasGraphicsBenchmark.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fawt%2FAicasGraphicsBenchmark.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fawt%2FAicasGraphicsBenchmark.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fawt%2FAicasGraphicsBenchmark.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -100,8 +100,8 @@ public class AicasGraphicsBenchmark extends Panel\n \n   public AicasGraphicsBenchmark()\n   {\n-    pngTestImage = loadImage(\"aicas.png\");\n-    gifTestImage = loadImage(\"palme.gif\");\n+    pngTestImage = loadImage(\"../icons/aicas.png\");\n+    gifTestImage = loadImage(\"../icons/palme.gif\");\n \n     setLayout(new BorderLayout());\n     testLabel = new Label();"}, {"sha": "75b6f67c92fba49fd98ed0ad98dba14e65760705", "filename": "libjava/classpath/examples/gnu/classpath/examples/awt/HintingDemo.java", "status": "added", "additions": 377, "deletions": 0, "changes": 377, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fawt%2FHintingDemo.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fawt%2FHintingDemo.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fawt%2FHintingDemo.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,377 @@\n+/* Demo.java -- Shows examples of AWT components\n+   Copyright (C) 1998, 1999, 2002, 2004, 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath examples.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA. */\n+\n+package gnu.classpath.examples.awt;\n+\n+import gnu.java.awt.font.*;\n+import gnu.java.awt.font.opentype.*;\n+\n+import java.awt.*;\n+import java.awt.event.ActionEvent;\n+import java.awt.event.ActionListener;\n+import java.awt.font.*;\n+import java.io.*;\n+import java.nio.*;\n+import java.nio.channels.*;\n+import java.text.*;\n+\n+import javax.swing.BoxLayout;\n+import javax.swing.JCheckBox;\n+import javax.swing.JFileChooser;\n+import javax.swing.JFrame;\n+import javax.swing.JMenu;\n+import javax.swing.JMenuBar;\n+import javax.swing.JMenuItem;\n+import javax.swing.JPanel;\n+import javax.swing.JSpinner;\n+import javax.swing.JTextField;\n+import javax.swing.border.TitledBorder;\n+import javax.swing.event.ChangeEvent;\n+import javax.swing.event.ChangeListener;\n+\n+public class HintingDemo extends JFrame {\n+\n+  FontDelegate font;\n+  GNUGlyphVector glyph;\n+  GlyphPreview glyphPreview;\n+  HintPanel hintPanel;\n+  StringViewer stringViewer;\n+  Chooser chooser;\n+  char character;\n+  Options options;\n+  boolean antiAlias;\n+  int flags;\n+\n+  class StringViewer extends JPanel\n+  implements ActionListener\n+  {\n+    JTextField input;\n+    GNUGlyphVector gv;\n+    Viewer viewer;\n+    StringViewer()\n+    {\n+      setLayout(new GridLayout(0, 1));\n+      setBorder(new TitledBorder(\"Use this field to render complete strings\"));\n+      input = new JTextField();\n+      input.addActionListener(this);\n+      add(input);\n+      viewer = new Viewer();\n+      add(viewer);\n+    }\n+\n+    public void actionPerformed(ActionEvent event)\n+    {\n+      refresh();\n+    }\n+\n+    void refresh()\n+    {\n+      gv = (GNUGlyphVector)\n+      font.createGlyphVector(new Font(\"Dialog\", 0, 12),\n+      new FontRenderContext(null, false, false),\n+      new StringCharacterIterator(input.getText()));\n+      viewer.repaint();\n+    }\n+\n+    class Viewer extends JPanel\n+    {\n+      protected void paintComponent(Graphics g)\n+      {\n+        if (gv != null && g instanceof Graphics2D)\n+          {\n+            Graphics2D g2d = (Graphics2D) g;\n+            if (antiAlias)\n+              {\n+                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n+                                     RenderingHints.VALUE_ANTIALIAS_ON);\n+              }\n+            else\n+              {\n+                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n+                                     RenderingHints.VALUE_ANTIALIAS_OFF);\n+              }\n+            g2d.clearRect(0, 0, getWidth(), getHeight());\n+            g2d.setColor(Color.BLACK);\n+            Shape outline = gv.getOutline(0, 0,\n+                                          flags | FontDelegate.FLAG_FITTED);\n+            g2d.translate(20, Math.floor(outline.getBounds2D().getHeight()) + 2);\n+            g2d.fill(outline);\n+          }\n+      }\n+    }\n+  }\n+\n+  class HintPanel extends JPanel\n+  {\n+\n+    HintPanel()\n+    {\n+      setBorder(new TitledBorder(\"Detailed glyph view\"));\n+    }\n+    protected void paintComponent(Graphics g)\n+    {\n+      if (glyph != null && g instanceof Graphics2D)\n+        {\n+          Graphics2D g2d = (Graphics2D) g.create();\n+          Insets i = getInsets();\n+          g2d.clearRect(i.left, i.top, getWidth() - i.left - i.right,\n+                        getHeight() - i.top - i.bottom);\n+          g2d.setColor(Color.GRAY);\n+          for (int x = 20; x < getWidth(); x += 20)\n+            {\n+              g2d.drawLine(x, i.top, x, getHeight() - i.top - i.bottom);\n+            }\n+          for (int y = 20; y < getHeight(); y += 20)\n+            {\n+              g2d.drawLine(i.left, y, getWidth() - i.left - i.right, y);\n+            }\n+          g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n+                               RenderingHints.VALUE_ANTIALIAS_OFF);\n+          g2d.translate(40, 300);\n+          g2d.scale(20., 20.);\n+          g2d.setStroke(new BasicStroke((float) (1/20.)));\n+          g2d.setColor(Color.RED);\n+          g2d.draw(glyph.getOutline(0, 0, flags & ~FontDelegate.FLAG_FITTED));\n+          g2d.setColor(Color.GREEN);\n+          g2d.draw(glyph.getOutline(0, 0, flags | FontDelegate.FLAG_FITTED));\n+      }\n+    }\n+\n+  }\n+\n+  class GlyphPreview extends JPanel\n+  {\n+    protected void paintComponent(Graphics g)\n+    {\n+      if (glyph != null && g instanceof Graphics2D)\n+        {\n+          Graphics2D g2d = (Graphics2D) g;\n+          if (antiAlias)\n+            {\n+              g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n+                                   RenderingHints.VALUE_ANTIALIAS_ON);\n+            }\n+          else\n+            {\n+              g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n+                                   RenderingHints.VALUE_ANTIALIAS_OFF);\n+            }\n+          g2d.clearRect(0, 0, getWidth(), getHeight());\n+          g2d.setColor(Color.BLACK);\n+          Shape outline = glyph.getOutline(0, 0,\n+                                           flags | FontDelegate.FLAG_FITTED);\n+          g2d.translate(20, outline.getBounds2D().getHeight() + 2);\n+          g2d.fill(outline);\n+        }\n+    }\n+\n+  }\n+\n+  HintingDemo()\n+  {\n+    File file = new File(\"/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType/DejaVuSerif.ttf\");\n+    loadFont(file);\n+    setLayout(new BorderLayout());\n+    chooser = new Chooser();\n+    add(chooser, BorderLayout.NORTH);\n+    hintPanel = new HintPanel();\n+    character = 'A';\n+    add(hintPanel);\n+\n+    options = new Options();\n+    add(options, BorderLayout.EAST);\n+\n+    stringViewer = new StringViewer();\n+    add(stringViewer, BorderLayout.SOUTH);\n+    refresh();\n+\n+    JMenuBar mb = new JMenuBar();\n+    setJMenuBar(mb);\n+    JMenu fileMenu = new JMenu(\"File\");\n+    mb.add(fileMenu);\n+    JMenuItem loadFont = new JMenuItem(\"Load font\");\n+    loadFont.addActionListener(new ActionListener(){\n+      public void actionPerformed(ActionEvent ev)\n+      {\n+        JFileChooser fc = new JFileChooser()\n+        {\n+          public boolean accept(File f)\n+          {\n+            return f.isDirectory() || f.getName().endsWith(\".ttf\");\n+          }\n+        };\n+        int status = fc.showOpenDialog(HintingDemo.this);\n+        if (status == JFileChooser.APPROVE_OPTION)\n+          {\n+            File file = fc.getSelectedFile();\n+            loadFont(file);\n+          }\n+      }\n+    });\n+    fileMenu.add(loadFont);\n+  }\n+\n+  void refresh()\n+  {\n+    if (chooser != null)\n+      chooser.refresh();\n+    if (glyphPreview != null)\n+      glyphPreview.repaint();\n+    if (hintPanel != null)\n+      hintPanel.repaint();\n+    if (stringViewer != null)\n+      stringViewer.refresh();\n+  }\n+\n+  class Options extends JPanel\n+    implements ActionListener\n+  {\n+    JCheckBox antiAliasOpt;\n+    JCheckBox hintHorizontalOpt;\n+    JCheckBox hintVerticalOpt;\n+    JCheckBox hintEdgeOpt;\n+    JCheckBox hintStrongOpt;\n+    JCheckBox hintWeakOpt;\n+    Options()\n+    {\n+      setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));\n+      setBorder(new TitledBorder(\"Hinting options\"));\n+      antiAliasOpt = new JCheckBox(\"Antialias\");\n+      antiAliasOpt.setSelected(true);\n+      antiAliasOpt.addActionListener(this);\n+      add(antiAliasOpt);\n+      hintHorizontalOpt = new JCheckBox(\"Hint horizontal\");\n+      hintHorizontalOpt.setSelected(true);\n+      hintHorizontalOpt.addActionListener(this);\n+      add(hintHorizontalOpt);\n+      hintVerticalOpt = new JCheckBox(\"Hint vertical\");\n+      hintVerticalOpt.setSelected(true);\n+      hintVerticalOpt.addActionListener(this);\n+      add(hintVerticalOpt);\n+      hintEdgeOpt = new JCheckBox(\"Hint edge points\");\n+      hintEdgeOpt.setSelected(true);\n+      hintEdgeOpt.addActionListener(this);\n+      add(hintEdgeOpt);\n+      hintStrongOpt = new JCheckBox(\"Hint strong points\");\n+      hintStrongOpt.setSelected(true);\n+      hintStrongOpt.addActionListener(this);\n+      add(hintStrongOpt);\n+      hintWeakOpt = new JCheckBox(\"Hint weak points\");\n+      hintWeakOpt.setSelected(true);\n+      hintWeakOpt.addActionListener(this);\n+      add(hintWeakOpt);\n+      sync();\n+    }\n+\n+    void sync()\n+    {\n+      antiAlias = antiAliasOpt.isSelected();\n+      if (hintHorizontalOpt.isSelected())\n+        flags &= ~FontDelegate.FLAG_NO_HINT_HORIZONTAL;\n+      else\n+        flags |= FontDelegate.FLAG_NO_HINT_HORIZONTAL;\n+      if (hintVerticalOpt.isSelected())\n+        flags &= ~FontDelegate.FLAG_NO_HINT_VERTICAL;\n+      else\n+        flags |= FontDelegate.FLAG_NO_HINT_VERTICAL;\n+      if (hintEdgeOpt.isSelected())\n+        flags &= ~FontDelegate.FLAG_NO_HINT_EDGE_POINTS;\n+      else\n+        flags |= FontDelegate.FLAG_NO_HINT_EDGE_POINTS;\n+      if (hintStrongOpt.isSelected())\n+        flags &= ~FontDelegate.FLAG_NO_HINT_STRONG_POINTS;\n+      else\n+        flags |= FontDelegate.FLAG_NO_HINT_STRONG_POINTS;\n+      if (hintWeakOpt.isSelected())\n+        flags &= ~FontDelegate.FLAG_NO_HINT_WEAK_POINTS;\n+      else\n+        flags |= FontDelegate.FLAG_NO_HINT_WEAK_POINTS;\n+        \n+      refresh();\n+    }\n+\n+    public void actionPerformed(ActionEvent event)\n+    {\n+      sync();\n+    }\n+  }\n+\n+  class Chooser extends JPanel\n+  {\n+    JSpinner spin;\n+    Chooser()\n+    {\n+      setLayout(new GridLayout(1, 0));\n+      setBorder(new TitledBorder(\"Choose and preview the character to render\"));\n+      spin = new JSpinner();\n+      spin.addChangeListener(new ChangeListener()\n+      {\n+\n+        public void stateChanged(ChangeEvent event)\n+        {\n+          int val = ((Integer) spin.getValue()).intValue();\n+          setGlyph((char) val);\n+        }\n+      });\n+      add(spin);\n+      glyphPreview = new GlyphPreview();\n+      add(glyphPreview);\n+    }\n+    void refresh()\n+    {\n+      spin.setValue(new Integer(character));\n+      repaint();\n+    }\n+  }\n+\n+  private void loadFont(File file)\n+  {\n+    try\n+      {\n+        RandomAccessFile raf = new RandomAccessFile(file, \"r\");\n+        FileChannel chan = raf.getChannel();\n+        ByteBuffer buf = chan.map(FileChannel.MapMode.READ_ONLY, 0, raf.length());\n+        FontDelegate[] fonts = OpenTypeFontFactory.createFonts(buf);\n+        font = fonts[0];\n+        setGlyph(character);\n+        refresh();\n+      }\n+    catch (Exception ex)\n+      {\n+        ex.printStackTrace();\n+      }\n+  }\n+\n+  void setGlyph(char ch)\n+  {\n+    character = ch;\n+    glyph = (GNUGlyphVector)\n+            font.createGlyphVector(new Font(\"Dialog\", 0, 12),\n+            new FontRenderContext(null, false, false),\n+            new StringCharacterIterator(new String(new char[]{ch})));\n+    refresh();\n+  }\n+\n+  public static void main(String[] args) {\n+    HintingDemo f = new HintingDemo();\n+    f.setSize(500, 500);\n+    f.setVisible(true);\n+  }\n+}"}, {"sha": "dcf39654b9fee3b0669cdaff063c113d7127b288", "filename": "libjava/classpath/examples/gnu/classpath/examples/icons/aicas.png", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Ficons%2Faicas.png", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Ficons%2Faicas.png", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Ficons%2Faicas.png?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "previous_filename": "libjava/classpath/examples/gnu/classpath/examples/awt/aicas.png"}, {"sha": "69479465594683e530af4a1be115a1ae4d5cce14", "filename": "libjava/classpath/examples/gnu/classpath/examples/icons/palme.gif", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Ficons%2Fpalme.gif", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Ficons%2Fpalme.gif", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Ficons%2Fpalme.gif?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "previous_filename": "libjava/classpath/examples/gnu/classpath/examples/awt/palme.gif"}, {"sha": "6d359180891ade291cc94104f0934ad3764d4e06", "filename": "libjava/classpath/examples/gnu/classpath/examples/java2d/J2dBenchmark.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2FJ2dBenchmark.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2FJ2dBenchmark.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2FJ2dBenchmark.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -174,8 +174,8 @@\n   public String init()\n   {\n     boolean loadError = false;\n-    pngTestImage = loadImage(\"aicas.png\");\n-    gifTestImage = loadImage(\"palme.gif\");\n+    pngTestImage = loadImage(\"../icons/aicas.png\");\n+    gifTestImage = loadImage(\"../icons/palme.gif\");\n \n     if (texture != null)\n       {"}, {"sha": "dcf39654b9fee3b0669cdaff063c113d7127b288", "filename": "libjava/classpath/examples/gnu/classpath/examples/java2d/aicas.png", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2Faicas.png", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2Faicas.png", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2Faicas.png?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "69479465594683e530af4a1be115a1ae4d5cce14", "filename": "libjava/classpath/examples/gnu/classpath/examples/java2d/palme.gif", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2Fpalme.gif", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2Fpalme.gif", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fjava2d%2Fpalme.gif?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "fe09346fd63ee557ddea4ecde8b9f5b73a394fda", "filename": "libjava/classpath/examples/gnu/classpath/examples/management/TestOS.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fmanagement%2FTestOS.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fmanagement%2FTestOS.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fmanagement%2FTestOS.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -33,5 +33,6 @@ public static void main(String[] args)\n     System.out.println(\"OS Version: \" + osBean.getVersion());\n     System.out.println(\"Architecture: \" + osBean.getArch());\n     System.out.println(\"Processors: \" + osBean.getAvailableProcessors());\n+    System.out.println(\"System Load Average: \" + osBean.getSystemLoadAverage());\n   }\n }"}, {"sha": "7d041a0b0e7fe675c0b3fdbf24b0061a99d1eb41", "filename": "libjava/classpath/examples/gnu/classpath/examples/swing/ClasspathSwingActivityBoard.launch", "status": "removed", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fswing%2FClasspathSwingActivityBoard.launch", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fswing%2FClasspathSwingActivityBoard.launch", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fswing%2FClasspathSwingActivityBoard.launch?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686", "patch": "@@ -1,19 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<launchConfiguration type=\"org.eclipse.cdt.launch.localCLaunch\">\n-<stringAttribute key=\"org.eclipse.cdt.launch.DEBUGGER_ID\" value=\"org.eclipse.cdt.debug.mi.core.CDebugger\"/>\n-<stringAttribute key=\"org.eclipse.cdt.launch.protocol\" value=\"mi\"/>\n-<booleanAttribute key=\"org.eclipse.cdt.debug.mi.core.STOP_ON_SOLIB_EVENTS\" value=\"false\"/>\n-<stringAttribute key=\"org.eclipse.cdt.launch.DEBUGGER_START_MODE\" value=\"run\"/>\n-<listAttribute key=\"org.eclipse.cdt.debug.mi.core.SOLIB_PATH\"/>\n-<booleanAttribute key=\"org.eclipse.debug.core.appendEnvironmentVariables\" value=\"true\"/>\n-<booleanAttribute key=\"org.eclipse.cdt.launch.ENABLE_REGISTER_BOOKKEEPING\" value=\"false\"/>\n-<booleanAttribute key=\"org.eclipse.cdt.debug.mi.core.AUTO_SOLIB\" value=\"true\"/>\n-<booleanAttribute key=\"org.eclipse.cdt.launch.DEBUGGER_STOP_AT_MAIN\" value=\"true\"/>\n-<booleanAttribute key=\"org.eclipse.cdt.launch.use_terminal\" value=\"true\"/>\n-<stringAttribute key=\"org.eclipse.cdt.launch.PROJECT_ATTR\" value=\"jamvm\"/>\n-<booleanAttribute key=\"org.eclipse.cdt.launch.ENABLE_VARIABLE_BOOKKEEPING\" value=\"false\"/>\n-<stringAttribute key=\"org.eclipse.cdt.debug.mi.core.DEBUG_NAME\" value=\"gdb\"/>\n-<stringAttribute key=\"org.eclipse.cdt.launch.PROGRAM_NAME\" value=\"src/jamvm\"/>\n-<stringAttribute key=\"org.eclipse.cdt.launch.PROGRAM_ARGUMENTS\" value=\"-Dswing.defaultlaf=javax.swing.plaf.metal.MetalLookAndFeel gnu.classpath.examples.swing.Demo\"/>\n-<stringAttribute key=\"org.eclipse.cdt.debug.mi.core.GDB_INIT\" value=\"\"/>\n-</launchConfiguration>"}, {"sha": "a7472dfb51461fb2226444c73fc32646d9946ede", "filename": "libjava/classpath/examples/gnu/classpath/examples/swing/NavigationFilterDemo.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fswing%2FNavigationFilterDemo.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fswing%2FNavigationFilterDemo.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexamples%2Fgnu%2Fclasspath%2Fexamples%2Fswing%2FNavigationFilterDemo.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -183,7 +183,7 @@ public int getNextVisualPositionFrom(JTextComponent text,\n             return pos;\n         case SwingConstants.WEST:\n           // Calculate the next word start.\n-          newpos = Utilities.getWordStart(text, newpos);;\n+          newpos = Utilities.getWordStart(text, newpos);\n           \n           // If that means that the caret will not move, return\n           // the start of the previous word."}, {"sha": "416d390c2637e91c295ff1b743be3ab240e34d44", "filename": "libjava/classpath/external/Makefile.in", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -43,16 +43,21 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n SOURCES =\n@@ -71,12 +76,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -122,6 +130,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -134,23 +143,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -160,6 +169,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -171,6 +181,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -180,6 +191,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -199,6 +211,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -220,6 +233,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -247,8 +261,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -281,6 +297,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@"}, {"sha": "93f58bf233777a6776e8680a7de9d7199fc2bf01", "filename": "libjava/classpath/external/jsr166/Makefile.in", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fjsr166%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fjsr166%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fjsr166%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -43,16 +43,21 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n SOURCES =\n@@ -62,12 +67,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -113,6 +121,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -125,23 +134,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -151,6 +160,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -162,6 +172,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -171,6 +182,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -190,6 +202,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -211,6 +224,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -238,8 +252,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -272,6 +288,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@"}, {"sha": "bbb00a0f0a013def429a41928edf13eb3c12ef40", "filename": "libjava/classpath/external/jsr166/java/util/concurrent/ConcurrentSkipListMap.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2FConcurrentSkipListMap.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2FConcurrentSkipListMap.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2FConcurrentSkipListMap.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -866,7 +866,7 @@ private V doPut(K kkey, V value, boolean onlyIfAbsent) {\n                 if (n != null) {\n                     Node<K,V> f = n.next;\n                     if (n != b.next)               // inconsistent read\n-                        break;;\n+                        break;\n                     Object v = n.value;\n                     if (v == null) {               // n is deleted\n                         n.helpDelete(b, f);"}, {"sha": "6bc191ddf01511d13a1f95007cc33cd141e93cfd", "filename": "libjava/classpath/external/jsr166/java/util/concurrent/atomic/package.html", "status": "removed", "additions": 0, "deletions": 158, "changes": 158, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Fatomic%2Fpackage.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Fatomic%2Fpackage.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Fatomic%2Fpackage.html?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686", "patch": "@@ -1,158 +0,0 @@\n-<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML//EN\">\n-<html> <head>\n-<title>Atomics</title>\n-</head>\n-\n-<body>\n-\n-A small toolkit of classes that support lock-free thread-safe\n-programming on single variables. In essence, the classes in this\n-package extend the notion of <tt>volatile</tt> values, fields, and\n-array elements to those that also provide an atomic conditional update\n-operation of the form:\n-\n-<pre>\n-  boolean compareAndSet(expectedValue, updateValue);\n-</pre>\n-\n-<p> This method (which varies in argument types across different\n-classes) atomically sets a variable to the <tt>updateValue</tt> if it\n-currently holds the <tt>expectedValue</tt>, reporting <tt>true</tt> on\n-success.  The classes in this package also contain methods to get and\n-unconditionally set values, as well as a weaker conditional atomic\n-update operation <tt>weakCompareAndSet</tt> desribed below.\n-\n-<p> The specifications of these methods enable implementations to\n-employ efficient machine-level atomic instructions that are available\n-on contemporary processors. However on some platforms, support may\n-entail some form of internal locking. Thus the methods are not\n-strictly guaranteed to be non-blocking --\n-a thread may block transiently before performing the operation.\n-\n-<p> Instances of classes {@link\n-java.util.concurrent.atomic.AtomicBoolean}, {@link\n-java.util.concurrent.atomic.AtomicInteger}, {@link\n-java.util.concurrent.atomic.AtomicLong}, and {@link\n-java.util.concurrent.atomic.AtomicReference} each provide access and\n-updates to a single variable of the corresponding type.  Each class\n-also provides appropriate utility methods for that type.  For example,\n-classes <tt>AtomicLong</tt> and <tt>AtomicInteger</tt> provide atomic\n-increment methods.  One application is to generate sequence numbers,\n-as in:\n-\n-<pre>\n-class Sequencer {\n-  private AtomicLong sequenceNumber = new AtomicLong(0);\n-  public long next() { return sequenceNumber.getAndIncrement(); }\n-}\n-</pre>\n-\n-<p>The memory effects for accesses and updates of atomics generally\n-follow the rules for volatiles, as stated in <a\n-href=\"http://java.sun.com/docs/books/jls/\"> The Java Language\n-Specification, Third Edition (17.4 Memory Model)</a>:\n-\n-<ul>\n-\n-  <li> <tt>get</tt> has the memory effects of reading a\n-<tt>volatile</tt> variable.\n-\n-  <li> <tt>set</tt> has the memory effects of writing (assigning) a\n-<tt>volatile</tt> variable.\n-\n-  <li> <tt>lazySet</tt> has the memory effects of writing (assigning)\n-  a <tt>volatile</tt> variable except that it permits reorderings with\n-  subsequent (but not previous) memory actions that do not themselves\n-  impose reordering constraints with ordinary non-<tt>volatile</tt>\n-  writes.  Among other usage contexts, <tt>lazySet</tt> may apply when\n-  nulling out, for the sake of garbage collection, a reference that is\n-  never accessed again.\n-\n-  <li><tt>weakCompareAndSet</tt> atomically reads and conditionally\n-  writes a variable but does <em>not</em>\n-  create any happens-before orderings, so provides no guarantees\n-  with respect to previous or subsequent reads and writes of any\n-  variables other than the target of the <tt>weakCompareAndSet</tt>.\n-\n-  <li> <tt>compareAndSet</tt>\n-  and all other read-and-update operations such as <tt>getAndIncrement</tt>\n-  have the memory effects of both reading and\n-  writing <tt>volatile</tt> variables.\n-</ul>\n-\n-<p>In addition to classes representing single values, this package\n-contains <em>Updater</em> classes that can be used to obtain\n-<tt>compareAndSet</tt> operations on any selected <tt>volatile</tt>\n-field of any selected class.  {@link\n-java.util.concurrent.atomic.AtomicReferenceFieldUpdater}, {@link\n-java.util.concurrent.atomic.AtomicIntegerFieldUpdater}, and {@link\n-java.util.concurrent.atomic.AtomicLongFieldUpdater} are\n-reflection-based utilities that provide access to the associated field\n-types. These are mainly of use in atomic data structures in which\n-several <tt>volatile</tt> fields of the same node (for example, the\n-links of a tree node) are independently subject to atomic\n-updates. These classes enable greater flexibility in how and when to\n-use atomic updates, at the expense of more awkward reflection-based\n-setup, less convenient usage, and weaker guarantees.\n-\n-<p>The {@link java.util.concurrent.atomic.AtomicIntegerArray}, {@link\n-java.util.concurrent.atomic.AtomicLongArray}, and {@link\n-java.util.concurrent.atomic.AtomicReferenceArray} classes further\n-extend atomic operation support to arrays of these types. These\n-classes are also notable in providing <tt>volatile</tt> access\n-semantics for their array elements, which is not supported for\n-ordinary arrays.\n-\n-<p>The atomic classes also support method <tt>weakCompareAndSet</tt>,\n-which has limited applicability. On some platforms, the weak version\n-may be more efficient than <tt>compareAndSet</tt> in the normal case,\n-but differs in that any given invocation of <tt>weakCompareAndSet</tt>\n-method may return <tt>false</tt> spuriously (that is, for no apparent\n-reason). A <tt>false</tt> return means only that the operation may be\n-retried if desired, relying on the guarantee that repeated invocation\n-when the variable holds <tt>expectedValue</tt> and no other thread is\n-also attempting to set the variable will eventually succeed.  (Such\n-spurious failures may for example be due to memory contention effects\n-that are unrelated to whether the expected and current values are\n-equal.)  Additionally <tt>weakCompareAndSet</tt> does not provide\n-ordering guarantees that are usually needed for synchronization\n-control.  However, the method may be useful for updating counters and\n-statistics when such updates are unrelated to the other happens-before\n-orderings of a program. When a thread sees an update to an atomic\n-variable caused by a <tt>weakCompareAndSet</tt>, it does not\n-necessarily see updates to any <em>other</em> variables that occurred\n-before the <tt>weakCompareAndSet</tt>.  This may be acceptable when\n-for example updating performance statistics, but rarely otherwise.\n-\n-<p> The {@link java.util.concurrent.atomic.AtomicMarkableReference}\n-class associates a single boolean with a reference. For example, this\n-bit might be used inside a data structure to mean that the object\n-being referenced has logically been deleted. The {@link\n-java.util.concurrent.atomic.AtomicStampedReference} class associates\n-an integer value with a reference. This may be used for example, to\n-represent version numbers corresponding to series of updates.\n-\n-<p> Atomic classes are designed primarily as building blocks for\n-implementing non-blocking data structures and related infrastructure\n-classes.  The <tt>compareAndSet</tt> method is not a general\n-replacement for locking. It applies only when critical updates for an\n-object are confined to a <em>single</em> variable.\n-\n-<p> Atomic classes are not general purpose replacements for\n-<tt>java.lang.Integer</tt> and related classes. They do <em>not</em>\n-define methods such as <tt>hashCode</tt> and\n-<tt>compareTo</tt>. (Because atomic variables are expected to be\n-mutated, they are poor choices for hash table keys.)  Additionally,\n-classes are provided only for those types that are commonly useful in\n-intended applications. For example, there is no atomic class for\n-representing <tt>byte</tt>. In those infrequent cases where you would\n-like to do so, you can use an <tt>AtomicInteger</tt> to hold\n-<tt>byte</tt> values, and cast appropriately. You can also hold floats\n-using <tt>Float.floatToIntBits</tt> and <tt>Float.intBitstoFloat</tt>\n-conversions, and doubles using <tt>Double.doubleToLongBits</tt> and\n-<tt>Double.longBitsToDouble</tt> conversions.\n-\n-\n-@since 1.5\n-\n-</body> </html>"}, {"sha": "4b945258b8d9c7dd23c5f0ce26b9c746089b4f4a", "filename": "libjava/classpath/external/jsr166/java/util/concurrent/locks/package.html", "status": "removed", "additions": 0, "deletions": 50, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Flocks%2Fpackage.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Flocks%2Fpackage.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Flocks%2Fpackage.html?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686", "patch": "@@ -1,50 +0,0 @@\n-<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML//EN\">\n-<html> <head>\n-<title>Locks</title>\n-</head>\n-\n-<body>\n-\n-Interfaces and classes providing a framework for locking and waiting\n-for conditions that is distinct from built-in synchronization and\n-monitors. The framework permits much greater flexibility in the use of\n-locks and conditions, at the expense of more awkward syntax.\n-\n-<p> The {@link java.util.concurrent.locks.Lock} interface supports\n-locking disciplines that differ in semantics (reentrant, fair, etc),\n-and that can be used in non-block-structured contexts including\n-hand-over-hand and lock reordering algorithms. The main implementation\n-is {@link java.util.concurrent.locks.ReentrantLock}.\n-\n-<p> The {@link java.util.concurrent.locks.ReadWriteLock} interface\n-similarly defines locks that may be shared among readers but are\n-exclusive to writers.  Only a single implementation, {@link\n-java.util.concurrent.locks.ReentrantReadWriteLock}, is provided, since\n-it covers most standard usage contexts. But programmers may create\n-their own implementations to cover nonstandard requirements.\n-\n-<p> The {@link java.util.concurrent.locks.Condition} interface\n-describes condition variables that may be associated with Locks.\n-These are similar in usage to the implicit monitors accessed using\n-<tt>Object.wait</tt>, but offer extended capabilities.  In particular,\n-multiple <tt>Condition</tt> objects may be associated with a single\n-<tt>Lock</tt>.  To avoid compatibility issues, the names of\n-<tt>Condition</tt> methods are different than the corresponding\n-<tt>Object</tt> versions.\n-\n-<p> The {@link java.util.concurrent.locks.AbstractQueuedSynchronizer}\n-class serves as a useful superclass for defining locks and other\n-synchronizers that rely on queuing blocked threads.  The {@link\n-java.util.concurrent.locks.AbstractQueuedLongSynchronizer} class\n-provides the same functionality but extends support to 64 bits of\n-synchronization state. Both extend class {@link\n-java.util.concurrent.locks.AbstractOwnableSynchronizer}, a simple\n-class that helps record the thread currently holding exclusive\n-synchronization.  The {@link java.util.concurrent.locks.LockSupport}\n-class provides lower-level blocking and unblocking support that is\n-useful for those developers implementing their own customized lock\n-classes.\n-\n-@since 1.5\n-\n-</body> </html>"}, {"sha": "20227e1fece24be0a800f25f2deacb6d86603331", "filename": "libjava/classpath/external/jsr166/java/util/concurrent/package.html", "status": "removed", "additions": 0, "deletions": 222, "changes": 222, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Fpackage.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Fpackage.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fjsr166%2Fjava%2Futil%2Fconcurrent%2Fpackage.html?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686", "patch": "@@ -1,222 +0,0 @@\n-<!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML//EN\">\n-<html> <head>\n-<title>Concurrency Utilities</title>\n-</head>\n-\n-<body>\n-\n-<p> Utility classes commonly useful in concurrent programming.  This\n-package includes a few small standardized extensible frameworks, as\n-well as some classes that provide useful functionality and are\n-otherwise tedious or difficult to implement.  Here are brief\n-descriptions of the main components. See also the <tt>locks</tt> and\n-<tt>atomic</tt> packages.\n-\n-<h2>Executors</h2>\n-\n-<b>Interfaces.</b> {@link java.util.concurrent.Executor} is a simple\n-standardized interface for defining custom thread-like subsystems,\n-including thread pools, asynchronous IO, and lightweight task\n-frameworks.  Depending on which concrete Executor class is being used,\n-tasks may execute in a newly created thread, an existing\n-task-execution thread, or the thread calling <tt>execute()</tt>, and\n-may execute sequentially or concurrently.  {@link\n-java.util.concurrent.ExecutorService} provides a more complete\n-asynchronous task execution framework.  An ExecutorService manages\n-queuing and scheduling of tasks, and allows controlled shutdown.  The\n-{@link java.util.concurrent.ScheduledExecutorService} subinterface\n-and associated interfaces add support for delayed and periodic task execution.\n-ExecutorServices provide methods arranging asynchronous execution of\n-any function expressed as {@link java.util.concurrent.Callable}, the\n-result-bearing analog of {@link java.lang.Runnable}.  A {@link\n-java.util.concurrent.Future} returns the results of a function, allows\n-determination of whether execution has completed, and provides a means to\n-cancel execution.  A {@link java.util.concurrent.RunnableFuture} is\n-a Future that possesses a <tt>run</tt> method that upon execution,\n-sets its results.\n-\n-<p>\n-\n-<b>Implementations.</b> Classes {@link\n-java.util.concurrent.ThreadPoolExecutor} and {@link\n-java.util.concurrent.ScheduledThreadPoolExecutor} provide tunable,\n-flexible thread pools. The {@link java.util.concurrent.Executors}\n-class provides factory methods for the most common kinds and\n-configurations of Executors, as well as a few utility methods for\n-using them. Other utilities based on Executors include the concrete\n-class {@link java.util.concurrent.FutureTask} providing a common\n-extensible implementation of Futures, and {@link\n-java.util.concurrent.ExecutorCompletionService}, that assists in\n-coordinating the processing of groups of asynchronous tasks.\n-\n-<h2>Queues</h2>\n-\n-The java.util.concurrent {@link\n-java.util.concurrent.ConcurrentLinkedQueue} class supplies an\n-efficient scalable thread-safe non-blocking FIFO queue.  Five\n-implementations in java.util.concurrent support the extended {@link\n-java.util.concurrent.BlockingQueue} interface, that defines blocking\n-versions of put and take: {@link\n-java.util.concurrent.LinkedBlockingQueue}, {@link\n-java.util.concurrent.ArrayBlockingQueue}, {@link\n-java.util.concurrent.SynchronousQueue}, {@link\n-java.util.concurrent.PriorityBlockingQueue}, and {@link\n-java.util.concurrent.DelayQueue}. The different classes cover the most\n-common usage contexts for producer-consumer, messaging, parallel\n-tasking, and related concurrent designs. The {@link\n-java.util.concurrent.BlockingDeque} interface extends\n-<tt>BlockingQueue</tt> to support both FIFO and LIFO (stack-based)\n-operations. Class {@link java.util.concurrent.LinkedBlockingDeque}\n-provides an implementation.\n-\n-\n-<h2>Timing</h2>\n-\n-The {@link java.util.concurrent.TimeUnit} class provides multiple\n-granularities (including nanoseconds) for specifying and controlling\n-time-out based operations.  Most classes in the package contain\n-operations based on time-outs in addition to indefinite waits.  In all\n-cases that time-outs are used, the time-out specifies the minimum time\n-that the method should wait before indicating that it\n-timed-out.  Implementations make a &quot;best effort&quot; to detect\n-time-outs as soon as possible after they occur.  However, an indefinite\n-amount of time may elapse between a time-out being detected and a\n-thread actually executing again after that time-out.  All methods\n-that accept timeout parameters treat values less than or equal to\n-zero to mean not to wait at all.  To wait \"forever\", you can use\n-a value of <tt>Long.MAX_VALUE</tt>.\n-\n-<h2>Synchronizers</h2>\n-\n-Four classes aid common special-purpose synchronization idioms.\n-{@link java.util.concurrent.Semaphore} is a classic concurrency tool.\n-{@link java.util.concurrent.CountDownLatch} is a very simple yet very\n-common utility for blocking until a given number of signals, events,\n-or conditions hold.  A {@link java.util.concurrent.CyclicBarrier} is a\n-resettable multiway synchronization point useful in some styles of\n-parallel programming. An {@link java.util.concurrent.Exchanger} allows\n-two threads to exchange objects at a rendezvous point, and is useful\n-in several pipeline designs.\n-\n-<h2>Concurrent Collections</h2>\n-\n-Besides Queues, this package supplies Collection implementations\n-designed for use in multithreaded contexts:\n-{@link java.util.concurrent.ConcurrentHashMap},\n-{@link java.util.concurrent.ConcurrentSkipListMap},\n-{@link java.util.concurrent.ConcurrentSkipListSet},\n-{@link java.util.concurrent.CopyOnWriteArrayList}, and\n-{@link java.util.concurrent.CopyOnWriteArraySet}.\n-When many threads are expected to access a given collection,\n-a <tt>ConcurrentHashMap</tt> is normally preferable to\n-a synchronized <tt>HashMap</tt>, and a\n-<tt>ConcurrentSkipListMap</tt> is normally preferable\n-to a synchronized <tt>TreeMap</tt>. A\n-<tt>CopyOnWriteArrayList</tt> is preferable to\n-a synchronized <tt>ArrayList</tt> when the expected number of reads\n-and traversals greatly outnumber the number of updates to a list.\n-\n-<p>The \"Concurrent\" prefix used with some classes in this package is a\n-shorthand indicating several differences from similar \"synchronized\"\n-classes. For example <tt>java.util.Hashtable</tt> and\n-<tt>Collections.synchronizedMap(new HashMap())</tt> are\n-synchronized. But {@link java.util.concurrent.ConcurrentHashMap} is\n-\"concurrent\".  A concurrent collection is thread-safe, but not\n-governed by a single exclusion lock. In the particular case of\n-ConcurrentHashMap, it safely permits any number of concurrent reads as\n-well as a tunable number of concurrent writes.  \"Synchronized\" classes\n-can be useful when you need to prevent all access to a collection via\n-a single lock, at the expense of poorer scalability. In other cases in\n-which multiple threads are expected to access a common collection,\n-\"concurrent\" versions are normally preferable. And unsynchronized\n-collections are preferable when either collections are unshared, or\n-are accessible only when holding other locks.\n-\n-<p> Most concurrent Collection implementations (including most Queues)\n-also differ from the usual java.util conventions in that their Iterators\n-provide <em>weakly consistent</em> rather than fast-fail traversal. A\n-weakly consistent iterator is thread-safe, but does not necessarily\n-freeze the collection while iterating, so it may (or may not) reflect\n-any updates since the iterator was created.\n-\n-<a name=\"MemoryVisibility\">\n-<h2> Memory Consistency Properties </h2>\n-\n-<a href=\"http://java.sun.com/docs/books/jls/third_edition/html/memory.html\">\n-Chapter 17 of the Java Language Specification</a> defines the\n-<i>happens-before</i> relation on memory operations such as reads and\n-writes of shared variables.  The results of a write by one thread are\n-guaranteed to be visible to a read by another thread only if the write\n-operation <i>happens-before</i> the read operation.  The\n-{@code synchronized} and {@code volatile} constructs, as well as the\n-{@code Thread.start()} and {@code Thread.join()} methods, can form\n-<i>happens-before</i> relationships. In particular:\n-\n-<ul>\n-  <li>Each action in a thread <i>happens-before</i> every action in that\n-  thread that comes later in the program's order.\n-\n-  <li>An unlock ({@code synchronized} block or method exit) of a\n-  monitor <i>happens-before</i> every subsequent lock ({@code synchronized}\n-  block or method entry) of that same monitor. And because\n-  the <i>happens-before</i> relation is transitive, all actions\n-  of a thread prior to unlocking <i>happen-before</i> all actions\n-  subsequent to any thread locking that monitor.\n-\n-  <li>A write to a {@code volatile} field <i>happens-before</i> every\n-  subsequent read of that same field. Writes and reads of\n-  {@code volatile} fields have similar memory consistency effects\n-  as entering and exiting monitors, but do <em>not</em> entail\n-  mutual exclusion locking.\n-\n-  <li>A call to {@code start} on a thread <i>happens-before</i> any action in the\n-  started thread.\n-\n-  <li>All actions in a thread <i>happen-before</i> any other thread\n-  successfully returns from a {@code join} on that thread.\n-\n-</ul>\n-\n-\n-The methods of all classes in {@code java.util.concurrent} and its\n-subpackages extend these guarantees to higher-level\n-synchronization. In particular:\n-\n-<ul>\n-\n-  <li>Actions in a thread prior to placing an object into any concurrent\n-  collection <i>happen-before</i> actions subsequent to the access or\n-  removal of that element from the collection in another thread.\n-\n-  <li>Actions in a thread prior to the submission of a {@code Runnable}\n-  to an {@code Executor} <i>happen-before</i> its execution begins.\n-  Similarly for {@code Callables} submitted to an {@code ExecutorService}.\n-\n-  <li>Actions taken by the asynchronous computation represented by a\n-  {@code Future} <i>happen-before</i> actions subsequent to the\n-  retrieval of the result via {@code Future.get()} in another thread.\n-\n-  <li>Actions prior to \"releasing\" synchronizer methods such as\n-  {@code Lock.unlock}, {@code Semaphore.release}, and\n-  {@code CountDownLatch.countDown} <i>happen-before</i> actions\n-  subsequent to a successful \"acquiring\" method such as\n-  {@code Lock.lock}, {@code Semaphore.acquire},\n-  {@code Condition.await}, and {@code CountDownLatch.await} on the\n-  same synchronizer object in another thread.\n-\n-  <li>For each pair of threads that successfully exchange objects via\n-  an {@code Exchanger}, actions prior to the {@code exchange()}\n-  in each thread <i>happen-before</i> those subsequent to the\n-  corresponding {@code exchange()} in another thread.\n-\n-  <li>Actions prior to calling {@code CyclicBarrier.await}\n-  <i>happen-before</i> actions performed by the barrier action, and\n-  actions performed by the barrier action <i>happen-before</i> actions\n-  subsequent to a successful return from the corresponding {@code await}\n-  in other threads.\n-\n-</ul>\n-\n-@since 1.5\n-\n-</body> </html>"}, {"sha": "6d36ab3eb180c717d64ce9064c28a3f084f02ccc", "filename": "libjava/classpath/external/relaxngDatatype/Makefile.in", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2FrelaxngDatatype%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2FrelaxngDatatype%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2FrelaxngDatatype%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -43,16 +43,21 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n SOURCES =\n@@ -62,12 +67,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -113,6 +121,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -125,23 +134,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -151,6 +160,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -162,6 +172,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -171,6 +182,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -190,6 +202,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -211,6 +224,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -238,8 +252,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -272,6 +288,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@"}, {"sha": "3ddaa288b545b8ec01acfc6ce877bfb6e2ee8190", "filename": "libjava/classpath/external/sax/Makefile.in", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fsax%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fsax%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fsax%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -43,16 +43,21 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n SOURCES =\n@@ -62,12 +67,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -113,6 +121,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -125,23 +134,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -151,6 +160,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -162,6 +172,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -171,6 +182,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -190,6 +202,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -211,6 +224,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -238,8 +252,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -272,6 +288,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@"}, {"sha": "c7e0e497a5fba1eb160ad27ad044841b5ddf0dc4", "filename": "libjava/classpath/external/w3c_dom/COPYRIGHT.html", "status": "removed", "additions": 0, "deletions": 106, "changes": 106, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fw3c_dom%2FCOPYRIGHT.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fexternal%2Fw3c_dom%2FCOPYRIGHT.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fw3c_dom%2FCOPYRIGHT.html?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686", "patch": "@@ -1,106 +0,0 @@\n-<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n-    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n-<html>\n-  <head>\n-    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=us-ascii\" />\n-    <title>W3C IPR SOFTWARE NOTICE</title>\n-<style type=\"text/css\">\n-<!--\n-html, body { background: #fff; color: #000; } /* body for Windows IE3 */\n--->\n-</style>\n-  </head>\n-  <body>\n-    <h1>\n-      W3C IPR SOFTWARE NOTICE\n-    </h1>\n-    <h3>\n-      Copyright &copy; 2002 <a href=\"http://www.w3.org/\">World Wide Web\n-      Consortium</a>, (<a href=\"http://www.lcs.mit.edu/\">Massachusetts\n-      Institute of Technology</a>, <a href=\"http://www.inria.fr/\">Institut\n-      National de Recherche en Informatique et en Automatique</a>, <a\n-      href=\"http://www.keio.ac.jp/\">Keio University</a>). All Rights\n-      Reserved.\n-    </h3>\n-    <p>\n-      The DOM bindings are published under the W3C Software Copyright Notice\n-      and License. The software license requires \"Notice of any changes or\n-      modifications to the W3C files, including the date changes were made.\"\n-      Consequently, modified versions of the DOM bindings must document that\n-      they do not conform to the W3C standard; in the case of the IDL\n-      definitions, the pragma prefix can no longer be 'w3c.org'; in the case of\n-      the Java language binding, the package names can no longer be in the\n-      'org.w3c' package.\n-    </p>\n-    <p>\n-      <b>Note:</b> The original version of the W3C Software Copyright Notice\n-      and License could be found at <a\n-      href='http://www.w3.org/Consortium/Legal/copyright-software-19980720'>http://www.w3.org/Consortium/Legal/copyright-software-19980720</a>\n-    </p>\n-    <h3>\n-      Copyright &copy; 1994-2002 <a href=\"http://www.w3.org/\">World Wide Web\n-      Consortium</a>, (<a href=\"http://www.lcs.mit.edu/\">Massachusetts\n-      Institute of Technology</a>, <a href=\"http://www.inria.fr/\">Institut\n-      National de Recherche en Informatique et en Automatique</a>, <a\n-      href=\"http://www.keio.ac.jp/\">Keio University</a>). All Rights\n-      Reserved. http://www.w3.org/Consortium/Legal/\n-    </h3>\n-    <p>\n-      This W3C work (including software, documents, or other related items) is\n-      being provided by the copyright holders under the following license. By\n-      obtaining, using and/or copying this work, you (the licensee) agree that\n-      you have read, understood, and will comply with the following terms and\n-      conditions:\n-    </p>\n-    <p>\n-      Permission to use, copy, and modify this software and its documentation,\n-      with or without modification,&nbsp; for any purpose and without fee or\n-      royalty is hereby granted, provided that you include the following on ALL\n-      copies of the software and documentation or portions thereof, including\n-      modifications, that you make:\n-    </p>\n-    <ol>\n-      <li>\n-\tThe full text of this NOTICE in a location viewable to users of the\n-\tredistributed or derivative work.\n-      </li>\n-      <li>\n-\tAny pre-existing intellectual property disclaimers, notices, or terms\n-\tand conditions. If none exist, a short notice of the following form\n-\t(hypertext is preferred, text is permitted) should be used within the\n-\tbody of any redistributed or derivative code: \"Copyright &copy;\n-\t[$date-of-software] <a href=\"http://www.w3.org/\">World Wide Web\n-\tConsortium</a>, (<a href=\"http://www.lcs.mit.edu/\">Massachusetts\n-\tInstitute of Technology</a>, <a href=\"http://www.inria.fr/\">Institut\n-\tNational de Recherche en Informatique et en Automatique</a>, <a\n-\thref=\"http://www.keio.ac.jp/\">Keio University</a>).  All Rights\n-\tReserved. http://www.w3.org/Consortium/Legal/\"\n-      </li>\n-      <li>\n-\tNotice of any changes or modifications to the W3C files, including the\n-\tdate changes were made. (We recommend you provide URIs to the location\n-\tfrom which the code is derived.)\n-      </li>\n-    </ol>\n-    <p>\n-      THIS SOFTWARE AND DOCUMENTATION IS PROVIDED \"AS IS,\" AND COPYRIGHT\n-      HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED,\n-      INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS\n-      FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR\n-      DOCUMENTATION WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS,\n-      TRADEMARKS OR OTHER RIGHTS.\n-    </p>\n-    <p>\n-      COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR\n-      CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR\n-      DOCUMENTATION.\n-    </p>\n-    <p>\n-      The name and trademarks of copyright holders may NOT be used in\n-      advertising or publicity pertaining to the software without specific,\n-      written prior permission. Title to copyright in this software and any\n-      associated documentation will at all times remain with copyright\n-      holders.\n-    </p>\n-  </body>\n-</html>"}, {"sha": "ae8905f509bb7a13073d3edb5e424b8be1b0194e", "filename": "libjava/classpath/external/w3c_dom/Makefile.in", "status": "modified", "additions": 23, "deletions": 6, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fw3c_dom%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fexternal%2Fw3c_dom%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fexternal%2Fw3c_dom%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -43,16 +43,21 @@ am__aclocal_m4_deps = $(top_srcdir)/../../config/depstand.m4 \\\n \t$(top_srcdir)/../../config/lead-dot.m4 \\\n \t$(top_srcdir)/../../config/multi.m4 \\\n \t$(top_srcdir)/../../config/no-executables.m4 \\\n-\t$(top_srcdir)/../../libtool.m4 $(top_srcdir)/m4/acattribute.m4 \\\n-\t$(top_srcdir)/m4/accross.m4 $(top_srcdir)/m4/acinclude.m4 \\\n+\t$(top_srcdir)/../../libtool.m4 \\\n+\t$(top_srcdir)/../../ltoptions.m4 \\\n+\t$(top_srcdir)/../../ltsugar.m4 \\\n+\t$(top_srcdir)/../../ltversion.m4 \\\n+\t$(top_srcdir)/m4/acattribute.m4 $(top_srcdir)/m4/accross.m4 \\\n+\t$(top_srcdir)/m4/acinclude.m4 \\\n \t$(top_srcdir)/m4/ax_create_stdint_h.m4 \\\n+\t$(top_srcdir)/m4/ax_func_which_gethostbyname_r.m4 \\\n \t$(top_srcdir)/m4/gcc_attribute.m4 $(top_srcdir)/m4/iconv.m4 \\\n \t$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \\\n \t$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/pkg.m4 \\\n \t$(top_srcdir)/configure.ac\n am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n \t$(ACLOCAL_M4)\n-mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs\n+mkinstalldirs = $(SHELL) $(top_srcdir)/../../mkinstalldirs\n CONFIG_HEADER = $(top_builddir)/include/config.h\n CONFIG_CLEAN_FILES =\n SOURCES =\n@@ -62,12 +67,15 @@ ACLOCAL = @ACLOCAL@\n AMDEP_FALSE = @AMDEP_FALSE@\n AMDEP_TRUE = @AMDEP_TRUE@\n AMTAR = @AMTAR@\n+AR = @AR@\n AUTOCONF = @AUTOCONF@\n AUTOHEADER = @AUTOHEADER@\n AUTOMAKE = @AUTOMAKE@\n AWK = @AWK@\n BUILD_CLASS_FILES_FALSE = @BUILD_CLASS_FILES_FALSE@\n BUILD_CLASS_FILES_TRUE = @BUILD_CLASS_FILES_TRUE@\n+CAIRO_CFLAGS = @CAIRO_CFLAGS@\n+CAIRO_LIBS = @CAIRO_LIBS@\n CC = @CC@\n CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n@@ -113,6 +121,7 @@ DATE = @DATE@\n DEFAULT_PREFS_PEER = @DEFAULT_PREFS_PEER@\n DEFS = @DEFS@\n DEPDIR = @DEPDIR@\n+DUMPBIN = @DUMPBIN@\n ECHO_C = @ECHO_C@\n ECHO_N = @ECHO_N@\n ECHO_T = @ECHO_T@\n@@ -125,23 +134,23 @@ ERROR_CFLAGS = @ERROR_CFLAGS@\n EXAMPLESDIR = @EXAMPLESDIR@\n EXEEXT = @EXEEXT@\n FASTJAR = @FASTJAR@\n+FGREP = @FGREP@\n FIND = @FIND@\n FOUND_CACAO_FALSE = @FOUND_CACAO_FALSE@\n FOUND_CACAO_TRUE = @FOUND_CACAO_TRUE@\n FOUND_ECJ_FALSE = @FOUND_ECJ_FALSE@\n FOUND_ECJ_TRUE = @FOUND_ECJ_TRUE@\n-FOUND_GCJX_FALSE = @FOUND_GCJX_FALSE@\n-FOUND_GCJX_TRUE = @FOUND_GCJX_TRUE@\n FOUND_GCJ_FALSE = @FOUND_GCJ_FALSE@\n FOUND_GCJ_TRUE = @FOUND_GCJ_TRUE@\n+FOUND_JAVAC_FALSE = @FOUND_JAVAC_FALSE@\n+FOUND_JAVAC_TRUE = @FOUND_JAVAC_TRUE@\n FOUND_JIKES_FALSE = @FOUND_JIKES_FALSE@\n FOUND_JIKES_TRUE = @FOUND_JIKES_TRUE@\n FOUND_KJC_FALSE = @FOUND_KJC_FALSE@\n FOUND_KJC_TRUE = @FOUND_KJC_TRUE@\n FREETYPE2_CFLAGS = @FREETYPE2_CFLAGS@\n FREETYPE2_LIBS = @FREETYPE2_LIBS@\n GCJ = @GCJ@\n-GCJX = @GCJX@\n GCONF_CFLAGS = @GCONF_CFLAGS@\n GCONF_LIBS = @GCONF_LIBS@\n GDK_CFLAGS = @GDK_CFLAGS@\n@@ -151,6 +160,7 @@ GENINSRC_TRUE = @GENINSRC_TRUE@\n GJDOC = @GJDOC@\n GLIB_CFLAGS = @GLIB_CFLAGS@\n GLIB_LIBS = @GLIB_LIBS@\n+GREP = @GREP@\n GTK_CFLAGS = @GTK_CFLAGS@\n GTK_LIBS = @GTK_LIBS@\n INIT_LOAD_LIBRARY = @INIT_LOAD_LIBRARY@\n@@ -162,6 +172,7 @@ INSTALL_GLIBJ_ZIP_TRUE = @INSTALL_GLIBJ_ZIP_TRUE@\n INSTALL_PROGRAM = @INSTALL_PROGRAM@\n INSTALL_SCRIPT = @INSTALL_SCRIPT@\n INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n+JAVAC = @JAVAC@\n JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION = @JAVA_LANG_SYSTEM_EXPLICIT_INITIALIZATION@\n JAVA_MAINTAINER_MODE_FALSE = @JAVA_MAINTAINER_MODE_FALSE@\n JAVA_MAINTAINER_MODE_TRUE = @JAVA_MAINTAINER_MODE_TRUE@\n@@ -171,6 +182,7 @@ JIKES = @JIKES@\n JIKESENCODING = @JIKESENCODING@\n JIKESWARNINGS = @JIKESWARNINGS@\n KJC = @KJC@\n+LD = @LD@\n LDFLAGS = @LDFLAGS@\n LIBDEBUG = @LIBDEBUG@\n LIBICONV = @LIBICONV@\n@@ -190,6 +202,7 @@ MKDIR = @MKDIR@\n MOC = @MOC@\n MOZILLA_CFLAGS = @MOZILLA_CFLAGS@\n MOZILLA_LIBS = @MOZILLA_LIBS@\n+NM = @NM@\n OBJEXT = @OBJEXT@\n PACKAGE = @PACKAGE@\n PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n@@ -211,6 +224,7 @@ RANLIB = @RANLIB@\n REGEN_PARSERS_FALSE = @REGEN_PARSERS_FALSE@\n REGEN_PARSERS_TRUE = @REGEN_PARSERS_TRUE@\n REMOVE = @REMOVE@\n+SED = @SED@\n SET_MAKE = @SET_MAKE@\n SHELL = @SHELL@\n STRICT_WARNING_CFLAGS = @STRICT_WARNING_CFLAGS@\n@@ -238,8 +252,10 @@ X_EXTRA_LIBS = @X_EXTRA_LIBS@\n X_LIBS = @X_LIBS@\n X_PRE_LIBS = @X_PRE_LIBS@\n ZIP = @ZIP@\n+ac_ct_AR = @ac_ct_AR@\n ac_ct_CC = @ac_ct_CC@\n ac_ct_CXX = @ac_ct_CXX@\n+ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n ac_ct_RANLIB = @ac_ct_RANLIB@\n ac_ct_STRIP = @ac_ct_STRIP@\n am__fastdepCC_FALSE = @am__fastdepCC_FALSE@\n@@ -272,6 +288,7 @@ install_sh = @install_sh@\n libdir = @libdir@\n libexecdir = @libexecdir@\n localstatedir = @localstatedir@\n+lt_ECHO = @lt_ECHO@\n mandir = @mandir@\n mkdir_p = @mkdir_p@\n multi_basedir = @multi_basedir@"}, {"sha": "57150f74695f3b439810321845cb3bed7190128b", "filename": "libjava/classpath/gnu/CORBA/DynAn/gnuDynValue.java", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2FCORBA%2FDynAn%2FgnuDynValue.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2FCORBA%2FDynAn%2FgnuDynValue.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2FCORBA%2FDynAn%2FgnuDynValue.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -172,7 +172,6 @@ public TCKind current_member_kind() throws TypeMismatch, InvalidValue\n     else\n       return super.current_member_kind();\n   }\n-  ;\n \n   /** @inheritDoc */\n   public String current_member_name() throws TypeMismatch, InvalidValue\n@@ -182,7 +181,6 @@ public String current_member_name() throws TypeMismatch, InvalidValue\n     else\n       return super.current_member_name();\n   }\n-  ;\n \n   /** @inheritDoc */\n   public NameDynAnyPair[] get_members_as_dyn_any() throws InvalidValue\n@@ -191,7 +189,6 @@ public NameDynAnyPair[] get_members_as_dyn_any() throws InvalidValue\n       throw new InvalidValue(ISNULL);\n     return super.gnu_get_members_as_dyn_any();\n   }\n-  ;\n \n   /** @inheritDoc */\n   public NameValuePair[] get_members() throws InvalidValue\n@@ -201,7 +198,6 @@ public NameValuePair[] get_members() throws InvalidValue\n     else\n       return super.gnu_get_members();\n   }\n-  ;\n \n   /** @inheritDoc */\n   public void set_members_as_dyn_any(NameDynAnyPair[] value)\n@@ -210,7 +206,6 @@ public void set_members_as_dyn_any(NameDynAnyPair[] value)\n     super.set_members_as_dyn_any(value);\n     isNull = false;\n   }\n-  ;\n \n   /** @inheritDoc */\n   public void set_members(NameValuePair[] value)\n@@ -219,7 +214,6 @@ public void set_members(NameValuePair[] value)\n     super.set_members(value);\n     isNull = false;\n   }\n-  ;\n \n   /** @inheritDoc */\n   public boolean is_null()"}, {"sha": "0dbca7cfbdef93ca661002f45a74e47dbeb085a5", "filename": "libjava/classpath/gnu/CORBA/Poa/gnuPOA.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2FCORBA%2FPoa%2FgnuPOA.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2FCORBA%2FPoa%2FgnuPOA.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2FCORBA%2FPoa%2FgnuPOA.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1348,7 +1348,6 @@ public String the_name()\n   {\n     return name;\n   }\n-  ;\n \n   /**\n    * Return the parent of this POA."}, {"sha": "57af37a74641cb6d89c7f699f53f80b3d1e56408", "filename": "libjava/classpath/gnu/classpath/Pair.java", "status": "added", "additions": 126, "deletions": 0, "changes": 126, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2FPair.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2FPair.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fclasspath%2FPair.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,126 @@\n+/* Pair.java -- A heterogenous pair of objects.\n+   Copyright (C) 2006\n+   Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.classpath;\n+\n+/**\n+ * A container for a pair of heterogenous objects.\n+ *\n+ * @author Andrew John Hughes (gnu_andrew@member.fsf.org)\n+ */\n+public class Pair<A,B>\n+{\n+\n+  /**\n+   * The left-hand side of the pair.\n+   */\n+  private A left;\n+\n+  /**\n+   * The right-hand side of the pair.\n+   */\n+  private B right;\n+\n+  /**\n+   * Constructs a new pair using the given left and\n+   * right values.\n+   *\n+   * @param left the left-hand side of the pair.\n+   * @param right the right-hand side of the pair.\n+   */\n+  public Pair(A left, B right)\n+  {\n+    this.left = left;\n+    this.right = right;\n+  }\n+\n+  /**\n+   * Returns the left-hand side of the pair.\n+   *\n+   * @return the left-hand value.\n+   */\n+  public A getLeft()\n+  {\n+    return left;\n+  }\n+\n+  /**\n+   * Returns the right-hand side of the pair.\n+   *\n+   * @return the right-hand value.\n+   */\n+  public B getRight()\n+  {\n+    return right;\n+  }\n+\n+  /**\n+   * Returns true if the specified object is also a\n+   * pair with equivalent left and right values.\n+   *\n+   * @param obj the object to compare.\n+   * @return true if the two are equal.\n+   */\n+  public boolean equals(Object obj)\n+  {\n+    if (obj instanceof Pair)\n+      {\n+\tPair<A,B> p = (Pair<A,B>) obj;\n+\tA lp = p.getLeft();\n+\tB rp = p.getRight(); \n+\treturn (lp == null ? left == null : lp.equals(left)) &&\n+\t  (rp == null ? right == null : rp.equals(right));\n+      }\n+    return false;\n+  }\n+\n+  /**\n+   * Returns a hashcode for the pair, created by the\n+   * summation of the hashcodes of the left and right\n+   * hand values.\n+   *\n+   * @return a hashcode for the pair.\n+   */\n+  public int hashCode()\n+  {\n+    return (left == null ? 0 : left.hashCode())\n+      + (right == null ? 0 : right.hashCode());\n+  }\n+\n+}"}, {"sha": "daf996c23ca9b2a57b568ab518200f5a2102cada", "filename": "libjava/classpath/gnu/classpath/ServiceFactory.java", "status": "modified", "additions": 79, "deletions": 4, "changes": 83, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2FServiceFactory.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2FServiceFactory.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fclasspath%2FServiceFactory.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -49,6 +49,7 @@\n import java.util.Enumeration;\n import java.util.Iterator;\n import java.util.NoSuchElementException;\n+import java.util.ServiceConfigurationError;\n import java.util.logging.Level;\n import java.util.logging.LogRecord;\n import java.util.logging.Logger;\n@@ -176,7 +177,6 @@\n    */\n   private static final Logger LOGGER = Logger.getLogger(\"gnu.classpath\");\n \n-\n   /**\n    * Declared private in order to prevent constructing instances of\n    * this utility class.\n@@ -224,6 +224,51 @@ private ServiceFactory()\n    */\n   public static Iterator lookupProviders(Class spi,\n                                          ClassLoader loader)\n+  {\n+    return lookupProviders(spi, loader, false);\n+  }\n+\n+  /**\n+   * Finds service providers that are implementing the specified\n+   * Service Provider Interface.\n+   *\n+   * <p><b>On-demand loading:</b> Loading and initializing service\n+   * providers is delayed as much as possible. The rationale is that\n+   * typical clients will iterate through the set of installed service\n+   * providers until one is found that matches some criteria (like\n+   * supported formats, or quality of service). In such scenarios, it\n+   * might make sense to install only the frequently needed service\n+   * providers on the local machine. More exotic providers can be put\n+   * onto a server; the server will only be contacted when no suitable\n+   * service could be found locally.\n+   *\n+   * <p><b>Security considerations:</b> Any loaded service providers\n+   * are loaded through the specified ClassLoader, or the system\n+   * ClassLoader if <code>classLoader</code> is\n+   * <code>null</code>. When <code>lookupProviders</code> is called,\n+   * the current {@link AccessControlContext} gets recorded. This\n+   * captured security context will determine the permissions when\n+   * services get loaded via the <code>next()</code> method of the\n+   * returned <code>Iterator</code>.\n+   *\n+   * @param spi the service provider interface which must be\n+   * implemented by any loaded service providers.\n+   *\n+   * @param loader the class loader that will be used to load the\n+   * service providers, or <code>null</code> for the system class\n+   * loader. For using the context class loader, see {@link\n+   * #lookupProviders(Class)}.\n+   * @param error true if a {@link ServiceConfigurationError}\n+   *              should be thrown when an error occurs, rather\n+   *              than it merely being logged.\n+   * @return an iterator over instances of <code>spi</code>.\n+   *\n+   * @throws IllegalArgumentException if <code>spi</code> is\n+   * <code>null</code>.\n+   */\n+  public static Iterator lookupProviders(Class spi,\n+                                         ClassLoader loader,\n+\t\t\t\t\t boolean error)\n   {\n     String resourceName;\n     Enumeration urls;\n@@ -246,10 +291,14 @@ public static Iterator lookupProviders(Class spi,\n          * does not return anything (no providers installed).\n          */\n         log(Level.WARNING, \"cannot access {0}\", resourceName, ioex);\n-        return Collections.EMPTY_LIST.iterator();\n+\tif (error)\n+\t  throw new ServiceConfigurationError(\"Failed to access + \" +\n+\t\t\t\t\t      resourceName, ioex);\n+\telse\n+\t  return Collections.EMPTY_LIST.iterator();\n       }\n \n-    return new ServiceIterator(spi, urls, loader,\n+    return new ServiceIterator(spi, urls, loader, error,\n                                AccessController.getContext());\n   }\n \n@@ -342,6 +391,11 @@ public static Iterator lookupProviders(Class spi)\n      */\n     private Object nextProvider;\n \n+    /**\n+     * True if a {@link ServiceConfigurationError} should be thrown\n+     * when an error occurs, instead of it merely being logged.\n+     */\n+    private boolean error;\n \n     /**\n      * Constructs an Iterator that loads and initializes services on\n@@ -359,16 +413,21 @@ public static Iterator lookupProviders(Class spi)\n      * @param loader the ClassLoader that gets used for loading\n      * service providers.\n      *\n+     * @param error true if a {@link ServiceConfigurationError}\n+     *              should be thrown when an error occurs, rather\n+     *              than it merely being logged.\n+     *\n      * @param securityContext the security context to use when loading\n      * and initializing service providers.\n      */\n     ServiceIterator(Class spi, Enumeration urls, ClassLoader loader,\n-                    AccessControlContext securityContext)\n+\t\t    boolean error, AccessControlContext securityContext)\n     {\n       this.spi = spi;\n       this.urls = urls;\n       this.loader = loader;\n       this.securityContext = securityContext;\n+      this.error = error;\n       this.nextProvider = loadNextServiceProvider();\n     }\n \n@@ -426,6 +485,9 @@ private Object loadNextServiceProvider()\n               log(Level.WARNING, \"IOException upon reading {0}\", currentURL,\n                   readProblem);\n               line = null;\n+\t      if (error)\n+\t\tthrow new ServiceConfigurationError(\"Error reading \" +\n+\t\t\t\t\t\t    currentURL, readProblem);\n             }\n \n           /* When we are at the end of one list of services,\n@@ -477,6 +539,13 @@ private Object loadNextServiceProvider()\n               log(Level.WARNING, msg,                  \n                   new Object[] { line, spi.getName(), currentURL },\n                   ex);\n+\t      if (error)\n+\t\tthrow new ServiceConfigurationError(\"Cannot load service \"+\n+\t\t\t\t\t\t    \"provider class \" +\n+\t\t\t\t\t\t    line + \" specified by \"+\n+\t\t\t\t\t\t    \"\\\"META-INF/services/\"+\n+\t\t\t\t\t\t    spi.getName() + \"\\\" in \"+\n+\t\t\t\t\t\t    currentURL, ex);\n               continue;\n             }\n         }\n@@ -497,6 +566,9 @@ private void advanceReader()\n               catch (Exception ex)\n                 {\n                   log(Level.WARNING, \"cannot close {0}\", currentURL, ex);\n+\t\t  if (error)\n+\t\t    throw new ServiceConfigurationError(\"Cannot close \" +\n+\t\t\t\t\t\t\tcurrentURL, ex);\n                 }\n               reader = null;\n               currentURL = null;\n@@ -515,6 +587,9 @@ private void advanceReader()\n         catch (Exception ex)\n           {\n             log(Level.WARNING, \"cannot open {0}\", currentURL, ex);\n+\t    if (error)\n+\t      throw new ServiceConfigurationError(\"Cannot open \" +\n+\t\t\t\t\t\t  currentURL, ex);\n           }\n         }\n       while (reader == null);"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "libjava/classpath/gnu/classpath/jdwp/util/Value.java", "status": "removed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Futil%2FValue.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Futil%2FValue.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Futil%2FValue.java?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "9732422f57e256eb95b0b632590148eabdd51ca2", "filename": "libjava/classpath/gnu/classpath/jdwp/util/VariableTable.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Futil%2FVariableTable.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Futil%2FVariableTable.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Futil%2FVariableTable.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,5 +1,5 @@\n /* VariableTable.java -- A class representing a Variable Table for a method\n-   Copyright (C) 2005 Free Software Foundation\n+   Copyright (C) 2005, 2007 Free Software Foundation\n \n This file is part of GNU Classpath.\n "}, {"sha": "66e7c4e32b47e431cc7a6e5c7c42bba8decf5919", "filename": "libjava/classpath/gnu/classpath/jdwp/value/ArrayValue.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Fvalue%2FArrayValue.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Fvalue%2FArrayValue.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fclasspath%2Fjdwp%2Fvalue%2FArrayValue.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,4 +1,4 @@\n-/* ArrayValue.java -- JDWP wrapper class for an Object value\n+/* ObjectValue.java -- JDWP wrapper class for an Object value\n    Copyright (C) 2007 Free Software Foundation\n \n This file is part of GNU Classpath."}, {"sha": "1b68703697fadf7215a91c322051d5abdefee5d1", "filename": "libjava/classpath/gnu/java/awt/AWTUtilities.java", "status": "modified", "additions": 202, "deletions": 1, "changes": 203, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FAWTUtilities.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FAWTUtilities.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FAWTUtilities.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,5 +1,5 @@\n /* AWTUtilities.java -- Common utility methods for AWT and Swing.\n-   Copyright (C) 2005  Free Software Foundation, Inc.\n+   Copyright (C) 2005, 2007  Free Software Foundation, Inc.\n \n This file is part of GNU Classpath.\n \n@@ -47,6 +47,7 @@\n import java.awt.Rectangle;\n import java.awt.Toolkit;\n import java.awt.Window;\n+import java.awt.event.KeyEvent;\n import java.awt.event.MouseEvent;\n import java.util.AbstractSequentialList;\n import java.util.List;\n@@ -694,4 +695,204 @@ public static boolean isEventDispatchThread()\n   {\n     return java.awt.EventQueue.isDispatchThread();\n   }\n+\n+  /**\n+   * Returns whether the specified key code is valid.\n+   */\n+  public static boolean isValidKey(int keyCode)\n+  {\n+    switch (keyCode)\n+      {\n+      case KeyEvent.VK_ENTER:\n+      case KeyEvent.VK_BACK_SPACE:\n+      case KeyEvent.VK_TAB:\n+      case KeyEvent.VK_CANCEL:\n+      case KeyEvent.VK_CLEAR:\n+      case KeyEvent.VK_SHIFT:\n+      case KeyEvent.VK_CONTROL:\n+      case KeyEvent.VK_ALT:\n+      case KeyEvent.VK_PAUSE:\n+      case KeyEvent.VK_CAPS_LOCK:\n+      case KeyEvent.VK_ESCAPE:\n+      case KeyEvent.VK_SPACE:\n+      case KeyEvent.VK_PAGE_UP:\n+      case KeyEvent.VK_PAGE_DOWN:\n+      case KeyEvent.VK_END:\n+      case KeyEvent.VK_HOME:\n+      case KeyEvent.VK_LEFT:\n+      case KeyEvent.VK_UP:\n+      case KeyEvent.VK_RIGHT:\n+      case KeyEvent.VK_DOWN:\n+      case KeyEvent.VK_COMMA:\n+      case KeyEvent.VK_MINUS:\n+      case KeyEvent.VK_PERIOD:\n+      case KeyEvent.VK_SLASH:\n+      case KeyEvent.VK_0:\n+      case KeyEvent.VK_1:\n+      case KeyEvent.VK_2:\n+      case KeyEvent.VK_3:\n+      case KeyEvent.VK_4:\n+      case KeyEvent.VK_5:\n+      case KeyEvent.VK_6:\n+      case KeyEvent.VK_7:\n+      case KeyEvent.VK_8:\n+      case KeyEvent.VK_9:\n+      case KeyEvent.VK_SEMICOLON:\n+      case KeyEvent.VK_EQUALS:\n+      case KeyEvent.VK_A:\n+      case KeyEvent.VK_B:\n+      case KeyEvent.VK_C:\n+      case KeyEvent.VK_D:\n+      case KeyEvent.VK_E:\n+      case KeyEvent.VK_F:\n+      case KeyEvent.VK_G:\n+      case KeyEvent.VK_H:\n+      case KeyEvent.VK_I:\n+      case KeyEvent.VK_J:\n+      case KeyEvent.VK_K:\n+      case KeyEvent.VK_L:\n+      case KeyEvent.VK_M:\n+      case KeyEvent.VK_N:\n+      case KeyEvent.VK_O:\n+      case KeyEvent.VK_P:\n+      case KeyEvent.VK_Q:\n+      case KeyEvent.VK_R:\n+      case KeyEvent.VK_S:\n+      case KeyEvent.VK_T:\n+      case KeyEvent.VK_U:\n+      case KeyEvent.VK_V:\n+      case KeyEvent.VK_W:\n+      case KeyEvent.VK_X:\n+      case KeyEvent.VK_Y:\n+      case KeyEvent.VK_Z:\n+      case KeyEvent.VK_OPEN_BRACKET:\n+      case KeyEvent.VK_BACK_SLASH:\n+      case KeyEvent.VK_CLOSE_BRACKET:\n+      case KeyEvent.VK_NUMPAD0:\n+      case KeyEvent.VK_NUMPAD1:\n+      case KeyEvent.VK_NUMPAD2:\n+      case KeyEvent.VK_NUMPAD3:\n+      case KeyEvent.VK_NUMPAD4:\n+      case KeyEvent.VK_NUMPAD5:\n+      case KeyEvent.VK_NUMPAD6:\n+      case KeyEvent.VK_NUMPAD7:\n+      case KeyEvent.VK_NUMPAD8:\n+      case KeyEvent.VK_NUMPAD9:\n+      case KeyEvent.VK_MULTIPLY:\n+      case KeyEvent.VK_ADD:\n+      case KeyEvent.VK_SEPARATOR:\n+      case KeyEvent.VK_SUBTRACT:\n+      case KeyEvent.VK_DECIMAL:\n+      case KeyEvent.VK_DIVIDE:\n+      case KeyEvent.VK_DELETE:\n+      case KeyEvent.VK_NUM_LOCK:\n+      case KeyEvent.VK_SCROLL_LOCK:\n+      case KeyEvent.VK_F1:\n+      case KeyEvent.VK_F2:\n+      case KeyEvent.VK_F3:\n+      case KeyEvent.VK_F4:\n+      case KeyEvent.VK_F5:\n+      case KeyEvent.VK_F6:\n+      case KeyEvent.VK_F7:\n+      case KeyEvent.VK_F8:\n+      case KeyEvent.VK_F9:\n+      case KeyEvent.VK_F10:\n+      case KeyEvent.VK_F11:\n+      case KeyEvent.VK_F12:\n+      case KeyEvent.VK_F13:\n+      case KeyEvent.VK_F14:\n+      case KeyEvent.VK_F15:\n+      case KeyEvent.VK_F16:\n+      case KeyEvent.VK_F17:\n+      case KeyEvent.VK_F18:\n+      case KeyEvent.VK_F19:\n+      case KeyEvent.VK_F20:\n+      case KeyEvent.VK_F21:\n+      case KeyEvent.VK_F22:\n+      case KeyEvent.VK_F23:\n+      case KeyEvent.VK_F24:\n+      case KeyEvent.VK_PRINTSCREEN:\n+      case KeyEvent.VK_INSERT:\n+      case KeyEvent.VK_HELP:\n+      case KeyEvent.VK_META:\n+      case KeyEvent.VK_BACK_QUOTE:\n+      case KeyEvent.VK_QUOTE:\n+      case KeyEvent.VK_KP_UP:\n+      case KeyEvent.VK_KP_DOWN:\n+      case KeyEvent.VK_KP_LEFT:\n+      case KeyEvent.VK_KP_RIGHT:\n+      case KeyEvent.VK_DEAD_GRAVE:\n+      case KeyEvent.VK_DEAD_ACUTE:\n+      case KeyEvent.VK_DEAD_CIRCUMFLEX:\n+      case KeyEvent.VK_DEAD_TILDE:\n+      case KeyEvent.VK_DEAD_MACRON:\n+      case KeyEvent.VK_DEAD_BREVE:\n+      case KeyEvent.VK_DEAD_ABOVEDOT:\n+      case KeyEvent.VK_DEAD_DIAERESIS:\n+      case KeyEvent.VK_DEAD_ABOVERING:\n+      case KeyEvent.VK_DEAD_DOUBLEACUTE:\n+      case KeyEvent.VK_DEAD_CARON:\n+      case KeyEvent.VK_DEAD_CEDILLA:\n+      case KeyEvent.VK_DEAD_OGONEK:\n+      case KeyEvent.VK_DEAD_IOTA:\n+      case KeyEvent.VK_DEAD_VOICED_SOUND:\n+      case KeyEvent.VK_DEAD_SEMIVOICED_SOUND:\n+      case KeyEvent.VK_AMPERSAND:\n+      case KeyEvent.VK_ASTERISK:\n+      case KeyEvent.VK_QUOTEDBL:\n+      case KeyEvent.VK_LESS:\n+      case KeyEvent.VK_GREATER:\n+      case KeyEvent.VK_BRACELEFT:\n+      case KeyEvent.VK_BRACERIGHT:\n+      case KeyEvent.VK_AT:\n+      case KeyEvent.VK_COLON:\n+      case KeyEvent.VK_CIRCUMFLEX:\n+      case KeyEvent.VK_DOLLAR:\n+      case KeyEvent.VK_EURO_SIGN:\n+      case KeyEvent.VK_EXCLAMATION_MARK:\n+      case KeyEvent.VK_INVERTED_EXCLAMATION_MARK:\n+      case KeyEvent.VK_LEFT_PARENTHESIS:\n+      case KeyEvent.VK_NUMBER_SIGN:\n+      case KeyEvent.VK_PLUS:\n+      case KeyEvent.VK_RIGHT_PARENTHESIS:\n+      case KeyEvent.VK_UNDERSCORE:\n+      case KeyEvent.VK_FINAL:\n+      case KeyEvent.VK_CONVERT:\n+      case KeyEvent.VK_NONCONVERT:\n+      case KeyEvent.VK_ACCEPT:\n+      case KeyEvent.VK_MODECHANGE:\n+      case KeyEvent.VK_KANA:\n+      case KeyEvent.VK_KANJI:\n+      case KeyEvent.VK_ALPHANUMERIC:\n+      case KeyEvent.VK_KATAKANA:\n+      case KeyEvent.VK_HIRAGANA:\n+      case KeyEvent.VK_FULL_WIDTH:\n+      case KeyEvent.VK_HALF_WIDTH:\n+      case KeyEvent.VK_ROMAN_CHARACTERS:\n+      case KeyEvent.VK_ALL_CANDIDATES:\n+      case KeyEvent.VK_PREVIOUS_CANDIDATE:\n+      case KeyEvent.VK_CODE_INPUT:\n+      case KeyEvent.VK_JAPANESE_KATAKANA:\n+      case KeyEvent.VK_JAPANESE_HIRAGANA:\n+      case KeyEvent.VK_JAPANESE_ROMAN:\n+      case KeyEvent.VK_KANA_LOCK:\n+      case KeyEvent.VK_INPUT_METHOD_ON_OFF:\n+      case KeyEvent.VK_CUT:\n+      case KeyEvent.VK_COPY:\n+      case KeyEvent.VK_PASTE:\n+      case KeyEvent.VK_UNDO:\n+      case KeyEvent.VK_AGAIN:\n+      case KeyEvent.VK_FIND:\n+      case KeyEvent.VK_PROPS:\n+      case KeyEvent.VK_STOP:\n+      case KeyEvent.VK_COMPOSE:\n+      case KeyEvent.VK_ALT_GRAPH:\n+      case KeyEvent.VK_BEGIN:\n+      case KeyEvent.VK_CONTEXT_MENU:\n+      case KeyEvent.VK_WINDOWS:\n+        return true;\n+      default:\n+        return false;\n+      }\n+  }\n }"}, {"sha": "865da1d95943d92e6e2c9c363617496aa7363c01", "filename": "libjava/classpath/gnu/java/awt/ClasspathGraphicsEnvironment.java", "status": "renamed", "additions": 27, "deletions": 30, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FClasspathGraphicsEnvironment.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FClasspathGraphicsEnvironment.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FClasspathGraphicsEnvironment.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,5 +1,5 @@\n-/* Native implementation of functions in GThreadNativeMethodRunner\n-   Copyright (C) 2004 Free Software Foundation, Inc.\n+/* ClasspathGraphicsEnvironment.java\n+   Copyright (C) 2007 Free Software Foundation, Inc.\n \n This file is part of GNU Classpath.\n \n@@ -35,36 +35,33 @@ this exception to your version of the library, but you are not\n obligated to do so.  If you do not wish to do so, delete this\n exception statement from your version. */\n \n+package gnu.java.awt;\n \n-#include \"gnu_java_awt_peer_gtk_GThreadNativeMethodRunner.h\"\n-#include \"gthread-jni.h\"\n+import java.awt.GraphicsEnvironment;\n+import java.awt.image.ColorModel;\n+import java.awt.image.SampleModel;\n+import java.awt.image.WritableRaster;\n \n-/*\n- * Class:     GThreadNativeMethodRunner\n- * Method:    nativeRun\n- * Signature: (J)V\n- *\n- * Purpose: Run the C function whose function pointer is\n- *\n+/**\n+ * This class extends the GraphicsEnvironment API with some Classpath-specific\n+ * methods, in order to provide optimized graphics handling.\n+ * \n+ * @author Francis Kung <fkung@redhat.com>\n  */\n-JNIEXPORT void JNICALL\n-Java_gnu_java_awt_peer_gtk_GThreadNativeMethodRunner_nativeRun\n-  (JNIEnv *env __attribute__((unused)),\n-   jobject lcl_obj __attribute__((unused)),\n-   jlong funcAddr, jlong funcArg)\n+public abstract class ClasspathGraphicsEnvironment\n+    extends GraphicsEnvironment\n {\n-  /* Convert the function's address back into a pointer to a C function. */\n-  void *(*funcPtr)(void *) = (void *(*)(void *)) (size_t)funcAddr;\n-\n-  /* We do not need to worry about the return value from funcPtr(); it's\n-     just thrown away.  That is part of the g_threads spec, so no reason\n-     to worry about returning it.  */\n-  (void) funcPtr((void *) (size_t)funcArg);\n-  /* Fall off the end and terminate the thread of control. */\n+  /**\n+   * Returns an appropriate Raster that can efficiently back a\n+   * BufferedImage with the given ColorModel and SampleModel.\n+   * \n+   * @param cm The color model.\n+   * @param sm The samepl model.\n+   * @return An appropriate WritableRaster, or null if acceleration/optimization\n+   *         is not available for the given colour model / sample model.\n+   */\n+  public WritableRaster createRaster(ColorModel cm, SampleModel sm)\n+  {\n+    return null;\n+  }\n }\n-\f\n-/* Local Variables: */\n-/* c-file-style: \"gnu\" */\n-/* End: */\n-\n-", "previous_filename": "libjava/classpath/native/jni/gtk-peer/gnu_java_awt_peer_gtk_GThreadNativeMethodRunner.c"}, {"sha": "d78fbab4e1eedd5e415e524278483a40ecbf9036", "filename": "libjava/classpath/gnu/java/awt/ClasspathToolkit.java", "status": "modified", "additions": 25, "deletions": 20, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FClasspathToolkit.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FClasspathToolkit.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2FClasspathToolkit.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,36 +38,28 @@\n \n package gnu.java.awt;\n \n-import gnu.java.awt.EmbeddedWindow;\n+import gnu.java.awt.peer.ClasspathDesktopPeer;\n import gnu.java.awt.peer.ClasspathFontPeer;\n import gnu.java.awt.peer.EmbeddedWindowPeer;\n import gnu.java.security.action.SetAccessibleAction;\n \n import java.awt.AWTException;\n-import java.awt.Component;\n-import java.awt.Dimension;\n-import java.awt.DisplayMode;\n+import java.awt.Desktop;\n import java.awt.Font;\n-import java.awt.FontMetrics;\n+import java.awt.FontFormatException;\n import java.awt.GraphicsDevice;\n import java.awt.GraphicsEnvironment;\n-import java.awt.Image;\n-import java.awt.Point;\n+import java.awt.HeadlessException;\n import java.awt.Toolkit;\n-import java.awt.font.FontRenderContext;\n-import java.awt.image.ColorModel;\n-import java.awt.image.ImageProducer;\n+import java.awt.font.TextAttribute;\n+import java.awt.peer.DesktopPeer;\n import java.awt.peer.RobotPeer;\n-import java.io.File;\n+import java.io.IOException;\n import java.io.InputStream;\n import java.lang.reflect.Constructor;\n import java.lang.reflect.InvocationTargetException;\n-import java.net.MalformedURLException;\n-import java.net.URL;\n-import java.text.AttributedString;\n-import java.util.HashMap;\n-import java.util.Map;\n import java.security.AccessController;\n+import java.util.Map;\n \n import javax.imageio.spi.IIORegistry;\n \n@@ -118,7 +110,8 @@\n    * this font peer should have, such as size, weight, family name, or\n    * transformation.\n    */\n-  public abstract ClasspathFontPeer getClasspathFontPeer (String name, Map attrs); \n+  public abstract ClasspathFontPeer getClasspathFontPeer (String name,\n+                                                          Map<?,?> attrs); \n \n   /** \n    * Creates a {@link Font}, in a platform-specific manner.\n@@ -137,9 +130,8 @@ public Font getFont (String name, Map attrs)\n     try\n       {\n         Constructor fontConstructor = Font.class.getDeclaredConstructor\n-          (new Class[] { String.class, Map.class });\n-        AccessController.doPrivileged\n-          (new SetAccessibleAction(fontConstructor));\n+                                      (new Class[] { String.class, Map.class });\n+        AccessController.doPrivileged(new SetAccessibleAction(fontConstructor));\n         f = (Font) fontConstructor.newInstance(new Object[] { name, attrs });\n       }\n     catch (IllegalAccessException e)\n@@ -224,5 +216,18 @@ public int getMouseNumberOfButtons()\n    {\n      return -1;\n    }\n+   \n+   /* (non-Javadoc)\n+    * @see java.awt.Toolkit#createDesktopPeer(java.awt.Desktop)\n+    */\n+   protected DesktopPeer createDesktopPeer(Desktop target)\n+     throws HeadlessException\n+   {\n+     if (GraphicsEnvironment.isHeadless())\n+       throw new HeadlessException();\n+     \n+     return ClasspathDesktopPeer.getDesktop();\n+   }\n+\n }\n "}, {"sha": "030f9d3bca588df68e90b8aa9f7718eb3dab82d8", "filename": "libjava/classpath/gnu/java/awt/font/FontDelegate.java", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2FFontDelegate.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2FFontDelegate.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2FFontDelegate.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -61,6 +61,13 @@\n  */\n public interface FontDelegate\n {\n+  public static final int FLAG_FITTED = 1 << 0;\n+  public static final int FLAG_NO_HINT_HORIZONTAL = 1 << 1;\n+  public static final int FLAG_NO_HINT_VERTICAL = 1 << 2;\n+  public static final int FLAG_NO_HINT_EDGE_POINTS = 1 << 3;\n+  public static final int FLAG_NO_HINT_STRONG_POINTS = 1 << 4;\n+  public static final int FLAG_NO_HINT_WEAK_POINTS = 1 << 5;\n+\n   /**\n    * Returns the full name of this font face in the specified\n    * locale, for example <i>&#x201c;Univers Light&#x201d;</i>.\n@@ -221,7 +228,8 @@ public GeneralPath getGlyphOutline(int glyphIndex,\n                                      float pointSize,\n                                      AffineTransform transform,\n                                      boolean antialias,\n-                                     boolean fractionalMetrics);\n+                                     boolean fractionalMetrics,\n+                                     int type);\n \n \n   /**"}, {"sha": "2f73dce77b0f65e10c59c9611ee59ac16d22d9fd", "filename": "libjava/classpath/gnu/java/awt/font/GNUGlyphVector.java", "status": "modified", "additions": 47, "deletions": 2, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2FGNUGlyphVector.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2FGNUGlyphVector.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2FGNUGlyphVector.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -164,7 +164,9 @@ public void performDefaultLayout()\n                               renderContext.usesFractionalMetrics(),\n                               /* horizontal */ true,\n                               advance);\n-      pos[p] = x += advance.x;\n+      // FIXME: We shouldn't round here, but instead hint the metrics\n+      // correctly.\n+      pos[p] = x += Math.round(advance.x);\n       pos[p + 1] = y += advance.y;\n     }\n     valid = true;\n@@ -284,6 +286,22 @@ public Shape getOutline(float x, float y)\n     return outline;\n   }\n \n+  public Shape getOutline(float x, float y, int type)\n+  {\n+    validate();\n+\n+    GeneralPath outline = new GeneralPath();\n+    int len = glyphs.length;\n+    for (int i = 0; i < len; i++)\n+      {\n+        GeneralPath p = new GeneralPath(getGlyphOutline(i, type));\n+        outline.append(p, false);\n+      }\n+    AffineTransform t = new AffineTransform();\n+    t.translate(x, y);\n+    outline.transform(t);\n+    return outline;\n+  }\n \n   /**\n    * Determines the shape of the specified glyph.\n@@ -309,14 +327,41 @@ public Shape getGlyphOutline(int glyphIndex)\n \n     path = fontDelegate.getGlyphOutline(glyphs[glyphIndex], fontSize, tx,\n                                         renderContext.isAntiAliased(),\n-                                        renderContext.usesFractionalMetrics());\n+                                        renderContext.usesFractionalMetrics(),\n+                                        FontDelegate.FLAG_FITTED);\n \n     tx = new AffineTransform();\n     tx.translate(pos[glyphIndex * 2], pos[glyphIndex * 2 + 1]);\n     path.transform(tx);\n     return path;\n   }\n \n+  public Shape getGlyphOutline(int glyphIndex, int type)\n+  {\n+    AffineTransform tx, glyphTx;\n+    GeneralPath path;\n+\n+    validate();\n+\n+    if ((transforms != null)\n+        && ((glyphTx = transforms[glyphIndex]) != null))\n+    {\n+      tx =  new AffineTransform(transform);\n+      tx.concatenate(glyphTx);\n+    }\n+    else\n+      tx = transform;\n+\n+    path = fontDelegate.getGlyphOutline(glyphs[glyphIndex], fontSize, tx,\n+                                        renderContext.isAntiAliased(),\n+                                        renderContext.usesFractionalMetrics(),\n+                                        type);\n+\n+    tx = new AffineTransform();\n+    tx.translate(pos[glyphIndex * 2], pos[glyphIndex * 2 + 1]);\n+    path.transform(tx);\n+    return path;\n+  }\n \n   /**\n    * Determines the position of the specified glyph, or the"}, {"sha": "b0420ab7a2dcb07122744d52687a40e57e87d67f", "filename": "libjava/classpath/gnu/java/awt/font/autofit/AutoHinter.java", "status": "added", "additions": 83, "deletions": 0, "changes": 83, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FAutoHinter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FAutoHinter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FAutoHinter.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,83 @@\n+/* AutoHinter.java -- The entry point into the hinter implementation.\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.font.autofit;\n+\n+import gnu.java.awt.font.opentype.Hinter;\n+import gnu.java.awt.font.opentype.OpenTypeFont;\n+import gnu.java.awt.font.opentype.truetype.Fixed;\n+import gnu.java.awt.font.opentype.truetype.Zone;\n+\n+/**\n+ * The public interface to the automatic gridfitter.\n+ */\n+public class AutoHinter\n+  implements Hinter\n+{\n+  Latin latinScript;\n+  LatinMetrics metrics;\n+  GlyphHints hints;\n+\n+  HintScaler scaler = new HintScaler();\n+  public void init(OpenTypeFont font)\n+  {\n+    // TODO: Should support other scripts too.\n+    latinScript = new Latin();\n+    metrics = new LatinMetrics(font);\n+    latinScript.initMetrics(metrics, font);\n+    scaler.face = font;\n+  }\n+\n+  public void applyHints(Zone outline)\n+  {\n+    if (hints == null)\n+      hints = new GlyphHints();\n+    scaler.xScale = Fixed.valueOf16(outline.scaleX * 64);\n+    scaler.yScale = Fixed.valueOf16(outline.scaleY * 64);\n+    latinScript.scaleMetrics(metrics, scaler);\n+    latinScript.applyHints(hints, outline, metrics);\n+  }\n+\n+  public void setFlags(int flags)\n+  {\n+    if (hints == null)\n+      hints = new GlyphHints();\n+    hints.flags = flags;\n+  }\n+\n+}"}, {"sha": "87f2abcc3dfa1f418c54dad338da23df25b65784", "filename": "libjava/classpath/gnu/java/awt/font/autofit/AxisHints.java", "status": "modified", "additions": 68, "deletions": 1, "changes": 69, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FAxisHints.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FAxisHints.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FAxisHints.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,4 +1,4 @@\n-/* AxisHints.java -- FIXME: briefly describe file purpose\n+/* AxisHints.java -- Hints specific to an axis\n    Copyright (C) 2006 Free Software Foundation, Inc.\n \n This file is part of GNU Classpath.\n@@ -42,4 +42,71 @@\n {\n \n   Segment[] segments;\n+  int majorDir;\n+  int numSegments;\n+  int numEdges;\n+  Edge[] edges;\n+\n+  AxisHints()\n+  {\n+    segments = new Segment[4];\n+    edges = new Edge[4];\n+  }\n+\n+  Segment newSegment()\n+  {\n+    if (numSegments >= segments.length)\n+      {\n+        // Grow array.\n+        int newMax = segments.length;\n+        newMax += (newMax >> 2) + 4; // From FreeType.\n+        Segment[] newSegs = new Segment[newMax];\n+        System.arraycopy(segments, 0, newSegs, 0, numSegments);\n+        segments = newSegs;\n+      }\n+    Segment seg = new Segment();\n+    segments[numSegments] = seg;\n+    numSegments++;\n+    return seg;\n+  }\n+\n+  public Edge newEdge(int pos)\n+  {\n+    if (numEdges >= edges.length)\n+      {\n+        // Grow array.\n+        int newMax = edges.length;\n+        newMax += (newMax >> 2) + 4; // From FreeType.\n+        Edge[] newEdges = new Edge[newMax];\n+        System.arraycopy(edges, 0, newEdges, 0, numEdges);\n+        edges = newEdges;\n+      }\n+    int edgeIndex = numEdges;\n+    Edge edge = edges[edgeIndex] = new Edge();\n+    while (edgeIndex > 0 && edges[edgeIndex - 1].fpos > pos)\n+      {\n+        edges[edgeIndex] = edges[edgeIndex - 1];\n+        edgeIndex--;\n+      }\n+    edges[edgeIndex] = edge;\n+    numEdges++;\n+    edge.fpos = pos;\n+\n+    return edge;\n+\n+  }\n+\n+  int getEdgeIndex(Edge edge2)\n+  {\n+    int idx = -1;\n+    for (int i = 0; i < numEdges; i++)\n+      {\n+        if (edges[i] == edge2)\n+          {\n+            idx = i;\n+            break;\n+          }\n+      }\n+    return idx;\n+  }\n }"}, {"sha": "c5b90fa5485a809f68da3922439bdc953f7b5027", "filename": "libjava/classpath/gnu/java/awt/font/autofit/Constants.java", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FConstants.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FConstants.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FConstants.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -58,4 +58,29 @@\n    * The number of dimensions.\n    */\n   static final int DIMENSION_MAX = 2;\n+\n+  /**\n+   * Indicates a vector with no specific direction.\n+   */\n+  static final int DIR_NONE = 0;\n+\n+  /**\n+   * Right direction.\n+   */\n+  static final int DIR_RIGHT = 1;\n+\n+  /**\n+   * Left direction.\n+   */\n+  static final int DIR_LEFT = -1;\n+\n+  /**\n+   * Up direction.\n+   */\n+  static final int DIR_UP = 2;\n+\n+  /**\n+   * Down direction.\n+   */\n+  static final int DIR_DOWN = -2;\n }"}, {"sha": "d9736650b5f7cf9b0bb2cce8776264aea6517cd7", "filename": "libjava/classpath/gnu/java/awt/font/autofit/Edge.java", "status": "added", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FEdge.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FEdge.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FEdge.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,80 @@\n+/* Edge.java -- An edge of segments\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.font.autofit;\n+\n+class Edge\n+{\n+  int fpos;\n+  Segment first;\n+  Segment last;\n+  int opos;\n+  Edge link;\n+  Edge serif;\n+  int flags;\n+  int dir;\n+  Width blueEdge;\n+  int pos;\n+  int scale;\n+\n+  public String toString()\n+  {\n+    StringBuilder s = new StringBuilder();\n+    s.append(\"[Edge] id\");\n+    s.append(hashCode());\n+    s.append(\", fpos: \");\n+    s.append(fpos);\n+    s.append(\", opos: \");\n+    s.append(opos);\n+    s.append(\", pos: \");\n+    s.append(pos);\n+    s.append(\", dir: \");\n+    s.append(dir);\n+    s.append(\", serif: \");\n+    s.append(serif != null ? serif.hashCode() : \"null\");\n+    s.append(\", link: \");\n+    s.append(link != null ? link.hashCode() : \"null\");\n+    s.append(\", flags: \" + flags);\n+    s.append(\", blue: \" + blueEdge);\n+    s.append(\", first: \");\n+    s.append(first == null ? \"null\" : first.hashCode());\n+    s.append(\", last: \");\n+    s.append(last == null ? \"null\" : last.hashCode());\n+    return s.toString();\n+  }\n+}"}, {"sha": "72f07ed81fc5857f7f9b57d9a80e813a7cf1dbda", "filename": "libjava/classpath/gnu/java/awt/font/autofit/GlyphHints.java", "status": "modified", "additions": 572, "deletions": 7, "changes": 579, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FGlyphHints.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FGlyphHints.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FGlyphHints.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,12 +38,16 @@\n \n package gnu.java.awt.font.autofit;\n \n+import gnu.java.awt.font.FontDelegate;\n+import gnu.java.awt.font.opentype.truetype.Fixed;\n+import gnu.java.awt.font.opentype.truetype.Point;\n import gnu.java.awt.font.opentype.truetype.Zone;\n \n /**\n  * The data and methods used for the actual hinting process.\n  */\n class GlyphHints\n+  implements Constants\n {\n \n   int xScale;\n@@ -53,23 +57,584 @@\n \n   AxisHints[] axis;\n \n-  void rescale(ScriptMetrics metrics)\n+  Point[] points;\n+  int numPoints;\n+  int maxPoints;\n+\n+  Point[] contours;\n+  int numContours;\n+  int maxContours;\n+\n+  ScriptMetrics metrics;\n+\n+  int flags;\n+\n+  GlyphHints()\n+  {\n+    axis = new AxisHints[Constants.DIMENSION_MAX];\n+    axis[Constants.DIMENSION_VERT] = new AxisHints();\n+    axis[Constants.DIMENSION_HORZ] = new AxisHints();\n+\n+    xScale = Fixed.ONE;\n+    yScale = Fixed.ONE;\n+  }\n+\n+  void rescale(ScriptMetrics m)\n   {\n-    // TODO: Implement.\n+    metrics = m;\n+    // TODO: Copy scalerFlags.\n   }\n   \n   void reload(Zone outline)\n   {\n-    // TODO: Implement.\n+    numPoints = 0;\n+    numContours = 0;\n+    axis[0].numSegments = 0;\n+    axis[0].numEdges = 0;\n+    axis[1].numSegments = 0;\n+    axis[1].numEdges = 0;\n+\n+    // Create/reallocate the contours array.\n+    int newMax = outline.getNumContours();\n+    if (newMax > maxContours || contours == null)\n+      {\n+        newMax = (newMax + 3) & ~3; // Taken from afhints.c .\n+        Point[] newContours = new Point[newMax];\n+        if (contours != null)\n+          {\n+            System.arraycopy(contours, 0, newContours, 0, maxContours);\n+          }\n+        contours = newContours;\n+        maxContours = newMax;\n+      }\n+\n+    // Create/reallocate the points array.\n+    newMax = outline.getSize() + 2;\n+    if (newMax > maxPoints || points == null)\n+      {\n+        newMax = (newMax + 2 + 7) & ~7; // Taken from afhints.c .\n+        Point[] newPoints = new Point[newMax];\n+        if (points != null)\n+          {\n+            System.arraycopy(points, 0, newPoints, 0, maxPoints);\n+          }\n+        points = newPoints;\n+        maxPoints = newMax;\n+      }\n+\n+    numPoints = outline.getSize() - 4; // 4 phantom points.\n+    numContours = outline.getNumContours();\n+\n+    // Set major direction. We don't handle Type 1 fonts yet.\n+    axis[DIMENSION_HORZ].majorDir = DIR_UP;\n+    axis[DIMENSION_VERT].majorDir = DIR_LEFT;\n+\n+    // TODO: Freetype seems to scale and translate the glyph at that point.\n+    // I suppose that this is not really needed.\n+    // The scales are scaling from font units to 1/64 device pixels.\n+    xScale = Fixed.valueOf16(outline.scaleX * 64);\n+    yScale = Fixed.valueOf16(outline.scaleY * 64);\n+\n+    // FIXME: What is that xDelta and yDelta used for?\n+    System.arraycopy(outline.getPoints(), 0, points, 0, numPoints);\n+\n+    // Setup prev and next and contours array.\n+    // TODO: Probably cache this.\n+    contours = new Point[numContours];\n+    Point currentContour = points[0];\n+    for (int i = 0, cIndex = 0; i < numPoints; i++)\n+      {\n+        // Start new contour when the last point has been a contour end.\n+        if (outline.isContourEnd(i))\n+          {\n+            // Connect the contour end point to the start point.\n+            points[i].setNext(currentContour);\n+            currentContour.setPrev(points[i]);\n+            contours[cIndex] = currentContour;\n+            cIndex++;\n+            currentContour = i < numPoints - 1 ? points[i + 1] : null;\n+          }\n+        else\n+          {\n+            // Connect the current and the previous point.\n+            points[i].setNext(points[i + 1]);\n+            points[i + 1].setPrev(points[i]);\n+          }\n+      }\n+    // Compute directions of in and out vectors of all points as well\n+    // as the weak point flag.\n+    for (int i = 0; i < numPoints; i++)\n+      {\n+        // Compute in and out dir.\n+        Point p = points[i];\n+        Point prev = p.getPrev();\n+        int inX = p.getOrigX() - prev.getOrigX();\n+        int inY = p.getOrigY() - prev.getOrigY();\n+        p.setInDir(Utils.computeDirection(inX, inY));\n+        Point next = p.getNext();\n+        int outX = next.getOrigX() - p.getOrigX();\n+        int outY = next.getOrigY() - p.getOrigY();\n+        p.setOutDir(Utils.computeDirection(outX, outY));\n+\n+        if (p.isControlPoint())\n+          {\n+            setWeakPoint(p);\n+          }\n+        else if (p.getOutDir() == p.getInDir())\n+          {\n+            if (p.getOutDir() != DIR_NONE)\n+              setWeakPoint(p);\n+            else\n+              {\n+                int angleIn = Utils.atan(inY, inX);\n+                int angleOut = Utils.atan(outY, outX);\n+                int delta = Utils.angleDiff(angleIn, angleOut);\n+                if (delta < 2 && delta > -2)\n+                  setWeakPoint(p);\n+              }\n+          }\n+        else if (p.getInDir() == - p.getOutDir())\n+          {\n+            setWeakPoint(p);\n+          }\n+      }\n+    computeInflectionPoints();\n+  }\n+\n+  private void setWeakPoint(Point p)\n+  {\n+    p.setFlags((byte) (p.getFlags() | Point.FLAG_WEAK_INTERPOLATION));\n+  }\n+\n+  /**\n+   * Computes the inflection points for a glyph.\n+   */\n+  private void computeInflectionPoints()\n+  {\n+    // Do each contour separately.\n+    contours : for (int c = 0; c < contours.length; c++)\n+      {\n+        Point point = contours[c];\n+        Point first = point;\n+        Point start = point;\n+        Point end = point;\n+        do\n+          {\n+            end = end.getNext();\n+            if (end == first)\n+              continue contours;\n+          } while (end.getOrigX() == first.getOrigX()\n+                   && end.getOrigY() == first.getOrigY());\n+\n+        // Extend segment start whenever possible.\n+        Point before = start;\n+        int angleIn;\n+        int angleSeg = Utils.atan(end.getOrigX() - start.getOrigX(),\n+                                  end.getOrigY() - start.getOrigY());\n+        do\n+          {\n+            do\n+              {\n+                start = before;\n+                before = before.getPrev();\n+                if (before == first)\n+                  continue contours;\n+              } while (before.getOrigX() == start.getOrigX()\n+                       && before.getOrigY() == start.getOrigY());\n+            angleIn = Utils.atan(start.getOrigX() - before.getOrigX(),\n+                                 start.getOrigY() - before.getOrigY());\n+          } while (angleIn == angleSeg);\n+\n+        first = start;\n+        int diffIn = Utils.angleDiff(angleIn, angleSeg);\n+        // Now, process all segments in the contour.\n+        Point after;\n+        boolean finished = false;\n+        int angleOut, diffOut;\n+        do\n+          {\n+            // First, extend the current segment's end whenever possible.\n+            after = end;\n+            do\n+              {\n+                do\n+                  {\n+                    end = after;\n+                    after = after.getNext();\n+                    if (after == first)\n+                      finished = true;\n+                  } while (end.getOrigX() == after.getOrigX()\n+                           && end.getOrigY() == after.getOrigY());\n+                angleOut = Utils.atan(after.getOrigX() - end.getOrigX(),\n+                                      after.getOrigY() - end.getOrigY());\n+              } while (angleOut == angleSeg);\n+            diffOut = Utils.angleDiff(angleSeg, angleOut);\n+            if ((diffIn ^ diffOut) < 0)\n+              {\n+                // diffIn and diffOut have different signs, we have\n+                // inflection points here.\n+                do\n+                  {\n+                    start.addFlags(Point.FLAG_INFLECTION);\n+                    start = start.getNext();\n+                  } while (start != end);\n+                start.addFlags(Point.FLAG_INFLECTION);\n+              }\n+            start = end;\n+            end = after;\n+            angleSeg = angleOut;\n+            diffIn = diffOut;\n+          } while (! finished);\n+      }\n+  }\n+\n+  boolean doHorizontal()\n+  {\n+    return (flags & FontDelegate.FLAG_NO_HINT_HORIZONTAL) == 0;\n+  }\n+\n+  boolean doVertical()\n+  {\n+    return (flags & FontDelegate.FLAG_NO_HINT_VERTICAL) == 0;\n+  }\n+\n+  void alignWeakPoints(int dim)\n+  {\n+    short touchFlag;\n+    Point point;\n+    // PASS 1 : Move segments to edge positions.\n+    if (dim == DIMENSION_HORZ)\n+      {\n+        touchFlag = Point.FLAG_DONE_X;\n+        for (int p = 0; p < numPoints; p++)\n+          {\n+            point = points[p];\n+            point.setU(point.getX());\n+            point.setV(point.getScaledX());\n+          }\n+      }\n+    else\n+      {\n+        touchFlag = Point.FLAG_DONE_Y;\n+        for (int p = 0; p < numPoints; p++)\n+          {\n+            point = points[p];\n+            point.setU(point.getY());\n+            point.setV(point.getScaledY());\n+          }\n+      }\n+    point = points[0];\n+    for (int c = 0; c < numContours; c++)\n+      {\n+        point = contours[c];\n+        int idx = getPointIndex(point);\n+        Point endPoint = point.getPrev();\n+        int endIdx = getPointIndex(endPoint);\n+        int firstIdx = idx;\n+        while (idx <=  endIdx\n+            && (point.getFlags() & touchFlag) == 0)\n+          {\n+            idx++;\n+            point = points[idx];\n+          }\n+        if (idx <= endIdx)\n+          {\n+            int firstTouched = idx;\n+            int curTouched = idx;\n+            idx++;\n+            point = points[idx];\n+            while (idx <= endIdx)\n+              {\n+                if ((point.getFlags() & touchFlag) != 0)\n+                  {\n+                    // We found two successive touch points. We interpolate\n+                    // all contour points between them.\n+                    iupInterp(curTouched + 1, idx - 1, curTouched, idx);\n+                    curTouched = idx;\n+                  }\n+                idx++;\n+                point = points[idx];\n+              }\n+            if (curTouched == firstTouched)\n+              {\n+                // This is a special case: Only one point was touched in the\n+                // contour. We thus simply shift the whole contour.\n+                iupShift(firstIdx, endIdx, curTouched);\n+              }\n+            else\n+              {\n+                // Now interpolate after the last touched point to the end\n+                // of the contour.\n+                iupInterp(curTouched + 1, endIdx, curTouched, firstTouched);\n+                // If the first contour point isn't touched, interpolate\n+                // from the contour start to the first touched point.\n+                if (firstTouched > 0)\n+                  {\n+                    iupInterp(firstIdx, firstTouched - 1, curTouched,\n+                              firstTouched);\n+                  }\n+              }\n+          }\n+      }\n+    // Now store the values back.\n+    if (dim == DIMENSION_HORZ)\n+      {\n+        for (int p = 0; p < numPoints; p++)\n+          {\n+            point = points[p];\n+            point.setX(point.getU());\n+          }\n+      }\n+    else\n+      {\n+        for (int p = 0; p < numPoints; p++)\n+          {\n+            point = points[p];\n+            point.setY(point.getU());\n+          }\n+      }\n+  }\n+\n+  private void iupShift(int p1, int p2, int ref)\n+  {\n+    int delta = points[ref].getU() - points[ref].getV();\n+    for (int p = p1; p < ref; p++)\n+      {\n+        points[p].setU(points[p].getV() + delta);\n+      }\n+    for (int p = ref + 1; p <= p2; p++)\n+      {\n+        points[p].setU(points[p].getV() + delta);\n+      }\n+  }\n+\n+  private void iupInterp(int p1, int p2, int ref1, int ref2)\n+  {\n+    int v1 = points[ref1].getV();\n+    int v2 = points[ref2].getV();\n+    int d1 = points[ref1].getU() - v1;\n+    int d2 = points[ref2].getU() - v2;\n+    if (p1 > p2)\n+      return;\n+    if (v1 == v2)\n+      {\n+        for (int p = p1; p <= p2; p++)\n+          {\n+            int u = points[p].getV();\n+            if (u <= v1)\n+              u += d1;\n+            else\n+              u += d2;\n+            points[p].setU(u);\n+          }\n+      }\n+    else if (v1 < v2)\n+      {\n+        for (int p = p1; p <= p2; p++)\n+          {\n+            int u = points[p].getV();\n+            if (u <= v1)\n+              u += d1;\n+            else if (u >= v2)\n+              u += d2;\n+            else\n+              {\n+                u = points[ref1].getU() + Utils.mulDiv(u - v1,\n+                                                       points[ref2].getU()\n+                                                       - points[ref1].getU(),\n+                                                       v2 - v1);\n+              }\n+            points[p].setU(u);\n+          }\n+      }\n+    else\n+      {\n+        for (int p = p1; p <= p2; p++)\n+          {\n+            int u = points[p].getV();\n+            if (u <= v2)\n+              u += d2;\n+            else if (u >= v1)\n+              u += d1;\n+            else\n+              {\n+                u = points[ref1].getU() + Utils.mulDiv(u - v1,\n+                                                       points[ref2].getU()\n+                                                       - points[ref1].getU(),\n+                                                       v2 - v1);\n+              }\n+            points[p].setU(u);\n+          }\n+      }\n+  }\n+\n+  void alignStrongPoints(int dim)\n+  {\n+    AxisHints ax = axis[dim];\n+    Edge[] edges = ax.edges;\n+    int numEdges = ax.numEdges;\n+    short touchFlag;\n+    if (dim == DIMENSION_HORZ)\n+      touchFlag = Point.FLAG_DONE_X;\n+    else\n+      touchFlag = Point.FLAG_DONE_Y;\n+\n+    if (numEdges > 0)\n+      {\n+        for (int p = 0; p < numPoints; p++)\n+          {\n+            Point point = points[p];\n+            if ((point.getFlags() & touchFlag) != 0)\n+              continue;\n+            // If this point is a candidate for weak interpolation, we\n+            // interpolate it after all strong points have been processed.\n+            if ((point.getFlags() & Point.FLAG_WEAK_INTERPOLATION) != 0\n+                && (point.getFlags() & Point.FLAG_INFLECTION) == 0)\n+              continue;\n+\n+            int u, ou, fu, delta;\n+            if (dim == DIMENSION_VERT)\n+              {\n+                u = point.getOrigY();\n+                ou = point.getScaledY();\n+              }\n+            else\n+              {\n+                u = point.getOrigX();\n+                ou = point.getScaledX();\n+              }\n+            fu = u;\n+            // Is the point before the first edge?\n+            Edge edge = edges[0];\n+            // Inversed vertical dimension.\n+            delta = edge.fpos - u;\n+            if (delta >= 0)\n+              {\n+                u = edge.pos - (edge.opos - ou);\n+                storePoint(point, u, dim, touchFlag);\n+              }\n+            else\n+              {\n+                // Is the point after the last edge?\n+                edge = edges[numEdges - 1];\n+                delta = u - edge.fpos;\n+                if (delta >= 0)\n+                  {\n+                    u = edge.pos + (ou - edge.opos);\n+                    storePoint(point, u, dim, touchFlag);\n+                  }\n+                else\n+                  {\n+                    // Find enclosing edges.\n+                    int min = 0;\n+                    int max = numEdges;\n+                    int mid, fpos;\n+                    boolean found = false;\n+                    while (min < max)\n+                      {\n+                        mid = (max + min) / 2;\n+                        edge = edges[mid];\n+                        fpos = edge.fpos;\n+                        if (u < fpos)\n+                          max = mid;\n+                        else if (u > fpos)\n+                          min = mid + 1;\n+                        else\n+                          {\n+                            // Directly on the edge.\n+                            u = edge.pos;\n+                            storePoint(point, u, dim, touchFlag);\n+                            found = true;\n+                            break;\n+                          }\n+                      }\n+                    if (! found)\n+                      {\n+                        Edge before = edges[min - 1];\n+                        Edge after = edges[min];\n+                        if (before.scale == 0)\n+                          {\n+                            before.scale = Fixed.div16(after.pos - before.pos,\n+                                                     after.fpos - before.fpos);\n+                          }\n+                        u = before.pos + Fixed.mul16(fu - before.fpos,\n+                                                     before.scale);\n+                      }\n+                    storePoint(point, u, dim, touchFlag);\n+                  }\n+              }\n+          }\n+      }\n+  }\n+\n+  private void storePoint(Point p, int u, int dim, short touchFlag)\n+  {\n+    if (dim == DIMENSION_HORZ)\n+      p.setX(u);\n+    else\n+      p.setY(u);\n+    p.addFlags(touchFlag);\n+  }\n+\n+  void alignEdgePoints(int dim)\n+  {\n+    AxisHints ax = axis[dim];\n+    Edge[] edges = ax.edges;\n+    int numEdges = ax.numEdges;\n+    for (int e = 0; e < numEdges; e++)\n+      {\n+        Edge edge = edges[e];\n+        Segment seg = edge.first;\n+        do\n+          {\n+            Point point = seg.first;\n+            while (true)\n+              {\n+                if (dim == DIMENSION_HORZ)\n+                  {\n+                    point.setX(edge.pos);\n+                    point.addFlags(Point.FLAG_DONE_X);\n+                  }\n+                else\n+                  {\n+                    point.setY(edge.pos);\n+                    point.addFlags(Point.FLAG_DONE_Y);\n+                  }\n+                if (point == seg.last)\n+                  break;\n+                point = point.getNext();\n+              }\n+            seg = seg.edgeNext;\n+          } while (seg != edge.first);\n+      }\n+  }\n+\n+  private int getPointIndex(Point p)\n+  {\n+    int idx = -1;\n+    for (int i = 0; i < numPoints; i++)\n+      {\n+        if (p == points[i])\n+          {\n+            idx = i;\n+            break;\n+          }\n+      }\n+    return idx;\n+  }\n+\n+  public boolean doAlignEdgePoints()\n+  {\n+    return (flags & FontDelegate.FLAG_NO_HINT_EDGE_POINTS) == 0;\n   }\n \n-  void computeSegments(int dim)\n+  public boolean doAlignStrongPoints()\n   {\n-    // TODO: Implement.\n+    return (flags & FontDelegate.FLAG_NO_HINT_STRONG_POINTS) == 0;\n   }\n \n-  void linkSegments(int dim)\n+  public boolean doAlignWeakPoints()\n   {\n-    // TODO: Implement.\n+    return (flags & FontDelegate.FLAG_NO_HINT_WEAK_POINTS) == 0;\n   }\n }"}, {"sha": "01276b4db01e369bf1a4607f38edb9a0eb10d8d6", "filename": "libjava/classpath/gnu/java/awt/font/autofit/HintScaler.java", "status": "renamed", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FHintScaler.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FHintScaler.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FHintScaler.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -40,13 +40,14 @@\n \n import gnu.java.awt.font.opentype.OpenTypeFont;\n \n-class Scaler\n+class HintScaler\n {\n \n   int xScale;\n   int xDelta;\n   int yScale;\n   int yDelta;\n   OpenTypeFont face;\n-  \n+  int renderMode;\n+\n }", "previous_filename": "libjava/classpath/gnu/java/awt/font/autofit/Scaler.java"}, {"sha": "8951e8b19db7c9858b04744b9087cc7a954390bb", "filename": "libjava/classpath/gnu/java/awt/font/autofit/Latin.java", "status": "modified", "additions": 1200, "deletions": 14, "changes": 1214, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatin.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatin.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatin.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -39,8 +39,11 @@\n package gnu.java.awt.font.autofit;\n \n import java.awt.geom.AffineTransform;\n+import java.util.HashSet;\n \n import gnu.java.awt.font.opentype.OpenTypeFont;\n+import gnu.java.awt.font.opentype.truetype.Fixed;\n+import gnu.java.awt.font.opentype.truetype.Point;\n import gnu.java.awt.font.opentype.truetype.Zone;\n \n /**\n@@ -50,12 +53,476 @@\n   implements Script, Constants\n {\n \n-  private static final int MAX_WIDTHS = 16;\n+  static final int MAX_WIDTHS = 16;\n \n-  public void applyHints(GlyphHints hints, ScriptMetrics metrics)\n+  private final static int MAX_TEST_CHARS = 12;\n+\n+  /**\n+   * The types of the 6 blue zones.\n+   */\n+  private static final int CAPITAL_TOP = 0;\n+  private static final int CAPITAL_BOTTOM = 1;\n+  private static final int SMALL_F_TOP = 2;\n+  private static final int SMALL_TOP = 3;\n+  private static final int SMALL_BOTTOM = 4;\n+  private static final int SMALL_MINOR = 5;\n+  static final int BLUE_MAX = 6;\n+\n+  /**\n+   * The test chars for the blue zones.\n+   *\n+   * @see #initBlues(LatinMetrics, OpenTypeFont)\n+   */\n+  private static final String[] TEST_CHARS =\n+    new String[]{\"THEZOCQS\", \"HEZLOCUS\", \"fijkdbh\",\n+                 \"xzroesc\", \"xzroesc\", \"pqgjy\"};\n+\n+  public void applyHints(GlyphHints hints, Zone outline, ScriptMetrics metrics)\n+  {\n+    hints.reload(outline);\n+    hints.rescale(metrics);\n+    if (hints.doHorizontal())\n+      {\n+        detectFeatures(hints, DIMENSION_HORZ);\n+      }\n+    if (hints.doVertical())\n+      {\n+        detectFeatures(hints, DIMENSION_VERT);\n+        computeBlueEdges(hints, (LatinMetrics) metrics);\n+      }\n+    // Grid-fit the outline.\n+    for (int dim = 0; dim < DIMENSION_MAX; dim++)\n+      {\n+        if (dim == DIMENSION_HORZ && hints.doHorizontal()\n+            || dim == DIMENSION_VERT && hints.doVertical())\n+          {\n+            hintEdges(hints, dim);\n+            if (hints.doAlignEdgePoints())\n+              hints.alignEdgePoints(dim);\n+            if (hints.doAlignStrongPoints())\n+              hints.alignStrongPoints(dim);\n+            if (hints.doAlignWeakPoints())\n+              hints.alignWeakPoints(dim);\n+            \n+         }\n+      }\n+    // FreeType does a save call here. I guess that's not needed as we operate\n+    // on the live glyph data anyway.\n+  }\n+\n+  private void hintEdges(GlyphHints hints, int dim)\n+  {\n+    AxisHints axis = hints.axis[dim];\n+    Edge[] edges = axis.edges;\n+    int numEdges = axis.numEdges;\n+    Edge anchor = null;\n+    int hasSerifs = 0;\n+\n+    // We begin by aligning all stems relative to the blue zone if\n+    // needed -- that's only for horizontal edges.\n+    if (dim == DIMENSION_VERT)\n+      {\n+        for (int e = 0; e < numEdges; e++)\n+          {\n+            Edge edge = edges[e];\n+            if ((edge.flags & Segment.FLAG_EDGE_DONE) != 0)\n+              continue;\n+\n+            Width blue = edge.blueEdge;\n+            Edge edge1 = null;\n+            Edge edge2 = edge.link;\n+            if (blue != null)\n+              {\n+                edge1 = edge;\n+              }\n+            else if (edge2 != null && edge2.blueEdge != null)\n+              {\n+                blue = edge2.blueEdge;\n+                edge1 = edge2;\n+                edge2 = edge;\n+              }\n+            if (edge1 == null)\n+              continue;\n+\n+            edge1.pos = blue.fit;\n+            edge1.flags |= Segment.FLAG_EDGE_DONE;\n+\n+            if (edge2 != null && edge2.blueEdge == null)\n+              {\n+                alignLinkedEdge(hints, dim, edge1, edge2);\n+                edge2.flags |= Segment.FLAG_EDGE_DONE;\n+              }\n+            if (anchor == null)\n+              anchor = edge;\n+          }\n+      }\n+\n+    // Now we will align all stem edges, trying to maintain the\n+    // relative order of stems in the glyph.\n+    for (int e = 0; e < numEdges; e++)\n+      {\n+        Edge edge = edges[e];\n+        if ((edge.flags & Segment.FLAG_EDGE_DONE) != 0)\n+          continue;\n+        Edge edge2 = edge.link;\n+        if (edge2 == null)\n+          {\n+            hasSerifs++;\n+            continue;\n+          }\n+        // Now align the stem.\n+        // This should not happen, but it's better to be safe.\n+        if (edge2.blueEdge != null || axis.getEdgeIndex(edge2) < e)\n+          {\n+            alignLinkedEdge(hints, dim, edge2, edge);\n+            edge.flags |= Segment.FLAG_EDGE_DONE;\n+            continue;\n+          }\n+\n+        if (anchor == null)\n+          {\n+            int orgLen = edge2.opos - edge.opos;\n+            int curLen = computeStemWidth(hints, dim, orgLen, edge.flags,\n+                                          edge2.flags);\n+            int uOff, dOff, orgCenter, curPos1, error1, error2;\n+            if (curLen <= 64) // < 1 Pixel.\n+              {\n+                uOff = 32;\n+                dOff = 32;\n+              }\n+            else\n+              {\n+                uOff = 38;\n+                dOff = 26;\n+              }\n+            if (curLen < 96)\n+              {\n+                orgCenter = edge.opos + (orgLen >> 1);\n+                curPos1 = Utils.pixRound(orgCenter);\n+                error1 = orgCenter - (curPos1 - uOff);\n+                if (error1 < 0)\n+                  error1 = -error1;\n+                error2 = orgCenter - (curPos1 + dOff);\n+                if (error2 < 0)\n+                  error2 = -error2;\n+                if (error1 < error2)\n+                  {\n+                    curPos1 -= uOff;\n+                  }\n+                else\n+                  {\n+                    curPos1 += dOff;\n+                  }\n+                edge.pos = curPos1 - curLen / 2;\n+                edge2.pos = curPos1 + curLen / 2;\n+              }\n+            else\n+              {\n+                edge.pos = Utils.pixRound(edge.opos);\n+              }\n+            anchor = edge;\n+            edge.flags |= Segment.FLAG_EDGE_DONE;\n+            alignLinkedEdge(hints, dim, edge, edge2);\n+          }\n+        else\n+          {\n+            int aDiff = edge.opos - anchor.opos;\n+            int orgPos = anchor.pos + aDiff;\n+            int orgLen = edge2.opos - edge.opos;\n+            int orgCenter = orgPos + (orgLen >> 1);\n+            int curLen = computeStemWidth(hints, dim, orgLen, edge.flags,\n+                                          edge2.flags);\n+            //System.err.println(\"stem width: \" + curLen);\n+            if (curLen < 96)\n+              {\n+                int uOff, dOff;\n+                int curPos1 = Utils.pixRound(orgCenter);\n+                if (curLen <= 64)\n+                  {\n+                    uOff = 32;\n+                    dOff = 32;\n+                  }\n+                else\n+                  {\n+                    uOff = 38;\n+                    dOff = 26;\n+                  }\n+                int delta1 = orgCenter - (curPos1 - uOff);\n+                if (delta1 < 0)\n+                  delta1 = -delta1;\n+                int delta2 = orgCenter - (curPos1 + dOff);\n+                if (delta2 < 0)\n+                  delta2 = -delta2;\n+                if (delta1 < delta2)\n+                  {\n+                    curPos1 -= uOff;\n+                  }\n+                else\n+                  {\n+                    curPos1 += dOff;\n+                  }\n+                edge.pos = curPos1 - curLen / 2;\n+                edge2.pos = curPos1 + curLen / 2;\n+              }\n+            else\n+              {\n+                orgPos = anchor.pos + (edge.opos - anchor.opos);\n+                orgLen = edge2.opos - edge.opos;\n+                orgCenter = orgPos + (orgLen >> 1);\n+                curLen = computeStemWidth(hints, dim, orgLen, edge.flags,\n+                                          edge2.flags);\n+                int curPos1 = Utils.pixRound(orgPos);\n+                int delta1 = curPos1 + (curLen >> 1) - orgCenter;\n+                if (delta1 < 0)\n+                  delta1 = -delta1;\n+                int curPos2 = Utils.pixRound(orgPos + orgLen) - curLen;\n+                int delta2 = curPos2 + (curLen >> 1) - orgCenter;\n+                if (delta2 < 0)\n+                  delta2 = -delta2;\n+                edge.pos = (delta1 < delta2) ? curPos1 : curPos2;\n+                edge2.pos = edge.pos + curLen;\n+              }\n+            edge.flags |= Segment.FLAG_EDGE_DONE;\n+            edge2.flags |= Segment.FLAG_EDGE_DONE;\n+\n+            if (e > 0 && edge.pos < edges[e - 1].pos)\n+              {\n+                edge.pos = edges[e - 1].pos;\n+              }\n+          }\n+      }\n+    // TODO: Implement the lowercase m symmetry thing.\n+\n+    // Now we hint the remaining edges (serifs and singles) in order\n+    // to complete our processing.\n+    if (hasSerifs > 0 || anchor == null)\n+      {\n+        for (int e = 0; e < numEdges; e++)\n+          {\n+            Edge edge = edges[e];\n+            if ((edge.flags & Segment.FLAG_EDGE_DONE) != 0)\n+              continue;\n+            if (edge.serif != null)\n+              {\n+                alignSerifEdge(hints, edge.serif, edge);\n+              }\n+            else if (anchor == null)\n+              {\n+                edge.pos = Utils.pixRound(edge.opos);\n+                anchor = edge;\n+              }\n+            else\n+              {\n+                edge.pos = anchor.pos\n+                           + Utils.pixRound(edge.opos - anchor.opos);\n+              }\n+            edge.flags |= Segment.FLAG_EDGE_DONE;\n+\n+            if (e > 0 && edge.pos < edges[e - 1].pos)\n+              {\n+                edge.pos = edges[e - 1].pos;\n+              }\n+            if (e + 1 < numEdges\n+                && (edges[e + 1].flags & Segment.FLAG_EDGE_DONE) != 0\n+                && edge.pos > edges[e + 1].pos)\n+              {\n+                edge.pos = edges[e + 1].pos;\n+              }\n+          }\n+      }\n+\n+    // Debug: print all hinted edges.\n+    // System.err.println(\"hinted edges: \" );\n+    // for (int i = 0; i < numEdges; i++)\n+    //   {\n+    //     System.err.println(\"edge#\" + i + \": \" + edges[i]);\n+    //   }\n+  }\n+\n+  private void alignSerifEdge(GlyphHints hints, Edge base, Edge serif)\n+  {\n+    serif.pos = base.pos + (serif.opos - base.opos);\n+  }\n+\n+  private int computeStemWidth(GlyphHints hints, int dim, int width,\n+                               int baseFlags, int stemFlags)\n+  {\n+    LatinMetrics metrics = (LatinMetrics) hints.metrics;\n+    LatinAxis axis = metrics.axis[dim];\n+    int dist = width;\n+    int sign = 0;\n+    boolean vertical = dim == DIMENSION_VERT;\n+    if (! doStemAdjust(hints))\n+      return width;\n+    if (dist < 0)\n+      {\n+        dist = -width;\n+        sign = 1;\n+      }\n+    if ((vertical && ! doVertSnap(hints)) || ! vertical && ! doHorzSnap(hints))\n+      {\n+        // Smooth hinting process. Very lightly quantize the stem width.\n+        // Leave the widths of serifs alone.\n+        if ((stemFlags & Segment.FLAG_EDGE_SERIF) != 0 && vertical\n+            && dist < 3 * 64)\n+          {\n+            return doneWidth(dist, sign);\n+          }\n+        else if ((baseFlags & Segment.FLAG_EDGE_ROUND) != 0)\n+          {\n+            if (dist < 80)\n+              dist = 64;\n+          }\n+        else if (dist < 56)\n+          {\n+            dist = 56;\n+          }\n+        if (axis.widthCount > 0)\n+          {\n+            int delta;\n+            if (axis.widthCount > 0)\n+              {\n+                delta = dist - axis.widths[0].cur;\n+                if (delta < 0)\n+                  {\n+                    delta = -delta;\n+                  }\n+                if (delta < 40)\n+                  {\n+                    dist = axis.widths[0].cur;\n+                    if (dist < 48)\n+                      dist = 48;\n+                    return doneWidth(dist, sign);\n+                  }\n+              }\n+            if (dist < 3 * 64) // < 3 pixels.\n+              {\n+                delta = dist & 63;\n+                dist &= -64;\n+                if (delta < 10)\n+                  dist += delta;\n+                else if (delta < 32)\n+                  dist += 10;\n+                else if (delta < 54)\n+                  dist += 54;\n+                else\n+                  dist += delta;\n+                \n+              }\n+            else\n+              {\n+                dist = (dist + 32) & ~63;\n+              }\n+          }\n+      }\n+    else\n+      {\n+        // Strong hinting process: Snap the stem width to integer pixels.\n+        dist = snapWidth(axis.widths, axis.widthCount, dist);\n+        if (vertical)\n+          {\n+            // In the case of vertical hinting, always round\n+            // the stem heights to integer pixels.\n+            if (dist >= 64)\n+              dist = (dist + 16) & ~63;\n+            else\n+              dist = 64;\n+          }\n+        else\n+          {\n+            if (doMono(hints))\n+              {\n+                // Monochrome horizontal hinting: Snap widths to integer pixels\n+                // with a different threshold.\n+                if (dist < 64)\n+                  dist = 64;\n+                else\n+                  dist = (dist + 32) & ~63;\n+              }\n+            else\n+              {\n+                // For anti-aliased hinting, we adopt a more subtle\n+                // approach: We strengthen small stems, round those stems\n+                // whose size is between 1 and 2 pixels to an integer,\n+                // otherwise nothing.\n+                if (dist < 48)\n+                  dist = (dist + 64) >> 1;\n+                else if (dist < 128)\n+                  dist = (dist + 22) & ~63;\n+                else\n+                  // Round otherwise to prevent color fringes in LCD mode.\n+                  dist = (dist + 32) & ~63;\n+              }\n+          }\n+      }\n+    return doneWidth(dist, sign);\n+  }\n+\n+  private boolean doMono(GlyphHints hints)\n+  {\n+    return true;\n+  }\n+\n+  private int snapWidth(Width[] widths, int count, int width)\n+  {\n+    int best = 64 + 32 + 2;\n+    int reference = width;\n+    for (int n = 0; n < count; n++)\n+      {\n+        int w = widths[n].cur;\n+        int dist = width - w;\n+        if (dist < 0)\n+          dist = -dist;\n+        if (dist < best)\n+          {\n+            best = dist;\n+            reference = w;\n+          }\n+      }\n+    int scaled = Utils.pixRound(reference);\n+    if (width >= reference)\n+      {\n+        if (width < scaled + 48)\n+          width = reference;\n+      }\n+    else\n+      {\n+        if (width > scaled + 48)\n+          width = reference;\n+      }\n+    return width;\n+  }\n+\n+  private int doneWidth(int w, int s)\n+  {\n+    if (s == 1)\n+      w = -w;\n+    return w;\n+  }\n+\n+  private boolean doVertSnap(GlyphHints hints)\n+  {\n+    // TODO Auto-generated method stub\n+    return true;\n+  }\n+\n+  private boolean doHorzSnap(GlyphHints hints)\n   {\n     // TODO Auto-generated method stub\n+    return true;\n+  }\n \n+  private boolean doStemAdjust(GlyphHints hints)\n+  {\n+    // TODO Auto-generated method stub\n+    return true;\n+  }\n+\n+  private void alignLinkedEdge(GlyphHints hints, int dim, Edge base, Edge stem)\n+  {\n+    int dist = stem.opos - base.opos;\n+    int fitted = computeStemWidth(hints, dim, dist, base.flags, stem.flags);\n+    stem.pos = base.pos + fitted;\n   }\n \n   public void doneMetrics(ScriptMetrics metrics)\n@@ -99,10 +566,119 @@ public void initMetrics(ScriptMetrics metrics, OpenTypeFont face)\n     initBlues(lm, face);\n   }\n \n-  public void scaleMetrics(ScriptMetrics metrics)\n+  public void scaleMetrics(ScriptMetrics metrics, HintScaler scaler)\n   {\n-    // TODO Auto-generated method stub\n+    LatinMetrics lm = (LatinMetrics) metrics;\n+    lm.scaler.renderMode = scaler.renderMode;\n+    lm.scaler.face = scaler.face;\n+    scaleMetricsDim(lm, scaler, DIMENSION_HORZ);\n+    scaleMetricsDim(lm, scaler, DIMENSION_VERT);\n+  }\n \n+  private void scaleMetricsDim(LatinMetrics lm, HintScaler scaler, int dim)\n+  {\n+    int scale;\n+    int delta;\n+    if (dim == DIMENSION_HORZ)\n+      {\n+        scale = scaler.xScale;\n+        delta = scaler.xDelta;\n+      }\n+    else\n+      {\n+        scale = scaler.yScale;\n+        delta = scaler.yDelta;\n+      }\n+    LatinAxis axis = lm.axis[dim];\n+    if (axis.orgScale == scale && axis.orgDelta == delta)\n+      // No change, no need to adjust.\n+      return;\n+    axis.orgScale = scale;\n+    axis.orgDelta = delta;\n+\n+    // Correct X and Y scale to optimize the alignment of the top small\n+    // letters to the pixel grid.\n+    LatinAxis axis2 = lm.axis[DIMENSION_VERT];\n+    LatinBlue blue = null;\n+//    for (int nn = 0; nn < axis2.blueCount; nn++)\n+//      {\n+//        if ((axis2.blues[nn].flags & LatinBlue.FLAG_ADJUSTMENT) != 0)\n+//          {\n+//            blue = axis2.blues[nn];\n+//            break;\n+//          }\n+//      }\n+//    if (blue != null)\n+//      {\n+//        int scaled = Fixed.mul16(blue.shoot.org, scaler.yScale);\n+//        int fitted = Utils.pixRound(scaled);\n+//        if (scaled != fitted)\n+//          {\n+//            if (dim == DIMENSION_HORZ)\n+//              {\n+//                if (fitted < scaled)\n+//                  {\n+//                    scale -= scale / 50;\n+//                  }\n+//              }\n+//            else\n+//              {\n+//                scale = Utils.mulDiv(scale, fitted, scaled);\n+//              }\n+//          }\n+//      }\n+    axis.scale = scale;\n+    axis.delta = delta;\n+    if (dim == DIMENSION_HORZ)\n+      {\n+        lm.scaler.xScale = scale;\n+        lm.scaler.xDelta = delta;\n+      }\n+    else\n+      {\n+        lm.scaler.yScale = scale;\n+        lm.scaler.yDelta = delta;\n+      }\n+    // Scale the standard widths.\n+    for (int nn = 0; nn < axis.widthCount; nn++)\n+      {\n+        Width w = axis.widths[nn];\n+        w.cur = Fixed.mul16(w.org, scale);\n+        w.fit = w.cur;\n+      }\n+    // Scale blue zones.\n+    if (dim == DIMENSION_VERT)\n+      {\n+        for (int nn = 0; nn < axis.blueCount; nn++)\n+          {\n+            blue = axis.blues[nn];\n+            blue.ref.cur = Fixed.mul16(blue.ref.org, scale) + delta;\n+            blue.ref.fit = blue.ref.cur;\n+            blue.shoot.cur = Fixed.mul16(blue.ref.org, scale) + delta;\n+            blue.flags &= ~LatinBlue.FLAG_BLUE_ACTIVE;\n+            // A blue zone is only active if it is less than 3/4 pixels tall.\n+            int dist = Fixed.mul16(blue.ref.org - blue.shoot.org, scale);\n+            if (dist <= 48 && dist >= -48)\n+              {\n+                int delta1 = blue.shoot.org - blue.ref.org;\n+                int delta2 = delta1;\n+                if (delta1 < 0)\n+                  delta2 = -delta2;\n+                delta2 = Fixed.mul16(delta2, scale);\n+                if (delta2 < 32)\n+                  delta2 = 0;\n+                else if (delta2 < 64)\n+                  delta2 = 32 + (((delta2 - 32) + 16) & ~31);\n+                else\n+                  delta2 = Utils.pixRound(delta2);\n+                if (delta1 < 0)\n+                  delta2 = -delta2;\n+                blue.ref.fit = Utils.pixRound(blue.ref.cur);\n+                blue.shoot.fit = blue.ref.fit + delta2;\n+                blue.flags |= LatinBlue.FLAG_BLUE_ACTIVE;\n+              }\n+          }\n+      }\n   }\n \n   /**\n@@ -118,12 +694,9 @@ private void initWidths(LatinMetrics metrics, OpenTypeFont face, char ch)\n     metrics.axis[DIMENSION_HORZ].widthCount = 0;\n     metrics.axis[DIMENSION_VERT].widthCount = 0;\n     int glyphIndex = face.getGlyph(ch);\n-    // TODO: Avoid that AffineTransform constructor and change\n-    // getRawGlyphOutline() to accept null or remove that parameter altogether.\n-    // Consider this when the thing is done and we know what we need that for.\n-    Zone outline = face.getRawGlyphOutline(glyphIndex, new AffineTransform());\n+    Zone outline = face.getRawGlyphOutline(glyphIndex, IDENTITY);\n     LatinMetrics dummy = new LatinMetrics();\n-    Scaler scaler = dummy.scaler;\n+    HintScaler scaler = dummy.scaler;\n     dummy.unitsPerEm = metrics.unitsPerEm;\n     scaler.xScale = scaler.yScale = 10000;\n     scaler.xDelta = scaler.yDelta = 0;\n@@ -135,20 +708,24 @@ private void initWidths(LatinMetrics metrics, OpenTypeFont face, char ch)\n         LatinAxis axis = metrics.axis[dim];\n         AxisHints axHints = hints.axis[dim];\n         int numWidths = 0;\n-        hints.computeSegments(dim);\n-        hints.linkSegments(dim);\n+        computeSegments(hints, dim);\n+        linkSegments(hints, dim);\n         Segment[] segs = axHints.segments;\n+        HashSet<Segment> touched = new HashSet<Segment>();\n         for (int i = 0; i < segs.length; i++)\n           {\n             Segment seg = segs[i];\n             Segment link = seg.link;\n-            if (link != null && link.link == seg && link.index > i)\n+            if (link != null && link.link == seg && ! touched.contains(link))\n               {\n                 int dist = Math.abs(seg.pos - link.pos);\n                 if (numWidths < MAX_WIDTHS)\n-                  axis.widths[numWidths++].org = dist;\n+                  axis.widths[numWidths++] = new Width(dist);\n               }\n+            touched.add(seg);\n           }\n+        Utils.sort(numWidths, axis.widths);\n+        axis.widthCount = numWidths;\n       }\n     for (int dim = 0; dim < DIMENSION_MAX; dim++)\n       {\n@@ -159,6 +736,78 @@ private void initWidths(LatinMetrics metrics, OpenTypeFont face, char ch)\n       }\n   }\n \n+  void linkSegments(GlyphHints hints, int dim)\n+  {\n+    AxisHints axis = hints.axis[dim];\n+    Segment[] segments = axis.segments;\n+    int numSegs = axis.numSegments;\n+    int majorDir = axis.majorDir;\n+    int lenThreshold = constant((LatinMetrics) hints.metrics, 8);\n+    lenThreshold = Math.min(1, lenThreshold);\n+    int lenScore = constant((LatinMetrics) hints.metrics, 3000);\n+    for (int i1 = 0; i1 < numSegs; i1++)\n+      {\n+        Segment seg1 = segments[i1];\n+        // The fake segments are introduced to hint the metrics.\n+        // Never link them to anything.\n+        if (seg1.first == seg1.last || seg1.dir != majorDir)\n+          continue;\n+        for (int i2 = 0; i2 < numSegs; i2++)\n+          {\n+            Segment seg2 = segments[i2];\n+            if (seg2 != seg1 && seg1.dir + seg2.dir == 0)\n+              {\n+                int pos1 = seg1.pos;\n+                int pos2 = seg2.pos;\n+                // The vertical coords are swapped compared to how FT handles\n+                // this.\n+                int dist = dim == DIMENSION_VERT ? pos1 - pos2 : pos2 - pos1;\n+                if (dist >= 0)\n+                  {\n+                    int min = seg1.minPos;\n+                    int max = seg1.maxPos;\n+                    int len, score;\n+                    if (min < seg2.minPos)\n+                      min = seg2.minPos;\n+                    if (max > seg2.maxPos)\n+                      max = seg2.maxPos;\n+                    len = max - min;\n+                    if (len > lenThreshold)\n+                      {\n+                        score = dist + lenScore / len;\n+                        if (score < seg1.score)\n+                          {\n+                            seg1.score = score;\n+                            seg1.link = seg2;\n+                          }\n+                        if (score < seg2.score)\n+                          {\n+                            seg2.score = score;\n+                            seg2.link = seg1;\n+                          }\n+                      }\n+                  }\n+              }\n+          }\n+      }\n+    for (int i1 = 0; i1 < numSegs; i1++)\n+      {\n+        Segment seg1 = segments[i1];\n+        Segment seg2 = seg1.link;\n+        if (seg2 != null)\n+          {\n+            seg2.numLinked++;\n+            if (seg2.link != seg1)\n+              {\n+                seg1.link = null;\n+                seg1.serif = seg2.link;\n+              }\n+          }\n+        // Uncomment to show all segments.\n+        // System.err.println(\"segment#\" + i1 + \": \" + seg1);\n+      }\n+  }\n+\n   /**\n    * Initializes the blue zones of the font.\n    *\n@@ -167,11 +816,548 @@ private void initWidths(LatinMetrics metrics, OpenTypeFont face, char ch)\n    */\n   private void initBlues(LatinMetrics metrics, OpenTypeFont face)\n   {\n-    // TODO: Implement.\n+    int[] flats = new int[MAX_TEST_CHARS];\n+    int[] rounds = new int[MAX_TEST_CHARS];\n+    int numFlats;\n+    int numRounds;\n+    LatinBlue blue;\n+    LatinAxis axis = metrics.axis[DIMENSION_VERT];\n+    // We compute the blues simply by loading each character in the test\n+    // strings, then compute its topmost or bottommost points.\n+    for (int bb = 0; bb < BLUE_MAX; bb++)\n+      {\n+        String p = TEST_CHARS[bb];\n+        int blueRef;\n+        int blueShoot;\n+        numFlats = 0;\n+        numRounds = 0;\n+        for (int i = 0; i < p.length(); i++)\n+          {\n+            // Load the character.\n+            int glyphIndex = face.getGlyph(p.charAt(i));\n+            Zone glyph =\n+              face.getRawGlyphOutline(glyphIndex, IDENTITY);\n+\n+            // Now compute the min and max points.\n+            int numPoints = glyph.getSize() - 4; // 4 phantom points.\n+            Point[] points = glyph.getPoints();\n+            Point point = points[0];\n+            int extremum = 0;\n+            int index = 1;\n+            if (isTopBlue(bb))\n+              {\n+                for (; index < numPoints; index++)\n+                  {\n+                    point = points[index];\n+                    // We have the vertical direction swapped. The higher\n+                    // points have smaller (negative) Y.\n+                    if (point.getOrigY() < points[extremum].getOrigY())\n+                      extremum = index;\n+                  }\n+              }\n+            else\n+              {\n+                for (; index < numPoints; index++)\n+                  {\n+                    point = points[index];\n+                    // We have the vertical direction swapped. The higher\n+                    // points have smaller (negative) Y.\n+                    if (point.getOrigY() > points[extremum].getOrigY())\n+                      extremum = index;\n+                  }\n+              }\n+            // Debug, prints out the maxima.\n+            // System.err.println(\"extremum for \" + bb + \" / \"+ p.charAt(i)\n+            //                    + \": \" + points[extremum]);\n+\n+            // Now determine if the point is part of a straight or round\n+            // segment.\n+            boolean round;\n+            int idx = extremum;\n+            int first, last, prev, next, end;\n+            int dist;\n+            last = -1;\n+            first = 0;\n+            for (int n = 0; n < glyph.getNumContours(); n++)\n+              {\n+                end = glyph.getContourEnd(n);\n+                // System.err.println(\"contour end for \" + n + \": \" + end);\n+                if (end >= idx)\n+                  {\n+                    last = end;\n+                    break;\n+                  }\n+                first = end + 1;\n+              }\n+            // Should never happen.\n+            assert last >= 0;\n+\n+            // Now look for the previous and next points that are not on the\n+            // same Y coordinate. Threshold the 'closeness'.\n+            prev = idx;\n+            next = prev;\n+            do\n+              {\n+                if (prev > first)\n+                  prev--;\n+                else\n+                  prev = last;\n+                dist = points[prev].getOrigY() - points[extremum].getOrigY();\n+                if (dist < -5 || dist > 5)\n+                  break;\n+              } while (prev != idx);\n+            do\n+              {\n+                if (next < last)\n+                  next++;\n+                else\n+                  next = first;\n+                dist = points[next].getOrigY() - points[extremum].getOrigY();\n+                if (dist < -5 || dist > 5)\n+                  break;\n+              } while (next != idx);\n+            round = points[prev].isControlPoint()\n+                    || points[next].isControlPoint();\n+\n+            if (round)\n+              {\n+                rounds[numRounds++] = points[extremum].getOrigY();\n+                // System.err.println(\"new round extremum: \" + bb + \": \"\n+                //                   + points[extremum].getOrigY());\n+              }\n+            else\n+              {\n+                flats[numFlats++] = points[extremum].getOrigY();\n+                // System.err.println(\"new flat extremum: \" + bb + \": \"\n+                //                    + points[extremum].getOrigY());\n+              }\n+          }\n+        // We have computed the contents of the rounds and flats tables.\n+        // Now determine the reference and overshoot position of the blues --\n+        // we simply take the median after a simple sort.\n+        Utils.sort(numRounds, rounds);\n+        Utils.sort(numFlats, flats);\n+        blue = axis.blues[axis.blueCount] = new LatinBlue();\n+        axis.blueCount++;\n+        if (numFlats == 0)\n+          {\n+            blue.ref = blue.shoot = new Width(rounds[numRounds / 2]);\n+          }\n+        else if (numRounds == 0)\n+          {\n+            blue.ref = blue.shoot = new Width(flats[numFlats / 2]);\n+          }\n+        else\n+          {\n+            blue.ref = new Width(flats[numFlats / 2]);\n+            blue.shoot = new Width(rounds[numRounds / 2]);\n+          }\n+        // There are sometimes problems:  if the overshoot position of top\n+        // zones is under its reference position, or the opposite for bottom\n+        // zones. We must check everything there and correct problems.\n+        if (blue.shoot != blue.ref)\n+          {\n+            int ref = blue.ref.org;\n+            int shoot = blue.shoot.org;\n+            // Inversed vertical coordinates!\n+            boolean overRef = shoot < ref;\n+            if (isTopBlue(bb) ^ overRef)\n+              {\n+                blue.shoot = blue.ref = new Width((shoot + ref) / 2);\n+              }\n+          }\n+        blue.flags = 0;\n+        if (isTopBlue(bb))\n+          blue.flags |= LatinBlue.FLAG_TOP;\n+        // The following flag is used later to adjust y and x scales in \n+        // order to optimize the pixel grid alignment of the top small\n+        // letters.\n+        if (bb == SMALL_TOP)\n+          {\n+            blue.flags |= LatinBlue.FLAG_ADJUSTMENT;\n+          }\n+        // Debug: print out the blue zones.\n+        // System.err.println(\"blue zone #\" + bb + \": \" + blue);\n+      }\n   }\n \n+  private static final AffineTransform IDENTITY = new AffineTransform();\n+\n   private int constant(LatinMetrics metrics, int c)\n   {\n     return c * (metrics.unitsPerEm / 2048);\n   }\n+\n+  private void computeSegments(GlyphHints hints, int dim)\n+  {\n+    Point[] points = hints.points;\n+    if (dim == DIMENSION_HORZ)\n+      {\n+        for (int i = 0; i < hints.numPoints; i++)\n+          {\n+            points[i].setU(points[i].getOrigX());\n+            points[i].setV(points[i].getOrigY());\n+          }\n+      }\n+    else\n+      {\n+        for (int i = 0; i < hints.numPoints; i++)\n+          {\n+            points[i].setU(points[i].getOrigY());\n+            points[i].setV(points[i].getOrigX());\n+          }\n+      }\n+    // Now look at each contour.\n+    AxisHints axis = hints.axis[dim];\n+    int majorDir = Math.abs(axis.majorDir);\n+    int segmentDir = majorDir;\n+    Point[] contours = hints.contours;\n+    int numContours = hints.numContours;\n+    Segment segment = null;\n+    for (int i = 0; i < numContours; i++)\n+      {\n+        int minPos = 32000;\n+        int maxPos = -32000;\n+\n+        Point point = contours[i];\n+        Point last = point.getPrev();\n+        if (point == last) // Skip singletons.\n+          continue;\n+        if (Math.abs(last.getOutDir()) == majorDir\n+            && Math.abs(point.getOutDir()) == majorDir)\n+          {\n+            // We are already on an edge. Locate its start.\n+            last = point;\n+            while (true)\n+              {\n+                point = point.getPrev();\n+                if (Math.abs(point.getOutDir()) != majorDir)\n+                  {\n+                    point = point.getNext();\n+                    break;\n+                  }\n+                if (point == last)\n+                  break;\n+              }\n+          }\n+        last = point;\n+        boolean passed = false;\n+        boolean onEdge = false;\n+        while (true)    \n+          {\n+            int u, v;\n+            if (onEdge)\n+              {\n+                u = point.getU();\n+                if (u < minPos)\n+                  minPos = u;\n+                if (u > maxPos)\n+                  maxPos = u;\n+                if (point.getOutDir() != segmentDir || point == last)\n+                  {\n+                    // Leaving an edge. Record new segment.\n+                    segment.last = point;\n+                    // (minPos + maxPos) / 2.\n+                    segment.pos = (minPos + maxPos) >> 1;\n+                    if (segment.first.isControlPoint()\n+                        || point.isControlPoint())\n+                      segment.flags |= Segment.FLAG_EDGE_ROUND;\n+                    minPos = maxPos = point.getV();\n+                    v = segment.first.getV();\n+                    if (v < minPos)\n+                      minPos = v;\n+                    if (v > maxPos)\n+                      maxPos = v;\n+                    segment.minPos = minPos;\n+                    segment.maxPos = maxPos;\n+                    onEdge = false;\n+                    segment = null;\n+                  }\n+              }\n+            if (point == last)\n+              {\n+                if (passed)\n+                  break;\n+                passed = true;\n+              }\n+            if (! onEdge && Math.abs(point.getOutDir()) == majorDir)\n+              {\n+                // This is the start of a new segment.\n+                segmentDir = point.getOutDir();\n+                segment = axis.newSegment();\n+                segment.dir = segmentDir;\n+                segment.flags = Segment.FLAG_EDGE_NORMAL;\n+                minPos = maxPos = point.getU();\n+                segment.first = point;\n+                segment.last = point;\n+                segment.contour = contours[i];\n+                segment.score = 32000;\n+                segment.len = 0;\n+                segment.link = null;\n+                onEdge = true;\n+              }\n+            point = point.getNext();\n+          }\n+      }\n+    \n+  }\n+\n+  private boolean isTopBlue(int b)\n+  {\n+    return b == CAPITAL_TOP || b == SMALL_F_TOP || b == SMALL_TOP;\n+  }\n+\n+  private void detectFeatures(GlyphHints hints, int dim)\n+  {\n+    computeSegments(hints, dim);\n+    linkSegments(hints, dim);\n+    computeEdges(hints, dim);\n+  }\n+\n+  private void computeEdges(GlyphHints hints, int dim)\n+  {\n+    AxisHints axis = hints.axis[dim];\n+    LatinAxis laxis = ((LatinMetrics) hints.metrics).axis[dim];\n+    Segment[] segments = axis.segments;\n+    int numSegments = axis.numSegments;\n+    Segment seg;\n+    int upDir;\n+    int scale;\n+    int edgeDistanceThreshold;\n+    axis.numEdges = 0;\n+    scale = dim == DIMENSION_HORZ ? hints.xScale : hints.yScale;\n+    upDir = dim == DIMENSION_HORZ ? DIR_UP : DIR_RIGHT;\n+\n+    // We will begin by generating a sorted table of edges for the\n+    // current direction. To do so, we simply scan each segment and try\n+    // to find an edge in our table that corresponds to its position.\n+    //\n+    // If no edge is found, we create one and insert a new edge in the\n+    // sorted table. Otherwise, we simply add the segment to the egde's\n+    // list which will be processed in the second step to compute the\n+    // edge's properties.\n+    //\n+    // Note that the edge table is sorted along the segment/edge\n+    // position.\n+\n+    edgeDistanceThreshold = Fixed.mul16(laxis.edgeDistanceTreshold, scale);\n+    if (edgeDistanceThreshold > 64 / 4)\n+      edgeDistanceThreshold = 64 / 4;\n+    edgeDistanceThreshold = Fixed.div16(edgeDistanceThreshold, scale);\n+    for (int i = 0; i < numSegments; i++)\n+      {\n+        seg = segments[i];\n+        Edge found = null;\n+        for (int ee = 0; ee < axis.numEdges; ee++)\n+          {\n+            Edge edge = axis.edges[ee];\n+            int dist = seg.pos - edge.fpos;\n+            if (dist < 0)\n+              dist = -dist;\n+            if (dist < edgeDistanceThreshold)\n+              {\n+                found = edge;\n+                break;\n+              }\n+          }\n+        if (found == null)\n+          {\n+            // Insert new edge in the list and sort according to\n+            // the position.\n+            Edge edge = axis.newEdge(seg.pos);\n+            edge.first = seg;\n+            edge.last = seg;\n+            edge.fpos = seg.pos;\n+            edge.opos = edge.pos = Fixed.mul16(seg.pos, scale);\n+            seg.edgeNext = seg;\n+            seg.edge = edge;\n+          }\n+        else\n+          {\n+            seg.edgeNext = found.first;\n+            found.last.edgeNext = seg;\n+            found.last = seg;\n+            seg.edge = found;\n+          }\n+      }\n+    // Good. We will now compute each edge's properties according to\n+    // segments found on its position. Basically these are:\n+    // - Edge's main direction.\n+    // - Stem edge, serif edge, or both (which defaults to stem edge).\n+    // - Rounded edge, straight or both (which defaults to straight).\n+    // - Link for edge.\n+\n+    // Now, compute each edge properties.\n+    for (int e = 0; e < axis.numEdges; e++)\n+      {\n+        Edge edge = axis.edges[e];\n+        // Does it contain round segments?\n+        int isRound = 0;\n+        // Does it contain straight segments?\n+        int isStraight = 0;\n+        // Number of upward segments.\n+        int ups = 0;\n+        // Number of downward segments.\n+        int downs = 0;\n+\n+        seg = edge.first;\n+        do\n+          {\n+            // Check for roundness of segment.\n+            if ((seg.flags & Segment.FLAG_EDGE_ROUND) != 0)\n+              isRound++;\n+            else\n+              isStraight++;\n+\n+            // Check for segment direction.\n+            if (seg.dir == upDir)\n+              ups += seg.maxPos - seg.minPos;\n+            else\n+              downs += seg.maxPos - seg.minPos;\n+\n+            // Check for links. If seg.serif is set, then seg.link must\n+            // be ignored.\n+            boolean isSerif = seg.serif != null && seg.serif.edge != edge;\n+            if (seg.link != null || isSerif)\n+              {\n+                Edge edge2 = edge.link;\n+                Segment seg2 = seg.link;\n+                if (isSerif)\n+                  {\n+                    seg2 = seg.serif;\n+                    edge2 = edge.serif;\n+                  }\n+                if (edge2 != null)\n+                  {\n+                    int edgeDelta = edge.fpos - edge2.fpos;\n+                    if (edgeDelta < 0)\n+                      edgeDelta = -edgeDelta;\n+                    int segDelta = seg.pos - seg2.pos;\n+                    if (segDelta < 0)\n+                      segDelta = -segDelta;\n+                    if (segDelta < edgeDelta)\n+                      edge2 = seg2.edge;\n+                  }\n+                else\n+                  {\n+                    edge2 = seg2.edge;\n+                  }\n+                if (isSerif)\n+                  {\n+                    edge.serif = edge2;\n+                    edge2.flags |= Segment.FLAG_EDGE_SERIF;\n+                  }\n+                else\n+                  {\n+                    edge.link = edge2;\n+                  }\n+              }\n+            seg = seg.edgeNext;\n+          } while (seg != edge.first);\n+        edge.flags = Segment.FLAG_EDGE_NORMAL;\n+        if (isRound > 0 && isRound > isStraight)\n+          edge.flags |= Segment.FLAG_EDGE_ROUND;\n+\n+        // Set the edge's main direction.\n+        edge.dir = DIR_NONE;\n+        if (ups > downs)\n+          edge.dir = upDir;\n+        else if (ups < downs)\n+          edge.dir = -upDir;\n+        else if (ups == downs)\n+          edge.dir = 0;\n+\n+        // Gets rid of serif if link is set. This gets rid of many\n+        // unpleasant artifacts.\n+        if (edge.serif != null && edge.link != null)\n+          {\n+            edge.serif = null;\n+          }\n+\n+        // Debug: Print out all edges.\n+        // System.err.println(\"edge# \" + e + \": \" + edge);\n+      }        \n+  }\n+\n+  private void computeBlueEdges(GlyphHints hints, LatinMetrics metrics)\n+  {\n+    AxisHints axis = hints.axis[DIMENSION_VERT];\n+    Edge[] edges = axis.edges;\n+    int numEdges = axis.numEdges;\n+    LatinAxis latin = metrics.axis[DIMENSION_VERT];\n+    int scale = latin.scale;\n+\n+    // Compute which blue zones are active. I.e. have their scaled\n+    // size < 3/4 pixels.\n+\n+    // For each horizontal edge search the blue zone that is closest.\n+    for (int e = 0; e < numEdges; e++)\n+      {\n+        Edge edge = edges[e];\n+        // System.err.println(\"checking edge: \" + edge);\n+        Width bestBlue = null;\n+        int bestDist = Fixed.mul16(metrics.unitsPerEm / 40, scale);\n+        \n+        if (bestDist > 64 / 2)\n+          bestDist = 64 / 2;\n+        for (int bb = 0; bb < BLUE_MAX; bb++)\n+          {\n+            LatinBlue blue = latin.blues[bb];\n+            // System.err.println(\"checking blue: \" + blue);\n+            // Skip inactive blue zones, i.e. those that are too small.\n+            if ((blue.flags & LatinBlue.FLAG_BLUE_ACTIVE) == 0)\n+              continue;\n+            // If it is a top zone, check for right edges. If it is a bottom\n+            // zone, check for left edges.\n+            boolean isTopBlue = (blue.flags & LatinBlue.FLAG_TOP) != 0;\n+            boolean isMajorDir = edge.dir == axis.majorDir;\n+\n+            // If it is a top zone, the edge must be against the major\n+            // direction. If it is a bottom zone it must be in the major\n+            // direction.\n+            if (isTopBlue ^ isMajorDir)\n+              {\n+                int dist = edge.fpos - blue.ref.org;\n+                if (dist < 0)\n+                  dist = -dist;\n+                dist = Fixed.mul16(dist, scale);\n+                if (dist < bestDist)\n+                  {\n+                    bestDist = dist;\n+                    bestBlue = blue.ref;\n+                  }\n+\n+                // Now, compare it to the overshoot position if the edge is\n+                // rounded, and if the edge is over the reference position of\n+                // a top zone, or under the reference position of a bottom\n+                // zone.\n+                if ((edge.flags & Segment.FLAG_EDGE_ROUND) != 0 && dist != 0)\n+                  {\n+                    // Inversed vertical coordinates!\n+                    boolean isUnderRef = edge.fpos > blue.ref.org;\n+                    if (isTopBlue ^ isUnderRef)\n+                      {\n+                        blue = latin.blues[bb]; // Needed?\n+                        dist = edge.fpos - blue.shoot.org;\n+                        if (dist < 0)\n+                          dist = -dist;\n+                        dist = Fixed.mul16(dist, scale);\n+                        if (dist < bestDist)\n+                          {\n+                            bestDist = dist;\n+                            bestBlue = blue.shoot;\n+                          }\n+                      }\n+                  }\n+\n+              }\n+          }\n+        if (bestBlue != null)\n+          {\n+            edge.blueEdge = bestBlue;\n+            // Debug: Print out the blue edges.\n+            // System.err.println(\"blue edge for: \" + edge + \": \" + bestBlue);\n+          }\n+      }\n+  }\n }"}, {"sha": "9237d0ee5b1eb58f2069f18f1170370f27f002ae", "filename": "libjava/classpath/gnu/java/awt/font/autofit/LatinAxis.java", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinAxis.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinAxis.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinAxis.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -49,5 +49,14 @@\n \n   int widthCount;\n   Width[] widths;\n-  float edgeDistanceTreshold;\n+  int edgeDistanceTreshold;\n+  LatinBlue[] blues;\n+  int blueCount;\n+  int orgDelta;\n+  int orgScale;\n+  LatinAxis()\n+  {\n+    widths = new Width[Latin.MAX_WIDTHS];\n+    blues = new LatinBlue[Latin.BLUE_MAX];\n+  }\n }"}, {"sha": "694fb24fe079d601b4c5dcb91a0c01cb05f87d94", "filename": "libjava/classpath/gnu/java/awt/font/autofit/LatinBlue.java", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinBlue.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinBlue.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinBlue.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,59 @@\n+/* LatinBlue.java -- FIXME: briefly describe file purpose\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.font.autofit;\n+\n+public class LatinBlue\n+{\n+  static final int FLAG_BLUE_ACTIVE = 1 << 0;\n+  static final int FLAG_TOP = 1 << 1;\n+  static final int FLAG_ADJUSTMENT = 1 << 2;\n+  Width ref;\n+  Width shoot;\n+  int flags;\n+  public String toString()\n+  {\n+    StringBuilder s = new StringBuilder();\n+    s.append(\"[BlueZone]\");\n+    s.append(\" ref: \");\n+    s.append(ref.org);\n+    s.append(\", shoot: \");\n+    s.append(shoot.org);\n+    return s.toString();\n+  }\n+}"}, {"sha": "33fc63ad4bae0e6141cb57d60319a7bca55c3ef8", "filename": "libjava/classpath/gnu/java/awt/font/autofit/LatinMetrics.java", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinMetrics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinMetrics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FLatinMetrics.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,6 +38,8 @@\n \n package gnu.java.awt.font.autofit;\n \n+import gnu.java.awt.font.opentype.OpenTypeFont;\n+\n /**\n  * Latin specific metrics data.\n  */\n@@ -48,4 +50,17 @@\n   LatinAxis[] axis;\n \n   int unitsPerEm;\n+\n+  LatinMetrics()\n+  {\n+    super();\n+    axis = new LatinAxis[Constants.DIMENSION_MAX];\n+    axis[Constants.DIMENSION_HORZ] = new LatinAxis();\n+    axis[Constants.DIMENSION_VERT] = new LatinAxis();\n+  }\n+  LatinMetrics(OpenTypeFont face)\n+  {\n+    this();\n+    unitsPerEm = face.unitsPerEm;\n+  }\n }"}, {"sha": "c223f0a26af979301f9d1857d4a194b4ca0d0732", "filename": "libjava/classpath/gnu/java/awt/font/autofit/Script.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FScript.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FScript.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FScript.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -39,6 +39,7 @@\n package gnu.java.awt.font.autofit;\n \n import gnu.java.awt.font.opentype.OpenTypeFont;\n+import gnu.java.awt.font.opentype.truetype.Zone;\n \n /**\n  * Defines script specific methods for the auto fitter.\n@@ -51,12 +52,11 @@\n    */\n   void initMetrics(ScriptMetrics metrics, OpenTypeFont face);\n \n-  void scaleMetrics(ScriptMetrics metrics/* , scaler, map this */);\n+  void scaleMetrics(ScriptMetrics metrics , HintScaler scaler);\n \n   void doneMetrics(ScriptMetrics metrics);\n \n   void initHints(GlyphHints hints, ScriptMetrics metrics);\n \n-  void applyHints(GlyphHints hints, /* some outline object, */\n-                  ScriptMetrics metrics);\n+  void applyHints(GlyphHints hints, Zone outline, ScriptMetrics metrics);\n }"}, {"sha": "984a06daee472e7e5418b5c6e820f87c811e9625", "filename": "libjava/classpath/gnu/java/awt/font/autofit/ScriptMetrics.java", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FScriptMetrics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FScriptMetrics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FScriptMetrics.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -45,5 +45,9 @@\n {\n \n   Script script;\n-  Scaler scaler;\n+  HintScaler scaler;\n+  ScriptMetrics()\n+  {\n+    scaler = new HintScaler();\n+  }\n }"}, {"sha": "640e82ce2e93f609b9e668b4499a7a338cafe396", "filename": "libjava/classpath/gnu/java/awt/font/autofit/Segment.java", "status": "modified", "additions": 49, "deletions": 1, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FSegment.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FSegment.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FSegment.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,10 +38,58 @@\n \n package gnu.java.awt.font.autofit;\n \n+import gnu.java.awt.font.opentype.truetype.Point;\n+\n class Segment\n {\n \n+  static final int FLAG_EDGE_NORMAL = 0;\n+  static final int FLAG_EDGE_ROUND = 1;\n+  static final int FLAG_EDGE_SERIF = 2;\n+  static final int FLAG_EDGE_DONE = 4;\n+  int dir;\n+  int flags;\n   Segment link;\n-  int index;\n+  Segment serif;\n+  int numLinked;\n   int pos;\n+  Point first;\n+  Point last;\n+  Point contour;\n+  int minPos;\n+  int maxPos;\n+  int score;\n+  int len;\n+  Segment edgeNext;\n+  Edge edge;\n+\n+  public String toString()\n+  {\n+    StringBuilder s = new StringBuilder();\n+    s.append(\"[Segment] id: \");\n+    s.append(hashCode());\n+    s.append(\", len:\");\n+    s.append(len);\n+    s.append(\", round: \");\n+    s.append(((flags & FLAG_EDGE_ROUND) != 0));\n+    s.append(\", dir: \");\n+    s.append(dir);\n+    s.append(\", pos: \");\n+    s.append(pos);\n+    s.append(\", minPos: \");\n+    s.append(minPos);\n+    s.append(\", maxPos: \");\n+    s.append(maxPos);\n+    s.append(\", first: \");\n+    s.append(first);\n+    s.append(\", last: \");\n+    s.append(last);\n+    s.append(\", contour: \");\n+    s.append(contour);\n+    s.append(\", link: \");\n+    s.append(link == null ? \"null\" : link.hashCode());\n+    s.append(\", serif: \");\n+    s.append(serif == null ? \"null\" : serif.hashCode());\n+    return s.toString();\n+  }\n }"}, {"sha": "4df4705a8d1328385eda6b1d2a1e9d198333071f", "filename": "libjava/classpath/gnu/java/awt/font/autofit/Utils.java", "status": "added", "additions": 255, "deletions": 0, "changes": 255, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FUtils.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FUtils.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FUtils.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,255 @@\n+/* Utils.java -- A collection of utility functions for the autofitter\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.font.autofit;\n+\n+import gnu.java.awt.font.opentype.truetype.Fixed;\n+\n+/**\n+ * A collection of utility methods used all around the auto fitter.\n+ */\n+class Utils\n+  implements Constants\n+{\n+\n+  private static final int ATAN_BITS = 8;\n+  private static final byte[] ATAN = new byte[]\n+  {\n+     0,  0,  1,  1,  1,  2,  2,  2,\n+     3,  3,  3,  3,  4,  4,  4,  5,\n+     5,  5,  6,  6,  6,  7,  7,  7,\n+     8,  8,  8,  9,  9,  9, 10, 10,\n+    10, 10, 11, 11, 11, 12, 12, 12,\n+    13, 13, 13, 14, 14, 14, 14, 15,\n+    15, 15, 16, 16, 16, 17, 17, 17,\n+    18, 18, 18, 18, 19, 19, 19, 20,\n+    20, 20, 21, 21, 21, 21, 22, 22,\n+    22, 23, 23, 23, 24, 24, 24, 24,\n+    25, 25, 25, 26, 26, 26, 26, 27,\n+    27, 27, 28, 28, 28, 28, 29, 29,\n+    29, 30, 30, 30, 30, 31, 31, 31,\n+    31, 32, 32, 32, 33, 33, 33, 33,\n+    34, 34, 34, 34, 35, 35, 35, 35,\n+    36, 36, 36, 36, 37, 37, 37, 38,\n+    38, 38, 38, 39, 39, 39, 39, 40,\n+    40, 40, 40, 41, 41, 41, 41, 42,\n+    42, 42, 42, 42, 43, 43, 43, 43,\n+    44, 44, 44, 44, 45, 45, 45, 45,\n+    46, 46, 46, 46, 46, 47, 47, 47,\n+    47, 48, 48, 48, 48, 48, 49, 49,\n+    49, 49, 50, 50, 50, 50, 50, 51,\n+    51, 51, 51, 51, 52, 52, 52, 52,\n+    52, 53, 53, 53, 53, 53, 54, 54,\n+    54, 54, 54, 55, 55, 55, 55, 55,\n+    56, 56, 56, 56, 56, 57, 57, 57,\n+    57, 57, 57, 58, 58, 58, 58, 58,\n+    59, 59, 59, 59, 59, 59, 60, 60,\n+    60, 60, 60, 61, 61, 61, 61, 61,\n+    61, 62, 62, 62, 62, 62, 62, 63,\n+    63, 63, 63, 63, 63, 64, 64, 64\n+  };\n+\n+  private static final int ANGLE_PI = 256;\n+  private static final int ANGLE_PI2 = ANGLE_PI / 2;\n+  private static final int ANGLE_PI4 = ANGLE_PI / 4;\n+  private static final int ANGLE_2PI = ANGLE_PI * 2;\n+\n+  /**\n+   * Computes the direction constant for the specified vector. The vector is\n+   * given as differential value already.\n+   *\n+   * @param dx the x vector\n+   * @param dy the y vector\n+   *\n+   * @return the direction of that vector, or DIR_NONE, if that vector is not\n+   *         approximating against one of the major axises\n+   */\n+  static int computeDirection(int dx, int dy)\n+  {\n+    int dir = DIR_NONE;\n+    if (dx < 0)\n+      {\n+        if (dy < 0)\n+          {\n+            if (-dx * 12 < -dy)\n+              dir = DIR_UP;\n+            else if (-dy * 12 < -dx)\n+              dir = DIR_LEFT;\n+          }\n+        else // dy >= 0 .\n+          {\n+            if (-dx * 12 < dy)\n+              dir = DIR_DOWN;\n+            else if (dy * 12 < -dx)\n+              dir = DIR_LEFT;\n+          }\n+      }\n+    else // dx >= 0 .\n+      {\n+        if (dy < 0)\n+          {\n+            if (dx * 12 < -dy)\n+              dir = DIR_UP;\n+            else if (-dy * 12 < dx)\n+              dir = DIR_RIGHT;\n+          }\n+        else // dy >= 0 .\n+          {\n+            if (dx * 12 < dy)\n+              dir = DIR_DOWN;\n+            else if (dy * 12 < dx)\n+              dir = DIR_RIGHT;\n+          }\n+      }\n+    return dir;\n+  }\n+\n+  public static int atan(int dx, int dy)\n+  {\n+    int angle;\n+    // Trivial cases.\n+    if (dy == 0)\n+      {\n+        angle = 0;\n+        if (dx < 0)\n+          angle = ANGLE_PI;\n+        return angle;\n+      }\n+    else if (dx == 0)\n+      {\n+        angle = ANGLE_PI2;\n+        if (dy < 0)\n+          angle = - ANGLE_PI2;\n+        return angle;\n+      }\n+\n+    \n+    angle = 0;\n+    if (dx < 0)\n+      {\n+        dx = -dx;\n+        dy = -dy;\n+        angle = ANGLE_PI;\n+      }\n+    if (dy < 0)\n+      {\n+        int tmp = dx;\n+        dx = -dy;\n+        dy = tmp;\n+        angle -= ANGLE_PI2;\n+      }\n+    if (dx == 0 && dy == 0)\n+      return 0;\n+\n+    if (dx == dy)\n+      angle += ANGLE_PI4;\n+    else if (dx > dy)\n+      {\n+        angle += ATAN[Fixed.div(dy, dx) << (ATAN_BITS - 6)];\n+      }\n+    else\n+      {\n+        angle += ANGLE_PI2 - ATAN[Fixed.div(dx, dy) << (ATAN_BITS - 6)];\n+      }\n+\n+    if (angle > ANGLE_PI)\n+      angle -= ANGLE_2PI;\n+    return angle;\n+  }\n+\n+  public static int angleDiff(int ang1, int ang2)\n+  {\n+    int delta = ang2 - ang1;\n+    delta %= ANGLE_2PI;\n+    if (delta < 0)\n+      delta += ANGLE_2PI;\n+    if (delta > ANGLE_PI)\n+      delta -= ANGLE_2PI;\n+    return delta;\n+  }\n+\n+  static void sort(int num, int[] array)\n+  {\n+    int swap;\n+    for (int i = 1; i < num; i++)\n+      {\n+        for (int j = i; j > 0; j--)\n+          {\n+            if (array[j] > array[j - 1])\n+              break;\n+            swap = array[j];\n+            array[j] = array[j - 1];\n+            array[j - 1] = swap;\n+          }\n+      }\n+  }\n+\n+  static void sort(int num, Width[] array)\n+  {\n+    Width swap;\n+    for (int i = 1; i < num; i++)\n+      {\n+        for (int j = 1; j > 0; j--)\n+          {\n+            if (array[j].org > array[j - 1].org)\n+              break;\n+            swap = array[j];\n+            array[j] = array[j - 1];\n+            array[j - 1] = swap;\n+          }\n+      }\n+  }\n+\n+  static int pixRound(int val)\n+  {\n+    return pixFloor(val + 32);\n+  }\n+\n+  static int pixFloor(int val)\n+  {\n+    return val & ~63;\n+  }\n+\n+  public static int mulDiv(int a, int b, int c)\n+  {\n+    long prod = a * b;\n+    long div = (prod / c);\n+    return (int) div;\n+  }\n+\n+}"}, {"sha": "c890cf3de3dee3acfddd12baf3e0b628a782780d", "filename": "libjava/classpath/gnu/java/awt/font/autofit/Width.java", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FWidth.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FWidth.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fautofit%2FWidth.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -43,4 +43,20 @@\n   int org;\n   int cur;\n   int fit;\n+  Width(int dist)\n+  {\n+    org = dist;\n+  }\n+\n+  public String toString()\n+  {\n+    StringBuilder s = new StringBuilder();\n+    s.append(\"[Width] org: \");\n+    s.append(org);\n+    s.append(\", cur: \");\n+    s.append(cur);\n+    s.append(\", fit: \");\n+    s.append(fit);\n+    return s.toString();\n+  }\n }"}, {"sha": "9758a2896b7f0718d8f3030fbe7df4dd104d83e6", "filename": "libjava/classpath/gnu/java/awt/font/opentype/Hinter.java", "status": "added", "additions": 63, "deletions": 0, "changes": 63, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FHinter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FHinter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FHinter.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,63 @@\n+/* Hinter.java -- The interface to a hinting implementation\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.font.opentype;\n+\n+import gnu.java.awt.font.opentype.truetype.Zone;\n+\n+/**\n+ * The interface to a hinting implementation.\n+ */\n+public interface Hinter\n+{\n+  /**\n+   * Initializes the hinter.\n+   *\n+   * @param face the font for which the hinter should be used\n+   */\n+  void init(OpenTypeFont face);\n+\n+  /**\n+   * Hints the specified outline.\n+   *\n+   * @param outline the outline to hint\n+   */\n+  void applyHints(Zone outline);\n+\n+  void setFlags(int flags);\n+}"}, {"sha": "a270ce7d96d630e4719331a8072d96fa685baa0f", "filename": "libjava/classpath/gnu/java/awt/font/opentype/OpenTypeFont.java", "status": "modified", "additions": 35, "deletions": 3, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FOpenTypeFont.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FOpenTypeFont.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FOpenTypeFont.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -51,6 +51,7 @@\n \n import gnu.java.awt.font.FontDelegate;\n import gnu.java.awt.font.GNUGlyphVector;\n+import gnu.java.awt.font.autofit.AutoHinter;\n import gnu.java.awt.font.opentype.truetype.TrueTypeScaler;\n import gnu.java.awt.font.opentype.truetype.Zone;\n \n@@ -146,7 +147,8 @@\n    */\n   private GlyphNamer glyphNamer;\n \n-  \n+  private Hinter hinter;\n+\n   /**\n    * Constructs an OpenType or TrueType font.\n    *\n@@ -579,6 +581,9 @@ public synchronized GlyphVector createGlyphVector(Font font,\n                                                     FontRenderContext frc,\n                                                     CharacterIterator ci)\n   {\n+    // Initialize hinter if necessary.\n+    checkHinter(FontDelegate.FLAG_FITTED);\n+\n     CharGlyphMap cmap;    \n     int numGlyphs;\n     int[] glyphs;\n@@ -689,13 +694,15 @@ public synchronized GeneralPath getGlyphOutline(int glyph,\n                                                   float pointSize,\n                                                   AffineTransform transform,\n                                                   boolean antialias,\n-                                                  boolean fractionalMetrics)\n+                                                  boolean fractionalMetrics,\n+                                                  int flags)\n   {\n     /* The synchronization is needed because the scaler is not\n      * synchronized.\n      */\n+    checkHinter(flags);\n     return scaler.getOutline(glyph, pointSize, transform,\n-                             antialias, fractionalMetrics);\n+                             antialias, fractionalMetrics, hinter, flags);\n   }\n \n   /**\n@@ -837,4 +844,29 @@ static String tagToString(int tag)\n     c[3] = (char) (tag & 0xff);\n     return new String(c);\n   }\n+\n+  /**\n+   * Checks if a hinter is installed and installs one when not.\n+   */\n+  private void checkHinter(int flags)\n+  {\n+    // When another hinting impl gets added (maybe a true TrueType hinter)\n+    // then add some options here. The Hinter interface might need to be\n+    // tweaked.\n+    if (hinter == null)\n+      {\n+        try\n+          {\n+            hinter = new AutoHinter();\n+            hinter.init(this);\n+          }\n+        catch (Exception ex)\n+          {\n+            // Protect from problems inside hinter.\n+            hinter = null;\n+            ex.printStackTrace();\n+          }\n+      }\n+    hinter.setFlags(flags);\n+  }\n }"}, {"sha": "c7582b66657f5ec84f4899dd96c06402d7d62189", "filename": "libjava/classpath/gnu/java/awt/font/opentype/Scaler.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FScaler.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FScaler.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2FScaler.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -90,7 +90,8 @@ public abstract GeneralPath getOutline(int glyph,\n                                          float pointSize,\n                                          AffineTransform transform,\n                                          boolean antialias,\n-                                         boolean fractionalMetrics);\n+                                         boolean fractionalMetrics,\n+                                         Hinter hinter, int type);\n \n \n   /**"}, {"sha": "287593e439c76903e4cbd0e551544801b58e8e0c", "filename": "libjava/classpath/gnu/java/awt/font/opentype/truetype/Fixed.java", "status": "modified", "additions": 17, "deletions": 3, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FFixed.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FFixed.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FFixed.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -48,7 +48,7 @@\n  *\n  * @author Sascha Brawer (brawer@dandelis.ch)\n  */\n-final class Fixed\n+public final class Fixed\n {\n   public static final int ONE = 1<<6;\n \n@@ -69,14 +69,21 @@ public static int mul(int a, int b)\n     return (int) ((((long) a) * b) >> 6);\n   }\n \n+  public static int mul16(int a, int b)\n+  {\n+    return (int) ((((long) a) * b) >> 16);\n+  }\n \n   public static int div(int a, int b)\n   {\n     return (int) ((((long) a) << 6) / b);\n   }\n \n+  public static int div16(int a, int b)\n+  {\n+    return (int) ((((long) a) << 16) / b);\n+  }\n \n-  \n   public static int ceil(int a)\n   {\n     return (a + 63) & -64;\n@@ -119,7 +126,10 @@ public static float floatValue(int f)\n   {\n     return ((float) f) / 64;\n   }\n-\n+  public static float floatValue16(int f)\n+  {\n+    return ((float) f) / 65536;\n+  }\n \n   public static double doubleValue(int f)\n   {\n@@ -138,6 +148,10 @@ public static int valueOf(double d)\n     return (int) (d * 64);\n   }\n \n+  public static int valueOf16(double d)\n+  {\n+    return (int) (d * (1 << 16));\n+  }\n \n   /**\n    * Makes a string representation of a fixed-point number."}, {"sha": "249a87dd4035438735b5f8e7209098d573ae0794", "filename": "libjava/classpath/gnu/java/awt/font/opentype/truetype/GlyphLoader.java", "status": "modified", "additions": 19, "deletions": 14, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FGlyphLoader.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FGlyphLoader.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FGlyphLoader.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,6 +38,8 @@\n \n package gnu.java.awt.font.opentype.truetype;\n \n+import gnu.java.awt.font.opentype.Hinter;\n+\n import java.awt.geom.AffineTransform;\n import java.nio.ByteBuffer;\n \n@@ -112,17 +114,17 @@ public void loadGlyph(int glyphIndex,\n                         double pointSize,\n                         AffineTransform transform,\n                         boolean antialias,\n-                        Zone glyphZone)\n+                        Zone glyphZone, Hinter hinter)\n   {\n     glyphZone.setNumPoints(4);\n     loadSubGlyph(glyphIndex, pointSize, transform, antialias, glyphZone,\n-                 0, 0);\n+                 0, 0, hinter);\n   }\n \n   public void loadGlyph(int glyphIndex, AffineTransform transform,\n-                        Zone glyphZone)\n+                        Zone glyphZone, Hinter hinter)\n   {\n-    loadGlyph(glyphIndex, unitsPerEm, transform, false, glyphZone);\n+    loadGlyph(glyphIndex, unitsPerEm, transform, false, glyphZone, hinter);\n   }\n \n   private void loadSubGlyph(int glyphIndex,\n@@ -131,7 +133,8 @@ private void loadSubGlyph(int glyphIndex,\n                             boolean antialias,\n                             Zone glyphZone,\n                             int preTranslateX,\n-                            int preTranslateY)\n+                            int preTranslateY,\n+                            Hinter hinter)\n   {\n     ByteBuffer glyph;\n     int numContours;\n@@ -159,11 +162,11 @@ private void loadSubGlyph(int glyphIndex,\n     if (numContours >= 0)\n       loadSimpleGlyph(glyphIndex, pointSize, transform, antialias,\n                       numContours, glyph, glyphZone,\n-                      preTranslateX, preTranslateY);\n+                      preTranslateX, preTranslateY, hinter);\n     else\n       loadCompoundGlyph(glyphIndex, pointSize, transform, antialias,\n                         glyph, glyphZone,\n-                        preTranslateX, preTranslateY);\n+                        preTranslateX, preTranslateY, hinter);\n   }\n \n \n@@ -172,7 +175,8 @@ private void loadSimpleGlyph(int glyphIndex,\n                                boolean antialias,\n                                int numContours, ByteBuffer glyph,\n                                Zone glyphZone,\n-                               int preTranslateX, int preTranslateY)\n+                               int preTranslateX, int preTranslateY,\n+                               Hinter hinter)\n   {\n     int numPoints;\n     int posInstructions, numInstructions;\n@@ -203,10 +207,10 @@ private void loadSimpleGlyph(int glyphIndex,\n     glyphZone.transform(pointSize, transform, unitsPerEm,\n                         preTranslateX, preTranslateY);\n \n-    if (execInstructions)\n-    {\n-      // FIXME: Hint the glyph.\n-    }\n+    if (execInstructions && hinter != null)\n+      {\n+        hinter.applyHints(glyphZone);\n+      }\n   }\n \n \n@@ -229,7 +233,8 @@ private void loadCompoundGlyph(int glyphIndex,\n                                  boolean antialias,\n                                  ByteBuffer glyph,\n                                  Zone glyphZone,\n-                                 int preTranslateX, int preTranslateY)\n+                                 int preTranslateX, int preTranslateY,\n+                                 Hinter hinter)\n   {\n     short flags;\n     int subGlyphIndex;\n@@ -326,7 +331,7 @@ else if ((flags & WE_HAVE_A_TWO_BY_TWO) != 0)\n       loadSubGlyph(subGlyphIndex, pointSize, componentTransform,\n                    antialias, subGlyphZone,\n                    Math.round((float) e + preTranslateX),\n-                   Math.round(-((float) f + preTranslateY)));\n+                   Math.round(-((float) f + preTranslateY)), hinter);\n       glyphZone.combineWithSubGlyph(subGlyphZone, 4);\n       glyph.limit(lim).position(pos);\n     }"}, {"sha": "c9664d2dc071c55395578be1cda92225aa024ee7", "filename": "libjava/classpath/gnu/java/awt/font/opentype/truetype/Point.java", "status": "added", "additions": 285, "deletions": 0, "changes": 285, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FPoint.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FPoint.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FPoint.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,285 @@\n+/* Point.java -- Holds information for one point on a glyph outline\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.font.opentype.truetype;\n+\n+/**\n+ * Encapsulates information regarding one point on a glyph outline.\n+ */\n+public class Point\n+{\n+  public static final short FLAG_TOUCHED_X = 1;\n+  public static final short FLAG_TOUCHED_Y = 2;\n+  public static final short FLAG_ON_CURVE = 4;\n+  public static final short FLAG_CONTOUR_END = 8;\n+  public static final short FLAG_WEAK_INTERPOLATION = 16;\n+  public static final short FLAG_INFLECTION = 32;\n+  public static final short FLAG_DONE_X = 64;\n+  public static final short FLAG_DONE_Y = 128;\n+  \n+  /**\n+   * Right direction.\n+   */\n+  public static final int DIR_RIGHT = 1;\n+\n+  /**\n+   * Left direction.\n+   */\n+  public static final int DIR_LEFT = -1;\n+\n+  /**\n+   * Up direction.\n+   */\n+  public static final int DIR_UP = 2;\n+\n+  /**\n+   * Down direction.\n+   */\n+  public static final int DIR_DOWN = -2;\n+\n+  /**\n+   * The original x coordinate in font units.\n+   */\n+  int origX;\n+\n+  /**\n+   * The original y coordinate in font units.\n+   */\n+  int origY;\n+\n+  /**\n+   * The x coordinate scaled to the target.\n+   */\n+  int scaledX;\n+\n+  /**\n+   * The y coordinate scaled to the target.\n+   */\n+  int scaledY;\n+\n+  /**\n+   * The final hinted and scaled x coordinate.\n+   */\n+  int x;\n+\n+  /**\n+   * The final hinted and scaled y coordinate.\n+   */\n+  int y;\n+\n+  int u;\n+  int v;\n+\n+  /**\n+   * The glyph flags.\n+   */\n+  short flags;\n+\n+  /**\n+   * The previous point in the contour.\n+   */\n+  private Point prev;\n+\n+  /**\n+   * The next point in the contour.\n+   */\n+  private Point next;\n+\n+  /**\n+   * The in-direction of the point, according to the DIR_* constants of this\n+   * class.\n+   */\n+  int inDir;\n+\n+  /**\n+   * The out-direction of the point, according to the DIR_* constants of this\n+   * class.\n+   */\n+  int outDir;\n+\n+  public Point getNext()\n+  {\n+    return next;\n+  }\n+\n+  public void setNext(Point next)\n+  {\n+    this.next = next;\n+  }\n+\n+  public Point getPrev()\n+  {\n+    return prev;\n+  }\n+\n+  public void setPrev(Point prev)\n+  {\n+    this.prev = prev;\n+  }\n+\n+  public int getOrigX()\n+  {\n+    return origX;\n+  }\n+\n+  public void setOrigX(int origX)\n+  {\n+    this.origX = origX;\n+  }\n+\n+  public int getOrigY()\n+  {\n+    return origY;\n+  }\n+\n+  public void setOrigY(int origY)\n+  {\n+    this.origY = origY;\n+  }\n+\n+  public int getInDir()\n+  {\n+    return inDir;\n+  }\n+\n+  public void setInDir(int inDir)\n+  {\n+    this.inDir = inDir;\n+  }\n+\n+  public int getOutDir()\n+  {\n+    return outDir;\n+  }\n+\n+  public void setOutDir(int outDir)\n+  {\n+    this.outDir = outDir;\n+  }\n+\n+  public short getFlags()\n+  {\n+    return flags;\n+  }\n+\n+  public void setFlags(short flags)\n+  {\n+    this.flags = flags;\n+  }\n+\n+  public void addFlags(short flags)\n+  {\n+    this.flags |= flags;\n+  }\n+\n+  public boolean isControlPoint()\n+  {\n+    return (flags & FLAG_ON_CURVE) == 0;\n+  }\n+\n+  public int getU()\n+  {\n+    return u;\n+  }\n+\n+  public void setU(int u)\n+  {\n+    this.u = u;\n+  }\n+\n+  public int getV()\n+  {\n+    return v;\n+  }\n+\n+  public void setV(int v)\n+  {\n+    this.v = v;\n+  }\n+\n+  public String toString()\n+  {\n+    StringBuilder s = new StringBuilder();\n+    s.append(\"[Point] origX: \");\n+    s.append(origX);\n+    s.append(\", origY: \");\n+    s.append(origY);\n+    // TODO: Add more info when needed.\n+    return s.toString();\n+  }\n+\n+  public int getX()\n+  {\n+    return x;\n+  }\n+\n+  public void setX(int x)\n+  {\n+    this.x = x;\n+  }\n+\n+  public int getY()\n+  {\n+    return y;\n+  }\n+\n+  public void setY(int y)\n+  {\n+    this.y = y;\n+  }\n+\n+  public int getScaledX()\n+  {\n+    return scaledX;\n+  }\n+\n+  public void setScaledX(int scaledX)\n+  {\n+    this.scaledX = scaledX;\n+  }\n+\n+  public int getScaledY()\n+  {\n+    return scaledY;\n+  }\n+\n+  public void setScaledY(int scaledY)\n+  {\n+    this.scaledY = scaledY;\n+  }\n+}"}, {"sha": "5f5cc0001d97b4f65fbd67e611b00b5677841b6a", "filename": "libjava/classpath/gnu/java/awt/font/opentype/truetype/TrueTypeScaler.java", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FTrueTypeScaler.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FTrueTypeScaler.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FTrueTypeScaler.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -37,6 +37,7 @@\n \n package gnu.java.awt.font.opentype.truetype;\n \n+import gnu.java.awt.font.opentype.Hinter;\n import gnu.java.awt.font.opentype.Scaler;\n \n import java.awt.FontFormatException;\n@@ -191,17 +192,18 @@ public GeneralPath getOutline(int glyphIndex,\n                                 float pointSize,\n                                 AffineTransform deviceTransform,\n                                 boolean antialias,\n-                                boolean fractionalMetrics)\n+                                boolean fractionalMetrics, Hinter hinter,\n+                                int type)\n   {\n     glyphLoader.loadGlyph(glyphIndex, pointSize, deviceTransform,\n-                          antialias, glyphZone);\n-    return glyphZone.getPath();\n+                          antialias, glyphZone, hinter);\n+    return glyphZone.getPath(type);\n   }\n \n   public Zone getRawOutline(int glyphIndex, AffineTransform transform)\n   {\n     Zone zone = new Zone(glyphZone.getCapacity());\n-    glyphLoader.loadGlyph(glyphIndex, transform, zone);\n+    glyphLoader.loadGlyph(glyphIndex, transform, zone, null);\n     return zone;\n   }\n "}, {"sha": "7c25a0a6a4967c5486e9457f767eb1385a862b3a", "filename": "libjava/classpath/gnu/java/awt/font/opentype/truetype/Zone.java", "status": "modified", "additions": 97, "deletions": 49, "changes": 146, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FZone.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FZone.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FZone.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -37,6 +37,8 @@\n \n package gnu.java.awt.font.opentype.truetype;\n \n+import gnu.java.awt.font.FontDelegate;\n+\n import java.awt.geom.AffineTransform;\n import java.awt.geom.GeneralPath;\n import java.awt.geom.PathIterator;\n@@ -47,27 +49,19 @@\n  */\n public final class Zone\n {\n-  private final int[] pos;\n-  private final int[] origPos;\n-  private final byte[] flags;\n+  private Point[] points;\n   private int numPoints;\n \n-  private static final int FLAG_TOUCHED_X = 1;\n-  private static final int FLAG_TOUCHED_Y = 2;\n-  private static final int FLAG_ON_CURVE = 4;\n-  private static final int FLAG_CONTOUR_END = 8;\n+  public double scaleX, scaleY, shearX, shearY;\n \n   public Zone(int maxNumPoints)\n   {\n-    origPos = new int[maxNumPoints * 2];\n-    pos = new int[maxNumPoints * 2];\n-    flags = new byte[maxNumPoints];\n+    points = new Point[maxNumPoints];\n   }\n \n-\n   public int getCapacity()\n   {\n-    return flags.length;\n+    return points.length;\n   }\n \n \n@@ -79,91 +73,110 @@ public int getSize()\n \n   public int getX(int point)\n   {\n-    return pos[2 * point];\n+    return getX(point, FontDelegate.FLAG_FITTED);\n+  }\n+\n+  public int getX(int point, int flags)\n+  {\n+    int x;\n+    if ((flags & FontDelegate.FLAG_FITTED) != 0)\n+      x = points[point].x;\n+    else\n+      x = points[point].scaledX;\n+    return x;\n   }\n \n \n   public void setX(int point, int value, boolean touch)\n   {\n-    pos[2 * point] = value;\n+    points[point].scaledX = value;\n+    points[point].x = value;\n     if (touch)\n-      flags[point] |= FLAG_TOUCHED_X;\n+      points[point].flags |= Point.FLAG_TOUCHED_X;\n   }\n \n \n   public void setY(int point, int value, boolean touch)\n   {\n-    pos[2 * point + 1] = value;\n+    points[point].scaledY = value;\n+    points[point].y = value;\n     if (touch)\n-      flags[point] |= FLAG_TOUCHED_Y;\n+      points[point].flags |= Point.FLAG_TOUCHED_Y;\n   }\n \n-\n   public int getY(int point)\n   {\n-    return pos[2 * point + 1];\n+    return getY(point, FontDelegate.FLAG_FITTED);\n+  }\n+\n+  public int getY(int point, int flags)\n+  {\n+    int y;\n+    if ((flags & FontDelegate.FLAG_FITTED) != 0)\n+      y = points[point].y;\n+    else\n+      y = points[point].scaledY;\n+    return y;\n   }\n \n \n   public int getOriginalX(int point)\n   {\n-    return origPos[2 * point];\n+    return points[point].origX;\n   }\n \n \n   public int getOriginalY(int point)\n   {\n-    return origPos[2 * point + 1];\n+    return points[point].origY;\n   }\n \n \n   public void setOriginalX(int point, int x)\n   {\n-    origPos[2 * point] = x;\n+    points[point].origX = x;\n   }\n \n   public void setOriginalY(int point, int y)\n   {\n-    origPos[2 * point + 1] = y;\n+    points[point].origY = y;\n   }\n \n   public void setNumPoints(int numPoints)\n   {\n-    this.numPoints = numPoints;\n     for (int i = 0; i < numPoints; i++)\n-      flags[i] = 0;\n-    for (int i = 0; i < 2 * numPoints; i++)\n-      origPos[i] = pos[i] = 0;\n+      points[i] = new Point();\n+    this.numPoints = numPoints;\n   }\n \n \n   public boolean isOnCurve(int point)\n   {\n-    return (flags[point] & FLAG_ON_CURVE) != 0;\n+    return (points[point].flags & Point.FLAG_ON_CURVE) != 0;\n   }\n \n \n   public void setOnCurve(int point, boolean onCurve)\n   {\n     if (onCurve)\n-      flags[point] |= FLAG_ON_CURVE;\n+      points[point].flags |= Point.FLAG_ON_CURVE;\n     else\n-      flags[point] &= ~FLAG_ON_CURVE;\n+      points[point].flags &= ~Point.FLAG_ON_CURVE;\n   }\n \n \n   public boolean isContourEnd(int point)\n   {\n-    return (flags[point] & FLAG_CONTOUR_END) != 0;\n+    return (points[point].flags & Point.FLAG_CONTOUR_END) != 0;\n   }\n \n \n   public void setContourEnd(int point, boolean segEnd)\n   {\n     if (segEnd)\n-      flags[point] |= FLAG_CONTOUR_END;\n+      points[point].flags |= Point.FLAG_CONTOUR_END;\n     else\n-      flags[point] &= ~FLAG_CONTOUR_END;\n+      points[point].flags &= ~Point.FLAG_CONTOUR_END;\n   }\n \n \n@@ -172,7 +185,6 @@ public void setContourEnd(int point, boolean segEnd)\n   void transform(double pointSize, AffineTransform deviceTransform,\n                  int unitsPerEm, int preTranslateX, int preTranslateY)\n   {\n-    double scaleX, scaleY, shearX, shearY;\n     double factor;\n \n     factor = pointSize / (double) unitsPerEm;\n@@ -183,11 +195,13 @@ void transform(double pointSize, AffineTransform deviceTransform,\n \n     for (int i = 0; i < numPoints; i++)\n     {\n-      int x = origPos[2 * i] + preTranslateX;\n-      int y = origPos[2 * i + 1] + preTranslateY;\n+      int x = points[i].origX + preTranslateX;\n+      int y = points[i].origY + preTranslateY;\n \n-      origPos[2*i] = pos[2 * i] = Fixed.valueOf(scaleX * x + shearX * y);\n-      origPos[2*i+1] = pos[2 * i + 1] = Fixed.valueOf(shearY * x + scaleY * y);\n+      points[i].scaledX = points[i].x = Fixed.valueOf(scaleX * x\n+                                                      + shearX * y);\n+      points[i].scaledY = points[i].y = Fixed.valueOf(shearY * x\n+                                                      + scaleY * y);\n     }\n   }\n \n@@ -197,11 +211,7 @@ void combineWithSubGlyph(Zone zone, int numPhantomPoints)\n   {\n     int offset = this.numPoints - numPhantomPoints;\n     int count = zone.numPoints;\n-    System.arraycopy(zone.origPos, 0, this.origPos, 2 * offset,\n-                     count * 2);\n-    System.arraycopy(zone.pos, 0, this.pos, 2 * offset,\n-                     count * 2);\n-    System.arraycopy(zone.flags, 0, this.flags, offset, count);\n+    System.arraycopy(zone.points, 0, this.points, offset, count);\n     this.numPoints += count - numPhantomPoints;\n   }\n \n@@ -211,9 +221,9 @@ private void dump()\n     for (int i = 0; i < numPoints; i++)\n     {\n       System.out.print(\" \" + i + \": \");\n-      System.out.print(Fixed.toString(pos[i*2], pos[i*2+1]));\n+      System.out.print(Fixed.toString(points[i].scaledX, points[i].scaledY));\n       System.out.print(' ');\n-      System.out.print(Fixed.toString(origPos[i*2], origPos[i*2+1]));\n+      System.out.print(Fixed.toString(points[i].origX, points[i].origY));\n       System.out.print(' ');\n       if (isOnCurve(i))\n         System.out.print('.');\n@@ -228,16 +238,54 @@ private void dump()\n   }\n \n \n-  public PathIterator getPathIterator()\n+  public PathIterator getPathIterator(int type)\n   {\n-    return new ZonePathIterator(this);\n+    return new ZonePathIterator(this, type);\n   }\n \n \n-  public GeneralPath getPath()\n+  public GeneralPath getPath(int type)\n   {\n     GeneralPath p = new GeneralPath(GeneralPath.WIND_NON_ZERO, numPoints);\n-    p.append(getPathIterator(), /* connect */ false);\n+    p.append(getPathIterator(type), /* connect */ false);\n     return p;\n   }\n+\n+  /**\n+   * Returns the number of contours in this outline.\n+   *\n+   * @return the number of contours in this outline\n+   */\n+  public int getNumContours()\n+  {\n+    int num = 0;\n+    for (int i = 0; i < numPoints; i++)\n+      {\n+        if (isContourEnd(i))\n+          num++;\n+      }\n+    return num;\n+  }\n+\n+  public int getContourEnd(int n)\n+  {\n+    int idx = -1;\n+    int num = 0;\n+    for (int i = 0; i < numPoints; i++)\n+      {\n+        if (isContourEnd(i))\n+          {\n+            idx = i;\n+            if (num == n)\n+              break;\n+            num++;\n+          }\n+      }\n+    return idx;\n+  }\n+\n+  public Point[] getPoints()\n+  {\n+    return points;\n+  }\n }"}, {"sha": "0f60828b89279b8374ccfe6b012da526dacfa482", "filename": "libjava/classpath/gnu/java/awt/font/opentype/truetype/ZonePathIterator.java", "status": "modified", "additions": 13, "deletions": 11, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FZonePathIterator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FZonePathIterator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Ffont%2Fopentype%2Ftruetype%2FZonePathIterator.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -116,16 +116,18 @@\n   private int contourStart;\n \n   \n+  private int type;\n \n   /**\n    * Constructs a ZonePathIterator for the specified zone.\n    *\n    * @param zone the zone whose segments will be enumerated\n    * by this iterator.\n    */\n-  ZonePathIterator(Zone zone)\n+  ZonePathIterator(Zone zone, int t)\n   {\n     this.zone = zone;\n+    type = t;\n     numPoints = zone.getSize() - /* four phantom points */ 4;\n \n     // The first segment that needs to be emitted is a SEG_MOVETO.\n@@ -309,17 +311,17 @@ private int getSegment(int cur, float[] coords)\n     int curX, curY;\n     int succ, succX, succY;\n \n-    curX = zone.getX(cur);\n-    curY = zone.getY(cur);\n+    curX = zone.getX(cur, type);\n+    curY = zone.getY(cur, type);\n     coords[0] = Fixed.floatValue(curX);\n     coords[1] = Fixed.floatValue(curY);\n \n     if (zone.isOnCurve(cur))\n       return PathIterator.SEG_LINETO;\n \n     succ = getSuccessor(cur);\n-    succX = zone.getX(succ);\n-    succY = zone.getY(succ);\n+    succX = zone.getX(succ, type);\n+    succY = zone.getY(succ, type);\n \n     if (zone.isOnCurve(succ))\n     {\n@@ -359,8 +361,8 @@ private int getStartSegment(int contourStart, float[] coords)\n \n     if (zone.isOnCurve(contourStart))\n     {\n-      x = zone.getX(contourStart);\n-      y = zone.getY(contourStart);    \n+      x = zone.getX(contourStart, type);\n+      y = zone.getY(contourStart, type);    \n     }\n     else\n     {\n@@ -374,13 +376,13 @@ private int getStartSegment(int contourStart, float[] coords)\n         /* An example is the 'o' glyph of the Helvetica which comes\n          * with Apple MacOS X 10.1.5.\n          */\n-        x = zone.getX(contourEnd);\n-        y = zone.getY(contourEnd);\n+        x = zone.getX(contourEnd, type);\n+        y = zone.getY(contourEnd, type);\n       }\n       else\n       {\n-        x = (zone.getX(contourStart) + zone.getX(contourEnd)) / 2;\n-        y = (zone.getY(contourStart) + zone.getY(contourEnd)) / 2;\n+        x = (zone.getX(contourStart, type) + zone.getX(contourEnd, type)) / 2;\n+        y = (zone.getY(contourStart, type) + zone.getY(contourEnd, type)) / 2;\n       }\n     }\n "}, {"sha": "f6c5ff0cb3b2b58ca694a1b50064966561ee511a", "filename": "libjava/classpath/gnu/java/awt/java2d/AbstractGraphics2D.java", "status": "modified", "additions": 55, "deletions": 439, "changes": 494, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FAbstractGraphics2D.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FAbstractGraphics2D.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FAbstractGraphics2D.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -67,8 +67,6 @@\n import java.awt.geom.GeneralPath;\n import java.awt.geom.Line2D;\n import java.awt.geom.NoninvertibleTransformException;\n-import java.awt.geom.PathIterator;\n-import java.awt.geom.Rectangle2D;\n import java.awt.geom.RoundRectangle2D;\n import java.awt.image.BufferedImage;\n import java.awt.image.BufferedImageOp;\n@@ -82,7 +80,6 @@\n import java.text.AttributedCharacterIterator;\n import java.util.ArrayList;\n import java.util.HashMap;\n-import java.util.Iterator;\n import java.util.Map;\n \n /**\n@@ -153,6 +150,11 @@\n   implements Cloneable\n {\n \n+  /**\n+   * The default font to use on the graphics object.\n+   */\n+  private static final Font FONT = new Font(\"SansSerif\", Font.PLAIN, 12);\n+\n   /**\n    * Accuracy of the sampling in the anti-aliasing shape filler.\n    * Lower values give more speed, while higher values give more quality.\n@@ -164,7 +166,14 @@\n    * Caches certain shapes to avoid massive creation of such Shapes in\n    * the various draw* and fill* methods.\n    */\n-  private static final ThreadLocal shapeCache = new ThreadLocal();\n+  private static final ThreadLocal<ShapeCache> shapeCache =\n+    new ThreadLocal<ShapeCache>();\n+\n+  /**\n+   * The scanline converters by thread.\n+   */\n+  private static final ThreadLocal<ScanlineConverter> scanlineConverters =\n+    new ThreadLocal<ScanlineConverter>();\n \n   /**\n    * The transformation for this Graphics2D instance\n@@ -176,6 +185,11 @@\n    */\n   private Paint paint;\n \n+  /**\n+   * The paint context during rendering.\n+   */\n+  private PaintContext paintContext;\n+\n   /**\n    * The background.\n    */\n@@ -239,6 +253,17 @@\n    */\n   private boolean isOptimized = true;\n \n+  private static final BasicStroke STANDARD_STROKE = new BasicStroke();\n+\n+  private static final HashMap STANDARD_HINTS;\n+  static {\n+    HashMap hints = new HashMap();\n+  hints.put(RenderingHints.KEY_TEXT_ANTIALIASING,\n+            RenderingHints.VALUE_TEXT_ANTIALIAS_DEFAULT);\n+  hints.put(RenderingHints.KEY_ANTIALIASING,\n+            RenderingHints.VALUE_ANTIALIAS_DEFAULT);\n+  STANDARD_HINTS = hints;\n+  }\n   /**\n    * Creates a new AbstractGraphics2D instance.\n    */\n@@ -247,13 +272,8 @@ protected AbstractGraphics2D()\n     transform = new AffineTransform();\n     background = Color.WHITE;\n     composite = AlphaComposite.SrcOver;\n-    stroke = new BasicStroke();\n-    HashMap hints = new HashMap();\n-    hints.put(RenderingHints.KEY_TEXT_ANTIALIASING,\n-              RenderingHints.VALUE_TEXT_ANTIALIAS_DEFAULT);\n-    hints.put(RenderingHints.KEY_ANTIALIASING,\n-              RenderingHints.VALUE_ANTIALIAS_DEFAULT);\n-    renderingHints = new RenderingHints(hints);\n+    stroke = STANDARD_STROKE;\n+    renderingHints = new RenderingHints(STANDARD_HINTS);\n   }\n \n   /**\n@@ -958,15 +978,8 @@ public FontRenderContext getFontRenderContext()\n    */\n   public void drawGlyphVector(GlyphVector gv, float x, float y)\n   {\n-    int numGlyphs = gv.getNumGlyphs();\n     translate(x, y);\n-    // TODO: We could use fill(gv.getOutline()), but that seems to be\n-    // slightly more inefficient.\n-    for (int i = 0; i < numGlyphs; i++)\n-    {\n-      Shape o = gv.getGlyphOutline(i);\n-      fillShape(o, true);\n-    }\n+    fillShape(gv.getOutline(), true);\n     translate(-x, -y);\n   }\n \n@@ -1557,21 +1570,14 @@ protected void fillShape(Shape s, boolean isFont)\n         antialias = (v == RenderingHints.VALUE_ANTIALIAS_ON);\n       }\n \n-    Rectangle2D userBounds = s.getBounds2D();\n-    Rectangle2D deviceBounds = new Rectangle2D.Double();\n-    ArrayList segs = getSegments(s, transform, deviceBounds, false);\n-    Rectangle2D clipBounds = new Rectangle2D.Double();\n-    ArrayList clipSegs = getSegments(clip, transform, clipBounds, true);\n-    segs.addAll(clipSegs);\n-    Rectangle2D inclClipBounds = new Rectangle2D.Double();\n-    Rectangle2D.union(clipBounds, deviceBounds, inclClipBounds);\n-    if (segs.size() > 0)\n+    ScanlineConverter sc = getScanlineConverter();\n+    int resolution = 0;\n+    if (antialias)\n       {\n-        if (antialias)\n-          fillShapeAntialias(segs, deviceBounds, userBounds, inclClipBounds);\n-        else\n-          fillShapeImpl(segs, deviceBounds, userBounds, inclClipBounds);\n+        // Adjust resolution according to rendering hints.\n+        resolution = 2;\n       }\n+    sc.renderShape(this, s, clip, transform, resolution);\n   }\n \n   /**\n@@ -1704,141 +1710,6 @@ private void copyAreaImpl(int x, int y, int w, int h, int dx, int dy)\n     throw new UnsupportedOperationException(\"Not implemented yet.\");\n   }\n \n-  /**\n-   * Fills the specified polygon without anti-aliasing.\n-   */\n-  private void fillShapeImpl(ArrayList segs, Rectangle2D deviceBounds2D,\n-                             Rectangle2D userBounds,\n-                             Rectangle2D inclClipBounds)\n-  {\n-    // This is an implementation of a polygon scanline conversion algorithm\n-    // described here:\n-    // http://www.cs.berkeley.edu/~ug/slide/pipeline/assignments/scan/\n-\n-    // Create table of all edges.\n-    // The edge buckets, sorted and indexed by their Y values.\n-\n-    double minX = deviceBounds2D.getMinX();\n-    double minY = deviceBounds2D.getMinY();\n-    double maxX = deviceBounds2D.getMaxX();\n-    double maxY = deviceBounds2D.getMaxY();\n-    double icMinY = inclClipBounds.getMinY();\n-    double icMaxY = inclClipBounds.getMaxY();\n-    Rectangle deviceBounds = new Rectangle((int) minX, (int) minY,\n-                                           (int) Math.ceil(maxX) - (int) minX,\n-                                           (int) Math.ceil(maxY) - (int) minY);\n-    PaintContext pCtx = paint.createContext(getColorModel(), deviceBounds,\n-                                            userBounds, transform, renderingHints);\n-\n-    ArrayList[] edgeTable = new ArrayList[(int) Math.ceil(icMaxY)\n-                                          - (int) Math.ceil(icMinY) + 1];\n-\n-    for (Iterator i = segs.iterator(); i.hasNext();)\n-      {\n-        PolyEdge edge = (PolyEdge) i.next();\n-        int yindex = (int) Math.ceil(edge.y0) - (int) Math.ceil(icMinY);\n-        if (edgeTable[yindex] == null) // Create bucket when needed.\n-          edgeTable[yindex] = new ArrayList();\n-        edgeTable[yindex].add(edge); // Add edge to the bucket of its line.\n-      }\n-\n-    // TODO: The following could be useful for a future optimization.\n-//    // Sort all the edges in the edge table within their buckets.\n-//    for (int y = 0; y < edgeTable.length; y++)\n-//      {\n-//        if (edgeTable[y] != null)\n-//          Collections.sort(edgeTable[y]);\n-//      }\n-\n-    // The activeEdges list contains all the edges of the current scanline\n-    // ordered by their intersection points with this scanline.\n-    ArrayList activeEdges = new ArrayList();\n-    PolyEdgeComparator comparator = new PolyEdgeComparator();\n-\n-    // Scan all relevant lines.\n-    int minYInt = (int) Math.ceil(icMinY);\n-\n-    Rectangle devClip = getDeviceBounds();\n-    int scanlineMax = (int) Math.min(maxY, devClip.getMaxY());\n-    for (int y = minYInt; y < scanlineMax; y++)\n-      {\n-        ArrayList bucket = edgeTable[y - minYInt];\n-        // Update all the x intersections in the current activeEdges table\n-        // and remove entries that are no longer in the scanline.\n-        for (Iterator i = activeEdges.iterator(); i.hasNext();)\n-          {\n-            PolyEdge edge = (PolyEdge) i.next();\n-            if (y > edge.y1)\n-              i.remove();\n-            else\n-              {\n-                edge.xIntersection += edge.slope;\n-                //edge.xIntersection = edge.x0 + edge.slope * (y - edge.y0);\n-                //System.err.println(\"edge.xIntersection: \" + edge.xIntersection);\n-              }\n-          }\n-\n-        if (bucket != null)\n-          activeEdges.addAll(bucket);\n-\n-        // Sort current edges. We are using a bubble sort, because the order\n-        // of the intersections will not change in most situations. They\n-        // will only change, when edges intersect each other.\n-        int size = activeEdges.size();\n-        if (size > 1)\n-          {\n-            for (int i = 1; i < size; i++)\n-              {\n-                PolyEdge e1 = (PolyEdge) activeEdges.get(i - 1);\n-                PolyEdge e2 = (PolyEdge) activeEdges.get(i);\n-                if (comparator.compare(e1, e2) > 0)\n-                  {\n-                    // Swap e2 with its left neighbor until it 'fits'.\n-                    int j = i;\n-                    do\n-                      {\n-                        activeEdges.set(j, e1);\n-                        activeEdges.set(j - 1, e2);\n-                        j--;\n-                        if (j >= 1)\n-                          e1 = (PolyEdge) activeEdges.get(j - 1);\n-                      } while (j >= 1 && comparator.compare(e1, e2) > 0);\n-                  }\n-              }\n-          }\n-\n-        // Now draw all pixels inside the polygon.\n-        // This is the last edge that intersected the scanline.\n-        PolyEdge previous = null; // Gets initialized below.\n-        boolean insideShape = false;\n-        boolean insideClip = false;\n-        //System.err.println(\"scanline: \" + y);\n-        for (Iterator i = activeEdges.iterator(); i.hasNext();)\n-          {\n-            PolyEdge edge = (PolyEdge) i.next();\n-            if (edge.y1 <= y)\n-              continue;\n-\n-            // Draw scanline when we are inside the shape AND inside the\n-            // clip.\n-            if (insideClip && insideShape)\n-              {\n-                int x0 = (int) previous.xIntersection;\n-                int x1 = (int) edge.xIntersection;\n-                if (x0 < x1)\n-                  fillScanline(pCtx, x0, x1, y);\n-              }\n-            // Update state.\n-            previous = edge;\n-            if (edge.isClip)\n-              insideClip = ! insideClip;\n-            else\n-              insideShape = ! insideShape;\n-          }\n-      }\n-    pCtx.dispose();\n-  }\n-\n   /**\n    * Paints a scanline between x0 and x1. Override this when your backend\n    * can efficiently draw/fill horizontal lines.\n@@ -1847,8 +1718,9 @@ private void fillShapeImpl(ArrayList segs, Rectangle2D deviceBounds2D,\n    * @param x1 the right offset\n    * @param y the scanline\n    */\n-  protected void fillScanline(PaintContext pCtx, int x0, int x1, int y)\n+  protected void fillScanline(int x0, int x1, int y)\n   {\n+    PaintContext pCtx = paintContext;\n     Raster paintRaster = pCtx.getRaster(x0, y, x1 - x0, 1);\n     ColorModel paintColorModel = pCtx.getColorModel();\n     CompositeContext cCtx = composite.createContext(paintColorModel,\n@@ -1860,198 +1732,6 @@ protected void fillScanline(PaintContext pCtx, int x0, int x1, int y)\n     cCtx.dispose();\n   }\n \n-  /**\n-   * Fills arbitrary shapes in an anti-aliased fashion.\n-   *\n-   * @param segs the line segments which define the shape which is to be filled\n-   */\n-  private void fillShapeAntialias(ArrayList segs, Rectangle2D deviceBounds2D,\n-                                  Rectangle2D userBounds,\n-                                  Rectangle2D inclClipBounds)\n-  {\n-    // This is an implementation of a polygon scanline conversion algorithm\n-    // described here:\n-    // http://www.cs.berkeley.edu/~ug/slide/pipeline/assignments/scan/\n-    // The antialiasing is implemented using a sampling technique, we do\n-    // not scan whole lines but fractions of the line.\n-\n-    double minX = deviceBounds2D.getMinX();\n-    double minY = deviceBounds2D.getMinY();\n-    double maxX = deviceBounds2D.getMaxX();\n-    double maxY = deviceBounds2D.getMaxY();\n-    double icMinY = inclClipBounds.getMinY();\n-    double icMaxY = inclClipBounds.getMaxY();\n-    double icMinX = inclClipBounds.getMinX();\n-    double icMaxX = inclClipBounds.getMaxX();\n-    Rectangle deviceBounds = new Rectangle((int) minX, (int) minY,\n-                                           (int) Math.ceil(maxX) - (int) minX,\n-                                           (int) Math.ceil(maxY) - (int) minY);\n-    PaintContext pCtx = paint.createContext(ColorModel.getRGBdefault(),\n-                                            deviceBounds,\n-                                            userBounds, transform,\n-                                            renderingHints);\n-\n-    // This array will contain the oversampled transparency values for\n-    // each pixel in the scanline.\n-    int numScanlines = (int) Math.ceil(icMaxY) - (int) icMinY;\n-    int numScanlinePixels = (int) Math.ceil(icMaxX) - (int) icMinX + 1;\n-    if (alpha == null || alpha.length < (numScanlinePixels + 1))\n-      alpha = new int[numScanlinePixels + 1];\n-    \n-    int firstLine = (int) icMinY;\n-    //System.err.println(\"minY: \" + minY);\n-    int firstSubline = (int) (Math.ceil((icMinY - Math.floor(icMinY)) * AA_SAMPLING));\n-    double firstLineDouble = firstLine + firstSubline / (double) AA_SAMPLING;\n-    //System.err.println(\"firstSubline: \" + firstSubline);\n-\n-    // Create table of all edges.\n-    // The edge buckets, sorted and indexed by their Y values.\n-    //System.err.println(\"numScanlines: \" + numScanlines);\n-    if (edgeTable == null\n-        || edgeTable.length < numScanlines * AA_SAMPLING + AA_SAMPLING)\n-      edgeTable = new ArrayList[numScanlines * AA_SAMPLING + AA_SAMPLING];\n-\n-    //System.err.println(\"firstLineDouble: \" + firstLineDouble);\n-    \n-    for (Iterator i = segs.iterator(); i.hasNext();)\n-      {\n-        PolyEdge edge = (PolyEdge) i.next();\n-        int yindex = (int) (Math.ceil((edge.y0 - firstLineDouble) * AA_SAMPLING));\n-        //System.err.println(\"yindex: \" + yindex + \" for y0: \" + edge.y0);\n-        // Initialize edge's slope and initial xIntersection.\n-        edge.slope = ((edge.x1 - edge.x0) / (edge.y1 - edge.y0)) / AA_SAMPLING;\n-        if (edge.y0 == edge.y1) // Horizontal edge.\n-          edge.xIntersection = Math.min(edge.x0, edge.x1);\n-        else\n-          {\n-            double alignedFirst = Math.ceil(edge.y0 * AA_SAMPLING) / AA_SAMPLING;\n-            edge.xIntersection = edge.x0 + (edge.slope * AA_SAMPLING) * (alignedFirst - edge.y0);\n-          }\n-        //System.err.println(edge);\n-        // FIXME: Sanity check should not be needed when clipping works.\n-        if (yindex >= 0 && yindex < edgeTable.length)\n-          {\n-            if (edgeTable[yindex] == null) // Create bucket when needed.\n-              edgeTable[yindex] = new ArrayList();\n-            edgeTable[yindex].add(edge); // Add edge to the bucket of its line.\n-          }\n-      }\n-    \n-    // The activeEdges list contains all the edges of the current scanline\n-    // ordered by their intersection points with this scanline.\n-    ArrayList activeEdges = new ArrayList();\n-    PolyEdgeComparator comparator = new PolyEdgeComparator();\n-    \n-    // Scan all lines.\n-    int yindex = 0;\n-    //System.err.println(\"firstLine: \" + firstLine + \", maxY: \" + maxY + \", firstSubline: \" + firstSubline);\n-    for (int y = firstLine; y <= icMaxY; y++)\n-      {\n-        int leftX = (int) icMaxX;\n-        int rightX = (int) icMinX;\n-        boolean emptyScanline = true;\n-        for (int subY = firstSubline; subY < AA_SAMPLING; subY++)\n-          {\n-            //System.err.println(\"scanline: \" + y + \", subScanline: \" + subY);\n-            ArrayList bucket = edgeTable[yindex];\n-            // Update all the x intersections in the current activeEdges table\n-            // and remove entries that are no longer in the scanline.\n-            for (Iterator i = activeEdges.iterator(); i.hasNext();)\n-              {\n-                PolyEdge edge = (PolyEdge) i.next();\n-                // TODO: Do the following using integer arithmetics.\n-                if ((y + ((double) subY / (double) AA_SAMPLING)) > edge.y1)\n-                  i.remove();\n-                else\n-                  {\n-                    edge.xIntersection += edge.slope;\n-                    //System.err.println(\"edge: \" + edge);\n-                    //edge.xIntersection = edge.x0 + edge.slope * (y - edge.y0);\n-                    //System.err.println(\"edge.xIntersection: \" + edge.xIntersection);\n-                  }\n-              }\n-\n-            if (bucket != null)\n-              {\n-                activeEdges.addAll(bucket);\n-                edgeTable[yindex].clear();\n-              }\n-\n-            // Sort current edges. We are using a bubble sort, because the order\n-            // of the intersections will not change in most situations. They\n-            // will only change, when edges intersect each other.\n-            int size = activeEdges.size();\n-            if (size > 1)\n-              {\n-                for (int i = 1; i < size; i++)\n-                  {\n-                    PolyEdge e1 = (PolyEdge) activeEdges.get(i - 1);\n-                    PolyEdge e2 = (PolyEdge) activeEdges.get(i);\n-                    if (comparator.compare(e1, e2) > 0)\n-                      {\n-                        // Swap e2 with its left neighbor until it 'fits'.\n-                        int j = i;\n-                        do\n-                          {\n-                            activeEdges.set(j, e1);\n-                            activeEdges.set(j - 1, e2);\n-                            j--;\n-                            if (j >= 1)\n-                              e1 = (PolyEdge) activeEdges.get(j - 1);\n-                          } while (j >= 1 && comparator.compare(e1, e2) > 0);\n-                      }\n-                  }\n-              }\n-        \n-            // Now draw all pixels inside the polygon.\n-            // This is the last edge that intersected the scanline.\n-            PolyEdge previous = null; // Gets initialized below.\n-            boolean insideClip = false;\n-            boolean insideShape = false;\n-            //System.err.println(\"scanline: \" + y + \", subscanline: \" + subY);\n-            for (Iterator i = activeEdges.iterator(); i.hasNext();)\n-              {\n-                PolyEdge edge = (PolyEdge) i.next();\n-                if (edge.y1 <= (y + (subY / (double) AA_SAMPLING)))\n-                  continue;\n-\n-                if (insideClip && insideShape)\n-                  {\n-                    // TODO: Use integer arithmetics here.\n-                    if (edge.y1 > (y + (subY / (double) AA_SAMPLING)))\n-                      {\n-                        //System.err.println(edge);\n-                        // TODO: Eliminate the aligments.\n-                        int x0 = (int) Math.min(Math.max(previous.xIntersection, minX), maxX);\n-                        int x1 = (int) Math.min(Math.max(edge.xIntersection, minX), maxX);\n-                        //System.err.println(\"minX: \" + minX + \", x0: \" + x0 + \", x1: \" + x1 + \", maxX: \" + maxX);\n-                        // TODO: Pull out cast.\n-                        int left = x0 - (int) minX;\n-                        int right = x1 - (int) minX + 1; \n-                        alpha[left]++;\n-                        alpha[right]--;\n-                        leftX = Math.min(x0, leftX);\n-                        rightX = Math.max(x1+2, rightX);\n-                        emptyScanline = false;\n-                      }\n-                  }\n-                previous = edge;\n-                if (edge.isClip)\n-                  insideClip = ! insideClip;\n-                else\n-                  insideShape = ! insideShape;\n-              }\n-            yindex++;\n-          }\n-        firstSubline = 0;\n-        // Render full scanline.\n-        //System.err.println(\"scanline: \" + y);\n-        if (! emptyScanline)\n-          fillScanlineAA(alpha, leftX, y, rightX - leftX, pCtx, (int) minX);\n-      }\n-\n-    pCtx.dispose();\n-  }\n \n   /**\n    * Fills a horizontal line between x0 and x1 for anti aliased rendering.\n@@ -2113,21 +1793,15 @@ private void fillScanlineAA(int[] alpha, int x0, int yy, int numPixels,\n     cCtx.dispose();\n   }\n \n-\n   /**\n    * Initializes this graphics object. This must be called by subclasses in\n    * order to correctly initialize the state of this object.\n    */\n   protected void init()\n   {\n     setPaint(Color.BLACK);\n-    setFont(new Font(\"SansSerif\", Font.PLAIN, 12));\n+    setFont(FONT);\n     isOptimized = true;\n-\n-    // FIXME: Should not be necessary. A clip of null should mean\n-    // 'clip against device bounds.\n-    destinationRaster = getDestinationRaster();\n-    clip = getDeviceBounds();\n   }\n \n   /**\n@@ -2267,91 +1941,33 @@ private void updateClip(AffineTransform t)\n   }\n \n   /**\n-   * Converts the specified shape into a list of segments.\n-   *\n-   * @param s the shape to convert\n-   * @param t the transformation to apply before converting\n-   * @param deviceBounds an output parameter; holds the bounding rectangle of\n-   *        s in device space after return\n-   * @param isClip true when the shape is a clip, false for normal shapes;\n-   *        this influences the settings in the created PolyEdge instances.\n+   * Returns the ShapeCache for the calling thread.\n    *\n-   * @return a list of PolyEdge that form the shape in device space\n+   * @return the ShapeCache for the calling thread\n    */\n-  private ArrayList getSegments(Shape s, AffineTransform t,\n-                                Rectangle2D deviceBounds, boolean isClip)\n+  private ShapeCache getShapeCache()\n   {\n-    // Flatten the path. TODO: Determine the best flattening factor\n-    // wrt to speed and quality.\n-    PathIterator path = s.getPathIterator(getTransform(), 1.0);\n-\n-    // Build up polygons and let the native backend render this using\n-    // rawFillShape() which would provide a default implementation for\n-    // drawPixel using a PolyScan algorithm.\n-    double[] seg = new double[6];\n-\n-    // TODO: Use ArrayList<PolyEdge> here when availble.\n-    ArrayList segs = new ArrayList();\n-    double segX = 0.; // The start point of the current edge.\n-    double segY = 0.; \n-    double polyX = 0.; // The start point of the current polygon.\n-    double polyY = 0.;\n-\n-    double minX = Integer.MAX_VALUE;\n-    double maxX = Integer.MIN_VALUE;\n-    double minY = Integer.MAX_VALUE;\n-    double maxY = Integer.MIN_VALUE;\n-\n-    //System.err.println(\"fill polygon\");\n-    while (! path.isDone())\n+    ShapeCache sc = shapeCache.get();\n+    if (sc == null)\n       {\n-        int segType = path.currentSegment(seg);\n-        minX = Math.min(minX, seg[0]);\n-        maxX = Math.max(maxX, seg[0]);\n-        minY = Math.min(minY, seg[1]);\n-        maxY = Math.max(maxY, seg[1]);\n-\n-        //System.err.println(\"segment: \" + segType + \", \" + seg[0] + \", \" + seg[1]);\n-        if (segType == PathIterator.SEG_MOVETO)\n-          {\n-            segX = seg[0];\n-            segY = seg[1];\n-            polyX = seg[0];\n-            polyY = seg[1];\n-          }\n-        else if (segType == PathIterator.SEG_CLOSE)\n-          {\n-            // Close the polyline.\n-            PolyEdge edge = new PolyEdge(segX, segY,\n-                                         polyX, polyY, isClip);\n-            segs.add(edge);\n-          }\n-        else if (segType == PathIterator.SEG_LINETO)\n-          {\n-            PolyEdge edge = new PolyEdge(segX, segY,\n-                                         seg[0], seg[1], isClip);\n-            segs.add(edge);\n-            segX = seg[0];\n-            segY = seg[1];\n-          }\n-        path.next();\n+        sc = new ShapeCache();\n+        shapeCache.set(sc);\n       }\n-    deviceBounds.setRect(minX, minY, maxX - minX, maxY - minY);\n-    return segs;\n+    return sc;\n   }\n \n   /**\n-   * Returns the ShapeCache for the calling thread.\n+   * Returns the scanline converter for this thread.\n    *\n-   * @return the ShapeCache for the calling thread\n+   * @return the scanline converter for this thread\n    */\n-  private ShapeCache getShapeCache()\n+  private ScanlineConverter getScanlineConverter()\n   {\n-    ShapeCache sc = (ShapeCache) shapeCache.get();\n+    ScanlineConverter sc = scanlineConverters.get();\n     if (sc == null)\n       {\n-        sc = new ShapeCache();\n-        shapeCache.set(sc);\n+        sc = new ScanlineConverter();\n+        scanlineConverters.set(sc);\n       }\n     return sc;\n   }"}, {"sha": "4d1e777ccf5ef5be89f64d9090db444bcad5cbf2", "filename": "libjava/classpath/gnu/java/awt/java2d/ActiveEdges.java", "status": "added", "additions": 195, "deletions": 0, "changes": 195, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FActiveEdges.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FActiveEdges.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FActiveEdges.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,195 @@\n+/* ActiveEdges.java -- A collection of active edges for scanline conversion\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.java2d;\n+\n+/**\n+ * A collection of active edges for scanline conversion.\n+ */\n+final class ActiveEdges\n+{\n+\n+  /**\n+   * The active edges. This can contain null values at arbirary locations.\n+   * The method #sort() packs this together.\n+   */\n+  private PolyEdge[] activeEdges;\n+\n+  /**\n+   * The actual number of active edges. The array can be bigger than this\n+   * number.\n+   */\n+  private int numActiveEdges;\n+\n+  /**\n+   * Creates a new ActiveEdges object.\n+   */\n+  ActiveEdges()\n+  {\n+    activeEdges = new PolyEdge[8];\n+    numActiveEdges = 0;\n+  }\n+\n+  /**\n+   * Clears out all active edges. This is cheap as it simply resets the\n+   * counter to 0. It does not release all references to PolyEdge instances.\n+   */\n+  void clear()\n+  {\n+    numActiveEdges = 0;\n+  }\n+\n+  /**\n+   * Adds the specified edge to the list of active edges. This does not yet\n+   * sort the edges and therefore does destroy any order of the list.\n+   *\n+   * @param edge the edge to add\n+   */\n+  void add(PolyEdge edge)\n+  {\n+    // Grow array when necessary.\n+    int oldSize = activeEdges.length;\n+    if (numActiveEdges >= oldSize)\n+      {\n+        int newSize = oldSize + oldSize / 4 + 1;\n+        PolyEdge[] newEdges = new PolyEdge[newSize];\n+        System.arraycopy(activeEdges, 0, newEdges, 0, oldSize);\n+        activeEdges = newEdges;\n+      }\n+    activeEdges[numActiveEdges] = edge;\n+    numActiveEdges++;\n+  }\n+\n+  /**\n+   * Intersects all active edges, sorts them according to their intersection\n+   * points and packs the array to remove unneeded edges. This does also\n+   * remove any edges that do not intersect the scanline (i.e. they end above\n+   * of the scanline).\n+   *\n+   * @param y the scanline height\n+   */\n+  void intersectSortAndPack(int n, int y)\n+  {\n+    // Intersect and pack in one go.\n+    int last = 0;\n+    PolyEdge tmp;\n+    for (int i = 0; i < numActiveEdges; i++)\n+      {\n+        PolyEdge edge = activeEdges[i];\n+        // Clear out edge that ends above the scanline.\n+        if (edge != null && edge.y1 >= y)\n+          {\n+            assert edge.y1 >= y && edge.y0 <= y : \"edge must cross scanline\";\n+            edge.intersect(n, y);\n+            activeEdges[last] = edge;\n+            last++;\n+\n+            // Bubble up the added edge.\n+            for (int j = last - 1; j > 0; j--)\n+              {\n+                if (activeEdges[j].xIntersection\n+                    < activeEdges[j - 1].xIntersection)\n+                  {\n+                    tmp = activeEdges[j];\n+                    activeEdges[j] = activeEdges[j - 1];\n+                    activeEdges[j - 1] = tmp;\n+                  }\n+                else\n+                  {\n+                    // The beginning of the list is already sorted.\n+                    break;\n+                  }\n+              }\n+          }\n+      }\n+    numActiveEdges = last;\n+\n+  }\n+\n+  /**\n+   * Returns the number of active edges. This is only reliable after a\n+   * call to {@link #intersectSortAndPack(int, int)}.\n+   *\n+   * @return the number of active edges\n+   */\n+  int getNumActiveEdges()\n+  {\n+    return numActiveEdges;\n+  }\n+\n+  /**\n+   * Returns the active edge at the position <code>i</code>.\n+   *\n+   * @param i the index\n+   *\n+   * @return the active edge at the specified index\n+   */\n+  PolyEdge getActiveEdge(int i)\n+  {\n+    return activeEdges[i];\n+  }\n+\n+  /**\n+   * Removes all edges that end above the specified height.\n+   *\n+   * @param y the cut-off height\n+   */\n+  void remove(int y)\n+  {\n+    for (int i = 0; i < numActiveEdges; i++)\n+      {\n+        PolyEdge edge = activeEdges[i];\n+        if (edge != null && edge.y1 < y)\n+          {\n+            activeEdges[i] = null;\n+          }\n+      }\n+  }\n+\n+  public String toString()\n+  {\n+    StringBuilder s = new StringBuilder();\n+    s.append(\"[ActiveEdges] \");\n+    for (int i = 0; i < numActiveEdges; i++)\n+      {\n+        s.append(activeEdges[i]);\n+        s.append(',');\n+      }\n+    return s.toString();\n+  }\n+}"}, {"sha": "eb0cc7f8f3ee0333f8612050ed38ebd5727414a6", "filename": "libjava/classpath/gnu/java/awt/java2d/PolyEdge.java", "status": "modified", "additions": 59, "deletions": 12, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FPolyEdge.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FPolyEdge.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FPolyEdge.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,37 +38,62 @@\n \n package gnu.java.awt.java2d;\n \n+import gnu.java.math.Fixed;\n+\n /**\n- * An edge in a polygon. This is used by the scanline conversion algorithm\n- * implemented in {@link AbstractGraphics2D#rawFillShape}.\n+ * An edge in a polygon.\n  *\n  * @author Roman Kennke (kennke@aicas.com)\n  */\n-public class PolyEdge\n+final class PolyEdge\n   implements Comparable\n {\n \n   /**\n    * The start and end coordinates of the edge. y0 is always smaller or equal\n    * than y1.\n+   *\n+   * These values are stored as fixed-point decimals.\n    */\n-  public double x0, y0, x1, y1;\n+  public int x0, y0, x1, y1;\n \n   /**\n    * The slope of the edge. This is dx / dy.\n+   *\n+   * This is a fixed point decimal.\n    */\n-  double slope;\n+  private int slope;\n \n   /**\n    * The intersection of this edge with the current scanline.\n+   *\n+   * This is a fixed point decimal.\n    */\n-  double xIntersection;\n+  int xIntersection;\n \n   /**\n    * Indicates whether this edge is from the clip or from the target shape.\n    */\n   boolean isClip;\n \n+  /**\n+   * Implements a linked list for the edge pool.\n+   */\n+  PolyEdge poolNext;\n+\n+  /**\n+   * Implements a linked list for the scanline edge lists.\n+   */\n+  PolyEdge scanlineNext;\n+\n+  /**\n+   * Create an uninitialized edge.\n+   */\n+  PolyEdge()\n+  {\n+    // Nothing to do here.\n+  }\n+\n   /**\n    * Creates a new PolyEdge with the specified coordinates.\n    *\n@@ -77,7 +102,20 @@\n    * @param x1 the end point, x coordinate\n    * @param y1 the end point, y coordinate\n    */\n-  PolyEdge(double x0, double y0, double x1, double y1, boolean clip)\n+  PolyEdge(int n, int x0, int y0, int x1, int y1, boolean clip)\n+  {\n+    init(n, x0, y0, x1, y1, clip);\n+  }\n+\n+  /**\n+   * (Re-) Initializes this edge.\n+   *\n+   * @param x0\n+   * @param y0\n+   * @param x1\n+   * @param y1\n+   */\n+  void init(int n, int x0, int y0, int x1, int y1, boolean clip)\n   {\n     isClip = clip;\n     if (y0 < y1)\n@@ -94,11 +132,7 @@\n         this.x1 = x0;\n         this.y1 = y0;\n       }\n-    slope = (this.x1 - this.x0) / (this.y1 - this.y0);\n-    if (this.y0 == this.y1) // Horizontal edge.\n-      xIntersection = Math.min(this.x0, this.x1);\n-    else\n-      xIntersection = this.x0 + slope * (Math.ceil(this.y0) - this.y0);\n+    slope = Fixed.div(n, this.x1 - this.x0, this.y1 - this.y0);\n   }\n \n   /**\n@@ -115,6 +149,19 @@ else if (x0 > other.x0)\n     return comp;\n   }\n \n+  /**\n+   * Intersects this edge with the scanline at height y. The result is\n+   * stored in {@link #xIntersection}.\n+   *\n+   * @param y the scanline\n+   */\n+  void intersect(int n, int y)\n+  {\n+    int dy = y - y0;\n+    int dx = Fixed.mul(n, slope, dy);\n+    xIntersection = x0 + dx;\n+  }\n+\n   public String toString()\n   {\n     return \"Edge: \" + x0 + \", \" + y0 + \", \" + x1 + \", \" + y1 + \", slope: \""}, {"sha": "24c3d34d5c323f88ae896e8c918f12b217d3fe7a", "filename": "libjava/classpath/gnu/java/awt/java2d/Scanline.java", "status": "added", "additions": 91, "deletions": 0, "changes": 91, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FScanline.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FScanline.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FScanline.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,91 @@\n+/* Scanline.java -- A scanline for the scanline converter\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.java2d;\n+\n+/**\n+ * Represents a scanline in the {@link ScanlineConverter}. This is basically\n+ * a sorted list of {@link PolyEdge}s that is made for maximum reuse.\n+ */\n+class Scanline\n+{\n+\n+  /**\n+   * The actual edges array. The fields can be null.\n+   */\n+  private PolyEdge edges;\n+\n+  /**\n+   * Clears this scanline. This only resets the number of edges to 0. The\n+   * actual PolyEdge objects are preserved for possible later reuse.\n+   */\n+  void clear()\n+  {\n+    edges = null;\n+  }\n+\n+  /**\n+   * Create a new Scanline.\n+   */\n+  Scanline()\n+  {\n+    // Nothing to do.\n+  }\n+\n+  /**\n+   * Inserts an edge into this scanline. This is performed in a sorted fashion,\n+   * and so that it reuses as much existing resources as possible.\n+   */\n+  void addEdge(PolyEdge edge)\n+  {\n+\n+    // Allocate PolyEdge when necessary or reuse an old one.\n+    edge.scanlineNext = edges;\n+    edges = edge;\n+  }\n+\n+  /**\n+   * Returns the edges queue.\n+   *\n+   * @return the edges queue\n+   */\n+  PolyEdge getEdges()\n+  {\n+    return edges;\n+  }\n+}"}, {"sha": "9f9d8921f59d797ab83a9bbc9e1033c4a0904916", "filename": "libjava/classpath/gnu/java/awt/java2d/ScanlineConverter.java", "status": "added", "additions": 404, "deletions": 0, "changes": 404, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FScanlineConverter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FScanlineConverter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fjava2d%2FScanlineConverter.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,404 @@\n+/* ScanlineConverter.java -- Rasterizes Shapes\n+   Copyright (C) 2006 Free Software Foundation, Inc.\n+\n+This file is part of GNU Classpath.\n+\n+GNU Classpath is free software; you can redistribute it and/or modify\n+it under the terms of the GNU General Public License as published by\n+the Free Software Foundation; either version 2, or (at your option)\n+any later version.\n+\n+GNU Classpath is distributed in the hope that it will be useful, but\n+WITHOUT ANY WARRANTY; without even the implied warranty of\n+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+General Public License for more details.\n+\n+You should have received a copy of the GNU General Public License\n+along with GNU Classpath; see the file COPYING.  If not, write to the\n+Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+02110-1301 USA.\n+\n+Linking this library statically or dynamically with other modules is\n+making a combined work based on this library.  Thus, the terms and\n+conditions of the GNU General Public License cover the whole\n+combination.\n+\n+As a special exception, the copyright holders of this library give you\n+permission to link this library with independent modules to produce an\n+executable, regardless of the license terms of these independent\n+modules, and to copy and distribute the resulting executable under\n+terms of your choice, provided that you also meet, for each linked\n+independent module, the terms and conditions of the license of that\n+module.  An independent module is a module which is not derived from\n+or based on this library.  If you modify this library, you may extend\n+this exception to your version of the library, but you are not\n+obligated to do so.  If you do not wish to do so, delete this\n+exception statement from your version. */\n+\n+\n+package gnu.java.awt.java2d;\n+\n+import gnu.java.math.Fixed;\n+\n+import java.awt.Shape;\n+import java.awt.geom.AffineTransform;\n+import java.awt.geom.PathIterator;\n+\n+/**\n+ * Rasterizes {@link Shape} objects on an AbstractGraphics2D.\n+ */\n+final class ScanlineConverter\n+{\n+\n+  /**\n+   * The number of digits to use for fixed point arithmetics.\n+   */\n+  private static int FIXED_DIGITS = 6;\n+\n+  /**\n+   * The fixed value for the number 1.\n+   */\n+  private static int ONE = Fixed.fixedValue(FIXED_DIGITS, 1);\n+\n+  /**\n+   * The actual number of scanlines.\n+   */\n+  private int numScanlines;\n+\n+  /**\n+   * The number of scanlines. This can contain more elements than we have\n+   * scanlines. The real number of scanlines is stored in\n+   * {@link #numScanlines}. This can also contain null values for empty\n+   * scanlines.\n+   */\n+  private Scanline[] scanlines;\n+\n+  /**\n+   * The upper bounds which correspond to the index 0 in the scanline array.\n+   *\n+   * This is a fixed point value.\n+   */\n+  private int upperBounds;\n+\n+  /**\n+   * The resolution of the scanline converter.\n+   *\n+   * This is a fixed point value.\n+   */\n+  private int resolution;\n+\n+  /**\n+   * One half step according to the resolution. This is stored to avoid\n+   * unnecessary operations during rendering.\n+   */\n+  private int halfStep;\n+\n+  /**\n+   * This is used in {@link #addShape(PathIterator, boolean)} to\n+   * receive the coordinates of the path.\n+   */\n+  private float[] coords;\n+\n+  /**\n+   * The active edges.\n+   */\n+  private ActiveEdges activeEdges;\n+\n+  private PolyEdge edgePool;\n+  private PolyEdge edgePoolLast;\n+\n+  private int minY;\n+  private int maxY;\n+\n+  /**\n+   * Create a new ScanlineConverter.\n+   */\n+  ScanlineConverter()\n+  {\n+    scanlines = new Scanline[10];\n+    coords = new float[6];\n+    activeEdges = new ActiveEdges();\n+    edgePool = new PolyEdge();\n+    edgePoolLast = edgePool;\n+  }\n+\n+  /**\n+   * Renders the specified shape using the specified clip and transform.\n+   *\n+   * @param shape the shape to render\n+   * @param clip the clip\n+   * @param trans the transform\n+   */\n+  void renderShape(AbstractGraphics2D g, Shape shape, Shape clip,\n+                   AffineTransform trans, int res)\n+  {\n+    // Prepare resolution and upper bounds.\n+    clear();\n+    setResolution(res);\n+\n+    boolean haveClip = clip != null;\n+\n+    // Add shapes.\n+    PathIterator path = shape.getPathIterator(trans, resolution);\n+    addShape(path, false);\n+    if (haveClip)\n+      {\n+        path= clip.getPathIterator(trans, resolution);\n+        addShape(path, true);\n+      }\n+\n+    setUpperBounds(minY);\n+\n+    PolyEdge edge = edgePool;\n+    while (edge != edgePoolLast)\n+      {\n+        addEdge(edge);\n+        edge = edge.poolNext;\n+      }\n+\n+    int y = upperBounds;\n+    int lastIndex = scanlineIndex(y - resolution);\n+    int index;\n+    activeEdges.clear();\n+    // The render loop...\n+    Scanline scanline = null;\n+    while (y <= maxY)\n+      {\n+        // First we put together our list of active edges.\n+        index = scanlineIndex(y);\n+        // If we go outside the scanline array we still need to render the\n+        // remaining edges until they end.\n+        scanline = index < scanlines.length ? scanlines[index] : null;\n+        if (scanline != null)\n+          {\n+            edge = scanline.getEdges();\n+            while (edge != null)\n+              {\n+                activeEdges.add(edge);\n+                edge = edge.scanlineNext;\n+              }\n+          }\n+\n+        // Then we intersect all active edges with the current scanline\n+        // and sort them according to their intersection points.\n+        activeEdges.intersectSortAndPack(FIXED_DIGITS, y + halfStep);\n+\n+        // Ok, now we can perform the actual scanlining.\n+        boolean push = lastIndex != index;\n+        doScanline(g, y, push, haveClip);\n+\n+        // Remove obsolete active edges.\n+        //activeEdges.remove(y + halfStep);\n+\n+        // Go on with the next line...\n+        y += resolution;\n+        lastIndex = index;\n+      }\n+  }\n+\n+  /**\n+   * Clears all scanlines.\n+   */\n+  private void clear()\n+  {\n+    // Reset edge pool.\n+    edgePoolLast = edgePool;\n+\n+    // Reset scanlines.\n+    for (int i = scanlines.length - 1; i >= 0 ; i--)\n+      {\n+        Scanline sl = scanlines[i];\n+        if (sl != null)\n+          sl.clear();\n+      }\n+\n+    // Reset bounds.\n+    minY = Integer.MAX_VALUE;\n+    maxY = Integer.MIN_VALUE;\n+  }\n+\n+  /**\n+   * Performs the scanlining on the current set of active edges.\n+   */\n+  private void doScanline(AbstractGraphics2D g, int y, boolean push,\n+                          boolean haveClip)\n+  {\n+    // We begin outside the clip and outside the shape. We only draw when\n+    // we are inside the clip AND inside the shape.\n+    boolean inClip = ! haveClip;\n+    boolean inShape = false;\n+    PolyEdge lastEdge = null;\n+    int numEdges = activeEdges.getNumActiveEdges();\n+    for (int i = 0; i < numEdges; i++)\n+      {\n+        PolyEdge edge = activeEdges.getActiveEdge(i);\n+        if (inClip && inShape)\n+          {\n+            assert lastEdge != null;\n+            int x0 = lastEdge.xIntersection;\n+            int x1 = edge.xIntersection;\n+            assert x0 <= x1;\n+            if (push)\n+              {\n+                if (resolution == ONE)\n+                  {\n+                    // Non-AA rendering.\n+                    g.fillScanline(Fixed.intValue(FIXED_DIGITS, x0),\n+                                   Fixed.intValue(FIXED_DIGITS, x1 - resolution),\n+                                   Fixed.intValue(FIXED_DIGITS, y));\n+                  }\n+                else\n+                  {\n+                    // AA rendering.\n+                    // FIXME: Implement.\n+                    System.err.println(\"Implement AA rendering.\");\n+                  }\n+              }\n+          }\n+        if (edge.isClip)\n+          inClip = ! inClip;\n+        else\n+          inShape = ! inShape;\n+\n+        lastEdge = edge;\n+      }\n+  }\n+\n+  /**\n+   * Sets the resolution. A value of 0 rasterizes the shape normally without\n+   * anti-aliasing. Greater values renders with a resolution of 2 ^ res.\n+   *\n+   * @param res the resolution\n+   */\n+  private void setResolution(int res)\n+  {\n+    int one = Fixed.fixedValue(FIXED_DIGITS, 1);\n+    resolution = one / (1 << res);\n+    halfStep = resolution / 2;\n+  }\n+\n+  /**\n+   * Sets the vertical bounds of that shape that is beeing rendered.\n+   *\n+   * @param y0 the upper bounds\n+   */\n+  private void setUpperBounds(int y0)\n+  {\n+    upperBounds = fit(y0);\n+  }\n+\n+  /**\n+   * Add a shape to the scanline converter.\n+   *\n+   * @param path\n+   * @param clip\n+   */\n+  private void addShape(PathIterator path, boolean clip)\n+  {\n+    int startX = 0;\n+    int startY = 0;\n+    int lastX = 0;\n+    int lastY = 0;\n+    while (! path.isDone())\n+      {\n+        int type = path.currentSegment(coords);\n+        switch (type)\n+          {\n+            case PathIterator.SEG_MOVETO:\n+              startX = lastX = Fixed.fixedValue(FIXED_DIGITS, coords[0]);\n+              startY = lastY = Fixed.fixedValue(FIXED_DIGITS, coords[1]);\n+              minY = Math.min(startY, minY);\n+              maxY = Math.max(startY, maxY);\n+              break;\n+            case PathIterator.SEG_LINETO:\n+              int x = Fixed.fixedValue(FIXED_DIGITS, coords[0]);\n+              int y = Fixed.fixedValue(FIXED_DIGITS, coords[1]);\n+              edgePoolAdd(lastX, lastY, x, y, clip);\n+              lastX = x;\n+              lastY = y;\n+              minY = Math.min(lastY, minY);\n+              maxY = Math.max(lastY, maxY);\n+              break;\n+            case PathIterator.SEG_CLOSE:\n+              edgePoolAdd(lastX, lastY, startX, startY, clip);\n+              lastX = startX;\n+              lastY = startY;\n+              break;\n+            case PathIterator.SEG_CUBICTO:\n+            case PathIterator.SEG_QUADTO:\n+            default:\n+              assert false;\n+          }\n+        path.next();\n+      }\n+  }\n+\n+  /**\n+   * Adds an edge into the scanline array.\n+   */\n+  private void addEdge(PolyEdge edge)\n+  {\n+    // Determine index.\n+    int upper = Math.min(edge.y0, edge.y1);\n+    // Fit to raster.\n+    int index = scanlineIndex(upper);\n+    // Grow array when necessary.\n+    if (index >= scanlines.length)\n+      {\n+        int oldSize = scanlines.length;\n+        int newSize = Math.max(oldSize + oldSize / 2 + 1, index + 10);\n+        Scanline[] newScanlines = new Scanline[newSize];\n+        System.arraycopy(scanlines, 0, newScanlines, 0, oldSize);\n+        scanlines = newScanlines;\n+      }\n+\n+    // Add edge.\n+    if (scanlines[index] == null)\n+      {\n+        scanlines[index] = new Scanline();\n+      }\n+    scanlines[index].addEdge(edge);\n+  }\n+\n+  /**\n+   * Fits an Y coordinate to the grid.\n+   *\n+   * @param y the Y coordinate to fit\n+   *\n+   * @return the fitted Y coordinate\n+   */\n+  private int fit(int y)\n+  {\n+    int val1 = Fixed.div(FIXED_DIGITS, y, resolution);\n+    int rounded = Fixed.round(FIXED_DIGITS, val1);\n+    return Fixed.div(FIXED_DIGITS, rounded, resolution);\n+  }\n+\n+  /**\n+   * Calculates the scanline index for the specified y coordinate.\n+   *\n+   * @param y the y coordinate as fixed point value\n+   *\n+   * @return the scanline index\n+   */\n+  private int scanlineIndex(int y)\n+  {\n+    int fitted = fit(y);\n+    // Cleverly skip the fixed point conversions here.\n+    return (fitted - upperBounds)/ resolution;\n+  }\n+\n+  private void edgePoolAdd(int x0, int y0, int x1, int y1, boolean clip)\n+  {\n+    // Don't need no horizontal edges.\n+    if (y0 != y1)\n+      {\n+        edgePoolLast.init(FIXED_DIGITS, x0, y0, x1, y1, clip);\n+        if (edgePoolLast.poolNext == null)\n+          {\n+            edgePoolLast.poolNext = new PolyEdge();\n+          }\n+        edgePoolLast = edgePoolLast.poolNext;\n+      }\n+  }\n+}"}, {"sha": "bef42dcea347f502748c44ff3821ef2db01a038e", "filename": "libjava/classpath/gnu/java/awt/peer/ClasspathDesktopPeer.java", "status": "added", "additions": 301, "deletions": 0, "changes": 301, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FClasspathDesktopPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FClasspathDesktopPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FClasspathDesktopPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,301 @@\n+/* ClasspathDesktopPeer.java -- Offers a concrete implementation for DesktopPeer\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n+\n+ This file is part of GNU Classpath.\n+\n+ GNU Classpath is free software; you can redistribute it and/or modify\n+ it under the terms of the GNU General Public License as published by\n+ the Free Software Foundation; either version 2, or (at your option)\n+ any later version.\n+\n+ GNU Classpath is distributed in the hope that it will be useful, but\n+ WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ General Public License for more details.\n+\n+ You should have received a copy of the GNU General Public License\n+ along with GNU Classpath; see the file COPYING.  If not, write to the\n+ Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+ 02110-1301 USA.\n+\n+ Linking this library statically or dynamically with other modules is\n+ making a combined work based on this library.  Thus, the terms and\n+ conditions of the GNU General Public License cover the whole\n+ combination.\n+\n+ As a special exception, the copyright holders of this library give you\n+ permission to link this library with independent modules to produce an\n+ executable, regardless of the license terms of these independent\n+ modules, and to copy and distribute the resulting executable under\n+ terms of your choice, provided that you also meet, for each linked\n+ independent module, the terms and conditions of the license of that\n+ module.  An independent module is a module which is not derived from\n+ or based on this library.  If you modify this library, you may extend\n+ this exception to your version of the library, but you are not\n+ obligated to do so.  If you do not wish to do so, delete this\n+ exception statement from your version. */\n+\n+package gnu.java.awt.peer;\n+\n+import java.awt.AWTPermission;\n+import java.awt.Desktop.Action;\n+import java.awt.peer.DesktopPeer;\n+\n+import java.io.File;\n+import java.io.IOException;\n+\n+import java.net.URI;\n+\n+import java.util.prefs.Preferences;\n+\n+/**\n+ * Offers a common implementation for the Desktop peers, that enables\n+ * access to default system application within java processes.\n+ * \n+ * @author Mario Torre <neugens@limasoftware.net>\n+ */\n+public class ClasspathDesktopPeer\n+    implements DesktopPeer\n+{\n+  /** This is the fallback browser, if no desktop was detected. */\n+  protected static final String _DEFAULT_BROWSER = \"firefox\";\n+  \n+  /** gnu.java.awt.peer.Desktop.html.command */\n+  protected static final String _BROWSE = \"html\";\n+  \n+  /** gnu.java.awt.peer.Desktop.mail.command */\n+  protected static final String _MAIL = \"mail\";\n+  \n+  /** gnu.java.awt.peer.Desktop.edit.command */\n+  protected static final String _EDIT = \"edit\";\n+  \n+  /** gnu.java.awt.peer.Desktop.print.command */\n+  protected static final String _PRINT = \"print\";\n+  \n+  /** gnu.java.awt.peer.Desktop.open.command */\n+  protected static final String _OPEN = \"open\";\n+  \n+  /** */\n+  protected static final KDEDesktopPeer kde = new KDEDesktopPeer();\n+  \n+  /** */\n+  protected static final GnomeDesktopPeer gnome = new GnomeDesktopPeer();\n+  \n+  /** */\n+  protected static final ClasspathDesktopPeer classpath =\n+    new ClasspathDesktopPeer(); \n+  \n+  /**\n+   * Preference subsystem. Packagers and users can override the default\n+   * behaviour of this class via preferences and system properties.\n+   */\n+  protected Preferences prefs =\n+    Preferences.userNodeForPackage(ClasspathDesktopPeer.class).node(\"Desktop\");\n+  \n+  /**\n+   * @param target\n+   */\n+  protected ClasspathDesktopPeer()\n+  {\n+    /* nothing to do */\n+  }\n+\n+  public boolean isSupported(Action action)\n+  {\n+    String check = null;\n+    \n+    switch(action)\n+    {\n+      case BROWSE:\n+        check = _BROWSE;\n+        break;\n+        \n+      case MAIL:\n+        check = _MAIL;\n+        break;\n+        \n+      case EDIT:\n+        check = _EDIT;\n+        break;\n+        \n+      case PRINT:\n+        check = _PRINT;\n+        break;\n+      \n+      case OPEN: default:\n+        check = _OPEN;\n+        break;\n+    }\n+    \n+    return this.supportCommand(check);\n+  }\n+\n+  public void browse(URI url) throws IOException\n+  {\n+    checkPermissions();\n+    \n+    String browser = getCommand(_BROWSE);\n+    \n+    if (browser == null)\n+      throw new UnsupportedOperationException();\n+    \n+    browser = browser + \" \" + url.toString();\n+    \n+    Runtime.getRuntime().exec(browser);\n+  }\n+\n+  public void edit(File file) throws IOException\n+  {\n+    checkPermissions(file, false);\n+    \n+    String edit = getCommand(_EDIT);\n+    \n+    if (edit == null)\n+      throw new UnsupportedOperationException();\n+    \n+    edit = edit + \" \" + file.getAbsolutePath(); \n+    Runtime.getRuntime().exec(edit);\n+  }\n+\n+  public void mail(URI mailtoURL) throws IOException\n+  {\n+    checkPermissions();\n+    \n+    String scheme = mailtoURL.getScheme();\n+    if (scheme == null || !scheme.equalsIgnoreCase(\"mailto\"))\n+      throw new IllegalArgumentException(\"URI Scheme not of type mailto\");\n+    \n+    String mail = getCommand(_MAIL);\n+    \n+    if (mail == null)\n+      throw new UnsupportedOperationException();\n+    \n+    mail = mail + \" \" + mailtoURL.toString();\n+    \n+    Runtime.getRuntime().exec(mail);\n+  }\n+\n+  public void mail() throws IOException\n+  {\n+    checkPermissions();\n+    \n+    String mail = getCommand(_MAIL);\n+    \n+    if (mail == null)\n+      throw new UnsupportedOperationException();\n+    \n+    Runtime.getRuntime().exec(mail);\n+  }\n+  \n+  public void open(File file) throws IOException\n+  {\n+    checkPermissions(file, true);\n+    \n+    String open = getCommand(_OPEN);\n+    \n+    if (open == null)\n+      throw new UnsupportedOperationException();\n+    \n+    open = open + \" \" + file.getAbsolutePath(); \n+    Runtime.getRuntime().exec(open);\n+  }\n+\n+  public void print(File file) throws IOException\n+  {\n+    checkPrintPermissions(file);\n+    \n+    String print = getCommand(_PRINT);\n+    \n+    if (print == null)\n+      throw new UnsupportedOperationException();\n+    \n+    print = print + \" \" + file.getAbsolutePath(); \n+    Runtime.getRuntime().exec(print);\n+  }\n+  \n+  protected String getCommand(String action)\n+  {\n+    // check if a system property exist\n+    String command =\n+      System.getProperty(\"gnu.java.awt.peer.Desktop.\" + action + \".command\");\n+    \n+    // otherwise, get it from preferences, if any\n+    if (command == null)\n+      {\n+        command = prefs.node(action).get(\"command\", null);\n+      }\n+    \n+    return command;\n+  }\n+  \n+  /**\n+   * Note: Checks for AWTPermission(\"showWindowWithoutWarningBanner\") only.\n+   */\n+  protected void checkPermissions()\n+  {\n+    SecurityManager sm = System.getSecurityManager();\n+    if (sm != null) {\n+        sm.checkPermission(new AWTPermission(\"showWindowWithoutWarningBanner\"));\n+    }\n+  }\n+  \n+  /**\n+   * Calls checkPermissions() and checks for SecurityManager.checkRead() \n+   * and, if readOnly is false, for SecurityManager.checkWrite() \n+   */\n+  protected void checkPermissions(File file, boolean readOnly)\n+  {\n+    checkPermissions();\n+    \n+    SecurityManager sm = System.getSecurityManager();\n+    if (sm != null) {\n+        sm.checkRead(file.toString());\n+        if (!readOnly) sm.checkWrite(file.toString());\n+    }\n+  }\n+  \n+  /**\n+   * Calls checkPermissions(file, true) and checks for\n+   * SecurityManager.checkPrintJobAccess()\n+   */\n+  protected void checkPrintPermissions(File file)\n+  {\n+    checkPermissions(file, true);\n+    \n+    SecurityManager sm = System.getSecurityManager();\n+    if (sm != null) {\n+      sm.checkPrintJobAccess();\n+    }  \n+  }\n+  \n+  /**\n+   * @param check\n+   * @return\n+   */\n+  protected boolean supportCommand(String check)\n+  {\n+    return ((this.getCommand(check) != null) ?  true : false);\n+  }\n+  \n+  /**\n+   * @return\n+   */\n+  public static DesktopPeer getDesktop()\n+  {\n+    //  check if we are under Gnome or KDE or anything else\n+    String desktopSession = System.getenv(\"GNOME_DESKTOP_SESSION_ID\");\n+    if (desktopSession == null)\n+      { \n+        desktopSession = System.getenv(\"KDE_FULL_SESSION\");\n+        if (desktopSession != null)\n+          return kde;\n+      }\n+    else\n+      {\n+        return gnome;\n+      }\n+    \n+    // revert to this class for default values\n+    return classpath;\n+  }\n+}"}, {"sha": "60fde2557aca4b158e530156fcfd03ef6ce9f1fa", "filename": "libjava/classpath/gnu/java/awt/peer/ClasspathFontPeer.java", "status": "modified", "additions": 31, "deletions": 1, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FClasspathFontPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FClasspathFontPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FClasspathFontPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -54,6 +54,7 @@\n import java.text.AttributedCharacterIterator;\n import java.text.CharacterIterator;\n import java.util.HashMap;\n+import java.util.LinkedHashMap;\n import java.util.Locale;\n import java.util.Map;\n \n@@ -120,6 +121,23 @@\n    */\n   protected AffineTransform transform;\n \n+  static class LRUCache<K,V> extends LinkedHashMap<K,V>\n+  {\n+    int max_entries;\n+    public LRUCache(int max)\n+    {\n+      super(max, 0.75f, true);\n+      max_entries = max;\n+    }\n+    protected boolean removeEldestEntry(Map.Entry eldest)\n+    {\n+      return size() > max_entries;\n+    }\n+  }\n+\n+  private static LRUCache<AffineTransform,TransformAttribute> transCache =\n+    new LRUCache<AffineTransform,TransformAttribute>(50);\n+\n   protected static ClasspathToolkit tk()\n   {\n     return (ClasspathToolkit)(Toolkit.getDefaultToolkit ());\n@@ -200,7 +218,19 @@ public static void copySizeToAttrs (float size, Map attrs)\n   protected static void copyTransformToAttrs (AffineTransform trans, Map attrs)\n   {\n     if (trans != null)\n-      attrs.put(TextAttribute.TRANSFORM, new TransformAttribute (trans));\n+      {\n+\tTransformAttribute ta;\n+        synchronized(transCache)\n+          {\n+\t    ta = transCache.get(trans);\n+\t    if (ta == null)\n+\t      {\n+\t\tta = new TransformAttribute(trans);\n+\t\ttransCache.put(trans, ta);\n+\t      }\n+\t  }\n+\tattrs.put(TextAttribute.TRANSFORM, ta);\n+      }\n   }\n \n "}, {"sha": "be21631814044bb7be3f303a8a89c14f2af9ef83", "filename": "libjava/classpath/gnu/java/awt/peer/GnomeDesktopPeer.java", "status": "added", "additions": 153, "deletions": 0, "changes": 153, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FGnomeDesktopPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FGnomeDesktopPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FGnomeDesktopPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,153 @@\n+/* GnomeDesktopPeer.java -- Offers a GNOME Desktop peer for DesktopPeer\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n+\n+ This file is part of GNU Classpath.\n+\n+ GNU Classpath is free software; you can redistribute it and/or modify\n+ it under the terms of the GNU General Public License as published by\n+ the Free Software Foundation; either version 2, or (at your option)\n+ any later version.\n+\n+ GNU Classpath is distributed in the hope that it will be useful, but\n+ WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ General Public License for more details.\n+\n+ You should have received a copy of the GNU General Public License\n+ along with GNU Classpath; see the file COPYING.  If not, write to the\n+ Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+ 02110-1301 USA.\n+\n+ Linking this library statically or dynamically with other modules is\n+ making a combined work based on this library.  Thus, the terms and\n+ conditions of the GNU General Public License cover the whole\n+ combination.\n+\n+ As a special exception, the copyright holders of this library give you\n+ permission to link this library with independent modules to produce an\n+ executable, regardless of the license terms of these independent\n+ modules, and to copy and distribute the resulting executable under\n+ terms of your choice, provided that you also meet, for each linked\n+ independent module, the terms and conditions of the license of that\n+ module.  An independent module is a module which is not derived from\n+ or based on this library.  If you modify this library, you may extend\n+ this exception to your version of the library, but you are not\n+ obligated to do so.  If you do not wish to do so, delete this\n+ exception statement from your version. */\n+\n+package gnu.java.awt.peer;\n+\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.net.URI;\n+\n+/**\n+ * @author Mario Torre <neugens@limasoftware.net>\n+ */\n+public class GnomeDesktopPeer\n+    extends ClasspathDesktopPeer\n+{\n+  /**\n+   * Query string to use if a GNOME desktop is detected to get the name of the\n+   * default browser. This requires gconftool-2 (part of GNOME).\n+   */\n+  private static final String BROWSER_QUERY_GNOME =\n+    \"gconftool-2 -g /desktop/gnome/url-handlers/http/command\";\n+\n+  protected String getCommand(String action)\n+  {\n+    // check if a command already exists\n+    String command = super.getCommand(action);\n+    \n+    if (command == null)\n+      {\n+        try\n+          {\n+            if (action == _BROWSE)\n+              { \n+                command = execQuery(BROWSER_QUERY_GNOME);\n+              }\n+            else if (action == _PRINT)\n+              {\n+                command = null;\n+              }\n+            else\n+              {\n+                command = \"gnome-open\";\n+              }\n+          }\n+        catch (Exception e)\n+          {\n+            command = null;\n+          }\n+      }\n+    \n+    return command;\n+  }\n+  \n+  public void browse(URI url) throws IOException\n+  {\n+    checkPermissions();\n+    \n+    String browser = getCommand(_BROWSE);\n+    \n+    if (browser == null)\n+      throw new UnsupportedOperationException();\n+    \n+    browser = browser + \" \" + url.toString();\n+    \n+    Runtime.getRuntime().exec(browser);\n+  }\n+\n+  protected boolean supportCommand(String check)\n+  {\n+    if (check == _PRINT)\n+      { \n+        return super.supportCommand(check);\n+      }\n+    \n+    return true;\n+  }\n+\n+  public void mail() throws IOException\n+  {\n+    checkPermissions();\n+    \n+    String mail = getCommand(_MAIL);\n+    \n+    if (mail == null)\n+      throw new UnsupportedOperationException();\n+    \n+    Runtime.getRuntime().exec(mail + \" mailto:\");\n+  }\n+  \n+  protected String execQuery(String command) throws IOException\n+  {\n+    InputStream in = null;\n+    StringBuilder output = new StringBuilder();\n+\n+    try\n+      {\n+        Process process = Runtime.getRuntime().exec(command);\n+\n+        // Get the input stream and read from it\n+        in = process.getInputStream();\n+        int c;\n+        while ((c = in.read()) != - 1)\n+          {\n+            output.append((char) c);\n+          }\n+      }\n+    finally\n+      {\n+        if (in != null)\n+          in.close();\n+      }\n+\n+    // remove %s from the string, leave only the command line\n+    int index = output.indexOf(\"%s\");\n+    output.delete(index, index + 1);\n+    \n+    return output.toString().trim();\n+  }\n+}"}, {"sha": "676bd891758c2024c2f18fbd98dc13119056985a", "filename": "libjava/classpath/gnu/java/awt/peer/KDEDesktopPeer.java", "status": "added", "additions": 135, "deletions": 0, "changes": 135, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FKDEDesktopPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FKDEDesktopPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2FKDEDesktopPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -0,0 +1,135 @@\n+/* GnomeDesktopPeer.java -- Offers a KDE Desktop peer for DesktopPeer\n+ Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n+\n+ This file is part of GNU Classpath.\n+\n+ GNU Classpath is free software; you can redistribute it and/or modify\n+ it under the terms of the GNU General Public License as published by\n+ the Free Software Foundation; either version 2, or (at your option)\n+ any later version.\n+\n+ GNU Classpath is distributed in the hope that it will be useful, but\n+ WITHOUT ANY WARRANTY; without even the implied warranty of\n+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ General Public License for more details.\n+\n+ You should have received a copy of the GNU General Public License\n+ along with GNU Classpath; see the file COPYING.  If not, write to the\n+ Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n+ 02110-1301 USA.\n+\n+ Linking this library statically or dynamically with other modules is\n+ making a combined work based on this library.  Thus, the terms and\n+ conditions of the GNU General Public License cover the whole\n+ combination.\n+\n+ As a special exception, the copyright holders of this library give you\n+ permission to link this library with independent modules to produce an\n+ executable, regardless of the license terms of these independent\n+ modules, and to copy and distribute the resulting executable under\n+ terms of your choice, provided that you also meet, for each linked\n+ independent module, the terms and conditions of the license of that\n+ module.  An independent module is a module which is not derived from\n+ or based on this library.  If you modify this library, you may extend\n+ this exception to your version of the library, but you are not\n+ obligated to do so.  If you do not wish to do so, delete this\n+ exception statement from your version. */\n+\n+package gnu.java.awt.peer;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.net.URI;\n+\n+/**\n+ * @author Mario Torre <neugens@limasoftware.net>\n+ */\n+public class KDEDesktopPeer\n+  extends ClasspathDesktopPeer\n+{\n+  /**\n+   * Query string to use if a GNOME desktop is detected to get the name of the\n+   * default browser. This requires gconftool-2 (part of GNOME).\n+   */\n+  private static final String BROWSER_QUERY_GNOME =\n+    \"gconftool-2 -g /desktop/gnome/url-handlers/http/command\";\n+\n+  protected String getCommand(String action)\n+  {   \n+    // check if a command already exists\n+    String command = super.getCommand(action);\n+    \n+    if (command == null)\n+      {\n+        try\n+          {\n+            if (action == _MAIL)\n+              { \n+                command = \"kfmclient exec\";\n+              }\n+            else if (action == _PRINT)\n+              {\n+                command = \"kprinter\";\n+              }\n+            else\n+              {\n+                command = \"kfmclient openURL\";\n+              }\n+          }\n+        catch (Exception e)\n+          {\n+            command = null;\n+          }\n+      }\n+    \n+    return command;\n+  }\n+     \n+  protected boolean supportCommand(String check)\n+  {\n+    return true;\n+  }\n+  \n+  public void mail() throws IOException\n+  {\n+    checkPermissions();\n+    \n+    String mail = getCommand(_MAIL);\n+    \n+    if (mail == null)\n+      throw new UnsupportedOperationException();\n+    \n+    Runtime.getRuntime().exec(mail + \" 'mailto: '\");\n+  }\n+  \n+  protected String execQuery(String command) throws IOException\n+  {\n+    InputStream in = null;\n+    StringBuilder output = new StringBuilder();\n+\n+    try\n+      {\n+        Process process = Runtime.getRuntime().exec(command);\n+\n+        // Get the input stream and read from it\n+        in = process.getInputStream();\n+        int c;\n+        while ((c = in.read()) != - 1)\n+          {\n+            output.append((char) c);\n+          }\n+      }\n+    finally\n+      {\n+        if (in != null)\n+          in.close();\n+      }\n+\n+    // remove %s from the string, leave only the command line\n+    int index = output.indexOf(\"%s\");\n+    output.delete(index, index + 1);\n+    \n+    return output.toString().trim();\n+  }\n+}"}, {"sha": "dad537aa7481f43fca1171b16f4757886885be66", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/AsyncImage.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FAsyncImage.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FAsyncImage.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FAsyncImage.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -61,11 +61,11 @@\n   private class NullImageSource\n     implements ImageProducer\n   {\n-    private ArrayList consumers;\n+    private ArrayList<ImageConsumer> consumers;\n \n     NullImageSource()\n     {\n-      consumers = new ArrayList();\n+      consumers = new ArrayList<ImageConsumer>();\n     }\n \n     public void addConsumer(ImageConsumer ic)\n@@ -145,14 +145,14 @@ public void run()\n    *\n    * This is package private to avoid accessor methods.\n    */\n-  HashSet observers;\n+  HashSet<ImageObserver> observers;\n \n   /**\n    * Creates a new AsyncImage that loads from the specified URL.\n    */\n   AsyncImage(URL url)\n   {\n-    observers = new HashSet();\n+    observers = new HashSet<ImageObserver>();\n     Loader l = new Loader(url);\n     Thread t = new Thread(l);\n     t.start();\n@@ -221,7 +221,7 @@ void addObserver(ImageObserver obs)\n           {\n             // This field gets null when image loading is complete and we don't\n             // need to store any more observers.\n-            HashSet observs = observers;\n+            HashSet<ImageObserver> observs = observers;\n             if (observs != null)\n               {\n                 observs.add(obs);"}, {"sha": "31c5e641ec899e58736acc63a184b8d7f4f5ce09", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/BufferedImageGraphics.java", "status": "modified", "additions": 50, "deletions": 66, "changes": 116, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FBufferedImageGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FBufferedImageGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FBufferedImageGraphics.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -40,6 +40,7 @@\n \n import java.awt.AlphaComposite;\n import java.awt.Color;\n+import java.awt.Composite;\n import java.awt.Graphics;\n import java.awt.Graphics2D;\n import java.awt.GraphicsConfiguration;\n@@ -49,7 +50,6 @@\n import java.awt.Toolkit;\n import java.awt.font.GlyphVector;\n import java.awt.geom.AffineTransform;\n-import java.awt.geom.Point2D;\n import java.awt.geom.Rectangle2D;\n import java.awt.image.BufferedImage;\n import java.awt.image.ColorModel;\n@@ -74,12 +74,6 @@ public class BufferedImageGraphics extends CairoGraphics2D\n    */\n   private BufferedImage image, buffer;\n   \n-  /**\n-   * Allows us to lock the image from updates (if we want to perform a few\n-   * intermediary operations on the cairo surface, then update it all at once)\n-   */\n-  private boolean locked;\n-\n   /**\n    * Image size.\n    */\n@@ -93,7 +87,8 @@ public class BufferedImageGraphics extends CairoGraphics2D\n   /**\n    * Cache BufferedImageGraphics surfaces.\n    */\n-  static WeakHashMap bufferedImages = new WeakHashMap();\n+  static WeakHashMap<BufferedImage, CairoSurface> bufferedImages\n+    = new WeakHashMap<BufferedImage, CairoSurface>();\n \n   /**\n    * Its corresponding cairo_t.\n@@ -109,30 +104,30 @@ public BufferedImageGraphics(BufferedImage bi)\n     this.image = bi;\n     imageWidth = bi.getWidth();\n     imageHeight = bi.getHeight();\n-    locked = false;\n     \n     if (!(image.getSampleModel() instanceof SinglePixelPackedSampleModel))\n       hasFastCM = false;\n     else if(bi.getColorModel().equals(CairoSurface.cairoCM_opaque))\n       {\n-\thasFastCM = true;\n-\thasAlpha = false;\n+        hasFastCM = true;\n+        hasAlpha = false;\n       }\n-    else if(bi.getColorModel().equals(CairoSurface.cairoColorModel))\n+    else if(bi.getColorModel().equals(CairoSurface.cairoColorModel)\n+        || bi.getColorModel().equals(CairoSurface.cairoCM_pre))\n       {\n-\thasFastCM = true;\n-\thasAlpha = true;\n+        hasFastCM = true;\n+        hasAlpha = true;\n       }\n     else\n       hasFastCM = false;\n \n     // Cache surfaces.\n     if( bufferedImages.get( bi ) != null )\n-      surface = (CairoSurface)bufferedImages.get( bi );\n+      surface = bufferedImages.get( bi );\n     else\n       {\n-\tsurface = new CairoSurface( imageWidth, imageHeight );\n-\tbufferedImages.put(bi, surface);\n+        surface = new CairoSurface( imageWidth, imageHeight );\n+        bufferedImages.put(bi, surface);\n       }\n \n     cairo_t = surface.newCairoContext();\n@@ -148,10 +143,7 @@ else if(bi.getColorModel().equals(CairoSurface.cairoColorModel))\n         int minY = image.getRaster().getSampleModelTranslateY();\n \n         // Pull pixels directly out of data buffer\n-        if(raster instanceof CairoSurface)\n-          pixels = ((CairoSurface)raster).getPixels(raster.getWidth() * raster.getHeight());\n-        else\n-          pixels = ((DataBufferInt)raster.getDataBuffer()).getData();\n+        pixels = ((DataBufferInt)raster.getDataBuffer()).getData();\n \n         // Discard pixels that fall outside of the image's bounds\n         // (ie, this image is actually a subimage of a different image)\n@@ -161,7 +153,8 @@ else if(bi.getColorModel().equals(CairoSurface.cairoColorModel))\n             int scanline = sm.getScanlineStride();\n             \n             for (int i = 0; i < imageHeight; i++)\n-              System.arraycopy(pixels, (i - minY) * scanline - minX, pixels2, i * imageWidth, imageWidth);\n+              System.arraycopy(pixels, (i - minY) * scanline - minX, pixels2,\n+                               i * imageWidth, imageWidth);\n             \n             pixels = pixels2;\n           }\n@@ -173,11 +166,13 @@ else if(bi.getColorModel().equals(CairoSurface.cairoColorModel))\n       }\n     else\n       {\n-        pixels = CairoGraphics2D.findSimpleIntegerArray(image.getColorModel(),image.getData());\n+        pixels = CairoGraphics2D.findSimpleIntegerArray(image.getColorModel(),\n+                                                        image.getData());\n+        if (pixels != null)\n+          System.arraycopy(pixels, 0, surface.getData(),\n+                           0, pixels.length);\n       }\n     \n-    surface.setPixels( pixels );\n-\n     setup( cairo_t );\n     setClip(0, 0, imageWidth, imageHeight);\n   }\n@@ -189,7 +184,6 @@ else if(bi.getColorModel().equals(CairoSurface.cairoColorModel))\n     cairo_t = surface.newCairoContext();\n     imageWidth = copyFrom.imageWidth;\n     imageHeight = copyFrom.imageHeight;\n-    locked = false;\n     \n     hasFastCM = copyFrom.hasFastCM;\n     hasAlpha = copyFrom.hasAlpha;\n@@ -202,17 +196,14 @@ else if(bi.getColorModel().equals(CairoSurface.cairoColorModel))\n    */\n   private void updateBufferedImage(int x, int y, int width, int height)\n   {  \n-    if (locked)\n-      return;\n-    \n-    double[] points = new double[]{x, y, width+x, height+y};\n-    transform.transform(points, 0, points, 0, 2);\n-    x = (int)points[0];\n-    y = (int)points[1];\n-    width = (int)Math.ceil(points[2] - points[0]);\n-    height = (int)Math.ceil(points[3] - points[1]);\n+    Rectangle bounds = new Rectangle(x, y, width, height);\n+    bounds = getTransformedBounds(bounds, transform).getBounds();\n+    x = bounds.x;\n+    y = bounds.y;\n+    width = bounds.width;\n+    height = bounds.height;\n \n-    int[] pixels = surface.getPixels(imageWidth * imageHeight);\n+    int[] pixels = surface.getData();\n \n     if( x > imageWidth || y > imageHeight )\n       return;\n@@ -403,14 +394,10 @@ protected boolean drawImage(Image img, AffineTransform xform,\n         BufferedImage bImg = (BufferedImage) img;\n         \n         // Find translated bounds\n-        Point2D origin = new Point2D.Double(bImg.getMinX(), bImg.getMinY());\n-        Point2D pt = new Point2D.Double(bImg.getWidth() + bImg.getMinX(),\n-                                        bImg.getHeight() + bImg.getMinY());\n+        Rectangle2D bounds = new Rectangle(bImg.getMinX(), bImg.getMinY(),\n+                                           bImg.getWidth(), bImg.getHeight());\n         if (xform != null)\n-          {\n-            origin = xform.transform(origin, origin);\n-            pt = xform.transform(pt, pt);\n-          }\n+          bounds = getTransformedBounds(bounds, xform);\n         \n         // Create buffer and draw image\n         createBuffer();\n@@ -420,10 +407,7 @@ protected boolean drawImage(Image img, AffineTransform xform,\n         g2d.drawImage(img, xform, obs);\n \n         // Perform compositing\n-        return drawComposite(new Rectangle2D.Double(origin.getX(),\n-                                                    origin.getY(),\n-                                                    pt.getX(), pt.getY()),\n-                             obs);\n+        return drawComposite(bounds, obs);\n       }\n   }\n \n@@ -438,6 +422,11 @@ public void drawGlyphVector(GlyphVector gv, float x, float y)\n     if (comp == null || comp instanceof AlphaComposite)\n       {\n         super.drawGlyphVector(gv, x, y);\n+        \n+        // this returns an integer-based Rectangle (rather than a\n+        // Rectangle2D), which takes care of any necessary rounding for us.\n+        bounds = bounds.getBounds();\n+        \n         updateBufferedImage((int)bounds.getX(), (int)bounds.getY(),\n                             (int)bounds.getWidth(), (int)bounds.getHeight());\n       }\n@@ -468,12 +457,7 @@ public void drawGlyphVector(GlyphVector gv, float x, float y)\n   private boolean drawComposite(Rectangle2D bounds, ImageObserver observer)\n   {\n     // Find bounds in device space\n-    double[] points = new double[] {bounds.getX(), bounds.getY(),\n-                                    bounds.getMaxX(), bounds.getMaxY()};\n-    transform.transform(points, 0, points, 0, 2);\n-    bounds = new Rectangle2D.Double(points[0], points[1],\n-                                    (points[2] - points[0]),\n-                                    (points[3] - points[1]));\n+    bounds = getTransformedBounds(bounds, transform);\n \n     // Clip bounds by the stored clip, and by the internal buffer\n     Rectangle2D devClip = this.getClipInDevSpace();\n@@ -482,17 +466,15 @@ private boolean drawComposite(Rectangle2D bounds, ImageObserver observer)\n                             buffer.getWidth(), buffer.getHeight());\n     Rectangle2D.intersect(bounds, devClip, bounds);\n     \n-    // Round bounds as needed, but be conservative in our rounding\n+    // Round bounds as needed, but be careful in our rounding\n     // (otherwise it may leave unpainted stripes)\n     double x = bounds.getX();\n     double y = bounds.getY();\n-    double w = bounds.getWidth();\n-    double h = bounds.getHeight();\n-    if (Math.floor(x) != x)\n-      w--;\n-    if (Math.floor(y) != y)\n-      h--;\n-    bounds.setRect(Math.ceil(x), Math.ceil(y), Math.floor(w), Math.floor(h));\n+    double maxX = x + bounds.getWidth();\n+    double maxY = y + bounds.getHeight();\n+    x = Math.round(x);\n+    y = Math.round(y);\n+    bounds.setRect(x, y, Math.round(maxX - x), Math.round(maxY - y));\n     \n     // Find subimage of internal buffer for updating\n     BufferedImage buffer2 = buffer;\n@@ -511,18 +493,20 @@ private boolean drawComposite(Rectangle2D bounds, ImageObserver observer)\n     compCtx.compose(buffer2.getRaster(), current.getRaster(),\n                     current.getRaster());\n     \n-    // Prevent the clearRect in CairoGraphics2D.drawImage from clearing\n-    // our composited image\n-    locked = true;\n+    // Set cairo's composite to direct SRC, since we've already done our own\n+    // compositing   \n+    Composite oldcomp = comp;\n+    setComposite(AlphaComposite.Src);\n     \n     // This MUST call directly into the \"action\" method in CairoGraphics2D,\n     // not one of the wrappers, to ensure that the composite isn't processed\n     // more than once!\n     boolean rv = super.drawImage(current,\n                                  AffineTransform.getTranslateInstance(bounds.getX(),\n                                                                       bounds.getY()),\n-                                 new Color(0,0,0,0), null);\n-    locked = false;\n+                                 null, null);\n+    setComposite(oldcomp);\n+    updateColor();\n     return rv;\n   }\n   "}, {"sha": "3a386075a696ba975a7e2e33c3b972466ecc3a75", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/CairoGraphics2D.java", "status": "modified", "additions": 346, "deletions": 181, "changes": 527, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoGraphics2D.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoGraphics2D.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoGraphics2D.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -172,6 +172,12 @@ public abstract class CairoGraphics2D extends Graphics2D\n    * Rendering hint map.\n    */\n   private RenderingHints hints;\n+  \n+  /**\n+   * Status of the anti-alias flag in cairo.\n+   */\n+  private boolean antialias = false;\n+  private boolean ignoreAA = false;\n \n   /**\n    * Some operations (drawing rather than filling) require that their\n@@ -228,6 +234,7 @@ public void setup(long cairo_t_pointer)\n     setPaint(Color.black);\n     setStroke(new BasicStroke());\n     setTransform(new AffineTransform());\n+    cairoSetAntialias(nativePointer, antialias);\n   }\n \n   /**\n@@ -244,7 +251,7 @@ public void copy(CairoGraphics2D g, long cairo_t_pointer)\n \n     if (g.fg.getAlpha() != -1)\n       foreground = new Color(g.fg.getRed(), g.fg.getGreen(), g.fg.getBlue(),\n-                     g.fg.getAlpha());\n+                             g.fg.getAlpha());\n     else\n       foreground = new Color(g.fg.getRGB());\n \n@@ -274,6 +281,9 @@ public void copy(CairoGraphics2D g, long cairo_t_pointer)\n     setTransformImpl(transform);\n     setClip(clip);\n     setComposite(comp);\n+    \n+    antialias = !g.antialias;\n+    setAntialias(g.antialias);\n   }\n \n   /**\n@@ -311,8 +321,8 @@ public void dispose()\n \n   public abstract GraphicsConfiguration getDeviceConfiguration();\n \n-  protected abstract void copyAreaImpl(int x, int y, \n-\t\t\t\t       int width, int height, int dx, int dy);\n+  protected abstract void copyAreaImpl(int x, int y, int width, int height,\n+                                       int dx, int dy);\n \n \n   /**\n@@ -345,8 +355,8 @@ protected native void setGradient(long pointer, double x1, double y1,\n                                   int g2, int b2, int a2, boolean cyclic);\n   \n   protected native void setPaintPixels(long pointer, int[] pixels, int w,\n-                                       int h, int stride, boolean repeat,\n-                                       int x, int y);\n+                                     int h, int stride, boolean repeat,\n+                                     int x, int y);\n \n   /**\n    * Set the current transform matrix\n@@ -390,9 +400,9 @@ protected native void cairoSetDash(long pointer, double[] dashes, int ndash,\n   /*\n    * Draws a Glyph Vector\n    */\n-  native void cairoDrawGlyphVector(long pointer, GdkFontPeer font, \n+  protected native void cairoDrawGlyphVector(long pointer, GdkFontPeer font, \n                                    float x, float y, int n, \n-                                   int[] codes, float[] positions);\n+                                   int[] codes, float[] positions, long[] fontset);\n \n   /**\n    * Set the font in cairo.\n@@ -454,9 +464,15 @@ protected native void cairoCurveTo(long pointer, double x1, double y1,\n   protected native void cairoClip(long pointer);\n \n   /** \n-   * Save clip\n+   * Clear clip\n    */\n   protected native void cairoResetClip(long pointer);\n+  \n+  /**\n+   * Set antialias.\n+   */\n+  protected native void cairoSetAntialias(long pointer, boolean aa);\n+\n \n   ///////////////////////// TRANSFORMS ///////////////////////////////////\n   /**\n@@ -648,33 +664,35 @@ public void setPaint(Paint p)\n         setColor((Color) paint);\n         customPaint = false;\n       }\n+    \n     else if (paint instanceof TexturePaint)\n       {\n-\tTexturePaint tp = (TexturePaint) paint;\n-\tBufferedImage img = tp.getImage();\n+        TexturePaint tp = (TexturePaint) paint;\n+        BufferedImage img = tp.getImage();\n \n-\t// map the image to the anchor rectangle  \n-\tint width = (int) tp.getAnchorRect().getWidth();\n-\tint height = (int) tp.getAnchorRect().getHeight();\n+        // map the image to the anchor rectangle  \n+        int width = (int) tp.getAnchorRect().getWidth();\n+        int height = (int) tp.getAnchorRect().getHeight();\n \n-\tdouble scaleX = width / (double) img.getWidth();\n-\tdouble scaleY = height / (double) img.getHeight();\n+        double scaleX = width / (double) img.getWidth();\n+        double scaleY = height / (double) img.getHeight();\n \n-\tAffineTransform at = new AffineTransform(scaleX, 0, 0, scaleY, 0, 0);\n-\tAffineTransformOp op = new AffineTransformOp(at, getRenderingHints());\n-\tBufferedImage texture = op.filter(img, null);\n-\tint[] pixels = texture.getRGB(0, 0, width, height, null, 0, width);\n-\tsetPaintPixels(nativePointer, pixels, width, height, width, true, 0, 0);\n+        AffineTransform at = new AffineTransform(scaleX, 0, 0, scaleY, 0, 0);\n+        AffineTransformOp op = new AffineTransformOp(at, getRenderingHints());\n+        BufferedImage texture = op.filter(img, null);\n+        int[] pixels = texture.getRGB(0, 0, width, height, null, 0, width);\n+        setPaintPixels(nativePointer, pixels, width, height, width, true, 0, 0);\n         customPaint = false;\n       }\n+    \n     else if (paint instanceof GradientPaint)\n       {\n-\tGradientPaint gp = (GradientPaint) paint;\n-\tPoint2D p1 = gp.getPoint1();\n-\tPoint2D p2 = gp.getPoint2();\n-\tColor c1 = gp.getColor1();\n-\tColor c2 = gp.getColor2();\n-\tsetGradient(nativePointer, p1.getX(), p1.getY(), p2.getX(), p2.getY(),\n+        GradientPaint gp = (GradientPaint) paint;\n+        Point2D p1 = gp.getPoint1();\n+        Point2D p2 = gp.getPoint2();\n+        Color c1 = gp.getColor1();\n+        Color c2 = gp.getColor2();\n+        setGradient(nativePointer, p1.getX(), p1.getY(), p2.getX(), p2.getY(),\n                     c1.getRed(), c1.getGreen(), c1.getBlue(), c1.getAlpha(),\n                     c2.getRed(), c2.getGreen(), c2.getBlue(), c2.getAlpha(),\n                     gp.isCyclic());\n@@ -703,15 +721,11 @@ protected void setCustomPaint(Rectangle bounds)\n     int userHeight = bounds.height;\n     \n     // Find bounds in device space\n-    Point2D origin = transform.transform(new Point2D.Double(userX, userY),\n-                                         null);\n-    Point2D extreme = transform.transform(new Point2D.Double(userWidth + userX,\n-                                                             userHeight + userY),\n-                                          null);\n-    int deviceX = (int)origin.getX();\n-    int deviceY = (int)origin.getY();\n-    int deviceWidth = (int)Math.ceil(extreme.getX() - origin.getX());\n-    int deviceHeight = (int)Math.ceil(extreme.getY() - origin.getY());\n+    Rectangle2D bounds2D = getTransformedBounds(bounds, transform);\n+    int deviceX = (int)bounds2D.getX();\n+    int deviceY = (int)bounds2D.getY();\n+    int deviceWidth = (int)Math.ceil(bounds2D.getWidth());\n+    int deviceHeight = (int)Math.ceil(bounds2D.getHeight());\n \n     // Get raster of the paint background\n     PaintContext pc = paint.createContext(CairoSurface.cairoColorModel,\n@@ -792,21 +806,22 @@ public void setStroke(Stroke st)\n     stroke = st;\n     if (stroke instanceof BasicStroke)\n       {\n-\tBasicStroke bs = (BasicStroke) stroke;\n-\tcairoSetLine(nativePointer, bs.getLineWidth(), bs.getEndCap(), \n-\t\t     bs.getLineJoin(), bs.getMiterLimit());\n-\n-\tfloat[] dashes = bs.getDashArray();\n-\tif (dashes != null)\n-\t  {\n-\t    double[] double_dashes = new double[dashes.length];\n-\t    for (int i = 0; i < dashes.length; i++)\n-\t      double_dashes[i] = dashes[i];\n-\t    cairoSetDash(nativePointer, double_dashes, double_dashes.length,\n-\t                 (double) bs.getDashPhase());\n-\t  }\n-\telse\n-\t  cairoSetDash(nativePointer, new double[0], 0, 0.0);\n+        BasicStroke bs = (BasicStroke) stroke;\n+        cairoSetLine(nativePointer, bs.getLineWidth(), bs.getEndCap(), \n+                     bs.getLineJoin(), bs.getMiterLimit());\n+\n+        float[] dashes = bs.getDashArray();\n+        if (dashes != null)\n+          {\n+            double[] double_dashes = new double[dashes.length];\n+            for (int i = 0; i < dashes.length; i++)\n+              double_dashes[i] = dashes[i];\n+            \n+            cairoSetDash(nativePointer, double_dashes, double_dashes.length,\n+                         (double) bs.getDashPhase());\n+          }\n+        else\n+          cairoSetDash(nativePointer, new double[0], 0, 0.0);\n       }\n   }\n \n@@ -864,6 +879,7 @@ void updateColor()\n   {\n     if (fg == null)\n       fg = Color.BLACK;\n+    \n     cairoSetRGBAColor(nativePointer, fg.getRed() / 255.0,\n                       fg.getGreen() / 255.0,fg.getBlue() / 255.0,\n                       fg.getAlpha() / 255.0);\n@@ -916,18 +932,7 @@ protected Rectangle2D getClipInDevSpace()\n     if (transform == null)\n       return uclip;\n     else\n-      {\n-\tPoint2D pos = transform.transform(new Point2D.Double(uclip.getX(),\n-\t                                                     uclip.getY()),\n-\t                                  (Point2D) null);\n-\tPoint2D extent = transform.deltaTransform(new Point2D.Double(uclip\n-\t                                                             .getWidth(),\n-\t                                                             uclip\n-\t                                                             .getHeight()),\n-\t                                          (Point2D) null);\n-\treturn new Rectangle2D.Double(pos.getX(), pos.getY(), extent.getX(),\n-\t                              extent.getY());\n-      }\n+      return getTransformedBounds(clip.getBounds2D(), transform);\n   }\n \n   public void setClip(int x, int y, int width, int height)\n@@ -946,8 +951,8 @@ public void setClip(Shape s)\n     // initial clip properly.\n     if( firstClip )\n       {\n-\toriginalClip = s;\n-\tfirstClip = false;\n+        originalClip = s;\n+        firstClip = false;\n       }\n \n     clip = s;\n@@ -1007,7 +1012,7 @@ public void setComposite(Composite comp)\n \n     if (comp instanceof AlphaComposite)\n       {\n-\tAlphaComposite a = (AlphaComposite) comp;\n+        AlphaComposite a = (AlphaComposite) comp;\n         cairoSetOperator(nativePointer, a.getRule());\n       }\n       \n@@ -1066,7 +1071,9 @@ public void draw(Shape s)\n         Rectangle r = findStrokedBounds(s);\n         setCustomPaint(r);\n       }\n-    \n+\n+    setAntialias(!hints.get(RenderingHints.KEY_ANTIALIASING)\n+                       .equals(RenderingHints.VALUE_ANTIALIAS_OFF));\n     createPath(s, true);\n     cairoStroke(nativePointer);\n   }\n@@ -1077,7 +1084,9 @@ public void fill(Shape s)\n \n     if (customPaint)\n       setCustomPaint(s.getBounds());\n-    \n+\n+    setAntialias(!hints.get(RenderingHints.KEY_ANTIALIASING)\n+                       .equals(RenderingHints.VALUE_ANTIALIAS_OFF));\n     double alpha = 1.0;\n     if (comp instanceof AlphaComposite)\n       alpha = ((AlphaComposite) comp).getAlpha();\n@@ -1263,13 +1272,15 @@ public void fillRoundRect(int x, int y, int width, int height, int arcWidth,\n   public void copyArea(int ox, int oy, int owidth, int oheight, \n \t\t       int odx, int ody)\n   {\n+    // FIXME: does this handle a rotation transform properly?\n+    // (the width/height might not be correct)\n     Point2D pos = transform.transform(new Point2D.Double(ox, oy),\n-\t\t\t\t      (Point2D) null);\n+                                      (Point2D) null);\n     Point2D dim = transform.transform(new Point2D.Double(ox + owidth, \n-\t\t\t\t\t\t\t oy + oheight),\n-\t\t\t\t      (Point2D) null);\n+                                                         oy + oheight),\n+                                      (Point2D) null);\n     Point2D p2 = transform.transform(new Point2D.Double(ox + odx, oy + ody),\n-\t\t\t\t     (Point2D) null);\n+                                     (Point2D) null);\n     int x = (int)pos.getX();\n     int y = (int)pos.getY();\n     int width = (int)(dim.getX() - pos.getX());\n@@ -1291,14 +1302,14 @@ public void copyArea(int ox, int oy, int owidth, int oheight,\n     // Clip edges if necessary \n     if( x + dx < r.getX() ) // left\n       {\n-\twidth = x + dx + width;\n-\tx = (int)r.getX() - dx;\n+        width = x + dx + width;\n+        x = (int)r.getX() - dx;\n       }\n \n     if( y + dy < r.getY() ) // top\n       {\n-\theight = y + dy + height;\n-\ty = (int)r.getY() - dy;\n+        height = y + dy + height;\n+        y = (int)r.getY() - dy;\n       }\n \n     if( x + dx + width >= r.getWidth() ) // right\n@@ -1325,10 +1336,10 @@ public Object getRenderingHint(RenderingHints.Key hintKey)\n     return hints.get(hintKey);\n   }\n \n-  public void setRenderingHints(Map hints)\n+  public void setRenderingHints(Map<?,?> hints)\n   {\n     this.hints = new RenderingHints(getDefaultHints());\n-    this.hints.add(new RenderingHints(hints));\n+    this.hints.putAll(hints);\n     \n     shiftDrawCalls = hints.containsValue(RenderingHints.VALUE_STROKE_NORMALIZE)\n       || hints.containsValue(RenderingHints.VALUE_STROKE_DEFAULT);\n@@ -1342,7 +1353,7 @@ public void setRenderingHints(Map hints)\n \n   public void addRenderingHints(Map hints)\n   {\n-    this.hints.add(new RenderingHints(hints));\n+    this.hints.putAll(hints);\n   }\n \n   public RenderingHints getRenderingHints()\n@@ -1373,6 +1384,24 @@ else if (hints.containsValue(RenderingHints.VALUE_ALPHA_INTERPOLATION_DEFAULT))\n     // Do bilinear interpolation as default\n     return INTERPOLATION_BILINEAR;\n   }\n+  \n+  /**\n+   * Set antialias if needed.  If the ignoreAA flag is set, this method will\n+   * return without doing anything.\n+   * \n+   * @param needAA RenderingHints.VALUE_ANTIALIAS_ON or RenderingHints.VALUE_ANTIALIAS_OFF\n+   */\n+  private void setAntialias(boolean needAA)\n+  {\n+    if (ignoreAA)\n+      return;\n+    \n+    if (needAA != antialias)\n+      {\n+        antialias = !antialias;\n+        cairoSetAntialias(nativePointer, antialias);\n+      }\n+  }\n \n   ///////////////////////// IMAGE. METHODS ///////////////////////////////////\n \n@@ -1396,12 +1425,12 @@ protected boolean drawImage(Image img, AffineTransform xform,\n \n     try\n       {\n-\tinvertedXform = xform.createInverse();\n+        invertedXform = xform.createInverse();\n       }\n     catch (NoninvertibleTransformException e)\n       {\n-\tthrow new ImagingOpException(\"Unable to invert transform \"\n-\t\t\t\t     + xform.toString());\n+        throw new ImagingOpException(\"Unable to invert transform \"\n+                                     + xform.toString());\n       }\n \n     // Unrecognized image - convert to a BufferedImage\n@@ -1411,10 +1440,10 @@ protected boolean drawImage(Image img, AffineTransform xform,\n     img = AsyncImage.realImage(img, obs);\n     if( !(img instanceof BufferedImage) )\n       {\n-\tImageProducer source = img.getSource();\n-\tif (source == null)\n-\t  return false;\n-\timg = Toolkit.getDefaultToolkit().createImage(source);\n+        ImageProducer source = img.getSource();\n+        if (source == null)\n+          return false;\n+        img = Toolkit.getDefaultToolkit().createImage(source);\n       }\n \n     BufferedImage b = (BufferedImage) img;\n@@ -1427,7 +1456,7 @@ protected boolean drawImage(Image img, AffineTransform xform,\n     // use the cached CairoSurface that BIG is drawing onto\n     \n     if( BufferedImageGraphics.bufferedImages.get( b ) != null )\n-      raster = (Raster)BufferedImageGraphics.bufferedImages.get( b );\n+      raster = BufferedImageGraphics.bufferedImages.get( b );\n     else\n       raster = b.getRaster();\n \n@@ -1437,37 +1466,44 @@ protected boolean drawImage(Image img, AffineTransform xform,\n     if (comp instanceof AlphaComposite)\n       alpha = ((AlphaComposite) comp).getAlpha();\n \n-    if(raster instanceof CairoSurface)\n+    if(raster instanceof CairoSurface\n+        && ((CairoSurface)raster).sharedBuffer == true)\n       {\n-\t((CairoSurface)raster).drawSurface(nativePointer, i2u, alpha,\n-                                           getInterpolation());\n+        drawCairoSurface((CairoSurface)raster, xform, alpha, getInterpolation());\n         updateColor();\n-\treturn true;\n+        return true;\n       }\n \t    \n     if( bgcolor != null )\n       {\n         Color oldColor = bg;\n         setBackground(bgcolor);\n         \n-        double[] origin = new double[] {0,0};\n-        double[] dimensions = new double[] {width, height};\n-        xform.transform(origin, 0, origin, 0, 1);\n-        xform.deltaTransform(dimensions, 0, dimensions, 0, 1);\n-        clearRect((int)origin[0], (int)origin[1],\n-                  (int)dimensions[0], (int)dimensions[1]);\n+        Rectangle2D bounds = new Rectangle2D.Double(0, 0, width, height);\n+        bounds = getTransformedBounds(bounds, xform);\n+        \n+        clearRect((int)bounds.getX(), (int)bounds.getY(),\n+                  (int)bounds.getWidth(), (int)bounds.getHeight());\n         \n         setBackground(oldColor);\n       }\n \n     int[] pixels = b.getRGB(0, 0, width, height, null, 0, width);\n-    \n     // FIXME: The above method returns data in the standard ARGB colorspace,\n     // meaning data should NOT be alpha pre-multiplied; however Cairo expects\n     // data to be premultiplied.\n+    \n+    cairoSave(nativePointer);\n+    Rectangle2D bounds = new Rectangle2D.Double(0, 0, width, height);\n+    bounds = getTransformedBounds(bounds, xform);\n+    cairoRectangle(nativePointer, bounds.getX(), bounds.getY(),\n+                   bounds.getWidth(), bounds.getHeight());\n+    cairoClip(nativePointer);\n \n     drawPixels(nativePointer, pixels, width, height, width, i2u, alpha,\n                getInterpolation());\n+    \n+    cairoRestore(nativePointer);\n \n     // Cairo seems to lose the current color which must be restored.\n     updateColor();\n@@ -1578,6 +1614,66 @@ public boolean drawImage(Image img, int dx1, int dy1, int dx2, int dy2,\n   {\n     return drawImage(img, dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2, null, observer);\n   }\n+  \n+  /**\n+   * Optimized method for drawing a CairoSurface onto this graphics context.\n+   * \n+   * @param surface The surface to draw.\n+   * @param tx The transformation matrix (cannot be null).\n+   * @param alpha The alpha value to paint with ( 0 <= alpha <= 1).\n+   * @param interpolation The interpolation type.\n+   */\n+  protected void drawCairoSurface(CairoSurface surface, AffineTransform tx,\n+                                  double alpha, int interpolation)\n+  {\n+    // Find offset required if this surface is a sub-raster, and append offset\n+    // to transformation.\n+    if (surface.getSampleModelTranslateX() != 0\n+        || surface.getSampleModelTranslateY() != 0)\n+      {\n+        Point2D origin = new Point2D.Double(0, 0);\n+        Point2D offset = new Point2D.Double(surface.getSampleModelTranslateX(),\n+                                            surface.getSampleModelTranslateY());\n+        \n+        tx.transform(origin, origin);\n+        tx.transform(offset, offset);\n+        \n+        tx.translate(offset.getX() - origin.getX(),\n+                     offset.getY() - origin.getY());\n+      }\n+    \n+    // Find dimensions of this surface relative to the root parent surface\n+    Rectangle bounds = new Rectangle(-surface.getSampleModelTranslateX(),\n+                                     -surface.getSampleModelTranslateY(),\n+                                     surface.width, surface.height);\n+    \n+    // Clip to the translated image\n+    //   We use direct cairo methods to avoid the overhead of maintaining a\n+    //   java copy of the clip, since we will be reverting it immediately\n+    //   after drawing\n+    Shape newBounds = tx.createTransformedShape(bounds);\n+    cairoSave(nativePointer);\n+    walkPath(newBounds.getPathIterator(null), false);\n+    cairoClip(nativePointer);\n+    \n+    // Draw the surface\n+    try\n+    {\n+      double[] i2u = new double[6];\n+      tx.createInverse().getMatrix(i2u);\n+      surface.nativeDrawSurface(surface.surfacePointer, nativePointer, i2u,\n+                                alpha, interpolation);\n+    }\n+    catch (NoninvertibleTransformException ex)\n+    {\n+      // This should never happen(?), so we don't need to do anything here.\n+      ;\n+    }\n+    \n+    // Restore clip\n+    cairoRestore(nativePointer);\n+  }\n+\n \n   ///////////////////////// TEXT METHODS ////////////////////////////////////\n \n@@ -1592,7 +1688,15 @@ public void drawString(String str, float x, float y)\n         tl = new TextLayout( str, getFont(), getFontRenderContext() );\n         fontPeer.textLayoutCache.put(str, tl);\n       }\n+    \n+    // Set antialias to text_antialiasing, and set the ignoreAA flag so that\n+    // the setting doesn't get overridden in a draw() or fill() call.\n+    setAntialias(!hints.get(RenderingHints.KEY_TEXT_ANTIALIASING)\n+                       .equals(RenderingHints.VALUE_TEXT_ANTIALIAS_OFF));\n+    ignoreAA = true;\n+    \n     tl.draw(this, x, y);\n+    ignoreAA = false;\n   }\n \n   public void drawString(String str, int x, int y)\n@@ -1617,26 +1721,34 @@ public void drawGlyphVector(GlyphVector gv, float x, float y)\n     \n     if (comp instanceof AlphaComposite)\n       alpha = ((AlphaComposite) comp).getAlpha();\n+    \n+    setAntialias(!hints.get(RenderingHints.KEY_TEXT_ANTIALIASING)\n+                       .equals(RenderingHints.VALUE_TEXT_ANTIALIAS_OFF));\n+    ignoreAA = true;\n+    \n     if (gv instanceof FreetypeGlyphVector && alpha == 1.0)\n       {\n         int n = gv.getNumGlyphs ();\n         int[] codes = gv.getGlyphCodes (0, n, null);\n+        long[] fontset = ((FreetypeGlyphVector)gv).getGlyphFonts (0, n, null);\n         float[] positions = gv.getGlyphPositions (0, n, null);\n \n         setFont (gv.getFont ());\n         GdkFontPeer fontPeer = (GdkFontPeer) font.getPeer();\n-\tsynchronized (fontPeer) \n-\t  { \n-\t    cairoDrawGlyphVector(nativePointer, fontPeer,\n-\t\t\t\t x, y, n, codes, positions);\n-\t  }\n+        synchronized (fontPeer) \n+          { \n+            cairoDrawGlyphVector(nativePointer, fontPeer,\n+                                 x, y, n, codes, positions, fontset);\n+          }\n       }\n     else\n       {\n         translate(x, y);\n         fill(gv.getOutline());\n         translate(-x, -y);\n       }\n+    \n+    ignoreAA = false;\n   }\n \n   public void drawString(AttributedCharacterIterator ci, float x, float y)\n@@ -1702,9 +1814,9 @@ public boolean hit(Rectangle rect, Shape s, boolean onStroke)\n   {\n     if( onStroke )\n       {\n-\tShape stroked = stroke.createStrokedShape( s );\n-\treturn stroked.intersects( (double)rect.x, (double)rect.y, \n-\t\t\t\t   (double)rect.width, (double)rect.height );\n+        Shape stroked = stroke.createStrokedShape( s );\n+        return stroked.intersects( (double)rect.x, (double)rect.y, \n+                                   (double)rect.width, (double)rect.height );\n       }\n     return s.intersects( (double)rect.x, (double)rect.y, \n \t\t\t (double)rect.width, (double)rect.height );\n@@ -1747,55 +1859,56 @@ private boolean drawRaster(ColorModel cm, Raster r,\n       imageToUser.getMatrix(i2u);\n     else\n       {\n-\ti2u[0] = 1;\n-\ti2u[1] = 0;\n-\ti2u[2] = 0;\n-\ti2u[3] = 1;\n-\ti2u[4] = 0;\n-\ti2u[5] = 0;\n+        i2u[0] = 1;\n+        i2u[1] = 0;\n+        i2u[2] = 0;\n+        i2u[3] = 1;\n+        i2u[4] = 0;\n+        i2u[5] = 0;\n       }\n \n     int[] pixels = findSimpleIntegerArray(cm, r);\n \n     if (pixels == null)\n       {\n-\t// FIXME: I don't think this code will work correctly with a non-RGB\n-\t// MultiPixelPackedSampleModel. Although this entire method should \n-\t// probably be rewritten to better utilize Cairo's different supported\n-\t// data formats.\n-\tif (sm instanceof MultiPixelPackedSampleModel)\n-\t  {\n-\t    pixels = r.getPixels(0, 0, r.getWidth(), r.getHeight(), pixels);\n-\t    for (int i = 0; i < pixels.length; i++)\n-\t      pixels[i] = cm.getRGB(pixels[i]);\n-\t  }\n-\telse\n-\t  {\n-\t    pixels = new int[r.getWidth() * r.getHeight()];\n-\t    for (int i = 0; i < pixels.length; i++)\n-\t      pixels[i] = cm.getRGB(db.getElem(i));\n-\t  }\n+        // FIXME: I don't think this code will work correctly with a non-RGB\n+        // MultiPixelPackedSampleModel. Although this entire method should \n+        // probably be rewritten to better utilize Cairo's different supported\n+        // data formats.\n+        if (sm instanceof MultiPixelPackedSampleModel)\n+          {\n+            pixels = r.getPixels(0, 0, r.getWidth(), r.getHeight(), pixels);\n+            for (int i = 0; i < pixels.length; i++)\n+              pixels[i] = cm.getRGB(pixels[i]);\n+          }\n+        else\n+          {\n+            pixels = new int[r.getWidth() * r.getHeight()];\n+            for (int i = 0; i < pixels.length; i++)\n+              pixels[i] = cm.getRGB(db.getElem(i));\n+          }\n       }\n \n     // Change all transparent pixels in the image to the specified bgcolor,\n     // or (if there's no alpha) fill in an alpha channel so that it paints\n     // correctly.\n     if (cm.hasAlpha())\n       {\n-\tif (bgcolor != null && cm.hasAlpha())\n-\t  for (int i = 0; i < pixels.length; i++)\n-\t    {\n-\t      if (cm.getAlpha(pixels[i]) == 0)\n-\t\tpixels[i] = bgcolor.getRGB();\n-\t    }\n+        if (bgcolor != null && cm.hasAlpha())\n+          for (int i = 0; i < pixels.length; i++)\n+            {\n+              if (cm.getAlpha(pixels[i]) == 0)\n+                pixels[i] = bgcolor.getRGB();\n+            }\n       }\n     else\n       for (int i = 0; i < pixels.length; i++)\n-\tpixels[i] |= 0xFF000000;\n+        pixels[i] |= 0xFF000000;\n \n     double alpha = 1.0;\n     if (comp instanceof AlphaComposite)\n       alpha = ((AlphaComposite) comp).getAlpha();\n+    \n     drawPixels(nativePointer, pixels, r.getWidth(), r.getHeight(),\n                r.getWidth(), i2u, alpha, getInterpolation());\n \n@@ -1815,7 +1928,7 @@ private double shiftX(double coord, boolean doShift)\n         double shift = 0.5;\n         if (!transform.isIdentity())\n           shift /= transform.getScaleX();\n-        return Math.round(coord) + shift;\n+        return (coord + shift);\n       }\n     else\n       return coord;\n@@ -1831,7 +1944,7 @@ private double shiftY(double coord, boolean doShift)\n         double shift = 0.5;\n         if (!transform.isIdentity())\n           shift /= transform.getScaleY();\n-        return Math.round(coord) + shift;\n+        return (coord + shift);\n       }\n     else\n       return coord;\n@@ -1849,53 +1962,54 @@ private void walkPath(PathIterator p, boolean doShift)\n     cairoSetFillRule(nativePointer, p.getWindingRule());\n     for (; ! p.isDone(); p.next())\n       {\n-\tint seg = p.currentSegment(coords);\n-\tswitch (seg)\n-\t  {\n-\t  case PathIterator.SEG_MOVETO:\n-\t    x = shiftX(coords[0], doShift);\n-\t    y = shiftY(coords[1], doShift);\n-\t    cairoMoveTo(nativePointer, x, y);\n-\t    break;\n-\t  case PathIterator.SEG_LINETO:\n-\t    x = shiftX(coords[0], doShift);\n-\t    y = shiftY(coords[1], doShift);\n-\t    cairoLineTo(nativePointer, x, y);\n-\t    break;\n-\t  case PathIterator.SEG_QUADTO:\n-\t    // splitting a quadratic bezier into a cubic:\n-\t    // see: http://pfaedit.sourceforge.net/bezier.html\n-\t    double x1 = x + (2.0 / 3.0) * (shiftX(coords[0], doShift) - x);\n-\t    double y1 = y + (2.0 / 3.0) * (shiftY(coords[1], doShift) - y);\n-\n-\t    double x2 = x1 + (1.0 / 3.0) * (shiftX(coords[2], doShift) - x);\n-\t    double y2 = y1 + (1.0 / 3.0) * (shiftY(coords[3], doShift) - y);\n-\n-\t    x = shiftX(coords[2], doShift);\n-\t    y = shiftY(coords[3], doShift);\n-\t    cairoCurveTo(nativePointer, x1, y1, x2, y2, x, y);\n-\t    break;\n-\t  case PathIterator.SEG_CUBICTO:\n-\t    x = shiftX(coords[4], doShift);\n-\t    y = shiftY(coords[5], doShift);\n-\t    cairoCurveTo(nativePointer, shiftX(coords[0], doShift),\n-\t                 shiftY(coords[1], doShift),\n-\t                 shiftX(coords[2], doShift),\n-\t                 shiftY(coords[3], doShift), x, y);\n-\t    break;\n-\t  case PathIterator.SEG_CLOSE:\n-\t    cairoClosePath(nativePointer);\n-\t    break;\n-\t  }\n+        int seg = p.currentSegment(coords);\n+        switch (seg)\n+          {\n+          case PathIterator.SEG_MOVETO:\n+            x = shiftX(coords[0], doShift);\n+            y = shiftY(coords[1], doShift);\n+            cairoMoveTo(nativePointer, x, y);\n+            break;\n+          case PathIterator.SEG_LINETO:\n+            x = shiftX(coords[0], doShift);\n+            y = shiftY(coords[1], doShift);\n+            cairoLineTo(nativePointer, x, y);\n+            break;\n+          case PathIterator.SEG_QUADTO:\n+            // splitting a quadratic bezier into a cubic:\n+            // see: http://pfaedit.sourceforge.net/bezier.html\n+            double x1 = x + (2.0 / 3.0) * (shiftX(coords[0], doShift) - x);\n+            double y1 = y + (2.0 / 3.0) * (shiftY(coords[1], doShift) - y);\n+\n+            double x2 = x1 + (1.0 / 3.0) * (shiftX(coords[2], doShift) - x);\n+            double y2 = y1 + (1.0 / 3.0) * (shiftY(coords[3], doShift) - y);\n+\n+            x = shiftX(coords[2], doShift);\n+            y = shiftY(coords[3], doShift);\n+            cairoCurveTo(nativePointer, x1, y1, x2, y2, x, y);\n+            break;\n+          case PathIterator.SEG_CUBICTO:\n+            x = shiftX(coords[4], doShift);\n+            y = shiftY(coords[5], doShift);\n+            cairoCurveTo(nativePointer, shiftX(coords[0], doShift),\n+                         shiftY(coords[1], doShift),\n+                         shiftX(coords[2], doShift),\n+                         shiftY(coords[3], doShift), x, y);\n+            break;\n+          case PathIterator.SEG_CLOSE:\n+            cairoClosePath(nativePointer);\n+            break;\n+          }\n       }\n   }\n \n   /**\n    * Used by setRenderingHints()\n    */\n-  private Map getDefaultHints()\n+  private Map<RenderingHints.Key, Object> getDefaultHints()\n   {\n-    HashMap defaultHints = new HashMap();\n+    HashMap<RenderingHints.Key, Object> defaultHints =\n+      new HashMap<RenderingHints.Key, Object>();\n \n     defaultHints.put(RenderingHints.KEY_TEXT_ANTIALIASING,\n                      RenderingHints.VALUE_TEXT_ANTIALIAS_DEFAULT);\n@@ -1972,11 +2086,27 @@ private void updateClip(AffineTransform t)\n     if (clip == null)\n       return;\n \n-    if (! (clip instanceof GeneralPath))\n-      clip = new GeneralPath(clip);\n-\n-    GeneralPath p = (GeneralPath) clip;\n-    p.transform(t);\n+    // If the clip is a rectangle, and the transformation preserves the shape\n+    // (translate/stretch only), then keep the clip as a rectangle\n+    double[] matrix = new double[4];\n+    t.getMatrix(matrix);\n+    if (clip instanceof Rectangle2D && matrix[1] == 0 && matrix[2] == 0)\n+      {\n+        Rectangle2D rect = (Rectangle2D)clip;\n+        double[] origin = new double[] {rect.getX(), rect.getY()};\n+        double[] dimensions = new double[] {rect.getWidth(), rect.getHeight()};\n+        t.transform(origin, 0, origin, 0, 1);\n+        t.deltaTransform(dimensions, 0, dimensions, 0, 1);\n+        rect.setRect(origin[0], origin[1], dimensions[0], dimensions[1]);\n+      }\n+    else\n+      {\n+        if (! (clip instanceof GeneralPath))\n+          clip = new GeneralPath(clip);\n+    \n+        GeneralPath p = (GeneralPath) clip;\n+        p.transform(t);\n+      }\n   }\n \n   private static Rectangle computeIntersection(int x, int y, int w, int h,\n@@ -1999,4 +2129,39 @@ private static Rectangle computeIntersection(int x, int y, int w, int h,\n \n     return rect;\n   }\n+  \n+  static Rectangle2D getTransformedBounds(Rectangle2D bounds, AffineTransform tx)\n+  {\n+    double x1 = bounds.getX();\n+    double x2 = bounds.getX() + bounds.getWidth();\n+    double x3 = x1;\n+    double x4 = x2;\n+    double y1 = bounds.getY();\n+    double y2 = y1;\n+    double y3 = bounds.getY() + bounds.getHeight();\n+    double y4 = y3;\n+    \n+    double[] points = new double[] {x1, y1, x2, y2, x3, y3, x4, y4};\n+    tx.transform(points, 0, points, 0, 4);\n+    \n+    double minX = points[0];\n+    double maxX = minX;\n+    double minY = points[1];\n+    double maxY = minY;\n+    for (int i = 0; i < 8; i++)\n+      {\n+        if (points[i] < minX)\n+          minX = points[i];\n+        if (points[i] > maxX)\n+          maxX = points[i];\n+        i++;\n+        \n+        if (points[i] < minY)\n+          minY = points[i];\n+        if (points[i] > maxY)\n+          maxY = points[i];\n+      }\n+    \n+    return new Rectangle2D.Double(minX, minY, (maxX - minX), (maxY - minY));\n+  }\n }"}, {"sha": "b45a79fd6e75463c16dd96a36f60a15c7ecdce08", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/CairoSurface.java", "status": "modified", "additions": 190, "deletions": 109, "changes": 299, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoSurface.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoSurface.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoSurface.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,5 +1,5 @@\n /* CairoSurface.java\n-   Copyright (C) 2006 Free Software Foundation, Inc.\n+   Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n \n This file is part of GNU Classpath.\n \n@@ -42,15 +42,22 @@\n \n import java.awt.Graphics2D;\n import java.awt.Point;\n+import java.awt.Rectangle;\n+import java.awt.Shape;\n import java.awt.color.ColorSpace;\n+import java.awt.geom.AffineTransform;\n import java.awt.image.BufferedImage;\n import java.awt.image.ColorModel;\n import java.awt.image.DataBuffer;\n+import java.awt.image.DataBufferInt;\n import java.awt.image.DirectColorModel;\n+import java.awt.image.Raster;\n+import java.awt.image.RasterFormatException;\n import java.awt.image.SampleModel;\n import java.awt.image.SinglePixelPackedSampleModel;\n import java.awt.image.WritableRaster;\n import java.nio.ByteOrder;\n+import java.util.Arrays;\n import java.util.Hashtable;\n \n /**\n@@ -68,9 +75,9 @@ public class CairoSurface extends WritableRaster\n   long surfacePointer;\n \n   /**\n-   * The native pointer to the image's data buffer\n+   * Whether the data buffer is shared between java and cairo.\n    */\n-  long bufferPointer;\n+  boolean sharedBuffer;\n \n   // FIXME: use only the cairoCM_pre colormodel\n   // since that's what Cairo really uses (is there a way to do this cheaply?\n@@ -98,22 +105,12 @@ public class CairoSurface extends WritableRaster\n    * @param width, height - the image size\n    * @param stride - the buffer row stride. (in ints)\n    */\n-  private native void create(int width, int height, int stride);\n+  private native void create(int width, int height, int stride, int[] buf);\n \n   /**\n    * Destroys the cairo surface and frees the buffer.\n    */\n-  private native void destroy(long surfacePointer, long bufferPointer);\n-\n-  /**\n-   * Gets buffer elements\n-   */\n-  private native int nativeGetElem(long bufferPointer, int i);\n-  \n-  /**\n-   * Sets buffer elements.\n-   */\n-  private native void nativeSetElem(long bufferPointer, int i, int val);\n+  private native void destroy(long surfacePointer, int[] buf);\n \n   /**\n    * Draws this image to a given CairoGraphics context, \n@@ -123,33 +120,30 @@ public native void nativeDrawSurface(long surfacePointer, long contextPointer,\n                                        double[] i2u, double alpha,\n                                        int interpolation);\n \n-  public void drawSurface(long contextPointer, double[] i2u, double alpha,\n-                          int interpolation)\n-  {\n-    nativeDrawSurface(surfacePointer, contextPointer, i2u, alpha, interpolation);\n-  }\n-\n   /**\n-   * getPixels -return the pixels as a java array.\n+   * Synchronizes the image's data buffers, copying any changes made in the\n+   * Java array into the native array.\n+   * \n+   * This method should only be called if (sharedBuffers == false).\n    */\n-  native int[] nativeGetPixels(long bufferPointer, int size);\n-\n-  public int[] getPixels(int size)\n-  {\n-    return nativeGetPixels(bufferPointer, size);\n-  }\n-\n+  native void syncNativeToJava(long surfacePointer, int[] buffer);\n+  \n   /**\n-   * getPixels -return the pixels as a java array.\n+   * Synchronizes the image's data buffers, copying any changes made in the\n+   * native array into the Java array.\n+   * \n+   * This method should only be called if (sharedBuffers == false).\n    */\n-  native void nativeSetPixels(long bufferPointer, int[] pixels);\n-\n-  public void setPixels(int[] pixels)\n-  {\n-    nativeSetPixels(bufferPointer, pixels);\n-  }\n-\n-  native long getFlippedBuffer(long bufferPointer, int size);\n+  native void syncJavaToNative(long surfacePointer, int[] buffer);\n+  \n+  /**\n+   * Return the buffer, with the sample values of each pixel reversed\n+   * (ie, in ABGR instead of ARGB). \n+   * \n+   * @return A pointer to a flipped buffer.  The memory is allocated in native\n+   *        code, and must be explicitly freed when it is no longer needed.\n+   */\n+  native long getFlippedBuffer(long surfacePointer);\n \n   /**\n    * Create a cairo_surface_t with specified width and height.\n@@ -158,20 +152,38 @@ public void setPixels(int[] pixels)\n    */\n   public CairoSurface(int width, int height)\n   {\n-    super(createCairoSampleModel(width, height),\n-\t      null, new Point(0, 0));\n+    this(0, 0, width, height);\n+  }\n+  \n+  public CairoSurface(int x, int y, int width, int height)\n+  {\n+    super(createCairoSampleModel(width, height), null, new Point(x, y));\n \n     if(width <= 0 || height <= 0)\n       throw new IllegalArgumentException(\"Image must be at least 1x1 pixels.\");\n     \n     this.width = width;\n     this.height = height;\n-    create(width, height, width);\n+    dataBuffer = new DataBufferInt(width * height);\n+    create(width, height, width, getData());\n \n-    if(surfacePointer == 0 || bufferPointer == 0)\n+    if(surfacePointer == 0)\n       throw new Error(\"Could not allocate bitmap.\");\n-\n-    dataBuffer = new CairoDataBuffer();\n+  }\n+  \n+  /**\n+   * Create a Cairo Surface that is a subimage of another Cairo Surface\n+   */\n+  public CairoSurface(SampleModel sm, CairoSurface parent, Rectangle bounds,\n+                      Point origin)\n+  {\n+    super(sm, parent.dataBuffer, bounds, origin, parent);\n+    \n+    this.width = super.width;\n+    this.height = super.height;\n+    this.surfacePointer = parent.surfacePointer;\n+    this.sharedBuffer = parent.sharedBuffer;\n+    this.dataBuffer = parent.dataBuffer;\n   }\n \n   /**\n@@ -188,48 +200,48 @@ public CairoSurface(int width, int height)\n     // Swap ordering from GdkPixbuf to Cairo\n     if (ByteOrder.nativeOrder() == ByteOrder.BIG_ENDIAN)\n       {\n-\tfor (int i = 0; i < data.length; i++ )\n-\t  {\n-\t    // On a big endian system we get a RRGGBBAA data array.\n-\t    int alpha = data[i] & 0xFF;\n-\t    if( alpha == 0 ) // I do not know why we need this, but it works.\n-\t      data[i] = 0;\n-\t    else\n-\t      {\n-\t\t// Cairo needs a ARGB32 native array.\n-\t\tdata[i] = (data[i] >>> 8) | (alpha << 24);\n-\t      }\n-\t  }\n+        for (int i = 0; i < data.length; i++ )\n+          {\n+            // On a big endian system we get a RRGGBBAA data array.\n+            int alpha = data[i] & 0xFF;\n+            if( alpha == 0 ) // I do not know why we need this, but it works.\n+              data[i] = 0;\n+            else\n+              {\n+                // Cairo needs a ARGB32 native array.\n+                data[i] = (data[i] >>> 8) | (alpha << 24);\n+              }\n+          }\n       }\n     else\n       {\n-\tfor (int i = 0; i < data.length; i++ )\n-\t  {\n-\t    // On a little endian system we get a AABBGGRR data array.\n-\t    int alpha = data[i] & 0xFF000000;\n-\t    if( alpha == 0 ) // I do not know why we need this, but it works.\n-\t      data[i] = 0;\n-\t    else\n-\t      {\n-\t\tint b = (data[i] & 0xFF0000) >> 16;\n-\t\tint g = (data[i] & 0xFF00);\n-\t\tint r = (data[i] & 0xFF) << 16;\n-\t\t// Cairo needs a ARGB32 native array.\n-\t\tdata[i] = alpha | r | g | b;\n-\t      }\n-\t  }\n+        for (int i = 0; i < data.length; i++ )\n+          {\n+            // On a little endian system we get a AABBGGRR data array.\n+            int alpha = data[i] & 0xFF000000;\n+            if( alpha == 0 ) // I do not know why we need this, but it works.\n+              data[i] = 0;\n+            else\n+              {\n+                int b = (data[i] & 0xFF0000) >> 16;\n+                int g = (data[i] & 0xFF00);\n+                int r = (data[i] & 0xFF) << 16;\n+                // Cairo needs a ARGB32 native array.\n+                data[i] = alpha | r | g | b;\n+              }\n+          }\n       }\n \n-    setPixels( data );\n+    System.arraycopy(data, 0, getData(), 0, data.length);\n   }\n \n   /**\n    * Dispose of the native data.\n    */\n   public void dispose()\n   {\n-    if(surfacePointer != 0)\n-      destroy(surfacePointer, bufferPointer);\n+    if(surfacePointer != 0 && parent == null)\n+      destroy(surfacePointer, getData());\n   }\n \n   /**\n@@ -245,8 +257,17 @@ protected void finalize()\n    */\n   public GtkImage getGtkImage()\n   {\n-    return new GtkImage( width, height,\n-                         getFlippedBuffer(bufferPointer, width * height ));\n+    return new GtkImage(width, height, getFlippedBuffer(surfacePointer));\n+  }\n+  \n+  /**\n+   * Convenience method to quickly grab the data array backing this Raster.\n+   * \n+   * @return The array behind the databuffer.\n+   */\n+  public int[] getData()\n+  {\n+    return ((DataBufferInt)dataBuffer).getData();\n   }\n \n   /**\n@@ -276,34 +297,6 @@ public static BufferedImage getBufferedImage(CairoSurface surface)\n                              new Hashtable());\n   }\n \n-  private class CairoDataBuffer extends DataBuffer\n-  {\n-    public CairoDataBuffer()\n-    {\n-      super(DataBuffer.TYPE_INT, width * height);\n-    }\n-\n-    /**\n-     * DataBuffer.getElem implementation\n-     */\n-    public int getElem(int bank, int i)\n-    {\n-      if(bank != 0 || i < 0 || i >= width * height)\n-\tthrow new IndexOutOfBoundsException(i+\" size: \"+width * height);\n-      return nativeGetElem(bufferPointer, i);\n-    }\n-  \n-    /**\n-     * DataBuffer.setElem implementation\n-     */\n-    public void setElem(int bank, int i, int val)\n-    {\n-      if(bank != 0 || i < 0 || i >= width*height)\n-\tthrow new IndexOutOfBoundsException(i+\" size: \"+width * height);\n-      nativeSetElem(bufferPointer, i, val);\n-    }\n-  }\n-\n   /**\n    * Return a Graphics2D drawing to the CairoSurface.\n    */\n@@ -325,16 +318,25 @@ public long newCairoContext()\n   }\n \n   /**\n-   * Copy an area of the surface. Expects parameters must be within bounds. \n-   * Count on a segfault otherwise.\n+   * Copy a portion of this surface to another area on the surface.  The given\n+   * parameters must be within bounds - count on a segfault otherwise.\n+   * \n+   * @param x The x coordinate of the area to be copied from.\n+   * @param y The y coordinate of the area to be copied from.\n+   * @param width The width of the area to be copied.\n+   * @param height The height of the area to be copied.\n+   * @param dx The destination x coordinate.\n+   * @param dy The destination y coordinate.\n+   * @param stride The scanline stride.\n    */\n-  native void copyAreaNative2(long bufferPointer, int x, int y, int width,\n-                             int height, int dx, int dy, int stride);\n   public void copyAreaNative(int x, int y, int width,\n                              int height, int dx, int dy, int stride)\n   {\n-    copyAreaNative2(bufferPointer, x, y, width, height, dx, dy, stride);\n+    copyAreaNative2(surfacePointer, x, y, width, height, dx, dy, stride);\n   }\n+  native void copyAreaNative2(long surfacePointer,\n+                              int x, int y, int width, int height,\n+                              int dx, int dy, int stride);\n   \n   /**\n    * Creates a SampleModel that matches Cairo's native format\n@@ -345,4 +347,83 @@ protected static SampleModel createCairoSampleModel(int w, int h)\n                                             new int[]{0x00FF0000, 0x0000FF00,\n                                                       0x000000FF, 0xFF000000});    \n   }\n+  \n+  /**\n+   * Returns whether this ColorModel is compatible with Cairo's native types.\n+   * \n+   * @param cm The color model to check.\n+   * @return Whether it is compatible.\n+   */\n+  public static boolean isCompatibleColorModel(ColorModel cm)\n+  {\n+    return (cm.equals(cairoCM_pre) || cm.equals(cairoCM_opaque) ||\n+            cm.equals(cairoColorModel));\n+  }\n+  \n+  /**\n+   * Returns whether this SampleModel is compatible with Cairo's native types.\n+   * \n+   * @param sm The sample model to check.\n+   * @return Whether it is compatible.\n+   */\n+  public static boolean isCompatibleSampleModel(SampleModel sm)\n+  {\n+    return (sm instanceof SinglePixelPackedSampleModel\n+        && sm.getDataType() == DataBuffer.TYPE_INT\n+        && Arrays.equals(((SinglePixelPackedSampleModel)sm).getBitMasks(),\n+                         new int[]{0x00FF0000, 0x0000FF00,\n+                                   0x000000FF, 0xFF000000}));\n+  }\n+\n+  ///// Methods interhited from Raster and WritableRaster /////\n+  public Raster createChild(int parentX, int parentY, int width, int height,\n+                            int childMinX, int childMinY, int[] bandList)\n+  {\n+    return createWritableChild(parentX, parentY, width, height,\n+                               childMinX, childMinY, bandList);\n+  }\n+  \n+  public WritableRaster createCompatibleWritableRaster()\n+  {\n+    return new CairoSurface(width, height);\n+  }\n+  \n+  public WritableRaster createCompatibleWritableRaster (int x, int y,\n+                                                        int w, int h)\n+  {\n+    return new CairoSurface(x, y, w, h);\n+  }\n+  \n+  public Raster createTranslatedChild(int childMinX, int childMinY)\n+  {\n+    return createWritableTranslatedChild(childMinX, childMinY);\n+  }\n+  \n+  public WritableRaster createWritableChild(int parentX, int parentY,\n+                                            int w, int h, int childMinX,\n+                                            int childMinY, int[] bandList)\n+  {\n+    if (parentX < minX || parentX + w > minX + width\n+        || parentY < minY || parentY + h > minY + height)\n+      throw new RasterFormatException(\"Child raster extends beyond parent\");\n+    \n+    SampleModel sm = (bandList == null) ?\n+      sampleModel :\n+      sampleModel.createSubsetSampleModel(bandList);\n+\n+    return new CairoSurface(sm, this,\n+                            new Rectangle(childMinX, childMinY, w, h),\n+                            new Point(sampleModelTranslateX + childMinX - parentX,\n+                                      sampleModelTranslateY + childMinY - parentY));\n+  }\n+  \n+  public WritableRaster createWritableTranslatedChild(int x, int y)\n+  {\n+    int tcx = sampleModelTranslateX - minX + x;\n+    int tcy = sampleModelTranslateY - minY + y;\n+    \n+    return new CairoSurface(sampleModel, this,\n+                      new Rectangle(x, y, width, height),\n+                      new Point(tcx, tcy));\n+  }\n }"}, {"sha": "35b015f32009829542232c1d8a540db712844662", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/CairoSurfaceGraphics.java", "status": "modified", "additions": 85, "deletions": 38, "changes": 123, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoSurfaceGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoSurfaceGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FCairoSurfaceGraphics.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -40,6 +40,7 @@\n \n import java.awt.AlphaComposite;\n import java.awt.Color;\n+import java.awt.Composite;\n import java.awt.Graphics;\n import java.awt.Graphics2D;\n import java.awt.GraphicsConfiguration;\n@@ -50,7 +51,6 @@\n import java.awt.Toolkit;\n import java.awt.font.GlyphVector;\n import java.awt.geom.AffineTransform;\n-import java.awt.geom.Point2D;\n import java.awt.geom.Rectangle2D;\n import java.awt.image.BufferedImage;\n import java.awt.image.ColorModel;\n@@ -116,6 +116,18 @@ public void copyAreaImpl(int x, int y, int width, int height, int dx, int dy)\n    */\n   public void draw(Shape s)\n   {\n+    if (!surface.sharedBuffer)\n+      surface.syncJavaToNative(surface.surfacePointer, surface.getData());\n+    \n+    // Find total bounds of shape\n+    Rectangle r = findStrokedBounds(s);\n+    if (shiftDrawCalls)\n+      {\n+        r.width++;\n+        r.height++;\n+      }\n+    \n+    // Do the drawing\n     if (comp == null || comp instanceof AlphaComposite)\n       super.draw(s);\n     \n@@ -126,14 +138,21 @@ public void draw(Shape s)\n         Graphics2D g2d = (Graphics2D)buffer.getGraphics();\n         g2d.setStroke(this.getStroke());\n         g2d.setColor(this.getColor());\n+        g2d.setTransform(transform);\n         g2d.draw(s);\n         \n-        drawComposite(s.getBounds2D(), null);\n+        drawComposite(r.getBounds2D(), null);\n       }\n+    \n+    if (!surface.sharedBuffer)\n+      surface.syncNativeToJava(surface.surfacePointer, surface.getData());\n   }\n \n   public void fill(Shape s)\n   {\n+    if (!surface.sharedBuffer)\n+      surface.syncJavaToNative(surface.surfacePointer, surface.getData());\n+    \n     if (comp == null || comp instanceof AlphaComposite)\n       super.fill(s);\n     \n@@ -144,14 +163,21 @@ public void fill(Shape s)\n         Graphics2D g2d = (Graphics2D)buffer.getGraphics();\n         g2d.setPaint(this.getPaint());\n         g2d.setColor(this.getColor());\n+        g2d.setTransform(transform);\n         g2d.fill(s);\n         \n         drawComposite(s.getBounds2D(), null);\n       }\n+    \n+    if (!surface.sharedBuffer)\n+      surface.syncNativeToJava(surface.surfacePointer, surface.getData());\n   }\n \n   public void drawRenderedImage(RenderedImage image, AffineTransform xform)\n   {\n+    if (!surface.sharedBuffer)\n+      surface.syncJavaToNative(surface.surfacePointer, surface.getData());\n+    \n     if (comp == null || comp instanceof AlphaComposite)\n       super.drawRenderedImage(image, xform);\n     \n@@ -161,18 +187,25 @@ public void drawRenderedImage(RenderedImage image, AffineTransform xform)\n \n         Graphics2D g2d = (Graphics2D)buffer.getGraphics();\n         g2d.setRenderingHints(this.getRenderingHints());\n+        g2d.setTransform(transform);\n         g2d.drawRenderedImage(image, xform);\n         \n         drawComposite(buffer.getRaster().getBounds(), null);\n       }\n-\n+    \n+    if (!surface.sharedBuffer)\n+      surface.syncNativeToJava(surface.surfacePointer, surface.getData());\n   }\n \n   protected boolean drawImage(Image img, AffineTransform xform,\n                               Color bgcolor, ImageObserver obs)\n   {\n+    if (!surface.sharedBuffer)\n+      surface.syncJavaToNative(surface.surfacePointer, surface.getData());\n+\n+    boolean ret;\n     if (comp == null || comp instanceof AlphaComposite)\n-      return super.drawImage(img, xform, bgcolor, obs);\n+      ret = super.drawImage(img, xform, bgcolor, obs);\n     \n     else\n       {\n@@ -187,14 +220,10 @@ protected boolean drawImage(Image img, AffineTransform xform,\n         BufferedImage bImg = (BufferedImage) img;\n         \n         // Find translated bounds\n-        Point2D origin = new Point2D.Double(bImg.getMinX(), bImg.getMinY());\n-        Point2D pt = new Point2D.Double(bImg.getWidth() + bImg.getMinX(),\n-                                        bImg.getHeight() + bImg.getMinY());\n+        Rectangle2D bounds = new Rectangle(bImg.getMinX(), bImg.getMinY(),\n+                                           bImg.getWidth(), bImg.getHeight());\n         if (xform != null)\n-          {\n-            origin = xform.transform(origin, origin);\n-            pt = xform.transform(pt, pt);\n-          }\n+          bounds = getTransformedBounds(bounds, xform);\n         \n         // Create buffer and draw image\n         createBuffer();\n@@ -204,15 +233,20 @@ protected boolean drawImage(Image img, AffineTransform xform,\n         g2d.drawImage(img, xform, obs);\n \n         // Perform compositing\n-        return drawComposite(new Rectangle2D.Double(origin.getX(),\n-                                                    origin.getY(),\n-                                                    pt.getX(), pt.getY()),\n-                             obs);\n+        ret = drawComposite(bounds, obs);\n       }\n+    \n+    if (!surface.sharedBuffer)\n+      surface.syncNativeToJava(surface.surfacePointer, surface.getData());\n+    \n+    return ret;\n   }\n \n   public void drawGlyphVector(GlyphVector gv, float x, float y)\n   {\n+    if (!surface.sharedBuffer)\n+      surface.syncJavaToNative(surface.surfacePointer, surface.getData());\n+    \n     if (comp == null || comp instanceof AlphaComposite)\n       super.drawGlyphVector(gv, x, y);\n     \n@@ -230,51 +264,64 @@ public void drawGlyphVector(GlyphVector gv, float x, float y)\n                                         bounds.getWidth(), bounds.getHeight());\n         drawComposite(bounds, null);\n       }\n+    \n+    if (!surface.sharedBuffer)\n+      surface.syncNativeToJava(surface.surfacePointer, surface.getData());\n   }\n   \n   private boolean drawComposite(Rectangle2D bounds, ImageObserver observer)\n   {\n-    // Clip source to visible areas that need updating\n-    Rectangle2D clip = this.getClipBounds();\n-    Rectangle2D.intersect(bounds, clip, bounds);\n-    clip = new Rectangle(buffer.getMinX(), buffer.getMinY(),\n-                         buffer.getWidth(), buffer.getHeight());\n-    Rectangle2D.intersect(bounds, clip, bounds);\n+    // Find bounds in device space\n+    bounds = getTransformedBounds(bounds, transform);\n+\n+    // Clip bounds by the stored clip, and by the internal buffer\n+    Rectangle2D devClip = this.getClipInDevSpace();\n+    Rectangle2D.intersect(bounds, devClip, bounds);\n+    devClip = new Rectangle(buffer.getMinX(), buffer.getMinY(),\n+                            buffer.getWidth(), buffer.getHeight());\n+    Rectangle2D.intersect(bounds, devClip, bounds);\n+    \n+    // Round bounds as needed, but be careful in our rounding\n+    // (otherwise it may leave unpainted stripes)\n+    double x = bounds.getX();\n+    double y = bounds.getY();\n+    double maxX = x + bounds.getWidth();\n+    double maxY = y + bounds.getHeight();\n+    x = Math.round(x);\n+    y = Math.round(y);\n+    bounds.setRect(x, y, Math.round(maxX - x), Math.round(maxY - y));\n     \n+    // Find subimage of internal buffer for updating\n     BufferedImage buffer2 = buffer;\n     if (!bounds.equals(buffer2.getRaster().getBounds()))\n       buffer2 = buffer2.getSubimage((int)bounds.getX(), (int)bounds.getY(),\n                                     (int)bounds.getWidth(),\n                                     (int)bounds.getHeight());\n-    \n-    // Get destination clip to bounds\n-    double[] points = new double[] {bounds.getX(), bounds.getY(),\n-                                    bounds.getMaxX(), bounds.getMaxY()};\n-    transform.transform(points, 0, points, 0, 2);\n-    \n-    Rectangle2D deviceBounds = new Rectangle2D.Double(points[0], points[1],\n-                                                       points[2] - points[0],\n-                                                       points[3] - points[1]);\n-    \n-    Rectangle2D.intersect(deviceBounds, this.getClipInDevSpace(), deviceBounds);\n-    \n+\n+    // Find subimage of main image for updating\n     BufferedImage current = CairoSurface.getBufferedImage(surface);\n-    current = current.getSubimage((int)deviceBounds.getX(),\n-                                  (int)deviceBounds.getY(),\n-                                  (int)deviceBounds.getWidth(),\n-                                  (int)deviceBounds.getHeight());\n+    current = current.getSubimage((int)bounds.getX(), (int)bounds.getY(),\n+                                  (int)bounds.getWidth(),\n+                                  (int)bounds.getHeight());\n \n     // Perform actual composite operation\n     compCtx.compose(buffer2.getRaster(), current.getRaster(),\n                     buffer2.getRaster());\n     \n+    // Set cairo's composite to direct SRC, since we've already done our own\n+    // compositing   \n+    Composite oldcomp = comp;\n+    setComposite(AlphaComposite.Src);\n+    \n     // This MUST call directly into the \"action\" method in CairoGraphics2D,\n     // not one of the wrappers, to ensure that the composite isn't processed\n     // more than once!\n     boolean rv = super.drawImage(buffer2,\n                                  AffineTransform.getTranslateInstance(bounds.getX(),\n                                                                       bounds.getY()),\n-                                 new Color(0,0,0,0), null);\n+                                 null, null);\n+    setComposite(oldcomp);\n+    updateColor();\n     return rv;\n   }\n   "}, {"sha": "e54320697d87774f13ac24dfa7aeb6ba353eabdb", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/ComponentGraphics.java", "status": "modified", "additions": 69, "deletions": 39, "changes": 108, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FComponentGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FComponentGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FComponentGraphics.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -52,7 +52,6 @@\n import java.awt.Toolkit;\n import java.awt.font.GlyphVector;\n import java.awt.geom.AffineTransform;\n-import java.awt.geom.Line2D;\n import java.awt.geom.Point2D;\n import java.awt.geom.Rectangle2D;\n import java.awt.image.BufferedImage;\n@@ -78,7 +77,7 @@ public class ComponentGraphics extends CairoGraphics2D\n   protected long cairo_t;\n   private BufferedImage buffer, componentBuffer;\n \n-  private static ThreadLocal hasLock = new ThreadLocal();\n+  private static ThreadLocal<Integer> hasLock = new ThreadLocal<Integer>();\n   private static Integer ONE = Integer.valueOf(1);\n \n   ComponentGraphics()\n@@ -122,11 +121,11 @@ private ComponentGraphics(ComponentGraphics cg)\n    */\n   private void lock()\n   {\n-    Integer i = (Integer) hasLock.get();\n+    Integer i = hasLock.get();\n     if (i == null)\n       {\n-\tstart_gdk_drawing();\n-\thasLock.set(ONE);\n+        start_gdk_drawing();\n+        hasLock.set(ONE);\n       }\n     else\n       hasLock.set(Integer.valueOf(i.intValue() + 1));\n@@ -137,14 +136,16 @@ private void lock()\n    */\n   private void unlock()\n   {\n-    Integer i = (Integer) hasLock.get();\n+    Integer i = hasLock.get();\n     if (i == null)\n       throw new IllegalStateException();\n     if (i == ONE)\n       {\n-\thasLock.set(null);\n-\tend_gdk_drawing();\n+        hasLock.set(null);\n+        end_gdk_drawing();\n       }\n+    else if (i.intValue() == 2)\n+      hasLock.set(ONE);\n     else\n       hasLock.set(Integer.valueOf(i.intValue() - 1));\n   }\n@@ -176,11 +177,11 @@ private void unlock()\n   private static native Pointer nativeGrab(GtkComponentPeer component);\n \n   private native void copyAreaNative(GtkComponentPeer component, int x, int y, \n-\t\t\t\t     int width, int height, int dx, int dy);\n+                                     int width, int height, int dx, int dy);\n \n   private native void drawVolatile(GtkComponentPeer component,\n-\t\t\t\t   long vimg, int x, int y, \n-\t\t\t\t   int width, int height, int cx, int cy,\n+                                   long vimg, int x, int y, \n+                                   int width, int height, int cx, int cy,\n                                    int cw, int ch);\n \n   /**\n@@ -232,16 +233,16 @@ public void draw(Shape s)\n   {\n     if (comp == null || comp instanceof AlphaComposite)\n       super.draw(s);\n-        \n+    \n     else\n       {\n         createBuffer();\n-            \n+        \n         Graphics2D g2d = (Graphics2D)buffer.getGraphics();\n         g2d.setStroke(this.getStroke());\n         g2d.setColor(this.getColor());\n         g2d.draw(s);\n-            \n+        \n         drawComposite(s.getBounds2D(), null);\n       }\n   }\n@@ -250,16 +251,16 @@ public void fill(Shape s)\n   {\n     if (comp == null || comp instanceof AlphaComposite)\n       super.fill(s);\n-        \n+    \n     else\n       {\n         createBuffer();\n-            \n+        \n         Graphics2D g2d = (Graphics2D)buffer.getGraphics();\n         g2d.setPaint(this.getPaint());\n         g2d.setColor(this.getColor());\n         g2d.fill(s);\n-            \n+        \n         drawComposite(s.getBounds2D(), null);\n       }\n   }\n@@ -268,15 +269,15 @@ public void drawRenderedImage(RenderedImage image, AffineTransform xform)\n   {\n     if (comp == null || comp instanceof AlphaComposite)\n       super.drawRenderedImage(image, xform);\n-        \n+    \n     else\n       {\n         createBuffer();\n \n         Graphics2D g2d = (Graphics2D)buffer.getGraphics();\n         g2d.setRenderingHints(this.getRenderingHints());\n         g2d.drawRenderedImage(image, xform);\n-            \n+        \n         drawComposite(buffer.getRaster().getBounds(), null);\n       }\n   }\n@@ -287,7 +288,7 @@ protected boolean drawImage(Image img, AffineTransform xform,\n     boolean rv;\n     if (comp == null || comp instanceof AlphaComposite)\n       rv = super.drawImage(img, xform, bgcolor, obs);\n-        \n+    \n     else\n       {\n         // Get buffered image of source\n@@ -299,7 +300,7 @@ protected boolean drawImage(Image img, AffineTransform xform,\n             img = Toolkit.getDefaultToolkit().createImage(source);\n           }\n         BufferedImage bImg = (BufferedImage) img;\n-            \n+        \n         // Find translated bounds\n         Point2D origin = new Point2D.Double(bImg.getMinX(), bImg.getMinY());\n         Point2D pt = new Point2D.Double(bImg.getWidth() + bImg.getMinX(),\n@@ -309,18 +310,18 @@ protected boolean drawImage(Image img, AffineTransform xform,\n             origin = xform.transform(origin, origin);\n             pt = xform.transform(pt, pt);\n           }\n-            \n+        \n         // Create buffer and draw image\n         createBuffer();\n-            \n+        \n         Graphics2D g2d = (Graphics2D)buffer.getGraphics();\n         g2d.setRenderingHints(this.getRenderingHints());\n         g2d.drawImage(img, xform, obs);\n \n         // Perform compositing\n         rv = drawComposite(new Rectangle2D.Double(origin.getX(),\n-                                                  origin.getY(),\n-                                                  pt.getX(), pt.getY()),\n+                                                    origin.getY(),\n+                                                    pt.getX(), pt.getY()),\n                            obs);\n       }\n     return rv;\n@@ -330,7 +331,7 @@ public void drawGlyphVector(GlyphVector gv, float x, float y)\n   {\n     if (comp == null || comp instanceof AlphaComposite)\n       super.drawGlyphVector(gv, x, y);\n-        \n+    \n     else\n       {\n         createBuffer();\n@@ -339,7 +340,7 @@ public void drawGlyphVector(GlyphVector gv, float x, float y)\n         g2d.setPaint(this.getPaint());\n         g2d.setStroke(this.getStroke());\n         g2d.drawGlyphVector(gv, x, y);\n-            \n+        \n         Rectangle2D bounds = gv.getLogicalBounds();\n         bounds = new Rectangle2D.Double(x + bounds.getX(), y + bounds.getY(),\n                                         bounds.getWidth(), bounds.getHeight());\n@@ -373,16 +374,16 @@ public boolean drawImage(Image img, int x, int y, ImageObserver observer)\n                          (int) r.getHeight());\n             return true;\n           }\n-\telse\n-\t  return super.drawImage(vimg.getSnapshot(), x, y, observer);\n+        else\n+          return super.drawImage(vimg.getSnapshot(), x, y, observer);\n       }\n \n     BufferedImage bimg;\n     if (img instanceof BufferedImage)\n       bimg = (BufferedImage) img;\n     else\n       {\n-\tImageProducer source = img.getSource();\n+        ImageProducer source = img.getSource();\n         if (source == null)\n           return false;\n         bimg = (BufferedImage) Toolkit.getDefaultToolkit().createImage(source);\n@@ -418,9 +419,9 @@ public boolean drawImage(Image img, int x, int y, int width, int height,\n                          (int) r.getHeight());\n             return true;\n           }\n-\telse\n-\t  return super.drawImage(vimg.getSnapshot(), x, y,\n-\t\t\t\t width, height, observer);\n+        else\n+          return super.drawImage(vimg.getSnapshot(), x, y,\n+                                 width, height, observer);\n       }\n \n     BufferedImage bimg;\n@@ -429,7 +430,7 @@ public boolean drawImage(Image img, int x, int y, int width, int height,\n       bimg = (BufferedImage) img;\n     else\n       {\n-\tImageProducer source = img.getSource();\n+        ImageProducer source = img.getSource();\n         if (source == null)\n           return false;\n         bimg = (BufferedImage) Toolkit.getDefaultToolkit().createImage(source);\n@@ -458,8 +459,8 @@ private boolean drawComposite(Rectangle2D bounds, ImageObserver observer)\n     transform.transform(points, 0, points, 0, 2);\n     \n     Rectangle2D deviceBounds = new Rectangle2D.Double(points[0], points[1],\n-                                                       points[2] - points[0],\n-                                                       points[3] - points[1]);\n+                                                      points[2] - points[0],\n+                                                      points[3] - points[1]);\n     \n     Rectangle2D.intersect(deviceBounds, this.getClipInDevSpace(), deviceBounds);\n     \n@@ -519,8 +520,8 @@ private void createBuffer()\n                                           new Point(0,0));\n         \n         componentBuffer = new BufferedImage(GtkVolatileImage.gdkColorModel, rst,\n-                                   GtkVolatileImage.gdkColorModel.isAlphaPremultiplied(),\n-                                   new Hashtable());\n+                                            GtkVolatileImage.gdkColorModel.isAlphaPremultiplied(),\n+                                            new Hashtable());\n       }\n   }\n   \n@@ -723,7 +724,7 @@ protected void cairoSetDash(long pointer, double[] dashes, int ndash,\n       unlock();\n     }\n   }\n-  \n+\n   @Override\n   protected void cairoRectangle(long pointer, double x, double y,\n                                 double width, double height)\n@@ -908,4 +909,33 @@ protected void cairoResetClip(long pointer)\n       unlock();\n     }\n   }\n+  \n+  @Override\n+  protected void cairoSetAntialias(long pointer, boolean aa)\n+  {\n+    try\n+    {\n+      lock();\n+      super.cairoSetAntialias(pointer, aa);\n+    }\n+    finally\n+    {\n+      unlock();\n+    }\n+  }\n+  \n+  @Override\n+  protected void drawCairoSurface(CairoSurface surface, AffineTransform tx,\n+                                  double alpha, int interpolation)\n+  {\n+    try\n+    {\n+      lock();\n+      super.drawCairoSurface(surface, tx, alpha, interpolation);\n+    }\n+    finally\n+    {\n+      unlock();\n+    }\n+  }\n }"}, {"sha": "280f3e6fbcd37a772138394eaa5009c4a7876945", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/FreetypeGlyphVector.java", "status": "modified", "additions": 106, "deletions": 51, "changes": 157, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FFreetypeGlyphVector.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -79,13 +79,31 @@ public class FreetypeGlyphVector extends GlyphVector\n    * The glyph codes\n    */\n   private int[] glyphCodes;\n+  \n+  /**\n+   * The set of fonts used in this glyph vector.\n+   */\n+  private long[] fontSet = null;\n \n   /**\n    * Glyph transforms. (de facto only the translation is used)\n    */\n   private AffineTransform[] glyphTransforms;\n \n   private GlyphMetrics[] metricsCache;\n+  \n+  private native void dispose(long[] fonts);\n+  \n+  /**\n+   * Returns a pointer to the native PangoFcFont object.\n+   * \n+   * The object will be referenced with g_object_ref n times before being\n+   * returned, and must be unreferenced a corresponding number of times.\n+   * \n+   * @param n Number of times to reference the object.\n+   * @return Pointer to the native default font.\n+   */\n+  private native long getNativeFontPointer(int n);\n \n   /**\n    * Create a glyphvector from a given (Freetype) font and a String.\n@@ -112,11 +130,11 @@ public FreetypeGlyphVector(Font f, char[] chars, int start, int len,\n     getGlyphs();\n     if( flags == Font.LAYOUT_RIGHT_TO_LEFT )\n       {\n-\t// reverse the glyph ordering.\n-\tint[] temp = new int[ nGlyphs ];\n-\tfor(int i = 0; i < nGlyphs; i++)\n-\t  temp[ i ] = glyphCodes[ nGlyphs - i - 1];\n-\tglyphCodes = temp;\n+        // reverse the glyph ordering.\n+        int[] temp = new int[ nGlyphs ];\n+        for(int i = 0; i < nGlyphs; i++)\n+          temp[i] = glyphCodes[nGlyphs - i - 1];\n+        glyphCodes = temp;\n       }\n     performDefaultLayout();\n   }\n@@ -135,6 +153,13 @@ public FreetypeGlyphVector(Font f, int[] codes, FontRenderContext frc)\n     glyphCodes = new int[ codes.length ];\n     System.arraycopy(codes, 0, glyphCodes, 0, codes.length);\n     nGlyphs = glyphCodes.length;\n+    \n+    if (fontSet == null)\n+      {\n+        fontSet = new long[nGlyphs];\n+        Arrays.fill(fontSet, getNativeFontPointer(nGlyphs));\n+      }\n+    \n     performDefaultLayout();\n   }\n \n@@ -152,11 +177,12 @@ private FreetypeGlyphVector( FreetypeGlyphVector gv )\n \n     if( gv.metricsCache != null )\n       {\n-\tmetricsCache = new GlyphMetrics[ nGlyphs ];\n-\tSystem.arraycopy(gv.metricsCache, 0, metricsCache, 0, nGlyphs);\n+        metricsCache = new GlyphMetrics[ nGlyphs ];\n+        System.arraycopy(gv.metricsCache, 0, metricsCache, 0, nGlyphs);\n       }\n \n     glyphCodes = new int[ nGlyphs ];\n+    fontSet = new long[nGlyphs];\n     glyphPositions = new float[(nGlyphs + 1) * 2];\n     glyphTransforms = new AffineTransform[ nGlyphs ];\n     for(int i = 0; i < nGlyphs; i++ )\n@@ -166,6 +192,13 @@ private FreetypeGlyphVector( FreetypeGlyphVector gv )\n       }\n     System.arraycopy(gv.glyphPositions, 0, glyphPositions, 0,\n                      glyphPositions.length);\n+    System.arraycopy(gv.glyphCodes, 0, glyphCodes, 0, nGlyphs);\n+    System.arraycopy(gv.fontSet, 0, fontSet, 0, nGlyphs);\n+  }\n+  \n+  public void finalize()\n+  {\n+    dispose(fontSet);\n   }\n \n   /**\n@@ -175,16 +208,17 @@ private void getGlyphs()\n   {\n     nGlyphs = s.codePointCount( 0, s.length() );\n     glyphCodes = new int[ nGlyphs ];\n+    fontSet = new long[ nGlyphs ];\n     int[] codePoints = new int[ nGlyphs ];\n     int stringIndex = 0;\n \n     for(int i = 0; i < nGlyphs; i++)\n       {\n-\tcodePoints[i] = s.codePointAt( stringIndex );\n+        codePoints[i] = s.codePointAt( stringIndex );\n         // UTF32 surrogate handling\n-\tif( codePoints[i] != (int)s.charAt( stringIndex ) )\n-\t  stringIndex ++;\n-\tstringIndex ++;\n+        if( codePoints[i] != (int)s.charAt( stringIndex ) )\n+          stringIndex ++;\n+        stringIndex ++;\n \n         if (Character.isISOControl(codePoints[i]))\n           {\n@@ -194,22 +228,22 @@ private void getGlyphs()\n           }\n       }\n \n-   glyphCodes = getGlyphs( codePoints );\n+    getGlyphs( codePoints, glyphCodes, fontSet );\n   }\n \n   /**\n    * Returns the glyph code within the font for a given character\n    */\n-  public native int[] getGlyphs(int[] codepoints);\n+  public native void getGlyphs(int[] codepoints, int[] glyphs, long[] fonts);\n \n   /**\n    * Returns the kerning of a glyph pair\n    */\n-  private native Point2D getKerning(int leftGlyph, int rightGlyph);\n+  private native Point2D getKerning(int leftGlyph, int rightGlyph, long font);\n \n-  private native double[] getMetricsNative( int glyphCode );\n+  private native double[] getMetricsNative(int glyphCode, long font);\n \n-  private native GeneralPath getGlyphOutlineNative(int glyphIndex);\n+  private native GeneralPath getGlyphOutlineNative(int glyphIndex, long font);\n \n \n   public Object clone()\n@@ -267,10 +301,12 @@ public void performDefaultLayout()\n \n         x += gm.getAdvanceX();\n         y += gm.getAdvanceY();\n-        \n-        if (i != nGlyphs-1)\n+\n+        // Get the kerning only if it's not the last glyph, and the two glyphs are\n+        // using the same font\n+        if (i != nGlyphs-1 && fontSet[i] == fontSet[i+1])\n           {\n-            Point2D p = getKerning(glyphCodes[i], glyphCodes[i + 1]);\n+            Point2D p = getKerning(glyphCodes[i], glyphCodes[i + 1], fontSet[i]);\n             x += p.getX();\n             y += p.getY();\n           }\n@@ -291,7 +327,7 @@ public int getGlyphCode(int glyphIndex)\n    * Returns multiple glyphcodes.\n    */\n   public int[] getGlyphCodes(int beginGlyphIndex, int numEntries, \n-\t\t\t     int[] codeReturn)\n+                             int[] codeReturn)\n   {\n     int[] rval;\n \n@@ -305,6 +341,26 @@ public int[] getGlyphCodes(int beginGlyphIndex, int numEntries,\n     return rval;\n   }\n \n+  /**\n+   * Returns pointers to the fonts used in this glyph vector.\n+   * \n+   * The array index matches that of the glyph vector itself.\n+   */\n+  protected long[] getGlyphFonts(int beginGlyphIndex, int numEntries, \n+                                 long[] codeReturn)\n+  {\n+    long[] rval;\n+\n+    if( codeReturn == null || codeReturn.length < numEntries)\n+      rval = new long[ numEntries ];\n+    else\n+      rval = codeReturn;\n+    \n+    System.arraycopy(fontSet, beginGlyphIndex, rval, 0, numEntries);\n+\n+    return rval;\n+  }\n+\n   public Shape getGlyphLogicalBounds(int glyphIndex)\n   {\n     GlyphMetrics gm = getGlyphMetrics( glyphIndex );\n@@ -335,26 +391,24 @@ public void setupGlyphMetrics()\n \n     for(int i = 0; i < nGlyphs; i++)\n       {\n-\tGlyphMetrics gm = (GlyphMetrics)\n-\t  peer.getGlyphMetrics( glyphCodes[ i ] );\n-\tif( gm == null )\n-\t  {\n-\t    double[] val = getMetricsNative( glyphCodes[ i ] );\n-\t    if( val == null )\n-\t      gm = null;\n-\t    else\n-\t      {\n-\t\tgm = new GlyphMetrics( true, \n-\t\t\t\t       (float)val[1], \n-\t\t\t\t       (float)val[2], \n-\t\t\t\t       new Rectangle2D.Double\n-\t\t\t\t       ( val[3], val[4], \n-\t\t\t\t\t val[5], val[6] ),\n-\t\t\t\t       GlyphMetrics.STANDARD );\n-\t\tpeer.putGlyphMetrics( glyphCodes[ i ], gm );\n-\t      }\n-\t  }\n-\tmetricsCache[ i ] = gm;\n+        GlyphMetrics gm = (GlyphMetrics)peer.getGlyphMetrics(glyphCodes[i]);\n+        if( gm == null )\n+          {\n+            double[] val = getMetricsNative(glyphCodes[i], fontSet[i]);\n+            if( val == null )\n+              gm = null;\n+            else\n+              {\n+                gm = new GlyphMetrics(true, \n+                                      (float)val[1], \n+                                      (float)val[2], \n+                                      new Rectangle2D.Double(val[3], val[4], \n+                                                             val[5], val[6] ),\n+                                      GlyphMetrics.STANDARD );\n+                peer.putGlyphMetrics( glyphCodes[ i ], gm );\n+              }\n+          }\n+        metricsCache[ i ] = gm;\n       }\n   }\n \n@@ -371,13 +425,21 @@ public GlyphMetrics getGlyphMetrics(int glyphIndex)\n \n   /**\n    * Returns the outline of a single glyph.\n+   * \n+   * Despite what the Sun API says, this method returns the glyph relative to\n+   * the origin of the *entire string*, not each individual glyph.\n    */\n   public Shape getGlyphOutline(int glyphIndex)\n   {\n-    GeneralPath gp = getGlyphOutlineNative( glyphCodes[ glyphIndex ] );\n-    if (glyphTransforms[glyphIndex] != null)\n-      gp.transform( glyphTransforms[glyphIndex]);\n+    GeneralPath gp = getGlyphOutlineNative(glyphCodes[glyphIndex],\n+                                           fontSet[glyphIndex]);\n     \n+    AffineTransform tx = AffineTransform.getTranslateInstance(glyphPositions[glyphIndex*2],\n+                                                              glyphPositions[glyphIndex*2+1]);\n+    if (glyphTransforms[glyphIndex] != null)\n+      tx.concatenate( glyphTransforms[glyphIndex]);\n+\n+    gp.transform(tx);\n     return gp;\n   }\n \n@@ -432,7 +494,6 @@ public Rectangle2D getLogicalBounds()\n       return logicalBounds;\n \n     Rectangle2D rect = (Rectangle2D)getGlyphLogicalBounds( 0 );\n-    AffineTransform tx = new AffineTransform();\n     for( int i = 1; i < nGlyphs; i++ )\n       {\n         Rectangle2D r2 = (Rectangle2D)getGlyphLogicalBounds( i );\n@@ -458,14 +519,8 @@ public int getNumGlyphs()\n   public Shape getOutline()\n   {\n     GeneralPath path = new GeneralPath();\n-    AffineTransform tx = new AffineTransform();\n     for( int i = 0; i < getNumGlyphs(); i++ )\n-      {\n-        Shape outline = getGlyphOutline(i);\n-        tx.setToTranslation(glyphPositions[i*2], glyphPositions[i*2 +1]);\n-        outline = tx.createTransformedShape(outline);\n-        path.append(outline, false);\n-      }\n+      path.append(getGlyphOutline(i), false);\n     return path;\n   }\n "}, {"sha": "e73df9e55090a88aff1bd12357a38e0f358678dd", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GThreadMutex.java", "status": "removed", "additions": 0, "deletions": 109, "changes": 109, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGThreadMutex.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGThreadMutex.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGThreadMutex.java?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686", "patch": "@@ -1,109 +0,0 @@\n-/* GThreadMutex.java -- Implements a mutex object for glib's gthread\n-   abstraction, for use with GNU Classpath's --portable-native-sync option.\n-   This is used in gthread-jni.c\n-   \n-   Copyright (C) 2004 Free Software Foundation, Inc.\n-\n-This file is part of GNU Classpath.\n-\n-GNU Classpath is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 2, or (at your option)\n-any later version.\n-\n-GNU Classpath is distributed in the hope that it will be useful, but\n-WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-General Public License for more details.\n-\n-You should have received a copy of the GNU General Public License\n-along with GNU Classpath; see the file COPYING.  If not, write to the\n-Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n-02110-1301 USA.\n-\n-Linking this library statically or dynamically with other modules is\n-making a combined work based on this library.  Thus, the terms and\n-conditions of the GNU General Public License cover the whole\n-combination.\n-\n-As a special exception, the copyright holders of this library give you\n-permission to link this library with independent modules to produce an\n-executable, regardless of the license terms of these independent\n-modules, and to copy and distribute the resulting executable under\n-terms of your choice, provided that you also meet, for each linked\n-independent module, the terms and conditions of the license of that\n-module.  An independent module is a module which is not derived from\n-or based on this library.  If you modify this library, you may extend\n-this exception to your version of the library, but you are not\n-obligated to do so.  If you do not wish to do so, delete this\n-exception statement from your version. */\n-\n-package gnu.java.awt.peer.gtk;\n-\n-/** Implements a mutex object for glib's gthread\n-    abstraction, for use with GNU Classpath's --portable-native-sync option.\n-    This is used in gthread-jni.c.\n-\n-    We use this object to implement the POSIX semantics for Mutexes.  They are\n-    needed are needed for the function vector that is passed to glib's\n-    g_thread subpackage's initialization function.\n-\n-    The GThreadMutex object itself serves as the Real Lock; if code has\n-    entered the monitor for this GThreadMutex object (in Java language, if\n-    it's synchronized on this object) then it holds the lock that this object\n-    represents.\n-\n-    @author Steven Augart\n-    May, 2004\n-\n-    \n-*/\n-   \n-class GThreadMutex \n-{\n-  /** Might \"lock\" be locked?  Is anyone waiting\n-      to get that lock?  How long is the queue?\n-\n-      If zero, nobody holds a lock on this GThreadMutex object, and nobody is\n-      trying to get one.   Before someone attempts to acquire a lock on this\n-      object, they must increment potentialLockers.  After they release their\n-      lock on this object, they must decrement potentialLockers.\n-\n-      Access to this field is guarded by synchronizing on the object\n-      <code>lockForPotentialLockers</code>.\n-\n-      After construction, we only access this field via JNI.\n-  */\n-  volatile int potentialLockers;\n-\n-  /** An object to synchronize to if you want to examine or modify the\n-      <code>potentialLockers</code> field.  Only hold this lock for brief\n-      moments, just long enough to check or set the value of\n-      <code>lockForPotentialLockers</code>.  \n-      \n-      We use this representation so that g_thread_mutex_trylock() will work\n-      with the POSIX semantics.  This is the only case in which you ever hold a\n-      lock on <code>lockForPotentialLockers</code> while trying to get another\n-      lock -- if you are the mutex_trylock() implementation, and you have just\n-      checked that <code>potentialLockers</code> has the value zero.  In that\n-      case, mutex_trylock() holds the lock on lockForPotentialLockers so that\n-      another thread calling mutex_trylock() or mutex_lock() won't increment\n-      potentialLockers after we've checked it and before we've gained the lock\n-      on the POSIX mutex.   Of course, in that case the operation of gaining\n-      the POSIX lock itself will succeed immediately, and once it has\n-      succeeded, trylock releases lockForPotentialLockers right away,\n-      incremented to 1 (one).\n-\n-      After construction, we only access this field via JNI.\n-  */     \n-  Object lockForPotentialLockers;\n-\n-  GThreadMutex() \n-  {\n-    potentialLockers = 0;\n-    lockForPotentialLockers = new Object();\n-  }\n-}\n-// Local Variables:\n-// c-file-style: \"gnu\"\n-// End:"}, {"sha": "9a1b8e3a30a40ce255b3408904500f5f30d8b408", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GThreadNativeMethodRunner.java", "status": "removed", "additions": 0, "deletions": 303, "changes": 303, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGThreadNativeMethodRunner.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGThreadNativeMethodRunner.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGThreadNativeMethodRunner.java?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686", "patch": "@@ -1,303 +0,0 @@\n-/* GThreadNativeMethodRunner.java -- Implements pthread_create(), under\n-   glib's gthread abstraction, for use with GNU Classpath's\n-   --portable-native-sync option. \n-   This is used by gthread-jni.c\n-   \n-   Copyright (C) 2004, 2005  Free Software Foundation, Inc.\n-\n-This file is part of GNU Classpath.\n-\n-GNU Classpath is free software; you can redistribute it and/or modify\n-it under the terms of the GNU General Public License as published by\n-the Free Software Foundation; either version 2, or (at your option)\n-any later version.\n-\n-GNU Classpath is distributed in the hope that it will be useful, but\n-WITHOUT ANY WARRANTY; without even the implied warranty of\n-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-General Public License for more details.\n-\n-You should have received a copy of the GNU General Public License\n-along with GNU Classpath; see the file COPYING.  If not, write to the\n-Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA\n-02110-1301 USA.\n-\n-Linking this library statically or dynamically with other modules is\n-making a combined work based on this library.  Thus, the terms and\n-conditions of the GNU General Public License cover the whole\n-combination.\n-\n-As a special exception, the copyright holders of this library give you\n-permission to link this library with independent modules to produce an\n-executable, regardless of the license terms of these independent\n-modules, and to copy and distribute the resulting executable under\n-terms of your choice, provided that you also meet, for each linked\n-independent module, the terms and conditions of the license of that\n-module.  An independent module is a module which is not derived from\n-or based on this library.  If you modify this library, you may extend\n-this exception to your version of the library, but you are not\n-obligated to do so.  If you do not wish to do so, delete this\n-exception statement from your version. */\n-\n-package gnu.java.awt.peer.gtk;\n-\n-import java.lang.ref.WeakReference;\n-import java.util.Collections;\n-import java.util.HashSet;\n-import java.util.Set;\n-\n-/** Implements pthread_create(), under glib's gthread abstraction, for use\n-    with GNU Classpath's --portable-native-sync option.  This is used in\n-    gthread-jni.c\n-\n-    Also implements a registry for threads, mapping Thread objects to small\n-    integers.  The registry uses weak references for threads that aren't\n-    joinable, so that they will be garbage collected.\n-\n-    There are a number of possible alternative implementations.\n-    \n-    \n-    The rest of this comment consists of an answer to a question that was\n-    raised on the commit-classpath mailing list:\n-\n-    Mark Wielaard wrote:\n-\n-    > Can't we assume that jobject and gpointer are both (void *) so we don't\n-    > need the int <-> Thread (global jobject ref) mapping?\n-    > Maybe there are platforms where jobject and gpointer aren't the same,\n-    > but I guess that is pretty unlikely.\n-\n-\n-    I agree with you on the pointer size issues.  A gpointer is a void *, so\n-    it's certainly guaranteed to be at least as large as any other\n-    pointer. And a jobject is implicitly an opaque pointer (in Jikes RVM, we\n-    use small integers, but we coerce them into the representation of a\n-    pointer).\n-\n-    The int <==> Thread mapping addresses a different issue.  I realize that I\n-    did not document this properly (two and a half lines in thread_create),\n-    and the point is subtle (at least to me; took me a while to figure out).\n-\n-    The int => Thread mapping always returns jobjects that are local\n-    references, not global ones.  This is because Thread objects need to be\n-    able to go away and be garbage collected after the thread they refer to\n-    has died.\n-\n-    If we keep a global object reference to a thread, then when do we delete\n-    that global object reference?  We have an answer in the case of GThread\n-    objects that were explicitly created with the joinable attribute.  It is\n-    safe for us to maintain a global reference to any joinable thread, since\n-    the joinable thread must linger (even if only in a zombie state)\n-    until it's explicitly joined via a g_thread_join() call.  The global ref\n-    could be cleaned up at that point too.\n-\n-    However, in the case of GThreads that were created non-joinable by\n-    g_thread_create(), and in the case of Java threads that were created\n-    within pure Java code (not via g_thread_create()), we don't want them to\n-    linger forever, and there is no way to tell when the last reference\n-    to such threads needs to expire.  In the case of this application -- AWT\n-    with GTK peers -- it would probably be safe anyway, since there are not\n-    very many threads we create, but I was going for correctness even in the\n-    case of long-running programs that might set up and tear down AWT\n-    interfaces many times.\n-\n-    So, I duplicated the POSIX thread-ID semantics.  The thread ID of a\n-    non-joinable thread remains valid as long as that thread is still alive.\n-    Once that thread dies, the old thread ID may be reused at any moment.  And\n-    that's why the array indexed by thread ID numbers is an array of weak\n-    references.\n-\n-    That's also why the int => Thread jobject mapping function always returns\n-    local references, since global references would lock the Thread in memory\n-    forever.\n-\n-    I would dearly love there to be a cleaner solution.  I dislike the\n-    repeated dips from C code into Java that are necessary to look up thread\n-    ID numbers.  If anyone can think of one, I'm all ears.\n-*/\n-\n-class GThreadNativeMethodRunner \n-  extends Thread \n-{\n-  /** The C function pointer that was passed to g_thread_create().\n-      Specifically, this the numeric address of an object of \n-      C type \"void *(*funcPtr)(void *funcArg)\".   \n-  */\n-  private final long funcPtr;\n-\n-  /** The argument for the function \"funcPtr(funcArg)\". */\n-  private final long funcArg;\n-  \n-  GThreadNativeMethodRunner(long funcPtr, long funcArg, boolean joinable) \n-  {\n-    this.funcPtr = funcPtr;\n-    this.funcArg = funcArg;\n-\n-    if (joinable)\n-      registerSelfJoinable();\n-  }\n-\n-  public void run() \n-  {\n-    nativeRun(funcPtr, funcArg);\n-  }\n-\n-  private native void nativeRun(long funcPtr, long funcArg);\n-\n-  /** THREADS is an array of threads, indexed by thread ID codes.  Not sure\n-      whether this is the \"best\" approach but it does make it O(1) to look up a\n-      thread by its ID. \n-\n-      Zero is a valid thread ID code.  Any negative number is invalid.\n-\n-      Possible future fixes (TODO?)\n-\n-     - The THREADS array will only grow. probably not a problem.\n-        But we could keep count when nulling entries and shrink when we have\n-        lots of nulls at the end. Probably not worth it. --mjw\n-\n-     - Could make this a set of Object; see the comment on \"joinable\" below.\n-\n-     The initial size of 17 is just a starting point.  Any number will do,\n-     including zero.\n-  */ \n-  private static WeakReference[] threads = new WeakReference[17]; \n-\n-  /**  Used by threadToThreadID, below.  Returns the registration number of\n-       the newly-registered thread.  \n-  */\n-  private static synchronized int registerThread(Thread t) \n-  {\n-    int i;\n-\n-    for (i = 0; i < threads.length; ++i) \n-      {\n-\tWeakReference ref = threads[i];\n-\tif (ref == null)\n-\t  break;                  // found an empty spot.\n-      }\n-\n-    if (i == threads.length) \n-      {\n-\t/* expand the array */\n-\tWeakReference[] bigger = new WeakReference[threads.length * 2];\n-        System.arraycopy(threads, 0, bigger, 0, threads.length);\n-\tthreads = bigger;\n-      }\n-\n-    threads[i] = new WeakReference(t);\n-\n-    return i;\n-  }\n-  \n-  /**  Look up the Thread ID # for a Thread.  Assign a Thread ID # if none\n-       exists.  This is a general routine for handling all threads, including\n-       the VM's main thread, if appropriate.\n-\n-\n-       Runs in O(n/2) time.\n-\n-       We can't just issue a threadID upon thread creation.  If we were to do\n-       that, not all threads would have a threadID, because not all threads\n-       are launched by GThreadNativeMethodRunner.\n-  */ \n-  static synchronized int threadToThreadID(Thread t) \n-  {\n-    for (int i = 0; i < threads.length; ++i ) \n-      {\n-\tif (threads[i] == null)\n-\t  continue;\n-\tThread referent = (Thread) threads[i].get();\n-\tif (referent == null) \n-\t  {\n-\t    threads[i] = null;      // Purge the dead WeakReference.\n-\t    continue;\n-\t  }\n-\tif (referent.equals(t))\n-\t  return i;\n-      } // for()\n-\n-    /* No match found. */\n-    return registerThread(t);\n-  }\n-\n-  /** @param threadID Must be a non-negative integer.\n-\n-      Used to return null if the thread number was out of range or if\n-      the thread was unregistered.   Now we throw an exception.\n-\n-      Possible Alternative Interface:  We could go back to returning null in\n-           some sort of check-free mode, so code that calls this function must\n-           be prepared to get null. \n-  */ \n-  static Thread threadIDToThread(int threadID) \n-    throws IllegalArgumentException\n-  {\n-    if (threadID < 0)\n-      throw new IllegalArgumentException(\"Received a negative threadID, \" \n-\t\t\t\t\t + threadID); \n-    if (threadID >= threads.length)\n-      throw new IllegalArgumentException(\"Received a threadID (\" + threadID \n-\t\t\t\t\t + \") higher than was\" \n-\t\t\t\t\t + \" ever issued\"); \n-    \n-    /* Note: if the user is using a stale reference, things will just\n-       break.    We might end up getting a different thread than the one\n-       expected. \n-       \n-       TODO: Add an error-checking mode where the user's problems with threads\n-          are announced.  For instance, if the user asks for the thread\n-          associated with a threadID that was never issued, we could print a\n-          warning or even abort.\n-       \n-       TODO: Consider optionally disabling all of the error-checking we\n-          already have; it probably slows down the implementation.  We could\n-          just return NULL.  This is just the reverse of the above TODO item.\n-    */ \n-\n-    WeakReference threadRef = threads[threadID];\n-\n-    if (threadRef == null)\n-      throw new IllegalArgumentException(\"Asked to look up a stale or unissued\"\n-\t\t\t\t\t + \"threadID (\" + threadID + \")\" );\n-    \n-      \n-    Thread referent = (Thread) threadRef.get();\n-    if (referent == null)\n-      throw new IllegalArgumentException (\"Asked to look up a stale threadID (\"\n-\t\t\t\t\t  + threadID + \")\");\n-    return referent;\n-  }\n-  \n-  /** Joinable threads need a hard reference, so that they won't go away when\n-      they die.  That is because their thread IDs need to stay valid until the\n-      thread is joined via thread_join(threadID).  Joinable threads have to be\n-      explicitly joined before they are allowed to go away completely.\n-\n-      Possible Alternative Implementation: Eliminate the Joinable set.  When\n-          calling getThreadIDFromThread() you know whether or not the thread\n-          is joinable.  So just store the Thread itself in the threads array?\n-          Make that array an Object array and check with instanceof.  This\n-          looks cleaner and more robust to me and it saves a native -> Java\n-          call. But instanceof might be expensive.  --mjw\n-  */\n-  private static final Set joinable = \n-       Collections.synchronizedSet(new HashSet()); \n-  \n-  /** Only called from the constructor. */\n-  private void registerSelfJoinable() \n-  {\n-    joinable.add(this);\n-  }\n-  \n-  /** This method is only called from JNI, and only after we have succeeded in\n-      a thread_join() operation.  */\n-  static void deRegisterJoinable(Thread thread) \n-  {\n-    joinable.remove(thread);\n-  }\n-}\n-\f\n-// Local Variables:\n-// c-file-style: \"gnu\"\n-// End:"}, {"sha": "c3c94d8a93528c2d33ac14504539878dd2cf8dbe", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GdkFontPeer.java", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkFontPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkFontPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkFontPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -67,7 +67,7 @@ public class GdkFontPeer extends ClasspathFontPeer\n    * The size of the cache has been chosen so that relativly large GUIs with\n    * text documents are still efficient.\n    */\n-  HashMap textLayoutCache = new GtkToolkit.LRUCache(500);\n+  HashMap<String,TextLayout> textLayoutCache = new GtkToolkit.LRUCache<String,TextLayout>(500);\n \n   private class GdkFontMetrics extends FontMetrics\n   {\n@@ -79,7 +79,7 @@ public GdkFontMetrics (Font font)\n \n     public int stringWidth (String str)\n     {\n-      TextLayout tl = (TextLayout) textLayoutCache.get(str);\n+      TextLayout tl = textLayoutCache.get(str);\n       if (tl == null)\n         {\n           tl = new TextLayout(str, font, DEFAULT_CTX);\n@@ -140,7 +140,7 @@ public int getMaxAdvance ()\n   /**\n    * Cache GlyphMetrics objects.\n    */\n-  private HashMap metricsCache;\n+  private HashMap<Integer,GlyphMetrics> metricsCache;\n \n   private static final int FONT_METRICS_ASCENT = 0;\n   private static final int FONT_METRICS_MAX_ASCENT = 1;\n@@ -235,7 +235,7 @@ public GdkFontPeer (String name, int style, int size)\n     super(name, style, size);    \n     initState ();\n     setFont (this.familyName, this.style, (int)this.size);\n-    metricsCache = new HashMap();\n+    metricsCache = new HashMap<Integer,GlyphMetrics>();\n     setupMetrics();\n   }\n \n@@ -244,7 +244,7 @@ public GdkFontPeer (String name, Map attributes)\n     super(name, attributes);\n     initState ();\n     setFont (this.familyName, this.style, (int)this.size);\n-    metricsCache = new HashMap();\n+    metricsCache = new HashMap<Integer,GlyphMetrics>();\n     setupMetrics();\n   }\n \n@@ -261,9 +261,9 @@ else if (font.getPeer() instanceof GdkFontPeer)\n       return font;\n     else\n       {\n-      ClasspathToolkit toolkit;\n-      toolkit = (ClasspathToolkit) Toolkit.getDefaultToolkit();\n-      return toolkit.getFont(font.getName(), font.getAttributes());\n+        ClasspathToolkit toolkit;\n+        toolkit = (ClasspathToolkit) Toolkit.getDefaultToolkit();\n+        return toolkit.getFont(font.getName(), font.getAttributes());\n       }\n   }\n \n@@ -294,9 +294,9 @@ public String getSubFamilyName(Font font, Locale locale)\n     name = getName(NameDecoder.NAME_SUBFAMILY, locale);\n     if (name == null)\n       {\n-\tname = getName(NameDecoder.NAME_SUBFAMILY, Locale.ENGLISH);\n-\tif (\"Regular\".equals(name))\n-\t  name = null;\n+        name = getName(NameDecoder.NAME_SUBFAMILY, Locale.ENGLISH);\n+        if (\"Regular\".equals(name))\n+          name = null;\n       }\n \n     return name;\n@@ -340,12 +340,12 @@ private String getName(int name, Locale locale)\n   {\n     if (nameTable == null)\n       {\n-\tbyte[] data = getTrueTypeTable((byte)'n', (byte) 'a', \n-\t\t\t\t       (byte) 'm', (byte) 'e');\n-\tif( data == null )\n-\t  return null;\n+        byte[] data = getTrueTypeTable((byte)'n', (byte) 'a', \n+                                       (byte) 'm', (byte) 'e');\n+        if( data == null )\n+          return null;\n \n-\tnameTable = ByteBuffer.wrap( data );\n+        nameTable = ByteBuffer.wrap( data );\n       }\n \n     return NameDecoder.getName(nameTable, name, locale);\n@@ -492,8 +492,8 @@ public GlyphVector layoutGlyphVector (Font font, FontRenderContext frc,\n                                         char[] chars, int start, int limit, \n                                         int flags)\n   {\n-    return new FreetypeGlyphVector( font, chars, start, limit - start,\n-\t\t\t\t    frc, flags);\n+    return new FreetypeGlyphVector(font, chars, start, limit - start,\n+                                   frc, flags);\n   }\n \n   public LineMetrics getLineMetrics (Font font, String str, \n@@ -515,13 +515,13 @@ public FontMetrics getFontMetrics (Font font)\n    */\n   GlyphMetrics getGlyphMetrics( int glyphCode )\n   {\n-    return (GlyphMetrics)metricsCache.get( new Integer( glyphCode ) );\n+    return metricsCache.get(new Integer(glyphCode));\n   }\n \n   /**\n    * Put a GlyphMetrics object in the cache.\n    */ \n-  void putGlyphMetrics( int glyphCode, Object metrics )\n+  void putGlyphMetrics( int glyphCode, GlyphMetrics metrics )\n   {\n     metricsCache.put( new Integer( glyphCode ), metrics );\n   }"}, {"sha": "bd6daa2d1e50cf289ffe2128ec247e135f44d9a9", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GdkGraphicsEnvironment.java", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkGraphicsEnvironment.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkGraphicsEnvironment.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkGraphicsEnvironment.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -38,16 +38,21 @@\n \n package gnu.java.awt.peer.gtk;\n \n+import gnu.java.awt.ClasspathGraphicsEnvironment;\n+\n import java.awt.Font;\n import java.awt.Graphics2D;\n import java.awt.GraphicsDevice;\n import java.awt.GraphicsEnvironment;\n import java.awt.HeadlessException;\n import java.awt.image.BufferedImage;\n+import java.awt.image.ColorModel;\n import java.awt.image.Raster;\n+import java.awt.image.SampleModel;\n+import java.awt.image.WritableRaster;\n import java.util.Locale;\n \n-public class GdkGraphicsEnvironment extends GraphicsEnvironment\n+public class GdkGraphicsEnvironment extends ClasspathGraphicsEnvironment\n {\n   private final int native_state = GtkGenericPeer.getUniqueInteger ();\n   \n@@ -139,4 +144,13 @@ public String[] getAvailableFontFamilyNames (Locale l)\n    * Used by GtkMouseInfoPeer.\n    */ \n   native int[] getMouseCoordinates();\n+  \n+  public WritableRaster createRaster(ColorModel cm, SampleModel sm)\n+  {\n+    if (CairoSurface.isCompatibleSampleModel(sm)\n+        && CairoSurface.isCompatibleColorModel(cm))\n+      return new CairoSurface(sm.getWidth(), sm.getHeight());\n+    else\n+      return null;\n+  }\n }"}, {"sha": "6f6ea560db70d81ef7970a9edf1ae5bae0e5a241", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GdkPixbufDecoder.java", "status": "modified", "additions": 64, "deletions": 73, "changes": 137, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkPixbufDecoder.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkPixbufDecoder.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkPixbufDecoder.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -184,22 +184,22 @@ public void produce (Vector v, InputStream is) throws IOException\n     int len = 0;\n     synchronized(pixbufLock)\n       {\n-\tinitState();\n+        initState();\n       }\n     needsClose = true;\n \n     // Note: We don't want the pixbufLock while reading from the InputStream.\n     while ((len = is.read (bytes)) != -1)\n       {\n-\tsynchronized(pixbufLock)\n-\t  {\n-\t    pumpBytes (bytes, len);\n-\t  }\n+        synchronized(pixbufLock)\n+          {\n+            pumpBytes (bytes, len);\n+          }\n       }\n \n     synchronized(pixbufLock)\n       {\n-\tpumpDone();\n+        pumpDone();\n       }\n \n     needsClose = false;\n@@ -217,7 +217,7 @@ public void finalize()\n   {\n     synchronized(pixbufLock)\n       {\n-\tfinish(needsClose);\n+        finish(needsClose);\n       }\n   }\n \n@@ -226,8 +226,8 @@ public void finalize()\n   {\n     public String name;\n     public boolean writable = false;    \n-    public ArrayList mimeTypes = new ArrayList();\n-    public ArrayList extensions = new ArrayList();\n+    public ArrayList<String> mimeTypes = new ArrayList<String>();\n+    public ArrayList<String> extensions = new ArrayList<String>();\n \n     public ImageFormatSpec(String name, boolean writable)\n     {\n@@ -246,29 +246,29 @@ public synchronized void addExtension(String e)\n     }    \n   }\n \n-  static ArrayList imageFormatSpecs;\n+  static ArrayList<ImageFormatSpec> imageFormatSpecs;\n \n   public static ImageFormatSpec registerFormat(String name, boolean writable) \n   {\n     ImageFormatSpec ifs = new ImageFormatSpec(name, writable);\n     synchronized(GdkPixbufDecoder.class)\n       {\n         if (imageFormatSpecs == null)\n-          imageFormatSpecs = new ArrayList();\n+          imageFormatSpecs = new ArrayList<ImageFormatSpec>();\n         imageFormatSpecs.add(ifs);\n       }\n     return ifs;\n   }\n \n   static String[] getFormatNames(boolean writable)\n   {\n-    ArrayList names = new ArrayList();\n+    ArrayList<String> names = new ArrayList<String>();\n     synchronized (imageFormatSpecs) \n       {\n-        Iterator i = imageFormatSpecs.iterator();\n+        Iterator<ImageFormatSpec> i = imageFormatSpecs.iterator();\n         while (i.hasNext())\n           {\n-            ImageFormatSpec ifs = (ImageFormatSpec) i.next();\n+            ImageFormatSpec ifs = i.next();\n             if (writable && !ifs.writable)\n               continue;\n             names.add(ifs.name);\n@@ -279,62 +279,50 @@ static String[] getFormatNames(boolean writable)\n              * This generally means \"all the extensions people might use\". \n              */\n \n-            Iterator j = ifs.extensions.iterator();\n+            Iterator<String> j = ifs.extensions.iterator();\n             while (j.hasNext())\n-              names.add((String) j.next());\n+              names.add(j.next());\n           }\n       }\n-    Object[] objs = names.toArray();\n-    String[] strings = new String[objs.length];\n-    for (int i = 0; i < objs.length; ++i)\n-      strings[i] = (String) objs[i];\n-    return strings;\n+    return names.toArray(new String[names.size()]);\n   }\n \n   static String[] getFormatExtensions(boolean writable)\n   {\n-    ArrayList extensions = new ArrayList();\n+    ArrayList<String> extensions = new ArrayList<String>();\n     synchronized (imageFormatSpecs) \n       {\n-        Iterator i = imageFormatSpecs.iterator();\n+        Iterator<ImageFormatSpec> i = imageFormatSpecs.iterator();\n         while (i.hasNext())\n           {\n-            ImageFormatSpec ifs = (ImageFormatSpec) i.next();\n+            ImageFormatSpec ifs = i.next();\n             if (writable && !ifs.writable)\n               continue;\n-            Iterator j = ifs.extensions.iterator();\n+            Iterator<String> j = ifs.extensions.iterator();\n             while (j.hasNext())\n-              extensions.add((String) j.next());\n+              extensions.add(j.next());\n           }\n       }\n-    Object[] objs = extensions.toArray();\n-    String[] strings = new String[objs.length];\n-    for (int i = 0; i < objs.length; ++i)\n-      strings[i] = (String) objs[i];\n-    return strings;\n+    return extensions.toArray(new String[extensions.size()]);\n   }\n \n   static String[] getFormatMimeTypes(boolean writable)\n   {\n-    ArrayList mimeTypes = new ArrayList();\n+    ArrayList<String> mimeTypes = new ArrayList<String>();\n     synchronized (imageFormatSpecs) \n       {\n-        Iterator i = imageFormatSpecs.iterator();\n+        Iterator<ImageFormatSpec> i = imageFormatSpecs.iterator();\n         while (i.hasNext())\n           {\n-            ImageFormatSpec ifs = (ImageFormatSpec) i.next();\n+            ImageFormatSpec ifs = i.next();\n             if (writable && !ifs.writable)\n               continue;\n-            Iterator j = ifs.mimeTypes.iterator();\n+            Iterator<String> j = ifs.mimeTypes.iterator();\n             while (j.hasNext())\n-              mimeTypes.add((String) j.next());\n+              mimeTypes.add(j.next());\n           }\n       }\n-    Object[] objs = mimeTypes.toArray();\n-    String[] strings = new String[objs.length];\n-    for (int i = 0; i < objs.length; ++i)\n-      strings[i] = (String) objs[i];\n-    return strings;\n+    return mimeTypes.toArray(new String[mimeTypes.size()]);\n   }\n \n   \n@@ -348,29 +336,29 @@ static String findFormatName(Object ext, boolean needWritable)\n \n     String str = (String) ext;\n \n-    Iterator i = imageFormatSpecs.iterator();\n+    Iterator<ImageFormatSpec> i = imageFormatSpecs.iterator();\n     while (i.hasNext())\n       {\n-        ImageFormatSpec ifs = (ImageFormatSpec) i.next();\n+        ImageFormatSpec ifs = i.next();\n \n         if (needWritable && !ifs.writable)\n           continue;\n \n         if (ifs.name.equals(str))\n           return str;\n \n-        Iterator j = ifs.extensions.iterator(); \n+        Iterator<String> j = ifs.extensions.iterator(); \n         while (j.hasNext())\n           {\n-            String extension = (String)j.next();\n+            String extension = j.next();\n             if (extension.equals(str))\n               return ifs.name;\n           }\n \n         j = ifs.mimeTypes.iterator(); \n         while (j.hasNext())\n           {\n-            String mimeType = (String)j.next();\n+            String mimeType = j.next();\n             if (mimeType.equals(str))\n               return ifs.name;\n           }\n@@ -510,10 +498,10 @@ public void write (IIOMetadata streamMetadata, IIOImage i, ImageWriteParam param\n       \n       if (pixels == null)\n         {\n-\t  BufferedImage img;\n-\t  if(model != null && model.hasAlpha())\n-\t    img = CairoSurface.getBufferedImage(width, height);\n-\t  img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n+          BufferedImage img;\n+          if(model != null && model.hasAlpha())\n+            img = CairoSurface.getBufferedImage(width, height);\n+          img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n           int[] pix = new int[4];\n           for (int y = 0; y < height; ++y)\n             for (int x = 0; x < width; ++x)\n@@ -527,10 +515,10 @@ public void write (IIOMetadata streamMetadata, IIOImage i, ImageWriteParam param\n       workerThread.start();\n       processImageStarted(1);\n       synchronized(pixbufLock)\n-\t{\n-\t  streamImage(pixels, this.ext, width, height, model.hasAlpha(), \n-\t\t      this);\n-\t}\n+        {\n+          streamImage(pixels, this.ext, width, height, model.hasAlpha(), \n+                      this);\n+        }\n       synchronized(data)\n         {\n           data.add(DATADONE);\n@@ -539,18 +527,18 @@ public void write (IIOMetadata streamMetadata, IIOImage i, ImageWriteParam param\n \n       while (workerThread.isAlive())\n         {\n-\t  try\n-\t    {\n-\t      workerThread.join();\n-\t    }\n-\t  catch (InterruptedException ioe)\n-\t    {\n-\t      // Ignored.\n-\t    }\n+          try\n+            {\n+              workerThread.join();\n+            }\n+          catch (InterruptedException ioe)\n+            {\n+              // Ignored.\n+            }\n         }\n \n       if (exception != null)\n-\tthrow exception;\n+        throw exception;\n \n       processImageComplete();\n     }    \n@@ -566,7 +554,7 @@ public void write (IIOMetadata streamMetadata, IIOImage i, ImageWriteParam param\n      * Needs to be synchronized for access.\n      * The special object DATADONE is added when all data has been delivered.\n      */\n-    private ArrayList data = new ArrayList();\n+    private ArrayList<Object> data = new ArrayList<Object>();\n \n     /**\n      * Holds any IOException thrown by the run method that needs\n@@ -643,7 +631,8 @@ public GdkPixbufReader(GdkPixbufReaderSpi ownerSpi, Object ext)\n       this.ext = findFormatName(ext, false);\n     }\n \n-    public GdkPixbufReader(GdkPixbufReaderSpi ownerSpi, Object ext, GdkPixbufDecoder d)\n+    public GdkPixbufReader(GdkPixbufReaderSpi ownerSpi, Object ext,\n+                           GdkPixbufDecoder d)\n     {\n       this(ownerSpi, ext);\n       dec = d;\n@@ -680,10 +669,12 @@ public void setPixels(int x, int y, int w, int h,\n       \n       if (bufferedImage == null)\n         {\n-\t  if(model != null && model.hasAlpha())\n-\t    bufferedImage = new BufferedImage (width, height, BufferedImage.TYPE_INT_ARGB);\n-\t  else\n-\t    bufferedImage = new BufferedImage (width, height, BufferedImage.TYPE_INT_RGB);\n+          if(model != null && model.hasAlpha())\n+            bufferedImage = new BufferedImage (width, height,\n+                                               BufferedImage.TYPE_INT_ARGB);\n+          else\n+            bufferedImage = new BufferedImage (width, height,\n+                                               BufferedImage.TYPE_INT_RGB);\n         }\n \n       int pixels2[];\n@@ -735,11 +726,11 @@ public IIOMetadata getStreamMetadata()\n       return null;\n     }\n \n-    public Iterator getImageTypes(int imageIndex)\n+    public Iterator<ImageTypeSpecifier> getImageTypes(int imageIndex)\n       throws IOException\n     {\n       BufferedImage img = getBufferedImage();\n-      Vector vec = new Vector();\n+      Vector<ImageTypeSpecifier> vec = new Vector<ImageTypeSpecifier>();\n       vec.add(new ImageTypeSpecifier(img));\n       return vec.iterator();\n     }\n@@ -767,8 +758,8 @@ public void setInput(Object input,\n       else if (get instanceof DataInput)\n         dec = new GdkPixbufDecoder((DataInput) get);\n       else\n-\tthrow new IllegalArgumentException(\"input object not supported: \"\n-\t\t\t\t\t   + get);\n+        throw new IllegalArgumentException(\"input object not supported: \"\n+                                           + get);\n     }\n \n     public BufferedImage read(int imageIndex, ImageReadParam param)"}, {"sha": "a69c6f0659e89b71a6ebf36f7550353a81dccf3f", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GdkScreenGraphicsDevice.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkScreenGraphicsDevice.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkScreenGraphicsDevice.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGdkScreenGraphicsDevice.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -188,15 +188,15 @@ public DisplayMode[] getDisplayModes()\n           displayModes = nativeGetDisplayModes(env);\n       }\n     \n-    ArrayList list = new ArrayList();\n+    ArrayList<DisplayMode> list = new ArrayList<DisplayMode>();\n     for(int i=0;i<displayModes.length;i++)\n       for(int j=0;j<displayModes[i].rates.length;j++)\n         list.add(new DisplayMode(displayModes[i].width,\n                                  displayModes[i].height,\n                                  DisplayMode.BIT_DEPTH_MULTI,\n                                  displayModes[i].rates[j]));\n     \n-    return (DisplayMode[]) list.toArray(new DisplayMode[list.size()]);\n+    return list.toArray(new DisplayMode[list.size()]);\n   }\n   \n   native X11DisplayMode[] nativeGetDisplayModes(GdkGraphicsEnvironment env);"}, {"sha": "4a41d0696c3841f7666a65dbc93dcaa9d0f420a7", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkCheckboxPeer.java", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkCheckboxPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkCheckboxPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkCheckboxPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -57,7 +57,8 @@ public class GtkCheckboxPeer extends GtkComponentPeer\n   private boolean currentState;\n \n   // A map from CheckboxGroup to GSList* GTK option group pointer.\n-  private static WeakHashMap groupMap = new WeakHashMap();\n+  private static WeakHashMap<CheckboxGroup,Long> groupMap\n+    = new WeakHashMap<CheckboxGroup,Long>();\n \n   public native void createCheckButton ();\n   public native void createRadioButton (long groupPointer);\n@@ -98,7 +99,7 @@ public void create ()\n         Long groupPointer = null;\n         synchronized (groupMap)\n         {\n-          groupPointer = (Long) groupMap.get(current_group);\n+          groupPointer = groupMap.get(current_group);\n         }\n         \n         if (groupPointer == null)\n@@ -133,8 +134,8 @@ public synchronized void setState (boolean state)\n   {\n     if (currentState != state)\n       {\n-\tcurrentState = state;\n-\tgtkToggleButtonSetActive(state);\n+        currentState = state;\n+        gtkToggleButtonSetActive(state);\n       }\n   }\n \n@@ -158,7 +159,7 @@ public void setCheckboxGroup (CheckboxGroup group)\n         Long groupPointer = null;\n         synchronized (groupMap)\n         {\n-          groupPointer = (Long) groupMap.get(current_group);\n+          groupPointer = groupMap.get(current_group);\n         }\n         \n         if (groupPointer == null)\n@@ -203,7 +204,7 @@ else if (current_group != group)\n         Long groupPointer = null;\n         synchronized (groupMap)\n         {\n-          groupPointer = (Long) groupMap.get(current_group);\n+          groupPointer = groupMap.get(current_group);\n         }\n         \n         if (groupPointer == null)\n@@ -230,9 +231,9 @@ public synchronized void postItemEvent(Object item, boolean state)\n     // Only fire event is state actually changed.\n     if (currentState != state)\n       {\n-\tcurrentState = state;\n-\tsuper.postItemEvent(awtComponent,\n-\t\t\t    state ? ItemEvent.SELECTED : ItemEvent.DESELECTED);\n+        currentState = state;\n+        super.postItemEvent(awtComponent,\n+                            state ? ItemEvent.SELECTED : ItemEvent.DESELECTED);\n       }\n   }\n   "}, {"sha": "ff061d35c748d75a72f6ca0f3a46a1d35ac5c427", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkChoicePeer.java", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkChoicePeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkChoicePeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkChoicePeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -55,12 +55,12 @@ public GtkChoicePeer (Choice c)\n     int count = c.getItemCount ();\n     if (count > 0)\n       {\n-\tfor (int i = 0; i < count; i++)\n-\t  add( c.getItem(i), i );\n+        for (int i = 0; i < count; i++)\n+          add(c.getItem(i), i);\n \n-\tselected = c.getSelectedIndex();\n-\tif( selected >= 0 )\n-\t  select( selected );\n+        selected = c.getSelectedIndex();\n+        if (selected >= 0)\n+          select( selected );\n       }\n     else\n       selected = -1;\n@@ -121,9 +121,9 @@ protected void postChoiceItemEvent ( int index )\n   {\n     if( selected != index )\n       {\n-\tselected = index;\n-\tpostItemEvent (((Choice) awtComponent).getItem( selected ), \n-\t\t       ItemEvent.SELECTED);\n+        selected = index;\n+        postItemEvent (((Choice) awtComponent).getItem( selected ), \n+                       ItemEvent.SELECTED);\n       }\n   }\n \n@@ -133,11 +133,11 @@ protected void postChoiceItemEvent ( int index )\n    */\n   public void handleEvent (AWTEvent event)\n   {\n-    super.handleEvent( event );\n-    if( event instanceof ItemEvent )\n-      if( ((ItemEvent)event).getItemSelectable() == awtComponent &&\n-\t  ((ItemEvent)event).getStateChange() == ItemEvent.SELECTED )\n-\t((Choice)awtComponent).select( selected );\n+    super.handleEvent (event);\n+    if (event instanceof ItemEvent)\n+      if (((ItemEvent)event).getItemSelectable() == awtComponent\n+           && ((ItemEvent)event).getStateChange() == ItemEvent.SELECTED)\n+        ((Choice)awtComponent).select( selected );\n   }\n }\n "}, {"sha": "e41754641bbfbfe2f6f32d7079e5feb197d2c585", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkClipboard.java", "status": "modified", "additions": 100, "deletions": 102, "changes": 202, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkClipboard.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkClipboard.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkClipboard.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -71,9 +71,9 @@ public class GtkClipboard extends Clipboard\n   // cached by GtkSelection. True if\n   // gdk_display_supports_selection_notification.\n   static final boolean canCache = initNativeState(clipboard, selection,\n-\t\t\t\t\t\t  stringMimeType,\n-\t\t\t\t\t\t  imageMimeType,\n-\t\t\t\t\t\t  filesMimeType);\n+                                                  stringMimeType,\n+                                                  imageMimeType,\n+                                                  filesMimeType);\n \n   /**\n    * Creates the clipboard and sets the initial contents to the\n@@ -140,8 +140,8 @@ public synchronized void setContents(Transferable contents,\n \n     if (contents == null)\n       {\n-\tadvertiseContent(null, false, false, false);\n-\treturn;\n+        advertiseContent(null, false, false, false);\n+        return;\n       }\n \n     // We don't need to do anything for a GtkSelection facade.\n@@ -153,46 +153,45 @@ public synchronized void setContents(Transferable contents,\n     boolean files = false;\n \n     if (contents instanceof StringSelection\n-\t|| contents.isDataFlavorSupported(DataFlavor.stringFlavor)\n-\t|| contents.isDataFlavorSupported(DataFlavor.plainTextFlavor)\n-\t|| contents.isDataFlavorSupported(DataFlavor\n-\t\t\t\t\t  .getTextPlainUnicodeFlavor()))\n+        || contents.isDataFlavorSupported(DataFlavor.stringFlavor)\n+        || contents.isDataFlavorSupported(DataFlavor.plainTextFlavor)\n+        || contents.isDataFlavorSupported(DataFlavor.getTextPlainUnicodeFlavor()))\n       text = true;\n \n     DataFlavor[] flavors = contents.getTransferDataFlavors();\n     String[] mimeTargets = new String[flavors.length];\n     for (int i = 0; i < flavors.length; i++)\n       {\n-\tDataFlavor flavor = flavors[i];\n-\tString mimeType = flavor.getMimeType();\n-\tmimeTargets[i] = mimeType;\n-\n-\tif (! text)\n-\t  if (\"text\".equals(flavor.getPrimaryType())\n-\t      || flavor.isRepresentationClassReader())\n-\t    text = true;\n-\n-\tif (! images && flavors[i].equals(DataFlavor.imageFlavor))\n-\t  {\n-\t    try\n-\t      {\n-\t\tObject o = contents.getTransferData(DataFlavor.imageFlavor);\n-\t\tif (o instanceof Image)\n-\t\t  images = true;\n-\t      }\n-\t    catch (UnsupportedFlavorException ufe)\n-\t      {\n-\t      }\n-\t    catch (IOException ioe)\n-\t      {\n-\t      }\n-\t    catch (ClassCastException cce)\n-\t      {\n-\t      }\n-\t  }\n-\n-\tif (flavors[i].equals(DataFlavor.javaFileListFlavor))\n-\t  files = true;\n+        DataFlavor flavor = flavors[i];\n+        String mimeType = flavor.getMimeType();\n+        mimeTargets[i] = mimeType;\n+\n+        if (! text)\n+          if (\"text\".equals(flavor.getPrimaryType())\n+              || flavor.isRepresentationClassReader())\n+            text = true;\n+\n+        if (! images && flavors[i].equals(DataFlavor.imageFlavor))\n+          {\n+            try\n+              {\n+                Object o = contents.getTransferData(DataFlavor.imageFlavor);\n+                if (o instanceof Image)\n+                  images = true;\n+              }\n+            catch (UnsupportedFlavorException ufe)\n+              {\n+              }\n+            catch (IOException ioe)\n+              {\n+              }\n+            catch (ClassCastException cce)\n+              {\n+              }\n+          }\n+\n+        if (flavors[i].equals(DataFlavor.javaFileListFlavor))\n+          files = true;\n       }\n \n     advertiseContent(mimeTargets, text, images, files);\n@@ -207,9 +206,9 @@ public synchronized void setContents(Transferable contents,\n    * selection has explicitly been erased.\n    */\n   private native void advertiseContent(String[] targets,\n-\t\t\t\t       boolean text,\n-\t\t\t\t       boolean images,\n-\t\t\t\t       boolean files);\n+                                       boolean text,\n+                                       boolean images,\n+                                       boolean files);\n   \n   /**\n    * Called by the gtk+ clipboard when an application has requested\n@@ -228,7 +227,7 @@ private String provideText()\n         try\n           {\n             return (String) contents.getTransferData(DataFlavor.stringFlavor);\n-\t  }\n+          }\n         catch (UnsupportedFlavorException ufe)\n           {\n           }\n@@ -244,20 +243,20 @@ private String provideText()\n     // turn the result into a string.\n     try\n       {\n-\tDataFlavor plainText = DataFlavor.getTextPlainUnicodeFlavor();\n-\tReader r = plainText.getReaderForText(contents);\n-\tif (r != null)\n-\t  {\n-\t    StringBuffer sb = new StringBuffer();\n-\t    char[] cs = new char[1024];\n-\t    int l = r.read(cs);\n-\t    while (l != -1)\n-\t      {\n-\t\tsb.append(cs, 0, l);\n-\t\tl = r.read(cs);\n-\t      }\n-\t    return sb.toString();\n-\t  }\n+        DataFlavor plainText = DataFlavor.getTextPlainUnicodeFlavor();\n+        Reader r = plainText.getReaderForText(contents);\n+        if (r != null)\n+          {\n+            StringBuffer sb = new StringBuffer();\n+            char[] cs = new char[1024];\n+            int l = r.read(cs);\n+            while (l != -1)\n+              {\n+                sb.append(cs, 0, l);\n+                l = r.read(cs);\n+              }\n+            return sb.toString();\n+          }\n       }\n     catch (IllegalArgumentException iae)\n       {\n@@ -288,11 +287,11 @@ private GtkImage provideImage()\n \n     try\n       {\n-\tObject o = contents.getTransferData(DataFlavor.imageFlavor);\n-\tif( o instanceof GtkImage )\n-\t  return (GtkImage) o;\n-\telse\n-\t  return new GtkImage(((Image)o).getSource());\n+        Object o = contents.getTransferData(DataFlavor.imageFlavor);\n+        if( o instanceof GtkImage )\n+          return (GtkImage) o;\n+        else\n+          return new GtkImage(((Image)o).getSource());\n       }\n     catch (UnsupportedFlavorException ufe)\n       {\n@@ -321,14 +320,13 @@ private String[] provideURIs()\n \n     try\n       {\n-\tList list = (List) contents.getTransferData\n-\t  (DataFlavor.javaFileListFlavor);\n-\tString[] uris = new String[list.size()];\n-\tint u = 0;\n-\tIterator it = list.iterator();\n-\twhile (it.hasNext())\n-\t  uris[u++] = ((File) it.next()).toURI().toString();\n-\treturn uris;\n+        List list = (List) contents.getTransferData(DataFlavor.javaFileListFlavor);\n+        String[] uris = new String[list.size()];\n+        int u = 0;\n+        Iterator it = list.iterator();\n+        while (it.hasNext())\n+          uris[u++] = ((File) it.next()).toURI().toString();\n+        return uris;\n       }\n     catch (UnsupportedFlavorException ufe)\n       {\n@@ -365,34 +363,34 @@ private byte[] provideContent(String target)\n     // the other provideXXX() methods.\n     try\n       {\n-\tDataFlavor flavor = new DataFlavor(target);\n-\tObject o = contents.getTransferData(flavor);\n-\n-\tif (o instanceof byte[])\n-\t  return (byte[]) o;\n-\n-\tif (o instanceof InputStream)\n-\t  {\n-\t    InputStream is = (InputStream) o;\n-\t    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n-\t    byte[] bs = new byte[1024];\n-\t    int l = is.read(bs);\n-\t    while (l != -1)\n-\t      {\n-\t\tbaos.write(bs, 0, l);\n-\t\tl = is.read(bs);\n-\t      }\n-\t    return baos.toByteArray();\n-\t  }\n-\n-\tif (o instanceof Serializable)\n-\t  {\n-\t    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n-\t    ObjectOutputStream oos = new ObjectOutputStream(baos);\n-\t    oos.writeObject(o);\n-\t    oos.close();\n-\t    return baos.toByteArray();\n-\t  }\n+        DataFlavor flavor = new DataFlavor(target);\n+        Object o = contents.getTransferData(flavor);\n+\n+        if (o instanceof byte[])\n+          return (byte[]) o;\n+\n+        if (o instanceof InputStream)\n+          {\n+            InputStream is = (InputStream) o;\n+            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+            byte[] bs = new byte[1024];\n+            int l = is.read(bs);\n+            while (l != -1)\n+              {\n+                baos.write(bs, 0, l);\n+                l = is.read(bs);\n+              }\n+            return baos.toByteArray();\n+          }\n+\n+        if (o instanceof Serializable)\n+          {\n+            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+            ObjectOutputStream oos = new ObjectOutputStream(baos);\n+            oos.writeObject(o);\n+            oos.close();\n+            return baos.toByteArray();\n+          }\n       }\n     catch (ClassNotFoundException cnfe)\n       {\n@@ -416,8 +414,8 @@ private byte[] provideContent(String target)\n    * Clipboard can be cached (gdk_display_supports_selection_notification).\n    */\n   private static native boolean initNativeState(GtkClipboard clipboard,\n-\t\t\t\t\t\tGtkClipboard selection,\n-\t\t\t\t\t\tString stringTarget,\n-\t\t\t\t\t\tString imageTarget,\n-\t\t\t\t\t\tString filesTarget);\n+                                                GtkClipboard selection,\n+                                                String stringTarget,\n+                                                String imageTarget,\n+                                                String filesTarget);\n }"}, {"sha": "8e593455774487cf6e3724715503f77bfa0b6d10", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkClipboardNotifier.java", "status": "modified", "additions": 42, "deletions": 43, "changes": 85, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkClipboardNotifier.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkClipboardNotifier.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkClipboardNotifier.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -74,11 +74,11 @@ static void announce(GtkClipboard clipboard)\n   {\n     synchronized (notifier)\n       {\n-\tif (clipboard == GtkClipboard.clipboard)\n-\t  announceClipboardChange = true;\n-\telse\n-\t  announcePrimaryChange = true;\n-\tnotifier.notifyAll();\n+        if (clipboard == GtkClipboard.clipboard)\n+          announceClipboardChange = true;\n+        else\n+          announcePrimaryChange = true;\n+        notifier.notifyAll();\n       }\n   }\n \n@@ -87,44 +87,43 @@ public void run()\n     GtkClipboard clipboard;\n     while (true)\n       {\n-\tsynchronized (this)\n-\t  {\n-\t    while (! announceClipboardChange && ! announcePrimaryChange)\n-\t      {\n-\t\ttry\n-\t\t  {\n-\t\t    this.wait();\n-\t\t  }\n-\t\tcatch (InterruptedException ie)\n-\t\t  {\n-\t\t    // ignore\n-\t\t  }\n-\t      }\n-\n-\t    if (announceClipboardChange)\n-\t      {\n-\t\tclipboard = GtkClipboard.clipboard;\n-\t\tannounceClipboardChange = false;\n-\t      }\n-\t    else\n-\t      {\n-\t\tclipboard = GtkClipboard.selection;\n-\t\tannouncePrimaryChange = false;\n-\t      }\n-\t  }\n-\n-\t// Do the actual announcement without the lock held.  We will\n-\t// notice a new change after this notification has finished.\n-\ttry\n-\t  {\n-\t    clipboard.setContents(new GtkSelection(clipboard), null);\n-\t  }\n-\tcatch (Throwable t)\n-\t  {\n-\t    // should never happen, but might if we have some faulty\n-\t    // listener.\n-\t    t.printStackTrace();\n-\t  }\n+        synchronized (this)\n+          {\n+            while (! announceClipboardChange && ! announcePrimaryChange)\n+              {\n+                try\n+                  {\n+                    this.wait();\n+                  }\n+                catch (InterruptedException ie)\n+                  {\n+                    // ignore\n+                  }\n+              }\n+\n+            if (announceClipboardChange)\n+              {\n+                clipboard = GtkClipboard.clipboard;\n+                announceClipboardChange = false;\n+              }\n+            else\n+              {\n+                clipboard = GtkClipboard.selection;\n+                announcePrimaryChange = false;\n+              }\n+          }\n+\n+        // Do the actual announcement without the lock held.  We will\n+        // notice a new change after this notification has finished.\n+        try\n+          {\n+            clipboard.setContents(new GtkSelection(clipboard), null);\n+          }\n+        catch (Throwable t)\n+          {\n+            // should never happen, but might if we have some faulty listener.\n+            t.printStackTrace();\n+          }\n       }\n   }\n }"}, {"sha": "a7ae8e17f2b58705c19ac703f635842b2ff0d014", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkComponentPeer.java", "status": "modified", "additions": 35, "deletions": 35, "changes": 70, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkComponentPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkComponentPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkComponentPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -109,7 +109,7 @@ public class GtkComponentPeer extends GtkGenericPeer\n   native void gtkWidgetGetLocationOnScreen (int[] point);\n   native void gtkWidgetSetCursor (int type, GtkImage image, int x, int y);\n   native void gtkWidgetSetCursorUnlocked (int type, GtkImage image,\n-\t\t\t\t\t  int x, int y);\n+                                          int x, int y);\n   native void gtkWidgetSetBackground (int red, int green, int blue);\n   native void gtkWidgetSetForeground (int red, int green, int blue);\n   native void gtkWidgetSetSensitive (boolean sensitive);\n@@ -206,7 +206,7 @@ void setVisibleAndEnabled ()\n   }\n \n   public int checkImage (Image image, int width, int height, \n-\t\t\t ImageObserver observer) \n+                         ImageObserver observer) \n   {\n     return getToolkit().checkImage(image, width, height, observer);\n   }\n@@ -402,7 +402,7 @@ public Dimension preferredSize ()\n   }\n \n   public boolean prepareImage (Image image, int width, int height,\n-\t\t\t       ImageObserver observer) \n+                               ImageObserver observer) \n   {\n     return getToolkit().prepareImage(image, width, height, observer);\n   }\n@@ -539,17 +539,17 @@ public void setCursor (Cursor cursor)\n     int type = cursor.getType();\n     if (cursor instanceof GtkCursor)\n       {\n-\tGtkCursor gtkCursor = (GtkCursor) cursor;\n-\timage = gtkCursor.getGtkImage();\n-\tPoint hotspot = gtkCursor.getHotspot();\n-\tx = hotspot.x;\n-\ty = hotspot.y;\n+        GtkCursor gtkCursor = (GtkCursor) cursor;\n+        image = gtkCursor.getGtkImage();\n+        Point hotspot = gtkCursor.getHotspot();\n+        x = hotspot.x;\n+        y = hotspot.y;\n       }\n     else\n       {\n-\timage = null;\n-\tx = 0;\n-\ty = 0;\n+        image = null;\n+        x = 0;\n+        y = 0;\n       }\n \n     if (Thread.currentThread() == GtkMainThread.mainThread)\n@@ -597,7 +597,7 @@ public void setVisible (boolean b)\n     if (b && ! (awtComponent instanceof Window))\n       {\n         Rectangle bounds = awtComponent.getBounds();\n-\tb = (bounds.width > 0) && (bounds.height > 0);\n+        b = (bounds.width > 0) && (bounds.height > 0);\n       }\n \n     if (Thread.currentThread() == GtkMainThread.mainThread)\n@@ -617,23 +617,23 @@ public void show ()\n   }\n \n   protected void postMouseEvent(int id, long when, int mods, int x, int y, \n-\t\t\t\tint clickCount, boolean popupTrigger) \n+                                int clickCount, boolean popupTrigger) \n   {\n     q().postEvent(new MouseEvent(awtComponent, id, when, mods, x, y, \n-\t\t\t       clickCount, popupTrigger));\n+                                 clickCount, popupTrigger));\n   }\n \n   /**\n    * Callback for component_scroll_cb.\n    */\n   protected void postMouseWheelEvent(int id, long when, int mods,\n-\t\t\t\t     int x, int y, int clickCount,\n-\t\t\t\t     boolean popupTrigger,\n-\t\t\t\t     int type, int amount, int rotation) \n+                                     int x, int y, int clickCount,\n+                                     boolean popupTrigger,\n+                                     int type, int amount, int rotation) \n   {\n     q().postEvent(new MouseWheelEvent(awtComponent, id, when, mods,\n-\t\t\t\t      x, y, clickCount, popupTrigger,\n-\t\t\t\t      type, amount, rotation));\n+                                      x, y, clickCount, popupTrigger,\n+                                      type, amount, rotation));\n   }\n \n   protected void postExposeEvent (int x, int y, int width, int height)\n@@ -659,12 +659,12 @@ protected void postKeyEvent (int id, long when, int mods,\n             && keyCode != KeyEvent.VK_ALT))\n       {\n         synchronized(q)\n-\t  {\n-\t    q.postEvent(keyEvent);\n-\t    keyEvent = new KeyEvent(awtComponent, KeyEvent.KEY_TYPED, when,\n-\t\t\t\t    mods, KeyEvent.VK_UNDEFINED, keyChar,\n-\t\t\t\t    keyLocation);\n-\t    q.postEvent(keyEvent);\n+          {\n+            q.postEvent(keyEvent);\n+            keyEvent = new KeyEvent(awtComponent, KeyEvent.KEY_TYPED, when,\n+                                    mods, KeyEvent.VK_UNDEFINED, keyChar,\n+                                    keyLocation);\n+            q.postEvent(keyEvent);\n           }\n       }\n     else\n@@ -685,8 +685,8 @@ protected void postFocusEvent (int id, boolean temporary)\n   protected void postItemEvent (Object item, int stateChange)\n   {\n     q().postEvent (new ItemEvent ((ItemSelectable)awtComponent, \n-\t\t\t\tItemEvent.ITEM_STATE_CHANGED,\n-\t\t\t\titem, stateChange));\n+                                  ItemEvent.ITEM_STATE_CHANGED,\n+                                  item, stateChange));\n   }\n \n   protected void postTextEvent ()\n@@ -828,8 +828,8 @@ public void createBuffers (int numBuffers, BufferCapabilities caps)\n     // buffer and one front buffer.\n     if (numBuffers == 2)\n       backBuffer = new GtkVolatileImage(this, awtComponent.getWidth(),\n-\t\t\t\t\tawtComponent.getHeight(),\n-\t\t\t\t\tcaps.getBackBufferCapabilities());\n+                                        awtComponent.getHeight(),\n+                                        caps.getBackBufferCapabilities());\n     else\n       throw new AWTException(\"GtkComponentPeer.createBuffers:\"\n \t\t\t     + \" multi-buffering not supported\");\n@@ -846,18 +846,18 @@ public Image getBackBuffer ()\n   public void flip (BufferCapabilities.FlipContents contents)\n   {\n     getGraphics().drawImage(backBuffer,\n-\t\t\t    awtComponent.getWidth(),\n-\t\t\t    awtComponent.getHeight(),\n-\t\t\t    null);\n+                            awtComponent.getWidth(),\n+                            awtComponent.getHeight(),\n+                            null);\n \n     // create new back buffer and clear it to the background color.\n     if (contents == BufferCapabilities.FlipContents.BACKGROUND)\n \t{\n \t  backBuffer = createVolatileImage(awtComponent.getWidth(),\n-\t\t\t\t\t   awtComponent.getHeight());\n+\t                                   awtComponent.getHeight());\n \t  backBuffer.getGraphics().clearRect(0, 0,\n-\t\t\t\t\t     awtComponent.getWidth(),\n-\t\t\t\t\t     awtComponent.getHeight());\n+\t                                     awtComponent.getWidth(),\n+\t                                     awtComponent.getHeight());\n \t}\n     // FIXME: support BufferCapabilities.FlipContents.PRIOR\n   }"}, {"sha": "7d5ef91de13b33beb39b6570745f1c120a85e223", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkFileDialogPeer.java", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFileDialogPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFileDialogPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFileDialogPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -40,7 +40,6 @@\n \n import java.awt.Dialog;\n import java.awt.FileDialog;\n-import java.awt.Graphics;\n import java.awt.event.PaintEvent;\n import java.awt.peer.FileDialogPeer;\n import java.io.File;\n@@ -160,7 +159,8 @@ public void setFilenameFilter (FilenameFilter filter)\n      in turn call the filter's accept() method and give back the return\n      value. */\n   // called back by native side: filename_filter_cb\n-  boolean filenameFilterCallback (String fullname) {\n+  boolean filenameFilterCallback (String fullname)\n+  {\n     String filename = fullname.substring(fullname.lastIndexOf(FS) + 1);\n     String dirname = fullname.substring(0, fullname.lastIndexOf(FS));\n     File dir = new File(dirname);\n@@ -205,19 +205,19 @@ void gtkSetFilename (String fileName)\n     if (sepIndex < 0)\n       {\n         /* This should never happen on Unix (all paths start with '/') */\n-\tcurrentFile = fileName;\n+        currentFile = fileName;\n       }\n     else\n       {\n         if (fileName.length() > (sepIndex + 1))\n-\t  {\n-\t    String fn = fileName.substring (sepIndex + 1);\n-\t    currentFile = fn;\n-\t  }\n-\telse\n-\t  {\n+          {\n+            String fn = fileName.substring (sepIndex + 1);\n+            currentFile = fn;\n+          }\n+        else\n+          {\n             currentFile = null;\n-\t  }\n+          }\n \n         String dn = fileName.substring (0, sepIndex + 1);\n         currentDirectory = dn;"}, {"sha": "b35be52274646896b3759f0d0209eed4230b57aa", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkFramePeer.java", "status": "modified", "additions": 12, "deletions": 8, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFramePeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFramePeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFramePeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -1,5 +1,5 @@\n /* GtkFramePeer.java -- Implements FramePeer with GTK\n-   Copyright (C) 1999, 2002, 2004, 2006 Free Software Foundation, Inc.\n+   Copyright (C) 1999, 2002, 2004, 2006, 2007 Free Software Foundation, Inc.\n \n This file is part of GNU Classpath.\n \n@@ -176,13 +176,17 @@ void create ()\n \n   public void setIconImage (Image image) \n   {\n-      if (image != null)\n-\t{\n-\t  if (image instanceof GtkImage)\n-\t    nativeSetIconImage((GtkImage) image);\n-\t  else\n-\t    nativeSetIconImage(new GtkImage(image.getSource()));\n-\t}\n+    if (image != null)\n+      {\n+        GtkImage gtkImage;\n+        if (image instanceof GtkImage)\n+          gtkImage = (GtkImage) image;\n+\telse\n+\t  gtkImage = new GtkImage(image.getSource());\n+\n+        if (gtkImage.isLoaded && ! gtkImage.errorLoading)\n+          nativeSetIconImage(gtkImage);\n+      }\n   }\n \n   protected void postConfigureEvent (int x, int y, int width, int height)"}, {"sha": "719669eae0d5b7c888631ab53e13de1e1e219c45", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkImage.java", "status": "modified", "additions": 69, "deletions": 69, "changes": 138, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkImage.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkImage.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkImage.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "patch": "@@ -71,7 +71,7 @@ public class GtkImage extends Image\n   /**\n    * Properties.\n    */\n-  Hashtable props;\n+  Hashtable<?,?> props;\n \n   /**\n    * Loaded or not flag, for asynchronous compatibility.\n@@ -87,7 +87,7 @@ public class GtkImage extends Image\n   /**\n    * Observer queue.\n    */\n-  Vector observers;\n+  Vector<ImageObserver> observers;\n \n   /**\n    * Error flag for loading.\n@@ -103,10 +103,10 @@ public class GtkImage extends Image\n    * The 32-bit AABBGGRR format the GDK uses.\n    */\n   static ColorModel nativeModel = new DirectColorModel(32, \n-\t\t\t\t\t\t       0x000000FF,\n-\t\t\t\t\t\t       0x0000FF00,\n-\t\t\t\t\t\t       0x00FF0000,\n-\t\t\t\t\t\t       0xFF000000);\n+                                                       0x000000FF,\n+                                                       0x0000FF00,\n+                                                       0x00FF0000,\n+                                                       0xFF000000);\n \n   /**\n    * The singleton GtkImage that is returned on errors by GtkToolkit.\n@@ -178,7 +178,7 @@ public class GtkImage extends Image\n   public GtkImage (ImageProducer producer)\n   {\n     isLoaded = false;\n-    observers = new Vector();\n+    observers = new Vector<ImageObserver>();\n     source = producer;\n     errorLoading = false;\n     source.startProduction(new GtkImageConsumer(this, source));\n@@ -194,7 +194,7 @@ public GtkImage ()\n   {\n     isLoaded = true;\n     observers = null;\n-    props = new Hashtable();\n+    props = new Hashtable<String,Object>();\n     errorLoading = false;\n   }\n \n@@ -208,26 +208,26 @@ public GtkImage (String filename)\n     File f = new File(filename);\n     try\n       {\n-\tString path = f.getCanonicalPath();\n-\tsynchronized(pixbufLock)\n-\t  {\n-\t    if (loadPixbuf(f.getCanonicalPath()) != true)\n-\t      throw new IllegalArgumentException(\"Couldn't load image: \"\n-\t\t\t\t\t\t + filename);\n-\t  }\n+        String path = f.getCanonicalPath();\n+        synchronized(pixbufLock)\n+          {\n+            if (loadPixbuf(f.getCanonicalPath()) != true)\n+              throw new IllegalArgumentException(\"Couldn't load image: \"\n+                                                 + filename);\n+          }\n       } \n     catch(IOException e)\n       {\n-\tIllegalArgumentException iae;\n-\tiae = new IllegalArgumentException(\"Couldn't load image: \"\n-\t\t\t\t\t   + filename);\n-\tiae.initCause(e);\n-\tthrow iae;\n+        IllegalArgumentException iae;\n+        iae = new IllegalArgumentException(\"Couldn't load image: \"\n+                                           + filename);\n+        iae.initCause(e);\n+        throw iae;\n       }\n \n     isLoaded = true;\n     observers = null;\n-    props = new Hashtable();\n+    props = new Hashtable<String,Object>();\n   }\n \n   /**\n@@ -240,13 +240,13 @@ public GtkImage (byte[] data)\n   {\n     synchronized(pixbufLock)\n       {\n-\tif (loadImageFromData (data) != true)\n-\t  throw new IllegalArgumentException (\"Couldn't load image.\");\n+        if (loadImageFromData (data) != true)\n+          throw new IllegalArgumentException (\"Couldn't load image.\");\n       }\n \n     isLoaded = true;\n     observers = null;\n-    props = new Hashtable();\n+    props = new Hashtable<String,Object>();\n     errorLoading = false;\n   }\n \n@@ -256,7 +256,7 @@ public GtkImage (byte[] data)\n   public GtkImage (URL url)\n   {\n     isLoaded = false;\n-    observers = new Vector();\n+    observers = new Vector<ImageObserver>();\n     errorLoading = false;\n     if( url == null)\n       return;\n@@ -269,23 +269,23 @@ public GtkImage (URL url)\n         int n = 0;\n \n         while ((n = bis.read(buf)) != -1)\n-\t  baos.write(buf, 0, n); \n+          baos.write(buf, 0, n); \n         bis.close();\n       }\n     catch(IOException e)\n       {\n-\tthrow new IllegalArgumentException (\"Couldn't load image.\");\n+        throw new IllegalArgumentException (\"Couldn't load image.\");\n       }\n     byte[] array = baos.toByteArray();\n     synchronized(pixbufLock)\n       {\n-\tif (loadImageFromData(array) != true)\n-\t  throw new IllegalArgumentException (\"Couldn't load image.\");\n+        if (loadImageFromData(array) != true)\n+          throw new IllegalArgumentException (\"Couldn't load image.\");\n       }\n \n     isLoaded = true;\n     observers = null;\n-    props = new Hashtable();\n+    props = new Hashtable<String,Object>();\n   }\n \n   /**\n@@ -295,14 +295,14 @@ private GtkImage (GtkImage src, int width, int height, int hints)\n   {\n     this.width = width;\n     this.height = height;\n-    props = new Hashtable();\n+    props = new Hashtable<String,Object>();\n     isLoaded = true;\n     observers = null;\n \n     // Use the GDK scaling method.\n     synchronized(pixbufLock)\n       {\n-\tcreateScaledPixbuf(src, hints);\n+        createScaledPixbuf(src, hints);\n       }\n   }\n \n@@ -315,11 +315,11 @@ private GtkImage (GtkImage src, int width, int height, int hints)\n     this.pixbuf = pixbuf;\n     synchronized(pixbufLock)\n       {\n-\tcreateFromPixbuf();\n+        createFromPixbuf();\n       }\n     isLoaded = true;\n     observers = null;\n-    props = new Hashtable();\n+    props = new Hashtable<String,Object>();\n   }\n \n   /**\n@@ -331,7 +331,7 @@ private GtkImage (GtkImage src, int width, int height, int hints)\n   {\n     this.width = width;\n     this.height = height;\n-    props = new Hashtable();\n+    props = new Hashtable<String,Object>();\n     isLoaded = true;\n     observers = null;\n     initFromBuffer( bufferPointer );\n@@ -346,8 +346,8 @@ static synchronized GtkImage getErrorImage()\n   {\n     if (errorImage == null)\n       {\n-\terrorImage = new GtkImage();\n-\terrorImage.errorLoading = true;\n+        errorImage = new GtkImage();\n+        errorImage.errorLoading = true;\n       }\n     return errorImage;\n   }\n@@ -362,25 +362,25 @@ static synchronized GtkImage getErrorImage()\n    * Callback from the image consumer.\n    */\n   public void setImage(int width, int height, \n-\t\t       int[] pixels, Hashtable properties)\n+\t\t       int[] pixels, Hashtable<?,?> properties)\n   {\n     this.width = width;\n     this.height = height;\n-    props = (properties != null) ? properties : new Hashtable();\n+    props = (properties != null) ? properties : new Hashtable<String,Object>();\n \n     if (width <= 0 || height <= 0 || pixels == null)\n       {\n-\terrorLoading = true;\n-\treturn;\n+        errorLoading = true;\n+        return;\n       }\n \n-    isLoaded = true;\n-    deliver();\n     synchronized(pixbufLock)\n       {\n-\tcreatePixbuf();\n-\tsetPixels(pixels);\n+        createPixbuf();\n+        setPixels(pixels);\n       }\n+    isLoaded = true;\n+    deliver();\n   }\n \n   // java.awt.Image methods ////////////////////////////////////////////////\n@@ -427,7 +427,7 @@ public ImageProducer getSource ()\n           return null;\n       }\n     return new MemoryImageSource(width, height, nativeModel, pixels, \n-\t\t\t\t 0, width);\n+                                 0, width);\n   }\n \n   /**\n@@ -436,19 +436,19 @@ public ImageProducer getSource ()\n   public Graphics getGraphics ()\n   {\n     throw new IllegalAccessError(\"This method only works for off-screen\"\n-\t\t\t\t +\" Images.\");\n+                                 +\" Images.\");\n   }\n   \n   /**\n    * Returns a scaled instance of this pixbuf.\n    */\n   public Image getScaledInstance(int width,\n-\t\t\t\t int height,\n-\t\t\t\t int hints)\n+                                 int height,\n+                                 int hints)\n   {\n     if (width <= 0 || height <= 0)\n-      throw new IllegalArgumentException(\"Width and height of scaled bitmap\"+\n-\t\t\t\t\t \"must be >= 0\");\n+      throw new IllegalArgumentException(\"Width and height of scaled bitmap\"\n+                                         + \"must be >= 0\");\n \n     return new GtkImage(this, width, height, hints);\n   }\n@@ -465,24 +465,24 @@ public synchronized void flush ()\n   {\n     if (isLoaded && source != null)\n       {\n-\tobservers = new Vector();\n-\tisLoaded = false;\n-\tsynchronized(pixbufLock)\n+        observers = new Vector<ImageObserver>();\n+        isLoaded = false;\n+        synchronized(pixbufLock)\n \t  {\n \t    freePixbuf();\n \t  }\n-\tsource.startProduction(new GtkImageConsumer(this, source));\n+        source.startProduction(new GtkImageConsumer(this, source));\n       }\n   }\n \n   public void finalize()\n   {\n     if (isLoaded)\n       {\n-\tsynchronized(pixbufLock)\n-\t  {\n-\t    freePixbuf();\n-\t  }\n+        synchronized(pixbufLock)\n+          {\n+            freePixbuf();\n+          }\n       }\n   }\n \n@@ -493,10 +493,10 @@ public int checkImage (ImageObserver observer)\n   {\n     if (addObserver(observer))\n       {\n-\tif (errorLoading == true)\n-\t  return ImageObserver.ERROR;\n-\telse\n-\t  return 0;\n+        if (errorLoading == true)\n+          return ImageObserver.ERROR;\n+        else\n+          return 0;\n       }\n \n     return ImageObserver.ALLBITS | ImageObserver.WIDTH | ImageObserver.HEIGHT;\n@@ -517,8 +517,8 @@ private void deliver()\n \n     if (observers != null)\n       for(int i=0; i < observers.size(); i++)\n-\t((ImageObserver)observers.elementAt(i)).\n-\t  imageUpdate(this, flags, 0, 0, width, height);\n+        ((ImageObserver)observers.elementAt(i)).imageUpdate(this, flags, 0, 0,\n+                                                            width, height);\n \n     observers = null;\n   }\n@@ -531,10 +531,10 @@ private boolean addObserver(ImageObserver observer)\n   {\n     if (!isLoaded)\n       {\n-\tif(observer != null)\n-\t  if (!observers.contains (observer))\n-\t    observers.addElement (observer);\n-\treturn true;\n+        if(observer != null)\n+          if (!observers.contains (observer))\n+            observers.addElement (observer);\n+        return true;\n       }\n     return false;\n   }"}, {"sha": "44cfaf9266ab0969ae1639f391177497649f9d09", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkImageConsumer.java", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkImageConsumer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkImageConsumer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkImageConsumer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "76f8e5fe3315b1aee33caafd68b63459585c3003", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkLabelPeer.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkLabelPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkLabelPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkLabelPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f943a75d17163802208cc491f670d211fe12c7eb", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkListPeer.java", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkListPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkListPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkListPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e40a04eed92e2b800b5266feadf6c245f96b5708", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkMainThread.java", "status": "modified", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMainThread.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMainThread.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMainThread.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "c3427b18f36e1213e8bca813e38414e279cbdb53", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkMenuBarPeer.java", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuBarPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuBarPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuBarPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "1e37cefc1447243bf5a6cf68b2e77ee33b7e95b7", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkMenuComponentPeer.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuComponentPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuComponentPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuComponentPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "ff6bdca9fbed1d794b539193cabecb6911720331", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkMenuPeer.java", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMenuPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "7aea50991dfaf814a7851759dd130035c30e5e4a", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkMouseInfoPeer.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMouseInfoPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMouseInfoPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkMouseInfoPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "657a2760876da7615554c885ac328ffa59609e77", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkScrollPanePeer.java", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkScrollPanePeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkScrollPanePeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkScrollPanePeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "c29706f408f7a050b0613a9133abe89ba2169346", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkScrollbarPeer.java", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkScrollbarPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkScrollbarPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkScrollbarPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "967a2edb432ddd318c480a0869a6b7eb9dbaeaf6", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkSelection.java", "status": "modified", "additions": 323, "deletions": 319, "changes": 642, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkSelection.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkSelection.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkSelection.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "0c7d3a860e8ebe9131cd93dfad774a1c7fbfdca6", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkTextAreaPeer.java", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextAreaPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextAreaPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextAreaPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9e62c8e7975bc8db169c5ec2620f0186d186da46", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkTextFieldPeer.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextFieldPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextFieldPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkTextFieldPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "df18d39c9d28735f78181e2644447aa1e4cd2367", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkToolkit.java", "status": "modified", "additions": 68, "deletions": 46, "changes": 114, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkToolkit.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkToolkit.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkToolkit.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "1451dd93354a9ebc0db8b09b4364051ab148b633", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/GtkWindowPeer.java", "status": "modified", "additions": 28, "deletions": 32, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkWindowPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkWindowPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkWindowPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "88438862b34a9774c90da7d35a2e9c1aba639d6f", "filename": "libjava/classpath/gnu/java/awt/peer/gtk/VolatileImageGraphics.java", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FVolatileImageGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FVolatileImageGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FVolatileImageGraphics.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9b53b278b26df4a84602700173060b2421cd80cf", "filename": "libjava/classpath/gnu/java/awt/peer/qt/QtToolkit.java", "status": "modified", "additions": 25, "deletions": 24, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fqt%2FQtToolkit.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fqt%2FQtToolkit.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fqt%2FQtToolkit.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b86eea50b20b5567cd7e7956ed107d391a81a052", "filename": "libjava/classpath/gnu/java/awt/print/JavaPrinterGraphics.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fprint%2FJavaPrinterGraphics.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fprint%2FJavaPrinterGraphics.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fprint%2FJavaPrinterGraphics.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4e052a1d3f409631f314436477f3fc908f96b924", "filename": "libjava/classpath/gnu/java/awt/print/PostScriptGraphics2D.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fprint%2FPostScriptGraphics2D.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fprint%2FPostScriptGraphics2D.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fawt%2Fprint%2FPostScriptGraphics2D.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b78a8141384e194a525c42ad4dc1ce4537dedf28", "filename": "libjava/classpath/gnu/java/beans/encoder/ScanEngine.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fbeans%2Fencoder%2FScanEngine.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fbeans%2Fencoder%2FScanEngine.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fbeans%2Fencoder%2FScanEngine.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "1f5d220dbb627575e2735bebbf9d52115e46f584", "filename": "libjava/classpath/gnu/java/io/Base64InputStream.java", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fio%2FBase64InputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fio%2FBase64InputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fio%2FBase64InputStream.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "2500f6b14b50a00b3180ba79055b5b6b3980e0cc", "filename": "libjava/classpath/gnu/java/io/class-dependencies.conf", "status": "removed", "additions": 0, "deletions": 75, "changes": 75, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fio%2Fclass-dependencies.conf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fio%2Fclass-dependencies.conf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fio%2Fclass-dependencies.conf?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "59e79a550d3c7f5ed35bb4ca89e838a2b8fb1bfd", "filename": "libjava/classpath/gnu/java/lang/management/BeanImpl.java", "status": "modified", "additions": 43, "deletions": 194, "changes": 237, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FBeanImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FBeanImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FBeanImpl.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "07fb7bf0355cee32513b7291e1862d792f5f7516", "filename": "libjava/classpath/gnu/java/lang/management/OperatingSystemMXBeanImpl.java", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FOperatingSystemMXBeanImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FOperatingSystemMXBeanImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FOperatingSystemMXBeanImpl.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "5d0282301e33df85beafac9973772dc72ce8166b", "filename": "libjava/classpath/gnu/java/lang/management/ThreadMXBeanImpl.java", "status": "modified", "additions": 61, "deletions": 1, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FThreadMXBeanImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FThreadMXBeanImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Flang%2Fmanagement%2FThreadMXBeanImpl.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4fefd1639798f338732504bab558155777479718", "filename": "libjava/classpath/gnu/java/locale/LocaleHelper.java", "status": "modified", "additions": 33, "deletions": 94, "changes": 127, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flocale%2FLocaleHelper.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Flocale%2FLocaleHelper.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Flocale%2FLocaleHelper.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e0284c329b9ce22dda844449f91178c622fe8b03", "filename": "libjava/classpath/gnu/java/math/Fixed.java", "status": "added", "additions": 207, "deletions": 0, "changes": 207, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fmath%2FFixed.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fmath%2FFixed.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fmath%2FFixed.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "901aa0c35fcb8fbd5b7408c53e9d13de598bdbca", "filename": "libjava/classpath/gnu/java/net/BASE64.java", "status": "removed", "additions": 0, "deletions": 190, "changes": 190, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FBASE64.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FBASE64.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FBASE64.java?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "e3d1b8e5a961cb4a9660e2e739ae3fbb409af8fe", "filename": "libjava/classpath/gnu/java/net/DefaultContentHandlerFactory.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FDefaultContentHandlerFactory.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FDefaultContentHandlerFactory.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FDefaultContentHandlerFactory.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "fa76015552b800b5b02e7e8ee1dd25c3799d814e", "filename": "libjava/classpath/gnu/java/net/GetLocalHostAction.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FGetLocalHostAction.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FGetLocalHostAction.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FGetLocalHostAction.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "a8d13ce153b9a2454f2ac219474bd03b1294a1e2", "filename": "libjava/classpath/gnu/java/net/HeaderFieldHelper.java", "status": "modified", "additions": 9, "deletions": 10, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FHeaderFieldHelper.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FHeaderFieldHelper.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FHeaderFieldHelper.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "2d90ceb643354b625814f12b298bd55f180352ea", "filename": "libjava/classpath/gnu/java/net/IndexListParser.java", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FIndexListParser.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FIndexListParser.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2FIndexListParser.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "40194be799aa46bf3c31d1aa8dcecdd253898fda", "filename": "libjava/classpath/gnu/java/net/loader/JarURLLoader.java", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FJarURLLoader.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FJarURLLoader.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FJarURLLoader.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "5228bcac96dc4ac5e4a41fb4c5969361fb5bdf70", "filename": "libjava/classpath/gnu/java/net/loader/URLLoader.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FURLLoader.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FURLLoader.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FURLLoader.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b7b8bf12bf10b0fe6e864301299ace4cad914a3f", "filename": "libjava/classpath/gnu/java/net/loader/URLStreamHandlerCache.java", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FURLStreamHandlerCache.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FURLStreamHandlerCache.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Floader%2FURLStreamHandlerCache.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9d8a6ccdf324ff2d293b01d597c9929bd3412ff9", "filename": "libjava/classpath/gnu/java/net/local/LocalServerSocket.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Flocal%2FLocalServerSocket.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Flocal%2FLocalServerSocket.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Flocal%2FLocalServerSocket.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "92acc65bb623e84d704361b072e6475777174743", "filename": "libjava/classpath/gnu/java/net/local/LocalSocket.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Flocal%2FLocalSocket.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Flocal%2FLocalSocket.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Flocal%2FLocalSocket.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "fd79019183a950e755dde2f76a89111e3877db3d", "filename": "libjava/classpath/gnu/java/net/protocol/ftp/FTPConnection.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fftp%2FFTPConnection.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fftp%2FFTPConnection.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fftp%2FFTPConnection.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "cfad5a7c1a6ee656af37828323a00dd4588d21bf", "filename": "libjava/classpath/gnu/java/net/protocol/ftp/FTPURLConnection.java", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fftp%2FFTPURLConnection.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fftp%2FFTPURLConnection.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fftp%2FFTPURLConnection.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "8abef71d521d6ccc9005f1f338a44642a2b7260a", "filename": "libjava/classpath/gnu/java/net/protocol/http/ChunkedInputStream.java", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FChunkedInputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FChunkedInputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FChunkedInputStream.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9d19bfbdba44f423819ef01ae52bdf9c5b457d55", "filename": "libjava/classpath/gnu/java/net/protocol/http/HTTPConnection.java", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHTTPConnection.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHTTPConnection.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHTTPConnection.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b31f426695faa73337e62c647a523dc0f67f70ce", "filename": "libjava/classpath/gnu/java/net/protocol/http/HTTPURLConnection.java", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHTTPURLConnection.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHTTPURLConnection.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHTTPURLConnection.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "c8736bbac8fe68cb843e5b5b4c4fbcc7cbe4f435", "filename": "libjava/classpath/gnu/java/net/protocol/http/Headers.java", "status": "modified", "additions": 23, "deletions": 22, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHeaders.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHeaders.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FHeaders.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "06a779f3311d169221b548450859ab7f8877bffc", "filename": "libjava/classpath/gnu/java/net/protocol/http/Request.java", "status": "modified", "additions": 7, "deletions": 10, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FRequest.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FRequest.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FRequest.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "fe05ba09e5e77f8f420c365071790bb0aacad4c7", "filename": "libjava/classpath/gnu/java/net/protocol/http/SimpleCookieManager.java", "status": "modified", "additions": 13, "deletions": 15, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FSimpleCookieManager.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FSimpleCookieManager.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fhttp%2FSimpleCookieManager.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "386aacef63e665ea5906aae94b9409769c87c0a9", "filename": "libjava/classpath/gnu/java/net/protocol/jar/Connection.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fjar%2FConnection.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fjar%2FConnection.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fjar%2FConnection.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "c57d0a360167d7987eb57851b559014f336015b6", "filename": "libjava/classpath/gnu/java/net/protocol/jar/Handler.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fjar%2FHandler.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fjar%2FHandler.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnet%2Fprotocol%2Fjar%2FHandler.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f56536d65ad3b85caf16fae600b3cd54c810ed51", "filename": "libjava/classpath/gnu/java/nio/ChannelInputStream.java", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2FChannelInputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2FChannelInputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2FChannelInputStream.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "0c509b985ff1082177eb9163106bfa2459f53533", "filename": "libjava/classpath/gnu/java/nio/SelectorProviderImpl.java", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2FSelectorProviderImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2FSelectorProviderImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2FSelectorProviderImpl.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e20254829566043dc038498de5da4ae7a0f97cc4", "filename": "libjava/classpath/gnu/java/nio/charset/ByteCharset.java", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2Fcharset%2FByteCharset.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2Fcharset%2FByteCharset.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2Fcharset%2FByteCharset.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "be7b4afe05d6c7225919127d903d2515511e83d1", "filename": "libjava/classpath/gnu/java/nio/charset/EncodingHelper.java", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2Fcharset%2FEncodingHelper.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2Fcharset%2FEncodingHelper.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fnio%2Fcharset%2FEncodingHelper.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9b2ae12dc27d471ea7d970aa3b20bf1b8f5d12a1", "filename": "libjava/classpath/gnu/java/security/util/Base64.java", "status": "removed", "additions": 0, "deletions": 349, "changes": 349, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Futil%2FBase64.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Futil%2FBase64.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Futil%2FBase64.java?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "14c5652648aa7904614a2357dda419796e31cfbe", "filename": "libjava/classpath/gnu/java/security/x509/X509Certificate.java", "status": "modified", "additions": 41, "deletions": 23, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2FX509Certificate.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2FX509Certificate.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2FX509Certificate.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "c451762f8e0a26dec19553a1b3f6d587adc302a6", "filename": "libjava/classpath/gnu/java/security/x509/ext/CertificatePolicies.java", "status": "modified", "additions": 42, "deletions": 26, "changes": 68, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FCertificatePolicies.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FCertificatePolicies.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FCertificatePolicies.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "428013d04bd131747b8d4891115e752e1dc29893", "filename": "libjava/classpath/gnu/java/security/x509/ext/ExtendedKeyUsage.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FExtendedKeyUsage.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FExtendedKeyUsage.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FExtendedKeyUsage.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "2b7e96d5abcfaf1b3758c6cb3d39f77d24910296", "filename": "libjava/classpath/gnu/java/security/x509/ext/Extension.java", "status": "modified", "additions": 10, "deletions": 6, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FExtension.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FExtension.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FExtension.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "fbc05339f6dbb01998004e7c2b3d3fc9c90e7e19", "filename": "libjava/classpath/gnu/java/security/x509/ext/GeneralName.java", "status": "added", "additions": 232, "deletions": 0, "changes": 232, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralName.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralName.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralName.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f56ee963b9c26dd0cfba268b5be92e7d30096ccf", "filename": "libjava/classpath/gnu/java/security/x509/ext/GeneralNames.java", "status": "modified", "additions": 6, "deletions": 86, "changes": 92, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralNames.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralNames.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralNames.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "5f6ffd987010c96a6bf46fa59568f75b8bd51cb6", "filename": "libjava/classpath/gnu/java/security/x509/ext/GeneralSubtree.java", "status": "added", "additions": 156, "deletions": 0, "changes": 156, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralSubtree.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralSubtree.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FGeneralSubtree.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "080070b9890dcb0101ac06cc4f968cbfff152265", "filename": "libjava/classpath/gnu/java/security/x509/ext/IssuerAlternativeNames.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FIssuerAlternativeNames.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FIssuerAlternativeNames.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FIssuerAlternativeNames.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "607c4296642641984a26bd1e208e3a2a83ca1b30", "filename": "libjava/classpath/gnu/java/security/x509/ext/NameConstraints.java", "status": "added", "additions": 161, "deletions": 0, "changes": 161, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FNameConstraints.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FNameConstraints.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FNameConstraints.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "8b6347d99a388819867420192ee879e188d0b89b", "filename": "libjava/classpath/gnu/java/security/x509/ext/SubjectAlternativeNames.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FSubjectAlternativeNames.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FSubjectAlternativeNames.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Fsecurity%2Fx509%2Fext%2FSubjectAlternativeNames.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "592696bcc8080c1024bddbd1ae0eb6c04e5f6a3e", "filename": "libjava/classpath/gnu/java/util/Base64.java", "status": "renamed", "additions": 34, "deletions": 5, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2FBase64.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2FBase64.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2FBase64.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "previous_filename": "libjava/classpath/gnu/javax/net/ssl/Base64.java"}, {"sha": "f73c3e70311ee7ab65086394c9731fd9acbb453e", "filename": "libjava/classpath/gnu/java/util/prefs/EventDispatcher.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FEventDispatcher.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FEventDispatcher.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FEventDispatcher.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "0fd4df36616b538e5056c6095ed5eb1c5519c136", "filename": "libjava/classpath/gnu/java/util/prefs/GConfBasedPreferences.java", "status": "modified", "additions": 6, "deletions": 14, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FGConfBasedPreferences.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FGConfBasedPreferences.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FGConfBasedPreferences.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "dc82379160b30d09463aa1d5622477461ea1a20c", "filename": "libjava/classpath/gnu/java/util/prefs/MemoryBasedPreferences.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FMemoryBasedPreferences.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FMemoryBasedPreferences.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2FMemoryBasedPreferences.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "5e12c718b2c95663a5d6bcdf0fb827dc66c43d5a", "filename": "libjava/classpath/gnu/java/util/prefs/gconf/GConfNativePeer.java", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2Fgconf%2FGConfNativePeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2Fgconf%2FGConfNativePeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fprefs%2Fgconf%2FGConfNativePeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "42dcd93268ad42ca0dd84d44d639bddb677c2b4e", "filename": "libjava/classpath/gnu/java/util/regex/RETokenChar.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fregex%2FRETokenChar.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fregex%2FRETokenChar.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjava%2Futil%2Fregex%2FRETokenChar.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b6dc21e19cdd409292077124412159016eea5ae9", "filename": "libjava/classpath/gnu/javax/imageio/png/PNGICCProfile.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fimageio%2Fpng%2FPNGICCProfile.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fimageio%2Fpng%2FPNGICCProfile.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fimageio%2Fpng%2FPNGICCProfile.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "69191d43f8606cdaddc7db30e6f5c718a328a304", "filename": "libjava/classpath/gnu/javax/management/Translator.java", "status": "added", "additions": 544, "deletions": 0, "changes": 544, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fmanagement%2FTranslator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fmanagement%2FTranslator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fmanagement%2FTranslator.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4a37cd8b1f93572910f085e3a83f2e2557bea548", "filename": "libjava/classpath/gnu/javax/net/ssl/PrivateCredentials.java", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2FPrivateCredentials.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2FPrivateCredentials.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2FPrivateCredentials.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4a7f924e87daa5941d46370f2f2f8598aa9602ce", "filename": "libjava/classpath/gnu/javax/net/ssl/provider/SSLEngineImpl.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2Fprovider%2FSSLEngineImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2Fprovider%2FSSLEngineImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2Fprovider%2FSSLEngineImpl.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e6981c9c79d966e31686c4cacfb6524ac1190948", "filename": "libjava/classpath/gnu/javax/net/ssl/provider/SSLRSASignatureImpl.java", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2Fprovider%2FSSLRSASignatureImpl.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2Fprovider%2FSSLRSASignatureImpl.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fnet%2Fssl%2Fprovider%2FSSLRSASignatureImpl.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "40adb783ee1c0cd769ee2387acd2c730f0bf68ef", "filename": "libjava/classpath/gnu/javax/security/auth/login/ConfigFileParser.java", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsecurity%2Fauth%2Flogin%2FConfigFileParser.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsecurity%2Fauth%2Flogin%2FConfigFileParser.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsecurity%2Fauth%2Flogin%2FConfigFileParser.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "3810dff4736ab4d7c65e76ef59d66fafbec9838b", "filename": "libjava/classpath/gnu/javax/sound/midi/alsa/AlsaMidiSequencerDevice.java", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Falsa%2FAlsaMidiSequencerDevice.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Falsa%2FAlsaMidiSequencerDevice.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Falsa%2FAlsaMidiSequencerDevice.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "0e59bc8d6693806d80654c6e8872be1788823f83", "filename": "libjava/classpath/gnu/javax/sound/midi/alsa/AlsaPortDevice.java", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Falsa%2FAlsaPortDevice.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Falsa%2FAlsaPortDevice.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Falsa%2FAlsaPortDevice.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "2682186269182963dd5da924eec5e39bd8cb54a4", "filename": "libjava/classpath/gnu/javax/sound/midi/dssi/DSSISynthesizer.java", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Fdssi%2FDSSISynthesizer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Fdssi%2FDSSISynthesizer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fsound%2Fmidi%2Fdssi%2FDSSISynthesizer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "77bac127dce2a21ebdad11d82b0cfefe7a6fc8ff", "filename": "libjava/classpath/gnu/javax/swing/text/html/CharacterAttributeTranslator.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2FCharacterAttributeTranslator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2FCharacterAttributeTranslator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2FCharacterAttributeTranslator.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "1f8fdfa2258c166d49c15f9f89d75e06ccd8e697", "filename": "libjava/classpath/gnu/javax/swing/text/html/css/CSSParser.java", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fcss%2FCSSParser.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fcss%2FCSSParser.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fcss%2FCSSParser.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "5924e0fb9897e7bf6aff5ed5e6a51a4ea9fd9581", "filename": "libjava/classpath/gnu/javax/swing/text/html/parser/gnuDTD.java", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fparser%2FgnuDTD.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fparser%2FgnuDTD.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fparser%2FgnuDTD.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "c0d1e636e9239177d7317e0ace9541f9e80b8e4f", "filename": "libjava/classpath/gnu/javax/swing/text/html/parser/support/Parser.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fparser%2Fsupport%2FParser.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fparser%2Fsupport%2FParser.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fjavax%2Fswing%2Ftext%2Fhtml%2Fparser%2Fsupport%2FParser.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e62ce207639ae35f73ffb1c219d3eef9a8ea092d", "filename": "libjava/classpath/gnu/xml/dom/DomDocumentBuilder.java", "status": "modified", "additions": 50, "deletions": 5, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2FDomDocumentBuilder.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2FDomDocumentBuilder.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2FDomDocumentBuilder.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "88f9bae23fef0fbe543776182070324901ad51cb", "filename": "libjava/classpath/gnu/xml/dom/ls/DomLSParser.java", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2Fls%2FDomLSParser.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2Fls%2FDomLSParser.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Fdom%2Fls%2FDomLSParser.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "da527b96587debea588ca9c4c8e91b4af713c739", "filename": "libjava/classpath/gnu/xml/pipeline/DomConsumer.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fpipeline%2FDomConsumer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fpipeline%2FDomConsumer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Fpipeline%2FDomConsumer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "af4a6af421712a38ddd01be87db682ed41184810", "filename": "libjava/classpath/gnu/xml/stream/SAXParser.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fstream%2FSAXParser.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fstream%2FSAXParser.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Fstream%2FSAXParser.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "fae4afec808525c55790b69df476c8f0c0f7883b", "filename": "libjava/classpath/gnu/xml/stream/XMLParser.java", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fstream%2FXMLParser.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Fstream%2FXMLParser.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Fstream%2FXMLParser.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f3704cd25c7fc711701da1f4303ca7eb4f74b9f8", "filename": "libjava/classpath/gnu/xml/util/XCat.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Futil%2FXCat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fgnu%2Fxml%2Futil%2FXCat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fgnu%2Fxml%2Futil%2FXCat.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9cb9a05cfc2b8da9f4ba8c75734fffae6993569f", "filename": "libjava/classpath/include/Makefile.am", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2FMakefile.am?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "d2f0707de2cc26d07e77e530f1c980489e692615", "filename": "libjava/classpath/include/Makefile.in", "status": "modified", "additions": 26, "deletions": 7, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2FMakefile.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e92dbf159843696711dfae3a8c3fd4fd44cb62a9", "filename": "libjava/classpath/include/config-int.h", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fconfig-int.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fconfig-int.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fconfig-int.h?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "a0e3150c5c94e77424eb338a8b0d206582e75e2a", "filename": "libjava/classpath/include/config.h.in", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fconfig.h.in?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "3ae95a283e56e09b74a8532c5442af44a77ca842", "filename": "libjava/classpath/include/gnu_java_awt_peer_gtk_CairoGraphics2D.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_CairoGraphics2D.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_CairoGraphics2D.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_CairoGraphics2D.h?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "ba7a1f57337feafb997ccb601fb52a469697f023", "filename": "libjava/classpath/include/gnu_java_awt_peer_gtk_CairoSurface.h", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_CairoSurface.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_CairoSurface.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_CairoSurface.h?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "95463229347e7d46ab678ca32ea0a176d7da05c0", "filename": "libjava/classpath/include/gnu_java_awt_peer_gtk_FreetypeGlyphVector.h", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_FreetypeGlyphVector.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_FreetypeGlyphVector.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_FreetypeGlyphVector.h?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "1db809878fb77d37810c7d64d4000c7ab574ece3", "filename": "libjava/classpath/include/gnu_java_awt_peer_gtk_GThreadNativeMethodRunner.h", "status": "removed", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_GThreadNativeMethodRunner.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_GThreadNativeMethodRunner.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_GThreadNativeMethodRunner.h?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "5bceda7ad7b83d14d82a3d4e3b770fdbc03ee0f9", "filename": "libjava/classpath/include/gnu_java_awt_peer_gtk_GtkToolkit.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_GtkToolkit.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_GtkToolkit.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fgnu_java_awt_peer_gtk_GtkToolkit.h?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "3f35dad2182657c8a89d1fee37f95bf2fa8b0d15", "filename": "libjava/classpath/include/gnu_java_lang_management_VMOperatingSystemMXBeanImpl.h", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_lang_management_VMOperatingSystemMXBeanImpl.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fgnu_java_lang_management_VMOperatingSystemMXBeanImpl.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fgnu_java_lang_management_VMOperatingSystemMXBeanImpl.h?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4b0273d11440c52d6a409ba8566c25a8762c5ca4", "filename": "libjava/classpath/include/java_io_VMFile.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fjava_io_VMFile.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finclude%2Fjava_io_VMFile.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finclude%2Fjava_io_VMFile.h?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4fbbae7b7ff932e5af542dbe9612f193a68ed4d1", "filename": "libjava/classpath/install-sh", "status": "modified", "additions": 459, "deletions": 203, "changes": 662, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finstall-sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Finstall-sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Finstall-sh?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "102062cdfe6f9dad0699ffd430e971ac084d040f", "filename": "libjava/classpath/java/awt/AWTEvent.java", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FAWTEvent.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FAWTEvent.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FAWTEvent.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e0b34e9923837d93f7f48409ce0c805390c265d1", "filename": "libjava/classpath/java/awt/AWTKeyStroke.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FAWTKeyStroke.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FAWTKeyStroke.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FAWTKeyStroke.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "90df2e66d8c1983ca4d20727f85798b5279627bb", "filename": "libjava/classpath/java/awt/AlphaComposite.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FAlphaComposite.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FAlphaComposite.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FAlphaComposite.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "95db1f57e1a3e3db3779142002b3cdc60ec4a242", "filename": "libjava/classpath/java/awt/Canvas.java", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FCanvas.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FCanvas.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FCanvas.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "35380d2370bc22ab979d2848036c77c752630964", "filename": "libjava/classpath/java/awt/CardLayout.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FCardLayout.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FCardLayout.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FCardLayout.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f8bed17618ea01ebbfd1b0fcd5cc78d00999b1f2", "filename": "libjava/classpath/java/awt/Component.java", "status": "modified", "additions": 27, "deletions": 33, "changes": 60, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FComponent.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FComponent.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FComponent.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "8010464c00d5d258ff23f4b9b9fb8b17da4077b9", "filename": "libjava/classpath/java/awt/Desktop.java", "status": "added", "additions": 268, "deletions": 0, "changes": 268, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FDesktop.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FDesktop.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FDesktop.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9f81a794415d8b088a43c1c754cdfdbfd855379f", "filename": "libjava/classpath/java/awt/EventDispatchThread.java", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FEventDispatchThread.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FEventDispatchThread.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FEventDispatchThread.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "eb17449a00c29102e57f1348b5c0f3261efde8bf", "filename": "libjava/classpath/java/awt/EventQueue.java", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FEventQueue.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FEventQueue.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FEventQueue.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "3cc8738c63f558caf60b894976d49925c9664a43", "filename": "libjava/classpath/java/awt/Frame.java", "status": "modified", "additions": 57, "deletions": 28, "changes": 85, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FFrame.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FFrame.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FFrame.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "3cf8b65db8f927d200734f5d42c0f9dbe0d007a9", "filename": "libjava/classpath/java/awt/GraphicsConfiguration.java", "status": "modified", "additions": 28, "deletions": 3, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FGraphicsConfiguration.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FGraphicsConfiguration.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FGraphicsConfiguration.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "e98a00c5baba9b01622f20c3d1eced1405d4fb40", "filename": "libjava/classpath/java/awt/RenderingHints.java", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FRenderingHints.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FRenderingHints.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FRenderingHints.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "305402e9541a99ff72c4b84f52d6c6c97b3d09ee", "filename": "libjava/classpath/java/awt/Toolkit.java", "status": "modified", "additions": 17, "deletions": 7, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FToolkit.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FToolkit.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FToolkit.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "2a59375ced9894b7eff2990a4b3ee3679db24115", "filename": "libjava/classpath/java/awt/Window.java", "status": "modified", "additions": 14, "deletions": 18, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FWindow.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2FWindow.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2FWindow.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "7f296b5941a3d61fa11d715e2a3b54632a032fa3", "filename": "libjava/classpath/java/awt/datatransfer/SystemFlavorMap.java", "status": "modified", "additions": 141, "deletions": 13, "changes": 154, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fdatatransfer%2FSystemFlavorMap.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fdatatransfer%2FSystemFlavorMap.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fdatatransfer%2FSystemFlavorMap.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "fa27d1908c7b4ef55809ef34d84d32b8eb4f238f", "filename": "libjava/classpath/java/awt/geom/GeneralPath.java", "status": "modified", "additions": 3, "deletions": 8, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fgeom%2FGeneralPath.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fgeom%2FGeneralPath.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fgeom%2FGeneralPath.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "c9879461ce2716832adf4cbe1e3e318ffbf4136b", "filename": "libjava/classpath/java/awt/image/BufferedImage.java", "status": "modified", "additions": 166, "deletions": 161, "changes": 327, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FBufferedImage.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FBufferedImage.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FBufferedImage.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "73e7fb4d3d0ec088596c01d3f399a7d3251acb2c", "filename": "libjava/classpath/java/awt/image/ComponentSampleModel.java", "status": "modified", "additions": 131, "deletions": 317, "changes": 448, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FComponentSampleModel.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FComponentSampleModel.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FComponentSampleModel.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "d8a27d51ff19cbbe842e6f8245328372ea11d1ab", "filename": "libjava/classpath/java/awt/image/IndexColorModel.java", "status": "modified", "additions": 12, "deletions": 5, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FIndexColorModel.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FIndexColorModel.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FIndexColorModel.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "1b0ac3f7904951233d2e3f5f9e9de10fda3f6ebc", "filename": "libjava/classpath/java/awt/image/SinglePixelPackedSampleModel.java", "status": "modified", "additions": 62, "deletions": 88, "changes": 150, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FSinglePixelPackedSampleModel.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FSinglePixelPackedSampleModel.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fimage%2FSinglePixelPackedSampleModel.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "355d293b3112d23448fef8c5e8564255f0412bb9", "filename": "libjava/classpath/java/awt/peer/DesktopPeer.java", "status": "added", "additions": 64, "deletions": 0, "changes": 64, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fpeer%2FDesktopPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fpeer%2FDesktopPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fpeer%2FDesktopPeer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "3715dd235ec9cd76c49ddd8ad913b945d8eff50c", "filename": "libjava/classpath/java/awt/print/PrinterJob.java", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fprint%2FPrinterJob.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fawt%2Fprint%2FPrinterJob.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fawt%2Fprint%2FPrinterJob.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4c82c00337f5105537261292ae32d51878924dfa", "filename": "libjava/classpath/java/beans/ConstructorProperties.java", "status": "added", "additions": 72, "deletions": 0, "changes": 72, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fbeans%2FConstructorProperties.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fbeans%2FConstructorProperties.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fbeans%2FConstructorProperties.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "7242d0c699e3a5b65d43afcad907fc2b02dde02e", "filename": "libjava/classpath/java/beans/XMLEncoder.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fbeans%2FXMLEncoder.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fbeans%2FXMLEncoder.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fbeans%2FXMLEncoder.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f34b4dd2b5c227b0f18066a1013a73583a764fb2", "filename": "libjava/classpath/java/io/File.java", "status": "modified", "additions": 179, "deletions": 0, "changes": 179, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FFile.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FFile.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fio%2FFile.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "37b2b64489cfc82e660c66ec2c17798907f02e37", "filename": "libjava/classpath/java/io/ObjectInputStream.java", "status": "modified", "additions": 137, "deletions": 38, "changes": 175, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FObjectInputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FObjectInputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fio%2FObjectInputStream.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b1894b36882a1ff06de73ae425601a379edaddcb", "filename": "libjava/classpath/java/io/ObjectOutputStream.java", "status": "modified", "additions": 78, "deletions": 10, "changes": 88, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FObjectOutputStream.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FObjectOutputStream.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fio%2FObjectOutputStream.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "759aa9a2f059ce8e838288f4ee28fb634b74902a", "filename": "libjava/classpath/java/io/StreamTokenizer.java", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FStreamTokenizer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fio%2FStreamTokenizer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fio%2FStreamTokenizer.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "633bb174941e48abb381957c761a24cb8ffc196a", "filename": "libjava/classpath/java/io/class-dependencies.conf", "status": "removed", "additions": 0, "deletions": 100, "changes": 100, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fio%2Fclass-dependencies.conf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fio%2Fclass-dependencies.conf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fio%2Fclass-dependencies.conf?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "506033f31bc32a92339200640cbc099c348c8370", "filename": "libjava/classpath/java/lang/Character.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FCharacter.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FCharacter.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2FCharacter.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "d3df881367c28a4466bc936b9a29417ea53936a0", "filename": "libjava/classpath/java/lang/Class.java", "status": "modified", "additions": 19, "deletions": 11, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FClass.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FClass.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2FClass.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "fa217bb67a685ac9aac65ac78ba70d87bf651f9a", "filename": "libjava/classpath/java/lang/Enum.java", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FEnum.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FEnum.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2FEnum.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "6eb1cb20859083748003ef62162a418cc2734465", "filename": "libjava/classpath/java/lang/StrictMath.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FStrictMath.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FStrictMath.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2FStrictMath.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "ecb468811489d8db7002eed2f94f0f755de2c63b", "filename": "libjava/classpath/java/lang/String.java", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FString.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FString.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2FString.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "68d76fc216443c4e670caa0e3a7f77c945868122", "filename": "libjava/classpath/java/lang/System.java", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FSystem.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2FSystem.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2FSystem.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4fbf75eb1ce91bdd575c4360930c9fa82f7a081f", "filename": "libjava/classpath/java/lang/class-dependencies.conf", "status": "removed", "additions": 0, "deletions": 58, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Flang%2Fclass-dependencies.conf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Flang%2Fclass-dependencies.conf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fclass-dependencies.conf?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "ae5166834cadfe31571afe30be4ca4d4f26912db", "filename": "libjava/classpath/java/lang/management/LockInfo.java", "status": "added", "additions": 114, "deletions": 0, "changes": 114, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FLockInfo.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FLockInfo.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FLockInfo.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "977b3997535292d9417c19a6c2fcb2de56857fbf", "filename": "libjava/classpath/java/lang/management/ManagementFactory.java", "status": "modified", "additions": 265, "deletions": 0, "changes": 265, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FManagementFactory.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FManagementFactory.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FManagementFactory.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "d851da9a72eec17e97c6c59ecc5c166143f6b51d", "filename": "libjava/classpath/java/lang/management/MemoryUsage.java", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FMemoryUsage.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FMemoryUsage.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FMemoryUsage.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "cba73a80de43601d4806484c841062de0e9f81fb", "filename": "libjava/classpath/java/lang/management/MonitorInfo.java", "status": "added", "additions": 179, "deletions": 0, "changes": 179, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FMonitorInfo.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FMonitorInfo.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FMonitorInfo.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "ed38285a560286c8a2734b184b5c8152ea954c0d", "filename": "libjava/classpath/java/lang/management/OperatingSystemMXBean.java", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FOperatingSystemMXBean.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FOperatingSystemMXBean.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FOperatingSystemMXBean.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "884f5af5e9e459ba7af12ecd419dcd92484ba7c9", "filename": "libjava/classpath/java/lang/management/ThreadInfo.java", "status": "modified", "additions": 374, "deletions": 57, "changes": 431, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FThreadInfo.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FThreadInfo.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FThreadInfo.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f73075dfdc2ec715793b56847885c69c05ec531f", "filename": "libjava/classpath/java/lang/management/ThreadMXBean.java", "status": "modified", "additions": 156, "deletions": 11, "changes": 167, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FThreadMXBean.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FThreadMXBean.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Flang%2Fmanagement%2FThreadMXBean.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "8d174d084f26280cdb34562680290d82f43a0320", "filename": "libjava/classpath/java/math/BigInteger.java", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fmath%2FBigInteger.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fmath%2FBigInteger.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fmath%2FBigInteger.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4fbf75eb1ce91bdd575c4360930c9fa82f7a081f", "filename": "libjava/classpath/java/math/class-dependencies.conf", "status": "removed", "additions": 0, "deletions": 58, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fmath%2Fclass-dependencies.conf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fmath%2Fclass-dependencies.conf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fmath%2Fclass-dependencies.conf?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "b0d400cedbf2674c2df386dfa61217e48266d4d4", "filename": "libjava/classpath/java/net/MimeTypeMapper.java", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FMimeTypeMapper.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FMimeTypeMapper.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FMimeTypeMapper.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "114d11f2d3c3e262b6c3444ad8946ffd5de019ad", "filename": "libjava/classpath/java/net/MulticastSocket.java", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FMulticastSocket.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FMulticastSocket.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FMulticastSocket.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "a3a6058afa1a4d33a9d2638e149bc0f877a685ea", "filename": "libjava/classpath/java/net/NetworkInterface.java", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FNetworkInterface.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FNetworkInterface.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FNetworkInterface.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "315177413ada4374ceee04bb8bdb5403969a9c89", "filename": "libjava/classpath/java/net/Proxy.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FProxy.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FProxy.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FProxy.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "d57df49199cb839e27ca501e6d3dd94ca0b5ca50", "filename": "libjava/classpath/java/net/ResolverCache.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FResolverCache.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FResolverCache.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FResolverCache.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9cefd29e6b173bf48c8a501974520af3dd9c91a1", "filename": "libjava/classpath/java/net/ServerSocket.java", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FServerSocket.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FServerSocket.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FServerSocket.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "6480527424100d7ac998e8c32ca5756c8ef89a13", "filename": "libjava/classpath/java/net/Socket.java", "status": "modified", "additions": 20, "deletions": 3, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FSocket.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FSocket.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FSocket.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "43b10fc41955c49804890340748a18dd4796c17e", "filename": "libjava/classpath/java/net/URI.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FURI.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FURI.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FURI.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "16a606fbc7e99153a65a6dbccfc5ad96ee480abe", "filename": "libjava/classpath/java/net/URL.java", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FURL.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FURL.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FURL.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "6df2818c5c9644da878c5d30c86dd485151d5f13", "filename": "libjava/classpath/java/net/URLClassLoader.java", "status": "modified", "additions": 14, "deletions": 15, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FURLClassLoader.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnet%2FURLClassLoader.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2FURLClassLoader.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "8b130f53684658b7106d8f690b6cdd6a1e8e92ae", "filename": "libjava/classpath/java/net/class-dependencies.conf", "status": "removed", "additions": 0, "deletions": 122, "changes": 122, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fnet%2Fclass-dependencies.conf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fnet%2Fclass-dependencies.conf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnet%2Fclass-dependencies.conf?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "0e3b9173eb6d4845892f93be44e8cde2caee860e", "filename": "libjava/classpath/java/nio/ByteOrder.java", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnio%2FByteOrder.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnio%2FByteOrder.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnio%2FByteOrder.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b2fb7bb9c819af8e19eee0a3354369c9f6b79004", "filename": "libjava/classpath/java/nio/channels/spi/SelectorProvider.java", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnio%2Fchannels%2Fspi%2FSelectorProvider.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fnio%2Fchannels%2Fspi%2FSelectorProvider.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnio%2Fchannels%2Fspi%2FSelectorProvider.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4fbf75eb1ce91bdd575c4360930c9fa82f7a081f", "filename": "libjava/classpath/java/nio/class-dependencies.conf", "status": "removed", "additions": 0, "deletions": 58, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fnio%2Fclass-dependencies.conf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Fnio%2Fclass-dependencies.conf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fnio%2Fclass-dependencies.conf?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "e1cc8a712e1cfc1d3eae3f94c2c74374a6cbe706", "filename": "libjava/classpath/java/rmi/activation/ActivationID.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Frmi%2Factivation%2FActivationID.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Frmi%2Factivation%2FActivationID.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Frmi%2Factivation%2FActivationID.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "6ef3432b5678c5c655ceb03ed233d09c41aca9aa", "filename": "libjava/classpath/java/rmi/server/UnicastRemoteObject.java", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Frmi%2Fserver%2FUnicastRemoteObject.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Frmi%2Fserver%2FUnicastRemoteObject.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Frmi%2Fserver%2FUnicastRemoteObject.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "6296cffea3697d9f6153724a7dc5febfe205118f", "filename": "libjava/classpath/java/security/BasicPermission.java", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FBasicPermission.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FBasicPermission.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fsecurity%2FBasicPermission.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9072d95652e105eff5c431a1893344a353b9e1df", "filename": "libjava/classpath/java/security/Permission.java", "status": "modified", "additions": 15, "deletions": 2, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FPermission.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FPermission.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fsecurity%2FPermission.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f683f9a700f15f213e20388a67495398a24ae886", "filename": "libjava/classpath/java/security/SecureClassLoader.java", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FSecureClassLoader.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FSecureClassLoader.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fsecurity%2FSecureClassLoader.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "80ecbfd44e0b298b9f217cde22d7e3eb7a9cb36a", "filename": "libjava/classpath/java/security/SignatureSpi.java", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FSignatureSpi.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2FSignatureSpi.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fsecurity%2FSignatureSpi.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "7a7db086b0a8cd7720c94a7177be536514dd400f", "filename": "libjava/classpath/java/security/cert/X509CertSelector.java", "status": "modified", "additions": 815, "deletions": 604, "changes": 1419, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2Fcert%2FX509CertSelector.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2Fcert%2FX509CertSelector.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fsecurity%2Fcert%2FX509CertSelector.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "b398e093e6a4d3aafd4d26f61aa836d147bed2dc", "filename": "libjava/classpath/java/security/cert/X509Certificate.java", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2Fcert%2FX509Certificate.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Fsecurity%2Fcert%2FX509Certificate.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Fsecurity%2Fcert%2FX509Certificate.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "2f970feba43d36dda287200697d16f5a90d61ed6", "filename": "libjava/classpath/java/text/AttributedStringIterator.java", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FAttributedStringIterator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FAttributedStringIterator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FAttributedStringIterator.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "30e5f2b949130abf5504d8fb3b7da16a5afd9654", "filename": "libjava/classpath/java/text/BreakIterator.java", "status": "modified", "additions": 94, "deletions": 23, "changes": 117, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FBreakIterator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FBreakIterator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FBreakIterator.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "16ee6b1241b8931a40a69a094e6de24978c10bfd", "filename": "libjava/classpath/java/text/Collator.java", "status": "modified", "additions": 39, "deletions": 11, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FCollator.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FCollator.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FCollator.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "53b757e88b6ade2bbd0ccb24242214c1dbe49f75", "filename": "libjava/classpath/java/text/DateFormat.java", "status": "modified", "additions": 135, "deletions": 13, "changes": 148, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDateFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDateFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FDateFormat.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "406376a0ff5047799efab3daa6757c4b2117c142", "filename": "libjava/classpath/java/text/DateFormatSymbols.java", "status": "modified", "additions": 147, "deletions": 12, "changes": 159, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDateFormatSymbols.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDateFormatSymbols.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FDateFormatSymbols.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "7febdeb49c4eeeefbe158b2abc3cf6da8338a46f", "filename": "libjava/classpath/java/text/DecimalFormat.java", "status": "modified", "additions": 22, "deletions": 9, "changes": 31, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDecimalFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDecimalFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FDecimalFormat.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f87ebbf138f288c1a765268f15fe7d9b4b4ac3f9", "filename": "libjava/classpath/java/text/DecimalFormatSymbols.java", "status": "modified", "additions": 84, "deletions": 5, "changes": 89, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDecimalFormatSymbols.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FDecimalFormatSymbols.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FDecimalFormatSymbols.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "ab71cecea5abbc73edcc29616ef75c6a0692ef9e", "filename": "libjava/classpath/java/text/MessageFormat.java", "status": "modified", "additions": 65, "deletions": 63, "changes": 128, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FMessageFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FMessageFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FMessageFormat.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "4a72f443a7b5ed9b8eaf75a4407d89430ca7a8aa", "filename": "libjava/classpath/java/text/NumberFormat.java", "status": "modified", "additions": 112, "deletions": 23, "changes": 135, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FNumberFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FNumberFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FNumberFormat.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "f78fdcb89c5928768252364672a509d0bbf1b084", "filename": "libjava/classpath/java/text/SimpleDateFormat.java", "status": "modified", "additions": 13, "deletions": 3, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FSimpleDateFormat.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2FSimpleDateFormat.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2FSimpleDateFormat.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "011b146ce10a74fa7ca9f65febabbe4d7c7ecbdb", "filename": "libjava/classpath/java/text/class-dependencies.conf", "status": "removed", "additions": 0, "deletions": 220, "changes": 220, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Ftext%2Fclass-dependencies.conf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/af333b9a7f9e1cc1029bec56d48f2de63acdf686/libjava%2Fclasspath%2Fjava%2Ftext%2Fclass-dependencies.conf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fclass-dependencies.conf?ref=af333b9a7f9e1cc1029bec56d48f2de63acdf686"}, {"sha": "7e5e056b8196e6675b487c31e80f60acff16f6ed", "filename": "libjava/classpath/java/text/spi/BreakIteratorProvider.java", "status": "added", "additions": 124, "deletions": 0, "changes": 124, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FBreakIteratorProvider.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FBreakIteratorProvider.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FBreakIteratorProvider.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "6d6f409397bc2eec8a0e43cf0afddbad9561e0bf", "filename": "libjava/classpath/java/text/spi/CollatorProvider.java", "status": "added", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FCollatorProvider.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FCollatorProvider.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FCollatorProvider.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "43d54a0c60d592ea08a49fb5f55457f22415f45e", "filename": "libjava/classpath/java/text/spi/DateFormatProvider.java", "status": "added", "additions": 129, "deletions": 0, "changes": 129, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDateFormatProvider.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDateFormatProvider.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDateFormatProvider.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "a0e97595fbe23edefbb4ef0a0ec1fc224c3b6f3a", "filename": "libjava/classpath/java/text/spi/DateFormatSymbolsProvider.java", "status": "added", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDateFormatSymbolsProvider.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDateFormatSymbolsProvider.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDateFormatSymbolsProvider.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "d772b1eee4fd8f8a81373913df4abe7ae0de7543", "filename": "libjava/classpath/java/text/spi/DecimalFormatSymbolsProvider.java", "status": "added", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDecimalFormatSymbolsProvider.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDecimalFormatSymbolsProvider.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FDecimalFormatSymbolsProvider.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "2a252701f4a90246864f09a319364a5fab51dbc4", "filename": "libjava/classpath/java/text/spi/NumberFormatProvider.java", "status": "added", "additions": 129, "deletions": 0, "changes": 129, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FNumberFormatProvider.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FNumberFormatProvider.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2FNumberFormatProvider.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "7f5232ce09c52344684c77bbaf76328a67a61dda", "filename": "libjava/classpath/java/text/spi/package.html", "status": "renamed", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2Fpackage.html", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2Fpackage.html", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Ftext%2Fspi%2Fpackage.html?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc", "previous_filename": "libjava/classpath/tools/gnu/classpath/tools/getopt/package.html"}, {"sha": "2f58121cedec325adf93ce89f7c1eb677d743d46", "filename": "libjava/classpath/java/util/AbstractMap.java", "status": "modified", "additions": 24, "deletions": 5, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Futil%2FAbstractMap.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Futil%2FAbstractMap.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Futil%2FAbstractMap.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}, {"sha": "9443ced5bdd077c6bf87752660052009f7d30bc1", "filename": "libjava/classpath/java/util/Arrays.java", "status": "modified", "additions": 982, "deletions": 16, "changes": 998, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Futil%2FArrays.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc/libjava%2Fclasspath%2Fjava%2Futil%2FArrays.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fclasspath%2Fjava%2Futil%2FArrays.java?ref=e1bea0c0687c5f4551b3a6058ec37ce3705fa6cc"}]}