{"sha": "ea0f9a859f7c58841f7a7993799033585aaf962a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWEwZjlhODU5ZjdjNTg4NDFmN2E3OTkzNzk5MDMzNTg1YWFmOTYyYQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1999-01-26T13:34:42Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1999-01-26T13:34:42Z"}, "message": "Fix i960 build failure with unrecognizable insn.\n\n\t* function.c (expand_function_end): Pass arg_pointer_save_area to\n\tvalidize_mem before using it.  Emit code into a sequence.\n\nFrom-SVN: r24872", "tree": {"sha": "092d96a44f68829b5e1eeef50bd53960c09222a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/092d96a44f68829b5e1eeef50bd53960c09222a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ea0f9a859f7c58841f7a7993799033585aaf962a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea0f9a859f7c58841f7a7993799033585aaf962a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea0f9a859f7c58841f7a7993799033585aaf962a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea0f9a859f7c58841f7a7993799033585aaf962a/comments", "author": null, "committer": null, "parents": [{"sha": "aa9bc2fc33095447342291cb201b4f52f26ef216", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa9bc2fc33095447342291cb201b4f52f26ef216", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa9bc2fc33095447342291cb201b4f52f26ef216"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "1c3e50d25766e0ea91a91b74584d29d4b45d4508", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0f9a859f7c58841f7a7993799033585aaf962a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0f9a859f7c58841f7a7993799033585aaf962a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ea0f9a859f7c58841f7a7993799033585aaf962a", "patch": "@@ -1,3 +1,8 @@\n+Tue Jan 26 13:31:38 1999  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* function.c (expand_function_end): Pass arg_pointer_save_area to\n+\tvalidize_mem before using it.  Emit code into a sequence.\n+\n Tue Jan 26 13:41:38 1999  David Edelsohn  <edelsohn@mhpcc.edu>\n \n \t* rs6000.md (doz + set cr and or + set cr patterns): Add missing"}, {"sha": "ee76aa6bb523107ac3643d67d35072f2b7e54da7", "filename": "gcc/function.c", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ea0f9a859f7c58841f7a7993799033585aaf962a/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ea0f9a859f7c58841f7a7993799033585aaf962a/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=ea0f9a859f7c58841f7a7993799033585aaf962a", "patch": "@@ -5947,8 +5947,15 @@ expand_function_end (filename, line, end_bindings)\n   /* Save the argument pointer if a save area was made for it.  */\n   if (arg_pointer_save_area)\n     {\n-      rtx x = gen_move_insn (arg_pointer_save_area, virtual_incoming_args_rtx);\n-      emit_insn_before (x, tail_recursion_reentry);\n+      /* arg_pointer_save_area may not be a valid memory address, so we\n+\t have to check it and fix it if necessary.  */\n+      rtx seq;\n+      start_sequence ();\n+      emit_move_insn (validize_mem (arg_pointer_save_area),\n+\t\t      virtual_incoming_args_rtx);\n+      seq = gen_sequence ();\n+      end_sequence ();\n+      emit_insn_before (seq, tail_recursion_reentry);\n     }\n \n   /* Initialize any trampolines required by this function.  */"}]}