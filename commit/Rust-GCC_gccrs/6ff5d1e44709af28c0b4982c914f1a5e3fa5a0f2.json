{"sha": "6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmZmNWQxZTQ0NzA5YWYyOGMwYjQ5ODJjOTE0ZjFhNWUzZmE1YTBmMg==", "commit": {"author": {"name": "Anatoly Sokolov", "email": "aesok@post.ru", "date": "2008-09-12T16:45:34Z"}, "committer": {"name": "Anatoly Sokolov", "email": "aesok@gcc.gnu.org", "date": "2008-09-12T16:45:34Z"}, "message": "re PR target/37466 ([AVR] avr-gcc generating incorrect assembly for expression with the long constant operands)\n\n\tPR target/37466\n\t* config/avr/avr.md (movsi_lreg_const peephole2): Add match_dup for\n\tscratch register after 'set' pattern.\n\nFrom-SVN: r140321", "tree": {"sha": "c9bc99bac4c8d764ad203d538ae9878e8ae7582c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c9bc99bac4c8d764ad203d538ae9878e8ae7582c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2/comments", "author": null, "committer": null, "parents": [{"sha": "0a317111c89223ebc8ec82e7f35f72578d941b59", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0a317111c89223ebc8ec82e7f35f72578d941b59", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0a317111c89223ebc8ec82e7f35f72578d941b59"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "0528f17e532326e2fa710495f23d92ddc57e257f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2", "patch": "@@ -1,3 +1,9 @@\n+2008-09-12  Anatoly Sokolov  <aesok@post.ru>\n+\n+\tPR target/37466\n+\t* config/avr/avr.md (movsi_lreg_const peephole2): Add match_dup for\n+\tscratch register after 'set' pattern.\n+\n 2008-09-12  Ulrich Weigand  <Ulrich.Weigand@de.ibm.com>\n \n \t* emit-rtl.c (set_reg_attrs_from_value): Fix invalid alignment"}, {"sha": "7a46a3305c4d220bbdc812b5abb32f4ffbe316b7", "filename": "gcc/config/avr/avr.md", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2/gcc%2Fconfig%2Favr%2Favr.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2/gcc%2Fconfig%2Favr%2Favr.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Favr%2Favr.md?ref=6ff5d1e44709af28c0b4982c914f1a5e3fa5a0f2", "patch": "@@ -391,10 +391,11 @@\n \n \n \n-(define_peephole2\n+(define_peephole2 ; movsi_lreg_const\n   [(match_scratch:QI 2 \"d\")\n    (set (match_operand:SI 0 \"l_register_operand\" \"\")\n-        (match_operand:SI 1 \"immediate_operand\" \"\"))]\n+        (match_operand:SI 1 \"immediate_operand\" \"\"))\n+   (match_dup 2)]\n   \"(operands[1] != const0_rtx\n     && operands[1] != constm1_rtx)\"\n   [(parallel [(set (match_dup 0) (match_dup 1))"}]}