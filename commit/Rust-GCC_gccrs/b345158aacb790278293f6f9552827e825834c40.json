{"sha": "b345158aacb790278293f6f9552827e825834c40", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjM0NTE1OGFhY2I3OTAyNzgyOTNmNmY5NTUyODI3ZTgyNTgzNGM0MA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-02-15T22:21:19Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-02-15T22:21:19Z"}, "message": "Adjust size by STARTING_FRAME_OFFSET.\n\nFrom-SVN: r13639", "tree": {"sha": "ea99289aec48232da2fc2d9cb088ef566af5a509", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea99289aec48232da2fc2d9cb088ef566af5a509"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b345158aacb790278293f6f9552827e825834c40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b345158aacb790278293f6f9552827e825834c40", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b345158aacb790278293f6f9552827e825834c40", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b345158aacb790278293f6f9552827e825834c40/comments", "author": null, "committer": null, "parents": [{"sha": "dc38b29226a6f90a4d38f92a265479371c5a17dc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc38b29226a6f90a4d38f92a265479371c5a17dc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc38b29226a6f90a4d38f92a265479371c5a17dc"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "1d4d67ddb38266c21d88c0a9cab9de3166a530fa", "filename": "gcc/config/vax/vax.h", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b345158aacb790278293f6f9552827e825834c40/gcc%2Fconfig%2Fvax%2Fvax.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b345158aacb790278293f6f9552827e825834c40/gcc%2Fconfig%2Fvax%2Fvax.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvax.h?ref=b345158aacb790278293f6f9552827e825834c40", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.  Vax version.\n-   Copyright (C) 1987, 88, 91, 93, 94, 95, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 88, 91, 93-96, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -445,7 +445,8 @@ gen_rtx (PLUS, Pmode, frame, gen_rtx (CONST_INT, VOIDmode, 12))\n \n /* This macro generates the assembly code for function entry.\n    FILE is a stdio stream to output the code to.\n-   SIZE is an int: how many units of temporary storage to allocate.\n+   SIZE is an int: how many units of temporary storage to allocate,\n+   adjusted by STARTING_FRAME_OFFSET to accomodate vms.h.\n    Refer to the array `regs_ever_live' to determine which registers\n    to save; `regs_ever_live[I]' is nonzero if register number I\n    is ever used in the function.  This macro is responsible for\n@@ -454,14 +455,15 @@ gen_rtx (PLUS, Pmode, frame, gen_rtx (CONST_INT, VOIDmode, 12))\n #define FUNCTION_PROLOGUE(FILE, SIZE)     \\\n { register int regno;\t\t\t\t\t\t\\\n   register int mask = 0;\t\t\t\t\t\\\n+  register int size = SIZE - STARTING_FRAME_OFFSET;\t\t\\\n   extern char call_used_regs[];\t\t\t\t\t\\\n   for (regno = 0; regno < FIRST_PSEUDO_REGISTER; regno++)\t\\\n     if (regs_ever_live[regno] && !call_used_regs[regno])\t\\\n        mask |= 1 << regno;\t\t\t\t\t\\\n   fprintf (FILE, \"\\t.word 0x%x\\n\", mask);\t\t\t\\\n   MAYBE_VMS_FUNCTION_PROLOGUE(FILE)\t\t\t\t\\\n-  if ((SIZE) >= 64) fprintf (FILE, \"\\tmovab %d(sp),sp\\n\", -SIZE);\\\n-  else if (SIZE) fprintf (FILE, \"\\tsubl2 $%d,sp\\n\", (SIZE)); }\n+  if ((size) >= 64) fprintf (FILE, \"\\tmovab %d(sp),sp\\n\", -size);\\\n+  else if (size) fprintf (FILE, \"\\tsubl2 $%d,sp\\n\", (size)); }\n \n /* vms.h redefines this.  */\n #define MAYBE_VMS_FUNCTION_PROLOGUE(FILE)"}]}