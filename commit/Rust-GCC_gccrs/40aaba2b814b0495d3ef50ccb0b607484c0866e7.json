{"sha": "40aaba2b814b0495d3ef50ccb0b607484c0866e7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDBhYWJhMmI4MTRiMDQ5NWQzZWY1MGNjYjBiNjA3NDg0YzA4NjZlNw==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@cygnus.com", "date": "2000-05-26T01:16:20Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-05-26T01:16:20Z"}, "message": "re GNATS gcj/162 (gcj does not initialize interfaces according to spec)\n\n\t* parse.y (resolve_field_access): Don't check DECL_LANG_SPECIFIC\n\twhen trying to see if field's class should be initialized.  Always\n\tinitialize field's declaring class, not qualified class.\n\tFor PR gcj/162.\n\nFrom-SVN: r34182", "tree": {"sha": "58c0fa37f55303268acf19d77c9006bd457194b8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/58c0fa37f55303268acf19d77c9006bd457194b8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/40aaba2b814b0495d3ef50ccb0b607484c0866e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40aaba2b814b0495d3ef50ccb0b607484c0866e7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40aaba2b814b0495d3ef50ccb0b607484c0866e7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40aaba2b814b0495d3ef50ccb0b607484c0866e7/comments", "author": null, "committer": null, "parents": [{"sha": "b8c5b1c6d5f519df5f84af86f392495fb90d6b48", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b8c5b1c6d5f519df5f84af86f392495fb90d6b48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b8c5b1c6d5f519df5f84af86f392495fb90d6b48"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "c1f0371357ddd5c7ffa20a69db9e2fb5fd91c484", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40aaba2b814b0495d3ef50ccb0b607484c0866e7/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40aaba2b814b0495d3ef50ccb0b607484c0866e7/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=40aaba2b814b0495d3ef50ccb0b607484c0866e7", "patch": "@@ -1,5 +1,10 @@\n 2000-05-25  Tom Tromey  <tromey@cygnus.com>\n \n+\t* parse.y (resolve_field_access): Don't check DECL_LANG_SPECIFIC\n+\twhen trying to see if field's class should be initialized.  Always\n+\tinitialize field's declaring class, not qualified class.\n+\tFor PR gcj/162.\n+\n \t* parse.y (array_constructor_check_entry): Pass `wfl_value', not\n \t`wfl_operator', to maybe_build_primttype_type_ref.\n \tFixes PR gcj/235."}, {"sha": "17b8f23bdd703fe698746d139a4d70442d4faad1", "filename": "gcc/java/parse.c", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40aaba2b814b0495d3ef50ccb0b607484c0866e7/gcc%2Fjava%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40aaba2b814b0495d3ef50ccb0b607484c0866e7/gcc%2Fjava%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.c?ref=40aaba2b814b0495d3ef50ccb0b607484c0866e7", "patch": "@@ -11236,7 +11236,6 @@ resolve_field_access (qual_wfl, field_decl, field_type)\n       is_static = JDECL_P (decl) && FIELD_STATIC (decl);\n       if (FIELD_FINAL (decl) \n \t  && JPRIMITIVE_TYPE_P (TREE_TYPE (decl))\n-\t  && DECL_LANG_SPECIFIC (decl)\n \t  && DECL_INITIAL (decl))\n \t{\n \t  field_ref = DECL_INITIAL (decl);\n@@ -11250,7 +11249,7 @@ resolve_field_access (qual_wfl, field_decl, field_type)\n \treturn error_mark_node;\n       if (is_static && !static_final_found \n \t  && !flag_emit_class_files && !flag_emit_xref)\n-\tfield_ref = build_class_init (type_found, field_ref);\n+\tfield_ref = build_class_init (DECL_CONTEXT (decl), field_ref);\n     }\n   else\n     field_ref = decl;"}, {"sha": "f504544b269f15f5b6bf030a9b349a19423c5afb", "filename": "gcc/java/parse.y", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/40aaba2b814b0495d3ef50ccb0b607484c0866e7/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/40aaba2b814b0495d3ef50ccb0b607484c0866e7/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=40aaba2b814b0495d3ef50ccb0b607484c0866e7", "patch": "@@ -8604,7 +8604,6 @@ resolve_field_access (qual_wfl, field_decl, field_type)\n       is_static = JDECL_P (decl) && FIELD_STATIC (decl);\n       if (FIELD_FINAL (decl) \n \t  && JPRIMITIVE_TYPE_P (TREE_TYPE (decl))\n-\t  && DECL_LANG_SPECIFIC (decl)\n \t  && DECL_INITIAL (decl))\n \t{\n \t  field_ref = DECL_INITIAL (decl);\n@@ -8618,7 +8617,7 @@ resolve_field_access (qual_wfl, field_decl, field_type)\n \treturn error_mark_node;\n       if (is_static && !static_final_found \n \t  && !flag_emit_class_files && !flag_emit_xref)\n-\tfield_ref = build_class_init (type_found, field_ref);\n+\tfield_ref = build_class_init (DECL_CONTEXT (decl), field_ref);\n     }\n   else\n     field_ref = decl;"}]}