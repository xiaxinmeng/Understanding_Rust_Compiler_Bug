{"sha": "26c406400e471a956f256173189fc5d556e064d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjZjNDA2NDAwZTQ3MWE5NTZmMjU2MTczMTg5ZmM1ZDU1NmUwNjRkNw==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2005-07-27T14:04:17Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2005-07-27T14:04:17Z"}, "message": "re PR tree-optimization/22348 (Execution continues past end of for loop end condition with optimisation enabled)\n\n\tPR tree-optimize/22348\n\t* tree-ssa-loop-niter.c (number_of_iterations_cond):\n\tFold the partial computation.\n\n\t* gcc.c-torture/execute/pr22348.c: New.\n\nFrom-SVN: r102427", "tree": {"sha": "0c171b755271163d8c64219f823f59bc45b7f8c4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0c171b755271163d8c64219f823f59bc45b7f8c4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/26c406400e471a956f256173189fc5d556e064d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26c406400e471a956f256173189fc5d556e064d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26c406400e471a956f256173189fc5d556e064d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26c406400e471a956f256173189fc5d556e064d7/comments", "author": null, "committer": null, "parents": [{"sha": "3ac01fdeef1976c9150d3efa1b5c2915f210a78f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ac01fdeef1976c9150d3efa1b5c2915f210a78f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ac01fdeef1976c9150d3efa1b5c2915f210a78f"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "c6e2ad5542214fefd84411cc23a03f6622b78215", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26c406400e471a956f256173189fc5d556e064d7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26c406400e471a956f256173189fc5d556e064d7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=26c406400e471a956f256173189fc5d556e064d7", "patch": "@@ -1,3 +1,9 @@\n+2005-07-27  Zdenek Dvorak  <dvorakz@suse.cz>\n+\n+\tPR tree-optimize/22348\n+\t* tree-ssa-loop-niter.c (number_of_iterations_cond):\n+\tFold the partial computation.\n+\n 2005-07-27  Zdenek Dvorak  <dvorakz@suse.cz>\n \n \tPR tree-optimization/22325"}, {"sha": "0e3760d3e1ae7f0b5e22f4fc4239ef0a999330f9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26c406400e471a956f256173189fc5d556e064d7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26c406400e471a956f256173189fc5d556e064d7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=26c406400e471a956f256173189fc5d556e064d7", "patch": "@@ -1,3 +1,8 @@\n+2005-07-27  Zdenek Dvorak  <dvorakz@suse.cz>\n+\n+\tPR tree-optimize/22348\n+\t* gcc.c-torture/execute/pr22348.c: New.\n+\n 2005-07-27  Richard Guenther  <rguenther@suse.de>\n \n \t* gcc.dg/tree-ssa/salias-1.c: New testcase."}, {"sha": "9192d5130c624d4aecfec8bd17b627738fd8e6fb", "filename": "gcc/testsuite/gcc.c-torture/execute/pr22348.c", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26c406400e471a956f256173189fc5d556e064d7/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr22348.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26c406400e471a956f256173189fc5d556e064d7/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr22348.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fpr22348.c?ref=26c406400e471a956f256173189fc5d556e064d7", "patch": "@@ -0,0 +1,15 @@\n+void abort (void);\n+void f(int i)\n+{\n+  if (i>4 + 3 * 16)\n+    abort();\n+}\n+\n+int main()\n+{\n+  unsigned int buflen, i;\n+  buflen = 4 + 3 * 16;\n+  for (i = 4; i < buflen; i+= 3)\n+    f(i);\n+  return 0;\n+}"}, {"sha": "37cd4003d472f98c59606b5b060a52693a1825b7", "filename": "gcc/tree-ssa-loop-niter.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/26c406400e471a956f256173189fc5d556e064d7/gcc%2Ftree-ssa-loop-niter.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/26c406400e471a956f256173189fc5d556e064d7/gcc%2Ftree-ssa-loop-niter.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-niter.c?ref=26c406400e471a956f256173189fc5d556e064d7", "patch": "@@ -275,7 +275,7 @@ number_of_iterations_cond (tree type, tree base0, tree step0,\n \tstep = fold_unary_to_constant (NEGATE_EXPR, type, step1);\n       else\n \tstep = step0;\n-      delta = build2 (MINUS_EXPR, type, base1, base0);\n+      delta = fold_build2 (MINUS_EXPR, type, base1, base0);\n       delta = fold_build2 (FLOOR_MOD_EXPR, type, delta, step);\n       may_xform = boolean_false_node;\n "}]}