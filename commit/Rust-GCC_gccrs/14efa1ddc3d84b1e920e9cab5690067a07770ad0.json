{"sha": "14efa1ddc3d84b1e920e9cab5690067a07770ad0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRlZmExZGRjM2Q4NGIxZTkyMGU5Y2FiNTY5MDA2N2EwNzc3MGFkMA==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2001-07-18T15:16:10Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2001-07-18T15:16:10Z"}, "message": "configure.in (_XOPEN_SOURCE, [...]): Move these defines before tests which might be affected by them.\n\n\t* libU77/configure.in (_XOPEN_SOURCE, _FILE_OFFSET_BITS): Move\n\tthese defines before tests which might be affected by them.\n\t(_XOPEN_SOURCE_EXTENDED): Define.\n\n\t* libU77/configure, libU77/config.hin: Regenerate.\n\nFrom-SVN: r44108", "tree": {"sha": "46c1e0c2464418e2e434d3ce1cc8fc603955b0f4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/46c1e0c2464418e2e434d3ce1cc8fc603955b0f4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14efa1ddc3d84b1e920e9cab5690067a07770ad0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14efa1ddc3d84b1e920e9cab5690067a07770ad0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14efa1ddc3d84b1e920e9cab5690067a07770ad0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14efa1ddc3d84b1e920e9cab5690067a07770ad0/comments", "author": null, "committer": null, "parents": [{"sha": "5f1ecf82e78be9a1e7a6ec62ac028c942d3bd599", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5f1ecf82e78be9a1e7a6ec62ac028c942d3bd599", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5f1ecf82e78be9a1e7a6ec62ac028c942d3bd599"}], "stats": {"total": 184, "additions": 101, "deletions": 83}, "files": [{"sha": "46902b5648fc0e5c76cfc69b6d8efb8d178ae1b5", "filename": "libf2c/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FChangeLog?ref=14efa1ddc3d84b1e920e9cab5690067a07770ad0", "patch": "@@ -1,3 +1,11 @@\n+Wed Jul 18 11:14:33 2001  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* libU77/configure.in (_XOPEN_SOURCE, _FILE_OFFSET_BITS): Move\n+\tthese defines before tests which might be affected by them.\n+\t(_XOPEN_SOURCE_EXTENDED): Define.\n+\n+\t* libU77/configure, libU77/config.hin: Regenerate.\n+\n 2001-07-10  Toon Moene  <toon@moene.indiv.nluug.nl>\n \n \t* libI77/fio.h: Revert type of url from off_t to int."}, {"sha": "51135d4577859c6ff99dbad8ddcc050d5b8642d7", "filename": "libf2c/libU77/config.hin", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FlibU77%2Fconfig.hin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FlibU77%2Fconfig.hin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfig.hin?ref=14efa1ddc3d84b1e920e9cab5690067a07770ad0", "patch": "@@ -114,6 +114,9 @@\n /* Get Single Unix Specification semantics */\n #undef _XOPEN_SOURCE\n \n+/* Get Single Unix Specification semantics */\n+#undef _XOPEN_SOURCE_EXTENDED\n+\n /* Get 64-bit file size support */\n #undef _FILE_OFFSET_BITS\n "}, {"sha": "a791ba065c756ec3dd4dabbd27b7ec160acb4c69", "filename": "libf2c/libU77/configure", "status": "modified", "additions": 83, "deletions": 78, "changes": 161, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FlibU77%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FlibU77%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure?ref=14efa1ddc3d84b1e920e9cab5690067a07770ad0", "patch": "@@ -523,6 +523,22 @@ fi\n \n \n \n+# These defines are necessary to get 64-bit file size support.\n+\n+cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE 500L\n+EOF\n+\n+# The following is needed by irix6.2 so that struct timeval is declared.\n+cat >> confdefs.h <<\\EOF\n+#define _XOPEN_SOURCE_EXTENDED 1\n+EOF\n+\n+cat >> confdefs.h <<\\EOF\n+#define _FILE_OFFSET_BITS 64\n+EOF\n+\n+\n \n \n \n@@ -531,7 +547,7 @@ fi\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:535: checking for $ac_word\" >&5\n+echo \"configure:551: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -561,7 +577,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:565: checking for $ac_word\" >&5\n+echo \"configure:581: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -612,7 +628,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:616: checking for $ac_word\" >&5\n+echo \"configure:632: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -645,7 +661,7 @@ fi\n \n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:649: checking whether we are using GNU C\" >&5\n+echo \"configure:665: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -654,7 +670,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:658: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:674: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -673,7 +689,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:677: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:693: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -713,7 +729,7 @@ fi\n test \"$AR\" || AR=ar\n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:717: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:733: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -743,7 +759,7 @@ fi\n # Extract the first word of \"chmod\", so it can be a program name with args.\n set dummy chmod; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:747: checking for $ac_word\" >&5\n+echo \"configure:763: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_ac_cv_prog_chmod'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -787,7 +803,7 @@ else\n fi\n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:791: checking how to run the C preprocessor\" >&5\n+echo \"configure:807: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -802,13 +818,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 806 \"configure\"\n+#line 822 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:812: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:828: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -819,13 +835,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 823 \"configure\"\n+#line 839 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:829: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:845: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -836,13 +852,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -nologo -E\"\n   cat > conftest.$ac_ext <<EOF\n-#line 840 \"configure\"\n+#line 856 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:846: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:862: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   :\n@@ -867,20 +883,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:871: checking for ANSI C header files\" >&5\n+echo \"configure:887: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 876 \"configure\"\n+#line 892 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:884: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:900: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -897,7 +913,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 901 \"configure\"\n+#line 917 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -915,7 +931,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 919 \"configure\"\n+#line 935 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -936,7 +952,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 940 \"configure\"\n+#line 956 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -947,7 +963,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:951: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:967: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -972,12 +988,12 @@ fi\n \n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:976: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:992: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 981 \"configure\"\n+#line 997 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -986,7 +1002,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:990: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1006: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1011,17 +1027,17 @@ for ac_hdr in limits.h unistd.h sys/time.h string.h stdlib.h \\\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1015: checking for $ac_hdr\" >&5\n+echo \"configure:1031: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1020 \"configure\"\n+#line 1036 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1025: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1041: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1049,18 +1065,18 @@ done\n \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:1053: checking for working const\" >&5\n+echo \"configure:1069: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1058 \"configure\"\n+#line 1074 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n \n /* Ultrix mips cc rejects this.  */\n-typedef int charset[2]; const charset x = {0,0};\n+typedef int charset[2]; const charset x;\n /* SunOS 4.1.1 cc rejects this.  */\n char const *const *ccp;\n char **p;\n@@ -1103,7 +1119,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1107: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1123: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -1124,12 +1140,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1128: checking for size_t\" >&5\n+echo \"configure:1144: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1133 \"configure\"\n+#line 1149 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1157,12 +1173,12 @@ EOF\n fi\n \n echo $ac_n \"checking for mode_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1161: checking for mode_t\" >&5\n+echo \"configure:1177: checking for mode_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_mode_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1166 \"configure\"\n+#line 1182 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1191,12 +1207,12 @@ fi\n \n \n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:1195: checking for pid_t\" >&5\n+echo \"configure:1211: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1200 \"configure\"\n+#line 1216 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -1224,20 +1240,20 @@ EOF\n fi\n \n echo $ac_n \"checking for st_blksize in struct stat\"\"... $ac_c\" 1>&6\n-echo \"configure:1228: checking for st_blksize in struct stat\" >&5\n+echo \"configure:1244: checking for st_blksize in struct stat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_st_blksize'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1233 \"configure\"\n+#line 1249 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/stat.h>\n int main() {\n struct stat s; s.st_blksize;\n ; return 0; }\n EOF\n-if { (eval echo configure:1241: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1257: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_st_blksize=yes\n else\n@@ -1258,20 +1274,20 @@ EOF\n fi\n \n echo $ac_n \"checking for st_blocks in struct stat\"\"... $ac_c\" 1>&6\n-echo \"configure:1262: checking for st_blocks in struct stat\" >&5\n+echo \"configure:1278: checking for st_blocks in struct stat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_st_blocks'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1267 \"configure\"\n+#line 1283 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/stat.h>\n int main() {\n struct stat s; s.st_blocks;\n ; return 0; }\n EOF\n-if { (eval echo configure:1275: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1291: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_st_blocks=yes\n else\n@@ -1294,20 +1310,20 @@ else\n fi\n \n echo $ac_n \"checking for st_rdev in struct stat\"\"... $ac_c\" 1>&6\n-echo \"configure:1298: checking for st_rdev in struct stat\" >&5\n+echo \"configure:1314: checking for st_rdev in struct stat\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_st_rdev'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1303 \"configure\"\n+#line 1319 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/stat.h>\n int main() {\n struct stat s; s.st_rdev;\n ; return 0; }\n EOF\n-if { (eval echo configure:1311: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1327: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_st_rdev=yes\n else\n@@ -1328,20 +1344,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether struct tm is in sys/time.h or time.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1332: checking whether struct tm is in sys/time.h or time.h\" >&5\n+echo \"configure:1348: checking whether struct tm is in sys/time.h or time.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tm'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1337 \"configure\"\n+#line 1353 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <time.h>\n int main() {\n struct tm *tp; tp->tm_sec;\n ; return 0; }\n EOF\n-if { (eval echo configure:1345: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1361: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tm=time.h\n else\n@@ -1363,15 +1379,15 @@ fi\n \n \n echo $ac_n \"checking for gethostname in -lsocket\"\"... $ac_c\" 1>&6\n-echo \"configure:1367: checking for gethostname in -lsocket\" >&5\n+echo \"configure:1383: checking for gethostname in -lsocket\" >&5\n ac_lib_var=`echo socket'_'gethostname | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lsocket  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1375 \"configure\"\n+#line 1391 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1382,7 +1398,7 @@ int main() {\n gethostname()\n ; return 0; }\n EOF\n-if { (eval echo configure:1386: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1402: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1408,12 +1424,12 @@ for ac_func in symlink getcwd getwd lstat gethostname strerror clock \\\n   getrusage times alarm getlogin getgid getuid kill link ttyname\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1412: checking for $ac_func\" >&5\n+echo \"configure:1428: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1417 \"configure\"\n+#line 1433 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1436,7 +1452,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1440: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1456: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1465,12 +1481,12 @@ done\n   for ac_func in gettimeofday\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1469: checking for $ac_func\" >&5\n+echo \"configure:1485: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1474 \"configure\"\n+#line 1490 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1493,7 +1509,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1497: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1513: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1519,19 +1535,19 @@ done\n \n   if test \"$ac_cv_func_gettimeofday\" = yes; then\n     echo $ac_n \"checking for struct timezone\"\"... $ac_c\" 1>&6\n-echo \"configure:1523: checking for struct timezone\" >&5\n+echo \"configure:1539: checking for struct timezone\" >&5\n if eval \"test \\\"`echo '$''{'g77_cv_struct_timezone'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1528 \"configure\"\n+#line 1544 \"configure\"\n #include \"confdefs.h\"\n #include <sys/time.h>\n int main() {\n struct timezone tz;\n ; return 0; }\n EOF\n-if { (eval echo configure:1535: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1551: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   g77_cv_struct_timezone=yes\n else\n@@ -1552,7 +1568,7 @@ EOF\n \n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1556 \"configure\"\n+#line 1572 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef TIME_WITH_SYS_TIME\n@@ -1575,7 +1591,7 @@ main ()\n     exit (0);\n }\n EOF\n-if { (eval echo configure:1579: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1595: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -1591,12 +1607,12 @@ fi\n     fi\n     \n     echo $ac_n \"checking whether gettimeofday can accept two arguments\"\"... $ac_c\" 1>&6\n-echo \"configure:1595: checking whether gettimeofday can accept two arguments\" >&5\n+echo \"configure:1611: checking whether gettimeofday can accept two arguments\" >&5\n if eval \"test \\\"`echo '$''{'emacs_cv_gettimeofday_two_arguments'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1600 \"configure\"\n+#line 1616 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef TIME_WITH_SYS_TIME\n@@ -1622,7 +1638,7 @@ int main() {\n       gettimeofday (&time, DUMMY);\n ; return 0; }\n EOF\n-if { (eval echo configure:1626: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1642: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   emacs_cv_gettimeofday_two_arguments=yes\n else\n@@ -1653,17 +1669,6 @@ test $ac_cv_func_clock = yes && MAYBES=\"$MAYBES mclock_.o\"\n \n \n \n-# These defines are necessary to get 64-bit file size support.\n-\n-cat >> confdefs.h <<\\EOF\n-#define _XOPEN_SOURCE 500L\n-EOF\n-\n-cat >> confdefs.h <<\\EOF\n-#define _FILE_OFFSET_BITS 64\n-EOF\n-\n-\n trap '' 1 2 15\n cat > confcache <<\\EOF\n # This file is a shell script that caches the results of configure"}, {"sha": "6ad76df4067e6cb5deccf91c1403280c69185bcf", "filename": "libf2c/libU77/configure.in", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FlibU77%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14efa1ddc3d84b1e920e9cab5690067a07770ad0/libf2c%2FlibU77%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libf2c%2FlibU77%2Fconfigure.in?ref=14efa1ddc3d84b1e920e9cab5690067a07770ad0", "patch": "@@ -23,6 +23,13 @@ AC_PREREQ(2.12.1)\n AC_INIT(access_.c)\n AC_CONFIG_HEADER(config.h:config.hin)\n \n+# These defines are necessary to get 64-bit file size support.\n+\n+AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n+# The following is needed by irix6.2 so that struct timeval is declared.\n+AC_DEFINE(_XOPEN_SOURCE_EXTENDED, 1, [Get Single Unix Specification semantics])\n+AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n+\n dnl Checks for programs.\n \n dnl FIXME AC_PROG_CC wants CC to be able to link things, but it may\n@@ -108,9 +115,4 @@ AC_SUBST(CROSS)\n AC_SUBST(RANLIB)\n AC_SUBST(RANLIB_TEST)\n \n-# These defines are necessary to get 64-bit file size support.\n-\n-AC_DEFINE(_XOPEN_SOURCE, 500L, [Get Single Unix Specification semantics])\n-AC_DEFINE(_FILE_OFFSET_BITS, 64, [Get 64-bit file size support])\n-\n AC_OUTPUT(Makefile)"}]}