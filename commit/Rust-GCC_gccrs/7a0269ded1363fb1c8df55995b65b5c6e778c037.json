{"sha": "7a0269ded1363fb1c8df55995b65b5c6e778c037", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2EwMjY5ZGVkMTM2M2ZiMWM4ZGY1NTk5NWI2NWI1YzZlNzc4YzAzNw==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely.gcc@gmail.com", "date": "2011-02-09T23:17:05Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2011-02-09T23:17:05Z"}, "message": "future (packaged_task::operator bool): Rename to...\n\n2011-02-09  Jonathan Wakely  <jwakely.gcc@gmail.com>\n\n\t* include/std/future (packaged_task::operator bool): Rename to...\n\t(packaged_task::valid): ...this.\n\t* testsuite/30_threads/packaged_task/cons/1.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/cons/2.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/cons/move.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/cons/move_assign.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/cons/alloc.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/members/invoke.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/members/reset.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/members/reset2.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/members/swap.cc: Adjust.\n\t* testsuite/30_threads/packaged_task/members/boolconv.cc: Remove.\n\t* testsuite/30_threads/packaged_task/members/valid.cc: Add.\n\nFrom-SVN: r169988", "tree": {"sha": "5712750845d86ae3b8661ee0191bd71852da8a8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5712750845d86ae3b8661ee0191bd71852da8a8b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7a0269ded1363fb1c8df55995b65b5c6e778c037", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a0269ded1363fb1c8df55995b65b5c6e778c037", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7a0269ded1363fb1c8df55995b65b5c6e778c037", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7a0269ded1363fb1c8df55995b65b5c6e778c037/comments", "author": null, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c79bb35514fb9ed2a63277bad7e71f0dd41664d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c79bb35514fb9ed2a63277bad7e71f0dd41664d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c79bb35514fb9ed2a63277bad7e71f0dd41664d7"}], "stats": {"total": 90, "additions": 54, "deletions": 36}, "files": [{"sha": "243659f02086f4fe2667c58c7f58556bdb8ea013", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -1,3 +1,19 @@\n+2011-02-09  Jonathan Wakely  <jwakely.gcc@gmail.com>\n+\n+\t* include/std/future (packaged_task::operator bool): Rename to...\n+\t(packaged_task::valid): ...this.\n+\t* testsuite/30_threads/packaged_task/cons/1.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/cons/2.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/cons/move.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/cons/move_assign.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/cons/alloc.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/members/invoke.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/members/reset.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/members/reset2.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/members/swap.cc: Adjust.\n+\t* testsuite/30_threads/packaged_task/members/boolconv.cc: Remove.\n+\t* testsuite/30_threads/packaged_task/members/valid.cc: Add.\n+\n 2011-02-09  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* doc/xml/manual/io.xml: Fix typo."}, {"sha": "e32b2a073dd0c432a99bf0934f3ed86f17d60a23", "filename": "libstdc++-v3/include/std/future", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ffuture", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ffuture", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Ffuture?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -1,6 +1,6 @@\n // <future> -*- C++ -*-\n \n-// Copyright (C) 2009, 2010 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -1250,7 +1250,9 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n       swap(packaged_task& __other)\n       { _M_state.swap(__other._M_state); }\n \n-      explicit operator bool() const { return static_cast<bool>(_M_state); }\n+      bool\n+      valid() const\n+      { return static_cast<bool>(_M_state); }\n \n       // Result retrieval\n       future<_Res>"}, {"sha": "b6ea492536a8b3b05f53564572c533ac091111ab", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/cons/1.cc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2F1.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2F1.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2F1.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -35,15 +35,15 @@ void test01()\n   using namespace __gnu_test;\n \n   packaged_task<int ()> p1;\n-  VERIFY( !static_cast<bool>(p1) );\n+  VERIFY( !p1.valid() );\n   packaged_task<int& ()> p2;\n-  VERIFY( !static_cast<bool>(p2) );\n+  VERIFY( !p2.valid() );\n   packaged_task<void ()> p3;\n-  VERIFY( !static_cast<bool>(p3) );\n+  VERIFY( !p3.valid() );\n   packaged_task<ClassType ()> p4;\n-  VERIFY( !static_cast<bool>(p4) );\n+  VERIFY( !p4.valid() );\n   packaged_task<AbstractClass& (int)> p5;\n-  VERIFY( !static_cast<bool>(p5) );\n+  VERIFY( !p5.valid() );\n }\n \n int main()"}, {"sha": "9dc9757902d51a5dc85d9625167c349a2f241684", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/cons/2.cc", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2F2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2F2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2F2.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -46,15 +46,15 @@ void test01()\n   using std::packaged_task;\n \n   packaged_task<int ()> p1(f1);\n-  VERIFY( static_cast<bool>(p1) );\n+  VERIFY( p1.valid() );\n   packaged_task<int& ()> p2(f2);\n-  VERIFY( static_cast<bool>(p2) );\n+  VERIFY( p2.valid() );\n   packaged_task<void ()> p3(f3);\n-  VERIFY( static_cast<bool>(p3) );\n+  VERIFY( p3.valid() );\n   packaged_task<ClassType ()> p4(f4);\n-  VERIFY( static_cast<bool>(p4) );\n+  VERIFY( p4.valid() );\n   packaged_task<AbstractClass& (int)> p5(f5);\n-  VERIFY( static_cast<bool>(p5) );\n+  VERIFY( p5.valid() );\n }\n \n int main()"}, {"sha": "531871417074568966dbb0b7fd925bc9a46bd1ef", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/cons/alloc.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Falloc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Falloc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Falloc.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2010 Free Software Foundation, Inc.\n+// Copyright (C) 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -40,7 +40,7 @@ void test01()\n   uneq_allocator<char> alloc(99);\n \n   packaged_task<int ()> p1(allocator_arg, alloc, f);\n-  VERIFY( static_cast<bool>(p1) );\n+  VERIFY( p1.valid() );\n   p1();\n   VERIFY( p1.get_future().get() == 5 );\n }"}, {"sha": "599caf9092e0bbd8434be670fb4ef941f50b2cf1", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/cons/move.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Fmove.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Fmove.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Fmove.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -37,8 +37,8 @@ void test01()\n   // move\n   packaged_task<int()> p1(f1);\n   packaged_task<int()> p2(std::move(p1));\n-  VERIFY( !static_cast<bool>(p1) );\n-  VERIFY( static_cast<bool>(p2) );\n+  VERIFY( !p1.valid() );\n+  VERIFY( p2.valid() );\n }\n \n int main()"}, {"sha": "1c5dfc3b9b29f82d5a881aef00db51d703e02213", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/cons/move_assign.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Fmove_assign.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Fmove_assign.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fcons%2Fmove_assign.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -37,8 +37,8 @@ void test01()\n   std::packaged_task<int()> p1;\n   std::packaged_task<int()> p2(gen);\n   p1 = std::move(p2);\n-  VERIFY( static_cast<bool>(p1) );\n-  VERIFY( !static_cast<bool>(p2) );\n+  VERIFY( p1.valid() );\n+  VERIFY( !p2.valid() );\n }\n \n int main()"}, {"sha": "238568fe3db9c8e3ff385901bc6b8c3cc25c1337", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/members/invoke.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Finvoke.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Finvoke.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Finvoke.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -38,7 +38,7 @@ void test01()\n \n   p1();\n \n-  VERIFY( static_cast<bool>(p1) );\n+  VERIFY( p1.valid() );\n   VERIFY( f1.get() == 0 );\n }\n "}, {"sha": "01a06d6a3c2d715e9af9f22fedf237bcf5029e70", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/members/reset.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Freset.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Freset.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Freset.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009. 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -39,7 +39,7 @@ void test01()\n   future<int> f1 = p1.get_future();\n \n   p1.reset();\n-  VERIFY( static_cast<bool>(p1) );\n+  VERIFY( p1.valid() );\n \n   future<int> f2 = p1.get_future();\n "}, {"sha": "2fac36637764bfcd256af802fc9bc6dd0d84ca5d", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/members/reset2.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Freset2.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Freset2.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Freset2.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -39,7 +39,7 @@ void test01()\n   p1();\n   p1.reset();\n \n-  VERIFY( static_cast<bool>(p1) );\n+  VERIFY( p1.valid() );\n   VERIFY( f1.get() == 0 );\n \n   std::future<int> f2 = p1.get_future();"}, {"sha": "9055d9837f817752e4b76a9e1f978f973cdfaa1c", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/members/swap.cc", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Fswap.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Fswap.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Fswap.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2009, 2010, 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -35,11 +35,11 @@ void test01()\n \n   std::packaged_task<int()> p1(zero);\n   std::packaged_task<int()> p2;\n-  VERIFY( static_cast<bool>(p1) );\n-  VERIFY( !static_cast<bool>(p2) );\n+  VERIFY( p1.valid() );\n+  VERIFY( !p2.valid() );\n   p1.swap(p2);\n-  VERIFY( !static_cast<bool>(p1) );\n-  VERIFY( static_cast<bool>(p2) );\n+  VERIFY( !p1.valid() );\n+  VERIFY( p2.valid() );\n }\n \n int main()"}, {"sha": "d7f1ed13d10c53c7bbbda2167e5ab957b58e6833", "filename": "libstdc++-v3/testsuite/30_threads/packaged_task/members/valid.cc", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Fvalid.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7a0269ded1363fb1c8df55995b65b5c6e778c037/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Fvalid.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F30_threads%2Fpackaged_task%2Fmembers%2Fvalid.cc?ref=7a0269ded1363fb1c8df55995b65b5c6e778c037", "patch": "@@ -6,7 +6,7 @@\n // { dg-require-gthreads \"\" }\n // { dg-require-atomic-builtins \"\" }\n \n-// Copyright (C) 2009 Free Software Foundation, Inc.\n+// Copyright (C) 2011 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the\n@@ -34,10 +34,10 @@ void test01()\n   bool test __attribute__((unused)) = true;\n \n   std::packaged_task<int()> p1;\n-  VERIFY( !static_cast<bool>(p1) );\n+  VERIFY( !p1.valid() );\n \n   std::packaged_task<int()> p2(zero);\n-  VERIFY( static_cast<bool>(p2) );\n+  VERIFY( p2.valid() );\n }\n \n int main()", "previous_filename": "libstdc++-v3/testsuite/30_threads/packaged_task/members/boolconv.cc"}]}