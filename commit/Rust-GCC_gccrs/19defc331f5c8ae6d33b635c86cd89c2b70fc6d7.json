{"sha": "19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTlkZWZjMzMxZjVjOGFlNmQzM2I2MzVjODZjZDg5YzJiNzBmYzZkNw==", "commit": {"author": {"name": "Uros Bizjak", "email": "ubizjak@gmail.com", "date": "2011-05-04T18:59:04Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2011-05-04T18:59:04Z"}, "message": "recip-vec-divf.c: Decrease array sizes.\n\n\t* gcc.target/i386/recip-vec-divf.c: Decrease array sizes.\n\t* gcc.target/i386/recip-vec-sqrtf.c: Ditto.\n\t* gcc.target/i386/recip-vec-divf-avx.c: Increase array sizes.\n\t* gcc.target/i386/recip-vec-sqrtf-avx.c: Ditto.  Update scan times.\n\t* gcc.target/i386/ssefn-1.c: Add -mno-sse2 to dg-options.\n\t* gcc.target/i386/pr38824.c: Ditto.\n\t* gcc.target/i386/vecinit-1.c: Add -mno-sse4 to dg-options.\n\t* gcc.target/i386/vecinit-2.c: Ditto.\n\t* gcc.target/i386/sse-19.c: Add -mno-ssse3 to dg-options.\n\t* gcc.target/i386/parity-1.c: Add -mno-popcnt to dg-options.\n\t* gcc.target/i386/parity-2.c: Ditto.\n\t* gcc.target/i386/incoming-8.c: Add -mno-avx to dg-options.\n\nFrom-SVN: r173390", "tree": {"sha": "3d6c3567316c3cbf515b58231bdebe1b22368789", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d6c3567316c3cbf515b58231bdebe1b22368789"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/comments", "author": {"login": "ubizjak", "id": 55479990, "node_id": "MDQ6VXNlcjU1NDc5OTkw", "avatar_url": "https://avatars.githubusercontent.com/u/55479990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubizjak", "html_url": "https://github.com/ubizjak", "followers_url": "https://api.github.com/users/ubizjak/followers", "following_url": "https://api.github.com/users/ubizjak/following{/other_user}", "gists_url": "https://api.github.com/users/ubizjak/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubizjak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubizjak/subscriptions", "organizations_url": "https://api.github.com/users/ubizjak/orgs", "repos_url": "https://api.github.com/users/ubizjak/repos", "events_url": "https://api.github.com/users/ubizjak/events{/privacy}", "received_events_url": "https://api.github.com/users/ubizjak/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "944fb7998bc4f4d47fa84fda494421da7669d085", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/944fb7998bc4f4d47fa84fda494421da7669d085", "html_url": "https://github.com/Rust-GCC/gccrs/commit/944fb7998bc4f4d47fa84fda494421da7669d085"}], "stats": {"total": 74, "additions": 44, "deletions": 30}, "files": [{"sha": "98d963c45567d533e77dcfc62e357c06bd3f6b29", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,3 +1,18 @@\n+2011-05-04  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\t* gcc.target/i386/recip-vec-divf.c: Decrease array sizes.\n+\t* gcc.target/i386/recip-vec-sqrtf.c: Ditto.\n+\t* gcc.target/i386/recip-vec-divf-avx.c: Increase array sizes.\n+\t* gcc.target/i386/recip-vec-sqrtf-avx.c: Ditto.  Update scan times.\n+\t* gcc.target/i386/ssefn-1.c: Add -mno-sse2 to dg-options.\n+\t* gcc.target/i386/pr38824.c: Ditto.\n+\t* gcc.target/i386/vecinit-1.c: Add -mno-sse4 to dg-options.\n+\t* gcc.target/i386/vecinit-2.c: Ditto.\n+\t* gcc.target/i386/sse-19.c: Add -mno-ssse3 to dg-options.\n+\t* gcc.target/i386/parity-1.c: Add -mno-popcnt to dg-options.\n+\t* gcc.target/i386/parity-2.c: Ditto.\n+\t* gcc.target/i386/incoming-8.c: Add -mno-avx to dg-options.\n+\n 2011-05-04  Stuart Henderson  <shenders@gcc.gnu.org>\n \n \t* gcc.target/bfin/mcpu-bf512.c: Update to latest silicon revision and"}, {"sha": "a4904fba373ab63357c903fb456c183df7d77434", "filename": "gcc/testsuite/gcc.target/i386/incoming-8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fincoming-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fincoming-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fincoming-8.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,6 +1,6 @@\n /* PR target/40838 */\n /* { dg-do compile { target { { ! *-*-darwin* } && ilp32 } } } */\n-/* { dg-options \"-w -mstackrealign -O3 -msse2 -mpreferred-stack-boundary=4\" } */\n+/* { dg-options \"-w -mstackrealign -O3 -msse2 -mno-avx -mpreferred-stack-boundary=4\" } */\n \n float\n foo (float f)"}, {"sha": "1b0001ef2ad2c1328ec0c92546cc7cf334e862e2", "filename": "gcc/testsuite/gcc.target/i386/parity-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fparity-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fparity-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fparity-1.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -march=k8\" } */\n+/* { dg-options \"-O2 -march=k8 -mno-popcnt\" } */\n /* { dg-final { scan-assembler \"setnp\" } } */\n \n int foo(unsigned int x)"}, {"sha": "9adca35a667adbe02cd1dc853ab4a66609aed80e", "filename": "gcc/testsuite/gcc.target/i386/parity-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fparity-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fparity-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fparity-2.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -march=k8\" } */\n+/* { dg-options \"-O2 -march=k8 -mno-popcnt\" } */\n /* { dg-final { scan-assembler \"setnp\" } } */\n \n int foo(unsigned long long int x)"}, {"sha": "9fbfc502d6b39bc4c8b313f095d5dd6b30239bbc", "filename": "gcc/testsuite/gcc.target/i386/pr38824.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr38824.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr38824.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr38824.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -msse\" } */\n+/* { dg-options \"-O2 -msse -mno-sse2\" } */\n \n typedef float v4sf __attribute__ ((__vector_size__ (16)));\n "}, {"sha": "8aeec20d5c55456271f5553f23ebd78fad47c793", "filename": "gcc/testsuite/gcc.target/i386/recip-vec-divf-avx.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-divf-avx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-divf-avx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-divf-avx.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,15 +1,15 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -ffast-math -ftree-vectorize -mavx -mtune=generic -mfpmath=sse -mrecip\" } */\n \n-float a[16];\n-float b[16];\n-float r[16];\n+float a[32];\n+float b[32];\n+float r[32];\n \n void t1(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 32; i++)\n    r[i] = a[i] / b[i];\n }\n "}, {"sha": "0c0cd42ae8ac54bae566eaf5e64c9d4e09b528ee", "filename": "gcc/testsuite/gcc.target/i386/recip-vec-divf.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-divf.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-divf.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-divf.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,15 +1,15 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -ffast-math -ftree-vectorize -msse -mfpmath=sse -mrecip\" } */\n \n-float a[16];\n-float b[16];\n-float r[16];\n+float a[4];\n+float b[4];\n+float r[4];\n \n void t1(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 4; i++)\n    r[i] = a[i] / b[i];\n }\n "}, {"sha": "9cf3cc81be5dc38fb968daaf93c43bb505059359", "filename": "gcc/testsuite/gcc.target/i386/recip-vec-sqrtf-avx.c", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-sqrtf-avx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-sqrtf-avx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-sqrtf-avx.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,35 +1,34 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -ffast-math -ftree-vectorize -mavx -mtune=generic -mfpmath=sse -mrecip\" } */\n \n-float a[16];\n-float b[16];\n-float r[16];\n+float a[32];\n+float b[32];\n+float r[32];\n \n extern float sqrtf (float);\n \n void t1(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 32; i++)\n    r[i] = a[i] / sqrtf (b[i]);\n }\n \n void t2(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 32; i++)\n    r[i] = sqrtf (a[i] / b[i]);\n }\n \n void t3(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 32; i++)\n    r[i] = sqrtf (a[i]);\n }\n \n-/* Last loop is small enough to be fully unrolled.  */\n-/* { dg-final { scan-assembler-times \"vrsqrtps\\[ \\\\t\\]+\\[^\\n\\]*%ymm\" 6 } } */\n+/* { dg-final { scan-assembler-times \"vrsqrtps\\[ \\\\t\\]+\\[^\\n\\]*%ymm\" 3 } } */"}, {"sha": "9ac9bd76ce951131f13b546eeaf1ee600722f524", "filename": "gcc/testsuite/gcc.target/i386/recip-vec-sqrtf.c", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-sqrtf.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-sqrtf.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Frecip-vec-sqrtf.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,33 +1,33 @@\n /* { dg-do compile } */\n /* { dg-options \"-O2 -ffast-math -ftree-vectorize -msse -mfpmath=sse -mrecip\" } */\n \n-float a[16];\n-float b[16];\n-float r[16];\n+float a[4];\n+float b[4];\n+float r[4];\n \n extern float sqrtf (float);\n \n void t1(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 4; i++)\n    r[i] = a[i] / sqrtf (b[i]);\n }\n \n void t2(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 4; i++)\n    r[i] = sqrtf (a[i] / b[i]);\n }\n \n void t3(void)\n {\n  int i;\n \n- for (i = 0; i < 16; i++)\n+ for (i = 0; i < 4; i++)\n    r[i] = sqrtf (a[i]);\n }\n "}, {"sha": "3025567fd8107bcc1d5c83c92f65b30282c795e7", "filename": "gcc/testsuite/gcc.target/i386/sse-19.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-19.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-19.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fsse-19.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,6 +1,6 @@\n /* { dg-do compile } */\n /* { dg-skip-if \"\" { i?86-*-* x86_64-*-* } { \"-march=*\" } { \"-march=x86-64\" } } */\n-/* { dg-options \"-O3 -march=x86-64 -msse2\" } */\n+/* { dg-options \"-O3 -march=x86-64 -msse2 -mno-ssse3\" } */\n /* { dg-final { scan-assembler \"punpcklbw\" } } */\n extern void abort();\n #include <emmintrin.h>"}, {"sha": "786a0835dc6c85725054f07d428cbd8e9b7164cc", "filename": "gcc/testsuite/gcc.target/i386/ssefn-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fssefn-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fssefn-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fssefn-1.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -8,7 +8,7 @@\n /* { dg-final { scan-assembler-not \"movsd\" } } */\n /* { dg-final { scan-assembler-not \"mulsd\" } } */\n /* { dg-skip-if \"\" { i?86-*-* x86_64-*-* } { \"-march=*\" } { \"-march=i386\" } } */\n-/* { dg-options \"-O2 -march=i386 -msse -mfpmath=sse -fno-inline\" } */\n+/* { dg-options \"-O2 -march=i386 -msse -mno-sse2 -mfpmath=sse -fno-inline\" } */\n \n static float xs (void)\n {"}, {"sha": "17e29598516629d4f88d57189b757a1a72930fe7", "filename": "gcc/testsuite/gcc.target/i386/vecinit-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fvecinit-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fvecinit-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fvecinit-1.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -march=k8 -msse2\" } */\n+/* { dg-options \"-O2 -march=k8 -msse2 -mno-sse4\" } */\n \n #define vector __attribute__((vector_size(16)))\n "}, {"sha": "d7b910062d7ec04e9180f99531d5125d8dd32d83", "filename": "gcc/testsuite/gcc.target/i386/vecinit-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fvecinit-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19defc331f5c8ae6d33b635c86cd89c2b70fc6d7/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fvecinit-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fvecinit-2.c?ref=19defc331f5c8ae6d33b635c86cd89c2b70fc6d7", "patch": "@@ -1,5 +1,5 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O2 -march=k8 -msse2\" } */\n+/* { dg-options \"-O2 -march=k8 -msse2 -mno-sse4\" } */\n \n #define vector __attribute__((vector_size(16)))\n "}]}