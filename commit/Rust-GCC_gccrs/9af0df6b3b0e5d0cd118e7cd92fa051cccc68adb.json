{"sha": "9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWFmMGRmNmIzYjBlNWQwY2QxMThlN2NkOTJmYTA1MWNjY2M2OGFkYg==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2005-05-24T14:06:04Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2005-05-24T14:06:04Z"}, "message": "Makefile.in (tree-cfg.o): Depend on tree-ssa-propagate.h.\n\n        * Makefile.in (tree-cfg.o): Depend on tree-ssa-propagate.h.\n        * tree-cfg.c: Include tree-ssa-propagate.h.\n        (replace_uses_by): Call recompute_tree_invarant_for_addr_expr as\n        needed.\n\nFrom-SVN: r100103", "tree": {"sha": "5a3a2b03662426369fa8a017f587e4b2dcac1063", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a3a2b03662426369fa8a017f587e4b2dcac1063"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb/comments", "author": null, "committer": null, "parents": [{"sha": "b348d67cd08a3dfab508873bff3fe4597ae3e706", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b348d67cd08a3dfab508873bff3fe4597ae3e706", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b348d67cd08a3dfab508873bff3fe4597ae3e706"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "a704cd05ed21cb2acd4ac62d219b95debeac7896", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb", "patch": "@@ -1,3 +1,10 @@\n+2005-05-24  Jeff Law  <law@redhat.com>\n+\n+\t* Makefile.in (tree-cfg.o): Depend on tree-ssa-propagate.h.\n+\t* tree-cfg.c: Include tree-ssa-propagate.h.\n+\t(replace_uses_by): Call recompute_tree_invarant_for_addr_expr as\n+\tneeded.\n+\n 2005-05-24  Nick Clifton  <nickc@redhat.com>\n \n \t* config/rs6000/rs6000-c.c (rs6000_cpu_cpp_builtins): Define"}, {"sha": "28bfffd9e09499e6b5168fd963b308ce3bce59f1", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb", "patch": "@@ -1748,7 +1748,8 @@ tree-cfg.o : tree-cfg.c $(TREE_FLOW_H) $(CONFIG_H) $(SYSTEM_H) \\\n    $(RTL_H) $(TREE_H) $(TM_P_H) $(EXPR_H) $(GGC_H) $(FLAGS_H) output.h \\\n    $(DIAGNOSTIC_H) errors.h function.h $(TIMEVAR_H) $(TM_H) coretypes.h \\\n    $(TREE_DUMP_H) except.h langhooks.h $(CFGLOOP_H) tree-pass.h \\\n-   $(CFGLAYOUT_H) $(BASIC_BLOCK_H) hard-reg-set.h $(HASHTAB_H) toplev.h\n+   $(CFGLAYOUT_H) $(BASIC_BLOCK_H) hard-reg-set.h $(HASHTAB_H) toplev.h \\\n+   tree-ssa-propagate.h\n tree-tailcall.o : tree-tailcall.c $(TREE_FLOW_H) $(CONFIG_H) $(SYSTEM_H) \\\n    $(RTL_H) $(TREE_H) $(TM_P_H) function.h $(TM_H) coretypes.h \\\n    $(TREE_DUMP_H) $(DIAGNOSTIC_H) except.h tree-pass.h $(FLAGS_H) langhooks.h \\"}, {"sha": "0869edcadaaf006a9a1de8858849231305980782", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=9af0df6b3b0e5d0cd118e7cd92fa051cccc68adb", "patch": "@@ -45,6 +45,7 @@ Boston, MA 02111-1307, USA.  */\n #include \"cfgloop.h\"\n #include \"cfglayout.h\"\n #include \"hashtab.h\"\n+#include \"tree-ssa-propagate.h\"\n \n /* This file contains functions for building the Control Flow Graph (CFG)\n    for a function tree.  */\n@@ -1364,7 +1365,14 @@ replace_uses_by (tree name, tree val)\n      and we would never process them.  */\n   for (i = 0; VEC_iterate (tree, stmts, i, stmt); i++)\n     {\n+      tree rhs;\n+\n       fold_stmt_inplace (stmt);\n+\n+      rhs = get_rhs (stmt);\n+      if (TREE_CODE (rhs) == ADDR_EXPR)\n+\trecompute_tree_invarant_for_addr_expr (rhs);\n+\n       update_stmt (stmt);\n     }\n "}]}