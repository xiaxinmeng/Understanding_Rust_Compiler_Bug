{"sha": "d26d14f71ab8ba77f1edb305a7502a6f9ef91545", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDI2ZDE0ZjcxYWI4YmE3N2YxZWRiMzA1YTc1MDJhNmY5ZWY5MTU0NQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-21T21:21:25Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-10-21T21:21:25Z"}, "message": "(real_value_truncate): Use push/pop_float_handler.\n\nFrom-SVN: r2544", "tree": {"sha": "3d19df810d0dd12412e9edad4dd0d3c70e2666b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d19df810d0dd12412e9edad4dd0d3c70e2666b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d26d14f71ab8ba77f1edb305a7502a6f9ef91545", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d26d14f71ab8ba77f1edb305a7502a6f9ef91545", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d26d14f71ab8ba77f1edb305a7502a6f9ef91545", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d26d14f71ab8ba77f1edb305a7502a6f9ef91545/comments", "author": null, "committer": null, "parents": [{"sha": "bff4b641c72b8be9b21fceb589f10ee337e55cfb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bff4b641c72b8be9b21fceb589f10ee337e55cfb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bff4b641c72b8be9b21fceb589f10ee337e55cfb"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "c0aac0a1f7c0ab6cfeabf0bdde0319f15de01aaa", "filename": "gcc/fold-const.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d26d14f71ab8ba77f1edb305a7502a6f9ef91545/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d26d14f71ab8ba77f1edb305a7502a6f9ef91545/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=d26d14f71ab8ba77f1edb305a7502a6f9ef91545", "patch": "@@ -777,16 +777,17 @@ real_value_truncate (mode, arg)\n   volatile\n #endif\n     REAL_VALUE_TYPE value;\n-  jmp_buf handler;\n+  jmp_buf handler, old_handler;\n+  int handled;\n \n   if (setjmp (handler))\n     {\n       error (\"floating overflow\");\n       return dconst0;\n     }\n-  set_float_handler (handler);\n+  handled = push_float_handler (handler, old_handler);\n   value = REAL_VALUE_TRUNCATE (mode, arg);\n-  set_float_handler (NULL_PTR);\n+  pop_float_handler (handled, old_handler);\n   return value;\n }\n "}]}