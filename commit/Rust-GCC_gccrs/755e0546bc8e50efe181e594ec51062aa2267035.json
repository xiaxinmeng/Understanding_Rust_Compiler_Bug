{"sha": "755e0546bc8e50efe181e594ec51062aa2267035", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzU1ZTA1NDZiYzhlNTBlZmUxODFlNTk0ZWM1MTA2MmFhMjI2NzAzNQ==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2012-07-07T00:26:08Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2012-07-07T00:26:08Z"}, "message": "Fix configure test for \"stack protector support in target C library\".\n\n\t* configure.ac (test_prefix, test_exec_prefix): Move setting from\n\tinside sysroot handling to before and outside it.\n\t* configure: Regenerate.\n\nFrom-SVN: r189345", "tree": {"sha": "410ed887d0402f88584c1e5a16b2e49217ab4ad5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/410ed887d0402f88584c1e5a16b2e49217ab4ad5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/755e0546bc8e50efe181e594ec51062aa2267035", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/755e0546bc8e50efe181e594ec51062aa2267035", "html_url": "https://github.com/Rust-GCC/gccrs/commit/755e0546bc8e50efe181e594ec51062aa2267035", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/755e0546bc8e50efe181e594ec51062aa2267035/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "515b99472543755f2db0f0abee2f7b1523bb51bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/515b99472543755f2db0f0abee2f7b1523bb51bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/515b99472543755f2db0f0abee2f7b1523bb51bb"}], "stats": {"total": 61, "additions": 35, "deletions": 26}, "files": [{"sha": "70d0eb620f142470284daf764a6a3f92f23c2c14", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/755e0546bc8e50efe181e594ec51062aa2267035/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/755e0546bc8e50efe181e594ec51062aa2267035/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=755e0546bc8e50efe181e594ec51062aa2267035", "patch": "@@ -1,3 +1,10 @@\n+2012-07-07  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\tFix configure test for \"stack protector support in target C library\".\n+\t* configure.ac (test_prefix, test_exec_prefix): Move setting from\n+\tinside sysroot handling to before and outside it.\n+\t* configure: Regenerate.\n+\n 2012-07-06  Kai Tietz  <ktietz@redhat.com>\n \n \tPR bootstrap/52947"}, {"sha": "817b3d6e88b199f5de7b497b254efc404c7c09dc", "filename": "gcc/configure", "status": "modified", "additions": 15, "deletions": 14, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/755e0546bc8e50efe181e594ec51062aa2267035/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/755e0546bc8e50efe181e594ec51062aa2267035/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=755e0546bc8e50efe181e594ec51062aa2267035", "patch": "@@ -7236,6 +7236,17 @@ fi\n \n \n \n+if test \"x$prefix\" = xNONE; then\n+ test_prefix=/usr/local\n+else\n+ test_prefix=$prefix\n+fi\n+if test \"x$exec_prefix\" = xNONE; then\n+ test_exec_prefix=$test_prefix\n+else\n+ test_exec_prefix=$exec_prefix\n+fi\n+\n \n # Check whether --with-sysroot was given.\n if test \"${with_sysroot+set}\" = set; then :\n@@ -7248,16 +7259,6 @@ if test \"${with_sysroot+set}\" = set; then :\n  TARGET_SYSTEM_ROOT_DEFINE='-DTARGET_SYSTEM_ROOT=\\\"$(TARGET_SYSTEM_ROOT)\\\"'\n  CROSS_SYSTEM_HEADER_DIR='$(TARGET_SYSTEM_ROOT)$${sysroot_headers_suffix}$(NATIVE_SYSTEM_HEADER_DIR)'\n \n- if test \"x$prefix\" = xNONE; then\n-  test_prefix=/usr/local\n- else\n-  test_prefix=$prefix\n- fi\n- if test \"x$exec_prefix\" = xNONE; then\n-  test_exec_prefix=$test_prefix\n- else\n-  test_exec_prefix=$exec_prefix\n- fi\n  case ${TARGET_SYSTEM_ROOT} in\n  \"${test_prefix}\"|\"${test_prefix}/\"*|\\\n  \"${test_exec_prefix}\"|\"${test_exec_prefix}/\"*|\\\n@@ -17971,7 +17972,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 17974 \"configure\"\n+#line 17975 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -18077,7 +18078,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 18080 \"configure\"\n+#line 18081 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -26631,11 +26632,11 @@ if test x$host != x$target || test \"x$TARGET_SYSTEM_ROOT\" != x; then\n   if test \"x$with_headers\" != x; then\n     target_header_dir=$with_headers\n   elif test \"x$with_sysroot\" = x; then\n-    target_header_dir=\"${exec_prefix}/${target_noncanonical}/sys-include\"\n+    target_header_dir=\"${test_exec_prefix}/${target_noncanonical}/sys-include\"\n   elif test \"x$with_build_sysroot\" != \"x\"; then\n     target_header_dir=\"${with_build_sysroot}${native_system_header_dir}\"\n   elif test \"x$with_sysroot\" = xyes; then\n-    target_header_dir=\"${exec_prefix}/${target_noncanonical}/sys-root${native_system_header_dir}\"\n+    target_header_dir=\"${test_exec_prefix}/${target_noncanonical}/sys-root${native_system_header_dir}\"\n   else\n     target_header_dir=\"${with_sysroot}${native_system_header_dir}\"\n   fi"}, {"sha": "44d96a98216d36cff3789de3271c0e6feff0edd4", "filename": "gcc/configure.ac", "status": "modified", "additions": 13, "deletions": 12, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/755e0546bc8e50efe181e594ec51062aa2267035/gcc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/755e0546bc8e50efe181e594ec51062aa2267035/gcc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.ac?ref=755e0546bc8e50efe181e594ec51062aa2267035", "patch": "@@ -747,6 +747,17 @@ AC_ARG_WITH(build-sysroot,\n   [SYSROOT_CFLAGS_FOR_TARGET=])\n AC_SUBST(SYSROOT_CFLAGS_FOR_TARGET)\n \n+if test \"x$prefix\" = xNONE; then\n+ test_prefix=/usr/local\n+else\n+ test_prefix=$prefix\n+fi\n+if test \"x$exec_prefix\" = xNONE; then\n+ test_exec_prefix=$test_prefix\n+else\n+ test_exec_prefix=$exec_prefix\n+fi\n+\n AC_ARG_WITH(sysroot,\n [AS_HELP_STRING([[--with-sysroot[=DIR]]],\n \t\t[search for usr/lib, usr/include, et al, within DIR])],\n@@ -759,16 +770,6 @@ AC_ARG_WITH(sysroot,\n  TARGET_SYSTEM_ROOT_DEFINE='-DTARGET_SYSTEM_ROOT=\\\"$(TARGET_SYSTEM_ROOT)\\\"'\n  CROSS_SYSTEM_HEADER_DIR='$(TARGET_SYSTEM_ROOT)$${sysroot_headers_suffix}$(NATIVE_SYSTEM_HEADER_DIR)'\n \t\n- if test \"x$prefix\" = xNONE; then\n-  test_prefix=/usr/local\n- else\n-  test_prefix=$prefix\n- fi\n- if test \"x$exec_prefix\" = xNONE; then\n-  test_exec_prefix=$test_prefix\n- else\n-  test_exec_prefix=$exec_prefix\n- fi\n  case ${TARGET_SYSTEM_ROOT} in\n  \"${test_prefix}\"|\"${test_prefix}/\"*|\\\n  \"${test_exec_prefix}\"|\"${test_exec_prefix}/\"*|\\\n@@ -4534,11 +4535,11 @@ if test x$host != x$target || test \"x$TARGET_SYSTEM_ROOT\" != x; then\n   if test \"x$with_headers\" != x; then\n     target_header_dir=$with_headers\n   elif test \"x$with_sysroot\" = x; then\n-    target_header_dir=\"${exec_prefix}/${target_noncanonical}/sys-include\"\n+    target_header_dir=\"${test_exec_prefix}/${target_noncanonical}/sys-include\"\n   elif test \"x$with_build_sysroot\" != \"x\"; then\n     target_header_dir=\"${with_build_sysroot}${native_system_header_dir}\"\n   elif test \"x$with_sysroot\" = xyes; then\n-    target_header_dir=\"${exec_prefix}/${target_noncanonical}/sys-root${native_system_header_dir}\"\n+    target_header_dir=\"${test_exec_prefix}/${target_noncanonical}/sys-root${native_system_header_dir}\"\n   else\n     target_header_dir=\"${with_sysroot}${native_system_header_dir}\"\n   fi"}]}