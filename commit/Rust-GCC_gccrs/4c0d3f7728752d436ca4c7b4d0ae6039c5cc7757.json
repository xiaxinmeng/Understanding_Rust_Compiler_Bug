{"sha": "4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGMwZDNmNzcyODc1MmQ0MzZjYTRjN2I0ZDBhZTYwMzljNWNjNzc1Nw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2019-02-10T10:46:43Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2019-02-10T10:46:43Z"}, "message": "re PR lto/89272 (r268728 caused FAIL: g++.dg/lto/pr65316 cp_lto_pr65316_0.o assemble)\n\n\n\tPR lto/89272\n\t* tree.c (fld_simplified_type_name): Also keep TYPE_DECL for\n\tpolymorphic types.\n\nFrom-SVN: r268742", "tree": {"sha": "ceb3e0db5fac2156ff4ad5612e196490a585fe2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ceb3e0db5fac2156ff4ad5612e196490a585fe2f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757/comments", "author": null, "committer": null, "parents": [{"sha": "c5ca5ad070e543a2ed62c73f9e19aa27e5992bd4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c5ca5ad070e543a2ed62c73f9e19aa27e5992bd4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c5ca5ad070e543a2ed62c73f9e19aa27e5992bd4"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "1ddc32a24f524039d1615eb5a504ad56baf1a7fe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757", "patch": "@@ -1,3 +1,9 @@\n+2019-02-09  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\tPR lto/89272\n+\t* tree.c (fld_simplified_type_name): Also keep TYPE_DECL for\n+\tpolymorphic types.\n+\n 2019-02-10  Monk Chiang  <sh.chiang04@gmail.com>\n \n \t* config/nds32/nds32.md (trap): New pattern."}, {"sha": "b8be295d14520ddf04694e05308ecab8f940ea88", "filename": "gcc/tree.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757/gcc%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757/gcc%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree.c?ref=4c0d3f7728752d436ca4c7b4d0ae6039c5cc7757", "patch": "@@ -5153,7 +5153,10 @@ fld_simplified_type_name (tree type)\n      TYPE_DECL if the type doesn't have linkage.\n      this must match fld_  */\n   if (type != TYPE_MAIN_VARIANT (type)\n-      || !DECL_ASSEMBLER_NAME_SET_P (TYPE_NAME (type)))\n+      || (!DECL_ASSEMBLER_NAME_SET_P (TYPE_NAME (type))\n+\t  && (TREE_CODE (type) != RECORD_TYPE\n+\t      || !TYPE_BINFO (type)\n+\t      || !BINFO_VTABLE (TYPE_BINFO (type)))))\n     return DECL_NAME (TYPE_NAME (type));\n   return TYPE_NAME (type);\n }"}]}