{"sha": "03cf8d54e5c27cfe6b184cc96757cab30d8fa1df", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDNjZjhkNTRlNWMyN2NmZTZiMTg0Y2M5Njc1N2NhYjMwZDhmYTFkZg==", "commit": {"author": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2021-05-18T04:26:25Z"}, "committer": {"name": "Patrick Palka", "email": "ppalka@redhat.com", "date": "2021-05-18T04:26:25Z"}, "message": "libstdc++: Fix condition for memoizing reverse_view::begin() [PR100621]\n\nA range being a random access range isn't a sufficient condition for\nranges::next(iter, sent) to have constant time complexity -- it must\nalso have a sized sentinel.  This adjusts the memoization condition for\nreverse_view accordingly.\n\nlibstdc++-v3/ChangeLog:\n\n\tPR libstdc++/100621\n\t* include/std/ranges (reverse_view::_S_needs_cached_begin):\n\tSet to true if the underlying non-common random-access range\n\tdoesn't have a sized sentinel.", "tree": {"sha": "88dac99b5e5398864699ab9fa636e72afccd7d0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/88dac99b5e5398864699ab9fa636e72afccd7d0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/03cf8d54e5c27cfe6b184cc96757cab30d8fa1df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03cf8d54e5c27cfe6b184cc96757cab30d8fa1df", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03cf8d54e5c27cfe6b184cc96757cab30d8fa1df", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03cf8d54e5c27cfe6b184cc96757cab30d8fa1df/comments", "author": null, "committer": null, "parents": [{"sha": "2e2eef80ac0c21f9533e6791ccf5e29458cbb77c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2e2eef80ac0c21f9533e6791ccf5e29458cbb77c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2e2eef80ac0c21f9533e6791ccf5e29458cbb77c"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "70794251ec703c0f47768a8033afa27952e58f47", "filename": "libstdc++-v3/include/std/ranges", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/03cf8d54e5c27cfe6b184cc96757cab30d8fa1df/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/03cf8d54e5c27cfe6b184cc96757cab30d8fa1df/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Franges?ref=03cf8d54e5c27cfe6b184cc96757cab30d8fa1df", "patch": "@@ -3228,7 +3228,9 @@ namespace views::__adaptor\n     {\n     private:\n       static constexpr bool _S_needs_cached_begin\n-\t= !common_range<_Vp> && !random_access_range<_Vp>;\n+\t= !common_range<_Vp> && !(random_access_range<_Vp>\n+\t\t\t\t  && sized_sentinel_for<sentinel_t<_Vp>,\n+\t\t\t\t\t\t\titerator_t<_Vp>>);\n \n       [[no_unique_address]]\n \t__detail::__maybe_present_t<_S_needs_cached_begin,"}]}