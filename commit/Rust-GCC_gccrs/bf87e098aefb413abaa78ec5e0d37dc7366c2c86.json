{"sha": "bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmY4N2UwOThhZWZiNDEzYWJhYTc4ZWM1ZTBkMzdkYzczNjZjMmM4Ng==", "commit": {"author": {"name": "Lee Millward", "email": "lee.millward@codesourcery.com", "date": "2006-08-27T15:22:05Z"}, "committer": {"name": "Lee Millward", "email": "lmillward@gcc.gnu.org", "date": "2006-08-27T15:22:05Z"}, "message": "re PR c++/26573 (Duplicate message for static member in local class)\n\n        PR c++/26573\n        * class.c (check_field_decls): Don't issue error about\n        local classes containing static data members.\n\n        * g++.dg/other/static2.C: New test.\n\nFrom-SVN: r116490", "tree": {"sha": "8079c25e8fb391d151cee0b5b49eb214449711dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8079c25e8fb391d151cee0b5b49eb214449711dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/comments", "author": null, "committer": null, "parents": [{"sha": "0370f61a541ef2c41fafb788facd2b1de67c317c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0370f61a541ef2c41fafb788facd2b1de67c317c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0370f61a541ef2c41fafb788facd2b1de67c317c"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "dd1df56fca4c8ef3a26d1ee0e6c2978d5e78893d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "patch": "@@ -1,3 +1,9 @@\n+2006-08-27  Lee Millward  <lee.millward@codesourcery.com>\n+\n+        PR c++/26573\n+        * class.c (check_field_decls): Don't issue error about\n+        local classes containing static data members.\n+\t\n 2006-08-26  Joseph S. Myers  <joseph@codesourcery.com>\n \n \tPR c++/24009"}, {"sha": "18996a043b8ac10cddbcc3bf9d7f291a767b662d", "filename": "gcc/cp/class.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "patch": "@@ -2856,10 +2856,6 @@ check_field_decls (tree t, tree *access_decls,\n \t    }\n \t}\n \n-      /* ``A local class cannot have static data members.'' ARM 9.4 */\n-      if (current_function_decl && TREE_STATIC (x))\n-\terror (\"field %q+D in local class cannot be static\", x);\n-\n       /* Perform error checking that did not get done in\n \t grokdeclarator.  */\n       if (TREE_CODE (type) == FUNCTION_TYPE)"}, {"sha": "c6d64573eaeb72f3368f05a1132055caf6d33a58", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "patch": "@@ -1,3 +1,8 @@\n+2006-08-27  Lee Millward  <lee.millward@codesourcery.com>\n+\n+        PR c++/26573\n+        * g++.dg/other/static2.C: New test. \n+\t\n 2006-08-26  Roger Sayle  <roger@eyesopen.com>\n \n \t* gcc.dg/Wswitch-enum-2.c: New test case."}, {"sha": "ff1478c2a9469f0ee24072c83159cf827bf48ed2", "filename": "gcc/testsuite/g++.dg/other/static2.C", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fstatic2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf87e098aefb413abaa78ec5e0d37dc7366c2c86/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fstatic2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fother%2Fstatic2.C?ref=bf87e098aefb413abaa78ec5e0d37dc7366c2c86", "patch": "@@ -0,0 +1,12 @@\n+//PR c++/26573\n+\n+void foo()\n+{\n+  struct A { static int i; };   // { dg-error \"shall not have\" }\n+}\n+\n+template<typename T>\n+void bar()\n+{\n+  struct B { static int j; };   // { dg-error \"shall not have\" }\n+}"}]}