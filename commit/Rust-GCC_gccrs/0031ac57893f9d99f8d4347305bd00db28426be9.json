{"sha": "0031ac57893f9d99f8d4347305bd00db28426be9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDAzMWFjNTc4OTNmOWQ5OWY4ZDQzNDczMDViZDAwZGIyODQyNmJlOQ==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-08T07:56:19Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-11-08T07:56:19Z"}, "message": "(output_line_command): Handle NO_IMPLICIT_EXTERN_C here.\n\n(main): Not here.\n\nFrom-SVN: r6038", "tree": {"sha": "a6a881bae97fbf07b3b19b66fc780f72e109e357", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a6a881bae97fbf07b3b19b66fc780f72e109e357"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0031ac57893f9d99f8d4347305bd00db28426be9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0031ac57893f9d99f8d4347305bd00db28426be9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0031ac57893f9d99f8d4347305bd00db28426be9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0031ac57893f9d99f8d4347305bd00db28426be9/comments", "author": null, "committer": null, "parents": [{"sha": "db025de86e4c721f34979435678d2b7c9ee2ce96", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db025de86e4c721f34979435678d2b7c9ee2ce96", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db025de86e4c721f34979435678d2b7c9ee2ce96"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "5544da4f356bce9f6e1eadbf5976678eacbe73ea", "filename": "gcc/cccp.c", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0031ac57893f9d99f8d4347305bd00db28426be9/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0031ac57893f9d99f8d4347305bd00db28426be9/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=0031ac57893f9d99f8d4347305bd00db28426be9", "patch": "@@ -1751,13 +1751,7 @@ main (argc, argv)\n \t    strcat (str, p->fname + default_len);\n \t    new->fname = str;\n \t    new->control_macro = 0;\n-#ifdef NO_IMPLICIT_EXTERN_C\n-\t    /* On some systems, the system header files are C++-compatible.\n-\t       So don't pretend they are `extern \"C\"'.  */\n-\t    new->c_system_include_path = 0;\n-#else\n \t    new->c_system_include_path = !p->cplusplus;\n-#endif\n \t    append_include_chain (new, new);\n \t    if (first_system_include == 0)\n \t      first_system_include = new;\n@@ -4265,7 +4259,10 @@ redundant_include_p (name)\n    it is the name of a file which resides either directly in a \"system\"\n    include file directory, or within any subdirectory thereof, then the\n    given file must be a \"system\" include file.  This function tells us\n-   if we should suppress pedantic errors/warnings for the given FILENAME.  */\n+   if we should suppress pedantic errors/warnings for the given FILENAME.\n+\n+   The value is 2 if the file is a C-language system header file\n+   for which C++ should (on most systems) assume `extern \"C\"'.  */\n \n static int\n is_system_include (filename)\n@@ -7198,11 +7195,13 @@ output_line_command (ip, op, conditional, file_change)\n     *line_end++ = ' ';\n     *line_end++ = '3';\n   }\n+#ifndef NO_IMPLICIT_EXTERN_C\n   /* Tell cc1plus if following text should be treated as C.  */\n   if (ip->system_header_p == 2 && cplusplus) {\n     *line_end++ = ' ';\n     *line_end++ = '4';\n   }\n+#endif\n   *line_end++ = '\\n';\n   len = line_end - line_cmd_buf;\n   check_expand (op, len + 1);"}]}