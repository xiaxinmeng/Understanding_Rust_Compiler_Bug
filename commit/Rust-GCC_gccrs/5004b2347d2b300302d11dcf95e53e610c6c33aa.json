{"sha": "5004b2347d2b300302d11dcf95e53e610c6c33aa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTAwNGIyMzQ3ZDJiMzAwMzAyZDExZGNmOTVlNTNlNjEwYzZjMzNhYQ==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2009-10-02T20:16:18Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2009-10-02T20:16:18Z"}, "message": "decl.c (check_ok_for_atomic): Do nothing if the type doesn't come from source.\n\n\t* gcc-interface/decl.c (check_ok_for_atomic): Do nothing if the type\n\tdoesn't come from source.\n\nFrom-SVN: r152418", "tree": {"sha": "40b5d1e4c2dc203a6c690b49915b38af85291282", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/40b5d1e4c2dc203a6c690b49915b38af85291282"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5004b2347d2b300302d11dcf95e53e610c6c33aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5004b2347d2b300302d11dcf95e53e610c6c33aa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5004b2347d2b300302d11dcf95e53e610c6c33aa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5004b2347d2b300302d11dcf95e53e610c6c33aa/comments", "author": null, "committer": null, "parents": [{"sha": "1aa8b1dd138a0b4aec3bc5747b7298475335e4d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1aa8b1dd138a0b4aec3bc5747b7298475335e4d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1aa8b1dd138a0b4aec3bc5747b7298475335e4d7"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "1a86ebd9185803cf911e8d7509b832a558f37532", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=5004b2347d2b300302d11dcf95e53e610c6c33aa", "patch": "@@ -1,3 +1,8 @@\n+2009-10-02  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gcc-interface/decl.c (check_ok_for_atomic): Do nothing if the type\n+\tdoesn't come from source.\n+\n 2009-10-02  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gcc-interface/decl.c (gnat_to_gnu_component_type): Force at least"}, {"sha": "a6c1672e2ad722f0cd32d64f4648562c51018374", "filename": "gcc/ada/gcc-interface/decl.c", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Fada%2Fgcc-interface%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgcc-interface%2Fdecl.c?ref=5004b2347d2b300302d11dcf95e53e610c6c33aa", "patch": "@@ -7868,6 +7868,11 @@ check_ok_for_atomic (tree object, Entity_Id gnat_entity, bool comp_p)\n      OBJECT is either a type or a decl.  */\n   if (TYPE_P (object))\n     {\n+      /* If this is an anonymous base type, nothing to check.  Error will be\n+\t reported on the source type.  */\n+      if (!Comes_From_Source (gnat_entity))\n+\treturn;\n+\n       mode = TYPE_MODE (object);\n       align = TYPE_ALIGN (object);\n       size = TYPE_SIZE (object);"}, {"sha": "e40e71d1982cc25103223c1598a353223afeebea", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5004b2347d2b300302d11dcf95e53e610c6c33aa", "patch": "@@ -1,3 +1,7 @@\n+2009-10-02  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/atomic2.adb: New test.\n+\n 2009-10-02  Eric Botcazou  <ebotcazou@adacore.com>\n \n \t* gnat.dg/array11.adb: New test."}, {"sha": "c14d21e13ee591bdbf88d938b39c1b6628f62632", "filename": "gcc/testsuite/gnat.dg/atomic2.adb", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Ftestsuite%2Fgnat.dg%2Fatomic2.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5004b2347d2b300302d11dcf95e53e610c6c33aa/gcc%2Ftestsuite%2Fgnat.dg%2Fatomic2.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fatomic2.adb?ref=5004b2347d2b300302d11dcf95e53e610c6c33aa", "patch": "@@ -0,0 +1,11 @@\n+-- { dg-do compile }\n+\n+procedure Atomic2 is\n+\n+  type Big is array (1..4) of Integer;\n+  type Arr is array (1..10) of Big;\n+  pragma Atomic_Components (Arr); -- { dg-warning \"cannot be guaranteed\" }\n+\n+begin\n+  null;\n+end;"}]}