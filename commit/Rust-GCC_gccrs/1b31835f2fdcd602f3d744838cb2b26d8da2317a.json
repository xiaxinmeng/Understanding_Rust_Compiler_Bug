{"sha": "1b31835f2fdcd602f3d744838cb2b26d8da2317a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWIzMTgzNWYyZmRjZDYwMmYzZDc0NDgzOGNiMmIyNmQ4ZGEyMzE3YQ==", "commit": {"author": {"name": "Gerald Pfeifer", "email": "gerald@pfeifer.com", "date": "2011-01-31T01:14:49Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2011-01-31T01:14:49Z"}, "message": "update_version_svn (FILES): Merge with datestamp_FILES.\n\n\t* update_version_svn (FILES): Merge with datestamp_FILES.\n\t(SVNROOT2): Introduce and use.\n\nFrom-SVN: r169428", "tree": {"sha": "275baaf128e62a4aea15987b6130cb8d60e5a2a0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/275baaf128e62a4aea15987b6130cb8d60e5a2a0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b31835f2fdcd602f3d744838cb2b26d8da2317a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b31835f2fdcd602f3d744838cb2b26d8da2317a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b31835f2fdcd602f3d744838cb2b26d8da2317a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b31835f2fdcd602f3d744838cb2b26d8da2317a/comments", "author": {"login": "GeraldPfeifer", "id": 4573532, "node_id": "MDQ6VXNlcjQ1NzM1MzI=", "avatar_url": "https://avatars.githubusercontent.com/u/4573532?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GeraldPfeifer", "html_url": "https://github.com/GeraldPfeifer", "followers_url": "https://api.github.com/users/GeraldPfeifer/followers", "following_url": "https://api.github.com/users/GeraldPfeifer/following{/other_user}", "gists_url": "https://api.github.com/users/GeraldPfeifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/GeraldPfeifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GeraldPfeifer/subscriptions", "organizations_url": "https://api.github.com/users/GeraldPfeifer/orgs", "repos_url": "https://api.github.com/users/GeraldPfeifer/repos", "events_url": "https://api.github.com/users/GeraldPfeifer/events{/privacy}", "received_events_url": "https://api.github.com/users/GeraldPfeifer/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "61052244711edd374a266d9157736ee1cd69327d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61052244711edd374a266d9157736ee1cd69327d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61052244711edd374a266d9157736ee1cd69327d"}], "stats": {"total": 23, "additions": 13, "deletions": 10}, "files": [{"sha": "efec2a1b8259c41c45db30e48e53b6ad532e19c8", "filename": "maintainer-scripts/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b31835f2fdcd602f3d744838cb2b26d8da2317a/maintainer-scripts%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b31835f2fdcd602f3d744838cb2b26d8da2317a/maintainer-scripts%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2FChangeLog?ref=1b31835f2fdcd602f3d744838cb2b26d8da2317a", "patch": "@@ -1,3 +1,8 @@\n+2011-01-31  Gerald Pfeifer  <gerald@pfeifer.com>\n+\n+\t* update_version_svn (FILES): Merge with datestamp_FILES.\n+\t(SVNROOT2): Introduce and use.\n+\t\n 2011-01-30  Gerald Pfeifer  <gerald@pfeifer.com>\n \n \t* update_version_svn (SVN): Remove obsolete comment."}, {"sha": "20fd2b194aef7f232a7408d6cbcea218e2bfdf13", "filename": "maintainer-scripts/update_version_svn", "status": "modified", "additions": 8, "deletions": 10, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b31835f2fdcd602f3d744838cb2b26d8da2317a/maintainer-scripts%2Fupdate_version_svn", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b31835f2fdcd602f3d744838cb2b26d8da2317a/maintainer-scripts%2Fupdate_version_svn", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/maintainer-scripts%2Fupdate_version_svn?ref=1b31835f2fdcd602f3d744838cb2b26d8da2317a", "patch": "@@ -28,26 +28,24 @@ BRANCHES=\"${BRANCHES} ${ADD_BRANCHES}\"\n # This is put into the datestamp files.\n CURR_DATE=`/bin/date +\"%Y%m%d\"`\n \n-# version is all there is\n datestamp_FILES=\"gcc/DATESTAMP\"\n \n-FILES=\"$datestamp_FILES\"\n \n # Assume all will go well.\n RESULT=0\n for BRANCH in $BRANCHES; do\n   echo \"Working on \\\"$BRANCH\\\".\"\n   # Check out the files on the branch.  HEAD is in a different namespace.\n   if test \"$BRANCH\" = HEAD; then \n-    for i in $FILES; do\n-      ${SVN} -q co -N ${SVNROOT}/trunk/`dirname $i` `basename $i`\n-    done\n-  else\n-    for i in $FILES; do\n-      ${SVN} -q co -N ${SVNROOT}/branches/${BRANCH}/`dirname $i` `basename $i`\n-    done\n+    SVNROOT2=${SVNROOT}/trunk\n+  else    \n+    SVNROOT2=${SVNROOT}/branches/${BRANCH}\n   fi\n \n+  for i in $datestamp_FILES; do\n+    ${SVN} -q co -N ${SVNROOT2}/`dirname $i` `basename $i`\n+  done\n+\n   # There are no files to commit yet.\n   COMMIT_FILES=\"\"\n \n@@ -78,7 +76,7 @@ for BRANCH in $BRANCHES; do\n   fi\n   \n   # Remove the files.\n-  for i in $FILES; do\n+  for i in $datestamp_FILES; do\n    rm -rf /tmp/$$/`basename $i`\n   done\n done"}]}