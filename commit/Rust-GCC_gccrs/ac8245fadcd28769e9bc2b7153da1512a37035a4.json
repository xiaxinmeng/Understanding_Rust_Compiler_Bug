{"sha": "ac8245fadcd28769e9bc2b7153da1512a37035a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWM4MjQ1ZmFkY2QyODc2OWU5YmMyYjcxNTNkYTE1MTJhMzcwMzVhNA==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-10-17T20:07:34Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2004-10-17T20:07:34Z"}, "message": "re PR middle-end/17925 (Gotos loses their locations)\n\n2004-10-17  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        PR middle-end/17925\n        * cfgexpand.c (expand_gimple_cond_expr): Emit line notes for next basic\n        block if there is a goto with a locus.\n\nFrom-SVN: r89182", "tree": {"sha": "9699fe6eb2733693ff9dce702a35c7f42ea9cfba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9699fe6eb2733693ff9dce702a35c7f42ea9cfba"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ac8245fadcd28769e9bc2b7153da1512a37035a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac8245fadcd28769e9bc2b7153da1512a37035a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ac8245fadcd28769e9bc2b7153da1512a37035a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ac8245fadcd28769e9bc2b7153da1512a37035a4/comments", "author": null, "committer": null, "parents": [{"sha": "caec2cfc2703ff930fa23fa99762a94326db0c84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/caec2cfc2703ff930fa23fa99762a94326db0c84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/caec2cfc2703ff930fa23fa99762a94326db0c84"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "9bbb498018ca2ad558021fa46f2970009d94c198", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac8245fadcd28769e9bc2b7153da1512a37035a4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac8245fadcd28769e9bc2b7153da1512a37035a4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ac8245fadcd28769e9bc2b7153da1512a37035a4", "patch": "@@ -1,3 +1,9 @@\n+2004-10-17  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR middle-end/17925\n+\t* cfgexpand.c (expand_gimple_cond_expr): Emit line notes for next basic\n+\tblock if there is a goto with a locus.\n+\n 2004-10-17  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* config/elfos.h, config/gofast.h, config/interix.h,"}, {"sha": "df0c695b8228f2b9b818651df33102993340854d", "filename": "gcc/cfgexpand.c", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ac8245fadcd28769e9bc2b7153da1512a37035a4/gcc%2Fcfgexpand.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ac8245fadcd28769e9bc2b7153da1512a37035a4/gcc%2Fcfgexpand.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfgexpand.c?ref=ac8245fadcd28769e9bc2b7153da1512a37035a4", "patch": "@@ -886,13 +886,17 @@ expand_gimple_cond_expr (basic_block bb, tree stmt)\n       jumpif (pred, label_rtx (GOTO_DESTINATION (then_exp)));\n       add_reg_br_prob_note (dump_file, last, true_edge->probability);\n       maybe_dump_rtl_for_tree_stmt (stmt, last);\n+      if (EXPR_LOCUS (then_exp))\n+\temit_line_note (*(EXPR_LOCUS (then_exp)));\n       return NULL;\n     }\n   if (TREE_CODE (else_exp) == GOTO_EXPR && IS_EMPTY_STMT (then_exp))\n     {\n       jumpifnot (pred, label_rtx (GOTO_DESTINATION (else_exp)));\n       add_reg_br_prob_note (dump_file, last, false_edge->probability);\n       maybe_dump_rtl_for_tree_stmt (stmt, last);\n+      if (EXPR_LOCUS (else_exp))\n+\temit_line_note (*(EXPR_LOCUS (else_exp)));\n       return NULL;\n     }\n   gcc_assert (TREE_CODE (then_exp) == GOTO_EXPR\n@@ -922,6 +926,9 @@ expand_gimple_cond_expr (basic_block bb, tree stmt)\n   update_bb_for_insn (new_bb);\n \n   maybe_dump_rtl_for_tree_stmt (stmt, last2);\n+  \n+  if (EXPR_LOCUS (else_exp))\n+    emit_line_note (*(EXPR_LOCUS (else_exp)));\n \n   return new_bb;\n }"}]}