{"sha": "2aa7c49bff5319f17ba438cc45c360f6843687e4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmFhN2M0OWJmZjUzMTlmMTdiYTQzOGNjNDVjMzYwZjY4NDM2ODdlNA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2009-06-02T08:07:13Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2009-06-02T08:07:13Z"}, "message": "common.opt (fdump-unnumbered-links): New.\n\n* common.opt (fdump-unnumbered-links): New.\n* doc/invoke.texi (-fdump-unnumbered-links): Document it.\n* print-rtl.c (flag_dump_unnumbered_links): New.\n(print_rtx): Test it.\n\nFrom-SVN: r148074", "tree": {"sha": "72b532c126174f4c3c49ea0d6b46a48ab1487ed1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/72b532c126174f4c3c49ea0d6b46a48ab1487ed1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2aa7c49bff5319f17ba438cc45c360f6843687e4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2aa7c49bff5319f17ba438cc45c360f6843687e4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2aa7c49bff5319f17ba438cc45c360f6843687e4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2aa7c49bff5319f17ba438cc45c360f6843687e4/comments", "author": null, "committer": null, "parents": [{"sha": "55b2829b99458634704698462459784bd324aea8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/55b2829b99458634704698462459784bd324aea8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/55b2829b99458634704698462459784bd324aea8"}], "stats": {"total": 29, "additions": 27, "deletions": 2}, "files": [{"sha": "c84f1a6a4346c3e3e1c106d583330bcf93d6045b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2aa7c49bff5319f17ba438cc45c360f6843687e4", "patch": "@@ -1,3 +1,10 @@\n+2009-06-02  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* common.opt (fdump-unnumbered-links): New.\n+\t* doc/invoke.texi (-fdump-unnumbered-links): Document it.\n+\t* print-rtl.c (flag_dump_unnumbered_links): New.\n+\t(print_rtx): Test it.\n+\n 2009-06-02  Richard Earnshaw  <rearnsha@arm.com>\n \n \t* arm.c (arm_get_frame_offsets): Prefer using r3 for padding a"}, {"sha": "ee7e0bd7cea81841a84d8cf34658721a63c8a96c", "filename": "gcc/common.opt", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2Fcommon.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2Fcommon.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon.opt?ref=2aa7c49bff5319f17ba438cc45c360f6843687e4", "patch": "@@ -462,6 +462,10 @@ fdwarf2-cfi-asm\n Common Report Var(flag_dwarf2_cfi_asm) Init(HAVE_GAS_CFI_DIRECTIVE)\n Enable CFI tables via GAS assembler directives.\n \n+fdump-unnumbered-links\n+Common Report Var(flag_dump_unnumbered_links) VarExists\n+Suppress output of previous and next insn numbers in debugging dumps\n+\n fearly-inlining\n Common Report Var(flag_early_inlining) Init(1) Optimization\n Perform early inlining"}, {"sha": "eded92e47f841bedfcbfd8c65cd05eda99138eac", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=2aa7c49bff5319f17ba438cc45c360f6843687e4", "patch": "@@ -275,7 +275,7 @@ Objective-C and Objective-C++ Dialects}.\n @xref{Debugging Options,,Options for Debugging Your Program or GCC}.\n @gccoptlist{-d@var{letters}  -dumpspecs  -dumpmachine  -dumpversion @gol\n -fdbg-cnt-list -fdbg-cnt=@var{counter-value-list} @gol\n--fdump-noaddr -fdump-unnumbered @gol\n+-fdump-noaddr -fdump-unnumbered -fdump-unnumbered-links @gol\n -fdump-translation-unit@r{[}-@var{n}@r{]} @gol\n -fdump-class-hierarchy@r{[}-@var{n}@r{]} @gol\n -fdump-ipa-all -fdump-ipa-cgraph -fdump-ipa-inline @gol\n@@ -4942,6 +4942,12 @@ This makes it more feasible to use diff on debugging dumps for compiler\n invocations with different options, in particular with and without\n @option{-g}.\n \n+@item -fdump-unnumbered-links\n+@opindex fdump-unnumbered-links\n+When doing debugging dumps (see @option{-d} option above), suppress\n+instruction numbers for the links to the previous and next instructions\n+in a sequence.\n+\n @item -fdump-translation-unit @r{(C++ only)}\n @itemx -fdump-translation-unit-@var{options} @r{(C++ only)}\n @opindex fdump-translation-unit"}, {"sha": "e519728abfff25f89a2a8de45685461b0982241d", "filename": "gcc/print-rtl.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2Fprint-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2aa7c49bff5319f17ba438cc45c360f6843687e4/gcc%2Fprint-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fprint-rtl.c?ref=2aa7c49bff5319f17ba438cc45c360f6843687e4", "patch": "@@ -60,6 +60,11 @@ const char *print_rtx_head = \"\";\n    This must be defined here so that programs like gencodes can be linked.  */\n int flag_dump_unnumbered = 0;\n \n+/* Nonzero means suppress output of instruction numbers for previous\n+   and next insns in debugging dumps.\n+   This must be defined here so that programs like gencodes can be linked.  */\n+int flag_dump_unnumbered_links = 0;\n+\n /* Nonzero means use simplified format without flags, modes, etc.  */\n int flag_simple = 0;\n \n@@ -493,7 +498,10 @@ print_rtx (const_rtx in_rtx)\n \t\t  goto do_e;\n \t      }\n \n-\t    if (flag_dump_unnumbered)\n+\t    if (flag_dump_unnumbered\n+\t\t|| (flag_dump_unnumbered_links && (i == 1 || i == 2)\n+\t\t    && (INSN_P (in_rtx) || NOTE_P (in_rtx)\n+\t\t\t|| LABEL_P (in_rtx) || BARRIER_P (in_rtx))))\n \t      fputs (\" #\", outfile);\n \t    else\n \t      fprintf (outfile, \" %d\", INSN_UID (sub));"}]}