{"sha": "807625cf45d49ff58c333a0ad826f267d1f45a04", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA3NjI1Y2Y0NWQ0OWZmNThjMzMzYTBhZDgyNmYyNjdkMWY0NWEwNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "1999-10-03T16:04:30Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1999-10-03T16:04:30Z"}, "message": "tree.c (lvalue_p_1): Use DECL_C_BIT_FIELD to check for bitfields, rather than DECL_BIT_FIELD.\n\n\t* tree.c (lvalue_p_1): Use DECL_C_BIT_FIELD to check for\n\tbitfields, rather than DECL_BIT_FIELD.\n\t* ir.texi: Document how to tell whether or not a field is a\n\tbitfield.\n\n\t* lex.c (make_lang_type): Fix typo in comment.\n\nFrom-SVN: r29781", "tree": {"sha": "9d910bc8a4f5ce49f10a39c743561b2ad5f278db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d910bc8a4f5ce49f10a39c743561b2ad5f278db"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/807625cf45d49ff58c333a0ad826f267d1f45a04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/807625cf45d49ff58c333a0ad826f267d1f45a04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/807625cf45d49ff58c333a0ad826f267d1f45a04", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/807625cf45d49ff58c333a0ad826f267d1f45a04/comments", "author": null, "committer": null, "parents": [{"sha": "4927b3d4878be4c5171154b32a5d58be9ffccba0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4927b3d4878be4c5171154b32a5d58be9ffccba0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4927b3d4878be4c5171154b32a5d58be9ffccba0"}], "stats": {"total": 40, "additions": 37, "deletions": 3}, "files": [{"sha": "ffe4cd265dc62057df2995a436fb15d67d91a4f8", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=807625cf45d49ff58c333a0ad826f267d1f45a04", "patch": "@@ -1,3 +1,12 @@\n+1999-10-03  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* tree.c (lvalue_p_1): Use DECL_C_BIT_FIELD to check for\n+\tbitfields, rather than DECL_BIT_FIELD.\n+\t* ir.texi: Document how to tell whether or not a field is a\n+\tbitfield.\n+\t\n+\t* lex.c (make_lang_type): Fix typo in comment.\n+\n 1999-10-01  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* typeck.c (decay_conversion): Strip cv-quals from non-class rvalues."}, {"sha": "6e1623ec159bf3f395ba22d77de471ca86cccd56", "filename": "gcc/cp/ir.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2Fir.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2Fir.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fir.texi?ref=807625cf45d49ff58c333a0ad826f267d1f45a04", "patch": "@@ -842,7 +842,7 @@ These nodes represent non-static data members.  The @code{DECL_SIZE} and\n @code{INTEGER_CST}.  These values are indexed from zero, where zero\n indicates the first bit in the object.\n \n-FIXME: Talk about bitfields.\n+If @code{DECL_C_BIT_FIELD} holds, this field is a bitfield.\n \n @item NAMESPACE_DECL\n @xref{Namespaces}."}, {"sha": "5d87eea20e8a5413e4c4e27ddf0f204592c2d1e8", "filename": "gcc/cp/lex.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2Flex.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2Flex.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Flex.c?ref=807625cf45d49ff58c333a0ad826f267d1f45a04", "patch": "@@ -4830,7 +4830,7 @@ make_lang_type (code)\n        clear it here.  */\n     TYPE_ALIAS_SET (t) = 0;\n \n-  /* We need to allocate a TYPE_BINFO even for TEMPALTE_TYPE_PARMs\n+  /* We need to allocate a TYPE_BINFO even for TEMPLATE_TYPE_PARMs\n      since they can be virtual base types, and we then need a\n      canonical binfo for them.  Ideally, this would be done lazily for\n      all types.  */"}, {"sha": "96a15496b200f37b5ac563c8666c4cbb60cb2779", "filename": "gcc/cp/tree.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2Ftree.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Fcp%2Ftree.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftree.c?ref=807625cf45d49ff58c333a0ad826f267d1f45a04", "patch": "@@ -86,7 +86,7 @@ lvalue_p_1 (ref, treat_class_rvalues_as_lvalues)\n \t  /* The \"field\" can be a FUNCTION_DECL or an OVERLOAD in some\n \t     situations.  */\n \t  && TREE_CODE (TREE_OPERAND (ref, 1)) == FIELD_DECL\n-\t  && DECL_BIT_FIELD (TREE_OPERAND (ref, 1)))\n+\t  && DECL_C_BIT_FIELD (TREE_OPERAND (ref, 1)))\n \t{\n \t  /* Clear the ordinary bit.  If this object was a class\n \t     rvalue we want to preserve that information.  */"}, {"sha": "ac0a378367e299c3231c4b319d943583d164c491", "filename": "gcc/testsuite/g++.old-deja/g++.other/bitfld4.C", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fbitfld4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/807625cf45d49ff58c333a0ad826f267d1f45a04/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fbitfld4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fbitfld4.C?ref=807625cf45d49ff58c333a0ad826f267d1f45a04", "patch": "@@ -0,0 +1,25 @@\n+// Build don't link:\n+// Origin: \"Chen, Wen-Ke\" <chwk@cs.arizona.edu>\n+\n+template <class T>\n+bool operator!=(const T&, const T&);\n+\n+enum MsgType {\n+  MSG_DATA\n+};\n+\n+class C {\n+public:\n+  MsgType mType : 8;\n+};\n+\n+int main(void)\n+{\n+  extern C& c;\n+\n+  c.mType = MSG_DATA; \n+  if (c.mType != MSG_DATA)\n+    return -1;\n+\n+  return 0;\n+}"}]}