{"sha": "f475349b88ebc45b193e326afefe3e5b1149bfa8", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjQ3NTM0OWI4OGViYzQ1YjE5M2UzMjZhZmVmZTNlNWIxMTQ5YmZhOA==", "commit": {"author": {"name": "Michael Hayes", "email": "m.hayes@elec.canterbury.ac.nz", "date": "1999-12-17T22:43:43Z"}, "committer": {"name": "Michael Hayes", "email": "m.hayes@gcc.gnu.org", "date": "1999-12-17T22:43:43Z"}, "message": "* config/c4x/c4x.md (rpts_top, rptb_top): Add clobbers for rs and re.\n\nFrom-SVN: r31000", "tree": {"sha": "96539a6a6631e67e1630cbed9b9ec04ae7f9ace3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96539a6a6631e67e1630cbed9b9ec04ae7f9ace3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f475349b88ebc45b193e326afefe3e5b1149bfa8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f475349b88ebc45b193e326afefe3e5b1149bfa8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f475349b88ebc45b193e326afefe3e5b1149bfa8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f475349b88ebc45b193e326afefe3e5b1149bfa8/comments", "author": null, "committer": null, "parents": [{"sha": "d7eb5a45e228db40eb5770df4c4107c9f1a77932", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7eb5a45e228db40eb5770df4c4107c9f1a77932", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7eb5a45e228db40eb5770df4c4107c9f1a77932"}], "stats": {"total": 26, "additions": 17, "deletions": 9}, "files": [{"sha": "a94531c4764a05afc066bcf4f17e22c011064a4c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f475349b88ebc45b193e326afefe3e5b1149bfa8/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f475349b88ebc45b193e326afefe3e5b1149bfa8/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f475349b88ebc45b193e326afefe3e5b1149bfa8", "patch": "@@ -1,3 +1,7 @@\n+1999-12-18  Michael Hayes  <m.hayes@elec.canterbury.ac.nz>\n+\n+\t* config/c4x/c4x.md (rpts_top, rptb_top): Add clobbers for rs and re.\n+\n 1999-12-17 13:21 -0800  Zack Weinberg  <zack@rabi.columbia.edu>\n \n \t* fixtests.c (is_cxx_header): New fn, split out of"}, {"sha": "4f6a955a5dee71f19e6bac7f0e553254b8cb46b8", "filename": "gcc/config/c4x/c4x.md", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f475349b88ebc45b193e326afefe3e5b1149bfa8/gcc%2Fconfig%2Fc4x%2Fc4x.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f475349b88ebc45b193e326afefe3e5b1149bfa8/gcc%2Fconfig%2Fc4x%2Fc4x.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fc4x%2Fc4x.md?ref=f475349b88ebc45b193e326afefe3e5b1149bfa8", "patch": "@@ -3414,6 +3414,7 @@\n  \"#\"\n   [(set_attr \"type\" \"multi\")])\n \n+\n ; This can generate invalid stack slot displacements\n (define_split\n  [(set (match_operand:QF 0 \"reg_operand\" \"=f\")\n@@ -5120,8 +5121,7 @@\n    (set (match_dup 0)\n         (plus:QI (match_dup 0)\n                  (const_int -1)))]\n-  \"reload_completed && (TARGET_DB && (find_reg_note (insn, REG_NONNEG, 0)\n-\t                || TARGET_LOOP_UNSIGNED))\"\n+  \"reload_completed && TARGET_DB && TARGET_LOOP_UNSIGNED\"\n   \"dbu%#\\\\t%0,%l1\"\n   [(set_attr \"type\" \"db\")])\n \n@@ -5136,8 +5136,7 @@\n         (plus:QI (match_dup 0)\n                  (const_int -1)))\n    (clobber (reg:CC_NOOV 21))]\n-  \"reload_completed && (TARGET_DB && (find_reg_note (insn, REG_NONNEG, 0)\n-\t                || TARGET_LOOP_UNSIGNED))\"\n+  \"reload_completed && TARGET_DB && TARGET_LOOP_UNSIGNED\"\n   [(parallel [(set (pc)\n         \t   (if_then_else (ge (plus:QI (match_dup 0)\n \t\t\t                      (const_int -1))\n@@ -5168,7 +5167,9 @@\n ;\n (define_insn \"rptb_top\"\n   [(use (label_ref (match_operand 0 \"\" \"\")))\n-   (use (label_ref (match_operand 1 \"\" \"\")))]\n+   (use (label_ref (match_operand 1 \"\" \"\")))\n+   (clobber (reg:QI 25))\n+   (clobber (reg:QI 26))]\n   \"\"\n   \"*\n    return ! final_sequence && c4x_rptb_rpts_p (insn, operands[0])\n@@ -5178,7 +5179,9 @@\n \n (define_insn \"rpts_top\"\n   [(unspec [(use (label_ref (match_operand 0 \"\" \"\")))\n-            (use (label_ref (match_operand 1 \"\" \"\")))] 2)]\n+            (use (label_ref (match_operand 1 \"\" \"\")))] 2)\n+   (clobber (reg:QI 25))\n+   (clobber (reg:QI 26))]\n   \"\"\n   \"*\n    return ! final_sequence && c4x_rptb_rpts_p (insn, operands[0])\n@@ -5209,7 +5212,7 @@\n   \"\"\n   \"if (INTVAL (operands[3]) > 1 || ! TARGET_RPTB)\n      FAIL;\n-   emit_jump_insn (gen_rptb_init (operands[0]));\n+   emit_insn (gen_rptb_init (operands[0]));\n    DONE;\n   \")\n \n@@ -6904,7 +6907,6 @@\n ;\n ; Which moves the bCC condition outside the inner loop for free.\n ;\n-\n (define_peephole\n   [(set (pc) (if_then_else (match_operator 3 \"comparison_operator\"\n                            [(reg:CC 21) (const_int 0)])\n@@ -6920,7 +6922,8 @@\n             (pc)))\n      (set (match_dup 0)\n           (plus:QI (match_dup 0)\n-                   (const_int -1)))])]\n+                   (const_int -1)))\n+     (clobber (reg:CC_NOOV 21))])]\n   \"! c4x_label_conflict (insn, operands[2], operands[1])\"\n   \"db%I3\\\\t%0,%l1\\\\n\\\\tb%3\\\\t%l2\"\n   [(set_attr \"type\" \"multi\")])\n@@ -6947,6 +6950,7 @@\n ;\n ; Peepholes to convert 'call label; rets' into jump label\n ;\n+\n (define_peephole\n   [(parallel [(call (mem:QI (match_operand:QI 0 \"call_address_operand\" \"\"))\n                     (match_operand:QI 1 \"general_operand\" \"\"))"}]}