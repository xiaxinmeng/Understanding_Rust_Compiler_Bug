{"sha": "3d985316b89f2551a8fb39687bf4972b372ffdd7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2Q5ODUzMTZiODlmMjU1MWE4ZmIzOTY4N2JmNDk3MmIzNzJmZmRkNw==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2017-11-29T22:51:16Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2017-11-29T22:51:16Z"}, "message": "combine: Print to dump if some insn cannot be combined into i3\n\nEventually we should print the reason that any combination fails.\nThis is a good start (these happen often).\n\n\n\t* combine.c (try_combine): Print a message to dump file whenever\n\tI0, I1, or I2 cannot be combined into I3.\n\nFrom-SVN: r255261", "tree": {"sha": "18c98170abdf7bfb6a805c7fba55b1797cfbd691", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/18c98170abdf7bfb6a805c7fba55b1797cfbd691"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3d985316b89f2551a8fb39687bf4972b372ffdd7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d985316b89f2551a8fb39687bf4972b372ffdd7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3d985316b89f2551a8fb39687bf4972b372ffdd7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3d985316b89f2551a8fb39687bf4972b372ffdd7/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4a01617886c1833f456948048e5167dac784ef19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a01617886c1833f456948048e5167dac784ef19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a01617886c1833f456948048e5167dac784ef19"}], "stats": {"total": 29, "additions": 23, "deletions": 6}, "files": [{"sha": "d1838f19d6efd3fc0848fe6e802fa3162ad4a63f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d985316b89f2551a8fb39687bf4972b372ffdd7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d985316b89f2551a8fb39687bf4972b372ffdd7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3d985316b89f2551a8fb39687bf4972b372ffdd7", "patch": "@@ -1,3 +1,8 @@\n+2017-11-29  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\t* combine.c (try_combine): Print a message to dump file whenever\n+\tI0, I1, or I2 cannot be combined into I3.\n+\n 2017-11-29  Segher Boessenkool  <segher@kernel.crashing.org>\n \n \tPR rtl-optimization/83156"}, {"sha": "863abd7a282b02183a18f4ab14eefa7b64a61b61", "filename": "gcc/combine.c", "status": "modified", "additions": 18, "deletions": 6, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3d985316b89f2551a8fb39687bf4972b372ffdd7/gcc%2Fcombine.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3d985316b89f2551a8fb39687bf4972b372ffdd7/gcc%2Fcombine.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcombine.c?ref=3d985316b89f2551a8fb39687bf4972b372ffdd7", "patch": "@@ -3035,13 +3035,25 @@ try_combine (rtx_insn *i3, rtx_insn *i2, rtx_insn *i1, rtx_insn *i0,\n       SUBST (PATTERN (i2), XVECEXP (PATTERN (i2), 0, 1));\n     }\n \n-  /* Verify that I2 and I1 are valid for combining.  */\n-  if (! can_combine_p (i2, i3, i0, i1, NULL, NULL, &i2dest, &i2src)\n-      || (i1 && ! can_combine_p (i1, i3, i0, NULL, i2, NULL,\n-\t\t\t\t &i1dest, &i1src))\n-      || (i0 && ! can_combine_p (i0, i3, NULL, NULL, i1, i2,\n-\t\t\t\t &i0dest, &i0src)))\n+  /* Verify that I2 and maybe I1 and I0 can be combined into I3.  */\n+  if (!can_combine_p (i2, i3, i0, i1, NULL, NULL, &i2dest, &i2src))\n     {\n+      if (dump_file)\n+\tfprintf (dump_file, \"Can't combine i2 into i3\\n\");\n+      undo_all ();\n+      return 0;\n+    }\n+  if (i1 && !can_combine_p (i1, i3, i0, NULL, i2, NULL, &i1dest, &i1src))\n+    {\n+      if (dump_file)\n+\tfprintf (dump_file, \"Can't combine i1 into i3\\n\");\n+      undo_all ();\n+      return 0;\n+    }\n+  if (i0 && !can_combine_p (i0, i3, NULL, NULL, i1, i2, &i0dest, &i0src))\n+    {\n+      if (dump_file)\n+\tfprintf (dump_file, \"Can't combine i0 into i3\\n\");\n       undo_all ();\n       return 0;\n     }"}]}