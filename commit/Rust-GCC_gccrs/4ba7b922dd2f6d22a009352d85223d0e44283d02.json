{"sha": "4ba7b922dd2f6d22a009352d85223d0e44283d02", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGJhN2I5MjJkZDJmNmQyMmEwMDkzNTJkODUyMjNkMGU0NDI4M2QwMg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-02-10T21:12:51Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-02-10T21:12:51Z"}, "message": "(call insns): Always reload gp after a full call.\n\nUse current_file_function_operand to see when we can use BSR.\n\nFrom-SVN: r3458", "tree": {"sha": "9ae95d5684b3e2e513d35a326c8512b7014618d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9ae95d5684b3e2e513d35a326c8512b7014618d5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4ba7b922dd2f6d22a009352d85223d0e44283d02", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ba7b922dd2f6d22a009352d85223d0e44283d02", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4ba7b922dd2f6d22a009352d85223d0e44283d02", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4ba7b922dd2f6d22a009352d85223d0e44283d02/comments", "author": null, "committer": null, "parents": [{"sha": "130d2d725d8c26a325c46d413e041d9ffb70ba73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/130d2d725d8c26a325c46d413e041d9ffb70ba73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/130d2d725d8c26a325c46d413e041d9ffb70ba73"}], "stats": {"total": 22, "additions": 6, "deletions": 16}, "files": [{"sha": "849f4042ad8425dbf6ba90afdb32e6e93a9f8968", "filename": "gcc/config/alpha/alpha.md", "status": "modified", "additions": 6, "deletions": 16, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4ba7b922dd2f6d22a009352d85223d0e44283d02/gcc%2Fconfig%2Falpha%2Falpha.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4ba7b922dd2f6d22a009352d85223d0e44283d02/gcc%2Fconfig%2Falpha%2Falpha.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.md?ref=4ba7b922dd2f6d22a009352d85223d0e44283d02", "patch": "@@ -2198,12 +2198,7 @@\n    (use (match_operand:DI 1 \"\" \"\"))\n    (clobber (reg:DI 26))]\n   \"\"\n-  \"*\n-{ if (alpha_gp_dead_after (insn))\n-    return \\\"jsr $26,($27),%1\\\";\n-  else \n-    return \\\"jsr $26,($27),%1\\;ldgp $29,0($26)\\\";\n-}\"\n+  \"jsr $26,($27),%1\\;ldgp $29,0($26)\"\n   [(set_attr \"type\" \"jsr\")])\n       \n (define_insn \"\"\n@@ -2213,31 +2208,26 @@\n    (use (match_operand:DI 2 \"\" \"\"))\n    (clobber (reg:DI 26))]\n   \"\"\n-  \"*\n-{ if (alpha_gp_dead_after (insn))\n-    return \\\"jsr $26,($27),%2\\\";\n-  else \n-    return \\\"jsr $26,($27),%2\\;ldgp $29,0($26)\\\";\n-}\"\n+  \"jsr $26,($27),%2\\;ldgp $29,0($26)\"\n   [(set_attr \"type\" \"jsr\")])\n \n (define_insn \"\"\n-  [(call (mem:DI (match_operand 1 \"current_function_operand\" \"i\"))\n+  [(call (mem:DI (match_operand 1 \"current_file_function_operand\" \"i\"))\n \t (match_operand 0 \"\" \"\"))\n    (use (match_dup 1))\n    (clobber (reg:DI 26))]\n   \"\"\n-  \"bsr $26,%F1\"\n+  \"bsr $26,%1..ng\"\n   [(set_attr \"type\" \"ibr\")])\n       \n (define_insn \"\"\n   [(set (match_operand 0 \"register_operand\" \"=rf\")\n-\t(call (mem:DI (match_operand 1 \"current_function_operand\" \"i\"))\n+\t(call (mem:DI (match_operand 1 \"current_file_function_operand\" \"i\"))\n \t      (match_operand 2 \"\" \"\")))\n    (use (match_dup 1))\n    (clobber (reg:DI 26))]\n   \"\"\n-  \"bsr $26,%F1\"\n+  \"bsr $26,%1..ng\"\n   [(set_attr \"type\" \"ibr\")])\n \n (define_insn \"jump\""}]}