{"sha": "38a314251e0da0ed3c70f18c66c8877a35e24bdd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzhhMzE0MjUxZTBkYTBlZDNjNzBmMThjNjZjODg3N2EzNWUyNGJkZA==", "commit": {"author": {"name": "Alexander Sotirov", "email": "sluncho@mirizma.org", "date": "2003-04-18T19:39:29Z"}, "committer": {"name": "Gerald Pfeifer", "email": "gerald@gcc.gnu.org", "date": "2003-04-18T19:39:29Z"}, "message": "re PR c/9177 (-fdump-translation-unit: C front end deletes function_decl AST nodes and breaks debugging dumps.)\n\n\tPR c/9177\n\t* c-decl.c (c_expand_body): Don't garbage collect the function\n\tbody if we are going to dump it later.\n\nFrom-SVN: r65787", "tree": {"sha": "3e9c8b8550da943e8a9dbd5b9490de806b573762", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e9c8b8550da943e8a9dbd5b9490de806b573762"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38a314251e0da0ed3c70f18c66c8877a35e24bdd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38a314251e0da0ed3c70f18c66c8877a35e24bdd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38a314251e0da0ed3c70f18c66c8877a35e24bdd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38a314251e0da0ed3c70f18c66c8877a35e24bdd/comments", "author": null, "committer": null, "parents": [{"sha": "2f50999f20fd126f617513d23e16e49d5d752a06", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f50999f20fd126f617513d23e16e49d5d752a06", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f50999f20fd126f617513d23e16e49d5d752a06"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "4351cb2c473a0dc1174126653638c977d46f8e9c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38a314251e0da0ed3c70f18c66c8877a35e24bdd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38a314251e0da0ed3c70f18c66c8877a35e24bdd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=38a314251e0da0ed3c70f18c66c8877a35e24bdd", "patch": "@@ -1,3 +1,9 @@\n+2003-04-18  Alexander Sotirov  <sluncho@mirizma.org>\n+\n+\tPR c/9177\n+\t* c-decl.c (c_expand_body): Don't garbage collect the function\n+\tbody if we are going to dump it later.\n+\n 2003-04-18  Richard Henderson  <rth@redhat.com>\n \n \t* config/alpha/alpha.c (SYMBOL_FLAG_NEAR, SYMBOL_FLAG_SAMEGP): Remove."}, {"sha": "ee987858421cc852ba19ec36440184d271b99293", "filename": "gcc/c-decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38a314251e0da0ed3c70f18c66c8877a35e24bdd/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38a314251e0da0ed3c70f18c66c8877a35e24bdd/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=38a314251e0da0ed3c70f18c66c8877a35e24bdd", "patch": "@@ -6244,7 +6244,8 @@ finish_function (nested, can_defer_p)\n \n       c_expand_body (fndecl);\n \n-      if (uninlinable)\n+      /* Keep the function body if it's needed for inlining or dumping.  */\n+      if (uninlinable && !dump_enabled_p (TDI_all))\n \t{\n \t  /* Allow the body of the function to be garbage collected.  */\n \t  DECL_SAVED_TREE (fndecl) = NULL_TREE;"}]}