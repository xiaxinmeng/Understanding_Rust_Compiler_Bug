{"sha": "d7a29167f8cbbae743f0e06272231df71b98d9e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDdhMjkxNjdmOGNiYmFlNzQzZjBlMDYyNzIyMzFkZjcxYjk4ZDllMw==", "commit": {"author": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2012-09-14T23:23:41Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2012-09-14T23:23:41Z"}, "message": "re PR bootstrap/38607 (AIX error messages about TOC during build)\n\n        PR target/38607\n        Merge upstream change.\n        * libtool.m4 (_LT_COMPILER_PIC): Add -fPIC to GCC and GXX for AIX.\n\n\t* configure.ac: Add target-libquadmath to noconfigdirs for AIX.\n        Add libgomp*.o to compare_exclusions for AIX.\n        * configure: Regenerate.\n\nFrom-SVN: r191316", "tree": {"sha": "ef5c7293796cf843a220f574e7239b1f722e3ac3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef5c7293796cf843a220f574e7239b1f722e3ac3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d7a29167f8cbbae743f0e06272231df71b98d9e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7a29167f8cbbae743f0e06272231df71b98d9e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d7a29167f8cbbae743f0e06272231df71b98d9e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d7a29167f8cbbae743f0e06272231df71b98d9e3/comments", "author": null, "committer": null, "parents": [{"sha": "9f33203d01759563ee11c708ef918aa65c1b5fe5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f33203d01759563ee11c708ef918aa65c1b5fe5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f33203d01759563ee11c708ef918aa65c1b5fe5"}], "stats": {"total": 24, "additions": 23, "deletions": 1}, "files": [{"sha": "ac75547844c0cd5cb5b7032c5ecccecf8d69f17b", "filename": "ChangeLog", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7a29167f8cbbae743f0e06272231df71b98d9e3/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7a29167f8cbbae743f0e06272231df71b98d9e3/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=d7a29167f8cbbae743f0e06272231df71b98d9e3", "patch": "@@ -1,4 +1,14 @@\n-2012-09-06   Diego Novillo  <dnovillo@google.com>\n+2012-09-14  David Edelsohn  <dje.gcc@gmail.com>\n+\n+\tPR target/38607\n+\tMerge upstream change.\n+\t* libtool.m4 (_LT_COMPILER_PIC): Add -fPIC to GCC and GXX for AIX.\n+\n+\t* configure.ac: Add target-libquadmath to noconfigdirs for AIX.\n+\tAdd libgomp*.o to compare_exclusions for AIX.\n+\t* configure: Regenerate.\n+\n+2012-09-06  Diego Novillo  <dnovillo@google.com>\n \n \t* configure.ac: Bump minimum GMP version to 4.2.3.\n \t* configure: Re-generate."}, {"sha": "0eac6a4f13e8c81f53037fb97d9a0a0d653754ab", "filename": "configure.ac", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7a29167f8cbbae743f0e06272231df71b98d9e3/configure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7a29167f8cbbae743f0e06272231df71b98d9e3/configure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.ac?ref=d7a29167f8cbbae743f0e06272231df71b98d9e3", "patch": "@@ -527,6 +527,15 @@ if test -d ${srcdir}/libitm; then\n     fi\n fi\n \n+# Disable libquadmath for some systems.\n+case \"${target}\" in\n+  # libquadmath is unused on AIX and libquadmath build process use of\n+  # LD_LIBRARY_PATH can break AIX bootstrap.\n+  powerpc-*-aix* | rs6000-*-aix*)\n+    noconfigdirs=\"$noconfigdirs target-libquadmath\"\n+    ;;\n+esac\n+\n # Disable libssp for some systems.\n case \"${target}\" in\n   avr-*-*)\n@@ -3187,6 +3196,7 @@ compare_exclusions=\"gcc/cc*-checksum\\$(objext) | gcc/ada/*tools/*\"\n case \"$target\" in\n   hppa*64*-*-hpux*) ;;\n   hppa*-*-hpux*) compare_exclusions=\"gcc/cc*-checksum\\$(objext) | */libgcc/lib2funcs* | gcc/ada/*tools/*\" ;;\n+  powerpc*-ibm-aix*) compare_exclusions=\"gcc/cc*-checksum\\$(objext) | gcc/ada/*tools/* | *libgomp*\\$(objext)\" ;;\n esac\n AC_SUBST(compare_exclusions)\n "}, {"sha": "8a14e2b22f9edffde17ebb6d20182fa0f3bd361d", "filename": "libtool.m4", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d7a29167f8cbbae743f0e06272231df71b98d9e3/libtool.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d7a29167f8cbbae743f0e06272231df71b98d9e3/libtool.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libtool.m4?ref=d7a29167f8cbbae743f0e06272231df71b98d9e3", "patch": "@@ -3580,6 +3580,7 @@ m4_if([$1], [CXX], [\n \t# AIX 5 now supports IA64 processor\n \t_LT_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'\n       fi\n+      _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n       ;;\n \n     amigaos*)\n@@ -3891,6 +3892,7 @@ m4_if([$1], [CXX], [\n \t# AIX 5 now supports IA64 processor\n \t_LT_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'\n       fi\n+      _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'\n       ;;\n \n     amigaos*)"}]}