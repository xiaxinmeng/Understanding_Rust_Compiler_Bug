{"sha": "1948c2d9d2f04c8decb72fb5bf5d351156ed2b65", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTk0OGMyZDlkMmYwNGM4ZGVjYjcyZmI1YmY1ZDM1MTE1NmVkMmI2NQ==", "commit": {"author": {"name": "Martin v. L\u00f6wis", "email": "loewis@informatik.hu-berlin.de", "date": "1999-12-21T09:31:50Z"}, "committer": {"name": "Martin v. L\u00f6wis", "email": "loewis@gcc.gnu.org", "date": "1999-12-21T09:31:50Z"}, "message": "dgux.c (struct option): Rename to lang_independent_option.\n\n\t* config/i386/dgux.c (struct option): Rename to\n\tlang_independent_option.\n\t(struct m_options): Add description field.\n\t(output_options): Rename option type, add sep declaration, output\n\tix86_cpu_string and ix86_arch_string only if set.\n\t(output_file_start): Rename option type.\n\nFrom-SVN: r31047", "tree": {"sha": "a2d3219ca0a09989c1c5fef9d4ca658a4d74d43e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2d3219ca0a09989c1c5fef9d4ca658a4d74d43e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65/comments", "author": null, "committer": null, "parents": [{"sha": "7768df81d290d0aea9994ca2c994fa65e412e285", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7768df81d290d0aea9994ca2c994fa65e412e285", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7768df81d290d0aea9994ca2c994fa65e412e285"}], "stats": {"total": 36, "additions": 27, "deletions": 9}, "files": [{"sha": "6d18c4953df0a3747ca0c653805593fbb58becdd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1948c2d9d2f04c8decb72fb5bf5d351156ed2b65", "patch": "@@ -1,3 +1,12 @@\n+1999-12-21  Martin v. L\ufffdwis  <loewis@informatik.hu-berlin.de>\n+\n+\t* config/i386/dgux.c (struct option): Rename to\n+\tlang_independent_option.\n+\t(struct m_options): Add description field.\n+\t(output_options): Rename option type, add sep declaration, output\n+\tix86_cpu_string and ix86_arch_string only if set.\n+\t(output_file_start): Rename option type.\n+\n Mon Dec 20 23:15:36 1999  Mike Stump  <mrs@wrs.com>\n \n \t* Makefile.in (crtbegin.o, crtend.o, s-crtS): Depend on"}, {"sha": "55ff8241c3815a39c3c83eca9a2dc2356b9ef450", "filename": "gcc/config/i386/dgux.c", "status": "modified", "additions": 18, "deletions": 9, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65/gcc%2Fconfig%2Fi386%2Fdgux.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1948c2d9d2f04c8decb72fb5bf5d351156ed2b65/gcc%2Fconfig%2Fi386%2Fdgux.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fdgux.c?ref=1948c2d9d2f04c8decb72fb5bf5d351156ed2b65", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines for GNU compiler for Intel 80x86 running DG/ux\n-   Copyright (C) 1993, 1995, 1997 Free Software Foundation, Inc.\n+   Copyright (C) 1993, 1995, 1997, 1999 Free Software Foundation, Inc.\n    Currently maintained by (gcc@dg-rtp.dg.com)\n \n This file is part of GNU CC.\n@@ -25,7 +25,7 @@ Boston, MA 02111-1307, USA.  */\n \n extern char *version_string;\n \n-struct option\n+struct lang_independent_option\n {\n   char *string;\n   int *variable;\n@@ -51,17 +51,22 @@ output_option (file, sep, type, name, indent, pos, max)\n   return pos + fprintf (file, \"%s%s%s\", sep, type, name);\n }\n \n-static struct { char *name; int value; } m_options[] = TARGET_SWITCHES;\n+static struct { \n+  char *name; \n+  int value; \n+  const char * description;\n+} m_options[] = TARGET_SWITCHES;\n \n static void\n output_options (file, f_options, f_len, W_options, W_len,\n \t\tpos, max, sep, indent, term)\n      FILE *file;\n-     struct option *f_options;\n-     struct option *W_options;\n+     struct lang_independent_option *f_options;\n+     struct lang_independent_option *W_options;\n      int f_len, W_len;\n      int pos;\n      int max;\n+     int sep;\n      char *indent;\n      char *term;\n {\n@@ -96,8 +101,12 @@ output_options (file, f_options, f_len, W_options, W_len,\n       pos = output_option (file, sep, \"-m\", m_options[j].name,\n \t\t\t   indent, pos, max);\n \n-  pos = output_option (file, sep, \"-mcpu=\", ix86_cpu_string, indent, pos, max);\n-  pos = output_option (file, sep, \"-march=\", ix86_arch_string, indent, pos, max);\n+  if (ix86_cpu_string)\n+    pos = output_option (file, sep, \"-mcpu=\", ix86_cpu_string, \n+\t\t\t indent, pos, max);\n+  if (ix86_arch_string)\n+    pos = output_option (file, sep, \"-march=\", ix86_arch_string, \n+\t\t\t indent, pos, max);\n   fprintf (file, term);\n }\n \n@@ -106,8 +115,8 @@ output_options (file, f_options, f_len, W_options, W_len,\n void\n output_file_start (file, f_options, f_len, W_options, W_len)\n      FILE *file;\n-     struct option *f_options;\n-     struct option *W_options;\n+     struct lang_independent_option *f_options;\n+     struct lang_independent_option *W_options;\n      int f_len, W_len;\n {\n   register int pos;"}]}