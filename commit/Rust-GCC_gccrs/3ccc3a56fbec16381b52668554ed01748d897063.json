{"sha": "3ccc3a56fbec16381b52668554ed01748d897063", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NjYzNhNTZmYmVjMTYzODFiNTI2Njg1NTRlZDAxNzQ4ZDg5NzA2Mw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1998-11-02T02:17:53Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1998-11-02T02:17:53Z"}, "message": "configure.in (DEFAULT_LINKER): renamed from LD\n\n\t* configure.in (DEFAULT_LINKER): renamed from LD\n\t(DEFAULT_ASSEMBLER): renamed from AS; reverted Schwab's patch\n\t(gcc_cv_as): try $DEFAULT_ASSEMBLER before $AS\n\t* configure: rebuilt\n\nFrom-SVN: r23497", "tree": {"sha": "c1ac71b32639e35b8b4f01741ab77969a1f242ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1ac71b32639e35b8b4f01741ab77969a1f242ca"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ccc3a56fbec16381b52668554ed01748d897063", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ccc3a56fbec16381b52668554ed01748d897063", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ccc3a56fbec16381b52668554ed01748d897063", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ccc3a56fbec16381b52668554ed01748d897063/comments", "author": null, "committer": null, "parents": [{"sha": "5daa7518eb5f71d0e974e5d1f78bdc7de48b3b86", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5daa7518eb5f71d0e974e5d1f78bdc7de48b3b86", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5daa7518eb5f71d0e974e5d1f78bdc7de48b3b86"}], "stats": {"total": 273, "additions": 139, "deletions": 134}, "files": [{"sha": "6065375970c2e0e14b62fbf3ecb9071277f541d3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ccc3a56fbec16381b52668554ed01748d897063/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ccc3a56fbec16381b52668554ed01748d897063/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3ccc3a56fbec16381b52668554ed01748d897063", "patch": "@@ -1,3 +1,10 @@\n+Mon Nov  2 07:52:28 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* configure.in (DEFAULT_LINKER): renamed from LD\n+\t(DEFAULT_ASSEMBLER): renamed from AS; reverted Schwab's patch\n+\t(gcc_cv_as): try $DEFAULT_ASSEMBLER before $AS\n+\t* configure: rebuilt\n+\n Mon Nov  2 01:48:10 1998  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \n \t* BUGS: fix the regexp for `more' to find the appropriate node."}, {"sha": "30f14d210b8907987567b60500dcfb0961b8de55", "filename": "gcc/configure", "status": "modified", "additions": 109, "deletions": 110, "changes": 219, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ccc3a56fbec16381b52668554ed01748d897063/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ccc3a56fbec16381b52668554ed01748d897063/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=3ccc3a56fbec16381b52668554ed01748d897063", "patch": "@@ -636,17 +636,17 @@ fi\n # Check whether --with-ld or --without-ld was given.\n if test \"${with_ld+set}\" = set; then\n   withval=\"$with_ld\"\n-  LD=\"$with_ld\"\n+  DEFAULT_LINKER=\"$with_ld\"\n fi\n \n-if test x\"${LD+set}\" = x\"set\"; then\n-  if test ! -x \"$LD\"; then\n-    echo \"configure: warning: cannot execute: $LD: check --with-ld or env. var. LD\" 1>&2\n-  elif test \"GNU\" = `$LD -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n+  if test ! -x \"$DEFAULT_LINKER\"; then\n+    echo \"configure: warning: cannot execute: $DEFAULT_LINKER: check --with-ld or env. var. DEFAULT_LINKER\" 1>&2\n+  elif test \"GNU\" = `$DEFAULT_LINKER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n     gnu_ld_flag=yes\n   fi\n   cat >> confdefs.h <<EOF\n-#define DEFAULT_LINKER \"$LD\"\n+#define DEFAULT_LINKER \"$DEFAULT_LINKER\"\n EOF\n \n fi\n@@ -664,23 +664,20 @@ fi\n # Check whether --with-as or --without-as was given.\n if test \"${with_as+set}\" = set; then\n   withval=\"$with_as\"\n-  AS=\"$with_as\"\n+  DEFAULT_ASSEMBLER=\"$with_as\"\n fi\n \n-# Ignore any non-absolute value which comes from ${GCC_FLAGS_TO_PASS}.\n-case $AS in\n-/*)\n-  if test ! -x \"$AS\"; then\n-    echo \"configure: warning: cannot execute: $AS: check --with-as or env. var. AS\" 1>&2\n-  elif test \"GNU\" = `$AS -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n+  if test ! -x \"$DEFAULT_ASSEMBLER\"; then\n+    echo \"configure: warning: cannot execute: $DEFAULT_ASSEMBLER: check --with-as or env. var. DEFAULT_ASSEMBLER\" 1>&2\n+  elif test \"GNU\" = `$DEFAULT_ASSEMBLER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n     gas_flag=yes\n   fi\n   cat >> confdefs.h <<EOF\n-#define DEFAULT_ASSEMBLER \"$AS\"\n+#define DEFAULT_ASSEMBLER \"$DEFAULT_ASSEMBLER\"\n EOF\n \n-  ;;\n-esac\n+fi\n \n # With stabs\n # Check whether --with-stabs or --without-stabs was given.\n@@ -916,7 +913,7 @@ else { echo \"configure: error: can not run $ac_config_sub\" 1>&2; exit 1; }\n fi\n \n echo $ac_n \"checking host system type\"\"... $ac_c\" 1>&6\n-echo \"configure:920: checking host system type\" >&5\n+echo \"configure:917: checking host system type\" >&5\n \n host_alias=$host\n case \"$host_alias\" in\n@@ -937,7 +934,7 @@ host_os=`echo $host | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$host\" 1>&6\n \n echo $ac_n \"checking target system type\"\"... $ac_c\" 1>&6\n-echo \"configure:941: checking target system type\" >&5\n+echo \"configure:938: checking target system type\" >&5\n \n target_alias=$target\n case \"$target_alias\" in\n@@ -955,7 +952,7 @@ target_os=`echo $target | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n echo \"$ac_t\"\"$target\" 1>&6\n \n echo $ac_n \"checking build system type\"\"... $ac_c\" 1>&6\n-echo \"configure:959: checking build system type\" >&5\n+echo \"configure:956: checking build system type\" >&5\n \n build_alias=$build\n case \"$build_alias\" in\n@@ -982,7 +979,7 @@ test \"$host_alias\" != \"$target_alias\" &&\n # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:986: checking for $ac_word\" >&5\n+echo \"configure:983: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1011,7 +1008,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1015: checking for $ac_word\" >&5\n+echo \"configure:1012: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1059,7 +1056,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1063: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1060: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1069,11 +1066,11 @@ ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 1073 \"configure\"\n+#line 1070 \"configure\"\n #include \"confdefs.h\"\n main(){return(0);}\n EOF\n-if { (eval echo configure:1077: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1074: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1093,12 +1090,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1097: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1094: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1102: checking whether we are using GNU C\" >&5\n+echo \"configure:1099: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1107,7 +1104,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1111: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1108: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1122,7 +1119,7 @@ if test $ac_cv_prog_gcc = yes; then\n   ac_save_CFLAGS=\"$CFLAGS\"\n   CFLAGS=\n   echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1126: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1123: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1161,7 +1158,7 @@ fi\n \n \n echo $ac_n \"checking whether ${MAKE-make} sets \\${MAKE}\"\"... $ac_c\" 1>&6\n-echo \"configure:1165: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n+echo \"configure:1162: checking whether ${MAKE-make} sets \\${MAKE}\" >&5\n set dummy ${MAKE-make}; ac_make=`echo \"$2\" | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1189,24 +1186,24 @@ fi\n \n \n echo $ac_n \"checking whether a default assembler was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1193: checking whether a default assembler was specified\" >&5\n-if test x\"${AS+set}\" = x\"set\"; then\n+echo \"configure:1190: checking whether a default assembler was specified\" >&5\n+if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n     if test x\"$with_gas\" = x\"no\"; then\n-    \techo \"$ac_t\"\"yes ($AS)\" 1>&6\n+    \techo \"$ac_t\"\"yes ($DEFAULT_ASSEMBLER)\" 1>&6\n     else\n-\techo \"$ac_t\"\"yes ($AS - GNU as)\" 1>&6\n+\techo \"$ac_t\"\"yes ($DEFAULT_ASSEMBLER - GNU as)\" 1>&6\n     fi\n else\n     echo \"$ac_t\"\"no\" 1>&6\n fi\n \n echo $ac_n \"checking whether a default linker was specified\"\"... $ac_c\" 1>&6\n-echo \"configure:1205: checking whether a default linker was specified\" >&5\n-if test x\"${LD+set}\" = x\"set\"; then\n+echo \"configure:1202: checking whether a default linker was specified\" >&5\n+if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n     if test x\"$with_gnu_ld\" = x\"no\"; then\n-\techo \"$ac_t\"\"yes ($LD)\" 1>&6\n+\techo \"$ac_t\"\"yes ($DEFAULT_LINKER)\" 1>&6\n     else\n-\techo \"$ac_t\"\"yes ($LD - GNU ld)\" 1>&6\n+\techo \"$ac_t\"\"yes ($DEFAULT_LINKER - GNU ld)\" 1>&6\n     fi\n else\n     echo \"$ac_t\"\"no\" 1>&6\n@@ -1218,7 +1215,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1222: checking for $ac_word\" >&5\n+echo \"configure:1219: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AWK'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1249,7 +1246,7 @@ done\n # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1253: checking for $ac_word\" >&5\n+echo \"configure:1250: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1282,15 +1279,15 @@ then\n   *) ac_lib=l ;;\n   esac\n   echo $ac_n \"checking for yywrap in -l$ac_lib\"\"... $ac_c\" 1>&6\n-echo \"configure:1286: checking for yywrap in -l$ac_lib\" >&5\n+echo \"configure:1283: checking for yywrap in -l$ac_lib\" >&5\n ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-l$ac_lib  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 1294 \"configure\"\n+#line 1291 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -1301,7 +1298,7 @@ int main() {\n yywrap()\n ; return 0; }\n EOF\n-if { (eval echo configure:1305: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:1302: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -1324,7 +1321,7 @@ fi\n fi\n \n echo $ac_n \"checking whether ln works\"\"... $ac_c\" 1>&6\n-echo \"configure:1328: checking whether ln works\" >&5\n+echo \"configure:1325: checking whether ln works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1356,7 +1353,7 @@ else\n fi\n \n echo $ac_n \"checking whether ln -s works\"\"... $ac_c\" 1>&6\n-echo \"configure:1360: checking whether ln -s works\" >&5\n+echo \"configure:1357: checking whether ln -s works\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_LN_S'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1388,19 +1385,19 @@ else\n fi\n \n echo $ac_n \"checking for volatile\"\"... $ac_c\" 1>&6\n-echo \"configure:1392: checking for volatile\" >&5\n+echo \"configure:1389: checking for volatile\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_volatile'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1397 \"configure\"\n+#line 1394 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n volatile int foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:1404: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1401: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_volatile=yes\n else\n@@ -1423,7 +1420,7 @@ fi\n # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1427: checking for $ac_word\" >&5\n+echo \"configure:1424: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1454,7 +1451,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1458: checking for $ac_word\" >&5\n+echo \"configure:1455: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1494,7 +1491,7 @@ test -n \"$YACC\" || YACC=\"yacc\"\n # SVR4 /usr/ucb/install, which tries to use the nonexistent group \"staff\"\n # ./install, which can be erroneously created by make from ./install.sh.\n echo $ac_n \"checking for a BSD compatible install\"\"... $ac_c\" 1>&6\n-echo \"configure:1498: checking for a BSD compatible install\" >&5\n+echo \"configure:1495: checking for a BSD compatible install\" >&5\n if test -z \"$INSTALL\"; then\n if eval \"test \\\"`echo '$''{'ac_cv_path_install'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -1545,7 +1542,7 @@ test -z \"$INSTALL_DATA\" && INSTALL_DATA='${INSTALL} -m 644'\n \n \n echo $ac_n \"checking how to run the C preprocessor\"\"... $ac_c\" 1>&6\n-echo \"configure:1549: checking how to run the C preprocessor\" >&5\n+echo \"configure:1546: checking how to run the C preprocessor\" >&5\n # On Suns, sometimes $CPP names a directory.\n if test -n \"$CPP\" && test -d \"$CPP\"; then\n   CPP=\n@@ -1560,13 +1557,13 @@ else\n   # On the NeXT, cc -E runs the code through the compiler's parser,\n   # not just through cpp.\n   cat > conftest.$ac_ext <<EOF\n-#line 1564 \"configure\"\n+#line 1561 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1570: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1567: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1577,13 +1574,13 @@ else\n   rm -rf conftest*\n   CPP=\"${CC-cc} -E -traditional-cpp\"\n   cat > conftest.$ac_ext <<EOF\n-#line 1581 \"configure\"\n+#line 1578 \"configure\"\n #include \"confdefs.h\"\n #include <assert.h>\n Syntax Error\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1587: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1584: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   :\n@@ -1606,20 +1603,20 @@ fi\n echo \"$ac_t\"\"$CPP\" 1>&6\n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:1610: checking for ANSI C header files\" >&5\n+echo \"configure:1607: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1615 \"configure\"\n+#line 1612 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1623: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1620: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1636,7 +1633,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1640 \"configure\"\n+#line 1637 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -1654,7 +1651,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 1658 \"configure\"\n+#line 1655 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -1675,7 +1672,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1679 \"configure\"\n+#line 1676 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -1686,7 +1683,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:1690: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1687: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -1710,12 +1707,12 @@ EOF\n fi\n \n echo $ac_n \"checking whether time.h and sys/time.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1714: checking whether time.h and sys/time.h may both be included\" >&5\n+echo \"configure:1711: checking whether time.h and sys/time.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_time'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1719 \"configure\"\n+#line 1716 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <sys/time.h>\n@@ -1724,7 +1721,7 @@ int main() {\n struct tm *tp;\n ; return 0; }\n EOF\n-if { (eval echo configure:1728: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1725: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_header_time=yes\n else\n@@ -1745,20 +1742,20 @@ EOF\n fi\n \n echo $ac_n \"checking whether string.h and strings.h may both be included\"\"... $ac_c\" 1>&6\n-echo \"configure:1749: checking whether string.h and strings.h may both be included\" >&5\n+echo \"configure:1746: checking whether string.h and strings.h may both be included\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_string'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1754 \"configure\"\n+#line 1751 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n #include <strings.h>\n int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1762: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1759: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_string=yes\n else\n@@ -1782,17 +1779,17 @@ for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unist\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:1786: checking for $ac_hdr\" >&5\n+echo \"configure:1783: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1791 \"configure\"\n+#line 1788 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1796: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1793: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1822,17 +1819,17 @@ done\n # Check for thread headers.\n ac_safe=`echo \"thread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for thread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1826: checking for thread.h\" >&5\n+echo \"configure:1823: checking for thread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1831 \"configure\"\n+#line 1828 \"configure\"\n #include \"confdefs.h\"\n #include <thread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1836: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1833: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1856,17 +1853,17 @@ fi\n \n ac_safe=`echo \"pthread.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for pthread.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1860: checking for pthread.h\" >&5\n+echo \"configure:1857: checking for pthread.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1865 \"configure\"\n+#line 1862 \"configure\"\n #include \"confdefs.h\"\n #include <pthread.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:1870: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:1867: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -1893,7 +1890,7 @@ fi\n # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1897: checking for $ac_word\" >&5\n+echo \"configure:1894: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gnat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1923,20 +1920,20 @@ fi\n # See if the system preprocessor understands the ANSI C preprocessor\n # stringification operator.\n echo $ac_n \"checking whether cpp understands the stringify operator\"\"... $ac_c\" 1>&6\n-echo \"configure:1927: checking whether cpp understands the stringify operator\" >&5\n+echo \"configure:1924: checking whether cpp understands the stringify operator\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_c_have_stringify'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1932 \"configure\"\n+#line 1929 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n #define S(x)   #x\n char *test = S(foo);\n ; return 0; }\n EOF\n-if { (eval echo configure:1940: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1937: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_c_have_stringify=yes\n else\n@@ -1959,20 +1956,20 @@ fi\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1963: checking for inttypes.h\" >&5\n+echo \"configure:1960: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1968 \"configure\"\n+#line 1965 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:1976: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:1973: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<EOF\n #define HAVE_INTTYPES_H 1\n@@ -1995,12 +1992,12 @@ for ac_func in strtoul bsearch strerror putenv popen bcopy bzero bcmp \\\n \tsysconf isascii gettimeofday strsignal\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1999: checking for $ac_func\" >&5\n+echo \"configure:1996: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2004 \"configure\"\n+#line 2001 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2023,7 +2020,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2027: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2024: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -2052,12 +2049,12 @@ done\n #AC_CHECK_TYPE(wchar_t, unsigned int)\n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:2056: checking for vprintf\" >&5\n+echo \"configure:2053: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2061 \"configure\"\n+#line 2058 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -2080,7 +2077,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2084: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2081: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -2104,12 +2101,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:2108: checking for _doprnt\" >&5\n+echo \"configure:2105: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2113 \"configure\"\n+#line 2110 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -2132,7 +2129,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2136: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n+if { (eval echo configure:2133: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -2168,15 +2165,15 @@ fi\n \n \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:2172: checking whether the printf functions support %p\" >&5\n+echo \"configure:2169: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2180 \"configure\"\n+#line 2177 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -2189,7 +2186,7 @@ main()\n   exit (p != q);\n }\n EOF\n-if { (eval echo configure:2193: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2190: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -2218,12 +2215,12 @@ for ac_func in malloc realloc calloc free bcopy bzero bcmp \\\n \tstrsignal\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2222: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2219: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2227 \"configure\"\n+#line 2224 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2256,7 +2253,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2260: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2257: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2285,12 +2282,12 @@ done\n for ac_func in getrlimit setrlimit\n do\n echo $ac_n \"checking whether $ac_func must be declared\"\"... $ac_c\" 1>&6\n-echo \"configure:2289: checking whether $ac_func must be declared\" >&5\n+echo \"configure:2286: checking whether $ac_func must be declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_decl_needed_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2294 \"configure\"\n+#line 2291 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdio.h>\n@@ -2327,7 +2324,7 @@ int main() {\n char *(*pfn) = (char *(*)) $ac_func\n ; return 0; }\n EOF\n-if { (eval echo configure:2331: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2328: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_decl_needed_$ac_func=no\"\n else\n@@ -2354,12 +2351,12 @@ done\n \n \n echo $ac_n \"checking for sys_siglist declaration in signal.h or unistd.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2358: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n+echo \"configure:2355: checking for sys_siglist declaration in signal.h or unistd.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2363 \"configure\"\n+#line 2360 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <signal.h>\n@@ -2371,7 +2368,7 @@ int main() {\n char *msg = *(sys_siglist + 1);\n ; return 0; }\n EOF\n-if { (eval echo configure:2375: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2372: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_decl_sys_siglist=yes\n else\n@@ -5590,12 +5587,14 @@ fi\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:5594: checking assembler alignment features\" >&5\n+echo \"configure:5591: checking assembler alignment features\" >&5\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n-if test -x \"$AS\"; then\n-\tgcc_cv_as=$AS\n+if test -x \"$DEFAULT_ASSEMBLER\"; then\n+\tgcc_cv_as=\"$DEFAULT_ASSEMBLER\"\n+elif test -x \"$AS\"; then\n+\tgcc_cv_as=\"$AS\"\n elif test -x as$host_exeext; then\n \t# Build using assembler in the current directory.\n \tgcc_cv_as=./as$host_exeext\n@@ -5661,7 +5660,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:5665: checking assembler subsection support\" >&5\n+echo \"configure:5664: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=\n if test x$gcc_cv_as != x; then\n \t# Check if we have .subsection\n@@ -5897,7 +5896,7 @@ fi\n \n # Warn if using init_priority.\n echo $ac_n \"checking whether to enable init_priority by default\"\"... $ac_c\" 1>&6\n-echo \"configure:5901: checking whether to enable init_priority by default\" >&5\n+echo \"configure:5900: checking whether to enable init_priority by default\" >&5\n if test x$enable_init_priority != xyes; then\n   enable_init_priority=no\n fi"}, {"sha": "ae503a05d83dc1c61327b7ca28669c8ad752453f", "filename": "gcc/configure.in", "status": "modified", "additions": 23, "deletions": 24, "changes": 47, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ccc3a56fbec16381b52668554ed01748d897063/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ccc3a56fbec16381b52668554ed01748d897063/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=3ccc3a56fbec16381b52668554ed01748d897063", "patch": "@@ -93,14 +93,14 @@ gnu_ld_flag=no)\n # With pre-defined ld\n AC_ARG_WITH(ld,\n [  --with-ld               arrange to use the specified ld (full pathname).],\n-LD=\"$with_ld\")\n-if test x\"${LD+set}\" = x\"set\"; then\n-  if test ! -x \"$LD\"; then\n-    AC_MSG_WARN([cannot execute: $LD: check --with-ld or env. var. LD])\n-  elif test \"GNU\" = `$LD -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+DEFAULT_LINKER=\"$with_ld\")\n+if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n+  if test ! -x \"$DEFAULT_LINKER\"; then\n+    AC_MSG_WARN([cannot execute: $DEFAULT_LINKER: check --with-ld or env. var. DEFAULT_LINKER])\n+  elif test \"GNU\" = `$DEFAULT_LINKER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n     gnu_ld_flag=yes\n   fi\n-  AC_DEFINE_UNQUOTED(DEFAULT_LINKER,\"$LD\")\n+  AC_DEFINE_UNQUOTED(DEFAULT_LINKER,\"$DEFAULT_LINKER\")\n fi\n \n # With GNU as\n@@ -111,18 +111,15 @@ gas_flag=no)\n \n AC_ARG_WITH(as,\n [  --with-as               arrange to use the specified as (full pathname).],\n-AS=\"$with_as\")\n-# Ignore any non-absolute value which comes from ${GCC_FLAGS_TO_PASS}.\n-case $AS in\n-/*)\n-  if test ! -x \"$AS\"; then\n-    AC_MSG_WARN([cannot execute: $AS: check --with-as or env. var. AS])\n-  elif test \"GNU\" = `$AS -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+DEFAULT_ASSEMBLER=\"$with_as\")\n+if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n+  if test ! -x \"$DEFAULT_ASSEMBLER\"; then\n+    AC_MSG_WARN([cannot execute: $DEFAULT_ASSEMBLER: check --with-as or env. var. DEFAULT_ASSEMBLER])\n+  elif test \"GNU\" = `$DEFAULT_ASSEMBLER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n     gas_flag=yes\n   fi\n-  AC_DEFINE_UNQUOTED(DEFAULT_ASSEMBLER,\"$AS\")\n-  ;;\n-esac\n+  AC_DEFINE_UNQUOTED(DEFAULT_ASSEMBLER,\"$DEFAULT_ASSEMBLER\")\n+fi\n \n # With stabs\n AC_ARG_WITH(stabs,\n@@ -292,22 +289,22 @@ AC_SUBST(stage1_warn_cflags)\n AC_PROG_MAKE_SET\n \n AC_MSG_CHECKING([whether a default assembler was specified])\n-if test x\"${AS+set}\" = x\"set\"; then\n+if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n     if test x\"$with_gas\" = x\"no\"; then\n-    \tAC_MSG_RESULT([yes ($AS)])\n+    \tAC_MSG_RESULT([yes ($DEFAULT_ASSEMBLER)])\n     else\n-\tAC_MSG_RESULT([yes ($AS - GNU as)])\n+\tAC_MSG_RESULT([yes ($DEFAULT_ASSEMBLER - GNU as)])\n     fi\n else\n     AC_MSG_RESULT(no)\n fi\n \n AC_MSG_CHECKING([whether a default linker was specified])\n-if test x\"${LD+set}\" = x\"set\"; then\n+if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n     if test x\"$with_gnu_ld\" = x\"no\"; then\n-\tAC_MSG_RESULT([yes ($LD)])\n+\tAC_MSG_RESULT([yes ($DEFAULT_LINKER)])\n     else\n-\tAC_MSG_RESULT([yes ($LD - GNU ld)])\n+\tAC_MSG_RESULT([yes ($DEFAULT_LINKER - GNU ld)])\n     fi\n else\n     AC_MSG_RESULT(no)\n@@ -3717,8 +3714,10 @@ AC_MSG_CHECKING(assembler alignment features)\n gcc_cv_as=\n gcc_cv_as_alignment_features=\n gcc_cv_as_gas_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/gas\n-if test -x \"$AS\"; then\n-\tgcc_cv_as=$AS\n+if test -x \"$DEFAULT_ASSEMBLER\"; then\n+\tgcc_cv_as=\"$DEFAULT_ASSEMBLER\"\n+elif test -x \"$AS\"; then\n+\tgcc_cv_as=\"$AS\"\n elif test -x as$host_exeext; then\n \t# Build using assembler in the current directory.\n \tgcc_cv_as=./as$host_exeext"}]}