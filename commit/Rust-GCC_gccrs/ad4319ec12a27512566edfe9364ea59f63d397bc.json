{"sha": "ad4319ec12a27512566edfe9364ea59f63d397bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWQ0MzE5ZWMxMmEyNzUxMjU2NmVkZmU5MzY0ZWE1OWY2M2QzOTdiYw==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2004-07-08T17:16:24Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2004-07-08T17:16:24Z"}, "message": "builtins.c (expand_builtin_stpcpy): Un-simplify decay of stpcpy to strcpy.\n\n* builtins.c (expand_builtin_stpcpy): Un-simplify decay of stpcpy\nto strcpy.\n\nFrom-SVN: r84301", "tree": {"sha": "9d9559db2c68cad406773d425357e16f885b2824", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9d9559db2c68cad406773d425357e16f885b2824"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ad4319ec12a27512566edfe9364ea59f63d397bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad4319ec12a27512566edfe9364ea59f63d397bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad4319ec12a27512566edfe9364ea59f63d397bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad4319ec12a27512566edfe9364ea59f63d397bc/comments", "author": null, "committer": null, "parents": [{"sha": "652eb7440cd038df2aeb8226189a9d4cf8578108", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/652eb7440cd038df2aeb8226189a9d4cf8578108", "html_url": "https://github.com/Rust-GCC/gccrs/commit/652eb7440cd038df2aeb8226189a9d4cf8578108"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "1456ae97488e68308418cc5cb75baf463b3606fc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad4319ec12a27512566edfe9364ea59f63d397bc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad4319ec12a27512566edfe9364ea59f63d397bc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ad4319ec12a27512566edfe9364ea59f63d397bc", "patch": "@@ -1,5 +1,8 @@\n 2004-07-08  Alexandre Oliva  <aoliva@redhat.com>\n \n+\t* builtins.c (expand_builtin_stpcpy): Un-simplify decay of stpcpy\n+\tto strcpy.\n+\n \t* expr.h (FUNCTION_ARG_PARTIAL_NREGS): Default to 0.\n \t(FUNCTION_ARG_PASS_BY_REFERENCE): Likewise.\n \t(FUNCTION_ARG_CALLEE_COPIES): Likewise."}, {"sha": "9bcef91a70b36d4dbebc2e010c8c1bed12e9f45c", "filename": "gcc/builtins.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ad4319ec12a27512566edfe9364ea59f63d397bc/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ad4319ec12a27512566edfe9364ea59f63d397bc/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=ad4319ec12a27512566edfe9364ea59f63d397bc", "patch": "@@ -3090,7 +3090,14 @@ expand_builtin_stpcpy (tree arglist, rtx target, enum machine_mode mode)\n {\n   /* If return value is ignored, transform stpcpy into strcpy.  */\n   if (target == const0_rtx)\n-    return expand_builtin_strcpy (arglist, target, mode);\n+    {\n+      tree fn = implicit_built_in_decls[BUILT_IN_STRCPY];\n+      if (!fn)\n+\treturn 0;\n+\n+      return expand_expr (build_function_call_expr (fn, arglist),\n+\t\t\t  target, mode, EXPAND_NORMAL);\n+    }\n \n   if (!validate_arglist (arglist, POINTER_TYPE, POINTER_TYPE, VOID_TYPE))\n     return 0;"}]}