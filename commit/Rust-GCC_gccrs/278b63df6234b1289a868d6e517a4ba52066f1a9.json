{"sha": "278b63df6234b1289a868d6e517a4ba52066f1a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc4YjYzZGY2MjM0YjEyODlhODY4ZDZlNTE3YTRiYTUyMDY2ZjFhOQ==", "commit": {"author": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2007-11-05T10:03:04Z"}, "committer": {"name": "Manuel L\u00f3pez-Ib\u00e1\u00f1ez", "email": "manu@gcc.gnu.org", "date": "2007-11-05T10:03:04Z"}, "message": "typeck.c (build_binary_op): Use pedwarn instead of error for consistency.\n\n2007-11-05  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\ncp/\n\t* typeck.c (build_binary_op): Use pedwarn instead of error for\n\tconsistency.\ntestsuite/\n\t* g++dg/warn/pointer-integer-comparison.C: New.\n\nFrom-SVN: r129898", "tree": {"sha": "9c48f7e291b01a8af0d4957ea7c7f8a5b1f02a2e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9c48f7e291b01a8af0d4957ea7c7f8a5b1f02a2e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/278b63df6234b1289a868d6e517a4ba52066f1a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/278b63df6234b1289a868d6e517a4ba52066f1a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/278b63df6234b1289a868d6e517a4ba52066f1a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/278b63df6234b1289a868d6e517a4ba52066f1a9/comments", "author": null, "committer": null, "parents": [{"sha": "0976ffb63f5c2d03f1e58fd7e085799b0043d638", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0976ffb63f5c2d03f1e58fd7e085799b0043d638", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0976ffb63f5c2d03f1e58fd7e085799b0043d638"}], "stats": {"total": 39, "additions": 37, "deletions": 2}, "files": [{"sha": "78ff8f8e48e3633f96573ee11f3fe94bbefd9792", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=278b63df6234b1289a868d6e517a4ba52066f1a9", "patch": "@@ -1,3 +1,8 @@\n+2007-11-05  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\t* typeck.c (build_binary_op): Use pedwarn instead of error for\n+\tconsistency.\n+\n 2007-11-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR c++/33836"}, {"sha": "17bb6b68ce03a6c2a213cc5c173ff7564171a19a", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=278b63df6234b1289a868d6e517a4ba52066f1a9", "patch": "@@ -3357,12 +3357,12 @@ build_binary_op (enum tree_code code, tree orig_op0, tree orig_op1,\n       else if (code0 == POINTER_TYPE && code1 == INTEGER_TYPE)\n \t{\n \t  result_type = type0;\n-\t  error (\"ISO C++ forbids comparison between pointer and integer\");\n+\t  pedwarn (\"ISO C++ forbids comparison between pointer and integer\");\n \t}\n       else if (code0 == INTEGER_TYPE && code1 == POINTER_TYPE)\n \t{\n \t  result_type = type1;\n-\t  error (\"ISO C++ forbids comparison between pointer and integer\");\n+\t  pedwarn (\"ISO C++ forbids comparison between pointer and integer\");\n \t}\n       else if (TYPE_PTRMEMFUNC_P (type0) && null_ptr_cst_p (op1))\n \t{"}, {"sha": "6817e837aabeb692b1f7afcc46e6923d1caadbfd", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=278b63df6234b1289a868d6e517a4ba52066f1a9", "patch": "@@ -1,3 +1,7 @@\n+2007-11-05  Manuel Lopez-Ibanez  <manu@gcc.gnu.org>\n+\n+\t* g++dg/warn/pointer-integer-comparison.C: New.\n+\n 2007-11-05  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/33856"}, {"sha": "48489ebcb8c29f3b389353096623dd9ed7017870", "filename": "gcc/testsuite/g++.dg/warn/pointer-integer-comparison.C", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpointer-integer-comparison.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/278b63df6234b1289a868d6e517a4ba52066f1a9/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpointer-integer-comparison.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fwarn%2Fpointer-integer-comparison.C?ref=278b63df6234b1289a868d6e517a4ba52066f1a9", "patch": "@@ -0,0 +1,26 @@\n+// { dg-do compile }\n+// { dg-options \"-fsyntax-only -fpermissive\" } \n+\n+int foo (int i, void *p)\n+{\n+  if (i == p) // { dg-warning \"warning: ISO C.. forbids comparison between pointer and integer\" }\n+    return 0;\n+  else if (i != p) // { dg-warning \"warning: ISO C.. forbids comparison between pointer and integer\" }\n+    return 1;\n+}\n+\n+int bar (int i, void *p)\n+{\n+  if (i < p) // { dg-warning \"warning: ISO C.. forbids comparison between pointer and integer\" }\n+    return 0;\n+  else if (i >= p) // { dg-warning \"warning: ISO C.. forbids comparison between pointer and integer\" }\n+    return 1;\n+}\n+\n+int baz (int i, void *p)\n+{\n+  if (i <= p) // { dg-warning \"warning: ISO C.. forbids comparison between pointer and integer\" }\n+    return 0;\n+  else if (i > p) // { dg-warning \"warning: ISO C.. forbids comparison between pointer and integer\" }\n+    return 1;\n+}"}]}