{"sha": "753721a542a5814d038bf7a01422aebd5ace6ff3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzUzNzIxYTU0MmE1ODE0ZDAzOGJmN2EwMTQyMmFlYmQ1YWNlNmZmMw==", "commit": {"author": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2017-02-28T19:32:02Z"}, "committer": {"name": "Paul Thomas", "email": "pault@gcc.gnu.org", "date": "2017-02-28T19:32:02Z"}, "message": "re PR fortran/79739 (ICE with some interesting code)\n\n2017-02-28  Paul Thomas  <pault@gcc.gnu.org>\n\n\tPR fortran/79739\n\t* resolve.c (resolve_fl_procedure): Deal with the case where\n\t'submodule_name' is NULL so that gfc_error does not ICE.\n\tReformat the error message to make it more consistent.\n\nFrom-SVN: r245787", "tree": {"sha": "7ae4d178bd5f8caf8d86aef9b1854a7d68c18195", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ae4d178bd5f8caf8d86aef9b1854a7d68c18195"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/753721a542a5814d038bf7a01422aebd5ace6ff3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/753721a542a5814d038bf7a01422aebd5ace6ff3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/753721a542a5814d038bf7a01422aebd5ace6ff3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/753721a542a5814d038bf7a01422aebd5ace6ff3/comments", "author": null, "committer": null, "parents": [{"sha": "2af0c3edd190d66ad9caa66fd98167669487c050", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2af0c3edd190d66ad9caa66fd98167669487c050", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2af0c3edd190d66ad9caa66fd98167669487c050"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "3e4fde1676408b61f2b27b472d57aaf75c90c947", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/753721a542a5814d038bf7a01422aebd5ace6ff3/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/753721a542a5814d038bf7a01422aebd5ace6ff3/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=753721a542a5814d038bf7a01422aebd5ace6ff3", "patch": "@@ -1,3 +1,10 @@\n+2017-02-28  Paul Thomas  <pault@gcc.gnu.org>\n+\n+\tPR fortran/79739\n+\t* resolve.c (resolve_fl_procedure): Deal with the case where\n+\t'submodule_name' is NULL so that gfc_error does not ICE.\n+\tReformat the error message to make it more consistent.\n+\n 2017-02-28  Jakub Jelinek  <jakub@redhat.com>\n \n \t* parse.c (parse_critical_block): Use cond ? G_(\"...\") : G_(\"...\")"}, {"sha": "37ffde820e0b86bcc86b0e9eec1d4cb0ba3e4b68", "filename": "gcc/fortran/resolve.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/753721a542a5814d038bf7a01422aebd5ace6ff3/gcc%2Ffortran%2Fresolve.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/753721a542a5814d038bf7a01422aebd5ace6ff3/gcc%2Ffortran%2Fresolve.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fresolve.c?ref=753721a542a5814d038bf7a01422aebd5ace6ff3", "patch": "@@ -12341,9 +12341,10 @@ resolve_fl_procedure (gfc_symbol *sym, int mp_flag)\n       if (!gfc_check_result_characteristics (sym, iface, errmsg, 200))\n \t{\n \t  gfc_error (\"%s between the MODULE PROCEDURE declaration \"\n-\t\t     \"in module %s and the declaration at %L in \"\n-\t\t     \"SUBMODULE %s\", errmsg, module_name,\n-\t\t     &sym->declared_at, submodule_name);\n+\t\t     \"in MODULE '%s' and the declaration at %L in \"\n+\t\t     \"(SUB)MODULE '%s'\",\n+\t\t     errmsg, module_name, &sym->declared_at,\n+\t\t     submodule_name ? submodule_name : module_name);\n \t  return false;\n \t}\n "}]}