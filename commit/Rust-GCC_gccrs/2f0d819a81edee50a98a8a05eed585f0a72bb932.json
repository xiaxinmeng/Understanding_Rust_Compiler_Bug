{"sha": "2f0d819a81edee50a98a8a05eed585f0a72bb932", "node_id": "C_kwDOANBUbNoAKDJmMGQ4MTlhODFlZGVlNTBhOThhOGEwNWVlZDU4NWYwYTcyYmI5MzI", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-07-05T09:04:46Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2022-07-06T20:51:24Z"}, "message": "Define 'OMP_REQUIRES_[...]', 'GOMP_REQUIRES_[...]' in a single place\n\nClean up for recent commit 683f11843974f0bdf42f79cdcbb0c2b43c7b81b0\n\"OpenMP: Move omp requires checks to libgomp\".\n\n\tgcc/\n\t* omp-general.h (enum omp_requires): Use 'GOMP_REQUIRES_[...]'.\n\tinclude/\n\t* gomp-constants.h (OMP_REQUIRES_[...]): Update comment.", "tree": {"sha": "438f1c3e492ae7ac111f6667f6b59b15537b7318", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/438f1c3e492ae7ac111f6667f6b59b15537b7318"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f0d819a81edee50a98a8a05eed585f0a72bb932", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f0d819a81edee50a98a8a05eed585f0a72bb932", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f0d819a81edee50a98a8a05eed585f0a72bb932", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f0d819a81edee50a98a8a05eed585f0a72bb932/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e46f4d7430c5210465791603735ab219ef263c51", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e46f4d7430c5210465791603735ab219ef263c51", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e46f4d7430c5210465791603735ab219ef263c51"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "74e90e1a71a63f07934a852e982f410c3a2dd936", "filename": "gcc/omp-general.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0d819a81edee50a98a8a05eed585f0a72bb932/gcc%2Fomp-general.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0d819a81edee50a98a8a05eed585f0a72bb932/gcc%2Fomp-general.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-general.h?ref=2f0d819a81edee50a98a8a05eed585f0a72bb932", "patch": "@@ -126,12 +126,12 @@ extern int oacc_get_ifn_dim_arg (const gimple *stmt);\n \n enum omp_requires {\n   OMP_REQUIRES_ATOMIC_DEFAULT_MEM_ORDER = 0xf,\n-  OMP_REQUIRES_UNIFIED_ADDRESS = 0x10,\n-  OMP_REQUIRES_UNIFIED_SHARED_MEMORY = 0x20,\n+  OMP_REQUIRES_UNIFIED_ADDRESS = GOMP_REQUIRES_UNIFIED_ADDRESS,\n+  OMP_REQUIRES_UNIFIED_SHARED_MEMORY = GOMP_REQUIRES_UNIFIED_SHARED_MEMORY,\n   OMP_REQUIRES_DYNAMIC_ALLOCATORS = 0x40,\n-  OMP_REQUIRES_REVERSE_OFFLOAD = 0x80,\n+  OMP_REQUIRES_REVERSE_OFFLOAD = GOMP_REQUIRES_REVERSE_OFFLOAD,\n   OMP_REQUIRES_ATOMIC_DEFAULT_MEM_ORDER_USED = 0x100,\n-  OMP_REQUIRES_TARGET_USED = 0x200\n+  OMP_REQUIRES_TARGET_USED = GOMP_REQUIRES_TARGET_USED,\n };\n \n extern GTY(()) enum omp_requires omp_requires_mask;"}, {"sha": "84316f953d0093462e883c2c06e94b2925626945", "filename": "include/gomp-constants.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f0d819a81edee50a98a8a05eed585f0a72bb932/include%2Fgomp-constants.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f0d819a81edee50a98a8a05eed585f0a72bb932/include%2Fgomp-constants.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/include%2Fgomp-constants.h?ref=2f0d819a81edee50a98a8a05eed585f0a72bb932", "patch": "@@ -341,8 +341,7 @@ enum gomp_map_kind\n #define GOMP_DEPEND_MUTEXINOUTSET\t4\n #define GOMP_DEPEND_INOUTSET\t\t5\n \n-/* Flag values for requires-directive features, must match corresponding\n-   OMP_REQUIRES_* values in gcc/omp-general.h.  */\n+/* Flag values for OpenMP 'requires' directive features.  */\n #define GOMP_REQUIRES_UNIFIED_ADDRESS       0x10\n #define GOMP_REQUIRES_UNIFIED_SHARED_MEMORY 0x20\n #define GOMP_REQUIRES_REVERSE_OFFLOAD       0x80"}]}