{"sha": "8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGIxY2I5NWI3Njg1YzBhNzViYTY5MmJiM2YxZmUxMjE2NWM1OTgxNA==", "commit": {"author": {"name": "Geoff Keating", "email": "geoffk@cygnus.com", "date": "1999-11-21T07:53:01Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "1999-11-21T07:53:01Z"}, "message": "varasm.c (output_constructor): Solve problem with long long bitfields...\n\n* varasm.c (output_constructor): Solve problem with long long\nbitfields, even on BYTES_BIG_ENDIAN machines (testcase 991118-1).\n\nFrom-SVN: r30598", "tree": {"sha": "5e3c9ebabdccf3fde841ec196f1b3a658e239c6b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5e3c9ebabdccf3fde841ec196f1b3a658e239c6b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/comments", "author": null, "committer": null, "parents": [{"sha": "06a964de822dfc498ee497e253e6ca360a318d8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06a964de822dfc498ee497e253e6ca360a318d8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06a964de822dfc498ee497e253e6ca360a318d8d"}], "stats": {"total": 49, "additions": 47, "deletions": 2}, "files": [{"sha": "0913a62b8d99cb5324db9285fae1430b8d9e0caf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "patch": "@@ -1,3 +1,8 @@\n+Sun Nov 21 17:11:13 1999  Geoffrey Keating  <geoffk@cygnus.com>\n+\n+\t* varasm.c (output_constructor): Solve problem with long long\n+ \tbitfields, even on BYTES_BIG_ENDIAN machines (testcase 991118-1).\n+\n Fri Nov 19 06:32:19 CET 1999  Jan Hubicka  <hubicka@freesoft.cz>\n \n \t* i386.md (neg, not and abs patterns): Revmap to use"}, {"sha": "013bdd693b24348469679bf91b2a66910fdb1931", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "patch": "@@ -1,3 +1,8 @@\n+1999-11-19  Geoffrey Keating  <geoffk@cygnus.com>\n+\n+\t* gcc.c-torture/execute/991118-1.c: Also test case\n+\twhere the word boundary does not split a byte evenly.\n+\n 1999-11-19  Nathan Sidwell  <nathan@acm.org>\n \n \t* g++.old-deja/g++.ext/restrict1.C: New test."}, {"sha": "77ba888a2a011030416b72237324dd5fbbf31279", "filename": "gcc/testsuite/gcc.c-torture/execute/991118-1.c", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991118-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991118-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991118-1.c?ref=8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "patch": "@@ -10,6 +10,18 @@ struct tmp2\n   long long int pad : 12;\n };\n \n+struct tmp3\n+{\n+  long long int pad : 11;\n+  long long int field : 53;\n+};\n+\n+struct tmp4\n+{\n+  long long int field : 53;\n+  long long int pad : 11;\n+};\n+\n struct tmp\n sub (struct tmp tmp)\n {\n@@ -24,8 +36,24 @@ sub2 (struct tmp2 tmp2)\n   return tmp2;\n }\n \n+struct tmp3\n+sub3 (struct tmp3 tmp3)\n+{\n+  tmp3.field ^= 0x0018765412345678LL;\n+  return tmp3;\n+}\n+\n+struct tmp4\n+sub4 (struct tmp4 tmp4)\n+{\n+  tmp4.field ^= 0x0018765412345678LL;\n+  return tmp4;\n+}\n+\n struct tmp tmp = {0x123, 0x123456789ABCDLL};\n struct tmp2 tmp2 = {0x123456789ABCDLL, 0x123};\n+struct tmp3 tmp3 = {0x123, 0x1FFFF00000000LL};\n+struct tmp4 tmp4 = {0x1FFFF00000000LL, 0x123};\n \n main()\n {\n@@ -40,6 +68,12 @@ main()\n     abort ();\n   if (tmp2.pad != 0x123 || tmp2.field != 0xFFF9551175BDFDB5LL)\n     abort ();\n+\n+  tmp3 = sub3 (tmp3);\n+  tmp4 = sub4 (tmp4);\n+  if (tmp3.pad != 0x123 || tmp3.field != 0xFFF989AB12345678LL)\n+    abort ();\n+  if (tmp4.pad != 0x123 || tmp4.field != 0xFFF989AB12345678LL)\n+    abort ();\n   exit (0);\n }\n-"}, {"sha": "d4da6983876b2a96bda10de3cbf4a833424772d1", "filename": "gcc/varasm.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8b1cb95b7685c0a75ba692bb3f1fe12165c59814/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=8b1cb95b7685c0a75ba692bb3f1fe12165c59814", "patch": "@@ -4536,7 +4536,8 @@ output_constructor (exp, size)\n \t\t  if (shift < HOST_BITS_PER_WIDE_INT\n \t\t      && shift + this_time > HOST_BITS_PER_WIDE_INT)\n \t\t    {\n-\t\t      this_time = (HOST_BITS_PER_WIDE_INT - shift);\n+\t\t      this_time = shift + this_time - HOST_BITS_PER_WIDE_INT;\n+\t\t      shift = HOST_BITS_PER_WIDE_INT;\n \t\t    }\n \n \t\t  /* Now get the bits from the appropriate constant word.  */"}]}