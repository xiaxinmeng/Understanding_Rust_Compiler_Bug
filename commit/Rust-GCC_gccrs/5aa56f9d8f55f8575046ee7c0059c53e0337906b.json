{"sha": "5aa56f9d8f55f8575046ee7c0059c53e0337906b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWFhNTZmOWQ4ZjU1Zjg1NzUwNDZlZTdjMDA1OWM1M2UwMzM3OTA2Yg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2005-01-07T17:09:15Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2005-01-07T17:09:15Z"}, "message": "re PR c++/19298 (dependent type (references) and calling a function method)\n\ncp:\n\tPR c++/19298\n\t* pt.c (tsubst_qualified_id): Call convert_from_reference.\ntestsuite:\n\tPR c++/19298\n\t* g++.dg/template/ref2.C: New.\n\nFrom-SVN: r93055", "tree": {"sha": "a5b28a5bfc7cb9b61346d65b341acdbc5a5dc65c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a5b28a5bfc7cb9b61346d65b341acdbc5a5dc65c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5aa56f9d8f55f8575046ee7c0059c53e0337906b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5aa56f9d8f55f8575046ee7c0059c53e0337906b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5aa56f9d8f55f8575046ee7c0059c53e0337906b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5aa56f9d8f55f8575046ee7c0059c53e0337906b/comments", "author": null, "committer": null, "parents": [{"sha": "6992cbd163459446e6a2063ccb3d5f9fb0306622", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6992cbd163459446e6a2063ccb3d5f9fb0306622", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6992cbd163459446e6a2063ccb3d5f9fb0306622"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "9abb9c8d395890eaf13c139180f4d793b723aa9f", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=5aa56f9d8f55f8575046ee7c0059c53e0337906b", "patch": "@@ -1,3 +1,8 @@\n+2005-01-07  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/19298\n+\t* pt.c (tsubst_qualified_id): Call convert_from_reference.\n+\n 2005-01-06  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/19244"}, {"sha": "972e2669b55fa550f6f877c0f83112f85ebc04b0", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=5aa56f9d8f55f8575046ee7c0059c53e0337906b", "patch": "@@ -7648,6 +7648,8 @@ tsubst_qualified_id (tree qualified_id, tree args,\n \t      (expr, scope, current_class_type));\n       expr = finish_qualified_id_expr (scope, expr, done, address_p);\n     }\n+  \n+  expr = convert_from_reference (expr);\n \n   return expr;\n }"}, {"sha": "46a2093794e54f1824c9e307a4ba89aacb3d5912", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=5aa56f9d8f55f8575046ee7c0059c53e0337906b", "patch": "@@ -1,3 +1,8 @@\n+2005-01-07  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\tPR c++/19298\n+\t* g++.dg/template/ref2.C: New.\n+\n 2005-01-07  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \t* gcc.c-torture/compile/pr17529.c (y): Change size of array to 1"}, {"sha": "9feb19d2f4061523f8a7b9ebda0abe7429673faf", "filename": "gcc/testsuite/g++.dg/template/ref2.C", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fref2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5aa56f9d8f55f8575046ee7c0059c53e0337906b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fref2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Fref2.C?ref=5aa56f9d8f55f8575046ee7c0059c53e0337906b", "patch": "@@ -0,0 +1,27 @@\n+// Copyright (C) 2005 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 7 Jan 2005 <nathan@codesourcery.com>\n+\n+// PR 19298: Rejects legal\n+// Origin: Andrew Pinski <pinskia@gcc.gnu.org>\n+\n+struct t\n+{\n+  void f() const;\n+};\n+\n+template <typename _Tp>\n+struct A\n+{\n+ static t const&  c;\n+};\n+\n+template <typename _Tp>\n+void g(void)\n+{\n+  A<_Tp>::c.f();\n+}\n+\n+void h(void)\n+{\n+  g<int>();\n+}"}]}