{"sha": "1d8478d79afe669d556715c7778496f594bcf7a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWQ4NDc4ZDc5YWZlNjY5ZDU1NjcxNWM3Nzc4NDk2ZjU5NGJjZjdhOQ==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2002-01-27T22:28:42Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-01-27T22:28:42Z"}, "message": "builtins.c (sqrt_builtin): Use BUILT_IN_SQRT, not BUILT_IN_SQRTF.\n\n2002-01-26 Andreas Tobler <a.tobler@schweiz.ch>\n\n\t* gcc/java/builtins.c (sqrt_builtin): Use BUILT_IN_SQRT, not\n\tBUILT_IN_SQRTF.\n\nFrom-SVN: r49271", "tree": {"sha": "5dae842d626d33da5443f9d99ebe7a76f223d9d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5dae842d626d33da5443f9d99ebe7a76f223d9d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1d8478d79afe669d556715c7778496f594bcf7a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d8478d79afe669d556715c7778496f594bcf7a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d8478d79afe669d556715c7778496f594bcf7a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d8478d79afe669d556715c7778496f594bcf7a9/comments", "author": null, "committer": null, "parents": [{"sha": "438451ccec1c43e8f2d18cb29b1a812ccc507416", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/438451ccec1c43e8f2d18cb29b1a812ccc507416", "html_url": "https://github.com/Rust-GCC/gccrs/commit/438451ccec1c43e8f2d18cb29b1a812ccc507416"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "14274b19a9f7af063aa78bc499218999e9fbdcf9", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=1d8478d79afe669d556715c7778496f594bcf7a9", "patch": "@@ -1,3 +1,8 @@\n+2002-01-26 Andreas Tobler <a.tobler@schweiz.ch>\n+\t\n+\t* gcc/java/builtins.c (sqrt_builtin): Use BUILT_IN_SQRT, not\n+\tBUILT_IN_SQRTF.\n+\n 2002-01-22  Tom Tromey  <tromey@redhat.com>\n \n \t* decl.c (java_init_decl_processing): Use add_predefined_file."}, {"sha": "41ded8552bf3a7ac22cf207c7bed77e5bf849f7d", "filename": "gcc/java/builtins.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fbuiltins.c?ref=1d8478d79afe669d556715c7778496f594bcf7a9", "patch": "@@ -181,7 +181,7 @@ sqrt_builtin (method_return_type, method_arguments)\n      tree method_return_type, method_arguments;\n {\n   /* FIXME: this assumes that jdouble and double are the same.  */\n-  tree fn = built_in_decls[BUILT_IN_SQRTF];\n+  tree fn = built_in_decls[BUILT_IN_SQRT];\n   if (fn == NULL_TREE)\n     return NULL_TREE;\n   return build_function_call_expr (fn, method_arguments);"}, {"sha": "a7cb59efcc590f9a942d4d4183342712afcfee98", "filename": "gcc/java/expr.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexpr.c?ref=1d8478d79afe669d556715c7778496f594bcf7a9", "patch": "@@ -2168,8 +2168,13 @@ build_jni_stub (method)\n   TREE_PUBLIC (meth_var) = 0;\n   DECL_EXTERNAL (meth_var) = 0;\n   DECL_CONTEXT (meth_var) = method;\n+  DECL_ARTIFICIAL (meth_var) = 1;\n+  DECL_INITIAL (meth_var) = null_pointer_node;\n+  TREE_USED (meth_var) = 1;\n+  chainon (env_var, meth_var);\n+  layout_decl (meth_var, 0);\n   make_decl_rtl (meth_var, NULL);\n-  meth_var = pushdecl_top_level (meth_var);\n+  rest_of_decl_compilation (meth_var, NULL, 0, 0);\n \n   /* One strange way that the front ends are different is that they\n      store arguments differently.  */"}, {"sha": "8b33fadf85c0399e22985e341b3e0adf8502bbfd", "filename": "gcc/java/parse.y", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2Fparse.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1d8478d79afe669d556715c7778496f594bcf7a9/gcc%2Fjava%2Fparse.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fparse.y?ref=1d8478d79afe669d556715c7778496f594bcf7a9", "patch": "@@ -1,6 +1,6 @@\n /* Source code parsing and tree node generation for the GNU compiler\n    for the Java(TM) language.\n-   Copyright (C) 1997, 1998, 1999, 2000, 2001 Free Software Foundation, Inc.\n+   Copyright (C) 1997, 1998, 1999, 2000, 2001, 2002 Free Software Foundation, Inc.\n    Contributed by Alexandre Petit-Bianco (apbianco@cygnus.com)\n \n This file is part of GNU CC.\n@@ -7723,7 +7723,9 @@ java_complete_expand_methods (class_decl)\n \n       if (METHOD_NATIVE (decl))\n  \t{\n- \t  tree body = build_jni_stub (decl);\n+ \t  tree body;\n+\t  current_function_decl = decl;\n+\t  body = build_jni_stub (decl);\n  \t  BLOCK_EXPR_BODY (DECL_FUNCTION_BODY (decl)) = body;\n  \t}\n "}]}