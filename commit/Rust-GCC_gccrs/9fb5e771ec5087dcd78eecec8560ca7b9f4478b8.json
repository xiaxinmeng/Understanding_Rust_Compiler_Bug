{"sha": "9fb5e771ec5087dcd78eecec8560ca7b9f4478b8", "node_id": "C_kwDOANBUbNoAKDlmYjVlNzcxZWM1MDg3ZGNkNzhlZWNlYzg1NjBjYTdiOWY0NDc4Yjg", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2022-02-03T10:43:59Z"}, "committer": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2022-02-03T10:43:59Z"}, "message": "testsuite: Update guality xfails for aarch64*-*-*\n\nFollowing on from GCC 11 patch g:f31ddad8ac8, this one gives clean\nguality.exp test results for aarch64-linux-gnu with modern gdb\n(this time gdb 11.2).\n\nThe justification is the same as previously:\n\n------\nFor people using older gdbs, it will trade one set of noisy results for\nanother set.  I still think it's better to have the xfails based on\none \u201cclean\u201d and \u201cmodern\u201d run rather than have FAILs and XPASSes for\nall runs.\n\nIt's hard to tell which of these results are aarch64-specific and\nwhich aren't.  If other target maintainers want to do something similar,\nand are prepared to assume the same gdb version, then it should become\nclearer over time which ones are target-specific and which aren't.\n\nThere are no new skips here, so changes in test results will still\nshow up as XPASSes.\n\nI've not analysed the failures or filed PRs for them.  In some\nways the guality directory itself seems like the best place to\nstart looking for xfails, if someone's interested in working\nin this area.\n------\n\ngcc/testsuite/\n\t* gcc.dg/guality/ipa-sra-1.c: Update aarch64*-*-* xfails.\n\t* gcc.dg/guality/pr54519-1.c: Likewise.\n\t* gcc.dg/guality/pr54519-3.c: Likewise.", "tree": {"sha": "64ab87cd5b06dd1e3f360e7cc5175dac95ff2518", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64ab87cd5b06dd1e3f360e7cc5175dac95ff2518"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9db03cd0caf6bbde1de302bf3509dc26ca8bff2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9db03cd0caf6bbde1de302bf3509dc26ca8bff2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9db03cd0caf6bbde1de302bf3509dc26ca8bff2b"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "9ef4eac93a7fd707be66519231407fba49334a6e", "filename": "gcc/testsuite/gcc.dg/guality/ipa-sra-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fipa-sra-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fipa-sra-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fipa-sra-1.c?ref=9fb5e771ec5087dcd78eecec8560ca7b9f4478b8", "patch": "@@ -12,7 +12,7 @@ static int __attribute__((noinline))\n bar (int i, int k)\n {\n   asm (\"\" : \"+r\" (i));\n-  use (i);\t\t/* { dg-final { gdb-test . \"k\" \"3\" { xfail *-*-* } } } */\n+  use (i);\t\t/* { dg-final { gdb-test . \"k\" \"3\" { xfail { ! { aarch64*-*-* && { any-opts \"-O0\" \"-O1\" \"-Og\" } } } } } } */\n   return 6;\n }\n "}, {"sha": "5880d9b4f57c26e85e427e8d8fec1f288a12c784", "filename": "gcc/testsuite/gcc.dg/guality/pr54519-1.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fpr54519-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fpr54519-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fpr54519-1.c?ref=9fb5e771ec5087dcd78eecec8560ca7b9f4478b8", "patch": "@@ -18,9 +18,9 @@ fn2 (int x, int y, int z)\n       fn1 (x);\t\t/* { dg-final { gdb-test .+2 \"x\" \"36\" } } */\n       if (x == 36)\t/* { dg-final { gdb-test .+1 \"y\" \"25\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n \tfn1 (x);\t/* { dg-final { gdb-test . \"z\" \"6\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n-      fn1 (x);\t\t/* { dg-final { gdb-test .+2 \"x\" \"98\" } } */\n-      if (x == 98)\t/* { dg-final { gdb-test .+1 \"y\" \"117\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n-\tfn1 (x);\t/* { dg-final { gdb-test . \"z\" \"8\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n+      fn1 (x);\t\t/* { dg-final { gdb-test .+2 \"x\" \"98\" { xfail { aarch64*-*-* && { any-opts \"-Os\" } } } } } */\n+      if (x == 98)\t/* { dg-final { gdb-test .+1 \"y\" \"117\" { xfail { aarch64*-*-* && { any-opts \"-Os\" \"-flto\" } } } } } */\n+\tfn1 (x);\t/* { dg-final { gdb-test . \"z\" \"8\" { xfail { aarch64*-*-* && { any-opts \"-Os\" \"-flto\" } } } } } */\n       fn1 (x);\n       fn1 (x + a);\n     }"}, {"sha": "9c18993e7a9d7dd31db9e3119e6241e72171e393", "filename": "gcc/testsuite/gcc.dg/guality/pr54519-3.c", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fpr54519-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9fb5e771ec5087dcd78eecec8560ca7b9f4478b8/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fpr54519-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fguality%2Fpr54519-3.c?ref=9fb5e771ec5087dcd78eecec8560ca7b9f4478b8", "patch": "@@ -18,9 +18,9 @@ fn2 (int x, int y, int z)\n       fn1 (x);\t\t/* { dg-final { gdb-test .+2 \"x\" \"36\" } } */\n       if (x == 36)\t/* { dg-final { gdb-test .+1 \"y\" \"25\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n \tfn1 (x);\t/* { dg-final { gdb-test . \"z\" \"6\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n-      fn1 (x);\t\t/* { dg-final { gdb-test .+2 \"x\" \"98\" } } */\n-      if (x == 98)\t/* { dg-final { gdb-test .+1 \"y\" \"117\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n-\tfn1 (x);\t/* { dg-final { gdb-test . \"z\" \"8\" { xfail { aarch64*-*-* && { any-opts \"-flto\" } } } } } */\n+      fn1 (x);\t\t/* { dg-final { gdb-test .+2 \"x\" \"98\" { xfail { aarch64*-*-* && { any-opts \"-Os\" } } } } } */\n+      if (x == 98)\t/* { dg-final { gdb-test .+1 \"y\" \"117\" { xfail { aarch64*-*-* && { any-opts \"-Os\" \"-flto\" } } } } } */\n+\tfn1 (x);\t/* { dg-final { gdb-test . \"z\" \"8\" { xfail { aarch64*-*-* && { any-opts \"-Os\" \"-flto\" } } } } } */\n       fn1 (x);\n       fn1 (x + a);\n     }"}]}