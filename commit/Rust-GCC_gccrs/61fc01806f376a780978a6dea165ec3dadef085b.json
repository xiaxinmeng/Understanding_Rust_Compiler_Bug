{"sha": "61fc01806f376a780978a6dea165ec3dadef085b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjFmYzAxODA2ZjM3NmE3ODA5NzhhNmRlYTE2NWVjM2RhZGVmMDg1Yg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2021-06-08T21:48:26Z"}, "committer": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2021-06-08T21:54:21Z"}, "message": "c++: update diagnostic messages\n\nThese tests needed updating for the diagnostic change in r12-1306.\n\ngcc/testsuite/ChangeLog:\n\n\t* g++.dg/cpp0x/pr60209-neg.C: Update diagnostic.\n\t* g++.dg/diagnostic/string-literal-concat.C: Likewise.\n\t* g++.dg/ext/utf-badconcat.C: Likewise.\n\t* g++.dg/ext/utf-badconcat2.C: Likewise.", "tree": {"sha": "b4a3a01d81c8b5ff35a937a910038df56cd8df43", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b4a3a01d81c8b5ff35a937a910038df56cd8df43"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/61fc01806f376a780978a6dea165ec3dadef085b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61fc01806f376a780978a6dea165ec3dadef085b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61fc01806f376a780978a6dea165ec3dadef085b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61fc01806f376a780978a6dea165ec3dadef085b/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "40917137b6bb66c8020add0b4083c13b566275ba", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/40917137b6bb66c8020add0b4083c13b566275ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/40917137b6bb66c8020add0b4083c13b566275ba"}], "stats": {"total": 32, "additions": 16, "deletions": 16}, "files": [{"sha": "6c3ad0c90165d241cb5986160f83afaa60799088", "filename": "gcc/testsuite/g++.dg/cpp0x/pr60209-neg.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr60209-neg.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr60209-neg.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr60209-neg.C?ref=61fc01806f376a780978a6dea165ec3dadef085b", "patch": "@@ -17,7 +17,7 @@ void operator L\"\" \"\" _x(unsigned long long); // { dg-error \"invalid encoding pre\n \n void operator u8\"\" \"\" _y(unsigned long long); // { dg-error \"invalid encoding prefix in literal operator\" }\n \n-void operator u\"\" L\"\" _z(unsigned long long); // { dg-error \"unsupported non-standard concatenation of string literals\" }\n+void operator u\"\" L\"\" _z(unsigned long long); // { dg-error \"concatenation of string literals with conflicting encoding prefixes\" }\n \n void operator \"\"_p \"\"_q(unsigned long long); // { dg-error \"inconsistent user-defined literal suffixes\" }\n "}, {"sha": "326520e5decad7cf4adc2bece094d40cf1270b8f", "filename": "gcc/testsuite/g++.dg/diagnostic/string-literal-concat.C", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Fstring-literal-concat.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Fstring-literal-concat.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Fstring-literal-concat.C?ref=61fc01806f376a780978a6dea165ec3dadef085b", "patch": "@@ -1,12 +1,12 @@\n /* { dg-options \"-fdiagnostics-show-caret -std=c++11\" } */\n \n-const void *s = u8\"a\"  u\"b\";  // { dg-error \"24: non-standard concatenation\" }\n+const void *s = u8\"a\"  u\"b\";  // { dg-error \"24: concatenation\" }\n /* { dg-begin-multiline-output \"\" }\n  const void *s = u8\"a\"  u\"b\";\n                  ~~~~~  ^~~~\n    { dg-end-multiline-output \"\" } */\n \n-const void *s2 = u\"a\"  u\"b\"  u8\"c\";  // { dg-error \"30: non-standard concatenation\" }\n+const void *s2 = u\"a\"  u\"b\"  u8\"c\";  // { dg-error \"30: concatenation\" }\n /* { dg-begin-multiline-output \"\" }\n  const void *s2 = u\"a\"  u\"b\"  u8\"c\";\n                         ~~~~  ^~~~~\n@@ -16,7 +16,7 @@ const void *s2 = u\"a\"  u\"b\"  u8\"c\";  // { dg-error \"30: non-standard concatenati\n \n const void *s3 = TEST_U8_LITERAL u8\"b\";\n \n-const void *s4 = TEST_U8_LITERAL u\"b\"; // { dg-error \"34: non-standard concatenation\" }\n+const void *s4 = TEST_U8_LITERAL u\"b\"; // { dg-error \"34: concatenation\" }\n /* { dg-begin-multiline-output \"\" }\n  const void *s4 = TEST_U8_LITERAL u\"b\";\n                                   ^~~~"}, {"sha": "550e0da84d14a1f633799f1da15f067aef492ed1", "filename": "gcc/testsuite/g++.dg/ext/utf-badconcat.C", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Futf-badconcat.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Futf-badconcat.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Futf-badconcat.C?ref=61fc01806f376a780978a6dea165ec3dadef085b", "patch": "@@ -4,15 +4,15 @@\n \n const void *s0\t= u\"a\"  \"b\";\n const void *s1\t=  \"a\" u\"b\";\n-const void *s2\t= u\"a\" U\"b\";\t/* { dg-error \"non-standard concatenation\" } */\n-const void *s3\t= U\"a\" u\"b\";\t/* { dg-error \"non-standard concatenation\" } */\n-const void *s4\t= u\"a\" L\"b\";\t/* { dg-error \"non-standard concatenation\" } */\n-const void *s5\t= L\"a\" u\"b\";\t/* { dg-error \"non-standard concatenation\" } */\n+const void *s2\t= u\"a\" U\"b\";\t/* { dg-error \"concatenation\" } */\n+const void *s3\t= U\"a\" u\"b\";\t/* { dg-error \"concatenation\" } */\n+const void *s4\t= u\"a\" L\"b\";\t/* { dg-error \"concatenation\" } */\n+const void *s5\t= L\"a\" u\"b\";\t/* { dg-error \"concatenation\" } */\n const void *s6\t= u\"a\" u\"b\";\n const void *s7\t= U\"a\"  \"b\";\n const void *s8\t=  \"a\" U\"b\";\n-const void *s9\t= U\"a\" L\"b\";\t/* { dg-error \"non-standard concatenation\" } */\n-const void *sa\t= L\"a\" U\"b\";\t/* { dg-error \"non-standard concatenation\" } */\n+const void *s9\t= U\"a\" L\"b\";\t/* { dg-error \"concatenation\" } */\n+const void *sa\t= L\"a\" U\"b\";\t/* { dg-error \"concatenation\" } */\n const void *sb\t= U\"a\" U\"b\";\n const void *sc\t= L\"a\"  \"b\";\n const void *sd\t=  \"a\" L\"b\";"}, {"sha": "535d9265fcc585cb5e77d91d50b66fa14ee0716d", "filename": "gcc/testsuite/g++.dg/ext/utf-badconcat2.C", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Futf-badconcat2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/61fc01806f376a780978a6dea165ec3dadef085b/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Futf-badconcat2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Futf-badconcat2.C?ref=61fc01806f376a780978a6dea165ec3dadef085b", "patch": "@@ -4,11 +4,11 @@\n const void *s0\t= u8\"a\"   \"b\";\n const void *s1\t=   \"a\" u8\"b\";\n const void *s2\t= u8\"a\" u8\"b\";\n-const void *s3\t= u8\"a\"  u\"b\";\t// { dg-error \"non-standard concatenation\" }\n-const void *s4\t=  u\"a\" u8\"b\";\t// { dg-error \"non-standard concatenation\" }\n-const void *s5\t= u8\"a\"  U\"b\";\t// { dg-error \"non-standard concatenation\" }\n-const void *s6\t=  U\"a\" u8\"b\";\t// { dg-error \"non-standard concatenation\" }\n-const void *s7\t= u8\"a\"  L\"b\";\t// { dg-error \"non-standard concatenation\" }\n-const void *s8\t=  L\"a\" u8\"b\";\t// { dg-error \"non-standard concatenation\" }\n+const void *s3\t= u8\"a\"  u\"b\";\t// { dg-error \"concatenation\" }\n+const void *s4\t=  u\"a\" u8\"b\";\t// { dg-error \"concatenation\" }\n+const void *s5\t= u8\"a\"  U\"b\";\t// { dg-error \"concatenation\" }\n+const void *s6\t=  U\"a\" u8\"b\";\t// { dg-error \"concatenation\" }\n+const void *s7\t= u8\"a\"  L\"b\";\t// { dg-error \"concatenation\" }\n+const void *s8\t=  L\"a\" u8\"b\";\t// { dg-error \"concatenation\" }\n \n int main () {}"}]}