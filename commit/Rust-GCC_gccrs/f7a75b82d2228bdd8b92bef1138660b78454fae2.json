{"sha": "f7a75b82d2228bdd8b92bef1138660b78454fae2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjdhNzViODJkMjIyOGJkZDhiOTJiZWYxMTM4NjYwYjc4NDU0ZmFlMg==", "commit": {"author": {"name": "Andreas Tobler", "email": "a.tobler@schweiz.ch", "date": "2003-11-19T05:17:15Z"}, "committer": {"name": "Andreas Tobler", "email": "andreast@gcc.gnu.org", "date": "2003-11-19T05:17:15Z"}, "message": "config.gcc (powerpc-*-darwin*): Add libgcc build specification file.\n\n2003-11-19  Andreas Tobler  <a.tobler@schweiz.ch>\n\n\t* config/config.gcc (powerpc-*-darwin*): Add libgcc build\n\tspecification file.\n\t* config/t-slibgcc-darwin: New file, libgcc build specification.\n\t* config/t-darwin: Add libgcc2 flag -fPIC.\n\t* config/rs6000/t-darwin: Multilib matches float.\n\t* libgcc-darwin.ver: New file, contains libgcc symbols.\n\nFrom-SVN: r73728", "tree": {"sha": "f721a037453a46f18b8d6cf377a223d4ee88790c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f721a037453a46f18b8d6cf377a223d4ee88790c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f7a75b82d2228bdd8b92bef1138660b78454fae2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7a75b82d2228bdd8b92bef1138660b78454fae2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f7a75b82d2228bdd8b92bef1138660b78454fae2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f7a75b82d2228bdd8b92bef1138660b78454fae2/comments", "author": null, "committer": null, "parents": [{"sha": "5153e857f7b3a4980d0f0ab1937323d748d31445", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5153e857f7b3a4980d0f0ab1937323d748d31445", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5153e857f7b3a4980d0f0ab1937323d748d31445"}], "stats": {"total": 258, "additions": 257, "deletions": 1}, "files": [{"sha": "0184f4354478c77089d480ec322e74c9bf49f776", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f7a75b82d2228bdd8b92bef1138660b78454fae2", "patch": "@@ -1,3 +1,12 @@\n+2003-11-19  Andreas Tobler  <a.tobler@schweiz.ch>\n+\n+\t* config/config.gcc (powerpc-*-darwin*): Add libgcc build\n+\tspecification file.\n+\t* config/t-slibgcc-darwin: New file, libgcc build specification.\n+\t* config/t-darwin: Add libgcc2 flag -fPIC.\n+\t* config/rs6000/t-darwin: Multilib matches float.\n+\t* libgcc-darwin.ver: New file, contains libgcc symbols.\n+\n 2003-11-18  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* config/ns32k/ns32k.h: Remove obsolete comment."}, {"sha": "4ac9a79f3dbe57f5b28783544f106213e22a2e68", "filename": "gcc/config.gcc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=f7a75b82d2228bdd8b92bef1138660b78454fae2", "patch": "@@ -1653,7 +1653,7 @@ powerpc-*-beos*)\n \t;;\n powerpc-*-darwin*)\n \ttm_file=\"${tm_file} rs6000/darwin.h\"\n-\ttmake_file=\"t-darwin rs6000/t-darwin\"\n+\ttmake_file=\"t-darwin t-slibgcc-darwin rs6000/t-darwin\"\n \textra_headers=altivec.h\n \t# override ppc default\n \tneed_64bit_hwint="}, {"sha": "0f3bc4ad09473bf9ced133365bb0df6d611352d0", "filename": "gcc/config/rs6000/t-darwin", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig%2Frs6000%2Ft-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig%2Frs6000%2Ft-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Ft-darwin?ref=f7a75b82d2228bdd8b92bef1138660b78454fae2", "patch": "@@ -1,2 +1,4 @@\n # Library code must include trampoline support.\n LIB2FUNCS_EXTRA = $(srcdir)/config/rs6000/darwin-tramp.asm\n+# Multilib options\n+MULTILIB_MATCHES        = ${MULTILIB_MATCHES_FLOAT}"}, {"sha": "a7076ab295dc32086df723fcb171ee02ddc98f4b", "filename": "gcc/config/t-darwin", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig%2Ft-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig%2Ft-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-darwin?ref=f7a75b82d2228bdd8b92bef1138660b78454fae2", "patch": "@@ -20,3 +20,5 @@ $(T)crt2$(objext): $(srcdir)/config/darwin-crt2.c $(GCC_PASSES) \\\n LIB2ADDEH = $(srcdir)/unwind-dw2.c $(srcdir)/unwind-dw2-fde-darwin.c \\\n   $(srcdir)/unwind-sjlj.c $(srcdir)/unwind-c.c\n LIB2ADDEHDEP = unwind.inc unwind-dw2-fde.h unwind-dw2-fde.c\n+\n+TARGET_LIBGCC2_CFLAGS = -fPIC"}, {"sha": "3241d3fb5ca68515c0a5255c758e040b1e4e1165", "filename": "gcc/config/t-slibgcc-darwin", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig%2Ft-slibgcc-darwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Fconfig%2Ft-slibgcc-darwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-slibgcc-darwin?ref=f7a75b82d2228bdd8b92bef1138660b78454fae2", "patch": "@@ -0,0 +1,30 @@\n+# Build a shared libgcc library with the darwin linker.\n+SHLIB_MINOR = 1\n+SHLIB_REVISION = 0\n+SHLIB_VERSTRING = -compatibility_version $(SHLIB_MINOR) -current_version $(SHLIB_MINOR).$(SHLIB_REVISION)\n+SHLIB_EXT = .dylib\n+SHLIB_SOLINK = @shlib_base_name@.dylib\n+SHLIB_SONAME = @shlib_so_name@.$(SHLIB_MINOR).$(SHLIB_REVISION).dylib\n+SHLIB_NAME = @shlib_dir@@shlib_so_name@.$(SHLIB_MINOR).$(SHLIB_REVISION).dylib\n+SHLIB_MAP = @shlib_map_file@\n+SHLIB_OBJS = @shlib_objs@\n+SHLIB_SLIBDIR_QUAL = @shlib_slibdir_qual@\n+\n+SHLIB_LINK = $(GCC_FOR_TARGET) $(LIBGCC2_CFLAGS) -dynamiclib -nodefaultlibs \\\n+\t-Wl,-install_name,$(SHLIB_SONAME) \\\n+\t-Wl,-flat_namespace -o $(SHLIB_NAME) \\\n+\t$(SHLIB_VERSTRING) \\\n+\t@multilib_flags@ $(SHLIB_OBJS) -lc && \\\n+\trm -f $(SHLIB_SOLINK) && \\\n+\t$(LN_S) $(SHLIB_NAME) $(SHLIB_SOLINK)\n+# $(slibdir) double quoted to protect it from expansion while building\n+# libgcc.mk.  We want this delayed until actual install time.\n+SHLIB_INSTALL = \\\n+\t$$(SHELL) $$(srcdir)/mkinstalldirs $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL); \\\n+\t$(INSTALL_DATA) $(SHLIB_NAME) \\\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SONAME); \\\n+\trm -f $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK); \\\n+\t$(LN_S) $(SHLIB_SONAME) \\\n+\t  $$(DESTDIR)$$(slibdir)$(SHLIB_SLIBDIR_QUAL)/$(SHLIB_SOLINK)\n+SHLIB_MKMAP = $(srcdir)/mkmap-symver.awk\n+SHLIB_MAPFILES = $(srcdir)/libgcc-darwin.ver"}, {"sha": "5aba34efbdccacf1e76913a7b6b792dda2af76c3", "filename": "gcc/libgcc-darwin.ver", "status": "added", "additions": 213, "deletions": 0, "changes": 213, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Flibgcc-darwin.ver", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f7a75b82d2228bdd8b92bef1138660b78454fae2/gcc%2Flibgcc-darwin.ver", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc-darwin.ver?ref=f7a75b82d2228bdd8b92bef1138660b78454fae2", "patch": "@@ -0,0 +1,213 @@\n+GCC_3.0 {\n+  # libgcc1 integer symbols\n+  ___absvsi2\n+  ___addvsi3\n+  ___ashlsi3\n+  ___ashrsi3\n+  ___divsi3\n+  ___lshrsi3\n+  ___modsi3\n+  ___mulsi3\n+  ___mulvsi3\n+  ___negvsi2\n+  ___subvsi3\n+  ___udivsi3\n+  ___umodsi3\n+\n+  # libgcc1 floating point symbols\n+  ___addsf3\n+  ___adddf3\n+  ___addxf3\n+  ___addtf3\n+  ___divsf3\n+  ___divdf3\n+  ___divxf3\n+  ___divtf3\n+  ___eqsf2\n+  ___eqdf2\n+  ___eqxf2\n+  ___eqtf2\n+  ___extenddfxf2\n+  ___extenddftf2\n+  ___extendsfdf2\n+  ___extendsfxf2\n+  ___extendsftf2\n+  ___fixsfsi\n+  ___fixdfsi\n+  ___fixxfsi\n+  ___fixtfsi\n+  ___floatsisf\n+  ___floatsidf\n+  ___floatsixf\n+  ___floatsitf\n+  ___gesf2\n+  ___gedf2\n+  ___gexf2\n+  ___getf2\n+  ___gtsf2\n+  ___gtdf2\n+  ___gtxf2\n+  ___gttf2\n+  ___lesf2\n+  ___ledf2\n+  ___lexf2\n+  ___letf2\n+  ___ltsf2\n+  ___ltdf2\n+  ___ltxf2\n+  ___lttf2\n+  ___mulsf3\n+  ___muldf3\n+  ___mulxf3\n+  ___multf3\n+  ___negsf2\n+  ___negdf2\n+  ___negxf2\n+  ___negtf2\n+  ___nesf2\n+  ___nedf2\n+  ___nexf2\n+  ___netf2\n+  ___subsf3\n+  ___subdf3\n+  ___subxf3\n+  ___subtf3\n+  ___truncdfsf2\n+  ___truncxfsf2\n+  ___trunctfsf2\n+  ___truncxfdf2\n+  ___trunctfdf2\n+\n+  # libgcc2 DImode arithmetic (for 32-bit targets).\n+  ___absvdi2\n+  ___addvdi3\n+  ___ashldi3\n+  ___ashrdi3\n+  ___cmpdi2\n+  ___divdi3\n+  ___ffsdi2\n+  ___fixdfdi\n+  ___fixsfdi\n+  ___fixtfdi\n+  ___fixxfdi\n+  ___fixunsdfdi\n+  ___fixunsdfsi\n+  ___fixunssfsi\n+  ___fixunssfdi\n+  ___fixunstfdi\n+  ___fixunstfsi\n+  ___fixunsxfdi\n+  ___fixunsxfsi\n+  ___floatdidf\n+  ___floatdisf\n+  ___floatdixf\n+  ___floatditf\n+  ___lshrdi3\n+  ___moddi3\n+  ___muldi3\n+  ___mulvdi3\n+  ___negdi2\n+  ___negvdi2\n+  ___subvdi3\n+  ___ucmpdi2\n+  ___udivdi3\n+  ___udivmoddi4\n+  ___umoddi3\n+\n+  # libgcc2 TImode arithmetic (for 64-bit targets).\n+  ___ashlti3\n+  ___ashrti3\n+  ___cmpti2\n+  ___divti3\n+  ___ffsti2\n+  ___fixdfti\n+  ___fixsfti\n+  ___fixtfti\n+  ___fixxfti\n+  ___lshrti3\n+  ___modti3\n+  ___multi3\n+  ___negti2\n+  ___ucmpti2\n+  ___udivmodti4\n+  ___udivti3\n+  ___umodti3\n+  ___fixunsdfti\n+  ___fixunssfti\n+  ___fixunstfti\n+  ___fixunsxfti\n+  ___floattidf\n+  ___floattisf\n+  ___floattixf\n+  ___floattitf\n+\n+  # Used to deal with trampoline initialization on some platforms\n+  ___clear_cache\n+\n+  # EH symbols\n+  __Unwind_DeleteException\n+  __Unwind_Find_FDE\n+  __Unwind_ForcedUnwind\n+  __Unwind_GetGR\n+  __Unwind_GetIP\n+  __Unwind_GetLanguageSpecificData\n+  __Unwind_GetRegionStart\n+  __Unwind_GetTextRelBase\n+  __Unwind_GetDataRelBase\n+  __Unwind_RaiseException\n+  __Unwind_Resume\n+  __Unwind_SetGR\n+  __Unwind_SetIP\n+  ___deregister_frame\n+  ___deregister_frame_info\n+  ___deregister_frame_info_bases\n+  ___register_frame\n+  ___register_frame_info\n+  ___register_frame_info_bases\n+  ___register_frame_info_table\n+  ___register_frame_info_table_bases\n+  ___register_frame_table\n+\n+  # SjLj EH symbols\n+  __Unwind_SjLj_Register\n+  __Unwind_SjLj_Unregister\n+  __Unwind_SjLj_RaiseException\n+  __Unwind_SjLj_ForcedUnwind\n+  __Unwind_SjLj_Resume\n+}\n+\n+%inherit GCC_3.3 GCC_3.0\n+GCC_3.3 {\n+  __Unwind_FindEnclosingFunction\n+  __Unwind_GetCFA\n+  __Unwind_Backtrace\n+  __Unwind_Resume_or_Rethrow\n+  __Unwind_SjLj_Resume_or_Rethrow\n+}\n+\n+%inherit GCC_3.3.1 GCC_3.3\n+GCC_3.3.1 {\n+  __gcc_personality_sj0\n+  __gcc_personality_v0\n+}\n+\n+%inherit GCC_3.3.2 GCC_3.3.1\n+GCC_3.3.2 {\n+}\n+\n+%inherit GCC_3.4 GCC_3.3\n+GCC_3.4 {\n+  # bit scanning and counting built-ins\n+  ___clzsi2\n+  ___clzdi2\n+  ___clzti2\n+  ___ctzsi2\n+  ___ctzdi2\n+  ___ctzti2\n+  ___popcountsi2\n+  ___popcountdi2\n+  ___popcountti2\n+  ___paritysi2\n+  ___paritydi2\n+  ___parityti2\n+}"}]}