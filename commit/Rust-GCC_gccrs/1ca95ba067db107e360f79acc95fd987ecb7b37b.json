{"sha": "1ca95ba067db107e360f79acc95fd987ecb7b37b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWNhOTViYTA2N2RiMTA3ZTM2MGY3OWFjYzk1ZmQ5ODdlY2I3YjM3Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-08-03T21:18:56Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-08-03T21:18:56Z"}, "message": "syscall:  RawSockaddr fix for ppc64, ppc64le\n    \n    The struct RawSockaddr contains a field Data which\n    should be uint8 on ppc64 and ppc64le, but is declared\n    as int8 in gccgo.  This change adds a two new files\n    which contain the structure declaration for\n    RawSockaddr, one with the correct types for for ppc64\n    and ppc64le, and the other for non-ppc64 platforms.\n    \n    Fixes golang/go#11469\n    \n    Reviewed-on: https://go-review.googlesource.com/11946\n\nFrom-SVN: r226533", "tree": {"sha": "91bb0c10eb34456977a82dcf78aec4e8f864cddb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/91bb0c10eb34456977a82dcf78aec4e8f864cddb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1ca95ba067db107e360f79acc95fd987ecb7b37b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ca95ba067db107e360f79acc95fd987ecb7b37b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ca95ba067db107e360f79acc95fd987ecb7b37b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ca95ba067db107e360f79acc95fd987ecb7b37b/comments", "author": null, "committer": null, "parents": [{"sha": "ab977fd881b81c9a03ea709fee8b02fb34cd3897", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab977fd881b81c9a03ea709fee8b02fb34cd3897", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab977fd881b81c9a03ea709fee8b02fb34cd3897"}], "stats": {"total": 51, "additions": 45, "deletions": 6}, "files": [{"sha": "3c9b886cd62d0227095686eb122ca89a2df7ed04", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ca95ba067db107e360f79acc95fd987ecb7b37b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ca95ba067db107e360f79acc95fd987ecb7b37b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=1ca95ba067db107e360f79acc95fd987ecb7b37b", "patch": "@@ -1,4 +1,4 @@\n-7a6089333f4ab10449f9140c4639cfe741abcb25\n+a850225433a66a58613c22185c3b09626f5545eb\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "1676624360da726feb87c6dcade0d2f2bdcb7c1b", "filename": "libgo/Makefile.am", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=1ca95ba067db107e360f79acc95fd987ecb7b37b", "patch": "@@ -1676,7 +1676,17 @@ endif # !LIBGO_IS_LINUX\n # Define socket sizes and types.\n if LIBGO_IS_LINUX\n syscall_socket_file = go/syscall/socket_linux.go epoll.go\n+if LIBGO_IS_PPC64LE\n+syscall_socket_type_file = go/syscall/socket_linux_ppc64x_type.go\n else\n+if LIBGO_IS_PPC64\n+syscall_socket_type_file = go/syscall/socket_linux_ppc64x_type.go\n+else\n+syscall_socket_type_file = go/syscall/socket_linux_type.go\n+endif\n+endif\n+else\n+syscall_socket_type_file =\n if LIBGO_IS_SOLARIS\n syscall_socket_file = go/syscall/socket_solaris.go\n else\n@@ -1762,6 +1772,7 @@ go_base_syscall_files = \\\n \t$(syscall_size_file) \\\n \t$(syscall_socket_file) \\\n \t$(syscall_socket_os_file) \\\n+\t$(syscall_socket_type_file) \\\n \t$(syscall_uname_file) \\\n \t$(syscall_netlink_file) \\\n \t$(syscall_lsf_file) \\"}, {"sha": "7f0ee54c1df79050a793b331457e824b4772eb1b", "filename": "libgo/Makefile.in", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=1ca95ba067db107e360f79acc95fd987ecb7b37b", "patch": "@@ -1848,6 +1848,10 @@ go_unicode_utf8_files = \\\n \n # Define socket sizes and types.\n @LIBGO_IS_LINUX_TRUE@syscall_socket_file = go/syscall/socket_linux.go epoll.go\n+@LIBGO_IS_LINUX_FALSE@syscall_socket_type_file = \n+@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_PPC64LE_FALSE@@LIBGO_IS_PPC64_FALSE@syscall_socket_type_file = go/syscall/socket_linux_type.go\n+@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_PPC64LE_FALSE@@LIBGO_IS_PPC64_TRUE@syscall_socket_type_file = go/syscall/socket_linux_ppc64x_type.go\n+@LIBGO_IS_LINUX_TRUE@@LIBGO_IS_PPC64LE_TRUE@syscall_socket_type_file = go/syscall/socket_linux_ppc64x_type.go\n @LIBGO_IS_SOLARIS_FALSE@syscall_socket_os_file = go/syscall/socket_posix.go\n \n # Define socket functions.\n@@ -1898,6 +1902,7 @@ go_base_syscall_files = \\\n \t$(syscall_size_file) \\\n \t$(syscall_socket_file) \\\n \t$(syscall_socket_os_file) \\\n+\t$(syscall_socket_type_file) \\\n \t$(syscall_uname_file) \\\n \t$(syscall_netlink_file) \\\n \t$(syscall_lsf_file) \\"}, {"sha": "5064e77122167c0b667750c124ccee1da7e50aab", "filename": "libgo/go/syscall/socket_linux.go", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2Fgo%2Fsyscall%2Fsocket_linux.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2Fgo%2Fsyscall%2Fsocket_linux.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fsocket_linux.go?ref=1ca95ba067db107e360f79acc95fd987ecb7b37b", "patch": "@@ -136,11 +136,6 @@ type RawSockaddrNetlink struct {\n \tGroups uint32\n }\n \n-type RawSockaddr struct {\n-\tFamily uint16\n-\tData   [14]int8\n-}\n-\n // BindToDevice binds the socket associated with fd to device.\n func BindToDevice(fd int, device string) (err error) {\n \treturn SetsockoptString(fd, SOL_SOCKET, SO_BINDTODEVICE, device)"}, {"sha": "8a707ce49dad04ee92f20ff6565b1244bfeb3034", "filename": "libgo/go/syscall/socket_linux_ppc64x_type.go", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2Fgo%2Fsyscall%2Fsocket_linux_ppc64x_type.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2Fgo%2Fsyscall%2Fsocket_linux_ppc64x_type.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fsocket_linux_ppc64x_type.go?ref=1ca95ba067db107e360f79acc95fd987ecb7b37b", "patch": "@@ -0,0 +1,14 @@\n+// socket_linux_ppc64x_type.go -- Socket handling specific to ppc64 GNU/Linux.\n+\n+// Copyright 2015 The Go Authors. All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package syscall\n+\n+// Type needed on ppc64le & ppc64\n+\n+type RawSockaddr struct {\n+\tFamily uint16\n+\tData   [14]uint8\n+}"}, {"sha": "45b8c6ec1d0e9f5d9ed3ee6267183b8e12ad7c40", "filename": "libgo/go/syscall/socket_linux_type.go", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2Fgo%2Fsyscall%2Fsocket_linux_type.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1ca95ba067db107e360f79acc95fd987ecb7b37b/libgo%2Fgo%2Fsyscall%2Fsocket_linux_type.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fsyscall%2Fsocket_linux_type.go?ref=1ca95ba067db107e360f79acc95fd987ecb7b37b", "patch": "@@ -0,0 +1,14 @@\n+// socket_linux_type.go -- Socket handling specific to GNU/Linux.\n+\n+// Copyright 2015 The Go Authors. All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package syscall\n+\n+// Type needed if not on ppc64le or ppc64\n+\n+type RawSockaddr struct {\n+\tFamily uint16\n+\tData   [14]int8\n+}"}]}