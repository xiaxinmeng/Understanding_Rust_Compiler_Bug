{"sha": "89f602a7935fc9b2c799f4eec45b803cb792f1ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODlmNjAyYTc5MzVmYzliMmM3OTlmNGVlYzQ1YjgwM2NiNzkyZjFiYQ==", "commit": {"author": {"name": "Mumit Khan", "email": "khan@xraylith.wisc.edu", "date": "1999-03-11T00:32:50Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-03-11T00:32:50Z"}, "message": "pexecute.c (__CYGWIN32__): Rename to\n\n        * pexecute.c (__CYGWIN32__): Rename to\n        (__CYGWIN__): this.\n        * xmalloc.c: Likewise.\n        Changes to support i386-pc-uwin.\n        * configure.in (*-*-uwin*): Workaround for vfork bug.\n        * configure: Regenerate.\n        * pexecute.c (pexecute): Be like standard Unix.\n        (pwait): Likewise.\n        * xmalloc.c (first_break): Define.\n        (xmalloc_set_program_name): Use.\n        (xmalloc): Use.\n\nFrom-SVN: r25694", "tree": {"sha": "9e755a7e7b51b72419d838a49ea0db815d62dc60", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9e755a7e7b51b72419d838a49ea0db815d62dc60"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89f602a7935fc9b2c799f4eec45b803cb792f1ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89f602a7935fc9b2c799f4eec45b803cb792f1ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89f602a7935fc9b2c799f4eec45b803cb792f1ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89f602a7935fc9b2c799f4eec45b803cb792f1ba/comments", "author": null, "committer": null, "parents": [{"sha": "926bb5ed06cdb744acb91754e4590b17e2487741", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/926bb5ed06cdb744acb91754e4590b17e2487741", "html_url": "https://github.com/Rust-GCC/gccrs/commit/926bb5ed06cdb744acb91754e4590b17e2487741"}], "stats": {"total": 153, "additions": 91, "deletions": 62}, "files": [{"sha": "f3234ea478911b2bc4d7c663cb406d7a10080ed9", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=89f602a7935fc9b2c799f4eec45b803cb792f1ba", "patch": "@@ -1,3 +1,18 @@\n+Thu Mar 11 01:22:58 1999  Mumit Khan  <khan@xraylith.wisc.edu>\n+\n+\t* pexecute.c (__CYGWIN32__): Rename to\n+\t(__CYGWIN__): this.\n+\t* xmalloc.c: Likewise.\n+\n+\tChanges to support i386-pc-uwin.\n+\t* configure.in (*-*-uwin*): Workaround for vfork bug.\n+\t* configure: Regenerate.\n+\t* pexecute.c (pexecute): Be like standard Unix.\n+\t(pwait): Likewise.\n+\t* xmalloc.c (first_break): Define.\n+\t(xmalloc_set_program_name): Use.\n+\t(xmalloc): Use.\n+\n Thu Mar 11 01:07:55 1999  Franz Sirl <Franz.Sirl-kernel@lauterbach.com>\n \n \t* config.table: Cleanup and add mh-*pic handling for alpha, arm, powerpc"}, {"sha": "98407e7946cb236f5c149643d7aaea538f9a48d3", "filename": "libiberty/configure", "status": "modified", "additions": 52, "deletions": 45, "changes": 97, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure?ref=89f602a7935fc9b2c799f4eec45b803cb792f1ba", "patch": "@@ -1656,12 +1656,19 @@ EOF\n \n     ;;\n \n+  *-*-uwin*)\n+    # Under some versions of uwin, vfork is notoriously buggy and the test \n+    # can hang configure; on other versions, vfork exists just as a stub.\n+    # FIXME: This should be removed once vfork in uwin's runtime is fixed.\n+    ac_cv_func_vfork_works=no\n+    ;;\n+\n   esac\n \n   # We haven't set the list of objects yet.  Use the standard autoconf\n   # tests.  This will only work if the compiler works.\n   echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1665: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1672: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1672,12 +1679,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 1676 \"configure\"\n+#line 1683 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:1681: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1688: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1703,19 +1710,19 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1707: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1714: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n   for ac_func in $funcs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1714: checking for $ac_func\" >&5\n+echo \"configure:1721: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1719 \"configure\"\n+#line 1726 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1738,7 +1745,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1742: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1749: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1767,19 +1774,19 @@ done\n   # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:1771: checking for working alloca.h\" >&5\n+echo \"configure:1778: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1776 \"configure\"\n+#line 1783 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:1783: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1790: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -1800,12 +1807,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:1804: checking for alloca\" >&5\n+echo \"configure:1811: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1809 \"configure\"\n+#line 1816 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -1833,7 +1840,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:1837: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1844: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -1865,12 +1872,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:1869: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:1876: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1874 \"configure\"\n+#line 1881 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -1895,12 +1902,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:1899: checking for $ac_func\" >&5\n+echo \"configure:1906: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1904 \"configure\"\n+#line 1911 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -1923,7 +1930,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:1927: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1934: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -1950,15 +1957,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:1954: checking stack direction for C alloca\" >&5\n+echo \"configure:1961: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 1962 \"configure\"\n+#line 1969 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -1977,7 +1984,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:1981: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:1988: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -1999,20 +2006,20 @@ EOF\n fi\n \n   echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:2003: checking for ANSI C header files\" >&5\n+echo \"configure:2010: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2008 \"configure\"\n+#line 2015 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2016: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2023: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2029,7 +2036,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2033 \"configure\"\n+#line 2040 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -2047,7 +2054,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 2051 \"configure\"\n+#line 2058 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -2068,7 +2075,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2072 \"configure\"\n+#line 2079 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -2079,7 +2086,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:2083: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2090: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -2103,12 +2110,12 @@ EOF\n fi\n \n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:2107: checking for pid_t\" >&5\n+echo \"configure:2114: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2112 \"configure\"\n+#line 2119 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -2137,17 +2144,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2141: checking for vfork.h\" >&5\n+echo \"configure:2148: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2146 \"configure\"\n+#line 2153 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:2151: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:2158: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -2172,18 +2179,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2176: checking for working vfork\" >&5\n+echo \"configure:2183: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:2182: checking for vfork\" >&5\n+echo \"configure:2189: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2187 \"configure\"\n+#line 2194 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -2206,7 +2213,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2210: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2217: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -2228,7 +2235,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2232 \"configure\"\n+#line 2239 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -2323,7 +2330,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:2327: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:2334: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -2350,19 +2357,19 @@ fi\n   fi\n   for v in $vars; do\n     echo $ac_n \"checking for $v\"\"... $ac_c\" 1>&6\n-echo \"configure:2354: checking for $v\" >&5\n+echo \"configure:2361: checking for $v\" >&5\n     if eval \"test \\\"`echo '$''{'libiberty_cv_var_$v'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2359 \"configure\"\n+#line 2366 \"configure\"\n #include \"confdefs.h\"\n int *p;\n int main() {\n extern int $v; p = &$v;\n ; return 0; }\n EOF\n-if { (eval echo configure:2366: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2373: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"libiberty_cv_var_$v=yes\"\n else\n@@ -2388,12 +2395,12 @@ EOF\n   for ac_func in $checkfuncs\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:2392: checking for $ac_func\" >&5\n+echo \"configure:2399: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 2397 \"configure\"\n+#line 2404 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -2416,7 +2423,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2420: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2427: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else"}, {"sha": "f02f03561e58443443e0deed4df5e2bfd6b8ca4a", "filename": "libiberty/configure.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fconfigure.in?ref=89f602a7935fc9b2c799f4eec45b803cb792f1ba", "patch": "@@ -276,6 +276,13 @@ if test -z \"${setobjs}\"; then\n     AC_DEFINE(HAVE_SYS_ERRLIST)\n     ;;\n \n+  *-*-uwin*)\n+    # Under some versions of uwin, vfork is notoriously buggy and the test \n+    # can hang configure; on other versions, vfork exists just as a stub.\n+    # FIXME: This should be removed once vfork in uwin's runtime is fixed.\n+    ac_cv_func_vfork_works=no\n+    ;;\n+\n   esac\n \n   # We haven't set the list of objects yet.  Use the standard autoconf"}, {"sha": "49d04a8840753b5b7d7b08655bf26b4f1568f386", "filename": "libiberty/pexecute.c", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fpexecute.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fpexecute.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fpexecute.c?ref=89f602a7935fc9b2c799f4eec45b803cb792f1ba", "patch": "@@ -230,18 +230,18 @@ pwait (pid, status, flags)\n \n #endif /* MSDOS */\n \n-#if defined (_WIN32)\n+#if defined (_WIN32) && ! defined (__UWIN__)\n \n #include <process.h>\n \n-#ifdef __CYGWIN32__\n+#ifdef __CYGWIN__\n \n #define fix_argv(argvec) (argvec)\n \n extern int _spawnv ();\n extern int _spawnvp ();\n \n-#else /* ! __CYGWIN32__ */\n+#else /* ! __CYGWIN__ */\n \n /* This is a kludge to get around the Microsoft C spawn functions' propensity\n    to remove the outermost set of double quotes from all arguments.  */\n@@ -279,7 +279,7 @@ fix_argv (argvec)\n \n   return (const char * const *) argvec;\n }\n-#endif /* __CYGWIN32__ */\n+#endif /* __CYGWIN__ */\n \n #include <io.h>\n #include <fcntl.h>\n@@ -396,7 +396,7 @@ pwait (pid, status, flags)\n      int *status;\n      int flags;\n {\n-#ifdef __CYGWIN32__\n+#ifdef __CYGWIN__\n   return wait (status);\n #else\n   int termstat;\n@@ -416,10 +416,10 @@ pwait (pid, status, flags)\n     *status = (((termstat) & 0xff) << 8);\n \n   return pid;\n-#endif /* __CYGWIN32__ */\n+#endif /* __CYGWIN__ */\n }\n \n-#endif /* _WIN32 */\n+#endif /* _WIN32 && ! __UWIN__ */\n \n #ifdef OS2\n \n@@ -602,7 +602,7 @@ pfinish ()\n \n /* include for Unix-like environments but not for Dos-like environments */\n #if ! defined (__MSDOS__) && ! defined (OS2) && ! defined (MPW) \\\n-    && ! defined (_WIN32)\n+    && ! (defined (_WIN32) && ! defined (__UWIN__))\n \n extern int execv ();\n extern int execvp ();\n@@ -731,4 +731,4 @@ pwait (pid, status, flags)\n   return pid;\n }\n \n-#endif /* ! __MSDOS__ && ! OS2 && ! MPW && ! _WIN32 */\n+#endif /* ! __MSDOS__ && ! OS2 && ! MPW && ! (_WIN32 && ! __UWIN__) */"}, {"sha": "1a12511cf9f08d2e1de996ac480397f22d04d25c", "filename": "libiberty/xmalloc.c", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fxmalloc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89f602a7935fc9b2c799f4eec45b803cb792f1ba/libiberty%2Fxmalloc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fxmalloc.c?ref=89f602a7935fc9b2c799f4eec45b803cb792f1ba", "patch": "@@ -43,22 +43,22 @@ PTR sbrk PARAMS ((ptrdiff_t));\n /* The program name if set.  */\n static const char *name = \"\";\n \n-#if ! defined (_WIN32) || defined (__CYGWIN32__)\n+#if ! defined (_WIN32) || defined (__CYGWIN__) || defined (__UWIN__)\n /* The initial sbrk, set when the program name is set. Not used for win32\n    ports other than cygwin32.  */\n static char *first_break = NULL;\n-#endif\n+#endif /* ! _WIN32 || __CYGWIN __ || __UWIN__ */\n \n void\n xmalloc_set_program_name (s)\n      const char *s;\n {\n   name = s;\n-#if ! defined (_WIN32) || defined (__CYGWIN32__)\n+#if ! defined (_WIN32) || defined (__CYGWIN__) || defined (__UWIN__)\n   /* Win32 ports other than cygwin32 don't have brk() */\n   if (first_break == NULL)\n     first_break = (char *) sbrk (0);\n-#endif /* ! _WIN32 || __CYGWIN32 __ */\n+#endif /* ! _WIN32 || __CYGWIN __ || __UWIN__ */\n }\n \n PTR\n@@ -72,7 +72,7 @@ xmalloc (size)\n   newmem = malloc (size);\n   if (!newmem)\n     {\n-#if ! defined (_WIN32) || defined (__CYGWIN32__)\n+#if ! defined (_WIN32) || defined (__CYGWIN__) || defined (__UWIN__)\n       extern char **environ;\n       size_t allocated;\n \n@@ -89,7 +89,7 @@ xmalloc (size)\n               \"\\n%s%sCan not allocate %lu bytes\\n\",\n               name, *name ? \": \" : \"\",\n               (unsigned long) size);\n-#endif /* ! _WIN32 || __CYGWIN32 __ */\n+#endif /* ! _WIN32 || __CYGWIN __ || __UWIN__ */\n       xexit (1);\n     }\n   return (newmem);\n@@ -107,7 +107,7 @@ xcalloc (nelem, elsize)\n   newmem = calloc (nelem, elsize);\n   if (!newmem)\n     {\n-#if ! defined (_WIN32) || defined (__CYGWIN32__)\n+#if ! defined (_WIN32) || defined (__CYGWIN__)\n       extern char **environ;\n       size_t allocated;\n \n@@ -124,7 +124,7 @@ xcalloc (nelem, elsize)\n               \"\\n%s%sCan not allocate %lu bytes\\n\",\n               name, *name ? \": \" : \"\",\n               (unsigned long) (nelem * elsize));\n-#endif /* ! _WIN32 || __CYGWIN32 __ */\n+#endif /* ! _WIN32 || __CYGWIN __ */\n       xexit (1);\n     }\n   return (newmem);"}]}