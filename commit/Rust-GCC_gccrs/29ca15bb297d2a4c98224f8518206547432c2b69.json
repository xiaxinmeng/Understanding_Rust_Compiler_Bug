{"sha": "29ca15bb297d2a4c98224f8518206547432c2b69", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjljYTE1YmIyOTdkMmE0Yzk4MjI0Zjg1MTgyMDY1NDc0MzJjMmI2OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-08-16T22:49:23Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-08-16T22:49:23Z"}, "message": "compiler: print runtime.hex in hex\n    \n    The gc compiler recognizes the type runtime.hex and prints values\n    in this type as hex. Do the same here. This makes debugging\n    runtime crashes slightly better.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/190597\n\nFrom-SVN: r274591", "tree": {"sha": "e850eb5dd1c972df43c32c547f86e9e0e33d9fff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e850eb5dd1c972df43c32c547f86e9e0e33d9fff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/29ca15bb297d2a4c98224f8518206547432c2b69", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29ca15bb297d2a4c98224f8518206547432c2b69", "html_url": "https://github.com/Rust-GCC/gccrs/commit/29ca15bb297d2a4c98224f8518206547432c2b69", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/29ca15bb297d2a4c98224f8518206547432c2b69/comments", "author": null, "committer": null, "parents": [{"sha": "1ccd703591b3023c434f55efb6eb4ac7b5019ecd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1ccd703591b3023c434f55efb6eb4ac7b5019ecd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1ccd703591b3023c434f55efb6eb4ac7b5019ecd"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "48b42496965bb9028035ba2c79353e5d36fb3a55", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29ca15bb297d2a4c98224f8518206547432c2b69/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29ca15bb297d2a4c98224f8518206547432c2b69/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=29ca15bb297d2a4c98224f8518206547432c2b69", "patch": "@@ -1,4 +1,4 @@\n-480477ca64c3001b9c7e92ef8b978dc92a5912d2\n+0f6d673d5b1a3474c3424cb6994ae8ff9baed255\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "995a18c71b84656e2975fd9997a8270aa8a5c839", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29ca15bb297d2a4c98224f8518206547432c2b69/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29ca15bb297d2a4c98224f8518206547432c2b69/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=29ca15bb297d2a4c98224f8518206547432c2b69", "patch": "@@ -10294,7 +10294,13 @@ Builtin_call_expression::do_get_backend(Translate_context* context)\n \t\t  {\n \t\t    Type* itype = Type::lookup_integer_type(\"uint64\");\n \t\t    arg = Expression::make_cast(itype, arg, location);\n-                    code = Runtime::PRINTUINT;\n+                    if (gogo->compiling_runtime()\n+                        && type->named_type() != NULL\n+                        && gogo->unpack_hidden_name(type->named_type()->name())\n+                           == \"hex\")\n+                      code = Runtime::PRINTHEX;\n+                    else\n+                      code = Runtime::PRINTUINT;\n \t\t  }\n \t\telse if (type->integer_type() != NULL)\n \t\t  {"}, {"sha": "dfd6ebd5e0ae37fcccb2e80bde6202c563515635", "filename": "gcc/go/gofrontend/runtime.def", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/29ca15bb297d2a4c98224f8518206547432c2b69/gcc%2Fgo%2Fgofrontend%2Fruntime.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/29ca15bb297d2a4c98224f8518206547432c2b69/gcc%2Fgo%2Fgofrontend%2Fruntime.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fruntime.def?ref=29ca15bb297d2a4c98224f8518206547432c2b69", "patch": "@@ -384,6 +384,9 @@ DEF_GO_RUNTIME(PRINTSTRING, \"runtime.printstring\", P1(STRING), R0())\n // Print a uint64 (for print/println).\n DEF_GO_RUNTIME(PRINTUINT, \"runtime.printuint\", P1(UINT64), R0())\n \n+// Print a uint64 in hex (for print/println, used for runtime.hex type).\n+DEF_GO_RUNTIME(PRINTHEX, \"runtime.printhex\", P1(UINT64), R0())\n+\n // Print a int64 (for print/println).\n DEF_GO_RUNTIME(PRINTINT, \"runtime.printint\", P1(INT64), R0())\n "}]}