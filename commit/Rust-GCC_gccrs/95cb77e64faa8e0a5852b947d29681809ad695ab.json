{"sha": "95cb77e64faa8e0a5852b947d29681809ad695ab", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTVjYjc3ZTY0ZmFhOGUwYTU4NTJiOTQ3ZDI5NjgxODA5YWQ2OTVhYg==", "commit": {"author": {"name": "Wolfgang Gellerich", "email": "gellerich@de.ibm.com", "date": "2006-09-13T12:36:26Z"}, "committer": {"name": "Andreas Krebbel", "email": "krebbel@gcc.gnu.org", "date": "2006-09-13T12:36:26Z"}, "message": "trans-expr.c (gfc_add_interface_mapping): For characters, dereference pointer if necessary and then perform the cast.\n\n2006-09-13  Wolfgang Gellerich  <gellerich@de.ibm.com>\n\n\t* trans-expr.c (gfc_add_interface_mapping): For characters, dereference\n\tpointer if necessary and then perform the cast.\n\nFrom-SVN: r116921", "tree": {"sha": "b2d3bd0f0c0d404c8b10af894fc93d03a1bafc08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b2d3bd0f0c0d404c8b10af894fc93d03a1bafc08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/95cb77e64faa8e0a5852b947d29681809ad695ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95cb77e64faa8e0a5852b947d29681809ad695ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95cb77e64faa8e0a5852b947d29681809ad695ab", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95cb77e64faa8e0a5852b947d29681809ad695ab/comments", "author": null, "committer": null, "parents": [{"sha": "fcc42bcad4fac328cb9696186c30012e2454c3e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcc42bcad4fac328cb9696186c30012e2454c3e2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcc42bcad4fac328cb9696186c30012e2454c3e2"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "2e88fbf8b3e565229057917b0a2b120494b4453e", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95cb77e64faa8e0a5852b947d29681809ad695ab/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95cb77e64faa8e0a5852b947d29681809ad695ab/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=95cb77e64faa8e0a5852b947d29681809ad695ab", "patch": "@@ -1,3 +1,8 @@\n+2006-09-13  Wolfgang Gellerich  <gellerich@de.ibm.com>\n+\n+\t* trans-expr.c (gfc_add_interface_mapping): For characters, dereference\n+\tpointer if necessary and then perform the cast.\n+\n 2006-09-11  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \t* intrinsic.c: Update Copyright date."}, {"sha": "e477f9c061233d8a473401b1ac5eb01c947f8618", "filename": "gcc/fortran/trans-expr.c", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95cb77e64faa8e0a5852b947d29681809ad695ab/gcc%2Ffortran%2Ftrans-expr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95cb77e64faa8e0a5852b947d29681809ad695ab/gcc%2Ffortran%2Ftrans-expr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Ftrans-expr.c?ref=95cb77e64faa8e0a5852b947d29681809ad695ab", "patch": "@@ -1386,11 +1386,10 @@ gfc_add_interface_mapping (gfc_interface_mapping * mapping,\n       tmp = gfc_get_character_type_len (sym->ts.kind, NULL);\n       tmp = build_pointer_type (tmp);\n       if (sym->attr.pointer)\n-\ttmp = build_pointer_type (tmp);\n-\n-      value = fold_convert (tmp, se->expr);\n-      if (sym->attr.pointer)\n-\tvalue = build_fold_indirect_ref (value);\n+        value = build_fold_indirect_ref (se->expr);\n+      else\n+        value = se->expr;\n+      value = fold_convert (tmp, value);\n     }\n \n   /* If the argument is a scalar, a pointer to an array or an allocatable,"}]}