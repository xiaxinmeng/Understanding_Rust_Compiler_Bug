{"sha": "dfbfb6301cf57551b13e2db2c7eabc32b67c30ba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGZiZmI2MzAxY2Y1NzU1MWIxM2UyZGIyYzdlYWJjMzJiNjdjMzBiYQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-04-14T00:43:32Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2008-04-14T00:43:32Z"}, "message": "re PR fortran/35882 (Miscounted continuation lines when interspersed with data)\n\n2008-04-13  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\t    Tobias Burnus  <burnus@net-b.de>\n\n\tPR fortran/35882\n\t* options.c (gfc_init_options): Set the default maximum continuation\n\tlines to 255 for both free and fixed form source for warnings.\n\t(gfc_handle_option): Set -std=f95 fixed form max continuations to 19 and\n\tthe -std=f95 free form max continuations to 39 for warnings.\n\t* scanner.c (gfc_next_char_literal): Adjust the current_line number only\n\tif it is less than the current locus.\n\nCo-Authored-By: Tobias Burnus <burnus@net-b.de>\n\nFrom-SVN: r134251", "tree": {"sha": "2db815be26d6bb01b303596a05c9f1e2c07423c3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2db815be26d6bb01b303596a05c9f1e2c07423c3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba/comments", "author": null, "committer": null, "parents": [{"sha": "e7d95f6fdaf08bdffbf63230063ad1fba98c071c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7d95f6fdaf08bdffbf63230063ad1fba98c071c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7d95f6fdaf08bdffbf63230063ad1fba98c071c"}], "stats": {"total": 24, "additions": 17, "deletions": 7}, "files": [{"sha": "a282623da15b7a1abe08326e47d18e68278408cd", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=dfbfb6301cf57551b13e2db2c7eabc32b67c30ba", "patch": "@@ -1,3 +1,14 @@\n+2008-04-13  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\t    Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/35882\n+\t* options.c (gfc_init_options): Set the default maximum continuation\n+\tlines to 255 for both free and fixed form source for warnings.\n+\t(gfc_handle_option): Set -std=f95 fixed form max continuations to 19 and\n+\tthe -std=f95 free form max continuations to 39 for warnings.\n+\t* scanner.c (gfc_next_char_literal): Adjust the current_line number only\n+\tif it is less than the current locus.\n+\n 2008-04-07  Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n \n \tPR fortran/25829 28655"}, {"sha": "06a462205b411c1a9094e8d0f2d8de4b6e228a0f", "filename": "gcc/fortran/options.c", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba/gcc%2Ffortran%2Foptions.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba/gcc%2Ffortran%2Foptions.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Foptions.c?ref=dfbfb6301cf57551b13e2db2c7eabc32b67c30ba", "patch": "@@ -58,8 +58,8 @@ gfc_init_options (unsigned int argc ATTRIBUTE_UNUSED,\n   gfc_option.source_form = FORM_UNKNOWN;\n   gfc_option.fixed_line_length = 72;\n   gfc_option.free_line_length = 132;\n-  gfc_option.max_continue_fixed = 19;\n-  gfc_option.max_continue_free = 39;\n+  gfc_option.max_continue_fixed = 255;\n+  gfc_option.max_continue_free = 255;\n   gfc_option.max_identifier_length = GFC_MAX_SYMBOL_LEN;\n   gfc_option.max_subrecord_length = 0;\n   gfc_option.convert = GFC_CONVERT_NATIVE;\n@@ -733,6 +733,8 @@ gfc_handle_option (size_t scode, const char *arg, int value)\n     case OPT_std_f95:\n       gfc_option.allow_std = GFC_STD_F95_OBS | GFC_STD_F95 | GFC_STD_F77;\n       gfc_option.warn_std = GFC_STD_F95_OBS;\n+      gfc_option.max_continue_fixed = 19;\n+      gfc_option.max_continue_free = 39;\n       gfc_option.max_identifier_length = 31;\n       gfc_option.warn_ampersand = 1;\n       gfc_option.warn_tabs = 0;\n@@ -742,8 +744,6 @@ gfc_handle_option (size_t scode, const char *arg, int value)\n       gfc_option.allow_std = GFC_STD_F95_OBS | GFC_STD_F77 \n \t| GFC_STD_F2003 | GFC_STD_F95;\n       gfc_option.warn_std = GFC_STD_F95_OBS;\n-      gfc_option.max_continue_fixed = 255;\n-      gfc_option.max_continue_free = 255;\n       gfc_option.max_identifier_length = 63;\n       gfc_option.warn_ampersand = 1;\n       gfc_option.warn_tabs = 0;\n@@ -753,8 +753,6 @@ gfc_handle_option (size_t scode, const char *arg, int value)\n       gfc_option.allow_std = GFC_STD_F95_OBS | GFC_STD_F77 \n \t| GFC_STD_F2003 | GFC_STD_F95 | GFC_STD_F2008;\n       gfc_option.warn_std = GFC_STD_F95_OBS;\n-      gfc_option.max_continue_fixed = 255;\n-      gfc_option.max_continue_free = 255;\n       gfc_option.max_identifier_length = 63;\n       gfc_option.warn_ampersand = 1;\n       gfc_option.warn_tabs = 0;"}, {"sha": "dcdac64e725b5ecf86aefb7ef9460c3652435107", "filename": "gcc/fortran/scanner.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba/gcc%2Ffortran%2Fscanner.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dfbfb6301cf57551b13e2db2c7eabc32b67c30ba/gcc%2Ffortran%2Fscanner.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fscanner.c?ref=dfbfb6301cf57551b13e2db2c7eabc32b67c30ba", "patch": "@@ -821,7 +821,8 @@ gfc_next_char_literal (int in_string)\n \t\t\t     \"statement at %C\", gfc_option.max_continue_free);\n \t    }\n \t}\n-      continue_line = gfc_linebuf_linenum (gfc_current_locus.lb);\n+      if (continue_line < gfc_linebuf_linenum (gfc_current_locus.lb))\n+\tcontinue_line = gfc_linebuf_linenum (gfc_current_locus.lb);\n \n       /* Now find where it continues. First eat any comment lines.  */\n       openmp_cond_flag = skip_free_comments ();"}]}