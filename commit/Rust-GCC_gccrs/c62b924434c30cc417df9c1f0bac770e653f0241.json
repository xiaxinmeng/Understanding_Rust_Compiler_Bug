{"sha": "c62b924434c30cc417df9c1f0bac770e653f0241", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzYyYjkyNDQzNGMzMGNjNDE3ZGY5YzFmMGJhYzc3MGU2NTNmMDI0MQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2012-10-04T15:19:34Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2012-10-04T15:19:34Z"}, "message": "re PR c++/54323 (Friend function declaration not correctly identified with CRTP + enable_if)\n\n2012-10-04  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/54323\n\t* g++.dg/cpp0x/pr54323.C: New.\n\nFrom-SVN: r192083", "tree": {"sha": "dbee5d28d74dff232862a91feae008292735f617", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dbee5d28d74dff232862a91feae008292735f617"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c62b924434c30cc417df9c1f0bac770e653f0241", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c62b924434c30cc417df9c1f0bac770e653f0241", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c62b924434c30cc417df9c1f0bac770e653f0241", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c62b924434c30cc417df9c1f0bac770e653f0241/comments", "author": null, "committer": null, "parents": [{"sha": "244e2d9cd325af32ef126c0d59e8e75650f5654a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/244e2d9cd325af32ef126c0d59e8e75650f5654a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/244e2d9cd325af32ef126c0d59e8e75650f5654a"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "306d277187a1fdeb4f2fd8f445fed911f98345ff", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c62b924434c30cc417df9c1f0bac770e653f0241/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c62b924434c30cc417df9c1f0bac770e653f0241/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c62b924434c30cc417df9c1f0bac770e653f0241", "patch": "@@ -1,3 +1,8 @@\n+2012-10-04  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/54323\n+\t* g++.dg/cpp0x/pr54323.C: New.\n+\n 2012-10-04  Richard Guenther  <rguenther@suse.de>\n \n \tPR middle-end/54735"}, {"sha": "71b6c7192df79b29d4f1581450987da5e2b5cd12", "filename": "gcc/testsuite/g++.dg/cpp0x/pr54323.C", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c62b924434c30cc417df9c1f0bac770e653f0241/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr54323.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c62b924434c30cc417df9c1f0bac770e653f0241/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr54323.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Fpr54323.C?ref=c62b924434c30cc417df9c1f0bac770e653f0241", "patch": "@@ -0,0 +1,37 @@\n+// PR c++/54323\n+// { dg-do compile { target c++11 } }\n+\n+template<bool, typename T = void>\n+struct enable_if { };\n+\n+template<typename T>\n+struct enable_if<true, T>\n+{ typedef T type; };\n+\n+template<template<typename> class CRTP, typename T>\n+class Base\n+{\n+public:\n+  template<template<typename> class CRTP0, typename T0, class>\n+  friend int func(const Base<CRTP0, T0>& rhs);\n+\n+protected:\n+  int n;\n+};\n+\n+template<template<typename> class CRTP0, typename T0,\n+\t class = typename enable_if<true>::type>\n+int func(const Base<CRTP0, T0>& rhs)\n+{\n+  return rhs.n;\n+}\n+\n+template<typename T>\n+class Derived : public Base<Derived, T> {};\n+\n+int main()\n+{\n+  Derived<int> x;\n+  func(x);\n+  return 0;\n+}"}]}