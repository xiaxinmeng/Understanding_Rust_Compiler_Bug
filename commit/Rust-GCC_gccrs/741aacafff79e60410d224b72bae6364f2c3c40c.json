{"sha": "741aacafff79e60410d224b72bae6364f2c3c40c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzQxYWFjYWZmZjc5ZTYwNDEwZDIyNGI3MmJhZTYzNjRmMmMzYzQwYw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2012-11-17T12:09:58Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2012-11-17T12:09:58Z"}, "message": "re PR libstdc++/55363 (tuple_size is not a class template)\n\n2012-11-17  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR libstdc++/55363\n\t* include/std/array (tuple_size, tuple_element): Move out\n\tNAMESPACE_CONTAINER.\n\t* testsuite/23_containers/array/tuple_interface/get_neg.cc: Adjust\n\tdg-error line numbers.\n\t* testsuite/23_containers/array/tuple_interface/tuple_element_neg.cc:\n\tLikewise.\n\nFrom-SVN: r193584", "tree": {"sha": "7cc8c0562fe9d7735677346600fbc8cc7c4d0b05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7cc8c0562fe9d7735677346600fbc8cc7c4d0b05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/741aacafff79e60410d224b72bae6364f2c3c40c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/741aacafff79e60410d224b72bae6364f2c3c40c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/741aacafff79e60410d224b72bae6364f2c3c40c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/741aacafff79e60410d224b72bae6364f2c3c40c/comments", "author": null, "committer": null, "parents": [{"sha": "566fb011d11f447798bf815f2967d7e33fc3a197", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/566fb011d11f447798bf815f2967d7e33fc3a197", "html_url": "https://github.com/Rust-GCC/gccrs/commit/566fb011d11f447798bf815f2967d7e33fc3a197"}], "stats": {"total": 67, "additions": 42, "deletions": 25}, "files": [{"sha": "a2933c52fe4858671ed61387b74ac234b0b6113a", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=741aacafff79e60410d224b72bae6364f2c3c40c", "patch": "@@ -1,3 +1,13 @@\n+2012-11-17  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR libstdc++/55363\n+\t* include/std/array (tuple_size, tuple_element): Move out\n+\tNAMESPACE_CONTAINER.\n+\t* testsuite/23_containers/array/tuple_interface/get_neg.cc: Adjust\n+\tdg-error line numbers.\n+\t* testsuite/23_containers/array/tuple_interface/tuple_element_neg.cc:\n+\tLikewise.\n+\n 2012-11-16  Fran\u00e7ois Dumont  <fdumont@gcc.gnu.org>\n \n \t* include/bits/hashtable_policy.h (_Prime_rehash_policy): Remove"}, {"sha": "a4ecf5a547ca90e6370311de01d19bf2b928b006", "filename": "libstdc++-v3/include/std/array", "status": "modified", "additions": 28, "deletions": 21, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fstd%2Farray?ref=741aacafff79e60410d224b72bae6364f2c3c40c", "patch": "@@ -263,27 +263,6 @@ _GLIBCXX_BEGIN_NAMESPACE_CONTAINER\n     noexcept(noexcept(__one.swap(__two)))\n     { __one.swap(__two); }\n \n-  // Tuple interface to class template array.\n-\n-  /// tuple_size\n-  template<typename _Tp> \n-    class tuple_size;\n-\n-  template<typename _Tp, std::size_t _Nm>\n-    struct tuple_size<array<_Tp, _Nm>>\n-    : public integral_constant<std::size_t, _Nm> { };\n-\n-  /// tuple_element\n-  template<std::size_t _Int, typename _Tp>\n-    class tuple_element;\n-\n-  template<std::size_t _Int, typename _Tp, std::size_t _Nm>\n-    struct tuple_element<_Int, array<_Tp, _Nm>>\n-    {\n-      static_assert(_Int < _Nm, \"index is out of bounds\");\n-      typedef _Tp type;\n-    };\n-\n   template<std::size_t _Int, typename _Tp, std::size_t _Nm>\n     constexpr _Tp&\n     get(array<_Tp, _Nm>& __arr) noexcept\n@@ -313,6 +292,34 @@ _GLIBCXX_BEGIN_NAMESPACE_CONTAINER\n _GLIBCXX_END_NAMESPACE_CONTAINER\n } // namespace std\n \n+namespace std _GLIBCXX_VISIBILITY(default)\n+{\n+_GLIBCXX_BEGIN_NAMESPACE_VERSION\n+\n+  // Tuple interface to class template array.\n+\n+  /// tuple_size\n+  template<typename _Tp> \n+    class tuple_size;\n+\n+  template<typename _Tp, std::size_t _Nm>\n+    struct tuple_size<_GLIBCXX_STD_C::array<_Tp, _Nm>>\n+    : public integral_constant<std::size_t, _Nm> { };\n+\n+  /// tuple_element\n+  template<std::size_t _Int, typename _Tp>\n+    class tuple_element;\n+\n+  template<std::size_t _Int, typename _Tp, std::size_t _Nm>\n+    struct tuple_element<_Int, _GLIBCXX_STD_C::array<_Tp, _Nm>>\n+    {\n+      static_assert(_Int < _Nm, \"index is out of bounds\");\n+      typedef _Tp type;\n+    };\n+\n+_GLIBCXX_END_NAMESPACE_VERSION\n+} // namespace std\n+\n #ifdef _GLIBCXX_DEBUG\n # include <debug/array>\n #endif"}, {"sha": "5c39534d91290b50bb1b8c5839a32a39481b9fdb", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/get_neg.cc", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Fget_neg.cc?ref=741aacafff79e60410d224b72bae6364f2c3c40c", "patch": "@@ -28,6 +28,6 @@ int n1 = std::get<1>(a);\n int n2 = std::get<1>(std::move(a));\n int n3 = std::get<1>(ca);\n \n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 291 }\n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 300 }\n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 308 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 270 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 279 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 287 }"}, {"sha": "91fc328c6d8f21a6e0f5e2b19ac0b9b6f632beb2", "filename": "libstdc++-v3/testsuite/23_containers/array/tuple_interface/tuple_element_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/741aacafff79e60410d224b72bae6364f2c3c40c/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Farray%2Ftuple_interface%2Ftuple_element_neg.cc?ref=741aacafff79e60410d224b72bae6364f2c3c40c", "patch": "@@ -23,4 +23,4 @@\n \n typedef std::tuple_element<1, std::array<int, 1>>::type type;\n \n-// { dg-error \"static assertion failed\" \"\" { target *-*-* } 283 }\n+// { dg-error \"static assertion failed\" \"\" { target *-*-* } 316 }"}]}