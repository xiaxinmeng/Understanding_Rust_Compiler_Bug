{"sha": "232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjMyYjBiNDVjYTIzOWRhMjE3ZDFlNWQyMmZjYzRmOWU3YTc0ZjZmYg==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2002-04-22T18:41:07Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2002-04-22T18:41:07Z"}, "message": "linux.h: (LIBPATH_SPEC, LIBPATH_ARCH31_SPEC, LIBPATH_ARCH64_SPEC): Define.\n\n* config/s390/linux.h: (LIBPATH_SPEC, LIBPATH_ARCH31_SPEC,\nLIBPATH_ARCH64_SPEC): Define.\n(EXTRA_SPECS): Add libpath, libpath_arch31, libpath_arch64.\n(STARTFILE_SPEC, ENDFILE_SPEC): Define; use libpath.\n(LINK_ARCH31_SPEC): Add libpath_arch31 to search path.\n(LINK_ARCH64_SPEC): Add libpath_arch64 to search path.\n\nFrom-SVN: r52627", "tree": {"sha": "507ac4ed930fe5a5a34043c33f3e95b86816904f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/507ac4ed930fe5a5a34043c33f3e95b86816904f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb/comments", "author": null, "committer": null, "parents": [{"sha": "1b61552b8a9bd5cd156b70ec396809bdfbddeba6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b61552b8a9bd5cd156b70ec396809bdfbddeba6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b61552b8a9bd5cd156b70ec396809bdfbddeba6"}], "stats": {"total": 46, "additions": 44, "deletions": 2}, "files": [{"sha": "a6696c1282018d625e425c4f5a4c3ba3035fbc49", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb", "patch": "@@ -1,3 +1,12 @@\n+2002-04-22  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* config/s390/linux.h: (LIBPATH_SPEC, LIBPATH_ARCH31_SPEC,\n+\tLIBPATH_ARCH64_SPEC): Define.\n+\t(EXTRA_SPECS): Add libpath, libpath_arch31, libpath_arch64.\n+\t(STARTFILE_SPEC, ENDFILE_SPEC): Define; use libpath.\n+\t(LINK_ARCH31_SPEC): Add libpath_arch31 to search path.\n+\t(LINK_ARCH64_SPEC): Add libpath_arch64 to search path.\n+\n 2002-04-22\tJoel Sherrill <joel@OARcorp.com>\n \n \t* gthr-rtems.h: Correct prototypes to remove warnings."}, {"sha": "a0f35307369bbf01002374eb7166fd23d472a9b7", "filename": "gcc/config/s390/linux.h", "status": "modified", "additions": 35, "deletions": 2, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb/gcc%2Fconfig%2Fs390%2Flinux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb/gcc%2Fconfig%2Fs390%2Flinux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Flinux.h?ref=232b0b45ca239da217d1e5d22fcc4f9e7a74f6fb", "patch": "@@ -92,10 +92,40 @@ Boston, MA 02111-1307, USA.  */\n #endif\n \n \n+/* Target specific library settings.  */\n+\n+#ifndef LIBPATH_ARCH31_SPEC\n+#define LIBPATH_ARCH31_SPEC  \"/usr/lib\"\n+#endif\n+#ifndef LIBPATH_ARCH64_SPEC\n+#define LIBPATH_ARCH64_SPEC  \"/usr/lib64\"\n+#endif\n+\n+#ifdef DEFAULT_TARGET_64BIT\n+#define LIBPATH_SPEC \"%{m31:%(libpath_arch31)}%{!m31:%(libpath_arch64)}\"\n+#else\n+#define LIBPATH_SPEC \"%{m64:%(libpath_arch64)}%{!m64:%(libpath_arch31)}\"\n+#endif\n+\n+\n /* Target specific linker settings.  */\n \n+#undef  STARTFILE_SPEC\n+#define STARTFILE_SPEC \\\n+  \"%{!shared: \\\n+     %{pg:%(libpath)/gcrt1.o%s} \\\n+     %{!pg:%{p:%(libpath)/gcrt1.o%s} \\\n+           %{!p:%{profile:%(libpath)/gcrt1.o%s} \\\n+                %{!profile:%(libpath)/crt1.o%s}}}} \\\n+   %(libpath)/crti.o%s %{static:crtbeginT.o%s}\\\n+   %{!static:%{!shared:crtbegin.o%s} %{shared:crtbeginS.o%s}}\"\n+\n+#undef  ENDFILE_SPEC\n+#define ENDFILE_SPEC \\\n+  \"%{!shared:crtend.o%s} %{shared:crtendS.o%s} %(libpath)/crtn.o%s\"\n+\n #define LINK_ARCH31_SPEC \\\n-  \"-m elf_s390 \\\n+  \"-m elf_s390 -L %(libpath_arch31) \\\n    %{shared:-shared} \\\n    %{!shared: \\\n       %{static:-static} \\\n@@ -104,7 +134,7 @@ Boston, MA 02111-1307, USA.  */\n \t%{!dynamic-linker:-dynamic-linker /lib/ld.so.1}}}\"\n \n #define LINK_ARCH64_SPEC \\\n-  \"-m elf64_s390 \\\n+  \"-m elf64_s390 -L %(libpath_arch64) \\\n    %{shared:-shared} \\\n    %{!shared: \\\n       %{static:-static} \\\n@@ -130,6 +160,9 @@ Boston, MA 02111-1307, USA.  */\n   { \"cpp_arch64\",\tCPP_ARCH64_SPEC },\t\\\n   { \"link_arch31\",\tLINK_ARCH31_SPEC },\t\\\n   { \"link_arch64\",\tLINK_ARCH64_SPEC },\t\\\n+  { \"libpath_arch31\",\tLIBPATH_ARCH31_SPEC },\t\\\n+  { \"libpath_arch64\",\tLIBPATH_ARCH64_SPEC },\t\\\n+  { \"libpath\",\t\tLIBPATH_SPEC },\t\t\\\n \n \n /* Character to start a comment.  */"}]}