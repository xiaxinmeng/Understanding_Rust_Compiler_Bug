{"sha": "f543bdd3f997a82627fee4bd3704dd939ece809d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjU0M2JkZDNmOTk3YTgyNjI3ZmVlNGJkMzcwNGRkOTM5ZWNlODA5ZA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-11-15T03:28:49Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-11-15T03:28:49Z"}, "message": "compiler: fix buglet in function inlining related to sink names\n    \n    When the compiler writes an inlinable function to the export data,\n    parameter names are written out (in Export::write_name) using the\n    Gogo::message_name as opposed to a raw/encoded name. This means that\n    sink parameters (those named \"_\") get created with the name \"_\"\n    instead of \"._\" (the name created by the lexer/parser). This confuses\n    Gogo::is_sink_name, which looks for the latter sequence and not just\n    \"_\". This can cause issues later on if an inlinable function is\n    imported and fed through the rest of the compiler (things that are\n    sinks are no recognized as such). To fix these issues, change\n    Gogo::is_sink_name to return true for either variants (\"_\" or \"._\").\n    \n    Fixes golang/go#35586.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/207259\n\nFrom-SVN: r278275", "tree": {"sha": "dbf9c33c59bf0a8dc30cb5e4970d3790d1403db9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dbf9c33c59bf0a8dc30cb5e4970d3790d1403db9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f543bdd3f997a82627fee4bd3704dd939ece809d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f543bdd3f997a82627fee4bd3704dd939ece809d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f543bdd3f997a82627fee4bd3704dd939ece809d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f543bdd3f997a82627fee4bd3704dd939ece809d/comments", "author": null, "committer": null, "parents": [{"sha": "942c4b32b0553378f843e606bb56c417acbdc4be", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/942c4b32b0553378f843e606bb56c417acbdc4be", "html_url": "https://github.com/Rust-GCC/gccrs/commit/942c4b32b0553378f843e606bb56c417acbdc4be"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "84a5db844e196b5aa2cd5a778d7747d2b97c91c0", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f543bdd3f997a82627fee4bd3704dd939ece809d/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f543bdd3f997a82627fee4bd3704dd939ece809d/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=f543bdd3f997a82627fee4bd3704dd939ece809d", "patch": "@@ -1,4 +1,4 @@\n-1e2d98b27701744cf0ec57b19d7fc8f594184b9a\n+2d0504236c7236345ee17a0cb43a3bb9ce3acf7f\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "8b791168894686f236baa228da737a60a4360073", "filename": "gcc/go/gofrontend/gogo.h", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f543bdd3f997a82627fee4bd3704dd939ece809d/gcc%2Fgo%2Fgofrontend%2Fgogo.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f543bdd3f997a82627fee4bd3704dd939ece809d/gcc%2Fgo%2Fgofrontend%2Fgogo.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.h?ref=f543bdd3f997a82627fee4bd3704dd939ece809d", "patch": "@@ -222,7 +222,9 @@ class Gogo\n   {\n     return (name[0] == '.'\n \t    && name[name.length() - 1] == '_'\n-\t    && name[name.length() - 2] == '.');\n+\t    && name[name.length() - 2] == '.')\n+        || (name[0] == '_'\n+            && name.length() == 1);\n   }\n \n   // Helper used when adding parameters (including receiver param) to the"}]}