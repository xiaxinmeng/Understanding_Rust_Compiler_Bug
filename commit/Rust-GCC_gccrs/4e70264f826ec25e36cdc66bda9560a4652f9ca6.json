{"sha": "4e70264f826ec25e36cdc66bda9560a4652f9ca6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGU3MDI2NGY4MjZlYzI1ZTM2Y2RjNjZiZGE5NTYwYTQ2NTJmOWNhNg==", "commit": {"author": {"name": "Zack Weinberg", "email": "zackw@stanford.edu", "date": "2001-05-01T17:45:05Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-05-01T17:45:05Z"}, "message": "config.gcc: Don't default xmake_file to ${cpu_type}/x-${cpu_type}.\n\n2001-05-01  Zack Weinberg  <zackw@stanford.edu>\n\n\t* config.gcc: Don't default xmake_file to ${cpu_type}/x-${cpu_type}.\n\tRemove references to deleted files.\n\t(*-*-openbsd): No need to override xmake_file.\n\t(*-*-sysv4): Treat like *-*-sysv.\n\n\t* configure.in: Probe for ldopen in various places, and set up\n\tcollect2 to be linked with them if found.\n\tDon't dink with Windows registry stuff unless $host_os is a\n\tWin32 os name.  Check to see if we need -ladvapi32.\n\t* configure: Regenerate.\n\n\t* Makefile: Get rid of CLIB and HOST_CLIB.\n\tSubstitute in COLLECT2_LIBS and link collect2 against its contents.\n\t* build-make: Get rid of HOST_CLIB.\n\n\t* config/a29k/x-unix, config/alpha/x-osf, config/i386/x-aix,\n\tconfig/i386/x-osfrose, config/m68k/x-dpx2, config/mips/x-iris3,\n\tconfig/mips/x-mips, config/mips/x-osfrose, config/mips/x-sony,\n\tconfig/mips/x-sysv, config/rs6000/x-aix31, config/rs6000/x-aix41,\n\tconfig/rs6000/x-rs6000: Delete.\n\n\t* config/i386/x-cygwin, config/m68k/t-aux, config/mips/x-iris:\n\tDon't set CLIB.\n\n\t24 x-host fragments remain, 0 x-cpu, 3 top level.\n\n2001-05-01  Zack Weinberg  <zackw@stanford.edu>\n\n\t* aclocal.m4 (gcc_AC_C_CHAR_BIT): Correct test program.\n\t* configure: Regenerate.\n\nFrom-SVN: r41732", "tree": {"sha": "d9efe798282ba0020467e2e9372c1db251ad69e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9efe798282ba0020467e2e9372c1db251ad69e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4e70264f826ec25e36cdc66bda9560a4652f9ca6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e70264f826ec25e36cdc66bda9560a4652f9ca6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4e70264f826ec25e36cdc66bda9560a4652f9ca6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4e70264f826ec25e36cdc66bda9560a4652f9ca6/comments", "author": null, "committer": null, "parents": [{"sha": "358c9f4b427a2b7380223594e2040e62e9340fbd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/358c9f4b427a2b7380223594e2040e62e9340fbd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/358c9f4b427a2b7380223594e2040e62e9340fbd"}], "stats": {"total": 603, "additions": 349, "deletions": 254}, "files": [{"sha": "124f4f8a7afc84c5ed628af4200b190c098763c3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -1,3 +1,36 @@\n+2001-05-01  Zack Weinberg  <zackw@stanford.edu>\n+\n+\t* config.gcc: Don't default xmake_file to ${cpu_type}/x-${cpu_type}.\n+\tRemove references to deleted files.\n+\t(*-*-openbsd): No need to override xmake_file.\n+\t(*-*-sysv4): Treat like *-*-sysv.\n+\n+\t* configure.in: Probe for ldopen in various places, and set up\n+\tcollect2 to be linked with them if found.\n+\tDon't dink with Windows registry stuff unless $host_os is a\n+\tWin32 os name.  Check to see if we need -ladvapi32.\n+\t* configure: Regenerate.\n+\n+\t* Makefile: Get rid of CLIB and HOST_CLIB.\n+\tSubstitute in COLLECT2_LIBS and link collect2 against its contents.\n+\t* build-make: Get rid of HOST_CLIB.\n+\n+\t* config/a29k/x-unix, config/alpha/x-osf, config/i386/x-aix,\n+\tconfig/i386/x-osfrose, config/m68k/x-dpx2, config/mips/x-iris3,\n+\tconfig/mips/x-mips, config/mips/x-osfrose, config/mips/x-sony,\n+\tconfig/mips/x-sysv, config/rs6000/x-aix31, config/rs6000/x-aix41,\n+\tconfig/rs6000/x-rs6000: Delete.\n+\n+\t* config/i386/x-cygwin, config/m68k/t-aux, config/mips/x-iris:\n+\tDon't set CLIB.\n+\n+\t24 x-host fragments remain, 0 x-cpu, 3 top level.\n+\n+2001-05-01  Zack Weinberg  <zackw@stanford.edu>\n+\n+\t* aclocal.m4 (gcc_AC_C_CHAR_BIT): Correct test program.\n+\t* configure: Regenerate.\n+\n 2001-05-01  Angela Marie Thomas <angela@cygnus.com>\n \n \t* Makefile.in (install-headers): Remove redundant dependency."}, {"sha": "7b9508ea2170f1750b4a9ee1f3418c7bbbe67d12", "filename": "gcc/Makefile.in", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -353,9 +353,6 @@ INTLLIBS = @INTLLIBS@\n POSUB = @POSUB@\n INTL_SUBDIRS = intl $(POSUB)\n \n-# Additional system libraries to link with.\n-CLIB=\n-\n # Change this to a null string if obstacks are installed in the\n # system library.\n OBSTACK=obstack.o\n@@ -513,7 +510,6 @@ HOST_CC=$(CC)\n # If you change any of the following variables, check whether a\n # similar change is needed in build-make.\n HOST_CFLAGS=$(ALL_CFLAGS) -DGENERATOR_FILE\n-HOST_CLIB=$(CLIB)\n HOST_LDFLAGS=$(LDFLAGS)\n HOST_CPPFLAGS=$(ALL_CPPFLAGS)\n HOST_OBSTACK=$(OBSTACK)\n@@ -628,12 +624,12 @@ HOST_LIBDEPS= $(HOST_PREFIX)$(HOST_OBSTACK) \\\n # How to link with both our special library facilities\n # and the system's installed libraries.\n LIBS =\t$(OBSTACK) $(INTLLIBS) @LIBS@ $(VFPRINTF) $(DOPRINT) \\\n-\t$(STRSTR) $(CLIB) ../libiberty/libiberty.a\n+\t$(STRSTR) ../libiberty/libiberty.a\n \n # Likewise, for use in the tools that must run on this machine\n # even if we are cross-building GCC.\n HOST_LIBS = $(USE_HOST_OBSTACK) $(USE_HOST_VFPRINTF) \\\n-\t    $(USE_HOST_DOPRINT) $(USE_HOST_STRSTR) $(HOST_CLIB)\n+\t    $(USE_HOST_DOPRINT) $(USE_HOST_STRSTR)\n \n HOST_RTL = $(HOST_PREFIX)rtl.o $(HOST_PREFIX)bitmap.o \\\n \t\t$(HOST_PREFIX)ggc-none.o gensupport.o hashtab.o safe-ctype.o\n@@ -680,7 +676,6 @@ ORDINARY_FLAGS_TO_PASS = \\\n \t\"BISON=$(BISON)\" \\\n \t\"BISONFLAGS=$(BISONFLAGS)\" \\\n \t\"CFLAGS=$(CFLAGS) $(WARN_CFLAGS)\" \\\n-\t\"CLIB=$(CLIB)\" \\\n \t\"GCC_FOR_TARGET=$(GCC_FOR_TARGET)\" \\\n \t\"LDFLAGS=$(LDFLAGS)\" \\\n \t\"FLEX=$(FLEX)\" \\\n@@ -1224,10 +1219,12 @@ sbitmap.o: sbitmap.c $(CONFIG_H) $(SYSTEM_H) $(RTL_H) flags.h hard-reg-set.h \\\n     $(BASIC_BLOCK_H)\n \n COLLECT2_OBJS = collect2.o tlink.o hash.o intl.o underscore.o version.o\n+COLLECT2_LIBS = @COLLECT2_LIBS@\n collect2$(exeext): $(COLLECT2_OBJS) $(LIBDEPS)\n # Don't try modifying collect2 (aka ld) in place--it might be linking this.\n-\t-rm -f collect2$(exeext)\n-\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@ $(COLLECT2_OBJS) $(LIBS)\n+\t$(CC) $(ALL_CFLAGS) $(LDFLAGS) -o $@T \\\n+\t\t$(COLLECT2_OBJS) $(LIBS) $(COLLECT2_LIBS)\n+\tmv -f $@T $@\n \n collect2.o : collect2.c $(CONFIG_H) $(SYSTEM_H) gstab.h intl.h \\\n \t$(OBSTACK_H) $(DEMANGLE_H) collect2.h version.h"}, {"sha": "f2eda881546f47f8d0b51dc79c26cc7f188dfb59", "filename": "gcc/aclocal.m4", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Faclocal.m4?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -1192,9 +1192,11 @@ if test $gcc_cv_decl_char_bit = no; then\n  gcc_cv_c_nbby=\n  while test $i -lt 65; do\n    AC_TRY_COMPILE(,\n-   [switch(0) { case 0: case (char)(1 << $i) && (char)(1 << $i) != 1: ; }],\n-         gcc_cv_c_nbby=$i\n-         break)\n+     [switch(0) {\n+  case (unsigned char)((unsigned long)1 << $i) == ((unsigned long)1 << $i):\n+  case (unsigned char)((unsigned long)1<<($i-1)) == ((unsigned long)1<<($i-1)):\n+  ; }], \n+     [gcc_cv_c_nbby=$i; break])\n    i=`expr $i + 1`\n  done\n  test -z \"$gcc_cv_c_nbby\" && gcc_cv_c_nbby=failed"}, {"sha": "de1b4489cb6515f07524da9a882f460b294f84bd", "filename": "gcc/build-make", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fbuild-make", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fbuild-make", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuild-make?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -13,7 +13,6 @@ HOST_PREFIX_1=$(HOST_PREFIX)\n HOST_CC=$(CC) -b $(build)\n HOST_CFLAGS=$(INTERNAL_CFLAGS) $(T_CFLAGS) $(CFLAGS) $(XCFLAGS) \\\n             -DGENERATOR_FILE\n-HOST_CLIB=\n HOST_LDFLAGS=$(LDFLAGS)\n HOST_CPPFLAGS=$(ALL_CPPFLAGS)\n HOST_MALLOC=$(MALLOC)"}, {"sha": "4f0d3dc6e56d61264723703f9a294eb3ef61480c", "filename": "gcc/config.gcc", "status": "modified", "additions": 0, "deletions": 30, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -247,10 +247,6 @@ if test -f ${srcdir}/config/${cpu_type}/${cpu_type}-protos.h\n then\n \ttm_p_file=${cpu_type}/${cpu_type}-protos.h\n fi\n-if test -f ${srcdir}/config/${cpu_type}/x-${cpu_type}\n-then\n-\txmake_file=${cpu_type}/x-${cpu_type}\n-fi\n # On a.out targets, we need to use collect2.\n case $machine in\n *-*-*aout*)\n@@ -292,8 +288,6 @@ case $machine in\n \ttm_file=${cpu_type}/openbsd.h\n \ttmake_file=\"t-libc-ok t-openbsd\"\n \txm_defines=POSIX\n-\t# don't depend on processor x-fragments as well\n-\txmake_file=\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='posix'\n \t\ttmake_file=\"${tmake_file} t-openbsd-thread\"\n@@ -326,7 +320,6 @@ case $machine in\n a29k-*-bsd* | a29k-*-sym1*)\n \ttm_file=\"${tm_file} a29k/unix.h\"\n \txm_defines=POSIX\n-\txmake_file=a29k/x-unix\n \tuse_collect2=yes\n \t;;\n a29k-*-udi | a29k-*-coff)\n@@ -440,7 +433,6 @@ alpha*-dec-osf*)\n \tfi\n \tuse_collect2=yes\n \ttmake_file=\"alpha/t-alpha alpha/t-ieee alpha/t-osf\"\n-\txmake_file=alpha/x-osf\n \tcase $machine in\n \t  *-*-osf1*)\n \t    tm_file=\"${tm_file} alpha/osf.h alpha/osf12.h alpha/osf2or3.h\"\n@@ -644,15 +636,13 @@ hppa*64*-*-linux* | parisc*64*-*-linux*)\n \ttm_file=\"pa/pa64-start.h ${tm_file} linux.h pa/pa-linux.h \\\n \t\t pa/pa64-regs.h pa/pa-64.h pa/pa64-linux.h\"\n \ttmake_file=pa/t-linux64\n-\txmake_file=x-linux\n \tgas=yes gnu_ld=yes\n \t;;\n hppa*-*-linux* | parisc*-*-linux*)\n \ttarget_cpu_default=\"MASK_PA_11\"\n \ttm_file=\"${tm_file} linux.h pa/pa-linux.h \\\n \t\t pa/pa32-regs.h pa/pa32-linux.h\"\n \ttmake_file=pa/t-linux\n-\txmake_file=x-linux\n \textra_parts=\"crtbegin.o crtbeginS.o crtend.o crtendS.o\"\n \tgas=yes gnu_ld=yes\n \tif test x$enable_threads = xyes; then\n@@ -925,7 +915,6 @@ i[34567]86-ibm-aix*)\t\t# IBM PS/2 running AIX\n \t\tuse_collect2=yes\n \tfi\n \txm_defines=POSIX\n-\txmake_file=i386/x-aix\n \t;;\n i[34567]86-ncr-sysv4*)\t\t# NCR 3000 - ix86 running system V.4\n \txm_defines=\"POSIX SMALL_ARG_MAX\"\n@@ -1154,7 +1143,6 @@ i[34567]86-*-osfrose*)\t\t# 386 using OSF/rose\n \t\ttm_file=i386/osfrose.h\n \t\tuse_collect2=yes\n \tfi\n-\txmake_file=i386/x-osfrose\n \ttmake_file=i386/t-osf\n \textra_objs=halfpic.o\n \t;;\n@@ -1301,7 +1289,6 @@ i[34567]86-*-osf1*)\t\t# Intel 80386's running OSF/1 1.3+\n \t\ttm_file=i386/osf1elf.h\n \tfi\n \ttmake_file=i386/t-osf1elf\n-\txmake_file=i386/x-osf1elf\n \textra_parts=\"crti.o crtn.o crtbegin.o crtend.o\"\n \t;;\n i[34567]86-*-sysv*)\t\t# Intel 80386's running system V\n@@ -1634,7 +1621,6 @@ m68k-bull-sysv*)\t\t# Bull DPX/2\n \t\ttm_file=m68k/dpx2.h\n \tfi\n \txm_defines=POSIX\n-\txmake_file=m68k/x-dpx2\n \tuse_collect2=yes\n \textra_headers=math-68881.h\n \t;;\n@@ -2160,7 +2146,6 @@ mips-sgi-*)\t\t\t# Mostly like a MIPS.\n \t\ttm_file=\"${tm_file} dbx.h\"\n \tfi\n \txm_defines=POSIX\n-\txmake_file=mips/x-iris3\n \tif test x$gas = xyes\n \tthen\n \t\ttmake_file=mips/t-mips-gas\n@@ -2174,7 +2159,6 @@ mips-sgi-*)\t\t\t# Mostly like a MIPS.\n \t;;\n mips-dec-osfrose*)\t\t# Decstation running OSF/1 reference port with OSF/rose.\n \ttm_file=\"mips/osfrose.h ${tm_file}\"\n-\txmake_file=mips/x-osfrose\n \ttmake_file=mips/t-osfrose\n \textra_objs=halfpic.o\n \tuse_collect2=yes\n@@ -2251,7 +2235,6 @@ mips-sony-bsd* | mips-sony-newsos*)\t# Sony NEWS 3600 or risc/news.\n \tthen\n \t\tuse_collect2=yes\n \tfi\n-\txmake_file=mips/x-sony\n \t;;\n mips-sony-sysv*)\t\t# Sony NEWS 3800 with NEWSOS5.0.\n \t\t\t\t# That is based on svr4.\n@@ -2278,7 +2261,6 @@ mips-tandem-sysv4*)\t\t# Tandem S2 running NonStop UX\n \t\ttm_file=\"${tm_file} dbx.h\"\n \tfi\n \txm_defines=POSIX\n-\txmake_file=mips/x-sysv\n \tif test x$gas = xyes\n \tthen\n \t\ttmake_file=mips/t-mips-gas\n@@ -2348,7 +2330,6 @@ mips-*-riscos[56789]sysv4*)\n \tif test x$stabs = xyes; then\n \t\ttm_file=\"${tm_file} dbx.h\"\n \tfi\n-\txmake_file=mips/x-sysv\n \tif test x$gas = xyes\n \tthen\n \t\ttmake_file=mips/t-svr4-gas\n@@ -2367,7 +2348,6 @@ mips-*-sysv4* | mips-*-riscos[1234]sysv4* | mips-*-riscossysv4*)\n \t\ttm_file=\"${tm_file} dbx.h\"\n \tfi\n \txm_defines=POSIX\n-\txmake_file=mips/x-sysv\n \tif test x$gas = xyes\n \tthen\n \t\ttmake_file=mips/t-svr4-gas\n@@ -2386,7 +2366,6 @@ mips-*-riscos[56789]sysv*)\n \t\ttm_file=\"${tm_file} dbx.h\"\n \tfi\n \txm_defines=POSIX\n-\txmake_file=mips/x-sysv\n \tif test x$gas = xyes\n \tthen\n \t\ttmake_file=mips/t-svr3-gas\n@@ -2405,7 +2384,6 @@ mips-*-sysv* | mips-*-riscos*sysv*)\n \t\ttm_file=\"${tm_file} dbx.h\"\n \tfi\n \txm_defines=POSIX\n-\txmake_file=mips/x-sysv\n \tif test x$gas = xyes\n \tthen\n \t\ttmake_file=mips/t-svr3-gas\n@@ -2736,7 +2714,6 @@ powerpcle-*-solaris2*)\n rs6000-ibm-aix3.[01]*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} rs6000/aix.h rs6000/aix31.h\"\n-\txmake_file=rs6000/x-aix31\n \tfloat_format=none\n \tuse_collect2=yes\n \t;;\n@@ -2751,15 +2728,13 @@ rs6000-ibm-aix4.[12]* | powerpc-ibm-aix4.[12]*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} rs6000/aix.h rs6000/aix41.h\"\n \ttmake_file=rs6000/t-newas\n-\txmake_file=rs6000/x-aix41\n \tfloat_format=none\n \tuse_collect2=yes\n \t;;\n rs6000-ibm-aix4.[3456789]* | powerpc-ibm-aix4.[3456789]*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} rs6000/aix.h rs6000/aix43.h\"\n \ttmake_file=rs6000/t-aix43\n-\txmake_file=rs6000/x-aix41\n \tfloat_format=none\n \tuse_collect2=yes\n \tthread_file='aix'\n@@ -2768,7 +2743,6 @@ rs6000-ibm-aix[56789].* | powerpc-ibm-aix[56789].*)\n \txm_defines=POSIX\n \ttm_file=\"${tm_file} rs6000/aix.h rs6000/aix51.h\"\n \ttmake_file=rs6000/t-aix43\n-\txmake_file=rs6000/x-aix41\n \tfloat_format=none\n \tuse_collect2=yes\n \tthread_file='aix'\n@@ -3208,10 +3182,6 @@ xscale-*-coff)\n esac\n \n case $machine in\n-*-*-sysv4*)\n-\txmake_try_sysv=x-sysv\n-\tinstall_headers_dir=install-headers-cpio\n-\t;;\n *-*-sysv*)\n \tinstall_headers_dir=install-headers-cpio\n \t;;"}, {"sha": "f671a0028f725ff84e32d9b67383d2898657d83d", "filename": "gcc/config/a29k/x-unix", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fa29k%2Fx-unix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fa29k%2Fx-unix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fa29k%2Fx-unix?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,2 +0,0 @@\n-# Needed for collect2?\n-CLIB=-lld"}, {"sha": "86aab854adacc64df1adddf17b29df5a6878ce7b", "filename": "gcc/config/alpha/x-osf", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Falpha%2Fx-osf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Falpha%2Fx-osf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Fx-osf?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1 +0,0 @@\n-CLIB=-lmld -lexc"}, {"sha": "7d730837ab2940993b13266ea172daaf40d159ce", "filename": "gcc/config/i386/x-aix", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fi386%2Fx-aix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fi386%2Fx-aix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fx-aix?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1 +0,0 @@\n-CLIB = -lld"}, {"sha": "d284b3e7e413c2e4a7f5d3b9a3592bf88e81cdc2", "filename": "gcc/config/i386/x-cygwin", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig%2Fi386%2Fx-cygwin", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig%2Fi386%2Fx-cygwin", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fx-cygwin?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -1,4 +1,2 @@\n # Don't run fixproto\n STMP_FIXPROTO =\n-# prefix.c wants to poke around the Registry\n-CLIB = -ladvapi32"}, {"sha": "f9ee98c801b71e6e7597a4cd09ee7a6b19cf4538", "filename": "gcc/config/i386/x-osf1elf", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fi386%2Fx-osf1elf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fi386%2Fx-osf1elf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fx-osf1elf?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1 +0,0 @@\n-CLIB\t\t= -lld"}, {"sha": "f9ee98c801b71e6e7597a4cd09ee7a6b19cf4538", "filename": "gcc/config/i386/x-osfrose", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fi386%2Fx-osfrose", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fi386%2Fx-osfrose", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fx-osfrose?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1 +0,0 @@\n-CLIB\t\t= -lld"}, {"sha": "1d441e7077cec75cd30f570b86499673deafa8cd", "filename": "gcc/config/m68k/t-aux", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig%2Fm68k%2Ft-aux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig%2Fm68k%2Ft-aux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Ft-aux?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -4,9 +4,6 @@ LIB2FUNCS_EXTRA=aux-mcount.c aux-exit.c\n \n FIXPROTO_DEFINES=-D_POSIX_SOURCE\n \n-# Only really needed for collect2\n-CLIB=-lld\n-\n # Needed to support builds for multiple versions of A/UX\n # LDFLAGS=-static\n "}, {"sha": "ec45bd8765353edf60661755844496a7846356eb", "filename": "gcc/config/m68k/x-dpx2", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fm68k%2Fx-dpx2", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fm68k%2Fx-dpx2", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fx-dpx2?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1 +0,0 @@\n-CLIB=-lld"}, {"sha": "3f0f3043725a2a6baf8cf501aeda491be31fdbfe", "filename": "gcc/config/mips/x-iris", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig%2Fmips%2Fx-iris", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfig%2Fmips%2Fx-iris", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-iris?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -1,6 +1,2 @@\n-# -lmld is so we can link collect2 running native.\n-CLIB\t\t= -lmld\n-\n # Find all of the declarations from the header files\n FIXPROTO_DEFINES= -D__EXTENSIONS__ -D_SGI_SOURCE -D_LANGUAGE_C_PLUS_PLUS\n-"}, {"sha": "63e57771a0bce012ad493558c61c9bb6796873a2", "filename": "gcc/config/mips/x-iris3", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-iris3", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-iris3", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-iris3?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,3 +0,0 @@\n-# -lmld is so we can link collect2 running native.\n-# -lmalloc is supposed to be faster than the normal malloc\n-CLIB\t\t= -lmld"}, {"sha": "7f0ec53494e80d8b860cfdb1b4f930cfbd947e4f", "filename": "gcc/config/mips/x-mips", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-mips", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-mips", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-mips?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,2 +0,0 @@\n-# This is so we can link collect2 running native.\n-CLIB\t\t= -lmld"}, {"sha": "f9ee98c801b71e6e7597a4cd09ee7a6b19cf4538", "filename": "gcc/config/mips/x-osfrose", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-osfrose", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-osfrose", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-osfrose?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1 +0,0 @@\n-CLIB\t\t= -lld"}, {"sha": "7f0ec53494e80d8b860cfdb1b4f930cfbd947e4f", "filename": "gcc/config/mips/x-sony", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-sony", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-sony", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-sony?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,2 +0,0 @@\n-# This is so we can link collect2 running native.\n-CLIB\t\t= -lmld"}, {"sha": "9b2e2346fe92a51e50fabea757f90fab6856935f", "filename": "gcc/config/mips/x-sysv", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-sysv", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Fmips%2Fx-sysv", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fx-sysv?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,3 +0,0 @@\n-# This enables collect2 to link.\n-# Some systems use version 2.11 of the compilers.  Some use version 3.11.\n-CLIB= -L/usr/lib/cmplrs/cc2.11 -L/usr/lib/cmplrs/cc3.11 -lmld"}, {"sha": "de19792916ec1ebe2ce4fcd7b1fbc720a39a5422", "filename": "gcc/config/rs6000/x-aix31", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Frs6000%2Fx-aix31", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Frs6000%2Fx-aix31", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fx-aix31?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,4 +0,0 @@\n-# We need -lld for collect2 (actually this only matters\n-# for a native compiler, but this is as good a place as any\n-# to define the symbol).\n-CLIB= -lld"}, {"sha": "d573d4de43a1c71115320c38c15ed31840a3491e", "filename": "gcc/config/rs6000/x-aix41", "status": "removed", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Frs6000%2Fx-aix41", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Frs6000%2Fx-aix41", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fx-aix41?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,6 +0,0 @@\n-# configuration for IBM RS/6000 running AIX 4.1+\n-\n-# We need -lld for collect2 (actually this only matters\n-# for a native compiler, but this is as good a place as any\n-# to define the symbol).\n-CLIB=-lld"}, {"sha": "6e553cc1e1c91c7d22c0a716a12002548f0e9f6d", "filename": "gcc/config/rs6000/x-rs6000", "status": "removed", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Frs6000%2Fx-rs6000", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/358c9f4b427a2b7380223594e2040e62e9340fbd/gcc%2Fconfig%2Frs6000%2Fx-rs6000", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fx-rs6000?ref=358c9f4b427a2b7380223594e2040e62e9340fbd", "patch": "@@ -1,6 +0,0 @@\n-# configuration for IBM rs6000 running aix\n-\n-# We need -lld for collect2 (actually this only matters\n-# for a native compiler, but this is as good a place as any\n-# to define the symbol).\n-CLIB=-lld"}, {"sha": "7255406a70d78fe899231c17c8259fbfd9809a22", "filename": "gcc/configure", "status": "modified", "additions": 280, "deletions": 167, "changes": 447, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -2580,13 +2580,15 @@ else\n #include \"confdefs.h\"\n \n int main() {\n-switch(0) { case 0: case (char)(1 << $i) && (char)(1 << $i) != 1: ; }\n+switch(0) {\n+  case (unsigned char)((unsigned long)1 << $i) == ((unsigned long)1 << $i):\n+  case (unsigned char)((unsigned long)1<<($i-1)) == ((unsigned long)1<<($i-1)):\n+  ; }\n ; return 0; }\n EOF\n-if { (eval echo configure:2587: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2590: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n-  gcc_cv_c_nbby=$i\n-         break\n+  gcc_cv_c_nbby=$i; break\n else\n   echo \"configure: failed program was:\" >&5\n   cat conftest.$ac_ext >&5\n@@ -2609,7 +2611,7 @@ EOF\n fi\n fi\n echo $ac_n \"checking byte ordering\"\"... $ac_c\" 1>&6\n-echo \"configure:2613: checking byte ordering\" >&5\n+echo \"configure:2615: checking byte ordering\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_compile_endian'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2623,7 +2625,7 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 2627 \"configure\"\n+#line 2629 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef HAVE_LIMITS_H\n@@ -2643,7 +2645,7 @@ cat > conftest.$ac_ext <<EOF\n     'X', '\\n'\n };\n EOF\n-if { (eval echo configure:2647: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2649: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   od -c conftest.o |\n     sed 's/^[0-7]*[ \t]*/ /\n \t  s/\\*/./g\n@@ -2682,7 +2684,7 @@ EOF\n fi\n \n echo $ac_n \"checking floating point format\"\"... $ac_c\" 1>&6\n-echo \"configure:2686: checking floating point format\" >&5\n+echo \"configure:2688: checking floating point format\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_float_format'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2695,7 +2697,7 @@ ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$a\n cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext <<EOF\n-#line 2699 \"configure\"\n+#line 2701 \"configure\"\n #include \"confdefs.h\"\n /* This will not work unless sizeof(double) == 8.  */\n extern char sizeof_double_must_be_8 [sizeof(double) == 8 ? 1 : -1];\n@@ -2717,7 +2719,7 @@ struct possibility table [] =\n   C(-5.22995989424860458374e+10)  /* IBMHEXFP - s/390 format, EBCDIC */\n };\n EOF\n-if { (eval echo configure:2721: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2723: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   od -c conftest.o |\n     sed 's/^[0-7]*[ \t]*/ /\n \t  s/\\*/./g\n@@ -2806,7 +2808,7 @@ fi\n # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2810: checking for $ac_word\" >&5\n+echo \"configure:2812: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_have_gnat'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2838,7 +2840,7 @@ fi\n # Extract the first word of \"mktemp\", so it can be a program name with args.\n set dummy mktemp; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2842: checking for $ac_word\" >&5\n+echo \"configure:2844: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_have_mktemp_command'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2877,7 +2879,7 @@ else\n   # Extract the first word of \"makeinfo\", so it can be a program name with args.\n set dummy makeinfo; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2881: checking for $ac_word\" >&5\n+echo \"configure:2883: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_MAKEINFO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2906,13 +2908,13 @@ fi\n if test -n \"$MAKEINFO\"; then\n   # Found it, now check the version.\n   echo $ac_n \"checking for modern makeinfo\"\"... $ac_c\" 1>&6\n-echo \"configure:2910: checking for modern makeinfo\" >&5\n+echo \"configure:2912: checking for modern makeinfo\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_makeinfo_modern'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:2916: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:2918: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.*)\n@@ -2940,7 +2942,7 @@ fi\n \n # Is pod2man recent enough to regenerate manpages?\n echo $ac_n \"checking for recent Pod::Man\"\"... $ac_c\" 1>&6\n-echo \"configure:2944: checking for recent Pod::Man\" >&5\n+echo \"configure:2946: checking for recent Pod::Man\" >&5\n if perl -e 'use 1.10 Pod::Man' >/dev/null 2>&1; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   GENERATED_MANPAGES=generated-manpages\t\t\n@@ -2956,7 +2958,7 @@ else\n   # Extract the first word of \"flex\", so it can be a program name with args.\n set dummy flex; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2960: checking for $ac_word\" >&5\n+echo \"configure:2962: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_FLEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2993,7 +2995,7 @@ else\n   # Extract the first word of \"bison\", so it can be a program name with args.\n set dummy bison; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2997: checking for $ac_word\" >&5\n+echo \"configure:2999: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_BISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3022,17 +3024,62 @@ fi\n \n fi\n \n+# These libraries may be used by collect2.\n+# We may need a special search path to get them linked.\n+echo $ac_n \"checking for collect2 libraries\"\"... $ac_c\" 1>&6\n+echo \"configure:3031: checking for collect2 libraries\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_collect2_libs'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  save_LIBS=\"$LIBS\"\n+for libs in '' -lld -lmld '-lmld -lexc' \\\n+\t\t'-L/usr/lib/cmplrs/cc2.11 -lmld' \\\n+\t\t'-L/usr/lib/cmplrs/cc3.11 -lmld'\n+do\n+\tLIBS=\"$libs\"\n+\tcat > conftest.$ac_ext <<EOF\n+#line 3042 \"configure\"\n+#include \"confdefs.h\"\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char ldopen();\n+\n+int main() {\n+ldopen()\n+; return 0; }\n+EOF\n+if { (eval echo configure:3053: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  gcc_cv_collect2_libs=\"$libs\"; break\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+fi\n+rm -f conftest*\n+done\n+LIBS=\"$save_LIBS\"\n+test -z \"$gcc_cv_collect2_libs\" && gcc_cv_collect2_libs='none required'\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_collect2_libs\" 1>&6\n+case $gcc_cv_collect2_libs in\n+\t\"none required\")\t;;\n+\t*)\tCOLLECT2_LIBS=$gcc_cv_collect2_libs ;;\n+esac\n+\n+\n # See if the stage1 system preprocessor understands the ANSI C\n # preprocessor stringification operator.  (Used by symcat.h.)\n \n \n echo $ac_n \"checking for preprocessor stringizing operator\"\"... $ac_c\" 1>&6\n-echo \"configure:3031: checking for preprocessor stringizing operator\" >&5\n+echo \"configure:3078: checking for preprocessor stringizing operator\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stringize'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3036 \"configure\"\n+#line 3083 \"configure\"\n #include \"confdefs.h\"\n \n #define x(y) #y\n@@ -3065,20 +3112,20 @@ echo \"$ac_t\"\"${ac_cv_c_stringize}\" 1>&6\n # Use <inttypes.h> only if it exists,\n # doesn't clash with <sys/types.h>, and declares intmax_t.\n echo $ac_n \"checking for inttypes.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3069: checking for inttypes.h\" >&5\n+echo \"configure:3116: checking for inttypes.h\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3074 \"configure\"\n+#line 3121 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #include <inttypes.h>\n int main() {\n intmax_t i = -1;\n ; return 0; }\n EOF\n-if { (eval echo configure:3082: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:3129: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_header_inttypes_h=yes\n else\n@@ -3105,12 +3152,12 @@ for ac_func in strtoul bsearch popen times clock \\\n \tfputs_unlocked getrusage iconv nl_langinfo lstat\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3109: checking for $ac_func\" >&5\n+echo \"configure:3156: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3114 \"configure\"\n+#line 3161 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3133,7 +3180,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3137: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3184: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3159,12 +3206,12 @@ done\n \n \n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3163: checking for ssize_t\" >&5\n+echo \"configure:3210: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3168 \"configure\"\n+#line 3215 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -3195,12 +3242,12 @@ fi\n # Try to determine the array type of the second argument of getgroups\n # for the target system (int or gid_t).\n echo $ac_n \"checking for uid_t in sys/types.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3199: checking for uid_t in sys/types.h\" >&5\n+echo \"configure:3246: checking for uid_t in sys/types.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_uid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3204 \"configure\"\n+#line 3251 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n EOF\n@@ -3229,15 +3276,15 @@ EOF\n fi\n \n echo $ac_n \"checking type of array argument to getgroups\"\"... $ac_c\" 1>&6\n-echo \"configure:3233: checking type of array argument to getgroups\" >&5\n+echo \"configure:3280: checking type of array argument to getgroups\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_getgroups'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_type_getgroups=cross\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3241 \"configure\"\n+#line 3288 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Rendell for this test.  */\n@@ -3262,7 +3309,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:3266: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3313: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n     ac_cv_type_getgroups=gid_t\n else\n@@ -3276,7 +3323,7 @@ fi\n \n if test $ac_cv_type_getgroups = cross; then\n         cat > conftest.$ac_ext <<EOF\n-#line 3280 \"configure\"\n+#line 3327 \"configure\"\n #include \"confdefs.h\"\n #include <unistd.h>\n EOF\n@@ -3317,12 +3364,12 @@ fi\n \n \n echo $ac_n \"checking for vprintf\"\"... $ac_c\" 1>&6\n-echo \"configure:3321: checking for vprintf\" >&5\n+echo \"configure:3368: checking for vprintf\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vprintf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3326 \"configure\"\n+#line 3373 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vprintf(); below.  */\n@@ -3345,7 +3392,7 @@ vprintf();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3349: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3396: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vprintf=yes\"\n else\n@@ -3369,12 +3416,12 @@ fi\n \n if test \"$ac_cv_func_vprintf\" != yes; then\n echo $ac_n \"checking for _doprnt\"\"... $ac_c\" 1>&6\n-echo \"configure:3373: checking for _doprnt\" >&5\n+echo \"configure:3420: checking for _doprnt\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func__doprnt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3378 \"configure\"\n+#line 3425 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char _doprnt(); below.  */\n@@ -3397,7 +3444,7 @@ _doprnt();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3401: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3448: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func__doprnt=yes\"\n else\n@@ -3435,12 +3482,12 @@ fi\n for ac_func in strstr\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3439: checking for $ac_func\" >&5\n+echo \"configure:3486: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3444 \"configure\"\n+#line 3491 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3463,7 +3510,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3467: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3514: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -3490,15 +3537,15 @@ done\n \n    \n echo $ac_n \"checking whether the printf functions support %p\"\"... $ac_c\" 1>&6\n-echo \"configure:3494: checking whether the printf functions support %p\" >&5\n+echo \"configure:3541: checking whether the printf functions support %p\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_func_printf_ptr'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   gcc_cv_func_printf_ptr=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3502 \"configure\"\n+#line 3549 \"configure\"\n #include \"confdefs.h\"\n #include <stdio.h>\n \n@@ -3511,7 +3558,7 @@ int main()\n   return (p != q);\n }\n EOF\n-if { (eval echo configure:3515: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3562: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   gcc_cv_func_printf_ptr=yes\n else\n@@ -3543,12 +3590,12 @@ case \"${host}\" in\n   ;;\n esac\n echo $ac_n \"checking for pid_t\"\"... $ac_c\" 1>&6\n-echo \"configure:3547: checking for pid_t\" >&5\n+echo \"configure:3594: checking for pid_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_pid_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3552 \"configure\"\n+#line 3599 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -3577,17 +3624,17 @@ fi\n \n ac_safe=`echo \"vfork.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for vfork.h\"\"... $ac_c\" 1>&6\n-echo \"configure:3581: checking for vfork.h\" >&5\n+echo \"configure:3628: checking for vfork.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3586 \"configure\"\n+#line 3633 \"configure\"\n #include \"confdefs.h\"\n #include <vfork.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:3591: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:3638: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -3612,18 +3659,18 @@ else\n fi\n \n echo $ac_n \"checking for working vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:3616: checking for working vfork\" >&5\n+echo \"configure:3663: checking for working vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   echo $ac_n \"checking for vfork\"\"... $ac_c\" 1>&6\n-echo \"configure:3622: checking for vfork\" >&5\n+echo \"configure:3669: checking for vfork\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_vfork'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3627 \"configure\"\n+#line 3674 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char vfork(); below.  */\n@@ -3646,7 +3693,7 @@ vfork();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3650: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3697: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_vfork=yes\"\n else\n@@ -3668,7 +3715,7 @@ fi\n ac_cv_func_vfork_works=$ac_cv_func_vfork\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3672 \"configure\"\n+#line 3719 \"configure\"\n #include \"confdefs.h\"\n /* Thanks to Paul Eggert for this test.  */\n #include <stdio.h>\n@@ -3763,7 +3810,7 @@ main() {\n   }\n }\n EOF\n-if { (eval echo configure:3767: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:3814: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_vfork_works=yes\n else\n@@ -3788,12 +3835,12 @@ fi\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:3792: checking for $ac_func\" >&5\n+echo \"configure:3839: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 3797 \"configure\"\n+#line 3844 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -3816,7 +3863,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:3820: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:3867: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4087,7 +4134,7 @@ main ()\n EOF\n \n echo $ac_n \"checking for working mmap from /dev/zero\"\"... $ac_c\" 1>&6\n-echo \"configure:4091: checking for working mmap from /dev/zero\" >&5\n+echo \"configure:4138: checking for working mmap from /dev/zero\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_dev_zero'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4103,11 +4150,11 @@ else\n   esac\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4107 \"configure\"\n+#line 4154 \"configure\"\n #include \"confdefs.h\"\n #include \"ct-mmap.inc\"\n EOF\n-if { (eval echo configure:4111: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4158: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_dev_zero=yes\n else\n@@ -4134,7 +4181,7 @@ EOF\n fi\n \n echo $ac_n \"checking for working mmap with MAP_ANON(YMOUS)\"\"... $ac_c\" 1>&6\n-echo \"configure:4138: checking for working mmap with MAP_ANON(YMOUS)\" >&5\n+echo \"configure:4185: checking for working mmap with MAP_ANON(YMOUS)\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_anon'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4144,12 +4191,12 @@ else\n  ac_cv_func_mmap_anon=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4148 \"configure\"\n+#line 4195 \"configure\"\n #include \"confdefs.h\"\n #define USE_MAP_ANON\n #include \"ct-mmap.inc\"\n EOF\n-if { (eval echo configure:4153: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4200: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_anon=yes\n else\n@@ -4177,7 +4224,7 @@ fi\n rm -f ct-mmap.inc\n \n echo $ac_n \"checking for working mmap of a file\"\"... $ac_c\" 1>&6\n-echo \"configure:4181: checking for working mmap of a file\" >&5\n+echo \"configure:4228: checking for working mmap of a file\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_file'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4192,7 +4239,7 @@ if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_file=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4196 \"configure\"\n+#line 4243 \"configure\"\n #include \"confdefs.h\"\n \n /* Test by Zack Weinberg.  Modified from MMAP_ANYWHERE test by\n@@ -4229,7 +4276,7 @@ int main()\n   exit(0);\n }\n EOF\n-if { (eval echo configure:4233: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4280: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_file=yes\n else\n@@ -4261,12 +4308,12 @@ for ac_func in getenv atol sbrk abort atof getcwd getwd \\\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4265: checking whether $ac_func is declared\" >&5\n+echo \"configure:4312: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4270 \"configure\"\n+#line 4317 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4280,7 +4327,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4284: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4331: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4375,12 +4422,12 @@ for ac_func in getrlimit setrlimit getrusage\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4379: checking whether $ac_func is declared\" >&5\n+echo \"configure:4426: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4384 \"configure\"\n+#line 4431 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4398,7 +4445,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4402: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4449: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4440,12 +4487,12 @@ for ac_func in times\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4444: checking whether $ac_func is declared\" >&5\n+echo \"configure:4491: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4449 \"configure\"\n+#line 4496 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4463,7 +4510,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4467: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4514: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4497,13 +4544,13 @@ fi\n \n # More time-related stuff.\n echo $ac_n \"checking for struct tms\"\"... $ac_c\" 1>&6\n-echo \"configure:4501: checking for struct tms\" >&5\n+echo \"configure:4548: checking for struct tms\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_struct_tms'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 4507 \"configure\"\n+#line 4554 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4516,7 +4563,7 @@ int main() {\n struct tms tms;\n ; return 0; }\n EOF\n-if { (eval echo configure:4520: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4567: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_struct_tms=yes\n else\n@@ -4539,13 +4586,13 @@ fi\n # use gcc_cv_* here because this doesn't match the behavior of AC_CHECK_TYPE.\n # revisit after autoconf 2.50.\n echo $ac_n \"checking for clock_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4543: checking for clock_t\" >&5\n+echo \"configure:4590: checking for clock_t\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_type_clock_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n cat > conftest.$ac_ext <<EOF\n-#line 4549 \"configure\"\n+#line 4596 \"configure\"\n #include \"confdefs.h\"\n \n #include \"ansidecl.h\"\n@@ -4555,7 +4602,7 @@ int main() {\n clock_t x;\n ; return 0; }\n EOF\n-if { (eval echo configure:4559: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4606: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_type_clock_t=yes\n else\n@@ -4580,12 +4627,12 @@ CFLAGS=\"$saved_CFLAGS\"\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:4584: checking if mkdir takes one argument\" >&5\n+echo \"configure:4631: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4589 \"configure\"\n+#line 4636 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -4602,7 +4649,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:4606: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4653: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -4882,15 +4929,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:4886: checking for strerror in -lcposix\" >&5\n+echo \"configure:4933: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 4894 \"configure\"\n+#line 4941 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -4901,7 +4948,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:4905: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4952: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4924,12 +4971,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:4928: checking for working const\" >&5\n+echo \"configure:4975: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4933 \"configure\"\n+#line 4980 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -4978,7 +5025,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4982: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5029: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -4999,12 +5046,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5003: checking for off_t\" >&5\n+echo \"configure:5050: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5008 \"configure\"\n+#line 5055 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5032,12 +5079,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5036: checking for size_t\" >&5\n+echo \"configure:5083: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5041 \"configure\"\n+#line 5088 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5070,17 +5117,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:5074: checking for $ac_hdr\" >&5\n+echo \"configure:5121: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5079 \"configure\"\n+#line 5126 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:5084: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5131: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -5110,12 +5157,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5114: checking for $ac_func\" >&5\n+echo \"configure:5161: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5119 \"configure\"\n+#line 5166 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5138,7 +5185,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5142: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5189: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5167,12 +5214,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5171: checking for $ac_func\" >&5\n+echo \"configure:5218: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5176 \"configure\"\n+#line 5223 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5195,7 +5242,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5199: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5246: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5229,19 +5276,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:5233: checking for LC_MESSAGES\" >&5\n+echo \"configure:5280: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5238 \"configure\"\n+#line 5285 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:5245: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5292: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -5262,7 +5309,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5266: checking whether NLS is requested\" >&5\n+echo \"configure:5313: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -5282,7 +5329,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5286: checking whether included gettext is requested\" >&5\n+echo \"configure:5333: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -5301,17 +5348,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5305: checking for libintl.h\" >&5\n+echo \"configure:5352: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5310 \"configure\"\n+#line 5357 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:5315: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5362: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -5328,19 +5375,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:5332: checking for gettext in libc\" >&5\n+echo \"configure:5379: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5337 \"configure\"\n+#line 5384 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:5344: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5391: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -5356,15 +5403,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:5360: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:5407: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5368 \"configure\"\n+#line 5415 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5375,7 +5422,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:5379: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5426: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5391,20 +5438,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:5395: checking for gettext in libintl\" >&5\n+echo \"configure:5442: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:5400: checking for gettext in -lintl\" >&5\n+echo \"configure:5447: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5408 \"configure\"\n+#line 5455 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5415,7 +5462,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:5419: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5466: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5458,7 +5505,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5462: checking for $ac_word\" >&5\n+echo \"configure:5509: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5492,12 +5539,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5496: checking for $ac_func\" >&5\n+echo \"configure:5543: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5501 \"configure\"\n+#line 5548 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5520,7 +5567,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5524: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5571: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5547,7 +5594,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5551: checking for $ac_word\" >&5\n+echo \"configure:5598: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5583,7 +5630,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5587: checking for $ac_word\" >&5\n+echo \"configure:5634: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5615,15 +5662,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 5619 \"configure\"\n+#line 5666 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:5627: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5674: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -5648,7 +5695,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:5652: checking whether catgets can be used\" >&5\n+echo \"configure:5699: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -5661,22 +5708,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:5665: checking for main in -li\" >&5\n+echo \"configure:5712: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5673 \"configure\"\n+#line 5720 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:5680: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5727: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5704,12 +5751,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:5708: checking for catgets\" >&5\n+echo \"configure:5755: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5713 \"configure\"\n+#line 5760 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -5732,7 +5779,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5736: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5783: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -5754,7 +5801,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5758: checking for $ac_word\" >&5\n+echo \"configure:5805: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5790,7 +5837,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5794: checking for $ac_word\" >&5\n+echo \"configure:5841: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5827,7 +5874,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5831: checking for $ac_word\" >&5\n+echo \"configure:5878: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5865,7 +5912,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5869: checking for $ac_word\" >&5\n+echo \"configure:5916: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5923,7 +5970,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5927: checking for $ac_word\" >&5\n+echo \"configure:5974: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5957,7 +6004,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5961: checking for $ac_word\" >&5\n+echo \"configure:6008: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5996,7 +6043,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6000: checking for $ac_word\" >&5\n+echo \"configure:6047: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6095,7 +6142,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:6099: checking for catalogs to be installed\" >&5\n+echo \"configure:6146: checking for catalogs to be installed\" >&5\n        if test \"x$LINGUAS\" = \"x\"; then\n \t LINGUAS=$ALL_LINGUAS\n        else\n@@ -6127,17 +6174,17 @@ echo \"configure:6099: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6131: checking for linux/version.h\" >&5\n+echo \"configure:6178: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6136 \"configure\"\n+#line 6183 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6141: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6188: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6210,15 +6257,78 @@ if test \"${enable_win32_registry+set}\" = set; then\n   :\n fi\n \n-\n+case $host_os in\n+\twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6216: checking whether windows registry support is requested\" >&5\n+echo \"configure:6264: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n EOF\n \n   echo \"$ac_t\"\"yes\" 1>&6\n+  \n+echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n+echo \"configure:6273: checking for library containing RegOpenKeyExA\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  ac_func_search_save_LIBS=\"$LIBS\"\n+ac_cv_search_RegOpenKeyExA=\"no\"\n+cat > conftest.$ac_ext <<EOF\n+#line 6280 \"configure\"\n+#include \"confdefs.h\"\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char RegOpenKeyExA();\n+\n+int main() {\n+RegOpenKeyExA()\n+; return 0; }\n+EOF\n+if { (eval echo configure:6291: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  ac_cv_search_RegOpenKeyExA=\"none required\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+fi\n+rm -f conftest*\n+test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n+LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n+cat > conftest.$ac_ext <<EOF\n+#line 6302 \"configure\"\n+#include \"confdefs.h\"\n+/* Override any gcc2 internal prototype to avoid an error.  */\n+/* We use char because int might match the return type of a gcc2\n+    builtin and then its argument prototype would still apply.  */\n+char RegOpenKeyExA();\n+\n+int main() {\n+RegOpenKeyExA()\n+; return 0; }\n+EOF\n+if { (eval echo configure:6313: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+  rm -rf conftest*\n+  ac_cv_search_RegOpenKeyExA=\"-l$i\"\n+break\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+fi\n+rm -f conftest*\n+done\n+LIBS=\"$ac_func_search_save_LIBS\"\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_search_RegOpenKeyExA\" 1>&6\n+if test \"$ac_cv_search_RegOpenKeyExA\" != \"no\"; then\n+  test \"$ac_cv_search_RegOpenKeyExA\" = \"none required\" || LIBS=\"$ac_cv_search_RegOpenKeyExA $LIBS\"\n+  \n+else :\n+  \n+fi\n else\n   echo \"$ac_t\"\"no\" 1>&6\n fi\n@@ -6241,13 +6351,15 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:6245: checking registry key on windows hosts\" >&5\n+echo \"configure:6355: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n \n   echo \"$ac_t\"\"$gcc_cv_win32_registry_key\" 1>&6\n fi\n+;;\n+esac\n \n # Get an absolute path to the GCC top-level source directory\n holddir=`pwd`\n@@ -6432,7 +6544,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6436: checking what assembler to use\" >&5\n+echo \"configure:6548: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -6517,7 +6629,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6521: checking what nm to use\" >&5\n+echo \"configure:6633: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test x$host = x$target; then\n@@ -6528,7 +6640,7 @@ echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:6532: checking assembler alignment features\" >&5\n+echo \"configure:6644: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -6576,7 +6688,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:6580: checking assembler subsection support\" >&5\n+echo \"configure:6692: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -6616,7 +6728,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:6620: checking assembler weak support\" >&5\n+echo \"configure:6732: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -6639,7 +6751,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:6643: checking assembler hidden support\" >&5\n+echo \"configure:6755: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 10 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -6663,7 +6775,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:6667: checking assembler leb128 support\" >&5\n+echo \"configure:6779: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 11 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -6710,7 +6822,7 @@ echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:6714: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:6826: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6738,7 +6850,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:6742: checking assembler supports -relax\" >&5\n+echo \"configure:6854: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6768,7 +6880,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:6772: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:6884: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6813,7 +6925,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:6817: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:6929: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6852,7 +6964,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:6856: checking assembler instructions\" >&5\n+echo \"configure:6968: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -6881,7 +6993,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:6885: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:6997: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -7066,7 +7178,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7070: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7182: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -7586,6 +7698,7 @@ s%@BUILD_INFO@%$BUILD_INFO%g\n s%@GENERATED_MANPAGES@%$GENERATED_MANPAGES%g\n s%@FLEX@%$FLEX%g\n s%@BISON@%$BISON%g\n+s%@COLLECT2_LIBS@%$COLLECT2_LIBS%g\n s%@TARGET_GETGROUPS_T@%$TARGET_GETGROUPS_T%g\n s%@vfprintf@%$vfprintf%g\n s%@doprint@%$doprint%g"}, {"sha": "893e2f89880f7eb72cdd3e9bd9b2ab3691c7e8ec", "filename": "gcc/configure.in", "status": "modified", "additions": 25, "deletions": 1, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4e70264f826ec25e36cdc66bda9560a4652f9ca6/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=4e70264f826ec25e36cdc66bda9560a4652f9ca6", "patch": "@@ -521,6 +521,26 @@ else\n   AC_CHECK_PROG(BISON, bison, bison, false)\n fi\n \n+# These libraries may be used by collect2.\n+# We may need a special search path to get them linked.\n+AC_CACHE_CHECK(for collect2 libraries, gcc_cv_collect2_libs,\n+[save_LIBS=\"$LIBS\"\n+for libs in '' -lld -lmld '-lmld -lexc' \\\n+\t\t'-L/usr/lib/cmplrs/cc2.11 -lmld' \\\n+\t\t'-L/usr/lib/cmplrs/cc3.11 -lmld'\n+do\n+\tLIBS=\"$libs\"\n+\tAC_TRY_LINK_FUNC(ldopen,\n+\t\t[gcc_cv_collect2_libs=\"$libs\"; break])\n+done\n+LIBS=\"$save_LIBS\"\n+test -z \"$gcc_cv_collect2_libs\" && gcc_cv_collect2_libs='none required'])\n+case $gcc_cv_collect2_libs in\n+\t\"none required\")\t;;\n+\t*)\tCOLLECT2_LIBS=$gcc_cv_collect2_libs ;;\n+esac\n+AC_SUBST(COLLECT2_LIBS)\n+\n # See if the stage1 system preprocessor understands the ANSI C\n # preprocessor stringification operator.  (Used by symcat.h.)\n AC_C_STRINGIZE\n@@ -907,13 +927,15 @@ AC_ARG_ENABLE(win32-registry,\n   --enable-win32-registry=KEY\n                           Use KEY instead of GCC version as the last portion\n                          of the registry key.],,)\n-\n+case $host_os in\n+\twin32 | pe | cygwin* | mingw32* | uwin*)\n AC_MSG_CHECKING(whether windows registry support is requested)\n if test x$enable_win32_registry != xno; then\n   AC_DEFINE(ENABLE_WIN32_REGISTRY, 1,\n [Define to 1 if installation paths should be looked up in Windows32\n    Registry. Ignored on non windows32 hosts.])\n   AC_MSG_RESULT(yes)\n+  AC_SEARCH_LIBS(RegOpenKeyExA, advapi32)\n else\n   AC_MSG_RESULT(no)\n fi\n@@ -940,6 +962,8 @@ if test x$enable_win32_registry != xno; then\n \t[Define to be the last portion of registry key on windows hosts.])\n   AC_MSG_RESULT($gcc_cv_win32_registry_key)\n fi\n+;;\n+esac\n \n # Get an absolute path to the GCC top-level source directory\n holddir=`pwd`"}]}