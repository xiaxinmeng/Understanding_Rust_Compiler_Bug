{"sha": "c70a48a8f8f6a43b35f783b5672c9a3c0a363c31", "node_id": "C_kwDOANBUbNoAKGM3MGE0OGE4ZjhmNmE0M2IzNWY3ODNiNTY3MmM5YTNjMGEzNjNjMzE", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2022-07-03T21:37:23Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2022-07-06T00:11:05Z"}, "message": "compiler: propagate array length error marker farther\n\nFixes golang/go#53639\n\nReviewed-on: https://go-review.googlesource.com/c/gofrontend/+/415936", "tree": {"sha": "c51ac04b3992234f5f135371b95e750896ae8bd5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c51ac04b3992234f5f135371b95e750896ae8bd5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ccc39d9e97ce24623aefae2097bff791e01619d9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ccc39d9e97ce24623aefae2097bff791e01619d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ccc39d9e97ce24623aefae2097bff791e01619d9"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "7c5c45672d78ea45fc49d1073a696eb528d52440", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=c70a48a8f8f6a43b35f783b5672c9a3c0a363c31", "patch": "@@ -1,4 +1,4 @@\n-a209dca9ec918535977dcab99fd9bb60986ffacd\n+d295a0a2c96c0f7c3abd94fea3aa4e2303bf2af2\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "2492d9fe73526a76dbbff5001b055b45a319dc32", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=c70a48a8f8f6a43b35f783b5672c9a3c0a363c31", "patch": "@@ -8486,6 +8486,11 @@ Builtin_call_expression::do_flatten(Gogo* gogo, Named_object* function,\n \t     pa != this->args()->end();\n \t     ++pa)\n \t  {\n+\t    if ((*pa)->is_error_expression())\n+\t      {\n+\t\tgo_assert(saw_errors());\n+\t\treturn Expression::make_error(loc);\n+\t      }\n \t    if ((*pa)->is_nil_expression())\n \t      {\n \t\tExpression* nil = Expression::make_nil(loc);\n@@ -13391,6 +13396,7 @@ Array_index_expression::do_check_types(Gogo*)\n   if (array_type == NULL)\n     {\n       go_assert(this->array_->type()->is_error());\n+      this->set_is_error();\n       return;\n     }\n "}, {"sha": "9f34801f6950e353da550d07ca8d01d56b1cbbfd", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c70a48a8f8f6a43b35f783b5672c9a3c0a363c31/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=c70a48a8f8f6a43b35f783b5672c9a3c0a363c31", "patch": "@@ -7429,7 +7429,10 @@ bool\n Array_type::do_verify()\n {\n   if (this->element_type()->is_error_type())\n-    return false;\n+    {\n+      this->set_is_error();\n+      return false;\n+    }\n   if (!this->verify_length())\n     {\n       this->length_ = Expression::make_error(this->length_->location());"}]}