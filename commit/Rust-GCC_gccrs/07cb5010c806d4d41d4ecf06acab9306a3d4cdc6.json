{"sha": "07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDdjYjUwMTBjODA2ZDRkNDFkNGVjZjA2YWNhYjkzMDZhM2Q0Y2RjNg==", "commit": {"author": {"name": "Steve Ellcey", "email": "sellcey@mips.com", "date": "2013-11-07T20:42:51Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2013-11-07T20:42:51Z"}, "message": "mti-linux.h (SYSROOT_SUFFIX_SPEC): Add fp64 directory.\n\n2013-11-07  Steve Ellcey  <sellcey@mips.com>\n\n\t* config/mips/mti-linux.h (SYSROOT_SUFFIX_SPEC): Add fp64 directory.\n\t* config/mips/t-mti-linux (MULTILIB_OPTIONS): Add -mfp64 flag.\n\t(MULTILIB_DIRNAMES): Add fp64 directory.\n\t(MULTILIB_EXCEPTIONS): Add new exclusions.\n\nFrom-SVN: r204542", "tree": {"sha": "ffe7345046226da37a860c6201687f2389a78309", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ffe7345046226da37a860c6201687f2389a78309"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/comments", "author": null, "committer": null, "parents": [{"sha": "b3b6e1f280e49d27306ee99c335de758e567fd19", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b3b6e1f280e49d27306ee99c335de758e567fd19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b3b6e1f280e49d27306ee99c335de758e567fd19"}], "stats": {"total": 37, "additions": 30, "deletions": 7}, "files": [{"sha": "e59e37a52cc8e0cf99c07ca3f3da30defbdfe7e9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "patch": "@@ -1,3 +1,10 @@\n+2013-11-07  Steve Ellcey  <sellcey@mips.com>\n+\n+\t* config/mips/mti-linux.h (SYSROOT_SUFFIX_SPEC): Add fp64 directory.\n+\t* config/mips/t-mti-linux (MULTILIB_OPTIONS): Add -mfp64 flag.\n+\t(MULTILIB_DIRNAMES): Add fp64 directory.\n+\t(MULTILIB_EXCEPTIONS): Add new exclusions.\n+\n 2013-11-07  Aldy Hernandez  <aldyh@redhat.com>\n \n \t* gimplify.c (gimple_regimplify_operands): Do not set"}, {"sha": "194fd1da7234549a3c2cb553475e90f0e8c7ac2c", "filename": "gcc/config/mips/mti-linux.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2Fconfig%2Fmips%2Fmti-linux.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2Fconfig%2Fmips%2Fmti-linux.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmti-linux.h?ref=07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "patch": "@@ -20,7 +20,7 @@ along with GCC; see the file COPYING3.  If not see\n /* This target is a multilib target, specify the sysroot paths.  */\n #undef SYSROOT_SUFFIX_SPEC\n #define SYSROOT_SUFFIX_SPEC \\\n-    \"%{mips32:/mips32}%{mips64:/mips64}%{mips64r2:/mips64r2}%{mips16:/mips16}%{mmicromips:/micromips}%{mabi=64:/64}%{mel|EL:/el}%{msoft-float:/sof}%{mnan=2008:/nan2008}\"\n+    \"%{mips32:/mips32}%{mips64:/mips64}%{mips64r2:/mips64r2}%{mips16:/mips16}%{mmicromips:/micromips}%{mabi=64:/64}%{mel|EL:/el}%{msoft-float:/sof}%{mfp64:/fp64}%{mnan=2008:/nan2008}\"\n \n #undef DRIVER_SELF_SPECS\n #define DRIVER_SELF_SPECS\t\t\t\t\t\t\\"}, {"sha": "f2c714b9331377b8b6bdeaf52becc7349d3a2df1", "filename": "gcc/config/mips/t-mti-elf", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2Fconfig%2Fmips%2Ft-mti-elf", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2Fconfig%2Fmips%2Ft-mti-elf", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-mti-elf?ref=07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "patch": "@@ -19,8 +19,8 @@\n # The default build is mips32r2, hard-float big-endian.  Add mips32,\n # soft-float, and little-endian variations.\n \n-MULTILIB_OPTIONS = mips32/mips64/mips64r2 mips16/mmicromips mabi=64 EL msoft-float/mnan=2008\n-MULTILIB_DIRNAMES = mips32 mips64 mips64r2 mips16 micromips 64 el sof nan2008\n+MULTILIB_OPTIONS = mips32/mips64/mips64r2 mips16/mmicromips mabi=64 EL msoft-float/mfp64 mnan=2008\n+MULTILIB_DIRNAMES = mips32 mips64 mips64r2 mips16 micromips 64 el sof fp64 nan2008\n MULTILIB_MATCHES = EL=mel EB=meb\n \n # The 64 bit ABI is not supported on the mips32 architecture.\n@@ -37,6 +37,14 @@ MULTILIB_EXCEPTIONS += *mips64*/*mips16*\n MULTILIB_EXCEPTIONS += *mips16/mabi=64*\n \n # We only want micromips for mips32r2 architecture.\n-MULTILIB_EXCEPTIONS += *mips64*/mmicromips*\n MULTILIB_EXCEPTIONS += *mips32/mmicromips*\n+MULTILIB_EXCEPTIONS += *mips64*/mmicromips*\n MULTILIB_EXCEPTIONS += *mmicromips/mabi=64*\n+\n+# We do not want nan2008 libraries for soft-float.\n+MULTILIB_EXCEPTIONS += *msoft-float*/*mnan=2008*\n+\n+# -mfp64 libraries are only built for mips32r2 and not in mips16 mode.\n+MULTILIB_EXCEPTIONS += *mips32/*mfp64*\n+MULTILIB_EXCEPTIONS += *mips64*/*mfp64*\n+MULTILIB_EXCEPTIONS += *mips16*/*mfp64*"}, {"sha": "f2c714b9331377b8b6bdeaf52becc7349d3a2df1", "filename": "gcc/config/mips/t-mti-linux", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2Fconfig%2Fmips%2Ft-mti-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/07cb5010c806d4d41d4ecf06acab9306a3d4cdc6/gcc%2Fconfig%2Fmips%2Ft-mti-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-mti-linux?ref=07cb5010c806d4d41d4ecf06acab9306a3d4cdc6", "patch": "@@ -19,8 +19,8 @@\n # The default build is mips32r2, hard-float big-endian.  Add mips32,\n # soft-float, and little-endian variations.\n \n-MULTILIB_OPTIONS = mips32/mips64/mips64r2 mips16/mmicromips mabi=64 EL msoft-float/mnan=2008\n-MULTILIB_DIRNAMES = mips32 mips64 mips64r2 mips16 micromips 64 el sof nan2008\n+MULTILIB_OPTIONS = mips32/mips64/mips64r2 mips16/mmicromips mabi=64 EL msoft-float/mfp64 mnan=2008\n+MULTILIB_DIRNAMES = mips32 mips64 mips64r2 mips16 micromips 64 el sof fp64 nan2008\n MULTILIB_MATCHES = EL=mel EB=meb\n \n # The 64 bit ABI is not supported on the mips32 architecture.\n@@ -37,6 +37,14 @@ MULTILIB_EXCEPTIONS += *mips64*/*mips16*\n MULTILIB_EXCEPTIONS += *mips16/mabi=64*\n \n # We only want micromips for mips32r2 architecture.\n-MULTILIB_EXCEPTIONS += *mips64*/mmicromips*\n MULTILIB_EXCEPTIONS += *mips32/mmicromips*\n+MULTILIB_EXCEPTIONS += *mips64*/mmicromips*\n MULTILIB_EXCEPTIONS += *mmicromips/mabi=64*\n+\n+# We do not want nan2008 libraries for soft-float.\n+MULTILIB_EXCEPTIONS += *msoft-float*/*mnan=2008*\n+\n+# -mfp64 libraries are only built for mips32r2 and not in mips16 mode.\n+MULTILIB_EXCEPTIONS += *mips32/*mfp64*\n+MULTILIB_EXCEPTIONS += *mips64*/*mfp64*\n+MULTILIB_EXCEPTIONS += *mips16*/*mfp64*"}]}