{"sha": "7ffe3584805254da8b6cefbb89ebf4da8951c400", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2ZmZTM1ODQ4MDUyNTRkYThiNmNlZmJiODllYmY0ZGE4OTUxYzQwMA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2003-03-27T23:53:08Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2003-03-27T23:53:08Z"}, "message": "gcov.exp (run-gcov): Add branches and calls options, rather than reading .x files.\n\n\t* lib/gcov.exp (run-gcov): Add branches and calls options, rather\n\tthan reading .x files.\n\t* g++.dg/gcov/gcov-1.C: Use run-gcov options, not .x files.\n\t* g77.dg/gcov/gcov-1.f: Likewise.\n\t* gcc.misc-tests/gcov-4b.c: Likewise.\n\t* gcc.misc-tests/gcov-5b.c: Likewise.\n\t* gcc.misc-tests/gcov-6.c: Likewise.\n\t* gcc.misc-tests/gcov-7.c: Likewise.\n\t* gcc.misc-tests/gcov-8.c: Likewise.\n\t* g++.dg/gcov/gcov-1.x: Remove.\n\t* g77.dg/gcov/gcov-1.x: Likewise.\n\t* gcc.misc-tests/gcov-4b.x: Likewise.\n\t* gcc.misc-tests/gcov-5b.x: Likewise.\n\t* gcc.misc-tests/gcov-6.x: Likewise.\n\t* gcc.misc-tests/gcov-7.x: Likewise.\n\t* gcc.misc-tests/gcov-8.x: Likewise.\n\nFrom-SVN: r64937", "tree": {"sha": "2e5d7d573a5b7434c1a66870ae9f6c79faaea5d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2e5d7d573a5b7434c1a66870ae9f6c79faaea5d7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7ffe3584805254da8b6cefbb89ebf4da8951c400", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ffe3584805254da8b6cefbb89ebf4da8951c400", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ffe3584805254da8b6cefbb89ebf4da8951c400", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ffe3584805254da8b6cefbb89ebf4da8951c400/comments", "author": null, "committer": null, "parents": [{"sha": "01e60c33e6168fec1d7a79467b412d20a686bcf8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/01e60c33e6168fec1d7a79467b412d20a686bcf8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/01e60c33e6168fec1d7a79467b412d20a686bcf8"}], "stats": {"total": 93, "additions": 49, "deletions": 44}, "files": [{"sha": "c438ad3c8377eacbebafc71dec45f16a89c3e699", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -1,3 +1,22 @@\n+2003-03-27  Mark Mitchell  <mark@codesourcery.com>\n+\n+\t* lib/gcov.exp (run-gcov): Add branches and calls options, rather\n+\tthan reading .x files.\n+\t* g++.dg/gcov/gcov-1.C: Use run-gcov options, not .x files.\n+\t* g77.dg/gcov/gcov-1.f: Likewise.\n+\t* gcc.misc-tests/gcov-4b.c: Likewise.\n+\t* gcc.misc-tests/gcov-5b.c: Likewise.\n+\t* gcc.misc-tests/gcov-6.c: Likewise.\n+\t* gcc.misc-tests/gcov-7.c: Likewise.\n+\t* gcc.misc-tests/gcov-8.c: Likewise.\n+\t* g++.dg/gcov/gcov-1.x: Remove.\n+\t* g77.dg/gcov/gcov-1.x: Likewise.\n+\t* gcc.misc-tests/gcov-4b.x: Likewise.\n+\t* gcc.misc-tests/gcov-5b.x: Likewise.\n+\t* gcc.misc-tests/gcov-6.x: Likewise.\n+\t* gcc.misc-tests/gcov-7.x: Likewise.\n+\t* gcc.misc-tests/gcov-8.x: Likewise.\n+\n 2003-03-27  Glen Nakamura  <glen@imodulo.com>\n \n \tPR opt/10087"}, {"sha": "6089adac05b40f22776215850fdfb5955d1a5d4e", "filename": "gcc/testsuite/g++.dg/gcov/gcov-1.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fgcov-1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fgcov-1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fgcov-1.C?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -310,4 +310,4 @@ main()\n   return 0;\n }\n \n-/* { dg-final { run-gcov -b gcov-1.C } } */\n+/* { dg-final { run-gcov branches { -b gcov-1.C } } } */"}, {"sha": "b01ef42b9d772316f3c99c588e2042897a94c63e", "filename": "gcc/testsuite/g++.dg/gcov/gcov-1.x", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fgcov-1.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fgcov-1.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgcov%2Fgcov-1.x?ref=01e60c33e6168fec1d7a79467b412d20a686bcf8", "patch": "@@ -1,2 +0,0 @@\n-set gcov_verify_branches 1\n-return 0"}, {"sha": "c4b82eca73778e5e01a29af9cdc1ec4f188b6fe5", "filename": "gcc/testsuite/g77.dg/gcov/gcov-1.f", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fg77.dg%2Fgcov%2Fgcov-1.f", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fg77.dg%2Fgcov%2Fgcov-1.f", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg77.dg%2Fgcov%2Fgcov-1.f?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -424,4 +424,4 @@ integer function ie3(i,j)\n       end if\n       end\n C\n-C { dg-final { run-gcov -b gcov-1.f } }\n+C { dg-final { run-gcov branches calls { -b gcov-1.f } } }"}, {"sha": "8e4f50be9a44b898248f116c1cbecc8f401e748b", "filename": "gcc/testsuite/g77.dg/gcov/gcov-1.x", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fg77.dg%2Fgcov%2Fgcov-1.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fg77.dg%2Fgcov%2Fgcov-1.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg77.dg%2Fgcov%2Fgcov-1.x?ref=01e60c33e6168fec1d7a79467b412d20a686bcf8", "patch": "@@ -1,3 +0,0 @@\n-set gcov_verify_branches 1\n-set gcov_verify_calls 1\n-return 0"}, {"sha": "139f10d86c901b7b0bf9da02a4a18b9d898d715b", "filename": "gcc/testsuite/gcc.misc-tests/gcov-4b.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-4b.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-4b.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-4b.c?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -258,4 +258,4 @@ main()\n   return 0;\n }\n \n-/* { dg-final { run-gcov -b gcov-4b.c } } */\n+/* { dg-final { run-gcov branches { -b gcov-4b.c } } } */"}, {"sha": "b01ef42b9d772316f3c99c588e2042897a94c63e", "filename": "gcc/testsuite/gcc.misc-tests/gcov-4b.x", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-4b.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-4b.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-4b.x?ref=01e60c33e6168fec1d7a79467b412d20a686bcf8", "patch": "@@ -1,2 +0,0 @@\n-set gcov_verify_branches 1\n-return 0"}, {"sha": "cbd3958718ccc4758b19d894580f89cf270d4d0c", "filename": "gcc/testsuite/gcc.misc-tests/gcov-5b.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-5b.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-5b.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-5b.c?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -31,4 +31,4 @@ int main ()\n   return 0;\n }\n \n-/* { dg-final { run-gcov -b gcov-5b.c } } */\n+/* { dg-final { run-gcov branches { -b gcov-5b.c } } } */"}, {"sha": "b01ef42b9d772316f3c99c588e2042897a94c63e", "filename": "gcc/testsuite/gcc.misc-tests/gcov-5b.x", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-5b.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-5b.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-5b.x?ref=01e60c33e6168fec1d7a79467b412d20a686bcf8", "patch": "@@ -1,2 +0,0 @@\n-set gcov_verify_branches 1\n-return 0"}, {"sha": "90273d56396b81c9a3a394b5486435580cb0f1e6", "filename": "gcc/testsuite/gcc.misc-tests/gcov-6.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-6.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-6.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-6.c?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -34,4 +34,4 @@ main()\n   \t\t\t\t\t/* returns(end) */\n }\n \n-/* { dg-final { run-gcov -b gcov-6.c } } */\n+/* { dg-final { run-gcov branches calls { -b gcov-6.c } } } */"}, {"sha": "8e4f50be9a44b898248f116c1cbecc8f401e748b", "filename": "gcc/testsuite/gcc.misc-tests/gcov-6.x", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-6.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-6.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-6.x?ref=01e60c33e6168fec1d7a79467b412d20a686bcf8", "patch": "@@ -1,3 +0,0 @@\n-set gcov_verify_branches 1\n-set gcov_verify_calls 1\n-return 0"}, {"sha": "700cec6f533b8ad900ca709c13ec4dd3d60c51b2", "filename": "gcc/testsuite/gcc.misc-tests/gcov-7.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-7.c?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -81,4 +81,4 @@ main()\n \t\t\t\t\t/* returns(end) */\n }\n \n-/* { dg-final { run-gcov -b gcov-7.c } } */\n+/* { dg-final { run-gcov calls branches { -b gcov-7.c } } } */"}, {"sha": "8e4f50be9a44b898248f116c1cbecc8f401e748b", "filename": "gcc/testsuite/gcc.misc-tests/gcov-7.x", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-7.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-7.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-7.x?ref=01e60c33e6168fec1d7a79467b412d20a686bcf8", "patch": "@@ -1,3 +0,0 @@\n-set gcov_verify_branches 1\n-set gcov_verify_calls 1\n-return 0"}, {"sha": "7223bde8374cd9172efbed749fc7bbb6f1e27b15", "filename": "gcc/testsuite/gcc.misc-tests/gcov-8.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-8.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-8.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-8.c?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -44,4 +44,4 @@ int main ()\n   return t == 0;\n }\n \n-/* { dg-final { run-gcov -b gcov-8.c } } */\n+/* { dg-final { run-gcov branches {-b gcov-8.c } } } */"}, {"sha": "b01ef42b9d772316f3c99c588e2042897a94c63e", "filename": "gcc/testsuite/gcc.misc-tests/gcov-8.x", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-8.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/01e60c33e6168fec1d7a79467b412d20a686bcf8/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-8.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.misc-tests%2Fgcov-8.x?ref=01e60c33e6168fec1d7a79467b412d20a686bcf8", "patch": "@@ -1,2 +0,0 @@\n-set gcov_verify_branches 1\n-return 0"}, {"sha": "a6c70c4e42f52eea05f0171e9501090d5a732ba4", "filename": "gcc/testsuite/lib/gcov.exp", "status": "modified", "additions": 23, "deletions": 20, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Flib%2Fgcov.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7ffe3584805254da8b6cefbb89ebf4da8951c400/gcc%2Ftestsuite%2Flib%2Fgcov.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fgcov.exp?ref=7ffe3584805254da8b6cefbb89ebf4da8951c400", "patch": "@@ -217,37 +217,40 @@ proc verify-calls { testcase file } {\n \n # Called by dg-final to run gcov and analyze the results.\n #\n-# ARGS is the options to pass to gcov followed by the name of the\n-# test source file.\n+# ARGS consists of the optional strings \"branches\" and/or \"calls\",\n+# (indicating that these things should be verified) followed by a \n+# list of arguments to provide to gcov, including the name of the\n+# source file.\n \n proc run-gcov { args } {\n     global GCOV\n     global srcdir subdir\n \n-    # Extract the test name from the arguments.\n-    set testcase [lindex $args end]\n+    set gcov_args [lindex $args end]\n+\n+    set gcov_verify_calls 0\n+    set gcov_verify_branches 0\n+    set gcov_execute_xfail \"\"\n+    set gcov_verify_xfail \"\"\n \n-    # Get special options for this test from the .x script, if present.\n-    # This can include:\n-    #   gcov_execute_xfail     string to pass to setup_xfail\n-    #   gcov_verify_xfail      string to pass to setup_xfail\n-    #   gcov_verify_branches   if defined, check branch percentages\n-    #   gcov_verify_calls      if defined, check call return percentages\n-    if [file exists [file rootname $srcdir/$subdir/$testcase].x] {\n-\tset done_p 0\n-\tcatch \"set done_p \\[source [file rootname $srcdir/$subdir/$testcase].x\\]\"\n-\tif { $done_p } {\n-\t    return\n+    foreach a $args {\n+\tif { $a == \"calls\" } {\n+\t  set gcov_verify_calls 1\n+\t} elseif { $a == \"branches\" } {\n+\t  set gcov_verify_branches 1\n \t}\n     }\n \n-    if [info exists gcov_execute_xfail] {\n+    # Extract the test name from the arguments.\n+    set testcase [lindex $gcov_args end]\n+\n+    if { $gcov_execute_xfail != \"\" } {\n \teval setup_xfail [split $gcov_execute_xfail]\n     }\n \n     verbose \"Running $GCOV $testcase\" 2\n     set testcase [remote_download host $testcase];\n-    set result [remote_exec host $GCOV $args];\n+    set result [remote_exec host $GCOV $gcov_args];\n     if { [lindex $result 0] != 0 } {\n \tfail \"$subdir/$testcase gcov failed: [lindex $result 1]\"\n \tclean-gcov $testcase\n@@ -263,7 +266,7 @@ proc run-gcov { args } {\n     }\n     remote_upload host $testcase.gcov $testcase.gcov;\n \n-    if [info exists gcov_verify_xfail] {\n+    if { $gcov_verify_xfail != \"\" } {\n \teval setup_xfail [split $gcov_verify_xfail]\n     }\n \n@@ -272,12 +275,12 @@ proc run-gcov { args } {\n \n     # If requested via the .x file, check that branch and call information\n     # is correct.\n-    if [info exists gcov_verify_branches] {\n+    if { $gcov_verify_branches } {\n \tset bfailed [verify-branches $testcase $testcase.gcov]\n     } else {\n \tset bfailed 0\n     }\n-    if [info exists gcov_verify_calls] {\n+    if { $gcov_verify_calls } {\n \tset cfailed [verify-calls $testcase $testcase.gcov]\n     } else {\n \tset cfailed 0"}]}