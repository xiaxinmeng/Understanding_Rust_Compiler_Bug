{"sha": "804035d38eee386c7b31b2d03a0b221f9c36d47d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA0MDM1ZDM4ZWVlMzg2YzdiMzFiMmQwM2EwYjIyMWY5YzM2ZDQ3ZA==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2005-05-03T16:35:17Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2005-05-03T16:35:17Z"}, "message": "cfglayout.c (block_locators_blocks, [...]): Use VEC instead of VARRAY.\n\n\t* cfglayout.c (block_locators_blocks,\n\tinsn_locators_initialize, insn_scope): Use VEC instead of\n\tVARRAY.\n\nFrom-SVN: r99162", "tree": {"sha": "dc949896ebaf13e4a9dc75f5683d03a9940024b9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dc949896ebaf13e4a9dc75f5683d03a9940024b9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/804035d38eee386c7b31b2d03a0b221f9c36d47d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/804035d38eee386c7b31b2d03a0b221f9c36d47d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/804035d38eee386c7b31b2d03a0b221f9c36d47d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/804035d38eee386c7b31b2d03a0b221f9c36d47d/comments", "author": null, "committer": null, "parents": [{"sha": "02f4bd120c2ef60620bb1a4ab1c40747304ee75f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/02f4bd120c2ef60620bb1a4ab1c40747304ee75f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/02f4bd120c2ef60620bb1a4ab1c40747304ee75f"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "761c1a1148b42ffcb71bb3e144947f76ac88899c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/804035d38eee386c7b31b2d03a0b221f9c36d47d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/804035d38eee386c7b31b2d03a0b221f9c36d47d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=804035d38eee386c7b31b2d03a0b221f9c36d47d", "patch": "@@ -2,6 +2,10 @@\n \n \t* tree-cfg.c (tree_forwarder_block_p): Fix a typo.\n \n+\t* cfglayout.c (block_locators_blocks,\n+\tinsn_locators_initialize, insn_scope): Use VEC instead of\n+\tVARRAY.\n+\n 2005-05-03  Eric Botcazou  <ebotcazou@libertysurf.fr>\n \n \t* config/sparc/predicates.md (const_compl_high_operand): New."}, {"sha": "3a701001b8c8a3880e9dc606b5c6d6a3ecb95e43", "filename": "gcc/cfglayout.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/804035d38eee386c7b31b2d03a0b221f9c36d47d/gcc%2Fcfglayout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/804035d38eee386c7b31b2d03a0b221f9c36d47d/gcc%2Fcfglayout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfglayout.c?ref=804035d38eee386c7b31b2d03a0b221f9c36d47d", "patch": "@@ -230,7 +230,7 @@ record_effective_endpoints (void)\n    locator greater than corresponding block_locators_locs value and smaller\n    than the following one.  Similarly for the other properties.  */\n static GTY(()) varray_type block_locators_locs;\n-static GTY(()) varray_type block_locators_blocks;\n+static GTY(()) VEC(tree,gc) *block_locators_blocks;\n static GTY(()) varray_type line_locators_locs;\n static GTY(()) varray_type line_locators_lines;\n static GTY(()) varray_type file_locators_locs;\n@@ -255,7 +255,7 @@ insn_locators_initialize (void)\n   prologue_locator = epilogue_locator = 0;\n \n   VARRAY_INT_INIT (block_locators_locs, 32, \"block_locators_locs\");\n-  VARRAY_TREE_INIT (block_locators_blocks, 32, \"block_locators_blocks\");\n+  block_locators_blocks = VEC_alloc (tree, gc, 32);\n   VARRAY_INT_INIT (line_locators_locs, 32, \"line_locators_locs\");\n   VARRAY_INT_INIT (line_locators_lines, 32, \"line_locators_lines\");\n   VARRAY_INT_INIT (file_locators_locs, 32, \"file_locators_locs\");\n@@ -294,7 +294,7 @@ insn_locators_initialize (void)\n \t    {\n \t      loc++;\n \t      VARRAY_PUSH_INT (block_locators_locs, loc);\n-\t      VARRAY_PUSH_TREE (block_locators_blocks, block);\n+\t      VEC_safe_push (tree, gc, block_locators_blocks, block);\n \t      last_block = block;\n \t    }\n \t  if (last_line_number != line_number)\n@@ -435,7 +435,7 @@ insn_scope (rtx insn)\n \t  break;\n \t}\n     }\n-   return VARRAY_TREE (block_locators_blocks, min);\n+  return VEC_index (tree, block_locators_blocks, min);\n }\n \n /* Return line number of the statement specified by the locator.  */"}]}