{"sha": "bb748b89dfae944fe6e075f1b5d1c3d1501c0948", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmI3NDhiODlkZmFlOTQ0ZmU2ZTA3NWYxYjVkMWMzZDE1MDFjMDk0OA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-08-22T21:30:49Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2016-08-22T21:30:49Z"}, "message": "compiler: don't permit P.M if P is a pointer type\n    \n    When lowering method expressions of the form \"P.M\" where\n    P is a pointer type (e.g. \"type P *T\") make sure we examine\n    the method set of P and not T during method lookup.\n    \n    Fixes golang/go#15722.\n    \n    Reviewed-on: https://go-review.googlesource.com/24843\n\nFrom-SVN: r239675", "tree": {"sha": "a338751b498276068ff5ae59293747a796105a88", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a338751b498276068ff5ae59293747a796105a88"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bb748b89dfae944fe6e075f1b5d1c3d1501c0948", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb748b89dfae944fe6e075f1b5d1c3d1501c0948", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bb748b89dfae944fe6e075f1b5d1c3d1501c0948", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bb748b89dfae944fe6e075f1b5d1c3d1501c0948/comments", "author": null, "committer": null, "parents": [{"sha": "d79d6252758099b8424434df6227c8beaea68608", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d79d6252758099b8424434df6227c8beaea68608", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d79d6252758099b8424434df6227c8beaea68608"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "0cf4f03be019fbaec2849fc8aab8bb63903cc924", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb748b89dfae944fe6e075f1b5d1c3d1501c0948/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb748b89dfae944fe6e075f1b5d1c3d1501c0948/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=bb748b89dfae944fe6e075f1b5d1c3d1501c0948", "patch": "@@ -1,4 +1,4 @@\n-affb1bf5fcd7abf05993c54313d8000b93a08d4a\n+0476944600d456b2616981fff90c77be5e06edd5\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "803611d544210c857b0560fc74641c9ea4f8f91f", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bb748b89dfae944fe6e075f1b5d1c3d1501c0948/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bb748b89dfae944fe6e075f1b5d1c3d1501c0948/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=bb748b89dfae944fe6e075f1b5d1c3d1501c0948", "patch": "@@ -11439,7 +11439,8 @@ Expression*\n Selector_expression::lower_method_expression(Gogo* gogo)\n {\n   Location location = this->location();\n-  Type* type = this->left_->type();\n+  Type* left_type = this->left_->type();\n+  Type* type = left_type;\n   const std::string& name(this->name_);\n \n   bool is_pointer;\n@@ -11469,7 +11470,8 @@ Selector_expression::lower_method_expression(Gogo* gogo)\n \timethod = it->find_method(name);\n     }\n \n-  if (method == NULL && imethod == NULL)\n+  if ((method == NULL && imethod == NULL) \n+      || (left_type->named_type() != NULL && left_type->points_to() != NULL))\n     {\n       if (!is_ambiguous)\n \terror_at(location, \"type %<%s%s%> has no method %<%s%>\","}]}