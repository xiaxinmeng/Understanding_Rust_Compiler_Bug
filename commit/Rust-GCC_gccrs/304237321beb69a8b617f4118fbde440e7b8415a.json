{"sha": "304237321beb69a8b617f4118fbde440e7b8415a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzA0MjM3MzIxYmViNjlhOGI2MTdmNDExOGZiZGU0NDBlN2I4NDE1YQ==", "commit": {"author": {"name": "Marco Trudel", "email": "mtrudel@gmx.ch", "date": "2007-02-07T22:45:11Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2007-02-07T22:45:11Z"}, "message": "jni.cc (_Jv_JNI_DeleteWeakGlobalRef): Check for NULL objects.\n\n2007-02-01 Marco Trudel <mtrudel@gmx.ch>\n\n\t* jni.cc (_Jv_JNI_DeleteWeakGlobalRef): Check for NULL objects.\n\nFrom-SVN: r121699", "tree": {"sha": "dde78be310ecc3b5e900fbc50be51aea3f79076f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dde78be310ecc3b5e900fbc50be51aea3f79076f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/304237321beb69a8b617f4118fbde440e7b8415a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/304237321beb69a8b617f4118fbde440e7b8415a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/304237321beb69a8b617f4118fbde440e7b8415a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/304237321beb69a8b617f4118fbde440e7b8415a/comments", "author": null, "committer": null, "parents": [{"sha": "0ccadf458df125985960ccff8a7d065ae5166908", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0ccadf458df125985960ccff8a7d065ae5166908", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0ccadf458df125985960ccff8a7d065ae5166908"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "561f8262056280679c758a337fea548bf298a266", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/304237321beb69a8b617f4118fbde440e7b8415a/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/304237321beb69a8b617f4118fbde440e7b8415a/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=304237321beb69a8b617f4118fbde440e7b8415a", "patch": "@@ -1,3 +1,7 @@\n+2007-02-01 Marco Trudel <mtrudel@gmx.ch>\n+\n+\t* jni.cc (_Jv_JNI_DeleteWeakGlobalRef): Check for NULL objects.\n+\n 2007-02-07  Tom Tromey  <tromey@redhat.com>\n \n \t* testsuite/libjava.jni/init.c: New file."}, {"sha": "d71b16d99eafd18c5b202a3eef65c9a9bac9e998", "filename": "libjava/jni.cc", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/304237321beb69a8b617f4118fbde440e7b8415a/libjava%2Fjni.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/304237321beb69a8b617f4118fbde440e7b8415a/libjava%2Fjni.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjni.cc?ref=304237321beb69a8b617f4118fbde440e7b8415a", "patch": "@@ -1750,6 +1750,10 @@ _Jv_JNI_NewWeakGlobalRef (JNIEnv *env, jobject obj)\n void JNICALL\n _Jv_JNI_DeleteWeakGlobalRef (JNIEnv *, jweak obj)\n {\n+  // JDK compatibility.\n+  if (obj == NULL)\n+    return;\n+\n   using namespace gnu::gcj::runtime;\n   JNIWeakRef *ref = reinterpret_cast<JNIWeakRef *> (obj);\n   unmark_for_gc (ref, global_ref_table);"}]}