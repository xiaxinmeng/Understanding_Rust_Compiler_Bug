{"sha": "1bfc8f675bee787718c1f5d24a300d7b86107fea", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWJmYzhmNjc1YmVlNzg3NzE4YzFmNWQyNGEzMDBkN2I4NjEwN2ZlYQ==", "commit": {"author": {"name": "Janis Johnson", "email": "janis187@us.ibm.com", "date": "2004-05-24T17:57:09Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2004-05-24T17:57:09Z"}, "message": "altivec-7.c: Don't use 'vector long'.\n\n2004-05-24  Janis Johnson  <janis187@us.ibm.com>\n\n\t* gcc.dg/altivec-7.c: Don't use 'vector long'.\n\t* gcc.dg/altivec-14.c: New test.\n\t* g++.dg/ext/altivec-7.C: Don't use 'vector long'.\n\nFrom-SVN: r82213", "tree": {"sha": "a2c61c8c6c6685dbe81ac8429dea1c9ee8d71600", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a2c61c8c6c6685dbe81ac8429dea1c9ee8d71600"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1bfc8f675bee787718c1f5d24a300d7b86107fea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bfc8f675bee787718c1f5d24a300d7b86107fea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1bfc8f675bee787718c1f5d24a300d7b86107fea", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1bfc8f675bee787718c1f5d24a300d7b86107fea/comments", "author": null, "committer": null, "parents": [{"sha": "6eade693b5f5f0c6d7b75d61d44b75eafc94dd1d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6eade693b5f5f0c6d7b75d61d44b75eafc94dd1d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6eade693b5f5f0c6d7b75d61d44b75eafc94dd1d"}], "stats": {"total": 53, "additions": 40, "deletions": 13}, "files": [{"sha": "71cb311a151fd0ac33463572c211a6955ff0cd1e", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1bfc8f675bee787718c1f5d24a300d7b86107fea", "patch": "@@ -1,5 +1,9 @@\n 2004-05-24  Janis Johnson  <janis187@us.ibm.com>\n \n+\t* gcc.dg/altivec-7.c: Don't use 'vector long'.\n+\t* gcc.dg/altivec-14.c: New test.\n+\t* g++.dg/ext/altivec-7.C: Don't use 'vector long'.\n+\n \t* gcc.dg/altivec-6.c: Use -maltivec, don't limit to darwin.\n \t* gcc.dg/altivec-12.c: Ditto.\n "}, {"sha": "9d479d898492988b70b3af20803b68207b249c52", "filename": "gcc/testsuite/g++.dg/ext/altivec-7.C", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-7.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-7.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Faltivec-7.C?ref=1bfc8f675bee787718c1f5d24a300d7b86107fea", "patch": "@@ -10,9 +10,9 @@ void foo(vector bool     char) { }\n void foo(vector unsigned short) { }\n void foo(vector signed short) { }\n void foo(vector bool short) { }\n-void foo(vector unsigned long) { } /* { dg-warning \"use of .long. in AltiVec types is deprecated. use .int.\" } */\n-void foo(vector signed long) { }   /* { dg-warning \"use of .long. in AltiVec types is deprecated. use .int.\" } */\n-void foo(vector bool long) { }     /* { dg-warning \"use of .long. in AltiVec types is deprecated. use .int.\" } */\n+void foo(vector unsigned int) { }\n+void foo(vector signed int) { }\n+void foo(vector bool int) { }\n void foo(vector float) { }\n void foo(vector pixel) { }\n void foo(int) { }"}, {"sha": "a2f9ed310366e01e4054dbe364c7c83c128aa2c4", "filename": "gcc/testsuite/gcc.dg/altivec-14.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2Fgcc.dg%2Faltivec-14.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2Fgcc.dg%2Faltivec-14.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Faltivec-14.c?ref=1bfc8f675bee787718c1f5d24a300d7b86107fea", "patch": "@@ -0,0 +1,23 @@\n+/* { dg-do compile { target powerpc-*-* } } */\n+/* { dg-options \"-maltivec\" } */\n+\n+#include <altivec.h>\n+\n+vector bool long vbl;\t\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+vector signed long vsl;\t\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+vector unsigned long vul;\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+vector bool long *pvbl;\t\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+vector signed long *pvsl;\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+vector unsigned long *pvul;\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+\n+void fvbl (vector bool long v) { }\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+void fvsl (vector signed long v) { }\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+void fvul (vector unsigned long v) { }\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+\n+int main ()\n+{\n+  vector bool long lvbl;\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+  vector signed long lvsl;\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+  vector unsigned long lvul;\t/* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+  return 0;\n+}"}, {"sha": "4b7f2c0e970717f918a130a4d8fc5eb091af6c54", "filename": "gcc/testsuite/gcc.dg/altivec-7.c", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2Fgcc.dg%2Faltivec-7.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1bfc8f675bee787718c1f5d24a300d7b86107fea/gcc%2Ftestsuite%2Fgcc.dg%2Faltivec-7.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Faltivec-7.c?ref=1bfc8f675bee787718c1f5d24a300d7b86107fea", "patch": "@@ -5,15 +5,15 @@\n \n #include <altivec.h>\n \n-long **longp;\n+int **intp;\n int *var_int;\n-unsigned long **ulongp;\n+unsigned int **uintp;\n vector pixel *varpixel;\n vector signed char *vecchar;\n-vector signed long *vecint;       /* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+vector signed int *vecint;\n vector signed short *vecshort;\n vector unsigned char *vecuchar;\n-vector unsigned long *vecuint;    /* { dg-warning \"use of .long. in AltiVec types is deprecated; use .int.\" } */\n+vector unsigned int *vecuint;\n vector unsigned short *vecushort;\n vector float *vecfloat;\n \n@@ -26,18 +26,18 @@ int main ()\n   *varpixel++ = vec_packpx(vecuint[0], vecuint[1]);\n   *varpixel++ = vec_vpkpx(vecuint[0], vecuint[1]);\n   *vecshort++ = vec_vmulosb(vecchar[0], vecchar[1]);\n-  *vecint++ = vec_ld(var_int[0], longp[1]);\n-  *vecint++ = vec_lde(var_int[0], longp[1]);\n-  *vecint++ = vec_ldl(var_int[0], longp[1]);\n-  *vecint++ = vec_lvewx(var_int[0], longp[1]);\n+  *vecint++ = vec_ld(var_int[0], intp[1]);\n+  *vecint++ = vec_lde(var_int[0], intp[1]);\n+  *vecint++ = vec_ldl(var_int[0], intp[1]);\n+  *vecint++ = vec_lvewx(var_int[0], intp[1]);\n   *vecint++ = vec_unpackh(vecshort[0]);\n   *vecint++ = vec_unpackl(vecshort[0]);\n   *vecushort++ = vec_andc((vector bool short)vecshort[0], vecushort[1]);\n   *vecushort++ = vec_andc(vecushort[0], (vector bool short)vecshort[1]);\n   *vecushort++ = vec_vxor((vector bool short)vecshort[0], vecushort[1]);\n   *vecushort++ = vec_vxor(vecushort[0], (vector bool short)vecshort[1]);\n-  *vecuint++ = vec_ld(var_int[0], ulongp[1]);\n-  *vecuint++ = vec_lvx(var_int[0], ulongp[1]);\n+  *vecuint++ = vec_ld(var_int[0], uintp[1]);\n+  *vecuint++ = vec_lvx(var_int[0], uintp[1]);\n   *vecuint++ = vec_vmsumubm(vecuchar[0], vecuchar[1], vecuint[2]);\n   *vecuchar++ = vec_xor(vecuchar[0], (vector unsigned char)vecchar[1]);\n "}]}