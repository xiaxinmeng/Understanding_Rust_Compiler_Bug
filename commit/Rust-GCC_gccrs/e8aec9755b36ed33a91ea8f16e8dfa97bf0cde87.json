{"sha": "e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZThhZWM5NzU1YjM2ZWQzM2E5MWVhOGYxNmU4ZGZhOTdiZjBjZGU4Nw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2013-08-26T15:23:48Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2013-08-26T15:23:48Z"}, "message": "ipa-inline-transform.c (inline_transform): Be ready for basic block to be changed by edge redirection.\n\n\t* ipa-inline-transform.c (inline_transform): Be ready for basic block\n\tto be changed by edge redirection.\n\nFrom-SVN: r201997", "tree": {"sha": "380bc225ca3201be6b3b42352412323c297d2267", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/380bc225ca3201be6b3b42352412323c297d2267"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87/comments", "author": null, "committer": null, "parents": [{"sha": "d0b66480a9d5d2803997aa1d71e4e619381f8fea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0b66480a9d5d2803997aa1d71e4e619381f8fea", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0b66480a9d5d2803997aa1d71e4e619381f8fea"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "41d2b4167ed7d1ba7b2c7f18a092ae037b59f62e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87", "patch": "@@ -1,3 +1,8 @@\n+2013-08-26  Jan Hubicka  <jh@suse.cz>\n+\n+\t* ipa-inline-transform.c (inline_transform): Be ready for basic block\n+\tto be changed by edge redirection.\n+\n 2013-08-26  Jan Hubicka  <jh@suse.cz>\n \n \t* cgraph.c (cgraph_speculative_call_info): Fix parameter order and formating;"}, {"sha": "7f835eaf8360274d2833be89990849c5f142d775", "filename": "gcc/ipa-inline-transform.c", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87/gcc%2Fipa-inline-transform.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87/gcc%2Fipa-inline-transform.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fipa-inline-transform.c?ref=e8aec9755b36ed33a91ea8f16e8dfa97bf0cde87", "patch": "@@ -412,7 +412,7 @@ unsigned int\n inline_transform (struct cgraph_node *node)\n {\n   unsigned int todo = 0;\n-  struct cgraph_edge *e;\n+  struct cgraph_edge *e, *next;\n  \n   /* FIXME: Currently the pass manager is adding inline transform more than\n      once to some clones.  This needs revisiting after WPA cleanups.  */\n@@ -424,8 +424,11 @@ inline_transform (struct cgraph_node *node)\n   if (preserve_function_body_p (node))\n     save_inline_function_body (node);\n \n-  for (e = node->callees; e; e = e->next_callee)\n-    cgraph_redirect_edge_call_stmt_to_callee (e);\n+  for (e = node->callees; e; e = next)\n+    {\n+      next = e->next_callee;\n+      cgraph_redirect_edge_call_stmt_to_callee (e);\n+    }\n   ipa_remove_all_references (&node->symbol.ref_list);\n \n   timevar_push (TV_INTEGRATION);"}]}