{"sha": "86b107aea11946765a6792e94bfc18759a7ea2d1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZiMTA3YWVhMTE5NDY3NjVhNjc5MmU5NGJmYzE4NzU5YTdlYTJkMQ==", "commit": {"author": {"name": "Segher Boessenkool", "email": "segher@kernel.crashing.org", "date": "2015-09-16T15:02:32Z"}, "committer": {"name": "Segher Boessenkool", "email": "segher@gcc.gnu.org", "date": "2015-09-16T15:02:32Z"}, "message": "shrink-wrap: Fix up partitions (PR67587)\n\nWith the new shrink-wrap algorithm, blocks reachable both with and\nwithout prologue are duplicated, and their incoming edges are then\ndistributed accordingly.  So we need to call fixup_partitions.\n\n\n2015-09-16  Segher Boessenkool  <segher@kernel.crashing.org>\n\n\tPR bootstrap/67587\n\t* function.c (rest_of_handle_thread_prologue_and_epilogue): Call\n\tfixup_partitions.\n\nFrom-SVN: r227827", "tree": {"sha": "96694233e594a3fa98ff970aabcca6f50b597d26", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/96694233e594a3fa98ff970aabcca6f50b597d26"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86b107aea11946765a6792e94bfc18759a7ea2d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86b107aea11946765a6792e94bfc18759a7ea2d1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86b107aea11946765a6792e94bfc18759a7ea2d1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86b107aea11946765a6792e94bfc18759a7ea2d1/comments", "author": {"login": "segher", "id": 417629, "node_id": "MDQ6VXNlcjQxNzYyOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/417629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/segher", "html_url": "https://github.com/segher", "followers_url": "https://api.github.com/users/segher/followers", "following_url": "https://api.github.com/users/segher/following{/other_user}", "gists_url": "https://api.github.com/users/segher/gists{/gist_id}", "starred_url": "https://api.github.com/users/segher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/segher/subscriptions", "organizations_url": "https://api.github.com/users/segher/orgs", "repos_url": "https://api.github.com/users/segher/repos", "events_url": "https://api.github.com/users/segher/events{/privacy}", "received_events_url": "https://api.github.com/users/segher/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ae2ffe2a03f4de06e16addce7a62669d7c6eda5e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ae2ffe2a03f4de06e16addce7a62669d7c6eda5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ae2ffe2a03f4de06e16addce7a62669d7c6eda5e"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "cdbfe48f7c63ce4538f8c674d9fd02b244d6f372", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86b107aea11946765a6792e94bfc18759a7ea2d1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86b107aea11946765a6792e94bfc18759a7ea2d1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=86b107aea11946765a6792e94bfc18759a7ea2d1", "patch": "@@ -1,3 +1,9 @@\n+2015-09-16  Segher Boessenkool  <segher@kernel.crashing.org>\n+\n+\tPR bootstrap/67587\n+\t* function.c (rest_of_handle_thread_prologue_and_epilogue): Call\n+\tfixup_partitions.\n+\n 2015-09-16  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/67253"}, {"sha": "bb75b1c80852093e0dfd5089a3e3a05a88331021", "filename": "gcc/function.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86b107aea11946765a6792e94bfc18759a7ea2d1/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86b107aea11946765a6792e94bfc18759a7ea2d1/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=86b107aea11946765a6792e94bfc18759a7ea2d1", "patch": "@@ -6668,6 +6668,10 @@ rest_of_handle_thread_prologue_and_epilogue (void)\n      scheduling to operate in the epilogue.  */\n   thread_prologue_and_epilogue_insns ();\n \n+  /* Some non-cold blocks may now be only reachable from cold blocks.\n+     Fix that up.  */\n+  fixup_partitions ();\n+\n   /* Shrink-wrapping can result in unreachable edges in the epilogue,\n      see PR57320.  */\n   cleanup_cfg (0);"}]}