{"sha": "518e5ce827c8c11174503f024d401aaec006784b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE4ZTVjZTgyN2M4YzExMTc0NTAzZjAyNGQ0MDFhYWVjMDA2Nzg0Yg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-10-05T20:48:07Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-10-05T20:48:07Z"}, "message": "(mips_expand_prologue): Handle structure return values as\nthe first argument if necessary.\n\nFrom-SVN: r5619", "tree": {"sha": "1560ce4a2466cd50a83e2443470823b12b76a665", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1560ce4a2466cd50a83e2443470823b12b76a665"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/518e5ce827c8c11174503f024d401aaec006784b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/518e5ce827c8c11174503f024d401aaec006784b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/518e5ce827c8c11174503f024d401aaec006784b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/518e5ce827c8c11174503f024d401aaec006784b/comments", "author": null, "committer": null, "parents": [{"sha": "b206a75783f8f5a05bb90cad311592c7b717e97c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b206a75783f8f5a05bb90cad311592c7b717e97c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b206a75783f8f5a05bb90cad311592c7b717e97c"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "4763cc1a8c370f65a02cfe23fd581bf8836491e6", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/518e5ce827c8c11174503f024d401aaec006784b/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/518e5ce827c8c11174503f024d401aaec006784b/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=518e5ce827c8c11174503f024d401aaec006784b", "patch": "@@ -4313,6 +4313,18 @@ mips_expand_prologue ()\n   tree cur_arg;\n   CUMULATIVE_ARGS args_so_far;\n \n+  /* If struct value address is treated as the first argument, make it so.  */\n+  if (aggregate_value_p (DECL_RESULT (fndecl))\n+      && ! current_function_returns_pcc_struct\n+      && struct_value_incoming_rtx == 0)\n+    {\n+      tree type = build_pointer_type (fntype);\n+      tree function_result_decl = build_decl (PARM_DECL, NULL_TREE, type);\n+      DECL_ARG_TYPE (function_result_decl) = type;\n+      TREE_CHAIN (function_result_decl) = fnargs;\n+      fnargs = function_result_decl;\n+    }\n+\n   /* Determine the last argument, and get its name.  */\n \n   INIT_CUMULATIVE_ARGS (args_so_far, fntype, (rtx)0);"}]}