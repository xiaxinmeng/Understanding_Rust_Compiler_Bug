{"sha": "587dc9c65ee0173e494153e1cb9298a923ec0c70", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTg3ZGM5YzY1ZWUwMTczZTQ5NDE1M2UxY2I5Mjk4YTkyM2VjMGM3MA==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-09-23T18:56:00Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2003-09-23T18:56:00Z"}, "message": "config.gcc: Do per-target disabling of fixproto here in clauses, not in t- fragments.\n\n\t* config.gcc: Do per-target disabling of fixproto here in clauses,\n\tnot in t- fragments.\n\t* configure.in: Adjust to set STMP_FIXPROTO correctly.\n\t* configure: Regenerate.\n\t* config/arm/t-semi, config/cris/t-cris, config/i386/t-beos,\n\tconfig/i386/t-cygming, config/i386/t-nto, config/ia64/t-hpux,\n\tt-freebsd, t-linux, t-netbsd, t-openbsd, t-rtems, t-vxworks,\n\txtensa/t-xtensa: Remove setting of STMP_FIXPROTO.\n\t* config/i370/t-oe, config/i386/t-netware, config/pa/t-bsd,\n\tt-interix, t-linux-aout:  Delete files consisting only of\n\tsetting of STMP_FIXPROTO.\n\nFrom-SVN: r71687", "tree": {"sha": "d528cc0b84787b6ae79ca837fabf2d4fc33aca27", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d528cc0b84787b6ae79ca837fabf2d4fc33aca27"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/587dc9c65ee0173e494153e1cb9298a923ec0c70", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/587dc9c65ee0173e494153e1cb9298a923ec0c70", "html_url": "https://github.com/Rust-GCC/gccrs/commit/587dc9c65ee0173e494153e1cb9298a923ec0c70", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/587dc9c65ee0173e494153e1cb9298a923ec0c70/comments", "author": null, "committer": null, "parents": [{"sha": "d064c269e65cdac9129b0eb9325f182f53510fbb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d064c269e65cdac9129b0eb9325f182f53510fbb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d064c269e65cdac9129b0eb9325f182f53510fbb"}], "stats": {"total": 298, "additions": 168, "deletions": 130}, "files": [{"sha": "2a370dfc68fb4b35b4327a895981934912cc850d", "filename": "gcc/config.gcc", "status": "modified", "additions": 84, "deletions": 10, "changes": 94, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -132,6 +132,9 @@\n #  configure_default_options\n #\t\t\tSet to an initializer for configure_default_options\n #\t\t\tin configargs.h, based on --with-cpu et cetera.\n+#\n+#  use_fixproto\t\tSet to \"yes\" if fixproto should be run normally,\n+#\t\t\t\"no\" if fixproto should never be run.\n \n # The following variables are used in each case-construct to build up the\n # outgoing variables:\n@@ -168,6 +171,9 @@ default_use_cxa_atexit=no\n target_gtfiles=\n need_64bit_hwint=\n \n+# Default to using fixproto.  We will reverse this eventually.\n+use_fixproto=yes\n+\n # Don't carry these over build->host->target.  Please.\n xm_file=\n md_file=\n@@ -353,13 +359,15 @@ case $machine in\n \t\ttm_file=\"${cpu_type}/${cpu_type}.h i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h i386/linux.h gnu.h ${tm_file}\"\n \t\t;;\n \tesac\n+\tuse_fixproto=no\n \t;;\n *-*-openbsd*)\n \ttmake_file=\"t-libc-ok t-openbsd t-libgcc-pic\"\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='posix'\n \t\ttmake_file=\"${tmake_file} t-openbsd-thread\"\n \tfi\n+\tuse_fixproto=no\n \t;;\n *-*-netbsd*)\n \ttmake_file=\"t-slibgcc-elf-ver t-libc-ok t-netbsd t-libgcc-pic\"\n@@ -399,6 +407,7 @@ case $machine in\n \t\tdefault_use_cxa_atexit=yes\n \t\t;;\n \tesac\n+\tuse_fixproto=no\n \t;;\n *-*-freebsd[12] | *-*-freebsd[12].* | *-*-freebsd*aout*)\n \t# This is the place-holder for the generic a.out configuration\n@@ -451,6 +460,7 @@ case $machine in\n \t*) echo 'Unknown thread configuration for FreeBSD'; exit 1;;\n \tesac\n \tfbsd_tm_file=\"${fbsd_tm_file} freebsd-spec.h freebsd.h\"\n+\tuse_fixproto=no\n \t;;\n *-*-darwin*)\n \ttm_file=\"${tm_file} darwin.h\"\n@@ -471,6 +481,7 @@ case $machine in\n \ttm_file=\"${tm_file} elfos.h svr4.h vxworks.h\"\n \tthread_file='vxworks'\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n esac\n \n@@ -498,6 +509,7 @@ alpha*-*-linux*)\n \ttm_file=\"${tm_file} alpha/elf.h alpha/linux.h alpha/linux-elf.h\"\n \ttarget_cpu_default=\"MASK_GAS\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux alpha/t-crtfm alpha/t-alpha alpha/t-ieee\"\n+\tuse_fixproto=no\n \t;;\n alpha*-*-gnu*)\n \ttarget_cpu_default=\"MASK_GAS\"\n@@ -581,6 +593,7 @@ arm-*-coff* | armel-*-coff*)\n arm-semi-aof | armel-semi-aof)\n \ttm_file=\"arm/semiaof.h arm/aof.h arm/arm.h\"\n \ttmake_file=arm/t-semi\n+\tuse_fixproto=no\n \t;;\n arm*-*-freebsd*|strongarm*-*-freebsd*)\n \ttm_file=\"dbxelf.h elfos.h ${fbsd_tm_file} arm/elf.h arm/aout.h arm/freebsd.h arm/arm.h\"\n@@ -595,6 +608,7 @@ arm*-*-netbsd*)\n \ttmake_file=\"t-netbsd arm/t-netbsd\"\n \textra_parts=\"\"\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n arm*-*-linux*)\t\t\t# ARM GNU/Linux with ELF\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h arm/linux-gas.h arm/linux-elf.h\"\n@@ -606,6 +620,7 @@ arm*-*-linux*)\t\t\t# ARM GNU/Linux with ELF\n \t\tthread_file='posix'\n \t\t;;\n \tesac\n+\tuse_fixproto=no\n \t;;\n arm*-*-uclinux*)\t\t# ARM ucLinux\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h arm/linux-gas.h arm/linux-elf.h arm/uclinux-elf.h\"\n@@ -621,6 +636,7 @@ arm*-*-rtems*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n arm*-*-elf | ep9312-*-elf)\n \ttm_file=\"dbxelf.h elfos.h arm/unknown-elf.h arm/elf.h arm/aout.h arm/arm.h\"\n@@ -651,6 +667,7 @@ c4x-*-rtems* | tic4x-*-rtems*)\n \tfi\n \tc_target_objs=\"c4x-c.o\"\n \tcxx_target_objs=\"c4x-c.o\"\n+\tuse_fixproto=no\n \t;;\n c4x-* | tic4x-*)\n \ttmake_file=c4x/t-c4x\n@@ -661,15 +678,18 @@ cris-*-aout)\n \ttm_file=\"dbxelf.h ${tm_file} cris/aout.h\"\n \tgas=yes\n \ttmake_file=\"cris/t-cris cris/t-aout\"\n+\tuse_fixproto=no\n \t;;\n cris-*-elf | cris-*-none)\n \ttm_file=\"dbxelf.h elfos.h ${tm_file}\"\n \ttmake_file=\"cris/t-cris cris/t-elfmulti\"\n \tgas=yes\n+\tuse_fixproto=no\n \t;;\n cris-*-linux*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h ${tm_file} linux.h cris/linux.h\"\n \ttmake_file=\"cris/t-cris t-slibgcc-elf-ver cris/t-linux\"\n+\tuse_fixproto=no\n \t;;\n d30v-*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h ${tm_file}\"\n@@ -691,6 +711,7 @@ h8300-*-rtems*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n h8300-*-elf*)\n \ttmake_file=\"h8300/t-h8300 h8300/t-elf\"\n@@ -712,36 +733,41 @@ hppa*-*-linux* | parisc*-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h pa/pa-linux.h \\\n \t\t pa/pa32-regs.h pa/pa32-linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux pa/t-linux\"\n+\tuse_fixproto=no\n \t;;\n # port not yet contributed.\n #hppa*-*-openbsd*)\n #\ttarget_cpu_default=\"MASK_PA_11\"\n-#\ttmake_file=pa/t-bsd\n+#\tuse_fixproto=no\n #\t;;\n hppa1.1-*-pro*)\n \ttarget_cpu_default=\"(MASK_JUMP_IN_DELAY | MASK_PORTABLE_RUNTIME | MASK_GAS | MASK_NO_SPACE_REGS | MASK_SOFT_FLOAT)\"\n \ttm_file=\"${tm_file} pa/pa32-regs.h dbxelf.h elfos.h pa/elf.h pa/pa-pro-end.h libgloss.h\"\n-\ttmake_file=\"pa/t-bsd pa/t-pro\"\n+\ttmake_file=\"pa/t-pro\"\n+\tuse_fixproto=no\n \t;;\n hppa1.1-*-osf*)\n \ttarget_cpu_default=\"MASK_PA_11\"\n \ttm_file=\"${tm_file} pa/pa32-regs.h dbxelf.h pa/som.h pa/pa-osf.h\"\n-\ttmake_file=\"pa/t-bsd pa/t-pa\"\n+\ttmake_file=\"pa/t-pa\"\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n hppa1.1-*-rtems*)\n \ttarget_cpu_default=\"(MASK_JUMP_IN_DELAY | MASK_PORTABLE_RUNTIME | MASK_GAS | MASK_NO_SPACE_REGS | MASK_SOFT_FLOAT)\"\n \ttm_file=\"${tm_file} pa/pa32-regs.h dbxelf.h elfos.h pa/elf.h pa/pa-pro-end.h libgloss.h pa/rtems.h rtems.h\"\n-\ttmake_file=\"pa/t-bsd pa/t-pro t-rtems\"\n+\ttmake_file=\"pa/t-pro t-rtems\"\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n hppa1.1-*-bsd*)\n \ttm_file=\"${tm_file} pa/pa32-regs.h dbxelf.h pa/som.h\"\n \ttarget_cpu_default=\"MASK_PA_11\"\n-\ttmake_file=\"pa/t-bsd pa/t-pa\"\n+\ttmake_file=\"pa/t-pa\"\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n hppa1.1-*-hpux10* | hppa2*-*-hpux10*)\n \ttarget_cpu_default=\"MASK_PA_11\"\n@@ -819,9 +845,11 @@ hppa1.0-*-hpux11*)\n i370-*-opened*)\t\t\t # IBM 360/370/390 Architecture\n \txm_defines='FATAL_EXIT_CODE=12'\n \ttm_file=\"i370/oe.h i370/i370.h\"\n-\ttmake_file=\"i370/t-oe i370/t-i370\"\n+\ttmake_file=\"i370/t-i370\"\n \tc_target_objs=\"i370-c.o\"\n \tcxx_target_objs=\"i370-c.o\"\n+\t# Don't bother fixing up header files; they're weird.\n+\tuse_fixproto=no\n \t;;\n i370-*-mvs*)\n \txm_defines='FATAL_EXIT_CODE=12'\n@@ -834,6 +862,7 @@ i370-*-linux*)\n \ttm_file=\"dbxelf.h elfos.h svr4.h linux.h i370/linux.h i370/i370.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux\"\n \t# broken_install=yes\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-darwin*)\n \ttm_file=\"${tm_file} i386/darwin.h\"\n@@ -850,7 +879,7 @@ i[34567]86-ncr-sysv4*)\t\t# NCR 3000 - ix86 running system V.4\n \t;;\n i[34567]86-*-netware)\t\t# Intel 80386's running netware\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h i386/sysv4.h netware.h i386/netware.h\"\n-\ttmake_file=i386/t-netware\n+\tuse_fixproto=no\n \t;;\n i[34567]86-sequent-ptx4* | i[34567]86-sequent-sysv4*)\n \tif test x$gas = xyes\n@@ -869,6 +898,7 @@ i[34567]86-*-beoself* | i[34567]86-*-beos*)\n \ttmake_file='i386/t-beos i386/t-crtpic'\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h i386/beos-elf.h\"\n \textra_parts='crtbegin.o crtend.o'\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-freebsd2 | i[34567]86-*-freebsd2.* | i[34567]86-*-freebsd*aout*)\n \ttm_file=\"${tm_file} i386/unix.h i386/bsd.h i386/gas.h i386/gstabs.h i386/freebsd-aout.h\"\n@@ -888,6 +918,7 @@ i[34567]86-*-netbsd*)\n \ttmake_file=t-netbsd\n \textra_parts=\"\"\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n x86_64-*-netbsd*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h netbsd.h netbsd-elf.h i386/x86-64.h i386/netbsd64.h\"\n@@ -898,15 +929,17 @@ i[34567]86-*-openbsd*)\n \ttmake_file=\"t-libc-ok t-openbsd i386/t-openbsd\"\n \t# we need collect2 until our bug is fixed...\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-coff*)\n \ttm_file=\"${tm_file} i386/unix.h i386/bsd.h i386/gas.h dbxcoff.h i386/i386-coff.h\"\n \t;;\n i[34567]86-*-linux*aout*)\t# Intel 80386's running GNU/Linux\n \t\t\t\t# with a.out format\n-\ttmake_file=\"t-linux-aout i386/t-crtstuff\"\n+\ttmake_file=\"i386/t-crtstuff\"\n \ttm_file=\"${tm_file} i386/unix.h i386/bsd.h i386/gas.h i386/gstabs.h linux-aout.h i386/linux-aout.h\"\n \tgnu_ld=yes\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-linux*libc1)\t# Intel 80386's running GNU/Linux\n \t\t\t\t# with ELF format using the\n@@ -918,17 +951,20 @@ i[34567]86-*-linux*libc1)\t# Intel 80386's running GNU/Linux\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='single'\n \tfi\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-linux*)\t# Intel 80386's running GNU/Linux\n \t\t\t# with ELF format using glibc 2\n \t\t\t# aka GNU/Linux C library 6\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h i386/linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux i386/t-crtstuff\"\n+\tuse_fixproto=no\n \t;;\n x86_64-*-linux*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h svr4.h linux.h \\\n \t\t i386/x86-64.h i386/linux64.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux i386/t-linux64\"\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-gnu*)\n \t;;\n@@ -963,6 +999,7 @@ i[34567]86-*-nto-qnx*)\n \ttmake_file=i386/t-nto\n \tgnu_ld=yes\n \tgas=yes\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-rtems*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h i386/i386elf.h i386/rtemself.h rtems.h\"\n@@ -971,6 +1008,7 @@ i[34567]86-*-rtems*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-sco3.2v5*)\t# 80386 running SCO Open Server 5\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h i386/sco5.h\"\n@@ -1066,6 +1104,7 @@ i[34567]86-*-pe | i[34567]86-*-cygwin*)\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='posix'\n \tfi\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-mingw32*)\n \ttm_file=\"${tm_file} i386/unix.h i386/bsd.h i386/gas.h dbxcoff.h i386/cygming.h i386/mingw32.h\"\n@@ -1082,6 +1121,7 @@ i[34567]86-*-mingw32*)\n \t\t*mingw32msv* | *mingw32*)\n \t\t\t;;\n \tesac\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-uwin*)\n \ttm_file=\"${tm_file} i386/unix.h i386/bsd.h i386/gas.h dbxcoff.h i386/cygwin.h i386/uwin.h\"\n@@ -1093,25 +1133,27 @@ i[34567]86-*-uwin*)\n \t;;\n i[34567]86-*-interix3*)\n \ttm_file=\"${tm_file} i386/unix.h i386/bsd.h i386/gas.h i386/i386-interix.h i386/i386-interix3.h interix.h interix3.h\"\n-\ttmake_file=\"t-interix i386/t-interix\"\n+\ttmake_file=\"i386/t-interix\"\n \textra_objs=winnt.o\n \tif test x$enable_threads = xyes ; then\n \t\tthread_file='posix'\n \tfi\n \tif test x$stabs = xyes ; then\n \t\ttm_file=\"${tm_file} dbxcoff.h\"\n \tfi\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-interix*)\n \ttm_file=\"${tm_file} i386/unix.h i386/bsd.h i386/gas.h i386/i386-interix.h interix.h\"\n-\ttmake_file=\"t-interix i386/t-interix\"\n+\ttmake_file=\"i386/t-interix\"\n \textra_objs=winnt.o\n \tif test x$enable_threads = xyes ; then\n \t\tthread_file='posix'\n \tfi\n \tif test x$stabs = xyes ; then\n \t\ttm_file=\"${tm_file} dbxcoff.h\"\n \tfi\n+\tuse_fixproto=no\n \t;;\n i[34567]86-*-kaos*)\n \ttm_file=\"${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h i386/i386elf.h kaos.h i386/kaos-i386.h\"\n@@ -1136,6 +1178,7 @@ i960-*-rtems)\n \tfi\n \tc_target_objs=\"i960-c.o\"\n \tcxx_target_objs=\"i960-c.o\"\n+\tuse_fixproto=no\n \t;;\n i960-*-*)\t\t\t# Default i960 environment.\n \tuse_collect2=yes\n@@ -1171,6 +1214,7 @@ ia64*-*-linux*)\n \tif test x\"$use_libunwind_exceptions\" = xyes; then\n \t  tmake_file=\"$tmake_file t-libunwind\"\n \tfi\n+\tuse_fixproto=no\n \t;;\n ia64*-*-hpux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h ia64/sysv4.h ia64/hpux.h ia64/hpux_longdouble.h\"\n@@ -1184,6 +1228,10 @@ ia64*-*-hpux*)\n \tuse_collect2=no\n \tc_target_objs=\"ia64-c.o\"\n \tcxx_target_objs=\"ia64-c.o\"\n+\t# If we decide to run fixproto we should define FIXPROTO_DEFINES\n+\t# in ia64/t-hpux, and also fix the definition of putenv in\n+\t# sys-protos.h (const char not char).\n+\tuse_fixproto=no\n \t;;\n ip2k-*-elf)\n \ttm_file=\"elfos.h ${tm_file}\"\n@@ -1271,6 +1319,7 @@ m68k*-*-netbsd*)\n \ttmake_file=t-netbsd\n \textra_parts=\"\"\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n m68k*-*-openbsd*)\n \t# needed to unconfuse gdb\n@@ -1279,6 +1328,7 @@ m68k*-*-openbsd*)\n \ttmake_file=\"t-libc-ok t-openbsd m68k/t-openbsd\"\n \t# we need collect2 until our bug is fixed...\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n m68k-*-sysv4*)\t\t\t# Motorola m68k's running system V.4\n \ttm_file=\"m68k/m68k.h m68k/sgs.h dbxelf.h elfos.h svr4.h m68k/m68kv4.h\"\n@@ -1292,6 +1342,7 @@ m68k-*-linux*)\t\t# Motorola m68k's running GNU/Linux\n \ttm_file=\"m68k/m68k.h dbxelf.h elfos.h svr4.h linux.h m68k/linux.h\"\n \ttm_defines=\"MOTOROLA USE_GAS\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux\"\n+\tuse_fixproto=no\n \t;;\n m68k-*-rtems*)\n \ttmake_file=\"m68k/t-m68kbare m68k/t-crtstuff t-rtems m68k/t-rtems\"\n@@ -1300,6 +1351,7 @@ m68k-*-rtems*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n mcore-*-elf)\n \ttm_file=\"dbxelf.h elfos.h svr4.h ${tm_file} mcore/mcore-elf.h\"\n@@ -1404,6 +1456,7 @@ mips64*-*-linux*)\n \tif test x$enable_threads = xyes; then\n \t\tthread_file='posix'\n \tfi\n+\tuse_fixproto=no\n \t;;\n mips*-*-linux*)\t\t\t\t# Linux MIPS, either endian.\n         tm_file=\"dbxelf.h elfos.h svr4.h linux.h ${tm_file} mips/linux.h\"\n@@ -1414,6 +1467,7 @@ mips*-*-linux*)\t\t\t\t# Linux MIPS, either endian.\n                 ;;\n         esac\n \ttmake_file=\"t-slibgcc-elf-ver t-linux\"\n+\tuse_fixproto=no\n \t;;\n mips*-*-openbsd*)\n \ttm_defines=\"OBSD_HAS_DECLARE_FUNCTION_NAME OBSD_HAS_DECLARE_OBJECT OBSD_HAS_CORRECT_SPECS\"\n@@ -1481,6 +1535,7 @@ mips*-*-rtems*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n mipstx39-*-elf* | mipstx39el-*-elf*)\n \ttm_file=\"${tm_file} mips/r3900.h mips/elf.h\"\n@@ -1506,6 +1561,7 @@ ns32k-*-netbsd*)\n \ttmake_file=\"t-netbsd ns32k/t-ns32k\"\n \textra_parts=\"\"\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n pdp11-*-bsd)\n \ttm_file=\"${tm_file} pdp11/2bsd.h\"\n@@ -1526,6 +1582,7 @@ powerpc64-*-linux*)\n \tesac\n \ttm_file=\"${tm_file} rs6000/linux64.h\"\n \ttmake_file=\"rs6000/t-fprules t-slibgcc-elf-ver t-linux rs6000/t-ppccomm rs6000/t-linux64\"\n+\tuse_fixproto=no\n \t;;\n powerpc64-*-gnu*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux64.h rs6000/gnu.h\"\n@@ -1590,18 +1647,22 @@ powerpc-*-rtems*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n powerpc-*-linux*altivec*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\tuse_fixproto=no\n \t;;\n powerpc-*-linux*spe*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxspe.h\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\tuse_fixproto=no\n \t;;\n powerpc-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux.h\"\n \ttmake_file=\"rs6000/t-fprules rs6000/t-ppcos t-slibgcc-elf-ver t-linux rs6000/t-ppccomm\"\n+\tuse_fixproto=no\n \t;;\n powerpc-*-gnu-gnualtivec*)\n \ttm_file=\"${cpu_type}/${cpu_type}.h elfos.h svr4.h freebsd-spec.h gnu.h rs6000/sysv4.h rs6000/linux.h rs6000/linuxaltivec.h rs6000/gnu.h\"\n@@ -1689,6 +1750,7 @@ rs6000-*-lynxos*)\n s390-*-linux*)\n \ttm_file=\"s390/s390.h dbxelf.h elfos.h svr4.h linux.h s390/linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-crtstuff\"\n+\tuse_fixproto=no\n \t;;\n s390x-*-linux*)\n \ttm_file=\"s390/s390x.h s390/s390.h dbxelf.h elfos.h svr4.h linux.h s390/linux.h\"\n@@ -1697,6 +1759,7 @@ s390x-*-linux*)\n \textra_modes=s390/s390-modes.def\n \tout_file=s390/s390.c\n \ttmake_file=\"t-slibgcc-elf-ver t-linux s390/t-crtstuff s390/t-linux64\"\n+\tuse_fixproto=no\n \t;;\n sh-*-elf* | sh[2346l]*-*-elf* | sh*-*-kaos*)\n \ttmake_file=\"sh/t-sh sh/t-elf\"\n@@ -1733,13 +1796,15 @@ sh-*-rtemself*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n sh-*-rtems*)\n \ttmake_file=\"sh/t-sh t-rtems\"\n \ttm_file=\"${tm_file} dbxcoff.h sh/coff.h sh/rtems.h rtems.h\"\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n sh-*-linux* | sh[2346lbe]*-*-linux*)\n \ttmake_file=\"sh/t-sh sh/t-elf t-slibgcc-elf-ver t-linux\"\n@@ -1772,6 +1837,7 @@ sh-*-linux* | sh[2346lbe]*-*-linux*)\n \tcase $machine in\n \tsh[234]*) tmake_file=\"${tmake_file} sh/t-monolib\" ;;\n \tesac\n+\tuse_fixproto=no\n \t;;\n sh-*-netbsdelf* | shl*-*-netbsdelf* | sh5-*-netbsd* | sh5l*-*-netbsd* | \\\n   sh64-*-netbsd* | sh64l*-*-netbsd*)\n@@ -1820,6 +1886,7 @@ sparc-*-openbsd*)\n \ttmake_file=\"t-libc-ok t-openbsd sparc/t-openbsd\"\n \t# we need collect2 until our bug is fixed...\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n sparc64-*-openbsd*)\n \ttm_file=\"sparc/openbsd1-64.h sparc/sparc.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/sp64-elf.h openbsd.h sparc/openbsd64.h\"\n@@ -1834,6 +1901,7 @@ sparc-*-elf*)\n sparc-*-linux*)\t\t# SPARC's running GNU/Linux, libc6\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux sparc/t-crtfm\"\n+\tuse_fixproto=no\n \t;;\n sparc-*-rtems*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sol2.h sparc/sol2.h sparc/elf.h sparc/rtemself.h rtems.h\"\n@@ -1842,6 +1910,7 @@ sparc-*-rtems*)\n \tif test x$enable_threads = xyes; then\n \t  thread_file='rtems'\n \tfi\n+\tuse_fixproto=no\n \t;;\n sparc64-*-solaris2* | sparcv9-*-solaris2*)\n \ttm_file=\"sparc/biarch64.h ${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sol2.h sparc/sol2.h sparc/sol2-64.h sparc/sol2-bi.h\"\n@@ -1957,6 +2026,7 @@ sparc64-*-freebsd*|ultrasparc-*-freebsd*)\n sparc64-*-linux*)\t\t# 64-bit SPARC's running GNU/Linux\n \ttmake_file=\"t-slibgcc-elf-ver t-linux sparc/t-linux64 sparc/t-crtfm\"\n \ttm_file=\"sparc/biarch64.h ${tm_file} dbxelf.h elfos.h svr4.h sparc/sysv4.h sparc/linux64.h\"\n+\tuse_fixproto=no\n \t;;\n sparc64-*-netbsd*)\n \ttmake_file=\"${tmake_file} sparc/t-netbsd64\"\n@@ -2042,6 +2112,7 @@ vax-*-netbsd*)\n \ttmake_file=t-netbsd\n \textra_parts=\"\"\n \tuse_collect2=yes\n+\tuse_fixproto=no\n \t;;\n vax-*-openbsd*)\n \ttm_file=\"vax/vax.h vax/openbsd1.h openbsd.h vax/openbsd.h\"\n@@ -2082,10 +2153,12 @@ xstormy16-*-elf)\n xtensa-*-elf*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h xtensa/elf.h\"\n \ttmake_file=\"xtensa/t-xtensa xtensa/t-elf\"\n+\tuse_fixproto=no\n \t;;\n xtensa-*-linux*)\n \ttm_file=\"${tm_file} dbxelf.h elfos.h svr4.h linux.h xtensa/linux.h\"\n \ttmake_file=\"t-slibgcc-elf-ver t-linux xtensa/t-xtensa xtensa/t-linux\"\n+\tuse_fixproto=no\n \t;;\n am33_2.0-*-linux*)\n \ttm_file=\"mn10300/mn10300.h dbxelf.h elfos.h linux.h mn10300/linux.h\"\n@@ -2096,6 +2169,7 @@ am33_2.0-*-linux*)\n \tfi\n \textra_parts=\"crtbegin.o crtend.o crtbeginS.o crtendS.o\"\n \tuse_collect2=no\n+\tuse_fixproto=no\n \t;;\n *)\n \techo \"*** Configuration $machine not supported\" 1>&2"}, {"sha": "abd642cb02bc87404126d6d604529e7ffe1483e2", "filename": "gcc/config/arm/t-semi", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Farm%2Ft-semi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Farm%2Ft-semi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Ft-semi?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -6,9 +6,6 @@ LIBGCC2_DEBUG_CFLAGS = -g0\n LIB1ASMSRC = arm/lib1funcs.asm\n LIB1ASMFUNCS = _udivsi3 _divsi3 _umodsi3 _modsi3 _dvmd_tls _call_via_rX _interwork_call_via_rX\n \n-#Don't try to run fixproto\n-STMP_FIXPROTO =\n-\n # We want fine grained libraries, so use the new code to build the\n # floating point emulation libraries.\n FPBIT = fp-bit.c"}, {"sha": "30ec633d3a3eab16073d966ed0f3689a77f6456a", "filename": "gcc/config/cris/t-cris", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fcris%2Ft-cris", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fcris%2Ft-cris", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fcris%2Ft-cris?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -7,9 +7,6 @@\n # The makefile macros etc. are included in the order found in the\n # section \"Target Fragment\" in the gcc info-files (or the paper copy) of\n # \"Using and Porting GCC\"\n-#\n-# Don't run fixproto\n-STMP_FIXPROTO =\n \n LIB2FUNCS_EXTRA = _udivsi3.c _divsi3.c _umodsi3.c _modsi3.c\n CRIS_LIB1CSRC = $(srcdir)/config/cris/arit.c"}, {"sha": "a2130a11bb11407c3de51a6b4bc5c73d18f8afe2", "filename": "gcc/config/i370/t-oe", "status": "removed", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Fi370%2Ft-oe", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Fi370%2Ft-oe", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi370%2Ft-oe?ref=d064c269e65cdac9129b0eb9325f182f53510fbb", "patch": "@@ -1,6 +0,0 @@\n-#\n-# Target is an i370 running OpenEdition\n-#\n-\n-# Don't bother fixing up header files, they're weird\n-STMP_FIXPROTO ="}, {"sha": "b5c8ec208716e8fe119248210e13ba3aae304a7f", "filename": "gcc/config/i386/t-beos", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fi386%2Ft-beos", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fi386%2Ft-beos", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-beos?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -2,6 +2,3 @@\n # we are most likely to want to apply any fixes to.\n SYSTEM_HEADER_DIR = /boot/develop/headers/posix\n CROSS_SYSTEM_HEADER_DIR = $(tooldir)/sys-include/posix\n-\n-# Don't run fixproto\n-STMP_FIXPROTO ="}, {"sha": "aa6ff61ca03ee9dd9d24fc955dcafa1e15e922d6", "filename": "gcc/config/i386/t-cygming", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fi386%2Ft-cygming", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fi386%2Ft-cygming", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-cygming?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -16,6 +16,4 @@ winnt.o: $(srcdir)/config/i386/winnt.c $(CONFIG_H) $(SYSTEM_H) coretypes.h \\\n \t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n \t$(srcdir)/config/i386/winnt.c\n \n-# Don't run fixproto\n-STMP_FIXPROTO=\n STMP_FIXINC=stmp-fixinc"}, {"sha": "66ba228551fcffdb821f780d3f6b6a9ef1cdd367", "filename": "gcc/config/i386/t-netware", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Fi386%2Ft-netware", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Fi386%2Ft-netware", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-netware?ref=d064c269e65cdac9129b0eb9325f182f53510fbb", "patch": "@@ -1,2 +0,0 @@\n-# Our header files are supposed to be correct, nein?\n-STMP_FIXPROTO ="}, {"sha": "b80ff802927ab02bc90a6690212f61498b5bdf12", "filename": "gcc/config/i386/t-nto", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fi386%2Ft-nto", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fi386%2Ft-nto", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ft-nto?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1,6 +1,3 @@\n-# Don't run fixproto\n-STMP_FIXPROTO =\n-\n CRTSTUFF_T_CFLAGS = -fno-omit-frame-pointer -fPIC\n TARGET_LIBGCC2_CFLAGS = -fPIC -fexceptions\n "}, {"sha": "48baadd65824a4f0346715c358e0e118f3adeac1", "filename": "gcc/config/ia64/t-hpux", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fia64%2Ft-hpux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fia64%2Ft-hpux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fia64%2Ft-hpux?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -20,13 +20,6 @@ quadlib.c: $(srcdir)/config/ia64/quadlib.c\n \n LIBGCC1_TEST =\n \n-# Don't run fix-headers.  HP-UX headers are standards conformant\n-# and don't need to be fixed up in this way.\n-# If we remove this (and run fix-headers) we should define FIXPROTO_DEFINES\n-# and also fix the definition of putenv in sys-protos.h (const char not char).\n-\n-STMP_FIXPROTO =\n-\n # We do not want to include the EH stuff that linux uses, we want to use\n # the HP-UX libunwind library.\n "}, {"sha": "ac0236043ffaa5bbbb17075eb47cecd44d4196e6", "filename": "gcc/config/pa/t-bsd", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Fpa%2Ft-bsd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Fpa%2Ft-bsd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Ft-bsd?ref=d064c269e65cdac9129b0eb9325f182f53510fbb", "patch": "@@ -1,2 +0,0 @@\n-# BSD on the PA already has ANSI include files which are c++ compatible.\n-STMP_FIXPROTO="}, {"sha": "211dbdf6b71811227ce2b82afdca67c354cafefd", "filename": "gcc/config/t-freebsd", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-freebsd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-freebsd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-freebsd?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1,6 +1,3 @@\n-# Don't run fixproto\n-STMP_FIXPROTO =\n-\n # Compile crtbeginS.o and crtendS.o with pic.\n CRTSTUFF_T_CFLAGS_S = -fPIC\n "}, {"sha": "d284b3e7e413c2e4a7f5d3b9a3592bf88e81cdc2", "filename": "gcc/config/t-interix", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Ft-interix", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Ft-interix", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-interix?ref=d064c269e65cdac9129b0eb9325f182f53510fbb", "patch": "@@ -1,2 +0,0 @@\n-# Don't run fixproto\n-STMP_FIXPROTO ="}, {"sha": "f25ab6430e98cef9588cdda357ead1fbb3d959f2", "filename": "gcc/config/t-linux", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-linux", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-linux", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-linux?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1,6 +1,3 @@\n-# Don't run fixproto\n-STMP_FIXPROTO =\n-\n # Compile crtbeginS.o and crtendS.o with pic.\n CRTSTUFF_T_CFLAGS_S = $(CRTSTUFF_T_CFLAGS) -fPIC\n # Compile libgcc2.a with pic."}, {"sha": "d284b3e7e413c2e4a7f5d3b9a3592bf88e81cdc2", "filename": "gcc/config/t-linux-aout", "status": "removed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Ft-linux-aout", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d064c269e65cdac9129b0eb9325f182f53510fbb/gcc%2Fconfig%2Ft-linux-aout", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-linux-aout?ref=d064c269e65cdac9129b0eb9325f182f53510fbb", "patch": "@@ -1,2 +0,0 @@\n-# Don't run fixproto\n-STMP_FIXPROTO ="}, {"sha": "843e4100df767b84bc1881302ef5f65ee53bdd43", "filename": "gcc/config/t-netbsd", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-netbsd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-netbsd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-netbsd?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1,5 +1,2 @@\n-# Don't run fixproto\n-STMP_FIXPROTO =\n-\n # Always build crtstuff with PIC.\n CRTSTUFF_T_CFLAGS = -fPIC"}, {"sha": "2289f154efc4467acde1d2b2c7616de156945af2", "filename": "gcc/config/t-openbsd", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-openbsd", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-openbsd", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-openbsd?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1,5 +1,2 @@\n-# Don't run fixproto\n-STMP_FIXPROTO =\n-\n # We don't need GCC's own include files.\n USER_H ="}, {"sha": "dfbd3afe9eee32cf9424ab7d1e3477cbb296b3f4", "filename": "gcc/config/t-rtems", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-rtems", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-rtems", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-rtems?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1,6 +1,3 @@\n-# RTEMS uses newlib which does not require prototype fixing\n-STMP_FIXPROTO =\n-\n # RTEMS always has limits.h.\n LIMITS_H_TEST = true\n "}, {"sha": "ebf47e1bcceb402e51714433bc38cae0544d3078", "filename": "gcc/config/t-vxworks", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-vxworks", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Ft-vxworks", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Ft-vxworks?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1,6 +1,3 @@\n-# Don't run fixproto.\n-STMP_FIXPROTO =\n-\n # Since we have a functional assert.h, use it.\n INSTALL_ASSERT_H =\n "}, {"sha": "d1c8031fdaaf5ded7c23b0ac38687f6a8882154f", "filename": "gcc/config/xtensa/t-xtensa", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fxtensa%2Ft-xtensa", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfig%2Fxtensa%2Ft-xtensa", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Ft-xtensa?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -8,9 +8,6 @@ fp-bit.c: $(srcdir)/config/fp-bit.c\n \techo '#define FLOAT' > fp-bit.c\n \tcat $(srcdir)/config/fp-bit.c >> fp-bit.c\n \n-# Don't run fixproto\n-STMP_FIXPROTO =\n-\n LIB1ASMSRC = xtensa/lib1funcs.asm\n LIB1ASMFUNCS = _mulsi3 _nsau _divsi3 _modsi3 _udivsi3 _umodsi3\n "}, {"sha": "b96bb611303220dbcf2b9673b2036967583b7111", "filename": "gcc/configure", "status": "modified", "additions": 73, "deletions": 63, "changes": 136, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -5747,7 +5747,17 @@ CC_FOR_BUILD='$(CC)'\n BUILD_CFLAGS='$(ALL_CFLAGS)'\t\n \n STMP_FIXINC=stmp-fixinc\t\t\n-STMP_FIXPROTO=stmp-fixproto\t\n+\n+# Possibly disable fixproto, on a per-target basis.\n+case ${use_fixproto} in\n+  no)\n+    STMP_FIXPROTO=\n+    ;;\n+  yes)\n+    STMP_FIXPROTO=stmp-fixproto\n+    ;;\n+esac\n+\n \n # And these apply if build != host, or we are generating coverage data\n if test x$build != x$host || test \"x$coverage_flags\" != x\n@@ -5793,7 +5803,7 @@ esac\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:5797: checking what assembler to use\" >&5\n+echo \"configure:5807: checking what assembler to use\" >&5\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n@@ -5917,7 +5927,7 @@ esac\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:5921: checking what linker to use\" >&5\n+echo \"configure:5931: checking what linker to use\" >&5\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -6025,7 +6035,7 @@ esac\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6029: checking what nm to use\" >&5\n+echo \"configure:6039: checking what nm to use\" >&5\n in_tree_nm=no\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n@@ -6048,7 +6058,7 @@ esac\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6052: checking what objdump to use\" >&5\n+echo \"configure:6062: checking what objdump to use\" >&5\n in_tree_objdump=no\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n@@ -6073,7 +6083,7 @@ esac\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler for .balign and .p2align\"\"... $ac_c\" 1>&6\n-echo \"configure:6077: checking assembler for .balign and .p2align\" >&5\n+echo \"configure:6087: checking assembler for .balign and .p2align\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_balign_and_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6085,7 +6095,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '.balign 4\n .p2align 2' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6089: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6099: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_balign_and_p2align=yes\n     else\n@@ -6105,7 +6115,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .p2align with maximum skip\"\"... $ac_c\" 1>&6\n-echo \"configure:6109: checking assembler for .p2align with maximum skip\" >&5\n+echo \"configure:6119: checking assembler for .p2align with maximum skip\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_max_skip_p2align'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6116,7 +6126,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.p2align 4,,7' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6120: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6130: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_max_skip_p2align=yes\n     else\n@@ -6136,7 +6146,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for working .subsection -1\"\"... $ac_c\" 1>&6\n-echo \"configure:6140: checking assembler for working .subsection -1\" >&5\n+echo \"configure:6150: checking assembler for working .subsection -1\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_subsection_m1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6151,7 +6161,7 @@ fi\n .subsection -1\n conftest_label2: .word 0\n .previous' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6155: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6165: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_nm != x; then\n     $gcc_cv_nm conftest.o | grep conftest_label1 > conftest.nm1\n@@ -6179,7 +6189,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for .weak\"\"... $ac_c\" 1>&6\n-echo \"configure:6183: checking assembler for .weak\" >&5\n+echo \"configure:6193: checking assembler for .weak\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_weak'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6190,7 +6200,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.weak foobar' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6194: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6204: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_weak=yes\n     else\n@@ -6217,7 +6227,7 @@ fi\n # to be safe.\n # The gcc_GAS_CHECK_FEATURE call just sets a cache variable.\n echo $ac_n \"checking assembler for .hidden\"\"... $ac_c\" 1>&6\n-echo \"configure:6221: checking assembler for .hidden\" >&5\n+echo \"configure:6231: checking assembler for .hidden\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6230,7 +6240,7 @@ fi\n   elif test x$gcc_cv_as != x; then\n     echo '\t.hidden foobar\n foobar:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6234: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6244: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_hidden=yes\n     else\n@@ -6245,7 +6255,7 @@ echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n \n echo $ac_n \"checking linker for .hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:6249: checking linker for .hidden support\" >&5\n+echo \"configure:6259: checking linker for .hidden support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_ld_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6308,7 +6318,7 @@ fi\n \n # Check if we have .[us]leb128, and support symbol arithmetic with it.\n echo $ac_n \"checking assembler for .sleb128 and .uleb128\"\"... $ac_c\" 1>&6\n-echo \"configure:6312: checking assembler for .sleb128 and .uleb128\" >&5\n+echo \"configure:6322: checking assembler for .sleb128 and .uleb128\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_leb128'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6325,7 +6335,7 @@ L1:\n \t.uleb128 1280\n \t.sleb128 -1010\n L2:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6329: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6339: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# GAS versions before 2.11 do not support uleb128,\n   # despite appearing to.\n@@ -6361,7 +6371,7 @@ fi\n # GAS versions up to and including 2.11.0 may mis-optimize\n # .eh_frame data.\n echo $ac_n \"checking assembler for eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:6365: checking assembler for eh_frame optimization\" >&5\n+echo \"configure:6375: checking assembler for eh_frame optimization\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_eh_frame'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6404,7 +6414,7 @@ __FRAME_BEGIN__:\n \t.byte\t0x4\n \t.4byte\t.L1-.LFB1\n .LEFDE1:' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6408: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6418: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t  cat > conftest.lit <<EOF\n  0000 10000000 00000000 017a0001 781a0004  .........z..x...\n@@ -6425,7 +6435,7 @@ EOF\n     || cmp conftest.big conftest.got > /dev/null 2>&1; }\n   then\n     gcc_cv_as_eh_frame=yes\n-  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6429: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n+  elif { ac_try='$gcc_cv_as -o conftest.o --traditional-format /dev/null'; { (eval echo configure:6439: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }; then\n     gcc_cv_as_eh_frame=buggy\n   else\n     # Uh oh, what do we do now?\n@@ -6450,7 +6460,7 @@ EOF\n fi\n \n echo $ac_n \"checking assembler for section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:6454: checking assembler for section merging support\" >&5\n+echo \"configure:6464: checking assembler for section merging support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_shf_merge'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6462,7 +6472,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '.section .rodata.str, \"aMS\", @progbits, 1' > conftest.s\n-    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6466: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6476: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_shf_merge=yes\n     else\n@@ -6688,7 +6698,7 @@ if test -z \"$tls_first_major\"; then\n   : # If we don't have a check, assume no support.\n else\n   echo $ac_n \"checking assembler for thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:6692: checking assembler for thread-local storage support\" >&5\n+echo \"configure:6702: checking assembler for thread-local storage support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_tls'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6699,7 +6709,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6703: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as $tls_as_opt --fatal-warnings -o conftest.o conftest.s >&5'; { (eval echo configure:6713: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_tls=yes\n     else\n@@ -6725,7 +6735,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:6729: checking assembler for explicit relocation support\" >&5\n+echo \"configure:6739: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_alpha_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6748,7 +6758,7 @@ fi\n \tldah\t$1, d($29)\t!gprelhigh\n \tlda\t$1, d($1)\t!gprellow\n \tlda\t$29, 0($29)\t!gpdisp!3' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6752: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6762: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_alpha_explicit_relocs=yes\n     else\n@@ -6770,14 +6780,14 @@ fi\n \n   sparc*-*-*)\n     echo $ac_n \"checking assembler for .register\"\"... $ac_c\" 1>&6\n-echo \"configure:6774: checking assembler for .register\" >&5\n+echo \"configure:6784: checking assembler for .register\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_register_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_register_op=no\n   if test x$gcc_cv_as != x; then\n     echo '.register %g2, #scratch' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6781: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6791: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_register_op=yes\n     else\n@@ -6797,14 +6807,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for -relax option\"\"... $ac_c\" 1>&6\n-echo \"configure:6801: checking assembler for -relax option\" >&5\n+echo \"configure:6811: checking assembler for -relax option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_relax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_sparc_relax=no\n   if test x$gcc_cv_as != x; then\n     echo '.text' > conftest.s\n-    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6808: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -relax -o conftest.o conftest.s >&5'; { (eval echo configure:6818: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_sparc_relax=yes\n     else\n@@ -6824,7 +6834,7 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for unaligned pcrel relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:6828: checking assembler for unaligned pcrel relocs\" >&5\n+echo \"configure:6838: checking assembler for unaligned pcrel relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6837,7 +6847,7 @@ foo:\n .align 4\n .byte 0\n .uaword %r_disp32(foo)' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6841: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6851: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x \\\n        && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1; then\n@@ -6860,7 +6870,7 @@ EOF\n \n \n       echo $ac_n \"checking assembler for unaligned pcrel relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:6864: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n+echo \"configure:6874: checking assembler for unaligned pcrel relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6875,7 +6885,7 @@ else\n .hidden foo\n foo:\n .skip 4' > conftest.s\n-    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6879: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -K PIC -o conftest.o conftest.s >&5'; { (eval echo configure:6889: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_ld != x && test x$gcc_cv_objdump != x \\\n \t && $gcc_cv_ld -o conftest conftest.o -G > /dev/null 2>&1 \\\n@@ -6908,7 +6918,7 @@ fi\n fi # unaligned pcrel relocs\n \n     echo $ac_n \"checking assembler for offsetable %lo()\"\"... $ac_c\" 1>&6\n-echo \"configure:6912: checking assembler for offsetable %lo()\" >&5\n+echo \"configure:6922: checking assembler for offsetable %lo()\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6917,7 +6927,7 @@ else\n     echo '.text\n \tor %g1, %lo(ab) + 12, %g1\n \tor %g1, %lo(ab + 12), %g1' > conftest.s\n-    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6921: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as -xarch=v9 -o conftest.o conftest.s >&5'; { (eval echo configure:6931: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tif test x$gcc_cv_objdump != x \\\n        && %gcc_cv_objdump -s -j .text conftest.o 2> /dev/null \\\n@@ -6943,7 +6953,7 @@ fi\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler for filds and fists mnemonics\"\"... $ac_c\" 1>&6\n-echo \"configure:6947: checking assembler for filds and fists mnemonics\" >&5\n+echo \"configure:6957: checking assembler for filds and fists mnemonics\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_filds_fists'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6954,7 +6964,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo 'filds mem; fists mem' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6958: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6968: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_filds_fists=yes\n     else\n@@ -6974,14 +6984,14 @@ EOF\n fi\n \n     echo $ac_n \"checking assembler for cmov syntax\"\"... $ac_c\" 1>&6\n-echo \"configure:6978: checking assembler for cmov syntax\" >&5\n+echo \"configure:6988: checking assembler for cmov syntax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_cmov_sun_syntax'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_ix86_cmov_sun_syntax=no\n   if test x$gcc_cv_as != x; then\n     echo 'cmovl.l %edx, %eax' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6985: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:6995: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_cmov_sun_syntax=yes\n     else\n@@ -7003,7 +7013,7 @@ fi\n     # This one is used unconditionally by i386.[ch]; it is to be defined\n     # to 1 if the feature is present, 0 otherwise.\n     echo $ac_n \"checking assembler for GOTOFF in data\"\"... $ac_c\" 1>&6\n-echo \"configure:7007: checking assembler for GOTOFF in data\" >&5\n+echo \"configure:7017: checking assembler for GOTOFF in data\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ix86_gotoff_in_data'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7018,7 +7028,7 @@ fi\n \tnop\n \t.data\n \t.long .L0@GOTOFF' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7022: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7032: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ix86_gotoff_in_data=yes\n     else\n@@ -7039,7 +7049,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler for ltoffx and ldxmov relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:7043: checking assembler for ltoffx and ldxmov relocs\" >&5\n+echo \"configure:7053: checking assembler for ltoffx and ldxmov relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ia64_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7053,7 +7063,7 @@ fi\n \taddl r15 = @ltoffx(x#), gp\n \t;;\n \tld8.mov r16 = [r15], x#' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7057: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7067: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_ia64_ltoffx_ldxmov_relocs=yes\n     else\n@@ -7083,7 +7093,7 @@ fi\n \tmfcr 3,128\"\n \n     echo $ac_n \"checking assembler for mfcr field support\"\"... $ac_c\" 1>&6\n-echo \"configure:7087: checking assembler for mfcr field support\" >&5\n+echo \"configure:7097: checking assembler for mfcr field support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_powerpc_mfcrf'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7094,7 +7104,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7098: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7108: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_powerpc_mfcrf=yes\n     else\n@@ -7116,7 +7126,7 @@ fi\n \n   mips*-*-*)\n     echo $ac_n \"checking assembler for explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:7120: checking assembler for explicit relocation support\" >&5\n+echo \"configure:7130: checking assembler for explicit relocation support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_mips_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7127,7 +7137,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo '\tlw $4,%gp_rel(foo)($4)' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7131: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7141: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_mips_explicit_relocs=yes\n     else\n@@ -7173,7 +7183,7 @@ if test x\"$insn\" != x; then\n \t.loc 1 3 0\n \t$insn\"\n  echo $ac_n \"checking assembler for dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:7177: checking assembler for dwarf2 debug_line support\" >&5\n+echo \"configure:7187: checking assembler for dwarf2 debug_line support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_debug_line'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7185,7 +7195,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$conftest_s\" > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7189: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7199: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# ??? This fails with non-gnu grep.  Maybe use objdump?\n    if grep debug_line conftest.o > /dev/null 2>&1; then\n@@ -7207,15 +7217,15 @@ echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n # by DW_AT_decl_file.  Approximate this test by testing if\n # the assembler bitches if the same index is assigned twice.\n  echo $ac_n \"checking assembler for buggy dwarf2 .file directive\"\"... $ac_c\" 1>&6\n-echo \"configure:7211: checking assembler for buggy dwarf2 .file directive\" >&5\n+echo \"configure:7221: checking assembler for buggy dwarf2 .file directive\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_dwarf2_file_buggy'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gcc_cv_as_dwarf2_file_buggy=no\n   if test x$gcc_cv_as != x; then\n     echo '\t.file 1 \"foo.s\"\n \t.file 1 \"bar.s\"' > conftest.s\n-    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7219: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as  -o conftest.o conftest.s >&5'; { (eval echo configure:7229: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_dwarf2_file_buggy=yes\n     else\n@@ -7238,7 +7248,7 @@ EOF\n  fi\n \n  echo $ac_n \"checking assembler for --gdwarf2 option\"\"... $ac_c\" 1>&6\n-echo \"configure:7242: checking assembler for --gdwarf2 option\" >&5\n+echo \"configure:7252: checking assembler for --gdwarf2 option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gdwarf2_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7250,7 +7260,7 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7254: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gdwarf2 -o conftest.o conftest.s >&5'; { (eval echo configure:7264: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \tgcc_cv_as_gdwarf2_flag=yes\n     else\n@@ -7270,7 +7280,7 @@ EOF\n fi\n \n  echo $ac_n \"checking assembler for --gstabs option\"\"... $ac_c\" 1>&6\n-echo \"configure:7274: checking assembler for --gstabs option\" >&5\n+echo \"configure:7284: checking assembler for --gstabs option\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_gstabs_flag'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7282,12 +7292,12 @@ else\n fi\n   elif test x$gcc_cv_as != x; then\n     echo \"$insn\" > conftest.s\n-    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7286: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+    if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s >&5'; { (eval echo configure:7296: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n     then\n \t# The native Solaris 9/Intel assembler doesn't understand --gstabs\n    # and warns about it, but still exits successfully.  So check for\n    # this.\n-   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7291: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n+   if { ac_try='$gcc_cv_as --gstabs -o conftest.o conftest.s 2>&1 | grep -i warning > /dev/null'; { (eval echo configure:7301: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; }\n    then :\n    else gcc_cv_as_gstabs_flag=yes\n    fi\n@@ -7309,7 +7319,7 @@ fi\n fi\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:7313: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:7323: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7348,7 +7358,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:7352: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:7362: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7370,7 +7380,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:7374: checking linker position independent executable support\" >&5\n+echo \"configure:7384: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 \\\n@@ -7395,7 +7405,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:7399: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:7409: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -7597,7 +7607,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:7601: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7611: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "916f3384da4043c7c41fcbe6e715db25881738f6", "filename": "gcc/configure.in", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/587dc9c65ee0173e494153e1cb9298a923ec0c70/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=587dc9c65ee0173e494153e1cb9298a923ec0c70", "patch": "@@ -1458,7 +1458,17 @@ CC_FOR_BUILD='$(CC)'\t\tAC_SUBST(CC_FOR_BUILD)\n BUILD_CFLAGS='$(ALL_CFLAGS)'\tAC_SUBST(BUILD_CFLAGS)\n \n STMP_FIXINC=stmp-fixinc\t\tAC_SUBST(STMP_FIXINC)\n-STMP_FIXPROTO=stmp-fixproto\tAC_SUBST(STMP_FIXPROTO)\n+\n+# Possibly disable fixproto, on a per-target basis.\n+case ${use_fixproto} in\n+  no)\n+    STMP_FIXPROTO=\n+    ;;\n+  yes)\n+    STMP_FIXPROTO=stmp-fixproto\n+    ;;\n+esac\n+AC_SUBST(STMP_FIXPROTO)\n \n # And these apply if build != host, or we are generating coverage data\n if test x$build != x$host || test \"x$coverage_flags\" != x"}]}