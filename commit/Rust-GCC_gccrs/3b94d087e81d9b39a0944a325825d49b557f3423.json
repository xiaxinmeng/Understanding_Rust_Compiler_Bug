{"sha": "3b94d087e81d9b39a0944a325825d49b557f3423", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2I5NGQwODdlODFkOWIzOWEwOTQ0YTMyNTgyNWQ0OWI1NTdmMzQyMw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-12-27T08:08:17Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-12-27T08:08:17Z"}, "message": "(expand_expr, constructor case): If we made a stack slot,\n\nset MEM_IN_STRUCT_P if the type warrants it.\n\nFrom-SVN: r2921", "tree": {"sha": "1ae9c6d86b1afc2830fe9d041f4bba6d17272794", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ae9c6d86b1afc2830fe9d041f4bba6d17272794"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b94d087e81d9b39a0944a325825d49b557f3423", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b94d087e81d9b39a0944a325825d49b557f3423", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b94d087e81d9b39a0944a325825d49b557f3423", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b94d087e81d9b39a0944a325825d49b557f3423/comments", "author": null, "committer": null, "parents": [{"sha": "f5df292efc42b912b8babdd3593545fa3ec0842c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f5df292efc42b912b8babdd3593545fa3ec0842c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f5df292efc42b912b8babdd3593545fa3ec0842c"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "31b229876b115f35542cc425f1eccfbc0a1c4dfb", "filename": "gcc/expr.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b94d087e81d9b39a0944a325825d49b557f3423/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b94d087e81d9b39a0944a325825d49b557f3423/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=3b94d087e81d9b39a0944a325825d49b557f3423", "patch": "@@ -3621,10 +3621,11 @@ expand_expr (exp, target, tmode, modifier)\n \t\ttarget = gen_reg_rtx (mode);\n \t      else\n \t\t{\n-\t\t  rtx safe_target = assign_stack_temp (mode, int_size_in_bytes (type), 0);\n-\t\t  if (target)\n-\t\t    MEM_IN_STRUCT_P (safe_target) = MEM_IN_STRUCT_P (target);\n-\t\t  target = safe_target;\n+\t\t  enum tree_code c = TREE_CODE (type);\n+\t\t  target\n+\t\t    = assign_stack_temp (mode, int_size_in_bytes (type), 0);\n+\t\t  if (c == RECORD_TYPE || c == UNION_TYPE || c == ARRAY_TYPE)\n+\t\t    MEM_IN_STRUCT_P (target) = 1;\n \t\t}\n \t    }\n \t  store_constructor (exp, target);"}]}