{"sha": "215c351a8245872b7a7f077c28a2ac8b9c66a51a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjE1YzM1MWE4MjQ1ODcyYjdhN2YwNzdjMjhhMmFjOGI5YzY2YTUxYQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2005-02-28T13:26:36Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2005-02-28T13:26:36Z"}, "message": "re PR bootstrap/17383 (Building in src dir fails)\n\n2005-05-25  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/17383\n\t* Makefile.def (target_modules): Remove \"stage\", now unnecessary.\n\t* Makefile.tpl (HOST_SUBDIR): New substitution.\n\t(STAGE_HOST_EXPORTS, EXPECT, HOST_LIB_PATH, USUAL_AR_FOR_TARGET,\n\tUSUAL_AS_FOR_TARGET, USUAL_DLLTOOL_FOR_TARGET, USUAL_GCC_FOR_TARGET,\n\tUSUAL_LD_FOR_TARGET, USUAL_NM_FOR_TARGET, USUAL_OBJDUMP_FOR_TARGET,\n\tUSUAL_RANLIB_FOR_TARGET, USUAL_WINDRES_FOR_TARGET): Use it.\n\t(Host modules, Bootstrapped modules): Use it.\n\t(Build modules, Target modules): Do not create symlink trees,\n\talways configure out-of-srcdir.\n\t(distclean): Try removing $(host_subdir) with rm before using rm -rf.\n\t* configure.in (FLAGS_FOR_TARGET, CC_FOR_TARGET, GCJ_FOR_TARGET,\n\tGFORTRAN_FOR_TARGET, CXX_FOR_TARGET, RAW_CXX_FOR_TARGET): Use\n\t$(HOST_SUBDIR).  Create a symlink for host_subdir.\n\n\t* Makefile.in: Regenerate.\n\t* configure: Regenerate.\n\nconfig:\n2005-05-25  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/17383\n\t* config/acx.m4 (GCC_TOPLEV_SUBDIRS): Set HOST_SUBDIR if an in-src\n\tgcc build is going.\n\ngcc:\n2005-05-25  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/17383\n\t* gcc/Makefile.in (host_subdir): New.\n\t(build_objdir): New.  Replace ../$(build_subdir) with it throughout.\n\t* gcc/configure: Regenerate.\n\nlibada:\n2005-05-25  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/17383\n\t* Makefile.in (GCC_DIR): Add $(HOST_SUBDIR) to the definition.\n\nlibjava:\n2005-05-25  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/17383\n\t* configure.ac: Call GCC_TOPLEV_SUBDIRS.\n\t(COMPPATH): Removed.\n\t(ZIP, GCJH): Replace it with ../$(host_subdir).\n\t(built_gcc_dir): Add $(host_subdir).\n\t* configure: Regenerate.\n\t* Makefile.in, include/Makefile.in, testsuite/Makefile.in,\n\tgcj/Makefile.in, external/Makefile.in, external/sax/Makefile.in,\n\texternal/w3c_dom/Makefile.in: Regenerate.\n\nlibobjc:\n2005-05-25  Paolo Bonzini  <bonzini@gnu.org>\n\n\tPR bootstrap/17383\n\t* configure.ac: Call GCC_TOPLEV_SUBDIRS.\n\t(Determine CFLAGS for gthread): Use $host_subdir.\n\t* configure: Regenerate.\n\t* Makefile.in (host_subdir): New.\n\t(INCLUDES): Use it.\n\nFrom-SVN: r95680", "tree": {"sha": "13640b7a4c5eff3775cb5c88898dd94d15ec4dc8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/13640b7a4c5eff3775cb5c88898dd94d15ec4dc8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/215c351a8245872b7a7f077c28a2ac8b9c66a51a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/215c351a8245872b7a7f077c28a2ac8b9c66a51a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/215c351a8245872b7a7f077c28a2ac8b9c66a51a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/215c351a8245872b7a7f077c28a2ac8b9c66a51a/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "f51d6cb4abfac0c5e9ef9bfac184865d65f4d4a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f51d6cb4abfac0c5e9ef9bfac184865d65f4d4a6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f51d6cb4abfac0c5e9ef9bfac184865d65f4d4a6"}], "stats": {"total": 7033, "additions": 3431, "deletions": 3602}, "files": [{"sha": "6258a27e3ddaee7474185a3ff5a6f78e37f10aea", "filename": "ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1,3 +1,23 @@\n+2005-02-28  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/17383\n+\t* Makefile.def (target_modules): Remove \"stage\", now unnecessary.\n+\t* Makefile.tpl (HOST_SUBDIR): New substitution.\n+\t(STAGE_HOST_EXPORTS, EXPECT, HOST_LIB_PATH, USUAL_AR_FOR_TARGET,\n+\tUSUAL_AS_FOR_TARGET, USUAL_DLLTOOL_FOR_TARGET, USUAL_GCC_FOR_TARGET,\n+\tUSUAL_LD_FOR_TARGET, USUAL_NM_FOR_TARGET, USUAL_OBJDUMP_FOR_TARGET,\n+\tUSUAL_RANLIB_FOR_TARGET, USUAL_WINDRES_FOR_TARGET): Use it.\n+\t(Host modules, Bootstrapped modules): Use it.\n+\t(Build modules, Target modules): Do not create symlink trees,\n+\talways configure out-of-srcdir.\n+\t(distclean): Try removing $(host_subdir) with rm before using rm -rf.\n+\t* configure.in (FLAGS_FOR_TARGET, CC_FOR_TARGET, GCJ_FOR_TARGET,\n+\tGFORTRAN_FOR_TARGET, CXX_FOR_TARGET, RAW_CXX_FOR_TARGET): Use\n+\t$(HOST_SUBDIR).  Create a symlink for host_subdir.\n+\n+\t* Makefile.in: Regenerate.\n+\t* configure: Regenerate.\n+\n 2005-02-28  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \tMerged from libada-gnattools-branch:"}, {"sha": "3565f98320d15fb1403708ae4b5aad39eff2915b", "filename": "Makefile.def", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -118,7 +118,7 @@ target_modules = { module= libmudflap; };\n target_modules = { module= newlib; };\n target_modules = { module= libgfortran; };\n target_modules = { module= libobjc; };\n-target_modules = { module= libtermcap; no_check=true; stage=true;\n+target_modules = { module= libtermcap; no_check=true;\n                    missing=mostlyclean;\n                    missing=clean;\n                    missing=distclean;\n@@ -130,7 +130,7 @@ target_modules = { module= gperf; };\n target_modules = { module= examples; no_check=true; no_install=true; };\n target_modules = { module= libffi; };\n target_modules = { module= libjava; raw_cxx=true; };\n-target_modules = { module= zlib; stage=true; };\n+target_modules = { module= zlib; };\n target_modules = { module= boehm-gc; };\n target_modules = { module= qthreads; };\n target_modules = { module= rda; };"}, {"sha": "06652d4ca991e09ae254b07275408b646489e9ab", "filename": "Makefile.in", "status": "modified", "additions": 2768, "deletions": 3149, "changes": 5917, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a"}, {"sha": "93954261c76229ddf9a2372cb4114a6f6fe038c1", "filename": "Makefile.tpl", "status": "modified", "additions": 84, "deletions": 125, "changes": 209, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -152,6 +152,9 @@ SUBDIRS = @configdirs@\n # This is set by the configure script to the arguments to use when configuring\n # directories built for the host system.\n HOST_CONFIGARGS = @host_configargs@\n+# Host programs are put under this directory, which is . except if building\n+# with srcdir=..\n+HOST_SUBDIR = @host_subdir@\n # This is the list of variables to export in the environment when\n # configuring subdirectories for the host system.\n HOST_EXPORTS = \\\n@@ -181,8 +184,12 @@ HOST_EXPORTS = \\\n # Similar, for later GCC stages.\n STAGE_HOST_EXPORTS = \\\n \t$(HOST_EXPORTS) \\\n-\tCC=\"$(STAGE_CC_WRAPPER) $$r/prev-gcc/xgcc$(exeext) -B$$r/prev-gcc/ -B$(build_tooldir)/bin/\"; export CC; \\\n-\tCC_FOR_BUILD=\"$(STAGE_CC_WRAPPER) $$r/prev-gcc/xgcc$(exeext) -B$$r/prev-gcc/ -B$(build_tooldir)/bin/\"; export CC_FOR_BUILD;\n+\tCC=\"$(STAGE_CC_WRAPPER) $$r/$(HOST_SUBDIR)/prev-gcc/xgcc$(exeext) \\\n+\t  -B$$r/$(HOST_SUBDIR)/prev-gcc/ -B$(build_tooldir)/bin/\"; export CC; \\\n+\tCC_FOR_BUILD=\"$(STAGE_CC_WRAPPER) \\\n+\t  $$r/$(HOST_SUBDIR)/prev-gcc/xgcc$(exeext) \\\n+\t  -B$$r/$(HOST_SUBDIR)/prev-gcc/ \\\n+\t  -B$(build_tooldir)/bin/\"; export CC_FOR_BUILD;\n \n # This is set by the configure script to the list of directories which\n # should be built using the target tools.\n@@ -305,8 +312,9 @@ MAKEINFO = `if [ -f $$r/$(BUILD_SUBDIR)/texinfo/makeinfo/Makefile ] ; \\\n # (Default to avoid splitting info files by setting the threshold high.)\n MAKEINFOFLAGS = --split-size=5000000\n \n-EXPECT = `if [ -f $$r/expect/expect ] ; \\\n-\tthen echo $$r/expect/expect ; \\\n+# FIXME: expect may become a build tool?\n+EXPECT = `if [ -f $$r/$(HOST_SUBDIR)/expect/expect ] ; \\\n+\tthen echo $$r/$(HOST_SUBDIR)/expect/expect ; \\\n \telse echo expect ; fi`\n \n RUNTEST = `if [ -f $$s/dejagnu/runtest ] ; \\\n@@ -319,7 +327,7 @@ RUNTEST = `if [ -f $$s/dejagnu/runtest ] ; \\\n \n # This is the list of directories that may be needed in RPATH_ENVVAR\n # so that programs built for the host machine work.\n-HOST_LIB_PATH = $$r/bfd:$$r/opcodes\n+HOST_LIB_PATH = $$r/$(HOST_SUBDIR)/bfd:$$r/$(HOST_SUBDIR)/opcodes\n \n AS = @AS@\n \n@@ -360,8 +368,8 @@ FLAGS_FOR_TARGET = @FLAGS_FOR_TARGET@\n AR_FOR_TARGET=@AR_FOR_TARGET@\n CONFIGURED_AR_FOR_TARGET=@CONFIGURED_AR_FOR_TARGET@\n USUAL_AR_FOR_TARGET = ` \\\n-  if [ -f $$r/binutils/ar ] ; then \\\n-    echo $$r/binutils/ar ; \\\n+  if [ -f $$r/$(HOST_SUBDIR)/binutils/ar ] ; then \\\n+    echo $$r/$(HOST_SUBDIR)/binutils/ar ; \\\n   else \\\n     if [ '$(host)' = '$(target)' ] ; then \\\n       echo $(AR); \\\n@@ -373,9 +381,9 @@ USUAL_AR_FOR_TARGET = ` \\\n AS_FOR_TARGET=@AS_FOR_TARGET@\n CONFIGURED_AS_FOR_TARGET=@CONFIGURED_AS_FOR_TARGET@\n USUAL_AS_FOR_TARGET = ` \\\n-  if [ -f $$r/gas/as-new ] ; then \\\n-    echo $$r/gas/as-new ; \\\n-  elif [ -f $$r/gcc/xgcc ]; then \\\n+  if [ -f $$r/$(HOST_SUBDIR)/gas/as-new ] ; then \\\n+    echo $$r/$(HOST_SUBDIR)/gas/as-new ; \\\n+  elif [ -f $$r/$(HOST_SUBDIR)/gcc/xgcc ]; then \\\n     $(CC_FOR_TARGET) -print-prog-name=as ; \\\n   else \\\n     if [ '$(host)' = '$(target)' ] ; then \\\n@@ -396,7 +404,8 @@ CFLAGS_FOR_TARGET = -O2 $(CFLAGS)\n # build libgcc2.a.  We define it here so that it can itself be\n # overridden on the command line.\n GCC_FOR_TARGET=@GCC_FOR_TARGET@\n-USUAL_GCC_FOR_TARGET = $(STAGE_CC_WRAPPER) $$r/gcc/xgcc -B$$r/gcc/ $(FLAGS_FOR_TARGET)\n+USUAL_GCC_FOR_TARGET = $(STAGE_CC_WRAPPER) \\\n+  $$r/$(HOST_SUBDIR)/gcc/xgcc -B$$r/$(HOST_SUBDIR)/gcc/ $(FLAGS_FOR_TARGET)\n LIBCFLAGS_FOR_TARGET = $(CFLAGS_FOR_TARGET)\n \n CXX_FOR_TARGET = @CXX_FOR_TARGET@\n@@ -409,8 +418,8 @@ LIBCXXFLAGS_FOR_TARGET = $(CXXFLAGS_FOR_TARGET) -fno-implicit-templates\n DLLTOOL_FOR_TARGET=@DLLTOOL_FOR_TARGET@\n CONFIGURED_DLLTOOL_FOR_TARGET=@CONFIGURED_DLLTOOL_FOR_TARGET@\n USUAL_DLLTOOL_FOR_TARGET = ` \\\n-  if [ -f $$r/binutils/dlltool ] ; then \\\n-    echo $$r/binutils/dlltool ; \\\n+  if [ -f $$r/$(HOST_SUBDIR)/binutils/dlltool ] ; then \\\n+    echo $$r/$(HOST_SUBDIR)/binutils/dlltool ; \\\n   else \\\n     if [ '$(host)' = '$(target)' ] ; then \\\n       echo $(DLLTOOL); \\\n@@ -425,9 +434,9 @@ GFORTRAN_FOR_TARGET = @GFORTRAN_FOR_TARGET@\n LD_FOR_TARGET=@LD_FOR_TARGET@\n CONFIGURED_LD_FOR_TARGET=@CONFIGURED_LD_FOR_TARGET@\n USUAL_LD_FOR_TARGET = ` \\\n-  if [ -f $$r/ld/ld-new ] ; then \\\n-    echo $$r/ld/ld-new ; \\\n-  elif [ -f $$r/gcc/xgcc ]; then \\\n+  if [ -f $$r/$(HOST_SUBDIR)/ld/ld-new ] ; then \\\n+    echo $$r/$(HOST_SUBDIR)/ld/ld-new ; \\\n+  elif [ -f $$r/$(HOST_SUBDIR)/gcc/xgcc ]; then \\\n     $(CC_FOR_TARGET) -print-prog-name=ld ; \\\n   else \\\n     if [ '$(host)' = '$(target)' ] ; then \\\n@@ -442,9 +451,9 @@ LDFLAGS_FOR_TARGET =\n NM_FOR_TARGET=@NM_FOR_TARGET@\n CONFIGURED_NM_FOR_TARGET=@CONFIGURED_NM_FOR_TARGET@\n USUAL_NM_FOR_TARGET = ` \\\n-  if [ -f $$r/binutils/nm-new ] ; then \\\n-    echo $$r/binutils/nm-new ; \\\n-  elif [ -f $$r/gcc/xgcc ]; then \\\n+  if [ -f $$r/$(HOST_SUBDIR)/binutils/nm-new ] ; then \\\n+    echo $$r/$(HOST_SUBDIR)/binutils/nm-new ; \\\n+  elif [ -f $$r/$(HOST_SUBDIR)/gcc/xgcc ]; then \\\n     $(CC_FOR_TARGET) -print-prog-name=nm ; \\\n   else \\\n     if [ '$(host)' = '$(target)' ] ; then \\\n@@ -457,8 +466,8 @@ USUAL_NM_FOR_TARGET = ` \\\n RANLIB_FOR_TARGET=@RANLIB_FOR_TARGET@\n CONFIGURED_RANLIB_FOR_TARGET=@CONFIGURED_RANLIB_FOR_TARGET@\n USUAL_RANLIB_FOR_TARGET = ` \\\n-  if [ -f $$r/binutils/ranlib ] ; then \\\n-    echo $$r/binutils/ranlib ; \\\n+  if [ -f $$r/$(HOST_SUBDIR)/binutils/ranlib ] ; then \\\n+    echo $$r/$(HOST_SUBDIR)/binutils/ranlib ; \\\n   else \\\n     if [ '$(host)' = '$(target)' ] ; then \\\n       if [ x'$(RANLIB)' != x ]; then \\\n@@ -474,8 +483,8 @@ USUAL_RANLIB_FOR_TARGET = ` \\\n WINDRES_FOR_TARGET=@WINDRES_FOR_TARGET@\n CONFIGURED_WINDRES_FOR_TARGET=@CONFIGURED_WINDRES_FOR_TARGET@\n USUAL_WINDRES_FOR_TARGET = ` \\\n-  if [ -f $$r/binutils/windres ] ; then \\\n-    echo $$r/binutils/windres ; \\\n+  if [ -f $$r/$(HOST_SUBDIR)/binutils/windres ] ; then \\\n+    echo $$r/$(HOST_SUBDIR)/binutils/windres ; \\\n   else \\\n     if [ '$(host)' = '$(target)' ] ; then \\\n       echo $(WINDRES); \\\n@@ -670,6 +679,9 @@ local-distclean:\n \t  rm -rf $(TARGET_SUBDIR); \\\n \telse true; fi\n \t-rm -rf $(BUILD_SUBDIR)\n+\t-if [ \"$(HOST_SUBDIR)\" != \".\" ]; then \\\n+\t  rm -rf $(HOST_SUBDIR); \\\n+\telse true; fi\n \t-rm -f texinfo/po/Makefile texinfo/po/Makefile.in texinfo/info/Makefile\n \t-rm -f texinfo/doc/Makefile texinfo/po/POTFILES\n \t-rmdir texinfo/doc texinfo/info texinfo/intl texinfo/lib 2>/dev/null\n@@ -822,38 +834,12 @@ configure-build-[+module+]:\n \techo Configuring in $(BUILD_SUBDIR)/[+module+]; \\\n \tcd \"$(BUILD_SUBDIR)/[+module+]\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) \\\n-\t    topdir=$(srcdir) ;; \\\n-\t  *) \\\n-\t    case \"$(BUILD_SUBDIR)\" in \\\n-\t      .) topdir=\"../$(srcdir)\" ;; \\\n-\t      *) topdir=\"../../$(srcdir)\" ;; \\\n-\t    esac ;; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n+\t  *) topdir=`echo $(BUILD_SUBDIR)/[+module+]/ | \\\n+\t\tsed -e 's,\\./,,g' -e 's,[^/]*/,../,g' `$(srcdir) ;; \\\n \tesac; \\\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if [ \"$(BUILD_SUBDIR)\" != \".\" ] ; then \\\n-\t    if $(SHELL) $$s/symlink-tree $${topdir}/[+module+] \"no-such-file\" ; then \\\n-\t      if [ -f Makefile ]; then \\\n-\t        if $(MAKE) distclean; then \\\n-\t          true; \\\n-\t        else \\\n-\t          exit 1; \\\n-\t        fi; \\\n-\t      else \\\n-\t        true; \\\n-\t      fi; \\\n-\t    else \\\n-\t      exit 1; \\\n-\t    fi; \\\n-\t  else \\\n-\t    true; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\\n-\t  srcdiroption=\"--srcdir=$${topdir}/[+module+]\"; \\\n-\t  libsrcdir=\"$$s/[+module+]\"; \\\n-\tfi; \\\n+\tsrcdiroption=\"--srcdir=$${topdir}/[+module+]\"; \\\n+\tlibsrcdir=\"$$s/[+module+]\"; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(BUILD_CONFIGARGS) $${srcdiroption} \\\n@@ -885,24 +871,20 @@ maybe-configure-[+module+]:\n maybe-configure-[+module+]: configure-[+module+]\n configure-[+module+]:\n \t@[+ IF bootstrap +]test -f stage_last && exit 0; \\\n-\t[+ ENDIF bootstrap +]test ! -f [+module+]/Makefile || exit 0; \\\n-\t[ -d [+module+] ] || mkdir [+module+]; \\\n+\t[+ ENDIF bootstrap +]test ! -f $(HOST_SUBDIR)/[+module+]/Makefile || exit 0; \\\n+\t$(SHELL) $(srcdir)/mkinstalldirs $(HOST_SUBDIR)/[+module+] ; \\\n \tr=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t$(HOST_EXPORTS) \\\n \techo Configuring in [+module+]; \\\n-\tcd [+module+] || exit 1; \\\n+\tcd $(HOST_SUBDIR)/[+module+] || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  \\.) \\\n-\t    srcdiroption=\"--srcdir=.\"; \\\n-\t    libsrcdir=\".\";; \\\n-\t  /* | [A-Za-z]:[\\\\/]*) \\\n-\t    srcdiroption=\"--srcdir=$(srcdir)/[+module+]\"; \\\n-\t    libsrcdir=\"$$s/[+module+]\";; \\\n-\t  *) \\\n-\t    srcdiroption=\"--srcdir=../$(srcdir)/[+module+]\"; \\\n-\t    libsrcdir=\"$$s/[+module+]\";; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n+\t  *) topdir=`echo $(HOST_SUBDIR)/[+module+]/ | \\\n+\t\tsed -e 's,\\./,,g' -e 's,[^/]*/,../,g' `$(srcdir) ;; \\\n \tesac; \\\n+\tsrcdiroption=\"--srcdir=$${topdir}/[+module+]\"; \\\n+\tlibsrcdir=\"$$s/[+module+]\"; \\\n \t$(SHELL) $${libsrcdir}/configure \\\n \t  $(HOST_CONFIGARGS) $${srcdiroption} [+extra_configure_flags+] \\\n \t  || exit 1\n@@ -919,8 +901,8 @@ all-[+module+]: configure-[+module+]\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n-\t(cd [+module+] && $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] \\\n-\t  $(TARGET-[+module+]))\n+\t(cd $(HOST_SUBDIR)/[+module+] && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] $(TARGET-[+module+]))\n @endif [+module+]\n \n .PHONY: check-[+module+] maybe-check-[+module+]\n@@ -937,17 +919,17 @@ check-[+module+]:\n \t  s=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t  $(SET_LIB_PATH) \\\n \t  $(HOST_EXPORTS) \\\n-\t  (cd [+module+] && $(MAKE) $(FLAGS_TO_PASS) [+ \n-\t    extra_make_flags+] check); \\\n+\t  (cd $(HOST_SUBDIR)/[+module+] && \\\n+\t    $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] check)\n \tfi\n [+ ELSE check +]\n check-[+module+]:\n \t@r=`${PWD_COMMAND}`; export r; \\\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n-\t(cd [+module+] && $(MAKE) $(FLAGS_TO_PASS)[+ \n-\t  extra_make_flags+] check)\n+\t(cd $(HOST_SUBDIR)/[+module+] && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] check)\n [+ ENDIF no_check +]\n @endif [+module+]\n \n@@ -963,8 +945,8 @@ install-[+module+]: installdirs\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; \\\n \t$(SET_LIB_PATH) \\\n \t$(HOST_EXPORTS) \\\n-\t(cd [+module+] && $(MAKE) $(FLAGS_TO_PASS)[+ \n-\t  extra_make_flags+] install)\n+\t(cd $(HOST_SUBDIR)/[+module+] && \\\n+\t  $(MAKE) $(FLAGS_TO_PASS) [+extra_make_flags+] check)\n [+ ENDIF no_install +]\n @endif [+module+]\n \n@@ -991,7 +973,7 @@ maybe-[+make_target+]-[+module+]: [+make_target+]-[+module+]\n \t  eval `echo \"$$flag\" | sed -e \"s|^\\([^=]*\\)=\\(.*\\)|\\1='\\2'; export \\1|\"`; \\\n \tdone; \\\n \techo \"Doing [+make_target+] in [+module+]\" ; \\\n-\t(cd [+module+] && \\\n+\t(cd $(HOST_SUBDIR)/[+module+] && \\\n \t  $(MAKE) $(BASE_FLAGS_TO_PASS) \"AR=$${AR}\" \"AS=$${AS}\" \\\n \t          \"CC=$${CC}\" \"CXX=$${CXX}\" \"LD=$${LD}\" \"NM=$${NM}\" \\\n \t          \"RANLIB=$${RANLIB}\" \\\n@@ -1032,38 +1014,12 @@ ENDIF raw_cxx +]\n \techo Configuring in $(TARGET_SUBDIR)/[+module+]; \\\n \tcd \"$(TARGET_SUBDIR)/[+module+]\" || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  /* | [A-Za-z]:[\\\\/]*) \\\n-\t    topdir=$(srcdir) ;; \\\n-\t  *) \\\n-\t    case \"$(TARGET_SUBDIR)\" in \\\n-\t      .) topdir=\"../$(srcdir)\" ;; \\\n-\t      *) topdir=\"../../$(srcdir)\" ;; \\\n-\t    esac ;; \\\n-\tesac; \\[+ IF stage +]\n-\tif [ \"$(srcdir)\" = \".\" ] ; then \\\n-\t  if [ \"$(TARGET_SUBDIR)\" != \".\" ] ; then \\\n-\t    if $(SHELL) $$s/symlink-tree $${topdir}/[+module+] \"no-such-file\" ; then \\\n-\t      if [ -f Makefile ]; then \\\n-\t        if $(MAKE) distclean; then \\\n-\t          true; \\\n-\t        else \\\n-\t          exit 1; \\\n-\t        fi; \\\n-\t      else \\\n-\t        true; \\\n-\t      fi; \\\n-\t    else \\\n-\t      exit 1; \\\n-\t    fi; \\\n-\t  else \\\n-\t    true; \\\n-\t  fi; \\\n-\t  srcdiroption=\"--srcdir=.\"; \\\n-\t  libsrcdir=\".\"; \\\n-\telse \\[+ ENDIF stage +]\n-\t  srcdiroption=\"--srcdir=$${topdir}/[+module+]\"; \\\n-\t  libsrcdir=\"$$s/[+module+]\"; \\[+ IF stage +]\n-\tfi; \\[+ ENDIF stage +]\n+\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n+\t  *) topdir=`echo $(TARGET_SUBDIR)/[+module+]/ | \\\n+\t\tsed -e 's,\\./,,g' -e 's,[^/]*/,../,g' `$(srcdir) ;; \\\n+\tesac; \\\n+\tsrcdiroption=\"--srcdir=$${topdir}/[+module+]\"; \\\n+\tlibsrcdir=\"$$s/[+module+]\"; \\\n \trm -f no-such-file || : ; \\\n \tCONFIG_SITE=no-such-file $(SHELL) $${libsrcdir}/configure \\\n \t  $(TARGET_CONFIGARGS) $${srcdiroption} \\\n@@ -1378,18 +1334,25 @@ POSTSTAGE1_FLAGS_TO_PASS = \\\n stage[+id+]-start::\n \t@[ -f stage_current ] && $(MAKE) `cat stage_current`-end || : ; \\\n \techo stage[+id+] > stage_current ; \\\n-\techo stage[+id+] > stage_last[+ FOR host_modules +][+ IF bootstrap +]\n+\techo stage[+id+] > stage_last; \\\n+\t$(mkinstalldirs) $(HOST_SUBDIR)[+\n+   FOR host_modules +][+ IF bootstrap +]\n @if [+ module +]\n-\t@[ -d stage[+id+]-[+module+] ] || mkdir stage[+id+]-[+module+]; \\\n-\tset stage[+id+]-[+module+] [+module+] ; @CREATE_LINK_TO_DIR@ [+ IF prev +] ; \\\n-\tset stage[+prev+]-[+module+] prev-[+module+] ; @CREATE_LINK_TO_DIR@ [+ ENDIF prev +]\n+\t@cd $(HOST_SUBDIR); [ -d stage[+id+]-[+module+] ] || \\\n+\t  mkdir stage[+id+]-[+module+]; \\\n+\tset stage[+id+]-[+module+] [+module+] ; \\\n+\t@CREATE_LINK_TO_DIR@ [+ IF prev +] ; \\\n+\tset stage[+prev+]-[+module+] prev-[+module+] ; \\\n+\t@CREATE_LINK_TO_DIR@ [+ ENDIF prev +]\n @endif [+ module +][+ ENDIF bootstrap +][+ ENDFOR host_modules +]\n \n stage[+id+]-end::\n \t@rm -f stage_current[+ FOR host_modules +][+ IF bootstrap +]\n @if [+ module +]\n-\t@set [+module+] stage[+id+]-[+module+] ; @UNDO_LINK_TO_DIR@ [+ IF prev +] ; \\\n-\tset prev-[+module+] stage[+prev+]-[+module+] ; @UNDO_LINK_TO_DIR@ [+ ENDIF prev +]\n+\t@cd $(HOST_SUBDIR); set [+module+] stage[+id+]-[+module+] ; \\\n+\t@UNDO_LINK_TO_DIR@ [+ IF prev +] ; \\\n+\tset prev-[+module+] stage[+prev+]-[+module+] ; \\\n+\t@UNDO_LINK_TO_DIR@ [+ ENDIF prev +]\n @endif [+ module +][+ ENDIF bootstrap +][+ ENDFOR host_modules +]\n \n # Bubble a bugfix through all the stages up to stage [+id+].  They\n@@ -1434,18 +1397,14 @@ configure-stage[+id+]-[+module+]:\n \t$(STAGE_HOST_EXPORTS) [+ ELSE prev +] \\\n \t$(HOST_EXPORTS) [+ ENDIF prev +] \\\n \techo Configuring stage [+id+] in [+module+] ; \\\n-\tcd [+module+] || exit 1; \\\n+\tcd $(HOST_SUBDIR)/[+module+] || exit 1; \\\n \tcase $(srcdir) in \\\n-\t  \\.) \\\n-\t    srcdiroption=\"--srcdir=.\"; \\\n-\t    libsrcdir=\".\";; \\\n-\t  /* | [A-Za-z]:[\\\\/]*) \\\n-\t    srcdiroption=\"--srcdir=$(srcdir)/[+module+]\"; \\\n-\t    libsrcdir=\"$$s/[+module+]\";; \\\n-\t  *) \\\n-\t    srcdiroption=\"--srcdir=../$(srcdir)/[+module+]\"; \\\n-\t    libsrcdir=\"$$s/[+module+]\";; \\\n+\t  /* | [A-Za-z]:[\\\\/]*) topdir=$(srcdir) ;; \\\n+\t  *) topdir=`echo $(HOST_SUBDIR)/[+module+]/ | \\\n+\t\tsed -e 's,\\./,,g' -e 's,[^/]*/,../,g' `$(srcdir) ;; \\\n \tesac; \\\n+\tsrcdiroption=\"--srcdir=$${topdir}/[+module+]\"; \\\n+\tlibsrcdir=\"$$s/[+module+]\"; \\\n \t$(SHELL) $${libsrcdir}/configure \\\n \t  $(HOST_CONFIGARGS) $${srcdiroption} \\\n \t  [+stage_configure_flags+] [+extra_configure_flags+]\n@@ -1457,7 +1416,7 @@ all-stage[+id+]-[+module+]: configure-stage[+id+]-[+module+]\n \ts=`cd $(srcdir); ${PWD_COMMAND}`; export s; [+ IF prev +] \\\n \t$(STAGE_HOST_EXPORTS) [+ ELSE prev +] \\\n \t$(HOST_EXPORTS) [+ ENDIF prev +] \\\n-\tcd [+module+] && \\\n+\tcd $(HOST_SUBDIR)/[+module+] && \\\n \t$(MAKE) $(FLAGS_TO_PASS) [+ IF prev +] \\\n \t\t$(POSTSTAGE1_FLAGS_TO_PASS) [+ ENDIF prev +] \\\n \t\t[+stage_make_flags+] [+extra_make_flags+]\n@@ -1467,7 +1426,7 @@ clean-stage[+id+]-[+module+]:\n \t@[ -f [+module+]/Makefile ] || [ -f stage[+id+]-[+module+]/Makefile ] \\\n \t  || exit 0 ; \\\n \t[ -f [+module+]/Makefile ] || $(MAKE) stage[+id+]-start ; \\\n-\tcd [+module+] && \\\n+\tcd $(HOST_SUBDIR)/[+module+] && \\\n \t$(MAKE) $(FLAGS_TO_PASS) [+ IF prev +] \\\n \t\t$(POSTSTAGE1_FLAGS_TO_PASS) [+ ENDIF prev +] \\\n \t\t[+stage_make_flags+] [+extra_make_flags+] clean"}, {"sha": "809396ba4e910724c347bc68e3b9dd95085865c0", "filename": "config/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1,3 +1,9 @@\n+2005-02-28  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/17383\n+\t* acx.m4 (GCC_TOPLEV_SUBDIRS): Set HOST_SUBDIR if an in-src\n+\tgcc build is going.\n+\n 2005-01-23  Joseph S. Myers  <joseph@codesourcery.com>\n \n \t* warnings.m4 (ACX_PROG_CC_WARNING_ALMOST_PEDANTIC): Don't do"}, {"sha": "6d3e6d5d5ab337e6f835d30d2d4752bce9ef45a8", "filename": "config/acx.m4", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/config%2Facx.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/config%2Facx.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Facx.m4?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -76,8 +76,13 @@ AC_DEFUN([GCC_TOPLEV_SUBDIRS],\n AC_REQUIRE([_GCC_TOPLEV_NONCANONICAL_BUILD]) []dnl\n # Prefix 'build-' so this never conflicts with target_subdir.\n build_subdir=\"build-${build_noncanonical}\"\n-# Not really a subdirectory, but here for completeness.\n-host_subdir=.\n+# --srcdir=. covers the toplevel, while \"test -d\" covers the subdirectories\n+if ( test $srcdir = . && test -d gcc ) \\\n+   || test -d $srcdir/../host-${host_noncanonical}; then\n+  host_subdir=\"host-${host_noncanonical}\"\n+else\n+  host_subdir=.\n+fi\n # No prefix.\n target_subdir=${target_noncanonical}\n AC_SUBST([build_subdir]) []dnl"}, {"sha": "0077b55a7fa8013853f27500eef69df49ba86b2d", "filename": "configure", "status": "modified", "additions": 75, "deletions": 70, "changes": 145, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/configure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/configure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -989,8 +989,13 @@ esac\n \n   # Prefix 'build-' so this never conflicts with target_subdir.\n build_subdir=\"build-${build_noncanonical}\"\n-# Not really a subdirectory, but here for completeness.\n-host_subdir=.\n+# --srcdir=. covers the toplevel, while \"test -d\" covers the subdirectories\n+if ( test $srcdir = . && test -d gcc ) \\\n+   || test -d $srcdir/../host-${host_noncanonical}; then\n+  host_subdir=\"host-${host_noncanonical}\"\n+else\n+  host_subdir=.\n+fi\n # No prefix.\n target_subdir=${target_noncanonical}\n    \n@@ -1800,7 +1805,7 @@ else\n   # Extract the first word of \"gcc\", so it can be a program name with args.\n set dummy gcc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1804: checking for $ac_word\" >&5\n+echo \"configure:1809: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1830,7 +1835,7 @@ if test -z \"$CC\"; then\n   # Extract the first word of \"cc\", so it can be a program name with args.\n set dummy cc; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1834: checking for $ac_word\" >&5\n+echo \"configure:1839: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1881,7 +1886,7 @@ fi\n       # Extract the first word of \"cl\", so it can be a program name with args.\n set dummy cl; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:1885: checking for $ac_word\" >&5\n+echo \"configure:1890: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1913,7 +1918,7 @@ fi\n fi\n \n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\"\"... $ac_c\" 1>&6\n-echo \"configure:1917: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n+echo \"configure:1922: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works\" >&5\n \n ac_ext=c\n # CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.\n@@ -1924,12 +1929,12 @@ cross_compiling=$ac_cv_prog_cc_cross\n \n cat > conftest.$ac_ext << EOF\n \n-#line 1928 \"configure\"\n+#line 1933 \"configure\"\n #include \"confdefs.h\"\n \n main(){return(0);}\n EOF\n-if { (eval echo configure:1933: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:1938: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   ac_cv_prog_cc_works=yes\n   # If we can't run a trivial program, we are probably using a cross compiler.\n   if (./conftest; exit) 2>/dev/null; then\n@@ -1955,12 +1960,12 @@ if test $ac_cv_prog_cc_works = no; then\n   { echo \"configure: error: installation or configuration problem: C compiler cannot create executables.\" 1>&2; exit 1; }\n fi\n echo $ac_n \"checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\"\"... $ac_c\" 1>&6\n-echo \"configure:1959: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n+echo \"configure:1964: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler\" >&5\n echo \"$ac_t\"\"$ac_cv_prog_cc_cross\" 1>&6\n cross_compiling=$ac_cv_prog_cc_cross\n \n echo $ac_n \"checking whether we are using GNU C\"\"... $ac_c\" 1>&6\n-echo \"configure:1964: checking whether we are using GNU C\" >&5\n+echo \"configure:1969: checking whether we are using GNU C\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_gcc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -1969,7 +1974,7 @@ else\n   yes;\n #endif\n EOF\n-if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1973: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n+if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:1978: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then\n   ac_cv_prog_gcc=yes\n else\n   ac_cv_prog_gcc=no\n@@ -1988,7 +1993,7 @@ ac_test_CFLAGS=\"${CFLAGS+set}\"\n ac_save_CFLAGS=\"$CFLAGS\"\n CFLAGS=\n echo $ac_n \"checking whether ${CC-cc} accepts -g\"\"... $ac_c\" 1>&6\n-echo \"configure:1992: checking whether ${CC-cc} accepts -g\" >&5\n+echo \"configure:1997: checking whether ${CC-cc} accepts -g\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_cc_g'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2055,7 +2060,7 @@ fi\n # Extract the first word of \"${ac_tool_prefix}gnatbind\", so it can be a program name with args.\n set dummy ${ac_tool_prefix}gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2059: checking for $ac_word\" >&5\n+echo \"configure:2064: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2087,7 +2092,7 @@ if test -n \"$ac_tool_prefix\"; then\n   # Extract the first word of \"gnatbind\", so it can be a program name with args.\n set dummy gnatbind; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2091: checking for $ac_word\" >&5\n+echo \"configure:2096: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_GNATBIND'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2120,7 +2125,7 @@ fi\n fi\n \n echo $ac_n \"checking whether compiler driver understands Ada\"\"... $ac_c\" 1>&6\n-echo \"configure:2124: checking whether compiler driver understands Ada\" >&5\n+echo \"configure:2129: checking whether compiler driver understands Ada\" >&5\n if eval \"test \\\"`echo '$''{'acx_cv_cc_gcc_supports_ada'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2153,7 +2158,7 @@ else\n fi\n \n echo $ac_n \"checking how to compare bootstrapped objects\"\"... $ac_c\" 1>&6\n-echo \"configure:2157: checking how to compare bootstrapped objects\" >&5\n+echo \"configure:2162: checking how to compare bootstrapped objects\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_cmp_skip'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2251,9 +2256,9 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS $gmpinc\"\n # Check GMP actually works\n echo $ac_n \"checking for correct version of gmp.h\"\"... $ac_c\" 1>&6\n-echo \"configure:2255: checking for correct version of gmp.h\" >&5\n+echo \"configure:2260: checking for correct version of gmp.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 2257 \"configure\"\n+#line 2262 \"configure\"\n #include \"confdefs.h\"\n #include \"gmp.h\"\n int main() {\n@@ -2264,7 +2269,7 @@ choke me\n \n ; return 0; }\n EOF\n-if { (eval echo configure:2268: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:2273: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -2277,20 +2282,20 @@ rm -f conftest*\n \n if test x\"$have_gmp\" = xyes; then\n   echo $ac_n \"checking for MPFR\"\"... $ac_c\" 1>&6\n-echo \"configure:2281: checking for MPFR\" >&5\n+echo \"configure:2286: checking for MPFR\" >&5\n \n   saved_LIBS=\"$LIBS\"\n   LIBS=\"$LIBS $gmplibs\"\n   cat > conftest.$ac_ext <<EOF\n-#line 2286 \"configure\"\n+#line 2291 \"configure\"\n #include \"confdefs.h\"\n #include <gmp.h>\n #include <mpfr.h>\n int main() {\n mpfr_t n; mpfr_init(n);\n ; return 0; }\n EOF\n-if { (eval echo configure:2294: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:2299: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   echo \"$ac_t\"\"yes\" 1>&6\n else\n@@ -2777,7 +2782,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2781: checking for $ac_word\" >&5\n+echo \"configure:2786: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_BISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2812,7 +2817,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2816: checking for $ac_word\" >&5\n+echo \"configure:2821: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_YACC'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2847,7 +2852,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2851: checking for $ac_word\" >&5\n+echo \"configure:2856: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_M4'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2882,7 +2887,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2886: checking for $ac_word\" >&5\n+echo \"configure:2891: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_FLEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2917,7 +2922,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2921: checking for $ac_word\" >&5\n+echo \"configure:2926: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LEX'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -2952,7 +2957,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:2956: checking for $ac_word\" >&5\n+echo \"configure:2961: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_MAKEINFO'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3417,7 +3422,7 @@ case \" $target_configdirs \" in\n        # to it.  This is right: we don't want to search that directory\n        # for binaries, but we want the header files in there, so add\n        # them explicitly.\n-       FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -isystem $$r/gcc/include'\n+       FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -isystem $$r/$(HOST_SUBDIR)/gcc/include'\n \n        # Someone might think of using the pre-installed headers on\n        # Canadian crosses, in case the installed compiler is not fully\n@@ -3464,13 +3469,13 @@ fi\n if test \"x${use_gnu_ld}\" = x &&\n    echo \" ${configdirs} \" | grep \" ld \" > /dev/null ; then\n   # Arrange for us to find uninstalled linker scripts.\n-  FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/ld'\n+  FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/$(HOST_SUBDIR)/ld'\n fi\n \n if test \"x${CC_FOR_TARGET+set}\" = xset; then\n   :\n elif test -d ${srcdir}/gcc; then\n-  CC_FOR_TARGET='$$r/gcc/xgcc -B$$r/gcc/'\n+  CC_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/xgcc -B$$r/$(HOST_SUBDIR)/gcc/'\n elif test \"$host\" = \"$target\"; then\n   CC_FOR_TARGET='$(CC)'\n else\n@@ -3481,7 +3486,7 @@ CC_FOR_TARGET=$CC_FOR_TARGET' $(FLAGS_FOR_TARGET)'\n if test \"x${GCJ_FOR_TARGET+set}\" = xset; then\n   :\n elif test -d ${srcdir}/gcc; then\n-  GCJ_FOR_TARGET='$$r/gcc/gcj -B$$r/gcc/'\n+  GCJ_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/gcj -B$$r/$(HOST_SUBDIR)/gcc/'\n elif test \"$host\" = \"$target\"; then\n   GCJ_FOR_TARGET='gcj'\n else\n@@ -3492,7 +3497,7 @@ GCJ_FOR_TARGET=$GCJ_FOR_TARGET' $(FLAGS_FOR_TARGET)'\n if test \"x${GFORTRAN_FOR_TARGET+set}\" = xset; then\n   :\n elif test -d ${srcdir}/gcc; then\n-  GFORTRAN_FOR_TARGET='$$r/gcc/gfortran -B$$r/gcc/'\n+  GFORTRAN_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/gfortran -B$$r/$(HOST_SUBDIR)/gcc/'\n elif test \"$host\" = \"$target\"; then\n   GFORTRAN_FOR_TARGET='gfortran'\n else\n@@ -3517,8 +3522,8 @@ elif test -d ${srcdir}/gcc; then\n   # default whereas gcc does not.\n   # RAW_CXX_FOR_TARGET is for linking C++ or java; CXX_FOR_TARGET is for\n   # all other cases.\n-  CXX_FOR_TARGET='$$r/gcc/g++ -B$$r/gcc/ -nostdinc++ '$libstdcxx_flags\n-  RAW_CXX_FOR_TARGET='$$r/gcc/xgcc -shared-libgcc -B$$r/gcc/ -nostdinc++ '$raw_libstdcxx_flags\n+  CXX_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/g++ -B$$r/$(HOST_SUBDIR)/gcc/ -nostdinc++ '$libstdcxx_flags\n+  RAW_CXX_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/xgcc -shared-libgcc -B$$r/$(HOST_SUBDIR)/gcc/ -nostdinc++ '$raw_libstdcxx_flags\n elif test \"$host\" = \"$target\"; then\n   CXX_FOR_TARGET='$(CXX)'\n   RAW_CXX_FOR_TARGET=${CXX_FOR_TARGET}\n@@ -3598,7 +3603,7 @@ test -n \"$target_alias\" && ncn_target_tool_prefix=$target_alias-\n   # Extract the first word of \"${ncn_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3602: checking for $ac_word\" >&5\n+echo \"configure:3607: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3631,7 +3636,7 @@ if test -z \"$ac_cv_prog_AR\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3635: checking for $ac_word\" >&5\n+echo \"configure:3640: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AR'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3670,7 +3675,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3674: checking for $ac_word\" >&5\n+echo \"configure:3679: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3703,7 +3708,7 @@ if test -z \"$ac_cv_prog_AS\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3707: checking for $ac_word\" >&5\n+echo \"configure:3712: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_AS'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3742,7 +3747,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3746: checking for $ac_word\" >&5\n+echo \"configure:3751: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3775,7 +3780,7 @@ if test -z \"$ac_cv_prog_DLLTOOL\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3779: checking for $ac_word\" >&5\n+echo \"configure:3784: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_DLLTOOL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3814,7 +3819,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3818: checking for $ac_word\" >&5\n+echo \"configure:3823: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3847,7 +3852,7 @@ if test -z \"$ac_cv_prog_LD\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3851: checking for $ac_word\" >&5\n+echo \"configure:3856: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_LD'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3886,7 +3891,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3890: checking for $ac_word\" >&5\n+echo \"configure:3895: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3919,7 +3924,7 @@ if test -z \"$ac_cv_prog_NM\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3923: checking for $ac_word\" >&5\n+echo \"configure:3928: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_NM'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3958,7 +3963,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3962: checking for $ac_word\" >&5\n+echo \"configure:3967: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -3991,7 +3996,7 @@ if test -z \"$ac_cv_prog_RANLIB\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:3995: checking for $ac_word\" >&5\n+echo \"configure:4000: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_RANLIB'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4030,7 +4035,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4034: checking for $ac_word\" >&5\n+echo \"configure:4039: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4063,7 +4068,7 @@ if test -z \"$ac_cv_prog_WINDRES\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4067: checking for $ac_word\" >&5\n+echo \"configure:4072: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_WINDRES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4102,7 +4107,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objcopy\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4106: checking for $ac_word\" >&5\n+echo \"configure:4111: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4135,7 +4140,7 @@ if test -z \"$ac_cv_prog_OBJCOPY\" ; then\n     # Extract the first word of \"objcopy\", so it can be a program name with args.\n set dummy objcopy; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4139: checking for $ac_word\" >&5\n+echo \"configure:4144: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJCOPY'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4174,7 +4179,7 @@ fi\n   # Extract the first word of \"${ncn_tool_prefix}objdump\", so it can be a program name with args.\n set dummy ${ncn_tool_prefix}objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4178: checking for $ac_word\" >&5\n+echo \"configure:4183: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4207,7 +4212,7 @@ if test -z \"$ac_cv_prog_OBJDUMP\" ; then\n     # Extract the first word of \"objdump\", so it can be a program name with args.\n set dummy objdump; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4211: checking for $ac_word\" >&5\n+echo \"configure:4216: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_OBJDUMP'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4253,7 +4258,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ar\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4257: checking for $ac_word\" >&5\n+echo \"configure:4262: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4286,7 +4291,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AR_FOR_TARGET\" ; then\n     # Extract the first word of \"ar\", so it can be a program name with args.\n set dummy ar; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4290: checking for $ac_word\" >&5\n+echo \"configure:4295: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AR_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4325,7 +4330,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}as\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4329: checking for $ac_word\" >&5\n+echo \"configure:4334: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4358,7 +4363,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_AS_FOR_TARGET\" ; then\n     # Extract the first word of \"as\", so it can be a program name with args.\n set dummy as; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4362: checking for $ac_word\" >&5\n+echo \"configure:4367: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_AS_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4397,7 +4402,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}dlltool\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4401: checking for $ac_word\" >&5\n+echo \"configure:4406: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4430,7 +4435,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_DLLTOOL_FOR_TARGET\" ; then\n     # Extract the first word of \"dlltool\", so it can be a program name with args.\n set dummy dlltool; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4434: checking for $ac_word\" >&5\n+echo \"configure:4439: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_DLLTOOL_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4469,7 +4474,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ld\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4473: checking for $ac_word\" >&5\n+echo \"configure:4478: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4502,7 +4507,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_LD_FOR_TARGET\" ; then\n     # Extract the first word of \"ld\", so it can be a program name with args.\n set dummy ld; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4506: checking for $ac_word\" >&5\n+echo \"configure:4511: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_LD_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4541,7 +4546,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}nm\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4545: checking for $ac_word\" >&5\n+echo \"configure:4550: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4574,7 +4579,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_NM_FOR_TARGET\" ; then\n     # Extract the first word of \"nm\", so it can be a program name with args.\n set dummy nm; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4578: checking for $ac_word\" >&5\n+echo \"configure:4583: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_NM_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4613,7 +4618,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}ranlib\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4617: checking for $ac_word\" >&5\n+echo \"configure:4622: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4646,7 +4651,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_RANLIB_FOR_TARGET\" ; then\n     # Extract the first word of \"ranlib\", so it can be a program name with args.\n set dummy ranlib; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4650: checking for $ac_word\" >&5\n+echo \"configure:4655: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_RANLIB_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4685,7 +4690,7 @@ fi\n   # Extract the first word of \"${ncn_target_tool_prefix}windres\", so it can be a program name with args.\n set dummy ${ncn_target_tool_prefix}windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4689: checking for $ac_word\" >&5\n+echo \"configure:4694: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4718,7 +4723,7 @@ if test -z \"$ac_cv_prog_CONFIGURED_WINDRES_FOR_TARGET\" ; then\n     # Extract the first word of \"windres\", so it can be a program name with args.\n set dummy windres; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4722: checking for $ac_word\" >&5\n+echo \"configure:4727: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_ncn_cv_CONFIGURED_WINDRES_FOR_TARGET'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4803,7 +4808,7 @@ RANLIB_FOR_TARGET=${RANLIB_FOR_TARGET}${extra_ranlibflags_for_target}\n NM_FOR_TARGET=${NM_FOR_TARGET}${extra_nmflags_for_target}\n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:4807: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:4812: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\"\n@@ -4850,7 +4855,7 @@ esac\n # gcc for stageN-gcc and stagePREV-gcc for stage(N-1).  In case this is not\n # possible, however, we can resort to mv.\n echo $ac_n \"checking if symbolic links between directories work\"\"... $ac_c\" 1>&6\n-echo \"configure:4854: checking if symbolic links between directories work\" >&5\n+echo \"configure:4859: checking if symbolic links between directories work\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_prog_ln_s_dir'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -4864,7 +4869,7 @@ else\n    && rm -f confdir.s2; then\n   gcc_cv_prog_ln_s_dir=yes\n else\n-  gcc_cv_prog_ln_s_dir=yes\n+  gcc_cv_prog_ln_s_dir=no\n fi\n rm -rf confdir.s1 confdir.s2\n fi"}, {"sha": "59d349cd8d20b55f1f883b67e3908bae9dd7246d", "filename": "configure.in", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/configure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/configure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/configure.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1989,7 +1989,7 @@ case \" $target_configdirs \" in\n        # to it.  This is right: we don't want to search that directory\n        # for binaries, but we want the header files in there, so add\n        # them explicitly.\n-       FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -isystem $$r/gcc/include'\n+       FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -isystem $$r/$(HOST_SUBDIR)/gcc/include'\n \n        # Someone might think of using the pre-installed headers on\n        # Canadian crosses, in case the installed compiler is not fully\n@@ -2036,13 +2036,13 @@ fi\n if test \"x${use_gnu_ld}\" = x &&\n    echo \" ${configdirs} \" | grep \" ld \" > /dev/null ; then\n   # Arrange for us to find uninstalled linker scripts.\n-  FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/ld'\n+  FLAGS_FOR_TARGET=$FLAGS_FOR_TARGET' -L$$r/$(HOST_SUBDIR)/ld'\n fi\n \n if test \"x${CC_FOR_TARGET+set}\" = xset; then\n   :\n elif test -d ${srcdir}/gcc; then\n-  CC_FOR_TARGET='$$r/gcc/xgcc -B$$r/gcc/'\n+  CC_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/xgcc -B$$r/$(HOST_SUBDIR)/gcc/'\n elif test \"$host\" = \"$target\"; then\n   CC_FOR_TARGET='$(CC)'\n else\n@@ -2053,7 +2053,7 @@ CC_FOR_TARGET=$CC_FOR_TARGET' $(FLAGS_FOR_TARGET)'\n if test \"x${GCJ_FOR_TARGET+set}\" = xset; then\n   :\n elif test -d ${srcdir}/gcc; then\n-  GCJ_FOR_TARGET='$$r/gcc/gcj -B$$r/gcc/'\n+  GCJ_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/gcj -B$$r/$(HOST_SUBDIR)/gcc/'\n elif test \"$host\" = \"$target\"; then\n   GCJ_FOR_TARGET='gcj'\n else\n@@ -2064,7 +2064,7 @@ GCJ_FOR_TARGET=$GCJ_FOR_TARGET' $(FLAGS_FOR_TARGET)'\n if test \"x${GFORTRAN_FOR_TARGET+set}\" = xset; then\n   :\n elif test -d ${srcdir}/gcc; then\n-  GFORTRAN_FOR_TARGET='$$r/gcc/gfortran -B$$r/gcc/'\n+  GFORTRAN_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/gfortran -B$$r/$(HOST_SUBDIR)/gcc/'\n elif test \"$host\" = \"$target\"; then\n   GFORTRAN_FOR_TARGET='gfortran'\n else\n@@ -2089,8 +2089,8 @@ elif test -d ${srcdir}/gcc; then\n   # default whereas gcc does not.\n   # RAW_CXX_FOR_TARGET is for linking C++ or java; CXX_FOR_TARGET is for\n   # all other cases.\n-  CXX_FOR_TARGET='$$r/gcc/g++ -B$$r/gcc/ -nostdinc++ '$libstdcxx_flags\n-  RAW_CXX_FOR_TARGET='$$r/gcc/xgcc -shared-libgcc -B$$r/gcc/ -nostdinc++ '$raw_libstdcxx_flags\n+  CXX_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/g++ -B$$r/$(HOST_SUBDIR)/gcc/ -nostdinc++ '$libstdcxx_flags\n+  RAW_CXX_FOR_TARGET='$$r/$(HOST_SUBDIR)/gcc/xgcc -shared-libgcc -B$$r/$(HOST_SUBDIR)/gcc/ -nostdinc++ '$raw_libstdcxx_flags\n elif test \"$host\" = \"$target\"; then\n   CXX_FOR_TARGET='$(CXX)'\n   RAW_CXX_FOR_TARGET=${CXX_FOR_TARGET}\n@@ -2289,7 +2289,7 @@ AC_CACHE_CHECK([if symbolic links between directories work],\n    && rm -f confdir.s2; then\n   gcc_cv_prog_ln_s_dir=yes\n else\n-  gcc_cv_prog_ln_s_dir=yes\n+  gcc_cv_prog_ln_s_dir=no\n fi\n rm -rf confdir.s1 confdir.s2])\n "}, {"sha": "84ad3af50a8bfb1fa4385979628df0eb22d414be", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1,3 +1,10 @@\n+2005-02-28  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/17383\n+\t* Makefile.in (host_subdir): New.\n+\t(build_objdir): New.  Replace ../$(build_subdir) with it throughout.\n+\t* configure: Regenerate.\n+\n 2005-02-27  Zack Weinberg  <zack@codesourcery.com>\n \n \t* config/alpha/t-osf4, config/arm/t-netbsd, config/ia64/t-hpux"}, {"sha": "22f68338af3ead8ccc011f8829068d9dc2f8def0", "filename": "gcc/Makefile.in", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -83,8 +83,15 @@ top_builddir = .\n # It's normally the absolute path to the current directory.\n objdir = @objdir@\n \n+host_subdir=@host_subdir@\n build_subdir=@build_subdir@\n \n+ifeq ($(host_subdir),.)\n+build_objdir := ../$(build_subdir)\n+else\n+build_objdir := ../../$(build_subdir)\n+endif\n+\n # --------\n # Defined vpaths\n # --------\n@@ -756,7 +763,7 @@ ALL_CPPFLAGS = $(CPPFLAGS) $(X_CPPFLAGS) $(T_CPPFLAGS)\n \n # Build and host support libraries.\n LIBIBERTY = ../libiberty/libiberty.a\n-BUILD_LIBIBERTY = ../$(build_subdir)/libiberty/libiberty.a\n+BUILD_LIBIBERTY = $(build_objdir)/libiberty/libiberty.a\n \n # Dependencies on the intl and portability libraries.\n LIBDEPS= $(CPPLIB) $(LIBIBERTY) $(LIBINTL_DEP) $(LIBICONV_DEP)\n@@ -2829,8 +2836,8 @@ s-macro_list : $(GCC_PASSES)\n \n # Build fixed copies of system files.\n stmp-fixinc: gsyslimits.h macro_list \\\n-  ../$(build_subdir)/fixincludes/fixincl \\\n-  ../$(build_subdir)/fixincludes/fixinc.sh\n+  $(build_objdir)/fixincludes/fixincl \\\n+  $(build_objdir)/fixincludes/fixinc.sh\n \t@if test ! -d ${SYSTEM_HEADER_DIR}; then \\\n \t  echo The directory that should contain system headers does not exist: >&2 ; \\\n \t  echo \"  ${SYSTEM_HEADER_DIR}\" >&2 ; \\\n@@ -2842,7 +2849,7 @@ stmp-fixinc: gsyslimits.h macro_list \\\n \t(TARGET_MACHINE='$(target)'; srcdir=`cd $(srcdir); ${PWD_COMMAND}`; \\\n \t  SHELL='$(SHELL)'; MACRO_LIST=`${PWD_COMMAND}`/macro_list ; \\\n \t  export TARGET_MACHINE srcdir SHELL MACRO_LIST && \\\n-\t  cd ../$(build_subdir)/fixincludes && \\\n+\t  cd $(build_objdir)/fixincludes && \\\n \t  $(SHELL) ./fixinc.sh ../../gcc/include \\\n \t    $(SYSTEM_HEADER_DIR) $(OTHER_FIXINCLUDES_DIRS) )\n \trm -f include/syslimits.h"}, {"sha": "855e60f5ed4ce27b5fe882ecf175b73a4680822e", "filename": "gcc/configure", "status": "modified", "additions": 212, "deletions": 109, "changes": 321, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1032,7 +1032,7 @@ esac\n     else\n       echo \"$as_me: WARNING: no configuration information is in $ac_dir\" >&2\n     fi\n-    cd \"$ac_popdir\"\n+    cd $ac_popdir\n   done\n fi\n \n@@ -1517,8 +1517,13 @@ esac\n # Determine the target- and build-specific subdirectories\n   # Prefix 'build-' so this never conflicts with target_subdir.\n build_subdir=\"build-${build_noncanonical}\"\n-# Not really a subdirectory, but here for completeness.\n-host_subdir=.\n+# --srcdir=. covers the toplevel, while \"test -d\" covers the subdirectories\n+if ( test $srcdir = . && test -d gcc ) \\\n+   || test -d $srcdir/../host-${host_noncanonical}; then\n+  host_subdir=\"host-${host_noncanonical}\"\n+else\n+  host_subdir=.\n+fi\n # No prefix.\n target_subdir=${target_noncanonical}\n \n@@ -2401,7 +2406,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2459,7 +2465,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2575,7 +2582,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2629,7 +2637,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2674,7 +2683,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -2718,7 +2728,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3140,7 +3151,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3211,7 +3223,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3270,7 +3283,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3352,7 +3366,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3522,7 +3537,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3587,7 +3603,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3649,7 +3666,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3689,7 +3707,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3745,7 +3764,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3785,7 +3805,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3849,7 +3870,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -3880,8 +3902,10 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n-echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -3993,7 +4017,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4055,7 +4080,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4095,7 +4121,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4151,7 +4178,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4191,7 +4219,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4255,7 +4284,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4286,8 +4316,10 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n-echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -4399,7 +4431,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4461,7 +4494,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4501,7 +4535,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4557,7 +4592,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4597,7 +4633,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4661,7 +4698,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4692,8 +4730,10 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n-echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -4805,7 +4845,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4867,7 +4908,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4907,7 +4949,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -4963,7 +5006,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5003,7 +5047,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5067,7 +5112,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5098,8 +5144,10 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n-echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -5212,7 +5260,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5274,7 +5323,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5314,7 +5364,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5370,7 +5421,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5410,7 +5462,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5474,7 +5527,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5505,8 +5559,10 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n-echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -5620,7 +5676,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5682,7 +5739,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5722,7 +5780,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5778,7 +5837,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5818,7 +5878,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5882,7 +5943,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -5913,8 +5975,10 @@ See \\`config.log' for more details.\" >&2;}\n esac\n else\n   if test \"$cross_compiling\" = yes; then\n-  { { echo \"$as_me:$LINENO: error: internal error: not reached in cross-compile\" >&5\n-echo \"$as_me: error: internal error: not reached in cross-compile\" >&2;}\n+  { { echo \"$as_me:$LINENO: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&5\n+echo \"$as_me: error: cannot run test program while cross compiling\n+See \\`config.log' for more details.\" >&2;}\n    { (exit 1); exit 1; }; }\n else\n   cat >conftest.$ac_ext <<_ACEOF\n@@ -6030,7 +6094,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -6080,7 +6145,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -6138,7 +6204,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -6356,7 +6423,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7326,7 +7394,7 @@ if test \"${gcc_cv_prog_makeinfo_modern+set}\" = set; then\n else\n     ac_prog_version=`$MAKEINFO --version 2>&1 |\n                    sed -n 's/^.*GNU texinfo.* \\([0-9][0-9.]*\\).*$/\\1/p'`\n-  echo \"configure:7329: version of makeinfo is $ac_prog_version\" >&5\n+  echo \"configure:7397: version of makeinfo is $ac_prog_version\" >&5\n   case $ac_prog_version in\n     '')     gcc_cv_prog_makeinfo_modern=no;;\n     4.[2-9]*)\n@@ -7581,7 +7649,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7651,7 +7720,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7816,7 +7886,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7877,7 +7948,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -7947,7 +8019,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8222,7 +8295,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8295,7 +8369,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8336,7 +8411,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8538,7 +8614,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8612,7 +8689,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8666,7 +8744,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8744,7 +8823,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8798,7 +8878,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8866,7 +8947,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -8996,7 +9078,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9117,7 +9200,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9468,7 +9552,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9585,7 +9670,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9697,7 +9783,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -9855,7 +9942,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10727,7 +10815,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10777,7 +10866,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10867,7 +10957,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10936,7 +11027,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -10999,7 +11091,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11102,7 +11195,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11187,7 +11281,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11256,7 +11351,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11331,7 +11427,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11414,7 +11511,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11490,7 +11588,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11556,7 +11655,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -11692,7 +11792,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -12001,7 +12102,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -12267,7 +12369,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -12321,7 +12424,8 @@ if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   cat conftest.err >&5\n   echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n   (exit $ac_status); } &&\n-\t { ac_try='test -z \"$ac_c_werror_flag\"\t\t\t || test ! -s conftest.err'\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n   { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n   (eval $ac_try) 2>&5\n   ac_status=$?\n@@ -16249,6 +16353,11 @@ esac\n \n \n \n+  if test x\"$ac_file\" != x-; then\n+    { echo \"$as_me:$LINENO: creating $ac_file\" >&5\n+echo \"$as_me: creating $ac_file\" >&6;}\n+    rm -f \"$ac_file\"\n+  fi\n   # Let's still pretend it is `configure' which instantiates (i.e., don't\n   # use $as_me), people would be surprised to read:\n   #    /* config.h.  Generated by config.status.  */\n@@ -16287,12 +16396,6 @@ echo \"$as_me: error: cannot find input file: $f\" >&2;}\n \t fi;;\n       esac\n     done` || { (exit 1); exit 1; }\n-\n-  if test x\"$ac_file\" != x-; then\n-    { echo \"$as_me:$LINENO: creating $ac_file\" >&5\n-echo \"$as_me: creating $ac_file\" >&6;}\n-    rm -f \"$ac_file\"\n-  fi\n _ACEOF\n cat >>$CONFIG_STATUS <<_ACEOF\n   sed \"$ac_vpsub"}, {"sha": "b9818a3f73cd410f82ce0eebb89ef63258c6a943", "filename": "libada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2FChangeLog?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1,3 +1,8 @@\n+2005-02-28  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/17383\n+\t* Makefile.in (GCC_DIR): Add $(HOST_SUBDIR) to the definition.\n+\n 2004-12-03  Nathanael Nerode  <neroden@gcc.gnu.org>\n \n \t* Makefile.in: Add stamp file for building libada, to avoid"}, {"sha": "b6aa682954f1d8734d14ee78a9e837751bca2cbb", "filename": "libada/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libada%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -49,7 +49,7 @@ X_ADA_CFLAGS=@x_ada_cflags@\n ALL_ADA_CFLAGS=$(X_ADA_CFLAGS) $(T_ADA_CFLAGS) $(ADA_CFLAGS)\n \n # For finding the GCC build dir, which is used far too much\n-GCC_DIR=../../gcc\n+GCC_DIR=../../$(HOST_SUBDIR)/gcc\n # Include fragment generated by GCC configure.\n include $(GCC_DIR)/libada-mk\n "}, {"sha": "0f02171ee2bc9d80f64080d7dc421020e17f2cf9", "filename": "libjava/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1,3 +1,15 @@\n+2005-02-28  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/17383\n+\t* configure.ac: Call GCC_TOPLEV_SUBDIRS.\n+\t(COMPPATH): Removed.\n+\t(ZIP, GCJH): Replace it with ../$(host_subdir).\n+\t(built_gcc_dir): Add $(host_subdir).\n+\t* configure: Regenerate.\n+\t* Makefile.in, include/Makefile.in, testsuite/Makefile.in,\n+\tgcj/Makefile.in, external/Makefile.in, external/sax/Makefile.in,\n+\texternal/w3c_dom/Makefile.in: Regenerate.\n+\n 2005-02-24  David Gilbert  <david.gilbert@object-refinery.com>\n \n \t* java/awt/font/TextAttribute.java: changed names to lower case;"}, {"sha": "4e114c7dc97ada1aa4f67e1d9180400fb099a22b", "filename": "libjava/Makefile.in", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -4859,7 +4859,6 @@ CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CHECKREFSPEC = @CHECKREFSPEC@\n CLASSPATH_SEPARATOR = @CLASSPATH_SEPARATOR@\n-COMPPATH = @COMPPATH@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CXX = @CXX@\n@@ -5020,6 +5019,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n@@ -5032,6 +5032,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -5058,6 +5059,7 @@ target_cpu = @target_cpu@\n # autoconf2.13's target_alias\n target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@\n@@ -17156,6 +17158,8 @@ mostlyclean-compile:\n \t-rm -f gnu/java/nio/ChannelInputStream.lo\n \t-rm -f gnu/java/nio/ChannelOutputStream.$(OBJEXT)\n \t-rm -f gnu/java/nio/ChannelOutputStream.lo\n+\t-rm -f gnu/java/nio/ChannelReader.$(OBJEXT)\n+\t-rm -f gnu/java/nio/ChannelReader.lo\n \t-rm -f gnu/java/nio/DatagramChannelImpl.$(OBJEXT)\n \t-rm -f gnu/java/nio/DatagramChannelImpl.lo\n \t-rm -f gnu/java/nio/DatagramChannelSelectionKey.$(OBJEXT)"}, {"sha": "f8fb203b9f96e2145abaa887a81d733b4b442e39", "filename": "libjava/configure", "status": "modified", "additions": 71, "deletions": 53, "changes": 124, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -310,7 +310,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS libgcj_basedir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs COMPPATH TESTSUBDIR_TRUE TESTSUBDIR_FALSE ONESTEP_TRUE ONESTEP_FALSE LIBGCJDEBUG INTERPRETER LIBFFI LIBFFIINCS PLATFORM_INNER_NAT_HDRS CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_ECOS_PLATFORM_TRUE USING_ECOS_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE GTK_AWT_TRUE GTK_AWT_FALSE GTK_CAIRO_TRUE GTK_CAIRO_FALSE PKG_CONFIG CAIRO_CFLAGS CAIRO_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE gcc_version_trigger gcc_version_full gcc_version tool_include_dir LIBICONV LTLIBICONV GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS SUPPLY_BACKTRACE_TRUE SUPPLY_BACKTRACE_FALSE GCJH ZIP CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL BACKTRACESPEC SYSDEP_SOURCES here LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir libgcj_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE ONESTEP_TRUE ONESTEP_FALSE LIBGCJDEBUG INTERPRETER LIBFFI LIBFFIINCS PLATFORM_INNER_NAT_HDRS CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_ECOS_PLATFORM_TRUE USING_ECOS_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE GTK_AWT_TRUE GTK_AWT_FALSE GTK_CAIRO_TRUE GTK_CAIRO_FALSE PKG_CONFIG CAIRO_CFLAGS CAIRO_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE gcc_version_trigger gcc_version_full gcc_version tool_include_dir LIBICONV LTLIBICONV GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS SUPPLY_BACKTRACE_TRUE SUPPLY_BACKTRACE_FALSE GCJH ZIP CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL BACKTRACESPEC SYSDEP_SOURCES here LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -1359,39 +1359,6 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n-\n-\n-# We use these options to decide which functions to include.\n-\n-# Check whether --with-target-subdir or --without-target-subdir was given.\n-if test \"${with_target_subdir+set}\" = set; then\n-  withval=\"$with_target_subdir\"\n-\n-fi;\n-\n-# We may get other options which we don't document:\n-# --with-target-subdir, --with-multisrctop, --with-multisubdir\n-\n-# When building with srcdir == objdir, links to the source files will\n-# be created in directories within the target_subdir.  We have to\n-# adjust toplevel_srcdir accordingly, so that configure finds\n-# install-sh and other auxiliary files that live in the top-level\n-# source directory.\n-if test \"${srcdir}\" = \".\"; then\n-  if test -z \"${with_target_subdir}\"; then\n-    toprel=\"..\"\n-  else\n-    if test \"${with_target_subdir}\" != \".\"; then\n-      toprel=\"${with_multisrctop}../..\"\n-    else\n-      toprel=\"${with_multisrctop}..\"\n-    fi\n-  fi\n-else\n-  toprel=\"..\"\n-fi\n-\n-libgcj_basedir=$srcdir/$toprel/./libjava\n \n \n ac_aux_dir=\n@@ -1451,6 +1418,67 @@ build_vendor=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n build_os=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n \n \n+ case ${build_alias} in\n+  \"\") build_noncanonical=${build} ;;\n+  *) build_noncanonical=${build_alias} ;;\n+esac\n+\n+ case ${host_alias} in\n+  \"\") host_noncanonical=${build_noncanonical} ;;\n+  *) host_noncanonical=${host_alias} ;;\n+esac\n+\n+ case ${target_alias} in\n+  \"\") target_noncanonical=${host_noncanonical} ;;\n+  *) target_noncanonical=${target_alias} ;;\n+esac\n+\n+  # Prefix 'build-' so this never conflicts with target_subdir.\n+build_subdir=\"build-${build_noncanonical}\"\n+# --srcdir=. covers the toplevel, while \"test -d\" covers the subdirectories\n+if ( test $srcdir = . && test -d gcc ) \\\n+   || test -d $srcdir/../host-${host_noncanonical}; then\n+  host_subdir=\"host-${host_noncanonical}\"\n+else\n+  host_subdir=.\n+fi\n+# No prefix.\n+target_subdir=${target_noncanonical}\n+\n+\n+# We use these options to decide which functions to include.\n+\n+# Check whether --with-target-subdir or --without-target-subdir was given.\n+if test \"${with_target_subdir+set}\" = set; then\n+  withval=\"$with_target_subdir\"\n+\n+fi;\n+\n+# We may get other options which we don't document:\n+# --with-target-subdir, --with-multisrctop, --with-multisubdir\n+\n+# When building with srcdir == objdir, links to the source files will\n+# be created in directories within the target_subdir.  We have to\n+# adjust toplevel_srcdir accordingly, so that configure finds\n+# install-sh and other auxiliary files that live in the top-level\n+# source directory.\n+if test \"${srcdir}\" = \".\"; then\n+  if test -z \"${with_target_subdir}\"; then\n+    toprel=\"..\"\n+  else\n+    if test \"${with_target_subdir}\" != \".\"; then\n+      toprel=\"${with_multisrctop}../..\"\n+    else\n+      toprel=\"${with_multisrctop}..\"\n+    fi\n+  fi\n+else\n+  toprel=\"..\"\n+fi\n+\n+libgcj_basedir=$srcdir/$toprel/./libjava\n+\n+\n echo \"$as_me:$LINENO: checking host system type\" >&5\n echo $ECHO_N \"checking host system type... $ECHO_C\" >&6\n if test \"${ac_cv_host+set}\" = set; then\n@@ -1506,11 +1534,6 @@ test -n \"$target_alias\" &&\n   *) build_noncanonical=${build_alias} ;;\n esac\n \n- case ${host_alias} in\n-  \"\") host_noncanonical=${build_noncanonical} ;;\n-  *) host_noncanonical=${host_alias} ;;\n-esac\n-\n  case ${target_alias} in\n   \"\") target_noncanonical=${host_noncanonical} ;;\n   *) target_noncanonical=${target_alias} ;;\n@@ -4743,7 +4766,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 4746 \"configure\"' > conftest.$ac_ext\n+  echo '#line 4769 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -5581,13 +5604,6 @@ fi\n subdirs=\"$subdirs libltdl\"\n \n \n-if test -z \"$with_target_subdir\" || test \"$with_target_subdir\" = \".\"; then\n-   COMPPATH=.\n-else\n-   COMPPATH=..\n-fi\n-\n-\n # The -no-testsuite modules omit the test subdir.\n \n \n@@ -5774,7 +5790,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then\n   :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 5777 \"configure\"\n+#line 5793 \"configure\"\n struct S { ~S(); };\n void bar();\n void foo()\n@@ -13278,7 +13294,7 @@ NATIVE=yes\n \n # Which gcj do we use?\n which_gcj=default\n-built_gcc_dir=\"`cd ${builddotdot}/../../gcc && ${PWDCMD-pwd}`\"\n+built_gcc_dir=\"`cd ${builddotdot}/../../${host_subdir}/gcc && ${PWDCMD-pwd}`\"\n if test -n \"${with_cross_host}\"; then\n   # We are being configured with a cross compiler. We can't\n   # use ac_exeext, because that is for the target platform.\n@@ -13317,8 +13333,8 @@ fi\n case \"${which_gcj}\" in\n    built)\n       GCJ=\"$built_gcc_dir/gcj -B`${PWDCMD-pwd}`/ -B$built_gcc_dir/\"\n-      GCJH='$(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh'\n-      ZIP='$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/fastjar'\n+      GCJH='$(MULTIBUILDTOP)../../$(host_subdir)/gcc/gcjh'\n+      ZIP='$(MULTIBUILDTOP)../../$(host_subdir)/fastjar/fastjar'\n    ;;\n    cross)\n       if test \"x${with_newlib}\" = \"xyes\"; then\n@@ -16558,11 +16574,14 @@ s,@ECHO_C@,$ECHO_C,;t t\n s,@ECHO_N@,$ECHO_N,;t t\n s,@ECHO_T@,$ECHO_T,;t t\n s,@LIBS@,$LIBS,;t t\n-s,@libgcj_basedir@,$libgcj_basedir,;t t\n s,@build@,$build,;t t\n s,@build_cpu@,$build_cpu,;t t\n s,@build_vendor@,$build_vendor,;t t\n s,@build_os@,$build_os,;t t\n+s,@build_subdir@,$build_subdir,;t t\n+s,@host_subdir@,$host_subdir,;t t\n+s,@target_subdir@,$target_subdir,;t t\n+s,@libgcj_basedir@,$libgcj_basedir,;t t\n s,@host@,$host,;t t\n s,@host_cpu@,$host_cpu,;t t\n s,@host_vendor@,$host_vendor,;t t\n@@ -16642,7 +16661,6 @@ s,@GCJDEPMODE@,$GCJDEPMODE,;t t\n s,@am__fastdepGCJ_TRUE@,$am__fastdepGCJ_TRUE,;t t\n s,@am__fastdepGCJ_FALSE@,$am__fastdepGCJ_FALSE,;t t\n s,@subdirs@,$subdirs,;t t\n-s,@COMPPATH@,$COMPPATH,;t t\n s,@TESTSUBDIR_TRUE@,$TESTSUBDIR_TRUE,;t t\n s,@TESTSUBDIR_FALSE@,$TESTSUBDIR_FALSE,;t t\n s,@ONESTEP_TRUE@,$ONESTEP_TRUE,;t t"}, {"sha": "6fcfe6d143695029049693dc78a1e549c3e48028", "filename": "libjava/configure.ac", "status": "modified", "additions": 5, "deletions": 10, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -5,6 +5,8 @@ AC_INIT([libjava], [version-unused],, [libjava])\n \n AC_CONFIG_SRCDIR(java/lang/System.java)\n \n+GCC_TOPLEV_SUBDIRS\n+\n # We use these options to decide which functions to include.\n AC_ARG_WITH(target-subdir,\n   AS_HELP_STRING([--with-target-subdir=SUBDIR],\n@@ -162,13 +164,6 @@ AM_PROG_GCJ\n AM_PROG_CC_C_O\n AC_CONFIG_SUBDIRS(libltdl)\n \n-if test -z \"$with_target_subdir\" || test \"$with_target_subdir\" = \".\"; then\n-   COMPPATH=.\n-else\n-   COMPPATH=..\n-fi\n-AC_SUBST(COMPPATH)\n-\n # The -no-testsuite modules omit the test subdir.\n AM_CONDITIONAL(TESTSUBDIR, test -d $srcdir/testsuite)\n \n@@ -1039,7 +1034,7 @@ NATIVE=yes\n \n # Which gcj do we use?\n which_gcj=default\n-built_gcc_dir=\"`cd ${builddotdot}/../../gcc && ${PWDCMD-pwd}`\"\n+built_gcc_dir=\"`cd ${builddotdot}/../../${host_subdir}/gcc && ${PWDCMD-pwd}`\"\n if test -n \"${with_cross_host}\"; then\n   # We are being configured with a cross compiler. We can't\n   # use ac_exeext, because that is for the target platform.\n@@ -1078,8 +1073,8 @@ fi\n case \"${which_gcj}\" in\n    built)\n       GCJ=\"$built_gcc_dir/gcj -B`${PWDCMD-pwd}`/ -B$built_gcc_dir/\"\n-      GCJH='$(MULTIBUILDTOP)../$(COMPPATH)/gcc/gcjh'\n-      ZIP='$(MULTIBUILDTOP)../$(COMPPATH)/fastjar/fastjar'\n+      GCJH='$(MULTIBUILDTOP)../../$(host_subdir)/gcc/gcjh'\n+      ZIP='$(MULTIBUILDTOP)../../$(host_subdir)/fastjar/fastjar'\n    ;;\n    cross)\n       if test \"x${with_newlib}\" = \"xyes\"; then"}, {"sha": "a265571296f8d7b434a69fe15051ae5fa3e1bd7f", "filename": "libjava/external/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fexternal%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fexternal%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fexternal%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -87,7 +87,6 @@ CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CHECKREFSPEC = @CHECKREFSPEC@\n CLASSPATH_SEPARATOR = @CLASSPATH_SEPARATOR@\n-COMPPATH = @COMPPATH@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CXX = @CXX@\n@@ -248,6 +247,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n@@ -260,6 +260,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -284,6 +285,7 @@ target_alias = @target_alias@\n target_cpu = @target_cpu@\n target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@"}, {"sha": "f8bd00261e2be90f0fe07a59b306d15571e0d86f", "filename": "libjava/external/sax/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fexternal%2Fsax%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fexternal%2Fsax%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fexternal%2Fsax%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -124,7 +124,6 @@ CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CHECKREFSPEC = @CHECKREFSPEC@\n CLASSPATH_SEPARATOR = @CLASSPATH_SEPARATOR@\n-COMPPATH = @COMPPATH@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CXX = @CXX@\n@@ -285,6 +284,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n@@ -297,6 +297,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -321,6 +322,7 @@ target_alias = @target_alias@\n target_cpu = @target_cpu@\n target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@"}, {"sha": "9545a9c3dbc1ad4b6d1963dd92c9dee2cfc7581d", "filename": "libjava/external/w3c_dom/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fexternal%2Fw3c_dom%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fexternal%2Fw3c_dom%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fexternal%2Fw3c_dom%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -218,7 +218,6 @@ CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CHECKREFSPEC = @CHECKREFSPEC@\n CLASSPATH_SEPARATOR = @CLASSPATH_SEPARATOR@\n-COMPPATH = @COMPPATH@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CXX = @CXX@\n@@ -379,6 +378,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n@@ -391,6 +391,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -415,6 +416,7 @@ target_alias = @target_alias@\n target_cpu = @target_cpu@\n target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@"}, {"sha": "38bcaf348ef693f92af6e7e88c79e905e9c686ed", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -92,7 +92,6 @@ CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CHECKREFSPEC = @CHECKREFSPEC@\n CLASSPATH_SEPARATOR = @CLASSPATH_SEPARATOR@\n-COMPPATH = @COMPPATH@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CXX = @CXX@\n@@ -253,6 +252,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n@@ -265,6 +265,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -291,6 +292,7 @@ target_cpu = @target_cpu@\n # autoconf2.13's target_alias\n target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@"}, {"sha": "49db7d048f01d23d9c71ccd65c349c903f192465", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -91,7 +91,6 @@ CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CHECKREFSPEC = @CHECKREFSPEC@\n CLASSPATH_SEPARATOR = @CLASSPATH_SEPARATOR@\n-COMPPATH = @COMPPATH@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CXX = @CXX@\n@@ -252,6 +251,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n@@ -264,6 +264,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -290,6 +291,7 @@ target_cpu = @target_cpu@\n # autoconf2.13's target_alias\n target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@"}, {"sha": "129f381cf8325a3f324c5f077d5560787b983972", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -80,7 +80,6 @@ CCDEPMODE = @CCDEPMODE@\n CFLAGS = @CFLAGS@\n CHECKREFSPEC = @CHECKREFSPEC@\n CLASSPATH_SEPARATOR = @CLASSPATH_SEPARATOR@\n-COMPPATH = @COMPPATH@\n CPP = @CPP@\n CPPFLAGS = @CPPFLAGS@\n CXX = @CXX@\n@@ -241,6 +240,7 @@ build = @build@\n build_alias = @build_alias@\n build_cpu = @build_cpu@\n build_os = @build_os@\n+build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n@@ -253,6 +253,7 @@ host = @host@\n host_alias = @host_alias@\n host_cpu = @host_cpu@\n host_os = @host_os@\n+host_subdir = @host_subdir@\n host_vendor = @host_vendor@\n includedir = @includedir@\n infodir = @infodir@\n@@ -279,6 +280,7 @@ target_cpu = @target_cpu@\n # autoconf2.13's target_alias\n target_noncanonical = @target_noncanonical@\n target_os = @target_os@\n+target_subdir = @target_subdir@\n target_vendor = @target_vendor@\n tool_include_dir = @tool_include_dir@\n toolexecdir = @toolexecdir@"}, {"sha": "278cde24645dda3c104b22868bd24f8cde27e387", "filename": "libobjc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FChangeLog?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -1,3 +1,12 @@\n+2005-02-28  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tPR bootstrap/17383\n+\t* configure.ac: Call GCC_TOPLEV_SUBDIRS.\n+\t(Determine CFLAGS for gthread): Use $host_subdir.\n+\t* configure: Regenerate.\n+\t* Makefile.in (host_subdir): New.\n+\t(INCLUDES): Use it.\n+\n 2004-12-20  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \tPR libobjc/12035"}, {"sha": "23af1001867fa2ae4e3cb8e97e9a571c7059a976", "filename": "libobjc/Makefile.in", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2FMakefile.in?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -34,6 +34,7 @@ prefix = @prefix@\n exec_prefix = @exec_prefix@\n target_noncanonical = @target_noncanonical@\n gcc_version = @gcc_version@\n+host_subdir = @host_subdir@\n top_srcdir = @top_srcdir@\n toplevel_srcdir = @toplevel_srcdir@\n toolexecdir = @toolexecdir@\n@@ -90,7 +91,8 @@ LIBTOOL_CLEAN   = $(LIBTOOL) --mode=clean\n #LIBTOOL_UNINSTALL = $(LIBTOOL) --mode=uninstall\n \n INCLUDES = -I$(srcdir)/objc  -I$(srcdir)/$(MULTISRCTOP)../gcc \\\n-  -I$(srcdir)/$(MULTISRCTOP)../gcc/config -I$(MULTIBUILDTOP)../../gcc \\\n+  -I$(srcdir)/$(MULTISRCTOP)../gcc/config \\\n+  -I$(MULTIBUILDTOP)../../$(host_subdir)/gcc \\\n   -I$(srcdir)/$(MULTISRCTOP)../include\n \n OBJC_GCFLAGS=-DOBJC_WITH_GC=1"}, {"sha": "71bd0a76397a483b3e0a23ceb5a71151d3c690d1", "filename": "libobjc/configure", "status": "modified", "additions": 97, "deletions": 57, "changes": 154, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -309,7 +309,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS VERSION OBJC_BOEHM_GC toplevel_srcdir build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_srcdir gcc_version_trigger gcc_version_full gcc_version toolexecdir toolexeclibdir includedirname libext CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP CPPFLAGS EGREP GTHREAD_FLAGS LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir VERSION OBJC_BOEHM_GC toplevel_srcdir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical glibcpp_srcdir gcc_version_trigger gcc_version_full gcc_version toolexecdir toolexeclibdir includedirname libext CC ac_ct_CC EXEEXT OBJEXT CFLAGS AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LN_S STRIP ac_ct_STRIP LIBTOOL SET_MAKE CPP CPPFLAGS EGREP GTHREAD_FLAGS LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -1314,6 +1314,90 @@ ac_compiler_gnu=$ac_cv_c_compiler_gnu\n \n \n \n+\n+ac_aux_dir=\n+for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do\n+  if test -f $ac_dir/install-sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install-sh -c\"\n+    break\n+  elif test -f $ac_dir/install.sh; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/install.sh -c\"\n+    break\n+  elif test -f $ac_dir/shtool; then\n+    ac_aux_dir=$ac_dir\n+    ac_install_sh=\"$ac_aux_dir/shtool install -c\"\n+    break\n+  fi\n+done\n+if test -z \"$ac_aux_dir\"; then\n+  { { echo \"$as_me:$LINENO: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..\" >&5\n+echo \"$as_me: error: cannot find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../..\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+ac_config_guess=\"$SHELL $ac_aux_dir/config.guess\"\n+ac_config_sub=\"$SHELL $ac_aux_dir/config.sub\"\n+ac_configure=\"$SHELL $ac_aux_dir/configure\" # This should be Cygnus configure.\n+\n+# Make sure we can run config.sub.\n+$ac_config_sub sun4 >/dev/null 2>&1 ||\n+  { { echo \"$as_me:$LINENO: error: cannot run $ac_config_sub\" >&5\n+echo \"$as_me: error: cannot run $ac_config_sub\" >&2;}\n+   { (exit 1); exit 1; }; }\n+\n+echo \"$as_me:$LINENO: checking build system type\" >&5\n+echo $ECHO_N \"checking build system type... $ECHO_C\" >&6\n+if test \"${ac_cv_build+set}\" = set; then\n+  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n+else\n+  ac_cv_build_alias=$build_alias\n+test -z \"$ac_cv_build_alias\" &&\n+  ac_cv_build_alias=`$ac_config_guess`\n+test -z \"$ac_cv_build_alias\" &&\n+  { { echo \"$as_me:$LINENO: error: cannot guess build type; you must specify one\" >&5\n+echo \"$as_me: error: cannot guess build type; you must specify one\" >&2;}\n+   { (exit 1); exit 1; }; }\n+ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||\n+  { { echo \"$as_me:$LINENO: error: $ac_config_sub $ac_cv_build_alias failed\" >&5\n+echo \"$as_me: error: $ac_config_sub $ac_cv_build_alias failed\" >&2;}\n+   { (exit 1); exit 1; }; }\n+\n+fi\n+echo \"$as_me:$LINENO: result: $ac_cv_build\" >&5\n+echo \"${ECHO_T}$ac_cv_build\" >&6\n+build=$ac_cv_build\n+build_cpu=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n+build_vendor=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n+build_os=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n+\n+\n+ case ${build_alias} in\n+  \"\") build_noncanonical=${build} ;;\n+  *) build_noncanonical=${build_alias} ;;\n+esac\n+\n+ case ${host_alias} in\n+  \"\") host_noncanonical=${build_noncanonical} ;;\n+  *) host_noncanonical=${host_alias} ;;\n+esac\n+\n+ case ${target_alias} in\n+  \"\") target_noncanonical=${host_noncanonical} ;;\n+  *) target_noncanonical=${target_alias} ;;\n+esac\n+\n+  # Prefix 'build-' so this never conflicts with target_subdir.\n+build_subdir=\"build-${build_noncanonical}\"\n+# --srcdir=. covers the toplevel, while \"test -d\" covers the subdirectories\n+if ( test $srcdir = . && test -d gcc ) \\\n+   || test -d $srcdir/../host-${host_noncanonical}; then\n+  host_subdir=\"host-${host_noncanonical}\"\n+else\n+  host_subdir=.\n+fi\n+# No prefix.\n+target_subdir=${target_noncanonical}\n \n \n # We need the following definitions because AC_PROG_LIBTOOL relies on them\n@@ -1441,38 +1525,6 @@ ac_configure=\"$SHELL $ac_aux_dir/configure\" # This should be Cygnus configure.\n toplevel_srcdir=\\${srcdir}/$toprel\n \n \n-# Make sure we can run config.sub.\n-$ac_config_sub sun4 >/dev/null 2>&1 ||\n-  { { echo \"$as_me:$LINENO: error: cannot run $ac_config_sub\" >&5\n-echo \"$as_me: error: cannot run $ac_config_sub\" >&2;}\n-   { (exit 1); exit 1; }; }\n-\n-echo \"$as_me:$LINENO: checking build system type\" >&5\n-echo $ECHO_N \"checking build system type... $ECHO_C\" >&6\n-if test \"${ac_cv_build+set}\" = set; then\n-  echo $ECHO_N \"(cached) $ECHO_C\" >&6\n-else\n-  ac_cv_build_alias=$build_alias\n-test -z \"$ac_cv_build_alias\" &&\n-  ac_cv_build_alias=`$ac_config_guess`\n-test -z \"$ac_cv_build_alias\" &&\n-  { { echo \"$as_me:$LINENO: error: cannot guess build type; you must specify one\" >&5\n-echo \"$as_me: error: cannot guess build type; you must specify one\" >&2;}\n-   { (exit 1); exit 1; }; }\n-ac_cv_build=`$ac_config_sub $ac_cv_build_alias` ||\n-  { { echo \"$as_me:$LINENO: error: $ac_config_sub $ac_cv_build_alias failed\" >&5\n-echo \"$as_me: error: $ac_config_sub $ac_cv_build_alias failed\" >&2;}\n-   { (exit 1); exit 1; }; }\n-\n-fi\n-echo \"$as_me:$LINENO: result: $ac_cv_build\" >&5\n-echo \"${ECHO_T}$ac_cv_build\" >&6\n-build=$ac_cv_build\n-build_cpu=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\1/'`\n-build_vendor=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\2/'`\n-build_os=`echo $ac_cv_build | sed 's/^\\([^-]*\\)-\\([^-]*\\)-\\(.*\\)$/\\3/'`\n-\n-\n echo \"$as_me:$LINENO: checking host system type\" >&5\n echo $ECHO_N \"checking host system type... $ECHO_C\" >&6\n if test \"${ac_cv_host+set}\" = set; then\n@@ -1523,21 +1575,6 @@ test -n \"$target_alias\" &&\n   test \"$program_prefix$program_suffix$program_transform_name\" = \\\n     NONENONEs,x,x, &&\n   program_prefix=${target_alias}-\n- case ${build_alias} in\n-  \"\") build_noncanonical=${build} ;;\n-  *) build_noncanonical=${build_alias} ;;\n-esac\n-\n- case ${host_alias} in\n-  \"\") host_noncanonical=${build_noncanonical} ;;\n-  *) host_noncanonical=${host_alias} ;;\n-esac\n-\n- case ${target_alias} in\n-  \"\") target_noncanonical=${host_noncanonical} ;;\n-  *) target_noncanonical=${target_alias} ;;\n-esac\n-\n \n \n \n@@ -3675,7 +3712,7 @@ test x\"$pic_mode\" = xno && libtool_flags=\"$libtool_flags --prefer-non-pic\"\n case $host in\n *-*-irix6*)\n   # Find out which ABI we are using.\n-  echo '#line 3678 \"configure\"' > conftest.$ac_ext\n+  echo '#line 3715 \"configure\"' > conftest.$ac_ext\n   if { (eval echo \"$as_me:$LINENO: \\\"$ac_compile\\\"\") >&5\n   (eval $ac_compile) 2>&5\n   ac_status=$?\n@@ -5075,16 +5112,16 @@ done\n # -----------\n \n # Determine CFLAGS for gthread.\n-# FIXME: the current implementation is dependent on the 'r' variable\n-# passed down from the top level\n echo \"$as_me:$LINENO: checking for gthread cflags\" >&5\n echo $ECHO_N \"checking for gthread cflags... $ECHO_C\" >&6\n if test \"${objc_cv_gthread_flags+set}\" = set; then\n   echo $ECHO_N \"(cached) $ECHO_C\" >&6\n else\n-  if test -f \"$r\"/gcc/Makefile\n+  # we know we are compiled as a target library, so the toplevel build directory\n+# is ../..\n+if test -f ../../$host_subdir/gcc/Makefile\n then\n-  objc_cv_gthread_flags=`grep \\^GTHREAD_FLAGS \"$r\"/gcc/Makefile | awk -F= '{ print $2 }'`\n+  objc_cv_gthread_flags=`grep \\^GTHREAD_FLAGS ../../$host_subdir/gcc/Makefile | awk -F= '{ print $2 }'`\n else\n   { { echo \"$as_me:$LINENO: error: not found\" >&5\n echo \"$as_me: error: not found\" >&2;}\n@@ -5110,7 +5147,7 @@ if test \"${enable_sjlj_exceptions+set}\" = set; then\n   :\n else\n   cat > conftest.$ac_ext << EOF\n-#line 5113 \"configure\"\n+#line 5150 \"configure\"\n @interface Frob\n @end\n @implementation Frob\n@@ -5814,13 +5851,16 @@ s,@ECHO_C@,$ECHO_C,;t t\n s,@ECHO_N@,$ECHO_N,;t t\n s,@ECHO_T@,$ECHO_T,;t t\n s,@LIBS@,$LIBS,;t t\n-s,@VERSION@,$VERSION,;t t\n-s,@OBJC_BOEHM_GC@,$OBJC_BOEHM_GC,;t t\n-s,@toplevel_srcdir@,$toplevel_srcdir,;t t\n s,@build@,$build,;t t\n s,@build_cpu@,$build_cpu,;t t\n s,@build_vendor@,$build_vendor,;t t\n s,@build_os@,$build_os,;t t\n+s,@build_subdir@,$build_subdir,;t t\n+s,@host_subdir@,$host_subdir,;t t\n+s,@target_subdir@,$target_subdir,;t t\n+s,@VERSION@,$VERSION,;t t\n+s,@OBJC_BOEHM_GC@,$OBJC_BOEHM_GC,;t t\n+s,@toplevel_srcdir@,$toplevel_srcdir,;t t\n s,@host@,$host,;t t\n s,@host_cpu@,$host_cpu,;t t\n s,@host_vendor@,$host_vendor,;t t"}, {"sha": "5e56fb7b47217340be0e6e2ce71366ee59aa0ca7", "filename": "libobjc/configure.ac", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/215c351a8245872b7a7f077c28a2ac8b9c66a51a/libobjc%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libobjc%2Fconfigure.ac?ref=215c351a8245872b7a7f077c28a2ac8b9c66a51a", "patch": "@@ -23,6 +23,7 @@\n AC_PREREQ(2.59)\n AC_INIT(package-unused, version-unused,, libobjc)\n AC_CONFIG_SRCDIR([objc/objc.h])\n+GCC_TOPLEV_SUBDIRS\n \n # We need the following definitions because AC_PROG_LIBTOOL relies on them\n PACKAGE=libobjc\n@@ -218,12 +219,12 @@ AC_CHECK_HEADERS(sched.h)\n # -----------\n \n # Determine CFLAGS for gthread.\n-# FIXME: the current implementation is dependent on the 'r' variable\n-# passed down from the top level\n AC_CACHE_CHECK([for gthread cflags],objc_cv_gthread_flags,\n-[if test -f \"$r\"/gcc/Makefile\n+[# we know we are compiled as a target library, so the toplevel build directory\n+# is ../..\n+if test -f ../../$host_subdir/gcc/Makefile\n then\n-  objc_cv_gthread_flags=`grep \\^GTHREAD_FLAGS \"$r\"/gcc/Makefile | awk -F= '{ print $2 }'`\n+  objc_cv_gthread_flags=`grep \\^GTHREAD_FLAGS ../../$host_subdir/gcc/Makefile | awk -F= '{ print $2 }'`\n else\n   AC_MSG_ERROR([not found])\n fi])"}]}