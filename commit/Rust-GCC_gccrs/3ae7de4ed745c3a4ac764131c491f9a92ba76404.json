{"sha": "3ae7de4ed745c3a4ac764131c491f9a92ba76404", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2FlN2RlNGVkNzQ1YzNhNGFjNzY0MTMxYzQ5MWY5YTkyYmE3NjQwNA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-03T12:28:19Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1993-01-03T12:28:19Z"}, "message": "(putenv_from_prefixes): Use PATH_SEPARATOR.\n\nProperly use JUST_MACHINE_SUFFIX when desired; always make path the same as\nfind_a_file will use.\n\nFrom-SVN: r3065", "tree": {"sha": "12bc8487a8a8a10702d6b1c81b40a2d77b6ac289", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/12bc8487a8a8a10702d6b1c81b40a2d77b6ac289"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3ae7de4ed745c3a4ac764131c491f9a92ba76404", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ae7de4ed745c3a4ac764131c491f9a92ba76404", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ae7de4ed745c3a4ac764131c491f9a92ba76404", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ae7de4ed745c3a4ac764131c491f9a92ba76404/comments", "author": null, "committer": null, "parents": [{"sha": "789bc2823f8ea7860907e080e2779498e28946bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/789bc2823f8ea7860907e080e2779498e28946bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/789bc2823f8ea7860907e080e2779498e28946bc"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "2f21fcb7aec3765a0452475c6f4dfca8a24c44e1", "filename": "gcc/gcc.c", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3ae7de4ed745c3a4ac764131c491f9a92ba76404/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3ae7de4ed745c3a4ac764131c491f9a92ba76404/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=3ae7de4ed745c3a4ac764131c491f9a92ba76404", "patch": "@@ -1215,6 +1215,8 @@ putenv_from_prefixes (paths, env_var)\n      char *env_var;\n {\n   int suffix_len = (machine_suffix) ? strlen (machine_suffix) : 0;\n+  int just_suffix_len\n+    = (just_machine_suffix) ? strlen (just_machine_suffix) : 0;\n   int first_time = TRUE;\n   struct prefix_list *pprefix;\n \n@@ -1227,7 +1229,7 @@ putenv_from_prefixes (paths, env_var)\n       if (machine_suffix)\n \t{\n \t  if (!first_time)\n-\t    obstack_grow (&collect_obstack, \":\", 1);\n+\t    obstack_1grow (&collect_obstack, PATH_SEPARATOR);\n \t    \n \t  first_time = FALSE;\n \t  obstack_grow (&collect_obstack, pprefix->prefix, len);\n@@ -1237,23 +1239,24 @@ putenv_from_prefixes (paths, env_var)\n       if (just_machine_suffix && pprefix->require_machine_suffix == 2)\n \t{\n \t  if (!first_time)\n-\t    obstack_grow (&collect_obstack, \":\", 1);\n+\t    obstack_1grow (&collect_obstack, PATH_SEPARATOR);\n \t    \n \t  first_time = FALSE;\n \t  obstack_grow (&collect_obstack, pprefix->prefix, len);\n-\t  obstack_grow (&collect_obstack, machine_suffix, suffix_len);\n+\t  obstack_grow (&collect_obstack, just_machine_suffix,\n+\t\t\tjust_suffix_len);\n \t}\n \n       if (!pprefix->require_machine_suffix)\n \t{\n \t  if (!first_time)\n-\t    obstack_grow (&collect_obstack, \":\", 1);\n+\t    obstack_1grow (&collect_obstack, PATH_SEPARATOR);\n \n \t  first_time = FALSE;\n \t  obstack_grow (&collect_obstack, pprefix->prefix, len);\n \t}\n     }\n-  obstack_grow (&collect_obstack, \"\\0\", 1);\n+  obstack_1grow (&collect_obstack, '\\0');\n   putenv (obstack_finish (&collect_obstack));\n }\n "}]}