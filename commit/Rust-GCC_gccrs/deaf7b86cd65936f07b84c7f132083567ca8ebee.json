{"sha": "deaf7b86cd65936f07b84c7f132083567ca8ebee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGVhZjdiODZjZDY1OTM2ZjA3Yjg0YzdmMTMyMDgzNTY3Y2E4ZWJlZQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2010-10-25T10:47:19Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2010-10-25T10:47:19Z"}, "message": "forward_list.h (_Fwd_list_node_base::swap): Remove.\n\n2010-10-25  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\t* include/bits/forward_list.h (_Fwd_list_node_base::swap): Remove.\n\t(_Fwd_list_base<>::_Fwd_list_base(_Fwd_list_base&&),\n\t_Fwd_list_base<>::_Fwd_list_base(_Fwd_list_base&&, const _Alloc&)):\n\tDon't use swap.\n\t(forward_list<>::swap): Just use std::swap.\n\n\t* include/bits/forward_list.h (_Fwd_list_base<>::_Fwd_list_base(),\n\t_Fwd_list_base(const _Alloc&)): Don't zero again _M_next.\n\n\t* testsuite/23_containers/forward_list/requirements/dr438/\n\tassign_neg.cc: Adjust dg-error line number.\n\t* testsuite/23_containers/forward_list/requirements/dr438/\n\tinsert_neg.cc: Likewise.\n\t* testsuite/23_containers/forward_list/requirements/dr438/\n\tconstructor_1_neg.cc: Likewise.\n\t* testsuite/23_containers/forward_list/requirements/dr438/\n\tconstructor_2_neg.cc: Likewise.\n\nFrom-SVN: r165915", "tree": {"sha": "17f050b289e0c38c4aefec86a605f9b89599ee90", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/17f050b289e0c38c4aefec86a605f9b89599ee90"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/deaf7b86cd65936f07b84c7f132083567ca8ebee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deaf7b86cd65936f07b84c7f132083567ca8ebee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/deaf7b86cd65936f07b84c7f132083567ca8ebee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/deaf7b86cd65936f07b84c7f132083567ca8ebee/comments", "author": null, "committer": null, "parents": [{"sha": "35a382b82d0c7a65e5974298af5b32a003ea1fcf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/35a382b82d0c7a65e5974298af5b32a003ea1fcf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/35a382b82d0c7a65e5974298af5b32a003ea1fcf"}], "stats": {"total": 53, "additions": 36, "deletions": 17}, "files": [{"sha": "ce0944ef7e2793c8154b68c2ebec2999a807c8ec", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=deaf7b86cd65936f07b84c7f132083567ca8ebee", "patch": "@@ -1,3 +1,23 @@\n+2010-10-25  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\t* include/bits/forward_list.h (_Fwd_list_node_base::swap): Remove.\n+\t(_Fwd_list_base<>::_Fwd_list_base(_Fwd_list_base&&),\n+\t_Fwd_list_base<>::_Fwd_list_base(_Fwd_list_base&&, const _Alloc&)):\n+\tDon't use swap.\n+\t(forward_list<>::swap): Just use std::swap.\n+\n+\t* include/bits/forward_list.h (_Fwd_list_base<>::_Fwd_list_base(),\n+\t_Fwd_list_base(const _Alloc&)): Don't zero again _M_next.\n+\n+\t* testsuite/23_containers/forward_list/requirements/dr438/\n+\tassign_neg.cc: Adjust dg-error line number.\n+\t* testsuite/23_containers/forward_list/requirements/dr438/\n+\tinsert_neg.cc: Likewise.\n+\t* testsuite/23_containers/forward_list/requirements/dr438/\n+\tconstructor_1_neg.cc: Likewise.\n+\t* testsuite/23_containers/forward_list/requirements/dr438/\n+\tconstructor_2_neg.cc: Likewise.\n+\n 2010-10-25  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \t* include/bits/hashtable.h (_Hashtable<>:_M_get_Value_allocator):"}, {"sha": "845090edba2827e898e2fe527897d1f97d4a7fb8", "filename": "libstdc++-v3/include/bits/forward_list.h", "status": "modified", "additions": 12, "deletions": 13, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fforward_list.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fforward_list.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fforward_list.h?ref=deaf7b86cd65936f07b84c7f132083567ca8ebee", "patch": "@@ -47,10 +47,6 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_D)\n \n     _Fwd_list_node_base* _M_next;\n \n-    static void\n-    swap(_Fwd_list_node_base& __x, _Fwd_list_node_base& __y)\n-    { std::swap(__x._M_next, __y._M_next); }\n-\n     _Fwd_list_node_base*\n     _M_transfer_after(_Fwd_list_node_base* __begin)\n     {\n@@ -309,24 +305,26 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_D)\n       { return *static_cast<const _Node_alloc_type*>(&this->_M_impl); }\n \n       _Fwd_list_base()\n-      : _M_impl()\n-      { this->_M_impl._M_head._M_next = 0; }\n+      : _M_impl() { }\n \n       _Fwd_list_base(const _Alloc& __a)\n-      : _M_impl(__a)\n-      { this->_M_impl._M_head._M_next = 0; }\n+      : _M_impl(__a) { }\n \n       _Fwd_list_base(const _Fwd_list_base& __lst, const _Alloc& __a);\n \n       _Fwd_list_base(_Fwd_list_base&& __lst, const _Alloc& __a)\n       : _M_impl(__a)\n-      { _Fwd_list_node_base::swap(this->_M_impl._M_head,\n-\t\t\t\t  __lst._M_impl._M_head); }\n+      {\n+\tthis->_M_impl._M_head._M_next = __lst._M_impl._M_head._M_next;\n+\t__lst._M_impl._M_head._M_next = 0;\n+      }\n \n       _Fwd_list_base(_Fwd_list_base&& __lst)\n       : _M_impl(__lst._M_get_Node_allocator())\n-      { _Fwd_list_node_base::swap(this->_M_impl._M_head,\n-\t\t\t\t  __lst._M_impl._M_head); }\n+      {\n+\tthis->_M_impl._M_head._M_next = __lst._M_impl._M_head._M_next;\n+\t__lst._M_impl._M_head._M_next = 0;\n+      }\n \n       ~_Fwd_list_base()\n       { _M_erase_after(&_M_impl._M_head, 0); }\n@@ -979,7 +977,8 @@ _GLIBCXX_BEGIN_NESTED_NAMESPACE(std, _GLIBCXX_STD_D)\n        */\n       void\n       swap(forward_list& __list)\n-      { _Node_base::swap(this->_M_impl._M_head, __list._M_impl._M_head); }\n+      { std::swap(this->_M_impl._M_head._M_next,\n+\t\t  __list._M_impl._M_head._M_next); }\n \n       /**\n        *  @brief Resizes the %forward_list to the specified number of"}, {"sha": "2cb45bdb13997724ceec7a2087c39a61a8a4b1ae", "filename": "libstdc++-v3/testsuite/23_containers/forward_list/requirements/dr438/assign_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fassign_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fassign_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fassign_neg.cc?ref=deaf7b86cd65936f07b84c7f132083567ca8ebee", "patch": "@@ -1,6 +1,6 @@\n // { dg-do compile }\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-error \"no matching\" \"\" { target *-*-* } 1204 }\n+// { dg-error \"no matching\" \"\" { target *-*-* } 1203 }\n // { dg-excess-errors \"\" }\n \n // Copyright (C) 2009, 2010 Free Software Foundation"}, {"sha": "6120bd855384e84787abb67351debd9b53d98701", "filename": "libstdc++-v3/testsuite/23_containers/forward_list/requirements/dr438/constructor_1_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fconstructor_1_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fconstructor_1_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fconstructor_1_neg.cc?ref=deaf7b86cd65936f07b84c7f132083567ca8ebee", "patch": "@@ -1,6 +1,6 @@\n // { dg-do compile }\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-error \"no matching\" \"\" { target *-*-* } 1204 }\n+// { dg-error \"no matching\" \"\" { target *-*-* } 1203 }\n // { dg-excess-errors \"\" }\n \n // Copyright (C) 2009, 2010 Free Software Foundation"}, {"sha": "b253a33e57623f0764df56d40b7965832ac6d5cf", "filename": "libstdc++-v3/testsuite/23_containers/forward_list/requirements/dr438/constructor_2_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fconstructor_2_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fconstructor_2_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Fconstructor_2_neg.cc?ref=deaf7b86cd65936f07b84c7f132083567ca8ebee", "patch": "@@ -1,6 +1,6 @@\n // { dg-do compile }\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-error \"no matching\" \"\" { target *-*-* } 1204 }\n+// { dg-error \"no matching\" \"\" { target *-*-* } 1203 }\n // { dg-excess-errors \"\" }\n \n // Copyright (C) 2009, 2010 Free Software Foundation"}, {"sha": "944a20be4237f5d3e5c484a732956b118ce50ab4", "filename": "libstdc++-v3/testsuite/23_containers/forward_list/requirements/dr438/insert_neg.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Finsert_neg.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/deaf7b86cd65936f07b84c7f132083567ca8ebee/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Finsert_neg.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F23_containers%2Fforward_list%2Frequirements%2Fdr438%2Finsert_neg.cc?ref=deaf7b86cd65936f07b84c7f132083567ca8ebee", "patch": "@@ -1,6 +1,6 @@\n // { dg-do compile }\n // { dg-options \"-std=gnu++0x\" }\n-// { dg-error \"no matching\" \"\" { target *-*-* } 1204 }\n+// { dg-error \"no matching\" \"\" { target *-*-* } 1203 }\n // { dg-excess-errors \"\" }\n \n // Copyright (C) 2009, 2010 Free Software Foundation"}]}