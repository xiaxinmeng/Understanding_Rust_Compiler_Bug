{"sha": "a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTIwZGNmNDZjMDRiN2JjODUzM2IzZTZjNmEwNDBjOWY3MDgzZTZlNg==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-03-23T22:20:35Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1994-03-23T22:20:35Z"}, "message": "(va_start): Add call to builtin_next_arg.\n\nFrom-SVN: r6856", "tree": {"sha": "6d8d7da65c672bdf8effb1b562f95279afa0646a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6d8d7da65c672bdf8effb1b562f95279afa0646a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/comments", "author": null, "committer": null, "parents": [{"sha": "117aea7ad86c417a457823db2971b76f6a4046a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/117aea7ad86c417a457823db2971b76f6a4046a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/117aea7ad86c417a457823db2971b76f6a4046a9"}], "stats": {"total": 23, "additions": 18, "deletions": 5}, "files": [{"sha": "75cd6cd327c9c8f08c4d383707e0647bdb05bb72", "filename": "gcc/ginclude/va-alpha.h", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-alpha.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-alpha.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-alpha.h?ref=a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "patch": "@@ -35,8 +35,11 @@ typedef struct {\n \n /* ANSI alternative.  */\n \n-#define va_start(pvar, firstarg)  \\\n-  ((pvar) = *(__gnuc_va_list *) __builtin_saveregs ())\n+/* Call __builtin_next_arg even though we aren't using its value, so that\n+   we can verify that firstarg is correct.  */\n+#define va_start(pvar, firstarg)\t\t\t\t\\\n+  (__builtin_next_arg (firstarg),\t\t\t\t\\\n+   (pvar) = *(__gnuc_va_list *) __builtin_saveregs ())\n \n #endif /* _STDARG_H */\n "}, {"sha": "a6d000ef5a32fdf511d4428b25a1b87a4d46dd73", "filename": "gcc/ginclude/va-clipper.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-clipper.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-clipper.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-clipper.h?ref=a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "patch": "@@ -22,9 +22,12 @@ typedef struct\n #define _VA_LIST_\n #define _SYS_INT_STDARG_H\t\t/* acc compatibility */\n \n+/* Call __builtin_next_arg even though we aren't using its value, so that\n+   we can verify that LASTARG is correct.  */\n #ifdef _STDARG_H\n #define va_start(AP,LASTARG)\t\t\t\\\n-  ((AP) = *(va_list *)__builtin_saveregs(),\t\\\n+  (__builtin_next_arg (LASTARG),\t\t\\\n+   (AP) = *(va_list *)__builtin_saveregs(),\t\\\n    (AP).__va_num = __builtin_args_info (0),\t\\\n    (AP).__va_ap += __builtin_args_info (1))\n #else"}, {"sha": "480fef08d2a504ddff41404196982c738d94f9f6", "filename": "gcc/ginclude/va-m88k.h", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-m88k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-m88k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-m88k.h?ref=a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "patch": "@@ -19,8 +19,12 @@ typedef struct\n \n #ifdef _STDARG_H /* stdarg.h support */\n \n+/* Call __builtin_next_arg even though we aren't using its value, so that\n+   we can verify that LASTARG is correct.  */\n #if __GNUC__ > 1 /* GCC 2.0 and beyond */\n-#define va_start(AP,LASTARG) ((AP) = *(__gnuc_va_list *)__builtin_saveregs())\n+#define va_start(AP,LASTARG)\t\t\t\t\\\n+ (__builtin_next_arg (LASTARG),\t\t\t\t\\\n+  (AP) = *(__gnuc_va_list *)__builtin_saveregs())\n #else\n #define va_start(AP,LASTARG) \\\n   ( (AP).__va_reg = (int *) __builtin_saveregs2(0), \\"}, {"sha": "b21c1e4aca91081993b65fe497208724cb955744", "filename": "gcc/ginclude/va-pa.h", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-pa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6/gcc%2Fginclude%2Fva-pa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fginclude%2Fva-pa.h?ref=a20dcf46c04b7bc8533b3e6c6a040c9f7083e6e6", "patch": "@@ -21,8 +21,11 @@ typedef double *__gnuc_va_list;\n   (AP) = (double *)((char *)(AP) + 4)\n #endif /* __GNUC__ > 1 */\n \n+/* Call __builtin_next_arg even though we aren't using its value, so that\n+   we can verify that LASTARG is correct.  */\n #ifdef _STDARG_H\n-#define va_start(AP,LASTARG) __gnuc_va_start (AP)\n+#define va_start(AP,LASTARG) \\\n+  (__builtin_next_arg (LASTARG), __gnuc_va_start (AP))\n #else\n /* The ... causes current_function_varargs to be set in cc1.  */\n #define va_dcl long va_alist; __va_ellipsis"}]}