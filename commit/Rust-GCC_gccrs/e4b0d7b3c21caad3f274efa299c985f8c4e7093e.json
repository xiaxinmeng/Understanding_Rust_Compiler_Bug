{"sha": "e4b0d7b3c21caad3f274efa299c985f8c4e7093e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTRiMGQ3YjNjMjFjYWFkM2YyNzRlZmEyOTljOTg1ZjhjNGU3MDkzZQ==", "commit": {"author": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "1998-02-18T12:12:15Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "1998-02-18T12:12:15Z"}, "message": "add AIX 4.3 assembler bug and reorder items.\n\nFrom-SVN: r18074", "tree": {"sha": "3cb97f6703866c4bbaafd842c57302c02cdc4306", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3cb97f6703866c4bbaafd842c57302c02cdc4306"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e4b0d7b3c21caad3f274efa299c985f8c4e7093e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4b0d7b3c21caad3f274efa299c985f8c4e7093e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4b0d7b3c21caad3f274efa299c985f8c4e7093e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4b0d7b3c21caad3f274efa299c985f8c4e7093e/comments", "author": null, "committer": null, "parents": [{"sha": "26f6827a8d36cdb7f193aeedcf7167d89f829927", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/26f6827a8d36cdb7f193aeedcf7167d89f829927", "html_url": "https://github.com/Rust-GCC/gccrs/commit/26f6827a8d36cdb7f193aeedcf7167d89f829927"}], "stats": {"total": 114, "additions": 63, "deletions": 51}, "files": [{"sha": "6507633ce2e2e8d17d0f56b62ba1ee1679bea576", "filename": "gcc/README.RS6000", "status": "modified", "additions": 63, "deletions": 51, "changes": 114, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e4b0d7b3c21caad3f274efa299c985f8c4e7093e/gcc%2FREADME.RS6000", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e4b0d7b3c21caad3f274efa299c985f8c4e7093e/gcc%2FREADME.RS6000", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FREADME.RS6000?ref=e4b0d7b3c21caad3f274efa299c985f8c4e7093e", "patch": "@@ -1,51 +1,25 @@\n-\t\t     AIX 3.1 and 3.2 assembler problems\n+\t\t\t    AIX 4.3 assembler\n \n-Specifying the -g flag to GCC on the RS/6000 requires upgrading the\n-standard AIX assembler distributed with AIX 3.1 and versions of AIX\n-3.2 earlier than 3.2.4 with a replacement that is available from IBM.\n-Note that Makefile.in specifies the -g when compiling libgcc2.c.\n-\n-You can test for the presence of a fixed assembler by entering the following:\n-\t\t% as -u < /dev/null\n-If the command exits normally, the assembler fix already is installed.\n-If the assembler complains that \"-u\" is an unknown flag, you need to order\n-the fix.\n-\n-If you are running AIX 3.1 (lslpp -h bos.obj output reports\n-03.01.0005.XXXX where the 0005 can be any higher number and the XXXX\n-can be any value), call IBM Support at 800-237-5511 and ask for\n-shipment of AIX/6000 fix PTF U403044 for APAR IX22829 (.extern foo\n-conflicts with defining foo).\n-\n-If you are running AIX 3.2 but not 3.2.4 or later (lslpp -h bos.obj\n-output reports 03.02.0000.0000), a newer update to the assembler fix\n-is available.  Ask for shipment of AIX/6000 fix PTF U416277 for\n-IX32992 (.global prevents detection of duplicate symbol).\n-\n-If you are running AIX 3.2.4 or later, you already have the new\n-assembler.\n+The AIX 4.3.0.0 assembler generates incorrect object files if the \".bs\"\n+pseudo-op references symbols in certain sections.  If GCC is invoked with\n+the -g debugging option (including during bootstrapping), incorrect object\n+files will be produced and the AIX linker will fail with a severe error.\n+A fix for APAR IX74254 (64BIT DISASSEMBLED OUPUT FROM COMPILER FAILS TO\n+ASSEMBLE/BIND) is available from IBM Customer Support and IBM's\n+service.boulder.ibm.com website.\n \n-Any customer can order and get the replacement assembler, and install it on\n-one or more machines.  It is available on diskette from IBM Customer Support\n-and from the IBM Internet fix anonymous ftp server (FixDist) at\n-aix.boulder.ibm.com (198.17.57.66).\n \n-If you contact IBM Customer Support, they may also ask you for your customer\n-number.  If you do not know it, you will still be able to get the fix, but\n-you will have to be persistent.  IBM has corresponding support organizations\n-outside of North America.  Call your IBM branch office and ask them to put\n-you in touch with the department that handles fixes for AIX/6000.  If that\n-doesn't work, ask for the department that handles software defect support\n-for AIX/6000 and ask for the APAR fix.\n+\t\t\t      AIX 4.1 binder\n \n-If you use the GNU assembler instead of the system supplied assembler, you need\n-an assembler modified after October 16th, 1995 in order to build the GNU C\n-compiler.  This is because the GNU C compiler wants to build a variant of its\n-library, libgcc.a with the -mcpu=common switch to support building programs\n-that can run on either the Power or PowerPC machines.\n+Due to changes in the way that GCC invokes the binder (linker) for AIX 4.1,\n+the link step now may produce warnings of duplicate symbols which were not\n+reported before.  The assembly files generated by GCC for AIX always have\n+included multiple symbol definitions for certain global variable and\n+function declarations in the original program.  The warnings should not\n+prevent the linker from producing a correct library or runnable executable.\n \n \n-\t\t\t      AIX NLS problems\n+\t\t\t     AIX NLS problems\n \n AIX on the RS/6000 provides support (NLS) for environments outside of\n the United States.  Compilers and assemblers use NLS to support\n@@ -56,7 +30,7 @@ not produce the same floating-point formats that the assembler accepts.\n If you have this problem, set the LANG environment variable to \"C\" or\n \"En_US\".\n \n-\n+\t\t\t\t     \n \t\t\t AIX 3.2.5 XLC-1.3 problems\n \n XLC version 1.3.0.0 distributed with AIX 3.2.5 will miscompile jump.c when\n@@ -72,7 +46,7 @@ releases of xlc-1.2.1, including xlc-1.2.1.8.  Newer releases of xlc-1.2.1\n do not exhibit this problem: xlc-1.2.1.28 is known to bootstrap properly.\n \n \n-\t\t\tAIX 3.2 common-mode support\n+\t\t       AIX 3.2 common-mode support\n \n AIX common-mode providing transparent support of both the POWER and PowerPC\n architectures is usable in AIX 3.2.3 and above but an export file and\n@@ -101,11 +75,49 @@ __quous         0x3380\n and then link with -Wl,-bI:milli.exp.\n \n \n-\t\t\t       AIX 4.1 binder\n+\t\t     AIX 3.1 and 3.2 assembler problems\n+\n+Specifying the -g flag to GCC on the RS/6000 requires upgrading the\n+standard AIX assembler distributed with AIX 3.1 and versions of AIX\n+3.2 earlier than 3.2.4 with a replacement that is available from IBM.\n+Note that Makefile.in specifies the -g when compiling libgcc2.c.\n+\n+You can test for the presence of a fixed assembler by entering the following:\n+\t\t% as -u < /dev/null\n+If the command exits normally, the assembler fix already is installed.\n+If the assembler complains that \"-u\" is an unknown flag, you need to order\n+the fix.\n+\n+If you are running AIX 3.1 (lslpp -h bos.obj output reports\n+03.01.0005.XXXX where the 0005 can be any higher number and the XXXX\n+can be any value), call IBM Support at 800-237-5511 and ask for\n+shipment of AIX/6000 fix PTF U403044 for APAR IX22829 (.extern foo\n+conflicts with defining foo).\n+\n+If you are running AIX 3.2 but not 3.2.4 or later (lslpp -h bos.obj\n+output reports 03.02.0000.0000), a newer update to the assembler fix\n+is available.  Ask for shipment of AIX/6000 fix PTF U416277 for\n+IX32992 (.global prevents detection of duplicate symbol).\n+\n+If you are running AIX 3.2.4 or later, you already have the new\n+assembler.\n+\n+Any customer can order and get the replacement assembler, and install it on\n+one or more machines.  It is available on diskette from IBM Customer Support\n+and from the IBM Internet fix anonymous ftp server (FixDist) at\n+aix.boulder.ibm.com (198.17.57.66).\n+\n+If you contact IBM Customer Support, they may also ask you for your customer\n+number.  If you do not know it, you will still be able to get the fix, but\n+you will have to be persistent.  IBM has corresponding support organizations\n+outside of North America.  Call your IBM branch office and ask them to put\n+you in touch with the department that handles fixes for AIX/6000.  If that\n+doesn't work, ask for the department that handles software defect support\n+for AIX/6000 and ask for the APAR fix.\n+\n+If you use the GNU assembler instead of the system supplied assembler, you need\n+an assembler modified after October 16th, 1995 in order to build the GNU C\n+compiler.  This is because the GNU C compiler wants to build a variant of its\n+library, libgcc.a with the -mcpu=common switch to support building programs\n+that can run on either the Power or PowerPC machines.\n \n-Due to changes in the way that GCC invokes the binder (linker) for AIX 4.1,\n-the link step now may produce warnings of duplicate symbols which were not\n-reported before.  The assembly files generated by GCC for AIX always have\n-included multiple symbol definitions for certain global variable and\n-function declarations in the original program.  The warnings should not\n-prevent the linker from producing a correct library or runnable executable."}]}