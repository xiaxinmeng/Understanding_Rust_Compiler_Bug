{"sha": "efdd2c06bbd9911e69372595db5518924bdbb44b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWZkZDJjMDZiYmQ5OTExZTY5MzcyNTk1ZGI1NTE4OTI0YmRiYjQ0Yg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@cygnus.com", "date": "2000-05-03T21:00:49Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2000-05-03T21:00:49Z"}, "message": "mklibgcc.in: Restrict OLDCC=GCC test to native.\n\n        * mklibgcc.in: Restrict OLDCC=GCC test to native.  Equate\n        LIBGCC1 empty with libgcc1.null.\n\nFrom-SVN: r33644", "tree": {"sha": "fe49a2907d9d4319be8cab5f97fe1d0c6195345d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fe49a2907d9d4319be8cab5f97fe1d0c6195345d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/efdd2c06bbd9911e69372595db5518924bdbb44b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efdd2c06bbd9911e69372595db5518924bdbb44b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efdd2c06bbd9911e69372595db5518924bdbb44b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efdd2c06bbd9911e69372595db5518924bdbb44b/comments", "author": null, "committer": null, "parents": [{"sha": "13393c8ae70d36e71a02f61567445dc22416e3ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/13393c8ae70d36e71a02f61567445dc22416e3ec", "html_url": "https://github.com/Rust-GCC/gccrs/commit/13393c8ae70d36e71a02f61567445dc22416e3ec"}], "stats": {"total": 31, "additions": 21, "deletions": 10}, "files": [{"sha": "a652f790a8c22c407817fa2022199fb6e6f1514f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efdd2c06bbd9911e69372595db5518924bdbb44b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efdd2c06bbd9911e69372595db5518924bdbb44b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=efdd2c06bbd9911e69372595db5518924bdbb44b", "patch": "@@ -1,3 +1,8 @@\n+2000-05-03  Richard Henderson  <rth@cygnus.com>\n+\n+\t* mklibgcc.in: Restrict OLDCC=GCC test to native.  Equate\n+\tLIBGCC1 empty with libgcc1.null.\n+\n Wed May  3 12:55:46 2000  Jim Wilson  <wilson@cygnus.com>\n \n \t* fold-const.c (extract_muldiv, case MAX_EXPR): Don't allow signedness"}, {"sha": "bcec536ab6ff440a9ed2603418b27c2fb71dbe9b", "filename": "gcc/mklibgcc.in", "status": "modified", "additions": 16, "deletions": 10, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/efdd2c06bbd9911e69372595db5518924bdbb44b/gcc%2Fmklibgcc.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/efdd2c06bbd9911e69372595db5518924bdbb44b/gcc%2Fmklibgcc.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fmklibgcc.in?ref=efdd2c06bbd9911e69372595db5518924bdbb44b", "patch": "@@ -33,16 +33,18 @@ echo\n # is not needed.  This is not quite the same as libgcc1.null, even\n # on a target not using libgcc1-asm.a.\n \n-tmp=\"tmp-$$.c\"\n-cat > $tmp <<EOF\n+if [ \"@build_canonical@\" = \"@target@\" ]; then\n+  tmp=\"tmp-$$.c\"\n+  cat > $tmp <<EOF\n #ifdef __GNUC__\n   yes;\n #endif\n EOF\n-if $OLDCC -E $tmp | grep yes > /dev/null 2>&1; then\n-  LIB1FUNCS=\"\"\n+  if $OLDCC -E $tmp | grep yes > /dev/null 2>&1; then\n+    LIB1FUNCS=\"\"\n+  fi\n+  rm -f $tmp\n fi\n-rm -f $tmp\n \n \n #\n@@ -112,15 +114,15 @@ fpbit_c_dep='$(srcdir)/config/fp-bit.c config.status tsystem.h'\n \n libgcc1_objs=\"\"\n \n-case \"$LIBGCC1\" in\n-  libgcc1.null)\n+case X\"$LIBGCC1\" in\n+  Xlibgcc1.null | X)\n     ;;\n \n-  libgcc1.cross)\n+  Xlibgcc1.cross)\n     echo \"You must find a way to make libgcc1 components yourself\" 1>&2\n     ;;\n \n-  libgcc1-asm.a)\n+  Xlibgcc1-asm.a)\n     for name in $LIB1ASMFUNCS; do\n       for ml in $MULTILIBS; do\n         dir=`echo ${ml} | sed -e 's/;.*$//'`\n@@ -135,7 +137,7 @@ case \"$LIBGCC1\" in\n     done\n     ;;\n \n-  *)\n+  Xlibgcc.a)\n     for name in $LIB1FUNCS; do\n       out=\"libgcc/${name}${objext}\"\n \n@@ -157,6 +159,10 @@ case \"$LIBGCC1\" in\n       libgcc1_objs=\"$libgcc1_objs ${name}${objext}\"\n     done\n     ;;\n+  *)\n+    echo \"I'm confused about libgcc1.\" 1>&2\n+    exit 1\n+    ;;\n esac\n \n #"}]}