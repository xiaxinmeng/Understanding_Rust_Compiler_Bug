{"sha": "25a9b3e531f6d276c64bc584fbf1822f81aa07f6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjVhOWIzZTUzMWY2ZDI3NmM2NGJjNTg0ZmJmMTgyMmY4MWFhMDdmNg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@cygnus.com", "date": "2000-05-12T20:18:49Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-05-12T20:18:49Z"}, "message": "gcc_update (touch_files_reexec): New function, run after the tree is modified.\n\n* gcc_update (touch_files_reexec): New function, run after the\ntree is modified.\n\nFrom-SVN: r33882", "tree": {"sha": "6faec07c329fddc775d7dd2e39651bce3243999c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6faec07c329fddc775d7dd2e39651bce3243999c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/25a9b3e531f6d276c64bc584fbf1822f81aa07f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25a9b3e531f6d276c64bc584fbf1822f81aa07f6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25a9b3e531f6d276c64bc584fbf1822f81aa07f6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25a9b3e531f6d276c64bc584fbf1822f81aa07f6/comments", "author": null, "committer": null, "parents": [{"sha": "3ea2292aa011c2fb500ca48212ad69a6c356e239", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3ea2292aa011c2fb500ca48212ad69a6c356e239", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3ea2292aa011c2fb500ca48212ad69a6c356e239"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "834966b3a08a504dea4fd41fbf5211838edc9702", "filename": "contrib/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a9b3e531f6d276c64bc584fbf1822f81aa07f6/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a9b3e531f6d276c64bc584fbf1822f81aa07f6/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=25a9b3e531f6d276c64bc584fbf1822f81aa07f6", "patch": "@@ -1,3 +1,8 @@\n+2000-05-12  Alexandre Oliva  <aoliva@cygnus.com>\n+\n+\t* gcc_update (touch_files_reexec): New function, run after the\n+\ttree is modified.\n+\n 2000-05-08  Richard Hendeson  <rth@cygnus.com>\n \n \t* gcc_update: Remove references to inclhack.tpl."}, {"sha": "a8d2ed7cc3260559b7fc2ef38e1445cc7f4df2ef", "filename": "contrib/gcc_update", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/25a9b3e531f6d276c64bc584fbf1822f81aa07f6/contrib%2Fgcc_update", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/25a9b3e531f6d276c64bc584fbf1822f81aa07f6/contrib%2Fgcc_update", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fgcc_update?ref=25a9b3e531f6d276c64bc584fbf1822f81aa07f6", "patch": "@@ -112,6 +112,13 @@ touch_files () {\n     done\n }\n \n+# Whenever we update the tree or install a patch, we may be modifying\n+# this script.  By re-execing it, we ensure that the appropriate\n+# dependencies and rules will be used.\n+touch_files_reexec () {\n+    echo \"Adjusting file timestamps\"\n+    exec ${CONFIG_SHELL-/bin/sh} $0 --touch\n+}    \n \n # This functions applies a patch to an existing tree.\n apply_patch () {\n@@ -126,8 +133,7 @@ apply_patch () {\n \t    cat $1 | patch -p1 ;;\n \tesac\n     fi\n-    echo \"Adjusting file timestamps\"\n-    touch_files\n+    touch_files_reexec\n }\n \n # Check whether this indeed looks like a local tree.\n@@ -197,5 +203,4 @@ if [ $? -ne 0 ]; then\n     exit 1\n fi\n \n-echo \"Adjusting file timestamps\"\n-touch_files\n+touch_files_reexec"}]}