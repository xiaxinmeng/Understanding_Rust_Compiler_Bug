{"sha": "8569c753080d9f5f00277759207a2671b8f0eff5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODU2OWM3NTMwODBkOWY1ZjAwMjc3NzU5MjA3YTI2NzFiOGYwZWZmNQ==", "commit": {"author": {"name": "Tobias Burnus", "email": "burnus@net-b.de", "date": "2010-07-24T16:32:11Z"}, "committer": {"name": "Tobias Burnus", "email": "burnus@gcc.gnu.org", "date": "2010-07-24T16:32:11Z"}, "message": "re PR fortran/40011 (Problems with -fwhole-file)\n\n2010-07-24  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/40011\n        * parse.c (gfc_parse_file): Do not override\n        gfc_global_ns_list items.\n\n2010-07-24  Tobias Burnus  <burnus@net-b.de>\n\n        PR fortran/40011\n        * gfortran.dg/whole_file_21.f90: New.\n\n        * gfortran.dg/integer_exponentiation_3.F90: Use\n        -ffloat-store only for i?86/x86-64 -m32.\n\nFrom-SVN: r162500", "tree": {"sha": "3d7f5b35cdd4239d7c914cc2518291d7baba6eb4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3d7f5b35cdd4239d7c914cc2518291d7baba6eb4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8569c753080d9f5f00277759207a2671b8f0eff5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8569c753080d9f5f00277759207a2671b8f0eff5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8569c753080d9f5f00277759207a2671b8f0eff5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8569c753080d9f5f00277759207a2671b8f0eff5/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a522de151f17ef7bfe0f3a117096a4b24d0c1d35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a522de151f17ef7bfe0f3a117096a4b24d0c1d35", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a522de151f17ef7bfe0f3a117096a4b24d0c1d35"}], "stats": {"total": 24, "additions": 21, "deletions": 3}, "files": [{"sha": "6f654cafa4c8336e69293ef4c34d19cfe61c51be", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=8569c753080d9f5f00277759207a2671b8f0eff5", "patch": "@@ -1,3 +1,9 @@\n+2010-07-24  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/40011\n+\t* parse.c (gfc_parse_file): Do not override\n+\tgfc_global_ns_list items.\n+\n 2010-07-24  Tobias Burnus  <burnus@net-b.de>\n \n \t* options.c (gfc_init_options): Enable -fwhole-file by default."}, {"sha": "616fb50ec673849269fb6f022f80820400ebc5ed", "filename": "gcc/fortran/parse.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ffortran%2Fparse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ffortran%2Fparse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fparse.c?ref=8569c753080d9f5f00277759207a2671b8f0eff5", "patch": "@@ -4414,7 +4414,11 @@ gfc_parse_file (void)\n      later and all their interfaces resolved.  */\n   gfc_current_ns->code = s.head;\n   if (next)\n-    next->sibling = gfc_current_ns;\n+    {\n+      for (; next->sibling; next = next->sibling)\n+\t;\n+      next->sibling = gfc_current_ns;\n+    }\n   else\n     gfc_global_ns_list = gfc_current_ns;\n "}, {"sha": "115f6333d1488e8b6eecfab9a17447abf425c5f0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=8569c753080d9f5f00277759207a2671b8f0eff5", "patch": "@@ -1,3 +1,11 @@\n+2010-07-24  Tobias Burnus  <burnus@net-b.de>\n+\n+\tPR fortran/40011\n+\t* gfortran.dg/whole_file_21.f90: New.\n+\n+\t* gfortran.dg/integer_exponentiation_3.F90: Use\n+\t-ffloat-store only for i?86/x86-64 -m32.\n+\n 2010-07-24  Tobias Burnus  <burnus@net-b.de>\n \n \t* gfortran.dg/entry_13.f90: Use abs() > eps instead of \"/=\"."}, {"sha": "5c6c5bfe5e6be68ca67eb4a1be794d027a55ce4b", "filename": "gcc/testsuite/gfortran.dg/integer_exponentiation_3.F90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ftestsuite%2Fgfortran.dg%2Finteger_exponentiation_3.F90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8569c753080d9f5f00277759207a2671b8f0eff5/gcc%2Ftestsuite%2Fgfortran.dg%2Finteger_exponentiation_3.F90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Finteger_exponentiation_3.F90?ref=8569c753080d9f5f00277759207a2671b8f0eff5", "patch": "@@ -1,8 +1,8 @@\n ! { dg-do run { xfail spu-*-* } }\n ! FAILs on SPU because of wrong compile-time rounding mode\n-! { dg-options \"-ffloat-store\" }\n+! { dg-options \"\" }\n+! { dg-options \"-ffloat-store\" { target { { i?86-*-* x86_64-*-* } && ilp32 } } } \n !\n-! -ffloat-store needed for x87\n !\n module mod_check\n   implicit none"}]}