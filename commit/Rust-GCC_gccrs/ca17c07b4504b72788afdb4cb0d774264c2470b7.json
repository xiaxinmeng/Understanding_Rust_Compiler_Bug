{"sha": "ca17c07b4504b72788afdb4cb0d774264c2470b7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2ExN2MwN2I0NTA0YjcyNzg4YWZkYjRjYjBkNzc0MjY0YzI0NzBiNw==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2011-09-27T01:56:17Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2011-09-27T01:56:17Z"}, "message": "re PR c++/45487 (Request to change comma to semicolon in error message)\n\n/cp\n2011-09-26  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/45487\n\t* error.c (dump_template_bindings): Separate bindings with semicolons\n\tinstead of commas.\n\n/testsuite\n2011-09-26  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/45487\n\t* g++.dg/diagnostic/bindings1.C: New.\n\t* g++.old-deja/g++.pt/memtemp77.C: Adjust.\n\nFrom-SVN: r179226", "tree": {"sha": "587369bfe4822d2f41d58f39b04835d3af207110", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/587369bfe4822d2f41d58f39b04835d3af207110"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca17c07b4504b72788afdb4cb0d774264c2470b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca17c07b4504b72788afdb4cb0d774264c2470b7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca17c07b4504b72788afdb4cb0d774264c2470b7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca17c07b4504b72788afdb4cb0d774264c2470b7/comments", "author": null, "committer": null, "parents": [{"sha": "ab02e565e41ea6356b9e23fac196de6da787718f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ab02e565e41ea6356b9e23fac196de6da787718f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ab02e565e41ea6356b9e23fac196de6da787718f"}], "stats": {"total": 45, "additions": 38, "deletions": 7}, "files": [{"sha": "9de69c864720a3480c6344d8a47264d1e6fe4194", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=ca17c07b4504b72788afdb4cb0d774264c2470b7", "patch": "@@ -1,3 +1,9 @@\n+2011-09-26  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/45487\n+\t* error.c (dump_template_bindings): Separate bindings with semicolons\n+\tinstead of commas.\n+\n 2011-09-26  Jason Merrill  <jason@redhat.com>\n \n \tPR c++/50512"}, {"sha": "4d12a0dd43d36950a661c2ab3a64f1233e604295", "filename": "gcc/cp/error.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=ca17c07b4504b72788afdb4cb0d774264c2470b7", "patch": "@@ -36,6 +36,7 @@ along with GCC; see the file COPYING3.  If not see\n #include \"c-family/c-objc.h\"\n \n #define pp_separate_with_comma(PP) pp_cxx_separate_with (PP, ',')\n+#define pp_separate_with_semicolon(PP) pp_cxx_separate_with (PP, ';')\n \n /* The global buffer where we dump everything.  It is there only for\n    transitional purpose.  It is expected, in the near future, to be\n@@ -259,7 +260,7 @@ dump_template_parameter (tree parm, int flags)\n static void\n dump_template_bindings (tree parms, tree args, VEC(tree,gc)* typenames)\n {\n-  int need_comma = 0;\n+  bool need_semicolon = false;\n   int i;\n   tree t;\n \n@@ -283,8 +284,8 @@ dump_template_bindings (tree parms, tree args, VEC(tree,gc)* typenames)\n \t  if (lvl_args && NUM_TMPL_ARGS (lvl_args) > arg_idx)\n \t    arg = TREE_VEC_ELT (lvl_args, arg_idx);\n \n-\t  if (need_comma)\n-\t    pp_separate_with_comma (cxx_pp);\n+\t  if (need_semicolon)\n+\t    pp_separate_with_semicolon (cxx_pp);\n \t  dump_template_parameter (TREE_VEC_ELT (p, i), TFF_PLAIN_IDENTIFIER);\n \t  pp_cxx_whitespace (cxx_pp);\n \t  pp_equal (cxx_pp);\n@@ -301,7 +302,7 @@ dump_template_bindings (tree parms, tree args, VEC(tree,gc)* typenames)\n \t    pp_string (cxx_pp, M_(\"<missing>\"));\n \n \t  ++arg_idx;\n-\t  need_comma = 1;\n+\t  need_semicolon = true;\n \t}\n \n       parms = TREE_CHAIN (parms);\n@@ -313,8 +314,8 @@ dump_template_bindings (tree parms, tree args, VEC(tree,gc)* typenames)\n \n   FOR_EACH_VEC_ELT (tree, typenames, i, t)\n     {\n-      if (need_comma)\n-\tpp_separate_with_comma (cxx_pp);\n+      if (need_semicolon)\n+\tpp_separate_with_semicolon (cxx_pp);\n       dump_type (t, TFF_PLAIN_IDENTIFIER);\n       pp_cxx_whitespace (cxx_pp);\n       pp_equal (cxx_pp);"}, {"sha": "7832453f47d527819617171a1a9c88724e9ac2c9", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ca17c07b4504b72788afdb4cb0d774264c2470b7", "patch": "@@ -1,3 +1,9 @@\n+2011-09-26  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/45487\n+\t* g++.dg/diagnostic/bindings1.C: New.\n+\t* g++.old-deja/g++.pt/memtemp77.C: Adjust.\n+\n 2011-09-26  David S. Miller  <davem@davemloft.net>\n \n \t* gcc.target/sparc/wrgsr.c: New test."}, {"sha": "4972377a212e3b32dbc4ea34fa00498c75d0a545", "filename": "gcc/testsuite/g++.dg/diagnostic/bindings1.C", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Fbindings1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Fbindings1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fdiagnostic%2Fbindings1.C?ref=ca17c07b4504b72788afdb4cb0d774264c2470b7", "patch": "@@ -0,0 +1,18 @@\n+// PR c++/45487\n+// { dg-do run  }\n+\n+extern \"C\" int strcmp(const char*, const char*);\n+\n+template <typename T>\n+const char* foo(T, typename T::type c) { return __PRETTY_FUNCTION__; }\n+\n+struct x {typedef int type;};\n+\n+int main()\n+{\n+  if (strcmp (foo(x(), 3), \"const char* foo(T, typename T::type) \"\n+\t      \"[with T = x; typename T::type = int]\") == 0)\n+    return 0;\n+  else \n+    return 1;\n+}"}, {"sha": "6dd4b546c0c6fda6bb7c85d8948a259d3d51aff1", "filename": "gcc/testsuite/g++.old-deja/g++.pt/memtemp77.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp77.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca17c07b4504b72788afdb4cb0d774264c2470b7/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp77.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.pt%2Fmemtemp77.C?ref=ca17c07b4504b72788afdb4cb0d774264c2470b7", "patch": "@@ -19,7 +19,7 @@ const char* S3<char>::h(int) { return __PRETTY_FUNCTION__; }\n int main()\n {\n   if (strcmp (S3<double>::h(7), \n-\t      \"static const char* S3<T>::h(U) [with U = int, T = double]\") == 0)\n+\t      \"static const char* S3<T>::h(U) [with U = int; T = double]\") == 0)\n     return 0;\n   else \n     return 1;"}]}