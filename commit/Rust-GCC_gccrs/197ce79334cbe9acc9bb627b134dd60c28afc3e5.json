{"sha": "197ce79334cbe9acc9bb627b134dd60c28afc3e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTk3Y2U3OTMzNGNiZTlhY2M5YmI2MjdiMTM0ZGQ2MGMyOGFmYzNlNQ==", "commit": {"author": {"name": "Michael Matz", "email": "matz@suse.de", "date": "2012-09-03T15:39:15Z"}, "committer": {"name": "Michael Matz", "email": "matz@gcc.gnu.org", "date": "2012-09-03T15:39:15Z"}, "message": "re PR tree-optimization/46590 (long compile time with -O2 and many loops)\n\n\tPR tree-optimization/46590\n\t* tree-cfg.c (gimple_duplicate_sese_region): Don't update\n\tSSA web here ...\n\t* tree-ssa-loop-ch.c (copy_loop_headers): ... but here.\n\nFrom-SVN: r190897", "tree": {"sha": "5c61fe37a8c4d4812ae54b068c7b7b4b57f6a9d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5c61fe37a8c4d4812ae54b068c7b7b4b57f6a9d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/197ce79334cbe9acc9bb627b134dd60c28afc3e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/197ce79334cbe9acc9bb627b134dd60c28afc3e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/197ce79334cbe9acc9bb627b134dd60c28afc3e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/197ce79334cbe9acc9bb627b134dd60c28afc3e5/comments", "author": {"login": "susematz", "id": 4117296, "node_id": "MDQ6VXNlcjQxMTcyOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4117296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/susematz", "html_url": "https://github.com/susematz", "followers_url": "https://api.github.com/users/susematz/followers", "following_url": "https://api.github.com/users/susematz/following{/other_user}", "gists_url": "https://api.github.com/users/susematz/gists{/gist_id}", "starred_url": "https://api.github.com/users/susematz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/susematz/subscriptions", "organizations_url": "https://api.github.com/users/susematz/orgs", "repos_url": "https://api.github.com/users/susematz/repos", "events_url": "https://api.github.com/users/susematz/events{/privacy}", "received_events_url": "https://api.github.com/users/susematz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1d85ac834e6468a8eee1edcbd383b261c043799d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d85ac834e6468a8eee1edcbd383b261c043799d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d85ac834e6468a8eee1edcbd383b261c043799d"}], "stats": {"total": 20, "additions": 12, "deletions": 8}, "files": [{"sha": "fa72f0b843b35bf03e658a9ee551cab086ec5abe", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/197ce79334cbe9acc9bb627b134dd60c28afc3e5/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/197ce79334cbe9acc9bb627b134dd60c28afc3e5/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=197ce79334cbe9acc9bb627b134dd60c28afc3e5", "patch": "@@ -1,3 +1,10 @@\n+2012-09-03  Michael Matz  <matz@suse.de>\n+\n+\tPR tree-optimization/46590\n+\t* tree-cfg.c (gimple_duplicate_sese_region): Don't update\n+\tSSA web here ...\n+\t* tree-ssa-loop-ch.c (copy_loop_headers): ... but here.\n+\n 2012-09-03  Sandra Loosemore  <sandra@codesourcery.com>\n \n \t* doc/invoke.texi: Fix numerous typos and punctuation/grammatical"}, {"sha": "9b2ae50bc6f73d7b8c1b13b53466c827ce2ef38d", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/197ce79334cbe9acc9bb627b134dd60c28afc3e5/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/197ce79334cbe9acc9bb627b134dd60c28afc3e5/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=197ce79334cbe9acc9bb627b134dd60c28afc3e5", "patch": "@@ -5530,9 +5530,10 @@ add_phi_args_after_copy (basic_block *region_copy, unsigned n_region,\n    important exit edge EXIT.  By important we mean that no SSA name defined\n    inside region is live over the other exit edges of the region.  All entry\n    edges to the region must go to ENTRY->dest.  The edge ENTRY is redirected\n-   to the duplicate of the region.  SSA form, dominance and loop information\n-   is updated.  The new basic blocks are stored to REGION_COPY in the same\n-   order as they had in REGION, provided that REGION_COPY is not NULL.\n+   to the duplicate of the region.  Dominance and loop information is\n+   updated, but not the SSA web.  The new basic blocks are stored to\n+   REGION_COPY in the same order as they had in REGION, provided that\n+   REGION_COPY is not NULL.\n    The function returns false if it is unable to copy the region,\n    true otherwise.  */\n \n@@ -5593,8 +5594,6 @@ gimple_duplicate_sese_region (edge entry, edge exit,\n       free_region_copy = true;\n     }\n \n-  gcc_assert (!need_ssa_update_p (cfun));\n-\n   /* Record blocks outside the region that are dominated by something\n      inside.  */\n   doms = NULL;\n@@ -5663,9 +5662,6 @@ gimple_duplicate_sese_region (edge entry, edge exit,\n   /* Add the other PHI node arguments.  */\n   add_phi_args_after_copy (region_copy, n_region, NULL);\n \n-  /* Update the SSA web.  */\n-  update_ssa (TODO_update_ssa);\n-\n   if (free_region_copy)\n     free (region_copy);\n "}, {"sha": "c43819ab3d878b8c4da0f4178f1ff91ca8eae621", "filename": "gcc/tree-ssa-loop-ch.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/197ce79334cbe9acc9bb627b134dd60c28afc3e5/gcc%2Ftree-ssa-loop-ch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/197ce79334cbe9acc9bb627b134dd60c28afc3e5/gcc%2Ftree-ssa-loop-ch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ch.c?ref=197ce79334cbe9acc9bb627b134dd60c28afc3e5", "patch": "@@ -241,6 +241,7 @@ copy_loop_headers (void)\n       split_edge (loop_latch_edge (loop));\n     }\n \n+  update_ssa (TODO_update_ssa);\n   free (bbs);\n   free (copied_bbs);\n "}]}