{"sha": "f90130752f21c4cfc1720bc875b8a23ea95afec6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjkwMTMwNzUyZjIxYzRjZmMxNzIwYmM4NzViOGEyM2VhOTVhZmVjNg==", "commit": {"author": {"name": "David Edelsohn", "email": "edelsohn@gnu.org", "date": "2005-04-04T22:50:53Z"}, "committer": {"name": "David Edelsohn", "email": "dje@gcc.gnu.org", "date": "2005-04-04T22:50:53Z"}, "message": "tree-eh.c (tree_could_trap_p): Allow non-constant floating point trapping divide.\n\n2005-04-02  David Edelsohn  <edelsohn@gnu.org>\n            Daniel Jacobowitz  <dan@codesourcery.com>\n\n        * tree-eh.c (tree_could_trap_p): Allow non-constant floating point\n        trapping divide.\n        * rtlanal.c (may_trap_p): Same.\n\nCo-Authored-By: Daniel Jacobowitz <dan@codesourcery.com>\n\nFrom-SVN: r97582", "tree": {"sha": "580801882cf8a84ce5d18bc451fb32a0356dfeb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/580801882cf8a84ce5d18bc451fb32a0356dfeb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f90130752f21c4cfc1720bc875b8a23ea95afec6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f90130752f21c4cfc1720bc875b8a23ea95afec6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f90130752f21c4cfc1720bc875b8a23ea95afec6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f90130752f21c4cfc1720bc875b8a23ea95afec6/comments", "author": null, "committer": null, "parents": [{"sha": "57e921bc604c8ba9ca7a5ed3d9f4af178ea803ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57e921bc604c8ba9ca7a5ed3d9f4af178ea803ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57e921bc604c8ba9ca7a5ed3d9f4af178ea803ed"}], "stats": {"total": 19, "additions": 12, "deletions": 7}, "files": [{"sha": "36608c762564a8cf6d26f9e341624bd653152865", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f90130752f21c4cfc1720bc875b8a23ea95afec6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f90130752f21c4cfc1720bc875b8a23ea95afec6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f90130752f21c4cfc1720bc875b8a23ea95afec6", "patch": "@@ -1,3 +1,10 @@\n+2005-04-04  David Edelsohn  <edelsohn@gnu.org>\n+\t    Daniel Jacobowitz  <dan@codesourcery.com>\n+\n+\t* tree-eh.c (tree_could_trap_p): Allow non-constant floating point\n+\ttrapping divide.\n+\t* rtlanal.c (may_trap_p): Same.\n+\n 2005-04-04  Dale Johannesen  <dalej@apple.com>\n \n \t* ChangeLog:  remove reference to ChangeLog.12."}, {"sha": "da9774e488befcad3885d7c6e8d8c5c80e1c828e", "filename": "gcc/rtlanal.c", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f90130752f21c4cfc1720bc875b8a23ea95afec6/gcc%2Frtlanal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f90130752f21c4cfc1720bc875b8a23ea95afec6/gcc%2Frtlanal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frtlanal.c?ref=f90130752f21c4cfc1720bc875b8a23ea95afec6", "patch": "@@ -2105,11 +2105,9 @@ may_trap_p (rtx x)\n     case UMOD:\n       if (HONOR_SNANS (GET_MODE (x)))\n \treturn 1;\n-      if (! CONSTANT_P (XEXP (x, 1))\n-\t  || (GET_MODE_CLASS (GET_MODE (x)) == MODE_FLOAT\n-\t      && flag_trapping_math))\n-\treturn 1;\n-      if (XEXP (x, 1) == const0_rtx)\n+      if (GET_MODE_CLASS (GET_MODE (x)) == MODE_FLOAT)\n+\treturn flag_trapping_math;\n+      if (!CONSTANT_P (XEXP (x, 1)) || (XEXP (x, 1) == const0_rtx))\n \treturn 1;\n       break;\n "}, {"sha": "3dbcfa87ef9ab110fee9757dd79f98fa9dd6808e", "filename": "gcc/tree-eh.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f90130752f21c4cfc1720bc875b8a23ea95afec6/gcc%2Ftree-eh.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f90130752f21c4cfc1720bc875b8a23ea95afec6/gcc%2Ftree-eh.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-eh.c?ref=f90130752f21c4cfc1720bc875b8a23ea95afec6", "patch": "@@ -1787,8 +1787,8 @@ tree_could_trap_p (tree expr)\n     case RDIV_EXPR:\n       if (honor_snans || honor_trapv)\n \treturn true;\n-      if (fp_operation && flag_trapping_math)\n-\treturn true;\n+      if (fp_operation)\n+\treturn flag_trapping_math;\n       t = TREE_OPERAND (expr, 1);\n       if (!TREE_CONSTANT (t) || integer_zerop (t))\n         return true;"}]}