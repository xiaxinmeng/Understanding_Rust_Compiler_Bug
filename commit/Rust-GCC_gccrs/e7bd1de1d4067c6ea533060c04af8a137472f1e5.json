{"sha": "e7bd1de1d4067c6ea533060c04af8a137472f1e5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdiZDFkZTFkNDA2N2M2ZWE1MzMwNjBjMDRhZjhhMTM3NDcyZjFlNQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2013-11-27T23:42:48Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2013-11-27T23:42:48Z"}, "message": "re PR c/59310 (FAIL: gcc.dg/gomp/openmp-simd-1.c (test for excess errors))\n\n\tPR c/59310\n\t* c-parser.c (c_parser_omp_target): Copy \"#pragma omp target\"\n\tto p_name before calling c_parser_omp_teams instead of after.\n\t(c_parser_cilk_simd): Remove wrong ATTRIBUTE_UNUSED from parser\n\targument.  Remove unused p_name variable.\n\n\t* parser.c (cp_parser_omp_target): Call keep_next_level only\n\tif flag_openmp.\n\nFrom-SVN: r205467", "tree": {"sha": "9473c035eb36fe3a0382612335cc7e22272d377d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9473c035eb36fe3a0382612335cc7e22272d377d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7bd1de1d4067c6ea533060c04af8a137472f1e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7bd1de1d4067c6ea533060c04af8a137472f1e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7bd1de1d4067c6ea533060c04af8a137472f1e5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7bd1de1d4067c6ea533060c04af8a137472f1e5/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "e1b60626151424a379e33339e9531a66adcc3af8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1b60626151424a379e33339e9531a66adcc3af8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1b60626151424a379e33339e9531a66adcc3af8"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "5121acdc18724924bbbc59dc968fddd29fd6f89a", "filename": "gcc/c/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2FChangeLog?ref=e7bd1de1d4067c6ea533060c04af8a137472f1e5", "patch": "@@ -1,3 +1,11 @@\n+2013-11-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/59310\n+\t* c-parser.c (c_parser_omp_target): Copy \"#pragma omp target\"\n+\tto p_name before calling c_parser_omp_teams instead of after.\n+\t(c_parser_cilk_simd): Remove wrong ATTRIBUTE_UNUSED from parser\n+\targument.  Remove unused p_name variable.\n+\n 2013-11-27  Aldy Hernandez  <aldyh@redhat.com>\n \t    Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "141c4ce9cf622d3ca0631f3867cf5cc78532fbd3", "filename": "gcc/c/c-parser.c", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fc%2Fc-parser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fc%2Fc-parser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc%2Fc-parser.c?ref=e7bd1de1d4067c6ea533060c04af8a137472f1e5", "patch": "@@ -12529,10 +12529,10 @@ c_parser_omp_target (c_parser *parser, enum pragma_context context)\n \t\t\t      \"parallel for simd\")];\n \n \t  c_parser_consume_token (parser);\n+\t  strcpy (p_name, \"#pragma omp target\");\n \t  if (!flag_openmp)  /* flag_openmp_simd  */\n \t    return c_parser_omp_teams (loc, parser, p_name,\n \t\t\t\t       OMP_TARGET_CLAUSE_MASK, cclauses);\n-\t  strcpy (p_name, \"#pragma omp target\");\n \t  keep_next_level ();\n \t  tree block = c_begin_compound_stmt (true);\n \t  tree ret = c_parser_omp_teams (loc, parser, p_name,\n@@ -13566,10 +13566,8 @@ c_parser_cilk_all_clauses (c_parser *parser)\n    loops.  */\n \n static void\n-c_parser_cilk_simd (c_parser *parser ATTRIBUTE_UNUSED)\n+c_parser_cilk_simd (c_parser *parser)\n {\n-  char p_name[100];\n-  strcpy (p_name, \"#pragma omp\");\n   tree clauses = c_parser_cilk_all_clauses (parser);\n   tree block = c_begin_compound_stmt (true);\n   location_t loc = c_parser_peek_token (parser)->location;"}, {"sha": "dd279d036a0ec338ad00001fe6929164af19e59c", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=e7bd1de1d4067c6ea533060c04af8a137472f1e5", "patch": "@@ -1,3 +1,9 @@\n+2013-11-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR c/59310\n+\t* parser.c (cp_parser_omp_target): Call keep_next_level only\n+\tif flag_openmp.\n+\n 2013-11-27  Paolo Carlini  <paolo.carlini@oracle.com>\n \n \tPR c++/58647"}, {"sha": "bd4ead74dc81910b8dcfca62ac150496adb47d1b", "filename": "gcc/cp/parser.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fcp%2Fparser.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7bd1de1d4067c6ea533060c04af8a137472f1e5/gcc%2Fcp%2Fparser.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fparser.c?ref=e7bd1de1d4067c6ea533060c04af8a137472f1e5", "patch": "@@ -29968,10 +29968,10 @@ cp_parser_omp_target (cp_parser *parser, cp_token *pragma_tok,\n \n \t  cp_lexer_consume_token (parser->lexer);\n \t  strcpy (p_name, \"#pragma omp target\");\n-\t  keep_next_level (true);\n \t  if (!flag_openmp)  /* flag_openmp_simd  */\n \t    return cp_parser_omp_teams (parser, pragma_tok, p_name,\n \t\t\t\t\tOMP_TARGET_CLAUSE_MASK, cclauses);\n+\t  keep_next_level (true);\n \t  tree sb = begin_omp_structured_block ();\n \t  unsigned save = cp_parser_begin_omp_structured_block (parser);\n \t  tree ret = cp_parser_omp_teams (parser, pragma_tok, p_name,"}]}