{"sha": "6b9ab5cc45bfc38ce768e9c472cad34e81c857f7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NmI5YWI1Y2M0NWJmYzM4Y2U3NjhlOWM0NzJjYWQzNGU4MWM4NTdmNw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@markmitchell.com", "date": "1998-07-11T15:42:37Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "1998-07-11T15:42:37Z"}, "message": "pt.c (push_template_decl_real): Don't look at DECL_TEMPLATE_INFO for TYPE_DECLs.\n\n\t* pt.c (push_template_decl_real): Don't look at DECL_TEMPLATE_INFO\n\tfor TYPE_DECLs.\n\nFrom-SVN: r21061", "tree": {"sha": "aae8d537b4a6f1a9a199b8b6b065c8888b6231fa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aae8d537b4a6f1a9a199b8b6b065c8888b6231fa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7/comments", "author": null, "committer": null, "parents": [{"sha": "71523737008c14d3e6e0227ed6db74741868d0f0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/71523737008c14d3e6e0227ed6db74741868d0f0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/71523737008c14d3e6e0227ed6db74741868d0f0"}], "stats": {"total": 19, "additions": 17, "deletions": 2}, "files": [{"sha": "eac51c99adfeda0723f35fa37ad82f63439284be", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=6b9ab5cc45bfc38ce768e9c472cad34e81c857f7", "patch": "@@ -1,3 +1,8 @@\n+1998-07-11  Mark Mitchell  <mark@markmitchell.com>\n+\n+\t* pt.c (push_template_decl_real): Don't look at DECL_TEMPLATE_INFO\n+\tfor TYPE_DECLs.\n+\n 1998-07-08  Vladimir N. Makarov  <vmakarov@cygnus.com>\n \n \t* cp-tree.h (warn_long_long): Define."}, {"sha": "42caf4654d6f98b92d721713e24e3d8a786b1c05", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/6b9ab5cc45bfc38ce768e9c472cad34e81c857f7/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=6b9ab5cc45bfc38ce768e9c472cad34e81c857f7", "patch": "@@ -1808,8 +1808,18 @@ push_template_decl_real (decl, is_friend)\n       if (CLASSTYPE_TEMPLATE_INSTANTIATION (ctx))\n \tcp_error (\"must specialize `%#T' before defining member `%#D'\",\n \t\t  ctx, decl);\n-      if (TREE_CODE (decl) == TYPE_DECL && DECL_ARTIFICIAL (decl))\n-\ttmpl = CLASSTYPE_TI_TEMPLATE (TREE_TYPE (decl));\n+      if (TREE_CODE (decl) == TYPE_DECL)\n+\t{\n+\t  if (IS_AGGR_TYPE_CODE (TREE_CODE (TREE_TYPE (decl)))\n+\t      && CLASSTYPE_TEMPLATE_INFO (TREE_TYPE (decl))\n+\t      && CLASSTYPE_TI_TEMPLATE (TREE_TYPE (decl)))\n+\t    tmpl = CLASSTYPE_TI_TEMPLATE (TREE_TYPE (decl));\n+\t  else\n+\t    {\n+\t      cp_error (\"`%D' does not declare a template type\", decl);\n+\t      return decl;\n+\t    }\n+\t}\n       else if (! DECL_TEMPLATE_INFO (decl))\n \t{\n \t  cp_error (\"template definition of non-template `%#D'\", decl);"}]}