{"sha": "b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjY0YzNkMDY5NmM1NzJiN2ZjMjFmZWNmZDc4YjlhYWFkZjJiNDg5Mg==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-02T00:45:59Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2015-10-02T00:45:59Z"}, "message": "re PR fortran/67616 (ICE on data initialization of type variable in block)\n\n2015-10-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/67616\n\t* primary.c (gfc_match_structure_constructor): Use a possibly\n\thost-associated symtree to prevent ICE.\n\n2015-10-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n\n\tPR fortran/67616\n\t* gfortran.dg/pr67616.f90: New test.\n\nFrom-SVN: r228363", "tree": {"sha": "61b8c947e7c94b277a73d232f1a5492ce631f9b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61b8c947e7c94b277a73d232f1a5492ce631f9b4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/comments", "author": null, "committer": null, "parents": [{"sha": "88a2711ce9ff0e36411268fdad7d4df5e55a7f87", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/88a2711ce9ff0e36411268fdad7d4df5e55a7f87", "html_url": "https://github.com/Rust-GCC/gccrs/commit/88a2711ce9ff0e36411268fdad7d4df5e55a7f87"}], "stats": {"total": 26, "additions": 25, "deletions": 1}, "files": [{"sha": "2a306e55f69a1031e61d8048bfd3205bf78f2681", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "patch": "@@ -1,3 +1,9 @@\n+2015-10-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/67616\n+\t* primary.c (gfc_match_structure_constructor): Use a possibly\n+\thost-associated symtree to prevent ICE.\n+\n 2015-09-28  Paul Thomas  <pault@gcc.gnu.org>\n \n \tPR fortran/40054"}, {"sha": "9f75666becfe8a6963024e2d78e1e7884e565337", "filename": "gcc/fortran/primary.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ffortran%2Fprimary.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ffortran%2Fprimary.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fprimary.c?ref=b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "patch": "@@ -2697,7 +2697,7 @@ gfc_match_structure_constructor (gfc_symbol *sym, gfc_expr **result)\n   gfc_expr *e;\n   gfc_symtree *symtree;\n \n-  gfc_get_sym_tree (sym->name, NULL, &symtree, false);   /* Can't fail */\n+  gfc_get_ha_sym_tree (sym->name, &symtree);\n \n   e = gfc_get_expr ();\n   e->symtree = symtree;"}, {"sha": "bf9b3e406f2d3e894eb7d9c24e1ecebda896ea1b", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "patch": "@@ -1,3 +1,8 @@\n+2015-10-01  Steven G. Kargl  <kargl@gcc.gnu.org>\n+\n+\tPR fortran/67616\n+\t* gfortran.dg/pr67616.f90: New test.\n+\n 2015-10-01  Ville Voutilainen  <ville.voutilainen@gmail.com>\n \n \tPR c++/54430"}, {"sha": "3c2107d175ced1f213fff6c577002868b69d674a", "filename": "gcc/testsuite/gfortran.dg/pr67616.f90", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67616.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b64c3d0696c572b7fc21fecfd78b9aaadf2b4892/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67616.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr67616.f90?ref=b64c3d0696c572b7fc21fecfd78b9aaadf2b4892", "patch": "@@ -0,0 +1,13 @@\n+! { dg-do compile }\n+! PR fortran/67616\n+! Original code contributed by Gerhard Steinmetz \n+program p\n+   type t\n+   end type\n+   type(t) :: y\n+   data y /t()/\n+   block\n+      type(t) :: x\n+      data x /t()/      ! Prior to patch, this would ICE.\n+   end block\n+end"}]}