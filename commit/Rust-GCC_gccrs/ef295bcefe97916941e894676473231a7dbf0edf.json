{"sha": "ef295bcefe97916941e894676473231a7dbf0edf", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWYyOTViY2VmZTk3OTE2OTQxZTg5NDY3NjQ3MzIzMWE3ZGJmMGVkZg==", "commit": {"author": {"name": "Jeff Law", "email": "law@redhat.com", "date": "2015-09-29T16:56:04Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2015-09-29T16:56:04Z"}, "message": "[PATCH] Fix warnings building pdp11 port\n\n\t* config/pdp11/pdp11.c (pdp11_branch_cost): New function.\n\t* config/pdp11/pdp11.h (BRANCH_COST): Call function rather than\n\tinline macro expansion.\n\nFrom-SVN: r228259", "tree": {"sha": "63aafc91f2eddb4d6eebae2829cef7b143ab91d6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/63aafc91f2eddb4d6eebae2829cef7b143ab91d6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ef295bcefe97916941e894676473231a7dbf0edf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef295bcefe97916941e894676473231a7dbf0edf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ef295bcefe97916941e894676473231a7dbf0edf", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ef295bcefe97916941e894676473231a7dbf0edf/comments", "author": null, "committer": null, "parents": [{"sha": "7bf92e50dee72a5e3073992e788ad80f002b858a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bf92e50dee72a5e3073992e788ad80f002b858a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bf92e50dee72a5e3073992e788ad80f002b858a"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "13e930a05ced310ecbf0feb2e941dd3cedb2a526", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ef295bcefe97916941e894676473231a7dbf0edf", "patch": "@@ -1,5 +1,9 @@\n 2015-09-29  Jeff Law  <law@redhat.com>\n \n+\t* config/pdp11/pdp11.c (pdp11_branch_cost): New function.\n+\t* config/pdp11/pdp11.h (BRANCH_COST): Call function rather than\n+\tinline macro expansion.\n+\n \t* config/i386/t-interix (winnt-stubs.o): Fix compilation rule.\n \n \t* config/sh/sh.c (gen_shl_and): Fix undefined left shift"}, {"sha": "aca3d828e0bc38c24b9c69dcb9208dc4c4745036", "filename": "gcc/config/pdp11/pdp11-protos.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2Fconfig%2Fpdp11%2Fpdp11-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2Fconfig%2Fpdp11%2Fpdp11-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11-protos.h?ref=ef295bcefe97916941e894676473231a7dbf0edf", "patch": "@@ -47,3 +47,4 @@ extern void output_ascii (FILE *, const char *, int);\n extern void pdp11_asm_output_var (FILE *, const char *, int, int, bool);\n extern void pdp11_expand_prologue (void);\n extern void pdp11_expand_epilogue (void);\n+extern int pdp11_branch_cost (void);"}, {"sha": "8eb37c64a25bdac94234a3bdab5d0e32f51c0315", "filename": "gcc/config/pdp11/pdp11.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2Fconfig%2Fpdp11%2Fpdp11.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.c?ref=ef295bcefe97916941e894676473231a7dbf0edf", "patch": "@@ -1933,4 +1933,10 @@ pdp11_scalar_mode_supported_p (machine_mode mode)\n   return default_scalar_mode_supported_p (mode);\n }\n \n+int\n+pdp11_branch_cost ()\n+{\n+  return (TARGET_BRANCH_CHEAP ? 0 : 1);\n+}\n+\n struct gcc_target targetm = TARGET_INITIALIZER;"}, {"sha": "8339f1c8dc917b3517694131c64c94b7b5623e67", "filename": "gcc/config/pdp11/pdp11.h", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2Fconfig%2Fpdp11%2Fpdp11.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ef295bcefe97916941e894676473231a7dbf0edf/gcc%2Fconfig%2Fpdp11%2Fpdp11.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpdp11%2Fpdp11.h?ref=ef295bcefe97916941e894676473231a7dbf0edf", "patch": "@@ -660,8 +660,7 @@ extern rtx cc0_reg_rtx;\n /* there is no point in avoiding branches on a pdp, \n    since branches are really cheap - I just want to find out\n    how much difference the BRANCH_COST macro makes in code */\n-#define BRANCH_COST(speed_p, predictable_p) (TARGET_BRANCH_CHEAP ? 0 : 1)\n-\n+#define BRANCH_COST(speed_p, predictable_p) pdp11_branch_cost ()\n \n #define COMPARE_FLAG_MODE HImode\n "}]}