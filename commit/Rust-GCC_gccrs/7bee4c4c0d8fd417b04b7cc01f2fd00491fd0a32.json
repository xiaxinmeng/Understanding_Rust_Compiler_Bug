{"sha": "7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2JlZTRjNGMwZDhmZDQxN2IwNGI3Y2MwMWYyZmQwMDQ5MWZkMGEzMg==", "commit": {"author": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2000-01-22T21:15:58Z"}, "committer": {"name": "Anthony Green", "email": "green@gcc.gnu.org", "date": "2000-01-22T21:15:58Z"}, "message": "config.h.in: Rebuilt.\n\n\t* include/config.h.in: Rebuilt.\n\t* acconfig.h: Add undef for __NO_MATH_INLINES.\n\t* configure: Rebuilt.\n\t* configure.in: Add test for `g++ -O2 -ffloat-store' bug.\n\nFrom-SVN: r31566", "tree": {"sha": "e0328abef61471b26aa18eeb003790121af2a0bc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e0328abef61471b26aa18eeb003790121af2a0bc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/comments", "author": null, "committer": null, "parents": [{"sha": "7bea4e7a3a87fb27f25c396ad68b080db69bf74a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bea4e7a3a87fb27f25c396ad68b080db69bf74a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bea4e7a3a87fb27f25c396ad68b080db69bf74a"}], "stats": {"total": 140, "additions": 92, "deletions": 48}, "files": [{"sha": "8a739831eb3dd272c6978ff015c93a3c6d83b4df", "filename": "libjava/acconfig.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Facconfig.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Facconfig.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Facconfig.h?ref=7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "patch": "@@ -131,3 +131,6 @@\n \n /* Define if libltdl is in use.  */\n #undef USE_LTDL\n+\n+/* Define if g++ has a bug preventing us from inlining math routines.  */\n+#undef __NO_MATH_INLINES"}, {"sha": "b015a69ca07c133023f4cfc730d3b72bb06c7c4b", "filename": "libjava/configure", "status": "modified", "additions": 76, "deletions": 48, "changes": 124, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "patch": "@@ -4338,21 +4338,49 @@ echo \"$ac_t\"\"$use_fuse\" 1>&6\n \n \n \n+echo $ac_n \"checking for g++ -ffloat-store bug\"\"... $ac_c\" 1>&6\n+echo \"configure:4343: checking for g++ -ffloat-store bug\" >&5\n+save_CFLAGS=\"$CFLAGS\"\n+CFLAGS=\"-x c++ -O2 -ffloat-store\"\n+cat > conftest.$ac_ext <<EOF\n+#line 4347 \"configure\"\n+#include \"confdefs.h\"\n+#include <math.h>\n+int main() {\n+\n+; return 0; }\n+EOF\n+if { (eval echo configure:4354: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  echo \"$ac_t\"\"no\" 1>&6\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  cat >> confdefs.h <<\\EOF\n+#define __NO_MATH_INLINES 1\n+EOF\n+\n+   echo \"$ac_t\"\"yes\" 1>&6\n+fi\n+rm -f conftest*\n+CFLAGS=\"$save_CFLAGS\"\n+\n for ac_hdr in unistd.h bstring.h sys/time.h sys/types.h fcntl.h sys/ioctl.h sys/filio.h sys/stat.h sys/select.h sys/socket.h netinet/in.h arpa/inet.h netdb.h pwd.h sys/config.h inttypes.h stdint.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:4346: checking for $ac_hdr\" >&5\n+echo \"configure:4374: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4351 \"configure\"\n+#line 4379 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4356: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4384: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4382,17 +4410,17 @@ for ac_hdr in dirent.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:4386: checking for $ac_hdr\" >&5\n+echo \"configure:4414: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4391 \"configure\"\n+#line 4419 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4396: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4424: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4420,20 +4448,20 @@ done\n \n \n echo $ac_n \"checking for ANSI C header files\"\"... $ac_c\" 1>&6\n-echo \"configure:4424: checking for ANSI C header files\" >&5\n+echo \"configure:4452: checking for ANSI C header files\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_stdc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4429 \"configure\"\n+#line 4457 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <stdarg.h>\n #include <string.h>\n #include <float.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4437: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:4465: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4450,7 +4478,7 @@ rm -f conftest*\n if test $ac_cv_header_stdc = yes; then\n   # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 4454 \"configure\"\n+#line 4482 \"configure\"\n #include \"confdefs.h\"\n #include <string.h>\n EOF\n@@ -4468,7 +4496,7 @@ fi\n if test $ac_cv_header_stdc = yes; then\n   # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n cat > conftest.$ac_ext <<EOF\n-#line 4472 \"configure\"\n+#line 4500 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n EOF\n@@ -4489,7 +4517,7 @@ if test \"$cross_compiling\" = yes; then\n   :\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4493 \"configure\"\n+#line 4521 \"configure\"\n #include \"confdefs.h\"\n #include <ctype.h>\n #define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n@@ -4500,7 +4528,7 @@ if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);\n exit (0); }\n \n EOF\n-if { (eval echo configure:4504: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4532: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   :\n else\n@@ -4524,12 +4552,12 @@ EOF\n fi\n \n echo $ac_n \"checking for ssize_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4528: checking for ssize_t\" >&5\n+echo \"configure:4556: checking for ssize_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_ssize_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4533 \"configure\"\n+#line 4561 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4558,9 +4586,9 @@ fi\n \n \n echo $ac_n \"checking for in_addr_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4562: checking for in_addr_t\" >&5\n+echo \"configure:4590: checking for in_addr_t\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4564 \"configure\"\n+#line 4592 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4574,7 +4602,7 @@ int main() {\n in_addr_t foo;\n ; return 0; }\n EOF\n-if { (eval echo configure:4578: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4606: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_IN_ADDR_T 1\n@@ -4590,16 +4618,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct ip_mreq is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4594: checking whether struct ip_mreq is in netinet/in.h\" >&5\n+echo \"configure:4622: checking whether struct ip_mreq is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4596 \"configure\"\n+#line 4624 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct ip_mreq mreq;\n ; return 0; }\n EOF\n-if { (eval echo configure:4603: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4631: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_STRUCT_IP_MREQ 1\n@@ -4615,16 +4643,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking whether struct sockaddr_in6 is in netinet/in.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4619: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n+echo \"configure:4647: checking whether struct sockaddr_in6 is in netinet/in.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4621 \"configure\"\n+#line 4649 \"configure\"\n #include \"confdefs.h\"\n #include <netinet/in.h>\n int main() {\n struct sockaddr_in6 addr6;\n ; return 0; }\n EOF\n-if { (eval echo configure:4628: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4656: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_INET6 1\n@@ -4640,16 +4668,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for socklen_t in sys/socket.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4644: checking for socklen_t in sys/socket.h\" >&5\n+echo \"configure:4672: checking for socklen_t in sys/socket.h\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4646 \"configure\"\n+#line 4674 \"configure\"\n #include \"confdefs.h\"\n #include <sys/socket.h>\n int main() {\n socklen_t x = 5;\n ; return 0; }\n EOF\n-if { (eval echo configure:4653: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4681: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_SOCKLEN_T 1\n@@ -4665,16 +4693,16 @@ fi\n rm -f conftest*\n \n echo $ac_n \"checking for tm_gmtoff in struct tm\"\"... $ac_c\" 1>&6\n-echo \"configure:4669: checking for tm_gmtoff in struct tm\" >&5\n+echo \"configure:4697: checking for tm_gmtoff in struct tm\" >&5\n cat > conftest.$ac_ext <<EOF\n-#line 4671 \"configure\"\n+#line 4699 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n struct tm tim; tim.tm_gmtoff = 0;\n ; return 0; }\n EOF\n-if { (eval echo configure:4678: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4706: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define STRUCT_TM_HAS_GMTOFF 1\n@@ -4687,16 +4715,16 @@ else\n   rm -rf conftest*\n   echo \"$ac_t\"\"no\" 1>&6\n    echo $ac_n \"checking for global timezone variable\"\"... $ac_c\" 1>&6\n-echo \"configure:4691: checking for global timezone variable\" >&5\n+echo \"configure:4719: checking for global timezone variable\" >&5\n             cat > conftest.$ac_ext <<EOF\n-#line 4693 \"configure\"\n+#line 4721 \"configure\"\n #include \"confdefs.h\"\n #include <time.h>\n int main() {\n long z2 = timezone;\n ; return 0; }\n EOF\n-if { (eval echo configure:4700: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4728: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   cat >> confdefs.h <<\\EOF\n #define HAVE_TIMEZONE 1\n@@ -4716,19 +4744,19 @@ rm -f conftest*\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:4720: checking for working alloca.h\" >&5\n+echo \"configure:4748: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4725 \"configure\"\n+#line 4753 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:4732: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4760: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -4749,12 +4777,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:4753: checking for alloca\" >&5\n+echo \"configure:4781: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4758 \"configure\"\n+#line 4786 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -4782,7 +4810,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:4786: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4814: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -4814,12 +4842,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:4818: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:4846: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4823 \"configure\"\n+#line 4851 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -4844,12 +4872,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4848: checking for $ac_func\" >&5\n+echo \"configure:4876: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4853 \"configure\"\n+#line 4881 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4872,7 +4900,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4876: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4904: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -4899,15 +4927,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:4903: checking stack direction for C alloca\" >&5\n+echo \"configure:4931: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4911 \"configure\"\n+#line 4939 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -4926,7 +4954,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:4930: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:4958: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -4953,7 +4981,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:4957: checking for $ac_word\" >&5\n+echo \"configure:4985: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_PERL'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else"}, {"sha": "e8f17e87b81c239bf79691442549ee7cf0cc45e4", "filename": "libjava/configure.in", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.in?ref=7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "patch": "@@ -624,6 +624,16 @@ AC_MSG_RESULT($use_fuse)\n \n AC_SUBST(AM_RUNTESTFLAGS)\n \n+dnl Work around a g++ bug.  Reported to gcc-bugs@gcc.gnu.org on Jan 22, 2000.\n+AC_MSG_CHECKING([for g++ -ffloat-store bug])\n+save_CFLAGS=\"$CFLAGS\"\n+CFLAGS=\"-x c++ -O2 -ffloat-store\"\n+AC_TRY_COMPILE([#include <math.h>], , \n+  [AC_MSG_RESULT(no)],\n+  [AC_DEFINE(__NO_MATH_INLINES)\n+   AC_MSG_RESULT(yes)])\n+CFLAGS=\"$save_CFLAGS\"\n+\n dnl We check for sys/filio.h because Solaris 2.5 defines FIONREAD there.\n dnl On that system, sys/ioctl.h will not include sys/filio.h unless\n dnl BSD_COMP is defined; just including sys/filio.h is simpler."}, {"sha": "de926858e4ae1d7ad8085fc9f2071709408de5ff", "filename": "libjava/include/config.h.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Finclude%2Fconfig.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32/libjava%2Finclude%2Fconfig.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2Fconfig.h.in?ref=7bee4c4c0d8fd417b04b7cc01f2fd00491fd0a32", "patch": "@@ -149,6 +149,9 @@\n /* Define if libltdl is in use.  */\n #undef USE_LTDL\n \n+/* Define if g++ has a bug preventing us from inlining math routines.  */\n+#undef __NO_MATH_INLINES\n+\n /* Define if you have the access function.  */\n #undef HAVE_ACCESS\n "}]}