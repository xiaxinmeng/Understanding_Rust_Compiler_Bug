{"sha": "b22b7d462ee469da57e7c17ffbf0686076b7af65", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjIyYjdkNDYyZWU0NjlkYTU3ZTdjMTdmZmJmMDY4NjA3NmI3YWY2NQ==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2018-12-09T12:47:35Z"}, "committer": {"name": "Thomas Schwinge", "email": "tschwinge@gcc.gnu.org", "date": "2018-12-09T12:47:35Z"}, "message": "[PR88420] Fortran OpenACC \"Clause SEQ conflicts with INDEPENDENT\"\n\nThe Fortran front end declares that the OpenACC \"Clause SEQ conflicts with\nINDEPENDENT\".  While that combination doesn't make too much sense indeed, it's\nstill valid; these are orthogonal concepts.\n\n\tgcc/fortran/\n\tPR fortran/88420\n\t* openmp.c (resolve_oacc_loop_blocks): Remove \"Clause SEQ\n\tconflicts with INDEPENDENT\" diagnostic.\n\tgcc/testsuite/\n\tPR fortran/88420\n\t* gfortran.dg/goacc/loop-1-2.f95: Update.\n\t* gfortran.dg/goacc/loop-1.f95: Likewise.\n\nFrom-SVN: r266920", "tree": {"sha": "21d9601441ac0433e6c688e8ac9255343fdf307c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/21d9601441ac0433e6c688e8ac9255343fdf307c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b22b7d462ee469da57e7c17ffbf0686076b7af65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b22b7d462ee469da57e7c17ffbf0686076b7af65", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b22b7d462ee469da57e7c17ffbf0686076b7af65", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b22b7d462ee469da57e7c17ffbf0686076b7af65/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "84ca08d2d57034d6b5dfe818d7cdcef10316d902", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84ca08d2d57034d6b5dfe818d7cdcef10316d902", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84ca08d2d57034d6b5dfe818d7cdcef10316d902"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "ae1871ec7f8dd4d92ec68eb2f8b7766b2b9dd3b4", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b22b7d462ee469da57e7c17ffbf0686076b7af65", "patch": "@@ -1,3 +1,9 @@\n+2018-12-09  Thomas Schwinge  <thomas@codesourcery.com>\n+\n+\tPR fortran/88420\n+\t* openmp.c (resolve_oacc_loop_blocks): Remove \"Clause SEQ\n+\tconflicts with INDEPENDENT\" diagnostic.\n+\n 2018-12-08  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/88048"}, {"sha": "d97b8bfbb142a3fc205a984a404ddd1d1000f146", "filename": "gcc/fortran/openmp.c", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ffortran%2Fopenmp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ffortran%2Fopenmp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fopenmp.c?ref=b22b7d462ee469da57e7c17ffbf0686076b7af65", "patch": "@@ -5895,8 +5895,6 @@ resolve_oacc_loop_blocks (gfc_code *code)\n \n   if (code->ext.omp_clauses->seq)\n     {\n-      if (code->ext.omp_clauses->independent)\n-\tgfc_error (\"Clause SEQ conflicts with INDEPENDENT at %L\", &code->loc);\n       if (code->ext.omp_clauses->gang)\n \tgfc_error (\"Clause SEQ conflicts with GANG at %L\", &code->loc);\n       if (code->ext.omp_clauses->worker)"}, {"sha": "5656259cbbad32b795e9fa4f604c37d519f0e7e4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b22b7d462ee469da57e7c17ffbf0686076b7af65", "patch": "@@ -1,3 +1,9 @@\n+2018-12-09  Thomas Schwinge  <thomas@codesourcery.com>\n+\n+\tPR fortran/88420\n+\t* gfortran.dg/goacc/loop-1-2.f95: Update.\n+\t* gfortran.dg/goacc/loop-1.f95: Likewise.\n+\n 2018-12-08  Steven G. Kargl  <kargl@gcc.gnu.org>\n \n \tPR fortran/88048"}, {"sha": "e048205d2c3892b5b13a178ddd1c8d7d87754b50", "filename": "gcc/testsuite/gfortran.dg/goacc/loop-1-2.f95", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Floop-1-2.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Floop-1-2.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Floop-1-2.f95?ref=b22b7d462ee469da57e7c17ffbf0686076b7af65", "patch": "@@ -152,8 +152,7 @@ subroutine test1\n         ! { dg-error \"ACC LOOP iteration variable must be of type integer\" \"\" { target *-*-* } 150 }\n     end do\n \n-    ! Both seq and independent are not allowed\n-  !$acc loop independent seq ! { dg-error \"SEQ conflicts with INDEPENDENT\" }\n+  !$acc loop independent seq\n   do i = 1,10\n   enddo\n "}, {"sha": "776fa482af3cb59ba3d5f28f475111a28edadb23", "filename": "gcc/testsuite/gfortran.dg/goacc/loop-1.f95", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Floop-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b22b7d462ee469da57e7c17ffbf0686076b7af65/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Floop-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Floop-1.f95?ref=b22b7d462ee469da57e7c17ffbf0686076b7af65", "patch": "@@ -152,8 +152,7 @@ subroutine test1\n         ! { dg-error \"ACC LOOP iteration variable must be of type integer\" \"\" { target *-*-* } 150 }\n     end do\n \n-    ! Both seq and independent are not allowed\n-  !$acc loop independent seq ! { dg-error \"SEQ conflicts with INDEPENDENT\" }\n+  !$acc loop independent seq\n   do i = 1,10\n   enddo\n "}]}