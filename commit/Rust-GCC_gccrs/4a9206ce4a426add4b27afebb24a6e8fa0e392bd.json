{"sha": "4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGE5MjA2Y2U0YTQyNmFkZDRiMjdhZmViYjI0YTZlOGZhMGUzOTJiZA==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-06-28T21:50:06Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2011-06-28T21:50:06Z"}, "message": "* tree-ssa-dom.c (initialize_hash_element): Fix oversight.\n\nFrom-SVN: r175600", "tree": {"sha": "17e20fbbba5886cc04e4327c1d37aca5f8a4d67e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/17e20fbbba5886cc04e4327c1d37aca5f8a4d67e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/comments", "author": null, "committer": null, "parents": [{"sha": "dac9ad16eae71bd1ca65845555f56f5cf46caadf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dac9ad16eae71bd1ca65845555f56f5cf46caadf", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dac9ad16eae71bd1ca65845555f56f5cf46caadf"}], "stats": {"total": 44, "additions": 37, "deletions": 7}, "files": [{"sha": "588a0b586eb45a72540e592abee2c8dabdeab217", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 7, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "patch": "@@ -1,3 +1,7 @@\n+2011-06-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* tree-ssa-dom.c (initialize_hash_element): Fix oversight.\n+\n 2011-06-28  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>\n \n \t* config/sparc/sol2-64.h (TARGET_DEFAULT): Remove.\n@@ -122,8 +126,8 @@\n \n 2011-06-27  Jan Hubicka  <jh@suse.cz>\n \n-\t* ipa.c (cgraph_address_taken_from_non_vtable_p): Walk references of node\n-\tinstead of references in node.\n+\t* ipa.c (cgraph_address_taken_from_non_vtable_p): Walk references of\n+\tnode instead of references in node.\n \n 2011-06-27  Richard Henderson  <rth@redhat.com>\n \n@@ -359,13 +363,14 @@\n \tPR tree-optimize/49373\n \t* tree-pass.h (all_late_ipa_passes): Declare.\n \t* cgraphunit.c (init_lowered_empty_function): Fix properties.\n-\t(cgraph_optimize): Execute late passes; remove unreachable funcions after\n-\tmaterialization.\n-\t* ipa-inline.c (gate_ipa_inline): Enable only when optimizing or LTOing.\n+\t(cgraph_optimize): Execute late passes; remove unreachable funcions\n+\tafter materialization.\n+\t* ipa-inline.c (gate_ipa_inline): Enable only when optimizing or\n+\tLTOing.\n \t* passes.c (all_late_ipa_passes): Declare.\n \t(dump_passes, register_pass): Handle late ipa passes.\n-\t(init_optimization_passes): Move ipa_pta to late passes; schedule fixup_cfg\n-\tat beggining of all_passes.\n+\t(init_optimization_passes): Move ipa_pta to late passes; schedule\n+\tfixup_cfg at beggining of all_passes.\n \t(apply_ipa_transforms): New function.\n \t(execute_one_pass): When doing simple ipa pass, apply all transforms.\n "}, {"sha": "46419f307fd1653ac3a11e24aab80060a0bf3a49", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "patch": "@@ -1,3 +1,7 @@\n+2011-06-28  Eric Botcazou  <ebotcazou@adacore.com>\n+\n+\t* gnat.dg/opt17.ad[sb]: New test.\n+\n 2011-06-28  Janis Johnson  <janisjo@codesourcery.com>\n \t    Tom de Vries  <tom@codesourcery.com>\n "}, {"sha": "361f7607b883d3b55bcec75370190d8b8f9d95a1", "filename": "gcc/testsuite/gnat.dg/opt17.adb", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftestsuite%2Fgnat.dg%2Fopt17.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftestsuite%2Fgnat.dg%2Fopt17.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt17.adb?ref=4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "patch": "@@ -0,0 +1,13 @@\n+-- { dg-do compile }\n+-- { dg-options \"-O\" }\n+\n+package body Opt17 is\n+\n+  function Func return S is\n+    V : String (1 .. 6);\n+  begin\n+    V (1 .. 3) := \"ABC\";\n+    return V (1 .. 5);\n+  end;\n+\n+end Opt17;"}, {"sha": "601c2f201c8d462d35056e2f3067fc6e332d8e5b", "filename": "gcc/testsuite/gnat.dg/opt17.ads", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftestsuite%2Fgnat.dg%2Fopt17.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftestsuite%2Fgnat.dg%2Fopt17.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgnat.dg%2Fopt17.ads?ref=4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "patch": "@@ -0,0 +1,7 @@\n+package Opt17 is\n+\n+  subtype S is String (1 .. 5);\n+\n+  function Func return S;\n+\n+end Opt17;"}, {"sha": "bbfe0bc8338ce4a3e7caeff16272d6750a5380f2", "filename": "gcc/tree-ssa-dom.c", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftree-ssa-dom.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4a9206ce4a426add4b27afebb24a6e8fa0e392bd/gcc%2Ftree-ssa-dom.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-dom.c?ref=4a9206ce4a426add4b27afebb24a6e8fa0e392bd", "patch": "@@ -214,6 +214,7 @@ initialize_hash_element (gimple stmt, tree lhs,\n         {\n         case GIMPLE_SINGLE_RHS:\n \t  expr->kind = EXPR_SINGLE;\n+\t  expr->type = TREE_TYPE (gimple_assign_lhs (stmt));\n \t  expr->ops.single.rhs = gimple_assign_rhs1 (stmt);\n \t  break;\n         case GIMPLE_UNARY_RHS:"}]}