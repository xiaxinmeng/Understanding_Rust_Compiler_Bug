{"sha": "afcd8a020f2737574abea7d3971656621bde559c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZjZDhhMDIwZjI3Mzc1NzRhYmVhN2QzOTcxNjU2NjIxYmRlNTU5Yw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T21:19:37Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1993-03-02T21:19:37Z"}, "message": "(main): Truncate programname to what is after last slash.\n\nFrom-SVN: r3612", "tree": {"sha": "1bd8e10dd8aea123b6819f3c84d257179b1fd629", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1bd8e10dd8aea123b6819f3c84d257179b1fd629"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afcd8a020f2737574abea7d3971656621bde559c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afcd8a020f2737574abea7d3971656621bde559c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afcd8a020f2737574abea7d3971656621bde559c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afcd8a020f2737574abea7d3971656621bde559c/comments", "author": null, "committer": null, "parents": [{"sha": "6d34466a6ad3c6ef932e6ea6bddbb7057003810a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d34466a6ad3c6ef932e6ea6bddbb7057003810a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d34466a6ad3c6ef932e6ea6bddbb7057003810a"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "61895212941e7b6c14822e9828c5442b8320860a", "filename": "gcc/gcc.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afcd8a020f2737574abea7d3971656621bde559c/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afcd8a020f2737574abea7d3971656621bde559c/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=afcd8a020f2737574abea7d3971656621bde559c", "patch": "@@ -3373,8 +3373,11 @@ main (argc, argv)\n   int linker_was_run = 0;\n   char *explicit_link_files;\n   char *specs_file;\n+  char *p;\n \n-  programname = argv[0];\n+  p = argv[0] + strlen (argv[0]);\n+  while (p != argv[0] && p[-1] != '/') --p;\n+  programname = p;\n \n   if (signal (SIGINT, SIG_IGN) != SIG_IGN)\n     signal (SIGINT, fatal_error);"}]}