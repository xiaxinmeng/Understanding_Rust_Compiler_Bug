{"sha": "8e958f701f160e5eb907f84842ade7696ec4a7de", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGU5NThmNzAxZjE2MGU1ZWI5MDdmODQ4NDJhZGU3Njk2ZWM0YTdkZQ==", "commit": {"author": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-04-23T20:01:58Z"}, "committer": {"name": "Per Bothner", "email": "bothner@gcc.gnu.org", "date": "1996-04-23T20:01:58Z"}, "message": "* expr.c (store_constructor):  Fix test for missing array elements.\n\nFrom-SVN: r11869", "tree": {"sha": "bdb71e81003fd9d44a1ea1e9e75baa09a421101c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bdb71e81003fd9d44a1ea1e9e75baa09a421101c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e958f701f160e5eb907f84842ade7696ec4a7de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e958f701f160e5eb907f84842ade7696ec4a7de", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e958f701f160e5eb907f84842ade7696ec4a7de", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e958f701f160e5eb907f84842ade7696ec4a7de/comments", "author": null, "committer": null, "parents": [{"sha": "8b8821d52dc73c3f4a8e8d09fed95ff2037156a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8b8821d52dc73c3f4a8e8d09fed95ff2037156a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8b8821d52dc73c3f4a8e8d09fed95ff2037156a8"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "278cfb36af4de1e39f103498f87d2b5dd7abbdcd", "filename": "gcc/expr.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e958f701f160e5eb907f84842ade7696ec4a7de/gcc%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e958f701f160e5eb907f84842ade7696ec4a7de/gcc%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexpr.c?ref=8e958f701f160e5eb907f84842ade7696ec4a7de", "patch": "@@ -3488,7 +3488,10 @@ store_constructor (exp, target, cleared)\n \t      if (mostly_zeros_p (TREE_VALUE (elt)))\n \t\tzero_count += this_node_count;\n \t    }\n-\t  if (4 * zero_count >= 3 * count)\n+\t  /* Clear the entire array first if there are any missing elements,\n+\t     or if the incidence of zero elements is >= 75%. */\n+\t  if (count < maxelt - minelt + 1\n+\t      || 4 * zero_count >= 3 * count)\n \t    need_to_clear = 1;\n \t}\n       if (need_to_clear)"}]}