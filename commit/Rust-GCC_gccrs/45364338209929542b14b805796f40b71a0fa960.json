{"sha": "45364338209929542b14b805796f40b71a0fa960", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDUzNjQzMzgyMDk5Mjk1NDJiMTRiODA1Nzk2ZjQwYjcxYTBmYTk2MA==", "commit": {"author": {"name": "Jonathan Wright", "email": "jonathan.wright@arm.com", "date": "2021-05-18T14:56:53Z"}, "committer": {"name": "Jonathan Wright", "email": "jonathan.wright@arm.com", "date": "2021-05-19T13:45:31Z"}, "message": "aarch64: Use correct type attributes for RTL generating XTN(2)\n\nUse the correct \"neon_move_narrow_q\" type attribute in RTL patterns\nthat generate XTN/XTN2 instructions.\n\nThis makes a material difference because these instructions can be\nexecuted on both SIMD pipes in the Cortex-A57 core model, whereas the\n\"neon_shift_imm_narrow_q\" attribute (in use until now) would suggest\nto the scheduler that they could only execute on one of the two\npipes.\n\ngcc/ChangeLog:\n\n2021-05-18  Jonathan Wright  <jonathan.wright@arm.com>\n\n\t* config/aarch64/aarch64-simd.md: Use \"neon_move_narrow_q\"\n\ttype attribute in patterns generating XTN(2).", "tree": {"sha": "2c1179e0a2b2c8eacee8ecec13d4af6726f3428d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2c1179e0a2b2c8eacee8ecec13d4af6726f3428d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/45364338209929542b14b805796f40b71a0fa960", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45364338209929542b14b805796f40b71a0fa960", "html_url": "https://github.com/Rust-GCC/gccrs/commit/45364338209929542b14b805796f40b71a0fa960", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/45364338209929542b14b805796f40b71a0fa960/comments", "author": {"login": "jwright-arm", "id": 31624044, "node_id": "MDQ6VXNlcjMxNjI0MDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/31624044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwright-arm", "html_url": "https://github.com/jwright-arm", "followers_url": "https://api.github.com/users/jwright-arm/followers", "following_url": "https://api.github.com/users/jwright-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jwright-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwright-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwright-arm/subscriptions", "organizations_url": "https://api.github.com/users/jwright-arm/orgs", "repos_url": "https://api.github.com/users/jwright-arm/repos", "events_url": "https://api.github.com/users/jwright-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jwright-arm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwright-arm", "id": 31624044, "node_id": "MDQ6VXNlcjMxNjI0MDQ0", "avatar_url": "https://avatars.githubusercontent.com/u/31624044?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwright-arm", "html_url": "https://github.com/jwright-arm", "followers_url": "https://api.github.com/users/jwright-arm/followers", "following_url": "https://api.github.com/users/jwright-arm/following{/other_user}", "gists_url": "https://api.github.com/users/jwright-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwright-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwright-arm/subscriptions", "organizations_url": "https://api.github.com/users/jwright-arm/orgs", "repos_url": "https://api.github.com/users/jwright-arm/repos", "events_url": "https://api.github.com/users/jwright-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/jwright-arm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "577d5819e0cada818aca975752809d55ccecc6e8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/577d5819e0cada818aca975752809d55ccecc6e8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/577d5819e0cada818aca975752809d55ccecc6e8"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "e750faed1dbd940cdfa216d858b98f3bc25bba42", "filename": "gcc/config/aarch64/aarch64-simd.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/45364338209929542b14b805796f40b71a0fa960/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/45364338209929542b14b805796f40b71a0fa960/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64-simd.md?ref=45364338209929542b14b805796f40b71a0fa960", "patch": "@@ -1697,7 +1697,7 @@\n \t(truncate:<VNARROWQ> (match_operand:VQN 1 \"register_operand\" \"w\")))]\n   \"TARGET_SIMD\"\n   \"xtn\\\\t%0.<Vntype>, %1.<Vtype>\"\n-  [(set_attr \"type\" \"neon_shift_imm_narrow_q\")]\n+  [(set_attr \"type\" \"neon_move_narrow_q\")]\n )\n \n (define_insn \"aarch64_xtn2<mode>_le\"\n@@ -1707,7 +1707,7 @@\n \t  (truncate:<VNARROWQ> (match_operand:VQN 2 \"register_operand\" \"w\"))))]\n   \"TARGET_SIMD && !BYTES_BIG_ENDIAN\"\n   \"xtn2\\t%0.<V2ntype>, %2.<Vtype>\"\n-  [(set_attr \"type\" \"neon_shift_imm_narrow_q\")]\n+  [(set_attr \"type\" \"neon_move_narrow_q\")]\n )\n \n (define_insn \"aarch64_xtn2<mode>_be\"\n@@ -1717,7 +1717,7 @@\n \t  (match_operand:<VNARROWQ> 1 \"register_operand\" \"0\")))]\n   \"TARGET_SIMD && BYTES_BIG_ENDIAN\"\n   \"xtn2\\t%0.<V2ntype>, %2.<Vtype>\"\n-  [(set_attr \"type\" \"neon_shift_imm_narrow_q\")]\n+  [(set_attr \"type\" \"neon_move_narrow_q\")]\n )\n \n (define_expand \"aarch64_xtn2<mode>\"\n@@ -8618,7 +8618,7 @@\n \t(truncate:<VNARROWQ> (match_operand:VQN 1 \"register_operand\" \"w\")))]\n   \"TARGET_SIMD\"\n   \"xtn\\t%0.<Vntype>, %1.<Vtype>\"\n-  [(set_attr \"type\" \"neon_shift_imm_narrow_q\")]\n+  [(set_attr \"type\" \"neon_move_narrow_q\")]\n )\n \n (define_insn \"aarch64_bfdot<mode>\""}]}