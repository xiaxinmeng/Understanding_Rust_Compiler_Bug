{"sha": "d1e0575fdc9216f96c4f88f9f41a25b854300c0b", "node_id": "C_kwDOANBUbNoAKGQxZTA1NzVmZGM5MjE2Zjk2YzRmODhmOWY0MWEyNWI4NTQzMDBjMGI", "commit": {"author": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2023-01-27T08:13:16Z"}, "committer": {"name": "Tobias Burnus", "email": "tobias@codesourcery.com", "date": "2023-01-27T08:19:51Z"}, "message": "gomp/declare-variant-1*.f90: Update for Windows\n\nReplace target selector 'lp64' by '! ilp32' to handle\nWindows which uses 32bit long (and vice versa for '! lp64').\n\ngcc/testsuite/ChangeLog:\n\n\t* gfortran.dg/gomp/declare-variant-10.f90: Update scan-tree's\n\ttarget selector to handle Windows.\n\t* gfortran.dg/gomp/declare-variant-11.f90: Likewise.\n\t* gfortran.dg/gomp/declare-variant-12.f90: Likewise.", "tree": {"sha": "b05d2c47461938fb69d0113263d949f4f98e9a6d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b05d2c47461938fb69d0113263d949f4f98e9a6d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d1e0575fdc9216f96c4f88f9f41a25b854300c0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1e0575fdc9216f96c4f88f9f41a25b854300c0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1e0575fdc9216f96c4f88f9f41a25b854300c0b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1e0575fdc9216f96c4f88f9f41a25b854300c0b/comments", "author": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tob2", "id": 264461, "node_id": "MDQ6VXNlcjI2NDQ2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/264461?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tob2", "html_url": "https://github.com/tob2", "followers_url": "https://api.github.com/users/tob2/followers", "following_url": "https://api.github.com/users/tob2/following{/other_user}", "gists_url": "https://api.github.com/users/tob2/gists{/gist_id}", "starred_url": "https://api.github.com/users/tob2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tob2/subscriptions", "organizations_url": "https://api.github.com/users/tob2/orgs", "repos_url": "https://api.github.com/users/tob2/repos", "events_url": "https://api.github.com/users/tob2/events{/privacy}", "received_events_url": "https://api.github.com/users/tob2/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "476efe839e069e556b4b03cf6ec8c18870867960", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/476efe839e069e556b4b03cf6ec8c18870867960", "html_url": "https://github.com/Rust-GCC/gccrs/commit/476efe839e069e556b4b03cf6ec8c18870867960"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "2f09146a10d2b6f1c0bab44cdbd29ee72250446e", "filename": "gcc/testsuite/gfortran.dg/gomp/declare-variant-10.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1e0575fdc9216f96c4f88f9f41a25b854300c0b/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-10.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1e0575fdc9216f96c4f88f9f41a25b854300c0b/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-10.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-10.f90?ref=d1e0575fdc9216f96c4f88f9f41a25b854300c0b", "patch": "@@ -69,8 +69,8 @@ subroutine test1 ()\n #endif\n   subroutine test2 ()\n     !$omp target\n-      call f04 ()\t! { dg-final { scan-tree-dump-times \"f03 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && lp64 } } } }\n-\t\t\t! { dg-final { scan-tree-dump-times \"f04 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { ! lp64 } || { ! { i?86-*-* x86_64-*-* } } } } } }\n+      call f04 () ! { dg-final { scan-tree-dump-times \"f03 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && { ! ilp32 } } } } }\n+                  ! { dg-final { scan-tree-dump-times \"f04 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { ilp32 } || { ! { i?86-*-* x86_64-*-* } } } } } }\n     !$omp end target\n     !$omp target\n       call f16 ()\t! { dg-final { scan-tree-dump-times \"f15 \\\\\\(\\\\\\);\" 1 \"gimple\" { target ia32 } } }"}, {"sha": "3593c9a5bb3016a8fd15771fc6d2879025e371e2", "filename": "gcc/testsuite/gfortran.dg/gomp/declare-variant-11.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1e0575fdc9216f96c4f88f9f41a25b854300c0b/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-11.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1e0575fdc9216f96c4f88f9f41a25b854300c0b/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-11.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-11.f90?ref=d1e0575fdc9216f96c4f88f9f41a25b854300c0b", "patch": "@@ -126,8 +126,8 @@ subroutine test1\n     end do\n     !$omp end parallel do\n \n-    call f27 ()\t! { dg-final { scan-tree-dump-times \"f25 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && lp64 } } } }\n-\t\t! { dg-final { scan-tree-dump-times \"f24 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && { ! lp64 } } } } }\n+    call f27 () ! { dg-final { scan-tree-dump-times \"f25 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && { ! ilp32 } } } } }\n+                ! { dg-final { scan-tree-dump-times \"f24 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && { ilp32 } } } } }\n \t\t! { dg-final { scan-tree-dump-times \"f24 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { ! { nvptx*-*-* amdgcn*-*-* i?86-*-* x86_64-*-* } } } } }\n \t\t! { dg-final { scan-tree-dump-times \"f27 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { nvptx*-*-* amdgcn*-*-* } } } }\n   end subroutine"}, {"sha": "2fd8abd0dc79adba1781509b6a192d41845d7c9c", "filename": "gcc/testsuite/gfortran.dg/gomp/declare-variant-12.f90", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d1e0575fdc9216f96c4f88f9f41a25b854300c0b/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-12.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d1e0575fdc9216f96c4f88f9f41a25b854300c0b/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-12.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgomp%2Fdeclare-variant-12.f90?ref=d1e0575fdc9216f96c4f88f9f41a25b854300c0b", "patch": "@@ -133,8 +133,8 @@ subroutine test1 ()\n     do i = 1, 2\n       !$omp parallel do\t! 5 constructs in OpenMP context, arch is 2^6, isa 2^7.\n       do j = 1, 2\n-\t  call f13 ()\t! { dg-final { scan-tree-dump-times \"f09 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && lp64 } } } }\n-\t\t\t! { dg-final { scan-tree-dump-times \"f11 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && { ! lp64 } } } } }\n+          call f13 ()   ! { dg-final { scan-tree-dump-times \"f09 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && { ! ilp32 } } } } }\n+                        ! { dg-final { scan-tree-dump-times \"f11 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { { i?86-*-* x86_64-*-* } && { ilp32 } } } } }\n \t\t\t! { dg-final { scan-tree-dump-times \"f10 \\\\\\(\\\\\\);\" 1 \"gimple\" { target { ! { i?86-*-* x86_64-*-* } } } } }\n \t  call f17 ()\t! { dg-final { scan-tree-dump-times \"f14 \\\\\\(\\\\\\);\" 1 \"gimple\" } }\n \t  call f21 ()\t! { dg-final { scan-tree-dump-times \"f19 \\\\\\(\\\\\\);\" 1 \"gimple\" } }"}]}