{"sha": "53c53f6dc8715875e50215077ff53612d08b3de2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTNjNTNmNmRjODcxNTg3NWU1MDIxNTA3N2ZmNTM2MTJkMDhiM2RlMg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-01-23T16:36:41Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-01-23T16:36:41Z"}, "message": "[multiple changes]\n\n2014-01-23  Robert Dewar  <dewar@adacore.com>\n\n\t* exp_util.adb, sinfo.adb, sinfo.ads, sem.adb, sem_res.adb,\n\texpander.adb, exp_ch11.adb, exp_ch11.ads, sem_ch11.adb, sem_ch11.ads,\n\tsprint.adb, sprint.ads: Remove unused node N_Subprogram_Info.\n\n2014-01-23  Emmanuel Briot  <briot@adacore.com>\n\n\t* prj-conf.adb (Get_Or_Create_Configuration_File): call\n\tOn_Load_Config later.\n\n2014-01-23  Hristian Kirtchev  <kirtchev@adacore.com>\n\n\t* sem_ch3.adb (Analyze_Declarations): Do not\n\tgenerate the spec of the late primitive in ASIS mode. Add two\n\tcomments to explain the special cases when the expansion is\n\tnot performed.\n\n2014-01-23  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_util.adb (Note_Possible_Modification): Fix error of\n\tmisbehaving for implicit dereference cases in -gnatc mode.\n\n2014-01-23  Emmanuel Briot  <briot@adacore.com>\n\n\t* prj-pars.adb: Minor reformatting.\n\nFrom-SVN: r206980", "tree": {"sha": "50378523b7bf6843de025ee2dc6af4cf8d7017c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/50378523b7bf6843de025ee2dc6af4cf8d7017c7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/53c53f6dc8715875e50215077ff53612d08b3de2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53c53f6dc8715875e50215077ff53612d08b3de2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/53c53f6dc8715875e50215077ff53612d08b3de2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/53c53f6dc8715875e50215077ff53612d08b3de2/comments", "author": null, "committer": null, "parents": [{"sha": "ea15e254ea970653f092da0993d99b15b1f2283b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea15e254ea970653f092da0993d99b15b1f2283b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea15e254ea970653f092da0993d99b15b1f2283b"}], "stats": {"total": 183, "additions": 79, "deletions": 104}, "files": [{"sha": "8c52ae99012966a9929302b4930dbc2775cd7bc5", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -1,3 +1,30 @@\n+2014-01-23  Robert Dewar  <dewar@adacore.com>\n+\n+\t* exp_util.adb, sinfo.adb, sinfo.ads, sem.adb, sem_res.adb,\n+\texpander.adb, exp_ch11.adb, exp_ch11.ads, sem_ch11.adb, sem_ch11.ads,\n+\tsprint.adb, sprint.ads: Remove unused node N_Subprogram_Info.\n+\n+2014-01-23  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* prj-conf.adb (Get_Or_Create_Configuration_File): call\n+\tOn_Load_Config later.\n+\n+2014-01-23  Hristian Kirtchev  <kirtchev@adacore.com>\n+\n+\t* sem_ch3.adb (Analyze_Declarations): Do not\n+\tgenerate the spec of the late primitive in ASIS mode. Add two\n+\tcomments to explain the special cases when the expansion is\n+\tnot performed.\n+\n+2014-01-23  Robert Dewar  <dewar@adacore.com>\n+\n+\t* sem_util.adb (Note_Possible_Modification): Fix error of\n+\tmisbehaving for implicit dereference cases in -gnatc mode.\n+\n+2014-01-23  Emmanuel Briot  <briot@adacore.com>\n+\n+\t* prj-pars.adb: Minor reformatting.\n+\n 2014-01-22  Ed Schonberg  <schonberg@adacore.com>\n \n \t* sem_ch6.adb (Analyze_Subprogram_Body_Helper): A subprogram"}, {"sha": "db729a6229199960310d45023c9b14ae1d227f1d", "filename": "gcc/ada/exp_ch11.adb", "status": "modified", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexp_ch11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexp_ch11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch11.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -1882,27 +1882,6 @@ package body Exp_Ch11 is\n       end;\n    end Possible_Local_Raise;\n \n-   ------------------------------\n-   -- Expand_N_Subprogram_Info --\n-   ------------------------------\n-\n-   procedure Expand_N_Subprogram_Info (N : Node_Id) is\n-      Loc : constant Source_Ptr := Sloc (N);\n-\n-   begin\n-      --  For now, we replace an Expand_N_Subprogram_Info node with an\n-      --  attribute reference that gives the address of the procedure.\n-      --  This is because gigi does not yet recognize this node, and\n-      --  for the initial targets, this is the right value anyway.\n-\n-      Rewrite (N,\n-        Make_Attribute_Reference (Loc,\n-          Prefix         => Identifier (N),\n-          Attribute_Name => Name_Code_Address));\n-\n-      Analyze_And_Resolve (N, RTE (RE_Code_Loc));\n-   end Expand_N_Subprogram_Info;\n-\n    ------------------------\n    -- Find_Local_Handler --\n    ------------------------"}, {"sha": "5fd123e025f4e1fd1b3bc8726435f6a52ef2a234", "filename": "gcc/ada/exp_ch11.ads", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexp_ch11.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexp_ch11.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch11.ads?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -35,7 +35,6 @@ package Exp_Ch11 is\n    procedure Expand_N_Raise_Program_Error            (N : Node_Id);\n    procedure Expand_N_Raise_Statement                (N : Node_Id);\n    procedure Expand_N_Raise_Storage_Error            (N : Node_Id);\n-   procedure Expand_N_Subprogram_Info                (N : Node_Id);\n \n    --  Data structures for gathering information to build exception tables\n    --  See runtime routine Ada.Exceptions for full details on the format and"}, {"sha": "1845a3b390d9d0497d1ca7a5f3d215f68432b0bf", "filename": "gcc/ada/exp_util.adb", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexp_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexp_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_util.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -3829,7 +3829,6 @@ package body Exp_Util is\n                N_Single_Protected_Declaration           |\n                N_Slice                                  |\n                N_String_Literal                         |\n-               N_Subprogram_Info                        |\n                N_Subtype_Indication                     |\n                N_Subunit                                |\n                N_Task_Definition                        |"}, {"sha": "869c16c899b7f51f9e032450e147fb34a6dffabb", "filename": "gcc/ada/expander.adb", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexpander.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fexpander.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexpander.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -433,9 +433,6 @@ package body Expander is\n                   when N_Subprogram_Declaration =>\n                      Expand_N_Subprogram_Declaration (N);\n \n-                  when N_Subprogram_Info =>\n-                     Expand_N_Subprogram_Info (N);\n-\n                   when N_Task_Body =>\n                      Expand_N_Task_Body (N);\n "}, {"sha": "225e0e87f6b8b1aa2e9112a711ceda906ba698e6", "filename": "gcc/ada/prj-conf.adb", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fprj-conf.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fprj-conf.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-conf.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -1425,12 +1425,7 @@ package body Prj.Conf is\n          Write_Line (Config_File_Path.all);\n       end if;\n \n-      if On_Load_Config /= null then\n-         On_Load_Config\n-           (Config_File       => Config_Project_Node,\n-            Project_Node_Tree => Project_Node_Tree);\n-\n-      elsif Config_File_Path /= null then\n+      if Config_File_Path /= null then\n          Prj.Part.Parse\n            (In_Tree           => Project_Node_Tree,\n             Project           => Config_Project_Node,\n@@ -1444,6 +1439,12 @@ package body Prj.Conf is\n          Config_Project_Node := Empty_Node;\n       end if;\n \n+      if On_Load_Config /= null then\n+         On_Load_Config\n+           (Config_File       => Config_Project_Node,\n+            Project_Node_Tree => Project_Node_Tree);\n+      end if;\n+\n       if Config_Project_Node /= Empty_Node then\n          Prj.Proc.Process_Project_Tree_Phase_1\n            (In_Tree                => Project_Tree,"}, {"sha": "3aba38dcfa174a0d88fa116fdb9e3fc2e63d1994", "filename": "gcc/ada/prj-pars.adb", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fprj-pars.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fprj-pars.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-pars.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2001-2011, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2001-2013, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -80,8 +80,11 @@ package body Prj.Pars is\n       if Project_Node /= Empty_Node then\n          begin\n             --  No config file should be read from the disk for gnatmake.\n-            --  However, we will simulate one that only contains the\n-            --  default GNAT naming scheme.\n+            --  However, we will simulate one that only contains the default\n+            --  GNAT naming scheme.\n+\n+            --  We pass an invalid config_file_name, to prevent reading a\n+            --  default.cgpr that might happen to be in the current directory.\n \n             Process_Project_And_Apply_Config\n               (Main_Project               => The_Project,"}, {"sha": "eea49df217b35316e265497182b5fe0c2b521b9f", "filename": "gcc/ada/sem.adb", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -530,9 +530,6 @@ package body Sem is\n          when N_Subprogram_Declaration =>\n             Analyze_Subprogram_Declaration (N);\n \n-         when N_Subprogram_Info =>\n-            Analyze_Subprogram_Info (N);\n-\n          when N_Subprogram_Renaming_Declaration =>\n             Analyze_Subprogram_Renaming (N);\n "}, {"sha": "353bbbcb367ec64feb87a78c5277dac1a8c75050", "filename": "gcc/ada/sem_ch11.adb", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_ch11.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_ch11.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch11.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -737,13 +737,4 @@ package body Sem_Ch11 is\n       end if;\n    end Analyze_Raise_xxx_Error;\n \n-   -----------------------------\n-   -- Analyze_Subprogram_Info --\n-   -----------------------------\n-\n-   procedure Analyze_Subprogram_Info (N : Node_Id) is\n-   begin\n-      Set_Etype (N, RTE (RE_Code_Loc));\n-   end Analyze_Subprogram_Info;\n-\n end Sem_Ch11;"}, {"sha": "c732499f0f073f7a940b5ee262d7454dd78f0743", "filename": "gcc/ada/sem_ch11.ads", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_ch11.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_ch11.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch11.ads?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -30,7 +30,6 @@ package Sem_Ch11 is\n    procedure Analyze_Raise_Expression                   (N : Node_Id);\n    procedure Analyze_Raise_Statement                    (N : Node_Id);\n    procedure Analyze_Raise_xxx_Error                    (N : Node_Id);\n-   procedure Analyze_Subprogram_Info                    (N : Node_Id);\n \n    procedure Analyze_Exception_Handlers (L : List_Id);\n    --  Analyze list of exception handlers of a handled statement sequence"}, {"sha": "0796fb4a2acff4e69c8693aa206d93fd7c416b3e", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 13, "deletions": 1, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -2378,10 +2378,22 @@ package body Sem_Ch3 is\n             --  This ensures that the primitive will override its inherited\n             --  counterpart before the freeze takes place.\n \n+            --  If the declaration we just processed is a body, do not attempt\n+            --  to examine Next_Decl as the late primitive idiom can only apply\n+            --  to the first encountered body.\n+\n+            --  The spec of the late primitive is not generated in ASIS mode to\n+            --  ensure a consistent list of primitives that indicates the true\n+            --  semantic structure of the program (which is not relevant when\n+            --  generating executable code.\n+\n             --  ??? a cleaner approach may be possible and/or this solution\n             --  could be extended to general-purpose late primitives, TBD.\n \n-            if not Body_Seen and then not Is_Body (Decl) then\n+            if not ASIS_Mode\n+              and then not Body_Seen\n+              and then not Is_Body (Decl)\n+            then\n                Body_Seen := True;\n \n                if Nkind (Next_Decl) = N_Subprogram_Body then"}, {"sha": "0aa6690df94cae8b4c775ca22918e538832bfed4", "filename": "gcc/ada/sem_res.adb", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_res.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_res.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_res.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -201,7 +201,6 @@ package body Sem_Res is\n    procedure Resolve_Short_Circuit             (N : Node_Id; Typ : Entity_Id);\n    procedure Resolve_Slice                     (N : Node_Id; Typ : Entity_Id);\n    procedure Resolve_String_Literal            (N : Node_Id; Typ : Entity_Id);\n-   procedure Resolve_Subprogram_Info           (N : Node_Id; Typ : Entity_Id);\n    procedure Resolve_Type_Conversion           (N : Node_Id; Typ : Entity_Id);\n    procedure Resolve_Unary_Op                  (N : Node_Id; Typ : Entity_Id);\n    procedure Resolve_Unchecked_Expression      (N : Node_Id; Typ : Entity_Id);\n@@ -2897,9 +2896,6 @@ package body Sem_Res is\n             when N_String_Literal\n                              => Resolve_String_Literal           (N, Ctx_Type);\n \n-            when N_Subprogram_Info\n-                             => Resolve_Subprogram_Info          (N, Ctx_Type);\n-\n             when N_Type_Conversion\n                              => Resolve_Type_Conversion          (N, Ctx_Type);\n \n@@ -9780,15 +9776,6 @@ package body Sem_Res is\n       end;\n    end Resolve_String_Literal;\n \n-   -----------------------------\n-   -- Resolve_Subprogram_Info --\n-   -----------------------------\n-\n-   procedure Resolve_Subprogram_Info (N : Node_Id; Typ : Entity_Id) is\n-   begin\n-      Set_Etype (N, Typ);\n-   end Resolve_Subprogram_Info;\n-\n    -----------------------------\n    -- Resolve_Type_Conversion --\n    -----------------------------"}, {"sha": "392d555a0cf2b52f176fcee150ae49ce2dac1b8b", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 24, "deletions": 8, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -13344,7 +13344,6 @@ package body Sem_Util is\n \n       Exp := N;\n       loop\n-         <<Continue>>\n          Ent := Empty;\n \n          if Is_Entity_Name (Exp) then\n@@ -13370,8 +13369,7 @@ package body Sem_Util is\n                end if;\n \n                if Nkind (P) = N_Selected_Component\n-                 and then\n-                   Present (Entry_Formal (Entity (Selector_Name (P))))\n+                 and then Present (Entry_Formal (Entity (Selector_Name (P))))\n                then\n                   --  Case of a reference to an entry formal\n \n@@ -13380,8 +13378,8 @@ package body Sem_Util is\n                elsif Nkind (P) = N_Identifier\n                  and then Nkind (Parent (Entity (P))) = N_Object_Declaration\n                  and then Present (Expression (Parent (Entity (P))))\n-                 and then Nkind (Expression (Parent (Entity (P))))\n-                   = N_Reference\n+                 and then Nkind (Expression (Parent (Entity (P)))) =\n+                                                               N_Reference\n                then\n                   --  Case of a reference to a value on which side effects have\n                   --  been removed.\n@@ -13391,7 +13389,6 @@ package body Sem_Util is\n \n                else\n                   return;\n-\n                end if;\n             end;\n \n@@ -13405,8 +13402,24 @@ package body Sem_Util is\n                               N_Indexed_Component,\n                               N_Selected_Component)\n          then\n-            Exp := Prefix (Exp);\n-            goto Continue;\n+            --  Special check, if the prefix is an access type, then return\n+            --  since we are modifying the thing pointed to, not the prefix.\n+            --  When we are expanding, most usually the prefix is replaced\n+            --  by an explicit dereference, and this test is not needed, but\n+            --  in some cases (notably -gnatc mode and generics) when we do\n+            --  not do full expansion, we need this special test.\n+\n+            if Is_Access_Type (Etype (Prefix (Exp))) then\n+               return;\n+\n+            --  Otherwise go to prefix and keep going\n+\n+            else\n+               Exp := Prefix (Exp);\n+               goto Continue;\n+            end if;\n+\n+         --  All other cases, not a modification\n \n          else\n             return;\n@@ -13539,6 +13552,9 @@ package body Sem_Util is\n \n             return;\n          end if;\n+\n+      <<Continue>>\n+         null;\n       end loop;\n    end Note_Possible_Modification;\n "}, {"sha": "b698641ab4247effc87000c6027dd90e78d7ac6a", "filename": "gcc/ada/sinfo.adb", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsinfo.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsinfo.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -1627,8 +1627,7 @@ package body Sinfo is\n         or else NT (N).Nkind = N_Enumeration_Representation_Clause\n         or else NT (N).Nkind = N_Label\n         or else NT (N).Nkind = N_Loop_Statement\n-        or else NT (N).Nkind = N_Record_Representation_Clause\n-        or else NT (N).Nkind = N_Subprogram_Info);\n+        or else NT (N).Nkind = N_Record_Representation_Clause);\n       return Node1 (N);\n    end Identifier;\n \n@@ -4768,8 +4767,7 @@ package body Sinfo is\n         or else NT (N).Nkind = N_Enumeration_Representation_Clause\n         or else NT (N).Nkind = N_Label\n         or else NT (N).Nkind = N_Loop_Statement\n-        or else NT (N).Nkind = N_Record_Representation_Clause\n-        or else NT (N).Nkind = N_Subprogram_Info);\n+        or else NT (N).Nkind = N_Record_Representation_Clause);\n       Set_Node1_With_Parent (N, Val);\n    end Set_Identifier;\n "}, {"sha": "cc11f4ff8e6e15130534543c130cf7a980961e05", "filename": "gcc/ada/sinfo.ads", "status": "modified", "additions": 0, "deletions": 25, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsinfo.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsinfo.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsinfo.ads?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -7683,23 +7683,6 @@ package Sinfo is\n       --  with the N_In node (or a rewriting thereof) corresponding to a\n       --  classwide membership test.\n \n-      ---------------------\n-      -- Subprogram_Info --\n-      ---------------------\n-\n-      --  This node generates the appropriate Subprogram_Info value for a\n-      --  given procedure. See Ada.Exceptions for further details\n-\n-      --  Sprint syntax: subprog'subprogram_info\n-\n-      --  N_Subprogram_Info\n-      --  Sloc points to the entity for the procedure\n-      --  Identifier (Node1) identifier referencing the procedure\n-      --  Etype (Node5-Sem) type (always set to Ada.Exceptions.Code_Loc)\n-\n-      --  Note: in the case where a debug source file is generated, the Sloc\n-      --  for this node points to the quote in the Sprint file output.\n-\n       --------------------------\n       -- Unchecked Expression --\n       --------------------------\n@@ -7977,7 +7960,6 @@ package Sinfo is\n       N_Reference,\n       N_Selected_Component,\n       N_Slice,\n-      N_Subprogram_Info,\n       N_Type_Conversion,\n       N_Unchecked_Expression,\n       N_Unchecked_Type_Conversion,\n@@ -12080,13 +12062,6 @@ package Sinfo is\n         4 => False,   --  unused\n         5 => False),  --  Etype (Node5-Sem)\n \n-     N_Subprogram_Info =>\n-       (1 => True,    --  Identifier (Node1)\n-        2 => False,   --  unused\n-        3 => False,   --  unused\n-        4 => False,   --  unused\n-        5 => False),  --  Etype (Node5-Sem)\n-\n      N_Unchecked_Expression =>\n        (1 => False,   --  unused\n         2 => False,   --  unused"}, {"sha": "9e8362fa223e087b805176830a549b2af8c7b832", "filename": "gcc/ada/sprint.adb", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsprint.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsprint.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsprint.adb?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -3091,10 +3091,6 @@ package body Sprint is\n \n             Write_Char (';');\n \n-         when N_Subprogram_Info =>\n-            Sprint_Node (Identifier (Node));\n-            Write_Str_With_Col_Check_Sloc (\"'subprogram_info\");\n-\n          when N_Subprogram_Renaming_Declaration =>\n             Write_Indent;\n             Sprint_Node (Specification (Node));"}, {"sha": "85518bee259b7c45127f3b77478d2f74ee795e12", "filename": "gcc/ada/sprint.ads", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsprint.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/53c53f6dc8715875e50215077ff53612d08b3de2/gcc%2Fada%2Fsprint.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsprint.ads?ref=53c53f6dc8715875e50215077ff53612d08b3de2", "patch": "@@ -81,7 +81,6 @@ package Sprint is\n    --    Reference                           expression'reference\n    --    Shift nodes                         shift_name!(expr, count)\n    --    Static declaration                  name : static xxx\n-   --    Subprogram_Info                     subprog'Subprogram_Info\n    --    Unchecked conversion                target_type!(source_expression)\n    --    Unchecked expression                `(expression)\n    --    Validate_Unchecked_Conversion       validate unchecked_conversion"}]}