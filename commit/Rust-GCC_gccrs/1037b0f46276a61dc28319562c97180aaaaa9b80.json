{"sha": "1037b0f46276a61dc28319562c97180aaaaa9b80", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTAzN2IwZjQ2Mjc2YTYxZGMyODMxOTU2MmM5NzE4MGFhYWFhOWI4MA==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-02-24T15:49:39Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-02-24T15:49:39Z"}, "message": "[multiple changes]\n\n2014-02-24  Ed Schonberg  <schonberg@adacore.com>\n\n\t* s-dimmks.ads: Replace symbol for temperature, previously the\n\tGreek letter Theta, by the ASCII @ sign.\n\t* s-diflio.ads: ditto.\n\n2014-02-24  Robert Dewar  <dewar@adacore.com>\n\n\t* exp_ch4.adb: Minor code reorganization (use OR for boolean\n\tvariables).\n\t* sem_ch3.adb, sem_prag.adb, freeze.adb: Minor reformatting.\n\n2014-02-24  Ben Brosgol  <brosgol@adacore.com>\n\n\t* gnat_ugn.texi, projects.texi: Added the necessary conditionalization\n\tso that references to gnatmem and ASIS tools do not appear in the FSF\n\tedition of the GNAT User's Guide.\n\nFrom-SVN: r208071", "tree": {"sha": "04de226a85674ded0f2b2fcd818e30ddf2008d18", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/04de226a85674ded0f2b2fcd818e30ddf2008d18"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1037b0f46276a61dc28319562c97180aaaaa9b80", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1037b0f46276a61dc28319562c97180aaaaa9b80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1037b0f46276a61dc28319562c97180aaaaa9b80", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1037b0f46276a61dc28319562c97180aaaaa9b80/comments", "author": null, "committer": null, "parents": [{"sha": "ebb6b0bd981bf4034220b55994067c0de0a208ca", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebb6b0bd981bf4034220b55994067c0de0a208ca", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebb6b0bd981bf4034220b55994067c0de0a208ca"}], "stats": {"total": 190, "additions": 164, "deletions": 26}, "files": [{"sha": "ffbdcdf7d965b08365b36cb59d3ec7250002336a", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -1,3 +1,21 @@\n+2014-02-24  Ed Schonberg  <schonberg@adacore.com>\n+\n+\t* s-dimmks.ads: Replace symbol for temperature, previously the\n+\tGreek letter Theta, by the ASCII @ sign.\n+\t* s-diflio.ads: ditto.\n+\n+2014-02-24  Robert Dewar  <dewar@adacore.com>\n+\n+\t* exp_ch4.adb: Minor code reorganization (use OR for boolean\n+\tvariables).\n+\t* sem_ch3.adb, sem_prag.adb, freeze.adb: Minor reformatting.\n+\n+2014-02-24  Ben Brosgol  <brosgol@adacore.com>\n+\n+\t* gnat_ugn.texi, projects.texi: Added the necessary conditionalization\n+\tso that references to gnatmem and ASIS tools do not appear in the FSF\n+\tedition of the GNAT User's Guide.\n+\n 2014-02-24  Yannick Moy  <moy@adacore.com>\n \n \t* freeze.adb (Freeze_Entity): Do not issue warning"}, {"sha": "7065d945b2a0ea34d3928a472feb950492fad399", "filename": "gcc/ada/exp_ch4.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fexp_ch4.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fexp_ch4.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_ch4.adb?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -7615,7 +7615,7 @@ package body Exp_Ch4 is\n          --  arithmetic instructions check overflow automatically, so only\n          --  one version of the exponentiation unit is needed.\n \n-         if Ovflo or else AAMP_On_Target then\n+         if Ovflo or AAMP_On_Target then\n             Rent := RE_Exp_Long_Long_Integer;\n          else\n             Rent := RE_Exn_Long_Long_Integer;\n@@ -7628,7 +7628,7 @@ package body Exp_Ch4 is\n          --  arithmetic instructions check overflow automatically, so only\n          --  one version of the exponentiation unit is needed.\n \n-         if Ovflo or else AAMP_On_Target then\n+         if Ovflo or AAMP_On_Target then\n             Rent := RE_Exp_Integer;\n          else\n             Rent := RE_Exn_Integer;"}, {"sha": "294f64cce47dfe536a3540eeb049ff6648bca8b3", "filename": "gcc/ada/freeze.adb", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Ffreeze.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Ffreeze.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Ffreeze.adb?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -3871,9 +3871,9 @@ package body Freeze is\n                --  Pre/post conditions are implemented through a subprogram\n                --  in the corresponding body, and therefore are not checked on\n                --  an imported subprogram for which the body is not available.\n-               --  This warning is not issued in GNATprove mode, as these\n-               --  contracts are handled in formal verification, so the\n-               --  warning would be misleading in that case.\n+               --  This warning is not issued in GNATprove mode, as all these\n+               --  contracts are handled in formal verification, so the warning\n+               --  would be misleading in that case.\n \n                --  Could consider generating a wrapper to take care of this???\n \n@@ -3887,7 +3887,6 @@ package body Freeze is\n                     (\"pre/post conditions on imported subprogram are not \"\n                      & \"enforced??\", E, Pre_Post_Conditions (Contract (E)));\n                end if;\n-\n             end if;\n \n             --  Must freeze its parent first if it is a derived subprogram"}, {"sha": "d12f4c1b6917356c94478f6bed2e62d96d24ccf2", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 99, "deletions": 13, "changes": 112, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -178,11 +178,13 @@ AdaCore@*\n * GNAT Project Manager::\n * Tools Supporting Project Files::\n * The Cross-Referencing Tools gnatxref and gnatfind::\n+@ifclear FSFEDITION\n * The GNAT Pretty-Printer gnatpp::\n @ifclear vms\n * The Ada-to-XML converter gnat2xml::\n @end ifclear\n * The GNAT Metrics Tool gnatmetric::\n+@end ifclear\n * File Name Krunching with gnatkr::\n * Preprocessing with gnatprep::\n * The GNAT Library Browser gnatls::\n@@ -193,9 +195,11 @@ AdaCore@*\n @end ifclear\n * Memory Management Issues::\n * Stack Related Facilities::\n+@ifclear FSFEDITION\n * Verifying Properties with gnatcheck::\n * Creating Sample Bodies with gnatstub::\n * Creating Unit Tests with gnattest::\n+@end ifclear\n * Performing Dimensionality Analysis in GNAT::\n * Generating Ada Bindings for C and C++ headers::\n * Other Utility Programs::\n@@ -297,10 +301,13 @@ binding and link.\n \n @item\n @ref{Improving Performance}, shows various techniques for making your\n-Ada program run faster or take less space.\n-It discusses the effect of the compiler's optimization switch and\n-also describes the @command{gnatelim} tool and unused subprogram/data\n-elimination.\n+Ada program run faster or take less space and describes the effect of\n+the compiler's optimization switch.\n+It also describes\n+@ifclear FSFEDITION\n+the @command{gnatelim} tool and\n+@end ifclear\n+unused subprogram/data elimination.\n \n @item\n @ref{Renaming Files with gnatchop}, describes\n@@ -326,21 +333,27 @@ to organize large projects.\n @code{gnatxref} and @code{gnatfind}, two tools that provide an easy\n way to navigate through sources.\n \n+@ifclear FSFEDITION\n @item\n @ref{The GNAT Pretty-Printer gnatpp}, shows how to produce a reformatted\n version of an Ada source file with control over casing, indentation,\n comment placement, and other elements of program presentation style.\n+@end ifclear\n \n+@ifclear FSFEDITION\n @ifclear vms\n @item\n @ref{The Ada-to-XML converter gnat2xml}, shows how to convert Ada\n source code into XML.\n @end ifclear\n+@end ifclear\n \n+@ifclear FSFEDITION\n @item\n @ref{The GNAT Metrics Tool gnatmetric}, shows how to compute various\n metrics for an Ada source file, such as the number of types and subprograms,\n and assorted complexity measures.\n+@end ifclear\n \n @item\n @ref{File Name Krunching with gnatkr}, describes the @code{gnatkr}\n@@ -378,25 +391,31 @@ the GNAT toolset in Makefiles.\n and in particular the GNAT Debug Pool facility, which helps detect incorrect\n memory references.\n @ifclear vms\n+@ifclear FSFEDITION\n It also describes @command{gnatmem}, a utility that monitors dynamic\n allocation and deallocation and helps detect ``memory leaks''.\n @end ifclear\n+@end ifclear\n \n @item\n @ref{Stack Related Facilities}, describes some useful tools associated with\n stack checking and analysis.\n \n+@ifclear FSFEDITION\n @item\n @ref{Verifying Properties with gnatcheck}, discusses @code{gnatcheck},\n a utility that checks Ada code against a set of rules.\n \n @item\n @ref{Creating Sample Bodies with gnatstub}, discusses @code{gnatstub},\n a utility that generates empty but compilable bodies for library units.\n+@end ifclear\n \n+@ifclear FSFEDITION\n @item\n @ref{Creating Unit Tests with gnattest}, discusses @code{gnattest},\n a utility that generates unit testing templates for library units.\n+@end ifclear\n \n @item\n @ref{Performing Dimensionality Analysis in GNAT}, describes the Ada 2012\n@@ -6211,11 +6230,14 @@ checking arbitrary coding standards. It is simply an embedding of the\n style rules we have chosen for the GNAT sources. If you are starting\n a project which does not have established style standards, you may\n find it useful to adopt the entire set of GNAT coding standards, or\n-some subset of them. If you already have an established set of coding\n-standards, then it may be that selected style checking options do\n+some subset of them.\n+@ifclear FSFEDITION\n+If you already have an established set of coding\n+standards, then the selected style checking options may\n indeed correspond to choices you have made, but for general checking\n of an existing set of coding rules, you should look to the gnatcheck\n tool, which is designed for that purpose.\n+@end ifclear\n \n @ifset vms\n @code{(option,option,@dots{})} is a sequence of keywords\n@@ -10128,14 +10150,20 @@ displaying commands it is executing.\n This chapter presents several topics related to program performance.\n It first describes some of the tradeoffs that need to be considered\n and some of the techniques for making your program run faster.\n-It then documents the @command{gnatelim} tool and unused subprogram/data\n+It then documents\n+@ifclear FSFEDITION\n+the @command{gnatelim} tool and\n+@end ifclear\n+unused subprogram/data\n elimination feature, which can reduce the size of program executables.\n \n @ifnottex\n @menu\n * Performance Considerations::\n * Text_IO Suggestions::\n+@ifclear FSFEDITION\n * Reducing Size of Ada Executables with gnatelim::\n+@end ifclear\n * Reducing Size of Executables with unused subprogram/data elimination::\n @end menu\n @end ifnottex\n@@ -11189,7 +11217,7 @@ of the standard output file, or change the standard output file to\n be buffered using @code{Interfaces.C_Streams.setvbuf}.\n \n \n-\n+@ifclear FSFEDITION\n @node Reducing Size of Ada Executables with gnatelim\n @section Reducing Size of Ada Executables with @code{gnatelim}\n @findex gnatelim\n@@ -11454,6 +11482,7 @@ $ gnatmake ^-f main_prog^/FORCE_COMPILE MAIN_PROG^\n @end smallexample\n \n @end enumerate\n+@end ifclear\n \n @node Reducing Size of Executables with unused subprogram/data elimination\n @section Reducing Size of Executables with Unused Subprogram/Data Elimination\n@@ -12959,15 +12988,21 @@ When a library project file is specified, switches ^-b^/ACTION=BIND^ and\n A number of GNAT tools, other than @command{^gnatmake^gnatmake^}\n can benefit from project files:\n (@command{^gnatbind^gnatbind^},\n+@ifclear FSFEDITION\n @command{^gnatcheck^gnatcheck^},\n+@end ifclear\n @command{^gnatclean^gnatclean^},\n+@ifclear FSFEDITION\n @command{^gnatelim^gnatelim^},\n+@end ifclear\n @command{^gnatfind^gnatfind^},\n @command{^gnatlink^gnatlink^},\n @command{^gnatls^gnatls^},\n+@ifclear FSFEDITION\n @command{^gnatmetric^gnatmetric^},\n @command{^gnatpp^gnatpp^},\n @command{^gnatstub^gnatstub^},\n+@end ifclear\n and @command{^gnatxref^gnatxref^}). However, none of these tools can be invoked\n directly with a project file switch (@option{^-P^/PROJECT_FILE=^}).\n They must be invoked through the @command{gnat} driver.\n@@ -12985,17 +13020,21 @@ On non-VMS platforms, the @command{gnat} driver accepts the following commands\n @item CHOP to invoke @command{^gnatchop^gnatchop^}\n @item CLEAN to invoke @command{^gnatclean^gnatclean^}\n @item COMP or COMPILE to invoke the compiler\n+@ifclear FSFEDITION\n @item ELIM to invoke @command{^gnatelim^gnatelim^}\n+@end ifclear\n @item FIND to invoke @command{^gnatfind^gnatfind^}\n @item KR or KRUNCH to invoke @command{^gnatkr^gnatkr^}\n @item LINK to invoke @command{^gnatlink^gnatlink^}\n @item LS or LIST to invoke @command{^gnatls^gnatls^}\n @item MAKE to invoke @command{^gnatmake^gnatmake^}\n @item NAME to invoke @command{^gnatname^gnatname^}\n @item PREP or PREPROCESS to invoke @command{^gnatprep^gnatprep^}\n+@ifclear FSFEDITION\n @item PP or PRETTY to invoke @command{^gnatpp^gnatpp^}\n @item METRIC to invoke @command{^gnatmetric^gnatmetric^}\n @item STUB to invoke @command{^gnatstub^gnatstub^}\n+@end ifclear\n @item XREF to invoke @command{^gnatxref^gnatxref^}\n \n @end itemize\n@@ -13034,23 +13073,37 @@ files may be specified with their path name preceded by '@@'.\n @end smallexample\n \n @noindent\n-In addition, for commands BIND, COMP or COMPILE, FIND, ELIM, LS or LIST, LINK,\n-METRIC, PP or PRETTY, STUB and XREF, the project file related switches\n+In addition, for commands BIND, COMP or COMPILE, FIND,\n+@ifclear FSFEDITION\n+ELIM,\n+@end ifclear\n+LS or LIST, LINK,\n+@ifclear FSFEDITION\n+METRIC,\n+PP or PRETTY,\n+STUB,\n+@end ifclear\n+and XREF, the project file related switches\n (@option{^-P^/PROJECT_FILE^},\n @option{^-X^/EXTERNAL_REFERENCE^} and\n @option{^-vP^/MESSAGES_PROJECT_FILE=^x}) may be used in addition to\n the switches of the invoking tool.\n \n+@ifclear FSFEDITION\n When GNAT PP or GNAT PRETTY is used with a project file, but with no source\n specified on the command line, it invokes @command{^gnatpp^gnatpp^} with all\n the immediate sources of the specified project file.\n+@end ifclear\n \n+@ifclear FSFEDITION\n When GNAT METRIC is used with a project file, but with no source\n specified on the command line, it invokes @command{^gnatmetric^gnatmetric^}\n with all the immediate sources of the specified project file and with\n @option{^-d^/DIRECTORY^} with the parameter pointing to the object directory\n of the project.\n+@end ifclear\n \n+@ifclear FSFEDITION\n In addition, when GNAT PP, GNAT PRETTY or GNAT METRIC is used with\n a project file, no source is specified on the command line and\n switch ^-U^/ALL_PROJECTS^ is specified on the command line, then\n@@ -13060,41 +13113,54 @@ not only for the immediate sources of the main project.\n @ifclear vms\n (-U stands for Universal or Union of the project files of the project tree)\n @end ifclear\n+@end ifclear\n \n For each of the following commands, there is optionally a corresponding\n package in the main project.\n \n @itemize @bullet\n @item package @code{Binder} for command BIND (invoking @code{^gnatbind^gnatbind^})\n \n+@ifclear FSFEDITION\n @item package @code{Check} for command CHECK (invoking\n   @code{^gnatcheck^gnatcheck^})\n+@end ifclear\n \n @item package @code{Compiler} for command COMP or COMPILE (invoking the compiler)\n \n @item package @code{Cross_Reference} for command XREF (invoking\n   @code{^gnatxref^gnatxref^})\n \n+@ifclear FSFEDITION\n @item package @code{Eliminate} for command ELIM (invoking\n   @code{^gnatelim^gnatelim^})\n+@end ifclear\n \n @item package @code{Finder} for command FIND (invoking @code{^gnatfind^gnatfind^})\n \n @item package @code{Gnatls} for command LS or LIST (invoking @code{^gnatls^gnatls^})\n \n+@ifclear FSFEDITION\n @item package @code{Gnatstub} for command STUB\n   (invoking @code{^gnatstub^gnatstub^})\n+@end ifclear\n \n @item package @code{Linker} for command LINK (invoking @code{^gnatlink^gnatlink^})\n \n+@ifclear FSFEDITION\n @item package @code{Check} for command CHECK\n   (invoking @code{^gnatcheck^gnatcheck^})\n+@end ifclear\n \n+@ifclear FSFEDITION\n @item package @code{Metrics} for command METRIC\n   (invoking @code{^gnatmetric^gnatmetric^})\n+@end ifclear\n \n+@ifclear FSFEDITION\n @item package @code{Pretty_Printer} for command PP or PRETTY\n   (invoking @code{^gnatpp^gnatpp^})\n+@end ifclear\n \n @end itemize\n \n@@ -13208,6 +13274,7 @@ found in the package corresponding to the tool:\n @code{^Default_Switches^Default_Switches^ (\"Ada\")} for all tools,\n except @code{Switches (\"main.adb\")}\n for @code{^gnatlink^gnatlink^}.\n+@ifclear FSFEDITION\n It is also possible to invoke some of the tools,\n (@code{^gnatcheck^gnatcheck^},\n @code{^gnatmetric^gnatmetric^},\n@@ -13240,6 +13307,7 @@ on @command{gnatbind}'s option @option{-R}. But if the argument files for the\n tool invoked by the @command{gnat} driver are explicitly  specified\n either directly or through the tool @option{-files} option, then the tool\n is called only for these explicitly specified files.\n+@end ifclear\n \n @c *****************************************\n @c * Cross-referencing tools\n@@ -13983,6 +14051,7 @@ point to any character in the middle of the identifier.\n \n @end table\n \n+@ifclear FSFEDITION\n @c *********************************\n @node The GNAT Pretty-Printer gnatpp\n @chapter The GNAT Pretty-Printer @command{gnatpp}\n@@ -15310,7 +15379,9 @@ begin\n end Test;\n @end cartouche\n @end smallexample\n+@end ifclear\n \n+@ifclear FSFEDITION\n @ifclear vms\n @c *********************************\n @node The Ada-to-XML converter gnat2xml\n@@ -15807,7 +15878,10 @@ formal_package\n formal_package_declaration_with_box\n @end smallexample\n @end ifclear\n+@end ifclear\n+\n \n+@ifclear FSFEDITION\n @c *********************************\n @node The GNAT Metrics Tool gnatmetric\n @chapter The GNAT Metrics Tool @command{gnatmetric}\n@@ -16019,7 +16093,7 @@ Suppression of metrics computation for eligible local units can be\n obtained via the following switch:\n \n @table @option\n-@cindex @option{^-n@var{x}^/SUPPRESS^} (@command{gnatmetric})\n+@cindex @option{^-nolocal^/SUPPRESS^} (@command{gnatmetric})\n @item ^-nolocal^/SUPPRESS=LOCAL_DETAILS^\n Do not compute detailed metrics for eligible local program units\n \n@@ -16823,6 +16897,7 @@ the @option{-U} option followed by the name of the main unit:\n    gnat metric -Pproj -U main\n @end smallexample\n @end ignore\n+@end ifclear\n \n \n @c ***********************************\n@@ -18724,16 +18799,20 @@ This chapter describes some useful memory pools provided in the GNAT library\n and in particular the GNAT Debug Pool facility, which can be used to detect\n incorrect uses of access values (including ``dangling references'').\n @ifclear vms\n+@ifclear FSFEDITION\n It also describes the @command{gnatmem} tool, which can be used to track down\n ``memory leaks''.\n @end ifclear\n+@end ifclear\n \n @menu\n * Some Useful Memory Pools::\n * The GNAT Debug Pool Facility::\n @ifclear vms\n+@ifclear FSFEDITION\n * The gnatmem Tool::\n @end ifclear\n+@end ifclear\n @end menu\n \n @node Some Useful Memory Pools\n@@ -18947,6 +19026,7 @@ Debug Pool info:\n @end smallexample\n \n @ifclear vms\n+@ifclear FSFEDITION\n @node The gnatmem Tool\n @section The @command{gnatmem} Tool\n @findex gnatmem\n@@ -19298,7 +19378,7 @@ Allocation Root # 4\n @noindent\n The allocation root #1 of the first example has been split in 2 roots #1\n and #3 thanks to the more precise associated backtrace.\n-\n+@end ifclear\n @end ifclear\n \n @node Stack Related Facilities\n@@ -19506,6 +19586,7 @@ only processed when the environment variable GNAT_STACK_LIMIT is set.\n The package @code{GNAT.Task_Stack_Usage} provides facilities to get\n stack usage reports at run-time. See its body for the details.\n \n+@ifclear FSFEDITION\n @c *********************************\n @c *            GNATCHECK          *\n @c *********************************\n@@ -19528,8 +19609,9 @@ calling @command{gnatcheck}, either through a specified project file or\n through @command{gnatcheck} switches.\n \n For full details, refer to @cite{GNATcheck Reference Manual} document.\n+@end ifclear\n \n-\n+@ifclear FSFEDITION\n @c *********************************\n @node Creating Sample Bodies with gnatstub\n @chapter Creating Sample Bodies with @command{gnatstub}\n@@ -19757,7 +19839,9 @@ unless this option is set.\n Verbose mode: generate version information.\n \n @end table\n+@end ifclear\n \n+@ifclear FSFEDITION\n @c *********************************\n @node Creating Unit Tests with gnattest\n @chapter Creating Unit Tests with @command{gnattest}\n@@ -20374,6 +20458,8 @@ The tool currently does not support following features:\n @item tests for protected subprograms and entries\n \n @end itemize\n+@end ifclear\n+\n \n @c *********************************\n @node Performing Dimensionality Analysis in GNAT"}, {"sha": "f3ef5ac44e82d82248fc6023294a7e6d80c5a6b0", "filename": "gcc/ada/projects.texi", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fprojects.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fprojects.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprojects.texi?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -3166,13 +3166,15 @@ The following packages are currently supported in project files\n   but there are some general options that should be defined in this\n   package. @xref{Main Subprograms}, and @pxref{Executable File Names} in\n   particular.\n+@ifclear FSFEDITION\n @item Check\n   This package specifies the options used when calling the checking tool\n   @command{gnatcheck} via the @command{gnat} driver. Its attribute\n   @b{Default_Switches} has the same semantics as for the package\n   @code{Builder}. The first string should always be @code{-rules} to specify\n   that all the other options belong to the @code{-rules} section of the\n   parameters to @command{gnatcheck}.\n+@end ifclear\n @item Clean\n   This package specifies the options used when cleaning a project or a project\n   tree using the tools @command{gnatclean} or @command{gprclean}.\n@@ -3184,11 +3186,13 @@ The following packages are currently supported in project files\n   @command{gnatxref} via the @command{gnat} driver. Its attributes\n   @b{Default_Switches} and @b{^Switches^Switches^} have the same semantics as for the\n   package @code{Builder}.\n+@ifclear FSFEDITION\n @item Eliminate\n   This package specifies the options used when calling the tool\n   @command{gnatelim} via the @command{gnat} driver. Its attributes\n   @b{Default_Switches} and @b{^Switches^Switches^} have the same semantics as for the\n   package @code{Builder}.\n+@end ifclear\n @item Finder\n   This package specifies the options used when calling the search tool\n   @command{gnatfind} via the @command{gnat} driver. Its attributes\n@@ -3197,11 +3201,13 @@ The following packages are currently supported in project files\n @item ^Gnatls^Gnatls^\n   This package specifies the options to use when invoking @command{gnatls}\n   via the @command{gnat} driver.\n+@ifclear FSFEDITION\n @item ^Gnatstub^Gnatstub^\n   This package specifies the options used when calling the tool\n   @command{gnatstub} via the @command{gnat} driver. Its attributes\n   @b{Default_Switches} and @b{^Switches^Switches^} have the same semantics as for the\n   package @code{Builder}.\n+@end ifclear\n @item IDE\n   This package specifies the options used when starting an integrated\n   development environment, for instance @command{GPS} or @command{Gnatbench}.\n@@ -3211,22 +3217,26 @@ The following packages are currently supported in project files\n @item Linker\n   This package specifies the options used by the linker.\n   @xref{Main Subprograms}.\n+@ifclear FSFEDITION\n @item Metrics\n   This package specifies the options used when calling the tool\n   @command{gnatmetric} via the @command{gnat} driver. Its attributes\n   @b{Default_Switches} and @b{^Switches^Switches^} have the same semantics as for the\n   package @code{Builder}.\n+@end ifclear\n @item Naming\n   This package specifies the naming conventions that apply\n   to the source files in a project. In particular, these conventions are\n   used to automatically find all source files in the source directories,\n   or given a file name to find out its language for proper processing.\n   @xref{Naming Schemes}.\n+@ifclear FSFEDITION\n @item Pretty_Printer\n   This package specifies the options used when calling the formatting tool\n   @command{gnatpp} via the @command{gnat} driver. Its attributes\n   @b{Default_Switches} and @b{^Switches^Switches^} have the same semantics as for the\n   package @code{Builder}.\n+@end ifclear\n @item Remote\n   This package is used by @command{gprbuild} to describe how distributed\n   compilation should be done.\n@@ -3648,20 +3658,30 @@ end MyProj;\n * Project Level Attributes::\n * Package Binder Attributes::\n * Package Builder Attributes::\n+@ifclear FSFEDITION\n * Package Check Attributes::\n+@end ifclear\n * Package Clean Attributes::\n * Package Compiler Attributes::\n * Package Cross_Reference Attributes::\n+@ifclear FSFEDITION\n * Package Eliminate Attributes::\n+@end ifclear\n * Package Finder Attributes::\n * Package ^gnatls^gnatls^ Attributes::\n+@ifclear FSFEDITION\n * Package ^gnatstub^gnatstub^ Attributes::\n+@end ifclear\n * Package IDE Attributes::\n * Package Install Attributes::\n * Package Linker Attributes::\n+@ifclear FSFEDITION\n * Package Metrics Attribute::\n+@end ifclear\n * Package Naming Attributes::\n+@ifclear FSFEDITION\n * Package Pretty_Printer Attributes::\n+@end ifclear\n * Package Remote Attributes::\n * Package Stack Attributes::\n * Package Synchronize Attributes::\n@@ -4310,6 +4330,7 @@ project tree.\n \n @end itemize\n \n+@ifclear FSFEDITION\n @node Package Check Attributes\n @subsubsection Package Check Attributes\n \n@@ -4328,6 +4349,7 @@ Index is a source file name. Value is the list of switches to be used when\n invoking @code{gnatcheck} for the source.\n \n @end itemize\n+@end ifclear\n \n @node Package Clean Attributes\n @subsubsection Package Clean Attributes\n@@ -4619,6 +4641,7 @@ invoking @code{gnatxref} for the source.\n \n @end itemize\n \n+@ifclear FSFEDITION\n @node Package Eliminate Attributes\n @subsubsection Package Eliminate Attributes\n \n@@ -4637,6 +4660,7 @@ Index is a source file name. Value is the list of switches to be used when\n invoking @code{gnatelim} for the source.\n \n @end itemize\n+@end ifclear\n \n @node Package Finder Attributes\n @subsubsection Package Finder Attributes\n@@ -4668,6 +4692,7 @@ Value is a list of switches to be used when invoking @code{gnatls}.\n \n @end itemize\n \n+@ifclear FSFEDITION\n @node Package ^gnatstub^gnatstub^ Attributes\n @subsubsection Package ^gnatstub^gnatstub^ Attributes\n \n@@ -4686,6 +4711,7 @@ Index is a source file name. Value is the list of switches to be used when\n invoking @code{gnatstub} for the source.\n \n @end itemize\n+@end ifclear\n \n @node Package IDE Attributes\n @subsubsection Package IDE Attributes\n@@ -4878,6 +4904,7 @@ Value is the list of switches to specify a response file to the linker.\n \n @end itemize\n \n+@ifclear FSFEDITION\n @node Package Metrics Attribute\n @subsubsection Package Metrics Attribute\n \n@@ -4896,6 +4923,7 @@ Index is a source file name. Value is the list of switches to be used when\n invoking @code{gnatmetric} for the source.\n \n @end itemize\n+@end ifclear\n \n @node Package Naming Attributes\n @subsubsection Package Naming Attributes\n@@ -4966,6 +4994,7 @@ be found in the source directories of the project.\n \n @end itemize\n \n+@ifclear FSFEDITION\n @node Package Pretty_Printer Attributes\n @subsubsection Package Pretty_Printer Attributes\n \n@@ -4984,6 +5013,7 @@ Index is a source file name. Value is the list of switches to be used when\n invoking @code{gnatpp} for the source.\n \n @end itemize\n+@end ifclear\n \n @node Package Remote Attributes\n @subsubsection Package Remote Attributes"}, {"sha": "cd3410b4a97e42f09d846589dd678a699fdd92e6", "filename": "gcc/ada/s-diflio.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fs-diflio.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fs-diflio.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-diflio.ads?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2011-2012, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2011-2013, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -44,7 +44,7 @@\n --        (Unit_Name => Kilogram, Unit_Symbol => \"kg\",  Dim_Symbol => 'M'),\n --        (Unit_Name => Second,   Unit_Symbol => 's',   Dim_Symbol => 'T'),\n --        (Unit_Name => Ampere,   Unit_Symbol => 'A',   Dim_Symbol => 'I'),\n---        (Unit_Name => Kelvin,   Unit_Symbol => 'K',   Dim_Symbol => \"\u0398\"),\n+--        (Unit_Name => Kelvin,   Unit_Symbol => 'K',   Dim_Symbol => '@'),\n --        (Unit_Name => Mole,     Unit_Symbol => \"mol\", Dim_Symbol => 'N'),\n --        (Unit_Name => Candela,  Unit_Symbol => \"cd\",  Dim_Symbol => 'J'));\n "}, {"sha": "48771d01c365ec0f10a8b49af4afbe9bbe619958", "filename": "gcc/ada/s-dimmks.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fs-dimmks.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fs-dimmks.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-dimmks.ads?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -53,7 +53,7 @@ package System.Dim.Mks is\n         (Unit_Name => Kilogram, Unit_Symbol => \"kg\",  Dim_Symbol => 'M'),\n         (Unit_Name => Second,   Unit_Symbol => 's',   Dim_Symbol => 'T'),\n         (Unit_Name => Ampere,   Unit_Symbol => 'A',   Dim_Symbol => 'I'),\n-        (Unit_Name => Kelvin,   Unit_Symbol => 'K',   Dim_Symbol => \"\u0398\"),\n+        (Unit_Name => Kelvin,   Unit_Symbol => 'K',   Dim_Symbol => '@'),\n         (Unit_Name => Mole,     Unit_Symbol => \"mol\", Dim_Symbol => 'N'),\n         (Unit_Name => Candela,  Unit_Symbol => \"cd\",  Dim_Symbol => 'J'));\n "}, {"sha": "5ff296c9a529e3a3e56feb8ba9e4d4ff9a3dbfca", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -2381,9 +2381,8 @@ package body Sem_Ch3 is\n          elsif Nkind (Decl) = N_Subprogram_Body then\n             Analyze_Subprogram_Body_Contract (Defining_Entity (Decl));\n \n-         elsif Nkind_In (Decl,\n-           N_Subprogram_Declaration,\n-           N_Abstract_Subprogram_Declaration)\n+         elsif Nkind_In (Decl, N_Subprogram_Declaration,\n+                               N_Abstract_Subprogram_Declaration)\n          then\n             Analyze_Subprogram_Contract (Defining_Entity (Decl));\n          end if;"}, {"sha": "94c8c8d4a977526d62b4d887772a8065771142a9", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1037b0f46276a61dc28319562c97180aaaaa9b80/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=1037b0f46276a61dc28319562c97180aaaaa9b80", "patch": "@@ -4456,7 +4456,13 @@ package body Sem_Prag is\n                  (\"argument of pragma% must be protected procedure\", Arg1);\n             end if;\n \n-            if Parent (N) /= Protected_Definition (Parent (Proc_Scope)) then\n+            --  For pragma case (as opposed to access case), check placement.\n+            --  We don't need to do that for aspects, because we have the\n+            --  check that they are apply an appropriate procedure.\n+\n+            if not From_Aspect_Specification (N)\n+              and then Parent (N) /= Protected_Definition (Parent (Proc_Scope))\n+            then\n                Error_Pragma (\"pragma% must be in protected definition\");\n             end if;\n          end if;"}]}