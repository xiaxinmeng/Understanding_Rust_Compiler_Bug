{"sha": "d19e3ef69676036ebb9b3ad68f052a75690e3366", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDE5ZTNlZjY5Njc2MDM2ZWJiOWIzYWQ2OGYwNTJhNzU2OTBlMzM2Ng==", "commit": {"author": {"name": "Kazu Hirata", "email": "kazu@cs.umass.edu", "date": "2005-03-05T15:29:25Z"}, "committer": {"name": "Kazu Hirata", "email": "kazu@gcc.gnu.org", "date": "2005-03-05T15:29:25Z"}, "message": "tree-phinodes.c (remove_phi_node): Drop the last argument.\n\n\t* tree-phinodes.c (remove_phi_node): Drop the last argument.\n\t* tree-flow.h: Adjust the prototype for remove_phi_node.\n\t* lambda-code.c (perfect_nestify): Adjust a call to\n\tremove_phi_node.\n\t* tree-cfg.c\n\t(remove_phi_nodes_and_edges_for_unreachable_block): Likewise.\n\t* tree-outof-ssa.c (eliminate_virtual_phis, remove_ssa_form):\n\tLikewise.\n\t* tree-ssa-dce.c (remove_dead_phis): Likewise.\n\t* tree-ssa-loop-ivopts.c (remove_statement): Likewise.\n\t* tree-ssa-pre.c (remove_dead_inserted_code): Likewise.\n\t* tree-ssa.c (kill_redundant_phi_nodes): Likewise.\n\nFrom-SVN: r95932", "tree": {"sha": "3df16d88d5468f083edd135c99a4e38e2ad459bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3df16d88d5468f083edd135c99a4e38e2ad459bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d19e3ef69676036ebb9b3ad68f052a75690e3366", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d19e3ef69676036ebb9b3ad68f052a75690e3366", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d19e3ef69676036ebb9b3ad68f052a75690e3366", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d19e3ef69676036ebb9b3ad68f052a75690e3366/comments", "author": null, "committer": null, "parents": [{"sha": "25f99665afbb1321579bfe19f1219ad65c9dced4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/25f99665afbb1321579bfe19f1219ad65c9dced4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/25f99665afbb1321579bfe19f1219ad65c9dced4"}], "stats": {"total": 35, "additions": 24, "deletions": 11}, "files": [{"sha": "ab6f61722525a1d9fe2ee7af314980c301fe78f6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -8,6 +8,19 @@\n \tgensupport.c, jump.c, tree-phinodes.c, unwind-dw2-fde-glibc.c:\n \tUpdate copyright.\n \n+\t* tree-phinodes.c (remove_phi_node): Drop the last argument.\n+\t* tree-flow.h: Adjust the prototype for remove_phi_node.\n+\t* lambda-code.c (perfect_nestify): Adjust a call to\n+\tremove_phi_node.\n+\t* tree-cfg.c\n+\t(remove_phi_nodes_and_edges_for_unreachable_block): Likewise.\n+\t* tree-outof-ssa.c (eliminate_virtual_phis, remove_ssa_form):\n+\tLikewise.\n+\t* tree-ssa-dce.c (remove_dead_phis): Likewise.\n+\t* tree-ssa-loop-ivopts.c (remove_statement): Likewise.\n+\t* tree-ssa-pre.c (remove_dead_inserted_code): Likewise.\n+\t* tree-ssa.c (kill_redundant_phi_nodes): Likewise.\n+\n 2005-03-05  Richard Sandiford  <rsandifo@redhat.com>\n \n \t* doc/invoke.texi: Document new MIPS -msym32 and -mno-sym32 options."}, {"sha": "a19ab92cd38f823959b2954e41b1b308c0446042", "filename": "gcc/lambda-code.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Flambda-code.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Flambda-code.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flambda-code.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -2327,7 +2327,7 @@ perfect_nestify (struct loops *loops,\n   while (phi_nodes (olddest) != NULL)\n     {\n       SET_PHI_RESULT (phi_nodes (olddest), NULL);\n-      remove_phi_node (phi_nodes (olddest), NULL, olddest);\n+      remove_phi_node (phi_nodes (olddest), NULL);\n     }      \n \n   /* and add them back to the new basic block.  */"}, {"sha": "b87ce54c29179eb2deaee3e9cdb08ad2070316f3", "filename": "gcc/tree-cfg.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-cfg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-cfg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-cfg.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -1997,7 +1997,7 @@ remove_phi_nodes_and_edges_for_unreachable_block (basic_block bb)\n   while (phi)\n     {\n       tree next = PHI_CHAIN (phi);\n-      remove_phi_node (phi, NULL_TREE, bb);\n+      remove_phi_node (phi, NULL_TREE);\n       phi = next;\n     }\n "}, {"sha": "b0c0f864413ef6087349e2d6237597a0278043d4", "filename": "gcc/tree-flow.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-flow.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-flow.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-flow.h?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -522,7 +522,7 @@ extern void reserve_phi_args_for_new_edge (basic_block);\n extern tree create_phi_node (tree, basic_block);\n extern void add_phi_arg (tree, tree, edge);\n extern void remove_phi_args (edge);\n-extern void remove_phi_node (tree, tree, basic_block);\n+extern void remove_phi_node (tree, tree);\n extern void remove_all_phi_nodes_for (bitmap);\n extern tree phi_reverse (tree);\n extern void dump_dfa_stats (FILE *);"}, {"sha": "9e40698a84fd5548fb0defce8d9feed0e15f4eb8", "filename": "gcc/tree-outof-ssa.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-outof-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-outof-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-outof-ssa.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -1030,7 +1030,7 @@ eliminate_virtual_phis (void)\n \t\t    }\n \t\t}\n #endif\n-\t      remove_phi_node (phi, NULL_TREE, bb);\n+\t      remove_phi_node (phi, NULL_TREE);\n \t    }\n \t}\n     }\n@@ -2371,7 +2371,7 @@ remove_ssa_form (FILE *dump, var_map map, int flags)\n       for (phi = phi_nodes (bb); phi; phi = next)\n \t{\n \t  next = PHI_CHAIN (phi);\n-\t  remove_phi_node (phi, NULL_TREE, bb);\n+\t  remove_phi_node (phi, NULL_TREE);\n \t}\n     }\n "}, {"sha": "dcf4ba078abf5bdde93a4c58729802c9590d184d", "filename": "gcc/tree-phinodes.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-phinodes.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-phinodes.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-phinodes.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -402,7 +402,7 @@ remove_phi_args (edge e)\n    used as the node immediately before PHI in the linked list.  */\n \n void\n-remove_phi_node (tree phi, tree prev, basic_block bb)\n+remove_phi_node (tree phi, tree prev)\n {\n   tree *loc;\n \n@@ -412,7 +412,7 @@ remove_phi_node (tree phi, tree prev, basic_block bb)\n     }\n   else\n     {\n-      for (loc = &(bb_ann (bb)->phi_nodes);\n+      for (loc = &(bb_ann (bb_for_stmt (phi))->phi_nodes);\n \t   *loc != phi;\n \t   loc = &PHI_CHAIN (*loc))\n \t;"}, {"sha": "6920ee101aee9892957b17f0da9d7294cae0dc2a", "filename": "gcc/tree-ssa-dce.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa-dce.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa-dce.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-dce.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -684,7 +684,7 @@ remove_dead_phis (basic_block bb)\n \t      fprintf (dump_file, \"\\n\");\n \t    }\n \n-\t  remove_phi_node (phi, prev, bb);\n+\t  remove_phi_node (phi, prev);\n \t  stats.removed_phis++;\n \t  phi = next;\n \t}"}, {"sha": "44314615646ca1e450d2c10f64940f868407a795", "filename": "gcc/tree-ssa-loop-ivopts.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa-loop-ivopts.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa-loop-ivopts.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-ivopts.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -4652,7 +4652,7 @@ remove_statement (tree stmt, bool including_defined_name)\n \t  /* Prevent the ssa name defined by the statement from being removed.  */\n \t  SET_PHI_RESULT (stmt, NULL);\n \t}\n-      remove_phi_node (stmt, NULL_TREE, bb_for_stmt (stmt));\n+      remove_phi_node (stmt, NULL_TREE);\n     }\n   else\n     {"}, {"sha": "f4488a72dc8282516e47b19545a4ef279f2074ca", "filename": "gcc/tree-ssa-pre.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa-pre.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa-pre.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-pre.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -2106,7 +2106,7 @@ remove_dead_inserted_code (void)\n \t    }\n \t  if (TREE_CODE (t) == PHI_NODE)\n \t    {\n-\t      remove_phi_node (t, NULL, bb_for_stmt (t));\n+\t      remove_phi_node (t, NULL);\n \t    }\n \t  else\n \t    {"}, {"sha": "91e28d6a499e973611c39722e512371dabfb8d0a", "filename": "gcc/tree-ssa.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d19e3ef69676036ebb9b3ad68f052a75690e3366/gcc%2Ftree-ssa.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa.c?ref=d19e3ef69676036ebb9b3ad68f052a75690e3366", "patch": "@@ -1288,7 +1288,7 @@ kill_redundant_phi_nodes (void)\n       if (repl != ssa_name (i))\n \t{\n \t  stmt = SSA_NAME_DEF_STMT (ssa_name (i));\n-\t  remove_phi_node (stmt, NULL_TREE, bb_for_stmt (stmt));\n+\t  remove_phi_node (stmt, NULL_TREE);\n \t}\n     }\n "}]}