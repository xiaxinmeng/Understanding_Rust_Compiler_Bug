{"sha": "91999e1db85c0e701fcfdea8c415076c610621ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTE5OTllMWRiODVjMGU3MDFmY2ZkZWE4YzQxNTA3NmM2MTA2MjFlZQ==", "commit": {"author": {"name": "Richard Sandiford", "email": "rsandifo@redhat.com", "date": "2003-10-19T07:52:10Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2003-10-19T07:52:10Z"}, "message": "mips.h (INITIALIZE_TRAMPOLINE): Simplify.\n\n\t* config/mips/mips.h (INITIALIZE_TRAMPOLINE): Simplify.\n\t* config/mips/mips.c (mips_load_got): Assume Pmode == ptr_mode.\n\t* config/mips/mips.md (extendsidi2, *extendsidi2): Merge. Don't accept\n\tcontant operands.\n\nFrom-SVN: r72671", "tree": {"sha": "e7e05bb67d1f5a69d2f0319957c1474ca4ffba9f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e7e05bb67d1f5a69d2f0319957c1474ca4ffba9f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/91999e1db85c0e701fcfdea8c415076c610621ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91999e1db85c0e701fcfdea8c415076c610621ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91999e1db85c0e701fcfdea8c415076c610621ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91999e1db85c0e701fcfdea8c415076c610621ee/comments", "author": null, "committer": null, "parents": [{"sha": "9c2d4260b349fe3dee8ed1ee00000230f743873a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9c2d4260b349fe3dee8ed1ee00000230f743873a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9c2d4260b349fe3dee8ed1ee00000230f743873a"}], "stats": {"total": 31, "additions": 10, "deletions": 21}, "files": [{"sha": "f7213d9cc7bc155303445ecde049bf44207e8433", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=91999e1db85c0e701fcfdea8c415076c610621ee", "patch": "@@ -1,3 +1,10 @@\n+2003-10-19  Richard Sandiford  <rsandifo@redhat.com>\n+\n+\t* config/mips/mips.h (INITIALIZE_TRAMPOLINE): Simplify.\n+\t* config/mips/mips.c (mips_load_got): Assume Pmode == ptr_mode.\n+\t* config/mips/mips.md (extendsidi2, *extendsidi2): Merge. Don't accept\n+\tcontant operands.\n+\n 2003-10-18  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* doc/extend.texi: Fix typos."}, {"sha": "db087f144a6cfcc61ec7eedab977275e085ecbd5", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=91999e1db85c0e701fcfdea8c415076c610621ee", "patch": "@@ -1656,9 +1656,6 @@ mips_load_got (rtx base, rtx addr, int reloc)\n   if (reloc != RELOC_CALL16 && reloc != RELOC_CALL_LO)\n     RTX_UNCHANGING_P (mem) = 1;\n \n-  if (Pmode != ptr_mode)\n-    mem = gen_rtx_SIGN_EXTEND (Pmode, mem);\n-\n   return mem;\n }\n "}, {"sha": "7af1026c828c06cb372e97e6e7f43be4ca137132", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=91999e1db85c0e701fcfdea8c415076c610621ee", "patch": "@@ -2524,10 +2524,8 @@ typedef struct mips_args {\n \t\t\t\t\t\t\t\t\t    \\\n   func_addr = plus_constant (ADDR, 32);\t\t\t\t\t    \\\n   chain_addr = plus_constant (func_addr, GET_MODE_SIZE (ptr_mode));\t    \\\n-  emit_move_insn (gen_rtx_MEM (ptr_mode, func_addr),\t\t\t    \\\n-\t\t  gen_lowpart (ptr_mode, force_reg (Pmode, FUNC)));\t    \\\n-  emit_move_insn (gen_rtx_MEM (ptr_mode, chain_addr),\t\t\t    \\\n-\t\t  gen_lowpart (ptr_mode, force_reg (Pmode, CHAIN)));\t    \\\n+  emit_move_insn (gen_rtx_MEM (ptr_mode, func_addr), FUNC);\t\t    \\\n+  emit_move_insn (gen_rtx_MEM (ptr_mode, chain_addr), CHAIN);\t\t    \\\n \t\t\t\t\t\t\t\t\t    \\\n   /* Flush both caches.  We need to flush the data cache in case\t    \\\n      the system has a write-back cache.  */\t\t\t\t    \\"}, {"sha": "def0088fd1e1dbf568cbfd850502847c130e162e", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 1, "deletions": 14, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91999e1db85c0e701fcfdea8c415076c610621ee/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=91999e1db85c0e701fcfdea8c415076c610621ee", "patch": "@@ -3479,20 +3479,7 @@ dsrl\\t%3,%3,1\\n\\\n ;; Extension insns.\n ;; Those for integer source operand are ordered widest source type first.\n \n-(define_expand \"extendsidi2\"\n-  [(set (match_operand:DI 0 \"register_operand\" \"\")\n-        (sign_extend:DI (match_operand:SI 1 \"move_operand\" \"\")))]\n-  \"TARGET_64BIT\"\n-{\n-  if (symbolic_operand (operands[1], SImode))\n-    {\n-      emit_move_insn (operands[0],\n-\t\t      convert_memory_address (DImode, operands[1]));\n-      DONE;\n-    }\n-})\n-\n-(define_insn \"*extendsidi2\"\n+(define_insn \"extendsidi2\"\n   [(set (match_operand:DI 0 \"register_operand\" \"=d,d\")\n         (sign_extend:DI (match_operand:SI 1 \"nonimmediate_operand\" \"d,m\")))]\n   \"TARGET_64BIT\""}]}