{"sha": "95edead9aab7a70636f87ea041f05469dc41d9a9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTVlZGVhZDlhYWI3YTcwNjM2Zjg3ZWEwNDFmMDU0NjlkYzQxZDlhOQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-07-31T16:51:00Z"}, "committer": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2020-07-31T16:51:00Z"}, "message": "libstdc++: Add -Wno-deprecated for tests that warn in C++20\n\nlibstdc++-v3/ChangeLog:\n\n\t* testsuite/20_util/tuple/78939.cc: Suppress warnings about\n\tdeprecation of volatile-qualified structured bindings in C++20.\n\t* testsuite/20_util/variable_templates_for_traits.cc: Likewise\n\tfor deprecation of is_pod in C++20", "tree": {"sha": "daa82be2238a28e211dd22b332a6d3dae13b260b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/daa82be2238a28e211dd22b332a6d3dae13b260b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/95edead9aab7a70636f87ea041f05469dc41d9a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95edead9aab7a70636f87ea041f05469dc41d9a9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/95edead9aab7a70636f87ea041f05469dc41d9a9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/95edead9aab7a70636f87ea041f05469dc41d9a9/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "351f60794c116d25a78da5220f3da74b4268cb8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/351f60794c116d25a78da5220f3da74b4268cb8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/351f60794c116d25a78da5220f3da74b4268cb8d"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "b2ff324b232bfbfbad97008b0d22ec870ed95481", "filename": "libstdc++-v3/testsuite/20_util/tuple/78939.cc", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95edead9aab7a70636f87ea041f05469dc41d9a9/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2F78939.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95edead9aab7a70636f87ea041f05469dc41d9a9/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2F78939.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Ftuple%2F78939.cc?ref=95edead9aab7a70636f87ea041f05469dc41d9a9", "patch": "@@ -16,6 +16,7 @@\n // <http://www.gnu.org/licenses/>.\n \n // { dg-options \"-std=gnu++17\" }\n+// { dg-additional-options \"-Wno-deprecated\" { target c++2a } }\n // { dg-do compile { target c++17 } }\n \n // PR libstdc++/78939\n@@ -36,14 +37,14 @@ int\n test02()\n {\n   A a{};\n-  volatile auto [i, j] = a;\n+  volatile auto [i, j] = a; // deprecated in C++20\n   return i + j;\n }\n \n int\n test03()\n {\n   A a{};\n-  const volatile auto [i, j] = a;\n+  const volatile auto [i, j] = a; // deprecated in C++20\n   return i + j;\n }"}, {"sha": "9c1f82b5c86133f6c501150893b1b1e3cf0727b8", "filename": "libstdc++-v3/testsuite/20_util/variable_templates_for_traits.cc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/95edead9aab7a70636f87ea041f05469dc41d9a9/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fvariable_templates_for_traits.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/95edead9aab7a70636f87ea041f05469dc41d9a9/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fvariable_templates_for_traits.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F20_util%2Fvariable_templates_for_traits.cc?ref=95edead9aab7a70636f87ea041f05469dc41d9a9", "patch": "@@ -1,5 +1,6 @@\n // { dg-options \"-std=gnu++17\" }\n-// { dg-do compile }\n+// { dg-additional-options \"-Wno-deprecated\" { target c++2a } }\n+// { dg-do compile { target c++17 } }\n \n // Copyright (C) 2014-2020 Free Software Foundation, Inc.\n //\n@@ -142,6 +143,7 @@ static_assert(is_standard_layout_v<int>\n static_assert(!is_standard_layout_v<NType>\n \t      && !is_standard_layout<NType>::value, \"\");\n \n+// Deprecated in C++20\n static_assert(is_pod_v<int>\n \t      && is_pod<int>::value, \"\");\n static_assert(!is_pod_v<NType>"}]}