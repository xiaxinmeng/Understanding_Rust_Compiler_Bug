{"sha": "b5cbe7eee3cb428d07035b33c3d79684684e93bd", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjVjYmU3ZWVlM2NiNDI4ZDA3MDM1YjMzYzNkNzk2ODQ2ODRlOTNiZA==", "commit": {"author": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2006-01-13T21:09:24Z"}, "committer": {"name": "Steven G. Kargl", "email": "kargl@gcc.gnu.org", "date": "2006-01-13T21:09:24Z"}, "message": "[multiple changes]\n\n2006-01-13  Steven G. Kargl  <kargls@comcast.net>\n\n        PR fortran/25756\n        * symbol.c (gfc_free_st_label): Give variable meaningful name. Remove\n        unneeded parenthesis. Fix-up the head of the list (2 lines gleaned\n        from g95).\n\n2006-01-13  Bernhard Fischer  <rep.nop@aon.at>\n\n        PR fortran/25756\n        * gfortran.dg/label_3.f90: New test.\n\nFrom-SVN: r109674", "tree": {"sha": "73dc7b36452565e4319d896f996e0d4c5bb875a3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/73dc7b36452565e4319d896f996e0d4c5bb875a3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b5cbe7eee3cb428d07035b33c3d79684684e93bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5cbe7eee3cb428d07035b33c3d79684684e93bd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b5cbe7eee3cb428d07035b33c3d79684684e93bd", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b5cbe7eee3cb428d07035b33c3d79684684e93bd/comments", "author": null, "committer": null, "parents": [{"sha": "47adc0164ed1ef318809797c43ff179cc756c90c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/47adc0164ed1ef318809797c43ff179cc756c90c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/47adc0164ed1ef318809797c43ff179cc756c90c"}], "stats": {"total": 39, "additions": 30, "deletions": 9}, "files": [{"sha": "29a4c77ffb07d43febd5dcd890f5b0dd0f531721", "filename": "gcc/fortran/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ffortran%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ffortran%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2FChangeLog?ref=b5cbe7eee3cb428d07035b33c3d79684684e93bd", "patch": "@@ -1,3 +1,10 @@\n+2006-01-13  Steven G. Kargl  <kargls@comcast.net>\n+\n+\tPR fortran/25756\n+\t* symbol.c (gfc_free_st_label): Give variable meaningful name. Remove\n+\tunneeded parenthesis. Fix-up the head of the list (2 lines gleaned\n+\tfrom g95).\n+\n 2006-01-13  Diego Novillo  <dnovillo@redhat.com>\n \n \t* trans.c (gfc_add_expr_to_block): Do not fold tcc_statement"}, {"sha": "6eec85308ec3a09d0bf29735eb3e3a28c5ced6b6", "filename": "gcc/fortran/symbol.c", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ffortran%2Fsymbol.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ffortran%2Fsymbol.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Fsymbol.c?ref=b5cbe7eee3cb428d07035b33c3d79684684e93bd", "patch": "@@ -1473,21 +1473,25 @@ gfc_get_component_attr (symbol_attribute * attr, gfc_component * c)\n    occurs.  */\n \n void\n-gfc_free_st_label (gfc_st_label * l)\n+gfc_free_st_label (gfc_st_label * label)\n {\n \n-  if (l == NULL)\n+  if (label == NULL)\n     return;\n \n-  if (l->prev)\n-    (l->prev->next = l->next);\n+  if (label->prev)\n+    label->prev->next = label->next;\n \n-  if (l->next)\n-    (l->next->prev = l->prev);\n+  if (label->next)\n+    label->next->prev = label->prev;\n \n-  if (l->format != NULL)\n-    gfc_free_expr (l->format);\n-  gfc_free (l);\n+  if (gfc_current_ns->st_labels == label)\n+    gfc_current_ns->st_labels = label->next;\n+\n+  if (label->format != NULL)\n+    gfc_free_expr (label->format);\n+\n+  gfc_free (label);\n }\n \n /* Free a whole list of gfc_st_label structures.  */"}, {"sha": "daf4596b8c441e32a2435061d3ea2143cfa81a84", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b5cbe7eee3cb428d07035b33c3d79684684e93bd", "patch": "@@ -1,3 +1,8 @@\n+2006-01-13  Bernhard Fischer  <rep.nop@aon.at>\n+\n+\tPR fortran/25756\n+\t* gfortran.dg/label_3.f90: New test.\n+\n 2006-01-13 Daniel Berlin  <dberlin@dberlin.org>\n \n \tPR tree-optimization/25771"}, {"sha": "5cebe935b227c43ac4610658dd1b2c2af8bb1a9b", "filename": "gcc/testsuite/gfortran.dg/label_3.f90", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ftestsuite%2Fgfortran.dg%2Flabel_3.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b5cbe7eee3cb428d07035b33c3d79684684e93bd/gcc%2Ftestsuite%2Fgfortran.dg%2Flabel_3.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Flabel_3.f90?ref=b5cbe7eee3cb428d07035b33c3d79684684e93bd", "patch": "@@ -0,0 +1,5 @@\n+! { dg-do compile }\n+! PR fortran/25756.\n+! This used to ICE due to the space after the label.\n+1 ! { dg-warning \"Ignoring statement label in empty statement\" }\n+end"}]}