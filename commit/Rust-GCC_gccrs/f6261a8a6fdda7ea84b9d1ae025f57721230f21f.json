{"sha": "f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjYyNjFhOGE2ZmRkYTdlYTg0YjlkMWFlMDI1ZjU3NzIxMjMwZjIxZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@vlsi1.ultra.nyu.edu", "date": "2001-06-15T22:05:09Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "2001-06-15T22:05:09Z"}, "message": "* explow.c (expr_size): If DECL and size specified, use it.\n\nFrom-SVN: r43407", "tree": {"sha": "fb250efb394301de4933b4d6c037ad6511e163d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fb250efb394301de4933b4d6c037ad6511e163d8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f6261a8a6fdda7ea84b9d1ae025f57721230f21f/comments", "author": null, "committer": null, "parents": [{"sha": "1c5dd43ff7c78bbdba5e89a6cb16a3e50e1abff9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1c5dd43ff7c78bbdba5e89a6cb16a3e50e1abff9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1c5dd43ff7c78bbdba5e89a6cb16a3e50e1abff9"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "639c3fa3d9e0c8140d1189a966de529928a6fc1d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6261a8a6fdda7ea84b9d1ae025f57721230f21f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6261a8a6fdda7ea84b9d1ae025f57721230f21f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "patch": "@@ -1,3 +1,7 @@\n+Fri Jun 15 18:05:22 2001  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n+\n+\t* explow.c (expr_size): If DECL and size specified, use it.\n+\n 2001-06-15  Zack Weinberg  <zackw@stanford.edu>\n \n \t* doc/cpp.texi: Formatting corrections."}, {"sha": "0281826508a2d91944b8d06b6e0d66cd73e8da66", "filename": "gcc/explow.c", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f6261a8a6fdda7ea84b9d1ae025f57721230f21f/gcc%2Fexplow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f6261a8a6fdda7ea84b9d1ae025f57721230f21f/gcc%2Fexplow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fexplow.c?ref=f6261a8a6fdda7ea84b9d1ae025f57721230f21f", "patch": "@@ -301,7 +301,13 @@ rtx\n expr_size (exp)\n      tree exp;\n {\n-  tree size = size_in_bytes (TREE_TYPE (exp));\n+  tree size;\n+\n+  if (TREE_CODE_CLASS (TREE_CODE (exp)) == 'd'\n+      && DECL_SIZE_UNIT (exp) != 0)\n+    size = DECL_SIZE_UNIT (exp);\n+  else\n+    size = size_in_bytes (TREE_TYPE (exp));\n \n   if (TREE_CODE (size) != INTEGER_CST\n       && contains_placeholder_p (size))"}]}