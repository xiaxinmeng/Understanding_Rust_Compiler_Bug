{"sha": "51f174c0efe187d46102bf8010d6096cada1a0cb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTFmMTc0YzBlZmUxODdkNDYxMDJiZjgwMTBkNjA5NmNhZGExYTBjYg==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-02-15T20:56:41Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-02-15T20:56:41Z"}, "message": "PR libstdc++/81797 Add .NOTPARALLEL to include/Makefile for darwin\n\n\tPR libstdc++/81797\n\t* configure.ac (INCLUDE_DIR_NOTPARALLEL): Define.\n\t* configure: Regenerate.\n\t* include/Makefile.am (INCLUDE_DIR_NOTPARALLEL): Add .NOTPARALLEL when\n\tdefined.\n\t* include/Makefile.in: Regenerate.\n\nFrom-SVN: r257710", "tree": {"sha": "cc3f0d36eb5c12c3851b19bcbb9348ad94b28de4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc3f0d36eb5c12c3851b19bcbb9348ad94b28de4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/51f174c0efe187d46102bf8010d6096cada1a0cb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51f174c0efe187d46102bf8010d6096cada1a0cb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51f174c0efe187d46102bf8010d6096cada1a0cb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51f174c0efe187d46102bf8010d6096cada1a0cb/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "117ad0be08050242d0235b586dc431038f04dcf0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/117ad0be08050242d0235b586dc431038f04dcf0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/117ad0be08050242d0235b586dc431038f04dcf0"}], "stats": {"total": 59, "additions": 50, "deletions": 9}, "files": [{"sha": "b2aa592cf7e5fd955a3c01cef7ce3481dbec7ea6", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=51f174c0efe187d46102bf8010d6096cada1a0cb", "patch": "@@ -1,3 +1,12 @@\n+2018-02-15  Jonathan Wakely  <jwakely@redhat.com>\n+\n+\tPR libstdc++/81797\n+\t* configure.ac (INCLUDE_DIR_NOTPARALLEL): Define.\n+\t* configure: Regenerate.\n+\t* include/Makefile.am (INCLUDE_DIR_NOTPARALLEL): Add .NOTPARALLEL when\n+\tdefined.\n+\t* include/Makefile.in: Regenerate.\n+\n 2018-01-29  Jonathan Wakely  <jwakely@redhat.com>\n \n \tPR libstdc++/83833"}, {"sha": "fb3bf675bbc8a58ddd96840ff7703948c59851ff", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 27, "deletions": 9, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=51f174c0efe187d46102bf8010d6096cada1a0cb", "patch": "@@ -621,6 +621,8 @@ CPU_DEFINES_SRCDIR\n ATOMIC_FLAGS\n ATOMIC_WORD_SRCDIR\n ATOMICITY_SRCDIR\n+INCLUDE_DIR_NOTPARALLEL_FALSE\n+INCLUDE_DIR_NOTPARALLEL_TRUE\n BUILD_PDF_FALSE\n BUILD_PDF_TRUE\n PDFLATEX\n@@ -11605,7 +11607,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11608 \"configure\"\n+#line 11610 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -11711,7 +11713,7 @@ else\n   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n   lt_status=$lt_dlunknown\n   cat > conftest.$ac_ext <<_LT_EOF\n-#line 11714 \"configure\"\n+#line 11716 \"configure\"\n #include \"confdefs.h\"\n \n #if HAVE_DLFCN_H\n@@ -15397,7 +15399,7 @@ $as_echo \"$glibcxx_cv_atomic_long_long\" >&6; }\n   # Fake what AC_TRY_COMPILE does.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15400 \"configure\"\n+#line 15402 \"configure\"\n int main()\n {\n   typedef bool atomic_type;\n@@ -15432,7 +15434,7 @@ $as_echo \"$glibcxx_cv_atomic_bool\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15435 \"configure\"\n+#line 15437 \"configure\"\n int main()\n {\n   typedef short atomic_type;\n@@ -15467,7 +15469,7 @@ $as_echo \"$glibcxx_cv_atomic_short\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15470 \"configure\"\n+#line 15472 \"configure\"\n int main()\n {\n   // NB: _Atomic_word not necessarily int.\n@@ -15503,7 +15505,7 @@ $as_echo \"$glibcxx_cv_atomic_int\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15506 \"configure\"\n+#line 15508 \"configure\"\n int main()\n {\n   typedef long long atomic_type;\n@@ -15584,7 +15586,7 @@ $as_echo \"$as_me: WARNING: Performance of certain classes will degrade as a resu\n   # unnecessary for this test.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15587 \"configure\"\n+#line 15589 \"configure\"\n int main()\n {\n   _Decimal32 d1;\n@@ -15626,7 +15628,7 @@ ac_compiler_gnu=$ac_cv_cxx_compiler_gnu\n   # unnecessary for this test.\n \n     cat > conftest.$ac_ext << EOF\n-#line 15629 \"configure\"\n+#line 15631 \"configure\"\n template<typename T1, typename T2>\n   struct same\n   { typedef T2 type; };\n@@ -15660,7 +15662,7 @@ $as_echo \"$enable_int128\" >&6; }\n     rm -f conftest*\n \n     cat > conftest.$ac_ext << EOF\n-#line 15663 \"configure\"\n+#line 15665 \"configure\"\n template<typename T1, typename T2>\n   struct same\n   { typedef T2 type; };\n@@ -81079,6 +81081,18 @@ else\n fi\n \n \n+case \"$build\" in\n+ *-*-darwin* ) glibcxx_include_dir_notparallel=yes ;;\n+ * ) glibcxx_include_dir_notparallel=no ;;\n+esac\n+ if test $glibcxx_include_dir_notparallel = \"yes\"; then\n+  INCLUDE_DIR_NOTPARALLEL_TRUE=\n+  INCLUDE_DIR_NOTPARALLEL_FALSE='#'\n+else\n+  INCLUDE_DIR_NOTPARALLEL_TRUE='#'\n+  INCLUDE_DIR_NOTPARALLEL_FALSE=\n+fi\n+\n \n # Propagate the target-specific source directories through the build chain.\n ATOMICITY_SRCDIR=config/${atomicity_dir}\n@@ -81845,6 +81859,10 @@ if test -z \"${BUILD_PDF_TRUE}\" && test -z \"${BUILD_PDF_FALSE}\"; then\n   as_fn_error \"conditional \\\"BUILD_PDF\\\" was never defined.\n Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n fi\n+if test -z \"${INCLUDE_DIR_NOTPARALLEL_TRUE}\" && test -z \"${INCLUDE_DIR_NOTPARALLEL_FALSE}\"; then\n+  as_fn_error \"conditional \\\"INCLUDE_DIR_NOTPARALLEL\\\" was never defined.\n+Usually this means the macro was only invoked conditionally.\" \"$LINENO\" 5\n+fi\n \n : ${CONFIG_STATUS=./config.status}\n ac_write_fail=0"}, {"sha": "0ef96270c9c5117de484db65a91938df9141e631", "filename": "libstdc++-v3/configure.ac", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.ac?ref=51f174c0efe187d46102bf8010d6096cada1a0cb", "patch": "@@ -473,6 +473,12 @@ AM_CONDITIONAL(BUILD_PDF,\n \t       test $ac_cv_prog_DBLATEX = \"yes\" &&\n \t       test $ac_cv_prog_PDFLATEX = \"yes\")\n \n+case \"$build\" in\n+ *-*-darwin* ) glibcxx_include_dir_notparallel=yes ;;\n+ * ) glibcxx_include_dir_notparallel=no ;;\n+esac\n+AM_CONDITIONAL(INCLUDE_DIR_NOTPARALLEL,\n+               test $glibcxx_include_dir_notparallel = \"yes\")\n \n # Propagate the target-specific source directories through the build chain.\n ATOMICITY_SRCDIR=config/${atomicity_dir}"}, {"sha": "70a662fa2f9e01a7315f079008b9d6b8fea08dae", "filename": "libstdc++-v3/include/Makefile.am", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Finclude%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Finclude%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.am?ref=51f174c0efe187d46102bf8010d6096cada1a0cb", "patch": "@@ -1479,3 +1479,8 @@ $(decimal_headers): ; @:\n $(ext_headers): ; @:\n $(experimental_headers): ; @:\n $(experimental_bits_headers): ; @:\n+\n+if INCLUDE_DIR_NOTPARALLEL\n+# See https://gcc.gnu.org/bugzilla/show_bug.cgi?id=81797\n+.NOTPARALLEL:\n+endif"}, {"sha": "790887a259cef9ae4d4dd88d0ac5af7339dc29eb", "filename": "libstdc++-v3/include/Makefile.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/51f174c0efe187d46102bf8010d6096cada1a0cb/libstdc%2B%2B-v3%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2FMakefile.in?ref=51f174c0efe187d46102bf8010d6096cada1a0cb", "patch": "@@ -1903,6 +1903,9 @@ $(ext_headers): ; @:\n $(experimental_headers): ; @:\n $(experimental_bits_headers): ; @:\n \n+# See https://gcc.gnu.org/bugzilla/show_bug.cgi?id=81797\n+@INCLUDE_DIR_NOTPARALLEL_TRUE@.NOTPARALLEL:\n+\n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded.\n .NOEXPORT:"}]}