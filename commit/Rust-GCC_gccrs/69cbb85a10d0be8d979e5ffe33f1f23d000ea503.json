{"sha": "69cbb85a10d0be8d979e5ffe33f1f23d000ea503", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjljYmI4NWExMGQwYmU4ZDk3OWU1ZmZlMzNmMWYyM2QwMDBlYTUwMw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-09-29T22:11:33Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1996-09-29T22:11:33Z"}, "message": "(installdirs): Renamed from install-dir.\n\nCreate $(prefix) and $(exec_prefix) if doesn't exist.\n(install-float): Reflect new name for installdirs.\n(install-{common,info,man,libgcc,multilib,libobjc}): Likewise.\n(install-{include-dir,assert-h,collect2}): Likewise.\n\nFrom-SVN: r12857", "tree": {"sha": "471f2b68cbd4634a898b68f21a17e1b306559501", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/471f2b68cbd4634a898b68f21a17e1b306559501"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69cbb85a10d0be8d979e5ffe33f1f23d000ea503", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69cbb85a10d0be8d979e5ffe33f1f23d000ea503", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69cbb85a10d0be8d979e5ffe33f1f23d000ea503", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69cbb85a10d0be8d979e5ffe33f1f23d000ea503/comments", "author": null, "committer": null, "parents": [{"sha": "5c6b1bd2d3659f9bb8e1dfe133c4b2d12ef03595", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5c6b1bd2d3659f9bb8e1dfe133c4b2d12ef03595", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5c6b1bd2d3659f9bb8e1dfe133c4b2d12ef03595"}], "stats": {"total": 26, "additions": 14, "deletions": 12}, "files": [{"sha": "34e881d3860ee49e8dc8037f6a7b8f2c3570b72a", "filename": "gcc/Makefile.in", "status": "modified", "additions": 14, "deletions": 12, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69cbb85a10d0be8d979e5ffe33f1f23d000ea503/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69cbb85a10d0be8d979e5ffe33f1f23d000ea503/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=69cbb85a10d0be8d979e5ffe33f1f23d000ea503", "patch": "@@ -2109,7 +2109,7 @@ install-cross-rest: install-float-h-cross\n \n # Install float.h for cross compiler.\n # Run this on the target machine!\n-install-float-h-cross: install-dir\n+install-float-h-cross: installdirs\n #\tif [ -f enquire ] ; then true; else false; fi\n # Note: don't use -.  We should fail right away if enquire was not made.\n \t./enquire -f > $(tmpdir)/float.h\n@@ -2118,8 +2118,10 @@ install-float-h-cross: install-dir\n \t-rm -f $(tmpdir)/float.h\n \tchmod a-x $(libsubdir)/include/float.h\n \n-# Create the installation directory.\n-install-dir:\n+# Create the installation directories.\n+installdirs:\n+\t-if [ -d $(prefix) ] ; then true ; else mkdir $(prefix) ; chmod a+rx $(prefix) ; fi\n+\t-if [ -d $(exec_prefix) ] ; then true ; else mkdir $(exec_prefix) ; chmod a+rx $(exec_prefix) ; fi\n \t-if [ -d $(libdir) ] ; then true ; else mkdir $(libdir) ; chmod a+rx $(libdir) ; fi\n \t-if [ -d $(libdir)/gcc-lib ] ; then true ; else mkdir $(libdir)/gcc-lib ; chmod a+rx $(libdir)/gcc-lib ; fi\n # This dir isn't currently searched by cpp.\n@@ -2140,7 +2142,7 @@ install-dir:\n \t-if [ -d $(mandir) ] ; then true ; else mkdir $(mandir) ; chmod a+rx $(mandir) ; fi\n \n # Install the compiler executables built during cross compilation.\n-install-common: native install-dir $(EXTRA_PARTS) lang.install-common\n+install-common: native installdirs $(EXTRA_PARTS) lang.install-common\n \tfor file in $(COMPILERS); do \\\n \t  if [ -f $$file ] ; then \\\n \t    rm -f $(libsubdir)/$$file; \\\n@@ -2200,14 +2202,14 @@ install-driver: xgcc\n \tfi\n \n # Install the info files.\n-install-info: doc install-dir lang.install-info\n+install-info: doc installdirs lang.install-info\n \t-rm -f $(infodir)/cpp.info* $(infodir)/gcc.info*\n \tcd $(srcdir); for f in cpp.info* gcc.info*; \\\n \tdo $(INSTALL_DATA) $$f $(infodir)/$$f; done\n \t-chmod a-x $(infodir)/cpp.info* $(infodir)/gcc.info*\n \n # Install the man pages.\n-install-man: install-dir $(srcdir)/gcc.1 $(srcdir)/cccp.1 lang.install-man\n+install-man: installdirs $(srcdir)/gcc.1 $(srcdir)/cccp.1 lang.install-man\n \t-if [ -f gcc-cross ] ; then \\\n \t  rm -f $(mandir)/$(GCC_CROSS_NAME)$(manext); \\\n \t  $(INSTALL_DATA) $(srcdir)/gcc.1 $(mandir)/$(GCC_CROSS_NAME)$(manext); \\\n@@ -2222,7 +2224,7 @@ install-man: install-dir $(srcdir)/gcc.1 $(srcdir)/cccp.1 lang.install-man\n \t-chmod a-x $(mandir)/cccp$(manext)\n \n # Install the library.\n-install-libgcc: libgcc.a install-dir\n+install-libgcc: libgcc.a installdirs\n \t-if [ -f libgcc.a ] ; then \\\n \t  rm -f $(libsubdir)/libgcc.a; \\\n \t  $(INSTALL_DATA) libgcc.a $(libsubdir)/libgcc.a; \\\n@@ -2232,7 +2234,7 @@ install-libgcc: libgcc.a install-dir\n \telse true; fi\n \n # Install multiple versions of libgcc.a.\n-install-multilib: stmp-multilib install-dir\n+install-multilib: stmp-multilib installdirs\n \tfor i in `$(GCC_FOR_TARGET) --print-multi-lib`; do \\\n \t  dir=`echo $$i | sed -e 's/;.*$$//'`; \\\n \t  if [ -d $(libsubdir)/$${dir} ]; then true; else mkdir $(libsubdir)/$${dir}; fi; \\\n@@ -2244,7 +2246,7 @@ install-multilib: stmp-multilib install-dir\n \tdone\n \n # Install the objc run time library.\n-install-libobjc: install-dir\n+install-libobjc: installdirs\n \t-if [ -f libobjc.a ] ; then \\\n \t  rm -f $(libsubdir)/libobjc.a; \\\n \t  $(INSTALL_DATA) libobjc.a $(libsubdir)/libobjc.a; \\\n@@ -2270,7 +2272,7 @@ install-headers: install-include-dir $(INSTALL_HEADERS_DIR) $(INSTALL_ASSERT_H)\n \tfi\n \n # Create or recreate the gcc private include file directory.\n-install-include-dir: install-dir\n+install-include-dir: installdirs\n \t-rm -rf $(libsubdir)/include\n \tmkdir $(libsubdir)/include\n \t-chmod a+rx $(libsubdir)/include\n@@ -2294,7 +2296,7 @@ install-headers-cpio: stmp-headers $(STMP_FIXPROTO) install-include-dir\n ## Don't replace the assert.h already there if it is not from GCC.\n ## This code would be simpler if it tested for -f ... && ! grep ...\n ## but supposedly the ! operator is missing in sh on some systems.\n-install-assert-h: assert.h install-dir\n+install-assert-h: assert.h installdirs\n \tif [ -f $(assertdir)/assert.h ]; \\\n \tthen \\\n \t  if grep \"__eprintf\" $(assertdir)/assert.h >/dev/null; \\\n@@ -2311,7 +2313,7 @@ install-assert-h: assert.h install-dir\n \tfi\n \n # Use this target to install the program `collect2' under the name `ld'.\n-install-collect2: collect2 install-dir\n+install-collect2: collect2 installdirs\n \t$(INSTALL_PROGRAM) collect2$(exeext) $(libsubdir)/ld$(exeext)\n # Install the driver program as $(libsubdir)/gcc for collect2.\n \t$(INSTALL_PROGRAM) xgcc$(exeext) $(libsubdir)/gcc$(exeext)"}]}