{"sha": "adcde84f0e085a0dbf08d15cc1fe5751062a19a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWRjZGU4NGYwZTA4NWEwZGJmMDhkMTVjYzFmZTU3NTEwNjJhMTlhNA==", "commit": {"author": {"name": "Bernd Schmidt", "email": "bernds@codesourcery.com", "date": "2014-08-25T16:15:49Z"}, "committer": {"name": "Bernd Schmidt", "email": "bernds@gcc.gnu.org", "date": "2014-08-25T16:15:49Z"}, "message": "Fix invalid gimple made by finalize_nesting_tree_1.\n\n\t* tree-nested.c (finalize_nesting_tree_1): Initialize temporary earlier\n\trather than modifying the stmt.\n\nFrom-SVN: r214434", "tree": {"sha": "c496903712d9138d05e0ce23b0886245f609a88e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c496903712d9138d05e0ce23b0886245f609a88e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/adcde84f0e085a0dbf08d15cc1fe5751062a19a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adcde84f0e085a0dbf08d15cc1fe5751062a19a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/adcde84f0e085a0dbf08d15cc1fe5751062a19a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/adcde84f0e085a0dbf08d15cc1fe5751062a19a4/comments", "author": null, "committer": null, "parents": [{"sha": "423608115c8c93386979d6e90291dc5985601c04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/423608115c8c93386979d6e90291dc5985601c04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/423608115c8c93386979d6e90291dc5985601c04"}], "stats": {"total": 15, "additions": 10, "deletions": 5}, "files": [{"sha": "c5ef2816273dc0da87a0b20c494f43b40134eb1c", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adcde84f0e085a0dbf08d15cc1fe5751062a19a4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adcde84f0e085a0dbf08d15cc1fe5751062a19a4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=adcde84f0e085a0dbf08d15cc1fe5751062a19a4", "patch": "@@ -1,3 +1,8 @@\n+2014-08-25  Bernd Schmidt  <bernds@codesourcery.com>\n+\n+\t* tree-nested.c (finalize_nesting_tree_1): Initialize temporary earlier\n+\trather than modifying the stmt.\n+\n 2014-08-25  Jan-Benedict Glaw  <jbglaw@lug-owl.de>\n \n \t* config/rs6000/rs6000.c (rs6000_return_in_msb): Fix fallout from"}, {"sha": "6ca594d9ffece005ab5b65021d57e322dc55156e", "filename": "gcc/tree-nested.c", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/adcde84f0e085a0dbf08d15cc1fe5751062a19a4/gcc%2Ftree-nested.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/adcde84f0e085a0dbf08d15cc1fe5751062a19a4/gcc%2Ftree-nested.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-nested.c?ref=adcde84f0e085a0dbf08d15cc1fe5751062a19a4", "patch": "@@ -2715,19 +2715,19 @@ finalize_nesting_tree_1 (struct nesting_info *root)\n \t  else\n \t    x = p;\n \n-\t  y = build3 (COMPONENT_REF, TREE_TYPE (field),\n-\t\t      root->frame_decl, field, NULL_TREE);\n-\t  stmt = gimple_build_assign (y, x);\n-\t  gimple_seq_add_stmt (&stmt_list, stmt);\n \t  /* If the assignment is from a non-register the stmt is\n \t     not valid gimple.  Make it so by using a temporary instead.  */\n \t  if (!is_gimple_reg (x)\n \t      && is_gimple_reg_type (TREE_TYPE (x)))\n \t    {\n \t      gimple_stmt_iterator gsi = gsi_last (stmt_list);\n \t      x = init_tmp_var (root, x, &gsi);\n-\t      gimple_assign_set_rhs1 (stmt, x);\n \t    }\n+\n+\t  y = build3 (COMPONENT_REF, TREE_TYPE (field),\n+\t\t      root->frame_decl, field, NULL_TREE);\n+\t  stmt = gimple_build_assign (y, x);\n+\t  gimple_seq_add_stmt (&stmt_list, stmt);\n \t}\n     }\n "}]}