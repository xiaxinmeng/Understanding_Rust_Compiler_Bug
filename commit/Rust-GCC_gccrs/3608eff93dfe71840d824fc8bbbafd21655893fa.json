{"sha": "3608eff93dfe71840d824fc8bbbafd21655893fa", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzYwOGVmZjkzZGZlNzE4NDBkODI0ZmM4YmJiYWZkMjE2NTU4OTNmYQ==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "2017-05-02T22:39:23Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2017-05-02T22:39:23Z"}, "message": "ggc-page.c (move_ptes_to_front): Replace unsigned >0 with i-- check.\n\n\t* ggc-page.c (move_ptes_to_front): Replace unsigned >0 with i--\n\tcheck.  Fix formatting.\n\nFrom-SVN: r247529", "tree": {"sha": "1a18b1a2f6601b38461a204f8868da68896cd415", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1a18b1a2f6601b38461a204f8868da68896cd415"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3608eff93dfe71840d824fc8bbbafd21655893fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3608eff93dfe71840d824fc8bbbafd21655893fa", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3608eff93dfe71840d824fc8bbbafd21655893fa", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3608eff93dfe71840d824fc8bbbafd21655893fa/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0e8d6eb79458dbf590d4464496f8a55663813c79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e8d6eb79458dbf590d4464496f8a55663813c79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e8d6eb79458dbf590d4464496f8a55663813c79"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "e36fdc943c37382d416c18cc4c4b665955c36914", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3608eff93dfe71840d824fc8bbbafd21655893fa/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3608eff93dfe71840d824fc8bbbafd21655893fa/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3608eff93dfe71840d824fc8bbbafd21655893fa", "patch": "@@ -1,3 +1,8 @@\n+2017-05-02  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* ggc-page.c (move_ptes_to_front): Replace unsigned >0 with i--\n+\tcheck.  Fix formatting.\n+\n 2017-05-02  Jan Hubicka  <hubicka@ucw.cz>\n \n \t* ipa-inline-analysis.c (estimate_node_size_and_time): Allow roundoff"}, {"sha": "5f79e32ded473b5cbbbd32d2e95dda09a6ee863a", "filename": "gcc/ggc-page.c", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3608eff93dfe71840d824fc8bbbafd21655893fa/gcc%2Fggc-page.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3608eff93dfe71840d824fc8bbbafd21655893fa/gcc%2Fggc-page.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fggc-page.c?ref=3608eff93dfe71840d824fc8bbbafd21655893fa", "patch": "@@ -2507,8 +2507,6 @@ ggc_pch_finish (struct ggc_pch_data *d, FILE *f)\n static void\n move_ptes_to_front (int count_old_page_tables, int count_new_page_tables)\n {\n-  unsigned i;\n-\n   /* First, we swap the new entries to the front of the varrays.  */\n   page_entry **new_by_depth;\n   unsigned long **new_save_in_use;\n@@ -2536,10 +2534,10 @@ move_ptes_to_front (int count_old_page_tables, int count_new_page_tables)\n   G.save_in_use = new_save_in_use;\n \n   /* Now update all the index_by_depth fields.  */\n-  for (i = G.by_depth_in_use; i > 0; --i)\n+  for (unsigned i = G.by_depth_in_use; i--;)\n     {\n-      page_entry *p = G.by_depth[i-1];\n-      p->index_by_depth = i-1;\n+      page_entry *p = G.by_depth[i];\n+      p->index_by_depth = i;\n     }\n \n   /* And last, we update the depth pointers in G.depth.  The first"}]}