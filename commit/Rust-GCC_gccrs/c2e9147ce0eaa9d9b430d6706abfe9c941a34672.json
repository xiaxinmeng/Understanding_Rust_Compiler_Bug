{"sha": "c2e9147ce0eaa9d9b430d6706abfe9c941a34672", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzJlOTE0N2NlMGVhYTlkOWI0MzBkNjcwNmFiZmU5Yzk0MWEzNDY3Mg==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@apple.com", "date": "2003-04-23T00:06:31Z"}, "committer": {"name": "Loren J. Rittle", "email": "ljrittle@gcc.gnu.org", "date": "2003-04-23T00:06:31Z"}, "message": "dwarf2out.c (fde_table_allocated): Mark with GTY.\n\n\t* dwarf2out.c (fde_table_allocated): Mark with GTY.\n\t(decl_die_table_allocated): Likewise.\n\t(abbrev_die_table_allocated): Likewise.\n\t(line_info_table_allocated): Likewise.\n\t(separate_line_info_table_allocated): Likewise.\n\t(pubname_table_allocated): Likewise.\n\t(arange_table_allocated): Likewise.\n\t(ranges_table_allocated): Likewise.\n\t(decl_die_table_in_use): Unconditionalize; mark with GTY.\n\t(abbrev_die_table_in_use): Likewise.\n\t(line_info_table_in_use): Likewise.\n\t(separate_line_info_table_in_use): Likewise.\n\t(pubname_table_in_use): Likewise.\n\t(arange_table_in_use): Likewise.\n\t(ranges_table_in_use): Likewise.\n\t(have_location_lists): Likewise.\n\t(emitcount): New GTY-marked static, moved...\n\t(maybe_emit_file): ...from here.\n\t(label_num): New GTY-marked static, moved...\n\t(gen_internal_sym): ...from here.\n\nCo-Authored-By: Loren J. Rittle <ljrittle@acm.org>\n\nFrom-SVN: r65970", "tree": {"sha": "92416c8e06e67ddd37a681d4613008095f321c0a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92416c8e06e67ddd37a681d4613008095f321c0a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c2e9147ce0eaa9d9b430d6706abfe9c941a34672", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e9147ce0eaa9d9b430d6706abfe9c941a34672", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c2e9147ce0eaa9d9b430d6706abfe9c941a34672", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c2e9147ce0eaa9d9b430d6706abfe9c941a34672/comments", "author": {"login": "geoffk01", "id": 31905243, "node_id": "MDQ6VXNlcjMxOTA1MjQz", "avatar_url": "https://avatars.githubusercontent.com/u/31905243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geoffk01", "html_url": "https://github.com/geoffk01", "followers_url": "https://api.github.com/users/geoffk01/followers", "following_url": "https://api.github.com/users/geoffk01/following{/other_user}", "gists_url": "https://api.github.com/users/geoffk01/gists{/gist_id}", "starred_url": "https://api.github.com/users/geoffk01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geoffk01/subscriptions", "organizations_url": "https://api.github.com/users/geoffk01/orgs", "repos_url": "https://api.github.com/users/geoffk01/repos", "events_url": "https://api.github.com/users/geoffk01/events{/privacy}", "received_events_url": "https://api.github.com/users/geoffk01/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "df7aa6295642f5a4201d3f27032681ba93312c80", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/df7aa6295642f5a4201d3f27032681ba93312c80", "html_url": "https://github.com/Rust-GCC/gccrs/commit/df7aa6295642f5a4201d3f27032681ba93312c80"}], "stats": {"total": 78, "additions": 47, "deletions": 31}, "files": [{"sha": "a0cd599bb8fb32f94011618113b052da48375647", "filename": "gcc/ChangeLog", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2e9147ce0eaa9d9b430d6706abfe9c941a34672/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2e9147ce0eaa9d9b430d6706abfe9c941a34672/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c2e9147ce0eaa9d9b430d6706abfe9c941a34672", "patch": "@@ -1,3 +1,27 @@\n+2003-04-22  Geoffrey Keating  <geoffk@apple.com>\n+\t    Loren James Rittle  <ljrittle@acm.org>\n+\n+\t* dwarf2out.c (fde_table_allocated): Mark with GTY.\n+\t(decl_die_table_allocated): Likewise.\n+\t(abbrev_die_table_allocated): Likewise.\n+\t(line_info_table_allocated): Likewise.\n+\t(separate_line_info_table_allocated): Likewise.\n+\t(pubname_table_allocated): Likewise.\n+\t(arange_table_allocated): Likewise.\n+\t(ranges_table_allocated): Likewise.\n+\t(decl_die_table_in_use): Unconditionalize; mark with GTY.\n+\t(abbrev_die_table_in_use): Likewise.\n+\t(line_info_table_in_use): Likewise.\n+\t(separate_line_info_table_in_use): Likewise.\n+\t(pubname_table_in_use): Likewise.\n+\t(arange_table_in_use): Likewise.\n+\t(ranges_table_in_use): Likewise.\n+\t(have_location_lists): Likewise.\n+\t(emitcount): New GTY-marked static, moved...\n+\t(maybe_emit_file): ...from here.\n+\t(label_num): New GTY-marked static, moved...\n+\t(gen_internal_sym): ...from here.\n+\n 2003-04-22  Richard Henderson  <rth@redhat.com>\n \n         PR 8866"}, {"sha": "92b75af56886dc17b491e53c8526e173248eb21f", "filename": "gcc/dwarf2out.c", "status": "modified", "additions": 23, "deletions": 31, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c2e9147ce0eaa9d9b430d6706abfe9c941a34672/gcc%2Fdwarf2out.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c2e9147ce0eaa9d9b430d6706abfe9c941a34672/gcc%2Fdwarf2out.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdwarf2out.c?ref=c2e9147ce0eaa9d9b430d6706abfe9c941a34672", "patch": "@@ -289,7 +289,7 @@ dw_fde_node;\n static GTY((length (\"fde_table_allocated\"))) dw_fde_ref fde_table;\n \n /* Number of elements currently allocated for fde_table.  */\n-static unsigned fde_table_allocated;\n+static GTY(()) unsigned fde_table_allocated;\n \n /* Number of elements in fde_table currently in use.  */\n static GTY(()) unsigned fde_table_in_use;\n@@ -3485,12 +3485,10 @@ static GTY(()) size_t file_table_last_lookup_index;\n static GTY((length (\"decl_die_table_allocated\"))) dw_die_ref *decl_die_table;\n \n /* Number of elements currently allocated for the decl_die_table.  */\n-static unsigned decl_die_table_allocated;\n+static GTY(()) unsigned decl_die_table_allocated;\n \n-#ifdef DWARF2_DEBUGGING_INFO\n /* Number of elements in decl_die_table currently in use.  */\n-static unsigned decl_die_table_in_use;\n-#endif\n+static GTY(()) unsigned decl_die_table_in_use;\n \n /* Size (in elements) of increments by which we may expand the\n    decl_die_table.  */\n@@ -3503,12 +3501,10 @@ static GTY((length (\"abbrev_die_table_allocated\")))\n   dw_die_ref *abbrev_die_table;\n \n /* Number of elements currently allocated for abbrev_die_table.  */\n-static unsigned abbrev_die_table_allocated;\n+static GTY(()) unsigned abbrev_die_table_allocated;\n \n-#ifdef DWARF2_DEBUGGING_INFO\n /* Number of elements in type_die_table currently in use.  */\n-static unsigned abbrev_die_table_in_use;\n-#endif\n+static GTY(()) unsigned abbrev_die_table_in_use;\n \n /* Size (in elements) of increments by which we may expand the\n    abbrev_die_table.  */\n@@ -3520,25 +3516,21 @@ static GTY((length (\"line_info_table_allocated\")))\n      dw_line_info_ref line_info_table;\n \n /* Number of elements currently allocated for line_info_table.  */\n-static unsigned line_info_table_allocated;\n+static GTY(()) unsigned line_info_table_allocated;\n \n-#ifdef DWARF2_DEBUGGING_INFO\n /* Number of elements in line_info_table currently in use.  */\n-static unsigned line_info_table_in_use;\n-#endif\n+static GTY(()) unsigned line_info_table_in_use;\n \n /* A pointer to the base of a table that contains line information\n    for each source code line outside of .text in the compilation unit.  */\n static GTY ((length (\"separate_line_info_table_allocated\")))\n      dw_separate_line_info_ref separate_line_info_table;\n \n /* Number of elements currently allocated for separate_line_info_table.  */\n-static unsigned separate_line_info_table_allocated;\n+static GTY(()) unsigned separate_line_info_table_allocated;\n \n-#ifdef DWARF2_DEBUGGING_INFO\n /* Number of elements in separate_line_info_table currently in use.  */\n-static unsigned separate_line_info_table_in_use;\n-#endif\n+static GTY(()) unsigned separate_line_info_table_in_use;\n \n /* Size (in elements) of increments by which we may expand the\n    line_info_table.  */\n@@ -3549,12 +3541,10 @@ static unsigned separate_line_info_table_in_use;\n static GTY ((length (\"pubname_table_allocated\"))) pubname_ref pubname_table;\n \n /* Number of elements currently allocated for pubname_table.  */\n-static unsigned pubname_table_allocated;\n+static GTY(()) unsigned pubname_table_allocated;\n \n-#ifdef DWARF2_DEBUGGING_INFO\n /* Number of elements in pubname_table currently in use.  */\n-static unsigned pubname_table_in_use;\n-#endif\n+static GTY(()) unsigned pubname_table_in_use;\n \n /* Size (in elements) of increments by which we may expand the\n    pubname_table.  */\n@@ -3564,12 +3554,10 @@ static unsigned pubname_table_in_use;\n static GTY((length (\"arange_table_allocated\"))) dw_die_ref *arange_table;\n \n /* Number of elements currently allocated for arange_table.  */\n-static unsigned arange_table_allocated;\n+static GTY(()) unsigned arange_table_allocated;\n \n-#ifdef DWARF2_DEBUGGING_INFO\n /* Number of elements in arange_table currently in use.  */\n-static unsigned arange_table_in_use;\n-#endif\n+static GTY(()) unsigned arange_table_in_use;\n \n /* Size (in elements) of increments by which we may expand the\n    arange_table.  */\n@@ -3579,26 +3567,32 @@ static unsigned arange_table_in_use;\n static GTY ((length (\"ranges_table_allocated\"))) dw_ranges_ref ranges_table;\n \n /* Number of elements currently allocated for ranges_table.  */\n-static unsigned ranges_table_allocated;\n+static GTY(()) unsigned ranges_table_allocated;\n \n-#ifdef DWARF2_DEBUGGING_INFO\n /* Number of elements in ranges_table currently in use.  */\n-static unsigned ranges_table_in_use;\n+static GTY(()) unsigned ranges_table_in_use;\n \n /* Size (in elements) of increments by which we may expand the\n    ranges_table.  */\n #define RANGES_TABLE_INCREMENT 64\n \n /* Whether we have location lists that need outputting */\n-static unsigned have_location_lists;\n+static GTY(()) unsigned have_location_lists;\n \n+#ifdef DWARF2_DEBUGGING_INFO\n /* Record whether the function being analyzed contains inlined functions.  */\n static int current_function_has_inlines;\n #endif\n #if 0 && defined (MIPS_DEBUGGING_INFO)\n static int comp_unit_has_inlines;\n #endif\n \n+/* Number of file tables emited in maybe_emit_file(). */\n+static GTY(()) int emitcount = 0;\n+\n+/* Number of internal labels generated by gen_internal_sym(). */\n+static GTY(()) int label_num;\n+\n #ifdef DWARF2_DEBUGGING_INFO\n \n /* Forward declarations for functions defined in this file.  */\n@@ -6000,7 +5994,6 @@ gen_internal_sym (prefix)\n      const char *prefix;\n {\n   char buf[256];\n-  static int label_num;\n \n   ASM_GENERATE_INTERNAL_LABEL (buf, prefix, label_num++);\n   return xstrdup (buf);\n@@ -12559,7 +12552,6 @@ static int\n maybe_emit_file (fileno)\n      int fileno;\n {\n-  static int emitcount = 0;  \n   if (DWARF2_ASM_LINE_DEBUG_INFO && fileno > 0)\n     {\n       if (!VARRAY_UINT (file_table_emitted, fileno))"}]}