{"sha": "668d07befc13d7c751f0b3266eed899766c8f709", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjY4ZDA3YmVmYzEzZDdjNzUxZjBiMzI2NmVlZDg5OTc2NmM4ZjcwOQ==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@cygnus.com", "date": "1998-04-07T12:00:13Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1998-04-07T12:00:13Z"}, "message": "Fix loop reversal bug reported by Joern Rennecke.\n\n\t* loop.c (check_dbra_loop): When normalize comparison_val, add check\n\tto verify it is non-negative.\n\nFrom-SVN: r19030", "tree": {"sha": "097a5f58a110cf49bf93bd68109e7ea43318ed76", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/097a5f58a110cf49bf93bd68109e7ea43318ed76"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/668d07befc13d7c751f0b3266eed899766c8f709", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/668d07befc13d7c751f0b3266eed899766c8f709", "html_url": "https://github.com/Rust-GCC/gccrs/commit/668d07befc13d7c751f0b3266eed899766c8f709", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/668d07befc13d7c751f0b3266eed899766c8f709/comments", "author": null, "committer": null, "parents": [{"sha": "a59ca936781f83a822e57f0a4ad4d6b8052139e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a59ca936781f83a822e57f0a4ad4d6b8052139e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a59ca936781f83a822e57f0a4ad4d6b8052139e0"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "58ec0effa89806205479aaf1450f8dfdf7968e3b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/668d07befc13d7c751f0b3266eed899766c8f709/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/668d07befc13d7c751f0b3266eed899766c8f709/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=668d07befc13d7c751f0b3266eed899766c8f709", "patch": "@@ -1,3 +1,8 @@\n+Tue Apr  7 11:58:04 1998  Jim Wilson  <wilson@cygnus.com>\n+\n+\t* loop.c (check_dbra_loop): When normalize comparison_val, add check\n+\tto verify it is non-negative.\n+\n Tue Apr  7 02:01:47 1998  Richard Henderson  <rth@cygnus.com>\n \n \t* alpha.c (alpha_expand_block_move): Correctly collect block offsets."}, {"sha": "a3f7a8f59bc155420a50a9c70cf6270bd9079c76", "filename": "gcc/loop.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/668d07befc13d7c751f0b3266eed899766c8f709/gcc%2Floop.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/668d07befc13d7c751f0b3266eed899766c8f709/gcc%2Floop.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop.c?ref=668d07befc13d7c751f0b3266eed899766c8f709", "patch": "@@ -6281,7 +6281,10 @@ check_dbra_loop (loop_end, insn_count, loop_start)\n \t\t  && GET_CODE (initial_value) == CONST_INT)\n \t\t{\n \t\t  comparison_val = comparison_val - INTVAL (bl->initial_value);\n-\t\t  initial_value = const0_rtx;\n+\t\t  /* Check for overflow.  If comparison_val ends up as a\n+\t\t     negative value, then we can't reverse the loop.  */\n+\t\t  if (comparison_val >= 0)\n+\t\t    initial_value = const0_rtx;\n \t\t}\n \n \t      /* If the initial value is not zero, or if the comparison"}]}