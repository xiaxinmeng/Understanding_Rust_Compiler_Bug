{"sha": "a78a69ba7935fe04f6145425a252f52ae6faf3a4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTc4YTY5YmE3OTM1ZmUwNGY2MTQ1NDI1YTI1MmY1MmFlNmZhZjNhNA==", "commit": {"author": {"name": "Hans-Peter Nilsson", "email": "hp@axis.com", "date": "2001-09-29T16:49:20Z"}, "committer": {"name": "Hans-Peter Nilsson", "email": "hp@gcc.gnu.org", "date": "2001-09-29T16:49:20Z"}, "message": "configure.target (LIMITSH): Set for cris.\n\n\t* configure.target (LIMITSH): Set for cris.\n\t(cpu_include_dir): Set for cris-*-*.\n\t* config/cpu/cris/bits/atomicity.h: New file.\n\t* config/cpu/cris/bits/limits.h: New file.\n\nFrom-SVN: r45882", "tree": {"sha": "33d60263e28e3742f73751ac6b4fb713dbd52acb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/33d60263e28e3742f73751ac6b4fb713dbd52acb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a78a69ba7935fe04f6145425a252f52ae6faf3a4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a78a69ba7935fe04f6145425a252f52ae6faf3a4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a78a69ba7935fe04f6145425a252f52ae6faf3a4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a78a69ba7935fe04f6145425a252f52ae6faf3a4/comments", "author": {"login": "hpataxisdotcom", "id": 80339731, "node_id": "MDQ6VXNlcjgwMzM5NzMx", "avatar_url": "https://avatars.githubusercontent.com/u/80339731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hpataxisdotcom", "html_url": "https://github.com/hpataxisdotcom", "followers_url": "https://api.github.com/users/hpataxisdotcom/followers", "following_url": "https://api.github.com/users/hpataxisdotcom/following{/other_user}", "gists_url": "https://api.github.com/users/hpataxisdotcom/gists{/gist_id}", "starred_url": "https://api.github.com/users/hpataxisdotcom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hpataxisdotcom/subscriptions", "organizations_url": "https://api.github.com/users/hpataxisdotcom/orgs", "repos_url": "https://api.github.com/users/hpataxisdotcom/repos", "events_url": "https://api.github.com/users/hpataxisdotcom/events{/privacy}", "received_events_url": "https://api.github.com/users/hpataxisdotcom/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "0e30ffc5eff730b00ac53beec2091a1d5cec4f2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0e30ffc5eff730b00ac53beec2091a1d5cec4f2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0e30ffc5eff730b00ac53beec2091a1d5cec4f2b"}], "stats": {"total": 92, "additions": 92, "deletions": 0}, "files": [{"sha": "647ed5ec249901992ac9a26bd33927993d0bcd5e", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a78a69ba7935fe04f6145425a252f52ae6faf3a4/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a78a69ba7935fe04f6145425a252f52ae6faf3a4/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=a78a69ba7935fe04f6145425a252f52ae6faf3a4", "patch": "@@ -1,3 +1,10 @@\n+2001-09-29  Hans-Peter Nilsson  <hp@axis.com>\n+\n+\t* configure.target (LIMITSH): Set for cris.\n+\t(cpu_include_dir): Set for cris-*-*.\n+\t* config/cpu/cris/bits/atomicity.h: New file.\n+\t* config/cpu/cris/bits/limits.h: New file.\n+\n 2001-09-28  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* config/locale/time_members_gnu.h (__timepunct::_M_get_helper): Add."}, {"sha": "653595e7c34d6f5f5785449ef3112a6d9a630f0f", "filename": "libstdc++-v3/config/cpu/cris/bits/atomicity.h", "status": "added", "additions": 79, "deletions": 0, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a78a69ba7935fe04f6145425a252f52ae6faf3a4/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fcris%2Fbits%2Fatomicity.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a78a69ba7935fe04f6145425a252f52ae6faf3a4/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fcris%2Fbits%2Fatomicity.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fcpu%2Fcris%2Fbits%2Fatomicity.h?ref=a78a69ba7935fe04f6145425a252f52ae6faf3a4", "patch": "@@ -0,0 +1,79 @@\n+// Low-level functions for atomic operations: Generic version  -*- C++ -*-\n+\n+// Copyright (C) 1999, 2001 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// As a special exception, you may use this file as part of a free software\n+// library without restriction.  Specifically, if other files instantiate\n+// templates or use macros or inline functions from this file, or you compile\n+// this file and link it with other files to produce an executable, this\n+// file does not by itself cause the resulting executable to be covered by\n+// the GNU General Public License.  This exception does not however\n+// invalidate any other reasons why the executable file might be covered by\n+// the GNU General Public License.\n+\n+#ifndef _BITS_ATOMICITY_H\n+#define _BITS_ATOMICITY_H\t1\n+\n+// This entity must not cross a page boundary.\n+typedef int _Atomic_word __attribute__ ((__aligned__ (4)));\n+\n+static inline _Atomic_word\n+__attribute__ ((__unused__))\n+__exchange_and_add (_Atomic_word* __mem, int __val)\n+{\n+  int __tmp;\n+  _Atomic_word __result;\n+\n+#if (__CRIS_arch_version >= 10)\n+  __asm__ __volatile__ (\" clearf\t\t\\n\"\n+\t\t\t\"0:\t\t\t\\n\"\n+\t\t\t\" move.d %4,%2\t\t\\n\"\n+\t\t\t\" move.d [%3],%0\t\\n\"\n+\t\t\t\" add.d %0,%2\t\t\\n\"\n+\t\t\t\" ax\t\t\t\\n\"\n+\t\t\t\" move.d %2,[%3]\t\\n\"\n+\t\t\t\" bwf 0b\t\t\\n\"\n+\t\t\t\" clearf\t\t\\n\"\n+\t\t\t:  \"=&r\" (__result), \"=m\" (*__mem), \"=&r\" (__tmp)\n+\t\t\t: \"r\" (__mem), \"g\" (__val), \"m\" (*__mem)\n+\t\t\t: \"memory\");\n+#else\n+  __asm__ __volatile__ (\" move $ccr,$r9\t\t\\n\"\n+\t\t\t\" di\t\t\t\\n\"\n+\t\t\t\" move.d %4,%2\t\t\\n\"\n+\t\t\t\" move.d [%3],%0\t\\n\"\n+\t\t\t\" add.d %0,%2\t\t\\n\"\n+\t\t\t\" move.d %2,[%3]\t\\n\"\n+\t\t\t\" move $r9,$ccr\t\t\\n\"\n+\t\t\t:  \"=&r\" (__result), \"=m\" (*__mem), \"=&r\" (__tmp)\n+\t\t\t: \"r\" (__mem), \"g\" (__val), \"m\" (*__mem)\n+\t\t\t: \"memory\", \"r9\");\n+#endif\n+\n+  return __result;\n+}\n+\n+static inline void\n+__attribute__ ((__unused__))\n+__atomic_add (_Atomic_word* __mem, int __val)\n+{\n+  __exchange_and_add (__mem, __val);\n+}\n+\n+#endif /* atomicity.h */"}, {"sha": "db81c4efbb41f47b12186b2358ab304362a612e0", "filename": "libstdc++-v3/configure.target", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a78a69ba7935fe04f6145425a252f52ae6faf3a4/libstdc%2B%2B-v3%2Fconfigure.target", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a78a69ba7935fe04f6145425a252f52ae6faf3a4/libstdc%2B%2B-v3%2Fconfigure.target", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure.target?ref=a78a69ba7935fe04f6145425a252f52ae6faf3a4", "patch": "@@ -30,6 +30,9 @@ case \"${target_cpu}\" in\n   arm*)\n     cpu_include_dir=\"config/cpu/arm\"\n     ;;\n+  cris)\n+    cpu_include_dir=\"config/cpu/cris\"\n+    ;;\n   ia64)\n     cpu_include_dir=\"config/cpu/ia64\"\n     ;;\n@@ -140,6 +143,9 @@ case \"${target}\" in\n    powerpc-*-*)\n      LIMITSH=config/cpu/powerpc\n      ;;\n+   cris-*-*)\n+     LIMITSH=config/cpu/cris\n+     ;;\n    *)\n      LIMITSH=config/cpu/generic\n      ;;"}]}