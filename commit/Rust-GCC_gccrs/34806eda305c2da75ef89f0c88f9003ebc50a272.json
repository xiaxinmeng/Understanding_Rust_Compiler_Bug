{"sha": "34806eda305c2da75ef89f0c88f9003ebc50a272", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzQ4MDZlZGEzMDVjMmRhNzVlZjg5ZjBjODhmOTAwM2ViYzUwYTI3Mg==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2001-11-20T04:03:52Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2001-11-20T04:03:52Z"}, "message": "Index: f/ChangeLog\n\n\t* g77spec.c (lang_specific_driver) [ENABLE_SHARED_LIBGCC]: Add\n\tlibgcc_s.so if libf2c is used.\n\t* Make-lang.in (g77spec.o): Use DRIVER_DEFINES.\n\nIndex: testsuite/ChangeLog\n\n\t* lib/g77.exp: Don't specify --rpath-link.\n\nFrom-SVN: r47195", "tree": {"sha": "aa6f6981f23a7e6656ebc1e6dd21197b9e810d38", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aa6f6981f23a7e6656ebc1e6dd21197b9e810d38"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/34806eda305c2da75ef89f0c88f9003ebc50a272", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34806eda305c2da75ef89f0c88f9003ebc50a272", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34806eda305c2da75ef89f0c88f9003ebc50a272", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34806eda305c2da75ef89f0c88f9003ebc50a272/comments", "author": null, "committer": null, "parents": [{"sha": "d88c92756b54f2fbdc88559a0db24b9f02e174d5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d88c92756b54f2fbdc88559a0db24b9f02e174d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d88c92756b54f2fbdc88559a0db24b9f02e174d5"}], "stats": {"total": 32, "additions": 29, "deletions": 3}, "files": [{"sha": "f09a115a784573bd645e4bac4b84344c69dab7f1", "filename": "gcc/f/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ff%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ff%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FChangeLog?ref=34806eda305c2da75ef89f0c88f9003ebc50a272", "patch": "@@ -1,3 +1,9 @@\n+2001-11-19  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* g77spec.c (lang_specific_driver) [ENABLE_SHARED_LIBGCC]: Add\n+\tlibgcc_s.so if libf2c is used.\n+\t* Make-lang.in (g77spec.o): Use DRIVER_DEFINES.\n+\n 2001-11-19  Toon Moene <toon@moene.indiv.nluug.nl>\n \n \t* .cvsignore: Ignore g77.1"}, {"sha": "db74f28d2f618ce6b13363d03a5de8200b1b0cc8", "filename": "gcc/f/Make-lang.in", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ff%2FMake-lang.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ff%2FMake-lang.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2FMake-lang.in?ref=34806eda305c2da75ef89f0c88f9003ebc50a272", "patch": "@@ -67,8 +67,10 @@ F77 f77: f771$(exeext)\n \n g77spec.o: $(srcdir)/f/g77spec.c $(srcdir)/f/version.h $(SYSTEM_H) $(GCC_H) \\\n \t$(CONFIG_H)\n-\t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) \\\n-\t\t$(srcdir)/f/g77spec.c $(OUTPUT_OPTION)\n+\t(SHLIB_LINK='$(SHLIB_LINK)' \\\n+\tSHLIB_MULTILIB='$(SHLIB_MULTILIB)'; \\\n+\t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(DRIVER_DEFINES) \\\n+\t\t$(INCLUDES) $(srcdir)/f/g77spec.c)\n \n g77version.o: $(srcdir)/f/version.c\n \t$(CC) -c $(ALL_CFLAGS) $(ALL_CPPFLAGS) $(INCLUDES) -o g77version.o \\"}, {"sha": "9c1faef87a1705c61a64b3da3c81384609db89bc", "filename": "gcc/f/g77spec.c", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ff%2Fg77spec.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ff%2Fg77spec.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ff%2Fg77spec.c?ref=34806eda305c2da75ef89f0c88f9003ebc50a272", "patch": "@@ -523,6 +523,23 @@ or type the command `info -f g77 Copying'.\\n\\\n \t}\n     }\n \n+#ifdef ENABLE_SHARED_LIBGCC\n+  if (library)\n+    {\n+      int i;\n+\n+      for (i = 1; i < g77_newargc; i++)\n+\tif (g77_newargv[i][0] == '-')\n+\t  if (strcmp (g77_newargv[i], \"-static-libgcc\") == 0\n+\t      || strcmp (g77_newargv[i], \"-static\") == 0)\n+\t    break;\n+    \n+      if (i == g77_newargc)\n+\tappend_arg (\"-shared-libgcc\");\n+    }\n+  \n+#endif\n+\n   if (verbose\n       && g77_newargv != g77_xargv)\n     {"}, {"sha": "750e1aa55009c083d0193f9842810bfffb8ca1a4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=34806eda305c2da75ef89f0c88f9003ebc50a272", "patch": "@@ -1,5 +1,7 @@\n 2001-11-19  Geoffrey Keating  <geoffk@redhat.com>\n \n+\t* lib/g77.exp: Don't specify --rpath-link.\n+\n \t* gcc.dg/cpp/cpp.exp: For testing on a remote host, copy\n \tacross all the headers.\n \t* gcc.dg/format/format.exp: For testing on a remote host,"}, {"sha": "2a08f15fef6b471e2adc68f701a9123f7eb481fb", "filename": "gcc/testsuite/lib/g77.exp", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ftestsuite%2Flib%2Fg77.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/34806eda305c2da75ef89f0c88f9003ebc50a272/gcc%2Ftestsuite%2Flib%2Fg77.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg77.exp?ref=34806eda305c2da75ef89f0c88f9003ebc50a272", "patch": "@@ -84,7 +84,6 @@ proc g77_link_flags { paths } {\n       if [file exists \"${gccpath}/libf2c/.libs/libg2c.a\"] {\n           append flags \"-L${gccpath}/libf2c/.libs \"\n \t  if [file exists \"${gccpath}/libf2c/.libs/libg2c.so\"] {\n-\t      append flags \"-Wl,--rpath-link,${rootme} \"\n \t      append ld_library_path \":${gccpath}/libf2c/.libs\"\n \t  }\n       }"}]}