{"sha": "8fced9b97676f141d8334dda3319b6f7998c063d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGZjZWQ5Yjk3Njc2ZjE0MWQ4MzM0ZGRhMzMxOWI2Zjc5OThjMDYzZA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2015-01-15T22:09:13Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2015-01-15T22:09:13Z"}, "message": "update-copyright.py (Copyright.__init__): Add a regexp for \"copyright = u'\".\n\ncontrib/\n\t* update-copyright.py (Copyright.__init__): Add a regexp for\n\t\"copyright = u'\".\n\t(Copyright.update_copyright): Don't add a space before the year\n\tin that case.\n\nFrom-SVN: r219692", "tree": {"sha": "212f21f666588618ab2812ecc7f40bd70dae3263", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/212f21f666588618ab2812ecc7f40bd70dae3263"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8fced9b97676f141d8334dda3319b6f7998c063d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fced9b97676f141d8334dda3319b6f7998c063d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8fced9b97676f141d8334dda3319b6f7998c063d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8fced9b97676f141d8334dda3319b6f7998c063d/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1d59990631844e380a755124d122e308b8f01888", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d59990631844e380a755124d122e308b8f01888", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d59990631844e380a755124d122e308b8f01888"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "b4ac7d990006405a4a5ca8f34bd804aa2a7eb679", "filename": "contrib/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fced9b97676f141d8334dda3319b6f7998c063d/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fced9b97676f141d8334dda3319b6f7998c063d/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=8fced9b97676f141d8334dda3319b6f7998c063d", "patch": "@@ -1,3 +1,10 @@\n+2015-01-15  Richard Sandiford  <richard.sandiford@arm.com>\n+\n+\t* update-copyright.py (Copyright.__init__): Add a regexp for\n+\t\"copyright = u'\".\n+\t(Copyright.update_copyright): Don't add a space before the year\n+\tin that case.\n+\n 2015-01-15  Thomas Schwinge  <thomas@codesourcery.com>\n \n \t* gcc_update (files_and_dependencies): Update rules for new"}, {"sha": "f7b522a135501513ffd1e8f10eba496866a3212e", "filename": "contrib/update-copyright.py", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8fced9b97676f141d8334dda3319b6f7998c063d/contrib%2Fupdate-copyright.py", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8fced9b97676f141d8334dda3319b6f7998c063d/contrib%2Fupdate-copyright.py", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Fupdate-copyright.py?ref=8fced9b97676f141d8334dda3319b6f7998c063d", "patch": "@@ -183,6 +183,7 @@ def __init__ (self, errors):\n             '|[Cc]opyright\\s+%s'\n             '|[Cc]opyright\\s+&copy;'\n             '|[Cc]opyright\\s+@copyright{}'\n+            '|copyright = u\\''\n             '|@set\\s+copyright[\\w-]+)'\n \n             # 2: the years.  Include the whitespace in the year, so that\n@@ -363,7 +364,8 @@ def update_copyright (self, dir, filename, filter, file, line, match):\n             return (False, orig_line, next_line)\n \n         line = (line[:match.start (2)]\n-                + ' ' + canon_form + self.separator\n+                + ('' if intro.startswith ('copyright = ') else ' ')\n+                + canon_form + self.separator\n                 + line[match.end (2):])\n \n         # Use the standard (C) form."}]}