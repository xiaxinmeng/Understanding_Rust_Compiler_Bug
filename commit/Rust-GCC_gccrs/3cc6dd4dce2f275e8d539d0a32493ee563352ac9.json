{"sha": "3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2NjNmRkNGRjZTJmMjc1ZThkNTM5ZDBhMzI0OTNlZTU2MzM1MmFjOQ==", "commit": {"author": {"name": "Kai Tietz", "email": "ktietz@redhat.com", "date": "2012-12-21T10:12:48Z"}, "committer": {"name": "Kai Tietz", "email": "ktietz@gcc.gnu.org", "date": "2012-12-21T10:12:48Z"}, "message": "os_defines.h (_GLIBCXX_LLP64): Define if llp64 abi is used.\n\n\t* config/os/mingw32/os_defines.h (_GLIBCXX_LLP64): Define if llp64\n\tabi is used.\n\t* config/os/mingw32-w64/os_defines.h: Likewise.\n\t* libsupc++/cxxabi.h (__base_class_type_info): Adjust\n\ttype of __offset_flags for llp64.\n\t* libsupc++/eh_alloc.cc (EMERGENCY_OBJ_SIZE): Define proper\n\tfor llp64 abi.\n\t(EMERGENCY_OBJ_COUNT): Likewise.\n\t(bitmask_type): Likewise.\n\t* libsupc++/hash_bytes.cc (_Hash_bytes): Handle llp64.\n\nFrom-SVN: r194658", "tree": {"sha": "3b042de82fe9dabadeec27e4fc35d6f7a8f94be1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b042de82fe9dabadeec27e4fc35d6f7a8f94be1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/comments", "author": null, "committer": null, "parents": [{"sha": "ffeffdcb913ff6273c6bb95dd4872cd9a4e492c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ffeffdcb913ff6273c6bb95dd4872cd9a4e492c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ffeffdcb913ff6273c6bb95dd4872cd9a4e492c7"}], "stats": {"total": 34, "additions": 32, "deletions": 2}, "files": [{"sha": "7b3973f5456a93864e08b9027223549fd3cb296d", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "patch": "@@ -1,3 +1,16 @@\n+2012-12-21  Kai Tietz  <ktietz@redhat.com>\n+\n+\t* config/os/mingw32/os_defines.h (_GLIBCXX_LLP64): Define if llp64\n+\tabi is used.\n+\t* config/os/mingw32-w64/os_defines.h: Likewise.\n+\t* libsupc++/cxxabi.h (__base_class_type_info): Adjust\n+\ttype of __offset_flags for llp64.\n+\t* libsupc++/eh_alloc.cc (EMERGENCY_OBJ_SIZE): Define proper\n+\tfor llp64 abi.\n+\t(EMERGENCY_OBJ_COUNT): Likewise.\n+\t(bitmask_type): Likewise.\n+\t* libsupc++/hash_bytes.cc (_Hash_bytes): Handle llp64.\n+\n 2012-12-20  Jonathan Wakely  <jwakely.gcc@gmail.com>\n \n \t* include/std/functional (_Require): Move to ..."}, {"sha": "da4953acf7f31cda3b3bdf6e02f6e69480f725ee", "filename": "libstdc++-v3/config/os/mingw32-w64/os_defines.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32-w64%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32-w64%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32-w64%2Fos_defines.h?ref=3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "patch": "@@ -74,4 +74,8 @@\n #define _GLIBCXX_CDTOR_CALLABI __thiscall\n #endif\n \n+#ifdef __x86_64__\n+#define _GLIBCXX_LLP64 1\n+#endif\n+\n #endif"}, {"sha": "cbe597456916a4f149441daeb7cab69ad40734d6", "filename": "libstdc++-v3/config/os/mingw32/os_defines.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32%2Fos_defines.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32%2Fos_defines.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfig%2Fos%2Fmingw32%2Fos_defines.h?ref=3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "patch": "@@ -72,4 +72,8 @@\n #define _GLIBCXX_CDTOR_CALLABI __thiscall\n #endif\n \n+#ifdef __x86_64__\n+#define _GLIBCXX_LLP64 1\n+#endif\n+\n #endif"}, {"sha": "bd6f5efa23abb6d32ce8aec8e73f781c7b34d400", "filename": "libstdc++-v3/libsupc++/cxxabi.h", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fcxxabi.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fcxxabi.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fcxxabi.h?ref=3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "patch": "@@ -356,7 +356,11 @@ namespace __cxxabiv1\n   {\n   public:\n     const __class_type_info* \t__base_type;  // Base class type.\n+#ifdef _GLIBCXX_LLP64\n+    long long\t\t\t__offset_flags;  // Offset and info.\n+#else\n     long \t\t\t__offset_flags;  // Offset and info.\n+#endif\n \n     enum __offset_flags_masks\n       {"}, {"sha": "82ed249af2488f06717137d19dda1f693895d9a7", "filename": "libstdc++-v3/libsupc++/eh_alloc.cc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_alloc.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_alloc.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Feh_alloc.cc?ref=3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "patch": "@@ -60,7 +60,7 @@ using namespace __cxxabiv1;\n #if INT_MAX == 32767\n # define EMERGENCY_OBJ_SIZE\t128\n # define EMERGENCY_OBJ_COUNT\t16\n-#elif LONG_MAX == 2147483647\n+#elif !defined (_GLIBCXX_LLP64) && LONG_MAX == 2147483647\n # define EMERGENCY_OBJ_SIZE\t512\n # define EMERGENCY_OBJ_COUNT\t32\n #else\n@@ -76,8 +76,12 @@ using namespace __cxxabiv1;\n #if INT_MAX == 32767 || EMERGENCY_OBJ_COUNT <= 32\n typedef unsigned int bitmask_type;\n #else\n+#if defined (_GLIBCXX_LLP64)\n+typedef unsigned long long bitmask_type;\n+#else\n typedef unsigned long bitmask_type;\n #endif\n+#endif\n \n \n typedef char one_buffer[EMERGENCY_OBJ_SIZE] __attribute__((aligned));"}, {"sha": "10fec8e73581e2a17a498d2d56a725abaaaa3610", "filename": "libstdc++-v3/libsupc++/hash_bytes.cc", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fhash_bytes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3cc6dd4dce2f275e8d539d0a32493ee563352ac9/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fhash_bytes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Flibsupc%2B%2B%2Fhash_bytes.cc?ref=3cc6dd4dce2f275e8d539d0a32493ee563352ac9", "patch": "@@ -128,7 +128,8 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n   size_t\n   _Hash_bytes(const void* ptr, size_t len, size_t seed)\n   {\n-    static const size_t mul = (0xc6a4a793UL << 32UL) + 0x5bd1e995UL;\n+    static const size_t mul = (((size_t) 0xc6a4a793UL) << 32UL)\n+\t\t\t      + (size_t) 0x5bd1e995UL;\n     const char* const buf = static_cast<const char*>(ptr);\n \n     // Remove the bytes not divisible by the sizeof(size_t).  This"}]}