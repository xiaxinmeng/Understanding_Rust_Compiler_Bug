{"sha": "de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU2NWUwZTRlY2MwMmRjMDRlN2ZmMTEwYWRlNzAzZjhlNGZmMDNlMw==", "commit": {"author": {"name": "Ed Schonberg", "email": "schonberg@adacore.com", "date": "2014-08-01T08:26:57Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2014-08-01T08:26:57Z"}, "message": "sem_util.adb: Add guard to setting of No_Predicate_On_Actual.\n\n       * sem_util.adb: Add guard to setting of No_Predicate_On_Actual.\n       * sem_ch3.adb: Minor reformatting.\n\nFrom-SVN: r213422", "tree": {"sha": "abd6b38a36f3b52b7e203882cb3098bf6059b99e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/abd6b38a36f3b52b7e203882cb3098bf6059b99e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3/comments", "author": {"login": "Edschonberg", "id": 6352375, "node_id": "MDQ6VXNlcjYzNTIzNzU=", "avatar_url": "https://avatars.githubusercontent.com/u/6352375?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Edschonberg", "html_url": "https://github.com/Edschonberg", "followers_url": "https://api.github.com/users/Edschonberg/followers", "following_url": "https://api.github.com/users/Edschonberg/following{/other_user}", "gists_url": "https://api.github.com/users/Edschonberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/Edschonberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Edschonberg/subscriptions", "organizations_url": "https://api.github.com/users/Edschonberg/orgs", "repos_url": "https://api.github.com/users/Edschonberg/repos", "events_url": "https://api.github.com/users/Edschonberg/events{/privacy}", "received_events_url": "https://api.github.com/users/Edschonberg/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "5e01ce126698998f1428c1b2451084ab099600ef", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5e01ce126698998f1428c1b2451084ab099600ef", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5e01ce126698998f1428c1b2451084ab099600ef"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "a22479f02feaeee7be4a167ff181e6a2bbefd70c", "filename": "gcc/ada/sem_ch3.adb", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3/gcc%2Fada%2Fsem_ch3.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3/gcc%2Fada%2Fsem_ch3.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch3.adb?ref=de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3", "patch": "@@ -16804,10 +16804,10 @@ package body Sem_Ch3 is\n \n    procedure Inherit_Predicate_Flags (Subt, Par : Entity_Id) is\n    begin\n-      Set_Has_Static_Predicate_Aspect (Subt,\n-          Has_Static_Predicate_Aspect (Par));\n-      Set_Has_Dynamic_Predicate_Aspect (Subt,\n-          Has_Dynamic_Predicate_Aspect (Par));\n+      Set_Has_Static_Predicate_Aspect\n+        (Subt, Has_Static_Predicate_Aspect (Par));\n+      Set_Has_Dynamic_Predicate_Aspect\n+        (Subt, Has_Dynamic_Predicate_Aspect (Par));\n    end Inherit_Predicate_Flags;\n \n    -----------------------"}, {"sha": "7fbf48a8461edd71da69848f26303a8944614571", "filename": "gcc/ada/sem_util.adb", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3/gcc%2Fada%2Fsem_util.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3/gcc%2Fada%2Fsem_util.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_util.adb?ref=de65e0e4ecc02dc04e7ff110ade703f8e4ff03e3", "patch": "@@ -793,7 +793,9 @@ package body Sem_Util is\n             return;\n          end if;\n \n-         if Is_Generic_Formal (Typ) then\n+         if Is_Generic_Formal (Typ)\n+           and then Is_Discrete_Type (Typ)\n+         then\n             Set_No_Predicate_On_Actual (Typ);\n          end if;\n \n@@ -821,9 +823,11 @@ package body Sem_Util is\n                Error_Msg_Warn := SPARK_Mode /= On;\n                Error_Msg_FE (Msg & \"<<\", N, Typ);\n                Error_Msg_F (\"\\Program_Error [<<\", N);\n+\n                Insert_Action (N,\n                  Make_Raise_Program_Error (Sloc (N),\n                    Reason => PE_Bad_Predicated_Generic_Type));\n+\n             else\n                Error_Msg_FE (Msg & \"<<\", N, Typ);\n             end if;\n@@ -6018,7 +6022,8 @@ package body Sem_Util is\n                --  be a static subtype, since otherwise it would have\n                --  been diagnosed as illegal.\n \n-               elsif Is_Entity_Name (Choice) and then Is_Type (Entity (Choice))\n+               elsif Is_Entity_Name (Choice) and then\n+                     Is_Type (Entity (Choice))\n                then\n                   exit Search when Is_In_Range (Expr, Etype (Choice),\n                                                 Assume_Valid => False);"}]}