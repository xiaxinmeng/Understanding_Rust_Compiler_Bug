{"sha": "b851ea098ed463f18e1534b8295ef666f6c7916d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Yjg1MWVhMDk4ZWQ0NjNmMThlMTUzNGI4Mjk1ZWY2NjZmNmM3OTE2ZA==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-12-27T11:52:59Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1992-12-27T11:52:59Z"}, "message": "(copy_rtx_if_shared): A CONST can be shared if it contains a\nSYBOL_REF.\n\nFrom-SVN: r2923", "tree": {"sha": "b3cbd63787aa4d0b8049517755f803e5ab0de3f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b3cbd63787aa4d0b8049517755f803e5ab0de3f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b851ea098ed463f18e1534b8295ef666f6c7916d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b851ea098ed463f18e1534b8295ef666f6c7916d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b851ea098ed463f18e1534b8295ef666f6c7916d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b851ea098ed463f18e1534b8295ef666f6c7916d/comments", "author": null, "committer": null, "parents": [{"sha": "818b11b942756b6af4e2dd01e2893e224076d40c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/818b11b942756b6af4e2dd01e2893e224076d40c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/818b11b942756b6af4e2dd01e2893e224076d40c"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "8291da1b6e4f82265f09b8431ab59b2701a6ba19", "filename": "gcc/emit-rtl.c", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b851ea098ed463f18e1534b8295ef666f6c7916d/gcc%2Femit-rtl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b851ea098ed463f18e1534b8295ef666f6c7916d/gcc%2Femit-rtl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Femit-rtl.c?ref=b851ea098ed463f18e1534b8295ef666f6c7916d", "patch": "@@ -1267,6 +1267,15 @@ copy_rtx_if_shared (orig)\n       /* SCRATCH must be shared because they represent distinct values. */\n       return x;\n \n+    case CONST:\n+      /* CONST can be shared if it contains a SYMBOL_REF.  If it contains\n+\t a LABEL_REF, it isn't sharable.  */\n+      if (GET_CODE (XEXP (x, 0)) == PLUS\n+\t  && GET_CODE (XEXP (XEXP (x, 0), 0)) == SYMBOL_REF\n+\t  && GET_CODE (XEXP (XEXP (x, 0), 1)) == CONST_INT)\n+\treturn x;\n+      break;\n+\n     case INSN:\n     case JUMP_INSN:\n     case CALL_INSN:"}]}