{"sha": "4afa41f130aad8e6b78d825b99abcd0b36faa0c4", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGFmYTQxZjEzMGFhZDhlNmI3OGQ4MjViOTlhYmNkMGIzNmZhYTBjNA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard@codesourcery.com", "date": "2006-10-08T14:33:22Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2006-10-08T14:33:22Z"}, "message": "mips.c (mips_legitimize_tls_address): Implement all TLS models in the same way as local exec if !TARGET_ABICALLS.\n\ngcc/\n\t* config/mips/mips.c (mips_legitimize_tls_address): Implement\n\tall TLS models in the same way as local exec if !TARGET_ABICALLS.\n\tRemove stray newline.\n\nFrom-SVN: r117557", "tree": {"sha": "d767e6dc4152c48523a43def5f059216ea575626", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d767e6dc4152c48523a43def5f059216ea575626"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4afa41f130aad8e6b78d825b99abcd0b36faa0c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4afa41f130aad8e6b78d825b99abcd0b36faa0c4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4afa41f130aad8e6b78d825b99abcd0b36faa0c4", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4afa41f130aad8e6b78d825b99abcd0b36faa0c4/comments", "author": null, "committer": null, "parents": [{"sha": "28f8c9e97bf154ca2ae2be7da91bb8ca109527b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/28f8c9e97bf154ca2ae2be7da91bb8ca109527b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/28f8c9e97bf154ca2ae2be7da91bb8ca109527b1"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "e56f7382578aac1076b962357b780c75ac9f2e07", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afa41f130aad8e6b78d825b99abcd0b36faa0c4/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afa41f130aad8e6b78d825b99abcd0b36faa0c4/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4afa41f130aad8e6b78d825b99abcd0b36faa0c4", "patch": "@@ -1,3 +1,9 @@\n+2006-10-08  Richard Sandiford  <richard@codesourcery.com>\n+\n+\t* config/mips/mips.c (mips_legitimize_tls_address): Implement\n+\tall TLS models in the same way as local exec if !TARGET_ABICALLS.\n+\tRemove stray newline.\n+\n 2006-10-08  Richard Sandiford  <richard@codesourcery.com>\n \n \t* config/mips/mips.c (mips_classify_symbol): Do not return"}, {"sha": "6ff25620dbe3e7a0dabae3737953c5ef62bfa653", "filename": "gcc/config/mips/mips.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4afa41f130aad8e6b78d825b99abcd0b36faa0c4/gcc%2Fconfig%2Fmips%2Fmips.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4afa41f130aad8e6b78d825b99abcd0b36faa0c4/gcc%2Fconfig%2Fmips%2Fmips.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.c?ref=4afa41f130aad8e6b78d825b99abcd0b36faa0c4", "patch": "@@ -2036,6 +2036,11 @@ mips_legitimize_tls_address (rtx loc)\n   v1 = gen_rtx_REG (Pmode, GP_RETURN + 1);\n \n   model = SYMBOL_REF_TLS_MODEL (loc);\n+  /* Only TARGET_ABICALLS code can have more than one module; other\n+     code must be be static and should not use a GOT.  All TLS models\n+     reduce to local exec in this situation.  */\n+  if (!TARGET_ABICALLS)\n+    model = TLS_MODEL_LOCAL_EXEC;\n \n   switch (model)\n     {\n@@ -2078,7 +2083,6 @@ mips_legitimize_tls_address (rtx loc)\n       break;\n \n     case TLS_MODEL_LOCAL_EXEC:\n-\n       if (Pmode == DImode)\n \temit_insn (gen_tls_get_tp_di (v1));\n       else"}]}