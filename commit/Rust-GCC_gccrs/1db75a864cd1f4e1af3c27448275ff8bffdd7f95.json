{"sha": "1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWRiNzVhODY0Y2QxZjRlMWFmM2MyNzQ0ODI3NWZmOGJmZmRkN2Y5NQ==", "commit": {"author": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2002-09-25T16:49:39Z"}, "committer": {"name": "Nathanael Nerode", "email": "neroden@gcc.gnu.org", "date": "2002-09-25T16:49:39Z"}, "message": "Makefile.tpl: Autogenerate *-target-* lists...\n\n2002-09-25  Nathanael Nerode  <neroden@gcc.gnu.org>\n\t* Makefile.tpl: Autogenerate *-target-* lists, dependencies of\n\tall-target-foo on configure-target-foo.\n\t* Makefile.def: Ditto.\n\t* Makefile.in: Rebuild.\n\nFrom-SVN: r57499", "tree": {"sha": "f3fa310848a115cba60d577c270e3141170421c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f3fa310848a115cba60d577c270e3141170421c2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/comments", "author": null, "committer": null, "parents": [{"sha": "1754e35c3147031d9226d4f35844bfe4862e4a79", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1754e35c3147031d9226d4f35844bfe4862e4a79", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1754e35c3147031d9226d4f35844bfe4862e4a79"}], "stats": {"total": 190, "additions": 78, "deletions": 112}, "files": [{"sha": "83da72c2c5b9d93166112d366b15c8f7ea241682", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "patch": "@@ -1,3 +1,9 @@\n+2002-09-25  Nathanael Nerode  <neroden@gcc.gnu.org>\n+\t* Makefile.tpl: Autogenerate *-target-* lists, dependencies of\n+\tall-target-foo on configure-target-foo.\n+\t* Makefile.def: Ditto.\n+\t* Makefile.in: Rebuild.\n+\n 2002-09-25  Andrew Haley  <aph@redhat.com>\n \n \t* MAINTAINERS: Add aph@redhat.com as Java maintainer."}, {"sha": "f1d9878475fccd17847914f8e34abacb5ba3219f", "filename": "Makefile.def", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/Makefile.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/Makefile.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.def?ref=1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "patch": "@@ -63,3 +63,19 @@ host_modules= { module= uudecode; };\n host_modules= { module= wdiff; };\n host_modules= { module= zip; no_check_cross=true; };\n host_modules= { module= zlib; no_install=true; no_check=true; };\n+\n+target_modules = { module= libstdc++-v3; };\n+target_modules = { module= newlib; };\n+target_modules = { module= libf2c; };\n+target_modules = { module= libobjc; };\n+target_modules = { module= libtermcap; no_check=true; no_clean=true; };\n+target_modules = { module= winsup; };\n+target_modules = { module= libgloss; no_check=true; };\n+target_modules = { module= libiberty; };\n+target_modules = { module= gperf; };\n+target_modules = { module= examples; no_check=true; no_install=true; };\n+target_modules = { module= libffi; no_install=true; };\n+target_modules = { module= libjava; };\n+target_modules = { module= zlib; };\n+target_modules = { module= boehm-gc; };\n+target_modules = { module= qthreads; };"}, {"sha": "3f995b355551f1bbd3f3c3a34150f83241693e30", "filename": "Makefile.in", "status": "modified", "additions": 33, "deletions": 22, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/Makefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/Makefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.in?ref=1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "patch": "@@ -771,7 +771,7 @@ ALL_TARGET_MODULES = \\\n \tall-target-libjava \\\n \tall-target-zlib \\\n \tall-target-boehm-gc \\\n-\tall-target-qthreads\n+\tall-target-qthreads \n \n # This is a list of the configure targets for all of the modules which\n # are compiled using the target tools.\n@@ -790,7 +790,7 @@ CONFIGURE_TARGET_MODULES = \\\n \tconfigure-target-libjava \\\n \tconfigure-target-zlib \\\n \tconfigure-target-boehm-gc \\\n-\tconfigure-target-qthreads\n+\tconfigure-target-qthreads \n \n # This is a list of the check targets for all of the modules which are\n # compiled using $(TARGET_FLAGS_TO_PASS).\n@@ -801,12 +801,12 @@ CHECK_TARGET_MODULES = \\\n \tcheck-target-libobjc \\\n \tcheck-target-winsup \\\n \tcheck-target-libiberty \\\n+\tcheck-target-gperf \\\n \tcheck-target-libffi \\\n \tcheck-target-libjava \\\n \tcheck-target-zlib \\\n \tcheck-target-boehm-gc \\\n-\tcheck-target-qthreads \\\n-\tcheck-target-gperf\n+\tcheck-target-qthreads \n \n # This is a list of the install targets for all of the modules which are\n # compiled using $(TARGET_FLAGS_TO_PASS).\n@@ -819,11 +819,11 @@ INSTALL_TARGET_MODULES = \\\n \tinstall-target-winsup \\\n \tinstall-target-libgloss \\\n \tinstall-target-libiberty \\\n+\tinstall-target-gperf \\\n \tinstall-target-libjava \\\n \tinstall-target-zlib \\\n \tinstall-target-boehm-gc \\\n-\tinstall-target-qthreads \\\n-\tinstall-target-gperf\n+\tinstall-target-qthreads \n \n # This is a list of the targets for which we can do a clean-{target}.\n CLEAN_MODULES = \\\n@@ -903,7 +903,7 @@ CLEAN_TARGET_MODULES = \\\n \tclean-target-libjava \\\n \tclean-target-zlib \\\n \tclean-target-boehm-gc \\\n-\tclean-target-qthreads\n+\tclean-target-qthreads \n \n # All of the x11 modules that can be cleaned\n CLEAN_X11_MODULES = \\\n@@ -1659,15 +1659,13 @@ all-bfd: all-libiberty all-intl\n all-binutils: all-libiberty all-opcodes all-bfd all-flex all-bison all-byacc all-intl\n all-bison: all-texinfo\n configure-target-boehm-gc: $(ALL_GCC_C) configure-target-qthreads\n-all-target-boehm-gc: configure-target-boehm-gc\n all-byacc:\n all-bzip2:\n all-db:\n all-dejagnu: all-tcl all-expect all-tk\n all-diff: all-libiberty\n all-etc:\n configure-target-examples: $(ALL_GCC_C)\n-all-target-examples: configure-target-examples\n all-expect: all-tcl all-tk\n all-fileutils: all-libiberty\n all-findutils:\n@@ -1682,7 +1680,7 @@ all-gdb: all-libiberty all-opcodes all-bfd all-mmalloc all-readline all-bison al\n all-gettext:\n all-gnuserv:\n configure-target-gperf: $(ALL_GCC_CXX)\n-all-target-gperf: configure-target-gperf all-target-libiberty all-target-libstdc++-v3\n+all-target-gperf: all-target-libiberty all-target-libstdc++-v3\n all-gprof: all-libiberty all-bfd all-opcodes all-intl\n all-grep: all-libiberty\n all-gui: all-gdb all-libproc\n@@ -1694,36 +1692,32 @@ all-intl:\n all-itcl: all-tcl all-tk\n all-ld: all-libiberty all-bfd all-opcodes all-bison all-byacc all-flex all-intl\n configure-target-libgloss: $(ALL_GCC)\n-all-target-libgloss: configure-target-libgloss configure-target-newlib\n+all-target-libgloss: configure-target-newlib\n all-libgui: all-tcl all-tk all-itcl\n all-libiberty:\n \n all-build-libiberty: configure-build-libiberty\n \n configure-target-libffi: $(ALL_GCC_C) \n-all-target-libffi: configure-target-libffi\n configure-target-libjava: $(ALL_GCC_C) configure-target-zlib configure-target-boehm-gc configure-target-qthreads configure-target-libffi\n-all-target-libjava: configure-target-libjava all-fastjar all-target-zlib all-target-boehm-gc all-target-qthreads all-target-libffi\n+all-target-libjava: all-fastjar all-target-zlib all-target-boehm-gc all-target-qthreads all-target-libffi\n configure-target-libstdc++-v3: $(ALL_GCC_C)\n-all-target-libstdc++-v3: configure-target-libstdc++-v3 all-target-libiberty\n+all-target-libstdc++-v3: all-target-libiberty\n all-libtool:\n configure-target-libf2c: $(ALL_GCC_C)\n-all-target-libf2c: configure-target-libf2c all-target-libiberty\n+all-target-libf2c: all-target-libiberty\n configure-target-libobjc: $(ALL_GCC_C)\n-all-target-libobjc: configure-target-libobjc all-target-libiberty\n+all-target-libobjc: all-target-libiberty\n all-m4: all-libiberty all-texinfo\n all-make: all-libiberty\n all-mmalloc:\n configure-target-newlib: $(ALL_GCC)\n-all-target-newlib: configure-target-newlib\n configure-target-libtermcap: $(ALL_GCC_C)\n-all-target-libtermcap: configure-target-libtermcap\n all-opcodes: all-bfd all-libiberty\n all-patch: all-libiberty\n all-perl:\n all-prms: all-libiberty\n configure-target-qthreads: $(ALL_GCC_C)\n-all-target-qthreads: configure-target-qthreads\n all-rcs:\n all-readline:\n all-recode: all-libiberty\n@@ -1743,21 +1737,38 @@ all-time:\n all-tix: all-tcl all-tk\n all-wdiff:\n configure-target-winsup: $(ALL_GCC_C)\n-all-target-winsup: all-target-libiberty all-target-libtermcap configure-target-winsup\n+all-target-winsup: all-target-libiberty all-target-libtermcap\n all-uudecode: all-libiberty\n all-zip:\n all-zlib:\n configure-target-zlib: $(ALL_GCC_C)\n-all-target-zlib: configure-target-zlib\n all-fastjar: all-zlib all-libiberty\n configure-target-fastjar: configure-target-zlib\n all-target-fastjar: configure-target-fastjar all-target-zlib all-target-libiberty\n configure-target-libiberty: $(ALL_GCC_C)\n-all-target-libiberty: configure-target-libiberty\n all-target: $(ALL_TARGET_MODULES)\n install-target: $(INSTALL_TARGET_MODULES)\n install-gdb: install-tcl install-tk install-itcl install-tix install-libgui\n install-sid: install-tcl install-tk\n+\n+# Dependencies of all-target-foo on configure-target-foo.\n+all-target-libstdc++-v3: configure-target-libstdc++-v3\n+all-target-newlib: configure-target-newlib\n+all-target-libf2c: configure-target-libf2c\n+all-target-libobjc: configure-target-libobjc\n+all-target-libtermcap: configure-target-libtermcap\n+all-target-winsup: configure-target-winsup\n+all-target-libgloss: configure-target-libgloss\n+all-target-libiberty: configure-target-libiberty\n+all-target-gperf: configure-target-gperf\n+all-target-examples: configure-target-examples\n+all-target-libffi: configure-target-libffi\n+all-target-libjava: configure-target-libjava\n+all-target-zlib: configure-target-zlib\n+all-target-boehm-gc: configure-target-boehm-gc\n+all-target-qthreads: configure-target-qthreads\n+\n+\n ### other supporting targets\n \n MAKEDIRS= \\"}, {"sha": "394b9cd053aa039999ce50a1ce01dc34ea785975", "filename": "Makefile.tpl", "status": "modified", "additions": 23, "deletions": 90, "changes": 113, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/Makefile.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1db75a864cd1f4e1af3c27448275ff8bffdd7f95/Makefile.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/Makefile.tpl?ref=1db75a864cd1f4e1af3c27448275ff8bffdd7f95", "patch": "@@ -594,95 +594,31 @@ INSTALL_X11_MODULES = \\\n \n # This is a list of the targets for all of the modules which are compiled\n # using $(TARGET_FLAGS_TO_PASS).\n-ALL_TARGET_MODULES = \\\n-\tall-target-libstdc++-v3 \\\n-\tall-target-newlib \\\n-\tall-target-libf2c \\\n-\tall-target-libobjc \\\n-\tall-target-libtermcap \\\n-\tall-target-winsup \\\n-\tall-target-libgloss \\\n-\tall-target-libiberty \\\n-\tall-target-gperf \\\n-\tall-target-examples \\\n-\tall-target-libffi \\\n-\tall-target-libjava \\\n-\tall-target-zlib \\\n-\tall-target-boehm-gc \\\n-\tall-target-qthreads\n+ALL_TARGET_MODULES = [+ FOR target_modules +]\\\n+\tall-target-[+module+] [+ ENDFOR target_modules +]\n \n # This is a list of the configure targets for all of the modules which\n # are compiled using the target tools.\n-CONFIGURE_TARGET_MODULES = \\\n-\tconfigure-target-libstdc++-v3 \\\n-\tconfigure-target-newlib \\\n-\tconfigure-target-libf2c \\\n-\tconfigure-target-libobjc \\\n-\tconfigure-target-libtermcap \\\n-\tconfigure-target-winsup \\\n-\tconfigure-target-libgloss \\\n-\tconfigure-target-libiberty \\\n-\tconfigure-target-gperf \\\n-\tconfigure-target-examples \\\n-\tconfigure-target-libffi \\\n-\tconfigure-target-libjava \\\n-\tconfigure-target-zlib \\\n-\tconfigure-target-boehm-gc \\\n-\tconfigure-target-qthreads\n+CONFIGURE_TARGET_MODULES = [+ FOR target_modules +]\\\n+\tconfigure-target-[+module+] [+ ENDFOR target_modules +]\n \n # This is a list of the check targets for all of the modules which are\n # compiled using $(TARGET_FLAGS_TO_PASS).\n-CHECK_TARGET_MODULES = \\\n-\tcheck-target-libstdc++-v3 \\\n-\tcheck-target-newlib \\\n-\tcheck-target-libf2c \\\n-\tcheck-target-libobjc \\\n-\tcheck-target-winsup \\\n-\tcheck-target-libiberty \\\n-\tcheck-target-libffi \\\n-\tcheck-target-libjava \\\n-\tcheck-target-zlib \\\n-\tcheck-target-boehm-gc \\\n-\tcheck-target-qthreads \\\n-\tcheck-target-gperf\n+CHECK_TARGET_MODULES = [+ FOR target_modules +][+ IF no_check +][+ ELSE check +]\\\n+\tcheck-target-[+module+] [+ ENDIF no_check +][+ ENDFOR target_modules +]\n \n # This is a list of the install targets for all of the modules which are\n # compiled using $(TARGET_FLAGS_TO_PASS).\n-INSTALL_TARGET_MODULES = \\\n-\tinstall-target-libstdc++-v3 \\\n-\tinstall-target-newlib \\\n-\tinstall-target-libf2c \\\n-\tinstall-target-libobjc \\\n-\tinstall-target-libtermcap \\\n-\tinstall-target-winsup \\\n-\tinstall-target-libgloss \\\n-\tinstall-target-libiberty \\\n-\tinstall-target-libjava \\\n-\tinstall-target-zlib \\\n-\tinstall-target-boehm-gc \\\n-\tinstall-target-qthreads \\\n-\tinstall-target-gperf\n+INSTALL_TARGET_MODULES = [+ FOR target_modules +][+ IF no_install +][+ ELSE install +]\\\n+\tinstall-target-[+module+] [+ ENDIF no_install +][+ ENDFOR target_modules +]\n \n # This is a list of the targets for which we can do a clean-{target}.\n CLEAN_MODULES = [+ FOR host_modules +][+ IF no_clean +][+ ELSE no_clean +]\\\n \tclean-[+module+] [+ ENDIF no_clean +][+ ENDFOR host_modules +]\n \n # All of the target modules that can be cleaned\n-CLEAN_TARGET_MODULES = \\\n-\tclean-target-libstdc++-v3 \\\n-\tclean-target-newlib \\\n-\tclean-target-libf2c \\\n-\tclean-target-libobjc \\\n-\tclean-target-winsup \\\n-\tclean-target-libgloss \\\n-\tclean-target-libiberty \\\n-\tclean-target-gperf \\\n-\tclean-target-examples \\\n-\tclean-target-libffi \\\n-\tclean-target-libjava \\\n-\tclean-target-zlib \\\n-\tclean-target-boehm-gc \\\n-\tclean-target-qthreads\n+CLEAN_TARGET_MODULES = [+ FOR target_modules +][+ IF no_clean +][+ ELSE clean +]\\\n+\tclean-target-[+module+] [+ ENDIF no_clean +][+ ENDFOR target_modules +]\n \n # All of the x11 modules that can be cleaned\n CLEAN_X11_MODULES = \\\n@@ -1438,15 +1374,13 @@ all-bfd: all-libiberty all-intl\n all-binutils: all-libiberty all-opcodes all-bfd all-flex all-bison all-byacc all-intl\n all-bison: all-texinfo\n configure-target-boehm-gc: $(ALL_GCC_C) configure-target-qthreads\n-all-target-boehm-gc: configure-target-boehm-gc\n all-byacc:\n all-bzip2:\n all-db:\n all-dejagnu: all-tcl all-expect all-tk\n all-diff: all-libiberty\n all-etc:\n configure-target-examples: $(ALL_GCC_C)\n-all-target-examples: configure-target-examples\n all-expect: all-tcl all-tk\n all-fileutils: all-libiberty\n all-findutils:\n@@ -1461,7 +1395,7 @@ all-gdb: all-libiberty all-opcodes all-bfd all-mmalloc all-readline all-bison al\n all-gettext:\n all-gnuserv:\n configure-target-gperf: $(ALL_GCC_CXX)\n-all-target-gperf: configure-target-gperf all-target-libiberty all-target-libstdc++-v3\n+all-target-gperf: all-target-libiberty all-target-libstdc++-v3\n all-gprof: all-libiberty all-bfd all-opcodes all-intl\n all-grep: all-libiberty\n all-gui: all-gdb all-libproc\n@@ -1473,36 +1407,32 @@ all-intl:\n all-itcl: all-tcl all-tk\n all-ld: all-libiberty all-bfd all-opcodes all-bison all-byacc all-flex all-intl\n configure-target-libgloss: $(ALL_GCC)\n-all-target-libgloss: configure-target-libgloss configure-target-newlib\n+all-target-libgloss: configure-target-newlib\n all-libgui: all-tcl all-tk all-itcl\n all-libiberty:\n \n all-build-libiberty: configure-build-libiberty\n \n configure-target-libffi: $(ALL_GCC_C) \n-all-target-libffi: configure-target-libffi\n configure-target-libjava: $(ALL_GCC_C) configure-target-zlib configure-target-boehm-gc configure-target-qthreads configure-target-libffi\n-all-target-libjava: configure-target-libjava all-fastjar all-target-zlib all-target-boehm-gc all-target-qthreads all-target-libffi\n+all-target-libjava: all-fastjar all-target-zlib all-target-boehm-gc all-target-qthreads all-target-libffi\n configure-target-libstdc++-v3: $(ALL_GCC_C)\n-all-target-libstdc++-v3: configure-target-libstdc++-v3 all-target-libiberty\n+all-target-libstdc++-v3: all-target-libiberty\n all-libtool:\n configure-target-libf2c: $(ALL_GCC_C)\n-all-target-libf2c: configure-target-libf2c all-target-libiberty\n+all-target-libf2c: all-target-libiberty\n configure-target-libobjc: $(ALL_GCC_C)\n-all-target-libobjc: configure-target-libobjc all-target-libiberty\n+all-target-libobjc: all-target-libiberty\n all-m4: all-libiberty all-texinfo\n all-make: all-libiberty\n all-mmalloc:\n configure-target-newlib: $(ALL_GCC)\n-all-target-newlib: configure-target-newlib\n configure-target-libtermcap: $(ALL_GCC_C)\n-all-target-libtermcap: configure-target-libtermcap\n all-opcodes: all-bfd all-libiberty\n all-patch: all-libiberty\n all-perl:\n all-prms: all-libiberty\n configure-target-qthreads: $(ALL_GCC_C)\n-all-target-qthreads: configure-target-qthreads\n all-rcs:\n all-readline:\n all-recode: all-libiberty\n@@ -1522,21 +1452,24 @@ all-time:\n all-tix: all-tcl all-tk\n all-wdiff:\n configure-target-winsup: $(ALL_GCC_C)\n-all-target-winsup: all-target-libiberty all-target-libtermcap configure-target-winsup\n+all-target-winsup: all-target-libiberty all-target-libtermcap\n all-uudecode: all-libiberty\n all-zip:\n all-zlib:\n configure-target-zlib: $(ALL_GCC_C)\n-all-target-zlib: configure-target-zlib\n all-fastjar: all-zlib all-libiberty\n configure-target-fastjar: configure-target-zlib\n all-target-fastjar: configure-target-fastjar all-target-zlib all-target-libiberty\n configure-target-libiberty: $(ALL_GCC_C)\n-all-target-libiberty: configure-target-libiberty\n all-target: $(ALL_TARGET_MODULES)\n install-target: $(INSTALL_TARGET_MODULES)\n install-gdb: install-tcl install-tk install-itcl install-tix install-libgui\n install-sid: install-tcl install-tk\n+\n+# Dependencies of all-target-foo on configure-target-foo.\n+[+ FOR target_modules +]all-target-[+module+]: configure-target-[+module+]\n+[+ ENDFOR target_modules +]\n+\n ### other supporting targets\n \n MAKEDIRS= \\\n@@ -1568,7 +1501,7 @@ etags tags: TAGS\n TAGS: do-TAGS\n \n # Rebuilding Makefile.in, using autogen.\n-$(srcdir)/Makefile.in: $(srcdir)/Makefile.tpl $(srcdir)/Makefile.def\n+$(srcdir)/Makefile.in: # $(srcdir)/Makefile.tpl $(srcdir)/Makefile.def\n \tcd $(srcdir) && autogen Makefile.def\n \n # with the gnu make, this is done automatically."}]}