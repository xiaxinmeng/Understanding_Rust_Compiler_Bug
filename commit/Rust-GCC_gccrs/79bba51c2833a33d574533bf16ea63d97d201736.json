{"sha": "79bba51c2833a33d574533bf16ea63d97d201736", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzliYmE1MWMyODMzYTMzZDU3NDUzM2JmMTZlYTYzZDk3ZDIwMTczNg==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2004-05-22T18:18:46Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2004-05-22T18:18:46Z"}, "message": "re PR bootstrap/15546 (Bootstrap stage3: Undefined references to basic_string)\n\n2004-05-22  Andrew Pinski  <pinskia@physics.uc.edu>\n\n\tPR 15546\n\t* config/i386/i386.c (output_pic_addr_const <case SYMBOL_REF>):\n\tCall mark_decl_referenced on the SYMBOL_REF_DECL.\n\nFrom-SVN: r82141", "tree": {"sha": "b730879ecc374205704b57c013a9fb062a350c7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b730879ecc374205704b57c013a9fb062a350c7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/79bba51c2833a33d574533bf16ea63d97d201736", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79bba51c2833a33d574533bf16ea63d97d201736", "html_url": "https://github.com/Rust-GCC/gccrs/commit/79bba51c2833a33d574533bf16ea63d97d201736", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/79bba51c2833a33d574533bf16ea63d97d201736/comments", "author": null, "committer": null, "parents": [{"sha": "6f312d18d4788838bbd51c409a29b11ad8ccf009", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6f312d18d4788838bbd51c409a29b11ad8ccf009", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6f312d18d4788838bbd51c409a29b11ad8ccf009"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "eebf878f00fe76a3ed985b67eb7fcbaaa68c1dcc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79bba51c2833a33d574533bf16ea63d97d201736/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79bba51c2833a33d574533bf16ea63d97d201736/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=79bba51c2833a33d574533bf16ea63d97d201736", "patch": "@@ -1,3 +1,9 @@\n+2004-05-22  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\tPR 15546\n+\t* config/i386/i386.c (output_pic_addr_const <case SYMBOL_REF>):\n+\tCall mark_decl_referenced on the SYMBOL_REF_DECL.\n+\n 2004-05-22  Andrew Pinski  <pinskia@physics.uc.edu>\n \n \t* c-common.c (c_common_truthvalue_conversion): Handle"}, {"sha": "b1d7be3467f71eb995bc8d2c2684eaf7e2b5ba34", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/79bba51c2833a33d574533bf16ea63d97d201736/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/79bba51c2833a33d574533bf16ea63d97d201736/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=79bba51c2833a33d574533bf16ea63d97d201736", "patch": "@@ -6762,6 +6762,10 @@ output_pic_addr_const (FILE *file, rtx x, int code)\n       break;\n \n     case SYMBOL_REF:\n+     /* Mark the decl as referenced so that cgraph will output the function.  */\n+     if (SYMBOL_REF_DECL (x))\n+       mark_decl_referenced (SYMBOL_REF_DECL (x));\n+\n       assemble_name (file, XSTR (x, 0));\n       if (!TARGET_MACHO && code == 'P' && ! SYMBOL_REF_LOCAL_P (x))\n \tfputs (\"@PLT\", file);"}]}