{"sha": "3fe35ab093de715e88fc837155954bbe74b326f3", "node_id": "C_kwDOANBUbNoAKDNmZTM1YWIwOTNkZTcxNWU4OGZjODM3MTU1OTU0YmJlNzRiMzI2ZjM", "commit": {"author": {"name": "Yannick Moy", "email": "moy@adacore.com", "date": "2022-02-23T11:58:42Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2022-05-13T08:04:35Z"}, "message": "[Ada] Facilitate proof of Overwrite in bounded strings library\n\nConsistently use >= operator in both the code and contracts of\nfunction/procedure Overwrite, to facilitate proof, instead of the strict\ninequality > sometimes, as only New_Item remains in the result in the\ncase of equal size too.\n\ngcc/ada/\n\n\t* libgnat/a-strbou.ads (Overwrite): Switch to >= operator in\n\tcontracts.\n\t* libgnat/a-strsup.adb (Super_Overwrite): Switch to >= operator\n\tin code of procedure (function already uses it).\n\t* libgnat/a-strsup.ads (Super_Overwrite): Switch to >= operator\n\tin contracts.", "tree": {"sha": "1cd89e77f24dad683f2219eb10781f42f016ed10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1cd89e77f24dad683f2219eb10781f42f016ed10"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3fe35ab093de715e88fc837155954bbe74b326f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fe35ab093de715e88fc837155954bbe74b326f3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fe35ab093de715e88fc837155954bbe74b326f3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fe35ab093de715e88fc837155954bbe74b326f3/comments", "author": {"login": "yannickmoy", "id": 859440, "node_id": "MDQ6VXNlcjg1OTQ0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/859440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannickmoy", "html_url": "https://github.com/yannickmoy", "followers_url": "https://api.github.com/users/yannickmoy/followers", "following_url": "https://api.github.com/users/yannickmoy/following{/other_user}", "gists_url": "https://api.github.com/users/yannickmoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannickmoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannickmoy/subscriptions", "organizations_url": "https://api.github.com/users/yannickmoy/orgs", "repos_url": "https://api.github.com/users/yannickmoy/repos", "events_url": "https://api.github.com/users/yannickmoy/events{/privacy}", "received_events_url": "https://api.github.com/users/yannickmoy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9e5b1b076a57feee4057460aac8aae451b42431e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e5b1b076a57feee4057460aac8aae451b42431e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e5b1b076a57feee4057460aac8aae451b42431e"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "839760ac26ac668c9b7c5d4f99a5c9657e58907a", "filename": "gcc/ada/libgnat/a-strbou.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fe35ab093de715e88fc837155954bbe74b326f3/gcc%2Fada%2Flibgnat%2Fa-strbou.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fe35ab093de715e88fc837155954bbe74b326f3/gcc%2Fada%2Flibgnat%2Fa-strbou.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-strbou.ads?ref=3fe35ab093de715e88fc837155954bbe74b326f3", "patch": "@@ -1898,7 +1898,7 @@ package Ada.Strings.Bounded with SPARK_Mode is\n                --  some characters of Source are remaining at the left.\n \n                and then\n-                 (if New_Item'Length > Max_Length then\n+                 (if New_Item'Length >= Max_Length then\n \n                     --  New_Item covers all Max_Length characters\n \n@@ -1984,7 +1984,7 @@ package Ada.Strings.Bounded with SPARK_Mode is\n                --  some characters of Source are remaining at the left.\n \n                and then\n-                 (if New_Item'Length > Max_Length then\n+                 (if New_Item'Length >= Max_Length then\n \n                     --  New_Item covers all Max_Length characters\n "}, {"sha": "f1a40a2cd6bf5a224d84b592008dbcd0d64dc235", "filename": "gcc/ada/libgnat/a-strsup.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fe35ab093de715e88fc837155954bbe74b326f3/gcc%2Fada%2Flibgnat%2Fa-strsup.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fe35ab093de715e88fc837155954bbe74b326f3/gcc%2Fada%2Flibgnat%2Fa-strsup.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-strsup.adb?ref=3fe35ab093de715e88fc837155954bbe74b326f3", "patch": "@@ -1226,7 +1226,7 @@ package body Ada.Strings.Superbounded with SPARK_Mode is\n                  (New_Item (New_Item'First .. New_Item'Last - Droplen));\n \n             when Strings.Left =>\n-               if New_Item'Length > Max_Length then\n+               if New_Item'Length >= Max_Length then\n                   Source.Data (1 .. Max_Length) := Super_String_Data\n                     (New_Item\n                       (New_Item'Last - Max_Length + 1 .. New_Item'Last));"}, {"sha": "416fa7bb06a98b1acf218ee0a8ef1cb778a1b78b", "filename": "gcc/ada/libgnat/a-strsup.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3fe35ab093de715e88fc837155954bbe74b326f3/gcc%2Fada%2Flibgnat%2Fa-strsup.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3fe35ab093de715e88fc837155954bbe74b326f3/gcc%2Fada%2Flibgnat%2Fa-strsup.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Flibgnat%2Fa-strsup.ads?ref=3fe35ab093de715e88fc837155954bbe74b326f3", "patch": "@@ -2000,7 +2000,7 @@ package Ada.Strings.Superbounded with SPARK_Mode is\n             --  Source are remaining at the left.\n \n             and then\n-              (if New_Item'Length > Source.Max_Length then\n+              (if New_Item'Length >= Source.Max_Length then\n \n                  --  New_Item covers all Max_Length characters\n \n@@ -2089,7 +2089,7 @@ package Ada.Strings.Superbounded with SPARK_Mode is\n             --  Source are remaining at the left.\n \n             and then\n-              (if New_Item'Length > Source.Max_Length then\n+              (if New_Item'Length >= Source.Max_Length then\n \n                  --  New_Item covers all Max_Length characters\n "}]}