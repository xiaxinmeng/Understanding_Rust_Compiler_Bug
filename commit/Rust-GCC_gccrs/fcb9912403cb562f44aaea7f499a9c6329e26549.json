{"sha": "fcb9912403cb562f44aaea7f499a9c6329e26549", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZmNiOTkxMjQwM2NiNTYyZjQ0YWFlYTdmNDk5YTljNjMyOWUyNjU0OQ==", "commit": {"author": {"name": "Steven Munroe", "email": "munroesj@gcc.gnu.org", "date": "2017-06-01T00:15:51Z"}, "committer": {"name": "Steven Munroe", "email": "munroesj@gcc.gnu.org", "date": "2017-06-01T00:15:51Z"}, "message": "Fix up dg options to resolve make check failures Bill Seurer found\nwhen compiling --with-cpu=power6.\n\n2017-05-31  Steven Munroe  <munroesj@gcc.gnu.org>\n\n\t* gcc.target/powerpc/bmi2-pdep32-1.c: Add -mcpu=power7 to\n        dg-options.  Change dg-require-effective-target powerpc_vsx_ok\n        to vsx_hw.  Add dg-skip-if directive to disable this test if\n\t-mcpu overridden.\n\t* gcc.target/powerpc/bmi2-pdep64-1.c: Likewise.\n\t* gcc.target/powerpc/bmi2-pext32-1.c: Likewise.\n\t* gcc.target/powerpc/bmi2-pext64-1.c: Likewise.\n\t* gcc.target/powerpc/bmi2-pext64-1a.c: Add -mcpu=power7\n\tto dg-option.  Add dg-skip-if directive to disable this test\n\tfor darwin.  Add dg-skip-if directive to disable this test if\n\t-mcpu overridden.\n\nFrom-SVN: r248766", "tree": {"sha": "4c241ff26090ca6170375cc86d33ed4c356d9339", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4c241ff26090ca6170375cc86d33ed4c356d9339"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/fcb9912403cb562f44aaea7f499a9c6329e26549", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcb9912403cb562f44aaea7f499a9c6329e26549", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fcb9912403cb562f44aaea7f499a9c6329e26549", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fcb9912403cb562f44aaea7f499a9c6329e26549/comments", "author": null, "committer": null, "parents": [{"sha": "30bc05cfcb5889462047dccf3a03e357d1c1b155", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30bc05cfcb5889462047dccf3a03e357d1c1b155", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30bc05cfcb5889462047dccf3a03e357d1c1b155"}], "stats": {"total": 38, "additions": 29, "deletions": 9}, "files": [{"sha": "8af1ac5a3f2279c2c9987fbf3868a8320fc1bdc0", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=fcb9912403cb562f44aaea7f499a9c6329e26549", "patch": "@@ -1,3 +1,17 @@\n+2017-05-31  Steven Munroe  <munroesj@gcc.gnu.org>\n+\n+\t* gcc.target/powerpc/bmi2-pdep32-1.c: Add -mcpu=power7 to\n+        dg-options.  Change dg-require-effective-target powerpc_vsx_ok\n+        to vsx_hw.  Add dg-skip-if directive to disable this test if\n+\t-mcpu overridden.\n+\t* gcc.target/powerpc/bmi2-pdep64-1.c: Likewise.\n+\t* gcc.target/powerpc/bmi2-pext32-1.c: Likewise.\n+\t* gcc.target/powerpc/bmi2-pext64-1.c: Likewise.\n+\t* gcc.target/powerpc/bmi2-pext64-1a.c: Add -mcpu=power7\n+\tto dg-option.  Add dg-skip-if directive to disable this test\n+\tfor darwin.  Add dg-skip-if directive to disable this test if\n+\t-mcpu overridden.\n+\n 2017-05-31  Sebastian Peryt  <sebastian.peryt@intel.com>\n \n \t* gcc.target/i386/avx512f-vmaxsd-1.c (_mm_mask_max_sd)"}, {"sha": "12cf92eec2c8b5583f9d2858b2192d3f93bc384d", "filename": "gcc/testsuite/gcc.target/powerpc/bmi2-pdep32-1.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pdep32-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pdep32-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pdep32-1.c?ref=fcb9912403cb562f44aaea7f499a9c6329e26549", "patch": "@@ -1,7 +1,8 @@\n /* { dg-do run } */\n-/* { dg-options \"-O3\" } */\n+/* { dg-options \"-O3 -mcpu=power7\" } */\n /* { dg-require-effective-target lp64 } */\n-/* { dg-require-effective-target powerpc_vsx_ok } */\n+/* { dg-require-effective-target vsx_hw } */\n+/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n \n #define NO_WARN_X86_INTRINSICS 1\n #include <x86intrin.h>"}, {"sha": "01e1fdaf538814fc041358e75be33d52e85f6da3", "filename": "gcc/testsuite/gcc.target/powerpc/bmi2-pdep64-1.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pdep64-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pdep64-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pdep64-1.c?ref=fcb9912403cb562f44aaea7f499a9c6329e26549", "patch": "@@ -1,7 +1,8 @@\n /* { dg-do run } */\n-/* { dg-options \"-O3\" } */\n+/* { dg-options \"-O3 -mcpu=power7\" } */\n /* { dg-require-effective-target lp64 } */\n-/* { dg-require-effective-target powerpc_vsx_ok } */\n+/* { dg-require-effective-target vsx_hw } */\n+/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n \n #define NO_WARN_X86_INTRINSICS 1\n #include <x86intrin.h>"}, {"sha": "9450ef56aedb4050077d15505d692c23207b45c1", "filename": "gcc/testsuite/gcc.target/powerpc/bmi2-pext32-1.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext32-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext32-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext32-1.c?ref=fcb9912403cb562f44aaea7f499a9c6329e26549", "patch": "@@ -1,7 +1,8 @@\n /* { dg-do run } */\n-/* { dg-options \"-O3\" } */\n+/* { dg-options \"-O3 -mcpu=power7\" } */\n /* { dg-require-effective-target lp64 } */\n-/* { dg-require-effective-target powerpc_vsx_ok } */\n+/* { dg-require-effective-target vsx_hw } */\n+/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n \n #define NO_WARN_X86_INTRINSICS 1\n #include <x86intrin.h>"}, {"sha": "b76ae81b5bc303e6885bf7246dfe8bfe051ee38d", "filename": "gcc/testsuite/gcc.target/powerpc/bmi2-pext64-1.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext64-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext64-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext64-1.c?ref=fcb9912403cb562f44aaea7f499a9c6329e26549", "patch": "@@ -1,7 +1,8 @@\n /* { dg-do run } */\n-/* { dg-options \"-O3\" } */\n+/* { dg-options \"-O3 -mcpu=power7\" } */\n /* { dg-require-effective-target lp64 } */\n-/* { dg-require-effective-target powerpc_vsx_ok } */\n+/* { dg-require-effective-target vsx_hw } */\n+/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n \n #define NO_WARN_X86_INTRINSICS 1\n #include <x86intrin.h>"}, {"sha": "02de1f944a00dcb36e8ab9eb391bdb6bc24e34f8", "filename": "gcc/testsuite/gcc.target/powerpc/bmi2-pext64-1a.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext64-1a.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/fcb9912403cb562f44aaea7f499a9c6329e26549/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext64-1a.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fpowerpc%2Fbmi2-pext64-1a.c?ref=fcb9912403cb562f44aaea7f499a9c6329e26549", "patch": "@@ -1,7 +1,9 @@\n /* { dg-do compile } */\n-/* { dg-options \"-O3\" } */\n+/* { dg-skip-if \"\" { powerpc*-*-darwin* } { \"*\" } { \"\" } } */\n+/* { dg-options \"-O3 -mcpu=power7\" } */\n /* { dg-require-effective-target lp64 } */\n /* { dg-require-effective-target powerpc_vsx_ok } */\n+/* { dg-skip-if \"do not override -mcpu\" { powerpc*-*-* } { \"-mcpu=*\" } { \"-mcpu=power7\" } } */\n \n #define NO_WARN_X86_INTRINSICS 1\n #include <x86intrin.h>"}]}