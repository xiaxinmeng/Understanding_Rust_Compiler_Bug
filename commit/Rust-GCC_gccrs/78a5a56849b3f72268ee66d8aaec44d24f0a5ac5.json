{"sha": "78a5a56849b3f72268ee66d8aaec44d24f0a5ac5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzhhNWE1Njg0OWIzZjcyMjY4ZWU2NmQ4YWFlYzQ0ZDI0ZjBhNWFjNQ==", "commit": {"author": {"name": "Janis Johnson", "email": "janisjo@codesourcery.com", "date": "2012-06-13T22:55:15Z"}, "committer": {"name": "Janis Johnson", "email": "janis@gcc.gnu.org", "date": "2012-06-13T22:55:15Z"}, "message": "scanasm.exp (scan-assembler, [...]): Don't strip torture options from test name.\n\n\t* lib/scanasm.exp (scan-assembler, scan-assembler-not, scan-hidden,\n\tscan-not-hiddent, scan-file, scan-file-not, scan-stack-usage,\n\tscan-stack-usage-not): Don't strip torture options from test name.\n\nFrom-SVN: r188539", "tree": {"sha": "5f344e955a356b4e2d1fe1e740e7488e8709a5d0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5f344e955a356b4e2d1fe1e740e7488e8709a5d0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5/comments", "author": null, "committer": null, "parents": [{"sha": "9042f8f29666241691f82aee848377219cff0905", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9042f8f29666241691f82aee848377219cff0905", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9042f8f29666241691f82aee848377219cff0905"}], "stats": {"total": 53, "additions": 40, "deletions": 13}, "files": [{"sha": "92bff75b1eb681f23f92c1c7562e937f9e518950", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=78a5a56849b3f72268ee66d8aaec44d24f0a5ac5", "patch": "@@ -1,5 +1,9 @@\n 2012-06-13  Janis Johnson  <janisjo@codesourcery.com>\n \n+\t* lib/scanasm.exp (scan-assembler, scan-assembler-not, scan-hidden,\n+\tscan-not-hiddent, scan-file, scan-file-not, scan-stack-usage,\n+\tscan-stack-usage-not): Don't strip torture options from test name.\n+\n \t* lib/scandump.exp (scan-dump-times): Use printable version of\n \tregexp in test summary line.\n "}, {"sha": "ebd3c611da609308a154350c22c0f181564f9553", "filename": "gcc/testsuite/lib/scanasm.exp", "status": "modified", "additions": 36, "deletions": 13, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/78a5a56849b3f72268ee66d8aaec44d24f0a5ac5/gcc%2Ftestsuite%2Flib%2Fscanasm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fscanasm.exp?ref=78a5a56849b3f72268ee66d8aaec44d24f0a5ac5", "patch": "@@ -79,9 +79,10 @@ proc dg-scan { name positive testcase output_file orig_args } {\n \n proc scan-assembler { args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set output_file \"[file rootname [file tail $testcase]].s\"\n-\n     dg-scan \"scan-assembler\" 1 $testcase $output_file $args\n }\n \n@@ -95,7 +96,9 @@ proc scan-assembler_required_options { args } {\n \n proc scan-assembler-not { args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     dg-scan \"scan-assembler-not\" 0 $testcase $output_file $args\n@@ -126,7 +129,9 @@ proc hidden-scan-for { symbol } {\n \n proc scan-hidden { args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     set symbol [lindex $args 0]\n@@ -143,7 +148,9 @@ proc scan-hidden { args } {\n \n proc scan-not-hidden { args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set output_file \"[file rootname [file tail $testcase]].s\"\n \n     set symbol [lindex $args 0]\n@@ -158,7 +165,9 @@ proc scan-not-hidden { args } {\n \n proc scan-file { output_file args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     dg-scan \"scan-file\" 1 $testcase $output_file $args\n }\n \n@@ -167,7 +176,9 @@ proc scan-file { output_file args } {\n \n proc scan-file-not { output_file args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     dg-scan \"scan-file-not\" 0 $testcase $output_file $args\n }\n \n@@ -176,7 +187,9 @@ proc scan-file-not { output_file args } {\n \n proc scan-stack-usage { args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set output_file \"[file rootname [file tail $testcase]].su\"\n \n     dg-scan \"scan-file\" 1 $testcase $output_file $args\n@@ -187,7 +200,9 @@ proc scan-stack-usage { args } {\n \n proc scan-stack-usage-not { args } {\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set output_file \"[file rootname [file tail $testcase]].su\"\n \n     dg-scan \"scan-file-not\" 0 $testcase $output_file $args\n@@ -216,7 +231,9 @@ proc scan-assembler-times { args } {\n     # it still stores the filename of the testcase in a local variable \"name\".\n     # A cleaner solution would require a new dejagnu release.\n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n \n     set pattern [lindex $args 0]\n     set pp_pattern [make_pattern_printable $pattern]\n@@ -276,7 +293,9 @@ proc scan-assembler-dem { args } {\n     }\n \n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set pattern [lindex $args 0]\n     set pp_pattern [make_pattern_printable $pattern]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n@@ -331,7 +350,9 @@ proc scan-assembler-dem-not { args } {\n     }\n \n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n     set pattern [lindex $args 0]\n     set pp_pattern [make_pattern_printable $pattern]\n     set output_file \"[file rootname [file tail $testcase]].s\"\n@@ -387,7 +408,9 @@ proc object-size { args } {\n     }\n \n     upvar 2 name testcase\n-    set testcase [lindex $testcase 0]\n+    if { [llength $testcase] > 1 } {\n+\tset testcase \"$testcase \"\n+    }\n \n     set what [lindex $args 0]\n     set where [lsearch { text data bss total } $what]"}]}