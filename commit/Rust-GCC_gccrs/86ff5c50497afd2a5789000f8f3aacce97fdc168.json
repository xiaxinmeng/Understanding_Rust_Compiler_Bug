{"sha": "86ff5c50497afd2a5789000f8f3aacce97fdc168", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODZmZjVjNTA0OTdhZmQyYTU3ODkwMDBmOGYzYWFjY2U5N2ZkYzE2OA==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2008-05-06T18:57:46Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2008-05-06T18:57:46Z"}, "message": "re PR libstdc++/36130 (Atomics regression test fail to compile when parallel mode is enabled)\n\n2008-05-06  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tPR libstdc++/36130\n\t* include/bits/c++config: Namespace macros and setup only in C++.\n\t* testsuite/29_atomics/headers/stdatomic.h/debug_mode.c: New.\n\nFrom-SVN: r134995", "tree": {"sha": "08b01e99ae3892370da10eda2e790046d7563514", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/08b01e99ae3892370da10eda2e790046d7563514"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/86ff5c50497afd2a5789000f8f3aacce97fdc168", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86ff5c50497afd2a5789000f8f3aacce97fdc168", "html_url": "https://github.com/Rust-GCC/gccrs/commit/86ff5c50497afd2a5789000f8f3aacce97fdc168", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/86ff5c50497afd2a5789000f8f3aacce97fdc168/comments", "author": null, "committer": null, "parents": [{"sha": "a6ce2774017b0fdb93cdf4a225acd010cc070e11", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a6ce2774017b0fdb93cdf4a225acd010cc070e11", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a6ce2774017b0fdb93cdf4a225acd010cc070e11"}], "stats": {"total": 46, "additions": 36, "deletions": 10}, "files": [{"sha": "f50f917c4f2723a91b325dc20ceb77c41364f20b", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86ff5c50497afd2a5789000f8f3aacce97fdc168/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86ff5c50497afd2a5789000f8f3aacce97fdc168/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=86ff5c50497afd2a5789000f8f3aacce97fdc168", "patch": "@@ -1,3 +1,9 @@\n+2008-05-06  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tPR libstdc++/36130\n+\t* include/bits/c++config: Namespace macros and setup only in C++.\n+\t* testsuite/29_atomics/headers/stdatomic.h/debug_mode.c: New.\n+\t\n 2008-05-06  Johannes Singler  <singler@ira.uka.de>\n \n         * include/parallel/multiway_merge.h:"}, {"sha": "f4029b2666524dac4b5980bb943c156d4ace4dda", "filename": "libstdc++-v3/include/bits/c++config", "status": "modified", "additions": 7, "deletions": 10, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86ff5c50497afd2a5789000f8f3aacce97fdc168/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86ff5c50497afd2a5789000f8f3aacce97fdc168/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fc%2B%2Bconfig?ref=86ff5c50497afd2a5789000f8f3aacce97fdc168", "patch": "@@ -80,6 +80,7 @@\n     namespace tr1 { }\n   }\n */\n+#if __cplusplus\n \n #ifdef _GLIBCXX_DEBUG\n # define _GLIBCXX_NAMESPACE_ASSOCIATION_DEBUG 1\n@@ -103,15 +104,12 @@\n // _GLIBCXX_STD\n // _GLIBCXX_STD_D\n // _GLIBCXX_STD_P\n-\n //\n // Macros for enclosing namespaces and possibly nested namespaces.\n // _GLIBCXX_BEGIN_NAMESPACE\n // _GLIBCXX_END_NAMESPACE\n // _GLIBCXX_BEGIN_NESTED_NAMESPACE\n // _GLIBCXX_END_NESTED_NAMESPACE\n-// _GLIBCXX_BEGIN_POTENTIAL_NESTED_NAMESPACE\n-// _GLIBCXX_END_POTENTIAL_NESTED_NAMESPACE\n #ifndef _GLIBCXX_USE_NAMESPACE_ASSOCIATION\n # define _GLIBCXX_STD_D _GLIBCXX_STD\n # define _GLIBCXX_STD_P _GLIBCXX_STD\n@@ -215,8 +213,7 @@ namespace std\n #undef _GLIBCXX_LONG_DOUBLE_COMPAT\n \n // Namespace associations for long double 128 mode.\n-#if defined _GLIBCXX_LONG_DOUBLE_COMPAT && defined __LONG_DOUBLE_128__ \\\n-  && defined __cplusplus\n+#if defined _GLIBCXX_LONG_DOUBLE_COMPAT && defined __LONG_DOUBLE_128__ \n namespace std\n {\n   inline namespace __gnu_cxx_ldbl128 { }\n@@ -232,17 +229,17 @@ namespace std\n \n \n // Defines for C compatibility. In particular, define extern \"C\"\n-// linkage only when using  C++, same with namespaces.\n-#if __cplusplus\n+// linkage only when using C++.\n # define _GLIBCXX_BEGIN_EXTERN_C extern \"C\" {\n # define _GLIBCXX_END_EXTERN_C }\n-#else\n-# define _GLIBCXX_BEGIN_EXTERN_C\n-# define _GLIBCXX_END_EXTERN_C\n+\n+#else // !__cplusplus\n # undef _GLIBCXX_BEGIN_NAMESPACE\n # undef _GLIBCXX_END_NAMESPACE\n # define _GLIBCXX_BEGIN_NAMESPACE(X) \n # define _GLIBCXX_END_NAMESPACE \n+# define _GLIBCXX_BEGIN_EXTERN_C\n+# define _GLIBCXX_END_EXTERN_C \n #endif\n \n // First includes."}, {"sha": "8b2c857e29080529033406fc7d4dd04512090a2a", "filename": "libstdc++-v3/testsuite/29_atomics/headers/stdatomic.h/debug_mode.c", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/86ff5c50497afd2a5789000f8f3aacce97fdc168/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fheaders%2Fstdatomic.h%2Fdebug_mode.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/86ff5c50497afd2a5789000f8f3aacce97fdc168/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fheaders%2Fstdatomic.h%2Fdebug_mode.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2F29_atomics%2Fheaders%2Fstdatomic.h%2Fdebug_mode.c?ref=86ff5c50497afd2a5789000f8f3aacce97fdc168", "patch": "@@ -0,0 +1,23 @@\n+// { dg-options \"-x c -D_GLIBCXX_DEBUG\" }\n+// { dg-do compile }\n+\n+// Copyright (C) 2008 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301,\n+// USA.\n+\n+// libstdc++/36130\n+#include <stdatomic.h>"}]}