{"sha": "805100b5e252563c8de8bb8ce17e5b3461d5b15f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODA1MTAwYjVlMjUyNTYzYzhkZThiYjhjZTE3ZTViMzQ2MWQ1YjE1Zg==", "commit": {"author": {"name": "Eric Botcazou", "email": "ebotcazou@adacore.com", "date": "2008-04-28T21:15:41Z"}, "committer": {"name": "Eric Botcazou", "email": "ebotcazou@gcc.gnu.org", "date": "2008-04-28T21:15:41Z"}, "message": "re PR ada/36007 (verify_gimple failed)\n\n\tPR ada/36007\n\t* decl.c (gnat_to_gnu_entity) <object>: Do not promote alignment\n\tof aliased objects with an unconstrained nominal subtype.\n\tCap the promotion to the effective alignment of the word mode.\n\n\nCo-Authored-By: Tristan Gingold <gingold@adacore.com>\n\nFrom-SVN: r134766", "tree": {"sha": "1d61a3e50c1e0447636ed6c5a0f4d9194c67960e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1d61a3e50c1e0447636ed6c5a0f4d9194c67960e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/805100b5e252563c8de8bb8ce17e5b3461d5b15f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/805100b5e252563c8de8bb8ce17e5b3461d5b15f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/805100b5e252563c8de8bb8ce17e5b3461d5b15f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/805100b5e252563c8de8bb8ce17e5b3461d5b15f/comments", "author": null, "committer": null, "parents": [{"sha": "99c2eec1bbe6aff8915f55c41a474a4b18018731", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/99c2eec1bbe6aff8915f55c41a474a4b18018731", "html_url": "https://github.com/Rust-GCC/gccrs/commit/99c2eec1bbe6aff8915f55c41a474a4b18018731"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "b8ac510d6b53cb857809aab39a02032d665afdb2", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/805100b5e252563c8de8bb8ce17e5b3461d5b15f/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/805100b5e252563c8de8bb8ce17e5b3461d5b15f/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=805100b5e252563c8de8bb8ce17e5b3461d5b15f", "patch": "@@ -1,3 +1,11 @@\n+2008-04-28  Eric Botcazou  <ebotcazou@adacore.com>\n+            Tristan Gingold  <gingold@adacore.com>\n+\n+\tPR ada/36007\n+\t* decl.c (gnat_to_gnu_entity) <object>: Do not promote alignment\n+\tof aliased objects with an unconstrained nominal subtype.\n+\tCap the promotion to the effective alignment of the word mode.\n+\n 2008-04-28  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>\n \n \t* Make-lang.in (ada.tags, check-acats, ada/treeprs.ads)"}, {"sha": "991faae49e1d79acf95d1e0a07ee6a3652439a5b", "filename": "gcc/ada/decl.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/805100b5e252563c8de8bb8ce17e5b3461d5b15f/gcc%2Fada%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/805100b5e252563c8de8bb8ce17e5b3461d5b15f/gcc%2Fada%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdecl.c?ref=805100b5e252563c8de8bb8ce17e5b3461d5b15f", "patch": "@@ -685,6 +685,7 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \t\t    && kind != E_Exception\n \t\t    && kind != E_Out_Parameter\n \t\t    && Is_Composite_Type (Etype (gnat_entity))\n+\t\t    && !Is_Constr_Subt_For_UN_Aliased (Etype (gnat_entity))\n \t\t    && !imported_p\n \t\t    && No (Renamed_Object (gnat_entity))\n \t\t    && No (Address_Clause (gnat_entity))))\n@@ -694,7 +695,7 @@ gnat_to_gnu_entity (Entity_Id gnat_entity, tree gnu_expr, int definition)\n \t       to support BIGGEST_ALIGNMENT if we don't really have to.  */\n \t    unsigned int align_cap = Is_Atomic (gnat_entity)\n \t\t\t\t     ? BIGGEST_ALIGNMENT\n-\t\t\t\t     : MAX_FIXED_MODE_SIZE;\n+\t\t\t\t     : get_mode_alignment (word_mode);\n \n \t    if (!host_integerp (TYPE_SIZE (gnu_type), 1)\n \t\t|| compare_tree_int (TYPE_SIZE (gnu_type), align_cap) >= 0)"}]}