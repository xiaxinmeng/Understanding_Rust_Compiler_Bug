{"sha": "19d5986dde92e800281aaa285fb7314fe2b79aad", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTlkNTk4NmRkZTkyZTgwMDI4MWFhYTI4NWZiNzMxNGZlMmI3OWFhZA==", "commit": {"author": {"name": "Paul Jarc", "email": "prj-bugzilla-gcc@multivac.cwru.edu", "date": "2007-09-20T10:20:05Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-09-20T10:20:05Z"}, "message": "re PR bootstrap/31906 (\"-Xcompiler\" is inserted after \"-Xlinker\" when building libstdc++)\n\n2007-09-20  Paul Jarc  <prj-bugzilla-gcc@multivac.cwru.edu>\n\n\tPR bootstrap/31906\n\t* libtool-ldflags: Don't prefix arguments with -Xcompiler if\n        they're already prefixed.\n\nFrom-SVN: r128617", "tree": {"sha": "62a4be58d1afe09b522ff80bc4c0fb886dbc2746", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/62a4be58d1afe09b522ff80bc4c0fb886dbc2746"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/19d5986dde92e800281aaa285fb7314fe2b79aad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19d5986dde92e800281aaa285fb7314fe2b79aad", "html_url": "https://github.com/Rust-GCC/gccrs/commit/19d5986dde92e800281aaa285fb7314fe2b79aad", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/19d5986dde92e800281aaa285fb7314fe2b79aad/comments", "author": null, "committer": null, "parents": [{"sha": "b43d1bdea541d54d36ad04c73ac8061c3ddec37a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b43d1bdea541d54d36ad04c73ac8061c3ddec37a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b43d1bdea541d54d36ad04c73ac8061c3ddec37a"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "e57e59df468d6945dd5361ff6d17e500ed39f78a", "filename": "ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19d5986dde92e800281aaa285fb7314fe2b79aad/ChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19d5986dde92e800281aaa285fb7314fe2b79aad/ChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/ChangeLog?ref=19d5986dde92e800281aaa285fb7314fe2b79aad", "patch": "@@ -1,3 +1,9 @@\n+2007-09-20  Paul Jarc  <prj-bugzilla-gcc@multivac.cwru.edu>\n+\n+\tPR bootstrap/31906\n+\t* libtool-ldflags: Don't prefix arguments with -Xcompiler if\n+        they're already prefixed.\n+\n 2007-09-19  Benjamin Kosnik  <bkoz@redhat.com>\n \n \t* configure.ac (TOPLEVEL_CONFIGURE_ARGUMENTS): Move libgomp before"}, {"sha": "e32e37bf10dd5a5af7648b64ae648e80bcf44b5f", "filename": "libtool-ldflags", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/19d5986dde92e800281aaa285fb7314fe2b79aad/libtool-ldflags", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/19d5986dde92e800281aaa285fb7314fe2b79aad/libtool-ldflags", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libtool-ldflags?ref=19d5986dde92e800281aaa285fb7314fe2b79aad", "patch": "@@ -31,6 +31,7 @@\n # The output of the script.  This string is built up as we process the\n # arguments.\n result=\n+prev_arg=\n \n for arg\n do\n@@ -43,13 +44,21 @@ do\n \t    # options.  So, we prefix these options with -Xcompiler to\n \t    # make clear to libtool that they are in fact compiler\n \t    # options.\n-\t    result=\"$result -Xcompiler\" \n+\t    case $prev_arg in\n+\t\t-Xpreprocessor|-Xcompiler|-Xlinker)\n+\t\t    # This option is already prefixed; don't prefix it again.\n+\t\t    ;;\n+\t\t*)\n+\t\t    result=\"$result -Xcompiler\"\n+\t\t    ;;\n+\t    esac\n \t    ;;\n \t*)\n \t    # We do not want to add -Xcompiler to other options because\n \t    # that would prevent libtool itself from recognizing them.\n \t    ;;\n     esac\n+    prev_arg=$arg\n \n     # If $(LDFLAGS) is (say):\n     #   a \"b'c d\" e"}]}