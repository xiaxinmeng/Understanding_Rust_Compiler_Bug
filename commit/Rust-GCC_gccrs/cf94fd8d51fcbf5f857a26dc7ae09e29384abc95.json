{"sha": "cf94fd8d51fcbf5f857a26dc7ae09e29384abc95", "node_id": "C_kwDOANBUbNoAKGNmOTRmZDhkNTFmY2JmNWY4NTdhMjZkYzdhZTA5ZTI5Mzg0YWJjOTU", "commit": {"author": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-03-28T08:33:25Z"}, "committer": {"name": "Arthur Cohen", "email": "arthur.cohen@embecosm.com", "date": "2022-03-31T07:42:08Z"}, "message": "single_ast_node: Add TYPE kind", "tree": {"sha": "f7ede3521208471ddfc6bde35844e2348226ea2f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f7ede3521208471ddfc6bde35844e2348226ea2f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cf94fd8d51fcbf5f857a26dc7ae09e29384abc95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf94fd8d51fcbf5f857a26dc7ae09e29384abc95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cf94fd8d51fcbf5f857a26dc7ae09e29384abc95", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cf94fd8d51fcbf5f857a26dc7ae09e29384abc95/comments", "author": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CohenArthur", "id": 43524065, "node_id": "MDQ6VXNlcjQzNTI0MDY1", "avatar_url": "https://avatars.githubusercontent.com/u/43524065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CohenArthur", "html_url": "https://github.com/CohenArthur", "followers_url": "https://api.github.com/users/CohenArthur/followers", "following_url": "https://api.github.com/users/CohenArthur/following{/other_user}", "gists_url": "https://api.github.com/users/CohenArthur/gists{/gist_id}", "starred_url": "https://api.github.com/users/CohenArthur/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CohenArthur/subscriptions", "organizations_url": "https://api.github.com/users/CohenArthur/orgs", "repos_url": "https://api.github.com/users/CohenArthur/repos", "events_url": "https://api.github.com/users/CohenArthur/events{/privacy}", "received_events_url": "https://api.github.com/users/CohenArthur/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e8b9587d3a0615f497cfe9c66995c1f21e42a536", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e8b9587d3a0615f497cfe9c66995c1f21e42a536", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e8b9587d3a0615f497cfe9c66995c1f21e42a536"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "5368c427b42f2e8b1cc29b8e008a104d93d21e8a", "filename": "gcc/rust/ast/rust-ast.h", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cf94fd8d51fcbf5f857a26dc7ae09e29384abc95/gcc%2Frust%2Fast%2Frust-ast.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cf94fd8d51fcbf5f857a26dc7ae09e29384abc95/gcc%2Frust%2Fast%2Frust-ast.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frust%2Fast%2Frust-ast.h?ref=cf94fd8d51fcbf5f857a26dc7ae09e29384abc95", "patch": "@@ -1515,6 +1515,7 @@ class SingleASTNode\n     TRAIT,\n     IMPL,\n     TRAIT_IMPL,\n+    TYPE,\n   };\n \n private:\n@@ -1528,6 +1529,7 @@ class SingleASTNode\n   std::unique_ptr<TraitItem> trait_item;\n   std::unique_ptr<InherentImplItem> impl_item;\n   std::unique_ptr<TraitImplItem> trait_impl_item;\n+  std::unique_ptr<Type> type;\n \n public:\n   SingleASTNode (std::unique_ptr<Expr> expr)\n@@ -1558,6 +1560,10 @@ class SingleASTNode\n     : kind (TRAIT_IMPL), trait_impl_item (std::move (trait_impl_item))\n   {}\n \n+  SingleASTNode (std::unique_ptr<Type> type)\n+    : kind (TYPE), type (std::move (type))\n+  {}\n+\n   SingleASTNode (SingleASTNode const &other)\n   {\n     kind = other.kind;\n@@ -1590,6 +1596,10 @@ class SingleASTNode\n       case TRAIT_IMPL:\n \ttrait_impl_item = other.trait_impl_item->clone_trait_impl_item ();\n \tbreak;\n+\n+      case TYPE:\n+\ttype = other.type->clone_type ();\n+\tbreak;\n       }\n   }\n \n@@ -1625,6 +1635,10 @@ class SingleASTNode\n       case TRAIT_IMPL:\n \ttrait_impl_item = other.trait_impl_item->clone_trait_impl_item ();\n \tbreak;\n+\n+      case TYPE:\n+\ttype = other.type->clone_type ();\n+\tbreak;\n       }\n     return *this;\n   }\n@@ -1699,6 +1713,12 @@ class SingleASTNode\n     return std::move (trait_impl_item);\n   }\n \n+  std::unique_ptr<Type> take_type ()\n+  {\n+    rust_assert (!is_error ());\n+    return std::move (type);\n+  }\n+\n   void accept_vis (ASTVisitor &vis)\n   {\n     switch (kind)\n@@ -1730,6 +1750,10 @@ class SingleASTNode\n       case TRAIT_IMPL:\n \ttrait_impl_item->accept_vis (vis);\n \tbreak;\n+\n+      case TYPE:\n+\ttype->accept_vis (vis);\n+\tbreak;\n       }\n   }\n \n@@ -1751,6 +1775,8 @@ class SingleASTNode\n \treturn impl_item == nullptr;\n       case TRAIT_IMPL:\n \treturn trait_impl_item == nullptr;\n+      case TYPE:\n+\treturn type == nullptr;\n       }\n \n     gcc_unreachable ();\n@@ -1775,6 +1801,8 @@ class SingleASTNode\n \treturn \"Impl Item: \" + impl_item->as_string ();\n       case TRAIT_IMPL:\n \treturn \"Trait Impl Item: \" + impl_item->as_string ();\n+      case TYPE:\n+\treturn \"Type: \" + type->as_string ();\n       }\n \n     gcc_unreachable ();"}]}