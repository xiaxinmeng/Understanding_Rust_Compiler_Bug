{"sha": "2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmIzYjIyZDM1ZWIzMjQzYjE5NzRkZTM4ZjdjZDhhZTM5OWY4ZGU0OQ==", "commit": {"author": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2009-08-27T20:54:28Z"}, "committer": {"name": "Uros Bizjak", "email": "uros@gcc.gnu.org", "date": "2009-08-27T20:54:28Z"}, "message": "re PR rtl-optimization/40861 (ICE in simplify_subreg, at simplify-rtx.c:4981)\n\n\tPR rtl-optimization/40861\n\t* simplify-rtx.c (simplify_subreg): Do not call simplify_gen_subreg to\n\textract word from a multi-word subreg for negative byte positions.\n\ntestsuite/ChangeLog:\n\n\tPR rtl-optimization/40861\n\t* gcc.dg/pr40861.c: New test.\n\nFrom-SVN: r151149", "tree": {"sha": "fbc1481e753d39ff76d37252ade35caddc5b102a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/fbc1481e753d39ff76d37252ade35caddc5b102a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/comments", "author": null, "committer": null, "parents": [{"sha": "30ed9d3dbe146861e42fd19eb6db134c2dd263c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/30ed9d3dbe146861e42fd19eb6db134c2dd263c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/30ed9d3dbe146861e42fd19eb6db134c2dd263c7"}], "stats": {"total": 59, "additions": 38, "deletions": 21}, "files": [{"sha": "8b69b45b6ee714b4c512524fbb6ea1338d4e1168", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "patch": "@@ -1,8 +1,13 @@\n+2009-08-27  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR rtl-optimization/40861\n+\t* simplify-rtx.c (simplify_subreg): Do not call simplify_gen_subreg to\n+\textract word from a multi-word subreg for negative byte positions.\n+\n 2009-08-27  Tristan Gingold  <gingold@adacore.com>\n \t    Douglas B Rupp  <rupp@gnat.com>\n \n-\t* config/ia64/ia64.c (ia64_attribute_table): Add \"common_object\"\n-\tentry.\n+\t* config/ia64/ia64.c (ia64_attribute_table): Add \"common_object\" entry.\n \t(SECTION_VMS_OVERLAY): Define.\n \t(ia64_vms_common_object_attribute): Added.  Handle the \"common_object\"\n \tattribute.\n@@ -467,8 +472,7 @@\n \t(sse_maskcmpv4sf3): Disable if SSE5.\n \t(sse_maskcmpv2df3): Ditto.\n \t(sse_vmmaskcmpv4sf3): Ditto.\n-\t(sse5_fmadd<mode>4): Add SSE5 floating point multiply/add\n-\tinstructions.\n+\t(sse5_fmadd<mode>4): Add SSE5 floating point multiply/add instructions.\n \t(sse5_vmfmadd<mode>4): Ditto.\n \t(sse5_fmsub<mode>4): Ditto.\n \t(sse5_vmfmsub<mode>4): Ditto."}, {"sha": "0cf1dd0ce943e305af50f73e6a2c81b576a78113", "filename": "gcc/simplify-rtx.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2Fsimplify-rtx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2Fsimplify-rtx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsimplify-rtx.c?ref=2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "patch": "@@ -5263,13 +5263,15 @@ simplify_subreg (enum machine_mode outermode, rtx op,\n       && GET_MODE_BITSIZE (innermode) >= (2 * GET_MODE_BITSIZE (outermode))\n       && CONST_INT_P (XEXP (op, 1))\n       && (INTVAL (XEXP (op, 1)) & (GET_MODE_BITSIZE (outermode) - 1)) == 0\n+      && INTVAL (XEXP (op, 1)) >= 0\n       && INTVAL (XEXP (op, 1)) < GET_MODE_BITSIZE (innermode)      \n       && byte == subreg_lowpart_offset (outermode, innermode))\n     {\n       int shifted_bytes = INTVAL (XEXP (op, 1)) / BITS_PER_UNIT;\n       return simplify_gen_subreg (outermode, XEXP (op, 0), innermode,\n \t\t\t\t  (WORDS_BIG_ENDIAN\n-\t\t\t\t   ? byte - shifted_bytes : byte + shifted_bytes));\n+\t\t\t\t   ? byte - shifted_bytes\n+\t\t\t\t   : byte + shifted_bytes));\n     }\n \n   return NULL_RTX;"}, {"sha": "ba42e8d8d9f63c216cfe2da9a23867c592f2f197", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 20, "deletions": 16, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "patch": "@@ -1,3 +1,8 @@\n+2009-08-27  Uros Bizjak  <ubizjak@gmail.com>\n+\n+\tPR rtl-optimization/40861\n+\t* gcc.dg/pr40861.c: New test.\n+\n 2009-08-27  Janus Weil  <janus@gcc.gnu.org>\n \n \tPR fortran/40869\n@@ -8,17 +13,17 @@\n \tPR libfortran/39667\n \t* gfortran.dg/f2003_io_4.f03: Don't require target fd_truncate,\n \topen temp file with status=\"scratch\".\n-\t* gfortran.dg/fmt_cache_1.f: Likewise\n-\t* gfortran.dg/fmt_exhaust.f90: Likewise\n-\t* gfortran.dg/fmt_t_4.f90: Likewise\n-\t* gfortran.dg/fseek.f90: Likewise\n-\t* gfortran.dg/list_read_5.f90: Likewise\n-\t* gfortran.dg/namelist_39.f90: Likewise\n-\t* gfortran.dg/namelist_56.f90: Likewise\t\n-\t* gfortran.dg/read_bad_advance.f90: Likewise\n-\t* gfortran.dg/read_repeat.f90: Likewise\n-\t* gfortran.dg/read_size_noadvance.f90: Likewise\n-\t* gfortran.dg/read_x_past.f: Likewise\n+\t* gfortran.dg/fmt_cache_1.f: Likewise.\n+\t* gfortran.dg/fmt_exhaust.f90: Likewise.\n+\t* gfortran.dg/fmt_t_4.f90: Likewise.\n+\t* gfortran.dg/fseek.f90: Likewise.\n+\t* gfortran.dg/list_read_5.f90: Likewise.\n+\t* gfortran.dg/namelist_39.f90: Likewise.\n+\t* gfortran.dg/namelist_56.f90: Likewise.\n+\t* gfortran.dg/read_bad_advance.f90: Likewise.\n+\t* gfortran.dg/read_repeat.f90: Likewise.\n+\t* gfortran.dg/read_size_noadvance.f90: Likewise.\n+\t* gfortran.dg/read_x_past.f: Likewise.\n \n 2009-08-27  Tobias Burnus  <burnus@net-b.de>\n \n@@ -112,8 +117,8 @@\n \t* gcc.target/i386/sse5-nmsubXX.c\n \t* gcc.target/i386/sse5-rotate3-vector.c\n \t* gcc.target/i386/sse5-fma-vector.c\n-\t* gcc.target/i386/sse5-imul32widen-vector.c: Remove SSE5 related testcases\n-\t* gcc.target/i386/sse5-ima-vector.c\n+\t* gcc.target/i386/sse5-imul32widen-vector.c\n+\t* gcc.target/i386/sse5-ima-vector.c: Remove SSE5 related testcases.\n \n \t* gcc.target/i386/funcspec-8.c: Replace SSE5 by SSE4.\n \t* gcc.target/i386/funcspec-5.c: Remove SSE5.\n@@ -173,10 +178,9 @@\n \n 2009-08-24  Kai Tietz  <kai.tietz@onevision.com>\n \n-\t*gcc.dg/format/ms-format1.c: Add new cases for I32\n+\t* gcc.dg/format/ms-format1.c: Add new cases for I32 width specifier.\n+\t* gcc.dg/format/ms-format2.c: New test about illegal use of I32/I64\n \twidth specifier.\n-\t*gcc.dg/format/ms-format2.c: New test about illegal\n-\tuse of I32/I64 width specifier.\n \n 2009-08-23  Jerry DeLisle   <jvdelisle@gcc.gnu.org>\n "}, {"sha": "1d955e6168b05ccce2665eb26a1ef5f3acfc5155", "filename": "gcc/testsuite/gcc.dg/pr40861.c", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2Ftestsuite%2Fgcc.dg%2Fpr40861.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2b3b22d35eb3243b1974de38f7cd8ae399f8de49/gcc%2Ftestsuite%2Fgcc.dg%2Fpr40861.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpr40861.c?ref=2b3b22d35eb3243b1974de38f7cd8ae399f8de49", "patch": "@@ -0,0 +1,7 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O\" } */\n+\n+int foo(int i)\n+{\n+  return (1LL >> 128 * i) && i;\n+}"}]}