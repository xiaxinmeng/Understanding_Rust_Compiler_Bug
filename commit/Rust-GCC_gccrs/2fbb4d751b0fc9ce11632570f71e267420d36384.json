{"sha": "2fbb4d751b0fc9ce11632570f71e267420d36384", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmZiYjRkNzUxYjBmYzljZTExNjMyNTcwZjcxZTI2NzQyMGQzNjM4NA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-26T05:45:31Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-26T05:45:31Z"}, "message": "Better error when setting const to nil.\n\nFrom-SVN: r171541", "tree": {"sha": "7d6abd93a127ca98520aefce6511d5d42dff52b3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d6abd93a127ca98520aefce6511d5d42dff52b3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2fbb4d751b0fc9ce11632570f71e267420d36384", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fbb4d751b0fc9ce11632570f71e267420d36384", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fbb4d751b0fc9ce11632570f71e267420d36384", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fbb4d751b0fc9ce11632570f71e267420d36384/comments", "author": null, "committer": null, "parents": [{"sha": "e2e5c70f5c999df78a5d1edd8b87651d08d72400", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2e5c70f5c999df78a5d1edd8b87651d08d72400", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2e5c70f5c999df78a5d1edd8b87651d08d72400"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "9001d2b9ea7becaf7fd4cfb06701cccd7325f545", "filename": "gcc/go/gofrontend/gogo.cc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fbb4d751b0fc9ce11632570f71e267420d36384/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fbb4d751b0fc9ce11632570f71e267420d36384/gcc%2Fgo%2Fgofrontend%2Fgogo.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fgogo.cc?ref=2fbb4d751b0fc9ce11632570f71e267420d36384", "patch": "@@ -1527,7 +1527,9 @@ Check_types_traverse::constant(Named_object* named_object, bool)\n       && !ctype->is_boolean_type()\n       && !ctype->is_string_type())\n     {\n-      if (!ctype->is_error())\n+      if (ctype->is_nil_type())\n+\terror_at(constant->location(), \"const initializer cannot be nil\");\n+      else if (!ctype->is_error())\n \terror_at(constant->location(), \"invalid constant type\");\n       constant->set_error();\n     }"}]}