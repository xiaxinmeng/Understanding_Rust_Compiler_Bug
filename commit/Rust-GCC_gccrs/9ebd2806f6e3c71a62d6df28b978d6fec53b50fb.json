{"sha": "9ebd2806f6e3c71a62d6df28b978d6fec53b50fb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWViZDI4MDZmNmUzYzcxYTYyZDZkZjI4Yjk3OGQ2ZmVjNTNiNTBmYg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-31T16:47:17Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-31T16:47:17Z"}, "message": "Taking a slice of an array requires moving the array to the heap.\n\nFrom-SVN: r171792", "tree": {"sha": "bf1ae6a71c0db2473fe2f0321f7e9335f328b216", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bf1ae6a71c0db2473fe2f0321f7e9335f328b216"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9ebd2806f6e3c71a62d6df28b978d6fec53b50fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ebd2806f6e3c71a62d6df28b978d6fec53b50fb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9ebd2806f6e3c71a62d6df28b978d6fec53b50fb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9ebd2806f6e3c71a62d6df28b978d6fec53b50fb/comments", "author": null, "committer": null, "parents": [{"sha": "34ccb9c02a5456699ec6e04c51ab4cd1c1550e31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/34ccb9c02a5456699ec6e04c51ab4cd1c1550e31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/34ccb9c02a5456699ec6e04c51ab4cd1c1550e31"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "e295c7d6b2966590a568cb289d70c86fed6c2698", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9ebd2806f6e3c71a62d6df28b978d6fec53b50fb/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9ebd2806f6e3c71a62d6df28b978d6fec53b50fb/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=9ebd2806f6e3c71a62d6df28b978d6fec53b50fb", "patch": "@@ -9283,10 +9283,13 @@ Array_index_expression::do_check_types(Gogo*)\n \n   // A slice of an array requires an addressable array.  A slice of a\n   // slice is always possible.\n-  if (this->end_ != NULL\n-      && !array_type->is_open_array_type()\n-      && !this->array_->is_addressable())\n-    this->report_error(_(\"array is not addressable\"));\n+  if (this->end_ != NULL && !array_type->is_open_array_type())\n+    {\n+      if (!this->array_->is_addressable())\n+\tthis->report_error(_(\"array is not addressable\"));\n+      else\n+\tthis->array_->address_taken(true);\n+    }\n }\n \n // Return whether this expression is addressable."}]}