{"sha": "17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTdiYjNmMTg1YWMxNjlhOGYxODkwMmFhMmExY2Y0Yzc2ZjBlMmFmMg==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2010-06-22T17:04:37Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2010-06-22T17:04:37Z"}, "message": "cstand.adb: Complete previous change.\n\n2010-06-22  Robert Dewar  <dewar@adacore.com>\n\n\t* cstand.adb: Complete previous change.\n\t* g-dirope.ads: Add comment.\n\t* s-stchop.adb, sfn_scan.adb: Minor reformatting.\n\nFrom-SVN: r161206", "tree": {"sha": "ed4237b522227ac31434b5c88a3e0024c5cb738c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ed4237b522227ac31434b5c88a3e0024c5cb738c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/comments", "author": null, "committer": null, "parents": [{"sha": "ea7f928bd69b0eaa870748848fe553876e4a1ace", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ea7f928bd69b0eaa870748848fe553876e4a1ace", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ea7f928bd69b0eaa870748848fe553876e4a1ace"}], "stats": {"total": 72, "additions": 39, "deletions": 33}, "files": [{"sha": "870345ab914363c12cdf32924c0b0c6bb84d42bf", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "patch": "@@ -1,3 +1,9 @@\n+2010-06-22  Robert Dewar  <dewar@adacore.com>\n+\n+\t* cstand.adb: Complete previous change.\n+\t* g-dirope.ads: Add comment.\n+\t* s-stchop.adb, sfn_scan.adb: Minor reformatting.\n+\n 2010-06-22  Ed Schonberg  <schonberg@adacore.com>\n \n \t* cstand.adb: Add tree nodes for pragma Pack on string types."}, {"sha": "0a74be8ea591efc3492cf9a34371ce268f7bb8ec", "filename": "gcc/ada/cstand.adb", "status": "modified", "additions": 21, "deletions": 17, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fcstand.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fcstand.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fcstand.adb?ref=17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "patch": "@@ -119,10 +119,6 @@ package body CStand is\n      (New_Node_Kind : Node_Kind := N_Defining_Identifier) return Entity_Id;\n    --  Builds a new entity for Standard\n \n-   procedure Pack_String_Type (String_Type : Entity_Id);\n-   --  Generate the proper tree for the pragma Pack that applies to each\n-   --  string type.\n-\n    procedure Print_Standard;\n    --  Print representation of package Standard if switch set\n \n@@ -328,6 +324,9 @@ package body CStand is\n       procedure Build_Exception (S : Standard_Entity_Type);\n       --  Procedure to declare given entity as an exception\n \n+      procedure Pack_String_Type (String_Type : Entity_Id);\n+      --  Generate proper tree for pragma Pack that applies to given type\n+\n       ---------------------\n       -- Build_Exception --\n       ---------------------\n@@ -345,6 +344,24 @@ package body CStand is\n          Append (Decl, Decl_S);\n       end Build_Exception;\n \n+      ----------------------\n+      -- Pack_String_Type --\n+      ----------------------\n+\n+      procedure Pack_String_Type (String_Type : Entity_Id) is\n+         Prag : constant Node_Id :=\n+           Make_Pragma (Stloc,\n+             Chars                        => Name_Pack,\n+             Pragma_Argument_Associations =>\n+               New_List (\n+                 Make_Pragma_Argument_Association (Stloc,\n+                   Expression => New_Occurrence_Of (String_Type, Stloc))));\n+\n+      begin\n+         Append (Prag, Decl_S);\n+         Record_Rep_Item (String_Type, Prag);\n+      end Pack_String_Type;\n+\n    --  Start of processing for Create_Standard\n \n    begin\n@@ -1631,19 +1648,6 @@ package body CStand is\n       return E;\n    end New_Standard_Entity;\n \n-   ----------------------\n-   -- Pack_String_Type --\n-   ----------------------\n-\n-   procedure Pack_String_Type (String_Type : Entity_Id) is\n-   begin\n-      Record_Rep_Item (String_Type,\n-         Make_Pragma (Stloc,\n-            Chars  => Name_Pack,\n-            Pragma_Argument_Associations =>\n-              New_List (New_Occurrence_Of (String_Type, Stloc))));\n-   end Pack_String_Type;\n-\n    --------------------\n    -- Print_Standard --\n    --------------------"}, {"sha": "32b914bdfe8132b0d74bef833db718872873da7f", "filename": "gcc/ada/g-dirope.ads", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fg-dirope.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fg-dirope.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-dirope.ads?ref=17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "patch": "@@ -210,7 +210,7 @@ package GNAT.Directory_Operations is\n    --\n    --    System_Default\n    --      Uses either UNIX on Unix and OpenVMS systems, or DOS on Windows,\n-   --      depending on the running environment.\n+   --      depending on the running environment. What about other OS's???\n \n    ---------------\n    -- Iterators --"}, {"sha": "b757c56532b0e587c60921f13129cb59dddf00e0", "filename": "gcc/ada/s-stchop.adb", "status": "modified", "additions": 7, "deletions": 11, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fs-stchop.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fs-stchop.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fs-stchop.adb?ref=17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "patch": "@@ -48,28 +48,24 @@ package body System.Stack_Checking.Operations is\n \n    function Set_Stack_Info\n      (Stack : not null access Stack_Access) return Stack_Access;\n-\n    --  The function Set_Stack_Info is the actual function that updates the\n    --  cache containing a pointer to the Stack_Info. It may also be used for\n    --  detecting asynchronous abort in combination with Invalidate_Self_Cache.\n-\n+   --\n    --  Set_Stack_Info should do the following things in order:\n    --     1) Get the Stack_Access value for the current task\n    --     2) Set Stack.all to the value obtained in 1)\n    --     3) Optionally Poll to check for asynchronous abort\n-\n+   --\n    --  This order is important because if at any time a write to the stack\n    --  cache is pending, that write should be followed by a Poll to prevent\n    --  loosing signals.\n-\n+   --\n    --  Note: This function must be compiled with Polling turned off\n-\n-   --  Note: on systems with real thread-local storage,\n-   --        Set_Stack_Info should return an access value for such local\n-   --        storage. In those cases the cache will always be up-to-date.\n-\n-   --  The following constants should be imported from some system-specific\n-   --  constants package. The constants must be static for performance reasons.\n+   --\n+   --  Note: on systems with real thread-local storage, Set_Stack_Info should\n+   --  return an access value for such local storage. In those cases the cache\n+   --  will always be up-to-date.\n \n    ----------------------------\n    -- Invalidate_Stack_Cache --"}, {"sha": "1d24ca227f39ae575631ed9b76179029c9c854f5", "filename": "gcc/ada/sfn_scan.adb", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fsfn_scan.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2/gcc%2Fada%2Fsfn_scan.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsfn_scan.adb?ref=17bb3f185ac169a8f18902aa2a1cf4c76f0e2af2", "patch": "@@ -37,10 +37,10 @@ package body SFN_Scan is\n    --  Allow easy access to control character definitions\n \n    EOF : constant Character := ASCII.SUB;\n-   --  The character SUB (16#1A#) is DOS-derived systems, such as Windows\n-   --  to signal the end of a text file. If this character appears as the\n-   --  last character of a file scanned by a call to Scan_SFN_Pragmas,\n-   --  then it is ignored, otherwise it is treated as an illegal character.\n+   --  The character SUB (16#1A#) is used in DOS-derived systems, such as\n+   --  Windows to signal the end of a text file. If this character appears as\n+   --  the last character of a file scanned by a call to Scan_SFN_Pragmas, then\n+   --  it is ignored, otherwise it is treated as an illegal character.\n \n    type String_Ptr is access String;\n "}]}