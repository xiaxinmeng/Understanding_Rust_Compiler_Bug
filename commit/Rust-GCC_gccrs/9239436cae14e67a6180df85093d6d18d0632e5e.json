{"sha": "9239436cae14e67a6180df85093d6d18d0632e5e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTIzOTQzNmNhZTE0ZTY3YTYxODBkZjg1MDkzZDZkMThkMDYzMmU1ZQ==", "commit": {"author": {"name": "Bin Cheng", "email": "bin.cheng@arm.com", "date": "2017-10-10T08:57:21Z"}, "committer": {"name": "Bin Cheng", "email": "amker@gcc.gnu.org", "date": "2017-10-10T08:57:21Z"}, "message": "tree-loop-distribution.c (struct partition): Remove unused field loops of the structure.\n\n\t* tree-loop-distribution.c (struct partition): Remove unused field\n\tloops of the structure.\n\t(partition_alloc, partition_free): Ditto.\n\t(build_rdg_partition_for_vertex): Ditto.\n\nFrom-SVN: r253578", "tree": {"sha": "977a2f105f8a43402f9314ffd91233fb8f02db69", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/977a2f105f8a43402f9314ffd91233fb8f02db69"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9239436cae14e67a6180df85093d6d18d0632e5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9239436cae14e67a6180df85093d6d18d0632e5e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9239436cae14e67a6180df85093d6d18d0632e5e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9239436cae14e67a6180df85093d6d18d0632e5e/comments", "author": null, "committer": null, "parents": [{"sha": "599bffa2f59ae2c53e3437a1ce99f721c9a8a04b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/599bffa2f59ae2c53e3437a1ce99f721c9a8a04b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/599bffa2f59ae2c53e3437a1ce99f721c9a8a04b"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "9b6beb841067ebfb15416e608462ca240e905863", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9239436cae14e67a6180df85093d6d18d0632e5e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9239436cae14e67a6180df85093d6d18d0632e5e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9239436cae14e67a6180df85093d6d18d0632e5e", "patch": "@@ -1,3 +1,10 @@\n+2017-10-10  Bin Cheng  <bin.cheng@arm.com>\n+\n+\t* tree-loop-distribution.c (struct partition): Remove unused field\n+\tloops of the structure.\n+\t(partition_alloc, partition_free): Ditto.\n+\t(build_rdg_partition_for_vertex): Ditto.\n+\n 2017-10-09  Jeff Law  <law@redhat.com>\n \n \t* targhooks.c (default_stack_clash_protection_final_dynamic_probe): Fix"}, {"sha": "3db3d6ec21ef4c0a784edd684a6b3a2a977247e5", "filename": "gcc/tree-loop-distribution.c", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9239436cae14e67a6180df85093d6d18d0632e5e/gcc%2Ftree-loop-distribution.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9239436cae14e67a6180df85093d6d18d0632e5e/gcc%2Ftree-loop-distribution.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-loop-distribution.c?ref=9239436cae14e67a6180df85093d6d18d0632e5e", "patch": "@@ -593,8 +593,6 @@ struct partition\n {\n   /* Statements of the partition.  */\n   bitmap stmts;\n-  /* Loops of the partition.  */\n-  bitmap loops;\n   /* True if the partition defines variable which is used outside of loop.  */\n   bool reduction_p;\n   /* For builtin partition, true if it executes one iteration more than\n@@ -619,7 +617,6 @@ partition_alloc (void)\n {\n   partition *partition = XCNEW (struct partition);\n   partition->stmts = BITMAP_ALLOC (NULL);\n-  partition->loops = BITMAP_ALLOC (NULL);\n   partition->reduction_p = false;\n   partition->kind = PKIND_NORMAL;\n   partition->datarefs = BITMAP_ALLOC (NULL);\n@@ -632,7 +629,6 @@ static void\n partition_free (partition *partition)\n {\n   BITMAP_FREE (partition->stmts);\n-  BITMAP_FREE (partition->loops);\n   BITMAP_FREE (partition->datarefs);\n   free (partition);\n }\n@@ -1279,8 +1275,6 @@ build_rdg_partition_for_vertex (struct graph *rdg, int v)\n   FOR_EACH_VEC_ELT (nodes, i, x)\n     {\n       bitmap_set_bit (partition->stmts, x);\n-      bitmap_set_bit (partition->loops,\n-\t\t      loop_containing_stmt (RDG_STMT (rdg, x))->num);\n \n       for (j = 0; RDG_DATAREFS (rdg, x).iterate (j, &dr); ++j)\n \t{"}]}