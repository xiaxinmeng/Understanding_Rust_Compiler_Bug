{"sha": "2380e042774fb2d6c3ab9d3f5fc97bad3b831684", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjM4MGUwNDI3NzRmYjJkNmMzYWI5ZDNmNWZjOTdiYWQzYjgzMTY4NA==", "commit": {"author": {"name": "Robin Dapp", "email": "rdapp@linux.ibm.com", "date": "2019-03-12T16:57:08Z"}, "committer": {"name": "Robin Dapp", "email": "rdapp@gcc.gnu.org", "date": "2019-03-12T16:57:08Z"}, "message": "S/390: Change z13 pipeline description.\n\nThis patch adapts the z13 pipeline description.\n\nFrom-SVN: r269620", "tree": {"sha": "81e343f3ca7ef82898d056fd8ad72f038c436a46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/81e343f3ca7ef82898d056fd8ad72f038c436a46"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2380e042774fb2d6c3ab9d3f5fc97bad3b831684", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2380e042774fb2d6c3ab9d3f5fc97bad3b831684", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2380e042774fb2d6c3ab9d3f5fc97bad3b831684", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2380e042774fb2d6c3ab9d3f5fc97bad3b831684/comments", "author": {"login": "rdapp-ibm", "id": 80318053, "node_id": "MDQ6VXNlcjgwMzE4MDUz", "avatar_url": "https://avatars.githubusercontent.com/u/80318053?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rdapp-ibm", "html_url": "https://github.com/rdapp-ibm", "followers_url": "https://api.github.com/users/rdapp-ibm/followers", "following_url": "https://api.github.com/users/rdapp-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/rdapp-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rdapp-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rdapp-ibm/subscriptions", "organizations_url": "https://api.github.com/users/rdapp-ibm/orgs", "repos_url": "https://api.github.com/users/rdapp-ibm/repos", "events_url": "https://api.github.com/users/rdapp-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/rdapp-ibm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8451f4a52e71cf93d20313fb067efb14894d1cc9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8451f4a52e71cf93d20313fb067efb14894d1cc9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8451f4a52e71cf93d20313fb067efb14894d1cc9"}], "stats": {"total": 421, "additions": 236, "deletions": 185}, "files": [{"sha": "b39322d5eb05f049ebde88e028243c6bc457ab06", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2380e042774fb2d6c3ab9d3f5fc97bad3b831684/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2380e042774fb2d6c3ab9d3f5fc97bad3b831684/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2380e042774fb2d6c3ab9d3f5fc97bad3b831684", "patch": "@@ -1,3 +1,13 @@\n+2019-03-12  Robin Dapp  <rdapp@linux.ibm.com>\n+\n+\t* config/s390/2964.md: Update pipeline description.\n+\t* config/s390/s390.c (MAX_SCHED_UNITS): Increase.\n+\t(LONGRUNNING_THRESHOLD): Remove.\n+\t(LATENCY_FACTOR): Remove.\n+\t(s390_get_unit_mask): Add unit.\n+\t(s390_sched_score): Use fxd/fpd.\n+\t(s390_sched_variable_issue): Use fxd/fpd.\n+\n 2019-03-12  Martin Liska  <mliska@suse.cz>\n \n \t* config/i386/i386.c: Reword an error message."}, {"sha": "a7897bcf58a71dd96031fc27ad6bcdca01a172d8", "filename": "gcc/config/s390/2964.md", "status": "modified", "additions": 207, "deletions": 165, "changes": 372, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2380e042774fb2d6c3ab9d3f5fc97bad3b831684/gcc%2Fconfig%2Fs390%2F2964.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2380e042774fb2d6c3ab9d3f5fc97bad3b831684/gcc%2Fconfig%2Fs390%2F2964.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2F2964.md?ref=2380e042774fb2d6c3ab9d3f5fc97bad3b831684", "patch": "@@ -18,215 +18,257 @@\n ;; along with GCC; see the file COPYING3.  If not see\n ;; <http://www.gnu.org/licenses/>.\n \n+(define_attr \"z13_unit_fpd\" \"\"\n+(cond [(eq_attr \"mnemonic\" \"ddb,ddbr,deb,debr,dxbr,sqdb,sqdbr,sqeb,\\\n+sqebr,sqxbr,vfddb,vfdsb,vfsqdb,vfsqsb,wfddb,wfdsb,wfdxb,wfsqdb,wfsqxb\")\n+ (const_int 1)] (const_int 0)))\n \n-; generator options: vector_ecycs=12 cracked_ecycs=6 scale_ecycs=5\n+(define_attr \"z13_unit_fxa\" \"\"\n+(cond [(eq_attr \"mnemonic\" \"a,afi,ag,agf,agfi,agfr,aghi,aghik,agr,\\\n+agrk,ahi,ahik,al,alc,alcg,alcgr,alcr,alfi,alg,algf,algfi,algfr,alghsik,\\\n+algr,alhsik,alr,alrk,aly,ark,ay,bras,brasl,etnd,exrl,flogr,ic,icm,icmh,\\\n+icmy,icy,iihf,iilf,ipm,la,larl,lay,lb,lbr,lcgr,lcr,lgb,lgbr,lgf,lgfi,lgfr,\\\n+lgfrl,lgh,lghi,lghr,lghrl,lgr,lh,lhi,lhr,lhrl,lhy,llcr,llgfr,llghr,llgtr,\\\n+llhr,llihf,llihh,llihl,llilf,llilh,llill,lngr,lnr,loc,locg,locghi,locgr,\\\n+lochi,locr,lpgr,lpr,lr,lrv,lrvg,lrvgr,lrvh,lrvr,lt,ltg,ltgf,ltgfr,ltgr,ltr,\\\n+m,mfy,mghi,mh,mhi,mhy,ml,mlg,mlgr,mlr,mr,ms,msfi,msg,msgf,msgfi,msgfr,\\\n+msgr,msr,msy,n,ng,ngr,ngrk,nihf,nihh,nihl,nilf,nilh,nill,nr,nrk,ny,o,og,\\\n+ogr,ogrk,oihf,oihh,oihl,oilf,oilh,oill,or,ork,oy,pfpo,popcnt,ppa,risbg,\\\n+risbgn,rll,rllg,s,sg,sgf,sgfr,sgr,sgrk,sh,shy,sl,slb,slbg,slbgr,slbr,slfi,\\\n+slg,slgf,slgfi,slgfr,slgr,slgrk,sll,sllg,sllk,slr,slrk,sly,sr,sra,srag,\\\n+srak,srl,srlg,srlk,sy,x,xg,xgr,xgrk,xihf,xilf,xr,xrk,xy\")\n+ (const_int 1)] (const_int 0)))\n+\n+(define_attr \"z13_unit_fxb\" \"\"\n+(cond [(eq_attr \"mnemonic\" \"agsi,algsi,alsi,asi,b,bc,bcr,br,brcl,c,\\\n+cfi,cg,cgf,cgfi,cgfr,cgfrl,cgh,cghi,cghrl,cghsi,cgit,cgr,cgrl,cgrt,ch,chi,\\\n+chrl,chsi,chy,cit,cl,clfhsi,clfi,clfit,clg,clgf,clgfi,clgfr,clgfrl,clghsi,\\\n+clgit,clgr,clgrl,clgrt,clgt,clhhsi,clhrl,cli,cliy,clm,clmy,clr,clrl,clrt,\\\n+clt,cly,cr,crl,crt,cy,j,jg,laa,laag,lan,lang,lao,laog,lat,lax,laxg,lcdfr,\\\n+ldgr,ldr,lgat,lgdr,lndfr,lpdfr,lzdr,lzer,mvghi,mvhhi,mvhi,mvi,mviy,ni,niy,\\\n+nop,nopr,ntstg,oi,oiy,st,stc,stcy,std,stdy,ste,stey,stg,stgrl,sth,sthrl,\\\n+sthy,stoc,stocg,strl,strv,strvg,strvh,sty,tend,tm,tmh,tmhh,tmhl,tml,tmlh,\\\n+tmll,tmy,vlgvf,vlgvg,vlgvh,vlr,vlvgb,vlvgf,vlvgg,vlvgh,vlvgp,vst,vstl,xi,\\\n+xiy\")\n+ (const_int 1)] (const_int 0)))\n+\n+(define_attr \"z13_unit_fxd\" \"\"\n+(cond [(eq_attr \"mnemonic\" \"dlgr,dlr,dr,dsgfr,dsgr\")\n+ (const_int 1)] (const_int 0)))\n+\n+(define_attr \"z13_unit_lsu\" \"\"\n+(cond [(eq_attr \"mnemonic\" \"a,adb,aeb,ag,agf,agsi,al,alc,alcg,alg,\\\n+algf,algsi,alsi,aly,asi,ay,c,cdb,cg,cgf,cgfrl,cgh,cghrl,cghsi,cgrl,ch,chrl,\\\n+chsi,chy,cl,clc,clfhsi,clg,clgf,clgfrl,clghsi,clgrl,clgt,clhhsi,clhrl,cli,\\\n+cliy,clm,clmy,clrl,clt,cly,crl,cy,ddb,deb,ear,ic,icm,icmh,icmy,icy,l,laa,\\\n+laag,lan,lang,lao,laog,lat,lax,laxg,lb,lcbb,ld,lde,ldeb,ldy,le,ley,lg,lgat,\\\n+lgb,lgf,lgfrl,lgh,lghrl,lgrl,lh,lhrl,lhy,llc,llgc,llgf,llgfrl,llgh,llghrl,\\\n+llgt,llh,llhrl,loc,locg,lrl,lrv,lrvg,lrvh,lt,ltg,ltgf,ly,m,madb,maeb,meeb,\\\n+mfy,mh,mhy,ml,mlg,ms,msdb,mseb,msg,msgf,msy,mvghi,mvhhi,mvhi,mvi,mviy,n,\\\n+ng,ni,niy,ntstg,ny,o,og,oi,oiy,oy,s,sar,sdb,seb,sfpc,sg,sgf,sh,shy,sl,\\\n+slb,slbg,slg,slgf,sly,sqdb,sqeb,st,stc,stcy,std,stdy,ste,stey,stg,stgrl,\\\n+sth,sthrl,sthy,stoc,stocg,strl,strv,strvg,strvh,sty,sy,tabort,tm,tmy,vl,\\\n+vlbb,vleb,vlef,vleg,vleh,vll,vllezb,vllezf,vllezg,vllezh,vllezlf,vlrepb,\\\n+vlrepf,vlrepg,vlreph,vst,vstl,x,xg,xi,xiy,xy\")\n+ (const_int 1)] (const_int 0)))\n+\n+(define_attr \"z13_unit_vfu\" \"\"\n+(cond [(eq_attr \"mnemonic\" \"adb,adbr,adtr,aeb,aebr,axbr,axtr,cdb,\\\n+cdbr,cdtr,cebr,cpsdr,cxbr,cxtr,ddtr,dxtr,fidbr,fidbra,fidtr,fiebr,fiebra,\\\n+fixbr,fixbra,fixtr,lcdbr,lcebr,lcxbr,ldeb,ldebr,ldetr,le,ledbr,ledtr,ler,\\\n+ley,lndbr,lnebr,lnxbr,lpdbr,lpebr,lpxbr,ltdbr,ltebr,ltxbr,ltxtr,lxdb,\\\n+lxdbr,lxdtr,lxeb,lxebr,madb,madbr,maeb,maebr,mdbr,mdtr,meeb,meebr,msdb,\\\n+msdbr,mseb,msebr,mxbr,mxtr,sdb,sdbr,sdtr,seb,sebr,sxbr,sxtr,tcdb,tceb,tcxb,\\\n+tdcdt,tdcet,tdcxt,vab,vaccb,vacccq,vaccf,vaccg,vacch,vaccq,vacq,vaf,vag,vah,\\\n+vaq,vavgb,vavgf,vavgg,vavgh,vavglb,vavglf,vavglg,vavglh,vcdgb,vcdlgb,\\\n+vceqb,vceqbs,vceqf,vceqfs,vceqg,vceqgs,vceqh,vceqhs,vcgdb,vchb,vchbs,vchf,\\\n+vchfs,vchg,vchgs,vchh,vchhs,vchlb,vchlbs,vchlf,vchlfs,vchlg,vchlgs,vchlh,\\\n+vchlhs,vcksm,vclgdb,vclzf,vctzb,vctzf,vctzg,vctzh,verimb,verimf,verimg,\\\n+verimh,verllb,verllf,verllg,verllh,verllvb,verllvf,verllvg,verllvh,veslb,\\\n+veslf,veslg,veslh,veslvb,veslvf,veslvg,veslvh,vesrab,vesraf,vesrag,vesrah,\\\n+vesravb,vesravf,vesravg,vesravh,vesrlb,vesrlf,vesrlg,vesrlh,vesrlvb,vesrlvf,\\\n+vesrlvg,vesrlvh,vfadb,vfasb,vfcedb,vfcedbs,vfcesb,vfcesbs,vfchdb,vfchdbs,\\\n+vfchedb,vfchedbs,vfchesb,vfchesbs,vfchsb,vfchsbs,vfeeb,vfeef,vfeeh,vfeezbs,\\\n+vfeezhs,vfeneb,vfenef,vfeneh,vfenezb,vfenezf,vfenezh,vfidb,vfisb,vflcdb,\\\n+vflcsb,vflndb,vflnsb,vflpdb,vfmadb,vfmasb,vfmdb,vfmsb,vfmsdb,vfmssb,vfsdb,\\\n+vfssb,vftcidb,vftcisb,vgbm,vgfmab,vgfmaf,vgfmag,vgfmah,vgfmb,vgfmf,vgfmg,\\\n+vgfmh,vgm,vgmb,vgmf,vgmg,vgmh,vistrb,vistrbs,vistrf,vistrfs,vistrh,vlcb,\\\n+vlcf,vlcg,vlch,vldeb,vleb,vledb,vlef,vleg,vleh,vleib,vleif,vleig,vleih,\\\n+vlpb,vlpf,vlpg,vlph,vmaeb,vmaef,vmaeh,vmahb,vmahf,vmahh,vmalb,vmaleb,\\\n+vmalef,vmaleh,vmalf,vmalhb,vmalhf,vmalhh,vmalhw,vmalob,vmalof,vmaloh,vmaob,\\\n+vmaof,vmaoh,vmeb,vmef,vmeh,vmhb,vmhf,vmhh,vmlb,vmleb,vmlef,vmleh,vmlf,vmlhb,\\\n+vmlhf,vmlhh,vmlhw,vmlob,vmlof,vmloh,vmnb,vmnf,vmng,vmnh,vmnlb,vmnlf,vmnlg,\\\n+vmnlh,vmob,vmof,vmoh,vmrhb,vmrhf,vmrhg,vmrhh,vmrlb,vmrlf,vmrlg,vmrlh,vmxb,\\\n+vmxf,vmxg,vmxh,vn,vnc,vno,vnot,vo,vone,vpdi,vperm,vpkf,vpkg,vpkh,vpklsf,\\\n+vpklsfs,vpklsg,vpklsgs,vpklsh,vpklshs,vpksf,vpksfs,vpksg,vpksgs,vpksh,vpkshs,\\\n+vpopct,vpopctb,vpopctf,vpopctg,vpopcth,vrepb,vrepf,vrepg,vreph,vrepib,vrepif,\\\n+vrepig,vrepih,vsb,vsbiq,vscbib,vscbif,vscbig,vscbih,vscbiq,vsegb,vsegf,vsegh,\\\n+vsel,vsf,vsg,vsh,vsl,vslb,vsldb,vsq,vsra,vsrab,vsrl,vsrlb,vsumb,vsumgf,\\\n+vsumgh,vsumh,vsumqf,vsumqg,vtm,vuphb,vuphf,vuphh,vuplb,vuplf,vuplhb,vuplhf,\\\n+vuplhh,vuplhw,vupllb,vupllf,vupllh,vx,vzero,wcdgb,wcdlgb,wcgdb,wclgdb,wfadb,\\\n+wfasb,wfaxb,wfcdb,wfcedb,wfcesb,wfcexbs,wfchdb,wfchedb,wfchesb,wfchexb,\\\n+wfchexbs,wfchsb,wfchxb,wfchxbs,wfcsb,wfisb,wfixb,wflcdb,wflcsb,wflcxb,wflld,\\\n+wflndb,wflnsb,wflnxb,wflpdb,wflpsb,wflpxb,wfmadb,wfmasb,wfmaxb,wfmdb,wfmsb,\\\n+wfmsdb,wfmssb,wfmsxb,wfmxb,wfsdb,wfssb,wfsxb,wldeb,wledb\")\n+ (const_int 1)] (const_int 0)))\n \n (define_attr \"z13_cracked\" \"\"\n-  (cond [(eq_attr \"mnemonic\" \"celgbr,vscef,vsceg,exrl,clfebr,cefbr,chhsi,\\\n-vgef,vgeg,cdlftr,lcgfr,cfdbr,cgdbr,lzxr,cfxbr,rnsbg,cgdtr,cegbr,rxsbg,ex,\\\n-cgxtr,clfxtr,cdlgtr,brasl,efpc,cfebr,tbeginc,celfbr,clgxbr,vsteb,vsteh,\\\n-clfdtr,cdfbr,lngfr,clgebr,stpq,cs,lpgfr,cdlgbr,lpq,cdgtr,d,cgxbr,cdftr,\\\n-rosbg,clgdbr,cdgbr,bras,tbegin,clfdbr,cdlfbr,cgebr,clfxbr,lxr,csy,csg,clgdtr,\\\n-clgxtr\") (const_int 1)]\n-        (const_int 0)))\n+(cond [(eq_attr \"mnemonic\" \"bas,basr,cdfbr,cdftr,cdgbr,cdgtr,cdlfbr,\\\n+cdlftr,cdlgbr,cdlgtr,cefbr,cegbr,celfbr,celgbr,cfdbr,cfebr,cfxbr,cgdbr,cgdtr,\\\n+cgebr,cgxbr,cgxtr,chhsi,clfdbr,clfebr,clfxbr,clfxtr,clgdbr,clgdtr,clgebr,\\\n+clgxbr,clgxtr,cs,csg,csy,d,efpc,ex,lcgfr,lngfr,lpgfr,lpq,lxr,lzxr,rnsbg,\\\n+rosbg,rxsbg,stpq,vgef,vgeg,vscef,vsceg,vsteb\")\n+ (const_int 1)] (const_int 0)))\n \n (define_attr \"z13_expanded\" \"\"\n-  (cond [(eq_attr \"mnemonic\" \"cxlftr,cdsg,cdsy,stam,lam,dsgf,lmg,cxlgtr,\\\n-dl,cxftr,sldl,dsg,cxlfbr,cxgtr,stmg,stmy,stm,lm,cds,lmy,cxfbr,cxlgbr,srda,\\\n-srdl,cxgbr,dlg\") (const_int 1)]\n-        (const_int 0)))\n+(cond [(eq_attr \"mnemonic\" \"cds,cdsg,cdsy,cxfbr,cxftr,cxgbr,cxgtr,\\\n+cxlftr,cxlgbr,cxlgtr,dl,dlg,dsg,dsgf,lam,lm,lmg,lmy,sldl,srda,srdl,stam,stm,\\\n+stmg,stmy,tbegin,tbeginc\")\n+ (const_int 1)] (const_int 0)))\n \n (define_attr \"z13_groupalone\" \"\"\n-  (cond [(eq_attr \"mnemonic\" \"mvc,dxbr,lxebr,axtr,cxtr,alcr,lxdb,lxeb,mxtr,\\\n-mfy,cxbr,dsgr,lcxbr,slb,mr,dr,alc,slbr,maebr,mlgr,dsgfr,sxtr,tdcxt,tabort,\\\n-msebr,lxdtr,ltxtr,slbg,ml,mxbr,maeb,oc,dxtr,msdb,sqxbr,mseb,xc,m,clc,mlg,\\\n-mlr,fixbra,alcgr,nc,sfpc,dlgr,fixbr,slbgr,fixtr,lpxbr,axbr,lxdbr,ltxbr,\\\n-tcxb,dlr,lnxbr,sxbr,flogr,alcg,tend,madb,bcr_flush\") (const_int 1)]\n-        (const_int 0)))\n+(cond [(eq_attr \"mnemonic\" \"alc,alcg,alcgr,alcr,axbr,axtr,clc,cxbr,\\\n+cxtr,dlgr,dlr,dr,dsgfr,dsgr,dxbr,dxtr,fixbr,fixbra,fixtr,flogr,lcxbr,lnxbr,\\\n+lpxbr,ltxbr,ltxtr,lxdb,lxdbr,lxdtr,lxeb,lxebr,m,madb,maeb,maebr,mfy,ml,mlg,\\\n+mlgr,mlr,mr,msdb,mseb,msebr,mvc,mxbr,mxtr,oc,sfpc,slb,slbg,slbgr,slbr,\\\n+sqxbr,sxbr,sxtr,tabort,tcxb,tdcxt,tend,xc\")\n+ (const_int 1)] (const_int 0)))\n \n (define_attr \"z13_endgroup\" \"\"\n-  (cond [(eq_attr \"mnemonic\" \"ipm\") (const_int 1)]\n-        (const_int 0)))\n-\n-(define_attr \"z13_unit_lsu\" \"\"\n-  (cond [(eq_attr \"mnemonic\" \"vlbb,mvc,llgc,llc,llhrl,vl,llghrl,vlrepf,\\\n-vlrepg,vlreph,lde,ldy,tabort,l,llh,ld,lg,ly,vlrepb,vllezb,vllezf,vllezg,\\\n-vllezh,oc,xc,clc,lrl,ear,nc,lgrl,sfpc,llgf,llgfrl,llgh,llgt,lcbb,vll,sar\") (const_int 1)]\n-        (const_int 0)))\n-\n-(define_attr \"z13_unit_fxu\" \"\"\n-  (cond [(eq_attr \"mnemonic\" \"s,lcgr,x,nop,oiy,ppa,ng,msy,sgrk,vstl,aghik,\\\n-msgf,ipm,mvi,stocg,rll,srlg,cghsi,clgit,srlk,alrk,sg,sh,sl,st,sy,vst,ark,\\\n-xgr,agsi,tm,nrk,shy,llhr,agf,alcr,slgfr,sr,clgrt,laa,sgf,lan,llilf,\\\n-llilh,ag,llill,lay,al,n,laxg,ar,ahi,sgr,ntstg,ay,stcy,nopr,mfy,ngrk,lbr,\\\n-br,dsgr,stdy,ork,ldgr,lcr,cg,ch,lgfrl,cl,stoc,cr,agfr,stgrl,cy,alfi,xg,\\\n-cgfi,xi,clfhsi,cgfr,xr,slb,mghi,clfi,slg,clhhsi,agfi,clfit,sly,mr,ldr,nihf,\\\n-nihh,algfi,dr,nihl,algf,algfr,algr,clgf,clgr,clgt,aghi,alc,alg,locg,alr,\\\n-locr,cghi,aly,alghsik,slbr,clgfrl,mhy,cit,nr,ny,xiy,mlgr,sthy,cly,dsgfr,\\\n-rllg,cgit,lgb,lgf,clgrl,lgh,lrvgr,cliy,cgrl,lgr,slrk,clrt,icy,laog,og,agr,\\\n-mvhi,lhrl,or,lhr,vlvgp,lhy,nilf,oy,nilh,nill,lcdfr,mviy,tmhh,tmhl,sthrl,\\\n-ltgf,ltgr,srk,clghrl,ahy,vstef,vsteg,ah,vlgvb,llgcr,tmh,tml,clmy,slr,cfi,\\\n-stc,std,ste,stg,sth,locgr,slbg,sty,tmlh,la,lb,mvghi,lh,risbgn,lrvg,lr,asi,\\\n-lt,ahik,lrvr,cgf,cgh,cgr,clhrl,lzdr,tmll,mh,ml,vlvgb,ms,lrv,vlvgf,xgrk,\\\n-vlvgg,llgfr,vlvgh,slfi,chi,chy,mhi,lzer,alhsik,ni,ltgfr,loc,icm,oi,cgfrl,\\\n-agrk,lgat,oilh,llghr,lghrl,oill,xihf,lpgr,cgrt,clrl,sgfr,lpr,lgbr,strl,\\\n-algrk,alsi,srak,slgf,a,b,c,slgr,m,o,algsi,icmh,srag,iilf,ogrk,clg,icmy,\\\n-cli,clm,clr,clt,slgrk,mlg,lao,mlr,risbg,mvhhi,lat,etnd,lax,iihf,sra,alcgr,\\\n-msgr,clghsi,stey,ngr,xilf,laag,oihf,oihh,oihl,ltg,ltr,niy,lgfi,dlgr,lgfr,\\\n-slgfi,llcr,slbgr,chrl,lgdr,pfpo,lang,basr,sllg,sllk,lghi,lghr,vlgvf,vlgvg,\\\n-vlgvh,vlr,chsi,lngr,cghrl,srl,lhi,oilf,crl,crt,afi,xrk,llgtr,llihf,llihh,\\\n-llihl,dlr,msgfi,msgfr,msg,flogr,xy,msr,clgfi,clgfr,ogr,popcnt,alcg,lndfr,\\\n-larl,sll,tmy,msfi,ic,lpdfr,tend,lnr\") (const_int 1)]\n-        (const_int 0)))\n+(cond [(eq_attr \"mnemonic\" \"bras,brasl,exrl,ipm\")\n+ (const_int 1)] (const_int 0)))\n \n-(define_attr \"z13_unit_vfu\" \"\"\n-  (cond [(eq_attr \"mnemonic\" \"seb,vcksm,vfadb,vleib,vchgs,vleif,vleig,vleih,\\\n-vgbm,verimb,vone,verimf,verimg,verimh,dxbr,verllvb,lpebr,verllvf,verllvg,\\\n-verllvh,vfeneb,wcdgb,vfenef,vfeneh,vchhs,vctzb,vctzf,vctzg,vctzh,vlcb,aeb,\\\n-vlcf,vlcg,vlch,vfmsdb,vgfmab,ltebr,vgfmaf,vgfmag,vgfmah,vmaeh,vsb,vsf,vsg,\\\n-vsh,vsl,vsq,lxebr,cdtr,fiebr,vupllb,vupllf,vupllh,vmrhb,madbr,vtm,vmrhf,\\\n-vmrhg,vmrhh,axtr,fiebra,vleb,cxtr,vlef,vleg,vleh,vpkf,vpkg,vpkh,vmlob,vmlof,\\\n-vmloh,lxdb,ldeb,mdtr,vceqfs,adb,wflndb,lxeb,vn,vo,vchlb,vx,mxtr,vchlf,vchlg,\\\n-vchlh,vfcedbs,vfcedb,vceqgs,cxbr,msdbr,vcdgb,debr,vceqhs,meeb,lcxbr,vavglb,\\\n-vavglf,vavglg,vavglh,vmrlb,vmrlf,vmrlg,vmrlh,vmxb,tcdb,\\\n-vmahh,vsrlb,wcgdb,lcdbr,vistrbs,vrepb,wfmdb,vrepf,vrepg,vreph,ler,wcdlgb,\\\n-ley,vistrb,vistrf,vistrh,tceb,wfsqdb,sqeb,vsumqf,vsumqg,vesrlb,vfeezbs,\\\n-maebr,vesrlf,vesrlg,vesrlh,vmeb,vmef,vmeh,meebr,vflcdb,wfmadb,vperm,sxtr,\\\n-vclzf,vgm,vgmb,vgmf,vgmg,vgmh,tdcxt,vzero,msebr,veslb,veslf,veslg,vfenezb,\\\n-vfenezf,vfenezh,vistrfs,vchf,vchg,vchh,vmhb,vmhf,vmhh,cdb,veslvb,ledbr,\\\n-veslvf,veslvg,veslvh,wclgdb,vfmdb,vmnlb,vmnlf,vmnlg,vmnlh,vclzb,vfeezfs,\\\n-vclzg,vclzh,mdb,vmxlb,vmxlf,vmxlg,vmxlh,ltdtr,vsbcbiq,ceb,wfddb,sebr,vistrhs,\\\n-lxdtr,lcebr,vab,vaf,vag,vah,ltxtr,vlpf,vlpg,vsegb,vaq,vsegf,vsegh,\\\n-sdtr,cdbr,vfeezhs,le,wldeb,vfmadb,vchlbs,vacccq,vmaleb,vsel,vmalef,vmaleh,\\\n-vflndb,mdbr,vmlb,wflpdb,ldetr,vpksfs,vpksf,vpksg,vpksh,sqdb,mxbr,sqdbr,\\\n-vmaeb,veslh,vmaef,vpklsf,vpklsg,vpklsh,verllb,vchb,ddtr,verllf,verllg,verllh,\\\n-wfsdb,maeb,vclgdb,vftcidb,vpksgs,vmxf,vmxg,vmxh,fidbra,vmnb,vmnf,vmng,vfchedbs,\\\n-lnebr,vfidb,dxtr,ddb,msdb,vmalhb,vfddb,vmalhf,vmalhh,vpkshs,vfsdb,sqxbr,\\\n-vmalhw,ltdbr,vmob,vmof,vmoh,deb,vchlfs,mseb,vcdlgb,vlpb,wfmsdb,vlph,vmahb,\\\n-vldeb,vmahf,vgfmb,fidbr,vfsqdb,aebr,wledb,vchlgs,vesravb,vfchdbs,cebr,vesravf,\\\n-vesravg,vesravh,vcgdb,fixbra,vrepib,vrepif,vrepig,vrepih,tdcdt,vchlhs,vceqb,\\\n-vscbib,vceqf,vceqg,vscbif,vscbig,vscbih,vmlhw,vscbiq,vuphb,vuphf,vuphh,\\\n-vfchedb,tdcet,vslb,vpklsfs,adbr,sqebr,vfchdb,fixbr,vpklsgs,vsldb,vmleb,\\\n-vmlef,vmleh,cpsdr,vmalb,vmalf,vavgb,vmlf,vavgf,vavgg,vavgh,vgfmf,vgfmg,\\\n-vgfmh,fidtr,vpklshs,lndbr,vno,lpdbr,vacq,vledb,vchbs,vfeeb,vfeef,vfeeh,\\\n-fixtr,vaccb,wfadb,vaccf,vaccg,vacch,vnot,vmalob,vaccq,vmalof,vmaloh,lpxbr,\\\n-ledtr,vuplb,vuplf,axbr,lxdbr,ltxbr,vpopct,vpdi,vmlhb,vmlhf,vmlhh,sdbr,vnc,\\\n-vsumb,vsrab,vsumh,vmaob,vmaof,vmaoh,vesrlvb,vesrlvf,vesrlvg,vesrlvh,tcxb,\\\n-vceqbs,vceqh,lnxbr,sxbr,vesrab,wflcdb,vesraf,vesrag,vesrah,vflpdb,vmnh,\\\n-vsbiq,adtr,vsra,vsrl,vuplhb,sdb,vuplhf,vuplhh,vsumgf,vsumgh,ldebr,vuplhw,\\\n-vchfs,madb,ddbr\") (const_int 1)]\n-        (const_int 0)))\n+(define_attr \"z13_groupoftwo\" \"\"\n+(cond [(eq_attr \"mnemonic\" \"vacccq,vacq,vfmadb,vfmasb,vfmsdb,vfmssb,\\\n+vgfmab,vgfmaf,vgfmag,vgfmah,vmaeb,vmaef,vmaeh,vmahb,vmahf,vmahh,vmalb,vmaleb,\\\n+vmalef,vmaleh,vmalf,vmalhb,vmalhf,vmalhh,vmalhw,vmalob,vmalof,vmaloh,vmaob,\\\n+vmaof,vmaoh,vperm,vsbiq,vsel,wfmadb,wfmasb,wfmaxb,wfmsdb,wfmssb,wfmsxb\")\n+ (const_int 1)] (const_int 0)))\n \n (define_insn_reservation \"z13_0\" 0\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"s,lcgr,x,nop,oiy,vlbb,ppa,ng,sgrk,vstl,aghik,\\\n-mvc,ipm,llgc,mvi,stocg,rll,jg,srlg,cghsi,clgit,srlk,alrk,sg,sh,sl,st,sy,\\\n-vst,ark,xgr,agsi,tm,nrk,shy,llhr,agf,alcr,slgfr,sr,clgrt,llc,laa,sgf,\\\n-lan,llhrl,llilf,llilh,ag,llill,lay,al,n,laxg,ar,ahi,sgr,ntstg,ay,stcy,vl,\\\n-nopr,ngrk,lbr,br,stdy,ork,ldgr,lcr,cg,ch,llghrl,lgfrl,cl,stoc,cr,agfr,stgrl,\\\n-cy,alfi,xg,cgfi,xi,vlrepf,vlrepg,vlreph,clfhsi,cgfr,xr,slb,mghi,clfi,slg,\\\n-lde,clhhsi,agfi,clfit,sly,ldr,ldy,nihf,nihh,algfi,nihl,algf,algfr,algr,\\\n-clgf,clgr,clgt,aghi,alc,alg,locg,alr,locr,cghi,aly,alghsik,slbr,clgfrl,\\\n-mhy,cit,nr,ny,xiy,sthy,cly,rllg,cgit,lgb,lgf,clgrl,lgh,lrvgr,cliy,cgrl,\\\n-lgr,slrk,clrt,icy,laog,og,agr,mvhi,lhrl,or,lhr,vlvgp,lhy,nilf,oy,nilh,tabort,\\\n-nill,lcdfr,mviy,tmhh,tmhl,sthrl,ltgf,ltgr,srk,clghrl,ahy,vstef,vsteg,ah,\\\n-vlgvb,llgcr,tmh,tml,clmy,slr,cfi,stc,std,ste,stg,sth,l,locgr,llh,slbg,sty,\\\n-tmlh,la,lb,ld,mvghi,lg,lh,risbgn,lrvg,lr,asi,lt,ahik,ly,lrvr,vlrepb,vllezb,\\\n-cgf,cgh,vllezf,vllezg,vllezh,cgr,clhrl,lzdr,tmll,mh,vlvgb,lrv,vlvgf,xgrk,\\\n-vlvgg,llgfr,vlvgh,slfi,chi,chy,mhi,lzer,alhsik,ni,ltgfr,loc,icm,oc,oi,cgfrl,\\\n-agrk,lgat,oilh,llghr,lghrl,oill,xihf,lpgr,cgrt,clrl,sgfr,lpr,lgbr,strl,\\\n-algrk,alsi,srak,brcl,slgf,xc,a,b,c,slgr,j,o,algsi,icmh,srag,iilf,ogrk,clc,\\\n-clg,icmy,cli,clm,clr,clt,slgrk,lrl,lao,risbg,mvhhi,lat,etnd,lax,iihf,sra,\\\n-alcgr,clghsi,ear,nc,lgrl,stey,ngr,xilf,laag,oihf,oihh,oihl,ltg,ltr,niy,\\\n-lgfi,sfpc,lgfr,slgfi,llcr,llgf,llgfrl,llgh,slbgr,llgt,chrl,lgdr,pfpo,lang,\\\n-basr,lcbb,sllg,sllk,lghi,vll,lghr,vlgvf,vlgvg,vlgvh,vlr,chsi,lngr,cghrl,\\\n-srl,sar,lhi,oilf,crl,crt,afi,xrk,llgtr,llihf,llihh,llihl,xy,clgfi,clgfr,\\\n-ogr,popcnt,alcg,lndfr,larl,sll,tmy,ic,lpdfr,tend,lnr,bcr_flush\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"a,afi,ag,agfi,aghi,aghik,agr,agrk,ahi,ahik,al,\\\n+alfi,alg,algf,algfi,algfr,alghsik,algr,alhsik,alr,alrk,aly,ark,ay,b,bc,bcr,\\\n+br,bras,brasl,brcl,c,cfi,cg,cgfi,cghi,cghsi,cgit,cgr,cgrl,cgrt,chi,chsi,\\\n+cit,cl,clfhsi,clfi,clfit,clg,clgf,clgfi,clgfr,clgfrl,clghsi,clgit,clgr,\\\n+clgrl,clgrt,clgt,clhhsi,clhrl,cli,cliy,clr,clrl,clrt,clt,cly,cr,crl,crt,cy,\\\n+etnd,exrl,ic,icm,icmh,icmy,icy,iihf,iilf,j,jg,la,larl,lat,lay,lb,lbr,lcdfr,\\\n+lcgr,lcr,ldgr,ldr,lgat,lgb,lgbr,lgf,lgfi,lgfr,lgfrl,lgh,lghi,lghr,lghrl,\\\n+lgr,lh,lhi,lhr,lhrl,lhy,llcr,llgfr,llghr,llgtr,llhr,llihf,llihh,llihl,\\\n+llilf,llilh,llill,lndfr,lpdfr,lr,lrv,lrvg,lrvgr,lrvh,lrvr,lt,ltg,ltgf,ltgfr,\\\n+ltgr,ltr,lzdr,lzer,n,ng,ngr,ngrk,nihf,nihh,nihl,nilf,nilh,nill,nop,nopr,nr,\\\n+nrk,ny,o,og,ogr,ogrk,oihf,oihh,oihl,oilf,oilh,oill,or,ork,oy,pfpo,ppa,\\\n+risbg,risbgn,rll,rllg,s,sg,sgr,sgrk,sl,sldl,slfi,slg,slgf,slgfi,slgfr,slgr,\\\n+slgrk,sll,sllg,sllk,slr,slrk,sly,sr,sra,srag,srak,srda,srdl,srl,srlg,srlk,\\\n+sy,tm,tmh,tmhh,tmhl,tml,tmlh,tmll,tmy,vlr,vlvgb,vlvgf,vlvgg,vlvgh,x,xg,\\\n+xgr,xgrk,xihf,xilf,xr,xrk,xy\")) \"nothing\")\n \n (define_insn_reservation \"z13_1\" 1\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"celgbr,vscef,vsceg,msy,msgf,cxlftr,cdsg,cdsy,\\\n-exrl,clfebr,cefbr,chhsi,stam,vgef,vgeg,cdlftr,lam,mfy,lcgfr,cfdbr,dsgf,\\\n-cgdbr,lzxr,lmg,cfxbr,rnsbg,cxlgtr,mr,dl,cxftr,sldl,cgdtr,cegbr,rxsbg,ex,\\\n-cgxtr,clfxtr,mlgr,cdlgtr,brasl,dsg,efpc,cfebr,tbeginc,celfbr,clgxbr,vsteb,\\\n-vsteh,cxlfbr,clfdtr,cxgtr,stmg,stmy,stm,lm,cds,cdfbr,ml,ms,lngfr,clgebr,\\\n-stpq,lmy,cs,lpgfr,cdlgbr,lpq,cxfbr,cxlgbr,cdgtr,d,m,mlg,mlr,cgxbr,cdftr,\\\n-msgr,rosbg,clgdbr,cdgbr,srda,bras,srdl,tbegin,clfdbr,cdlfbr,cxgbr,cgebr,\\\n-dlg,clfxbr,lxr,csy,msgfi,msgfr,msg,flogr,msr,csg,msfi,clgdtr,clgxtr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"agf,agfr,agsi,algsi,alsi,asi,cgf,cgfr,cgfrl,cgh,\\\n+cghrl,ch,chrl,chy,clm,clmy,cpsdr,laa,laag,lan,lang,lao,laog,lax,laxg,le,ler,\\\n+ley,lngr,lnr,loc,locg,locghi,locgr,lochi,locr,lpgr,lpr,mvghi,mvhhi,mvhi,\\\n+mvi,mviy,ni,niy,ntstg,oi,oiy,sgf,sgfr,sh,shy,st,stc,stcy,stg,stgrl,sth,\\\n+sthrl,sthy,stoc,stocg,strl,strv,strvg,strvh,sty,vab,vaccb,vacccq,vaccf,\\\n+vaccg,vacch,vaccq,vacq,vaf,vag,vah,vaq,vavgb,vavgf,vavgg,vavgh,vavglb,\\\n+vavglf,vavglg,vavglh,vceqb,vceqf,vceqg,vceqh,vchb,vchf,vchg,vchh,vchlb,vchlf,\\\n+vchlg,vchlh,vclzf,vctzb,vctzf,vctzg,vctzh,verimb,verimf,verimg,verimh,\\\n+verllb,verllf,verllg,verllh,verllvb,verllvf,verllvg,verllvh,veslb,veslf,\\\n+veslg,veslh,veslvb,veslvf,veslvg,veslvh,vesrab,vesraf,vesrag,vesrah,vesravb,\\\n+vesravf,vesravg,vesravh,vesrlb,vesrlf,vesrlg,vesrlh,vesrlvb,vesrlvf,vesrlvg,\\\n+vesrlvh,vfcedb,vfcesb,vfchdb,vfchedb,vfchesb,vfchsb,vflcdb,vflcsb,vflndb,\\\n+vflnsb,vflpdb,vgbm,vgm,vgmb,vgmf,vgmg,vgmh,vlcb,vlcf,vlcg,vlch,vleb,vlef,\\\n+vleg,vleh,vleib,vleif,vleig,vleih,vlpb,vlpf,vlpg,vlph,vmnb,vmnf,vmng,vmnh,\\\n+vmnlb,vmnlf,vmnlg,vmnlh,vmrhb,vmrhf,vmrhg,vmrhh,vmrlb,vmrlf,vmrlg,vmrlh,\\\n+vmxb,vmxf,vmxg,vmxh,vn,vnc,vno,vnot,vo,vone,vpdi,vperm,vpkf,vpkg,vpkh,\\\n+vpklsf,vpklsg,vpklsh,vpksf,vpksg,vpksh,vpopct,vpopctb,vpopctf,vpopctg,\\\n+vpopcth,vrepb,vrepf,vrepg,vreph,vrepib,vrepif,vrepig,vrepih,vsb,vsbiq,vscbib,\\\n+vscbif,vscbig,vscbih,vscbiq,vsegb,vsegf,vsegh,vsel,vsf,vsg,vsh,vsl,vsldb,vsq,\\\n+vsra,vsrl,vuphb,vuphf,vuphh,vuplb,vuplf,vuplhb,vuplhf,vuplhh,vuplhw,vupllb,\\\n+vupllf,vupllh,vx,vzero,wfcedb,wfcesb,wfchdb,wfchedb,wfchesb,wfchexb,wfchsb,\\\n+wfchxb,wflcdb,wflcsb,wflcxb,wflndb,wflnsb,wflnxb,wflpdb,wflpsb,wflpxb,xi,xiy\")) \"nothing\")\n \n (define_insn_reservation \"z13_2\" 2\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"seb,vcksm,vfadb,vleib,vchgs,vleif,vleig,vleih,\\\n-vgbm,verimb,vone,verimf,verimg,verimh,verllvb,lpebr,verllvf,verllvg,verllvh,\\\n-vfeneb,wcdgb,vfenef,vfeneh,vchhs,vctzb,vctzf,vctzg,vctzh,vlcb,aeb,vlcf,\\\n-vlcg,vlch,vfmsdb,vgfmab,ltebr,vgfmaf,vgfmag,vgfmah,vmaeh,vsb,vsf,vsg,vsh,\\\n-vsl,vsq,lxebr,cdtr,fiebr,vupllb,vupllf,vupllh,vmrhb,madbr,vtm,vmrhf,vmrhg,\\\n-vmrhh,axtr,fiebra,vleb,cxtr,vlef,vleg,vleh,vpkf,vpkg,vpkh,vmlob,vmlof,vmloh,\\\n-lxdb,ldeb,vceqfs,adb,wflndb,lxeb,vn,vo,vchlb,vx,vchlf,vchlg,vchlh,vfcedbs,\\\n-vfcedb,vceqgs,cxbr,msdbr,vcdgb,vceqhs,meeb,lcxbr,vavglb,vavglf,vavglg,vavglh,\\\n-vmrlb,vmrlf,vmrlg,vmrlh,vmxb,tcdb,vmahh,vsrlb,wcgdb,lcdbr,\\\n-vistrbs,vrepb,wfmdb,vrepf,vrepg,vreph,ler,wcdlgb,ley,vistrb,vistrf,vistrh,\\\n-tceb,vsumqf,vsumqg,vesrlb,vfeezbs,maebr,vesrlf,vesrlg,vesrlh,vmeb,vmef,\\\n-vmeh,meebr,vflcdb,wfmadb,vperm,sxtr,vclzf,vgm,vgmb,vgmf,vgmg,vgmh,tdcxt,\\\n-vzero,msebr,veslb,veslf,veslg,vfenezb,vfenezf,vfenezh,vistrfs,vchf,vchg,\\\n-vchh,vmhb,vmhf,vmhh,cdb,veslvb,ledbr,veslvf,veslvg,veslvh,wclgdb,vfmdb,\\\n-vmnlb,vmnlf,vmnlg,vmnlh,vclzb,vfeezfs,vclzg,vclzh,mdb,vmxlb,vmxlf,vmxlg,\\\n-vmxlh,ltdtr,vsbcbiq,ceb,sebr,vistrhs,lxdtr,lcebr,vab,vaf,vag,vah,ltxtr,\\\n-vlpf,vlpg,vsegb,vaq,vsegf,vsegh,sdtr,cdbr,vfeezhs,le,wldeb,vfmadb,\\\n-vchlbs,vacccq,vmaleb,vsel,vmalef,vmaleh,vflndb,mdbr,vmlb,wflpdb,ldetr,vpksfs,\\\n-vpksf,vpksg,vpksh,vmaeb,veslh,vmaef,vpklsf,vpklsg,vpklsh,verllb,vchb,verllf,\\\n-verllg,verllh,wfsdb,maeb,vclgdb,vftcidb,vpksgs,vmxf,vmxg,vmxh,fidbra,vmnb,\\\n-vmnf,vmng,vfchedbs,lnebr,vfidb,msdb,vmalhb,vmalhf,vmalhh,vpkshs,vfsdb,vmalhw,\\\n-ltdbr,vmob,vmof,vmoh,vchlfs,mseb,vcdlgb,vlpb,wfmsdb,vlph,vmahb,vldeb,vmahf,\\\n-vgfmb,fidbr,aebr,wledb,vchlgs,vesravb,vfchdbs,cebr,vesravf,vesravg,vesravh,\\\n-vcgdb,fixbra,vrepib,vrepif,vrepig,vrepih,tdcdt,vchlhs,vceqb,vscbib,vceqf,\\\n-vceqg,vscbif,vscbig,vscbih,vmlhw,vscbiq,vuphb,vuphf,vuphh,vfchedb,tdcet,\\\n-vslb,vpklsfs,adbr,vfchdb,fixbr,vpklsgs,vsldb,vmleb,vmlef,vmleh,cpsdr,vmalb,\\\n-vmalf,vavgb,vmlf,vavgf,vavgg,vavgh,vgfmf,vgfmg,vgfmh,fidtr,vpklshs,lndbr,\\\n-vno,lpdbr,vacq,vledb,vchbs,vfeeb,vfeef,vfeeh,fixtr,vaccb,wfadb,vaccf,vaccg,\\\n-vacch,vnot,vmalob,vaccq,vmalof,vmaloh,lpxbr,vuplb,vuplf,axbr,lxdbr,ltxbr,\\\n-vpopct,vpdi,vmlhb,vmlhf,vmlhh,sdbr,vnc,vsumb,vsrab,vsumh,vmaob,vmaof,vmaoh,\\\n-vesrlvb,vesrlvf,vesrlvg,vesrlvh,tcxb,vceqbs,vceqh,lnxbr,sxbr,vesrab,wflcdb,\\\n-vesraf,vesrag,vesrah,vflpdb,vmnh,vsbiq,adtr,vsra,vsrl,vuplhb,sdb,vuplhf,\\\n-vuplhh,vsumgf,vsumgh,ldebr,vuplhw,vchfs,madb\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"cdb,cdbr,cebr,ear,ipm,l,lcbb,lcdbr,lcebr,ld,lde,\\\n+ldy,lg,lgdr,lgrl,llc,llgc,llgf,llgfrl,llgh,llghrl,llgt,llh,llhrl,lm,lmg,\\\n+lmy,lndbr,lnebr,lpdbr,lpebr,lrl,ltdbr,ltebr,ly,popcnt,sar,tcdb,tceb,\\\n+vceqbs,vceqfs,vceqgs,vceqhs,vchbs,vchfs,vchgs,vchhs,vchlbs,vchlfs,vchlgs,\\\n+vchlhs,vfcedbs,vfcesbs,vfchdbs,vfchedbs,vfchesbs,vfchsbs,vfeeb,vfeef,vfeeh,\\\n+vfeneb,vfenef,vfeneh,vfenezb,vfenezf,vfenezh,vftcidb,vftcisb,vistrb,vistrf,\\\n+vistrh,vllezb,vllezf,vllezg,vllezh,vllezlf,vlrepb,vlrepf,vlrepg,vlreph,vlvgp,\\\n+vpklsfs,vpklsgs,vpklshs,vpksfs,vpksgs,vpkshs,vslb,vsrab,vsrlb,wfcdb,wfcexbs,\\\n+wfchexbs,wfchxbs,wfcsb\")) \"nothing\")\n \n (define_insn_reservation \"z13_3\" 3\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"ledtr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"cds,cdsy,std,stdy,ste,stey,vcksm,vfeezbs,\\\n+vfeezhs,vgfmab,vgfmaf,vgfmag,vgfmah,vgfmb,vgfmf,vgfmg,vgfmh,vistrbs,vistrfs,\\\n+vl,vlbb,vlgvf,vlgvg,vlgvh,vll,vmaeb,vmaef,vmaeh,vmahb,vmahf,vmahh,vmalb,\\\n+vmaleb,vmalef,vmaleh,vmalf,vmalhb,vmalhf,vmalhh,vmalhw,vmalob,vmalof,vmaloh,\\\n+vmaob,vmaof,vmaoh,vmeb,vmef,vmeh,vmhb,vmhf,vmhh,vmlb,vmleb,vmlef,vmleh,vmlf,\\\n+vmlhb,vmlhf,vmlhh,vmlhw,vmlob,vmlof,vmloh,vmob,vmof,vmoh,vsumb,vsumgf,\\\n+vsumgh,vsumh,vsumqf,vsumqg,vtm\")) \"nothing\")\n \n (define_insn_reservation \"z13_4\" 4\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"dr,mxbr,dlr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"bas,basr,chhsi,clc,ex,lam,lcgfr,lxr,lzxr,mghi,\\\n+mh,mhi,mhy,mvc,oc,tabort,tbegin,tbeginc,tend,vst,vstl,xc\")) \"nothing\")\n+\n+(define_insn_reservation \"z13_5\" 5\n+  (and (eq_attr \"cpu\" \"z13\")\n+(eq_attr \"mnemonic\" \"alc,alcg,alcgr,alcr,cs,csg,csy,lngfr,lpgfr,ms,\\\n+msfi,msgf,msgfi,msgfr,msr,msy,rnsbg,rosbg,rxsbg,slb,slbg,slbgr,slbr,stm,\\\n+stmg,stmy\")) \"nothing\")\n \n (define_insn_reservation \"z13_6\" 6\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"debr,sqeb,deb,sqebr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"adb,adbr,aeb,aebr,fidbr,fidbra,fiebr,fiebra,\\\n+ldeb,ldebr,ledbr,madbr,mdbr,meeb,meebr,msdbr,sdb,sdbr,seb,sebr,sfpc,wcdgb,\\\n+wcdlgb,wcgdb,wclgdb,wfadb,wfasb,wfaxb,wfisb,wfixb,wflld,wfmadb,wfmasb,wfmaxb,\\\n+wfmdb,wfmsb,wfmsdb,wfmssb,wfmsxb,wfmxb,wfsdb,wfssb,wfsxb,wldeb,wledb\")) \"nothing\")\n \n (define_insn_reservation \"z13_7\" 7\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"mdtr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"adtr,cdtr,fidtr,ldetr,msg,msgr,sdtr,tdcdt,tdcet,\\\n+vcdgb,vcdlgb,vcgdb,vclgdb,vfadb,vfasb,vfidb,vfisb,vfmadb,vfmasb,vfmdb,vfmsb,\\\n+vfmsdb,vfmssb,vfsdb,vfssb,vldeb,vledb\")) \"nothing\")\n \n (define_insn_reservation \"z13_8\" 8\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"wfddb,ddb,vfddb,ddbr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"cdsg,lpq,stpq,vgef,vgeg,vsteb\")) \"nothing\")\n \n (define_insn_reservation \"z13_9\" 9\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"dsgr,wfsqdb,dsgfr,sqdb,sqdbr,vfsqdb\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"cxfbr,cxgbr,cxlgbr,stam\")) \"nothing\")\n \n-(define_insn_reservation \"z13_13\" 13\n+(define_insn_reservation \"z13_10\" 10\n+  (and (eq_attr \"cpu\" \"z13\")\n+(eq_attr \"mnemonic\" \"cdfbr,cdgbr,cdlfbr,cdlgbr,cefbr,cegbr,celfbr,\\\n+celgbr,flogr,m,madb,maeb,maebr,mfy,ml,mlr,mr,msdb,mseb,msebr\")) \"nothing\")\n+\n+(define_insn_reservation \"z13_11\" 11\n+  (and (eq_attr \"cpu\" \"z13\")\n+(eq_attr \"mnemonic\" \"lxdb,lxdbr,lxeb,lxebr,vscef,vsceg\")) \"nothing\")\n+\n+(define_insn_reservation \"z13_12\" 12\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"mxtr,ddtr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"cfdbr,cfebr,cgdbr,cgebr,clfdbr,clfebr,clgdbr,\\\n+clgebr,cxbr,cxtr,mlg,mlgr,tcxb,tdcxt\")) \"nothing\")\n \n-(define_insn_reservation \"z13_16\" 16\n+(define_insn_reservation \"z13_13\" 13\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"sqxbr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"axbr,axtr,fixbr,fixbra,fixtr,lcxbr,lnxbr,lpxbr,\\\n+ltxbr,ltxtr,lxdtr,sxbr,sxtr\")) \"nothing\")\n \n-(define_insn_reservation \"z13_17\" 17\n+(define_insn_reservation \"z13_14\" 14\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"dxtr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"cfxbr,cgxbr,clfxbr,clgxbr,ledtr\")) \"nothing\")\n \n (define_insn_reservation \"z13_20\" 20\n   (and (eq_attr \"cpu\" \"z13\")\n-       (eq_attr \"mnemonic\" \"dxbr,dlgr\")) \"nothing\")\n+(eq_attr \"mnemonic\" \"cdftr,cdgtr,cdlftr,cdlgtr,cgdtr,cgxtr,clfxtr,\\\n+clgdtr,clgxtr,cxftr,cxgtr,cxlftr,cxlgtr,d,ddb,ddbr,ddtr,deb,debr,dl,dlg,dlgr,\\\n+dlr,dr,dsg,dsgf,dsgfr,dsgr,dxbr,dxtr,efpc,mdtr,mxbr,mxtr,sqdb,sqdbr,sqeb,\\\n+sqebr,sqxbr,vfddb,vfdsb,vfsqdb,vfsqsb,wfddb,wfdsb,wfdxb,wfsqdb,wfsqxb\")) \"nothing\")\n "}, {"sha": "6ee5a6e5337f34b068ceec78e63152d2f04a053e", "filename": "gcc/config/s390/s390.c", "status": "modified", "additions": 19, "deletions": 20, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2380e042774fb2d6c3ab9d3f5fc97bad3b831684/gcc%2Fconfig%2Fs390%2Fs390.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2380e042774fb2d6c3ab9d3f5fc97bad3b831684/gcc%2Fconfig%2Fs390%2Fs390.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fs390%2Fs390.c?ref=2380e042774fb2d6c3ab9d3f5fc97bad3b831684", "patch": "@@ -344,20 +344,17 @@ extern int reload_completed;\n \n /* Kept up to date using the SCHED_VARIABLE_ISSUE hook.  */\n static rtx_insn *last_scheduled_insn;\n-#define MAX_SCHED_UNITS 3\n+#define MAX_SCHED_UNITS 4\n static int last_scheduled_unit_distance[MAX_SCHED_UNITS];\n \n #define NUM_SIDES 2\n static int current_side = 1;\n-#define LONGRUNNING_THRESHOLD 5\n+#define LONGRUNNING_THRESHOLD 20\n \n /* Estimate of number of cycles a long-running insn occupies an\n    execution unit.  */\n-static unsigned fxu_longrunning[NUM_SIDES];\n-static unsigned vfu_longrunning[NUM_SIDES];\n-\n-/* Factor to scale latencies by, determined by measurements.  */\n-#define LATENCY_FACTOR 4\n+static unsigned fxd_longrunning[NUM_SIDES];\n+static unsigned fpd_longrunning[NUM_SIDES];\n \n /* The maximum score added for an instruction whose unit hasn't been\n    in use for MAX_SCHED_MIX_DISTANCE steps.  Increase this value to\n@@ -14328,13 +14325,15 @@ s390_get_unit_mask (rtx_insn *insn, int *units)\n     {\n     case PROCESSOR_2964_Z13:\n     case PROCESSOR_3906_Z14:\n-      *units = 3;\n+      *units = 4;\n       if (get_attr_z13_unit_lsu (insn))\n \tmask |= 1 << 0;\n-      if (get_attr_z13_unit_fxu (insn))\n+      if (get_attr_z13_unit_fxa (insn))\n \tmask |= 1 << 1;\n-      if (get_attr_z13_unit_vfu (insn))\n+      if (get_attr_z13_unit_fxb (insn))\n \tmask |= 1 << 2;\n+      if (get_attr_z13_unit_vfu (insn))\n+\tmask |= 1 << 3;\n       break;\n     default:\n       gcc_unreachable ();\n@@ -14424,12 +14423,12 @@ s390_sched_score (rtx_insn *insn)\n       /* Try to delay long-running insns when side is busy.  */\n       if (latency > LONGRUNNING_THRESHOLD)\n \t{\n-\t  if (get_attr_z13_unit_fxu (insn) && fxu_longrunning[current_side]\n-\t      && fxu_longrunning[other_side] <= fxu_longrunning[current_side])\n+\t  if (get_attr_z13_unit_fxu (insn) && fxd_longrunning[current_side]\n+\t      && fxd_longrunning[other_side] <= fxd_longrunning[current_side])\n \t    score = MAX (0, score - 10);\n \n-\t  if (get_attr_z13_unit_vfu (insn) && vfu_longrunning[current_side]\n-\t      && vfu_longrunning[other_side] <= vfu_longrunning[current_side])\n+\t  if (get_attr_z13_unit_vfu (insn) && fpd_longrunning[current_side]\n+\t      && fpd_longrunning[other_side] <= fpd_longrunning[current_side])\n \t    score = MAX (0, score - 10);\n \t}\n     }\n@@ -14614,19 +14613,19 @@ s390_sched_variable_issue (FILE *file, int verbose, rtx_insn *insn, int more)\n \n       for (int i = 0; i < 2; i++)\n \t{\n-\t  if (fxu_longrunning[i] >= 1)\n-\t    fxu_longrunning[i] -= 1;\n-\t  if (vfu_longrunning[i] >= 1)\n-\t    vfu_longrunning[i] -= 1;\n+\t  if (fxd_longrunning[i] >= 1)\n+\t    fxd_longrunning[i] -= 1;\n+\t  if (fpd_longrunning[i] >= 1)\n+\t    fpd_longrunning[i] -= 1;\n \t}\n \n       unsigned latency = insn_default_latency (insn);\n       if (latency > LONGRUNNING_THRESHOLD)\n \t{\n \t  if (get_attr_z13_unit_fxu (insn))\n-\t    fxu_longrunning[current_side] = latency * LATENCY_FACTOR;\n+\t    fxd_longrunning[current_side] = latency;\n \t  else\n-\t    vfu_longrunning[current_side] = latency * LATENCY_FACTOR;\n+\t    fpd_longrunning[current_side] = latency;\n \t}\n \n       if (verbose > 5)"}]}