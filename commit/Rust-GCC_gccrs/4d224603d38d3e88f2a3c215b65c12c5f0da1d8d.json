{"sha": "4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NGQyMjQ2MDNkMzhkM2U4OGYyYTNjMjE1YjY1YzEyYzVmMGRhMWQ4ZA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2021-04-15T15:18:26Z"}, "committer": {"name": "Richard Sandiford", "email": "richard.sandiford@arm.com", "date": "2021-04-15T15:18:26Z"}, "message": "Make SVE ACLE tests work with --with-cpu\n\nThis patch follows on from a previous one and adds -mtune=generic\nto the SVE ACLE assembler tests.  These tests are pure assembly\ntests (execution tests are elsewhere) and they already require\ndg-additional-options to be used to add new options.  We therefore\ndon't need aarch64-with-arch-dg-options.\n\ngcc/testsuite/\n\t* g++.target/aarch64/sve/acle/aarch64-sve-acle-asm.exp: Add\n\t-mtune=generic to the SVE flags.\n\t* g++.target/aarch64/sve2/acle/aarch64-sve2-acle-asm.exp: Likewise.\n\t* gcc.target/aarch64/sve/acle/aarch64-sve-acle-asm.exp: Likewise.\n\t* gcc.target/aarch64/sve2/acle/aarch64-sve2-acle-asm.exp: Likewise.", "tree": {"sha": "03d5c238b2ec2f567ebf44e33e1bcfd68f04cd84", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/03d5c238b2ec2f567ebf44e33e1bcfd68f04cd84"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/comments", "author": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rsandifo-arm", "id": 28043039, "node_id": "MDQ6VXNlcjI4MDQzMDM5", "avatar_url": "https://avatars.githubusercontent.com/u/28043039?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo-arm", "html_url": "https://github.com/rsandifo-arm", "followers_url": "https://api.github.com/users/rsandifo-arm/followers", "following_url": "https://api.github.com/users/rsandifo-arm/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo-arm/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo-arm/orgs", "repos_url": "https://api.github.com/users/rsandifo-arm/repos", "events_url": "https://api.github.com/users/rsandifo-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo-arm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ff1912238e28ed204570e0d33d3c3517491caf0f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ff1912238e28ed204570e0d33d3c3517491caf0f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ff1912238e28ed204570e0d33d3c3517491caf0f"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "070a049c1495dbe43f45af5ae72ef2436605a597", "filename": "gcc/testsuite/g++.target/aarch64/sve/acle/aarch64-sve-acle-asm.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fsve%2Facle%2Faarch64-sve-acle-asm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fsve%2Facle%2Faarch64-sve-acle-asm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fsve%2Facle%2Faarch64-sve-acle-asm.exp?ref=4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "patch": "@@ -39,7 +39,7 @@ if { [check_effective_target_aarch64_sve] } {\n \n # Turn off any codegen tweaks by default that may affect expected assembly.\n # Tests relying on those should turn them on explicitly.\n-set sve_flags \"$sve_flags -moverride=tune=none\"\n+set sve_flags \"$sve_flags -mtune=generic -moverride=tune=none\"\n \n global gcc_runtest_parallelize_limit_minor\n if { [info exists gcc_runtest_parallelize_limit_minor] } {"}, {"sha": "4989818664c70cb1e6e39511ec2f7f0eabc418ad", "filename": "gcc/testsuite/g++.target/aarch64/sve2/acle/aarch64-sve2-acle-asm.exp", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fsve2%2Facle%2Faarch64-sve2-acle-asm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fsve2%2Facle%2Faarch64-sve2-acle-asm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.target%2Faarch64%2Fsve2%2Facle%2Faarch64-sve2-acle-asm.exp?ref=4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "patch": "@@ -37,6 +37,10 @@ if { [check_effective_target_aarch64_sve2] } {\n     set sve2_flags \"-march=armv8.5-a+sve2\"\n }\n \n+# Turn off any codegen tweaks by default that may affect expected assembly.\n+# Tests relying on those should turn them on explicitly.\n+set sve2_flags \"$sve2_flags -mtune=generic -moverride=tune=none\"\n+\n set gcc_subdir [string replace $subdir 0 2 gcc]\n lappend extra_flags \"-fno-ipa-icf\" \"-I$srcdir/$gcc_subdir/../../sve/acle/asm\"\n "}, {"sha": "35229910da86d0949935bd1a732e8395557df435", "filename": "gcc/testsuite/gcc.target/aarch64/sve/acle/aarch64-sve-acle-asm.exp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Faarch64-sve-acle-asm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Faarch64-sve-acle-asm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve%2Facle%2Faarch64-sve-acle-asm.exp?ref=4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "patch": "@@ -39,7 +39,7 @@ if { [check_effective_target_aarch64_sve] } {\n \n # Turn off any codegen tweaks by default that may affect expected assembly.\n # Tests relying on those should turn them on explicitly.\n-set sve_flags \"$sve_flags -moverride=tune=none\"\n+set sve_flags \"$sve_flags -mtune=generic -moverride=tune=none\"\n \n global gcc_runtest_parallelize_limit_minor\n if { [info exists gcc_runtest_parallelize_limit_minor] } {"}, {"sha": "67f817dd21f32c50595d32492ed3df13b4acbc60", "filename": "gcc/testsuite/gcc.target/aarch64/sve2/acle/aarch64-sve2-acle-asm.exp", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve2%2Facle%2Faarch64-sve2-acle-asm.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4d224603d38d3e88f2a3c215b65c12c5f0da1d8d/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve2%2Facle%2Faarch64-sve2-acle-asm.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fsve2%2Facle%2Faarch64-sve2-acle-asm.exp?ref=4d224603d38d3e88f2a3c215b65c12c5f0da1d8d", "patch": "@@ -37,6 +37,10 @@ if { [check_effective_target_aarch64_sve2] } {\n     set sve2_flags \"-march=armv8.5-a+sve2\"\n }\n \n+# Turn off any codegen tweaks by default that may affect expected assembly.\n+# Tests relying on those should turn them on explicitly.\n+set sve_flags \"$sve_flags -mtune=generic -moverride=tune=none\"\n+\n lappend extra_flags \"-fno-ipa-icf\"\n \n global gcc_runtest_parallelize_limit_minor"}]}