{"sha": "7816bea0e23b878016e30c39f132826a5275ecc1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzgxNmJlYTBlMjNiODc4MDE2ZTMwYzM5ZjEzMjgyNmE1Mjc1ZWNjMQ==", "commit": {"author": {"name": "Daniel Jacobowitz", "email": "drow@mvista.com", "date": "2003-06-04T17:50:44Z"}, "committer": {"name": "Daniel Jacobowitz", "email": "drow@gcc.gnu.org", "date": "2003-06-04T17:50:44Z"}, "message": "config.gcc: Reorganize --with-cpu logic.\n\n\t* config.gcc: Reorganize --with-cpu logic.  Set\n\tconfigure_default_options according to the default CPU, --with-cpu,\n\t--with-arch, --with-tune, --with-schedule, --with-abi, and\n\t--with-float.  Check for legal values of various options.\n\t* configure.in: Define configure_default_options in configargs.h.\n\t* configure: Regenerated.\n\t* config/mips/mips.h (TARGET_DEFAULT_ARCH_P)\n\t(TARGET_DEFAULT_FLOAT_P): New macros.\n\t* gcc.c (do_option_spec): New function.\n\t(struct default_spec, option_default_specs): New.\n\t(main): Call do_option_spec.\n\t* config/alpha/alpha.h, config/arm/arm.h, config/i386/i386.h,\n\tconfig/mips/mips.h, config/pa/pa.h, config/rs6000/rs6000.h,\n\tconfig/sparc/sparc.h (OPTION_DEFAULT_SPECS): Define.\n\n\t* doc/install.texi: Update --with-cpu documentation.  Mention\n\t--with-arch, --with-schedule, --with-tune, --with-abi, and\n\t--with-float.\n\t* doc/tm.texi (Driver): Document OPTION_DEFAULT_SPECS.\n\nFrom-SVN: r67457", "tree": {"sha": "0761aad7dc475440590406dcf0a0052331286e05", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0761aad7dc475440590406dcf0a0052331286e05"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7816bea0e23b878016e30c39f132826a5275ecc1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7816bea0e23b878016e30c39f132826a5275ecc1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7816bea0e23b878016e30c39f132826a5275ecc1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7816bea0e23b878016e30c39f132826a5275ecc1/comments", "author": null, "committer": null, "parents": [{"sha": "83079d893cac8e85e0d9a5f7531cccae64f7665f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/83079d893cac8e85e0d9a5f7531cccae64f7665f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/83079d893cac8e85e0d9a5f7531cccae64f7665f"}], "stats": {"total": 726, "additions": 521, "deletions": 205}, "files": [{"sha": "d80ce2058e558e1322bade9179bc70bb5dc1f587", "filename": "gcc/ChangeLog", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -1,3 +1,25 @@\n+2003-06-04  Daniel Jacobowitz  <drow@mvista.com>\n+\n+\t* config.gcc: Reorganize --with-cpu logic.  Set\n+\tconfigure_default_options according to the default CPU, --with-cpu,\n+\t--with-arch, --with-tune, --with-schedule, --with-abi, and\n+\t--with-float.  Check for legal values of various options.\n+\t* configure.in: Define configure_default_options in configargs.h.\n+\t* configure: Regenerated.\n+\t* config/mips/mips.h (TARGET_DEFAULT_ARCH_P)\n+\t(TARGET_DEFAULT_FLOAT_P): New macros.\n+\t* gcc.c (do_option_spec): New function.\n+\t(struct default_spec, option_default_specs): New.\n+\t(main): Call do_option_spec.\n+\t* config/alpha/alpha.h, config/arm/arm.h, config/i386/i386.h,\n+\tconfig/mips/mips.h, config/pa/pa.h, config/rs6000/rs6000.h,\n+\tconfig/sparc/sparc.h (OPTION_DEFAULT_SPECS): Define.\n+\n+\t* doc/install.texi: Update --with-cpu documentation.  Mention\n+\t--with-arch, --with-schedule, --with-tune, --with-abi, and\n+\t--with-float.\n+\t* doc/tm.texi (Driver): Document OPTION_DEFAULT_SPECS.\n+\n 2003-06-04  Daniel Jacobowitz  <drow@mvista.com>\n \n \t* config.gcc: Only process --with-cpu logic in the third pass."}, {"sha": "98a44cddf4757e974fa817c40bd07c6e7f599539", "filename": "gcc/config.gcc", "status": "modified", "additions": 210, "deletions": 91, "changes": 301, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -165,6 +165,10 @@\n #\t\t\tdetermines the underlying integral type for\n #\t\t\tHOST_WIDE_INT cannot see the definition of\n #\t\t\tMAX_LONG_TYPE_SIZE.)\n+#\n+#  configure_default_options\n+#\t\t\tSet to an initializer for configure_default_options\n+#\t\t\tin configargs.h, based on --with-cpu et cetera.\n \n # The following variables are used in each case-construct to build up the\n # outgoing variables:\n@@ -2236,41 +2240,99 @@ then\n \t\tesac\n \tfi\n \n-\t# Optionally, validate the argument to --with-cpu.\n-\t# This block sets nothing.\n-\tcase $machine in\n+\t# Validate and mark as valid any --with options supported\n+\t# by this target.  In order to use a particular --with option\n+\t# you must list it in supported_defaults; validating the value\n+\t# is optional.  This case statement should set nothing besides\n+\t# supported_defaults.\n+\n+\tsupported_defaults=\n+\tcase \"$machine\" in\n \talpha*-*-*)\n-\t\tcase \"x$with_cpu\" in\n+\t\tsupported_defaults=\"cpu tune\"\n+\t\tfor which in cpu tune; do\n+\t\t\teval \"val=\\$with_$which\"\n+\t\t\tcase \"x$val\" in\n+\t\t\tx \\\n+\t\t\t| xev4 | xev45 | x21064 | xev5 | x21164 | xev56 | x21164a \\\n+\t\t\t| xpca56 | x21164PC | x21164pc | xev6 | x21264 | xev67 \\\n+\t\t\t| x21264a)\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\techo \"Unknown CPU used in --with-$which=$val\" 1>&2\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\t\tesac\n+\t\tdone\n+\t\t;;\n+\n+\tarm*-*-*)\n+\t\tsupported_defaults=\"arch cpu float tune\"\n+\t\tfor which in cpu tune; do\n+\t\t\teval \"val=\\$with_$which\"\n+\t\t\tcase \"x$val\" in\n+\t\t\tx \\\n+\t\t\t| xarm[236789] | xarm250 | xarm[67][01]0 \\\n+\t\t\t| xarm60 | xarm620 | xarm7d | xarm7di \\\n+\t\t\t| xarm7m | xarm7dm | xarm7dmi | xarm[79]tdmi \\\n+\t\t\t| xarm70 | xarm700i | xarm710t | xarm720 \\\n+\t\t\t| xarm720t | xarm740t | xarm710c | xarm920 \\\n+\t\t\t| xarm920t | xarm940t | xarm9e | xarm10tdmi \\\n+\t\t\t| xarm7100 | xarm7500 | xarm7500fe | xarm810 \\\n+\t\t\t| xarm1020t \\\n+\t\t\t| xxscale \\\n+\t\t\t| xep9312 \\\n+\t\t\t| xstrongarm | xstrongarm110 | xstrongarm11[01]0)\n+\t\t\t\t# OK\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\techo \"Unknown CPU used in --with-$which=$val\" 1>&2\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\t\tesac\n+\t\tdone\n+\n+\t\tcase \"x$with_arch\" in\n \t\tx \\\n-\t\t| xev5 | xev56 | xpca56 | xev6 | xev67)\n+\t\t| xarmv[2345] | xarmv2a | xarmv3m | xarmv4t | xarmv5t \\\n+\t\t| xarmv5te | ep9312)\n \t\t\t# OK\n \t\t\t;;\n \t\t*)\n-\t\t\techo \"Unknown CPU used in --with-cpu=$with_cpu\" 1>&2\n+\t\t\techo \"Unknown arch used in --with-arch=$with_arch\" 1>&2\n \t\t\texit 1\n \t\t\t;;\n \t\tesac\n-\t\t;;\n \n-\tarm*-*-*)\n-\t\tcase \"x$with_cpu\" in\n+\t\tcase \"x$with_float\" in\n \t\tx \\\n-\t\t| xarm[236789] | xarm250 | xarm[67][01]0 \\\n-\t\t| xarm7m | xarm7dm | xarm7dmi | xarm[79]tdmi \\\n-\t\t| xarm7100 | xarm7500 | xarm7500fe | xarm810 \\\n-\t\t| xxscale \\\n-\t\t| xep9312 \\\n-\t\t| xstrongarm | xstrongarm110 | xstrongarm1100)\n+\t\t| xsoft | xhard)\n \t\t\t# OK\n \t\t\t;;\n \t\t*)\n-\t\t\techo \"Unknown cpu used in --with-cpu=$with_cpu\" 1>&2\n+\t\t\techo \"Unknown floating point type used in --with-float=$with_float\" 1>&2\n \t\t\texit 1\n \t\t\t;;\n \t\tesac\n+\n+\t\tif test \"x$with_arch\" != x && test \"x$with_cpu\" != x; then\n+\t\t\techo \"Warning: --with-arch overrides --with-cpu\" 1>&2\n+\t\tfi\n \t\t;;\n \n \thppa*-*-* | parisc*-*-*)\n+\t\tsupported_defaults=\"arch schedule\"\n+\n+\t\tcase \"x$with_arch\" in\n+\t\tx | x1.0 | x1.1 | x2.0)\n+\t\t\t# OK\n+\t\t\t;;\n+\t\t*)\n+\t\t\techo \"Unknown architecture used in --with-arch=$with_arch\" 1>&2\n+\t\t\texit 1\n+\t\t\t;;\n+\t\tesac\n+\n \t\tcase \"x$with_schedule\" in\n \t\tx | x700 | x7100 | x7100LC | x7200 | x7300 | x8000)\n \t\t\t# OK\n@@ -2283,61 +2345,112 @@ then\n \t\t;;\n \n \ti[34567]86-*-* | x86_64-*-*)\n-\t\tcase x$with_cpu in\n+\t\tsupported_defaults=\"arch cpu tune\"\n+\t\tfor which in arch cpu tune; do\n+\t\t\teval \"val=\\$with_$which\"\n+\t\t\tcase \"x$val\" in\n+\t\t\tx \\\n+\t\t\t| xi386 | xi486 \\\n+\t\t\t| xi586 | xpentium | xpentium-mmx | xwinchip-c6 | xwinchip2 \\\n+\t\t\t| xc3 | xc3-2 | xi686 | xpentiumpro | xpentium2 | xpentium3 \\\n+\t\t\t| xpentium4 | xk6 | xk6-2 | xk6-3 | xathlon | xathlon-tbird \\\n+\t\t\t| xathlon-4 | xathlon-xp | xathlon-mp | xk8)\n+\t\t\t\t# OK\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\techo \"Unknown CPU given in --with-$which=$val.\" 1>&2\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\t\tesac\n+\t\tdone\n+\t\t;;\n+\n+\tmips*-*-*)\n+\t\tsupported_defaults=\"abi arch float tune\"\n+\n+\t\tcase \"x$with_float\" in\n \t\tx \\\n-\t\t| xi486 \\\n-\t\t| xi586 | xk6 | xk6-2 | xk6-3 | xpentium-mmx | xpentium \\\n-\t\t| xpentiumpro | xpentium2 | xpentium3 | xpentium4 \\\n-\t\t| xathlon | xathlon-4 | xk8)\n+\t\t| xsoft | xhard)\n \t\t\t# OK\n \t\t\t;;\n \t\t*)\n-\t\t\techo \"Unknown CPU given in --with-cpu=$with_cpu.\" 1>&2\n+\t\t\techo \"Unknown floating point type used in --with-float=$with_float\" 1>&2\n \t\t\texit 1\n \t\t\t;;\n \t\tesac\n-\t\t;;\n \n-\tpowerpc*-*-* | rs6000-*-*)\n-\t\tcase \"x$with_cpu\" in\n+\t\tcase \"x$with_abi\" in\n \t\tx \\\n-\t\t| xdefault32 | xdefault64 \\\n-\t\t| xcommon \\\n-\t\t| xpower | xpower2 | xpower3 | xpower4 \\\n-\t\t| xpowerpc | xpowerpc64 \\\n-\t\t| xrios | xrios1 | xrios2 | xrsc | xrsc1 | xrs64a \\\n-\t\t| x401 | x403 | x405 | x405fp | x440 | x440fp | x505 \\\n-\t\t| x601 | x602 | x603 | x603e | xec603e | x604 \\\n-\t\t| x604e | x620 | x630 | x740 | x750 | x7400 | x7450 \\\n-\t\t| x8540 | x801 | x821 | x823 | x860)\n+\t\t| x32 | xo64 | xn32 | x64 | xeabi)\n \t\t\t# OK\n \t\t\t;;\n \t\t*)\n-\t\t\techo \"Unknown cpu used in --with-cpu=$with_cpu.\" 1>&2\n+\t\t\techo \"Unknown ABI used in --with-abi=$with_abi\" 1>&2\n \t\t\texit 1\n \t\t\t;;\n \t\tesac\n \t\t;;\n \n+\tpowerpc*-*-* | rs6000-*-*)\n+\t\tsupported_defaults=\"cpu float tune\"\n+\n+\t\tfor which in cpu tune; do\n+\t\t\teval \"val=\\$with_$which\"\n+\t\t\tcase \"x$val\" in\n+\t\t\tx \\\n+\t\t\t| xdefault32 | xdefault64 \\\n+\t\t\t| xcommon \\\n+\t\t\t| xpower | xpower2 | xpower3 | xpower4 \\\n+\t\t\t| xpowerpc | xpowerpc64 \\\n+\t\t\t| xrios | xrios1 | xrios2 | xrsc | xrsc1 | xrs64a \\\n+\t\t\t| x401 | x403 | x405 | x405fp | x440 | x440fp | x505 \\\n+\t\t\t| x601 | x602 | x603 | x603e | xec603e | x604 \\\n+\t\t\t| x604e | x620 | x630 | x740 | x750 | x7400 | x7450 \\\n+\t\t\t| x8540 | x801 | x821 | x823 | x860)\n+\t\t\t\t# OK\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\techo \"Unknown cpu used in --with-$which=$val.\" 1>&2\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\t\tesac\n+\t\tdone\n+\t\t;;\n+\n \tsparc*-*-*)\n-\t\tcase x$with_cpu in\n-\t\tx)\n-\t\t\techo \"Should never happen - no default CPU for sparc target.\"\n-\t\t\texit 1\n-\t\t\t;;\n+\t\tsupported_defaults=\"cpu float tune\"\n+\n+\t\tfor which in cpu tune; do\n+\t\t\teval \"val=\\$with_$which\"\n+\t\t\tcase x$val in\n+\t\t\tx \\\n+\t\t\t| xsparc | xsparcv9 | xsparc86x \\\n+\t\t\t| xv7 | xcypress | xv8 | xsupersparc | xsparclite | xf930 \\\n+\t\t\t| xf934 | xhypersparc | xsparclite86x | xsparclet | tsc701 \\\n+\t\t\t| xv9 | xultrasparc | xultrasparc3)\n+\t\t\t\t# OK\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\techo \"Unknown cpu used in --with-$which=$val\" 1>&2\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\t\tesac\n+\t\tdone\n \n-\t\txsparc | xsparc86x | xsparcv9 | xsparc64 \\\n-\t\t| xsupersparc | xhypersparc | xultrasparc | xv7 | xv8 | xv9)\n+\t\tcase \"x$with_float\" in\n+\t\tx \\\n+\t\t| xsoft | xhard)\n \t\t\t# OK\n \t\t\t;;\n \t\t*)\n-\t\t\techo \"Unknown cpu used in --with-$which=$val\" 1>&2\n+\t\t\techo \"Unknown floating point type used in --with-float=$with_float\" 1>&2\n \t\t\texit 1\n \t\t\t;;\n \t\tesac\n \t\t;;\n \n \tv850*-*-*)\n+\t\tsupported_defaults=cpu\n \t\tcase \"x$with_cpu\" in\n \t\tx | xv850e)\n \t\t\t# OK\n@@ -2350,38 +2463,13 @@ then\n \t\t;;\n \tesac\n \n-\t# Now, for targets which support this, convert --with-cpu to\n-\t# a setting of target_cpu_default2.  This block also sets assorted\n-\t# other configuration variables.\n+\t# Set some miscellaneous flags for particular targets.\n \ttarget_cpu_default2=\n \tcase $machine in\n \talpha*-*-*)\n-\t\tcase $with_cpu in\n-\t\t\tev67)\n-\t\t\t\ttarget_cpu_default2=\"MASK_CPU_EV6|MASK_BWX|MASK_MAX|MASK_FIX|MASK_CIX\"\n-\t\t\t\t;;\n-\t\t\tev6)\n-\t\t\t\ttarget_cpu_default2=\"MASK_CPU_EV6|MASK_BWX|MASK_MAX|MASK_FIX\"\n-\t\t\t\t;;\n-\t\t\tpca56)\n-\t\t\t\ttarget_cpu_default2=\"MASK_CPU_EV5|MASK_BWX|MASK_MAX\"\n-\t\t\t\t;;\n-\t\t\tev56)\n-\t\t\t\ttarget_cpu_default2=\"MASK_CPU_EV5|MASK_BWX\"\n-\t\t\t\t;;\n-\t\t\tev5)\n-\t\t\t\ttarget_cpu_default2=\"MASK_CPU_EV5\"\n-\t\t\t\t;;\n-\t\tesac\n-\n \t\tif test x$gas = xyes\n \t\tthen\n-\t\t\tif test \"$target_cpu_default2\" = \"\"\n-\t\t\tthen\n-\t\t\t\ttarget_cpu_default2=\"MASK_GAS\"\n-\t\t\telse\n-\t\t\t\ttarget_cpu_default2=\"${target_cpu_default2}|MASK_GAS\"\n-\t\t\tfi\n+\t\t\ttarget_cpu_default2=\"MASK_GAS\"\n \t\tfi\n \t\t;;\n \n@@ -2403,22 +2491,6 @@ then\n \t\tthen\n \t\t\ttarget_cpu_default2=\"MASK_GAS|MASK_JUMP_IN_DELAY\"\n \t\tfi\n-\t\tif test \"x$with_schedule\" != x\n-\t\tthen\n-\t\t\ttm_defines=\"TARGET_SCHED_DEFAULT=\\\\\\\"$with_schedule\\\\\\\"\"\n-\t\t\t;;\n-\t\tfi\n-\t\t;;\n-\n-\ti[34567]86-*-* | x86_64-*-*)\n-\t\tcase x$with_cpu in\n-\t\txathlon-4)\n-\t\t\ttarget_cpu_default2=TARGET_CPU_DEFAULT_athlon_sse\n-\t\t\t;;\n-\t\t*)\n-\t\t\ttarget_cpu_default2=TARGET_CPU_DEFAULT_\"`echo $with_cpu | sed s/-/_/`\"\n-\t\t\t;;\n-\t\tesac\n \t\t;;\n \n \tmips*-*-*)\n@@ -2462,10 +2534,12 @@ then\n \t\t;;\n \n \tpowerpc*-*-* | rs6000-*-*)\n-\t        if test x$enable_altivec = xyes\n-\t        then\n-\t                tm_file=\"$tm_file rs6000/altivec-defs.h\"\n-\t        fi\n+\t\tif test x$enable_altivec = xyes\n+\t\tthen\n+\t\t\ttm_file=\"$tm_file rs6000/altivec-defs.h\"\n+\t\tfi\n+\t\t# FIXME: The PowerPC port uses the value set at compile time,\n+\t\t# although it's only cosmetic.\n \t\tif test \"x$with_cpu\" != x\n \t\tthen\n \t\t\ttarget_cpu_default2=\"\\\\\\\"$with_cpu\\\\\\\"\"\n@@ -2477,10 +2551,25 @@ then\n \t\t;;\n \n \tsparc*-*-*)\n+\t\t# Some standard aliases.\n+\t\tcase x$with_cpu in\n+\t\txsparc)\n+\t\t\twith_cpu=v7\n+\t\t\t;;\n+\t\txsparc86x)\n+\t\t\twith_cpu=sparclite86x\n+\t\t\t;;\n+\t\txsparcv9 | xsparc64)\n+\t\t\twith_cpu=v9\n+\t\t\t;;\n+\t\tesac\n+\n+\t\t# The Sparc port checks this value at compile-time.\n \t\ttarget_cpu_default2=\"TARGET_CPU_$with_cpu\"\n \t\t;;\n-\n \tv850*-*-*)\n+\t\t# FIXME: The v850 is \"special\" in that it does not support\n+\t\t# runtime CPU selection, only --with-cpu.\n \t\tcase \"x$with_cpu\" in\n \t\tx)\n \t\t\t;;\n@@ -2491,6 +2580,36 @@ then\n \t\t;;\n \tesac\n \n+\tt=\n+\tall_defaults=\"abi cpu arch tune schedule float\"\n+\tfor option in $all_defaults\n+\tdo\n+\t\teval \"val=\\$with_$option\"\n+\t\tif test -n \"$val\"; then\n+\t\t\tcase \" $supported_defaults \" in\n+\t\t\t*\" $option \"*)\n+\t\t\t\t;;\n+\t\t\t*)\n+\t\t\t\techo \"This target does not support --with-$option.\" 2>&1\n+\t\t\t\texit 1\n+\t\t\t\t;;\n+\t\t\tesac\n+\n+\t\t\tif test \"x$t\" = x\n+\t\t\tthen\n+\t\t\t\tt=\"{ \\\"$option\\\", \\\"$val\\\" }\"\n+\t\t\telse\n+\t\t\t\tt=\"${t}, { \\\"$option\\\", \\\"$val\\\" }\"\n+\t\t\tfi\n+\t\tfi\n+\tdone\n+\tif test \"x$t\" = x\n+\tthen\n+\t\tconfigure_default_options=\"{ { NULL, NULL} }\"\n+\telse\n+\t\tconfigure_default_options=\"{ ${t} }\"\n+\tfi\n+\n \tif test \"$target_cpu_default2\" != \"\"\n \tthen\n \t\tif test \"$target_cpu_default\" != \"\""}, {"sha": "f9fa2f0223c76a4c1913beed4cbd0f3d75087b4b", "filename": "gcc/config/alpha/alpha.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Falpha%2Falpha.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Falpha%2Falpha.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Falpha%2Falpha.h?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -365,6 +365,13 @@ extern const char *alpha_tls_size_string; /* For -mtls-size= */\n    N_(\"Specify bit size of immediate TLS offsets\"), 0},\t\\\n }\n \n+/* Support for a compile-time default CPU, et cetera.  The rules are:\n+   --with-cpu is ignored if -mcpu is specified.\n+   --with-tune is ignored if -mtune is specified.  */\n+#define OPTION_DEFAULT_SPECS \\\n+  {\"cpu\", \"%{!mcpu=*:-mcpu=%(VALUE)}\" }, \\\n+  {\"tune\", \"%{!mtune=*:-mtune=%(VALUE)}\" }\n+\n /* This macro defines names of additional specifications to put in the\n    specs that can be used in various specifications like CC1_SPEC.  Its\n    definition is an initializer with a subgrouping for each command option."}, {"sha": "a6f0b90c55956ce671958bbec81286bcc5d47236", "filename": "gcc/config/arm/arm.h", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Farm%2Farm.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Farm%2Farm.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.h?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -525,6 +525,20 @@ Unrecognized value in TARGET_CPU_DEFAULT.\n    N_(\"Specify the register to be used for PIC addressing\"), 0}\t\\\n }\n \n+/* Support for a compile-time default CPU, et cetera.  The rules are:\n+   --with-arch is ignored if -march or -mcpu are specified.\n+   --with-cpu is ignored if -march or -mcpu are specified, and is overridden\n+    by --with-arch.\n+   --with-tune is ignored if -mtune or -mcpu are specified (but not affected\n+     by -march).\n+   --with-float is ignored if -mhard-float or -msoft-float are\n+    specified.  */\n+#define OPTION_DEFAULT_SPECS \\\n+  {\"arch\", \"%{!march=*:%{!mcpu=*:-march=%(VALUE)}}\" }, \\\n+  {\"cpu\", \"%{!march=*:%{!mcpu=*:-mcpu=%(VALUE)}}\" }, \\\n+  {\"tune\", \"%{!mcpu=*:%{!mtune=*:-mtune=%(VALUE)}}\" }, \\\n+  {\"float\", \"%{!msoft-float:%{!mhard-float:-m%(VALUE)-float}}\" }\n+\n struct arm_cpu_select\n {\n   const char *              string;"}, {"sha": "fe47b03db7563fbc25dcd0d91bed02faf4cbc24f", "filename": "gcc/config/i386/i386.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fi386%2Fi386.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fi386%2Fi386.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.h?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -483,6 +483,12 @@ extern int x86_prefetch_sse;\n #define OPTIMIZATION_OPTIONS(LEVEL, SIZE) \\\n   optimization_options ((LEVEL), (SIZE))\n \n+/* Support for configure-time defaults of some command line options.  */\n+#define OPTION_DEFAULT_SPECS \\\n+  {\"arch\", \"%{!march=*:-march=%(VALUE)}\"}, \\\n+  {\"tune\", \"%{!mtune=*:%{!mcpu=*:-mtune=%(VALUE)}}\" }, \\\n+  {\"cpu\", \"%{!mtune=*:%{!mcpu=*:-mtune=%(VALUE)}}\" }\n+\n /* Specs for the compiler proper */\n \n #ifndef CC1_CPU_SPEC"}, {"sha": "6f550058981ff808572b534de98170f620f29380", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -785,6 +785,20 @@ extern void\t\tsbss_section PARAMS ((void));\n /* This is meant to be redefined in the host dependent files.  */\n #define SUBTARGET_TARGET_OPTIONS\n \n+/* Support for a compile-time default CPU, et cetera.  The rules are:\n+   --with-arch is ignored if -march is specified or a -mips is specified\n+     (other than -mips16).\n+   --with-tune is ignored if -mtune is specified.\n+   --with-abi is ignored if -mabi is specified.\n+   --with-float is ignored if -mhard-float or -msoft-float are\n+     specified.  */\n+#define OPTION_DEFAULT_SPECS \\\n+  {\"arch\", \"%{!march=*:%{mips16:-march=%(VALUE)}%{!mips*:-march=%(VALUE)}}\" }, \\\n+  {\"tune\", \"%{!mtune=*:-mtune=%(VALUE)}\" }, \\\n+  {\"abi\", \"%{!mabi=*:-mabi=%(VALUE)}\" }, \\\n+  {\"float\", \"%{!msoft-float:%{!mhard-float:-m%(VALUE)-float}}\" }\n+\n+\n #define GENERATE_BRANCHLIKELY   (TARGET_BRANCHLIKELY                    \\\n \t\t\t\t && !TARGET_SR71K                       \\\n \t\t\t\t && !TARGET_MIPS16)"}, {"sha": "3936d8c31a0ea9d3f97257822d467c12c2d74bb2", "filename": "gcc/config/pa/pa.h", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fpa%2Fpa.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fpa%2Fpa.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fpa%2Fpa.h?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -312,6 +312,13 @@ extern int target_flags;\n     N_(\"Specify architecture for code generation.  Values are 1.0, 1.1, and 2.0.  2.0 requires gas snapshot 19990413 or later.\"), 0}\\\n }\n \n+/* Support for a compile-time default CPU, et cetera.  The rules are:\n+   --with-schedule is ignored if -mschedule is specified.\n+   --with-arch is ignored if -march is specified.  */\n+#define OPTION_DEFAULT_SPECS \\\n+  {\"arch\", \"%{!march=*:-march=%(VALUE)}\" }, \\\n+  {\"schedule\", \"%{!mschedule=*:-mschedule=%(VALUE)}\" }\n+\n /* Specify the dialect of assembler to use.  New mnemonics is dialect one\n    and the old mnemonics are dialect zero.  */\n #define ASSEMBLER_DIALECT (TARGET_PA_20 ? 1 : 0)"}, {"sha": "ffc8c9383a6fe4e9b075f608928010100a041ed4", "filename": "gcc/config/rs6000/rs6000.h", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Frs6000%2Frs6000.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Frs6000%2Frs6000.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.h?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -407,6 +407,16 @@ extern enum processor_type rs6000_cpu;\n    SUBTARGET_OPTIONS\t\t\t\t\t\t\t\\\n }\n \n+/* Support for a compile-time default CPU, et cetera.  The rules are:\n+   --with-cpu is ignored if -mcpu is specified.\n+   --with-tune is ignored if -mtune is specified.\n+   --with-float is ignored if -mhard-float or -msoft-float are\n+    specified.  */\n+#define OPTION_DEFAULT_SPECS \\\n+  {\"cpu\", \"%{!mcpu=*:-mcpu=%(VALUE)}\" }, \\\n+  {\"tune\", \"%{!mtune=*:-mtune=%(VALUE)}\" }, \\\n+  {\"float\", \"%{!msoft-float:%{!mhard-float:-m%(VALUE)-float}}\" }\n+\n /* rs6000_select[0] is reserved for the default cpu defined via --with-cpu */\n struct rs6000_cpu_select\n {"}, {"sha": "7c19b2a0f0a7f00eee9926afcd1c04e6dee96815", "filename": "gcc/config/sparc/sparc.h", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fsparc%2Fsparc.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfig%2Fsparc%2Fsparc.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.h?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -656,6 +656,16 @@ extern enum processor_type sparc_cpu;\n /* This is meant to be redefined in target specific files.  */\n #define SUBTARGET_OPTIONS\n \n+/* Support for a compile-time default CPU, et cetera.  The rules are:\n+   --with-cpu is ignored if -mcpu is specified.\n+   --with-tune is ignored if -mtune is specified.\n+   --with-float is ignored if -mhard-float, -msoft-float, -mfpu, or -mno-fpu\n+     are specified.  */\n+#define OPTION_DEFAULT_SPECS \\\n+  {\"cpu\", \"%{!mcpu=*:-mcpu=%(VALUE)}\" }, \\\n+  {\"tune\", \"%{!mtune=*:-mtune=%(VALUE)}\" }, \\\n+  {\"float\", \"%{!msoft-float:%{!mhard-float:%{!fpu:%{!no-fpu:-m%(VALUE)-float}}}}\" }\n+\n /* sparc_select[0] is reserved for the default cpu.  */\n struct sparc_cpu_select\n {"}, {"sha": "6260291eb7c3179eb77434c0f5e6d5729a6f6ffe", "filename": "gcc/configure", "status": "modified", "additions": 112, "deletions": 108, "changes": 220, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -5750,6 +5750,10 @@ cat > configargs.h <<EOF\n /* Generated automatically. */\n static const char configuration_arguments[] = \"$gcc_config_arguments\";\n static const char thread_model[] = \"$thread_file\";\n+\n+static const struct {\n+  const char *name, *value;\n+} configure_default_options[] = $configure_default_options;\n EOF\n \n # Internationalization\n@@ -5779,14 +5783,14 @@ fi\n \n             \n echo $ac_n \"checking for library containing strerror\"\"... $ac_c\" 1>&6\n-echo \"configure:5783: checking for library containing strerror\" >&5\n+echo \"configure:5787: checking for library containing strerror\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_strerror'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_strerror=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 5790 \"configure\"\n+#line 5794 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5797,7 +5801,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5801: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5805: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"none required\"\n else\n@@ -5808,7 +5812,7 @@ rm -f conftest*\n test \"$ac_cv_search_strerror\" = \"no\" && for i in cposix; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5812 \"configure\"\n+#line 5816 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5819,7 +5823,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:5823: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5827: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_strerror=\"-l$i\"\n break\n@@ -5842,12 +5846,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:5846: checking for working const\" >&5\n+echo \"configure:5850: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5851 \"configure\"\n+#line 5855 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -5896,7 +5900,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5900: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:5904: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -5917,12 +5921,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5921: checking for off_t\" >&5\n+echo \"configure:5925: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5926 \"configure\"\n+#line 5930 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5950,12 +5954,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:5954: checking for size_t\" >&5\n+echo \"configure:5958: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5959 \"configure\"\n+#line 5963 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -5985,19 +5989,19 @@ fi\n # The Ultrix 4.2 mips builtin alloca declared by alloca.h only works\n # for constant arguments.  Useless!\n echo $ac_n \"checking for working alloca.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5989: checking for working alloca.h\" >&5\n+echo \"configure:5993: checking for working alloca.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_alloca_h'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5994 \"configure\"\n+#line 5998 \"configure\"\n #include \"confdefs.h\"\n #include <alloca.h>\n int main() {\n char *p = alloca(2 * sizeof(int));\n ; return 0; }\n EOF\n-if { (eval echo configure:6001: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6005: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_header_alloca_h=yes\n else\n@@ -6018,12 +6022,12 @@ EOF\n fi\n \n echo $ac_n \"checking for alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6022: checking for alloca\" >&5\n+echo \"configure:6026: checking for alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_alloca_works'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6027 \"configure\"\n+#line 6031 \"configure\"\n #include \"confdefs.h\"\n \n #ifdef __GNUC__\n@@ -6051,7 +6055,7 @@ int main() {\n char *p = (char *) alloca(1);\n ; return 0; }\n EOF\n-if { (eval echo configure:6055: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6059: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_func_alloca_works=yes\n else\n@@ -6083,12 +6087,12 @@ EOF\n \n \n echo $ac_n \"checking whether alloca needs Cray hooks\"\"... $ac_c\" 1>&6\n-echo \"configure:6087: checking whether alloca needs Cray hooks\" >&5\n+echo \"configure:6091: checking whether alloca needs Cray hooks\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_os_cray'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6092 \"configure\"\n+#line 6096 \"configure\"\n #include \"confdefs.h\"\n #if defined(CRAY) && ! defined(CRAY2)\n webecray\n@@ -6113,12 +6117,12 @@ echo \"$ac_t\"\"$ac_cv_os_cray\" 1>&6\n if test $ac_cv_os_cray = yes; then\n for ac_func in _getb67 GETB67 getb67; do\n   echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6117: checking for $ac_func\" >&5\n+echo \"configure:6121: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6122 \"configure\"\n+#line 6126 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6141,7 +6145,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6145: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6149: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6168,15 +6172,15 @@ done\n fi\n \n echo $ac_n \"checking stack direction for C alloca\"\"... $ac_c\" 1>&6\n-echo \"configure:6172: checking stack direction for C alloca\" >&5\n+echo \"configure:6176: checking stack direction for C alloca\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_stack_direction'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_c_stack_direction=0\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6180 \"configure\"\n+#line 6184 \"configure\"\n #include \"confdefs.h\"\n find_stack_direction ()\n {\n@@ -6195,7 +6199,7 @@ main ()\n   exit (find_stack_direction() < 0);\n }\n EOF\n-if { (eval echo configure:6199: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:6203: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_c_stack_direction=1\n else\n@@ -6218,12 +6222,12 @@ fi\n \n \n     echo $ac_n \"checking whether we are using the GNU C Library 2.1 or newer\"\"... $ac_c\" 1>&6\n-echo \"configure:6222: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n+echo \"configure:6226: checking whether we are using the GNU C Library 2.1 or newer\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_gnu_library_2_1'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6227 \"configure\"\n+#line 6231 \"configure\"\n #include \"confdefs.h\"\n \n #include <features.h>\n@@ -6259,17 +6263,17 @@ stdlib.h string.h unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:6263: checking for $ac_hdr\" >&5\n+echo \"configure:6267: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6268 \"configure\"\n+#line 6272 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6273: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6277: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6300,12 +6304,12 @@ getgid getuid mempcpy munmap putenv setenv setlocale stpcpy strchr strcasecmp \\\n strdup strtoul tsearch __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6304: checking for $ac_func\" >&5\n+echo \"configure:6308: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6309 \"configure\"\n+#line 6313 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6328,7 +6332,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6332: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6336: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6369,15 +6373,15 @@ fi\n \n \n   echo $ac_n \"checking for iconv\"\"... $ac_c\" 1>&6\n-echo \"configure:6373: checking for iconv\" >&5\n+echo \"configure:6377: checking for iconv\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_func_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n     am_cv_func_iconv=\"no, consider installing GNU libiconv\"\n     am_cv_lib_iconv=no\n     cat > conftest.$ac_ext <<EOF\n-#line 6381 \"configure\"\n+#line 6385 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6387,7 +6391,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n        iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6391: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6395: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_func_iconv=yes\n else\n@@ -6399,7 +6403,7 @@ rm -f conftest*\n       am_save_LIBS=\"$LIBS\"\n       LIBS=\"$LIBS $am_cv_libiconv_ldpath -liconv\"\n       cat > conftest.$ac_ext <<EOF\n-#line 6403 \"configure\"\n+#line 6407 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n #include <iconv.h>\n@@ -6409,7 +6413,7 @@ iconv_t cd = iconv_open(\"\",\"\");\n          iconv_close(cd);\n ; return 0; }\n EOF\n-if { (eval echo configure:6413: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6417: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_lib_iconv=yes\n         am_cv_func_iconv=yes\n@@ -6430,13 +6434,13 @@ echo \"$ac_t\"\"$am_cv_func_iconv\" 1>&6\n EOF\n \n     echo $ac_n \"checking for iconv declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:6434: checking for iconv declaration\" >&5\n+echo \"configure:6438: checking for iconv declaration\" >&5\n     if eval \"test \\\"`echo '$''{'am_cv_proto_iconv'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   \n       cat > conftest.$ac_ext <<EOF\n-#line 6440 \"configure\"\n+#line 6444 \"configure\"\n #include \"confdefs.h\"\n \n #include <stdlib.h>\n@@ -6455,7 +6459,7 @@ int main() {\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6459: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:6463: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   am_cv_proto_iconv_arg1=\"\"\n else\n@@ -6484,19 +6488,19 @@ EOF\n \n    \n   echo $ac_n \"checking for nl_langinfo and CODESET\"\"... $ac_c\" 1>&6\n-echo \"configure:6488: checking for nl_langinfo and CODESET\" >&5\n+echo \"configure:6492: checking for nl_langinfo and CODESET\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_langinfo_codeset'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6493 \"configure\"\n+#line 6497 \"configure\"\n #include \"confdefs.h\"\n #include <langinfo.h>\n int main() {\n char* cs = nl_langinfo(CODESET);\n ; return 0; }\n EOF\n-if { (eval echo configure:6500: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6504: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_langinfo_codeset=yes\n else\n@@ -6519,19 +6523,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:6523: checking for LC_MESSAGES\" >&5\n+echo \"configure:6527: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6528 \"configure\"\n+#line 6532 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:6535: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6539: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -6552,7 +6556,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6556: checking whether NLS is requested\" >&5\n+echo \"configure:6560: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -6575,7 +6579,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6579: checking whether included gettext is requested\" >&5\n+echo \"configure:6583: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -6595,17 +6599,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:6599: checking for libintl.h\" >&5\n+echo \"configure:6603: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6604 \"configure\"\n+#line 6608 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:6609: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6613: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6626,12 +6630,12 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n EOF\n \n            echo $ac_n \"checking for GNU gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:6630: checking for GNU gettext in libc\" >&5\n+echo \"configure:6634: checking for GNU gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6635 \"configure\"\n+#line 6639 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6640,7 +6644,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6644: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6648: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libc=yes\n else\n@@ -6656,14 +6660,14 @@ echo \"$ac_t\"\"$gt_cv_func_gnugettext1_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gnugettext1_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for GNU gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:6660: checking for GNU gettext in libintl\" >&5\n+echo \"configure:6664: checking for GNU gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gnugettext1_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   gt_save_LIBS=\"$LIBS\"\n \t\tLIBS=\"$LIBS -lintl $LIBICONV\"\n \t\tcat > conftest.$ac_ext <<EOF\n-#line 6667 \"configure\"\n+#line 6671 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n extern int _nl_msg_cat_cntr;\n@@ -6672,7 +6676,7 @@ bindtextdomain (\"\", \"\");\n return (int) gettext (\"\") + _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:6676: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6680: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gnugettext1_libintl=yes\n else\n@@ -6705,12 +6709,12 @@ EOF\n \t     for ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:6709: checking for $ac_func\" >&5\n+echo \"configure:6713: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 6714 \"configure\"\n+#line 6718 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -6733,7 +6737,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:6737: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:6741: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -6762,7 +6766,7 @@ done\n \t     \t     # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6766: checking for $ac_word\" >&5\n+echo \"configure:6770: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6796,7 +6800,7 @@ fi\n \t     # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6800: checking for $ac_word\" >&5\n+echo \"configure:6804: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6833,7 +6837,7 @@ fi\n \t     \t     # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6837: checking for $ac_word\" >&5\n+echo \"configure:6841: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6883,7 +6887,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6887: checking for $ac_word\" >&5\n+echo \"configure:6891: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6917,7 +6921,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6921: checking for $ac_word\" >&5\n+echo \"configure:6925: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6953,7 +6957,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:6957: checking for $ac_word\" >&5\n+echo \"configure:6961: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7025,7 +7029,7 @@ do\n # Extract the first word of \"$ac_prog\", so it can be a program name with args.\n set dummy $ac_prog; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:7029: checking for $ac_word\" >&5\n+echo \"configure:7033: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_prog_INTLBISON'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -7058,7 +7062,7 @@ done\n       ac_verc_fail=yes\n     else\n             echo $ac_n \"checking version of bison\"\"... $ac_c\" 1>&6\n-echo \"configure:7062: checking version of bison\" >&5\n+echo \"configure:7066: checking version of bison\" >&5\n       ac_prog_version=`$INTLBISON --version 2>&1 | sed -n 's/^.*GNU Bison.* \\([0-9]*\\.[0-9.]*\\).*$/\\1/p'`\n       case $ac_prog_version in\n         '') ac_prog_version=\"v. ?.??, bad\"; ac_verc_fail=yes;;\n@@ -7103,7 +7107,7 @@ EOF\n \n          if test \"x$CATOBJEXT\" != x; then\n      echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:7107: checking for catalogs to be installed\" >&5\n+echo \"configure:7111: checking for catalogs to be installed\" >&5\n      # Look for .po and .gmo files in the source directory.\n      CATALOGS=\n      XLINGUAS=\n@@ -7161,7 +7165,7 @@ fi\n case $host_os in\n \twin32 | pe | cygwin* | mingw32* | uwin*)\n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:7165: checking whether windows registry support is requested\" >&5\n+echo \"configure:7169: checking whether windows registry support is requested\" >&5\n if test \"x$enable_win32_registry\" != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -7170,14 +7174,14 @@ EOF\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n echo $ac_n \"checking for library containing RegOpenKeyExA\"\"... $ac_c\" 1>&6\n-echo \"configure:7174: checking for library containing RegOpenKeyExA\" >&5\n+echo \"configure:7178: checking for library containing RegOpenKeyExA\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_search_RegOpenKeyExA'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_func_search_save_LIBS=\"$LIBS\"\n ac_cv_search_RegOpenKeyExA=\"no\"\n cat > conftest.$ac_ext <<EOF\n-#line 7181 \"configure\"\n+#line 7185 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7188,7 +7192,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7192: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7196: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"none required\"\n else\n@@ -7199,7 +7203,7 @@ rm -f conftest*\n test \"$ac_cv_search_RegOpenKeyExA\" = \"no\" && for i in advapi32; do\n LIBS=\"-l$i  $ac_func_search_save_LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 7203 \"configure\"\n+#line 7207 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -7210,7 +7214,7 @@ int main() {\n RegOpenKeyExA()\n ; return 0; }\n EOF\n-if { (eval echo configure:7214: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:7218: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_search_RegOpenKeyExA=\"-l$i\"\n break\n@@ -7252,7 +7256,7 @@ esac\n \n if test \"x$enable_win32_registry\" != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:7256: checking registry key on windows hosts\" >&5\n+echo \"configure:7260: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -7463,7 +7467,7 @@ esac\n # build->target assembler and hope that it will have the same features\n # as the host->target assembler we'll be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7467: checking what assembler to use\" >&5\n+echo \"configure:7471: checking what assembler to use\" >&5\n in_tree_gas=no\n gcc_cv_as=\n gcc_cv_gas_major_version=\n@@ -7574,7 +7578,7 @@ esac\n # build->target linker and hope that it will have the same features\n # as the host->target linker we'll be using.\n echo $ac_n \"checking what linker to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7578: checking what linker to use\" >&5\n+echo \"configure:7582: checking what linker to use\" >&5\n in_tree_ld=no\n gcc_cv_ld=\n gcc_cv_gld_major_version=\n@@ -7677,7 +7681,7 @@ esac\n # Figure out what nm we will be using.\n gcc_cv_binutils_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/binutils\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7681: checking what nm to use\" >&5\n+echo \"configure:7685: checking what nm to use\" >&5\n in_tree_nm=no\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n@@ -7700,7 +7704,7 @@ esac\n \n # Figure out what objdump we will be using.\n echo $ac_n \"checking what objdump to use\"\"... $ac_c\" 1>&6\n-echo \"configure:7704: checking what objdump to use\" >&5\n+echo \"configure:7708: checking what objdump to use\" >&5\n in_tree_objdump=no\n if test -x objdump$host_exeext; then\n \tgcc_cv_objdump=./objdump$host_exeext\n@@ -7725,7 +7729,7 @@ esac\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:7729: checking assembler alignment features\" >&5\n+echo \"configure:7733: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test $in_tree_gas = yes; then\n   # Gas version 2.6 and later support for .balign and .p2align.\n@@ -7786,7 +7790,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:7790: checking assembler subsection support\" >&5\n+echo \"configure:7794: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7835,7 +7839,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:7839: checking assembler weak support\" >&5\n+echo \"configure:7843: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7865,7 +7869,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:7869: checking assembler hidden support\" >&5\n+echo \"configure:7873: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -7946,7 +7950,7 @@ libgcc_visibility=$gcc_cv_as_hidden\n \n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:7950: checking assembler leb128 support\" >&5\n+echo \"configure:7954: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8000,7 +8004,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n \n echo $ac_n \"checking assembler eh_frame optimization\"\"... $ac_c\" 1>&6\n-echo \"configure:8004: checking assembler eh_frame optimization\" >&5\n+echo \"configure:8008: checking assembler eh_frame optimization\" >&5\n gcc_cv_as_eh_frame=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8090,7 +8094,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_eh_frame\" 1>&6\n \n echo $ac_n \"checking assembler section merging support\"\"... $ac_c\" 1>&6\n-echo \"configure:8094: checking assembler section merging support\" >&5\n+echo \"configure:8098: checking assembler section merging support\" >&5\n gcc_cv_as_shf_merge=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8122,7 +8126,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_shf_merge\" 1>&6\n \n echo $ac_n \"checking assembler thread-local storage support\"\"... $ac_c\" 1>&6\n-echo \"configure:8126: checking assembler thread-local storage support\" >&5\n+echo \"configure:8130: checking assembler thread-local storage support\" >&5\n gcc_cv_as_tls=no\n conftest_s=\n tls_first_major=\n@@ -8332,7 +8336,7 @@ case \"$target\" in\n   # All TARGET_ABI_OSF targets.\n   alpha*-*-osf* | alpha*-*-linux* | alpha*-*-*bsd*)\n     echo $ac_n \"checking assembler supports explicit relocations\"\"... $ac_c\" 1>&6\n-echo \"configure:8331: checking assembler supports explicit relocations\" >&5\n+echo \"configure:8340: checking assembler supports explicit relocations\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_explicit_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8385,7 +8389,7 @@ EOF\n     ;;\n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:8384: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:8393: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8413,7 +8417,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:8412: checking assembler supports -relax\" >&5\n+echo \"configure:8421: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8441,7 +8445,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs\"\"... $ac_c\" 1>&6\n-echo \"configure:8440: checking assembler and linker support unaligned pc related relocs\" >&5\n+echo \"configure:8449: checking assembler and linker support unaligned pc related relocs\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8468,7 +8472,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler and linker support unaligned pc related relocs against hidden symbols\"\"... $ac_c\" 1>&6\n-echo \"configure:8467: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n+echo \"configure:8476: checking assembler and linker support unaligned pc related relocs against hidden symbols\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_sparc_ua_pcrel_hidden'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8508,7 +8512,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:8507: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:8516: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8547,7 +8551,7 @@ EOF\n \n   i[34567]86-*-* | x86_64-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:8546: checking assembler instructions\" >&5\n+echo \"configure:8555: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test $in_tree_gas = yes ; then \n        if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8581,7 +8585,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_as_instructions\" 1>&6\n \n     echo $ac_n \"checking assembler GOTOFF in data directives\"\"... $ac_c\" 1>&6\n-echo \"configure:8580: checking assembler GOTOFF in data directives\" >&5\n+echo \"configure:8589: checking assembler GOTOFF in data directives\" >&5\n     gcc_cv_as_gotoff_in_data=no\n     if test $in_tree_gas = yes ; then\n        if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8615,7 +8619,7 @@ EOF\n \n   ia64*-*-*)\n     echo $ac_n \"checking assembler supports ltoffx and ldxmov\"\"... $ac_c\" 1>&6\n-echo \"configure:8614: checking assembler supports ltoffx and ldxmov\" >&5\n+echo \"configure:8623: checking assembler supports ltoffx and ldxmov\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_ltoffx_ldxmov_relocs'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -8660,7 +8664,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:8659: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:8668: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -8722,7 +8726,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_dwarf2_debug_line\" 1>&6\n \n echo $ac_n \"checking assembler --gdwarf2 support\"\"... $ac_c\" 1>&6\n-echo \"configure:8721: checking assembler --gdwarf2 support\" >&5\n+echo \"configure:8730: checking assembler --gdwarf2 support\" >&5\n gcc_cv_as_gdwarf2_flag=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8756,7 +8760,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gdwarf2_flag\" 1>&6\n \n echo $ac_n \"checking assembler --gstabs support\"\"... $ac_c\" 1>&6\n-echo \"configure:8755: checking assembler --gstabs support\" >&5\n+echo \"configure:8764: checking assembler --gstabs support\" >&5\n gcc_cv_as_gstabs_flag=no\n if test $in_tree_gas = yes ; then\n    if test $gcc_cv_gas_major_version -eq 2 \\\n@@ -8789,7 +8793,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_gstabs_flag\" 1>&6\n \n echo $ac_n \"checking linker read-only and read-write section mixing\"\"... $ac_c\" 1>&6\n-echo \"configure:8788: checking linker read-only and read-write section mixing\" >&5\n+echo \"configure:8797: checking linker read-only and read-write section mixing\" >&5\n gcc_cv_ld_ro_rw_mix=unknown\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 10 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8827,7 +8831,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_ro_rw_mix\" 1>&6\n \n echo $ac_n \"checking linker PT_GNU_EH_FRAME support\"\"... $ac_c\" 1>&6\n-echo \"configure:8826: checking linker PT_GNU_EH_FRAME support\" >&5\n+echo \"configure:8835: checking linker PT_GNU_EH_FRAME support\" >&5\n gcc_cv_ld_eh_frame_hdr=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 12 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8848,7 +8852,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_ld_eh_frame_hdr\" 1>&6\n \n echo $ac_n \"checking linker position independent executable support\"\"... $ac_c\" 1>&6\n-echo \"configure:8847: checking linker position independent executable support\" >&5\n+echo \"configure:8856: checking linker position independent executable support\" >&5\n gcc_cv_ld_pie=no\n if test $in_tree_ld = yes ; then\n   if test \"$gcc_cv_gld_major_version\" -eq 2 -a \"$gcc_cv_gld_minor_version\" -ge 15 -o \"$gcc_cv_gld_major_version\" -gt 2 && grep 'EMUL = elf' ../ld/Makefile > /dev/null; then\n@@ -8872,7 +8876,7 @@ echo \"$ac_t\"\"$gcc_cv_ld_pie\" 1>&6\n case \"$target\" in\n   mips*-*-*)\n     echo $ac_n \"checking whether libgloss uses STARTUP directives consistently\"\"... $ac_c\" 1>&6\n-echo \"configure:8871: checking whether libgloss uses STARTUP directives consistently\" >&5\n+echo \"configure:8880: checking whether libgloss uses STARTUP directives consistently\" >&5\n     gcc_cv_mips_libgloss_startup=no\n     gcc_cv_libgloss_srcdir=`echo $srcdir | sed -e 's,/gcc$,,'`/libgloss\n     if test \"x$exec_prefix\" = xNONE; then\n@@ -8900,7 +8904,7 @@ EOF\n     echo \"$ac_t\"\"$gcc_cv_mips_libgloss_startup\" 1>&6\n \n     echo $ac_n \"checking whether the assembler has explicit relocation support\"\"... $ac_c\" 1>&6\n-echo \"configure:8899: checking whether the assembler has explicit relocation support\" >&5\n+echo \"configure:8908: checking whether the assembler has explicit relocation support\" >&5\n     if test x$gcc_cv_mips_explicit_relocs = x; then\n       gcc_cv_mips_explicit_relocs=no\n       if test x$gcc_cv_as != x; then\n@@ -9095,7 +9099,7 @@ fi\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:9094: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:9103: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "501bdb7d2e0eaea141218c36bd80076ace86a66f", "filename": "gcc/configure.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -1215,6 +1215,10 @@ cat > configargs.h <<EOF\n /* Generated automatically. */\n static const char configuration_arguments[] = \"$gcc_config_arguments\";\n static const char thread_model[] = \"$thread_file\";\n+\n+static const struct {\n+  const char *name, *value;\n+} configure_default_options[] = $configure_default_options;\n EOF\n changequote([,])dnl\n "}, {"sha": "7dbb9b9239baadc95d0e26552f8f8ef8deff47fc", "filename": "gcc/doc/install.texi", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fdoc%2Finstall.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fdoc%2Finstall.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finstall.texi?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -721,12 +721,21 @@ Microsoft Win32 API thread support.\n @end table\n \n @item --with-cpu=@var{cpu}\n-Specify which cpu variant the\n-compiler should generate code for by default.  This is currently\n-only supported on some ports, specifically arm, powerpc, and\n-SPARC@.  If configure does not recognize the model name (e.g.@: arm700,\n-603e, or ultrasparc) you provide, please check the\n-@file{gcc/config.gcc} script for a complete list of supported models.\n+Specify which cpu variant the compiler should generate code for by default.\n+@var{cpu} will be used as the default value of the @option{-mcpu=} switch.\n+This option is only supported on some targets, including ARM, i386, PowerPC,\n+and SPARC@.\n+\n+@item --with-schedule=@var{cpu}\n+@itemx --with-arch=@var{cpu}\n+@itemx --with-tune=@var{cpu}\n+@itemx --with-abi=@var{abi}\n+@itemx --with-float=@var{type}\n+These configure options provide default values for the @option{-mschedule=},\n+@option{-march=}, @option{-mtune=}, and @option{-mabi=} options and for\n+@option{-mhard-float} or @option{-msoft-float}.  As with @option{--with-cpu},\n+which switches will be accepted and acceptable values of the arguments depend\n+on the target.\n \n @item --enable-altivec\n Specify that the target supports AltiVec vector enhancements.  This"}, {"sha": "88f20858fa336de8ced280e5be3cc5f0a4c5637a", "filename": "gcc/doc/tm.texi", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fdoc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fdoc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Ftm.texi?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -181,6 +181,25 @@ that the other specs are easier to write.\n \n Do not define this macro if it does not need to do anything.\n \n+@findex OPTION_DEFAULT_SPECS\n+@item OPTION_DEFAULT_SPECS\n+A list of specs used to support configure-time default options (i.e.@:\n+@option{--with} options) in the driver.  It should be a suitable initializer\n+for an array of structures, each containing two strings, without the\n+outermost pair of surrounding braces.\n+\n+The first item in the pair is the name of the default.  This must match\n+the code in @file{config.gcc} for the target.  The second item is a spec\n+to apply if a default with this name was specified.  The string\n+@samp{%(VALUE)} in the spec will be replaced by the value of the default\n+everywhere it occurs.\n+\n+The driver will apply these specs to its own command line between loading\n+default @file{specs} files and processing @code{DRIVER_SELF_SPECS}, using\n+the same mechanism as @code{DRIVER_SELF_SPECS}.\n+\n+Do not define this macro if it does not need to do anything.\n+\n @findex CPP_SPEC\n @item CPP_SPEC\n A C string constant that tells the GCC driver program options to"}, {"sha": "04ac6c7bde9822aa4d47fadd3b728fac6aed19b6", "filename": "gcc/gcc.c", "status": "modified", "additions": 71, "deletions": 0, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fgcc.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7816bea0e23b878016e30c39f132826a5275ecc1/gcc%2Fgcc.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcc.c?ref=7816bea0e23b878016e30c39f132826a5275ecc1", "patch": "@@ -325,6 +325,7 @@ static char *save_string\tPARAMS ((const char *, int));\n static void set_collect_gcc_options PARAMS ((void));\n static int do_spec_1\t\tPARAMS ((const char *, int, const char *));\n static int do_spec_2\t\tPARAMS ((const char *));\n+static void do_option_spec\tPARAMS ((const char *, const char *));\n static void do_self_spec\tPARAMS ((const char *));\n static const char *find_file\tPARAMS ((const char *));\n static int is_directory\t\tPARAMS ((const char *, const char *, int));\n@@ -804,6 +805,19 @@ static const char *const multilib_defaults_raw[] = MULTILIB_DEFAULTS;\n \n static const char *const driver_self_specs[] = { DRIVER_SELF_SPECS };\n \n+#ifndef OPTION_DEFAULT_SPECS\n+#define OPTION_DEFAULT_SPECS { \"\", \"\" }\n+#endif\n+\n+struct default_spec\n+{\n+  const char *name;\n+  const char *spec;\n+};\n+\n+static const struct default_spec\n+  option_default_specs[] = { OPTION_DEFAULT_SPECS };\n+\n struct user_specs\n {\n   struct user_specs *next;\n@@ -4253,6 +4267,57 @@ do_spec_2 (spec)\n }\n \n \n+/* Process the given spec string and add any new options to the end\n+   of the switches/n_switches array.  */\n+\n+static void\n+do_option_spec (name, spec)\n+     const char *name;\n+     const char *spec;\n+{\n+  unsigned int i, value_count, value_len;\n+  const char *p, *q, *value;\n+  char *tmp_spec, *tmp_spec_p;\n+\n+  if (configure_default_options[0].name == NULL)\n+    return;\n+\n+  for (i = 0; i < ARRAY_SIZE (configure_default_options); i++)\n+    if (strcmp (configure_default_options[i].name, name) == 0)\n+      break;\n+  if (i == ARRAY_SIZE (configure_default_options))\n+    return;\n+\n+  value = configure_default_options[i].value;\n+  value_len = strlen (value);\n+\n+  /* Compute the size of the final spec.  */\n+  value_count = 0;\n+  p = spec;\n+  while ((p = strstr (p, \"%(VALUE)\")) != NULL)\n+    {\n+      p ++;\n+      value_count ++;\n+    }\n+\n+  /* Replace each %(VALUE) by the specified value.  */\n+  tmp_spec = alloca (strlen (spec) + 1\n+\t\t     + value_count * (value_len - strlen (\"%(VALUE)\")));\n+  tmp_spec_p = tmp_spec;\n+  q = spec;\n+  while ((p = strstr (q, \"%(VALUE)\")) != NULL)\n+    {\n+      memcpy (tmp_spec_p, q, p - q);\n+      tmp_spec_p = tmp_spec_p + (p - q);\n+      memcpy (tmp_spec_p, value, value_len);\n+      tmp_spec_p += value_len;\n+      q = p + strlen (\"%(VALUE)\");\n+    }\n+  strcpy (tmp_spec_p, q);\n+\n+  do_self_spec (tmp_spec);\n+}\n+\n /* Process the given spec string and add any new options to the end\n    of the switches/n_switches array.  */\n \n@@ -6036,6 +6101,12 @@ main (argc, argv)\n   if (access (specs_file, R_OK) == 0)\n     read_specs (specs_file, TRUE);\n \n+  /* Process any configure-time defaults specified for the command line\n+     options, via OPTION_DEFAULT_SPECS.  */\n+  for (i = 0; i < ARRAY_SIZE (option_default_specs); i++)\n+    do_option_spec (option_default_specs[i].name,\n+\t\t    option_default_specs[i].spec);\n+\n   /* Process DRIVER_SELF_SPECS, adding any new options to the end\n      of the command line.  */\n "}]}