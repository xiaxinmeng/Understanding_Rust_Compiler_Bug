{"sha": "1e29ee12f059af6e1451bcd73d72c6f80f8b94c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWUyOWVlMTJmMDU5YWY2ZTE0NTFiY2Q3M2Q3MmM2ZjgwZjhiOTRjMw==", "commit": {"author": {"name": "Jeffrey A Law", "email": "law@cygnus.com", "date": "2001-06-18T19:46:37Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2001-06-18T19:46:37Z"}, "message": "flow.c (find_unreachable_blocks): New function.\n\n\t* flow.c (find_unreachable_blocks): New function.\n\t(delete_unreachable_blocks): Use find_unreachable_blocks.\n\t* basic-block.h (find_unreachable_blocks): Declare.\n\nFrom-SVN: r43448", "tree": {"sha": "64e47a115963e9436d678452ca7775bb2d4864a6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64e47a115963e9436d678452ca7775bb2d4864a6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3/comments", "author": null, "committer": null, "parents": [{"sha": "fbf8334971f8d6528f4847acb8453df0c838ec7c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fbf8334971f8d6528f4847acb8453df0c838ec7c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fbf8334971f8d6528f4847acb8453df0c838ec7c"}], "stats": {"total": 27, "additions": 20, "deletions": 7}, "files": [{"sha": "13daeb5c49387e68e6e9a6f00015c99592baf4bd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1e29ee12f059af6e1451bcd73d72c6f80f8b94c3", "patch": "@@ -1,5 +1,9 @@\n Mon Jun 18 12:50:49 2001  Jeffrey A Law  (law@cygnus.com)\n \n+\t* flow.c (find_unreachable_blocks): New function.\n+\t(delete_unreachable_blocks): Use find_unreachable_blocks.\n+\t* basic-block.h (find_unreachable_blocks): Declare.\n+\n         * dce.c (eliminate_dead_code): Fix formatting glitch.\n \n 2001-06-18  Jason Merrill  <jason_merrill@redhat.com>"}, {"sha": "8d63cefd694d73d2f5d8213eba3ad64847f3af8f", "filename": "gcc/basic-block.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3/gcc%2Fbasic-block.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3/gcc%2Fbasic-block.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbasic-block.h?ref=1e29ee12f059af6e1451bcd73d72c6f80f8b94c3", "patch": "@@ -555,6 +555,7 @@ extern void debug_bb_n\t\t\tPARAMS ((int));\n extern void dump_regset\t\t\tPARAMS ((regset, FILE *));\n extern void debug_regset\t\tPARAMS ((regset));\n extern void allocate_reg_life_data      PARAMS ((void));\n+extern void find_unreachable_blocks\tPARAMS ((void));\n \n /* This function is always defined so it can be called from the\n    debugger, and it is declared extern so we don't get warnings about"}, {"sha": "43ed9cc03ffdf93838dbce710a69859fb6c18d9e", "filename": "gcc/flow.c", "status": "modified", "additions": 15, "deletions": 7, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3/gcc%2Fflow.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e29ee12f059af6e1451bcd73d72c6f80f8b94c3/gcc%2Fflow.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fflow.c?ref=1e29ee12f059af6e1451bcd73d72c6f80f8b94c3", "patch": "@@ -2055,14 +2055,15 @@ flow_call_edges_add (blocks)\n   return blocks_split;\n }\n \f\n-/* Delete all unreachable basic blocks.   */\n+/* Find unreachable blocks.  An unreachable block will have NULL in\n+   block->aux, a non-NULL value indicates the block is reachable.  */\n \n-static void\n-delete_unreachable_blocks ()\n+void\n+find_unreachable_blocks ()\n {\n-  basic_block *worklist, *tos;\n   edge e;\n   int i, n;\n+  basic_block *tos, *worklist;\n \n   n = n_basic_blocks;\n   tos = worklist = (basic_block *) xmalloc (sizeof (basic_block) * n);\n@@ -2098,11 +2099,20 @@ delete_unreachable_blocks ()\n \t  }\n     }\n \n+  free (worklist);\n+}\n+\n+/* Delete all unreachable basic blocks.   */\n+static void\n+delete_unreachable_blocks ()\n+{\n+  int i;\n+\n   /* Delete all unreachable basic blocks.  Count down so that we\n      don't interfere with the block renumbering that happens in\n      flow_delete_block.  */\n \n-  for (i = n - 1; i >= 0; --i)\n+  for (i = n_basic_blocks - 1; i >= 0; --i)\n     {\n       basic_block b = BASIC_BLOCK (i);\n \n@@ -2114,8 +2124,6 @@ delete_unreachable_blocks ()\n     }\n \n   tidy_fallthru_edges ();\n-\n-  free (worklist);\n }\n \n /* Return true if NOTE is not one of the ones that must be kept paired,"}]}