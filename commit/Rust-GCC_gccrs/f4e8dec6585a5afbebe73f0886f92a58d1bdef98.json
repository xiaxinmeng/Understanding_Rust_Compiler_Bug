{"sha": "f4e8dec6585a5afbebe73f0886f92a58d1bdef98", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjRlOGRlYzY1ODVhNWFmYmViZTczZjA4ODZmOTJhNThkMWJkZWY5OA==", "commit": {"author": {"name": "Zack Weinberg", "email": "zack@wolery.stanford.edu", "date": "2000-12-07T22:11:12Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2000-12-07T22:11:12Z"}, "message": "texi2pod.pl: If multiple @c man sections with the same tag appear...\n\n\t* texi2pod.pl: If multiple @c man sections with the same tag\n\tappear, concatenate them in the final output.  When skipping,\n\tignore block commands that can't cause skipping, and honor\n\tthose that can.  Ensure that verbatim blocks are separate\n\tparagraphs.\n\nFrom-SVN: r38117", "tree": {"sha": "d51f4770abaf6a17c0167c242716e75b79a504a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d51f4770abaf6a17c0167c242716e75b79a504a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4e8dec6585a5afbebe73f0886f92a58d1bdef98", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4e8dec6585a5afbebe73f0886f92a58d1bdef98", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4e8dec6585a5afbebe73f0886f92a58d1bdef98", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4e8dec6585a5afbebe73f0886f92a58d1bdef98/comments", "author": null, "committer": null, "parents": [{"sha": "b25a8973bbe92684b304dd7da072e8e921234117", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b25a8973bbe92684b304dd7da072e8e921234117", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b25a8973bbe92684b304dd7da072e8e921234117"}], "stats": {"total": 86, "additions": 53, "deletions": 33}, "files": [{"sha": "771c2556076296aa96c81374f4a542eb1021934c", "filename": "contrib/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4e8dec6585a5afbebe73f0886f92a58d1bdef98/contrib%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4e8dec6585a5afbebe73f0886f92a58d1bdef98/contrib%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2FChangeLog?ref=f4e8dec6585a5afbebe73f0886f92a58d1bdef98", "patch": "@@ -1,3 +1,11 @@\n+2000-12-07  Zack Weinberg  <zack@wolery.stanford.edu>\n+\n+\t* texi2pod.pl: If multiple @c man sections with the same tag\n+\tappear, concatenate them in the final output.  When skipping,\n+\tignore block commands that can't cause skipping, and honor\n+\tthose that can.  Ensure that verbatim blocks are separate\n+\tparagraphs.\n+\n 2000-12-07  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n \t* gcc_update: Don't touch tradcif.c or java/parse.h."}, {"sha": "0d5139aab40585c3f9f9e8af038c5588c4ef086d", "filename": "contrib/texi2pod.pl", "status": "modified", "additions": 45, "deletions": 33, "changes": 78, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4e8dec6585a5afbebe73f0886f92a58d1bdef98/contrib%2Ftexi2pod.pl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4e8dec6585a5afbebe73f0886f92a58d1bdef98/contrib%2Ftexi2pod.pl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/contrib%2Ftexi2pod.pl?ref=f4e8dec6585a5afbebe73f0886f92a58d1bdef98", "patch": "@@ -65,7 +65,8 @@\n     # would require rev'ing all other Texinfo translators.\n     /^\\@c man begin ([A-Z]+)/ and $sect = $1, $output = 1, next;\n     /^\\@c man end/ and do {\n-\t$sects{$sect} = postprocess($section);\n+\t$sects{$sect} = \"\" unless exists $sects{$sect};\n+\t$sects{$sect} .= postprocess($section);\n \t$section = \"\";\n \t$output = 0;\n \tnext;\n@@ -79,22 +80,57 @@\n     # End-block handler goes up here because it needs to operate even\n     # if we are skipping.\n     /^\\@end\\s+([a-z]+)/ and do {\n-\tdie \"\\@end $1 without \\@$1 at line $.\\n\" unless defined $endw;\n-\tdie \"\\@$endw ended by \\@end $1 at line $.\\n\" unless $1 eq $endw;\n+\t# Ignore @end foo, where foo is not an operation which may\n+\t# cause us to skip, if we are presently skipping.\n+\tmy $ended = $1;\n+\tnext if $skipping && $ended !~ /^(?:ifset|ifclear|ignore|menu)$/;\n+\n+\tdie \"\\@end $ended without \\@$ended at line $.\\n\" unless defined $endw;\n+\tdie \"\\@$endw ended by \\@end $ended at line $.\\n\" unless $ended eq $endw;\n \n \t$endw = pop @endwstack;\n \n-\tif ($1 =~ /example$/) {\n-\t    $shift = \"\";\n-\t    next;\n-\t} elsif ($1 =~ /^(if|ignore|menu)/) {\n+\tif ($ended =~ /^(?:ifset|ifclear|ignore|menu)$/) {\n \t    $skipping = pop @skstack;\n \t    next;\n-\t} else {\n+\t} elsif ($ended =~ /^(?:example|smallexample)$/) {\n+\t    $shift = \"\";\n+\t    $_ = \"\";\t# need a paragraph break\n+\t} elsif ($ended =~ /^(?:itemize|enumerate|table)$/) {\n \t    $_ = \"\\n=back\\n\";\n \t    $ic = pop @icstack;\n+\t} else {\n+\t    die \"unknown command \\@end $ended at line $.\\n\";\n \t}\n     };\n+\n+    # We must handle commands which can cause skipping even while we\n+    # are skipping, otherwise we will not process nested conditionals\n+    # correctly.\n+    /^\\@ifset\\s+([a-zA-Z0-9_-]+)/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @skstack, $skipping;\n+\t$endw = \"ifset\";\n+\t$skipping = 1 unless exists $defs{$1};\n+\tnext;\n+    };\n+\n+    /^\\@ifclear\\s+([a-zA-Z0-9_-]+)/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @skstack, $skipping;\n+\t$endw = \"ifclear\";\n+\t$skipping = 1 if exists $defs{$1};\n+\tnext;\n+    };\n+\n+    /^\\@(ignore|menu)\\b/ and do {\n+\tpush @endwstack, $endw;\n+\tpush @skstack, $skipping;\n+\t$endw = $1;\n+\t$skipping = 1;\n+\tnext;\n+    };\n+\n     next if $skipping;\n \n     # Character entities.  First the ones that can be replaced by raw text\n@@ -132,30 +168,6 @@\n     /^\\@subsection\\s+(.+)$/ and $_ = \"\\n=head3 $1\\n\";\n \n     # Block command handlers:\n-    /^\\@ifset\\s+([a-zA-Z0-9_-]+)/ and do {\n-\tpush @endwstack, $endw;\n-\tpush @skstack, $skipping;\n-\t$endw = \"ifset\";\n-\t$skipping = 1 unless exists $defs{$1};\n-\tnext;\n-    };\n-\n-    /^\\@ifclear\\s+([a-zA-Z0-9_-]+)/ and do {\n-\tpush @endwstack, $endw;\n-\tpush @skstack, $skipping;\n-\t$endw = \"ifclear\";\n-\t$skipping = 1 if exists $defs{$1};\n-\tnext;\n-    };\n-\n-    /^\\@(ignore|menu)\\b/ and do {\n-\tpush @endwstack, $endw;\n-\tpush @skstack, $skipping;\n-\t$endw = $1;\n-\t$skipping = 1;\n-\tnext;\n-    };\n-\n     /^\\@itemize\\s+(\\@[a-z]+|\\*|-)/ and do {\n \tpush @endwstack, $endw;\n \tpush @icstack, $ic;\n@@ -192,7 +204,7 @@\n \tpush @endwstack, $endw;\n \t$endw = $1;\n \t$shift = \"\\t\";\n-\tnext;\n+\t$_ = \"\";\t# need a paragraph break\n     };\n \n     /^\\@itemx?\\s*(.+)?$/ and do {"}]}