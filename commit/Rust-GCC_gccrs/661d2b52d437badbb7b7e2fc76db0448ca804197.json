{"sha": "661d2b52d437badbb7b7e2fc76db0448ca804197", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjYxZDJiNTJkNDM3YmFkYmI3YjdlMmZjNzZkYjA0NDhjYTgwNDE5Nw==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "1999-09-08T08:50:57Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "1999-09-08T08:50:57Z"}, "message": "sizeof3.C: New test.\n\n\t* g++.old-deja/g++.other/sizeof3.C: New test.\n\t* g++.old-deja/g++.other/sizeof4.C: New test.\n\t* g++.old-deja/g++.other/ambig2.C: Mark XFAILs.\n\t* g++.old-deja/g++.other/lookup16.C: Mark XFAIL.\n\nFrom-SVN: r29203", "tree": {"sha": "baa0a6bdad0eee93bad6f0bd348fa86967c6fec1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/baa0a6bdad0eee93bad6f0bd348fa86967c6fec1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/661d2b52d437badbb7b7e2fc76db0448ca804197", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/661d2b52d437badbb7b7e2fc76db0448ca804197", "html_url": "https://github.com/Rust-GCC/gccrs/commit/661d2b52d437badbb7b7e2fc76db0448ca804197", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/661d2b52d437badbb7b7e2fc76db0448ca804197/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a27995df2b53221e42781d7a56373118096eb220", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a27995df2b53221e42781d7a56373118096eb220", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a27995df2b53221e42781d7a56373118096eb220"}], "stats": {"total": 75, "additions": 73, "deletions": 2}, "files": [{"sha": "ff307f8827f9357baf2cb8b56b40e953adf853a4", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=661d2b52d437badbb7b7e2fc76db0448ca804197", "patch": "@@ -1,3 +1,10 @@\n+Wed Sep  8 09:39:56 BST 1999  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* g++.old-deja/g++.other/sizeof3.C: New test.\n+\t* g++.old-deja/g++.other/sizeof4.C: New test.\n+\t* g++.old-deja/g++.other/ambig2.C: Mark XFAILs.\n+\t* g++.old-deja/g++.other/lookup16.C: Mark XFAIL.\n+\n 1999-09-07  Richard Henderson  <rth@cygnus.com>\n \n \t* gcc.dg/va-arg-1.c: New."}, {"sha": "0966566ffcee2d28c3c6501f7bf2232c7d6df2cc", "filename": "gcc/testsuite/g++.old-deja/g++.other/ambig2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fambig2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fambig2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fambig2.C?ref=661d2b52d437badbb7b7e2fc76db0448ca804197", "patch": "@@ -14,7 +14,7 @@ struct D3 : B, C { int m; };\n \n void fn(D0 *d0, D1 *d1, D2 *d2, D3 *d3)\n {\n-  A *a0 = d0;   // ERROR - A is an ambiguous base\n+  A *a0 = d0;   // ERROR - A is an ambiguous base XFAIL\n   A *a1 = d1;   // ERROR - A is an ambiguous base\n   A *a2 = d2;   // ERROR - A is an ambiguous base\n   A *a3 = d3;   // ERROR - A is an ambiguous base"}, {"sha": "32fc477a6183843c105f9e7ad01e4aacacf50de5", "filename": "gcc/testsuite/g++.old-deja/g++.other/lookup16.C", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Flookup16.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Flookup16.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Flookup16.C?ref=661d2b52d437badbb7b7e2fc76db0448ca804197", "patch": "@@ -5,6 +5,8 @@\n // typenames are not injected early enough, [basic.scope.pdecl]3.3.1/4\n // indicates this should compile.\n \n+// excess errors test - XFAIL\n+\n struct A {\n };\n \n@@ -24,7 +26,7 @@ struct C : B {\n \n struct D : B {\n   typedef B Parent;\n-  struct F : D::Parent::F {\n+  struct F : D::Parent::F { // finds the wrong Parent\n     typedef D::Parent::F Parent;\n   };\n };"}, {"sha": "5ac2cc45d58d85bc4b0e290770f3cb05a3845127", "filename": "gcc/testsuite/g++.old-deja/g++.other/sizeof3.C", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fsizeof3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fsizeof3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fsizeof3.C?ref=661d2b52d437badbb7b7e2fc76db0448ca804197", "patch": "@@ -0,0 +1,21 @@\n+// Copyright (C) 1999 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 5 Sep 1999 <nathan@acm.org>\n+\n+// C++ does not decay lvalues into rvalues until as late as possible. This\n+// means things like the rhs of a comma operator mustn't decay. This will make\n+// a difference if it is an array or function.\n+\n+// execution test - XFAIL\n+extern void abort();\n+\n+int main (int argc, char **argv)\n+{\n+  int ary[10];\n+  int ary1[10];\n+  \n+  if (sizeof (0,ary) != sizeof (ary))\n+    abort ();\n+  if (sizeof (argc ? ary : ary1) != sizeof (ary))\n+    abort ();\n+  return 0;\n+}"}, {"sha": "cb74e9aab9c7d6b1f7bd1f49ccdbb9d99fceb45c", "filename": "gcc/testsuite/g++.old-deja/g++.other/sizeof4.C", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fsizeof4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/661d2b52d437badbb7b7e2fc76db0448ca804197/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fsizeof4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.other%2Fsizeof4.C?ref=661d2b52d437badbb7b7e2fc76db0448ca804197", "patch": "@@ -0,0 +1,41 @@\n+// Build don't link:\n+\n+// Copyright (C) 1999 Free Software Foundation, Inc.\n+// Contributed by Nathan Sidwell 5 Sep 1999 <nathan@acm.org>\n+\n+// C++ does not decay lvalues into rvalues until as late as possible. This\n+// means things like the rhs of a comma operator mustn't decay. This will make\n+// a difference if it is an array or function.\n+\n+struct S;\n+struct T {int m;};\n+extern S s;  // an incomplete\n+extern S arys[20];  // an incomplete array\n+extern T aryt[];    // an incomplete array;\n+\n+void fn () {}\n+\n+int main (int argc, char **argv)\n+{\n+  sizeof (s);           // ERROR - incomplete\n+  sizeof (0, s);        // ERROR - incomplete\n+  sizeof (argc ? s : s); // ERROR - incomplete\n+\n+  sizeof (arys);        // ERROR - incomplete\n+  sizeof (0, arys);     // ERROR - incomplete XFAIL\n+  sizeof (argc ? arys : arys); // ERROR - incomplete\n+\n+  sizeof (aryt);        // ERROR - incomplete\n+  sizeof (0, aryt);     // ERROR - incomplete XFAIL\n+  sizeof (argc ? aryt : aryt); // ERROR - incomplete\n+  \n+  sizeof (fn);            // ERROR - cannot take size of function\n+  sizeof (0, fn);         // ERROR - cannot take size of function XFAIL\n+  sizeof (argc ? fn : fn); // ERROR - cannot take size of function\n+  \n+  sizeof (&fn);       // ok\n+  sizeof (0, &fn);    // ok\n+  sizeof (argc ? &fn : &fn); // ok\n+  \n+  return 0;\n+}"}]}