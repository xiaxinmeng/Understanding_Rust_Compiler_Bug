{"sha": "f87b4b2fbfb3f0cbfe120666718408442900ff19", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Zjg3YjRiMmZiZmIzZjBjYmZlMTIwNjY2NzE4NDA4NDQyOTAwZmYxOQ==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2018-03-19T20:49:57Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2018-03-19T20:49:57Z"}, "message": "re PR tree-optimization/84946 (UBSAN: in mem_valid_for_store_merging ../../gcc/gimple-ssa-store-merging.c:3951)\n\n\tPR tree-optimization/84946\n\t* gimple-ssa-store-merging.c (mem_valid_for_store_merging): Compute\n\tbitsize + bitsize in poly_uint64 rather than poly_int64.\n\nFrom-SVN: r258665", "tree": {"sha": "2ca00b572a7473799987dabf491e1bcbffbd0395", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2ca00b572a7473799987dabf491e1bcbffbd0395"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f87b4b2fbfb3f0cbfe120666718408442900ff19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f87b4b2fbfb3f0cbfe120666718408442900ff19", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f87b4b2fbfb3f0cbfe120666718408442900ff19", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f87b4b2fbfb3f0cbfe120666718408442900ff19/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "90841d4302e804d0eafdd5e9565cda2d5ec166a8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90841d4302e804d0eafdd5e9565cda2d5ec166a8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90841d4302e804d0eafdd5e9565cda2d5ec166a8"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "6742c0b68bc5e70f8e6cb44050af44a4bc54504a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f87b4b2fbfb3f0cbfe120666718408442900ff19/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f87b4b2fbfb3f0cbfe120666718408442900ff19/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f87b4b2fbfb3f0cbfe120666718408442900ff19", "patch": "@@ -1,5 +1,9 @@\n 2018-03-19  Jakub Jelinek  <jakub@redhat.com>\n \n+\tPR tree-optimization/84946\n+\t* gimple-ssa-store-merging.c (mem_valid_for_store_merging): Compute\n+\tbitsize + bitsize in poly_uint64 rather than poly_int64.\n+\n \tPR sanitizer/78651\n \t* dwarf2asm.c: Include fold-const.c.\n \t(dw2_output_indirect_constant_1): Set DECL_INITIAL (decl) to ADDR_EXPR"}, {"sha": "5955d6e1abc0efe449955d138677a387e153ff53", "filename": "gcc/gimple-ssa-store-merging.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f87b4b2fbfb3f0cbfe120666718408442900ff19/gcc%2Fgimple-ssa-store-merging.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f87b4b2fbfb3f0cbfe120666718408442900ff19/gcc%2Fgimple-ssa-store-merging.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-ssa-store-merging.c?ref=f87b4b2fbfb3f0cbfe120666718408442900ff19", "patch": "@@ -3948,7 +3948,8 @@ mem_valid_for_store_merging (tree mem, poly_uint64 *pbitsize,\n   if (known_eq (bitregion_end, 0U))\n     {\n       bitregion_start = round_down_to_byte_boundary (bitpos);\n-      bitregion_end = round_up_to_byte_boundary (bitpos + bitsize);\n+      bitregion_end = bitpos;\n+      bitregion_end = round_up_to_byte_boundary (bitregion_end + bitsize);\n     }\n \n   if (offset != NULL_TREE)"}]}