{"sha": "519c98068bc2ab4d0eb0ac40e75efba02468ddac", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTE5Yzk4MDY4YmMyYWI0ZDBlYjBhYzQwZTc1ZWZiYTAyNDY4ZGRhYw==", "commit": {"author": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-01-04T19:28:56Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2001-01-04T19:28:56Z"}, "message": "call.c (build_conv): Don't use build1 for USER_CONV.\n\n\t* call.c (build_conv): Don't use build1 for USER_CONV.\n\t* pt.c (tsubst_copy): Or for PREINCREMENT_EXPR and similar nodes.\n\nFrom-SVN: r38688", "tree": {"sha": "d9dc1d4890aafa19ccc1fab2fcdc6c47c684e37e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d9dc1d4890aafa19ccc1fab2fcdc6c47c684e37e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/519c98068bc2ab4d0eb0ac40e75efba02468ddac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/519c98068bc2ab4d0eb0ac40e75efba02468ddac", "html_url": "https://github.com/Rust-GCC/gccrs/commit/519c98068bc2ab4d0eb0ac40e75efba02468ddac", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/519c98068bc2ab4d0eb0ac40e75efba02468ddac/comments", "author": null, "committer": null, "parents": [{"sha": "7ffcb17f49fb3f879043ed26dfca18efc539c0b1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7ffcb17f49fb3f879043ed26dfca18efc539c0b1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7ffcb17f49fb3f879043ed26dfca18efc539c0b1"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "0c08d18af4ca0f113fd1ef81ca5d1748d24198e3", "filename": "gcc/cp/call.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/519c98068bc2ab4d0eb0ac40e75efba02468ddac/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/519c98068bc2ab4d0eb0ac40e75efba02468ddac/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=519c98068bc2ab4d0eb0ac40e75efba02468ddac", "patch": "@@ -605,8 +605,16 @@ build_conv (code, type, from)\n      enum tree_code code;\n      tree type, from;\n {\n-  tree t = build1 (code, type, from);\n+  tree t;\n   int rank = ICS_STD_RANK (from);\n+\n+  /* We can't use buidl1 here because CODE could be USER_CONV, which\n+     takes two arguments.  In that case, the caller is responsible for\n+     filling in the second argument.  */\n+  t = make_node (code);\n+  TREE_TYPE (t) = type;\n+  TREE_OPERAND (t, 0) = from;\n+\n   switch (code)\n     {\n     case PTR_CONV:"}, {"sha": "ecf201a07832b64b0aea3ad9edc8a5f6984ae795", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/519c98068bc2ab4d0eb0ac40e75efba02468ddac/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/519c98068bc2ab4d0eb0ac40e75efba02468ddac/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=519c98068bc2ab4d0eb0ac40e75efba02468ddac", "patch": "@@ -6892,10 +6892,6 @@ tsubst_copy (t, args, complain, in_decl)\n \t tsubst_copy (TREE_OPERAND (t, 0), args, complain, in_decl));\n \n     case INDIRECT_REF:\n-    case PREDECREMENT_EXPR:\n-    case PREINCREMENT_EXPR:\n-    case POSTDECREMENT_EXPR:\n-    case POSTINCREMENT_EXPR:\n     case NEGATE_EXPR:\n     case TRUTH_NOT_EXPR:\n     case BIT_NOT_EXPR:\n@@ -6948,6 +6944,10 @@ tsubst_copy (t, args, complain, in_decl)\n     case SCOPE_REF:\n     case DOTSTAR_EXPR:\n     case MEMBER_REF:\n+    case PREDECREMENT_EXPR:\n+    case PREINCREMENT_EXPR:\n+    case POSTDECREMENT_EXPR:\n+    case POSTINCREMENT_EXPR:\n       return build_nt\n \t(code, tsubst_copy (TREE_OPERAND (t, 0), args, complain, in_decl),\n \t tsubst_copy (TREE_OPERAND (t, 1), args, complain, in_decl));"}]}