{"sha": "f4df3ce5b9beee3101acf07390954d2f85a7a67f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjRkZjNjZTViOWJlZWUzMTAxYWNmMDczOTA5NTRkMmY4NWE3YTY3Zg==", "commit": {"author": {"name": "Danny Smith", "email": "dannysmith@users.sourceforge.net", "date": "2005-10-18T21:44:30Z"}, "committer": {"name": "Danny Smith", "email": "dannysmith@gcc.gnu.org", "date": "2005-10-18T21:44:30Z"}, "message": "winnt-cxx.c (i386_pe_adjust_class_at_definition): Check that elements of TYPE_METHODS are FUNCTION_DECLs.\n\n\t* config/i386/winnt-cxx.c (i386_pe_adjust_class_at_definition):\n\tCheck that elements of TYPE_METHODS are FUNCTION_DECLs.\n\nFrom-SVN: r105577", "tree": {"sha": "322f4e0b8f45035e1d541e3f210f8549ede34646", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/322f4e0b8f45035e1d541e3f210f8549ede34646"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f4df3ce5b9beee3101acf07390954d2f85a7a67f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4df3ce5b9beee3101acf07390954d2f85a7a67f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f4df3ce5b9beee3101acf07390954d2f85a7a67f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f4df3ce5b9beee3101acf07390954d2f85a7a67f/comments", "author": null, "committer": null, "parents": [{"sha": "6d2989e11752934162a82ed4718298f3f8a47bfe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6d2989e11752934162a82ed4718298f3f8a47bfe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6d2989e11752934162a82ed4718298f3f8a47bfe"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "15988f7f71b5b61451dca39c7353772413d158ab", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4df3ce5b9beee3101acf07390954d2f85a7a67f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4df3ce5b9beee3101acf07390954d2f85a7a67f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=f4df3ce5b9beee3101acf07390954d2f85a7a67f", "patch": "@@ -1,3 +1,8 @@\n+2005-10-18  Danny Smith  <dannysmith@users.sourceforge.net>\n+\n+\t* config/i386/winnt-cxx.c (i386_pe_adjust_class_at_definition):\n+\tCheck that elements of TYPE_METHODS are FUNCTION_DECLs.\n+\n 2005-10-17  Alexey Starovoytov  <alexey.starovoytov@sun.com>\n             Ian Lance Taylor <ian@airs.com>\n "}, {"sha": "6123ebbcdc39ced513f2d624b9329b826c4624d9", "filename": "gcc/config/i386/winnt-cxx.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f4df3ce5b9beee3101acf07390954d2f85a7a67f/gcc%2Fconfig%2Fi386%2Fwinnt-cxx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f4df3ce5b9beee3101acf07390954d2f85a7a67f/gcc%2Fconfig%2Fi386%2Fwinnt-cxx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fwinnt-cxx.c?ref=f4df3ce5b9beee3101acf07390954d2f85a7a67f", "patch": "@@ -152,7 +152,8 @@ i386_pe_adjust_class_at_definition (tree t)\n     \n   /* Check FUNCTION_DECL's.  */\n   for (member = TYPE_METHODS (t); member;  member = TREE_CHAIN (member))\n-    maybe_add_dllimport (member);\n+    if (TREE_CODE (member) == FUNCTION_DECL)\n+      maybe_add_dllimport (member);\n  \n   /* Check vtables  */\n   for (member = CLASSTYPE_VTABLES (t); member;  member = TREE_CHAIN (member))"}]}