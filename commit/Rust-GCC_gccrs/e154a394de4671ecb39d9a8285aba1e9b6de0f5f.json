{"sha": "e154a394de4671ecb39d9a8285aba1e9b6de0f5f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTE1NGEzOTRkZTQ2NzFlY2IzOWQ5YTgyODVhYmExZTliNmRlMGY1Zg==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@dcc.unicamp.br", "date": "1999-04-03T14:52:07Z"}, "committer": {"name": "Alexandre Oliva", "email": "oliva@gcc.gnu.org", "date": "1999-04-03T14:52:07Z"}, "message": "configure.in (DEFAULT_LINKER, [...]): Use grep instead of test and sed to check whether they're GNU programs.\n\n* configure.in (DEFAULT_LINKER, DEFAULT_ASSEMBLER): Use grep\ninstead of test and sed to check whether they're GNU programs.\n* configure: Rebuilt.\n\nFrom-SVN: r26158", "tree": {"sha": "e2e7de156e95951f34562da73e3e1cb5efe15238", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e2e7de156e95951f34562da73e3e1cb5efe15238"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e154a394de4671ecb39d9a8285aba1e9b6de0f5f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e154a394de4671ecb39d9a8285aba1e9b6de0f5f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e154a394de4671ecb39d9a8285aba1e9b6de0f5f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e154a394de4671ecb39d9a8285aba1e9b6de0f5f/comments", "author": null, "committer": null, "parents": [{"sha": "965c3f43f9e5e017da24f17b8a5c539147b4279c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/965c3f43f9e5e017da24f17b8a5c539147b4279c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/965c3f43f9e5e017da24f17b8a5c539147b4279c"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "0470b3d5de1cf6cc2c415c422560234bc35aa893", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e154a394de4671ecb39d9a8285aba1e9b6de0f5f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e154a394de4671ecb39d9a8285aba1e9b6de0f5f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e154a394de4671ecb39d9a8285aba1e9b6de0f5f", "patch": "@@ -1,3 +1,9 @@\n+Sat Apr  3 19:21:05 1999  Alexandre Oliva  <oliva@dcc.unicamp.br>\n+\n+\t* configure.in (DEFAULT_LINKER, DEFAULT_ASSEMBLER): Use grep\n+\tinstead of test and sed to check whether they're GNU programs.\n+\t* configure: Rebuilt.\n+\n Sat Apr  3 17:57:35 1999  Alexandre Oliva  <oliva@dcc.unicamp.br>\n \n \t* Makefile.in (install-headers-tar, install-headers-cpio): avoid"}, {"sha": "d159baefe7fb29ed4a8ecedd09be96f120eb104a", "filename": "gcc/configure", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e154a394de4671ecb39d9a8285aba1e9b6de0f5f/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e154a394de4671ecb39d9a8285aba1e9b6de0f5f/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=e154a394de4671ecb39d9a8285aba1e9b6de0f5f", "patch": "@@ -649,7 +649,7 @@ fi\n if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n   if test ! -x \"$DEFAULT_LINKER\"; then\n     echo \"configure: warning: cannot execute: $DEFAULT_LINKER: check --with-ld or env. var. DEFAULT_LINKER\" 1>&2\n-  elif test \"GNU\" = `$DEFAULT_LINKER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+  elif $DEFAULT_LINKER -v < /dev/null 2>&1 | grep GNU > /dev/null; then\n     gnu_ld_flag=yes\n   fi\n   cat >> confdefs.h <<EOF\n@@ -677,7 +677,7 @@ fi\n if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n   if test ! -x \"$DEFAULT_ASSEMBLER\"; then\n     echo \"configure: warning: cannot execute: $DEFAULT_ASSEMBLER: check --with-as or env. var. DEFAULT_ASSEMBLER\" 1>&2\n-  elif test \"GNU\" = `$DEFAULT_ASSEMBLER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+  elif $DEFAULT_ASSEMBLER -v < /dev/null 2>&1 | grep GNU > /dev/null; then\n     gas_flag=yes\n   fi\n   cat >> confdefs.h <<EOF\n@@ -1248,7 +1248,7 @@ fi\n echo $ac_n \"checking whether a default assembler was specified\"\"... $ac_c\" 1>&6\n echo \"configure:1250: checking whether a default assembler was specified\" >&5\n if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n-    if test x\"$with_gas\" = x\"no\"; then\n+    if test x\"$gas_flag\" = x\"no\"; then\n     \techo \"$ac_t\"\"yes ($DEFAULT_ASSEMBLER)\" 1>&6\n     else\n \techo \"$ac_t\"\"yes ($DEFAULT_ASSEMBLER - GNU as)\" 1>&6\n@@ -1260,7 +1260,7 @@ fi\n echo $ac_n \"checking whether a default linker was specified\"\"... $ac_c\" 1>&6\n echo \"configure:1262: checking whether a default linker was specified\" >&5\n if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n-    if test x\"$with_gnu_ld\" = x\"no\"; then\n+    if test x\"$gnu_ld_flag\" = x\"no\"; then\n \techo \"$ac_t\"\"yes ($DEFAULT_LINKER)\" 1>&6\n     else\n \techo \"$ac_t\"\"yes ($DEFAULT_LINKER - GNU ld)\" 1>&6"}, {"sha": "2b1dd421a361ece5ae7b886409711463087368c9", "filename": "gcc/configure.in", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e154a394de4671ecb39d9a8285aba1e9b6de0f5f/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e154a394de4671ecb39d9a8285aba1e9b6de0f5f/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=e154a394de4671ecb39d9a8285aba1e9b6de0f5f", "patch": "@@ -98,7 +98,7 @@ DEFAULT_LINKER=\"$with_ld\")\n if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n   if test ! -x \"$DEFAULT_LINKER\"; then\n     AC_MSG_WARN([cannot execute: $DEFAULT_LINKER: check --with-ld or env. var. DEFAULT_LINKER])\n-  elif test \"GNU\" = `$DEFAULT_LINKER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+  elif $DEFAULT_LINKER -v < /dev/null 2>&1 | grep GNU > /dev/null; then\n     gnu_ld_flag=yes\n   fi\n   AC_DEFINE_UNQUOTED(DEFAULT_LINKER,\"$DEFAULT_LINKER\")\n@@ -116,7 +116,7 @@ DEFAULT_ASSEMBLER=\"$with_as\")\n if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n   if test ! -x \"$DEFAULT_ASSEMBLER\"; then\n     AC_MSG_WARN([cannot execute: $DEFAULT_ASSEMBLER: check --with-as or env. var. DEFAULT_ASSEMBLER])\n-  elif test \"GNU\" = `$DEFAULT_ASSEMBLER -v </dev/null 2>&1 | sed '1s/^GNU.*/GNU/;q'`; then\n+  elif $DEFAULT_ASSEMBLER -v < /dev/null 2>&1 | grep GNU > /dev/null; then\n     gas_flag=yes\n   fi\n   AC_DEFINE_UNQUOTED(DEFAULT_ASSEMBLER,\"$DEFAULT_ASSEMBLER\")\n@@ -289,7 +289,7 @@ AC_PROG_MAKE_SET\n \n AC_MSG_CHECKING([whether a default assembler was specified])\n if test x\"${DEFAULT_ASSEMBLER+set}\" = x\"set\"; then\n-    if test x\"$with_gas\" = x\"no\"; then\n+    if test x\"$gas_flag\" = x\"no\"; then\n     \tAC_MSG_RESULT([yes ($DEFAULT_ASSEMBLER)])\n     else\n \tAC_MSG_RESULT([yes ($DEFAULT_ASSEMBLER - GNU as)])\n@@ -300,7 +300,7 @@ fi\n \n AC_MSG_CHECKING([whether a default linker was specified])\n if test x\"${DEFAULT_LINKER+set}\" = x\"set\"; then\n-    if test x\"$with_gnu_ld\" = x\"no\"; then\n+    if test x\"$gnu_ld_flag\" = x\"no\"; then\n \tAC_MSG_RESULT([yes ($DEFAULT_LINKER)])\n     else\n \tAC_MSG_RESULT([yes ($DEFAULT_LINKER - GNU ld)])"}]}