{"sha": "d88c92756b54f2fbdc88559a0db24b9f02e174d5", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDg4YzkyNzU2YjU0ZjJmYmRjODg1NTlhMGRiMjRiOWYwMmUxNzRkNQ==", "commit": {"author": {"name": "Geoffrey Keating", "email": "geoffk@redhat.com", "date": "2001-11-20T03:51:02Z"}, "committer": {"name": "Geoffrey Keating", "email": "geoffk@gcc.gnu.org", "date": "2001-11-20T03:51:02Z"}, "message": "cpp.exp: For testing on a remote host, copy across all the headers.\n\n\t* gcc.dg/cpp/cpp.exp: For testing on a remote host, copy\n\tacross all the headers.\n\t* gcc.dg/format/format.exp: For testing on a remote host,\n\tcopy format.h.\n\n\t* gcc.c-torture/execute/20011008-3.c: Allow for small STACK_SIZE.\n\t* gcc.c-torture/execute/930406-1.c: Likewise.\n\t* gcc.c-torture/execute/comp-goto-1.c: Likewise.\n\nFrom-SVN: r47194", "tree": {"sha": "efa1c18d79c22d24bc6397a6afe0b9bce2ccdcf1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/efa1c18d79c22d24bc6397a6afe0b9bce2ccdcf1"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d88c92756b54f2fbdc88559a0db24b9f02e174d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d88c92756b54f2fbdc88559a0db24b9f02e174d5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d88c92756b54f2fbdc88559a0db24b9f02e174d5", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d88c92756b54f2fbdc88559a0db24b9f02e174d5/comments", "author": null, "committer": null, "parents": [{"sha": "1b4a6975f7e4ff26374f0ec942f40acdb12b643f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b4a6975f7e4ff26374f0ec942f40acdb12b643f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b4a6975f7e4ff26374f0ec942f40acdb12b643f"}], "stats": {"total": 41, "additions": 37, "deletions": 4}, "files": [{"sha": "447e36f82a441f44d6b1c00f0cf13472018fa4a7", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d88c92756b54f2fbdc88559a0db24b9f02e174d5", "patch": "@@ -1,3 +1,14 @@\n+2001-11-19  Geoffrey Keating  <geoffk@redhat.com>\n+\n+\t* gcc.dg/cpp/cpp.exp: For testing on a remote host, copy\n+\tacross all the headers.\n+\t* gcc.dg/format/format.exp: For testing on a remote host,\n+\tcopy format.h.\n+\n+\t* gcc.c-torture/execute/20011008-3.c: Allow for small STACK_SIZE.\n+\t* gcc.c-torture/execute/930406-1.c: Likewise.\n+\t* gcc.c-torture/execute/comp-goto-1.c: Likewise.\n+\n 2001-11-19  Aldy Hernandez  <aldyh@redhat.com>\n \n         * gcc.dg/altivec-1.c: New."}, {"sha": "6d2a18f64a7b1c37ba540fd5ed78133821527ac0", "filename": "gcc/testsuite/gcc.c-torture/execute/20011008-3.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20011008-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20011008-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F20011008-3.c?ref=d88c92756b54f2fbdc88559a0db24b9f02e174d5", "patch": "@@ -81,18 +81,24 @@ __db_txnlist_lsnadd(int val, DB_TXNLIST *elp, DB_LSN *lsnp, u_int32_t flags)\n    return val;\n }\n \n+#ifndef STACK_SIZE\n+#define\tVLEN\t1235\n+#else\n+#define VLEN (STACK_SIZE/10)\n+#endif\n+\n int main (void)\n {\n   DB_TXNLIST el;\n-  DB_LSN lsn, lsn_a[1235];\n+  DB_LSN lsn, lsn_a[VLEN];\n   \n-  el.u.l.ntxns = 1234;\n+  el.u.l.ntxns = VLEN-1;\n   el.u.l.lsn_array = lsn_a;\n   \n   if (__db_txnlist_lsnadd (0, &el, &lsn, 0) != 1)\n     abort ();\n   \n-  if (__db_txnlist_lsnadd (0, &el, &lsn, 1) != 1234)\n+  if (__db_txnlist_lsnadd (0, &el, &lsn, 1) != VLEN-1)\n     abort ();\n   \n   exit (0);"}, {"sha": "9728eabd7eda436ba5c7f83183f5ac5fffe00f08", "filename": "gcc/testsuite/gcc.c-torture/execute/930406-1.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930406-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930406-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F930406-1.c?ref=d88c92756b54f2fbdc88559a0db24b9f02e174d5", "patch": "@@ -1,7 +1,11 @@\n f()\n {\n   int x = 1;\n+#if defined(STACK_SIZE)\n+  char big[STACK_SIZE/2];\n+#else\n   char big[0x1000];\n+#endif\n \n   ({\n     __label__ mylabel;"}, {"sha": "bf648b3440ccce3871cf703a4cc6e8fe44b65287", "filename": "gcc/testsuite/gcc.c-torture/execute/comp-goto-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2Fcomp-goto-1.c?ref=d88c92756b54f2fbdc88559a0db24b9f02e174d5", "patch": "@@ -1,6 +1,6 @@\n #include <stdlib.h>\n \n-#ifndef NO_LABEL_VALUES\n+#if !defined(NO_LABEL_VALUES) && (!defined(STACK_SIZE) || STACK_SIZE >= 4000)\n #if __INT_MAX__ == 32767\n typedef unsigned long uint32;\n typedef signed long sint32;"}, {"sha": "fe6b608bbf5c09f2ebefec29eb3bc2cdbc16ac8b", "filename": "gcc/testsuite/gcc.dg/cpp/cpp.exp", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcpp.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcpp.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fcpp%2Fcpp.exp?ref=d88c92756b54f2fbdc88559a0db24b9f02e174d5", "patch": "@@ -16,6 +16,13 @@\n \n # GCC testsuite that uses the `dg.exp' driver.\n \n+# There's a bunch of headers we need.\n+if [is_remote host] {\n+    foreach header [glob -nocomplain $srcdir/$subdir/*.{h,def} ] {\n+\tremote_download host $header\n+    }\n+}\n+\n # Load support procs.\n load_lib gcc-dg.exp\n "}, {"sha": "b9eaf4122923fc2ddfbf8b87c08297db195dabdc", "filename": "gcc/testsuite/gcc.dg/format/format.exp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fformat.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d88c92756b54f2fbdc88559a0db24b9f02e174d5/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fformat.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fformat%2Fformat.exp?ref=d88c92756b54f2fbdc88559a0db24b9f02e174d5", "patch": "@@ -36,6 +36,11 @@ set TORTURE_OPTIONS [list { } { -DWIDE } ]\n set torture_with_loops [list { } { -DWIDE } ]\n set torture_without_loops [list { } { -DWIDE } ]\n \n+# Need to copy the format.h header.\n+if [is_remote host] {\n+    remote_download host $srcdir/$subdir/format.h\n+}\n+\n load_lib gcc-dg.exp\n \n dg-init"}]}