{"sha": "c384918318641f47518217cfc12f2e668043614c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzM4NDkxODMxODY0MWY0NzUxODIxN2NmYzEyZjJlNjY4MDQzNjE0Yw==", "commit": {"author": {"name": "David Billinghurst", "email": "David.Billinghurst@riotinto.com", "date": "2001-08-15T05:59:41Z"}, "committer": {"name": "Toon Moene", "email": "toon@gcc.gnu.org", "date": "2001-08-15T05:59:41Z"}, "message": "g77-dg.exp: Use prune.exp for common procedures\n\n2001-08-14  David Billinghurst <David.Billinghurst@riotinto.com>\n\n\t* lib/g77-dg.exp:  Use prune.exp for common procedures\n\t(g77-dg-prune): Replace prune_g77_output with prune_gcc_output\n\t* lib/g77.exp: (g77-dg-prune) Remove\n\nFrom-SVN: r44916", "tree": {"sha": "aad17a36173bfd756c71dae62f010045e0dbe934", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/aad17a36173bfd756c71dae62f010045e0dbe934"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c384918318641f47518217cfc12f2e668043614c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c384918318641f47518217cfc12f2e668043614c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c384918318641f47518217cfc12f2e668043614c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c384918318641f47518217cfc12f2e668043614c/comments", "author": null, "committer": null, "parents": [{"sha": "61688c33b09fea6215c396322308d9b9c021c860", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/61688c33b09fea6215c396322308d9b9c021c860", "html_url": "https://github.com/Rust-GCC/gccrs/commit/61688c33b09fea6215c396322308d9b9c021c860"}], "stats": {"total": 37, "additions": 8, "deletions": 29}, "files": [{"sha": "a52b0e50520066894813fafdf030c05d2992cc9f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c384918318641f47518217cfc12f2e668043614c/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c384918318641f47518217cfc12f2e668043614c/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c384918318641f47518217cfc12f2e668043614c", "patch": "@@ -1,3 +1,9 @@\n+2001-08-14  David Billinghurst <David.Billinghurst@riotinto.com>\n+\n+\t* lib/g77-dg.exp:  Use prune.exp for common procedures\n+\t(g77-dg-prune): Replace prune_g77_output with prune_gcc_output \n+\t* lib/g77.exp: (g77-dg-prune) Remove \n+\n 2001-08-13  Jason Merrill  <jason_merrill@redhat.com>\n \n \t* lib/scanasm.exp (scan-assembler*): Use expr instead of concat."}, {"sha": "ba267317c467a17bc4e06d6b23c47e4b6ae1efd2", "filename": "gcc/testsuite/lib/g77-dg.exp", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c384918318641f47518217cfc12f2e668043614c/gcc%2Ftestsuite%2Flib%2Fg77-dg.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c384918318641f47518217cfc12f2e668043614c/gcc%2Ftestsuite%2Flib%2Fg77-dg.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg77-dg.exp?ref=c384918318641f47518217cfc12f2e668043614c", "patch": "@@ -18,6 +18,7 @@ load_lib dg.exp\n load_lib file-format.exp\n load_lib target-supports.exp\n load_lib scanasm.exp\n+load_lib prune.exp\n \n if ![info exists TORTURE_OPTIONS] {\n     # It is theoretically beneficial to group all of the O2/O3 options together,\n@@ -100,7 +101,7 @@ proc g77-dg-test { prog do_what extra_tool_flags } {\n }\n \n proc g77-dg-prune { system text } {\n-    set text [prune_g77_output $text]\n+    set text [prune_gcc_output $text]\n \n     # If we see \"region xxx is full\" then the testcase is too big for ram.\n     # This is tricky to deal with in a large testsuite like c-torture so"}, {"sha": "b5287a79a9f195a0bc24bda48c7843d851e79f17", "filename": "gcc/testsuite/lib/g77.exp", "status": "modified", "additions": 0, "deletions": 28, "changes": 28, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c384918318641f47518217cfc12f2e668043614c/gcc%2Ftestsuite%2Flib%2Fg77.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c384918318641f47518217cfc12f2e668043614c/gcc%2Ftestsuite%2Flib%2Fg77.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Flib%2Fg77.exp?ref=c384918318641f47518217cfc12f2e668043614c", "patch": "@@ -153,31 +153,3 @@ proc g77_target_compile { source dest type options } {\n     return [target_compile $source $dest $type $options]\n }\n \n-# Provide a definition of this if missing (delete after next dejagnu release).\n-\n-if { [info procs prune_warnings] == \"\" } then {\n-    proc prune_warnings { text } {\n-\treturn $text\n-    }\n-}\n-\n-# Prune messages from g77 that aren't useful.\n-\n-proc prune_g77_output { text } {\n-    #send_user \"Before:$text\\n\"\n-    regsub -all \"(^|\\n)\\[^\\n\\]*: In (function|method) \\[^\\n\\]*\" $text \"\" text\n-    regsub -all \"(^|\\n)\\[^\\n\\]*: At top level:\\[^\\n\\]*\" $text \"\" text\n-\n-    # It would be nice to avoid passing anything to g77 that would cause it to\n-    # issue these messages (since ignoring them seems like a hack on our part),\n-    # but that's too difficult in the general case.  For example, sometimes\n-    # you need to use -B to point g77 at crt0.o, but there are some targets\n-    # that don't have crt0.o.\n-    regsub -all \"(^|\\n)\\[^\\n\\]*file path prefix \\[^\\n\\]* never used\" $text \"\" text\n-    regsub -all \"(^|\\n)\\[^\\n\\]*linker input file unused since linking not done\" $text \"\" text\n-\n-    #send_user \"After:$text\\n\"\n-\n-    return $text\n-}\n-"}]}