{"sha": "688e531e4b84d9250646715658179a5f72753609", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Njg4ZTUzMWU0Yjg0ZDkyNTA2NDY3MTU2NTgxNzlhNWY3Mjc1MzYwOQ==", "commit": {"author": {"name": "David Krauss", "email": "david_work@me.com", "date": "2015-04-14T15:29:27Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2015-04-14T15:29:27Z"}, "message": "re PR c++/59766 (c++1y: declaring friend function with 'auto' return type deduction is rejected with bogus reason)\n\n\tPR c++/59766\n\t* decl.c (grokdeclarator): Do not flag friends with deduced return.\n\nFrom-SVN: r222095", "tree": {"sha": "a32a497ef0a398c352a42a0e75a8905ce2ec5f3b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a32a497ef0a398c352a42a0e75a8905ce2ec5f3b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/688e531e4b84d9250646715658179a5f72753609", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/688e531e4b84d9250646715658179a5f72753609", "html_url": "https://github.com/Rust-GCC/gccrs/commit/688e531e4b84d9250646715658179a5f72753609", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/688e531e4b84d9250646715658179a5f72753609/comments", "author": {"login": "potswa", "id": 1298160, "node_id": "MDQ6VXNlcjEyOTgxNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/1298160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/potswa", "html_url": "https://github.com/potswa", "followers_url": "https://api.github.com/users/potswa/followers", "following_url": "https://api.github.com/users/potswa/following{/other_user}", "gists_url": "https://api.github.com/users/potswa/gists{/gist_id}", "starred_url": "https://api.github.com/users/potswa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/potswa/subscriptions", "organizations_url": "https://api.github.com/users/potswa/orgs", "repos_url": "https://api.github.com/users/potswa/repos", "events_url": "https://api.github.com/users/potswa/events{/privacy}", "received_events_url": "https://api.github.com/users/potswa/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "2fd16d0f9007f2e9a991b80c6ae2e4c5f85272b6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fd16d0f9007f2e9a991b80c6ae2e4c5f85272b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fd16d0f9007f2e9a991b80c6ae2e4c5f85272b6"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "10df58f0bee109141059b53838b09584aa3aa927", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688e531e4b84d9250646715658179a5f72753609/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688e531e4b84d9250646715658179a5f72753609/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=688e531e4b84d9250646715658179a5f72753609", "patch": "@@ -1,3 +1,8 @@\n+2015-04-14  David Krauss  <david_work@me.com>\n+\n+\tPR c++/59766\n+\t* decl.c (grokdeclarator): Do not flag friends with deduced return.\n+\n 2015-04-14  Momchil Velikov  <momchil.velikov@gmail.com>\n \t    Jason Merrill  <jason@redhat.com>\n "}, {"sha": "c8323b0e9a49573f08646fb48ea1e3e29e4f67f6", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688e531e4b84d9250646715658179a5f72753609/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688e531e4b84d9250646715658179a5f72753609/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=688e531e4b84d9250646715658179a5f72753609", "patch": "@@ -10628,7 +10628,7 @@ grokdeclarator (const cp_declarator *declarator,\n       }\n     else if (decl_context == FIELD)\n       {\n-\tif (!staticp && TREE_CODE (type) != METHOD_TYPE\n+\tif (!staticp && !friendp && TREE_CODE (type) != METHOD_TYPE\n \t    && type_uses_auto (type))\n \t  {\n \t    error (\"non-static data member declared %<auto%>\");"}, {"sha": "17f232fde996e535713c82a6a11cc9f0ff7cf3f3", "filename": "gcc/testsuite/g++.dg/cpp1y/auto-fn26.C", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/688e531e4b84d9250646715658179a5f72753609/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fauto-fn26.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/688e531e4b84d9250646715658179a5f72753609/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fauto-fn26.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp1y%2Fauto-fn26.C?ref=688e531e4b84d9250646715658179a5f72753609", "patch": "@@ -0,0 +1,6 @@\n+// PR c++/59766\n+// { dg-do compile { target c++14 } }\n+\n+struct T {\n+  friend auto f() { }\n+};"}]}