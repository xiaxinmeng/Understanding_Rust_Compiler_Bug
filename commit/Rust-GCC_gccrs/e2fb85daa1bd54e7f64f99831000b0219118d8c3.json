{"sha": "e2fb85daa1bd54e7f64f99831000b0219118d8c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTJmYjg1ZGFhMWJkNTRlN2Y2NGY5OTgzMTAwMGIwMjE5MTE4ZDhjMw==", "commit": {"author": {"name": "Bob Wilson", "email": "bob.wilson@acm.org", "date": "2002-03-12T20:02:36Z"}, "committer": {"name": "Bob Wilson", "email": "bwilson@gcc.gnu.org", "date": "2002-03-12T20:02:36Z"}, "message": "xtensa-config.h: Define XCHAL_HAVE_LOOPS.\n\n        * config/xtensa/xtensa-config.h: Define XCHAL_HAVE_LOOPS.\n        * config/xtensa/lib1funcs.asm: Fix copyright to include\n        special case for libgcc files.\n        (__udivsi3): Avoid loop instructions when XCHAL_HAVE_LOOPS is 0.\n        (__divsi3): Likewise.\n        (__umodsi3): Likewise.\n        (__modsi3): Likewise.\n        * config/xtensa/lib2funcs.S: Fix copyright to include\n        special case for libgcc files.\n\nFrom-SVN: r50677", "tree": {"sha": "0dd65f61fd44112d0578512c728d7272344caa81", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0dd65f61fd44112d0578512c728d7272344caa81"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e2fb85daa1bd54e7f64f99831000b0219118d8c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2fb85daa1bd54e7f64f99831000b0219118d8c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e2fb85daa1bd54e7f64f99831000b0219118d8c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e2fb85daa1bd54e7f64f99831000b0219118d8c3/comments", "author": null, "committer": null, "parents": [{"sha": "5a471df6f90bc64da849851237864184394f77ae", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5a471df6f90bc64da849851237864184394f77ae", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5a471df6f90bc64da849851237864184394f77ae"}], "stats": {"total": 68, "additions": 66, "deletions": 2}, "files": [{"sha": "87e5ca1afcfe0601bca179c441dc4abd42e84156", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=e2fb85daa1bd54e7f64f99831000b0219118d8c3", "patch": "@@ -1,3 +1,15 @@\n+2002-03-12  Bob Wilson  <bob.wilson@acm.org>\n+\n+\t* config/xtensa/xtensa-config.h: Define XCHAL_HAVE_LOOPS.\n+\t* config/xtensa/lib1funcs.asm: Fix copyright to include\n+\tspecial case for libgcc files.\n+\t(__udivsi3): Avoid loop instructions when XCHAL_HAVE_LOOPS is 0.\n+\t(__divsi3): Likewise.\n+\t(__umodsi3): Likewise.\n+\t(__modsi3): Likewise.\n+\t* config/xtensa/lib2funcs.S: Fix copyright to include\n+\tspecial case for libgcc files.\n+\n 2002-03-12  Tom Rix  <trix@redhat.com>\n \n \t* collect2.c (resolve_lib_name): Move outside of"}, {"sha": "a40f11b5ff817392dda153445a7ee321fdb9f469", "filename": "gcc/config/xtensa/lib1funcs.asm", "status": "modified", "additions": 38, "deletions": 1, "changes": 39, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2Fconfig%2Fxtensa%2Flib1funcs.asm", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2Fconfig%2Fxtensa%2Flib1funcs.asm", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Flib1funcs.asm?ref=e2fb85daa1bd54e7f64f99831000b0219118d8c3", "patch": "@@ -1,5 +1,5 @@\n /* Assembly functions for the Xtensa version of libgcc1.\n-   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Copyright (C) 2001,2002 Free Software Foundation, Inc.\n    Contributed by Bob Wilson (bwilson@tensilica.com) at Tensilica.\n \n This file is part of GCC.\n@@ -9,6 +9,15 @@ the terms of the GNU General Public License as published by the Free\n Software Foundation; either version 2, or (at your option) any later\n version.\n \n+In addition to the permissions in the GNU General Public License, the\n+Free Software Foundation gives you unlimited permission to link the\n+compiled version of this file into combinations with other programs,\n+and to distribute those combinations without any restriction coming\n+from the use of this file.  (The General Public License restrictions\n+do apply in other respects; for example, they cover modification of\n+the file, and distribution when not linked into a combine\n+executable.)\n+\n GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n WARRANTY; without even the implied warranty of MERCHANTABILITY or\n FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n@@ -211,13 +220,20 @@ __udivsi3:\n \tmovi\ta2, 0\t\t# quotient = 0\n \n \t# test-subtract-and-shift loop; one quotient bit on each iteration\n+#if XCHAL_HAVE_LOOPS\n \tloopnez\ta4, .Lloopend\n+#endif /* XCHAL_HAVE_LOOPS */\n+.Lloop:\n \tbltu\ta6, a3, .Lzerobit\n \tsub\ta6, a6, a3\n \taddi\ta2, a2, 1\n .Lzerobit:\n \tslli\ta2, a2, 1\n \tsrli\ta3, a3, 1\n+#if !XCHAL_HAVE_LOOPS\n+\taddi\ta4, a4, -1\n+\tbnez\ta4, .Lloop\n+#endif /* !XCHAL_HAVE_LOOPS */\n .Lloopend:\n \n \tbltu\ta6, a3, .Lreturn\n@@ -270,13 +286,20 @@ __divsi3:\n \tmovi\ta2, 0\t\t# quotient = 0\n \n \t# test-subtract-and-shift loop; one quotient bit on each iteration\n+#if XCHAL_HAVE_LOOPS\n \tloopnez\ta4, .Lloopend\n+#endif /* XCHAL_HAVE_LOOPS */\n+.Lloop:\n \tbltu\ta6, a3, .Lzerobit\n \tsub\ta6, a6, a3\n \taddi\ta2, a2, 1\n .Lzerobit:\n \tslli\ta2, a2, 1\n \tsrli\ta3, a3, 1\n+#if !XCHAL_HAVE_LOOPS\n+\taddi\ta4, a4, -1\n+\tbnez\ta4, .Lloop\n+#endif /* !XCHAL_HAVE_LOOPS */\n .Lloopend:\n \n \tbltu\ta6, a3, .Lreturn\n@@ -331,11 +354,18 @@ __umodsi3:\n \tsll\ta3, a3\t\t# divisor <<= count\n \n \t# test-subtract-and-shift loop\n+#if XCHAL_HAVE_LOOPS\n \tloopnez\ta4, .Lloopend\n+#endif /* XCHAL_HAVE_LOOPS */\n+.Lloop:\n \tbltu\ta2, a3, .Lzerobit\n \tsub\ta2, a2, a3\n .Lzerobit:\n \tsrli\ta3, a3, 1\n+#if !XCHAL_HAVE_LOOPS\n+\taddi\ta4, a4, -1\n+\tbnez\ta4, .Lloop\n+#endif /* !XCHAL_HAVE_LOOPS */\n .Lloopend:\n \n \tbltu\ta2, a3, .Lreturn\n@@ -384,11 +414,18 @@ __modsi3:\n \tsll\ta3, a3\t\t# udivisor <<= count\n \n \t# test-subtract-and-shift loop\n+#if XCHAL_HAVE_LOOPS\n \tloopnez\ta4, .Lloopend\n+#endif /* XCHAL_HAVE_LOOPS */\n+.Lloop:\n \tbltu\ta2, a3, .Lzerobit\n \tsub\ta2, a2, a3\n .Lzerobit:\n \tsrli\ta3, a3, 1\n+#if !XCHAL_HAVE_LOOPS\n+\taddi\ta4, a4, -1\n+\tbnez\ta4, .Lloop\n+#endif /* !XCHAL_HAVE_LOOPS */\n .Lloopend:\n \n \tbltu\ta2, a3, .Lreturn"}, {"sha": "f607e01f2eaafb713cf914b55baaecd09bd1dc4a", "filename": "gcc/config/xtensa/lib2funcs.S", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2Fconfig%2Fxtensa%2Flib2funcs.S", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2Fconfig%2Fxtensa%2Flib2funcs.S", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Flib2funcs.S?ref=e2fb85daa1bd54e7f64f99831000b0219118d8c3", "patch": "@@ -9,6 +9,15 @@ the terms of the GNU General Public License as published by the Free\n Software Foundation; either version 2, or (at your option) any later\n version.\n \n+In addition to the permissions in the GNU General Public License, the\n+Free Software Foundation gives you unlimited permission to link the\n+compiled version of this file into combinations with other programs,\n+and to distribute those combinations without any restriction coming\n+from the use of this file.  (The General Public License restrictions\n+do apply in other respects; for example, they cover modification of\n+the file, and distribution when not linked into a combine\n+executable.)\n+\n GCC is distributed in the hope that it will be useful, but WITHOUT ANY\n WARRANTY; without even the implied warranty of MERCHANTABILITY or\n FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License"}, {"sha": "edeae978890a3ddf2712acc7fe30664b67b19e66", "filename": "gcc/config/xtensa/xtensa-config.h", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2Fconfig%2Fxtensa%2Fxtensa-config.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e2fb85daa1bd54e7f64f99831000b0219118d8c3/gcc%2Fconfig%2Fxtensa%2Fxtensa-config.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fxtensa%2Fxtensa-config.h?ref=e2fb85daa1bd54e7f64f99831000b0219118d8c3", "patch": "@@ -1,7 +1,12 @@\n /* Xtensa configuration settings.\n-   Copyright (C) 2001 Free Software Foundation, Inc.\n+   Copyright (C) 2001,2002 Free Software Foundation, Inc.\n    Contributed by Bob Wilson (bwilson@tensilica.com) at Tensilica.\n \n+** NOTE: This file was automatically generated by the Xtensa Processor\n+** Generator.  Changes made here will be lost when this file is\n+** updated or replaced with the settings for a different Xtensa\n+** processor configuration.  DO NOT EDIT!\n+\n This program is free software; you can redistribute it and/or modify\n it under the terms of the GNU General Public License as published by\n the Free Software Foundation; either version 2, or (at your option)\n@@ -29,6 +34,7 @@ Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.\n #define XCHAL_HAVE_NSA\t\t\t1\n #define XCHAL_HAVE_MINMAX\t\t0\n #define XCHAL_HAVE_SEXT\t\t\t0\n+#define XCHAL_HAVE_LOOPS\t\t1\n #define XCHAL_HAVE_BOOLEANS\t\t0\n #define XCHAL_HAVE_FP\t\t\t0\n #define XCHAL_HAVE_FP_DIV\t\t0"}]}