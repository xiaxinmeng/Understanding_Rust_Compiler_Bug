{"sha": "a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTdmZWE4OGZmYmJhNDMwMGExZWMwYWI1ZjNiYjAzYzlhNDU4MTdmMg==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2018-03-12T13:33:38Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2018-03-12T13:33:38Z"}, "message": "Add a testcase for PR 84821\n\nThis was introduced by r258390 and fixed by r258415.\n\n\t* g++.dg/pr84821.C: New test.\n\nFrom-SVN: r258449", "tree": {"sha": "e65bbec10df184bcf67691144f4371b37604fb47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e65bbec10df184bcf67691144f4371b37604fb47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3fe126afd1b2fb9177e419ecc64143afd9e20f15", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3fe126afd1b2fb9177e419ecc64143afd9e20f15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3fe126afd1b2fb9177e419ecc64143afd9e20f15"}], "stats": {"total": 59, "additions": 59, "deletions": 0}, "files": [{"sha": "5dead01586c103758fce94db56ff6342207bd975", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2", "patch": "@@ -1,3 +1,7 @@\n+2018-03-12  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\t* g++.dg/pr84821.C: New test.\n+\n 2018-03-12  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* gcc.dg/pr84799.c: New test."}, {"sha": "39da3671eec13decd0426fe07f7fc2cd869e1b35", "filename": "gcc/testsuite/g++.dg/pr84821.C", "status": "added", "additions": 55, "deletions": 0, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr84821.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr84821.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fpr84821.C?ref=a7fea88ffbba4300a1ec0ab5f3bb03c9a45817f2", "patch": "@@ -0,0 +1,55 @@\n+// { dg-do compile }\n+// { dg-options \"-O2\" }\n+// { dg-additional-options \"-fPIC\" { target fpic } }\n+\n+typedef struct a *b;\n+struct a {\n+  int c;\n+  unsigned d[];\n+};\n+int e, f, g, i, l, m;\n+struct o {\n+  long *h;\n+  int c;\n+  unsigned j;\n+  int k;\n+  long aa;\n+};\n+inline void p(o *r) { r->c = g; }\n+int *n, *ab;\n+inline bool s(o *r) {\n+  for (; r->aa == 0; r->aa = r->h[r->j])\n+    if (r->j >= r->c)\n+      return false;\n+  r->aa >>= 1;\n+  for (; r->aa;)\n+    r++;\n+  *n = r->k;\n+  return true;\n+}\n+class t {\n+public:\n+  t(int);\n+  operator b() { return q; }\n+  b q;\n+};\n+bool u, v, ac;\n+void fn3() {\n+  long w, x;\n+  o ad;\n+  bool ae;\n+  t af(i), ag(i);\n+  for (p(&ad); s(&ad);) {\n+    a *ah = af, *ai = ah, *aj = ag;\n+    x = ai->d[e] >> f & 1;\n+    ae = x;\n+    ai = aj;\n+    w = ai->d[e] >> f & 1;\n+    ac = w;\n+    if (v && u && w && x)\n+      ab[l] = ++m;\n+    u = x;\n+  }\n+  for (;;)\n+    ;\n+}"}]}