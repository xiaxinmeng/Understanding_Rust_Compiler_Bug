{"sha": "c453325c7204611d0bba0eed257347bed6b4e20b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzQ1MzMyNWM3MjA0NjExZDBiYmEwZWVkMjU3MzQ3YmVkNmI0ZTIwYg==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2001-12-17T18:40:10Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-12-17T18:40:10Z"}, "message": "sparc.md (movdi_zero): Remove.\n\n        * config/sparc/sparc.md (movdi_zero): Remove.\n        (movdi_insn_sp32_v9): New.\n\nFrom-SVN: r48115", "tree": {"sha": "0f5faf7b3ec507e6e1b57f17dc53df37852a044f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0f5faf7b3ec507e6e1b57f17dc53df37852a044f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c453325c7204611d0bba0eed257347bed6b4e20b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c453325c7204611d0bba0eed257347bed6b4e20b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c453325c7204611d0bba0eed257347bed6b4e20b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c453325c7204611d0bba0eed257347bed6b4e20b/comments", "author": null, "committer": null, "parents": [{"sha": "c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c04cf67b3ffc8b8e6e6833b8e383299e74211abb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c04cf67b3ffc8b8e6e6833b8e383299e74211abb"}], "stats": {"total": 48, "additions": 36, "deletions": 12}, "files": [{"sha": "bf0bff509f63ff45815dc58081a131ba7d9f6d02", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c453325c7204611d0bba0eed257347bed6b4e20b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c453325c7204611d0bba0eed257347bed6b4e20b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c453325c7204611d0bba0eed257347bed6b4e20b", "patch": "@@ -1,3 +1,8 @@\n+2001-12-17  Richard Henderson  <rth@redhat.com>\n+\n+\t* config/sparc/sparc.md (movdi_zero): Remove.\n+\t(movdi_insn_sp32_v9): New.\n+\n 2001-12-17  Richard Henderson  <rth@redhat.com>\n \n \t* cfgcleanup.c (outgoing_edges_match): Check for insn match with"}, {"sha": "f4d5d1f443b09fda05cf357a2295b790007e17a6", "filename": "gcc/config/sparc/sparc.md", "status": "modified", "additions": 31, "deletions": 12, "changes": 43, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c453325c7204611d0bba0eed257347bed6b4e20b/gcc%2Fconfig%2Fsparc%2Fsparc.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c453325c7204611d0bba0eed257347bed6b4e20b/gcc%2Fconfig%2Fsparc%2Fsparc.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsparc%2Fsparc.md?ref=c453325c7204611d0bba0eed257347bed6b4e20b", "patch": "@@ -2444,13 +2444,6 @@\n   ;\n }\")\n \n-(define_insn \"*movdi_zero\"\n-  [(set (match_operand:DI 0 \"memory_operand\" \"\")\n-\t(const_int 0))]\n-  \"TARGET_V9\"\n-  \"stx\\\\t%%g0, %0\"\n-  [(set_attr \"type\" \"store\")])\n-\n ;; Be careful, fmovd does not exist when !arch64.\n ;; We match MEM moves directly when we have correct even\n ;; numbered registers, but fall into splits otherwise.\n@@ -2462,12 +2455,38 @@\n ;;                       (const_int -5016)))\n ;;      (reg:DI 2 %g2))\n ;;\n+\n+(define_insn \"*movdi_insn_sp32_v9\"\n+  [(set (match_operand:DI 0 \"nonimmediate_operand\"\n+\t\t\t\t\t\"=m,T,U,o,r,r,r,?T,?f,?f,?o,?f\")\n+        (match_operand:DI 1 \"input_operand\"\n+\t\t\t\t\t\" J,U,T,r,o,i,r, f, T, o, f, f\"))]\n+  \"! TARGET_ARCH64 && TARGET_V9\n+   && (GET_CODE (operands[0]) != MEM || GET_CODE (operands[1]) != MEM)\"\n+  \"@\n+   stx\\\\t%%g0, %0\n+   std\\\\t%1, %0\n+   ldd\\\\t%1, %0\n+   #\n+   #\n+   #\n+   #\n+   std\\\\t%1, %0\n+   ldd\\\\t%1, %0\n+   #\n+   #\n+   #\"\n+  [(set_attr \"type\" \"store,store,load,*,*,*,*,fpstore,fpload,*,*,*\")\n+   (set_attr \"length\" \"*,*,*,2,2,2,2,*,*,2,2,2\")])\n+\n (define_insn \"*movdi_insn_sp32\"\n-  [(set (match_operand:DI 0 \"nonimmediate_operand\" \"=T,U,o,r,r,r,?T,?f,?f,?o,?f\")\n-        (match_operand:DI 1 \"input_operand\"    \"U,T,r,o,i,r,f,T,o,f,f\"))]\n-  \"! TARGET_ARCH64 &&\n-   (register_operand (operands[0], DImode)\n-    || register_operand (operands[1], DImode))\"\n+  [(set (match_operand:DI 0 \"nonimmediate_operand\"\n+\t\t\t\t\"=T,U,o,r,r,r,?T,?f,?f,?o,?f\")\n+        (match_operand:DI 1 \"input_operand\"\n+\t\t\t\t\" U,T,r,o,i,r, f, T, o, f, f\"))]\n+  \"! TARGET_ARCH64\n+   && (register_operand (operands[0], DImode)\n+       || register_operand (operands[1], DImode))\"\n   \"@\n    std\\\\t%1, %0\n    ldd\\\\t%1, %0"}]}