{"sha": "0f2be732d964ef89eb268114e4dd8d00130aa29b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGYyYmU3MzJkOTY0ZWY4OWViMjY4MTE0ZTRkZDhkMDAxMzBhYTI5Yg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-07-23T19:57:22Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-07-23T19:57:22Z"}, "message": "compiler: Make empty interface types for vars during parse time.\n\n    \n    When making the type for a variable with an empty interface type,\n    the parser makes an interface type with a NULL method set and relies\n    on later passes to correct this.\n    \n    For sink variables, which are ignored in later passes, the interface\n    method table is never finalized and a compile time assertion is issued.\n    Instead, the initial type generated by the parser should be the empty\n    interface type.\n    \n    Fixes golang/go#11579.\n    \n    Reviewed-on: https://go-review.googlesource.com/12049\n\nFrom-SVN: r226123", "tree": {"sha": "920912335e30f142ac01bae36115e40490d5f0bf", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/920912335e30f142ac01bae36115e40490d5f0bf"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f2be732d964ef89eb268114e4dd8d00130aa29b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f2be732d964ef89eb268114e4dd8d00130aa29b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f2be732d964ef89eb268114e4dd8d00130aa29b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f2be732d964ef89eb268114e4dd8d00130aa29b/comments", "author": null, "committer": null, "parents": [{"sha": "20886e7134bbf98b5cd087e296b581f8e1a42d95", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20886e7134bbf98b5cd087e296b581f8e1a42d95", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20886e7134bbf98b5cd087e296b581f8e1a42d95"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "a7b5246ad3962bb38360a8e788ff03f7fa6dae84", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f2be732d964ef89eb268114e4dd8d00130aa29b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f2be732d964ef89eb268114e4dd8d00130aa29b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=0f2be732d964ef89eb268114e4dd8d00130aa29b", "patch": "@@ -1,4 +1,4 @@\n-b4a932b4a51b612cadcec93a83f94d6ee7d7d190\n+cbb27e8089e11094a20502e53ef69c9c36955f85\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "113371c7b216b2a9ee0c04779c1d2ed90f6244f2", "filename": "gcc/go/gofrontend/parse.cc", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f2be732d964ef89eb268114e4dd8d00130aa29b/gcc%2Fgo%2Fgofrontend%2Fparse.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f2be732d964ef89eb268114e4dd8d00130aa29b/gcc%2Fgo%2Fgofrontend%2Fparse.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fparse.cc?ref=0f2be732d964ef89eb268114e4dd8d00130aa29b", "patch": "@@ -1225,7 +1225,11 @@ Parse::interface_type(bool record)\n       methods = NULL;\n     }\n \n-  Interface_type* ret = Type::make_interface_type(methods, location);\n+  Interface_type* ret;\n+  if (methods == NULL)\n+    ret = Type::make_empty_interface_type(location);\n+  else\n+    ret = Type::make_interface_type(methods, location);\n   if (record)\n     this->gogo_->record_interface_type(ret);\n   return ret;"}]}