{"sha": "9de6e08232cd4628b08fa92b802858189cce2a2f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWRlNmUwODIzMmNkNDYyOGIwOGZhOTJiODAyODU4MTg5Y2NlMmEyZg==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2007-06-06T10:51:19Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-06-06T10:51:19Z"}, "message": "vms_conv.adb (Process_Argument): Keep arguments starting with '+' as is.\n\n2007-04-20  Vincent Celier  <celier@adacore.com>\n\n\t* vms_conv.adb (Process_Argument): Keep arguments starting with '+' as\n\tis.\n\n\t* vms_data.ads: Add entries for -gnatw.x and -gnatw.X\n\t/STYLE_CHECKS=GNAT: Change meaning to -gnatyg\n\t/GNAT_INTERNAL: New compiler qualifier corresponding to -gnatg\n\tAdd missing comment for /OPTIMIZE=SPACE\n\tAdd entry for OPTIMIZE=SPACE\n\tAdd new qualifier /ALL_PROJECTS (= -U) for GNAT LIST\n\tAdd documentation for new qualifiers corresponding to -gnatw.c/.C\n\nFrom-SVN: r125474", "tree": {"sha": "10c5e536d4244f817a819cc029cfaef45dee5edd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/10c5e536d4244f817a819cc029cfaef45dee5edd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9de6e08232cd4628b08fa92b802858189cce2a2f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9de6e08232cd4628b08fa92b802858189cce2a2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9de6e08232cd4628b08fa92b802858189cce2a2f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9de6e08232cd4628b08fa92b802858189cce2a2f/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "96efeb4f9d9d5b3be6766f560e04f299e14cbad2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/96efeb4f9d9d5b3be6766f560e04f299e14cbad2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/96efeb4f9d9d5b3be6766f560e04f299e14cbad2"}], "stats": {"total": 95, "additions": 67, "deletions": 28}, "files": [{"sha": "f30bf6ec59309f4dde2f7ea5460f93453c738247", "filename": "gcc/ada/vms_conv.adb", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9de6e08232cd4628b08fa92b802858189cce2a2f/gcc%2Fada%2Fvms_conv.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9de6e08232cd4628b08fa92b802858189cce2a2f/gcc%2Fada%2Fvms_conv.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_conv.adb?ref=9de6e08232cd4628b08fa92b802858189cce2a2f", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1996-2006, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1996-2007, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1474,9 +1474,9 @@ package body VMS_Conv is\n             then\n                Opt.Keep_Temporary_Files := True;\n \n-            --  Copy -switch unchanged\n+            --  Copy -switch unchanged, as well as +rule\n \n-            elsif Arg (Arg'First) = '-' then\n+            elsif Arg (Arg'First) = '-' or else Arg (Arg'First) = '+' then\n                Place (' ');\n                Place (Arg.all);\n "}, {"sha": "9f4cb6db548b75ae71b37ab96812e8cf2e6d77c3", "filename": "gcc/ada/vms_data.ads", "status": "modified", "additions": 64, "deletions": 25, "changes": 89, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9de6e08232cd4628b08fa92b802858189cce2a2f/gcc%2Fada%2Fvms_data.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9de6e08232cd4628b08fa92b802858189cce2a2f/gcc%2Fada%2Fvms_data.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_data.ads?ref=9de6e08232cd4628b08fa92b802858189cce2a2f", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 1996-2006, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1996-2007, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -1412,6 +1412,19 @@ package VMS_Data is\n    --   /VERBOSE), then error lines start with the full path name of the\n    --   project file, rather than its simple file name.\n \n+   S_GCC_GNAT    : aliased constant S := \"/GNAT_INTERNAL \"                 &\n+                                            \"-gnatg\";\n+   --        /NOGNAT_INTERNAL (D)\n+   --        /GNAT_INTERNAL\n+   --\n+   --        Internal GNAT implementation mode. This should not be used for\n+   --        applications programs, it is intended only for use by the compiler\n+   --        and its run-time library. For documentation, see the GNAT sources.\n+   --        Note that it implies /WARNINGS=ALL,ERRORS and /STYLE_CHECKS=GNAT\n+   --        so that all standard warnings and all standard style options are\n+   --        turned on. All warnings and style error messages are treated as\n+   --        errors.\n+\n    S_GCC_Help    : aliased constant S := \"/HELP \"                          &\n                                             \"-gnath\";\n    --        /NOHELP (D)\n@@ -1733,6 +1746,8 @@ package VMS_Data is\n                                                \"-O0,!-O1,!-O2,!-O3 \"       &\n                                             \"SOME \"                        &\n                                                \"-O1,!-O0,!-O2,!-O3 \"       &\n+                                            \"SPACE \"                       &\n+                                               \"-Os,!-O0,!-O1,!-O2,!-O3 \"  &\n                                             \"DEVELOPMENT \"                 &\n                                                \"-O1,!-O0,!-O2,!-O3 \"       &\n                                             \"UNROLL_LOOPS \"                &\n@@ -1755,6 +1770,8 @@ package VMS_Data is\n    --      SOME          Perform some optimizations, but omit ones that\n    --                    are costly in compilation time.\n    --\n+   --      SPACE         Optimize space usage\n+   --\n    --      DEVELOPMENT   Same as SOME.\n    --\n    --      INLINING      Full optimization, and also attempt automatic inlining\n@@ -1974,7 +1991,7 @@ package VMS_Data is\n                                             \"VTABS \"                       &\n                                                \"-gnatyf \"                  &\n                                             \"GNAT \"                        &\n-                                               \"-gnatg \"                   &\n+                                               \"-gnatyg \"                  &\n                                             \"HTABS \"                       &\n                                                \"-gnatyh \"                  &\n                                             \"IF_THEN \"                     &\n@@ -2103,20 +2120,10 @@ package VMS_Data is\n    --                           named loops, are required to be present.\n    --\n    --      GNAT                 Enforces a set of style conventions that\n-   --                           correspond to the style used in the GNAT\n-   --                           source code.  All compiler units are always\n-   --                           compile with this keyword specified.\n-   --\n-   --                           You can find the full documentation for the\n-   --                           style conventions imposed by this keyword\n-   --                           in the body of the package \"Style\" in the\n-   --                           compiler sources.\n-   --\n-   --                           You should not normally use this keyword.\n-   --                           However, you MUST use it for compiling any\n-   --                           language-defined unit, or for adding children\n-   --                           to any language-defined unit other than\n-   --                           \"Standard\".\n+   --                           match the style used in the GNAT source code.\n+   --                           This maybe useful when developing code that\n+   --                           is eventually intended to be incorporated into\n+   --                           GNAT. For further details, see GNAT sources.\n    --\n    --      HTABS                No horizontal tabs.\n    --                           Horizontal tab characters are not permitted in\n@@ -2547,6 +2554,10 @@ package VMS_Data is\n                                                \"-gnatwc \"                  &\n                                             \"NOCONDITIONALS \"              &\n                                                \"-gnatwC \"                  &\n+                                            \"MISSING_COMPONENT_CLAUSES \"   &\n+                                               \"-gnatw.c \"                 &\n+                                            \"NOMISSING_COMPONENT_CLAUSES \" &\n+                                               \"-gnatw.C \"                 &\n                                             \"CONSTANT_VARIABLES \"          &\n                                                \"-gnatwk \"                  &\n                                             \"NOCONSTANT_VARIABLES \"        &\n@@ -2631,6 +2642,10 @@ package VMS_Data is\n                                                \"-gnatwx \"                  &\n                                             \"NOIMPORT_EXPORT_PRAGMAS \"     &\n                                                \"-gnatwX \"                  &\n+                                            \"LOCAL_RAISE_HANDLING \"        &\n+                                               \"-gnatw.x \"                 &\n+                                            \"NOLOCAL_RAISE_HANDLING \"      &\n+                                               \"-gnatw.X \"                 &\n                                             \"ADA_2005_COMPATIBILITY \"      &\n                                                \"-gnatwy \"                  &\n                                             \"NOADA_2005_COMPATIBILITY \"    &\n@@ -2753,6 +2768,15 @@ package VMS_Data is\n    --                           inline a call, it will simply ignore the\n    --                           request silently.\n    --\n+   --   MISSING_COMPONENT_CLAUSES\n+   --                           Activate warnings for cases when there are\n+   --                           component clauses for a record type, but not\n+   --                           for every component of the record.\n+   --\n+   --   NOMISSING_COMPONENT_CLAUSES\n+   --                           Suppress warnings for cases when there are\n+   --                           missing component clauses for a record type.\n+   --\n    --   MISSING_PARENS\n    --                           Activate warnings for cases where parentheses\n    --                           are not used and the result is potential\n@@ -3057,6 +3081,7 @@ package VMS_Data is\n       S_GCC_File    'Access,\n       S_GCC_Force   'Access,\n       S_GCC_Full    'Access,\n+      S_GCC_GNAT    'Access,\n       S_GCC_Help    'Access,\n       S_GCC_Ident   'Access,\n       S_GCC_IdentX  'Access,\n@@ -3660,6 +3685,15 @@ package VMS_Data is\n    --   Consider all units, including those of the predefined Ada library.\n    --   Especially useful with /DEPENDENCIES.\n \n+   S_List_Allproj : aliased constant S := \"/ALL_PROJECTS \"                 &\n+                                            \"-U\";\n+   --        /NOALL_PROJECTS (D)\n+   --        /ALL_PROJECTS\n+   --\n+   --   When used with a project file and no file specified, indicate\n+   --   that gnatls should be called for all sources of all projects in\n+   --   the project tree.\n+\n    S_List_Current : aliased constant S := \"/CURRENT_DIRECTORY \"            &\n                                             \"!-I-\";\n    --        /CURRENT_DIRECTORY (D)\n@@ -3776,6 +3810,7 @@ package VMS_Data is\n \n    List_Switches : aliased constant Switches :=\n      (S_List_All     'Access,\n+      S_List_Allproj 'Access,\n       S_List_Current 'Access,\n       S_List_Depend  'Access,\n       S_List_Ext     'Access,\n@@ -5013,32 +5048,36 @@ package VMS_Data is\n    S_Pretty_Encoding  : aliased constant S := \"/RESULT_ENCODING=\"          &\n                                               \"BRACKETS \"                  &\n                                                  \"-Wb \"                    &\n-                                              \"HEX_ESC \"                   &\n+                                              \"HEX \"                       &\n                                                  \"-Wh \"                    &\n-                                              \"UPPER_HALF \"                &\n+                                              \"UPPER \"                     &\n                                                  \"-Wu \"                    &\n                                               \"SHIFT_JIS \"                 &\n                                                  \"-Ws \"                    &\n                                               \"EUC \"                       &\n                                                  \"-We \"                    &\n-                                              \"UTF_8 \"                     &\n+                                              \"UTF8 \"                      &\n                                                  \"-W8\";\n-   --        /RESULT_ENCODING[=encoding-option]\n+   --        /RESULT_ENCODING[=encoding-type]\n    --\n-   --   Specify the wide character encoding of the result file.\n-   --   '=encoding-option' may be one of:\n+   --   Specify the wide character encoding method used when writtimg the\n+   --   reformatted code in the result file. 'encoding-type' is one of the\n+   --   following:\n    --\n    --      BRACKETS (D)      Brackets encoding.\n    --\n-   --      HEX_ESC           Hex ESC encoding.\n+   --      HEX               Hex ESC encoding.\n    --\n-   --      UPPER_HALF        Upper half encoding.\n+   --      UPPER             Upper half encoding.\n    --\n    --      SHIFT_JIS         Shift-JIS encoding.\n    --\n    --      EUC               EUC Encoding.\n    --\n-   --      UTF_8             UTF-8 encoding.\n+   --      UTF8              UTF-8 encoding.\n+   --\n+   --   See 'HELP GNAT COMPILE /WIDE_CHARACTER_ENCODING' for an explanation\n+   --   about the different character encoding methods.\n \n    S_Pretty_Files     : aliased constant S := \"/FILES=@\"                   &\n                                                  \"-files=@\";"}]}