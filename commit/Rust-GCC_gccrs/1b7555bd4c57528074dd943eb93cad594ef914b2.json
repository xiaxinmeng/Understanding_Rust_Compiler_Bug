{"sha": "1b7555bd4c57528074dd943eb93cad594ef914b2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWI3NTU1YmQ0YzU3NTI4MDc0ZGQ5NDNlYjkzY2FkNTk0ZWY5MTRiMg==", "commit": {"author": {"name": "Ollivier Robert", "email": "roberto@keltia.freenix.fr", "date": "1998-01-28T23:06:58Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1998-01-28T23:06:58Z"}, "message": "freebsd.h (LIB_SPEC): Correctly handle -shared, -p and friends.\n\n        * i386/freebsd.h (LIB_SPEC): Correctly handle -shared, -p and friends.\n        (LINK_SPEC): Likewise.\n        (STARTFILE_SPEC): Likewise.\n\nFrom-SVN: r17543", "tree": {"sha": "7d31440a743192559bb0be7c64c4eb9e95caacb0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7d31440a743192559bb0be7c64c4eb9e95caacb0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1b7555bd4c57528074dd943eb93cad594ef914b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b7555bd4c57528074dd943eb93cad594ef914b2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1b7555bd4c57528074dd943eb93cad594ef914b2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1b7555bd4c57528074dd943eb93cad594ef914b2/comments", "author": null, "committer": null, "parents": [{"sha": "21ca87b81b0961895d21faae45fa2e25d59f7dc0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/21ca87b81b0961895d21faae45fa2e25d59f7dc0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/21ca87b81b0961895d21faae45fa2e25d59f7dc0"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "6f16703a2f47b2ed9a3280b956004c201f4b1bb5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b7555bd4c57528074dd943eb93cad594ef914b2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b7555bd4c57528074dd943eb93cad594ef914b2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1b7555bd4c57528074dd943eb93cad594ef914b2", "patch": "@@ -1,3 +1,9 @@\n+Thu Jan 29 00:07:49 1998  Ollivier Robert <roberto@keltia.freenix.fr>\n+\n+\t* i386/freebsd.h (LIB_SPEC): Correctly handle -shared, -p and friends.\n+\t(LINK_SPEC): Likewise.\n+\t(STARTFILE_SPEC): Likewise.\n+\n 1998-01-28  Mike Stump  <mrs@wrs.com>\n \n \t* rtlanal.c (dead_or_set_regno_p): Ignore REG_DEAD notes after"}, {"sha": "892c69f2d05bd4c41530da3588f4fcbb8d9d31cf", "filename": "gcc/config/i386/freebsd.h", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1b7555bd4c57528074dd943eb93cad594ef914b2/gcc%2Fconfig%2Fi386%2Ffreebsd.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1b7555bd4c57528074dd943eb93cad594ef914b2/gcc%2Fconfig%2Fi386%2Ffreebsd.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Ffreebsd.h?ref=1b7555bd4c57528074dd943eb93cad594ef914b2", "patch": "@@ -38,7 +38,7 @@ Boston, MA 02111-1307, USA.  */\n #define CPP_PREDEFINES \"-Dunix -Di386 -D__FreeBSD__ -D__386BSD__ -Asystem(unix) -Asystem(FreeBSD) -Acpu(i386) -Amachine(i386)\"\n \n /* Like the default, except no -lg.  */\n-#define LIB_SPEC \"%{!p:%{!pg:-lc}}%{p:-lc_p}%{pg:-lc_p}\"\n+#define LIB_SPEC \"%{!shared:%{!pg:-lc}%{pg:-lc_p}}\"\n \n #undef SIZE_TYPE\n #define SIZE_TYPE \"unsigned int\"\n@@ -220,7 +220,15 @@ do {                                                                    \\\n \n #define ASM_SPEC   \" %| %{fpic:-k} %{fPIC:-k}\"\n #define LINK_SPEC \\\n-  \"%{!nostdlib:%{!r*:%{!e*:-e start}}} -dc -dp %{static:-Bstatic} %{assert*}\"\n+  \"%{p:%e`-p' not supported; use `-pg' and gprof(1)} \\\n+   %{shared:-Bshareable} \\\n+   %{!shared:%{!nostdlib:%{!r:%{!e*:-e start}}} -dc -dp %{static:-Bstatic} \\\n+   %{pg:-Bstatic} %{Z}} \\\n+   %{assert*} %{R*}\"\n+\n+#define STARTFILE_SPEC  \\\n+  \"%{shared:c++rt0.o%s} \\\n+   %{!shared:%{pg:gcrt0.o%s}%{!pg:%{static:scrt0.o%s}%{!static:crt0.o%s}}}\"\n \n /* This is defined when gcc is compiled in the BSD-directory-tree, and must\n  * make up for the gap to all the stuff done in the GNU-makefiles."}]}