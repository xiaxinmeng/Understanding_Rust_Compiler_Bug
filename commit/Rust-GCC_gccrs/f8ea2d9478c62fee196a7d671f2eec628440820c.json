{"sha": "f8ea2d9478c62fee196a7d671f2eec628440820c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhlYTJkOTQ3OGM2MmZlZTE5NmE3ZDY3MWYyZWVjNjI4NDQwODIwYw==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-07-19T00:20:31Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-07-19T00:20:31Z"}, "message": "(DWARF_DEBUGGING_INFO, PREFERRED_DEBUGGING_TYPE):\n\nMove after header files are included.\n(iris5.h): Include instead of iris5gas.h.\n(MACHINE_TYPE): Change 5.x to 6.x.\n(DEBUG_SECTION, LINE_SECTION): Add debug_ to name, fix attributes.\n(SFNAMES_SECTION, SRCINFO_SECTION, MACINFO_SECTION, PUBNAMES_SECTION,\nARANGES_SECTION): Fix attributes.\n(DWARF_VERSION, MIPS_DEBUGGING_INFO, ASM_DECLARE_FUNCTION_NAME,\nASM_DECLARE_FUNCTION_SIZE, FUNCTION_NAME_ALREADY_DECLARED,\nFRAME_SECTION, ABBREV_SECTION): Define.\n(DBX_DEBUGGING_INFO, SDB_DEBUGGING_INFO, MIPS_DEBUGGING_INFO,\nDWARF_DEBUGGING_INFO, PREFERRED_DEBUGGING_INFO): Delete undefs at\nend of file.\n\nFrom-SVN: r12521", "tree": {"sha": "eeb19ac516c11762ca900f8b0a1db44f54da4296", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eeb19ac516c11762ca900f8b0a1db44f54da4296"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8ea2d9478c62fee196a7d671f2eec628440820c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8ea2d9478c62fee196a7d671f2eec628440820c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8ea2d9478c62fee196a7d671f2eec628440820c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8ea2d9478c62fee196a7d671f2eec628440820c/comments", "author": null, "committer": null, "parents": [{"sha": "1d7cf143eef12eb5a02ccb7cc63c513fa71ff390", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1d7cf143eef12eb5a02ccb7cc63c513fa71ff390", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1d7cf143eef12eb5a02ccb7cc63c513fa71ff390"}], "stats": {"total": 66, "additions": 46, "deletions": 20}, "files": [{"sha": "94c9494dda5f4137a784031f96f1a532e8c66ca2", "filename": "gcc/config/mips/iris6.h", "status": "modified", "additions": 46, "deletions": 20, "changes": 66, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8ea2d9478c62fee196a7d671f2eec628440820c/gcc%2Fconfig%2Fmips%2Firis6.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8ea2d9478c62fee196a7d671f2eec628440820c/gcc%2Fconfig%2Fmips%2Firis6.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6.h?ref=f8ea2d9478c62fee196a7d671f2eec628440820c", "patch": "@@ -18,18 +18,24 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n-/* Irix 6 uses DWARF.  */\n-#define DWARF_DEBUGGING_INFO\n-#define PREFERRED_DEBUGGING_TYPE DWARF_DEBUG\n-\n /* Default to -mabi=n32 and -mips3.  */\n #define MIPS_ISA_DEFAULT 3\n #define MIPS_ABI_DEFAULT ABI_N32\n #define MULTILIB_DEFAULTS { \"mabi=n32\" }\n \n-#include \"mips/iris5gas.h\"\n+#include \"mips/iris5.h\"\n #include \"mips/abi64.h\"\n \n+/* Irix 6 uses DWARF.  */\n+#define DWARF_DEBUGGING_INFO\n+#define DWARF_VERSION 2\n+#define MIPS_DEBUGGING_INFO\n+#undef PREFERRED_DEBUGGING_TYPE\n+#define PREFERRED_DEBUGGING_TYPE DWARF_DEBUG\n+\n+#undef MACHINE_TYPE\n+#define MACHINE_TYPE \"SGI running IRIX 6.x\"\n+\n /* The Irix 6.0.1 assembler doesn't like labels in the text section, so\n    just avoid emitting them.  */\n #define ASM_IDENTIFY_GCC\n@@ -43,6 +49,32 @@ Boston, MA 02111-1307, USA.  */\n \n /* Stuff we need for Irix 6 that isn't in Irix 5.  */\n \n+/* The SGI assembler doesn't like labels before the .ent, so we must output\n+   the .ent and function name here, which is the normal place for it.  */\n+\n+#undef ASM_DECLARE_FUNCTION_NAME\n+#define ASM_DECLARE_FUNCTION_NAME(STREAM, NAME, DECL)\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    fputs (\"\\t.ent\\t\", STREAM);\t\t\t\t\t\t\\\n+    assemble_name (STREAM, NAME);\t\t\t\t\t\\\n+    fputs (\"\\n\", STREAM);\t\t\t\t\t\t\\\n+    assemble_name (STREAM, NAME);\t\t\t\t\t\\\n+    fputs (\":\\n\", STREAM);\t\t\t\t\t\t\\\n+  } while (0)\n+\n+/* Likewise, the SGI assembler doesn't like labels after the .end, so we\n+   must output the .end here.  */\n+#define ASM_DECLARE_FUNCTION_SIZE(STREAM, NAME, DECL)\t\t\t\\\n+  do {\t\t\t\t\t\t\t\t\t\\\n+    fputs (\"\\t.end\\t\", STREAM);\t\t\t\t\t\t\\\n+    assemble_name (STREAM, NAME);\t\t\t\t\t\\\n+    fputs (\"\\n\", STREAM);\t\t\t\t\t\t\\\n+  } while (0)\n+\n+/* Tell function_prologue in mips.c that we have already output the .ent/.end\n+   psuedo-ops.  */\n+#define FUNCTION_NAME_ALREADY_DECLARED\n+\n #undef SET_ASM_OP\t/* Has no equivalent.  See ASM_OUTPUT_DEF below.  */\n \n /* This is how to equate one symbol to another symbol.  The syntax used is\n@@ -59,13 +91,15 @@ Boston, MA 02111-1307, USA.  */\n \n #define POPSECTION_ASM_OP\t\".popsection\"\n \n-#define DEBUG_SECTION\t\t\".debug,1,0,0,1\"\n-#define LINE_SECTION\t\t\".line,1,0,0,1\"\n-#define SFNAMES_SECTION\t\t\".debug_sfnames,1,0,0,1\"\n-#define SRCINFO_SECTION\t\t\".debug_srcinfo,1,0,0,1\"\n-#define MACINFO_SECTION\t\t\".debug_macinfo,1,0,0,1\"\n-#define PUBNAMES_SECTION\t\".debug_pubnames,1,0,0,1\"\n-#define ARANGES_SECTION\t\t\".debug_aranges,1,0,0,1\"\n+#define DEBUG_SECTION\t\t\".debug_info,0x7000001e,0,0,1\"\n+#define LINE_SECTION\t\t\".debug_line,0x7000001e,0,0,1\"\n+#define SFNAMES_SECTION\t\t\".debug_sfnames,0x7000001e,0,0,1\"\n+#define SRCINFO_SECTION\t\t\".debug_srcinfo,0x7000001e,0,0,1\"\n+#define MACINFO_SECTION\t\t\".debug_macinfo,0x7000001e,0,0,1\"\n+#define PUBNAMES_SECTION\t\".debug_pubnames,0x7000001e,0,0,1\"\n+#define ARANGES_SECTION\t\t\".debug_aranges,0x7000001e,0,0,1\"\n+#define FRAME_SECTION\t\t\".debug_frame,0x7000001e,0x08000000,0,1\"\n+#define ABBREV_SECTION\t\t\".debug_abbrev,0x7000001e,0,0,1\"\n \n /* ??? If no mabi=X option give, but a mipsX option is, then should depend\n    on the mipsX option.  */\n@@ -293,11 +327,3 @@ while (0)\n -_SYSTYPE_SVR4 -woff 84 \\\n %{mabi=32: -32}%{mabi=n32: -n32}%{mabi=64: -64} \\\n %{!mabi=32:%{!mabi=n32:%{!mabi=64: -n32}}}\"\n-\n-/* ??? Debugging does not work.  We get many assembler core dumps,\n-   and even some linker core dumps.  */\n-#undef DBX_DEBUGGING_INFO\n-#undef SDB_DEBUGGING_INFO\n-#undef MIPS_DEBUGGING_INFO\n-#undef DWARF_DEBUGGING_INFO\n-#undef PREFERRED_DEBUGGING_TYPE"}]}