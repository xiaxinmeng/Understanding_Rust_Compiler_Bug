{"sha": "461819928caad65a96d7c1886a0051a48e7bcbf6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDYxODE5OTI4Y2FhZDY1YTk2ZDdjMTg4NmEwMDUxYTQ4ZTdiY2JmNg==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-11T05:41:43Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-11T05:41:43Z"}, "message": "(rescan): Accept # as command inside macro args, etc.\n\nif an actual newline at the same level precedes.\n\nFrom-SVN: r2741", "tree": {"sha": "acd3159f30e2ae3d5048b3b7c0816acc3fffaf93", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/acd3159f30e2ae3d5048b3b7c0816acc3fffaf93"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/461819928caad65a96d7c1886a0051a48e7bcbf6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/461819928caad65a96d7c1886a0051a48e7bcbf6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/461819928caad65a96d7c1886a0051a48e7bcbf6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/461819928caad65a96d7c1886a0051a48e7bcbf6/comments", "author": null, "committer": null, "parents": [{"sha": "de5849f37316298334503c43b6b63a418c7d0cbe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de5849f37316298334503c43b6b63a418c7d0cbe", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de5849f37316298334503c43b6b63a418c7d0cbe"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "3c8882087d2b06243cda6810d9746bd8c8892b15", "filename": "gcc/cccp.c", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/461819928caad65a96d7c1886a0051a48e7bcbf6/gcc%2Fcccp.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/461819928caad65a96d7c1886a0051a48e7bcbf6/gcc%2Fcccp.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcccp.c?ref=461819928caad65a96d7c1886a0051a48e7bcbf6", "patch": "@@ -2260,9 +2260,14 @@ do { ip = &instack[indepth];\t\t\\\n \t}\n       }\n \n-      /* Recognize preprocessor directives only when reading\n-\t directly from a file.  */\n-      if (ip->fname == 0)\n+      /* If this is expanding a macro definition, don't recognize\n+\t preprocessor directives.  */\n+      if (ip->macro != 0)\n+\tgoto randomchar;\n+      /* If this is expand_into_temp_buffer, recognize them\n+\t only after an actual newline at this level,\n+\t not at the beginning of the input level.  */\n+      if (ip->fname == 0 && beg_of_line == ip->buf)\n \tgoto randomchar;\n       if (ident_length)\n \tgoto specialchar;"}]}