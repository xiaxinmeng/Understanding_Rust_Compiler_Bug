{"sha": "06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDYxNDBiZGZhMWMyYTVhYWJkMjQxZDAzZTlkMWJiNjJhZDg5YzljMw==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-04-13T13:48:25Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-04-13T13:48:25Z"}, "message": "(validate_replace_rtx_1, case MINUS): New case.\n\nFrom-SVN: r13869", "tree": {"sha": "3b490103ae8d62f6518c1facd6b32d193ba20482", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3b490103ae8d62f6518c1facd6b32d193ba20482"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3/comments", "author": null, "committer": null, "parents": [{"sha": "eead6b5bdaa008eed61307e1fe90b6d4c2e24dd1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eead6b5bdaa008eed61307e1fe90b6d4c2e24dd1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eead6b5bdaa008eed61307e1fe90b6d4c2e24dd1"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "92fc6d810dc7c1cdc20c2f43fa34e594a232ce62", "filename": "gcc/recog.c", "status": "modified", "additions": 16, "deletions": 3, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=06140bdfa1c2a5aabd241d03e9d1bb62ad89c9c3", "patch": "@@ -1,5 +1,5 @@\n /* Subroutines used by or related to instruction recognition.\n-   Copyright (C) 1987, 88, 91-5, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1987, 1988, 1991-6, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -374,15 +374,28 @@ validate_replace_rtx_1 (loc, from, to, object)\n \t}\n     }\n \n+  /* Note that if CODE's RTX_CLASS is \"c\" or \"<\" we will have already\n+     done the substitution, otherwise we won't.  */\n+\n   switch (code)\n     {\n     case PLUS:\n       /* If we have have a PLUS whose second operand is now a CONST_INT, use\n \t plus_constant to try to simplify it.  */\n       if (GET_CODE (XEXP (x, 1)) == CONST_INT && XEXP (x, 1) == to)\n-\tvalidate_change (object, loc, \n-\t\t\t plus_constant (XEXP (x, 0), INTVAL (XEXP (x, 1))), 1);\n+\tvalidate_change (object, loc, plus_constant (XEXP (x, 0), INTVAL (to)),\n+\t\t\t 1);\n       return;\n+\n+    case MINUS:\n+      if (GET_CODE (to) == CONST_INT && XEXP (x, 1) == from)\n+\t{\n+\t  validate_change (object, loc,\n+\t\t\t   plus_constant (XEXP (x, 0), - INTVAL (to)),\n+\t\t\t   1);\n+\t  return;\n+\t}\n+      break;\n       \n     case ZERO_EXTEND:\n     case SIGN_EXTEND:"}]}