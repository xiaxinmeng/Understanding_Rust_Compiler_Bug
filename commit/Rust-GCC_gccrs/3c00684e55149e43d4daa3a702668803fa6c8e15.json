{"sha": "3c00684e55149e43d4daa3a702668803fa6c8e15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2MwMDY4NGU1NTE0OWU0M2Q0ZGFhM2E3MDI2Njg4MDNmYTZjOGUxNQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1996-11-01T03:10:33Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1996-11-01T03:10:33Z"}, "message": "fold-const.c (make_range, [...]): Correct normalization of an unsigned range that wraps around zero.\n\n        * fold-const.c (make_range, case PLUS_EXPR): Correct\n        normalization of an unsigned range that wraps around zero.\n\nFrom-SVN: r13089", "tree": {"sha": "45414137ed5da40d6019a632d509c46603f585c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/45414137ed5da40d6019a632d509c46603f585c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3c00684e55149e43d4daa3a702668803fa6c8e15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c00684e55149e43d4daa3a702668803fa6c8e15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c00684e55149e43d4daa3a702668803fa6c8e15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c00684e55149e43d4daa3a702668803fa6c8e15/comments", "author": null, "committer": null, "parents": [{"sha": "273dbe6785ece0d5b76a98bbf2432c8316bbb4fd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/273dbe6785ece0d5b76a98bbf2432c8316bbb4fd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/273dbe6785ece0d5b76a98bbf2432c8316bbb4fd"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "e66240326e9e7b925abd8e7e1fdc79aafa6efd1a", "filename": "gcc/fold-const.c", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3c00684e55149e43d4daa3a702668803fa6c8e15/gcc%2Ffold-const.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3c00684e55149e43d4daa3a702668803fa6c8e15/gcc%2Ffold-const.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffold-const.c?ref=3c00684e55149e43d4daa3a702668803fa6c8e15", "patch": "@@ -2814,10 +2814,16 @@ make_range (exp, pin_p, plow, phigh)\n \t      || (n_high != 0 && TREE_OVERFLOW (n_high)))\n \t    break;\n \n-\t  /* Check for a range which has wrapped around the maximum value\n-\t     thus making n_high < n_low.  Normalize any such range it.  */\n+\t  /* Check for an unsigned range which has wrapped around the maximum\n+\t     value thus making n_high < n_low, and normalize it.  */\n \t  if (n_low && n_high && tree_int_cst_lt (n_high, n_low))\n-\t    low = n_high, high = n_low, in_p = ! in_p;\n+\t    {\n+\t      low = range_binop (PLUS_EXPR, type, n_high, 0,\n+\t\t\t\t convert (type, integer_one_node), 0);\n+\t      high = range_binop (MINUS_EXPR, type, n_low, 0,\n+\t\t\t\t convert (type, integer_one_node), 0);\n+\t      in_p = ! in_p;\n+\t    }\n \t  else\n \t    low = n_low, high = n_high;\n "}]}