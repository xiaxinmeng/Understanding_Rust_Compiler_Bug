{"sha": "bf4ab281678450284b14a53089c1f364132cb203", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmY0YWIyODE2Nzg0NTAyODRiMTRhNTMwODljMWYzNjQxMzJjYjIwMw==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2001-03-13T13:29:40Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2001-03-13T13:29:40Z"}, "message": "* cpp.texi (poison): Explain the macro expansion exception.\n\nFrom-SVN: r40438", "tree": {"sha": "a61b19ab4ddb0df20e1986280a791f1fda4e3ada", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a61b19ab4ddb0df20e1986280a791f1fda4e3ada"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf4ab281678450284b14a53089c1f364132cb203", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf4ab281678450284b14a53089c1f364132cb203", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf4ab281678450284b14a53089c1f364132cb203", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf4ab281678450284b14a53089c1f364132cb203/comments", "author": null, "committer": null, "parents": [{"sha": "e5408e52405a113827a7558f2847dc5acb0bb710", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e5408e52405a113827a7558f2847dc5acb0bb710", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e5408e52405a113827a7558f2847dc5acb0bb710"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "b18f2733a606ae3bb96358a3ab6f13b388d582f2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf4ab281678450284b14a53089c1f364132cb203/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf4ab281678450284b14a53089c1f364132cb203/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bf4ab281678450284b14a53089c1f364132cb203", "patch": "@@ -1,3 +1,7 @@\n+2001-03-13  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* cpp.texi (poison): Explain the macro expansion exception.\n+\n 2001-03-13  Jakub Jelinek  <jakub@redhat.com>\n \n \t* expr.c (store_expr): Add dont_store_target.  If temp is already in"}, {"sha": "57da93332f7e7ef897627088df53063d3e4d6fe8", "filename": "gcc/cpp.texi", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf4ab281678450284b14a53089c1f364132cb203/gcc%2Fcpp.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf4ab281678450284b14a53089c1f364132cb203/gcc%2Fcpp.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpp.texi?ref=bf4ab281678450284b14a53089c1f364132cb203", "patch": "@@ -1601,6 +1601,22 @@ sprintf(some_string, \"hello\");\n @noindent\n will produce an error.\n \n+Note, if the poisoned identifier appears through the result of macro\n+expansion it @emph{won't} cause an error.  So if you poison an\n+identifier you need not worry about system headers defining macros that\n+use it.\n+\n+For example,\n+\n+@example\n+#define strrchr rindex\n+#pragma GCC poison rindex\n+strrchr(some_string, 'h');\n+@end example\n+\n+@noindent\n+will not produce an error.\n+\n @node Macro Pitfalls,, Poisoning, Macros\n @subsection Pitfalls and Subtleties of Macros\n @cindex problems with macros"}]}