{"sha": "3007f7e40f7d680772ea5e69f04169ec09b56eb1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzAwN2Y3ZTQwZjdkNjgwNzcyZWE1ZTY5ZjA0MTY5ZWMwOWI1NmViMQ==", "commit": {"author": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-04-21T16:33:27Z"}, "committer": {"name": "Jerry DeLisle", "email": "jvdelisle@gcc.gnu.org", "date": "2015-04-21T16:33:27Z"}, "message": "re PR fortran/56743 (Namelist bug with comment and no blank)\n\n2015-04-21 Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n\n\tPR libgfortran/56743\n\t* gfortran.dg/namelist_87.f90: New test.\n\nFrom-SVN: r222272", "tree": {"sha": "a8d2e150f66932f0bc938232803451f6c19177fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a8d2e150f66932f0bc938232803451f6c19177fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3007f7e40f7d680772ea5e69f04169ec09b56eb1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3007f7e40f7d680772ea5e69f04169ec09b56eb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3007f7e40f7d680772ea5e69f04169ec09b56eb1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3007f7e40f7d680772ea5e69f04169ec09b56eb1/comments", "author": null, "committer": null, "parents": [{"sha": "b45fe62d455e4991fb6de142d8cc19baed855fa3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b45fe62d455e4991fb6de142d8cc19baed855fa3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b45fe62d455e4991fb6de142d8cc19baed855fa3"}], "stats": {"total": 67, "additions": 67, "deletions": 0}, "files": [{"sha": "203d746b5fcfad07d5d2bb4a9858a157dca1463c", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3007f7e40f7d680772ea5e69f04169ec09b56eb1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3007f7e40f7d680772ea5e69f04169ec09b56eb1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=3007f7e40f7d680772ea5e69f04169ec09b56eb1", "patch": "@@ -1,3 +1,8 @@\n+2015-04-21 Jerry DeLisle  <jvdelisle@gcc.gnu.org>\n+\n+\tPR libgfortran/56743\n+\t* gfortran.dg/namelist_87.f90: New test.\n+\n 2015-04-21  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>\n \n \t* gcc.target/aarch64/mult-synth_1.c: New test."}, {"sha": "21822d95673fb78fb272bd4495aa00f8d81e08b8", "filename": "gcc/testsuite/gfortran.dg/namelist_87.f90", "status": "added", "additions": 62, "deletions": 0, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3007f7e40f7d680772ea5e69f04169ec09b56eb1/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_87.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3007f7e40f7d680772ea5e69f04169ec09b56eb1/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_87.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fnamelist_87.f90?ref=3007f7e40f7d680772ea5e69f04169ec09b56eb1", "patch": "@@ -0,0 +1,62 @@\n+! { dg-do run }\n+!\n+! PR fortran/56743\n+!\n+! Contributed by Kai Gallmeister\n+!\n+! Note that Fortran 2008 (Section 10.11.3.6) requires that there is\n+! a value separator between the value and the \"!\".  Thus, all examples\n+! in this file are invalid; they should either be accepted as vendor\n+! extension or lead to a run-time error (iostat /=0).\n+!\n+! For the c1 and c2 character example, please note that the Fortran\n+! standard (F2008, 10.11.3.3) requires delimiters; accepting\n+! a single word (in spirit of list-directed I/O) would be possible\n+! as vendor extension. But the current run-time failure is fine as well.\n+!\n+! Note: After fixing this, warning or error is given with -pedantic -std=xxx\n+implicit none\n+integer :: i = -1\n+real :: r1 = -2\n+real :: r2 = -3\n+real :: r3 = -4\n+real :: r4 = -5\n+real :: r5 = -6\n+complex :: c = (-7,-7)\n+logical :: ll = .false.\n+character :: c1 = 'X'\n+character(3) :: c2 = 'YYY'\n+character(3) :: c3 = 'ZZZ'\n+namelist /nml/ i, r1,r2,r3,r4,r5,c,ll,c1,c2,c3\n+\n+open (99, file='nml.dat', status=\"replace\")\n+write(99,*) \"&nml\"\n+write(99,*) \"  i=42!11\"         ! Fixed BUG: wrong result: Unmodified, no error\n+write(99,*) \"  r1=43!11\"        ! Fixed BUG: wrong result: Unmodified, no error\n+write(99,*) \"  r2=43.!11\"       ! Fixed BUG: wrong result: Unmodified, no error\n+write(99,*) \"  r3=inf!11\"       ! OK:  run-time error (Cannot match namelist object)\n+write(99,*) \"  r4=NaN(0x33)!11\" ! OK:  run-time error (Cannot match namelist object)\n+write(99,*) \"  r5=3.e5!11\"      ! Fixed BUG: wrong result: Unmodified, no error\n+write(99,*) \"  c=(4,2)!11\"      ! OK:  value accepted as vendor extension\n+write(99,*) \"  ll=.true.!11\"    ! OK:  value accepted as vendor extension\n+write(99,*) \"  c1='a'!11\"       ! OK:  without quotes, run-time error (Cannot match namelist object)\n+write(99,*) \"  c2='bc'!11\"      ! OK:  without quotes, run-time error (Cannot match namelist object)\n+write(99,*) \"  c3='ax'!11\"      ! OK:  without quotes, run-time error (Cannot match namelist object)\n+write(99,*) \"/\"\n+\n+rewind(99)\n+read (99, nml=nml)\n+!write (*, nml=nml)\n+close (99, status=\"delete\")\n+\n+  if (r1 /= 43) call abort ()\n+  if (r2 /= 43) call abort ()\n+  if (r3 /= r3 .or. r3 <= huge(r3)) call abort ()\n+  if (r4 == r4) call abort ()\n+  if (r5 /= 300000) call abort ()\n+  if (c /= cmplx(4,2)) call abort ()\n+  if (.not. ll) call abort ()\n+  if (c1 /= \"a\") call abort ()\n+  if (c2 /= \"bc\") call abort ()\n+  if (c3 /= \"ax\") call abort ()\n+end"}]}