{"sha": "abd16fb1120cfebd99f4efc9eba9b326fdf05715", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWJkMTZmYjExMjBjZmViZDk5ZjRlZmM5ZWJhOWIzMjZmZGYwNTcxNQ==", "commit": {"author": {"name": "Teresa Johnson", "email": "tejohnson@gcc.gnu.org", "date": "2012-09-04T21:20:30Z"}, "committer": {"name": "Teresa Johnson", "email": "tejohnson@gcc.gnu.org", "date": "2012-09-04T21:20:30Z"}, "message": "Adding change log entries for r190952:\n\nEnhances the gcov program summary by adding a histogram of arc counter\nentries. This is used to compute working set information in the compiler\nfor use by optimizations that need information on hot vs cold counter\nvalues or the rough working set size in terms of the number of counters.\nEach working set data point is the minimum counter value and number of\ncounters required to reach a given percentage of the cumulative counter\nsum across the profiled execution (sum_all in the program summary).\n\n2012-09-04  Teresa Johnson  <tejohnson@google.com>\n\n\t* libgcc/libgcov.c (struct gcov_summary_buffer): New structure.\n\t(gcov_histogram_insert): New function.\n\t(gcov_compute_histogram): Ditto.\n\t(gcov_exit): Invoke gcov_compute_histogram, and perform merging of\n\thistograms during summary merging.\n\t* gcc/gcov-io.c (gcov_write_summary): Write out non-zero histogram\n\tentries to function summary along with an occupancy bit vector.\n\t(gcov_read_summary): Read in the histogram entries.\n\t(gcov_histo_index): New function.\n\t(void gcov_histogram_merge): Ditto.\n\t* gcc/gcov-io.h (gcov_type_unsigned): New type.\n\t(struct gcov_bucket_type): Ditto.\n\t(struct gcov_ctr_summary): Include histogram.\n\t(GCOV_TAG_SUMMARY_LENGTH): Update to include histogram entries.\n\t(GCOV_HISTOGRAM_SIZE): New macro.\n\t(GCOV_HISTOGRAM_BITVECTOR_SIZE): Ditto.\n\t* gcc/profile.c (NUM_GCOV_WORKING_SETS): Ditto.\n\t(gcov_working_sets): New global variable.\n\t(compute_working_sets): New function.\n\t(find_working_set): Ditto.\n\t(get_exec_counts): Invoke compute_working_sets.\n\t* gcc/coverage.c (read_counts_file): Merge histograms, and\n\tfix bug with accessing summary info for non-summable counters.\n\t* gcc/basic-block.h (gcov_type_unsigned): New type.\n\t(struct gcov_working_set_info): Ditto.\n\t(find_working_set): Declare.\n\t* gcc/gcov-dump.c (tag_summary): Dump out histogram.\n\nFrom-SVN: r190953", "tree": {"sha": "f0804199650dd689b1d73afd4bfbf2c9f4611885", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f0804199650dd689b1d73afd4bfbf2c9f4611885"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/abd16fb1120cfebd99f4efc9eba9b326fdf05715", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abd16fb1120cfebd99f4efc9eba9b326fdf05715", "html_url": "https://github.com/Rust-GCC/gccrs/commit/abd16fb1120cfebd99f4efc9eba9b326fdf05715", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/abd16fb1120cfebd99f4efc9eba9b326fdf05715/comments", "author": null, "committer": null, "parents": [{"sha": "9f71de84041df7821e0544e96ec3cea9416c4290", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9f71de84041df7821e0544e96ec3cea9416c4290", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9f71de84041df7821e0544e96ec3cea9416c4290"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "834fa34c6029ee8c332fa580ba55dcb41189146f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abd16fb1120cfebd99f4efc9eba9b326fdf05715/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abd16fb1120cfebd99f4efc9eba9b326fdf05715/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=abd16fb1120cfebd99f4efc9eba9b326fdf05715", "patch": "@@ -1,3 +1,28 @@\n+2012-09-04  Teresa Johnson  <tejohnson@google.com>\n+\n+\t* gcov-io.c (gcov_write_summary): Write out non-zero histogram\n+\tentries to function summary along with an occupancy bit vector.\n+\t(gcov_read_summary): Read in the histogram entries.\n+\t(gcov_histo_index): New function.\n+\t(void gcov_histogram_merge): Ditto.\n+\t* gcov-io.h (gcov_type_unsigned): New type.\n+\t(struct gcov_bucket_type): Ditto.\n+\t(struct gcov_ctr_summary): Include histogram.\n+\t(GCOV_TAG_SUMMARY_LENGTH): Update to include histogram entries.\n+\t(GCOV_HISTOGRAM_SIZE): New macro.\n+\t(GCOV_HISTOGRAM_BITVECTOR_SIZE): Ditto.\n+\t* profile.c (NUM_GCOV_WORKING_SETS): Ditto.\n+\t(gcov_working_sets): New global variable.\n+\t(compute_working_sets): New function.\n+\t(find_working_set): Ditto.\n+\t(get_exec_counts): Invoke compute_working_sets.\n+\t* coverage.c (read_counts_file): Merge histograms, and\n+\tfix bug with accessing summary info for non-summable counters.\n+\t* basic-block.h (gcov_type_unsigned): New type.\n+\t(struct gcov_working_set_info): Ditto.\n+\t(find_working_set): Declare.\n+\t* gcov-dump.c (tag_summary): Dump out histogram.\n+\n 2012-09-04  Diego Novillo  <dnovillo@google.com>\n \n \tPR bootstrap/54484"}, {"sha": "ed5b2af2e22a38280acdd85b36f0569373bd70d8", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/abd16fb1120cfebd99f4efc9eba9b326fdf05715/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/abd16fb1120cfebd99f4efc9eba9b326fdf05715/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=abd16fb1120cfebd99f4efc9eba9b326fdf05715", "patch": "@@ -1,3 +1,11 @@\n+2012-09-04  Teresa Johnson  <tejohnson@google.com>\n+\n+\t* libgcov.c (struct gcov_summary_buffer): New structure.\n+\t(gcov_histogram_insert): New function.\n+\t(gcov_compute_histogram): Ditto.\n+\t(gcov_exit): Invoke gcov_compute_histogram, and perform merging of\n+\thistograms during summary merging.\n+\n 2012-09-01  Mark Kettenis  <kettenis@openbsd.org>\n \n \t* config.host (x86_64-*-openbsd*): New target."}]}