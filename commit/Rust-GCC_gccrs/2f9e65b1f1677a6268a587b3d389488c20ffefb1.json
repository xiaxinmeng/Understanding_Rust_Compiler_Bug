{"sha": "2f9e65b1f1677a6268a587b3d389488c20ffefb1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmY5ZTY1YjFmMTY3N2E2MjY4YTU4N2IzZDM4OTQ4OGMyMGZmZWZiMQ==", "commit": {"author": {"name": "Michael Meissner", "email": "meissner@cygnus.com", "date": "1999-10-05T19:59:03Z"}, "committer": {"name": "Michael Meissner", "email": "meissner@gcc.gnu.org", "date": "1999-10-05T19:59:03Z"}, "message": "Do not include stddef.h if building trampoline support and inhibit_libc is defined\n\nFrom-SVN: r29831", "tree": {"sha": "4aa13ccbdba4407cf8775ba0a423feef7d814f2d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4aa13ccbdba4407cf8775ba0a423feef7d814f2d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2f9e65b1f1677a6268a587b3d389488c20ffefb1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f9e65b1f1677a6268a587b3d389488c20ffefb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2f9e65b1f1677a6268a587b3d389488c20ffefb1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2f9e65b1f1677a6268a587b3d389488c20ffefb1/comments", "author": null, "committer": null, "parents": [{"sha": "139fa6f87b36afc55a87a4900f8ddc6a01b5fd92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/139fa6f87b36afc55a87a4900f8ddc6a01b5fd92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/139fa6f87b36afc55a87a4900f8ddc6a01b5fd92"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "261079c36135c33341ade1c7d0c1ed6db640a3d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f9e65b1f1677a6268a587b3d389488c20ffefb1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f9e65b1f1677a6268a587b3d389488c20ffefb1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2f9e65b1f1677a6268a587b3d389488c20ffefb1", "patch": "@@ -1,7 +1,8 @@\n Tue Oct  5 15:37:04 1999  Michael Meissner  <meissner@cygnus.com>\n \n-\t* libgcc2.c (toplevel): If inhibit_libc is defined, declare\n-\tmalloc, free, and atexit.  Don't include stddef.h twice.\n+\t* libgcc2.c (toplevel): If inhibit_libc is defined and not\n+\tbuilding the trampoline support, declare malloc, free, and\n+\tatexit.\n \t(__clear_cache): Mark arguments as potentially unused.\n \t\n \t* frame.c (toplevel): If inhibit_libc is defined, declare"}, {"sha": "a05d7fd52aa267420bd2b662504481e5bb61b428", "filename": "gcc/libgcc2.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2f9e65b1f1677a6268a587b3d389488c20ffefb1/gcc%2Flibgcc2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2f9e65b1f1677a6268a587b3d389488c20ffefb1/gcc%2Flibgcc2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Flibgcc2.c?ref=2f9e65b1f1677a6268a587b3d389488c20ffefb1", "patch": "@@ -42,6 +42,7 @@ Boston, MA 02111-1307, USA.  */\n #include <unistd.h>\n \n #else\n+#ifndef L_trampoline\n #include <stddef.h>\n #ifndef malloc\n extern void *malloc (size_t);\n@@ -53,10 +54,11 @@ extern void free (void *);\n extern int atexit(void (*)(void));\n #endif\n #endif\n+#endif\n \n #include \"machmode.h\"\n #include \"defaults.h\" \n-#if !defined(L_trampoline) && !defined(inhibit_libc)\n+#ifndef L_trampoline\n #include <stddef.h>\n #endif\n "}]}