{"sha": "58b59d5ee7ac732d67736bc3654b6dc6c9af9e44", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThiNTlkNWVlN2FjNzMyZDY3NzM2YmMzNjU0YjZkYzZjOWFmOWU0NA==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2015-01-15T21:01:21Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2015-01-15T21:01:21Z"}, "message": "re PR libffi/64572 (r219477 breaks bootstrap on x86_64 darwin)\n\nPR libffi/64572\n\n        * include/ffi.h.in (FFI_TYPE_LAST): Set to COMPLEX only if complex\n        numbers are supported by the backend.\n\nFrom-SVN: r219688", "tree": {"sha": "3e581b4c4affc4ef16c9ae5451b149886357f878", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e581b4c4affc4ef16c9ae5451b149886357f878"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44/comments", "author": null, "committer": null, "parents": [{"sha": "134efa824828834466593e60f7786669da3adb39", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/134efa824828834466593e60f7786669da3adb39", "html_url": "https://github.com/Rust-GCC/gccrs/commit/134efa824828834466593e60f7786669da3adb39"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "562e5383b7db628434e49547708d74ea4d12d140", "filename": "libffi/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=58b59d5ee7ac732d67736bc3654b6dc6c9af9e44", "patch": "@@ -1,3 +1,9 @@\n+2015-01-15  Richard Henderson  <rth@redhat.com>\n+\n+\tPR libffi/64572\n+\t* include/ffi.h.in (FFI_TYPE_LAST): Set to COMPLEX only if complex\n+\tnumbers are supported by the backend.\n+\n 2015-01-13  Kaz Kojima  <kkojima@gcc.gnu.org>\n \n \t* configure.host: Remove extra brackets for sh."}, {"sha": "191aef7bd3fd9d02dcc18652feba146d29653f2c", "filename": "libffi/include/ffi.h.in", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44/libffi%2Finclude%2Fffi.h.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58b59d5ee7ac732d67736bc3654b6dc6c9af9e44/libffi%2Finclude%2Fffi.h.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Finclude%2Fffi.h.in?ref=58b59d5ee7ac732d67736bc3654b6dc6c9af9e44", "patch": "@@ -494,7 +494,13 @@ void ffi_call(ffi_cif *cif,\n #define FFI_TYPE_COMPLEX    15\n \n /* This should always refer to the last type code (for sanity checks) */\n-#define FFI_TYPE_LAST       FFI_TYPE_COMPLEX\n+/* ??? Ideally, anyway.  There are assembly files that still depend\n+   on this not including COMPLEX.  */\n+#ifdef FFI_TARGET_HAS_COMPLEX_TYPE\n+# define FFI_TYPE_LAST      FFI_TYPE_COMPLEX\n+#else\n+# define FFI_TYPE_LAST      FFI_TYPE_POINTER\n+#endif\n \n #ifdef __cplusplus\n }"}]}