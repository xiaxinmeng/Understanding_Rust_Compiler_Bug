{"sha": "0d5d880994660e231f82b7cb1dcfab744158f7e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGQ1ZDg4MDk5NDY2MGUyMzFmODJiN2NiMWRjZmFiNzQ0MTU4ZjdlMA==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-05-13T18:12:01Z"}, "committer": {"name": "Ian Lance Taylor", "email": "iant@golang.org", "date": "2020-05-13T18:45:55Z"}, "message": "libgo: build syscall test with -static\n\nThis avoids problems finding libgo.so when running the test as root,\nwhich invokes the test as a child process in various limited environments.\n\nFixes PR go/95061\n\nReviewed-on: https://go-review.googlesource.com/c/gofrontend/+/233897", "tree": {"sha": "a1234ab5ae870bd9caf82df9a274c8d8462761e0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a1234ab5ae870bd9caf82df9a274c8d8462761e0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0d5d880994660e231f82b7cb1dcfab744158f7e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d5d880994660e231f82b7cb1dcfab744158f7e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0d5d880994660e231f82b7cb1dcfab744158f7e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0d5d880994660e231f82b7cb1dcfab744158f7e0/comments", "author": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ianlancetaylor", "id": 3194333, "node_id": "MDQ6VXNlcjMxOTQzMzM=", "avatar_url": "https://avatars.githubusercontent.com/u/3194333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ianlancetaylor", "html_url": "https://github.com/ianlancetaylor", "followers_url": "https://api.github.com/users/ianlancetaylor/followers", "following_url": "https://api.github.com/users/ianlancetaylor/following{/other_user}", "gists_url": "https://api.github.com/users/ianlancetaylor/gists{/gist_id}", "starred_url": "https://api.github.com/users/ianlancetaylor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ianlancetaylor/subscriptions", "organizations_url": "https://api.github.com/users/ianlancetaylor/orgs", "repos_url": "https://api.github.com/users/ianlancetaylor/repos", "events_url": "https://api.github.com/users/ianlancetaylor/events{/privacy}", "received_events_url": "https://api.github.com/users/ianlancetaylor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d2ec2786827e41a872276c88fb5d68c24e13ec46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d2ec2786827e41a872276c88fb5d68c24e13ec46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d2ec2786827e41a872276c88fb5d68c24e13ec46"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "b63bb3bd547d8f73bbb9fffc3e94a6055ec5a0d1", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5d880994660e231f82b7cb1dcfab744158f7e0/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5d880994660e231f82b7cb1dcfab744158f7e0/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=0d5d880994660e231f82b7cb1dcfab744158f7e0", "patch": "@@ -1,4 +1,4 @@\n-876bdf3df3bb33dbf1414237d84be5da32a48082\n+93b3d88515db85e203d54f382200b84b56b0ae4c\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "eff0e00e787ae5de084aa0f629ab94f412bb7b3f", "filename": "libgo/Makefile.am", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5d880994660e231f82b7cb1dcfab744158f7e0/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5d880994660e231f82b7cb1dcfab744158f7e0/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=0d5d880994660e231f82b7cb1dcfab744158f7e0", "patch": "@@ -967,6 +967,10 @@ endif\n # Also use -fno-inline to get better results from the memory profiler.\n runtime_pprof_check_GOCFLAGS = -static-libgo -fno-inline\n \n+# Use -static for the syscall tests, because otherwise when\n+# running as root the re-execs ignore LD_LIBRARY_PATH.\n+syscall_check_GOCFLAGS = -static\n+\n extra_go_files_runtime_internal_sys = version.go\n runtime/internal/sys.lo.dep: $(extra_go_files_runtime_internal_sys)\n "}, {"sha": "872663865b8f4ef91f5ea95ca2f6a95c8c4e4a4e", "filename": "libgo/Makefile.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0d5d880994660e231f82b7cb1dcfab744158f7e0/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0d5d880994660e231f82b7cb1dcfab744158f7e0/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=0d5d880994660e231f82b7cb1dcfab744158f7e0", "patch": "@@ -1104,6 +1104,10 @@ runtime_internal_sys_lo_check_GOCFLAGS = -fgo-compiling-runtime\n # otherwise we can't get the line numbers.\n # Also use -fno-inline to get better results from the memory profiler.\n runtime_pprof_check_GOCFLAGS = -static-libgo -fno-inline\n+\n+# Use -static for the syscall tests, because otherwise when\n+# running as root the re-execs ignore LD_LIBRARY_PATH.\n+syscall_check_GOCFLAGS = -static\n extra_go_files_runtime_internal_sys = version.go\n extra_go_files_internal_cpu = cpugen.go\n extra_go_files_golang_org_x_sys_cpu = gcpugen.go"}]}