{"sha": "f8c6dba24e55282d4b48fcac6f7e29909448f594", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjhjNmRiYTI0ZTU1MjgyZDRiNDhmY2FjNmY3ZTI5OTA5NDQ4ZjU5NA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2009-09-08T22:00:42Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2009-09-08T22:00:42Z"}, "message": "re PR c++/39923 ([C++0x] ICE in build_init_list_var_init)\n\n/cp\n2009-09-08  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/39923\n\t* decl.c (build_init_list_var_init): Check return value of\n\tperform_implicit_conversion.\n\n/testsuite\n2009-09-08  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR c++/39923\n\t* g++.dg/cpp0x/initlist24.C: New.\n\nFrom-SVN: r151536", "tree": {"sha": "bccaa6e44841070c71957968b66d65000c75976f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/bccaa6e44841070c71957968b66d65000c75976f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f8c6dba24e55282d4b48fcac6f7e29909448f594", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8c6dba24e55282d4b48fcac6f7e29909448f594", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8c6dba24e55282d4b48fcac6f7e29909448f594", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8c6dba24e55282d4b48fcac6f7e29909448f594/comments", "author": null, "committer": null, "parents": [{"sha": "7c20033eccbeecfabd802c0fe752b7acadec02c1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7c20033eccbeecfabd802c0fe752b7acadec02c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7c20033eccbeecfabd802c0fe752b7acadec02c1"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "3656dbaf48b22958df0a6f5e0f0f2bb295e04103", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=f8c6dba24e55282d4b48fcac6f7e29909448f594", "patch": "@@ -1,3 +1,9 @@\n+2009-09-08  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/39923\n+\t* decl.c (build_init_list_var_init): Check return value of\n+\tperform_implicit_conversion.\n+\n 2009-09-03  Jason Merrill  <jason@redhat.com>\n \n \t* class.c (currently_open_class): Make sure we're dealing with the"}, {"sha": "0cfcb4f29ec351a74b4f98c6dfbc248b011e2a79", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=f8c6dba24e55282d4b48fcac6f7e29909448f594", "patch": "@@ -4415,6 +4415,9 @@ build_init_list_var_init (tree decl, tree type, tree init, tree *cleanup)\n {\n   tree aggr_init, array, arrtype;\n   init = perform_implicit_conversion (type, init, tf_warning_or_error);\n+  if (error_operand_p (init))\n+    return error_mark_node;\n+\n   aggr_init = TARGET_EXPR_INITIAL (init);\n   init = build2 (INIT_EXPR, type, decl, init);\n "}, {"sha": "045c207ccaf60bf0442fbe70a7d9d2c8158bcf90", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=f8c6dba24e55282d4b48fcac6f7e29909448f594", "patch": "@@ -1,3 +1,8 @@\n+2009-09-08  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR c++/39923\n+\t* g++.dg/cpp0x/initlist24.C: New.\n+\n 2009-09-08  Ozkan Sezer  <sezeroz@gmail.com>\n \n \t* gcc.dg/large-size-array-2.c: Fix target requirement."}, {"sha": "33e97c7dfb4f60405c0c19131eb6c89a72ab5d95", "filename": "gcc/testsuite/g++.dg/cpp0x/initlist24.C", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist24.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f8c6dba24e55282d4b48fcac6f7e29909448f594/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist24.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fcpp0x%2Finitlist24.C?ref=f8c6dba24e55282d4b48fcac6f7e29909448f594", "patch": "@@ -0,0 +1,9 @@\n+// PR c++/39923\n+// { dg-options \"-std=c++0x\" }\n+\n+#include <initializer_list>\n+\n+void test3()\n+{\n+  std::initializer_list<int> list{move}; // { dg-error \"not declared|could not convert\" }\n+}"}]}