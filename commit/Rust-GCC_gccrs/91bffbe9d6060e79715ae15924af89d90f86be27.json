{"sha": "91bffbe9d6060e79715ae15924af89d90f86be27", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTFiZmZiZTlkNjA2MGU3OTcxNWFlMTU5MjRhZjg5ZDkwZjg2YmUyNw==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2000-05-01T21:35:35Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2000-05-01T21:35:35Z"}, "message": "Makefile.am (SUBDIRS): Define.\n\n2000-04-28  Jakub Jelinek  <jakub@redhat.com>\n\n\t* Makefile.am (SUBDIRS): Define.\n\t(AM_MAKEFLAGS): Likewise.\n\t(Multilib support.): Add section.\n\t* Makefile.in: Rebuilt.\n\t* ltconfig (extra_compiler_flags, extra_compiler_flags_value):\n        New variables. Set for gcc using -print-multi-lib. Export them\n        to libtool.\n        (sparc64-*-linux-gnu*): Use libsuff 64 for search paths.\n        * ltmain.sh (B|b|V): Don't throw away gcc's -B, -b and -V options\n        for -shared links.\n        (extra_compiler_flags_value, extra_compiler_flags): Check these\n        for extra compiler options which need to be passed down in\n        compiler_flags.\n\nFrom-SVN: r33586", "tree": {"sha": "1079f4923cb1b76a3f9deaf5a958bb7d88fcc6d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1079f4923cb1b76a3f9deaf5a958bb7d88fcc6d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/91bffbe9d6060e79715ae15924af89d90f86be27", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91bffbe9d6060e79715ae15924af89d90f86be27", "html_url": "https://github.com/Rust-GCC/gccrs/commit/91bffbe9d6060e79715ae15924af89d90f86be27", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/91bffbe9d6060e79715ae15924af89d90f86be27/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7e04d3c7e31e1a98cab960f7bfe30e500281d435", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7e04d3c7e31e1a98cab960f7bfe30e500281d435", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7e04d3c7e31e1a98cab960f7bfe30e500281d435"}], "stats": {"total": 396, "additions": 347, "deletions": 49}, "files": [{"sha": "bdccdec27515ce58ec875727e1332cdd5920e839", "filename": "libffi/ChangeLog", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FChangeLog?ref=91bffbe9d6060e79715ae15924af89d90f86be27", "patch": "@@ -1,3 +1,19 @@\n+2000-04-28  Jakub Jelinek  <jakub@redhat.com>\n+\n+\t* Makefile.am (SUBDIRS): Define.\n+\t(AM_MAKEFLAGS): Likewise.\n+\t(Multilib support.): Add section.\n+\t* Makefile.in: Rebuilt.\n+\t* ltconfig (extra_compiler_flags, extra_compiler_flags_value):\n+        New variables. Set for gcc using -print-multi-lib. Export them\n+        to libtool.\n+        (sparc64-*-linux-gnu*): Use libsuff 64 for search paths.\n+        * ltmain.sh (B|b|V): Don't throw away gcc's -B, -b and -V options\n+        for -shared links.\n+        (extra_compiler_flags_value, extra_compiler_flags): Check these\n+        for extra compiler options which need to be passed down in\n+        compiler_flags.\n+\n 2000-04-16  Anthony Green  <green@redhat.com>\n \n \t* configure: Rebuilt."}, {"sha": "9b9375cc1882de3b4226feb1ae6c3e166f06b279", "filename": "libffi/Makefile.am", "status": "modified", "additions": 76, "deletions": 0, "changes": 76, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FMakefile.am?ref=91bffbe9d6060e79715ae15924af89d90f86be27", "patch": "@@ -2,6 +2,8 @@\n \n AUTOMAKE_OPTIONS = cygnus\n \n+SUBDIRS = include\n+\n EXTRA_DIST = LICENSE ChangeLog.v1 src/mips/ffi.c src/mips/n32.S \\\n \t\tsrc/mips/n32.s src/mips/o32.S src/mips/o32.s \\\n \t\tsrc/sparc/ffi.c src/sparc/v8.S src/sparc/v9.S \\\n@@ -13,6 +15,52 @@ EXTRA_DIST = LICENSE ChangeLog.v1 src/mips/ffi.c src/mips/n32.S \\\n \n VPATH = @srcdir@:@srcdir@/src:@srcdir@/src/@TARGETDIR@\n \n+## ################################################################\n+\n+##\n+## This section is for make and multilib madness.\n+##\n+\n+# Work around what appears to be a GNU make bug handling MAKEFLAGS\n+# values defined in terms of make variables, as is the case for CC and\n+# friends when we are called from the top level Makefile.\n+AM_MAKEFLAGS = \\\n+\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n+\t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n+\t\"CFLAGS=$(CFLAGS)\" \\\n+\t\"CXXFLAGS=$(CXXFLAGS)\" \\\n+\t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \\\n+\t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \\\n+\t\"INSTALL=$(INSTALL)\" \\\n+\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n+\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n+\t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \\\n+\t\"JC1FLAGS=$(JC1FLAGS)\" \\\n+\t\"LDFLAGS=$(LDFLAGS)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \\\n+\t\"MAKE=$(MAKE)\" \\\n+\t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n+\t\"SHELL=$(SHELL)\" \\\n+\t\"exec_prefix=$(exec_prefix)\" \\\n+\t\"infodir=$(infodir)\" \\\n+\t\"libdir=$(libdir)\" \\\n+\t\"prefix=$(prefix)\" \\\n+\t\"AR=$(AR)\" \\\n+\t\"AS=$(AS)\" \\\n+\t\"CC=$(CC)\" \\\n+\t\"CXX=$(CXX)\" \\\n+\t\"LD=$(LD)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"NM=$(NM)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"RANLIB=$(RANLIB)\" \\\n+\t\"DESTDIR=$(DESTDIR)\"\n+\n+MAKEOVERRIDES=\n+\n # Multilib support variables.\n MULTISRCTOP =\n MULTIBUILDTOP =\n@@ -84,3 +132,31 @@ AM_CFLAGS = -fexceptions\n libffi_la_LDFLAGS = -release $(VERSION) \n \n INCLUDES = -I$(top_srcdir)/include -Iinclude -I$(top_srcdir)/src\n+\n+# Multilib support.\n+.PHONY: all-multi mostlyclean-multi clean-multi distclean-multi \\\n+\tmaintainer-clean-multi\n+\n+all-recursive: all-multi\n+install-recursive: install-multi\n+mostlyclean-recursive: mostlyclean-multi\n+clean-recursive: clean-multi\n+distclean-recursive: distclean-multi\n+maintainer-clean-recursive: maintainer-clean-multi\n+\n+all-multi:\n+\t$(MULTIDO) $(AM_MAKEFLAGS) DO=all multi-do\n+install-multi:\n+\t$(MULTIDO) $(AM_MAKEFLAGS) DO=install multi-do\n+mostlyclean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=mostlyclean multi-clean\n+clean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=clean multi-clean\n+distclean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=distclean multi-clean\n+maintainer-clean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=maintainer-clean multi-clean\n+\n+\n+## ################################################################\n+"}, {"sha": "48c468a939640620f4655a2f27aaab0ee9194f1b", "filename": "libffi/Makefile.in", "status": "modified", "additions": 184, "deletions": 42, "changes": 226, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2FMakefile.in?ref=91bffbe9d6060e79715ae15924af89d90f86be27", "patch": "@@ -1,6 +1,6 @@\n # Makefile.in generated automatically by automake 1.4a from Makefile.am\n \n-# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.\n+# Copyright (C) 1994, 1995-9, 2000 Free Software Foundation, Inc.\n # This Makefile.in is free software; the Free Software Foundation\n # gives unlimited permission to copy and/or distribute it,\n # with or without modifications, as long as this notice is preserved.\n@@ -30,8 +30,6 @@ mandir = @mandir@\n includedir = @includedir@\n oldincludedir = /usr/include\n \n-DESTDIR =\n-\n pkgdatadir = $(datadir)/@PACKAGE@\n pkglibdir = $(libdir)/@PACKAGE@\n pkgincludedir = $(includedir)/@PACKAGE@\n@@ -56,32 +54,32 @@ POST_INSTALL = :\n NORMAL_UNINSTALL = :\n PRE_UNINSTALL = :\n POST_UNINSTALL = :\n+\n+@SET_MAKE@\n host_alias = @host_alias@\n host_triplet = @host@\n-AMTAR = @AMTAR@\n-AMTARFLAGS = @AMTARFLAGS@\n AS = @AS@\n CC = @CC@\n DLLTOOL = @DLLTOOL@\n EXEEXT = @EXEEXT@\n-LD = @LD@\n LIBTOOL = @LIBTOOL@\n LN_S = @LN_S@\n MAINT = @MAINT@\n MAKEINFO = @MAKEINFO@\n-NM = @NM@\n OBJDUMP = @OBJDUMP@\n PACKAGE = @PACKAGE@\n RANLIB = @RANLIB@\n SHELL = @SHELL@\n TARGET = @TARGET@\n TARGETDIR = @TARGETDIR@\n VERSION = @VERSION@\n-install_sh = @install_sh@\n+libffi_basedir = @libffi_basedir@\n \n \n AUTOMAKE_OPTIONS = cygnus\n \n+SUBDIRS = include\n+\n EXTRA_DIST = LICENSE ChangeLog.v1 src/mips/ffi.c src/mips/n32.S \\\n \t\tsrc/mips/n32.s src/mips/o32.S src/mips/o32.s \\\n \t\tsrc/sparc/ffi.c src/sparc/v8.S src/sparc/v9.S \\\n@@ -94,6 +92,47 @@ EXTRA_DIST = LICENSE ChangeLog.v1 src/mips/ffi.c src/mips/n32.S \\\n \n VPATH = @srcdir@:@srcdir@/src:@srcdir@/src/@TARGETDIR@\n \n+# Work around what appears to be a GNU make bug handling MAKEFLAGS\n+# values defined in terms of make variables, as is the case for CC and\n+# friends when we are called from the top level Makefile.\n+AM_MAKEFLAGS = \\\n+\t\"AR_FLAGS=$(AR_FLAGS)\" \\\n+\t\"CC_FOR_BUILD=$(CC_FOR_BUILD)\" \\\n+\t\"CFLAGS=$(CFLAGS)\" \\\n+\t\"CXXFLAGS=$(CXXFLAGS)\" \\\n+\t\"CFLAGS_FOR_BUILD=$(CFLAGS_FOR_BUILD)\" \\\n+\t\"CFLAGS_FOR_TARGET=$(CFLAGS_FOR_TARGET)\" \\\n+\t\"INSTALL=$(INSTALL)\" \\\n+\t\"INSTALL_DATA=$(INSTALL_DATA)\" \\\n+\t\"INSTALL_PROGRAM=$(INSTALL_PROGRAM)\" \\\n+\t\"INSTALL_SCRIPT=$(INSTALL_SCRIPT)\" \\\n+\t\"JC1FLAGS=$(JC1FLAGS)\" \\\n+\t\"LDFLAGS=$(LDFLAGS)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"LIBCFLAGS_FOR_TARGET=$(LIBCFLAGS_FOR_TARGET)\" \\\n+\t\"MAKE=$(MAKE)\" \\\n+\t\"MAKEINFO=$(MAKEINFO) $(MAKEINFOFLAGS)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"PICFLAG_FOR_TARGET=$(PICFLAG_FOR_TARGET)\" \\\n+\t\"SHELL=$(SHELL)\" \\\n+\t\"exec_prefix=$(exec_prefix)\" \\\n+\t\"infodir=$(infodir)\" \\\n+\t\"libdir=$(libdir)\" \\\n+\t\"prefix=$(prefix)\" \\\n+\t\"AR=$(AR)\" \\\n+\t\"AS=$(AS)\" \\\n+\t\"CC=$(CC)\" \\\n+\t\"CXX=$(CXX)\" \\\n+\t\"LD=$(LD)\" \\\n+\t\"LIBCFLAGS=$(LIBCFLAGS)\" \\\n+\t\"NM=$(NM)\" \\\n+\t\"PICFLAG=$(PICFLAG)\" \\\n+\t\"RANLIB=$(RANLIB)\" \\\n+\t\"DESTDIR=$(DESTDIR)\"\n+\n+\n+MAKEOVERRIDES = \n+\n # Multilib support variables.\n MULTISRCTOP = \n MULTIBUILDTOP = \n@@ -115,20 +154,22 @@ ffitest_LDADD = libffi.la\n TARGET_SRC_MIPS_GCC = src/mips/ffi.c src/mips/o32.S src/mips/n32.S\n TARGET_SRC_MIPS_SGI = src/mips/ffi.c src/mips/o32.s src/mips/n32.s\n TARGET_SRC_X86 = src/x86/ffi.c src/x86/sysv.S\n-TARGET_SRC_SPARC = src/sparc/ffi.c src/sparc/v8.S src/sparc/v9.S \n+TARGET_SRC_SPARC = src/sparc/ffi.c src/sparc/v8.S src/sparc/v9.S\n TARGET_SRC_ALPHA = src/alpha/ffi.c src/alpha/osf.S\n TARGET_SRC_IA64 = src/ia64/ffi.c src/ia64/unix.S\n TARGET_SRC_M68K = src/m68k/ffi.c src/m68k/sysv.S\n TARGET_SRC_POWERPC = src/powerpc/ffi.c src/powerpc/sysv.S\n TARGET_SRC_ARM = src/arm/sysv.S src/arm/ffi.c\n \n-libffi_la_common_SOURCES = src/debug.c src/prep_cif.c src/types.c src/raw_api.c src/java_raw_api.c\n+libffi_la_common_SOURCES = src/debug.c src/prep_cif.c src/types.c \\\n+\t\tsrc/raw_api.c src/java_raw_api.c\n+\n @MIPS_GCC_TRUE@libffi_la_SOURCES = @MIPS_GCC_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_MIPS_GCC)\n @MIPS_SGI_TRUE@libffi_la_SOURCES = @MIPS_SGI_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_MIPS_SGI)\n @X86_TRUE@libffi_la_SOURCES = @X86_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_X86)\n @SPARC_TRUE@libffi_la_SOURCES = @SPARC_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_SPARC)\n @ALPHA_TRUE@libffi_la_SOURCES = @ALPHA_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_ALPHA)\n-@IA64_TRUE@libffi_la_SOURCES = $(libffi_la_common_SOURCES) $(TARGET_SRC_IA64)\n+@IA64_TRUE@libffi_la_SOURCES = @IA64_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_IA64)\n @M68K_TRUE@libffi_la_SOURCES = @M68K_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_M68K)\n @POWERPC_TRUE@libffi_la_SOURCES = @POWERPC_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_POWERPC)\n @ARM_TRUE@libffi_la_SOURCES = @ARM_TRUE@$(libffi_la_common_SOURCES) $(TARGET_SRC_ARM)\n@@ -155,6 +196,8 @@ libffi_la_LIBADD =\n @ALPHA_TRUE@raw_api.lo java_raw_api.lo ffi.lo osf.lo\n @ARM_TRUE@am_libffi_la_OBJECTS =  debug.lo prep_cif.lo types.lo \\\n @ARM_TRUE@raw_api.lo java_raw_api.lo sysv.lo ffi.lo\n+@IA64_TRUE@am_libffi_la_OBJECTS =  debug.lo prep_cif.lo types.lo \\\n+@IA64_TRUE@raw_api.lo java_raw_api.lo ffi.lo unix.lo\n @M68K_TRUE@am_libffi_la_OBJECTS =  debug.lo prep_cif.lo types.lo \\\n @M68K_TRUE@raw_api.lo java_raw_api.lo ffi.lo sysv.lo\n @MIPS_GCC_TRUE@am_libffi_la_OBJECTS =  debug.lo prep_cif.lo types.lo \\\n@@ -179,8 +222,9 @@ COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CF\n LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n CFLAGS = @CFLAGS@\n CCLD = $(CC)\n-LINK = $(LIBTOOL) --mode=link \"$(CCLD)\" $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@\n+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@\n DIST_SOURCES =  $(libffi_la_SOURCES) $(ffitest_SOURCES)\n+depcomp = \n DIST_COMMON =  README ./stamp-h.in ChangeLog Makefile.am Makefile.in \\\n acconfig.h aclocal.m4 config.guess config.sub configure configure.in \\\n fficonfig.h.in install-sh ltconfig ltmain.sh missing mkinstalldirs\n@@ -189,7 +233,6 @@ fficonfig.h.in install-sh ltconfig ltmain.sh missing mkinstalldirs\n DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)\n \n GZIP_ENV = --best\n-depcomp = \n SOURCES = $(libffi_la_SOURCES) $(ffitest_SOURCES)\n OBJECTS = $(am_libffi_la_OBJECTS) $(am_ffitest_OBJECTS)\n \n@@ -296,6 +339,7 @@ java_raw_api.lo: src/java_raw_api.c\n ffi.lo: src/alpha/ffi.c\n osf.lo: src/alpha/osf.S\n sysv.lo: src/arm/sysv.S\n+unix.lo: src/ia64/unix.S\n o32.lo: src/mips/o32.S\n n32.lo: src/mips/n32.S\n v8.lo: src/sparc/v8.S\n@@ -330,6 +374,59 @@ ffitest$(EXEEXT): $(ffitest_OBJECTS) $(ffitest_DEPENDENCIES)\n .s.lo:\n \t$(LTCOMPILE) -c -o $@ $<\n \n+# This directory's subdirectories are mostly independent; you can cd\n+# into them and run `make' without going through this Makefile.\n+# To change the values of `make' variables: instead of editing Makefiles,\n+# (1) if the variable is set in `config.status', edit `config.status'\n+#     (which will cause the Makefiles to be regenerated when you run `make');\n+# (2) otherwise, pass the desired values on the `make' command line.\n+\n+all-recursive install-data-recursive install-exec-recursive \\\n+installdirs-recursive install-recursive uninstall-recursive install-info-recursive \\\n+check-recursive installcheck-recursive info-recursive dvi-recursive:\n+\t@set fnord $(MAKEFLAGS); amf=$$2; \\\n+\tdot_seen=no; \\\n+\ttarget=`echo $@ | sed s/-recursive//`; \\\n+\tlist='$(SUBDIRS)'; for subdir in $$list; do \\\n+\t  echo \"Making $$target in $$subdir\"; \\\n+\t  if test \"$$subdir\" = \".\"; then \\\n+\t    dot_seen=yes; \\\n+\t    local_target=\"$$target-am\"; \\\n+\t  else \\\n+\t    local_target=\"$$target\"; \\\n+\t  fi; \\\n+\t  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \\\n+\t   || case \"$$amf\" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \\\n+\tdone; \\\n+\tif test \"$$dot_seen\" = \"no\"; then \\\n+\t  $(MAKE) $(AM_MAKEFLAGS) \"$$target-am\" || exit 1; \\\n+\tfi; test -z \"$$fail\"\n+\n+mostlyclean-recursive clean-recursive distclean-recursive \\\n+maintainer-clean-recursive:\n+\t@set fnord $(MAKEFLAGS); amf=$$2; \\\n+\tdot_seen=no; \\\n+\trev=''; list='$(SUBDIRS)'; for subdir in $$list; do \\\n+\t  rev=\"$$subdir $$rev\"; \\\n+\t  if test \"$$subdir\" = \".\"; then dot_seen=yes; else :; fi; \\\n+\tdone; \\\n+\ttest \"$$dot_seen\" = \"no\" && rev=\". $$rev\"; \\\n+\ttarget=`echo $@ | sed s/-recursive//`; \\\n+\tfor subdir in $$rev; do \\\n+\t  echo \"Making $$target in $$subdir\"; \\\n+\t  if test \"$$subdir\" = \".\"; then \\\n+\t    local_target=\"$$target-am\"; \\\n+\t  else \\\n+\t    local_target=\"$$target\"; \\\n+\t  fi; \\\n+\t  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \\\n+\t   || case \"$$amf\" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \\\n+\tdone && test -z \"$$fail\"\n+tags-recursive:\n+\tlist='$(SUBDIRS)'; for subdir in $$list; do \\\n+\t  test \"$$subdir\" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) tags); \\\n+\tdone\n+\n tags: TAGS\n \n ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)\n@@ -339,12 +436,17 @@ ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)\n \t  done | \\\n \t  $(AWK) '    { files[$$0] = 1; } \\\n \t       END { for (i in files) print i; }'`; \\\n-\tmkid -f$$here/ID $$unique $(LISP)\n+\tmkid -fID $$unique $(LISP)\n \n-TAGS:  $(HEADERS) $(SOURCES) fficonfig.h.in $(TAGS_DEPENDENCIES) \\\n+TAGS: tags-recursive $(HEADERS) $(SOURCES) fficonfig.h.in $(TAGS_DEPENDENCIES) \\\n \t\t$(TAGS_FILES) $(LISP)\n \ttags=; \\\n \there=`pwd`; \\\n+\tlist='$(SUBDIRS)'; for subdir in $$list; do \\\n+   if test \"$$subdir\" = .; then :; else \\\n+\t    test -f $$subdir/TAGS && tags=\"$$tags -i $$here/$$subdir/TAGS\"; \\\n+   fi; \\\n+\tdone; \\\n \tlist='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \\\n \tunique=`for i in $$list; do \\\n \t    if test -f \"$$i\"; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n@@ -423,42 +525,53 @@ distdir: $(DISTFILES)\n \t@for file in $(DISTFILES); do \\\n \t  if test -f $$file; then d=.; else d=$(srcdir); fi; \\\n \t  if test -d $$d/$$file; then \\\n-\t    cp -pR $$d/$$file $(distdir); \\\n+\t    cp -pR $$d/$$file $(distdir) \\\n+\t    || exit 1; \\\n \t  else \\\n \t    test -f $(distdir)/$$file \\\n-\t    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \\\n-\t    || cp -p $$d/$$file $(distdir)/$$file || :; \\\n+\t    || cp -p $$d/$$file $(distdir)/$$file \\\n+\t    || exit 1; \\\n+\t  fi; \\\n+\tdone\n+\tfor subdir in $(SUBDIRS); do \\\n+\t  if test \"$$subdir\" = .; then :; else \\\n+\t    test -d $(distdir)/$$subdir \\\n+\t    || mkdir $(distdir)/$$subdir \\\n+\t    || exit 1; \\\n+\t    (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) top_distdir=../$(distdir) distdir=../$(distdir)/$$subdir distdir) \\\n+\t      || exit 1; \\\n \t  fi; \\\n \tdone\n info-am:\n-info: info-am\n+info: info-recursive\n dvi-am:\n-dvi: dvi-am\n+dvi: dvi-recursive\n check-am:\n-check: check-am\n+check: check-recursive\n installcheck-am:\n-installcheck: installcheck-am\n+installcheck: installcheck-recursive\n install-info-am: \n-install-info: install-info-am\n+install-info: install-info-recursive\n all-recursive-am: fficonfig.h\n \t$(MAKE) $(AM_MAKEFLAGS) all-recursive\n \n install-exec-am: install-toolexeclibLTLIBRARIES\n-install-exec: install-exec-am\n+install-exec: install-exec-recursive\n \n install-data-am:\n-install-data: install-data-am\n+install-data: install-data-recursive\n \n install-am: all-am\n \t@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am\n-install: install-am\n+install: install-recursive\n uninstall-am: uninstall-toolexeclibLTLIBRARIES\n-uninstall: uninstall-am\n+uninstall: uninstall-recursive\n all-am: Makefile $(LTLIBRARIES) $(PROGRAMS) fficonfig.h\n-all-redirect: all-am\n+all-redirect: all-recursive-am\n install-strip:\n \t$(MAKE) $(AM_MAKEFLAGS) INSTALL_STRIP_FLAG=-s install\n-installdirs:\n+installdirs: installdirs-recursive\n+installdirs-am:\n \t$(mkinstalldirs)  $(DESTDIR)$(toolexeclibdir)\n \n \n@@ -477,21 +590,21 @@ mostlyclean-am:  mostlyclean-hdr mostlyclean-toolexeclibLTLIBRARIES \\\n \t\tmostlyclean-noinstPROGRAMS mostlyclean-tags \\\n \t\tmostlyclean-generic\n \n-mostlyclean: mostlyclean-am\n+mostlyclean: mostlyclean-recursive\n \n clean-am:  clean-hdr clean-toolexeclibLTLIBRARIES clean-compile \\\n \t\tclean-libtool clean-noinstPROGRAMS clean-tags \\\n \t\tclean-generic mostlyclean-am\n \n-clean: clean-am\n+clean: clean-recursive\n \n distclean-am:  distclean-hdr distclean-toolexeclibLTLIBRARIES \\\n \t\tdistclean-compile distclean-libtool \\\n \t\tdistclean-noinstPROGRAMS distclean-tags \\\n \t\tdistclean-generic clean-am\n \t-rm -f libtool\n \n-distclean: distclean-am\n+distclean: distclean-recursive\n \t-rm -f config.status\n \n maintainer-clean-am:  maintainer-clean-hdr \\\n@@ -502,7 +615,7 @@ maintainer-clean-am:  maintainer-clean-hdr \\\n \t@echo \"This command is intended for maintainers to use;\"\n \t@echo \"it deletes files that may require special tools to rebuild.\"\n \n-maintainer-clean: maintainer-clean-am\n+maintainer-clean: maintainer-clean-recursive\n \t-rm -f config.status\n \n .PHONY: mostlyclean-hdr distclean-hdr clean-hdr maintainer-clean-hdr \\\n@@ -513,15 +626,44 @@ mostlyclean-compile distclean-compile clean-compile \\\n maintainer-clean-compile mostlyclean-libtool distclean-libtool \\\n clean-libtool maintainer-clean-libtool mostlyclean-noinstPROGRAMS \\\n distclean-noinstPROGRAMS clean-noinstPROGRAMS \\\n-maintainer-clean-noinstPROGRAMS tags mostlyclean-tags distclean-tags \\\n-clean-tags maintainer-clean-tags distdir info-am info dvi-am dvi check \\\n-check-am installcheck-am installcheck install-info-am install-info \\\n-all-recursive-am install-exec-am install-exec install-data-am \\\n-install-data install-am install uninstall-am uninstall all-redirect \\\n-all-am all install-strip installdirs mostlyclean-generic \\\n-distclean-generic clean-generic maintainer-clean-generic clean \\\n-mostlyclean distclean maintainer-clean\n-\n+maintainer-clean-noinstPROGRAMS install-recursive uninstall-recursive \\\n+install-data-recursive uninstall-data-recursive install-exec-recursive \\\n+uninstall-exec-recursive installdirs-recursive uninstalldirs-recursive \\\n+all-recursive check-recursive installcheck-recursive info-recursive \\\n+dvi-recursive mostlyclean-recursive distclean-recursive clean-recursive \\\n+maintainer-clean-recursive tags tags-recursive mostlyclean-tags \\\n+distclean-tags clean-tags maintainer-clean-tags distdir info-am info \\\n+dvi-am dvi check check-am installcheck-am installcheck install-info-am \\\n+install-info all-recursive-am install-exec-am install-exec \\\n+install-data-am install-data install-am install uninstall-am uninstall \\\n+all-redirect all-am all install-strip installdirs-am installdirs \\\n+mostlyclean-generic distclean-generic clean-generic \\\n+maintainer-clean-generic clean mostlyclean distclean maintainer-clean\n+\n+\n+# Multilib support.\n+.PHONY: all-multi mostlyclean-multi clean-multi distclean-multi \\\n+\tmaintainer-clean-multi\n+\n+all-recursive: all-multi\n+install-recursive: install-multi\n+mostlyclean-recursive: mostlyclean-multi\n+clean-recursive: clean-multi\n+distclean-recursive: distclean-multi\n+maintainer-clean-recursive: maintainer-clean-multi\n+\n+all-multi:\n+\t$(MULTIDO) $(AM_MAKEFLAGS) DO=all multi-do\n+install-multi:\n+\t$(MULTIDO) $(AM_MAKEFLAGS) DO=install multi-do\n+mostlyclean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=mostlyclean multi-clean\n+clean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=clean multi-clean\n+distclean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=distclean multi-clean\n+maintainer-clean-multi:\n+\t$(MULTICLEAN) $(AM_MAKEFLAGS) DO=maintainer-clean multi-clean\n \n # Tell versions [3.59,3.63) of GNU make to not export all variables.\n # Otherwise a system limit (for SysV at least) may be exceeded."}, {"sha": "7a0d3ca730f3eb7e6ff328e5da0035eee2f002db", "filename": "libffi/ltconfig", "status": "modified", "additions": 42, "deletions": 7, "changes": 49, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2Fltconfig", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2Fltconfig", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fltconfig?ref=91bffbe9d6060e79715ae15924af89d90f86be27", "patch": "@@ -985,6 +985,29 @@ else\n fi\n echo \"$ac_t$with_gnu_ld\" 1>&6\n \n+extra_compiler_flags=\n+extra_compiler_flags_value=\n+if test \"$with_gcc\" = yes; then\n+  extra_compiler_flags_value=\"-B|-b|-V\"\n+  extra_compiler_flags=\"-B*|-b*|-V*\"\n+  # Check to see what are the possible multilibing options\n+  echo $ac_n \"checking what multilib options $compiler supports ... $ac_c\" 1>&6\n+  multilibopts=\n+  if ${CC-cc} -print-multi-lib >/dev/null 2>&1; then\n+    for dir in `${CC-cc} -print-multi-lib 2>/dev/null`; do\n+      multilibopts=\"$multilibopts`echo $dir | sed -e 's/^[^;]*;//' -e 's/@/ -/g'`\"\n+    done\n+  fi\n+  # Kill any whitespace at the beginning and end\n+  multilibopts=`echo $multilibopts`\n+  if test -n \"$multilibopts\"; then\n+    extra_compiler_flags=\"$extra_compiler_flags`echo $multilibopts | sed -e 's/ -/|-/g' -e 's/^-/|-/'`\"\n+    echo \"$ac_t$multilibopts\" 1>&6\n+  else\n+    echo \"$ac_t\"none 1>&6\n+  fi\n+fi\n+\n # See if the linker supports building shared libraries.\n echo $ac_n \"checking whether the linker ($LD) supports shared libraries... $ac_c\" 1>&6\n \n@@ -1109,8 +1132,8 @@ EOF\n \n   *)\n     if $LD --help 2>&1 | egrep ': supported targets:.* elf' > /dev/null; then\n-      archive_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname $wl$soname -o $lib'\n-      archive_expsym_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags $linkopts ${wl}-soname $wl$soname -o $lib'\n+      archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags $linkopts ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n     else\n       ld_shlibs=no\n     fi\n@@ -1217,7 +1240,7 @@ else\n \n   # FreeBSD 3 and greater uses gcc -shared to do shared libraries.\n   freebsd*)\n-    archive_cmds='$CC -shared -o $lib $libobjs $deplibs $linkopts'\n+    archive_cmds='$CC -shared -o $lib $libobjs $deplibs $compiler_flags $linkopts'\n     hardcode_libdir_flag_spec='-R$libdir'\n     hardcode_direct=yes\n     hardcode_minus_L=no\n@@ -1242,9 +1265,9 @@ else\n \n   irix5* | irix6*)\n     if test \"$with_gcc\" = yes; then\n-      archive_cmds='$CC -shared $libobjs $deplibs $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` -o $lib'\n+      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` -o $lib'\n     else\n-      archive_cmds='$LD -shared $libobjs $deplibs $linkopts -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -o $lib'\n+      archive_cmds='$LD -shared $libobjs $deplibs $compiler_flags $linkopts -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -o $lib'\n     fi\n     hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n     hardcode_libdir_separator=:\n@@ -1279,7 +1302,7 @@ else\n   osf3* | osf4*)\n     if test \"$with_gcc\" = yes; then\n       allow_undefined_flag=' ${wl}-expect_unresolved ${wl}\\*'\n-      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` -o $lib'\n+      archive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags $linkopts ${wl}-soname ${wl}$soname `test -n \"$verstring\" && echo ${wl}-set_version ${wl}$verstring` -o $lib'\n     else\n       allow_undefined_flag=' -expect_unresolved \\*'\n       archive_cmds='$LD -shared${allow_undefined_flag} $libobjs $deplibs $linkopts -soname $soname `test -n \"$verstring\" && echo -set_version $verstring` -o $lib'\n@@ -1771,6 +1794,13 @@ linux-gnu*)\n     *) dynamic_linker='Linux ld.so' ;;\n     esac\n   fi\n+  case \"$host_cpu\" in\n+  sparc64)\n+    libsuff=64\n+    sys_lib_search_path_spec=\"/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}\"\n+    sys_lib_dlsearch_path_spec=\"/lib${libsuff} /usr/lib${libsuff}\"\n+    ;;\n+  esac\n   ;;\n \n netbsd*)\n@@ -2428,7 +2458,8 @@ case \"$ltmain\" in\n     finish_cmds finish_eval global_symbol_pipe global_symbol_to_cdecl \\\n     hardcode_libdir_flag_spec hardcode_libdir_separator  \\\n     sys_lib_search_path_spec sys_lib_dlsearch_path_spec \\\n-    compiler_c_o compiler_o_lo need_locks exclude_expsyms include_expsyms; do\n+    compiler_c_o compiler_o_lo need_locks exclude_expsyms include_expsyms \\\n+    extra_compiler_flags extra_compiler_flags_value; do\n \n     case \"$var\" in\n     reload_cmds | old_archive_cmds | old_archive_from_new_cmds | \\\n@@ -2654,6 +2685,10 @@ archive_expsym_cmds=$archive_expsym_cmds\n postinstall_cmds=$postinstall_cmds\n postuninstall_cmds=$postuninstall_cmds\n \n+# Case patterns for extra compiler flags needed for linking\n+extra_compiler_flags=$extra_compiler_flags\n+extra_compiler_flags_value=$extra_compiler_flags_value\n+\n # Method to check whether dependent libraries are shared objects.\n deplibs_check_method=$deplibs_check_method\n "}, {"sha": "cb9ebc34ea0fbb83a52ee70bfcfaca13611f5c1e", "filename": "libffi/ltmain.sh", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2Fltmain.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/91bffbe9d6060e79715ae15924af89d90f86be27/libffi%2Fltmain.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libffi%2Fltmain.sh?ref=91bffbe9d6060e79715ae15924af89d90f86be27", "patch": "@@ -787,6 +787,7 @@ compiler.\"\n     finalize_command=\"$CC\"\n \n     compile_rpath=\n+    compiler_flags=\n     finalize_rpath=\n     compile_shlibpath=\n     finalize_shlibpath=\n@@ -916,6 +917,13 @@ compiler.\"\n \t  prev=\n \t  continue\n \t  ;;\n+\tB|b|V)\n+\t  compiler_flags=\"$compiler_flags -$prev$qarg\"\n+\t  prev=\n+\t  compile_command=\"$compile_command -$prev$qarg\"\n+\t  finalize_command=\"$finalize_command -$prev$qarg\"\n+\t  continue\n+\t  ;;\n \t*)\n \t  eval \"$prev=\\\"\\$arg\\\"\"\n \t  prev=\n@@ -1076,6 +1084,17 @@ compiler.\"\n \n       # Some other compiler flag.\n       -* | +*)\n+\tif test \"X$extra_compiler_flags_value\" != \"X\"; then\n+\t    is_extra_compiler_flag=\n+\t    eval \"case \\\"\\$arg\\\" in \\\n+\t      $extra_compiler_flags_value) \\\n+\t\tis_extra_compiler_flag=yes ;; \\\n+\t      esac\"\n+\t    if test \"$is_extra_compiler_flag\"; then\n+\t      prev=`echo \"X$arg\" | $Xsed -e 's/^-//'`\n+\t      continue\n+\t    fi\n+\tfi\n \t# Unknown arguments in both finalize_command and compile_command need\n \t# to be aesthetically quoted because they are evaled later.\n \targ=`$echo \"X$arg\" | $Xsed -e \"$sed_quote_subst\"`\n@@ -1084,6 +1103,16 @@ compiler.\"\n \t  arg=\"\\\"$arg\\\"\"\n \t  ;;\n \tesac\n+\tif test \"X$extra_compiler_flags\" != \"X\"; then\n+\t    is_extra_compiler_flag=\n+\t    eval \"case \\\"\\$arg\\\" in \\\n+\t      $extra_compiler_flags) \\\n+\t\tis_extra_compiler_flag=yes ;; \\\n+\t      esac\"\n+\t    if test \"$is_extra_compiler_flag\"; then\n+\t      compiler_flags=\"$compiler_flags $arg\"\n+\t    fi\n+\tfi\n \t;;\n \n       *.o | *.obj | *.a | *.lib)"}]}