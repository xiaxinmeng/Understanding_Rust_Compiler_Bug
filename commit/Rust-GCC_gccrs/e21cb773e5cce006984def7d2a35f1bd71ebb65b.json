{"sha": "e21cb773e5cce006984def7d2a35f1bd71ebb65b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTIxY2I3NzNlNWNjZTAwNjk4NGRlZjdkMmEzNWYxYmQ3MWViYjY1Yg==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-12-06T15:47:05Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-12-06T15:47:05Z"}, "message": "type_traits: Implement is_reference.\n\n2004-12-06  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/tr1/type_traits: Implement is_reference.\n\t* testsuite/tr1/4_metaprogramming/primary_type_categories/\n\tis_reference/is_reference.cc: New.\n\t* testsuite/tr1/4_metaprogramming/primary_type_categories/\n\tis_reference/typedefs.cc: Likewise.\n\nFrom-SVN: r91779", "tree": {"sha": "886fe1ec57c9225183ed93aa676faa83f8057f23", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/886fe1ec57c9225183ed93aa676faa83f8057f23"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e21cb773e5cce006984def7d2a35f1bd71ebb65b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e21cb773e5cce006984def7d2a35f1bd71ebb65b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e21cb773e5cce006984def7d2a35f1bd71ebb65b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e21cb773e5cce006984def7d2a35f1bd71ebb65b/comments", "author": null, "committer": null, "parents": [{"sha": "a58d74533c0b06903094936b4d3ba3712fe10ca9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a58d74533c0b06903094936b4d3ba3712fe10ca9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a58d74533c0b06903094936b4d3ba3712fe10ca9"}], "stats": {"total": 106, "additions": 103, "deletions": 3}, "files": [{"sha": "f7867cb8c12b6510cf382fdbb68d1d856e638932", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=e21cb773e5cce006984def7d2a35f1bd71ebb65b", "patch": "@@ -1,3 +1,11 @@\n+2004-12-06  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/tr1/type_traits: Implement is_reference.\n+\t* testsuite/tr1/4_metaprogramming/primary_type_categories/\n+\tis_reference/is_reference.cc: New.\n+\t* testsuite/tr1/4_metaprogramming/primary_type_categories/\n+\tis_reference/typedefs.cc: Likewise.\n+\n 2004-12-05  Paolo Carlini  <pcarlini@suse.de>\n \n \tPR libstdc++/18837"}, {"sha": "44d8a4e35839f09ed56dd377726a1bd39faa3fa9", "filename": "libstdc++-v3/include/tr1/type_traits", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Ftype_traits", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Ftype_traits", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Ftype_traits?ref=e21cb773e5cce006984def7d2a35f1bd71ebb65b", "patch": "@@ -22,8 +22,8 @@\n  *  This is a TR1 C++ Library header. \n  */\n \n-#ifndef _TR1_TYPE_TRAITS\n-#define _TR1_TYPE_TRAITS 1\n+#ifndef _TYPE_TRAITS\n+#define _TYPE_TRAITS 1\n \n #include <bits/c++config.h>\n #include <cstddef>\n@@ -102,8 +102,13 @@ namespace tr1\n   template<typename _Tp>\n     struct is_pointer;\n   \n+  template<typename>\n+    struct is_reference\n+    : public false_type { };\n+\n   template<typename _Tp>\n-    struct is_reference;\n+    struct is_reference<_Tp&>\n+    : public true_type { };\n   \n   template<typename _Tp>\n     struct is_member_object_pointer;"}, {"sha": "2442edb3b0505c3f37f0d40ab58c58f73f81d1f2", "filename": "libstdc++-v3/testsuite/tr1/4_metaprogramming/primary_type_categories/is_reference/is_reference.cc", "status": "added", "additions": 51, "deletions": 0, "changes": 51, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Fprimary_type_categories%2Fis_reference%2Fis_reference.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Fprimary_type_categories%2Fis_reference%2Fis_reference.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Fprimary_type_categories%2Fis_reference%2Fis_reference.cc?ref=e21cb773e5cce006984def7d2a35f1bd71ebb65b", "patch": "@@ -0,0 +1,51 @@\n+// 2004-12-06  Paolo Carlini  <pcarlini@suse.de>\n+//\n+// Copyright (C) 2004 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+//\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// 4.5.1 Primary type categories\n+\n+#include <tr1/type_traits>\n+#include <testsuite_hooks.h>\n+#include <testsuite_tr1.h>\n+\n+class ClassType { };\n+\n+void test01()\n+{\n+  bool test __attribute__((unused)) = true;\n+  using std::tr1::is_reference;\n+  using __gnu_test::test_category;\n+\n+  typedef int&           int_ref;\n+  typedef ClassType&     ClassType_ref;\n+  typedef int (&fun_ref) (int);\n+\n+  VERIFY( (test_category<is_reference, int_ref, true>()) );\n+  VERIFY( (test_category<is_reference, ClassType_ref, true>()) );\n+  VERIFY( (test_category<is_reference, fun_ref, true>()) );\n+\n+  // Sanity check.\n+  VERIFY( (test_category<is_reference, ClassType, false>()) );\n+}\n+\n+int main()\n+{\n+  test01();\n+  return 0;\n+}"}, {"sha": "ecc197b82d6f4b74a2ad9574ec1e15fca145f378", "filename": "libstdc++-v3/testsuite/tr1/4_metaprogramming/primary_type_categories/is_reference/typedefs.cc", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Fprimary_type_categories%2Fis_reference%2Ftypedefs.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e21cb773e5cce006984def7d2a35f1bd71ebb65b/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Fprimary_type_categories%2Fis_reference%2Ftypedefs.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Fprimary_type_categories%2Fis_reference%2Ftypedefs.cc?ref=e21cb773e5cce006984def7d2a35f1bd71ebb65b", "patch": "@@ -0,0 +1,36 @@\n+// 2004-12-06  Paolo Carlini  <pcarlini@suse.de>\n+//\n+// Copyright (C) 2004 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+//\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// \n+// NB: This file is for testing tr1/type_traits with NO OTHER INCLUDES.\n+\n+#include <tr1/type_traits>\n+\n+// { dg-do compile }\n+\n+void test01()\n+{\n+  // Check for required typedefs\n+  typedef std::tr1::is_reference<int>         test_type;\n+  typedef test_type::value_type               value_type;\n+  typedef test_type::type                     type;\n+  typedef test_type::type::value_type         type_value_type;\n+  typedef test_type::type::type               type_type;\n+}"}]}