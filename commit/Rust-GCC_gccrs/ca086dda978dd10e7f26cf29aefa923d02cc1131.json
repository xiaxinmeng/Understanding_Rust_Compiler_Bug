{"sha": "ca086dda978dd10e7f26cf29aefa923d02cc1131", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2EwODZkZGE5NzhkZDEwZTdmMjZjZjI5YWVmYTkyM2QwMmNjMTEzMQ==", "commit": {"author": {"name": "Jonathan Wakely", "email": "jwakely@redhat.com", "date": "2018-08-13T18:54:43Z"}, "committer": {"name": "Jonathan Wakely", "email": "redi@gcc.gnu.org", "date": "2018-08-13T18:54:43Z"}, "message": "PR libstdc++/45093 avoid warnings for _M_destroy_node\n\n\tPR libstdc++/45093\n\t* include/bits/stl_tree.h (_Rb_tree::_M_destroy_node(_Link_type)):\n\tCombine definitions to avoid --detect-odr-violations warning.\n\nFrom-SVN: r263516", "tree": {"sha": "4abe194bfec7f111a502449f06ccf812f1d6737c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4abe194bfec7f111a502449f06ccf812f1d6737c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ca086dda978dd10e7f26cf29aefa923d02cc1131", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca086dda978dd10e7f26cf29aefa923d02cc1131", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca086dda978dd10e7f26cf29aefa923d02cc1131", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca086dda978dd10e7f26cf29aefa923d02cc1131/comments", "author": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jwakely", "id": 1254480, "node_id": "MDQ6VXNlcjEyNTQ0ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/1254480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwakely", "html_url": "https://github.com/jwakely", "followers_url": "https://api.github.com/users/jwakely/followers", "following_url": "https://api.github.com/users/jwakely/following{/other_user}", "gists_url": "https://api.github.com/users/jwakely/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwakely/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwakely/subscriptions", "organizations_url": "https://api.github.com/users/jwakely/orgs", "repos_url": "https://api.github.com/users/jwakely/repos", "events_url": "https://api.github.com/users/jwakely/events{/privacy}", "received_events_url": "https://api.github.com/users/jwakely/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2383ed026914b85980520278455f97c270006d4d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2383ed026914b85980520278455f97c270006d4d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2383ed026914b85980520278455f97c270006d4d"}], "stats": {"total": 16, "additions": 10, "deletions": 6}, "files": [{"sha": "312f39c41ba0093c2d3f2e85ff5d8edd42a97eca", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca086dda978dd10e7f26cf29aefa923d02cc1131/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca086dda978dd10e7f26cf29aefa923d02cc1131/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=ca086dda978dd10e7f26cf29aefa923d02cc1131", "patch": "@@ -1,5 +1,9 @@\n 2018-08-13  Jonathan Wakely  <jwakely@redhat.com>\n \n+\tPR libstdc++/45093\n+\t* include/bits/stl_tree.h (_Rb_tree::_M_destroy_node(_Link_type)):\n+\tCombine definitions to avoid --detect-odr-violations warning.\n+\n \t* libsupc++/new_opa.cc (operator new(size_t, align_val_t)): Use\n \t__is_pow2 to check for valid alignment. Avoid branching when rounding\n \tsize to multiple of alignment."}, {"sha": "09e8d758873ab5d0b700a196e6d6fe3879f133b4", "filename": "libstdc++-v3/include/bits/stl_tree.h", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ca086dda978dd10e7f26cf29aefa923d02cc1131/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tree.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ca086dda978dd10e7f26cf29aefa923d02cc1131/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tree.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Fbits%2Fstl_tree.h?ref=ca086dda978dd10e7f26cf29aefa923d02cc1131", "patch": "@@ -626,10 +626,6 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \t_M_construct_node(__tmp, __x);\n \treturn __tmp;\n       }\n-\n-      void\n-      _M_destroy_node(_Link_type __p)\n-      { get_allocator().destroy(__p->_M_valptr()); }\n #else\n       template<typename... _Args>\n \tvoid\n@@ -658,14 +654,18 @@ _GLIBCXX_BEGIN_NAMESPACE_VERSION\n \t  _M_construct_node(__tmp, std::forward<_Args>(__args)...);\n \t  return __tmp;\n \t}\n+#endif\n \n       void\n-      _M_destroy_node(_Link_type __p) noexcept\n+      _M_destroy_node(_Link_type __p) _GLIBCXX_NOEXCEPT\n       {\n+#if __cplusplus < 201103L\n+\tget_allocator().destroy(__p->_M_valptr());\n+#else\n \t_Alloc_traits::destroy(_M_get_Node_allocator(), __p->_M_valptr());\n \t__p->~_Rb_tree_node<_Val>();\n-      }\n #endif\n+      }\n \n       void\n       _M_drop_node(_Link_type __p) _GLIBCXX_NOEXCEPT"}]}