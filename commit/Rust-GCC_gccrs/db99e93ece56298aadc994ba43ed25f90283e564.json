{"sha": "db99e93ece56298aadc994ba43ed25f90283e564", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGI5OWU5M2VjZTU2Mjk4YWFkYzk5NGJhNDNlZDI1ZjkwMjgzZTU2NA==", "commit": {"author": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-02-01T00:20:49Z"}, "committer": {"name": "Doug Evans", "email": "dje@gnu.org", "date": "1996-02-01T00:20:49Z"}, "message": "(CPP_SPEC): Delete.\n\n(SUBTARGET_EXTRA_SPECS): Define.\n\nFrom-SVN: r11147", "tree": {"sha": "809a9484bc70d16270d9fec34e92b4cfebeee3e2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/809a9484bc70d16270d9fec34e92b4cfebeee3e2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/db99e93ece56298aadc994ba43ed25f90283e564", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db99e93ece56298aadc994ba43ed25f90283e564", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db99e93ece56298aadc994ba43ed25f90283e564", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db99e93ece56298aadc994ba43ed25f90283e564/comments", "author": null, "committer": null, "parents": [{"sha": "03a7e1a5deefa6037c2ec036b7c7e696b79d6733", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/03a7e1a5deefa6037c2ec036b7c7e696b79d6733", "html_url": "https://github.com/Rust-GCC/gccrs/commit/03a7e1a5deefa6037c2ec036b7c7e696b79d6733"}], "stats": {"total": 54, "additions": 43, "deletions": 11}, "files": [{"sha": "02a0b9f46aac6ef5aa5c39e05e5003313760694d", "filename": "gcc/config/m68k/vxm68k.h", "status": "modified", "additions": 43, "deletions": 11, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/db99e93ece56298aadc994ba43ed25f90283e564/gcc%2Fconfig%2Fm68k%2Fvxm68k.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/db99e93ece56298aadc994ba43ed25f90283e564/gcc%2Fconfig%2Fm68k%2Fvxm68k.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fvxm68k.h?ref=db99e93ece56298aadc994ba43ed25f90283e564", "patch": "@@ -1,5 +1,5 @@\n /* Definitions of target machine for GNU compiler.  Vxworks m68k version.\n-   Copyright (C) 1994 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1996 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -20,19 +20,51 @@ Boston, MA 02111-1307, USA.  */\n \n /* This comment is here to see if it will keep Sun's cpp from dying.  */\n \n-#define CPP_PREDEFINES \"-Dmc68000 -D__vxworks -D__vxworks_5 -Acpu(m68k) -Amachine(m68k)\"\n-\n-/* Vxworks header files require that the macro CPU be set, so we must override\n-   the CPP_SPEC from m68k-none.h.  */\n-\n-#define CPP_SPEC \\\n-\"%{!mc68000:%{!m68000:%{!m68332:%{!msoft-float:%{mfpa:-D__HAVE_FPA__ }%{!mfpa:-D__HAVE_68881__ }}}}}\\\n-%{!ansi:%{m68000:-DCPU=MC68000 }%{m68010:-Dmc68010 -DCPU=MC68010 }%{m68020:-Dmc68020 -DCPU=MC68020 }%{mc68020:-Dmc68020 -DCPU=MC68020 }%{m68030:-Dmc68030 -DCPU=MC68030 }%{m68040:-Dmc68040 -DCPU=MC68040 }%{m68020-40:-Dmc68020 -Dmc68030 -Dmc68040 -DCPU=MC68020 }%{m68302:-Dmc68302 -DCPU=MC68000 }%{m68332:-Dmc68332 -DCPU=CPU32 }%{!mc68000:%{!m68000:%{!m68010:%{!mc68020:%{!m68020:%{!m68030:%{!m68040:%{!m68020-40:%{!m68302:%{!m68332:-Dmc68020 -DCPU=MC68020 }}}}}}}}}}}\\\n-%{m68010:-D__mc68010__ -D__mc68010 }%{m68020:-D__mc68020__ -D__mc68020 }%{mc68020:-D__mc68020__ -D__mc68020 }%{m68030:-D__mc68030__ -D__mc68030 }%{m68040:-D__mc68040__ -D__mc68040 }%{m68020-40:-D__mc68020__ -D__mc68030__ -D__mc68040__ -D__mc68020 -D__mc68030 -D__mc68040 }%{m68302:-D__mc68302__ -D__mc68302 }%{m68332:-D__mc68332__ -D__mc68332 }%{!mc68000:%{!m68000:%{!m68010:%{!mc68020:%{!m68020:%{!m68030:%{!m68040:%{!m68020-40:%{!m68302:%{!m68332:-D__mc68020__ -D__mc68020 }}}}}}}}}}\"\n-\n #include \"m68k/m68k-none.h\"\n #include \"aoutos.h\"\n \n+#undef CPP_PREDEFINES\n+#define CPP_PREDEFINES \"-Dmc68000 -D__vxworks -D__vxworks_5 -Acpu(m68k) -Amachine(m68k)\"\n+\n+/* The default value for -DCPU=.  */\n+#if TARGET_CPU_DEFAULT == M68K_CPU_m68k || TARGET_CPU_DEFAULT == M68K_CPU_m68020\n+#define CPP_SUBTARGET_CPU_DEFAULT_SPEC \"-DCPU=MC68020\"\n+#else\n+#if TARGET_CPU_DEFAULT == M68K_CPU_m68000\n+#define CPP_SUBTARGET_CPU_DEFAULT_SPEC \"-DCPU=MC68000\"\n+#else\n+#if TARGET_CPU_DEFAULT == M68K_CPU_m68030\n+#define CPP_SUBTARGET_CPU_DEFAULT_SPEC \"-DCPU=MC68030\"\n+#else\n+#if TARGET_CPU_DEFAULT == M68K_CPU_m68040\n+#define CPP_SUBTARGET_CPU_DEFAULT_SPEC \"-DCPU=MC68040\"\n+#else\n+#if TARGET_CPU_DEFAULT == M68K_CPU_m68302\n+#define CPP_SUBTARGET_CPU_DEFAULT_SPEC \"-DCPU=MC68302\"\n+#else\n+#if TARGET_CPU_DEFAULT == M68K_CPU_m68332\n+#define CPP_SUBTARGET_CPU_DEFAULT_SPEC \"-DCPU=MC68332\"\n+#else\n+Unrecognized value in TARGET_CPU_DEFAULT.\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+#endif\n+\n+#undef SUBTARGET_EXTRA_SPECS\n+#define SUBTARGET_EXTRA_SPECS \\\n+{ \"cpp_subtarget_cpu_default\", CPP_SUBTARGET_CPU_DEFAULT_SPEC }\n+\n+/* Vxworks header files require that the macro CPU be set.  */\n+/* ??? The previous code didn't set CPU if -ansi.  */\n+#undef CPP_SUBTARGET_SPEC\n+#define CPP_SUBTARGET_SPEC \"\\\n+%{m68000:-DCPU=MC68000 }%{m68010:-DCPU=MC68010 }%{m68020:-DCPU=MC68020 }%{mc68020:-DCPU=MC68020 }%{m68030:-DCPU=MC68030 }%{m68040:-DCPU=MC68040 }%{m68020-40:-DCPU=MC68020 }%{m68302:-DCPU=MC68000 }%{m68332:-DCPU=CPU32 } \\\n+%{!mc68000:%{!m68000:%{!m68010:%{!mc68020:%{!m68020:%{!m68030:%{!m68040:%{!m68020-40:%{!m68302:%{!m68332:%(cpp_subtarget_cpu_default) }}}}}}}}}} \\\n+\"\n+\n #define DBX_DEBUGGING_INFO\n #undef SDB_DEBUGGING_INFO\n "}]}