{"sha": "39bd294869837e513aac7763944c20b727ffaa5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzliZDI5NDg2OTgzN2U1MTNhYWM3NzYzOTQ0YzIwYjcyN2ZmYWE1Yg==", "commit": {"author": {"name": "Roman Lechtchinsky", "email": "rl@cs.tu-berlin.de", "date": "2001-07-06T21:44:58Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2001-07-06T21:44:58Z"}, "message": "glimits.h (__SHRT_MAX__): New.\n\n        * glimits.h (__SHRT_MAX__): New.\n        (SHRT_MIN, USHRT_MAX): Define in terms of SHRT_MAX.\n        (SHRT_MAX): Define in terms of __SHRT_MAX__.\n\nFrom-SVN: r43825", "tree": {"sha": "5fb5f045bf7c439bb46b998f2e12fa1bb7b825c9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5fb5f045bf7c439bb46b998f2e12fa1bb7b825c9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39bd294869837e513aac7763944c20b727ffaa5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39bd294869837e513aac7763944c20b727ffaa5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39bd294869837e513aac7763944c20b727ffaa5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39bd294869837e513aac7763944c20b727ffaa5b/comments", "author": null, "committer": null, "parents": [{"sha": "9fecb07186b77b17d0e544e71c25d3fa45ef89e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9fecb07186b77b17d0e544e71c25d3fa45ef89e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9fecb07186b77b17d0e544e71c25d3fa45ef89e9"}], "stats": {"total": 21, "additions": 15, "deletions": 6}, "files": [{"sha": "f361306ce0381094b7ba540421f3fa0c8a15bc01", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39bd294869837e513aac7763944c20b727ffaa5b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39bd294869837e513aac7763944c20b727ffaa5b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=39bd294869837e513aac7763944c20b727ffaa5b", "patch": "@@ -1,3 +1,9 @@\n+2001-07-06  Roman Lechtchinsky  <rl@cs.tu-berlin.de>\n+\n+\t* glimits.h (__SHRT_MAX__): New.\n+\t(SHRT_MIN, USHRT_MAX): Define in terms of SHRT_MAX.\n+\t(SHRT_MAX): Define in terms of __SHRT_MAX__.\n+\n 2001-07-06  Jan van Male  <jan.vanmale@fenk.wau.nl>\n \n \t* alias.c (base_alias_check): Cast GET_MODE_UNIT_SIZE to int to"}, {"sha": "bdf7e31ad381e1eea2429c36c1c8f6ae557e7640", "filename": "gcc/glimits.h", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39bd294869837e513aac7763944c20b727ffaa5b/gcc%2Fglimits.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39bd294869837e513aac7763944c20b727ffaa5b/gcc%2Fglimits.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fglimits.h?ref=39bd294869837e513aac7763944c20b727ffaa5b", "patch": "@@ -37,12 +37,15 @@\n #define CHAR_MAX 127\n #endif\n \n+#ifndef __SHRT_MAX__\n+#define __SHRT_MAX__ 32767\n+#endif\n+\n /* Minimum and maximum values a `signed short int' can hold.  */\n #undef SHRT_MIN\n-/* For the sake of 16 bit hosts, we may not use -32768 */\n-#define SHRT_MIN (-32767-1)\n+#define SHRT_MIN (-SHRT_MAX-1)\n #undef SHRT_MAX\n-#define SHRT_MAX 32767\n+#define SHRT_MAX __SHRT_MAX__\n \n /* Minimum and maximum values a `signed int' can hold.  */\n #ifndef __INT_MAX__\n@@ -55,10 +58,10 @@\n \n /* Maximum value an `unsigned short int' can hold.  (Minimum is 0).  */\n #undef USHRT_MAX\n-#if INT_MAX < 65535\n-#define USHRT_MAX 65535U\n+#if __SHRT_MAX__ == __INT_MAX__\n+#define USHRT_MAX (SHRT_MAX * 2U + 1U)\n #else\n-#define USHRT_MAX 65535\n+#define USHRT_MAX (SHRT_MAX * 2 + 1)\n #endif\n \n /* Maximum value an `unsigned int' can hold.  (Minimum is 0).  */"}]}