{"sha": "acccf7887ed18571bdd816a15e6ba6bc84670f04", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWNjY2Y3ODg3ZWQxODU3MWJkZDgxNmExNWU2YmE2YmM4NDY3MGYwNA==", "commit": {"author": {"name": "Mark Mitchell", "email": "mark@codesourcery.com", "date": "2004-08-18T18:25:10Z"}, "committer": {"name": "Mark Mitchell", "email": "mmitchel@gcc.gnu.org", "date": "2004-08-18T18:25:10Z"}, "message": "re PR c++/17068 (ICE: tree check: expected class 'd', have 'x' (identifier_node) in dependent_template_p, at cp/pt.c:12043)\n\n\tPR c++/17068\n\t* pt.c (dependent_template_p): Treat IDENTIFIER_NODEs as\n\tdependent.\n\n\tPR c++/17068\n\t* g++.dg/template/operator4.C: New test.\n\nFrom-SVN: r86199", "tree": {"sha": "ea13e35480477ff808d2caeb045929a4cc7ab6f8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ea13e35480477ff808d2caeb045929a4cc7ab6f8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/acccf7887ed18571bdd816a15e6ba6bc84670f04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acccf7887ed18571bdd816a15e6ba6bc84670f04", "html_url": "https://github.com/Rust-GCC/gccrs/commit/acccf7887ed18571bdd816a15e6ba6bc84670f04", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/acccf7887ed18571bdd816a15e6ba6bc84670f04/comments", "author": null, "committer": null, "parents": [{"sha": "50dc9a88c1edf862816c804f8ea93443d257180c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/50dc9a88c1edf862816c804f8ea93443d257180c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/50dc9a88c1edf862816c804f8ea93443d257180c"}], "stats": {"total": 27, "additions": 25, "deletions": 2}, "files": [{"sha": "0ba2415b4a45925f832e6f9187e1278af2ac8ef9", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=acccf7887ed18571bdd816a15e6ba6bc84670f04", "patch": "@@ -1,3 +1,9 @@\n+2004-08-18  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/17068\n+\t* pt.c (dependent_template_p): Treat IDENTIFIER_NODEs as\n+\tdependent.\n+\n 2004-08-17  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/16246"}, {"sha": "5175eb1e7056ae86cd2daef2fed3cec52290d0a9", "filename": "gcc/cp/pt.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Fcp%2Fpt.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Fcp%2Fpt.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fpt.c?ref=acccf7887ed18571bdd816a15e6ba6bc84670f04", "patch": "@@ -12033,8 +12033,9 @@ dependent_template_p (tree tmpl)\n   if (DECL_TEMPLATE_TEMPLATE_PARM_P (tmpl)\n       || TREE_CODE (tmpl) == TEMPLATE_TEMPLATE_PARM)\n     return true;\n-  /* So are qualified names that have not been looked up.  */\n-  if (TREE_CODE (tmpl) == SCOPE_REF)\n+  /* So arenames that have not been looked up.  */\n+  if (TREE_CODE (tmpl) == SCOPE_REF\n+      || TREE_CODE (tmpl) == IDENTIFIER_NODE)\n     return true;\n   /* So are member templates of dependent classes.  */\n   if (TYPE_P (CP_DECL_CONTEXT (tmpl)))"}, {"sha": "c95d844cf599f7b687d15000af60c62ac854abee", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=acccf7887ed18571bdd816a15e6ba6bc84670f04", "patch": "@@ -1,3 +1,8 @@\n+2004-08-18  Mark Mitchell  <mark@codesourcery.com>\n+\n+\tPR c++/17068\n+\t* g++.dg/template/operator4.C: New test.\n+\n 2004-08-18  Richard Henderson  <rth@redhat.com>\n \n \t* gcc.dg/20040206-1.c: XFAIL."}, {"sha": "972d52fc184e6df5da31ac62a85d1abadc0dd41b", "filename": "gcc/testsuite/g++.dg/template/operator4.C", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator4.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/acccf7887ed18571bdd816a15e6ba6bc84670f04/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator4.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Ftemplate%2Foperator4.C?ref=acccf7887ed18571bdd816a15e6ba6bc84670f04", "patch": "@@ -0,0 +1,11 @@\n+// PR c++/17068\n+\n+struct A\n+{\n+  template<int> void operator()() {}\n+};\n+\n+template<typename> void foo()\n+{\n+  A().template operator()<0>();\n+}"}]}