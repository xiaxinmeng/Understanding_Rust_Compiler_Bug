{"sha": "c203334d6d4d5e2563d90deb06f7c59bf150f00c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzIwMzMzNGQ2ZDRkNWUyNTYzZDkwZGViMDZmN2M1OWJmMTUwZjAwYw==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2002-12-03T17:29:43Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2002-12-03T17:29:43Z"}, "message": "call.c (build_user_type_conversion_1): Don't set ICS_BAD_FLAG on an ambiguous conversion.\n\n        * call.c (build_user_type_conversion_1): Don't set ICS_BAD_FLAG on\n        an ambiguous conversion.\n\nFrom-SVN: r59775", "tree": {"sha": "4f406195d5e2c49cc0303b48ce06164ff997cd7b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4f406195d5e2c49cc0303b48ce06164ff997cd7b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c203334d6d4d5e2563d90deb06f7c59bf150f00c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c203334d6d4d5e2563d90deb06f7c59bf150f00c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c203334d6d4d5e2563d90deb06f7c59bf150f00c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c203334d6d4d5e2563d90deb06f7c59bf150f00c/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "491a97772254870ad1de34528857e94f76e00a10", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/491a97772254870ad1de34528857e94f76e00a10", "html_url": "https://github.com/Rust-GCC/gccrs/commit/491a97772254870ad1de34528857e94f76e00a10"}], "stats": {"total": 41, "additions": 36, "deletions": 5}, "files": [{"sha": "611557b9821469613f1563b4a85796bbc6690883", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c203334d6d4d5e2563d90deb06f7c59bf150f00c", "patch": "@@ -1,3 +1,8 @@\n+2002-12-03  Jason Merrill  <jason@redhat.com>\n+\n+\t* call.c (build_user_type_conversion_1): Don't set ICS_BAD_FLAG on\n+\tan ambiguous conversion.\n+\n 2002-12-03  Mark Mitchell  <mark@codesourcery.com>\n \n \tPR c++/8688"}, {"sha": "1678ed25337d2cb1170234e8157d4af24958ee85", "filename": "gcc/cp/call.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Fcp%2Fcall.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Fcp%2Fcall.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fcall.c?ref=c203334d6d4d5e2563d90deb06f7c59bf150f00c", "patch": "@@ -2620,7 +2620,8 @@ build_user_type_conversion_1 (totype, expr, flags)\n       cand = candidates;\t/* any one will do */\n       cand->second_conv = build1 (AMBIG_CONV, totype, expr);\n       ICS_USER_FLAG (cand->second_conv) = 1;\n-      ICS_BAD_FLAG (cand->second_conv) = 1;\n+      /* Don't set ICS_BAD_FLAG; an ambiguous conversion is no worse than\n+\t another user-defined conversion.  */\n \n       return cand;\n     }"}, {"sha": "2adc78c795a5d62f6576f814356fae8d61a4d53c", "filename": "gcc/testsuite/g++.dg/overload/ambig1.C", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Foverload%2Fambig1.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Foverload%2Fambig1.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Foverload%2Fambig1.C?ref=c203334d6d4d5e2563d90deb06f7c59bf150f00c", "patch": "@@ -0,0 +1,23 @@\n+// [over.best.ics]: For the purpose of ranking implicit conversion\n+// sequences as described in _over.ics.rank_, the ambiguous conversion\n+// sequence is treated as a user-defined sequence that is indistinguishable\n+// from any other user- defined conversion sequence.\n+\n+struct A\n+{\n+  A(long);\n+  A(char);\n+};\n+\n+struct B\n+{\n+  B(int);\n+};\n+\n+void f(A);\t\t\t// { dg-error \"\" \"candidate\" }\n+void f(B);\t\t\t// { dg-error \"\" \"candidate\" }\n+\n+int main()\n+{\n+  f (42);\t\t\t// { dg-error \"ambiguous\" \"ambiguous\" }\n+}"}, {"sha": "01a06b042d54359c23bb8956b30ef7da8a6353e7", "filename": "gcc/testsuite/g++.old-deja/g++.benjamin/15799.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2F15799.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2F15799.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.benjamin%2F15799.C?ref=c203334d6d4d5e2563d90deb06f7c59bf150f00c", "patch": "@@ -15,7 +15,7 @@ typedef unsigned long uint_32;\n class sanjose {\n public:\n    sanjose();\n-   sanjose(const sanjose&);  \n+   sanjose(const sanjose&);  // ERROR - candidate\n    sanjose(int_8 value);  // ERROR -  // ERROR -\n    sanjose(uint_32 value);  // ERROR -  // ERROR -\n };"}, {"sha": "370a4603c17e9edca9042b439d38b594fb9f4bea", "filename": "gcc/testsuite/g++.old-deja/g++.bugs/900514_03.C", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.bugs%2F900514_03.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.bugs%2F900514_03.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.bugs%2F900514_03.C?ref=c203334d6d4d5e2563d90deb06f7c59bf150f00c", "patch": "@@ -7,13 +7,15 @@\n // the explicit cast syntax disambiguates the constructor as one which\n // invokes the type conversion operator rather than the conversion.\n \n+// NO, IT DOESN'T.  It's still ambiguous.  --jason 2002-12-03\n+\n // cfront 2.0 passes this test.\n \n // keywords: user-defined type conversion operator, constructor\n \n struct t_0_st_0;\n \n-struct t_0_st_1 { // ERROR - \n+struct t_0_st_1 {\n   int member;\n \n   t_0_st_1 (t_0_st_0&);// ERROR - \n@@ -80,7 +82,7 @@ void t_1_local_init ()\n \n struct t_2_st_0;\n \n-struct t_2_st_1 {\t\t// ERROR - candidate\n+struct t_2_st_1 {\n   int member;\n \n   t_2_st_1 (t_2_st_0);\t\t// ERROR - candidate"}, {"sha": "e525130c00f2bb825be368d1bc765b196771d34d", "filename": "gcc/testsuite/g++.old-deja/g++.mike/net2.C", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fnet2.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c203334d6d4d5e2563d90deb06f7c59bf150f00c/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fnet2.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.old-deja%2Fg%2B%2B.mike%2Fnet2.C?ref=c203334d6d4d5e2563d90deb06f7c59bf150f00c", "patch": "@@ -3,7 +3,7 @@\n \n class B;\n \n-class A {\n+class A {\t\t\t// ERROR - copy ctor candidate\n   private:\n     A(B *);\t\t\t// ERROR - \n   public:"}]}