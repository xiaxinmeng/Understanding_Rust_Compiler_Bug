{"sha": "58ff42b3521597a81f72d8db166b683b56e61870", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NThmZjQyYjM1MjE1OTdhODFmNzJkOGRiMTY2YjY4M2I1NmU2MTg3MA==", "commit": {"author": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1992-05-07T20:51:59Z"}, "committer": {"name": "Torbjorn Granlund", "email": "tege@gnu.org", "date": "1992-05-07T20:51:59Z"}, "message": "*** empty log message ***\n\nFrom-SVN: r934", "tree": {"sha": "2f6328062f4a6183c3e2cb984b6dd6205e231eaa", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f6328062f4a6183c3e2cb984b6dd6205e231eaa"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/58ff42b3521597a81f72d8db166b683b56e61870", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58ff42b3521597a81f72d8db166b683b56e61870", "html_url": "https://github.com/Rust-GCC/gccrs/commit/58ff42b3521597a81f72d8db166b683b56e61870", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/58ff42b3521597a81f72d8db166b683b56e61870/comments", "author": null, "committer": null, "parents": [{"sha": "b31a5831c29c0d8e8f5afbf7e0f2e0d1a93a838b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b31a5831c29c0d8e8f5afbf7e0f2e0d1a93a838b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b31a5831c29c0d8e8f5afbf7e0f2e0d1a93a838b"}], "stats": {"total": 54, "additions": 43, "deletions": 11}, "files": [{"sha": "017f47eb1a5e6a1ffe629bbb03b2f9b8a3fa9d77", "filename": "gcc/config/m68k/m68k.md", "status": "modified", "additions": 43, "deletions": 11, "changes": 54, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/58ff42b3521597a81f72d8db166b683b56e61870/gcc%2Fconfig%2Fm68k%2Fm68k.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/58ff42b3521597a81f72d8db166b683b56e61870/gcc%2Fconfig%2Fm68k%2Fm68k.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fm68k.md?ref=58ff42b3521597a81f72d8db166b683b56e61870", "patch": "@@ -1270,7 +1270,7 @@\n \n (define_insn \"\"\n   [(set (match_operand:SI 0 \"general_operand\" \"=do<>,d<\")\n-\t(zero_extend:SI (match_operand:HI 1 \"nonimmediate_operand\" \"rn,m\")))]\n+\t(zero_extend:SI (match_operand:HI 1 \"nonimmediate_operand\" \"r,m\")))]\n   \"\"\n   \"*\n {\n@@ -1299,7 +1299,7 @@\n \n (define_insn \"\"\n   [(set (match_operand:HI 0 \"general_operand\" \"=do<>,d\")\n-\t(zero_extend:HI (match_operand:QI 1 \"nonimmediate_operand\" \"dn,m\")))]\n+\t(zero_extend:HI (match_operand:QI 1 \"nonimmediate_operand\" \"d,m\")))]\n   \"\"\n   \"*\n {\n@@ -1339,7 +1339,7 @@\n \n (define_insn \"\"\n   [(set (match_operand:SI 0 \"general_operand\" \"=do<>,d\")\n-\t(zero_extend:SI (match_operand:QI 1 \"nonimmediate_operand\" \"dn,m\")))]\n+\t(zero_extend:SI (match_operand:QI 1 \"nonimmediate_operand\" \"d,m\")))]\n   \"\"\n   \"*\n {\n@@ -1393,7 +1393,7 @@\n (define_insn \"extendhisi2\"\n   [(set (match_operand:SI 0 \"general_operand\" \"=*d,a\")\n \t(sign_extend:SI\n-\t (match_operand:HI 1 \"nonimmediate_operand\" \"0,rmn\")))]\n+\t (match_operand:HI 1 \"nonimmediate_operand\" \"0,rm\")))]\n   \"\"\n   \"*\n {\n@@ -2171,7 +2171,7 @@\n   [(set (match_operand:SI 0 \"general_operand\" \"=a\")\n \t(minus:SI (match_operand:SI 1 \"general_operand\" \"0\")\n \t\t  (sign_extend:SI\n-\t\t   (match_operand:HI 2 \"nonimmediate_operand\" \"rmn\"))))]\n+\t\t   (match_operand:HI 2 \"nonimmediate_operand\" \"rm\"))))]\n   \"\"\n   \"sub%.w %2,%0\")\n \n@@ -2294,7 +2294,7 @@\n \t(mult:SI (sign_extend:SI\n \t\t  (match_operand:HI 1 \"nonimmediate_operand\" \"%0\"))\n \t\t (sign_extend:SI\n-\t\t  (match_operand:HI 2 \"nonimmediate_operand\" \"dmn\"))))]\n+\t\t  (match_operand:HI 2 \"nonimmediate_operand\" \"dm\"))))]\n   \"\"\n   \"*\n {\n@@ -2332,7 +2332,7 @@\n \t(mult:SI (zero_extend:SI\n \t\t  (match_operand:HI 1 \"nonimmediate_operand\" \"%0\"))\n \t\t (zero_extend:SI\n-\t\t  (match_operand:HI 2 \"nonimmediate_operand\" \"dmn\"))))]\n+\t\t  (match_operand:HI 2 \"nonimmediate_operand\" \"dm\"))))]\n   \"\"\n   \"*\n {\n@@ -2368,7 +2368,7 @@\n \t   (mult:DI (zero_extend:DI\n \t\t     (match_operand:SI 1 \"register_operand\" \"\"))\n \t\t    (zero_extend:DI\n-\t\t     (match_operand:SI 2 \"general_operand\" \"\"))) 1))\n+\t\t     (match_operand:SI 2 \"nonimmediate_operand\" \"\"))) 1))\n      (set (subreg:SI (match_dup 0) 0)\n \t  (subreg:SI\n \t   (mult:DI (zero_extend:DI\n@@ -2384,7 +2384,7 @@\n \t (mult:DI (zero_extend:DI\n \t\t   (match_operand:SI 1 \"register_operand\" \"%0\"))\n \t\t  (zero_extend:DI\n-\t\t   (match_operand:SI 2 \"general_operand\" \"dmsK\"))) 1))\n+\t\t   (match_operand:SI 2 \"nonimmediate_operand\" \"dm\"))) 1))\n    (set (match_operand:SI 3 \"register_operand\" \"=d\")\n \t(subreg:SI\n \t (mult:DI (zero_extend:DI\n@@ -2394,14 +2394,30 @@\n   \"TARGET_68020\"\n   \"mulu%.l %2,%3:%0\")\n \n+(define_insn \"\"\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(subreg:SI\n+\t (mult:DI (zero_extend:DI\n+\t\t   (match_operand:SI 1 \"register_operand\" \"%0\"))\n+\t\t  (match_operand:SI 2 \"immediate_operand\" \"sK\")) 1))\n+   (set (match_operand:SI 3 \"register_operand\" \"=d\")\n+\t(subreg:SI\n+\t (mult:DI (zero_extend:DI\n+\t\t   (match_dup 1))\n+\t\t  (match_dup 2)) 0))]\n+  \"TARGET_68020\n+   && (GET_CODE (operands[2]) != CONST_INT\n+       || CONST_OK_FOR_LETTER_P (INTVAL (operands[2]), 'K'))\"\n+  \"mulu%.l %2,%3:%0\")\n+\n (define_expand \"mulsidi3\"\n   [(parallel\n     [(set (subreg:SI (match_operand:DI 0 \"register_operand\" \"\") 1)\n \t  (subreg:SI\n \t   (mult:DI (sign_extend:DI\n \t\t     (match_operand:SI 1 \"register_operand\" \"\"))\n \t\t    (sign_extend:DI\n-\t\t     (match_operand:SI 2 \"general_operand\" \"\"))) 1))\n+\t\t     (match_operand:SI 2 \"nonimmediate_operand\" \"\"))) 1))\n      (set (subreg:SI (match_dup 0) 0)\n \t  (subreg:SI\n \t   (mult:DI (sign_extend:DI\n@@ -2417,7 +2433,7 @@\n \t (mult:DI (sign_extend:DI\n \t\t   (match_operand:SI 1 \"register_operand\" \"%0\"))\n \t\t  (sign_extend:DI\n-\t\t   (match_operand:SI 2 \"general_operand\" \"dmKs\"))) 1))\n+\t\t   (match_operand:SI 2 \"nonimmediate_operand\" \"dm\"))) 1))\n    (set (match_operand:SI 3 \"register_operand\" \"=d\")\n \t(subreg:SI\n \t (mult:DI (sign_extend:DI\n@@ -2427,6 +2443,22 @@\n   \"TARGET_68020\"\n   \"muls%.l %2,%3:%0\")\n \n+(define_insn \"\"\n+  [(set (match_operand:SI 0 \"register_operand\" \"=d\")\n+\t(subreg:SI\n+\t (mult:DI (sign_extend:DI\n+\t\t   (match_operand:SI 1 \"register_operand\" \"%0\"))\n+\t\t  (match_operand:SI 2 \"immediate_operand\" \"sK\")) 1))\n+   (set (match_operand:SI 3 \"register_operand\" \"=d\")\n+\t(subreg:SI\n+\t (mult:DI (sign_extend:DI\n+\t\t   (match_dup 1))\n+\t\t   (match_dup 2)) 0))]\n+  \"TARGET_68020\n+   && (GET_CODE (operands[2]) != CONST_INT\n+       || CONST_OK_FOR_LETTER_P (INTVAL (operands[2]), 'K'))\"\n+  \"muls%.l %2,%3:%0\")\n+\n (define_expand \"muldf3\"\n   [(set (match_operand:DF 0 \"general_operand\" \"\")\n \t(mult:DF (match_operand:DF 1 \"general_operand\" \"\")"}]}