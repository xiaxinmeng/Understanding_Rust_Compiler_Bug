{"sha": "44398cbede9597490250b2ed86c690f10eb41e4f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDQzOThjYmVkZTk1OTc0OTAyNTBiMmVkODZjNjkwZjEwZWI0MWU0Zg==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo.carlini@oracle.com", "date": "2013-05-08T09:09:52Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2013-05-08T09:09:52Z"}, "message": "re PR tree-optimization/57200 (aggressive-loop-optimizations notes appear even when warning itself is suppressed)\n\n2013-05-08  Paolo Carlini  <paolo.carlini@oracle.com>\n\n\tPR tree-optimization/57200\n\t* tree-ssa-loop-niter.c (do_warn_aggressive_loop_optimizations):\n\tOnly call inform if the preceding warning_at returns true.\n\nFrom-SVN: r198704", "tree": {"sha": "cc576f3f96038bb962d2e062a5c0ce191bded4fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/cc576f3f96038bb962d2e062a5c0ce191bded4fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/44398cbede9597490250b2ed86c690f10eb41e4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44398cbede9597490250b2ed86c690f10eb41e4f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/44398cbede9597490250b2ed86c690f10eb41e4f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/44398cbede9597490250b2ed86c690f10eb41e4f/comments", "author": null, "committer": null, "parents": [{"sha": "90c33752392fe78f1a3cee51a64838a5975263ed", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/90c33752392fe78f1a3cee51a64838a5975263ed", "html_url": "https://github.com/Rust-GCC/gccrs/commit/90c33752392fe78f1a3cee51a64838a5975263ed"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "ea0b5b44c5d2cafd483f68ec269c561ade802ee9", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44398cbede9597490250b2ed86c690f10eb41e4f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44398cbede9597490250b2ed86c690f10eb41e4f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=44398cbede9597490250b2ed86c690f10eb41e4f", "patch": "@@ -1,3 +1,9 @@\n+2013-05-08  Paolo Carlini  <paolo.carlini@oracle.com>\n+\n+\tPR tree-optimization/57200\n+\t* tree-ssa-loop-niter.c (do_warn_aggressive_loop_optimizations):\n+\tOnly call inform if the preceding warning_at returns true.\n+\n 2013-05-07  Han Shen  <shenhan@google.com>\n \n \t* cfgexpand.c (record_or_union_type_has_array_p): New function."}, {"sha": "090e114c36d89c24ff14502e8f6fb096e471bf07", "filename": "gcc/tree-ssa-loop-niter.c", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/44398cbede9597490250b2ed86c690f10eb41e4f/gcc%2Ftree-ssa-loop-niter.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/44398cbede9597490250b2ed86c690f10eb41e4f/gcc%2Ftree-ssa-loop-niter.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-niter.c?ref=44398cbede9597490250b2ed86c690f10eb41e4f", "patch": "@@ -2553,10 +2553,11 @@ do_warn_aggressive_loop_optimizations (struct loop *loop,\n     return;\n \n   gimple estmt = last_stmt (e->src);\n-  warning_at (gimple_location (stmt), OPT_Waggressive_loop_optimizations,\n-\t      \"iteration %E invokes undefined behavior\",\n-\t      double_int_to_tree (TREE_TYPE (loop->nb_iterations), i_bound));\n-  inform (gimple_location (estmt), \"containing loop\");\n+  if (warning_at (gimple_location (stmt), OPT_Waggressive_loop_optimizations,\n+\t\t  \"iteration %E invokes undefined behavior\",\n+\t\t  double_int_to_tree (TREE_TYPE (loop->nb_iterations),\n+\t\t\t\t      i_bound)))\n+    inform (gimple_location (estmt), \"containing loop\");\n   loop->warned_aggressive_loop_optimizations = true;\n }\n "}]}