{"sha": "a30a01fea9e4c3ba6da8a4ca06446572ba9851ee", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTMwYTAxZmVhOWU0YzNiYTZkYThhNGNhMDY0NDY1NzJiYTk4NTFlZQ==", "commit": {"author": {"name": "Robert Dewar", "email": "dewar@adacore.com", "date": "2008-08-01T09:30:53Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-08-01T09:30:53Z"}, "message": "sem_prag.adb (Analyze_Pragma): Put entries in alpha order\n\n2008-08-01  Robert Dewar  <dewar@adacore.com>\n\n\t* sem_prag.adb (Analyze_Pragma): Put entries in alpha order\n\t(Analyze_Pragma): Make sure all GNAT pragmas call GNAT_Pragma\n\nFrom-SVN: r138500", "tree": {"sha": "219fdf61cae17e097f35ce63179247b8a9b43a55", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/219fdf61cae17e097f35ce63179247b8a9b43a55"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a30a01fea9e4c3ba6da8a4ca06446572ba9851ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30a01fea9e4c3ba6da8a4ca06446572ba9851ee", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a30a01fea9e4c3ba6da8a4ca06446572ba9851ee", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a30a01fea9e4c3ba6da8a4ca06446572ba9851ee/comments", "author": null, "committer": null, "parents": [{"sha": "9e246736bf14052535428a1c93481c8e868042d7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e246736bf14052535428a1c93481c8e868042d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e246736bf14052535428a1c93481c8e868042d7"}], "stats": {"total": 151, "additions": 80, "deletions": 71}, "files": [{"sha": "578181ba2635079d9b16364ab83fdc662305ebd2", "filename": "gcc/ada/sem_prag.adb", "status": "modified", "additions": 80, "deletions": 71, "changes": 151, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a30a01fea9e4c3ba6da8a4ca06446572ba9851ee/gcc%2Fada%2Fsem_prag.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a30a01fea9e4c3ba6da8a4ca06446572ba9851ee/gcc%2Fada%2Fsem_prag.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_prag.adb?ref=a30a01fea9e4c3ba6da8a4ca06446572ba9851ee", "patch": "@@ -2231,7 +2231,6 @@ package body Sem_Prag is\n          Arg1x : constant Node_Id := Get_Pragma_Arg (Arg1);\n \n       begin\n-         GNAT_Pragma;\n          Check_Arg_Count (2);\n          Check_No_Identifiers;\n          Check_Arg_Is_Static_Expression (Arg2, Standard_String);\n@@ -2648,8 +2647,6 @@ package body Sem_Prag is\n          Code_Val : Uint;\n \n       begin\n-         GNAT_Pragma;\n-\n          if not OpenVMS_On_Target then\n             Error_Pragma\n               (\"?pragma% ignored (applies only to Open'V'M'S)\");\n@@ -2707,8 +2704,6 @@ package body Sem_Prag is\n         (Arg_Internal : Node_Id := Empty)\n       is\n       begin\n-         GNAT_Pragma;\n-\n          if No (Arg_Internal) then\n             Error_Pragma (\"Internal parameter required for pragma%\");\n          end if;\n@@ -3325,7 +3320,6 @@ package body Sem_Prag is\n          Exp : Node_Id;\n \n       begin\n-         GNAT_Pragma;\n          Check_No_Identifiers;\n          Check_At_Least_N_Arguments (1);\n \n@@ -5805,11 +5799,11 @@ package body Sem_Prag is\n \n          --  pragma Comment (static_string_EXPRESSION)\n \n-         --  Processing for pragma Comment shares the circuitry for\n-         --  pragma Ident. The only differences are that Ident enforces\n-         --  a limit of 31 characters on its argument, and also enforces\n-         --  limitations on placement for DEC compatibility. Pragma\n-         --  Comment shares neither of these restrictions.\n+         --  Processing for pragma Comment shares the circuitry for pragma\n+         --  Ident. The only differences are that Ident enforces a limit of 31\n+         --  characters on its argument, and also enforces limitations on\n+         --  placement for DEC compatibility. Pragma Comment shares neither of\n+         --  these restrictions.\n \n          -------------------\n          -- Common_Object --\n@@ -5830,6 +5824,7 @@ package body Sem_Prag is\n          --    (boolean_EXPRESSION, static_string_EXPRESSION);\n \n          when Pragma_Compile_Time_Error =>\n+            GNAT_Pragma;\n             Process_Compile_Time_Warning_Or_Error;\n \n          --------------------------\n@@ -5840,6 +5835,7 @@ package body Sem_Prag is\n          --    (boolean_EXPRESSION, static_string_EXPRESSION);\n \n          when Pragma_Compile_Time_Warning =>\n+            GNAT_Pragma;\n             Process_Compile_Time_Warning_Or_Error;\n \n          -------------------\n@@ -6214,6 +6210,8 @@ package body Sem_Prag is\n \n          when Pragma_CPP_Virtual => CPP_Virtual : declare\n          begin\n+            GNAT_Pragma;\n+\n             if Warn_On_Obsolescent_Feature then\n                Error_Msg_N\n                  (\"'G'N'A'T pragma cpp'_virtual is now obsolete and has \" &\n@@ -6227,6 +6225,8 @@ package body Sem_Prag is\n \n          when Pragma_CPP_Vtable => CPP_Vtable : declare\n          begin\n+            GNAT_Pragma;\n+\n             if Warn_On_Obsolescent_Feature then\n                Error_Msg_N\n                  (\"'G'N'A'T pragma cpp'_vtable is now obsolete and has \" &\n@@ -6746,6 +6746,8 @@ package body Sem_Prag is\n             Code     : Node_Id renames Args (4);\n \n          begin\n+            GNAT_Pragma;\n+\n             if Inside_A_Generic then\n                Error_Pragma (\"pragma% cannot be used for generic entities\");\n             end if;\n@@ -7215,6 +7217,7 @@ package body Sem_Prag is\n             Typ     : Entity_Id;\n \n          begin\n+            GNAT_Pragma;\n             Check_No_Identifiers;\n             Check_Arg_Count (1);\n             Check_Arg_Is_Local_Name (Arg1);\n@@ -7548,6 +7551,7 @@ package body Sem_Prag is\n             Code     : Node_Id renames Args (4);\n \n          begin\n+            GNAT_Pragma;\n             Gather_Associations (Names, Args);\n \n             if Present (External) and then Present (Code) then\n@@ -7833,6 +7837,7 @@ package body Sem_Prag is\n          --  pragma Inline_Always ( NAME {, NAME} );\n \n          when Pragma_Inline_Always =>\n+            GNAT_Pragma;\n             Process_Inline (True);\n \n          --------------------\n@@ -7842,6 +7847,7 @@ package body Sem_Prag is\n          --  pragma Inline_Generic (NAME {, NAME});\n \n          when Pragma_Inline_Generic =>\n+            GNAT_Pragma;\n             Process_Generic_List;\n \n          ----------------------\n@@ -8872,6 +8878,7 @@ package body Sem_Prag is\n          --  it was misplaced.\n \n          when Pragma_No_Body =>\n+            GNAT_Pragma;\n             Pragma_Misplaced;\n \n          ---------------\n@@ -8938,13 +8945,43 @@ package body Sem_Prag is\n             end loop;\n          end No_Return;\n \n+         -----------------\n+         -- No_Run_Time --\n+         -----------------\n+\n+         --  pragma No_Run_Time;\n+\n+         --  Note: this pragma is retained for backwards compatibility.\n+         --  See body of Rtsfind for full details on its handling.\n+\n+         when Pragma_No_Run_Time =>\n+            GNAT_Pragma;\n+            Check_Valid_Configuration_Pragma;\n+            Check_Arg_Count (0);\n+\n+            No_Run_Time_Mode           := True;\n+            Configurable_Run_Time_Mode := True;\n+\n+            --  Set Duration to 32 bits if word size is 32\n+\n+            if Ttypes.System_Word_Size = 32 then\n+               Duration_32_Bits_On_Target := True;\n+            end if;\n+\n+            --  Set appropriate restrictions\n+\n+            Set_Restriction (No_Finalization, N);\n+            Set_Restriction (No_Exception_Handlers, N);\n+            Set_Restriction (Max_Tasks, N, 0);\n+            Set_Restriction (No_Tasking, N);\n+\n          ------------------------\n          -- No_Strict_Aliasing --\n          ------------------------\n \n          --  pragma No_Strict_Aliasing [([Entity =>] type_LOCAL_NAME)];\n \n-         when Pragma_No_Strict_Aliasing => No_Strict_Alias : declare\n+         when Pragma_No_Strict_Aliasing => No_Strict_Aliasing : declare\n             E_Id : Entity_Id;\n \n          begin\n@@ -8968,7 +9005,20 @@ package body Sem_Prag is\n \n                Set_No_Strict_Aliasing (Implementation_Base_Type (E_Id));\n             end if;\n-         end No_Strict_Alias;\n+         end No_Strict_Aliasing;\n+\n+         -----------------------\n+         -- Normalize_Scalars --\n+         -----------------------\n+\n+         --  pragma Normalize_Scalars;\n+\n+         when Pragma_Normalize_Scalars =>\n+            Check_Ada_83_Warning;\n+            Check_Arg_Count (0);\n+            Check_Valid_Configuration_Pragma;\n+            Normalize_Scalars := True;\n+            Init_Or_Norm_Scalars := True;\n \n          -----------------\n          -- Obsolescent --\n@@ -9176,49 +9226,6 @@ package body Sem_Prag is\n             end if;\n          end Obsolescent;\n \n-         -----------------\n-         -- No_Run_Time --\n-         -----------------\n-\n-         --  pragma No_Run_Time\n-\n-         --  Note: this pragma is retained for backwards compatibility.\n-         --  See body of Rtsfind for full details on its handling.\n-\n-         when Pragma_No_Run_Time =>\n-            GNAT_Pragma;\n-            Check_Valid_Configuration_Pragma;\n-            Check_Arg_Count (0);\n-\n-            No_Run_Time_Mode           := True;\n-            Configurable_Run_Time_Mode := True;\n-\n-            --  Set Duration to 32 bits if word size is 32\n-\n-            if Ttypes.System_Word_Size = 32 then\n-               Duration_32_Bits_On_Target := True;\n-            end if;\n-\n-            --  Set appropriate restrictions\n-\n-            Set_Restriction (No_Finalization, N);\n-            Set_Restriction (No_Exception_Handlers, N);\n-            Set_Restriction (Max_Tasks, N, 0);\n-            Set_Restriction (No_Tasking, N);\n-\n-         -----------------------\n-         -- Normalize_Scalars --\n-         -----------------------\n-\n-         --  pragma Normalize_Scalars;\n-\n-         when Pragma_Normalize_Scalars =>\n-            Check_Ada_83_Warning;\n-            Check_Arg_Count (0);\n-            Check_Valid_Configuration_Pragma;\n-            Normalize_Scalars := True;\n-            Init_Or_Norm_Scalars := True;\n-\n          --------------\n          -- Optimize --\n          --------------\n@@ -9455,19 +9462,6 @@ package body Sem_Prag is\n             end if;\n          end Preelab_Init;\n \n-         -------------\n-         -- Polling --\n-         -------------\n-\n-         --  pragma Polling (ON | OFF);\n-\n-         when Pragma_Polling =>\n-            GNAT_Pragma;\n-            Check_Arg_Count (1);\n-            Check_No_Identifiers;\n-            Check_Arg_Is_One_Of (Arg1, Name_On, Name_Off);\n-            Polling_Required := (Chars (Expression (Arg1)) = Name_On);\n-\n          --------------------\n          -- Persistent_BSS --\n          --------------------\n@@ -9526,6 +9520,19 @@ package body Sem_Prag is\n             end if;\n          end Persistent_BSS;\n \n+         -------------\n+         -- Polling --\n+         -------------\n+\n+         --  pragma Polling (ON | OFF);\n+\n+         when Pragma_Polling =>\n+            GNAT_Pragma;\n+            Check_Arg_Count (1);\n+            Check_No_Identifiers;\n+            Check_Arg_Is_One_Of (Arg1, Name_On, Name_Off);\n+            Polling_Required := (Chars (Expression (Arg1)) = Name_On);\n+\n          -------------------\n          -- Postcondition --\n          -------------------\n@@ -11042,6 +11049,7 @@ package body Sem_Prag is\n          --  or the identifier GCC, no other identifiers are acceptable.\n \n          when Pragma_System_Name =>\n+            GNAT_Pragma;\n             Check_No_Identifiers;\n             Check_Arg_Count (1);\n             Check_Arg_Is_One_Of (Arg1, Name_Gcc, Name_Gnat);\n@@ -11290,7 +11298,7 @@ package body Sem_Prag is\n             Variant : Node_Id;\n \n          begin\n-            GNAT_Pragma;\n+            Ada_2005_Pragma;\n             Check_No_Identifiers;\n             Check_Arg_Count (1);\n             Check_Arg_Is_Local_Name (Arg1);\n@@ -11657,7 +11665,7 @@ package body Sem_Prag is\n          --  pragma Unsuppress (IDENTIFIER [, [On =>] NAME]);\n \n          when Pragma_Unsuppress =>\n-            GNAT_Pragma;\n+            Ada_2005_Pragma;\n             Process_Suppress_Unsuppress (False);\n \n          -------------------\n@@ -11981,6 +11989,7 @@ package body Sem_Prag is\n          --  pragma Wide_Character_Encoding (IDENTIFIER);\n \n          when Pragma_Wide_Character_Encoding =>\n+            GNAT_Pragma;\n \n             --  Nothing to do, handled in parser. Note that we do not enforce\n             --  configuration pragma placement, this pragma can appear at any"}]}