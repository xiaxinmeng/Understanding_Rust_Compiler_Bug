{"sha": "bfb37fa4dd49ee775ae90355464265a2f60c1067", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmZiMzdmYTRkZDQ5ZWU3NzVhZTkwMzU1NDY0MjY1YTJmNjBjMTA2Nw==", "commit": {"author": {"name": "Kwok Cheung Yeung", "email": "kcy@codesourcery.com", "date": "2020-12-18T20:05:20Z"}, "committer": {"name": "Kwok Cheung Yeung", "email": "kcy@codesourcery.com", "date": "2020-12-18T20:28:49Z"}, "message": "openmp: Fix g++.dg/gomp/declare-target-3.C testcase when offloading is disabled\n\n2020-12-18  Kwok Cheung Yeung  <kcy@codesourcery.com>\n\n\tgcc/testsuite/\n\t* g++.dg/gomp/declare-target-3.C: Only check .offload_var_table\n\tentries if offloading is enabled.", "tree": {"sha": "ff0311335af97c6704c47cabc0ad86f6a5132d13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff0311335af97c6704c47cabc0ad86f6a5132d13"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bfb37fa4dd49ee775ae90355464265a2f60c1067", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfb37fa4dd49ee775ae90355464265a2f60c1067", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bfb37fa4dd49ee775ae90355464265a2f60c1067", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bfb37fa4dd49ee775ae90355464265a2f60c1067/comments", "author": {"login": "k-yeung", "id": 16960193, "node_id": "MDQ6VXNlcjE2OTYwMTkz", "avatar_url": "https://avatars.githubusercontent.com/u/16960193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-yeung", "html_url": "https://github.com/k-yeung", "followers_url": "https://api.github.com/users/k-yeung/followers", "following_url": "https://api.github.com/users/k-yeung/following{/other_user}", "gists_url": "https://api.github.com/users/k-yeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-yeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-yeung/subscriptions", "organizations_url": "https://api.github.com/users/k-yeung/orgs", "repos_url": "https://api.github.com/users/k-yeung/repos", "events_url": "https://api.github.com/users/k-yeung/events{/privacy}", "received_events_url": "https://api.github.com/users/k-yeung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "k-yeung", "id": 16960193, "node_id": "MDQ6VXNlcjE2OTYwMTkz", "avatar_url": "https://avatars.githubusercontent.com/u/16960193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/k-yeung", "html_url": "https://github.com/k-yeung", "followers_url": "https://api.github.com/users/k-yeung/followers", "following_url": "https://api.github.com/users/k-yeung/following{/other_user}", "gists_url": "https://api.github.com/users/k-yeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/k-yeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/k-yeung/subscriptions", "organizations_url": "https://api.github.com/users/k-yeung/orgs", "repos_url": "https://api.github.com/users/k-yeung/repos", "events_url": "https://api.github.com/users/k-yeung/events{/privacy}", "received_events_url": "https://api.github.com/users/k-yeung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5dc998933e7aa737f4a45a8a2885d42d5288d51a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5dc998933e7aa737f4a45a8a2885d42d5288d51a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5dc998933e7aa737f4a45a8a2885d42d5288d51a"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "1e23c8633acac485803796ee63344cc9705db730", "filename": "gcc/testsuite/g++.dg/gomp/declare-target-3.C", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bfb37fa4dd49ee775ae90355464265a2f60c1067/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fdeclare-target-3.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bfb37fa4dd49ee775ae90355464265a2f60c1067/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fdeclare-target-3.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fgomp%2Fdeclare-target-3.C?ref=bfb37fa4dd49ee775ae90355464265a2f60c1067", "patch": "@@ -22,10 +22,10 @@ int *g = &f;\t// Explicitly marked\n // { dg-final { scan-tree-dump \"__attribute__\\\\\\(\\\\\\(omp declare target\\\\\\)\\\\\\)\\\\\\nint bar \\\\\\(\\\\\\)\" \"gimple\" } }\n // { dg-final { scan-tree-dump \"__attribute__\\\\\\(\\\\\\(omp declare target\\\\\\)\\\\\\)\\\\\\nint baz \\\\\\(\\\\\\)\" \"gimple\" } }\n // { dg-final { scan-tree-dump \"__attribute__\\\\\\(\\\\\\(omp declare target\\\\\\)\\\\\\)\\\\\\nint qux \\\\\\(\\\\\\)\" \"gimple\" } }\n-// { dg-final { scan-assembler-not \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+a\" } }\n-// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+b\" } }\n-// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+c\" } }\n-// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+d\" } }\n-// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+e\" } }\n-// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+f\" } }\n-// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+g\" } }\n+// { dg-final { scan-assembler-not \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+a\" { target { offloading_enabled } } } }\n+// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+b\" { target { offloading_enabled } } } }\n+// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+c\" { target { offloading_enabled } } } }\n+// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+d\" { target { offloading_enabled } } } }\n+// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+e\" { target { offloading_enabled } } } }\n+// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+f\" { target { offloading_enabled } } } }\n+// { dg-final { scan-assembler \"\\\\\\.offload_var_table:\\\\n.+\\\\\\.quad\\\\s+g\" { target { offloading_enabled } } } }"}]}