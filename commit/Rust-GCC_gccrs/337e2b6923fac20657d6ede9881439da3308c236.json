{"sha": "337e2b6923fac20657d6ede9881439da3308c236", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzM3ZTJiNjkyM2ZhYzIwNjU3ZDZlZGU5ODgxNDM5ZGEzMzA4YzIzNg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@cygnus.com", "date": "1997-12-18T18:45:57Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1997-12-18T18:45:57Z"}, "message": "mips.h (INIT_SUBTARGET_OPTABS): Define if not defined.\n\n        * mips/mips.h (INIT_SUBTARGET_OPTABS): Define if not defined.\n        (INIT_TARGET_OPTABS): Define.\n        * mips/ecoff.h: Include gofast.h before mips.h.\n        (INIT_SUBTARGET_OPTABS): Define instead of INIT_TARGET_OPTABS.\n        * mips/elf64.h: Likewise.\n        * mips/elf.h (ASM_OUTPUT_SECTION_NAME): Define.\n\nFrom-SVN: r17137", "tree": {"sha": "38afdc28fae74f9f147ffc81ada50ba0e4190899", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/38afdc28fae74f9f147ffc81ada50ba0e4190899"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/337e2b6923fac20657d6ede9881439da3308c236", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/337e2b6923fac20657d6ede9881439da3308c236", "html_url": "https://github.com/Rust-GCC/gccrs/commit/337e2b6923fac20657d6ede9881439da3308c236", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/337e2b6923fac20657d6ede9881439da3308c236/comments", "author": null, "committer": null, "parents": [{"sha": "efb84aa5565ababb39166bb89e72f2412b1523af", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/efb84aa5565ababb39166bb89e72f2412b1523af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/efb84aa5565ababb39166bb89e72f2412b1523af"}], "stats": {"total": 60, "additions": 49, "deletions": 11}, "files": [{"sha": "e299f31c691309dec9693415bdb12e167629eff6", "filename": "gcc/ChangeLog", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/337e2b6923fac20657d6ede9881439da3308c236/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/337e2b6923fac20657d6ede9881439da3308c236/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=337e2b6923fac20657d6ede9881439da3308c236", "patch": "@@ -1,3 +1,12 @@\n+Thu Dec 18 19:19:57 1997  Ian Lance Taylor  <ian@cygnus.com>\n+\n+\t* mips/mips.h (INIT_SUBTARGET_OPTABS): Define if not defined.\n+\t(INIT_TARGET_OPTABS): Define.\n+\t* mips/ecoff.h: Include gofast.h before mips.h.\n+\t(INIT_SUBTARGET_OPTABS): Define instead of INIT_TARGET_OPTABS.\n+\t* mips/elf64.h: Likewise.\n+\t* mips/elf.h (ASM_OUTPUT_SECTION_NAME): Define.\n+\n Thu Dec 18 14:51:12 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n \t* except.c: Remove register_exception_table{,_p}."}, {"sha": "813f148009e715567d0cf24d12841fff580da326", "filename": "gcc/config/mips/ecoff.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Fecoff.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Fecoff.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fecoff.h?ref=337e2b6923fac20657d6ede9881439da3308c236", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler.  MIPS version with\n    GOFAST floating point library.\n-   Copyright (C) 1994 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -19,6 +19,10 @@ along with GNU CC; see the file COPYING.  If not, write to\n the Free Software Foundation, 59 Temple Place - Suite 330,\n Boston, MA 02111-1307, USA.  */\n \n+/* US Software GOFAST library support.  */\n+#include \"gofast.h\"\n+#define INIT_SUBTARGET_OPTABS INIT_GOFAST_OPTABS\n+\n #include \"mips/mips.h\"\n \n #undef CPP_PREDEFINES\n@@ -27,10 +31,6 @@ Boston, MA 02111-1307, USA.  */\n /* Use memcpy, et. al., rather than bcopy.  */\n #define TARGET_MEM_FUNCTIONS\n \n-/* US Software GOFAST library support.  */\n-#include \"gofast.h\"\n-#define INIT_TARGET_OPTABS INIT_GOFAST_OPTABS\n-\n /* Don't assume anything about startfiles.  The linker script will load the\n    appropriate startfiles.  */\n #define STARTFILE_SPEC \"\""}, {"sha": "334484169aedd96796d88696a35bb84e8a57b0ab", "filename": "gcc/config/mips/elf.h", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Felf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Felf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Felf.h?ref=337e2b6923fac20657d6ede9881439da3308c236", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler.  MIPS R3000 version with\n    GOFAST floating point library.\n-   Copyright (C) 1994 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -24,7 +24,9 @@ Boston, MA 02111-1307, USA.  */\n \n /* Until we figure out what MIPS ELF targets normally use, just do\n    stabs in ELF.  */\n+#ifndef PREFERRED_DEBUGGING_TYPE\n #define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n+#endif\n \n /* Mostly like ECOFF.  */\n #include \"mips/ecoff.h\"\n@@ -51,3 +53,19 @@ do {\t\t\t\t\t\t\t\\\n    not defined, the default value is `BIGGEST_ALIGNMENT'.  */\n \n #define MAX_OFILE_ALIGNMENT (32768*8)\n+\n+/* A C statement to output something to the assembler file to switch to section\n+   NAME for object DECL which is either a FUNCTION_DECL, a VAR_DECL or\n+   NULL_TREE.  Some target formats do not support arbitrary sections.  Do not\n+   define this macro in such cases.  */\n+\n+#define ASM_OUTPUT_SECTION_NAME(F, DECL, NAME, RELOC) \\\n+do {\t\t\t\t\t\t\t\t\\\n+  extern FILE *asm_out_text_file;\t\t\t\t\\\n+  if ((DECL) && TREE_CODE (DECL) == FUNCTION_DECL)\t\t\\\n+    fprintf (asm_out_text_file, \"\\t.section %s,\\\"ax\\\",@progbits\\n\", (NAME)); \\\n+  else if ((DECL) && DECL_READONLY_SECTION (DECL, RELOC))\t\\\n+    fprintf (F, \"\\t.section %s,\\\"a\\\",@progbits\\n\", (NAME));\t\\\n+  else\t\t\t\t\t\t\t\t\\\n+    fprintf (F, \"\\t.section %s,\\\"aw\\\",@progbits\\n\", (NAME));\t\\\n+} while (0)"}, {"sha": "1841150ef3fc7a13ccb9a1448087a7247bb6a444", "filename": "gcc/config/mips/elf64.h", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Felf64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Felf64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Felf64.h?ref=337e2b6923fac20657d6ede9881439da3308c236", "patch": "@@ -1,6 +1,6 @@\n /* Definitions of target machine for GNU compiler.  MIPS R4000 version with\n    GOFAST floating point library.\n-   Copyright (C) 1994, 1995, 1996 Free Software Foundation, Inc.\n+   Copyright (C) 1994, 1995, 1996, 1997 Free Software Foundation, Inc.\n \n This file is part of GNU CC.\n \n@@ -39,6 +39,10 @@ Boston, MA 02111-1307, USA.  */\n #define PREFERRED_DEBUGGING_TYPE DBX_DEBUG\n #endif\n \n+/* US Software GOFAST library support.  */\n+#include \"gofast.h\"\n+#define INIT_SUBTARGET_OPTABS INIT_GOFAST_OPTABS\n+\n #include \"mips/mips.h\"\n \n #undef CPP_PREDEFINES\n@@ -53,10 +57,6 @@ Boston, MA 02111-1307, USA.  */\n /* Use memcpy, et. al., rather than bcopy.  */\n #define TARGET_MEM_FUNCTIONS\n \n-/* US Software GOFAST library support.  */\n-#include \"gofast.h\"\n-#define INIT_TARGET_OPTABS INIT_GOFAST_OPTABS\n-\n /* Biggest alignment supported by the object file format of this\n    machine.  Use this macro to limit the alignment which can be\n    specified using the `__attribute__ ((aligned (N)))' construct.  If"}, {"sha": "645f79ec2d5546fd8919447e8c2c777515955c46", "filename": "gcc/config/mips/mips.h", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Fmips.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/337e2b6923fac20657d6ede9881439da3308c236/gcc%2Fconfig%2Fmips%2Fmips.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.h?ref=337e2b6923fac20657d6ede9881439da3308c236", "patch": "@@ -4053,3 +4053,14 @@ while (0)\n    true.  */\n \n #define DONT_ACCESS_GBLS_AFTER_EPILOGUE (TARGET_ABICALLS && mips_abi != ABI_32)\n+\n+#ifndef INIT_SUBTARGET_OPTABS\n+#define INIT_SUBTARGET_OPTABS\n+#endif\n+\n+#define INIT_TARGET_OPTABS\t\t\t\t\t\t\\\n+do\t\t\t\t\t\t\t\t\t\\\n+  {\t\t\t\t\t\t\t\t\t\\\n+    INIT_SUBTARGET_OPTABS;\t\t\t\t\t\t\\\n+  }\t\t\t\t\t\t\t\t\t\\\n+while (0)"}]}