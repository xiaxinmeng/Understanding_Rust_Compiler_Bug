{"sha": "3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzM5NWRmYzRkYThhZDFmY2NkMzQ2YzYyZGZjOWJkNDRiMmI0OGM2Mg==", "commit": {"author": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2021-04-19T08:24:49Z"}, "committer": {"name": "Thomas Schwinge", "email": "thomas@codesourcery.com", "date": "2021-04-19T12:29:48Z"}, "message": "[OpenACC 'kernels'] '-fopenacc-kernels=[...]' -> '--param=openacc-kernels=[...]'\n\nThis configuration knob is temporary, and isn't really meant to be exposed to\nusers.\n\n\tgcc/\n\t* params.opt (-param=openacc-kernels=): Add.\n\t* omp-oacc-kernels-decompose.cc\n\t(pass_omp_oacc_kernels_decompose::gate): Use it.\n\t* doc/invoke.texi (-fopenacc-kernels=@var{mode}): Move...\n\t(--param): ... here, 'openacc-kernels'.\n\tgcc/c-family/\n\t* c.opt (fopenacc-kernels=): Remove.\n\tgcc/fortran/\n\t* lang.opt (fopenacc-kernels=): Remove.\n\tgcc/testsuite/\n\t* c-c++-common/goacc/if-clause-2.c: '-fopenacc-kernels=[...]' ->\n\t'--param=openacc-kernels=[...]'.\n\t* c-c++-common/goacc/kernels-decompose-1.c: Likewise.\n\t* c-c++-common/goacc/kernels-decompose-2.c: Likewise.\n\t* c-c++-common/goacc/kernels-decompose-ice-1.c: Likewise.\n\t* c-c++-common/goacc/kernels-decompose-ice-2.c: Likewise.\n\t* gfortran.dg/goacc/kernels-decompose-1.f95: Likewise.\n\t* gfortran.dg/goacc/kernels-decompose-2.f95: Likewise.\n\t* gfortran.dg/goacc/kernels-tree.f95: Likewise.\n\tlibgomp/\n\t* testsuite/libgomp.oacc-c-c++-common/declare-vla-kernels-decompose-ice-1.c:\n\t'-fopenacc-kernels=[...]' -> '--param=openacc-kernels=[...]'.\n\t* testsuite/libgomp.oacc-c-c++-common/declare-vla-kernels-decompose.c:\n\tLikewise.\n\t* testsuite/libgomp.oacc-c-c++-common/kernels-decompose-1.c:\n\tLikewise.\n\t* testsuite/libgomp.oacc-fortran/pr94358-1.f90: Likewise.", "tree": {"sha": "6c349d56e165da37e856c2bf9fe6b96d580e2b04", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6c349d56e165da37e856c2bf9fe6b96d580e2b04"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/comments", "author": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tschwinge", "id": 21753, "node_id": "MDQ6VXNlcjIxNzUz", "avatar_url": "https://avatars.githubusercontent.com/u/21753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschwinge", "html_url": "https://github.com/tschwinge", "followers_url": "https://api.github.com/users/tschwinge/followers", "following_url": "https://api.github.com/users/tschwinge/following{/other_user}", "gists_url": "https://api.github.com/users/tschwinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschwinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschwinge/subscriptions", "organizations_url": "https://api.github.com/users/tschwinge/orgs", "repos_url": "https://api.github.com/users/tschwinge/repos", "events_url": "https://api.github.com/users/tschwinge/events{/privacy}", "received_events_url": "https://api.github.com/users/tschwinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "15cfa8ddaca3915fdb1dc1f2c61c89b5817b4e2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15cfa8ddaca3915fdb1dc1f2c61c89b5817b4e2c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15cfa8ddaca3915fdb1dc1f2c61c89b5817b4e2c"}], "stats": {"total": 80, "additions": 37, "deletions": 43}, "files": [{"sha": "3f8b72cdc0065afd10c75af8ea800919f2f1cab2", "filename": "gcc/c-family/c.opt", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fc-family%2Fc.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fc-family%2Fc.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-family%2Fc.opt?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1873,19 +1873,6 @@ fopenacc-dim=\n C ObjC C++ ObjC++ LTO Joined Var(flag_openacc_dims)\n Specify default OpenACC compute dimensions.\n \n-fopenacc-kernels=\n-C ObjC C++ ObjC++ RejectNegative Joined Enum(openacc_kernels) Var(flag_openacc_kernels) Init(OPENACC_KERNELS_PARLOOPS)\n--fopenacc-kernels=[decompose|parloops]\tSpecify mode of OpenACC 'kernels' constructs handling.\n-\n-Enum\n-Name(openacc_kernels) Type(enum openacc_kernels)\n-\n-EnumValue\n-Enum(openacc_kernels) String(decompose) Value(OPENACC_KERNELS_DECOMPOSE)\n-\n-EnumValue\n-Enum(openacc_kernels) String(parloops) Value(OPENACC_KERNELS_PARLOOPS)\n-\n fopenmp\n C ObjC C++ ObjC++ LTO Var(flag_openmp)\n Enable OpenMP (implies -frecursive in Fortran)."}, {"sha": "8b70fdf580dbbafe0484e52bd20c90006d70b962", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 11, "deletions": 13, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -202,7 +202,7 @@ in the following sections.\n -aux-info @var{filename}  -fallow-parameterless-variadic-functions @gol\n -fno-asm  -fno-builtin  -fno-builtin-@var{function}  -fgimple@gol\n -fhosted  -ffreestanding @gol\n--fopenacc  -fopenacc-dim=@var{geom}  -fopenacc-kernels=@var{mode} @gol\n+-fopenacc  -fopenacc-dim=@var{geom} @gol\n -fopenmp  -fopenmp-simd @gol\n -fms-extensions  -fplan9-extensions  -fsso-struct=@var{endianness} @gol\n -fallow-single-precision  -fcond-mismatch  -flax-vector-conversions @gol\n@@ -2619,18 +2619,6 @@ not explicitly specify.  The @var{geom} value is a triple of\n ':'-separated sizes, in order 'gang', 'worker' and, 'vector'.  A size\n can be omitted, to use a target-specific default value.\n \n-@item -fopenacc-kernels=@var{mode}\n-@opindex fopenacc-kernels\n-@cindex OpenACC accelerator programming\n-Specify mode of OpenACC `kernels' constructs handling.\n-With @option{-fopenacc-kernels=decompose}, OpenACC `kernels'\n-constructs are decomposed into parts, a sequence of compute\n-constructs, each then handled individually.\n-This is work in progress.\n-With @option{-fopenacc-kernels=parloops}, OpenACC `kernels' constructs\n-are handled by the @samp{parloops} pass, en bloc.\n-This is the current default.\n-\n @item -fopenmp\n @opindex fopenmp\n @cindex OpenMP parallel\n@@ -14376,6 +14364,16 @@ The parameter is used only in GIMPLE FE.\n The maximum number of 'after supernode' exploded nodes within the analyzer\n per supernode, before terminating analysis.\n \n+@item openacc-kernels\n+Specify mode of OpenACC `kernels' constructs handling.\n+With @option{--param=openacc-kernels=decompose}, OpenACC `kernels'\n+constructs are decomposed into parts, a sequence of compute\n+constructs, each then handled individually.\n+This is work in progress.\n+With @option{--param=openacc-kernels=parloops}, OpenACC `kernels'\n+constructs are handled by the @samp{parloops} pass, en bloc.\n+This is the current default.\n+\n @end table\n \n The following choices of @var{name} are available on AArch64 targets:"}, {"sha": "388ef8c0fdbf4629e8375e8940962ad561483fa0", "filename": "gcc/fortran/lang.opt", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ffortran%2Flang.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ffortran%2Flang.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffortran%2Flang.opt?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -691,10 +691,6 @@ fopenacc-dim=\n Fortran LTO Joined Var(flag_openacc_dims)\n ; Documented in C\n \n-fopenacc-kernels=\n-Fortran RejectNegative Joined Enum(openacc_kernels) Var(flag_openacc_kernels) Init(OPENACC_KERNELS_PARLOOPS)\n-; Documented in C\n-\n fopenmp\n Fortran LTO\n ; Documented in C"}, {"sha": "4ba5758a906719aa0c6918c49acb1e1e34b37fff", "filename": "gcc/omp-oacc-kernels-decompose.cc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fomp-oacc-kernels-decompose.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fomp-oacc-kernels-decompose.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fomp-oacc-kernels-decompose.cc?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1527,7 +1527,7 @@ class pass_omp_oacc_kernels_decompose : public gimple_opt_pass\n   virtual bool gate (function *)\n   {\n     return (flag_openacc\n-\t    && flag_openacc_kernels == OPENACC_KERNELS_DECOMPOSE);\n+\t    && param_openacc_kernels == OPENACC_KERNELS_DECOMPOSE);\n   }\n   virtual unsigned int execute (function *)\n   {"}, {"sha": "b516489bc8e69526e6fa61709e9ee38b4bc96115", "filename": "gcc/params.opt", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fparams.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Fparams.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fparams.opt?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -777,6 +777,19 @@ The minimum probability of reaching a source block for interblock speculative sc\n Common Joined UInteger Var(param_min_vect_loop_bound) Param Optimization\n If -ftree-vectorize is used, the minimal loop bound of a loop to be considered for vectorization.\n \n+-param=openacc-kernels=\n+Common Joined Enum(openacc_kernels) Var(param_openacc_kernels) Init(OPENACC_KERNELS_PARLOOPS) Param\n+--param=openacc-kernels=[decompose|parloops]\tSpecify mode of OpenACC 'kernels' constructs handling.\n+\n+Enum\n+Name(openacc_kernels) Type(enum openacc_kernels)\n+\n+EnumValue\n+Enum(openacc_kernels) String(decompose) Value(OPENACC_KERNELS_DECOMPOSE)\n+\n+EnumValue\n+Enum(openacc_kernels) String(parloops) Value(OPENACC_KERNELS_PARLOOPS)\n+\n -param=parloops-chunk-size=\n Common Joined UInteger Var(param_parloops_chunk_size) Param Optimization\n Chunk size of omp schedule for loops parallelized by parloops."}, {"sha": "a48072509e1a1add1d741ee909e1b4a9a981001e", "filename": "gcc/testsuite/c-c++-common/goacc/if-clause-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fif-clause-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fif-clause-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fif-clause-2.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,5 +1,5 @@\n /* { dg-additional-options \"-fdump-tree-gimple\" } */\n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" }\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" }\n    { dg-additional-options \"-fdump-tree-omp_oacc_kernels_decompose\" } */\n \n void"}, {"sha": "87219c88fac7da5f0d0cd059e0270054ca768131", "filename": "gcc/testsuite/c-c++-common/goacc/kernels-decompose-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-1.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -2,7 +2,7 @@\n \n /* { dg-additional-options \"-fopt-info-omp-all\" } */\n /* { dg-additional-options \"-fdump-tree-gimple\" } */\n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" }\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" }\n    { dg-additional-options \"-fdump-tree-omp_oacc_kernels_decompose\" } */\n \n /* See also '../../gfortran.dg/goacc/kernels-decompose-1.f95'.  */"}, {"sha": "3781e75d0f2d4295492406f849a191f72aaa4a34", "filename": "gcc/testsuite/c-c++-common/goacc/kernels-decompose-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-2.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,7 +1,7 @@\n /* Test OpenACC 'kernels' construct decomposition.  */\n \n /* { dg-additional-options \"-fopt-info-omp-all\" } */\n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" }\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" }\n /* { dg-additional-options \"-O2\" } for 'parloops'.  */\n \n /* See also '../../gfortran.dg/goacc/kernels-decompose-2.f95'.  */"}, {"sha": "d770b91dd097a1ccd6b92d932a00e0c05a66e8f8", "filename": "gcc/testsuite/c-c++-common/goacc/kernels-decompose-ice-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-ice-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-ice-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-ice-1.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,7 +1,7 @@\n /* Test OpenACC 'kernels' construct decomposition.  */\n \n /* { dg-additional-options \"-fopt-info-omp-all\" } */\n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" } */\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" } */\n /* { dg-ice \"TODO\" }\n    { dg-prune-output \"during GIMPLE pass: omplower\" } */\n "}, {"sha": "ae059eb354bce29d9411c2e1d4d2a70f79519637", "filename": "gcc/testsuite/c-c++-common/goacc/kernels-decompose-ice-2.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-ice-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-ice-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fc-c%2B%2B-common%2Fgoacc%2Fkernels-decompose-ice-2.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,6 +1,6 @@\n /* Test OpenACC 'kernels' construct decomposition.  */\n \n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" } */\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" } */\n /* { dg-ice \"TODO\" }\n    { dg-prune-output \"during GIMPLE pass: omplower\" } */\n "}, {"sha": "e2523504ef536c6741d5476c3d9ca3bc7501fa45", "filename": "gcc/testsuite/gfortran.dg/goacc/kernels-decompose-1.f95", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-decompose-1.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-decompose-1.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-decompose-1.f95?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -2,7 +2,7 @@\n \n ! { dg-additional-options \"-fopt-info-omp-all\" }\n ! { dg-additional-options \"-fdump-tree-gimple\" }\n-! { dg-additional-options \"-fopenacc-kernels=decompose\" }\n+! { dg-additional-options \"--param=openacc-kernels=decompose\" }\n ! { dg-additional-options \"-fdump-tree-omp_oacc_kernels_decompose\" }\n \n ! See also '../../c-c++-common/goacc/kernels-decompose-1.c'."}, {"sha": "cc12b77817b00ec2dd858dd0b235f828bb1f5e51", "filename": "gcc/testsuite/gfortran.dg/goacc/kernels-decompose-2.f95", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-decompose-2.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-decompose-2.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-decompose-2.f95?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,7 +1,7 @@\n ! Test OpenACC 'kernels' construct decomposition.\n \n ! { dg-additional-options \"-fopt-info-omp-all\" }\n-! { dg-additional-options \"-fopenacc-kernels=decompose\" }\n+! { dg-additional-options \"--param=openacc-kernels=decompose\" }\n ! { dg-additional-options \"-O2\" } for 'parloops'.\n \n ! See also '../../c-c++-common/goacc/kernels-decompose-2.c'."}, {"sha": "63ef7e17a9e4e88c90ffe4033bb149194eaa6fba", "filename": "gcc/testsuite/gfortran.dg/goacc/kernels-tree.f95", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-tree.f95", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-tree.f95", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fgoacc%2Fkernels-tree.f95?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,6 +1,6 @@\n ! { dg-do compile } \n ! { dg-additional-options \"-fdump-tree-original\" } \n-! { dg-additional-options \"-fopenacc-kernels=decompose\" }\n+! { dg-additional-options \"--param=openacc-kernels=decompose\" }\n ! { dg-additional-options \"-fdump-tree-omp_oacc_kernels_decompose\" }\n \n program test"}, {"sha": "0777b612b6303d81d2299fed31cf2826b1fff6fe", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/declare-vla-kernels-decompose-ice-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fdeclare-vla-kernels-decompose-ice-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fdeclare-vla-kernels-decompose-ice-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fdeclare-vla-kernels-decompose-ice-1.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" } */\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" } */\n /* Hopefully, this is the same issue as '../../../gcc/testsuite/c-c++-common/goacc/kernels-decompose-ice-1.c'.\n    { dg-ice \"TODO\" }\n    TODO { dg-prune-output \"during GIMPLE pass: omplower\" }"}, {"sha": "0369ae91f14722b41fa3d7fd0e8091a577ac5e75", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/declare-vla-kernels-decompose.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fdeclare-vla-kernels-decompose.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fdeclare-vla-kernels-decompose.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fdeclare-vla-kernels-decompose.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,4 +1,4 @@\n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" } */\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" } */\n \n /* See also 'declare-vla-kernels-decompose-ice-1.c'.  */\n "}, {"sha": "dd83557b6aa2cb9b02df2b301d29021abe114944", "filename": "libgomp/testsuite/libgomp.oacc-c-c++-common/kernels-decompose-1.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fkernels-decompose-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fkernels-decompose-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-c-c%2B%2B-common%2Fkernels-decompose-1.c?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,7 +1,7 @@\n /* Test OpenACC 'kernels' construct decomposition.  */\n \n /* { dg-additional-options \"-fopt-info-omp-all\" } */\n-/* { dg-additional-options \"-fopenacc-kernels=decompose\" } */\n+/* { dg-additional-options \"--param=openacc-kernels=decompose\" } */\n \n /* It's only with Tcl 8.5 (released in 2007) that \"the variable 'varName'\n    passed to 'incr' may be unset, and in that case, it will be set to [...]\","}, {"sha": "cf1d0e569278ad5d6cfd9434c06e18fa50ae2e63", "filename": "libgomp/testsuite/libgomp.oacc-fortran/pr94358-1.f90", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fpr94358-1.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fpr94358-1.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Ftestsuite%2Flibgomp.oacc-fortran%2Fpr94358-1.f90?ref=3395dfc4da8ad1fccd346c62dfc9bd44b2b48c62", "patch": "@@ -1,6 +1,6 @@\n ! { dg-do run }\n ! { dg-additional-options \"-fopt-info-omp-all\" }\n-! { dg-additional-options \"-fopenacc-kernels=decompose\" }\n+! { dg-additional-options \"--param=openacc-kernels=decompose\" }\n \n ! It's only with Tcl 8.5 (released in 2007) that \"the variable 'varName'\n ! passed to 'incr' may be unset, and in that case, it will be set to [...]\","}]}