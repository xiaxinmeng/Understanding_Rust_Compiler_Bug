{"sha": "15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTVlN2I5NGYxODVhMGViMmNiOGEwYjBmYmY0YzhkMzAyNWYxYjQwZA==", "commit": {"author": {"name": "Richard Sandiford", "email": "rdsandiford@googlemail.com", "date": "2010-07-12T19:03:50Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2010-07-12T19:03:50Z"}, "message": "ira-int.h (target_ira_int): Add x_ira_prohibited_mode_move_regs and...\n\ngcc/\n\t* ira-int.h (target_ira_int): Add x_ira_prohibited_mode_move_regs\n\tand x_ira_prohibited_mode_move_regs_initialized_p.\n\t(ira_prohibited_mode_move_regs): Redefine as a macro.\n\t* ira.c (ira_prohibited_mode_move_regs): Delete.\n\t(ira_prohibited_mode_move_regs_initialized_p): Redefine as a macro.\n\nFrom-SVN: r162107", "tree": {"sha": "509b4507d79280dce679e79dda34e3da0d380119", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/509b4507d79280dce679e79dda34e3da0d380119"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d/comments", "author": {"login": "rsandifo", "id": 4235983, "node_id": "MDQ6VXNlcjQyMzU5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/4235983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rsandifo", "html_url": "https://github.com/rsandifo", "followers_url": "https://api.github.com/users/rsandifo/followers", "following_url": "https://api.github.com/users/rsandifo/following{/other_user}", "gists_url": "https://api.github.com/users/rsandifo/gists{/gist_id}", "starred_url": "https://api.github.com/users/rsandifo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rsandifo/subscriptions", "organizations_url": "https://api.github.com/users/rsandifo/orgs", "repos_url": "https://api.github.com/users/rsandifo/repos", "events_url": "https://api.github.com/users/rsandifo/events{/privacy}", "received_events_url": "https://api.github.com/users/rsandifo/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "cc14227fd9aadda127a94a28d34eaa4249df3f12", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cc14227fd9aadda127a94a28d34eaa4249df3f12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cc14227fd9aadda127a94a28d34eaa4249df3f12"}], "stats": {"total": 33, "additions": 20, "deletions": 13}, "files": [{"sha": "784128f44a8177d9383596bbb15418db76ae65ee", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d", "patch": "@@ -1,3 +1,11 @@\n+2010-07-12  Richard Sandiford  <rdsandiford@googlemail.com>\n+\n+\t* ira-int.h (target_ira_int): Add x_ira_prohibited_mode_move_regs\n+\tand x_ira_prohibited_mode_move_regs_initialized_p.\n+\t(ira_prohibited_mode_move_regs): Redefine as a macro.\n+\t* ira.c (ira_prohibited_mode_move_regs): Delete.\n+\t(ira_prohibited_mode_move_regs_initialized_p): Redefine as a macro.\n+\n 2010-07-12  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \t* reload.h (target_reload): Add x_cached_reg_save_code and"}, {"sha": "605350dc7207c1729e31e4903a086af745fbe6a9", "filename": "gcc/ira-int.h", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d/gcc%2Fira-int.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d/gcc%2Fira-int.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira-int.h?ref=15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d", "patch": "@@ -823,6 +823,14 @@ struct target_ira_int {\n      (excluding the class itself.  Non-allocatable registers are\n      excluded from the consideration;.  */\n   enum reg_class x_alloc_reg_class_subclasses[N_REG_CLASSES][N_REG_CLASSES];\n+\n+  /* Array whose values are hard regset of hard registers for which\n+     move of the hard register in given mode into itself is\n+     prohibited.  */\n+  HARD_REG_SET x_ira_prohibited_mode_move_regs[NUM_MACHINE_MODES];\n+\n+  /* Flag of that the above array has been initialized.  */\n+  bool x_ira_prohibited_mode_move_regs_initialized_p;\n };\n \n extern struct target_ira_int default_target_ira_int;\n@@ -860,14 +868,11 @@ extern struct target_ira_int *this_target_ira_int;\n   (this_target_ira_int->x_ira_reg_class_super_classes)\n #define ira_reg_class_union \\\n   (this_target_ira_int->x_ira_reg_class_union)\n+#define ira_prohibited_mode_move_regs \\\n+  (this_target_ira_int->x_ira_prohibited_mode_move_regs)\n \f\n /* ira.c: */\n \n-/* Array whose values are hard regset of hard registers for which\n-   move of the hard register in given mode into itself is\n-   prohibited.  */\n-extern HARD_REG_SET ira_prohibited_mode_move_regs[NUM_MACHINE_MODES];\n-\n extern void *ira_allocate (size_t);\n extern void *ira_reallocate (void *, size_t);\n extern void ira_free (void *addr);"}, {"sha": "1a02736d2f8e49f3acb4b533526aba8558b7b826", "filename": "gcc/ira.c", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d/gcc%2Fira.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d/gcc%2Fira.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fira.c?ref=15e7b94f185a0eb2cb8a0b0fbf4c8d3025f1b40d", "patch": "@@ -1195,14 +1195,8 @@ ira_finish_once (void)\n }\n \n \f\n-\n-/* Array whose values are hard regset of hard registers for which\n-   move of the hard register in given mode into itself is\n-   prohibited.  */\n-HARD_REG_SET ira_prohibited_mode_move_regs[NUM_MACHINE_MODES];\n-\n-/* Flag of that the above array has been initialized.  */\n-static bool ira_prohibited_mode_move_regs_initialized_p = false;\n+#define ira_prohibited_mode_move_regs_initialized_p \\\n+  (this_target_ira_int->x_ira_prohibited_mode_move_regs_initialized_p)\n \n /* Set up IRA_PROHIBITED_MODE_MOVE_REGS.  */\n static void"}]}