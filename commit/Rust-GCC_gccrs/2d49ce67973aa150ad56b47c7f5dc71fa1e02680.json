{"sha": "2d49ce67973aa150ad56b47c7f5dc71fa1e02680", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmQ0OWNlNjc5NzNhYTE1MGFkNTZiNDdjN2Y1ZGM3MWZhMWUwMjY4MA==", "commit": {"author": {"name": "DJ Delorie", "email": "dj@redhat.com", "date": "2004-04-16T18:40:04Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2004-04-16T18:40:04Z"}, "message": "sdbout.c (sdbout_one_type): Use TYPE_VALUES for enums, not TYPE_FIELDS.\n\n* sdbout.c (sdbout_one_type): Use TYPE_VALUES for enums, not\nTYPE_FIELDS.\n(sdbout_finish): Don't free deferred_global_decls; it's GC'd.\n\nFrom-SVN: r80761", "tree": {"sha": "f192d3cf50aa41cf6ecf303b7e5db1bd8ba19d98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f192d3cf50aa41cf6ecf303b7e5db1bd8ba19d98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2d49ce67973aa150ad56b47c7f5dc71fa1e02680", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d49ce67973aa150ad56b47c7f5dc71fa1e02680", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2d49ce67973aa150ad56b47c7f5dc71fa1e02680", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2d49ce67973aa150ad56b47c7f5dc71fa1e02680/comments", "author": null, "committer": null, "parents": [{"sha": "89afce0105b1e57e9171b82f42b42b12e5b57f4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89afce0105b1e57e9171b82f42b42b12e5b57f4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89afce0105b1e57e9171b82f42b42b12e5b57f4e"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "f4b2872942dbaa856742d4d0b241d1dd3dba5381", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d49ce67973aa150ad56b47c7f5dc71fa1e02680/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d49ce67973aa150ad56b47c7f5dc71fa1e02680/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2d49ce67973aa150ad56b47c7f5dc71fa1e02680", "patch": "@@ -1,3 +1,9 @@\n+2004-04-16  DJ Delorie  <dj@redhat.com>\n+\n+\t* sdbout.c (sdbout_one_type): Use TYPE_VALUES for enums, not\n+\tTYPE_FIELDS.\n+\t(sdbout_finish): Don't free deferred_global_decls; it's GC'd.\n+\n 2004-04-16  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>\n \n \t* pa.md: Remove unnecessary declarations for asm_out_file."}, {"sha": "b93ab779712138323cd50a1dfea4dc43ea79bf64", "filename": "gcc/sdbout.c", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2d49ce67973aa150ad56b47c7f5dc71fa1e02680/gcc%2Fsdbout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2d49ce67973aa150ad56b47c7f5dc71fa1e02680/gcc%2Fsdbout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsdbout.c?ref=2d49ce67973aa150ad56b47c7f5dc71fa1e02680", "patch": "@@ -1186,7 +1186,7 @@ sdbout_one_type (tree type)\n \n \tif (TREE_CODE (type) == ENUMERAL_TYPE)\n \t  {\n-\t    for (tem = TYPE_FIELDS (type); tem; tem = TREE_CHAIN (tem))\n+\t    for (tem = TYPE_VALUES (type); tem; tem = TREE_CHAIN (tem))\n \t      if (host_integerp (TREE_VALUE (tem), 0))\n \t\t{\n \t\t  PUT_SDB_DEF (IDENTIFIER_POINTER (TREE_PURPOSE (tem)));\n@@ -1479,8 +1479,6 @@ sdbout_finish (const char *main_filename ATTRIBUTE_UNUSED)\n \n   for (i = 0; i < VARRAY_ACTIVE_SIZE (deferred_global_decls); i++)\n     sdbout_symbol (VARRAY_TREE (deferred_global_decls, i), 0);\n-\n-  VARRAY_FREE (deferred_global_decls);\n }\n \n /* Describe the beginning of an internal block within a function."}]}