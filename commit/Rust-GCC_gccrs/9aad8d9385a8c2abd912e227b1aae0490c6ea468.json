{"sha": "9aad8d9385a8c2abd912e227b1aae0490c6ea468", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWFhZDhkOTM4NWE4YzJhYmQ5MTJlMjI3YjFhYWUwNDkwYzZlYTQ2OA==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-07-01T07:47:22Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-07-01T07:47:22Z"}, "message": "Patch by Alexander Monakov <amonakov@ispras.ru>\n\n\n\tPatch by Alexander Monakov <amonakov@ispras.ru>\n\t* sel-sched-ir.c (compute_succs_info): Handle uninitialized\n\tprobabilities consistently.\n\nFrom-SVN: r249864", "tree": {"sha": "16889d4a482493ac6081d6063c3fe80e718d30cc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/16889d4a482493ac6081d6063c3fe80e718d30cc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9aad8d9385a8c2abd912e227b1aae0490c6ea468", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9aad8d9385a8c2abd912e227b1aae0490c6ea468", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9aad8d9385a8c2abd912e227b1aae0490c6ea468", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9aad8d9385a8c2abd912e227b1aae0490c6ea468/comments", "author": null, "committer": null, "parents": [{"sha": "3904572beee69258ebd87adbc16b17e3228da35f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3904572beee69258ebd87adbc16b17e3228da35f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3904572beee69258ebd87adbc16b17e3228da35f"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "ce144a01b6160ab39ce3ae6b334a6132f40e865e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9aad8d9385a8c2abd912e227b1aae0490c6ea468/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9aad8d9385a8c2abd912e227b1aae0490c6ea468/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9aad8d9385a8c2abd912e227b1aae0490c6ea468", "patch": "@@ -1,5 +1,6 @@\n 2017-06-29  Jan Hubicka  <hubicka@ucw.cz>\n \n+\tPatch by Alexander Monakov <amonakov@ispras.ru>\n \t* sel-sched-ir.c (compute_succs_info): Handle uninitialized\n \tprobabilities consistently.\n "}, {"sha": "fa88259733bb5867d156ce2f5de49b4042beeb8e", "filename": "gcc/sel-sched-ir.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9aad8d9385a8c2abd912e227b1aae0490c6ea468/gcc%2Fsel-sched-ir.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9aad8d9385a8c2abd912e227b1aae0490c6ea468/gcc%2Fsel-sched-ir.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsel-sched-ir.c?ref=9aad8d9385a8c2abd912e227b1aae0490c6ea468", "patch": "@@ -4747,9 +4747,11 @@ compute_succs_info (insn_t insn, short flags)\n           sinfo->probs_ok.safe_push (\n \t\t    /* FIXME: Improve calculation when skipping\n                        inner loop to exits.  */\n-                    si.bb_end && si.e1->probability.initialized_p ()\n-\t\t    ? si.e1->probability.to_reg_br_prob_base ()\n-\t\t    : 0);\n+                    si.bb_end\n+\t\t    ? (si.e1->probability.initialized_p ()\n+                       ? si.e1->probability.to_reg_br_prob_base ()\n+                       : 0)\n+\t\t    : REG_BR_PROB_BASE);\n           sinfo->succs_ok_n++;\n         }\n       else"}]}