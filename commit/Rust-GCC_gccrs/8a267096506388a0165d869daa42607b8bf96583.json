{"sha": "8a267096506388a0165d869daa42607b8bf96583", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGEyNjcwOTY1MDYzODhhMDE2NWQ4NjlkYWE0MjYwN2I4YmY5NjU4Mw==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-04-26T09:57:38Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-04-26T09:57:38Z"}, "message": "sreal.c: Include backend.h, tree.h, gimple.h, cgraph.h and data-streamer.h\n\n\t* sreal.c: Include backend.h, tree.h, gimple.h, cgraph.h and\n\tdata-streamer.h\n\t(sreal::stream_out, sreal::stream_in): New.\n\t* sreal.h (sreal::stream_out, sreal::stream_in): Declare.\n\nFrom-SVN: r247276", "tree": {"sha": "5982acc57285f0be2e98859be6970af45dc91e8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5982acc57285f0be2e98859be6970af45dc91e8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8a267096506388a0165d869daa42607b8bf96583", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a267096506388a0165d869daa42607b8bf96583", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8a267096506388a0165d869daa42607b8bf96583", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8a267096506388a0165d869daa42607b8bf96583/comments", "author": null, "committer": null, "parents": [{"sha": "f9726baa97f95d73f1ead290e4465824c4bcc673", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f9726baa97f95d73f1ead290e4465824c4bcc673", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f9726baa97f95d73f1ead290e4465824c4bcc673"}], "stats": {"total": 37, "additions": 37, "deletions": 0}, "files": [{"sha": "41df066dae784fce6333fef1478baa7c3741f2fa", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a267096506388a0165d869daa42607b8bf96583/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a267096506388a0165d869daa42607b8bf96583/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8a267096506388a0165d869daa42607b8bf96583", "patch": "@@ -1,3 +1,10 @@\n+2017-04-25  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* sreal.c: Include backend.h, tree.h, gimple.h, cgraph.h and\n+\tdata-streamer.h\n+\t(sreal::stream_out, sreal::stream_in): New.\n+\t* sreal.h (sreal::stream_out, sreal::stream_in): Declare.\n+\n 2017-04-25  Jakub Jelinek  <jakub@redhat.com>\n \n \t* Makefile.in (s-options): Invoke opt-gather.awk with LC_ALL=C in the"}, {"sha": "3993e27e6bfd801f5d9109a1d959db17f7c239a0", "filename": "gcc/sreal.c", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a267096506388a0165d869daa42607b8bf96583/gcc%2Fsreal.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a267096506388a0165d869daa42607b8bf96583/gcc%2Fsreal.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsreal.c?ref=8a267096506388a0165d869daa42607b8bf96583", "patch": "@@ -53,6 +53,11 @@ along with GCC; see the file COPYING3.  If not see\n #include \"coretypes.h\"\n #include \"sreal.h\"\n #include \"selftest.h\"\n+#include \"backend.h\"\n+#include \"tree.h\"\n+#include \"gimple.h\"\n+#include \"cgraph.h\"\n+#include \"data-streamer.h\"\n \n /* Print the content of struct sreal.  */\n \n@@ -236,6 +241,26 @@ sreal::operator/ (const sreal &other) const\n   return r;\n }\n \n+/* Stream sreal value to OB.  */\n+\n+void\n+sreal::stream_out (struct output_block *ob)\n+{\n+  streamer_write_hwi (ob, m_sig);\n+  streamer_write_hwi (ob, m_exp);\n+}\n+\n+/* Read sreal value from IB.  */\n+\n+sreal\n+sreal::stream_in (struct lto_input_block *ib)\n+{\n+  sreal val;\n+  val.m_sig = streamer_read_hwi (ib);\n+  val.m_exp = streamer_read_hwi (ib);\n+  return val;\n+}\n+\n #if CHECKING_P\n \n namespace selftest {"}, {"sha": "18a454c501793248bfd6056ab2b67c4424cc2c2d", "filename": "gcc/sreal.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8a267096506388a0165d869daa42607b8bf96583/gcc%2Fsreal.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8a267096506388a0165d869daa42607b8bf96583/gcc%2Fsreal.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsreal.h?ref=8a267096506388a0165d869daa42607b8bf96583", "patch": "@@ -34,6 +34,9 @@ along with GCC; see the file COPYING3.  If not see\n #define SREAL_SIGN(v) (v < 0 ? -1: 1)\n #define SREAL_ABS(v) (v < 0 ? -v: v)\n \n+struct output_block;\n+struct lto_input_block;\n+\n /* Structure for holding a simple real number.  */\n class sreal\n {\n@@ -50,6 +53,8 @@ class sreal\n   void dump (FILE *) const;\n   int64_t to_int () const;\n   double to_double () const;\n+  void stream_out (struct output_block *);\n+  static sreal stream_in (struct lto_input_block *);\n   sreal operator+ (const sreal &other) const;\n   sreal operator- (const sreal &other) const;\n   sreal operator* (const sreal &other) const;"}]}