{"sha": "980e2067790a3972283b3eab5923802ef92bc185", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTgwZTIwNjc3OTBhMzk3MjI4M2IzZWFiNTkyMzgwMmVmOTJiYzE4NQ==", "commit": {"author": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-08-15T15:25:50Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-08-15T15:25:50Z"}, "message": "final.c (profile_function): Do not emit profile counters in the data section, if NO_PROFILE_COUNTERS is defined.\n\n        * final.c (profile_function): Do not emit profile counters in\n        the data section, if NO_PROFILE_COUNTERS is defined.\n        * tm.texi: Document NO_PROFILE_COUNTERS.  Update doc for\n        FUNCTION_PROFILER.\n\n        * config/i386/linux.h (NO_PROFILE_COUNTERS): Define.\n        (FUNCTION_PROFILER): Just emit a call to mcount.\nRestoring tm.texi after corruption.\n\nFrom-SVN: r35709", "tree": {"sha": "8af773eb4ba2478b2f09f2fff302d953bdcc692a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8af773eb4ba2478b2f09f2fff302d953bdcc692a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/980e2067790a3972283b3eab5923802ef92bc185", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/980e2067790a3972283b3eab5923802ef92bc185", "html_url": "https://github.com/Rust-GCC/gccrs/commit/980e2067790a3972283b3eab5923802ef92bc185", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/980e2067790a3972283b3eab5923802ef92bc185/comments", "author": null, "committer": null, "parents": [{"sha": "f99fce0c53a352c7d1918ad90968480524076243", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f99fce0c53a352c7d1918ad90968480524076243", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f99fce0c53a352c7d1918ad90968480524076243"}], "stats": {"total": 26, "additions": 16, "deletions": 10}, "files": [{"sha": "6f714ad898c5b6a3d01aa725d56d931baa1a6750", "filename": "gcc/tm.texi", "status": "modified", "additions": 16, "deletions": 10, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/980e2067790a3972283b3eab5923802ef92bc185/gcc%2Ftm.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/980e2067790a3972283b3eab5923802ef92bc185/gcc%2Ftm.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftm.texi?ref=980e2067790a3972283b3eab5923802ef92bc185", "patch": "@@ -3502,18 +3502,24 @@ These macros will help you generate code for profiling.\n @item FUNCTION_PROFILER (@var{file}, @var{labelno})\n A C statement or compound statement to output to @var{file} some\n assembler code to call the profiling subroutine @code{mcount}.\n-Before calling, the assembler code must load the address of a\n-counter variable into a register where @code{mcount} expects to\n-find the address.  The name of this variable is @samp{LP} followed\n-by the number @var{labelno}, so you would generate the name using\n-@samp{LP%d} in a @code{fprintf}.\n \n @findex mcount\n-The details of how the address should be passed to @code{mcount} are\n-determined by your operating system environment, not by GCC.  To\n-figure them out, compile a small program for profiling using the\n-system's installed C compiler and look at the assembler code that\n-results.\n+The details of how @code{mcount} expects to be called are determined by\n+your operating system environment, not by GCC.  To figure them out,\n+compile a small program for profiling using the system's installed C\n+compiler and look at the assembler code that results.\n+\n+Older implementations of @code{mcount} expect the address of a counter\n+variable to be loaded into some register.  The name of this variable is\n+@samp{LP} followed by the number @var{labelno}, so you would generate\n+the name using @samp{LP%d} in a @code{fprintf}.\n+\n+@findex NO_PROFILE_COUNTERS\n+@item NO_PROFILE_COUNTERS\n+Define this macro if the @code{mcount} subroutine on your system does\n+not need a counter variable allocated for each function.  This is true\n+for almost all modern implementations.  If you define this macro, you\n+must not use the @var{labelno} argument to @code{FUNCTION_PROFILER}.\n \n @findex PROFILE_BEFORE_PROLOGUE\n @item PROFILE_BEFORE_PROLOGUE"}]}