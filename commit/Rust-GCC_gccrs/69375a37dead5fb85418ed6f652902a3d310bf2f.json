{"sha": "69375a37dead5fb85418ed6f652902a3d310bf2f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjkzNzVhMzdkZWFkNWZiODU0MThlZDZmNjUyOTAyYTNkMzEwYmYyZg==", "commit": {"author": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-04-13T16:49:45Z"}, "committer": {"name": "Richard Kenner", "email": "kenner@gcc.gnu.org", "date": "1997-04-13T16:49:45Z"}, "message": "cexp.y (warn_undef): New variable.\n\n(exp): Optionally warn about undefined identifiers that evaluate to 0.\n\nFrom-SVN: r13877", "tree": {"sha": "c7a4b057d177059ee52a1cd51006af2d845f5eb9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c7a4b057d177059ee52a1cd51006af2d845f5eb9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/69375a37dead5fb85418ed6f652902a3d310bf2f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69375a37dead5fb85418ed6f652902a3d310bf2f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/69375a37dead5fb85418ed6f652902a3d310bf2f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/69375a37dead5fb85418ed6f652902a3d310bf2f/comments", "author": null, "committer": null, "parents": [{"sha": "10c1b9f6899886fade41f1fc8c896d7143c4c18c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10c1b9f6899886fade41f1fc8c896d7143c4c18c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10c1b9f6899886fade41f1fc8c896d7143c4c18c"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "133539f6c5d7031d48deaae4d0aedeeb8ee24d04", "filename": "gcc/cexp.y", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/69375a37dead5fb85418ed6f652902a3d310bf2f/gcc%2Fcexp.y", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/69375a37dead5fb85418ed6f652902a3d310bf2f/gcc%2Fcexp.y", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcexp.y?ref=69375a37dead5fb85418ed6f652902a3d310bf2f", "patch": "@@ -164,6 +164,9 @@ extern int traditional;\n /* Flag for -lang-c89.  */\n extern int c89;\n \n+/* Flag for -Wundef.  */\n+extern int warn_undef;\n+\n #ifndef CHAR_TYPE_SIZE\n #define CHAR_TYPE_SIZE BITS_PER_UNIT\n #endif\n@@ -445,7 +448,10 @@ exp\t:\texp '*' exp\n \t|\tCHAR\n \t\t\t{ $$ = yylval.integer; }\n \t|\tNAME\n-\t\t\t{ $$.value = 0;\n+\t\t\t{ if (warn_undef && !skip_evaluation)\n+\t\t\t    warning (\"`%.*s' is not defined\",\n+\t\t\t\t     $1.length, $1.address);\n+\t\t\t  $$.value = 0;\n \t\t\t  $$.signedp = SIGNED; }\n \t;\n "}]}