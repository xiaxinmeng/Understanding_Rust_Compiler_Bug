{"sha": "84c1fa24b1cb78ca71c2f5a490f93f266073e9bc", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODRjMWZhMjRiMWNiNzhjYTcxYzJmNWE0OTBmOTNmMjY2MDczZTliYw==", "commit": {"author": {"name": "Ulrich Weigand", "email": "uweigand@de.ibm.com", "date": "2004-03-27T16:18:56Z"}, "committer": {"name": "Ulrich Weigand", "email": "uweigand@gcc.gnu.org", "date": "2004-03-27T16:18:56Z"}, "message": "function.c (thread_prologue_and_epilogue): Move NOTE_INSN_FUNCTION_END and NOTE_INSN_FUNCTION_BEG notes before the epilogue.\n\n\t* function.c (thread_prologue_and_epilogue): Move\n\tNOTE_INSN_FUNCTION_END and NOTE_INSN_FUNCTION_BEG notes\n\tbefore the epilogue.\n\nFrom-SVN: r80025", "tree": {"sha": "7014f4929b7eefb376966d4ee1e5b6b6445a0659", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7014f4929b7eefb376966d4ee1e5b6b6445a0659"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc", "html_url": "https://github.com/Rust-GCC/gccrs/commit/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc/comments", "author": null, "committer": null, "parents": [{"sha": "053ee101a4222e929c90c8583fde96f9222f032f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/053ee101a4222e929c90c8583fde96f9222f032f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/053ee101a4222e929c90c8583fde96f9222f032f"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "15a79c9319c2647e87ab4d80b3c176ee7176d3a3", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=84c1fa24b1cb78ca71c2f5a490f93f266073e9bc", "patch": "@@ -1,3 +1,9 @@\n+2004-03-27  Ulrich Weigand  <uweigand@de.ibm.com>\n+\n+\t* function.c (thread_prologue_and_epilogue): Move\n+\tNOTE_INSN_FUNCTION_END and NOTE_INSN_FUNCTION_BEG notes\n+\tbefore the epilogue.\n+\n 2004-03-27  Ulrich Weigand  <uweigand@de.ibm.com>\n \n \t* expr.c (store_constructor): Use gen_int_mode to correctly"}, {"sha": "0972615d89f7b25cda9d2a76046fe4b02de2005c", "filename": "gcc/function.c", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/84c1fa24b1cb78ca71c2f5a490f93f266073e9bc/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=84c1fa24b1cb78ca71c2f5a490f93f266073e9bc", "patch": "@@ -8014,11 +8014,16 @@ thread_prologue_and_epilogue_insns (rtx f ATTRIBUTE_UNUSED)\n \n       /* Similarly, move any line notes that appear after the epilogue.\n          There is no need, however, to be quite so anal about the existence\n-\t of such a note.  */\n+\t of such a note.  Also move the NOTE_INSN_FUNCTION_END and (possibly)\n+\t NOTE_INSN_FUNCTION_BEG notes, as those can be relevant for debug\n+\t info generation.  */\n       for (insn = epilogue_end; insn; insn = next)\n \t{\n \t  next = NEXT_INSN (insn);\n-\t  if (GET_CODE (insn) == NOTE && NOTE_LINE_NUMBER (insn) > 0)\n+\t  if (GET_CODE (insn) == NOTE \n+\t      && (NOTE_LINE_NUMBER (insn) > 0\n+\t\t  || NOTE_LINE_NUMBER (insn) == NOTE_INSN_FUNCTION_BEG\n+\t\t  || NOTE_LINE_NUMBER (insn) == NOTE_INSN_FUNCTION_END))\n \t    reorder_insns (insn, insn, PREV_INSN (epilogue_end));\n \t}\n     }"}]}