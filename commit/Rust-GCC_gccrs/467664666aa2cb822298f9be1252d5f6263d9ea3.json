{"sha": "467664666aa2cb822298f9be1252d5f6263d9ea3", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDY3NjY0NjY2YWEyY2I4MjIyOThmOWJlMTI1MmQ1ZjYyNjNkOWVhMw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-11T03:02:46Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1993-10-11T03:02:46Z"}, "message": "(save_machine_status, restore_machine_status): New vars.\n\n(push_function_context, pop_function_context): Use them.\n\nFrom-SVN: r5721", "tree": {"sha": "8369ddba31b5440c6d5ec775e785bf5d4bff52ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8369ddba31b5440c6d5ec775e785bf5d4bff52ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/467664666aa2cb822298f9be1252d5f6263d9ea3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/467664666aa2cb822298f9be1252d5f6263d9ea3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/467664666aa2cb822298f9be1252d5f6263d9ea3", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/467664666aa2cb822298f9be1252d5f6263d9ea3/comments", "author": null, "committer": null, "parents": [{"sha": "b7560989531cf57f7723e373d761506fac1686e3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7560989531cf57f7723e373d761506fac1686e3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7560989531cf57f7723e373d761506fac1686e3"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "4fb616f09dffd516f4d881bebd57bd6a03a879ac", "filename": "gcc/function.c", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/467664666aa2cb822298f9be1252d5f6263d9ea3/gcc%2Ffunction.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/467664666aa2cb822298f9be1252d5f6263d9ea3/gcc%2Ffunction.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffunction.c?ref=467664666aa2cb822298f9be1252d5f6263d9ea3", "patch": "@@ -306,6 +306,12 @@ static tree empty_cleanup_list;\n    assign_stack_local uses frame_pointer_rtx when this is nonzero.  */\n static int virtuals_instantiated;\n \n+/* These variables hold pointers to functions to\n+   save and restore machine-specific data,\n+   in push_function_context and pop_function_context.  */\n+void (*save_machine_status) ();\n+void (*restore_machine_status) ();\n+\n /* Nonzero if we need to distinguish between the return value of this function\n    and the return value of a function called by this function.  This helps\n    integrate.c  */\n@@ -480,6 +486,9 @@ push_function_context ()\n   save_expr_status (p);\n   save_stmt_status (p);\n   save_varasm_status (p);\n+\n+  if (save_machine_status)\n+    (*save_machine_status) (p);\n }\n \n /* Restore the last saved context, at the end of a nested function.\n@@ -542,6 +551,9 @@ pop_function_context ()\n   restore_stmt_status (p);\n   restore_varasm_status (p);\n \n+  if (restore_machine_status)\n+    (*restore_machine_status) (p);\n+\n   /* Finish doing put_var_into_stack for any of our variables\n      which became addressable during the nested function.  */\n   {"}]}