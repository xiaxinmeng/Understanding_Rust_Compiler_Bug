{"sha": "c8b0c2607645dbb8a8b034da5dd06342a421c559", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzhiMGMyNjA3NjQ1ZGJiOGE4YjAzNGRhNWRkMDYzNDJhNDIxYzU1OQ==", "commit": {"author": {"name": "Vincent Celier", "email": "celier@adacore.com", "date": "2005-03-29T16:18:31Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2005-03-29T16:18:31Z"}, "message": "prj.ads, prj.adb: (Project_Data): Add new component Display_Name\n\n2005-03-29  Vincent Celier  <celier@adacore.com>\n\n\t* prj.ads, prj.adb: (Project_Data): Add new component Display_Name\n\n\t* prj-part.adb (Parse_Single_Project): Set the location of a project\n\ton its defining identifier, rather than on the reserved word \"project\".\n\n\t* prj-proc.adb (Expression): Adapt to the fact that default of external\n\treferences may be string expressions, not always literal strings.\n\t(Recursive_Process): Set Display_Name equal to Name\n\twhen Location is No_Location, that is when there is no actual file.\n\tGet the Display_Name of the project from the source, when it is not a\n\tvirtual project.\n\t(Process): Use the Display_Name in error messages\n\n\t* prj-strt.adb (External_Reference): Allow default to be string\n\texpressions, not only literal strings.\n\nFrom-SVN: r97180", "tree": {"sha": "642362f643779e9970b78af3b833e257bde2dedc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/642362f643779e9970b78af3b833e257bde2dedc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c8b0c2607645dbb8a8b034da5dd06342a421c559", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b0c2607645dbb8a8b034da5dd06342a421c559", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c8b0c2607645dbb8a8b034da5dd06342a421c559", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c8b0c2607645dbb8a8b034da5dd06342a421c559/comments", "author": {"login": "vcelier", "id": 8888056, "node_id": "MDQ6VXNlcjg4ODgwNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/8888056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vcelier", "html_url": "https://github.com/vcelier", "followers_url": "https://api.github.com/users/vcelier/followers", "following_url": "https://api.github.com/users/vcelier/following{/other_user}", "gists_url": "https://api.github.com/users/vcelier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vcelier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vcelier/subscriptions", "organizations_url": "https://api.github.com/users/vcelier/orgs", "repos_url": "https://api.github.com/users/vcelier/repos", "events_url": "https://api.github.com/users/vcelier/events{/privacy}", "received_events_url": "https://api.github.com/users/vcelier/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "4f62e49c97c56fb8ccf2de533e83931a814da45b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4f62e49c97c56fb8ccf2de533e83931a814da45b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4f62e49c97c56fb8ccf2de533e83931a814da45b"}], "stats": {"total": 222, "additions": 143, "deletions": 79}, "files": [{"sha": "1b100843b428719177f27a9a42c70a419d1cbd75", "filename": "gcc/ada/prj-part.adb", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj-part.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj-part.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-part.adb?ref=c8b0c2607645dbb8a8b034da5dd06342a421c559", "patch": "@@ -1068,8 +1068,8 @@ package body Prj.Part is\n       --  Mark location of PROJECT token if present\n \n       if Token = Tok_Project then\n+         Scan (In_Tree); -- scan past PROJECT\n          Set_Location_Of (Project, In_Tree, Token_Ptr);\n-         Scan (In_Tree); -- scan past project\n       end if;\n \n       --  Clear the Buffer"}, {"sha": "7ccd5750cf3985fbc09e3daab27a3c60c2502d11", "filename": "gcc/ada/prj-proc.adb", "status": "modified", "additions": 53, "deletions": 8, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj-proc.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj-proc.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-proc.adb?ref=c8b0c2607645dbb8a8b034da5dd06342a421c559", "patch": "@@ -33,6 +33,7 @@ with Prj.Attr; use Prj.Attr;\n with Prj.Err;  use Prj.Err;\n with Prj.Ext;  use Prj.Ext;\n with Prj.Nmsc; use Prj.Nmsc;\n+with Sinput;   use Sinput;\n with Snames;\n \n with GNAT.Case_Util; use GNAT.Case_Util;\n@@ -781,14 +782,31 @@ package body Prj.Proc is\n                   Default : Name_Id           := No_Name;\n                   Value   : Name_Id           := No_Name;\n \n+                  Def_Var : Variable_Value;\n+\n                   Default_Node : constant Project_Node_Id :=\n                     External_Default_Of\n                       (The_Current_Term, From_Project_Node_Tree);\n \n                begin\n+                  --  If there is a default value for the external reference,\n+                  --  get its value.\n+\n                   if Default_Node /= Empty_Node then\n-                     Default :=\n-                       String_Value_Of (Default_Node, From_Project_Node_Tree);\n+                     Def_Var := Expression\n+                       (Project                => Project,\n+                        In_Tree                => In_Tree,\n+                        From_Project_Node      => Default_Node,\n+                        From_Project_Node_Tree => From_Project_Node_Tree,\n+                        Pkg                    => Pkg,\n+                        First_Term             =>\n+                          Tree.First_Term\n+                            (Default_Node, From_Project_Node_Tree),\n+                        Kind                   => Single);\n+\n+                     if Def_Var /= Nil_Variable_Value then\n+                        Default := Def_Var.Value;\n+                     end if;\n                   end if;\n \n                   Value := Prj.Ext.Value_Of (Name, Default);\n@@ -1057,11 +1075,12 @@ package body Prj.Proc is\n                                                                       Obj_Dir\n                   then\n                      if In_Tree.Projects.Table (Extending2).Virtual then\n-                        Error_Msg_Name_1 := In_Tree.Projects.Table (Proj).Name;\n+                        Error_Msg_Name_1 :=\n+                          In_Tree.Projects.Table (Proj).Display_Name;\n \n                         if Error_Report = null then\n                            Error_Msg\n-                             (\"project % cannot be extended by a virtual \" &\n+                             (\"project { cannot be extended by a virtual \" &\n                               \"project with the same object directory\",\n                               In_Tree.Projects.Table (Proj).Location);\n                         else\n@@ -1075,13 +1094,13 @@ package body Prj.Proc is\n \n                      else\n                         Error_Msg_Name_1 :=\n-                          In_Tree.Projects.Table (Extending2).Name;\n+                          In_Tree.Projects.Table (Extending2).Display_Name;\n                         Error_Msg_Name_2 :=\n-                          In_Tree.Projects.Table (Proj).Name;\n+                          In_Tree.Projects.Table (Proj).Display_Name;\n \n                         if Error_Report = null then\n                            Error_Msg\n-                             (\"project % cannot extend project %\",\n+                             (\"project { cannot extend project {\",\n                               In_Tree.Projects.Table (Extending2).Location);\n                            Error_Msg\n                              (\"\\they share the same object directory\",\n@@ -2158,8 +2177,14 @@ package body Prj.Proc is\n             Processed_Data   : Project_Data     := Empty_Project (In_Tree);\n             Imported         : Project_List     := Empty_Project_List;\n             Declaration_Node : Project_Node_Id  := Empty_Node;\n+            Tref             : Source_Buffer_Ptr;\n             Name             : constant Name_Id :=\n-              Name_Of (From_Project_Node, From_Project_Node_Tree);\n+                                 Name_Of\n+                                   (From_Project_Node, From_Project_Node_Tree);\n+            Location         : Source_Ptr :=\n+                                 Location_Of\n+                                   (From_Project_Node, From_Project_Node_Tree);\n+\n \n          begin\n             Project := Processed_Projects.Get (Name);\n@@ -2184,6 +2209,26 @@ package body Prj.Proc is\n                          Virtual_Prefix\n             then\n                Processed_Data.Virtual := True;\n+               Processed_Data.Display_Name := Name;\n+\n+            --  If there is no file, for example when the project node tree is\n+            --  built in memory by GPS, the Display_Name cannot be found in\n+            --  the source, so its value is the same as Name.\n+\n+            elsif Location = No_Location then\n+               Processed_Data.Display_Name := Name;\n+\n+            --  Get the spelling of the project name from the project file\n+\n+            else\n+               Tref := Source_Text (Get_Source_File_Index (Location));\n+\n+               for J in 1 .. Name_Len loop\n+                  Name_Buffer (J) := Tref (Location);\n+                  Location := Location + 1;\n+               end loop;\n+\n+               Processed_Data.Display_Name := Name_Find;\n             end if;\n \n             Processed_Data.Display_Path_Name :="}, {"sha": "91539e9408308f64245e944df9ed09d226bae047", "filename": "gcc/ada/prj-strt.adb", "status": "modified", "additions": 33, "deletions": 19, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj-strt.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj-strt.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-strt.adb?ref=c8b0c2607645dbb8a8b034da5dd06342a421c559", "patch": "@@ -106,8 +106,10 @@ package body Prj.Strt is\n    --  Add one single names to table Names\n \n    procedure External_Reference\n-     (In_Tree        : Project_Node_Tree_Ref;\n-      External_Value : out Project_Node_Id);\n+     (In_Tree         : Project_Node_Tree_Ref;\n+      Current_Project : Project_Node_Id;\n+      Current_Package : Project_Node_Id;\n+      External_Value  : out Project_Node_Id);\n    --  Parse an external reference. Current token is \"external\".\n \n    procedure Attribute_Reference\n@@ -341,8 +343,10 @@ package body Prj.Strt is\n    ------------------------\n \n    procedure External_Reference\n-     (In_Tree        : Project_Node_Tree_Ref;\n-      External_Value : out Project_Node_Id)\n+     (In_Tree         : Project_Node_Tree_Ref;\n+      Current_Project : Project_Node_Id;\n+      Current_Package : Project_Node_Id;\n+      External_Value  : out Project_Node_Id)\n    is\n       Field_Id : Project_Node_Id := Empty_Node;\n \n@@ -397,24 +401,31 @@ package body Prj.Strt is\n \n                Scan (In_Tree);\n \n-               Expect (Tok_String_Literal, \"literal string\");\n+               --  Get the string expression for the default\n \n-               --  Get the default\n+               declare\n+                  Loc : constant Source_Ptr := Token_Ptr;\n \n-               if Token = Tok_String_Literal then\n-                  Field_Id :=\n-                    Default_Project_Node\n-                      (Of_Kind       => N_Literal_String,\n-                       In_Tree       => In_Tree,\n-                       And_Expr_Kind => Single);\n-                  Set_String_Value_Of (Field_Id, In_Tree, To => Token_Name);\n-                  Set_External_Default_Of\n-                    (External_Value, In_Tree, To => Field_Id);\n-                  Scan (In_Tree);\n-                  Expect (Tok_Right_Paren, \"`)`\");\n-               end if;\n+               begin\n+                  Parse_Expression\n+                    (In_Tree         => In_Tree,\n+                     Expression      => Field_Id,\n+                     Current_Project => Current_Project,\n+                     Current_Package => Current_Package,\n+                     Optional_Index  => False);\n+\n+                  if Expression_Kind_Of (Field_Id, In_Tree) = List then\n+                     Error_Msg (\"expression must be a single string\", Loc);\n+                  else\n+                     Set_External_Default_Of\n+                       (External_Value, In_Tree, To => Field_Id);\n+                  end if;\n+               end;\n+\n+               Expect (Tok_Right_Paren, \"`)`\");\n \n                --  Scan past the right parenthesis\n+\n                if Token = Tok_Right_Paren then\n                   Scan (In_Tree);\n                end if;\n@@ -1417,7 +1428,10 @@ package body Prj.Strt is\n             end if;\n \n             External_Reference\n-              (In_Tree => In_Tree, External_Value => Reference);\n+              (In_Tree         => In_Tree,\n+               Current_Project => Current_Project,\n+               Current_Package => Current_Package,\n+               External_Value  => Reference);\n             Set_Current_Term (Term, In_Tree, To => Reference);\n \n          when others =>"}, {"sha": "83dab6944b9976565d7ad9e3d04a0bf339a89d8a", "filename": "gcc/ada/prj.adb", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.adb?ref=c8b0c2607645dbb8a8b034da5dd06342a421c559", "patch": "@@ -90,6 +90,7 @@ package body Prj is\n       Supp_Languages                 => No_Supp_Language_Index,\n       First_Referred_By              => No_Project,\n       Name                           => No_Name,\n+      Display_Name                   => No_Name,\n       Path_Name                      => No_Name,\n       Display_Path_Name              => No_Name,\n       Virtual                        => False,\n@@ -227,9 +228,10 @@ package body Prj is\n    -------------------\n \n    function Empty_Project (Tree : Project_Tree_Ref)  return Project_Data is\n-      Value : Project_Data := Project_Empty;\n+      Value : Project_Data;\n    begin\n       Prj.Initialize (Tree => No_Project_Tree);\n+      Value := Project_Empty;\n       Value.Naming := Tree.Private_Part.Default_Naming;\n       return Value;\n    end Empty_Project;"}, {"sha": "cfe0da08f750e98218006bbcf6d8271d269b1b8b", "filename": "gcc/ada/prj.ads", "status": "modified", "additions": 53, "deletions": 50, "changes": 103, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c8b0c2607645dbb8a8b034da5dd06342a421c559/gcc%2Fada%2Fprj.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj.ads?ref=c8b0c2607645dbb8a8b034da5dd06342a421c559", "patch": "@@ -422,23 +422,23 @@ package Prj is\n       Attributes => No_Variable,\n       Arrays     => No_Array,\n       Packages   => No_Package);\n-   --  Default value of Declarations: indicates that there is no declarations.\n+   --  Default value of Declarations: indicates that there is no declarations\n \n    type Package_Element is record\n       Name   : Name_Id      := No_Name;\n       Decl   : Declarations := No_Declarations;\n       Parent : Package_Id   := No_Package;\n       Next   : Package_Id   := No_Package;\n    end record;\n-   --  A package. Includes declarations that may include other packages.\n+   --  A package. Includes declarations that may include other packages\n \n    package Package_Table is new GNAT.Dynamic_Tables\n      (Table_Component_Type => Package_Element,\n       Table_Index_Type     => Package_Id,\n       Table_Low_Bound      => 1,\n       Table_Initial        => 100,\n       Table_Increment      => 100);\n-   --  The table that contains all packages.\n+   --  The table that contains all packages\n \n    function Image (Casing : Casing_Type) return String;\n    --  Similar to 'Image (but avoid use of this attribute in compiler)\n@@ -452,14 +452,14 @@ package Prj is\n    type Naming_Data is record\n \n       Dot_Replacement : Name_Id := No_Name;\n-      --  The string to replace '.' in the source file name (for Ada).\n+      --  The string to replace '.' in the source file name (for Ada)\n \n       Dot_Repl_Loc : Source_Ptr := No_Location;\n-      --  The position in the project file source where\n-      --  Dot_Replacement is defined.\n+      --  The position in the project file source where Dot_Replacement is\n+      --  defined.\n \n       Casing : Casing_Type := All_Lower_Case;\n-      --  The casing of the source file name (for Ada).\n+      --  The casing of the source file name (for Ada)\n \n       Spec_Suffix : Array_Element_Id := No_Array_Element;\n       --  The string to append to the unit name for the\n@@ -490,17 +490,17 @@ package Prj is\n       --  Ada_Body_Suffix is defined.\n \n       Separate_Suffix : Name_Id := No_Name;\n-      --  String to append to unit name for source file name of an Ada subunit.\n+      --  String to append to unit name for source file name of an Ada subunit\n \n       Sep_Suffix_Loc : Source_Ptr := No_Location;\n-      --  Position in the project file source where Separate_Suffix is defined.\n+      --  Position in the project file source where Separate_Suffix is defined\n \n       Specs : Array_Element_Id := No_Array_Element;\n-      --  An associative array mapping individual specs to source file names.\n+      --  An associative array mapping individual specs to source file names\n       --  This is specific to Ada.\n \n       Bodies : Array_Element_Id := No_Array_Element;\n-      --  An associative array mapping individual bodies to source file names.\n+      --  An associative array mapping individual bodies to source file names\n       --  This is specific to Ada.\n \n       Specification_Exceptions : Array_Element_Id := No_Array_Element;\n@@ -554,15 +554,18 @@ package Prj is\n       --  Indicate the different languages of the source of this project\n \n       First_Referred_By  : Project_Id := No_Project;\n-      --  The project, if any, that was the first to be known\n-      --  as importing or extending this project.\n-      --  Set by Prj.Proc.Process.\n+      --  The project, if any, that was the first to be known as importing or\n+      --  extending this project. Set by Prj.Proc.Process.\n \n       Name : Name_Id := No_Name;\n-      --  The name of the project. Set by Prj.Proc.Process.\n+      --  The name of the project. Set by Prj.Proc.Process\n+\n+      Display_Name : Name_Id := No_Name;\n+      --  The name of the project with the spelling of its declaration.\n+      --  Set by Prj.Proc.Process.\n \n       Path_Name : Name_Id := No_Name;\n-      --  The path name of the project file. Set by Prj.Proc.Process.\n+      --  The path name of the project file. Set by Prj.Proc.Process\n \n       Display_Path_Name : Name_Id := No_Name;\n       --  The path name used for display purposes. May be different from\n@@ -576,36 +579,36 @@ package Prj is\n       --  project. Set by Prj.Proc.Process.\n \n       Mains : String_List_Id := Nil_String;\n-      --  List of mains specified by attribute Main. Set by Prj.Nmsc.Check.\n+      --  List of mains specified by attribute Main. Set by Prj.Nmsc.Check\n \n       Directory : Name_Id := No_Name;\n-      --  Directory where the project file resides. Set by Prj.Proc.Process.\n+      --  Directory where the project file resides. Set by Prj.Proc.Process\n \n       Display_Directory : Name_Id := No_Name;\n \n       Dir_Path : String_Access;\n-      --  Same as Directory, but as an access to String.\n-      --  Set by Make.Compile_Sources.Collect_Arguments_And_Compile.\n+      --  Same as Directory, but as an access to String. Set by\n+      --  Make.Compile_Sources.Collect_Arguments_And_Compile.\n \n       Library : Boolean := False;\n-      --  True if this is a library project.\n-      --  Set by Prj.Nmsc.Language_Independent_Check.\n+      --  True if this is a library project. Set by\n+      --  Prj.Nmsc.Language_Independent_Check.\n \n       Library_Dir : Name_Id := No_Name;\n-      --  If a library project, directory where resides the library\n-      --  Set by Prj.Nmsc.Language_Independent_Check.\n+      --  If a library project, directory where resides the library Set by\n+      --  Prj.Nmsc.Language_Independent_Check.\n \n       Display_Library_Dir : Name_Id := No_Name;\n-      --  The name of the library directory, for display purposes.\n-      --  May be different from Library_Dir for platforms where the file names\n-      --  are case-insensitive.\n+      --  The name of the library directory, for display purposes. May be\n+      --  different from Library_Dir for platforms where the file names are\n+      --  case-insensitive.\n \n       Library_Src_Dir : Name_Id := No_Name;\n       --  If a library project, directory where the sources and the ALI files\n       --  of the library are copied. By default, if attribute Library_Src_Dir\n       --  is not specified, sources are not copied anywhere and ALI files are\n-      --  copied in the Library Directory.\n-      --  Set by Prj.Nmsc.Language_Independent_Check.\n+      --  copied in the Library Directory. Set by\n+      --  Prj.Nmsc.Language_Independent_Check.\n \n       Display_Library_Src_Dir : Name_Id := No_Name;\n       --  The name of the library source directory, for display purposes.\n@@ -621,16 +624,16 @@ package Prj is\n       --  Set by Prj.Nmsc.Language_Independent_Check.\n \n       Lib_Internal_Name : Name_Id := No_Name;\n-      --  If a library project, internal name store inside the library\n-      --  Set by Prj.Nmsc.Language_Independent_Check.\n+      --  If a library project, internal name store inside the library Set by\n+      --  Prj.Nmsc.Language_Independent_Check.\n \n       Standalone_Library : Boolean := False;\n-      --  Indicate that this is a Standalone Library Project File.\n-      --  Set by Prj.Nmsc.Check.\n+      --  Indicate that this is a Standalone Library Project File. Set by\n+      --  Prj.Nmsc.Check.\n \n       Lib_Interface_ALIs : String_List_Id := Nil_String;\n-      --  For Standalone Library Project Files, indicate the list\n-      --  of Interface ALI files. Set by Prj.Nmsc.Check.\n+      --  For Standalone Library Project Files, indicate the list of Interface\n+      --  ALI files. Set by Prj.Nmsc.Check.\n \n       Lib_Auto_Init : Boolean := False;\n       --  For non static Standalone Library Project Files, indicate if\n@@ -691,17 +694,17 @@ package Prj is\n       --  Object_Directory. Set by Prj.Nmsc.Language_Independent_Check.\n \n       Display_Exec_Dir : Name_Id := No_Name;\n-      --  The name of the exec directory, for display purposes.\n-      --  May be different from Exec_Directory for platforms where the file\n-      --  names are case-insensitive.\n+      --  The name of the exec directory, for display purposes. May be\n+      --  different from Exec_Directory for platforms where the file names are\n+      --  case-insensitive.\n \n       Extends : Project_Id := No_Project;\n-      --  The reference of the project file, if any, that this\n-      --  project file extends. Set by Prj.Proc.Process.\n+      --  The reference of the project file, if any, that this project file\n+      --  extends. Set by Prj.Proc.Process.\n \n       Extended_By : Project_Id := No_Project;\n-      --  The reference of the project file, if any, that\n-      --  extends this project file. Set by Prj.Proc.Process.\n+      --  The reference of the project file, if any, that extends this project\n+      --  file. Set by Prj.Proc.Process.\n \n       Naming : Naming_Data := Standard_Naming_Data;\n       --  The naming scheme of this project file.\n@@ -721,17 +724,17 @@ package Prj is\n       --  project file. Set by Prj.Proc.Process.\n \n       Imported_Projects : Project_List := Empty_Project_List;\n-      --  The list of all directly imported projects, if any.\n-      --  Set by Prj.Proc.Process.\n+      --  The list of all directly imported projects, if any. Set by\n+      --  Prj.Proc.Process.\n \n       Ada_Include_Path : String_Access := null;\n-      --  The cached value of ADA_INCLUDE_PATH for this project file.\n-      --  Do not use this field directly outside of the compiler, use\n+      --  The cached value of ADA_INCLUDE_PATH for this project file. Do not\n+      --  use this field directly outside of the compiler, use\n       --  Prj.Env.Ada_Include_Path instead. Set by Prj.Env.Ada_Include_Path.\n \n       Ada_Objects_Path : String_Access := null;\n-      --  The cached value of ADA_OBJECTS_PATH for this project file.\n-      --  Do not use this field directly outside of the compiler, use\n+      --  The cached value of ADA_OBJECTS_PATH for this project file. Do not\n+      --  use this field directly outside of the compiler, use\n       --  Prj.Env.Ada_Objects_Path instead. Set by Prj.Env.Ada_Objects_Path\n \n       Include_Path_File : Name_Id := No_Name;\n@@ -791,7 +794,7 @@ package Prj is\n    --  The project tree Tree must have been Initialized and/or Reset.\n \n    Project_Error : exception;\n-   --  Raised by some subprograms in Prj.Attr.\n+   --  Raised by some subprograms in Prj.Attr\n \n    package Project_Table is new GNAT.Dynamic_Tables (\n      Table_Component_Type => Project_Data,\n@@ -813,7 +816,7 @@ package Prj is\n       Project      : Project_Id := No_Project;\n       Needs_Pragma : Boolean := False;\n    end record;\n-   --  File and Path name of a spec or body.\n+   --  File and Path name of a spec or body\n \n    type File_Names_Data is array (Spec_Or_Body) of File_Name_Data;\n "}]}