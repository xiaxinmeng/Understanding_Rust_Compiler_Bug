{"sha": "3b1552c135cab470886c2593f2cc0895ba74c0e1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6M2IxNTUyYzEzNWNhYjQ3MDg4NmMyNTkzZjJjYzA4OTViYTc0YzBlMQ==", "commit": {"author": {"name": "Richard Henderson", "email": "rth@redhat.com", "date": "2012-03-05T22:25:19Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2012-03-05T22:25:19Z"}, "message": "genemit.c (main): Include \"target.h\" in insn-emit.c.\n\n        * genemit.c (main): Include \"target.h\" in insn-emit.c.\n        * Makefile.in (insn-emit.o): Depend on TARGET_H.\n        * config/sh/sync.md (atomic_test_and_set): Reference\n        targetm.atomic_test_and_set_trueval instead of\n        TARGET_ATOMIC_TEST_AND_SET_TRUEVAL.\n\nFrom-SVN: r184964", "tree": {"sha": "65d19a5b08da9e6db4373c12aa70d9a518a414e6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/65d19a5b08da9e6db4373c12aa70d9a518a414e6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/3b1552c135cab470886c2593f2cc0895ba74c0e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b1552c135cab470886c2593f2cc0895ba74c0e1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3b1552c135cab470886c2593f2cc0895ba74c0e1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3b1552c135cab470886c2593f2cc0895ba74c0e1/comments", "author": null, "committer": null, "parents": [{"sha": "aa96f3d8d914f285d3880d535f6dc97292cadc2a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/aa96f3d8d914f285d3880d535f6dc97292cadc2a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/aa96f3d8d914f285d3880d535f6dc97292cadc2a"}], "stats": {"total": 22, "additions": 16, "deletions": 6}, "files": [{"sha": "ad4bfb025fc76eebec9f1d4650909007119bca04", "filename": "gcc/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=3b1552c135cab470886c2593f2cc0895ba74c0e1", "patch": "@@ -1,3 +1,11 @@\n+2012-03-05  Richard Henderson  <rth@redhat.com>\n+\n+\t* genemit.c (main): Include \"target.h\" in insn-emit.c.\n+\t* Makefile.in (insn-emit.o): Depend on TARGET_H.\n+\t* config/sh/sync.md (atomic_test_and_set): Reference\n+\ttargetm.atomic_test_and_set_trueval instead of\n+\tTARGET_ATOMIC_TEST_AND_SET_TRUEVAL.\n+\n 2012-03-05  Joern Rennecke  <joern.rennecke@embecosm.com>\n \n \t* config/epiphany/epiphany.c (epiphany_function_value_regno_p):"}, {"sha": "0b7e6351074d8c50b92066600e8b8d7d90b1ab38", "filename": "gcc/Makefile.in", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=3b1552c135cab470886c2593f2cc0895ba74c0e1", "patch": "@@ -3495,8 +3495,8 @@ insn-automata.o : insn-automata.c $(CONFIG_H) $(SYSTEM_H) coretypes.h\t\\\n insn-emit.o : insn-emit.c $(CONFIG_H) $(SYSTEM_H) coretypes.h $(TM_H)\t\\\n   $(RTL_H) $(TM_P_H) $(FUNCTION_H) $(EXPR_H) $(OPTABS_H) \t\t\\\n   dfp.h $(FLAGS_H) output.h insn-config.h hard-reg-set.h $(RECOG_H)\t\\\n-  $(RESOURCE_H) reload.h $(DIAGNOSTIC_CORE_H) $(REGS_H) tm-constrs.h $(GGC_H)\t\\\n-  $(BASIC_BLOCK_H) $(INTEGRATE_H)\n+  $(RESOURCE_H) reload.h $(DIAGNOSTIC_CORE_H) $(REGS_H) tm-constrs.h\t\\\n+  $(GGC_H) $(BASIC_BLOCK_H) $(INTEGRATE_H) $(TARGET_H)\n insn-enums.o : insn-enums.c $(CONFIG_H) $(SYSTEM_H) insn-constants.h\n insn-extract.o : insn-extract.c $(CONFIG_H) $(SYSTEM_H) coretypes.h\t\\\n   $(TM_H) $(RTL_H) $(DIAGNOSTIC_CORE_H) insn-config.h $(RECOG_H)"}, {"sha": "258e048f3c7bb61878459d4d532cb8c3ebaceba2", "filename": "gcc/config/sh/sync.md", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2Fconfig%2Fsh%2Fsync.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2Fconfig%2Fsh%2Fsync.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fsh%2Fsync.md?ref=3b1552c135cab470886c2593f2cc0895ba74c0e1", "patch": "@@ -417,9 +417,10 @@\n     emit_insn (gen_tasb (addr));\n   else\n     {\n-      rtx val = force_reg (QImode, \n-\t\t\t   gen_int_mode (TARGET_ATOMIC_TEST_AND_SET_TRUEVAL,\n-\t\t\t\t\t QImode));\n+      rtx val;\n+\n+      val = gen_int_mode (targetm.atomic_test_and_set_trueval, QImode);\n+      val = force_reg (QImode, val);\n       emit_insn (gen_atomic_test_and_set_soft (addr, val));\n     }\n "}, {"sha": "173e4d30ab2cb4932c96e0026dc80ecb5dc7b59c", "filename": "gcc/genemit.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2Fgenemit.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/3b1552c135cab470886c2593f2cc0895ba74c0e1/gcc%2Fgenemit.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgenemit.c?ref=3b1552c135cab470886c2593f2cc0895ba74c0e1", "patch": "@@ -812,7 +812,8 @@ from the machine description file `md'.  */\\n\\n\");\n   printf (\"#include \\\"tm-constrs.h\\\"\\n\");\n   printf (\"#include \\\"ggc.h\\\"\\n\");\n   printf (\"#include \\\"basic-block.h\\\"\\n\");\n-  printf (\"#include \\\"integrate.h\\\"\\n\\n\");\n+  printf (\"#include \\\"integrate.h\\\"\\n\");\n+  printf (\"#include \\\"target.h\\\"\\n\\n\");\n   printf (\"#define FAIL return (end_sequence (), _val)\\n\");\n   printf (\"#define DONE return (_val = get_insns (), end_sequence (), _val)\\n\\n\");\n "}]}