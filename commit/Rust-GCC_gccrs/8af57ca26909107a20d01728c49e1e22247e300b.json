{"sha": "8af57ca26909107a20d01728c49e1e22247e300b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGFmNTdjYTI2OTA5MTA3YTIwZDAxNzI4YzQ5ZTFlMjIyNDdlMzAwYg==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-10-30T23:00:06Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2015-10-30T23:00:06Z"}, "message": "compiler: Create pointer type for all types with methods.\n\n    \n    Reviewed-on: https://go-review.googlesource.com/16522\n\nFrom-SVN: r229612", "tree": {"sha": "edbd4f6066e7a9f37db7f91ad8437c55c90b359f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/edbd4f6066e7a9f37db7f91ad8437c55c90b359f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8af57ca26909107a20d01728c49e1e22247e300b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8af57ca26909107a20d01728c49e1e22247e300b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8af57ca26909107a20d01728c49e1e22247e300b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8af57ca26909107a20d01728c49e1e22247e300b/comments", "author": null, "committer": null, "parents": [{"sha": "27776f553010a0410b75d23597b944aa19d2776c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/27776f553010a0410b75d23597b944aa19d2776c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/27776f553010a0410b75d23597b944aa19d2776c"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "5d35b04a15cdd642b3ad8b8ce271b392c5d5d95e", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8af57ca26909107a20d01728c49e1e22247e300b/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8af57ca26909107a20d01728c49e1e22247e300b/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=8af57ca26909107a20d01728c49e1e22247e300b", "patch": "@@ -1,4 +1,4 @@\n-85994dd0a88d1b24b2ddfc9c9ab22ee16c9e8b54\n+16f69a4007a1903da4055a496882b514e05f45f3\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "822037d1bbf2a741dae58f5614187d8a99df815d", "filename": "gcc/go/gofrontend/types.cc", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8af57ca26909107a20d01728c49e1e22247e300b/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8af57ca26909107a20d01728c49e1e22247e300b/gcc%2Fgo%2Fgofrontend%2Ftypes.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Ftypes.cc?ref=8af57ca26909107a20d01728c49e1e22247e300b", "patch": "@@ -2064,11 +2064,15 @@ Type::type_descriptor_constructor(Gogo* gogo, int runtime_type_kind,\n \n   ++p;\n   go_assert(p->is_field_name(\"ptrToThis\"));\n-  if (name == NULL)\n+  if (name == NULL && methods == NULL)\n     vals->push_back(Expression::make_nil(bloc));\n   else\n     {\n-      Type* pt = Type::make_pointer_type(name);\n+      Type* pt;\n+      if (name != NULL)\n+\tpt = Type::make_pointer_type(name);\n+      else\n+\tpt = Type::make_pointer_type(this);\n       vals->push_back(Expression::make_type_descriptor(pt, bloc));\n     }\n "}]}