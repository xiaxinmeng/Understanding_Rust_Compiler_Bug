{"sha": "c3b0f4c600b0a551132e52446bdccc23952fdefb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzNiMGY0YzYwMGIwYTU1MTEzMmU1MjQ0NmJkY2NjMjM5NTJmZGVmYg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@redhat.com", "date": "2017-06-11T05:29:34Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "2017-06-11T05:29:34Z"}, "message": "* error.c (dump_expr): Use is_this_parameter.\n\nFrom-SVN: r249104", "tree": {"sha": "f08d47b1911227e6b6f77d766d1cadcf957414ea", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/f08d47b1911227e6b6f77d766d1cadcf957414ea"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c3b0f4c600b0a551132e52446bdccc23952fdefb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3b0f4c600b0a551132e52446bdccc23952fdefb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c3b0f4c600b0a551132e52446bdccc23952fdefb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c3b0f4c600b0a551132e52446bdccc23952fdefb/comments", "author": {"login": "jicama", "id": 266146, "node_id": "MDQ6VXNlcjI2NjE0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/266146?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jicama", "html_url": "https://github.com/jicama", "followers_url": "https://api.github.com/users/jicama/followers", "following_url": "https://api.github.com/users/jicama/following{/other_user}", "gists_url": "https://api.github.com/users/jicama/gists{/gist_id}", "starred_url": "https://api.github.com/users/jicama/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jicama/subscriptions", "organizations_url": "https://api.github.com/users/jicama/orgs", "repos_url": "https://api.github.com/users/jicama/repos", "events_url": "https://api.github.com/users/jicama/events{/privacy}", "received_events_url": "https://api.github.com/users/jicama/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a01f151f1e03f9b2bf4148fc3f18f114bb6806b0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a01f151f1e03f9b2bf4148fc3f18f114bb6806b0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a01f151f1e03f9b2bf4148fc3f18f114bb6806b0"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "6d2f28b8751057a72fa87fb53c20e910f7789373", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b0f4c600b0a551132e52446bdccc23952fdefb/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b0f4c600b0a551132e52446bdccc23952fdefb/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=c3b0f4c600b0a551132e52446bdccc23952fdefb", "patch": "@@ -1,5 +1,7 @@\n 2017-06-11  Jason Merrill  <jason@redhat.com>\n \n+\t* error.c (dump_expr): Use is_this_parameter.\n+\n \t* cp-tree.h, decl2.c, mangle.c, parser.c, pt.c, semantics.c: Use\n \tid_equal.\n "}, {"sha": "e53afa7522aad7e40c6e72051fb5e5cd5c8ce30a", "filename": "gcc/cp/error.c", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c3b0f4c600b0a551132e52446bdccc23952fdefb/gcc%2Fcp%2Ferror.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c3b0f4c600b0a551132e52446bdccc23952fdefb/gcc%2Fcp%2Ferror.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ferror.c?ref=c3b0f4c600b0a551132e52446bdccc23952fdefb", "patch": "@@ -2194,8 +2194,7 @@ dump_expr (cxx_pretty_printer *pp, tree t, int flags)\n                            flags | TFF_EXPR_IN_PARENS);\n \t\tpp_cxx_dot (pp);\n \t      }\n-\t    else if (TREE_CODE (ob) != PARM_DECL\n-\t\t     || strcmp (IDENTIFIER_POINTER (DECL_NAME (ob)), \"this\"))\n+\t    else if (!is_this_parameter (ob))\n \t      {\n \t\tdump_expr (pp, ob, flags | TFF_EXPR_IN_PARENS);\n \t\tpp_cxx_arrow (pp);\n@@ -2276,9 +2275,7 @@ dump_expr (cxx_pretty_printer *pp, tree t, int flags)\n \tif (INDIRECT_REF_P (ob))\n \t  {\n \t    ob = TREE_OPERAND (ob, 0);\n-\t    if (TREE_CODE (ob) != PARM_DECL\n-\t\t|| (DECL_NAME (ob)\n-\t\t    && strcmp (IDENTIFIER_POINTER (DECL_NAME (ob)), \"this\")))\n+\t    if (!is_this_parameter (ob))\n \t      {\n \t\tdump_expr (pp, ob, flags | TFF_EXPR_IN_PARENS);\n \t\tif (TREE_CODE (TREE_TYPE (ob)) == REFERENCE_TYPE)"}]}