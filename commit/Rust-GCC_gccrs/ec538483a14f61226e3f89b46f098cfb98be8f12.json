{"sha": "ec538483a14f61226e3f89b46f098cfb98be8f12", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM1Mzg0ODNhMTRmNjEyMjZlM2Y4OWI0NmYwOThjZmI5OGJlOGYxMg==", "commit": {"author": {"name": "Tamar Christina", "email": "tnfchris@gcc.gnu.org", "date": "2018-01-11T11:56:22Z"}, "committer": {"name": "Tamar Christina", "email": "tnfchris@gcc.gnu.org", "date": "2018-01-11T11:56:22Z"}, "message": "2018-01-11  Tamar Christina  <tamar.christina@arm.com>\n\n\t* config/aarch64/aarch64.h\n\t(AARCH64_FL_FOR_ARCH8_4): Add  AARCH64_FL_DOTPROD.\n\ngcc/testsuite/\n2018-01-11  Tamar Christina  <tamar.christina@arm.com>\n\n\t* gcc.target/aarch64/advsimd-intrinsics/vdot-compile-2.c: New.\n\nFrom-SVN: r256527", "tree": {"sha": "e1debebbd3167ec85d2c5529755b58cb75b7cf08", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e1debebbd3167ec85d2c5529755b58cb75b7cf08"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec538483a14f61226e3f89b46f098cfb98be8f12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec538483a14f61226e3f89b46f098cfb98be8f12", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec538483a14f61226e3f89b46f098cfb98be8f12", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec538483a14f61226e3f89b46f098cfb98be8f12/comments", "author": null, "committer": null, "parents": [{"sha": "f8f77d4d0028e99035a48626c6e53ebbe2448798", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f8f77d4d0028e99035a48626c6e53ebbe2448798", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f8f77d4d0028e99035a48626c6e53ebbe2448798"}], "stats": {"total": 89, "additions": 86, "deletions": 3}, "files": [{"sha": "48e2def073f89f6d695e66fa8e1b40936e168ccb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ec538483a14f61226e3f89b46f098cfb98be8f12", "patch": "@@ -1,4 +1,9 @@\n-2017-01-11  Sudakshina Das  <sudi.das@arm.com>\n+2018-01-11  Tamar Christina  <tamar.christina@arm.com>\n+\n+\t* config/aarch64/aarch64.h\n+\t(AARCH64_FL_FOR_ARCH8_4): Add  AARCH64_FL_DOTPROD.\n+\n+2018-01-11  Sudakshina Das  <sudi.das@arm.com>\n \n \tPR target/82096\n \t* expmed.c (emit_store_flag_force): Swap if const op0"}, {"sha": "ed7a8e5e7e8e55d24f237916963073dcd5799dfe", "filename": "gcc/config/aarch64/aarch64.h", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2Fconfig%2Faarch64%2Faarch64.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2Fconfig%2Faarch64%2Faarch64.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.h?ref=ec538483a14f61226e3f89b46f098cfb98be8f12", "patch": "@@ -173,7 +173,8 @@ extern unsigned aarch64_architecture_version;\n #define AARCH64_FL_FOR_ARCH8_3\t\t\t\\\n   (AARCH64_FL_FOR_ARCH8_2 | AARCH64_FL_V8_3)\n #define AARCH64_FL_FOR_ARCH8_4\t\t\t\\\n-  (AARCH64_FL_FOR_ARCH8_3 | AARCH64_FL_V8_4 | AARCH64_FL_F16FML)\n+  (AARCH64_FL_FOR_ARCH8_3 | AARCH64_FL_V8_4 | AARCH64_FL_F16FML \\\n+   | AARCH64_FL_DOTPROD)\n \n /* Macros to test ISA flags.  */\n "}, {"sha": "d54bc9f89ea5557c91ead86b2618d01dc55b6489", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=ec538483a14f61226e3f89b46f098cfb98be8f12", "patch": "@@ -1,4 +1,8 @@\n-2017-01-11  Sudakshina Das  <sudi.das@arm.com>\n+2018-01-11  Tamar Christina  <tamar.christina@arm.com>\n+\n+\t* gcc.target/aarch64/advsimd-intrinsics/vdot-compile-2.c: New.\n+\n+2018-01-11  Sudakshina Das  <sudi.das@arm.com>\n \n \tPR target/82096\n \t* gcc.c-torture/compile/pr82096.c: New test."}, {"sha": "7d8d641bcf0f4cc31b9df51b0c0c499bc8dedfce", "filename": "gcc/testsuite/gcc.target/aarch64/advsimd-intrinsics/vdot-compile-2.c", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fadvsimd-intrinsics%2Fvdot-compile-2.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec538483a14f61226e3f89b46f098cfb98be8f12/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fadvsimd-intrinsics%2Fvdot-compile-2.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Fadvsimd-intrinsics%2Fvdot-compile-2.c?ref=ec538483a14f61226e3f89b46f098cfb98be8f12", "patch": "@@ -0,0 +1,73 @@\n+/* { dg-do compile { target { aarch64*-*-* } } } */\n+/* { dg-additional-options \"-O3 -march=armv8.4-a\" } */\n+\n+#include <arm_neon.h>\n+\n+/* Unsigned Dot Product instructions.  */\n+\n+uint32x2_t ufoo (uint32x2_t r, uint8x8_t x, uint8x8_t y)\n+{\n+  return vdot_u32 (r, x, y);\n+}\n+\n+uint32x4_t ufooq (uint32x4_t r, uint8x16_t x, uint8x16_t y)\n+{\n+  return vdotq_u32 (r, x, y);\n+}\n+\n+uint32x2_t ufoo_lane (uint32x2_t r, uint8x8_t x, uint8x8_t y)\n+{\n+  return vdot_lane_u32 (r, x, y, 0);\n+}\n+\n+uint32x2_t ufoo_laneq (uint32x2_t r, uint8x8_t x, uint8x16_t y)\n+{\n+  return vdot_laneq_u32 (r, x, y, 0);\n+}\n+\n+uint32x4_t ufooq_lane (uint32x4_t r, uint8x16_t x, uint8x8_t y)\n+{\n+  return vdotq_lane_u32 (r, x, y, 0);\n+}\n+\n+uint32x4_t ufooq_laneq (uint32x4_t r, uint8x16_t x, uint8x16_t y)\n+{\n+  return vdotq_laneq_u32 (r, x, y, 0);\n+}\n+\n+/* Signed Dot Product instructions.  */\n+\n+int32x2_t sfoo (int32x2_t r, int8x8_t x, int8x8_t y)\n+{\n+  return vdot_s32 (r, x, y);\n+}\n+\n+int32x4_t sfooq (int32x4_t r, int8x16_t x, int8x16_t y)\n+{\n+  return vdotq_s32 (r, x, y);\n+}\n+\n+int32x2_t sfoo_lane (int32x2_t r, int8x8_t x, int8x8_t y)\n+{\n+  return vdot_lane_s32 (r, x, y, 0);\n+}\n+\n+int32x2_t sfoo_laneq (int32x2_t r, int8x8_t x, int8x16_t y)\n+{\n+  return vdot_laneq_s32 (r, x, y, 0);\n+}\n+\n+int32x4_t sfooq_lane (int32x4_t r, int8x16_t x, int8x8_t y)\n+{\n+  return vdotq_lane_s32 (r, x, y, 0);\n+}\n+\n+int32x4_t sfooq_laneq (int32x4_t r, int8x16_t x, int8x16_t y)\n+{\n+  return vdotq_laneq_s32 (r, x, y, 0);\n+}\n+\n+/* { dg-final { scan-assembler-times {[us]dot\\tv[0-9]+\\.2s, v[0-9]+\\.8b, v[0-9]+\\.8b} 2 } } */\n+/* { dg-final { scan-assembler-times {[us]dot\\tv[0-9]+\\.2s, v[0-9]+\\.8b, v[0-9]+\\.4b\\[[0-9]+\\]}  4 } } */\n+/* { dg-final { scan-assembler-times {[us]dot\\tv[0-9]+\\.4s, v[0-9]+\\.16b, v[0-9]+\\.16b}  2 } } */\n+/* { dg-final { scan-assembler-times {[us]dot\\tv[0-9]+\\.4s, v[0-9]+\\.16b, v[0-9]+\\.4b\\[[0-9]+\\]}  4 } } */"}]}