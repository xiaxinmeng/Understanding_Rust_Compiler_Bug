{"sha": "77e51042833db99163b90918effbe6daa546258b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzdlNTEwNDI4MzNkYjk5MTYzYjkwOTE4ZWZmYmU2ZGFhNTQ2MjU4Yg==", "commit": {"author": {"name": "Emmanuel Briot", "email": "briot@adacore.com", "date": "2008-04-08T06:58:02Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2008-04-08T06:58:02Z"}, "message": "g-comlin.ads, [...] (Expansion): Remove unreachable return statement.\n\n2008-04-08  Emmanuel Briot  <briot@adacore.com>\n\n\t* g-comlin.ads, g-comlin.adb (Expansion): Remove unreachable return\n\tstatement.\n\t(Get_Configuration): New subprogram.\n\n\t* prj-pp.ads, prj-pp.adb (Pretty_Print): new parameters Id and Id_Tree\n\tThese optional parameters help preserve the casing of the project's name\n\twhen pretty-printing.\n\nFrom-SVN: r134065", "tree": {"sha": "da9dd7463bdc192a2130117d61ff57fc5d02ccc7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/da9dd7463bdc192a2130117d61ff57fc5d02ccc7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/77e51042833db99163b90918effbe6daa546258b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77e51042833db99163b90918effbe6daa546258b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/77e51042833db99163b90918effbe6daa546258b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/77e51042833db99163b90918effbe6daa546258b/comments", "author": {"login": "briot", "id": 42402, "node_id": "MDQ6VXNlcjQyNDAy", "avatar_url": "https://avatars.githubusercontent.com/u/42402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/briot", "html_url": "https://github.com/briot", "followers_url": "https://api.github.com/users/briot/followers", "following_url": "https://api.github.com/users/briot/following{/other_user}", "gists_url": "https://api.github.com/users/briot/gists{/gist_id}", "starred_url": "https://api.github.com/users/briot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/briot/subscriptions", "organizations_url": "https://api.github.com/users/briot/orgs", "repos_url": "https://api.github.com/users/briot/repos", "events_url": "https://api.github.com/users/briot/events{/privacy}", "received_events_url": "https://api.github.com/users/briot/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7dbc8918c6557300367851abe89be81b7c2a04b4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7dbc8918c6557300367851abe89be81b7c2a04b4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7dbc8918c6557300367851abe89be81b7c2a04b4"}], "stats": {"total": 58, "additions": 44, "deletions": 14}, "files": [{"sha": "c9cb4dbad25a64293ad7673d98cb64135df0c442", "filename": "gcc/ada/g-comlin.adb", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fg-comlin.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fg-comlin.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.adb?ref=77e51042833db99163b90918effbe6daa546258b", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 1999-2007, Free Software Foundation, Inc.         --\n+--          Copyright (C) 1999-2008, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -264,8 +264,6 @@ package body GNAT.Command_Line is\n             end;\n          end if;\n       end loop;\n-\n-      return String'(1 .. 0 => ' ');\n    end Expansion;\n \n    -----------------\n@@ -1110,13 +1108,23 @@ package body GNAT.Command_Line is\n    -----------------------\n \n    procedure Set_Configuration\n-     (Cmd      : in out Command_Line;\n-      Config   : Command_Line_Configuration)\n+     (Cmd    : in out Command_Line;\n+      Config : Command_Line_Configuration)\n    is\n    begin\n       Cmd.Config := Config;\n    end Set_Configuration;\n \n+   -----------------------\n+   -- Get_Configuration --\n+   -----------------------\n+\n+   function Get_Configuration\n+     (Cmd : Command_Line) return Command_Line_Configuration is\n+   begin\n+      return Cmd.Config;\n+   end Get_Configuration;\n+\n    ----------------------\n    -- Set_Command_Line --\n    ----------------------"}, {"sha": "6c63b2d62221928bf251226eb184fa0d6e49ba9a", "filename": "gcc/ada/g-comlin.ads", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fg-comlin.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fg-comlin.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fg-comlin.ads?ref=77e51042833db99163b90918effbe6daa546258b", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---                     Copyright (C) 1999-2007, AdaCore                     --\n+--                     Copyright (C) 1999-2008, AdaCore                     --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -523,10 +523,14 @@ package GNAT.Command_Line is\n    type Command_Line is private;\n \n    procedure Set_Configuration\n-     (Cmd      : in out Command_Line;\n-      Config   : Command_Line_Configuration);\n+     (Cmd    : in out Command_Line;\n+      Config : Command_Line_Configuration);\n    --  Set the configuration for this command line\n \n+   function Get_Configuration\n+     (Cmd : Command_Line) return Command_Line_Configuration;\n+   --  Return the configuration used for that command line\n+\n    procedure Set_Command_Line\n      (Cmd                : in out Command_Line;\n       Switches           : String;"}, {"sha": "db2a655748f98238b414c242c76729fb173ff34a", "filename": "gcc/ada/prj-pp.adb", "status": "modified", "additions": 17, "deletions": 4, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fprj-pp.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fprj-pp.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-pp.adb?ref=77e51042833db99163b90918effbe6daa546258b", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 B o d y                                  --\n --                                                                          --\n---          Copyright (C) 2001-2007, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2001-2008, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -73,7 +73,9 @@ package body Prj.PP is\n       W_Char                             : Write_Char_Ap := null;\n       W_Eol                              : Write_Eol_Ap  := null;\n       W_Str                              : Write_Str_Ap  := null;\n-      Backward_Compatibility             : Boolean)\n+      Backward_Compatibility             : Boolean;\n+      Id                                 : Prj.Project_Id := Prj.No_Project;\n+      Id_Tree                            : Prj.Project_Tree_Ref := null)\n    is\n       procedure Print (Node : Project_Node_Id; Indent : Natural);\n       --  A recursive procedure that traverses a project file tree and outputs\n@@ -335,7 +337,12 @@ package body Prj.PP is\n                   Print (First_Comment_Before (Node, In_Tree), Indent);\n                   Start_Line (Indent);\n                   Write_String (\"project \");\n-                  Output_Name (Name_Of (Node, In_Tree));\n+\n+                  if Id /= Prj.No_Project then\n+                     Output_Name (Id_Tree.Projects.Table (Id).Display_Name);\n+                  else\n+                     Output_Name (Name_Of (Node, In_Tree));\n+                  end if;\n \n                   --  Check if this project extends another project\n \n@@ -363,7 +370,13 @@ package body Prj.PP is\n                      Indent + Increment);\n                   Start_Line (Indent);\n                   Write_String (\"end \");\n-                  Output_Name (Name_Of (Node, In_Tree));\n+\n+                  if Id /= Prj.No_Project then\n+                     Output_Name (Id_Tree.Projects.Table (Id).Display_Name);\n+                  else\n+                     Output_Name (Name_Of (Node, In_Tree));\n+                  end if;\n+\n                   Write_Line (\";\");\n                   Print (First_Comment_After_End (Node, In_Tree), Indent);\n "}, {"sha": "7d599f406d849218af8092f173828b90ff4c2a70", "filename": "gcc/ada/prj-pp.ads", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fprj-pp.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/77e51042833db99163b90918effbe6daa546258b/gcc%2Fada%2Fprj-pp.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fprj-pp.ads?ref=77e51042833db99163b90918effbe6daa546258b", "patch": "@@ -6,7 +6,7 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---          Copyright (C) 2001-2007, Free Software Foundation, Inc.         --\n+--          Copyright (C) 2001-2008, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n@@ -52,7 +52,9 @@ package Prj.PP is\n       W_Char                             : Write_Char_Ap := null;\n       W_Eol                              : Write_Eol_Ap  := null;\n       W_Str                              : Write_Str_Ap  := null;\n-      Backward_Compatibility             : Boolean);\n+      Backward_Compatibility             : Boolean;\n+      Id                                 : Prj.Project_Id := Prj.No_Project;\n+      Id_Tree                            : Prj.Project_Tree_Ref := null);\n    --  Output a project file, using either the default output routines, or the\n    --  ones specified by W_Char, W_Eol and W_Str.\n    --\n@@ -73,6 +75,9 @@ package Prj.PP is\n    --  Spec_Suffix, Body, Body_Suffix) will be replaced by obsolete ones\n    --  (Specification, Specification_Suffix, Implementation,\n    --  Implementation_Suffix).\n+   --\n+   --  Id is used to compute the display name of the project including its\n+   --  proper casing.\n \n private\n "}]}