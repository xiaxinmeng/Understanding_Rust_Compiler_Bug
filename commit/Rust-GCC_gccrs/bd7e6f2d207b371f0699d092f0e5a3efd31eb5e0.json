{"sha": "bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmQ3ZTZmMmQyMDdiMzcxZjA2OTlkMDkyZjBlNWEzZWZkMzFlYjVlMA==", "commit": {"author": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2002-04-01T21:55:12Z"}, "committer": {"name": "Phil Edwards", "email": "pme@gcc.gnu.org", "date": "2002-04-01T21:55:12Z"}, "message": "cp-demangle.c (__cxa_demangle): Also protect with IN_GLIBCPP_V3.\n\n2002-04-01  Phil Edwards  <pme@gcc.gnu.org>\n\n\t* cp-demangle.c (__cxa_demangle):  Also protect with IN_GLIBCPP_V3.\n\t(is_gnu_v3_mangled_ctor, is_gnu_v3_mangled_ctor):  Conditionally\n\tnot compile if IN_GLIBCPP_V3 defined.\n\t* dyn-string.c:  Also allow IN_GLIBCPP_V3 to change allocation scheme.\n\nFrom-SVN: r51708", "tree": {"sha": "109b3bc7a1238e3c14897e24e922cb7fadb46de0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/109b3bc7a1238e3c14897e24e922cb7fadb46de0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0/comments", "author": null, "committer": null, "parents": [{"sha": "7bf421c16301f02682bb73fe7d726d2572da2042", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7bf421c16301f02682bb73fe7d726d2572da2042", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7bf421c16301f02682bb73fe7d726d2572da2042"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "ae06bfc051549cff13804da09b6426cba1a6ca5e", "filename": "libiberty/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0/libiberty%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0/libiberty%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2FChangeLog?ref=bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0", "patch": "@@ -1,3 +1,10 @@\n+2002-04-01  Phil Edwards  <pme@gcc.gnu.org>\n+\n+\t* cp-demangle.c (__cxa_demangle):  Also protect with IN_GLIBCPP_V3.\n+\t(is_gnu_v3_mangled_ctor, is_gnu_v3_mangled_ctor):  Conditionally\n+\tnot compile if IN_GLIBCPP_V3 defined.\n+\t* dyn-string.c:  Also allow IN_GLIBCPP_V3 to change allocation scheme.\n+\n 2002-03-30  Bryce McKinlay  <bryce@waitaki.otago.ac.nz>\n \n \t* cp-demangle.c (java_demangle_v3): Don't try to release \"demangled\" "}, {"sha": "4a91700d543395c698ae163c9f74a91ba7750292", "filename": "libiberty/cp-demangle.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0/libiberty%2Fcp-demangle.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0/libiberty%2Fcp-demangle.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fcp-demangle.c?ref=bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0", "patch": "@@ -3577,7 +3577,7 @@ cp_demangle_type (type_name, result)\n   return status;\n }\n \n-#ifdef IN_LIBGCC2\n+#if defined(IN_LIBGCC2) || defined(IN_GLIBCPP_V3)\n extern char *__cxa_demangle PARAMS ((const char *, char *, size_t *, int *));\n \n /* ia64 ABI-mandated entry point in the C++ runtime library for performing\n@@ -3685,7 +3685,7 @@ __cxa_demangle (mangled_name, output_buffer, length, status)\n     }\n }\n \n-#else /* !IN_LIBGCC2 */\n+#else /* ! (IN_LIBGCC2 || IN_GLIBCPP_V3) */\n \n /* Variant entry point for integration with the existing cplus-dem\n    demangler.  Attempts to demangle MANGLED.  If the demangling\n@@ -3854,7 +3854,7 @@ java_demangle_v3 (mangled)\n   return return_value;\n }\n \n-#endif /* IN_LIBGCC2 */\n+#endif /* IN_LIBGCC2 || IN_GLIBCPP_V3 */\n \n \n /* Demangle NAME in the G++ V3 ABI demangling style, and return either\n@@ -3894,6 +3894,7 @@ demangle_v3_with_details (name)\n }\n \n \n+#ifndef IN_GLIBCPP_V3\n /* Return non-zero iff NAME is the mangled form of a constructor name\n    in the G++ V3 ABI demangling style.  Specifically, return:\n    - '1' if NAME is a complete object constructor,\n@@ -3936,6 +3937,7 @@ is_gnu_v3_mangled_dtor (name)\n   else\n     return 0;\n }\n+#endif /* IN_GLIBCPP_V3 */\n \n \n #ifdef STANDALONE_DEMANGLER"}, {"sha": "1da76c2110daa3e0419319636b9f4fe1e1d4e98e", "filename": "libiberty/dyn-string.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0/libiberty%2Fdyn-string.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0/libiberty%2Fdyn-string.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libiberty%2Fdyn-string.c?ref=bd7e6f2d207b371f0699d092f0e5a3efd31eb5e0", "patch": "@@ -50,7 +50,7 @@ Boston, MA 02111-1307, USA.  */\n    abort if an allocation fails.  Instead, percolate an error code up\n    through the call chain.  */\n \n-#ifdef IN_LIBGCC2\n+#if defined(IN_LIBGCC2) || defined(IN_GLIBCPP_V3)\n #define RETURN_ON_ALLOCATION_FAILURE\n #endif\n "}]}