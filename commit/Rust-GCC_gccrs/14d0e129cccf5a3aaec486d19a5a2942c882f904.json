{"sha": "14d0e129cccf5a3aaec486d19a5a2942c882f904", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTRkMGUxMjljY2NmNWEzYWFlYzQ4NmQxOWE1YTI5NDJjODgyZjkwNA==", "commit": {"author": {"name": "Sebastian Pop", "email": "sebastian.pop@amd.com", "date": "2010-08-11T20:24:38Z"}, "committer": {"name": "Sebastian Pop", "email": "spop@gcc.gnu.org", "date": "2010-08-11T20:24:38Z"}, "message": "Remove rename_nb_iterations and rename_sese_parameters\n\n2010-06-12  Sebastian Pop  <sebastian.pop@amd.com>\n\n\t* graphite-clast-to-gimple.c (gloog): Do not pass scops in parameter.\n\tRemove calls to rename_nb_iterations and rename_sese_parameters.\n\t* graphite-clast-to-gimple.h (gloog): Update declaration.\n\t* graphite.c (graphite_transform_loops): Update call to gloog.\n\t* sese.c (rename_variables_in_expr): Removed.\n\t(rename_nb_iterations): Removed.\n\t(rename_sese_parameters): Removed.\n\t* sese.h (rename_nb_iterations): Removed.\n\t(rename_sese_parameters): Removed.\n\nFrom-SVN: r163119", "tree": {"sha": "e2bde514c032c54517e50a6d3f9a7a5e4b42082d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e2bde514c032c54517e50a6d3f9a7a5e4b42082d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/14d0e129cccf5a3aaec486d19a5a2942c882f904", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14d0e129cccf5a3aaec486d19a5a2942c882f904", "html_url": "https://github.com/Rust-GCC/gccrs/commit/14d0e129cccf5a3aaec486d19a5a2942c882f904", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/14d0e129cccf5a3aaec486d19a5a2942c882f904/comments", "author": null, "committer": {"login": "sebpop", "id": 568397, "node_id": "MDQ6VXNlcjU2ODM5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/568397?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sebpop", "html_url": "https://github.com/sebpop", "followers_url": "https://api.github.com/users/sebpop/followers", "following_url": "https://api.github.com/users/sebpop/following{/other_user}", "gists_url": "https://api.github.com/users/sebpop/gists{/gist_id}", "starred_url": "https://api.github.com/users/sebpop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sebpop/subscriptions", "organizations_url": "https://api.github.com/users/sebpop/orgs", "repos_url": "https://api.github.com/users/sebpop/repos", "events_url": "https://api.github.com/users/sebpop/events{/privacy}", "received_events_url": "https://api.github.com/users/sebpop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d1ba0721a18ce4996160dfa3fb042fe51114b63c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d1ba0721a18ce4996160dfa3fb042fe51114b63c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d1ba0721a18ce4996160dfa3fb042fe51114b63c"}], "stats": {"total": 94, "additions": 27, "deletions": 67}, "files": [{"sha": "d6eb263232be94ec420a7103aa17cc88a5bcf2a2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=14d0e129cccf5a3aaec486d19a5a2942c882f904", "patch": "@@ -1,3 +1,15 @@\n+2010-08-02  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-clast-to-gimple.c (gloog): Do not pass scops in parameter.\n+\tRemove calls to rename_nb_iterations and rename_sese_parameters.\n+\t* graphite-clast-to-gimple.h (gloog): Update declaration.\n+\t* graphite.c (graphite_transform_loops): Update call to gloog.\n+\t* sese.c (rename_variables_in_expr): Removed.\n+\t(rename_nb_iterations): Removed.\n+\t(rename_sese_parameters): Removed.\n+\t* sese.h (rename_nb_iterations): Removed.\n+\t(rename_sese_parameters): Removed.\n+\n 2010-08-02  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-clast-to-gimple.c (gloog): Remove call to"}, {"sha": "aac1c96c8a83696cb696bd44b6b2bfe2f5f3cd99", "filename": "gcc/ChangeLog.graphite", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2FChangeLog.graphite", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2FChangeLog.graphite", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.graphite?ref=14d0e129cccf5a3aaec486d19a5a2942c882f904", "patch": "@@ -1,3 +1,15 @@\n+2010-06-12  Sebastian Pop  <sebastian.pop@amd.com>\n+\n+\t* graphite-clast-to-gimple.c (gloog): Do not pass scops in parameter.\n+\tRemove calls to rename_nb_iterations and rename_sese_parameters.\n+\t* graphite-clast-to-gimple.h (gloog): Update declaration.\n+\t* graphite.c (graphite_transform_loops): Update call to gloog.\n+\t* sese.c (rename_variables_in_expr): Removed.\n+\t(rename_nb_iterations): Removed.\n+\t(rename_sese_parameters): Removed.\n+\t* sese.h (rename_nb_iterations): Removed.\n+\t(rename_sese_parameters): Removed.\n+\n 2010-06-12  Sebastian Pop  <sebastian.pop@amd.com>\n \n \t* graphite-clast-to-gimple.c (gloog): Remove call to"}, {"sha": "8b972b888b5071c2d2b8a78bc7ca9c285083f64c", "filename": "gcc/graphite-clast-to-gimple.c", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fgraphite-clast-to-gimple.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fgraphite-clast-to-gimple.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-clast-to-gimple.c?ref=14d0e129cccf5a3aaec486d19a5a2942c882f904", "patch": "@@ -1529,15 +1529,14 @@ create_params_index (htab_t index_table, CloogProgram *prog) {\n */\n \n bool\n-gloog (scop_p scop, VEC (scop_p, heap) *scops, htab_t bb_pbb_mapping)\n+gloog (scop_p scop, htab_t bb_pbb_mapping)\n {\n   VEC (tree, heap) *newivs = VEC_alloc (tree, heap, 10);\n   loop_p context_loop;\n   sese region = SCOP_REGION (scop);\n   ifsese if_region = NULL;\n   htab_t rename_map, newivs_index, params_index;\n   cloog_prog_clast pc;\n-  int i;\n \n   timevar_push (TV_GRAPHITE_CODE_GEN);\n   gloog_error = false;\n@@ -1577,11 +1576,6 @@ gloog (scop_p scop, VEC (scop_p, heap) *scops, htab_t bb_pbb_mapping)\n \t\t   bb_pbb_mapping, 1, params_index);\n   graphite_verify ();\n   scev_reset_htab ();\n-  rename_nb_iterations (rename_map);\n-\n-  for (i = 0; VEC_iterate (scop_p, scops, i, scop); i++)\n-    rename_sese_parameters (rename_map, SCOP_REGION (scop));\n-\n   recompute_all_dominators ();\n   graphite_verify ();\n "}, {"sha": "c90cfc0c189e0a5e8c8c6b9cbc79b264167ae703", "filename": "gcc/graphite-clast-to-gimple.h", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fgraphite-clast-to-gimple.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fgraphite-clast-to-gimple.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite-clast-to-gimple.h?ref=14d0e129cccf5a3aaec486d19a5a2942c882f904", "patch": "@@ -36,7 +36,7 @@ typedef struct bb_pbb_def\n   poly_bb_p pbb;\n }bb_pbb_def;\n \n-extern bool gloog (scop_p, VEC (scop_p, heap) *, htab_t);\n+extern bool gloog (scop_p, htab_t);\n extern cloog_prog_clast scop_to_clast (scop_p);\n extern void debug_clast_stmt (struct clast_stmt *);\n extern void print_clast_stmt (FILE *, struct clast_stmt *);"}, {"sha": "c4fd2a3caf434adc3fd9244f7036d83ff4c0080a", "filename": "gcc/graphite.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fgraphite.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fgraphite.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgraphite.c?ref=14d0e129cccf5a3aaec486d19a5a2942c882f904", "patch": "@@ -287,7 +287,7 @@ graphite_transform_loops (void)\n   for (i = 0; VEC_iterate (scop_p, scops, i, scop); i++)\n     if (POLY_SCOP_P (scop)\n \t&& apply_poly_transforms (scop)\n-\t&& gloog (scop, scops, bb_pbb_mapping))\n+\t&& gloog (scop, bb_pbb_mapping))\n       need_cfg_cleanup_p = true;\n \n   htab_delete (bb_pbb_mapping);"}, {"sha": "8f6b7d75297b1ec14d2274595b28f1c6a4d71575", "filename": "gcc/sese.c", "status": "modified", "additions": 0, "deletions": 56, "changes": 56, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fsese.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fsese.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsese.c?ref=14d0e129cccf5a3aaec486d19a5a2942c882f904", "patch": "@@ -435,62 +435,6 @@ set_rename (htab_t map, tree old_name, tree expr)\n   *slot = new_rename_map_elt (old_name, expr);\n }\n \n-/* Renames the expression T following the tuples (OLD_NAME, EXPR) in\n-   the rename map M.  Returns the expression T after renaming.  */\n-\n-static tree\n-rename_variables_in_expr (htab_t m, tree t)\n-{\n-  if (!t)\n-    return t;\n-\n- if (TREE_CODE (t) == SSA_NAME)\n-   return get_rename (m, t);\n-\n-  switch (TREE_CODE_LENGTH (TREE_CODE (t)))\n-    {\n-    case 3:\n-      TREE_OPERAND (t, 2) = rename_variables_in_expr (m, TREE_OPERAND (t, 2));\n-\n-    case 2:\n-      TREE_OPERAND (t, 1) = rename_variables_in_expr (m, TREE_OPERAND (t, 1));\n-\n-    case 1:\n-      TREE_OPERAND (t, 0) = rename_variables_in_expr (m, TREE_OPERAND (t, 0));\n-\n-    default:\n-      return t;\n-    }\n-}\n-\n-/* Renames all the loop->nb_iterations expressions following the\n-   tuples (OLD_NAME, EXPR) in RENAME_MAP.  */\n-\n-void\n-rename_nb_iterations (htab_t rename_map)\n-{\n-  loop_iterator li;\n-  struct loop *loop;\n-\n-  FOR_EACH_LOOP (li, loop, 0)\n-    loop->nb_iterations = rename_variables_in_expr (rename_map,\n-\t\t\t\t\t\t    loop->nb_iterations);\n-}\n-\n-/* Renames all the parameters of SESE following the tuples (OLD_NAME,\n-   EXPR) in RENAME_MAP.  */\n-\n-void\n-rename_sese_parameters (htab_t rename_map, sese region)\n-{\n-  int i;\n-  tree p;\n-\n-  for (i = 0; VEC_iterate (tree, SESE_PARAMS (region), i, p); i++)\n-    VEC_replace (tree, SESE_PARAMS (region), i,\n-\t\t rename_variables_in_expr (rename_map, p));\n-}\n-\n /* Rename the SSA_NAMEs used in STMT and that appear in MAP.  */\n \n static void"}, {"sha": "d0d829f9bc7dcd62766dd8434b307b8695051cb0", "filename": "gcc/sese.h", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fsese.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/14d0e129cccf5a3aaec486d19a5a2942c882f904/gcc%2Fsese.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsese.h?ref=14d0e129cccf5a3aaec486d19a5a2942c882f904", "patch": "@@ -262,8 +262,6 @@ extern void debug_rename_map (htab_t);\n extern hashval_t rename_map_elt_info (const void *);\n extern int eq_rename_map_elts (const void *, const void *);\n extern void set_rename (htab_t, tree, tree);\n-extern void rename_nb_iterations (htab_t);\n-extern void rename_sese_parameters (htab_t, sese);\n \n /* Constructs a new SCEV_INFO_STR structure for VAR and INSTANTIATED_BELOW.  */\n "}]}