{"sha": "e7d406d5392e7174efa6c18644364d030543334b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZTdkNDA2ZDUzOTJlNzE3NGVmYTZjMTg2NDQzNjRkMDMwNTQzMzM0Yg==", "commit": {"author": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2007-02-24T06:22:12Z"}, "committer": {"name": "Mike Stump", "email": "mrs@gcc.gnu.org", "date": "2007-02-24T06:22:12Z"}, "message": "tlink.c (scan_linker_output): Parse linker messages from darwin9's linker better.\n\n\t* tlink.c (scan_linker_output): Parse linker messages from\n\tdarwin9's linker better.\n\nFrom-SVN: r122286", "tree": {"sha": "d29c1cc7a2a865f80752fe23fcaed4cedc5bc6c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/d29c1cc7a2a865f80752fe23fcaed4cedc5bc6c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/e7d406d5392e7174efa6c18644364d030543334b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7d406d5392e7174efa6c18644364d030543334b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e7d406d5392e7174efa6c18644364d030543334b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e7d406d5392e7174efa6c18644364d030543334b/comments", "author": null, "committer": null, "parents": [{"sha": "c4f46fdee9c08eef35a95b0cddb8a39615f8e56e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c4f46fdee9c08eef35a95b0cddb8a39615f8e56e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c4f46fdee9c08eef35a95b0cddb8a39615f8e56e"}], "stats": {"total": 20, "additions": 11, "deletions": 9}, "files": [{"sha": "7907f419488e7eeb5ad44bc36dd647fb912e420c", "filename": "gcc/tlink.c", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/e7d406d5392e7174efa6c18644364d030543334b/gcc%2Ftlink.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/e7d406d5392e7174efa6c18644364d030543334b/gcc%2Ftlink.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftlink.c?ref=e7d406d5392e7174efa6c18644364d030543334b", "patch": "@@ -607,7 +607,7 @@ scan_linker_output (const char *fname)\n {\n   FILE *stream = fopen (fname, \"r\");\n   char *line;\n-  int skip_next_line = 0;\n+  int skip_next_in_line = 0;\n \n   while ((line = tfgets (stream)) != NULL)\n     {\n@@ -616,11 +616,11 @@ scan_linker_output (const char *fname)\n       int end;\n       int ok = 0;\n \n-      if (skip_next_line)\n-\t{\n-\t  skip_next_line = 0;\n+      /* On darwin9, we might have to skip \" in \" lines as well.  */\n+      if (skip_next_in_line\n+\t  && strstr (p, \" in \"))\n \t  continue;\n-\t}\n+      skip_next_in_line = 0;\n \n       while (*p && ISSPACE ((unsigned char) *p))\n \t++p;\n@@ -662,17 +662,19 @@ scan_linker_output (const char *fname)\n \t  demangled *dem = 0;\n \t  q = 0;\n \n-\t  /* On darwin9, we look for \"foo\" referenced from:\\n.*\\n  */\n+\t  /* On darwin9, we look for \"foo\" referenced from:\\n\\(.* in .*\\n\\)*  */\n \t  if (strcmp (oldq, \"referenced from:\") == 0)\n \t    {\n \t      /* We have to remember that we found a symbol to tweak.  */\n \t      ok = 1;\n \n-\t      /* We actually want to start from the first word on the line.  */\n+\t      /* We actually want to start from the first word on the\n+\t\t line.  */\n \t      oldq = p;\n \n-\t      /* Since the format is multiline, we have to skip the next line.  */\n-\t      skip_next_line = 1;\n+\t      /* Since the format is multiline, we have to skip\n+\t\t following lines with \" in \".  */\n+\t      skip_next_in_line = 1;\n \t    }\n \n \t  /* First try `GNU style'.  */"}]}