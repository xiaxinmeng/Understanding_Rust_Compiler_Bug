{"sha": "bf5f0e909897688eec9f4f70eb88a805764675f1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmY1ZjBlOTA5ODk3Njg4ZWVjOWY0ZjcwZWI4OGE4MDU3NjQ2NzVmMQ==", "commit": {"author": {"name": "John Carr", "email": "jfc@mit.edu", "date": "1998-04-29T12:41:21Z"}, "committer": {"name": "John Carr", "email": "jfc@gcc.gnu.org", "date": "1998-04-29T12:41:21Z"}, "message": "calls.c (expand_call): Fix recognition of C++ operator new.\n\n\t* calls.c (expand_call): Fix recognition of C++ operator new.\n\t* alias.c (mode_alias_check): Disable type based alias detection.\n\nFrom-SVN: r19492", "tree": {"sha": "dd1905278f46f2c7d59d423d9eab086e1c6e679b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/dd1905278f46f2c7d59d423d9eab086e1c6e679b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bf5f0e909897688eec9f4f70eb88a805764675f1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf5f0e909897688eec9f4f70eb88a805764675f1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bf5f0e909897688eec9f4f70eb88a805764675f1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bf5f0e909897688eec9f4f70eb88a805764675f1/comments", "author": {"login": "VoxSciurorum", "id": 60116679, "node_id": "MDQ6VXNlcjYwMTE2Njc5", "avatar_url": "https://avatars.githubusercontent.com/u/60116679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VoxSciurorum", "html_url": "https://github.com/VoxSciurorum", "followers_url": "https://api.github.com/users/VoxSciurorum/followers", "following_url": "https://api.github.com/users/VoxSciurorum/following{/other_user}", "gists_url": "https://api.github.com/users/VoxSciurorum/gists{/gist_id}", "starred_url": "https://api.github.com/users/VoxSciurorum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VoxSciurorum/subscriptions", "organizations_url": "https://api.github.com/users/VoxSciurorum/orgs", "repos_url": "https://api.github.com/users/VoxSciurorum/repos", "events_url": "https://api.github.com/users/VoxSciurorum/events{/privacy}", "received_events_url": "https://api.github.com/users/VoxSciurorum/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "a0281dae2f5b4def60e1f880d0046e581539bf29", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a0281dae2f5b4def60e1f880d0046e581539bf29", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a0281dae2f5b4def60e1f880d0046e581539bf29"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "341de0045d2886e5dbfc360db30f1f9646aaa009", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf5f0e909897688eec9f4f70eb88a805764675f1/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf5f0e909897688eec9f4f70eb88a805764675f1/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bf5f0e909897688eec9f4f70eb88a805764675f1", "patch": "@@ -1,3 +1,9 @@\n+Wed Apr 29 15:34:40 1998  John Carr  <jfc@mit.edu>\n+\n+\t* calls.c (expand_call): Fix recognition of C++ operator new.\n+\n+\t* alias.c (mode_alias_check): Disable type based alias detection.\n+\n Wed Apr 29 15:06:42 1998  Gavin Koch  <gavin@cygnus.com>\n \n \t* config/mips/elf.h (ASM_OUTPUT_DEF,ASM_WEAKEN_LABEL,"}, {"sha": "148b4527345514180e22e85e456f6185dc124586", "filename": "gcc/alias.c", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf5f0e909897688eec9f4f70eb88a805764675f1/gcc%2Falias.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf5f0e909897688eec9f4f70eb88a805764675f1/gcc%2Falias.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Falias.c?ref=bf5f0e909897688eec9f4f70eb88a805764675f1", "patch": "@@ -859,6 +859,11 @@ mode_alias_check (x, y, varies)\n      register rtx x, y;\n      int (*varies) PROTO ((rtx));\n {\n+#if 1\n+  /* gcc rules: all type aliasing allowed  */\n+  return 1;\n+#else\n+  /* ANSI C rules: different types do not alias. */\n   enum machine_mode x_mode = GET_MODE (x), y_mode = GET_MODE (y);\n   rtx x_addr = XEXP (x, 0), y_addr = XEXP (y, 0);\n   int x_varies, y_varies, x_struct, y_struct;\n@@ -903,6 +908,7 @@ mode_alias_check (x, y, varies)\n   /* Both are varying structs or fixed scalars.  Check that they are not\n      the same type.  */\n   return (x_struct == y_struct);\n+#endif\n }\n \n /* Read dependence: X is read after read in MEM takes place.  There can"}, {"sha": "51fa73b2805ae67626887f659bd3c26a7526423e", "filename": "gcc/calls.c", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bf5f0e909897688eec9f4f70eb88a805764675f1/gcc%2Fcalls.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bf5f0e909897688eec9f4f70eb88a805764675f1/gcc%2Fcalls.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcalls.c?ref=bf5f0e909897688eec9f4f70eb88a805764675f1", "patch": "@@ -901,8 +901,12 @@ expand_call (exp, target, ignore)\n       else if (! strcmp (tname, \"malloc\")\n \t       || ! strcmp (tname, \"calloc\")\n \t       || ! strcmp (tname, \"realloc\")\n-\t       || ! strcmp (tname, \"__builtin_new\")\n-\t       || ! strcmp (tname, \"__builtin_vec_new\"))\n+\t       /* Note use of NAME rather than TNAME here.  These functions\n+\t\t  are only reserved when preceded with __.  */\n+\t       || ! strcmp (name, \"__vn\")\t/* mangled __builtin_vec_new */\n+\t       || ! strcmp (name, \"__nw\")\t/* mangled __builtin_new */\n+\t       || ! strcmp (name, \"__builtin_new\")\n+\t       || ! strcmp (name, \"__builtin_vec_new\"))\n \tis_malloc = 1;\n     }\n "}]}