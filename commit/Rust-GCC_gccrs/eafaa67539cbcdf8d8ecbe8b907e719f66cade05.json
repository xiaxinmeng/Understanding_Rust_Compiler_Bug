{"sha": "eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWFmYWE2NzUzOWNiY2RmOGQ4ZWNiZThiOTA3ZTcxOWY2NmNhZGUwNQ==", "commit": {"author": {"name": "Andrew Pinski", "email": "andrew_pinski@playstation.sony.com", "date": "2007-08-09T21:39:08Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2007-08-09T21:39:08Z"}, "message": "re PR c/32796 (internal compiler error: tree check: expected integer_type or enumeral_type or boolean_type or real_type, have pointer_type in int_fits_type_p)\n\n2007-08-09  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR c/32796\n        * c-typeck.c (build_binary_op): Check for non pointer types before\n        calling int_fits_type_p.\n\n2007-08-09  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n\n        PR c/32796\n        * gcc.c-torture/compile/pr32796.c: New test.\n\nFrom-SVN: r127323", "tree": {"sha": "af0dfa5a41a062b04a6066ad983b5cdc444debda", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/af0dfa5a41a062b04a6066ad983b5cdc444debda"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "html_url": "https://github.com/Rust-GCC/gccrs/commit/eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/comments", "author": null, "committer": null, "parents": [{"sha": "e057e0cd1d9141a4251756d1830cc0939494208c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e057e0cd1d9141a4251756d1830cc0939494208c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e057e0cd1d9141a4251756d1830cc0939494208c"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "25fb6ff0458b8d8ffb2f9bb54693d93197b444ab", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "patch": "@@ -1,3 +1,9 @@\n+2007-08-09  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR c/32796\n+\t* c-typeck.c (build_binary_op): Check for non pointer types before\n+\tcalling int_fits_type_p.\n+\n 2007-08-09  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n \n \tPR middle-end/32813"}, {"sha": "6964e757388c2f985c1ad567ed12ba3f679e1750", "filename": "gcc/c-typeck.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2Fc-typeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2Fc-typeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-typeck.c?ref=eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "patch": "@@ -8226,17 +8226,19 @@ build_binary_op (enum tree_code code, tree orig_op0, tree orig_op1,\n \t\t       < TYPE_PRECISION (result_type))\n \t\t   && (type\n \t\t       = c_common_signed_or_unsigned_type (unsigned1,\n-\t\t\t\t\t\t\t   TREE_TYPE (arg1)),\n-\t\t       int_fits_type_p (arg0, type)))\n+\t\t\t\t\t\t\t   TREE_TYPE (arg1)))\n+\t\t   && !POINTER_TYPE_P (type)\n+\t\t   && int_fits_type_p (arg0, type))\n \t    result_type = type;\n \t  else if (TREE_CODE (arg1) == INTEGER_CST\n \t\t   && (unsigned0 || !uns)\n \t\t   && (TYPE_PRECISION (TREE_TYPE (arg0))\n \t\t       < TYPE_PRECISION (result_type))\n \t\t   && (type\n \t\t       = c_common_signed_or_unsigned_type (unsigned0,\n-\t\t\t\t\t\t\t   TREE_TYPE (arg0)),\n-\t\t       int_fits_type_p (arg1, type)))\n+\t\t\t\t\t\t\t   TREE_TYPE (arg0)))\n+\t\t   && !POINTER_TYPE_P (type)\n+\t\t   && int_fits_type_p (arg1, type))\n \t    result_type = type;\n \t}\n "}, {"sha": "2659bb23ecb41b09c4c1ff86885fb891539d8abb", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "patch": "@@ -1,3 +1,8 @@\n+2007-08-09  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n+\n+\tPR c/32796\n+\t* gcc.c-torture/compile/pr32796.c: New test.\n+\n 2007-08-09  Andrew Pinski  <andrew_pinski@playstation.sony.com>\n \n \tPR middle-end/32813"}, {"sha": "9e0abfb0ecad24829a812553733a056f6a3ed853", "filename": "gcc/testsuite/gcc.c-torture/compile/pr32796.c", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32796.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/eafaa67539cbcdf8d8ecbe8b907e719f66cade05/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32796.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr32796.c?ref=eafaa67539cbcdf8d8ecbe8b907e719f66cade05", "patch": "@@ -0,0 +1,6 @@\n+\n+\n+__SIZE_TYPE__ f (void *ptr)\n+{\n+  return ((__SIZE_TYPE__)(ptr)-1) | 1ULL;\n+}"}]}