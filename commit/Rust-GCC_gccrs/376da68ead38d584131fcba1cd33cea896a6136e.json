{"sha": "376da68ead38d584131fcba1cd33cea896a6136e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzc2ZGE2OGVhZDM4ZDU4NDEzMWZjYmExY2QzM2NlYTg5NmE2MTM2ZQ==", "commit": {"author": {"name": "Kaveh R. Ghazi", "email": "ghazi@caip.rutgers.edu", "date": "2009-10-23T05:28:25Z"}, "committer": {"name": "Kaveh Ghazi", "email": "ghazi@gcc.gnu.org", "date": "2009-10-23T05:28:25Z"}, "message": "builtins.c (fold_builtin_cabs): Use validate_arg().\n\n\t* builtins.c (fold_builtin_cabs): Use validate_arg().\n\t(fold_builtin_cexp): Fix if-logic.\n\t(fold_builtin_1): Check subtype for BUILT_IN_CIMAG.\n\nFrom-SVN: r153488", "tree": {"sha": "2911de4c19dedd70bcd79acc922cbf6120fa258e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2911de4c19dedd70bcd79acc922cbf6120fa258e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/376da68ead38d584131fcba1cd33cea896a6136e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/376da68ead38d584131fcba1cd33cea896a6136e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/376da68ead38d584131fcba1cd33cea896a6136e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/376da68ead38d584131fcba1cd33cea896a6136e/comments", "author": null, "committer": null, "parents": [{"sha": "d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d5b5b6bca0e7126a75715c2478a62dd4b5ed8808"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "0b4b8eebdc6f3d0028407e528888bcf9da5823d4", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/376da68ead38d584131fcba1cd33cea896a6136e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/376da68ead38d584131fcba1cd33cea896a6136e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=376da68ead38d584131fcba1cd33cea896a6136e", "patch": "@@ -1,3 +1,9 @@\n+2009-10-23  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n+\n+\t* builtins.c (fold_builtin_cabs): Use validate_arg().\n+\t(fold_builtin_cexp): Fix if-logic.\n+\t(fold_builtin_1): Check subtype for BUILT_IN_CIMAG.\n+\n 2009-10-22  Jeff Law  <law@redhat.com>\n \n \t* ira-lives.c (process_single_reg_class_operands): Update the "}, {"sha": "1243d72048b61c670115030ae5106f715b0d14ef", "filename": "gcc/builtins.c", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/376da68ead38d584131fcba1cd33cea896a6136e/gcc%2Fbuiltins.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/376da68ead38d584131fcba1cd33cea896a6136e/gcc%2Fbuiltins.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fbuiltins.c?ref=376da68ead38d584131fcba1cd33cea896a6136e", "patch": "@@ -7194,7 +7194,7 @@ fold_builtin_cabs (location_t loc, tree arg, tree type, tree fndecl)\n {\n   tree res;\n \n-  if (TREE_CODE (TREE_TYPE (arg)) != COMPLEX_TYPE\n+  if (!validate_arg (arg, COMPLEX_TYPE)\n       || TREE_CODE (TREE_TYPE (TREE_TYPE (arg))) != REAL_TYPE)\n     return NULL_TREE;\n \n@@ -7583,7 +7583,7 @@ fold_builtin_cexp (location_t loc, tree arg0, tree type)\n #endif\n \n   if (!validate_arg (arg0, COMPLEX_TYPE)\n-      && TREE_CODE (TREE_TYPE (TREE_TYPE (arg0))) == REAL_TYPE)\n+      || TREE_CODE (TREE_TYPE (TREE_TYPE (arg0))) != REAL_TYPE)\n     return NULL_TREE;\n \n #ifdef HAVE_mpc\n@@ -10017,7 +10017,8 @@ fold_builtin_1 (location_t loc, tree fndecl, tree arg0, bool ignore)\n     break;\n \n     CASE_FLT_FN (BUILT_IN_CIMAG):\n-      if (validate_arg (arg0, COMPLEX_TYPE))\n+      if (validate_arg (arg0, COMPLEX_TYPE)\n+\t  && TREE_CODE (TREE_TYPE (TREE_TYPE (arg0))) == REAL_TYPE)\n \treturn non_lvalue_loc (loc, fold_build1_loc (loc, IMAGPART_EXPR, type, arg0));\n     break;\n "}]}