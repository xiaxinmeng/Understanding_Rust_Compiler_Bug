{"sha": "d0ea0759a0acb1b9c3dad3ef001fd4730881bb47", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDBlYTA3NTlhMGFjYjFiOWMzZGFkM2VmMDAxZmQ0NzMwODgxYmI0Nw==", "commit": {"author": {"name": "Steve Ellcey", "email": "sje@cup.hp.com", "date": "2009-01-22T17:02:21Z"}, "committer": {"name": "Steve Ellcey", "email": "sje@gcc.gnu.org", "date": "2009-01-22T17:02:21Z"}, "message": "re PR middle-end/38615 (invalid promotion to static from auto)\n\n\tPR middle-end/38615\n\t* gimplify.c (gimplify_init_constructor): Fix promotion of const\n\tvariables to static.\n\t* doc/invoke.texi (-fmerge-all-constants): Update description.\n\nFrom-SVN: r143570", "tree": {"sha": "9098c90f1882c810320281aa9900d758862a7b53", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/9098c90f1882c810320281aa9900d758862a7b53"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47/comments", "author": null, "committer": null, "parents": [{"sha": "87673f8408b5214dfc58cb4f7255fea96097e5db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87673f8408b5214dfc58cb4f7255fea96097e5db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87673f8408b5214dfc58cb4f7255fea96097e5db"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "df876e9bb0d3a18d3f08dabacf9d54ebee82ff45", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d0ea0759a0acb1b9c3dad3ef001fd4730881bb47", "patch": "@@ -1,3 +1,10 @@\n+2009-01-22  Steve Ellcey  <sje@cup.hp.com>\n+\n+\tPR middle-end/38615\n+\t* gimplify.c (gimplify_init_constructor): Fix promotion of const\n+\tvariables to static.\n+\t* doc/invoke.texi (-fmerge-all-constants): Update description.\n+\n 2009-01-22  Uros Bizjak  <ubizjak@gmail.com>\n \n \tPR target/38931"}, {"sha": "be0c1ac00e5574c9448c4c473c6002dcf830f8a8", "filename": "gcc/gimplify.c", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47/gcc%2Fgimplify.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d0ea0759a0acb1b9c3dad3ef001fd4730881bb47/gcc%2Fgimplify.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimplify.c?ref=d0ea0759a0acb1b9c3dad3ef001fd4730881bb47", "patch": "@@ -3526,7 +3526,8 @@ gimplify_init_constructor (tree *expr_p, gimple_seq *pre_p, gimple_seq *post_p,\n \tif (valid_const_initializer\n \t    && num_nonzero_elements > 1\n \t    && TREE_READONLY (object)\n-\t    && TREE_CODE (object) == VAR_DECL)\n+\t    && TREE_CODE (object) == VAR_DECL\n+\t    && (flag_merge_constants >= 2 || !TREE_ADDRESSABLE (object)))\n \t  {\n \t    if (notify_temp_creation)\n \t      return GS_ERROR;"}]}