{"sha": "66e157188bd2f789809e17e85f917534c9381599", "node_id": "C_kwDOANBUbNoAKDY2ZTE1NzE4OGJkMmY3ODk4MDllMTdlODVmOTE3NTM0YzkzODE1OTk", "commit": {"author": {"name": "Richard Purdie", "email": "richard.purdie@linuxfoundation.org", "date": "2021-12-03T03:00:04Z"}, "committer": {"name": "Jeff Law", "email": "jeffreyalaw@gmail.com", "date": "2021-12-03T03:00:04Z"}, "message": "gcc: Fix \"argument list too long\" from install-plugins\n\nWhen building in longer build paths (200+ characters), the\n\"echo $(PLUGIN_HEADERS)\" from the install-plugins target would cause an\n\"argument list too long error\" on some systems.\n\nAvoid this by calling make's sort function on the list which removes\nduplicates and stops the overflow from reaching the echo command.\nThe original sort is left to handle the the .h and .def files.\n\n2021-10-26 Richard Purdie <richard.purdie@linuxfoundation.org>\n\ngcc/ChangeLog:\n\n\t* Makefile.in: Fix \"argument list too long\" from install-plugins.\n\nSigned-off-by: Richard Purdie <richard.purdie@linuxfoundation.org>", "tree": {"sha": "c0e7a80a0a6c5492f855ae81a96641255b0d626c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c0e7a80a0a6c5492f855ae81a96641255b0d626c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/66e157188bd2f789809e17e85f917534c9381599", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66e157188bd2f789809e17e85f917534c9381599", "html_url": "https://github.com/Rust-GCC/gccrs/commit/66e157188bd2f789809e17e85f917534c9381599", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/66e157188bd2f789809e17e85f917534c9381599/comments", "author": {"login": "rpurdie", "id": 1184070, "node_id": "MDQ6VXNlcjExODQwNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1184070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpurdie", "html_url": "https://github.com/rpurdie", "followers_url": "https://api.github.com/users/rpurdie/followers", "following_url": "https://api.github.com/users/rpurdie/following{/other_user}", "gists_url": "https://api.github.com/users/rpurdie/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpurdie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpurdie/subscriptions", "organizations_url": "https://api.github.com/users/rpurdie/orgs", "repos_url": "https://api.github.com/users/rpurdie/repos", "events_url": "https://api.github.com/users/rpurdie/events{/privacy}", "received_events_url": "https://api.github.com/users/rpurdie/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JeffreyALaw", "id": 14062506, "node_id": "MDQ6VXNlcjE0MDYyNTA2", "avatar_url": "https://avatars.githubusercontent.com/u/14062506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JeffreyALaw", "html_url": "https://github.com/JeffreyALaw", "followers_url": "https://api.github.com/users/JeffreyALaw/followers", "following_url": "https://api.github.com/users/JeffreyALaw/following{/other_user}", "gists_url": "https://api.github.com/users/JeffreyALaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/JeffreyALaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JeffreyALaw/subscriptions", "organizations_url": "https://api.github.com/users/JeffreyALaw/orgs", "repos_url": "https://api.github.com/users/JeffreyALaw/repos", "events_url": "https://api.github.com/users/JeffreyALaw/events{/privacy}", "received_events_url": "https://api.github.com/users/JeffreyALaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "711084c9450c49b372e177d94ae99fc642e1cc73", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/711084c9450c49b372e177d94ae99fc642e1cc73", "html_url": "https://github.com/Rust-GCC/gccrs/commit/711084c9450c49b372e177d94ae99fc642e1cc73"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "2a0be9e66a6c2d6df8516eeebcc58eef7cc31a71", "filename": "gcc/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/66e157188bd2f789809e17e85f917534c9381599/gcc%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/66e157188bd2f789809e17e85f917534c9381599/gcc%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FMakefile.in?ref=66e157188bd2f789809e17e85f917534c9381599", "patch": "@@ -3691,7 +3691,7 @@ install-plugin: installdirs lang.install-plugin s-header-vars install-gengtype\n # We keep the directory structure for files in config, common/config or\n # c-family and .def files. All other files are flattened to a single directory.\n \t$(mkinstalldirs) $(DESTDIR)$(plugin_includedir)\n-\theaders=`echo $(PLUGIN_HEADERS) $$(cd $(srcdir); echo *.h *.def) | tr ' ' '\\012' | sort -u`; \\\n+\theaders=`echo $(sort $(PLUGIN_HEADERS)) $$(cd $(srcdir); echo *.h *.def) | tr ' ' '\\012' | sort -u`; \\\n \tsrcdirstrip=`echo \"$(srcdir)\" | sed 's/[].[^$$\\\\*|]/\\\\\\\\&/g'`; \\\n \tfor file in $$headers; do \\\n \t  if [ -f $$file ] ; then \\"}]}