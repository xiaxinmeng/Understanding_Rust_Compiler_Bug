{"sha": "2fbe6bc2ba00c56ea66269ba842278764bd89c8e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MmZiZTZiYzJiYTAwYzU2ZWE2NjI2OWJhODQyMjc4NzY0YmQ4OWM4ZQ==", "commit": {"author": {"name": "Richard Earnshaw", "email": "rearnsha@arm.com", "date": "2003-06-14T17:11:57Z"}, "committer": {"name": "Richard Earnshaw", "email": "rearnsha@gcc.gnu.org", "date": "2003-06-14T17:11:57Z"}, "message": "re PR target/3724 ([ARM]Illegal instruction when profiling optimized code on arm-linux)\n\nPR target/3724\n* arm/linux-elf.h (PROFILE_HOOK): Define.\n\nFrom-SVN: r67950", "tree": {"sha": "5a5cf91052b1e5ff3956a086b21a786d293ce969", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5a5cf91052b1e5ff3956a086b21a786d293ce969"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/2fbe6bc2ba00c56ea66269ba842278764bd89c8e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fbe6bc2ba00c56ea66269ba842278764bd89c8e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/2fbe6bc2ba00c56ea66269ba842278764bd89c8e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/2fbe6bc2ba00c56ea66269ba842278764bd89c8e/comments", "author": null, "committer": null, "parents": [{"sha": "75d2580c0cc46323711df161593281bceb50a99d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75d2580c0cc46323711df161593281bceb50a99d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75d2580c0cc46323711df161593281bceb50a99d"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "480e734e86f1b9d843403d95d48d8f6384910a01", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fbe6bc2ba00c56ea66269ba842278764bd89c8e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fbe6bc2ba00c56ea66269ba842278764bd89c8e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=2fbe6bc2ba00c56ea66269ba842278764bd89c8e", "patch": "@@ -1,3 +1,8 @@\n+2003-06-14  Richard Earnshaw  <rearnsha@arm.com>\n+\n+\tPR target/3724\n+\t* arm/linux-elf.h (PROFILE_HOOK): Define.\n+\n 2003-06-14  Richard Earnshaw  <rearnsha@arm.com>\n \n \tPR target/11183"}, {"sha": "1a86e458927f17aa1796d3b07c191b5083850d38", "filename": "gcc/config/arm/linux-elf.h", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/2fbe6bc2ba00c56ea66269ba842278764bd89c8e/gcc%2Fconfig%2Farm%2Flinux-elf.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/2fbe6bc2ba00c56ea66269ba842278764bd89c8e/gcc%2Fconfig%2Farm%2Flinux-elf.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Flinux-elf.h?ref=2fbe6bc2ba00c56ea66269ba842278764bd89c8e", "patch": "@@ -120,5 +120,10 @@\n   fprintf (STREAM, \"\\tbl\\tmcount%s\\n\", NEED_PLT_RELOC ? \"(PLT)\" : \"\");\t\\\n }\n \n+/* The linux profiler clobbers the link register.  Make sure the\n+   prologue knows to save it.  */\n+#define PROFILE_HOOK(X)\t\t\t\t\t\t\\\n+  emit_insn (gen_rtx_CLOBBER (VOIDmode, gen_rtx_REG (SImode, LR_REGNUM)))\n+\n #undef  CC1_SPEC\n #define CC1_SPEC \"%{profile:-p}\""}]}