{"sha": "ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZWM5ZGM0NWI3NWRlYjgyYTYwZTliZTI3MTFlNDBlM2MxNDE5NWE0Yw==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-07T22:39:45Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2011-03-07T22:39:45Z"}, "message": "Use _nuname on 32-bit Solaris 2/x86.\n\nFrom-SVN: r170761", "tree": {"sha": "84056f5650192820258fd06c42d69b19481470dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84056f5650192820258fd06c42d69b19481470dd"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/comments", "author": null, "committer": null, "parents": [{"sha": "d8b878dc29c0c037c0fb269c5bce1ed2d1547ff9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d8b878dc29c0c037c0fb269c5bce1ed2d1547ff9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d8b878dc29c0c037c0fb269c5bce1ed2d1547ff9"}], "stats": {"total": 32, "additions": 30, "deletions": 2}, "files": [{"sha": "ca3de1d1633a1fbd97aadccf467edc4c5252728e", "filename": "libgo/Makefile.am", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.am?ref=ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "patch": "@@ -1201,6 +1201,18 @@ else\n syscall_socket_epoll_file =\n endif\n \n+# Support for uname.\n+if LIBGO_IS_SOLARIS\n+if LIBGO_IS_386\n+# 32-bit Solaris 2/x86 needs _nuname, handled in syscall_solaris_386.go.\n+syscall_uname_file =\n+else # !LIBGO_IS_386 && LIBGO_IS_SOLARIS\n+syscall_uname_file = syscalls/syscall_uname.go\n+endif\n+else # !LIBGO_IS_SOLARIS\n+syscall_uname_file = syscalls/syscall_uname.go\n+endif\n+\n syscall_arch.go: s-syscall_arch; @true\n s-syscall_arch: Makefile\n \trm -f syscall_arch.go.tmp\n@@ -1222,6 +1234,7 @@ go_syscall_files = \\\n \t$(syscall_socket_os_file) \\\n \t$(syscall_socket_epoll_file) \\\n \t$(syscall_syscall_file) \\\n+\t$(syscall_uname_file) \\\n \tsyscalls/syscall_unix.go \\\n \tsyscalls/stringbyte.go \\\n \tsyscalls/syscall_$(GOOS).go \\"}, {"sha": "edc40b4be2a694b63b287538fc0b030bf300f7e9", "filename": "libgo/Makefile.in", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2FMakefile.in?ref=ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "patch": "@@ -1563,6 +1563,12 @@ go_testing_script_files = \\\n \n # Support for epoll.\n @LIBGO_IS_LINUX_TRUE@syscall_socket_epoll_file = syscalls/socket_epoll.go\n+@LIBGO_IS_386_FALSE@@LIBGO_IS_SOLARIS_TRUE@syscall_uname_file = syscalls/syscall_uname.go\n+\n+# Support for uname.\n+# 32-bit Solaris 2/x86 needs _nuname, handled in syscall_solaris_386.go.\n+@LIBGO_IS_386_TRUE@@LIBGO_IS_SOLARIS_TRUE@syscall_uname_file = \n+@LIBGO_IS_SOLARIS_FALSE@syscall_uname_file = syscalls/syscall_uname.go\n go_syscall_files = \\\n \t$(syscall_errstr_file) \\\n \t$(syscall_errstr_decl_file) \\\n@@ -1575,6 +1581,7 @@ go_syscall_files = \\\n \t$(syscall_socket_os_file) \\\n \t$(syscall_socket_epoll_file) \\\n \t$(syscall_syscall_file) \\\n+\t$(syscall_uname_file) \\\n \tsyscalls/syscall_unix.go \\\n \tsyscalls/stringbyte.go \\\n \tsyscalls/syscall_$(GOOS).go \\"}, {"sha": "7ff8f5b07402a799ba764e9ce9969a702eac3557", "filename": "libgo/syscalls/syscall_solaris_386.go", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2Fsyscalls%2Fsyscall_solaris_386.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2Fsyscalls%2Fsyscall_solaris_386.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_solaris_386.go?ref=ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "patch": "@@ -15,3 +15,6 @@ func libc_ptrace(request int, pid Pid_t, addr uintptr, data *byte) int __asm__ (\n \n var dummy *byte\n const sizeofPtr uintptr = uintptr(unsafe.Sizeof(dummy))\n+\n+// 32-bit Solaris 2/x86 needs to use _nuname internally, cf. <sys/utsname.h>.\n+func libc_uname(buf *Utsname) (errno int) __asm__(\"_nuname\")"}, {"sha": "955866c89f1a79e8b12bfd41d4a37ce75a2b8305", "filename": "libgo/syscalls/syscall_uname.go", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2Fsyscalls%2Fsyscall_uname.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2Fsyscalls%2Fsyscall_uname.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_uname.go?ref=ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "patch": "@@ -0,0 +1,7 @@\n+// Copyright 2011 The Go Authors. All rights reserved.\n+// Use of this source code is governed by a BSD-style\n+// license that can be found in the LICENSE file.\n+\n+package syscall\n+\n+func libc_uname(buf *Utsname) (errno int) __asm__(\"uname\")"}, {"sha": "a29b6b54bfbbc53b08b5b1a781a859757fc6c54b", "filename": "libgo/syscalls/syscall_unix.go", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2Fsyscalls%2Fsyscall_unix.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ec9dc45b75deb82a60e9be2711e40e3c14195a4c/libgo%2Fsyscalls%2Fsyscall_unix.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fsyscalls%2Fsyscall_unix.go?ref=ec9dc45b75deb82a60e9be2711e40e3c14195a4c", "patch": "@@ -15,8 +15,6 @@ const ENONE = 0\n func GetErrno() int\n func SetErrno(int)\n \n-func libc_uname(buf *Utsname) (errno int) __asm__(\"uname\")\n-\n func Uname(buf *Utsname) (errno int) {\n \tr := libc_uname(buf)\n \tif r < 0 {"}]}