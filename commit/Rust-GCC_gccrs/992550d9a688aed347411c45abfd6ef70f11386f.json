{"sha": "992550d9a688aed347411c45abfd6ef70f11386f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTkyNTUwZDlhNjg4YWVkMzQ3NDExYzQ1YWJmZDZlZjcwZjExMzg2Zg==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2001-05-17T17:49:34Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2001-05-17T17:49:34Z"}, "message": "recog.c (validate_replace_rtx_1): Use \"TO\" mode if not VOIDmode when calling simplify_subreg.\n\n\t* recog.c (validate_replace_rtx_1): Use \"TO\" mode if not VOIDmode\n\twhen calling simplify_subreg.  This is needed to allow replacing\n\tof expression of one mode by expression of different mode.\n\nFrom-SVN: r42214", "tree": {"sha": "ef6cfc17319151d60254b6cae966ce4d59cf05ec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ef6cfc17319151d60254b6cae966ce4d59cf05ec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/992550d9a688aed347411c45abfd6ef70f11386f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/992550d9a688aed347411c45abfd6ef70f11386f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/992550d9a688aed347411c45abfd6ef70f11386f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/992550d9a688aed347411c45abfd6ef70f11386f/comments", "author": null, "committer": null, "parents": [{"sha": "20415bba8aa6ae85e90b3873e7d0518ffc5fa016", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20415bba8aa6ae85e90b3873e7d0518ffc5fa016", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20415bba8aa6ae85e90b3873e7d0518ffc5fa016"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "f021be5cd4deab8076c6f385bcb3ebaa0cc833f5", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/992550d9a688aed347411c45abfd6ef70f11386f/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/992550d9a688aed347411c45abfd6ef70f11386f/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=992550d9a688aed347411c45abfd6ef70f11386f", "patch": "@@ -1,3 +1,9 @@\n+Thu May 17 19:48:00 CEST 2001  Jan Hubicka  <jh@suse.cz>\n+\n+\t* recog.c (validate_replace_rtx_1): Use \"TO\" mode if not VOIDmode\n+\twhen calling simplify_subreg.  This is needed to allow replacing\n+\tof expression of one mode by expression of different mode.\n+\n Thu May 17 19:40:03 CEST 2001  Jan Hubicka  <jh@suse.cz>\n \n \t* simplify-rtx.c  (simplify_subreg): Avoid creating of incorrect subregs."}, {"sha": "00b45c64ce56469a5cb6e9e27592a6fc3c548250", "filename": "gcc/recog.c", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/992550d9a688aed347411c45abfd6ef70f11386f/gcc%2Frecog.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/992550d9a688aed347411c45abfd6ef70f11386f/gcc%2Frecog.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Frecog.c?ref=992550d9a688aed347411c45abfd6ef70f11386f", "patch": "@@ -582,7 +582,9 @@ validate_replace_rtx_1 (loc, from, to, object)\n       if (rtx_equal_p (SUBREG_REG (x), from))\n         {\n \t  rtx temp;\n-\t  temp = simplify_subreg (GET_MODE (x), to, GET_MODE (SUBREG_REG (x)),\n+\t  temp = simplify_subreg (GET_MODE (x), to,\n+\t\t\t \t  GET_MODE (to) != VOIDmode\n+\t\t\t\t  ? GET_MODE (to) : GET_MODE (SUBREG_REG (x)),\n \t\t\t\t  SUBREG_BYTE (x));\n \t  if (temp)\n \t    {"}]}