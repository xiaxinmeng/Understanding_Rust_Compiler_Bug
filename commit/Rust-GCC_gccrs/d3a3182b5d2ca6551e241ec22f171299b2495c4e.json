{"sha": "d3a3182b5d2ca6551e241ec22f171299b2495c4e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDNhMzE4MmI1ZDJjYTY1NTFlMjQxZWMyMmYxNzEyOTliMjQ5NWM0ZQ==", "commit": {"author": {"name": "Zhenqiang Chen", "email": "zhenqiang.chen@linaro.org", "date": "2014-04-29T05:10:11Z"}, "committer": {"name": "Zhenqiang Chen", "email": "zqchen@gcc.gnu.org", "date": "2014-04-29T05:10:11Z"}, "message": "aarch64.md (mov<mode>cc): New for GPF.\n\n2014-04-29  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n\n\t* config/aarch64/aarch64.md (mov<mode>cc): New for GPF.\n\n2014-04-29  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n\n\t* gcc.target/aarch64/fcsel_1.c: New test case.\n\nFrom-SVN: r209889", "tree": {"sha": "350b7f063a4a0a7d1ad87f0337fc15a60415c750", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/350b7f063a4a0a7d1ad87f0337fc15a60415c750"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3a3182b5d2ca6551e241ec22f171299b2495c4e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3a3182b5d2ca6551e241ec22f171299b2495c4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3a3182b5d2ca6551e241ec22f171299b2495c4e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3a3182b5d2ca6551e241ec22f171299b2495c4e/comments", "author": null, "committer": null, "parents": [{"sha": "32a360864ed9b528a6dc5c3acda61221ec2aaeb7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/32a360864ed9b528a6dc5c3acda61221ec2aaeb7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/32a360864ed9b528a6dc5c3acda61221ec2aaeb7"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "9bc2ce05d38d8e1cd477f19ad1a0e45633b1f45a", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3a3182b5d2ca6551e241ec22f171299b2495c4e", "patch": "@@ -1,3 +1,7 @@\n+2014-04-29  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n+\n+\t* config/aarch64/aarch64.md (mov<mode>cc): New for GPF.\n+\n 2014-04-28  James Greenhalgh  <james.greenhalgh@arm.com>\n \n \t* config/aarch64/aarch64-builtins.c"}, {"sha": "266d7873a5a1b8dbb7f955c3f13cf370920a9c4a", "filename": "gcc/config/aarch64/aarch64.md", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2Fconfig%2Faarch64%2Faarch64.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2Fconfig%2Faarch64%2Faarch64.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Faarch64%2Faarch64.md?ref=d3a3182b5d2ca6551e241ec22f171299b2495c4e", "patch": "@@ -2429,6 +2429,25 @@\n   }\n )\n \n+(define_expand \"mov<mode>cc\"\n+  [(set (match_operand:GPF 0 \"register_operand\" \"\")\n+\t(if_then_else:GPF (match_operand 1 \"aarch64_comparison_operator\" \"\")\n+\t\t\t  (match_operand:GPF 2 \"register_operand\" \"\")\n+\t\t\t  (match_operand:GPF 3 \"register_operand\" \"\")))]\n+  \"\"\n+  {\n+    rtx ccreg;\n+    enum rtx_code code = GET_CODE (operands[1]);\n+\n+    if (code == UNEQ || code == LTGT)\n+      FAIL;\n+\n+    ccreg = aarch64_gen_compare_reg (code, XEXP (operands[1], 0),\n+\t\t\t\t  XEXP (operands[1], 1));\n+    operands[1] = gen_rtx_fmt_ee (code, VOIDmode, ccreg, const0_rtx);\n+  }\n+)\n+\n (define_insn \"*csinc2<mode>_insn\"\n   [(set (match_operand:GPI 0 \"register_operand\" \"=r\")\n         (plus:GPI (match_operator:GPI 2 \"aarch64_comparison_operator\""}, {"sha": "5fbd76f0b67012a11e6b0e2ac6b32bb4821c1104", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=d3a3182b5d2ca6551e241ec22f171299b2495c4e", "patch": "@@ -1,3 +1,7 @@\n+2014-04-29  Zhenqiang Chen  <zhenqiang.chen@linaro.org>\n+\n+\t* gcc.target/aarch64/fcsel_1.c: New test case.\n+\n 2014-04-28  Jerry DeLisle  <jvdelisle@gcc.gnu>\n \n \tPR libfortran/60810"}, {"sha": "2704ee0ede77cbedb19a56ee5161fb314459be13", "filename": "gcc/testsuite/gcc.target/aarch64/fcsel_1.c", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ffcsel_1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3a3182b5d2ca6551e241ec22f171299b2495c4e/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ffcsel_1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Faarch64%2Ffcsel_1.c?ref=d3a3182b5d2ca6551e241ec22f171299b2495c4e", "patch": "@@ -0,0 +1,22 @@\n+/* { dg-do compile } */\n+/* { dg-options \" -O2 \" } */\n+\n+float\n+f_1 (float a, float b, float c, float d)\n+{\n+  if (a > 0.0)\n+    return c;\n+  else\n+    return 2.0;\n+}\n+\n+double\n+f_2 (double a, double b, double c, double d)\n+{\n+  if (a > b)\n+    return c;\n+  else\n+    return d;\n+}\n+\n+/* { dg-final { scan-assembler-times \"\\tfcsel\" 2 } } */"}]}