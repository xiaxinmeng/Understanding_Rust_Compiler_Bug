{"sha": "de52e202c29386858f2c678e6d8ac3c8a3ac0718", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGU1MmUyMDJjMjkzODY4NThmMmM2NzhlNmQ4YWMzYzhhM2FjMDcxOA==", "commit": {"author": {"name": "Gavin Romig-Koch", "email": "gavin@cygnus.com", "date": "1999-02-03T12:31:38Z"}, "committer": {"name": "Gavin Romig-Koch", "email": "gavin@gcc.gnu.org", "date": "1999-02-03T12:31:38Z"}, "message": "(div_trap_mips16): Remove nop's after branches.\n\nFrom-SVN: r25004", "tree": {"sha": "7e72e723b324f302cd7ade79453b75a5b65d5f13", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7e72e723b324f302cd7ade79453b75a5b65d5f13"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de52e202c29386858f2c678e6d8ac3c8a3ac0718", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de52e202c29386858f2c678e6d8ac3c8a3ac0718", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de52e202c29386858f2c678e6d8ac3c8a3ac0718", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de52e202c29386858f2c678e6d8ac3c8a3ac0718/comments", "author": null, "committer": null, "parents": [{"sha": "b9cd54d2655fc42a34fc7d204122ec7e154a89d8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b9cd54d2655fc42a34fc7d204122ec7e154a89d8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b9cd54d2655fc42a34fc7d204122ec7e154a89d8"}], "stats": {"total": 41, "additions": 23, "deletions": 18}, "files": [{"sha": "556f5db6a98818e9343c9fc714120e83dedda0bd", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de52e202c29386858f2c678e6d8ac3c8a3ac0718/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de52e202c29386858f2c678e6d8ac3c8a3ac0718/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de52e202c29386858f2c678e6d8ac3c8a3ac0718", "patch": "@@ -1,3 +1,7 @@\n+Wed Feb  3 15:26:58 1999  Gavin Romig-Koch  <gavin@cygnus.com>\n+\n+\t* config/mips/mips.md (div_trap_mips16): Remove nop's after branches.\n+\n Wed Feb  3 11:56:23 1999  Jeffrey A Law  (law@cygnus.com)\n \n \t* pa.c (insn_sets_and_refs_are_delayed): New function."}, {"sha": "71bd9a65edf853bf4d83af364625ca4dcddc402a", "filename": "gcc/config/mips/mips.md", "status": "modified", "additions": 19, "deletions": 18, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de52e202c29386858f2c678e6d8ac3c8a3ac0718/gcc%2Fconfig%2Fmips%2Fmips.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de52e202c29386858f2c678e6d8ac3c8a3ac0718/gcc%2Fconfig%2Fmips%2Fmips.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Fmips.md?ref=de52e202c29386858f2c678e6d8ac3c8a3ac0718", "patch": "@@ -2248,7 +2248,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (SImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   if (TARGET_CHECK_RANGE_DIV)\n@@ -2298,7 +2298,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (DImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   if (TARGET_CHECK_RANGE_DIV)\n@@ -2348,7 +2348,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (SImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   \n@@ -2389,7 +2389,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (DImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   \n@@ -2414,7 +2414,7 @@\n \n (define_expand \"div_trap\"\n   [(trap_if (eq (match_operand 0 \"register_operand\" \"d\")\n-\t\t(match_operand 1 \"reg_or_0_operand\" \"dJ\"))\n+\t\t(match_operand 1 \"true_reg_or_0_operand\" \"dJ\"))\n             (match_operand 2 \"immediate_operand\" \"\"))]\n   \"\"\n   \"\n@@ -2428,7 +2428,7 @@\n \n (define_insn \"div_trap_normal\"\n   [(trap_if (eq (match_operand 0 \"register_operand\" \"d\")\n-\t\t(match_operand 1 \"reg_or_0_operand\" \"dJ\"))\n+\t\t(match_operand 1 \"true_reg_or_0_operand\" \"dJ\"))\n             (match_operand 2 \"immediate_operand\" \"\"))]\n   \"!TARGET_MIPS16\"\n   \"*\n@@ -2471,7 +2471,7 @@\n \n (define_insn \"div_trap_mips16\"\n   [(trap_if (eq (match_operand 0 \"register_operand\" \"d\")\n-\t\t(match_operand 1 \"reg_or_0_operand\" \"dJ\"))\n+\t\t(match_operand 1 \"true_reg_or_0_operand\" \"dJ\"))\n             (match_operand 2 \"immediate_operand\" \"\"))\n    (clobber (reg:SI 24))]\n   \"TARGET_MIPS16\"\n@@ -2490,15 +2490,16 @@\n       have_dep_anti = 1;\n   if (! have_dep_anti)\n     {\n+      /* No branch delay slots on mips16. */ \n       if (GET_CODE (operands[1]) == CONST_INT)\n-        return \\\"%(bnez\\\\t%0,1f\\\\n\\\\tnop\\\\n\\\\tbreak\\\\t%2\\\\n1:%)\\\";\n+        return \\\"%(bnez\\\\t%0,1f\\\\n\\\\tbreak\\\\t%2\\\\n1:%)\\\";\n       else\n-        return \\\"%(bne\\\\t%0,%1,1f\\\\n\\\\tnop\\\\n\\\\tbreak\\\\t%2\\\\n1:%)\\\";\n+        return \\\"%(bne\\\\t%0,%1,1f\\\\n\\\\tbreak\\\\t%2\\\\n1:%)\\\";\n     }\n   return \\\"\\\";\n }\"\n   [(set_attr \"type\" \"unknown\")\n-   (set_attr \"length\" \"4\")])\n+   (set_attr \"length\" \"3\")])\n \n (define_expand \"divsi3\"\n   [(set (match_operand:SI 0 \"register_operand\" \"=l\")\n@@ -2515,7 +2516,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (SImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   if (TARGET_CHECK_RANGE_DIV)\n@@ -2558,7 +2559,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (DImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   if (TARGET_CHECK_RANGE_DIV)\n@@ -2601,7 +2602,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (SImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   if (TARGET_CHECK_RANGE_DIV)\n@@ -2644,7 +2645,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (DImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   if (TARGET_CHECK_RANGE_DIV)\n@@ -2687,7 +2688,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (SImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   \n@@ -2721,7 +2722,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (DImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   \n@@ -2755,7 +2756,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (SImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   \n@@ -2789,7 +2790,7 @@\n   if (!TARGET_NO_CHECK_ZERO_DIV)\n     {\n       emit_insn (gen_div_trap (operands[2],\n-\t\t\t       copy_to_mode_reg (DImode, GEN_INT (0)),\n+\t\t\t       GEN_INT (0),\n \t\t\t       GEN_INT (0x7)));\n     }\n   "}]}