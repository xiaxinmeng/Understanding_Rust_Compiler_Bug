{"sha": "1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWU3OTY1ZDg5ZWUyYjA0OTU2ZjYyYTBmMjNhYWQ3YjRmYzRhMzVjMQ==", "commit": {"author": {"name": "H.J. Lu", "email": "hongjiu.lu@intel.com", "date": "2010-11-26T15:14:20Z"}, "committer": {"name": "H.J. Lu", "email": "hjl@gcc.gnu.org", "date": "2010-11-26T15:14:20Z"}, "message": "Add a testcase for PR tree-optimization/46665.\n\n2010-11-26  H.J. Lu  <hongjiu.lu@intel.com>\n\n\tPR tree-optimization/46665\n\t* gfortran.dg/pr46665.f90: New.\n\nFrom-SVN: r167179", "tree": {"sha": "8bab8726ef4dba980eff0181c0962b5b089b0673", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8bab8726ef4dba980eff0181c0962b5b089b0673"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1/comments", "author": {"login": "hjl-tools", "id": 1072356, "node_id": "MDQ6VXNlcjEwNzIzNTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1072356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hjl-tools", "html_url": "https://github.com/hjl-tools", "followers_url": "https://api.github.com/users/hjl-tools/followers", "following_url": "https://api.github.com/users/hjl-tools/following{/other_user}", "gists_url": "https://api.github.com/users/hjl-tools/gists{/gist_id}", "starred_url": "https://api.github.com/users/hjl-tools/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hjl-tools/subscriptions", "organizations_url": "https://api.github.com/users/hjl-tools/orgs", "repos_url": "https://api.github.com/users/hjl-tools/repos", "events_url": "https://api.github.com/users/hjl-tools/events{/privacy}", "received_events_url": "https://api.github.com/users/hjl-tools/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "41c8e948dd25f710e7d5f49cd37170d9b3af942d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/41c8e948dd25f710e7d5f49cd37170d9b3af942d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/41c8e948dd25f710e7d5f49cd37170d9b3af942d"}], "stats": {"total": 41, "additions": 41, "deletions": 0}, "files": [{"sha": "fbbee38fe1dd53d4fa11d59321256890e70e2b62", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1", "patch": "@@ -1,3 +1,8 @@\n+2010-11-26  H.J. Lu  <hongjiu.lu@intel.com>\n+\n+\tPR tree-optimization/46665\n+\t* gfortran.dg/pr46665.f90: New.\n+\n 2010-11-26  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR middle-end/46647"}, {"sha": "c59e7eaf5d8f301ed5208784bea7bc304aa4ac42", "filename": "gcc/testsuite/gfortran.dg/pr46665.f90", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr46665.f90", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr46665.f90", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgfortran.dg%2Fpr46665.f90?ref=1e7965d89ee2b04956f62a0f23aad7b4fc4a35c1", "patch": "@@ -0,0 +1,36 @@\n+! { dg-do run }\n+! { dg-options \"-fipa-pta -fno-tree-ccp -fno-tree-forwprop -g\" }\n+\n+program main\n+  implicit none\n+  call test ((/ 3, 4, 5 /), f ((/ 3, 4, 5 /)))\n+contains\n+  subroutine test (expected, x)\n+    integer, dimension (:,:,:) :: x\n+    integer, dimension (3) :: expected\n+    integer :: i, i1, i2, i3\n+    do i = 1, 3\n+      if (size (x, i) .ne. expected (i)) call abort\n+    end do\n+    do i1 = 1, expected (1)\n+      do i2 = 1, expected (2)\n+        do i3 = 1, expected (3)\n+          if (x (i1, i2, i3) .ne. i1 + i2 * 10 + i3 * 100) call abort\n+        end do\n+      end do\n+    end do\n+  end subroutine test\n+\n+  function f (x)\n+    integer, dimension (3) :: x\n+    integer, dimension (x(1), x(2), x(3)) :: f\n+    integer :: i1, i2, i3\n+    do i1 = 1, x(1)\n+      do i2 = 1, x(2)\n+        do i3 = 1, x(3)\n+          f (i1, i2, i3) = i1 + i2 * 10 + i3 * 100\n+        end do\n+      end do\n+    end do\n+  end function f\n+end program main"}]}