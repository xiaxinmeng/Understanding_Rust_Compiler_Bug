{"sha": "10c1d4af2f3020e5ed8ff7356f06802668e78324", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTBjMWQ0YWYyZjMwMjBlNWVkOGZmNzM1NmYwNjgwMjY2OGU3ODMyNA==", "commit": {"author": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-05-31T08:58:47Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2007-05-31T08:58:47Z"}, "message": "re PR c++/32158 (uninitialized_fill compile failure if no default assignment operator)\n\ngcc/cp\n2007-05-31  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/32158\n\t* semantics.c (finish_trait_expr): Complete the types.\n\ngcc/testsuite\n2007-05-31  Paolo Carlini  <pcarlini@suse.de>\n\n\tPR c++/32158\n\t* g++.dg/ext/is_pod_incomplete.C: New.\n\nFrom-SVN: r125217", "tree": {"sha": "2f93032e385e7877b9039accd370b84fd24d6dfc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f93032e385e7877b9039accd370b84fd24d6dfc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/10c1d4af2f3020e5ed8ff7356f06802668e78324", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10c1d4af2f3020e5ed8ff7356f06802668e78324", "html_url": "https://github.com/Rust-GCC/gccrs/commit/10c1d4af2f3020e5ed8ff7356f06802668e78324", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/10c1d4af2f3020e5ed8ff7356f06802668e78324/comments", "author": null, "committer": null, "parents": [{"sha": "fdecbf80705f71143b2ef3e598067b582be95903", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/fdecbf80705f71143b2ef3e598067b582be95903", "html_url": "https://github.com/Rust-GCC/gccrs/commit/fdecbf80705f71143b2ef3e598067b582be95903"}], "stats": {"total": 26, "additions": 24, "deletions": 2}, "files": [{"sha": "885af4fd57360ccd13afb2477ab47676e7919113", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=10c1d4af2f3020e5ed8ff7356f06802668e78324", "patch": "@@ -1,3 +1,8 @@\n+2007-05-31  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/32158\n+\t* semantics.c (finish_trait_expr): Complete the types.\n+\n 2007-05-30  Russell Yanofsky <russ@yanofsky.org>\n             Douglas Gregor <doug.gregor@gmail.com>\n             Pedro Lamarao <pedro.lamarao@mndfck.org>"}, {"sha": "4a9ea8c029464279eaaf003d4e7ba2de2e874899", "filename": "gcc/cp/semantics.c", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Fcp%2Fsemantics.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Fcp%2Fsemantics.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fsemantics.c?ref=10c1d4af2f3020e5ed8ff7356f06802668e78324", "patch": "@@ -4177,11 +4177,15 @@ finish_trait_expr (cp_trait_kind kind, tree type1, tree type2)\n       return trait_expr;\n     }\n \n+  complete_type (type1);\n+  if (type2)\n+    complete_type (type2);\n+\n   /* The only required diagnostic.  */\n   if (kind == CPTK_IS_BASE_OF\n       && NON_UNION_CLASS_TYPE_P (type1) && NON_UNION_CLASS_TYPE_P (type2)\n       && !same_type_ignoring_top_level_qualifiers_p (type1, type2)\n-      && !COMPLETE_TYPE_P (complete_type (type2)))\n+      && !COMPLETE_TYPE_P (type2))\n     {\n       error (\"incomplete type %qT not allowed\", type2);\n       return error_mark_node;"}, {"sha": "70853cd119bfd1450c2e92af1eda7b1b47774c8f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=10c1d4af2f3020e5ed8ff7356f06802668e78324", "patch": "@@ -1,4 +1,9 @@\n-2007-05-31  Paul Thomas  <pault@gcc.gnu.org>\r\r\tPR fortran/32103\r\t* gfortran.dg/module_equivalence_3.f90: New test.\r\r2007-05-30  Russell Yanofsky <russ@yanofsky.org>\n+2007-05-31  Paolo Carlini  <pcarlini@suse.de>\n+\n+\tPR c++/32158\n+\t* g++.dg/ext/is_pod_incomplete.C: New.\n+\n+2007-05-31  Russell Yanofsky <russ@yanofsky.org>\n             Douglas Gregor <doug.gregor@gmail.com>\n             Pedro Lamarao <pedro.lamarao@mndfck.org>\n             Howard Hinnant <howard.hinnant@gmail.com>"}, {"sha": "a30ab1fdd6de0194ce7416b9dee9eb898337ec0a", "filename": "gcc/testsuite/g++.dg/ext/is_pod_incomplete.C", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fis_pod_incomplete.C", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/10c1d4af2f3020e5ed8ff7356f06802668e78324/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fis_pod_incomplete.C", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fg%2B%2B.dg%2Fext%2Fis_pod_incomplete.C?ref=10c1d4af2f3020e5ed8ff7356f06802668e78324", "patch": "@@ -0,0 +1,8 @@\n+// PR c++/32158\n+template<typename T>\n+  struct A\n+  {\n+    A() { }\n+  };\n+\n+int t[__is_pod(A<int>)?-1:1];"}]}