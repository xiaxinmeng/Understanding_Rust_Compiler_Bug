{"sha": "4669036917f42b1cdbf4ef2e4440648e8891f289", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NDY2OTAzNjkxN2Y0MmIxY2RiZjRlZjJlNDQ0MDY0OGU4ODkxZjI4OQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2002-07-21T19:38:08Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2002-07-21T19:38:08Z"}, "message": "gcse.c (do_local_cprop): Do not extend lifetimes of registers set by do_local_cprop.\n\n\n\t* gcse.c (do_local_cprop): Do not extend lifetimes of registers set by\n\tdo_local_cprop.\n\nFrom-SVN: r55626", "tree": {"sha": "e5d26e074b1d30e38ff9d762813992c901f36622", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/e5d26e074b1d30e38ff9d762813992c901f36622"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/4669036917f42b1cdbf4ef2e4440648e8891f289", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4669036917f42b1cdbf4ef2e4440648e8891f289", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4669036917f42b1cdbf4ef2e4440648e8891f289", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4669036917f42b1cdbf4ef2e4440648e8891f289/comments", "author": null, "committer": null, "parents": [{"sha": "60ffc1b8165aa3fbd6d26880a56451970c116bcb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60ffc1b8165aa3fbd6d26880a56451970c116bcb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60ffc1b8165aa3fbd6d26880a56451970c116bcb"}], "stats": {"total": 16, "additions": 15, "deletions": 1}, "files": [{"sha": "0f5b87b1305252409cb9aa879ed15354c7c4335d", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4669036917f42b1cdbf4ef2e4440648e8891f289/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4669036917f42b1cdbf4ef2e4440648e8891f289/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=4669036917f42b1cdbf4ef2e4440648e8891f289", "patch": "@@ -1,3 +1,8 @@\n+Sun Jul 21 21:36:41 CEST 2002  Jan Hubicka  <jh@suse.cz>\n+\n+\t* gcse.c (do_local_cprop): Do not extend lifetimes of registers set by\n+\tdo_local_cprop.\n+\n 2002-07-21  Andreas Jaeger  <aj@suse.de>\n \n         * reload1.c (fixup_abnormal_edges): Remove unused variable."}, {"sha": "7fdcdea2a6c547bc75794cc766122e2eae3fd1f0", "filename": "gcc/gcse.c", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/4669036917f42b1cdbf4ef2e4440648e8891f289/gcc%2Fgcse.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/4669036917f42b1cdbf4ef2e4440648e8891f289/gcc%2Fgcse.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgcse.c?ref=4669036917f42b1cdbf4ef2e4440648e8891f289", "patch": "@@ -4312,9 +4312,18 @@ do_local_cprop (x, insn, alter_jumps)\n       for (l = val->locs; l; l = l->next)\n \t{\n \t  rtx this_rtx = l->loc;\n+\t  rtx note;\n+\n \t  if (CONSTANT_P (this_rtx))\n \t    newcnst = this_rtx;\n-\t  if (REG_P (this_rtx) && REGNO (this_rtx) >= FIRST_PSEUDO_REGISTER)\n+\t  if (REG_P (this_rtx) && REGNO (this_rtx) >= FIRST_PSEUDO_REGISTER\n+\t      /* Don't copy propagate if it has attached REG_EQUIV note.\n+\t\t At this point this only function parameters should have\n+\t\t REG_EQUIV notes and if the argument slot is used somewhere\n+\t\t explicitly, it means address of parameter has been taken,\n+\t\t so we should not extend the lifetime of the pseudo.  */\n+\t      && (!(note = find_reg_note (l->setting_insn, REG_EQUIV, NULL_RTX))\n+\t\t  || GET_CODE (XEXP (note, 0)) != MEM))\n \t    newreg = this_rtx;\n \t}\n       if (newcnst && constprop_register (insn, x, newcnst, alter_jumps))"}]}