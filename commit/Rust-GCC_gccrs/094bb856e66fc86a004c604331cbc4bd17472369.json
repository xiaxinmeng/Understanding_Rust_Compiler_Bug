{"sha": "094bb856e66fc86a004c604331cbc4bd17472369", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDk0YmI4NTZlNjZmYzg2YTAwNGM2MDQzMzFjYmM0YmQxNzQ3MjM2OQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2005-12-15T23:52:16Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2005-12-15T23:52:16Z"}, "message": "re PR rtl-optimization/25224 (ICE in initialize_original_copy_tables)\n\n\tPR rtl-optimization/25224\n\t* tree-ssa-loop-unswitch.c (tree_unswitch_single_loop): Free copy\n\ttables.\n\nFrom-SVN: r108606", "tree": {"sha": "b40d07b7efdcd9d96f951a5796b113221ad6be1e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/b40d07b7efdcd9d96f951a5796b113221ad6be1e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/094bb856e66fc86a004c604331cbc4bd17472369", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/094bb856e66fc86a004c604331cbc4bd17472369", "html_url": "https://github.com/Rust-GCC/gccrs/commit/094bb856e66fc86a004c604331cbc4bd17472369", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/094bb856e66fc86a004c604331cbc4bd17472369/comments", "author": null, "committer": null, "parents": [{"sha": "cb20f7e8750c4d765bd3d88718e17a624409722a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cb20f7e8750c4d765bd3d88718e17a624409722a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cb20f7e8750c4d765bd3d88718e17a624409722a"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "0690daa5b3f49a486281af9d2bcfca26a90aef10", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=094bb856e66fc86a004c604331cbc4bd17472369", "patch": "@@ -1,3 +1,9 @@\n+2005-12-16  Jan Hubicka  <jh@suse.cz>\n+\n+\tPR rtl-optimization/25224\n+\t* tree-ssa-loop-unswitch.c (tree_unswitch_single_loop): Free copy\n+\ttables.\n+\n 2005-12-15  Zdenek Dvorak <dvorakz@suse.cz>\n \t    Steven Bosscher <stevenb@suse.de>\n "}, {"sha": "ddc0b83b775ac9bef2b6aacba5d5a7093f9dee5a", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=094bb856e66fc86a004c604331cbc4bd17472369", "patch": "@@ -1,3 +1,7 @@\n+2005-12-16  Jan Hubicka  <jh@suse.cz>\n+\n+\t* gcc.c-torture/combine/pr25224.c: New.\n+\n 2005-12-15  Joseph S. Myers  <joseph@codesourcery.com>\n \n \tPR other/25028"}, {"sha": "0ccf0cdf333040f4fd2c820bfd80d8591d011867", "filename": "gcc/testsuite/gcc.c-torture/compile/pr25224.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr25224.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr25224.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fcompile%2Fpr25224.c?ref=094bb856e66fc86a004c604331cbc4bd17472369", "patch": "@@ -0,0 +1,20 @@\n+/* { dg-options \"-funswitch-loops\" } */\n+static float rgam;\n+extern void *jmp(void *);\n+\n+void drotmg(float d1) {\n+void *labels[] = { &&L170, &&L180, 0 };\n+\n+  for(;;) {\n+    goto *jmp(labels);\n+    if (d1 <= rgam)\n+      goto L170;\n+\n+L170:\n+    if (d1 <= rgam)\n+      goto L170;\n+  }\n+\n+L180:\n+  goto L170;\n+}"}, {"sha": "f8963548feeecd8220f016d72a2b9deb93ba646d", "filename": "gcc/tree-ssa-loop-unswitch.c", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2Ftree-ssa-loop-unswitch.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/094bb856e66fc86a004c604331cbc4bd17472369/gcc%2Ftree-ssa-loop-unswitch.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-ssa-loop-unswitch.c?ref=094bb856e66fc86a004c604331cbc4bd17472369", "patch": "@@ -253,7 +253,10 @@ tree_unswitch_single_loop (struct loops *loops, struct loop *loop, int num)\n   /* Unswitch the loop on this condition.  */\n   nloop = tree_unswitch_loop (loops, loop, bbs[i], cond);\n   if (!nloop)\n-    return changed;\n+    {\n+      free_original_copy_tables ();\n+      return changed;\n+    }\n \n   /* Update the SSA form after unswitching.  */\n   update_ssa (TODO_update_ssa);"}]}