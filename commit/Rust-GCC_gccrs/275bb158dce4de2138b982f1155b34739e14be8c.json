{"sha": "275bb158dce4de2138b982f1155b34739e14be8c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mjc1YmIxNThkY2U0ZGUyMTM4Yjk4MmYxMTU1YjM0NzM5ZTE0YmU4Yw==", "commit": {"author": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-22T22:40:53Z"}, "committer": {"name": "Richard Stallman", "email": "rms@gnu.org", "date": "1992-11-22T22:40:53Z"}, "message": "(FUNCTION_PROFILER): Complete replacement.\n\nFrom-SVN: r2776", "tree": {"sha": "55ada5296ae1e00c48ad08d7b965554c2437c72a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/55ada5296ae1e00c48ad08d7b965554c2437c72a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/275bb158dce4de2138b982f1155b34739e14be8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/275bb158dce4de2138b982f1155b34739e14be8c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/275bb158dce4de2138b982f1155b34739e14be8c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/275bb158dce4de2138b982f1155b34739e14be8c/comments", "author": null, "committer": null, "parents": [{"sha": "3418a1da8baf5d6c8d86d9853a5cecaefd734eb1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3418a1da8baf5d6c8d86d9853a5cecaefd734eb1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3418a1da8baf5d6c8d86d9853a5cecaefd734eb1"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "312c205575b827f704b17bc586672a329775c4f7", "filename": "gcc/config/m68k/hp320.h", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/275bb158dce4de2138b982f1155b34739e14be8c/gcc%2Fconfig%2Fm68k%2Fhp320.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/275bb158dce4de2138b982f1155b34739e14be8c/gcc%2Fconfig%2Fm68k%2Fhp320.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm68k%2Fhp320.h?ref=275bb158dce4de2138b982f1155b34739e14be8c", "patch": "@@ -611,7 +611,12 @@ do{  if (PREFIX[0] == 'L' && PREFIX[1] == 'I')\t\t\\\n #else /* not HPUX_ASM */\n \n #undef FUNCTION_PROFILER\n-#define FUNCTION_PROFILER(FILE, LABELNO)  \\\n-   fprintf (FILE, \"\\tmovl #LP%d,d0\\n\\tjsr mcount\\n\", (LABELNO));\n+\n+/* HP-UX needs the call to mcount before the link instruction.\n+   Copy the return address onto the stack before the call to fake it out.  */\n+#define FUNCTION_PROFILER(FILE, LABEL_NO) \\\n+   fprintf (FILE, \"\\tmovel a6@(4),sp@-\\n\" \\\n+                  \"\\tmovl #LP%d,a0\\n\\tjsr mcount\\n\" \\\n+                  \"\\taddqw #4,sp\\n\", (LABEL_NO));\n \n #endif /* not HPUX_ASM */"}]}