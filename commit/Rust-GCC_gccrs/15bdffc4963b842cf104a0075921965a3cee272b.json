{"sha": "15bdffc4963b842cf104a0075921965a3cee272b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MTViZGZmYzQ5NjNiODQyY2YxMDRhMDA3NTkyMTk2NWEzY2VlMjcyYg==", "commit": {"author": {"name": "Pierre-Marie de Rodat", "email": "derodat@adacore.com", "date": "2018-12-11T11:09:13Z"}, "committer": {"name": "Pierre-Marie de Rodat", "email": "pmderodat@gcc.gnu.org", "date": "2018-12-11T11:09:13Z"}, "message": "[Ada] Document the -fgnat-encodings switch\n\n2018-12-11  Pierre-Marie de Rodat  <derodat@adacore.com>\n\ngcc/ada/\n\n\t* doc/gnat_ugn/building_executable_programs_with_gnat.rst:\n\tDocument the -fgnat-encodings switch.\n\t* gnat_ugn.texi: Regenerate.\n\nFrom-SVN: r266979", "tree": {"sha": "7ebcbd8578ba30e62df7eeda2883ef5bd4af6cec", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/7ebcbd8578ba30e62df7eeda2883ef5bd4af6cec"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/15bdffc4963b842cf104a0075921965a3cee272b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15bdffc4963b842cf104a0075921965a3cee272b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15bdffc4963b842cf104a0075921965a3cee272b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15bdffc4963b842cf104a0075921965a3cee272b/comments", "author": {"login": "pmderodat", "id": 758452, "node_id": "MDQ6VXNlcjc1ODQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/758452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmderodat", "html_url": "https://github.com/pmderodat", "followers_url": "https://api.github.com/users/pmderodat/followers", "following_url": "https://api.github.com/users/pmderodat/following{/other_user}", "gists_url": "https://api.github.com/users/pmderodat/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmderodat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmderodat/subscriptions", "organizations_url": "https://api.github.com/users/pmderodat/orgs", "repos_url": "https://api.github.com/users/pmderodat/repos", "events_url": "https://api.github.com/users/pmderodat/events{/privacy}", "received_events_url": "https://api.github.com/users/pmderodat/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "ad9741234fdd5794992d151d09cd10c03b9b91ab", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ad9741234fdd5794992d151d09cd10c03b9b91ab", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ad9741234fdd5794992d151d09cd10c03b9b91ab"}], "stats": {"total": 98, "additions": 97, "deletions": 1}, "files": [{"sha": "5ff08a54194bc24ac85993c0211a1f49e99c9197", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15bdffc4963b842cf104a0075921965a3cee272b/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15bdffc4963b842cf104a0075921965a3cee272b/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=15bdffc4963b842cf104a0075921965a3cee272b", "patch": "@@ -1,3 +1,9 @@\n+2018-12-11  Pierre-Marie de Rodat  <derodat@adacore.com>\n+\n+\t* doc/gnat_ugn/building_executable_programs_with_gnat.rst:\n+\tDocument the -fgnat-encodings switch.\n+\t* gnat_ugn.texi: Regenerate.\n+\n 2018-12-11  Justin Squirek  <squirek@adacore.com>\n \n \t* sem_ch10.adb (Analyze_Subunit): Modify conditional to fully"}, {"sha": "b5363dada9772580cd2e38fc0d3899b567c21c37", "filename": "gcc/ada/doc/gnat_ugn/building_executable_programs_with_gnat.rst", "status": "modified", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15bdffc4963b842cf104a0075921965a3cee272b/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15bdffc4963b842cf104a0075921965a3cee272b/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fdoc%2Fgnat_ugn%2Fbuilding_executable_programs_with_gnat.rst?ref=15bdffc4963b842cf104a0075921965a3cee272b", "patch": "@@ -1243,6 +1243,13 @@ Alphabetical List of All Switches\n   :file:`scos.adb`.\n \n \n+.. index:: -fgnat-encodings  (gcc)\n+\n+:switch:`-fgnat-encodings=[all|gdb|minimal]`\n+  This switch controls the balance between GNAT encodings and standard DWARF\n+  emitted in the debug information.\n+\n+\n .. index:: -flto  (gcc)\n \n :switch:`-flto[={n}]`\n@@ -5915,6 +5922,36 @@ Debugging Control\n   suppresses this information. This saves some space and may slightly\n   speed up compilation, but means that these tools cannot be used.\n \n+\n+.. index:: -fgnat-encodings  (gcc)\n+\n+:switch:`-fgnat-encodings=[all|gdb|minimal]`\n+  This switch controls the balance between GNAT encodings and standard DWARF\n+  emitted in the debug information.\n+\n+  Historically, old debug formats like stabs were not powerful enough to\n+  express some Ada types (for instance, variant records or fixed-point types).\n+  To work around this, GNAT introduced proprietary encodings that embed the\n+  missing information (\"GNAT encodings\").\n+\n+  Recent versions of the DWARF debug information format are now able to\n+  correctly describe most of these Ada constructs (\"standard DWARF\"). As\n+  third-party tools started to use this format, GNAT has been enhanced to\n+  generate it. However, most tools (including GDB) are still relying on GNAT\n+  encodings.\n+\n+  To support all tools, GNAT needs to be versatile about the balance between\n+  generation of GNAT encodings and standard DWARF. This is what\n+  :switch:`-fgnat-encodings` is about.\n+\n+  * ``=all``: Emit all GNAT encodings, and then emit as much standard DWARF as\n+    possible so it does not conflict with GNAT encodings.\n+  * ``=gdb``: Emit as much standard DWARF as possible as long as the current\n+    GDB handles it. Emit GNAT encodings for the rest.\n+  * ``=minimal``: Emit as much standard DWARF as possible and emit GNAT\n+    encodings for the rest.\n+\n+\n .. _Exception_Handling_Control:\n \n Exception Handling Control"}, {"sha": "9e2138e9cf7b897e93afb09e2ede10cd9250c66d", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 54, "deletions": 1, "changes": 55, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/15bdffc4963b842cf104a0075921965a3cee272b/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/15bdffc4963b842cf104a0075921965a3cee272b/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=15bdffc4963b842cf104a0075921965a3cee272b", "patch": "@@ -21,7 +21,7 @@\n \n @copying\n @quotation\n-GNAT User's Guide for Native Platforms , Nov 09, 2018\n+GNAT User's Guide for Native Platforms , Dec 05, 2018\n \n AdaCore\n \n@@ -8809,6 +8809,17 @@ in the compiler sources for details in files @code{scos.ads} and\n @code{scos.adb}.\n @end table\n \n+@geindex -fgnat-encodings (gcc)\n+\n+\n+@table @asis\n+\n+@item @code{-fgnat-encodings=[all|gdb|minimal]}\n+\n+This switch controls the balance between GNAT encodings and standard DWARF\n+emitted in the debug information.\n+@end table\n+\n @geindex -flto (gcc)\n \n \n@@ -15174,6 +15185,48 @@ suppresses this information. This saves some space and may slightly\n speed up compilation, but means that these tools cannot be used.\n @end table\n \n+@geindex -fgnat-encodings (gcc)\n+\n+\n+@table @asis\n+\n+@item @code{-fgnat-encodings=[all|gdb|minimal]}\n+\n+This switch controls the balance between GNAT encodings and standard DWARF\n+emitted in the debug information.\n+\n+Historically, old debug formats like stabs were not powerful enough to\n+express some Ada types (for instance, variant records or fixed-point types).\n+To work around this, GNAT introduced proprietary encodings that embed the\n+missing information (\"GNAT encodings\").\n+\n+Recent versions of the DWARF debug information format are now able to\n+correctly describe most of these Ada constructs (\"standard DWARF\"). As\n+third-party tools started to use this format, GNAT has been enhanced to\n+generate it. However, most tools (including GDB) are still relying on GNAT\n+encodings.\n+\n+To support all tools, GNAT needs to be versatile about the balance between\n+generation of GNAT encodings and standard DWARF. This is what\n+@code{-fgnat-encodings} is about.\n+\n+\n+@itemize *\n+\n+@item \n+@code{=all}: Emit all GNAT encodings, and then emit as much standard DWARF as\n+possible so it does not conflict with GNAT encodings.\n+\n+@item \n+@code{=gdb}: Emit as much standard DWARF as possible as long as the current\n+GDB handles it. Emit GNAT encodings for the rest.\n+\n+@item \n+@code{=minimal}: Emit as much standard DWARF as possible and emit GNAT\n+encodings for the rest.\n+@end itemize\n+@end table\n+\n @node Exception Handling Control,Units to Sources Mapping Files,Debugging Control,Compiler Switches\n @anchor{gnat_ugn/building_executable_programs_with_gnat id28}@anchor{114}@anchor{gnat_ugn/building_executable_programs_with_gnat exception-handling-control}@anchor{115}\n @subsection Exception Handling Control"}]}