{"sha": "1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MWExZTZhOWQ0YTFjOGNmYjhhZWY0ZDdmMThmZTRjNjg0NDRmOTMxNw==", "commit": {"author": {"name": "Fariborz Jahanian", "email": "fjahanian@apple.com", "date": "2005-08-24T18:22:12Z"}, "committer": {"name": "Fariborz Jahanian", "email": "fjahanian@gcc.gnu.org", "date": "2005-08-24T18:22:12Z"}, "message": "Define __PIC__ for darwin targets.\n\nOKed by Mike Stump.\n\nFrom-SVN: r103447", "tree": {"sha": "ded4a0527da18fb1860de81c2bc1e0f27467e8fb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ded4a0527da18fb1860de81c2bc1e0f27467e8fb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/comments", "author": null, "committer": null, "parents": [{"sha": "130869aa4280e1cfc0088c889dd96a93319b9941", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/130869aa4280e1cfc0088c889dd96a93319b9941", "html_url": "https://github.com/Rust-GCC/gccrs/commit/130869aa4280e1cfc0088c889dd96a93319b9941"}], "stats": {"total": 25, "additions": 25, "deletions": 0}, "files": [{"sha": "26ea0debe955b7eb7bf77c4886e1266b2320c07f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "patch": "@@ -1,3 +1,9 @@\n+2005-08-24  Fariborz Jahanian <fjahanian@apple.com>\n+\n+\t* config/darwin.h: define __PIC__\n+\t* config/rs6000/darwin.h: Add SUBTARGET_OS_CPP_BUILTINS to\n+\tTARGET_OS_CPP_BUILTINS macro.\n+\n 2005-08-24  Paolo Bonzini  <bonzini@gnu.org>\n \n \t* config/rs6000/rs6000.md: Fix thinko in the peephole2 I added"}, {"sha": "08abfbe10009d4f4ee35cac8826e93eb5dcf0223", "filename": "gcc/config/darwin.h", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2Fconfig%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2Fconfig%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.h?ref=1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "patch": "@@ -140,6 +140,14 @@ Boston, MA 02110-1301, USA.  */\n   { \"-unexported_symbols_list\", \"-Zunexported_symbols_list\" }, \\\n   SUBTARGET_OPTION_TRANSLATE_TABLE\n \n+#define SUBTARGET_OS_CPP_BUILTINS()                     \\\n+  do\t\t\t\t\t\t\t\\\n+    {\t\t\t\t\t\t\t\\\n+      if (flag_pic)\t\t\t\t\t\\\n+\tbuiltin_define (\"__PIC__\");\t\t\t\\\n+    }\t\t\t\t\t\t\t\\\n+  while (0)\n+\n /* These compiler options take n arguments.  */\n \n #undef  WORD_SWITCH_TAKES_ARG"}, {"sha": "ef1532d776f2f811949140163442b9614f4ec4d5", "filename": "gcc/config/rs6000/darwin.h", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2Fconfig%2Frs6000%2Fdarwin.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Fdarwin.h?ref=1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "patch": "@@ -55,6 +55,7 @@\n       builtin_define (\"__POWERPC__\");           \\\n       builtin_define (\"__NATURAL_ALIGNMENT__\"); \\\n       darwin_cpp_builtins (pfile);\t\t\\\n+      SUBTARGET_OS_CPP_BUILTINS ();             \\\n     }                                           \\\n   while (0)\n "}, {"sha": "7bda6fedfef7d5143e20b6f7bd0bd054b12f0532", "filename": "gcc/testsuite/gcc.dg/pic-macro-define.c", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2Ftestsuite%2Fgcc.dg%2Fpic-macro-define.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317/gcc%2Ftestsuite%2Fgcc.dg%2Fpic-macro-define.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Fpic-macro-define.c?ref=1a1e6a9d4a1c8cfb8aef4d7f18fe4c68444f9317", "patch": "@@ -0,0 +1,10 @@\n+/* { dg-do run { target \"i?86-*-*-darwin\" powerpc*-*-darwin* } } */\n+/* { dg-options \"-fPIC\" } */\n+\n+#if defined __PIC__ \n+int main() {\n+\treturn 0;\n+}\n+#else\n+  error \"NO __PIC__ DEFINED\"\t\n+#endif"}]}