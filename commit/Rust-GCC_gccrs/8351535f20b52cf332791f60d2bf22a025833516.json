{"sha": "8351535f20b52cf332791f60d2bf22a025833516", "node_id": "C_kwDOANBUbNoAKDgzNTE1MzVmMjBiNTJjZjMzMjc5MWY2MGQyYmYyMmEwMjU4MzM1MTY", "commit": {"author": {"name": "Christoph M\u00fcllner", "email": "christoph.muellner@vrull.eu", "date": "2022-10-06T11:18:25Z"}, "committer": {"name": "Philipp Tomsich", "email": "philipp.tomsich@vrull.eu", "date": "2023-03-15T08:56:21Z"}, "message": "riscv: Add basic XThead* vendor extension support\n\nThis patch add basic support for the following XThead* ISA extensions:\n\n* XTheadBa\n* XTheadBb\n* XTheadBs\n* XTheadCmo\n* XTheadCondMov\n* XTheadFMemIdx\n* XTheadFmv\n* XTheadInt\n* XTheadMac\n* XTheadMemIdx\n* XTheadMemPair\n* XTheadSync\n\nThe extensions are just recognized by the compiler and feature test\nmacros are generated (which this patch also brings tests for).\n\ngcc/ChangeLog:\n\n\t* common/config/riscv/riscv-common.cc: Add xthead* extensions.\n\t* config/riscv/riscv-opts.h (MASK_XTHEADBA): New.\n\t(MASK_XTHEADBB): New.\n\t(MASK_XTHEADBS): New.\n\t(MASK_XTHEADCMO): New.\n\t(MASK_XTHEADCONDMOV): New.\n\t(MASK_XTHEADFMEMIDX): New.\n\t(MASK_XTHEADFMV): New.\n\t(MASK_XTHEADINT): New.\n\t(MASK_XTHEADMAC): New.\n\t(MASK_XTHEADMEMIDX): New.\n\t(MASK_XTHEADMEMPAIR): New.\n\t(MASK_XTHEADSYNC): New.\n\t(TARGET_XTHEADBA): New.\n\t(TARGET_XTHEADBB): New.\n\t(TARGET_XTHEADBS): New.\n\t(TARGET_XTHEADCMO): New.\n\t(TARGET_XTHEADCONDMOV): New.\n\t(TARGET_XTHEADFMEMIDX): New.\n\t(TARGET_XTHEADFMV): New.\n\t(TARGET_XTHEADINT): New.\n\t(TARGET_XTHEADMAC): New.\n\t(TARGET_XTHEADMEMIDX): New.\n\t(TARGET_XTHEADMEMPAIR): new.\n\t(TARGET_XTHEADSYNC): New.\n\t* config/riscv/riscv.opt: Add riscv_xthead_subext.\n\ngcc/testsuite/ChangeLog:\n\n\t* gcc.target/riscv/xtheadba.c: New test.\n\t* gcc.target/riscv/xtheadbb.c: New test.\n\t* gcc.target/riscv/xtheadbs.c: New test.\n\t* gcc.target/riscv/xtheadcmo.c: New test.\n\t* gcc.target/riscv/xtheadcondmov.c: New test.\n\t* gcc.target/riscv/xtheadfmemidx.c: New test.\n\t* gcc.target/riscv/xtheadfmv.c: New test.\n\t* gcc.target/riscv/xtheadint.c: New test.\n\t* gcc.target/riscv/xtheadmac.c: New test.\n\t* gcc.target/riscv/xtheadmemidx.c: New test.\n\t* gcc.target/riscv/xtheadmempair.c: New test.\n\t* gcc.target/riscv/xtheadsync.c: New test.\n\nSigned-off-by: Christoph M\u00fcllner <christoph.muellner@vrull.eu>", "tree": {"sha": "2f58c55d553123798af116ad96e5d4c234de1edc", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/2f58c55d553123798af116ad96e5d4c234de1edc"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8351535f20b52cf332791f60d2bf22a025833516", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8351535f20b52cf332791f60d2bf22a025833516", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8351535f20b52cf332791f60d2bf22a025833516", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8351535f20b52cf332791f60d2bf22a025833516/comments", "author": {"login": "cmuellner", "id": 92810, "node_id": "MDQ6VXNlcjkyODEw", "avatar_url": "https://avatars.githubusercontent.com/u/92810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cmuellner", "html_url": "https://github.com/cmuellner", "followers_url": "https://api.github.com/users/cmuellner/followers", "following_url": "https://api.github.com/users/cmuellner/following{/other_user}", "gists_url": "https://api.github.com/users/cmuellner/gists{/gist_id}", "starred_url": "https://api.github.com/users/cmuellner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cmuellner/subscriptions", "organizations_url": "https://api.github.com/users/cmuellner/orgs", "repos_url": "https://api.github.com/users/cmuellner/repos", "events_url": "https://api.github.com/users/cmuellner/events{/privacy}", "received_events_url": "https://api.github.com/users/cmuellner/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ptomsich", "id": 14983582, "node_id": "MDQ6VXNlcjE0OTgzNTgy", "avatar_url": "https://avatars.githubusercontent.com/u/14983582?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ptomsich", "html_url": "https://github.com/ptomsich", "followers_url": "https://api.github.com/users/ptomsich/followers", "following_url": "https://api.github.com/users/ptomsich/following{/other_user}", "gists_url": "https://api.github.com/users/ptomsich/gists{/gist_id}", "starred_url": "https://api.github.com/users/ptomsich/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ptomsich/subscriptions", "organizations_url": "https://api.github.com/users/ptomsich/orgs", "repos_url": "https://api.github.com/users/ptomsich/repos", "events_url": "https://api.github.com/users/ptomsich/events{/privacy}", "received_events_url": "https://api.github.com/users/ptomsich/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9ae16db8cbb2c0ec8e8384ac38ce618f9af1e3a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a9ae16db8cbb2c0ec8e8384ac38ce618f9af1e3a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a9ae16db8cbb2c0ec8e8384ac38ce618f9af1e3a"}], "stats": {"total": 222, "additions": 222, "deletions": 0}, "files": [{"sha": "ef221be1eb1019b294b3c86f1f15c2e24be23660", "filename": "gcc/common/config/riscv/riscv-common.cc", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcommon%2Fconfig%2Friscv%2Friscv-common.cc?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -222,6 +222,19 @@ static const struct riscv_ext_version riscv_ext_version_table[] =\n   {\"svinval\", ISA_SPEC_CLASS_NONE, 1, 0},\n   {\"svnapot\", ISA_SPEC_CLASS_NONE, 1, 0},\n \n+  {\"xtheadba\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadbb\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadbs\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadcmo\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadcondmov\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadfmemidx\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadfmv\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadint\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadmac\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadmemidx\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadmempair\", ISA_SPEC_CLASS_NONE, 1, 0},\n+  {\"xtheadsync\", ISA_SPEC_CLASS_NONE, 1, 0},\n+\n   /* Terminate the list.  */\n   {NULL, ISA_SPEC_CLASS_NONE, 0, 0}\n };\n@@ -1248,6 +1261,19 @@ static const riscv_ext_flag_table_t riscv_ext_flag_table[] =\n   {\"svinval\", &gcc_options::x_riscv_sv_subext, MASK_SVINVAL},\n   {\"svnapot\", &gcc_options::x_riscv_sv_subext, MASK_SVNAPOT},\n \n+  {\"xtheadba\",      &gcc_options::x_riscv_xthead_subext, MASK_XTHEADBA},\n+  {\"xtheadbb\",      &gcc_options::x_riscv_xthead_subext, MASK_XTHEADBB},\n+  {\"xtheadbs\",      &gcc_options::x_riscv_xthead_subext, MASK_XTHEADBS},\n+  {\"xtheadcmo\",     &gcc_options::x_riscv_xthead_subext, MASK_XTHEADCMO},\n+  {\"xtheadcondmov\", &gcc_options::x_riscv_xthead_subext, MASK_XTHEADCONDMOV},\n+  {\"xtheadfmemidx\", &gcc_options::x_riscv_xthead_subext, MASK_XTHEADFMEMIDX},\n+  {\"xtheadfmv\",     &gcc_options::x_riscv_xthead_subext, MASK_XTHEADFMV},\n+  {\"xtheadint\",     &gcc_options::x_riscv_xthead_subext, MASK_XTHEADINT},\n+  {\"xtheadmac\",     &gcc_options::x_riscv_xthead_subext, MASK_XTHEADMAC},\n+  {\"xtheadmemidx\",  &gcc_options::x_riscv_xthead_subext, MASK_XTHEADMEMIDX},\n+  {\"xtheadmempair\", &gcc_options::x_riscv_xthead_subext, MASK_XTHEADMEMPAIR},\n+  {\"xtheadsync\",    &gcc_options::x_riscv_xthead_subext, MASK_XTHEADSYNC},\n+\n   {NULL, NULL, 0}\n };\n "}, {"sha": "cf0cd669be40c6249b828901fbf3fbf36ad33bb5", "filename": "gcc/config/riscv/riscv-opts.h", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Fconfig%2Friscv%2Friscv-opts.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Fconfig%2Friscv%2Friscv-opts.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv-opts.h?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -189,4 +189,30 @@ enum stack_protector_guard {\n    ? 0 \\\n    : 32 << (__builtin_popcount (riscv_zvl_flags) - 1))\n \n+#define MASK_XTHEADBA      (1 << 0)\n+#define MASK_XTHEADBB      (1 << 1)\n+#define MASK_XTHEADBS      (1 << 2)\n+#define MASK_XTHEADCMO     (1 << 3)\n+#define MASK_XTHEADCONDMOV (1 << 4)\n+#define MASK_XTHEADFMEMIDX (1 << 5)\n+#define MASK_XTHEADFMV     (1 << 6)\n+#define MASK_XTHEADINT     (1 << 7)\n+#define MASK_XTHEADMAC     (1 << 8)\n+#define MASK_XTHEADMEMIDX  (1 << 9)\n+#define MASK_XTHEADMEMPAIR (1 << 10)\n+#define MASK_XTHEADSYNC    (1 << 11)\n+\n+#define TARGET_XTHEADBA      ((riscv_xthead_subext & MASK_XTHEADBA) != 0)\n+#define TARGET_XTHEADBB      ((riscv_xthead_subext & MASK_XTHEADBB) != 0)\n+#define TARGET_XTHEADBS      ((riscv_xthead_subext & MASK_XTHEADBS) != 0)\n+#define TARGET_XTHEADCMO     ((riscv_xthead_subext & MASK_XTHEADCMO) != 0)\n+#define TARGET_XTHEADCONDMOV ((riscv_xthead_subext & MASK_XTHEADCONDMOV) != 0)\n+#define TARGET_XTHEADFMEMIDX ((riscv_xthead_subext & MASK_XTHEADFMEMIDX) != 0)\n+#define TARGET_XTHEADFMV     ((riscv_xthead_subext & MASK_XTHEADFMV) != 0)\n+#define TARGET_XTHEADINT     ((riscv_xthead_subext & MASK_XTHEADINT) != 0)\n+#define TARGET_XTHEADMAC     ((riscv_xthead_subext & MASK_XTHEADMAC) != 0)\n+#define TARGET_XTHEADMEMIDX  ((riscv_xthead_subext & MASK_XTHEADMEMIDX) != 0)\n+#define TARGET_XTHEADMEMPAIR ((riscv_xthead_subext & MASK_XTHEADMEMPAIR) != 0)\n+#define TARGET_XTHEADSYNC    ((riscv_xthead_subext & MASK_XTHEADSYNC) != 0)\n+\n #endif /* ! GCC_RISCV_OPTS_H */"}, {"sha": "ff1dd4ddd4ff1b396fb6960101fab9f5329eb322", "filename": "gcc/config/riscv/riscv.opt", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Fconfig%2Friscv%2Friscv.opt", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Fconfig%2Friscv%2Friscv.opt", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Friscv%2Friscv.opt?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -235,6 +235,9 @@ int riscv_zm_subext\n TargetVariable\n int riscv_sv_subext\n \n+TargetVariable\n+int riscv_xthead_subext\n+\n Enum\n Name(isa_spec_class) Type(enum riscv_isa_spec_class)\n Supported ISA specs (for use with the -misa-spec= option):"}, {"sha": "14cdb1ffe2eb538dbfe38ec679a8fdd9103e747c", "filename": "gcc/testsuite/gcc.target/riscv/xtheadba.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadba.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadba.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadba.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadba\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadba\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadba\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "66988abf22131b7e6fc005eef6dc2def1eb22b34", "filename": "gcc/testsuite/gcc.target/riscv/xtheadbb.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadbb.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadbb.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadbb.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadbb\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadbb\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadbb\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "808d7378a7beb6e03cc64a7f194f713e434c38c2", "filename": "gcc/testsuite/gcc.target/riscv/xtheadbs.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadbs.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadbs.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadbs.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadbs\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadbs\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadbs\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "eab8fef421cd31bbdaf61906c33e2e7b32bdb851", "filename": "gcc/testsuite/gcc.target/riscv/xtheadcmo.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadcmo.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadcmo.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadcmo.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadcmo\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadcmo\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadcmo\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "a239c3f9f46ed7288762bb524f33774462c626be", "filename": "gcc/testsuite/gcc.target/riscv/xtheadcondmov.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadcondmov.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadcondmov.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadcondmov.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadcondmov\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadcondmov\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadcondmov\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "e450c5e5c5ac9a8493ffc8906a0c1123b482c64e", "filename": "gcc/testsuite/gcc.target/riscv/xtheadfmemidx.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadfmemidx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadfmemidx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadfmemidx.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadfmemidx\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadfmemidx\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadfmemidx\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "e97e8f461f6eca1a286fd84570cfa99282790c22", "filename": "gcc/testsuite/gcc.target/riscv/xtheadfmv.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadfmv.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadfmv.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadfmv.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadfmv\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadfmv\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadfmv\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "ee6989a380ec13cc0b8da3be6daef567d81dc191", "filename": "gcc/testsuite/gcc.target/riscv/xtheadint.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadint.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadint.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadint.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadint\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadint\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadint\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "7c635407b3102f42802758d623bdb2fe04c4e36f", "filename": "gcc/testsuite/gcc.target/riscv/xtheadmac.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmac.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmac.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmac.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadmac\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadmac\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadmac\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "076eab00f54c2d02aa56bbc08641ba36e0c7f2d8", "filename": "gcc/testsuite/gcc.target/riscv/xtheadmemidx.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmemidx.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmemidx.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmemidx.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadmemidx\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadmemidx\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadmemidx\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}, {"sha": "5135d2175dc638d0f3f873fce687a697ecd00b8d", "filename": "gcc/testsuite/gcc.target/riscv/xtheadmempair.c", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmempair.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmempair.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadmempair.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,13 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadmempair\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadmempair\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadmempair\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}"}, {"sha": "835d60c96e9d2b491758c02fb423aa1412a4492d", "filename": "gcc/testsuite/gcc.target/riscv/xtheadsync.c", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadsync.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8351535f20b52cf332791f60d2bf22a025833516/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadsync.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Friscv%2Fxtheadsync.c?ref=8351535f20b52cf332791f60d2bf22a025833516", "patch": "@@ -0,0 +1,14 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-march=rv32gc_xtheadsync\" { target { rv32 } } } */\n+/* { dg-options \"-march=rv64gc_xtheadsync\" { target { rv64 } } } */\n+\n+#ifndef __riscv_xtheadsync\n+#error Feature macro not defined\n+#endif\n+\n+int\n+foo (int a)\n+{\n+  return a;\n+}\n+"}]}