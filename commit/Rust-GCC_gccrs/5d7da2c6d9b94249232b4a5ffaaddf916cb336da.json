{"sha": "5d7da2c6d9b94249232b4a5ffaaddf916cb336da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NWQ3ZGEyYzZkOWI5NDI0OTIzMmI0YTVmZmFhZGRmOTE2Y2IzMzZkYQ==", "commit": {"author": {"name": "Dave Brolley", "email": "brolley@cygnus.com", "date": "1998-12-09T12:47:28Z"}, "committer": {"name": "Dave Brolley", "email": "brolley@gcc.gnu.org", "date": "1998-12-09T12:47:28Z"}, "message": "c-lang.c: (parse_options,parse_in): Added.\n\nWed Dec  9 15:29:26 1998  Dave Brolley  <brolley@cygnus.com>\n\t* c-lang.c: (parse_options,parse_in): Added.\n\t(lang_init_options): Initialized cpplib here.\n\t* c-decl.c (parse_options,cpp_initialized): Removed.\n\t(c_decode_option): Move initialization of cpplib to\n\tlang_init_options.\n\nFrom-SVN: r24219", "tree": {"sha": "697603bcf069d435325380ad16d343f64b6291ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/697603bcf069d435325380ad16d343f64b6291ff"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/5d7da2c6d9b94249232b4a5ffaaddf916cb336da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d7da2c6d9b94249232b4a5ffaaddf916cb336da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/5d7da2c6d9b94249232b4a5ffaaddf916cb336da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/5d7da2c6d9b94249232b4a5ffaaddf916cb336da/comments", "author": null, "committer": null, "parents": [{"sha": "33964bf4af75b5e6de8ef1b51979a6d96032b54b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/33964bf4af75b5e6de8ef1b51979a6d96032b54b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/33964bf4af75b5e6de8ef1b51979a6d96032b54b"}], "stats": {"total": 31, "additions": 21, "deletions": 10}, "files": [{"sha": "93c15cb8b296080aca1ce7c57cc49f4dc5485b98", "filename": "gcc/ChangeLog", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d7da2c6d9b94249232b4a5ffaaddf916cb336da/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d7da2c6d9b94249232b4a5ffaaddf916cb336da/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=5d7da2c6d9b94249232b4a5ffaaddf916cb336da", "patch": "@@ -1,3 +1,15 @@\n+Wed Dec  9 15:29:26 1998  Dave Brolley  <brolley@cygnus.com>\n+\n+\t* objc/objc-act.c (cpp_initialized): Removed.\n+\t(lang_init_options): Initialize cpplib.\n+\t(lang_decode_option): Move initialization of cpplib to\n+\tlang_init_options.\n+\t* c-lang.c: (parse_options,parse_in): Added.\n+\t(lang_init_options): Initialized cpplib here.\n+\t* c-decl.c (parse_options,cpp_initialized): Removed.\n+\t(c_decode_option): Move initialization of cpplib to\n+\tlang_init_options.\n+\n Wed Dec  9 19:36:57 1998  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* reload1.c (reload_combine, reload_combine_note_store):"}, {"sha": "9066bea53bd0dfe8f68504a7c99bf518701d715d", "filename": "gcc/c-decl.c", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d7da2c6d9b94249232b4a5ffaaddf916cb336da/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d7da2c6d9b94249232b4a5ffaaddf916cb336da/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=5d7da2c6d9b94249232b4a5ffaaddf916cb336da", "patch": "@@ -37,9 +37,7 @@ Boston, MA 02111-1307, USA.  */\n \n #if USE_CPPLIB\n #include \"cpplib.h\"\n-extern cpp_reader  parse_in;\n-extern cpp_options parse_options;\n-static int cpp_initialized;\n+extern cpp_reader parse_in;\n #endif\n \n /* In grokdeclarator, distinguish syntactic contexts of declarators.  */\n@@ -615,13 +613,6 @@ c_decode_option (argc, argv)\n   int strings_processed;\n   char *p = argv[0];\n #if USE_CPPLIB\n-  if (! cpp_initialized)\n-    {\n-      cpp_reader_init (&parse_in);\n-      parse_in.opts = &parse_options;\n-      cpp_options_init (&parse_options);\n-      cpp_initialized = 1;\n-    }\n   strings_processed = cpp_handle_option (&parse_in, argc, argv);\n #else\n   strings_processed = 0;"}, {"sha": "ed2b9e46dbd85b77d26fbf32c0010bcd6cbefb26", "filename": "gcc/c-lang.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/5d7da2c6d9b94249232b4a5ffaaddf916cb336da/gcc%2Fc-lang.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/5d7da2c6d9b94249232b4a5ffaaddf916cb336da/gcc%2Fc-lang.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-lang.c?ref=5d7da2c6d9b94249232b4a5ffaaddf916cb336da", "patch": "@@ -29,7 +29,10 @@ Boston, MA 02111-1307, USA.  */\n #include \"output.h\"\n \n #if USE_CPPLIB\n+#include \"cpplib.h\"\n extern char *yy_cur;\n+extern cpp_reader  parse_in;\n+extern cpp_options parse_options;\n #endif\n \n /* Each of the functions defined here\n@@ -46,6 +49,11 @@ lang_decode_option (argc, argv)\n void\n lang_init_options ()\n {\n+#if USE_CPPLIB\n+  cpp_reader_init (&parse_in);\n+  parse_in.opts = &parse_options;\n+  cpp_options_init (&parse_options);\n+#endif\n }\n \n void"}]}