{"sha": "87ad679bfb5aecb457aab8e7abf6030b82a020d6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODdhZDY3OWJmYjVhZWNiNDU3YWFiOGU3YWJmNjAzMGI4MmEwMjBkNg==", "commit": {"author": {"name": "Bruce Korb", "email": "autogen@linuxbox.com", "date": "1999-12-29T22:59:16Z"}, "committer": {"name": "Bruce Korb", "email": "korbb@gcc.gnu.org", "date": "1999-12-29T22:59:16Z"}, "message": "C++ file type checking\n\nFrom-SVN: r31125", "tree": {"sha": "c4e23ad9f2c67f5888e05f1a4d0b688badf2042b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c4e23ad9f2c67f5888e05f1a4d0b688badf2042b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/87ad679bfb5aecb457aab8e7abf6030b82a020d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87ad679bfb5aecb457aab8e7abf6030b82a020d6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/87ad679bfb5aecb457aab8e7abf6030b82a020d6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/87ad679bfb5aecb457aab8e7abf6030b82a020d6/comments", "author": null, "committer": null, "parents": [{"sha": "ec6bfc9b7ca1e855c15cc9b6875f718a5850f060", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ec6bfc9b7ca1e855c15cc9b6875f718a5850f060", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ec6bfc9b7ca1e855c15cc9b6875f718a5850f060"}], "stats": {"total": 797, "additions": 428, "deletions": 369}, "files": [{"sha": "2781c1c0d26df9c49a81fb5d1ccd90f08893a401", "filename": "gcc/ChangeLog", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -1,3 +1,24 @@\n+\n+1999-12-29  Bruce Korb  <autogen@linuxbox.com>\n+\n+\t* fixinc/fixincl.c(wait_for_pid): sometimes a WSTOPSIG of zero is OK\n+\t* fixinc/fixincl.tpl(<hack>TEST_CT): Just do the existence test once\n+\t(<hack>_RE_CT): not needed\n+\t* fixinc/fixlib.c(is_cxx_header): moved from fixtests.c\n+\trewritten to scan the file text once only\n+\t\"template<...\" test added\n+\t* fixinc/fixlib.h(apply_fix_p_t): moved from fixtests.c\n+\t(is_cxx_header): declaration added\n+\t* fixinc/fixtests.c(is_cxx_header): removed\n+\t(apply_fix_p_t): removed\n+\t(double_slash_test): is_cxx_header is only called once now\n+\t* fixinc/hackshell.tpl: indexing the fixes is now done under DEBUG\n+\t* fixinc/inclhack.def(FIXINC_DEBUG): added for testing DEBUG state\n+\twithin the templates.\n+\tThe borken spelling of \"broken\" was fixed.\n+\t* fixinc/inclhack.tpl: The $VERBOSE level is used on various messages\n+\tThe default level depends on FIXINC_DEBUG.\n+\n 1999-12-29  Kaveh R. Ghazi  <ghazi@caip.rutgers.edu>\n \n \t* crtstuff.c: If !inhibit_libc, include stdlib.h/unistd.h."}, {"sha": "cdb12a66b622f8f75244df0ebc31a4bc8649e227", "filename": "gcc/fixinc/fixincl.c", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.c?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -433,16 +433,17 @@ wait_for_pid(child)\n       {\n         if (! WIFEXITED( status ))\n           {\n-            if (NOT_SILENT)\n-              fprintf (stderr, \"child process %d is hung on signal %d\\n\",\n-                       child, WSTOPSIG( status ));\n+            if (WSTOPSIG( status ) == 0)\n+              break;\n+\n+            fprintf (stderr, \"child process %d is hung on signal %d\\n\",\n+                     child, WSTOPSIG( status ));\n             exit (EXIT_FAILURE);\n           }\n         if (WEXITSTATUS( status ) != 0)\n           {\n-            if (NOT_SILENT)\n-              fprintf (stderr, \"child process %d exited with status %d\\n\",\n-                       child, WEXITSTATUS( status ));\n+            fprintf (stderr, \"child process %d exited with status %d\\n\",\n+                     child, WEXITSTATUS( status ));\n             exit (EXIT_FAILURE);\n           }\n         break; /* normal child completion */"}, {"sha": "7cfcdf621cc972aa0a52b3ed1e3e9ae3a0147d5a", "filename": "gcc/fixinc/fixincl.sh", "status": "modified", "additions": 46, "deletions": 16, "changes": 62, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.sh?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -34,8 +34,9 @@\n # Directory in which to store the results.\n # Fail if no arg to specify a directory for the output.\n if [ \"x$1\" = \"x\" ]\n-then echo fixincludes: no output directory specified\n-exit 1\n+then\n+  echo fixincludes: no output directory specified\n+  exit 1\n fi\n \n LIB=${1}\n@@ -54,6 +55,17 @@ else\n   }\n fi\n \n+if test -z \"$VERBOSE\"\n+then\n+  VERBOSE=2\n+  export VERBOSE\n+else\n+  case \"$VERBOSE\" in\n+  [0-9] ) : ;;\n+  * )  VERBOSE=3 ;;\n+  esac\n+fi\n+\n # Define what target system we're fixing.\n #\n if test -r ./Makefile; then\n@@ -96,7 +108,8 @@ case $LIB in\n     ;;\n esac\n \n-echo Fixing headers into ${LIB} for ${target_canonical} target\n+if test $VERBOSE -gt 0\n+then echo Fixing headers into ${LIB} for ${target_canonical} target ; fi\n \n # Determine whether this system has symbolic links.\n if ln -s X $LIB/ShouldNotExist 2>/dev/null; then\n@@ -131,7 +144,8 @@ INPUT=`${PWDCMD}`\n #\n # # # # # # # # # # # # # # # # # # # # #\n #\n-echo Finding directories and links to directories\n+if test $VERBOSE -gt 1\n+then echo Finding directories and links to directories ; fi\n \n # Find all directories and all symlinks that point to directories.\n # Put the list in $all_dirs.\n@@ -150,7 +164,8 @@ do\n   newdirs=\n   for d in $dirs\n   do\n-    echo \" Searching $INPUT/$d\"\n+    if test $VERBOSE -gt 1\n+    then echo \" Searching $INPUT/$d\" ; fi\n \n     # Find all directories under $d, relative to $d, excluding $d itself.\n     # (The /. is needed after $d in case $d is a symlink.)\n@@ -186,8 +201,10 @@ done\n # # # # # # # # # # # # # # # # # # # # #\n #\n dirs=\n-echo \"All directories (including links to directories):\"\n-echo $all_dirs\n+if test $VERBOSE -gt 2\n+then echo \"All directories (including links to directories):\"\n+     echo $all_dirs\n+fi\n \n for file in $all_dirs; do\n   rm -rf $LIB/$file\n@@ -205,7 +222,8 @@ mkdir $LIB/root\n treetops=\". ${LIB}\"\n \n if $LINKS; then\n-  echo 'Making symbolic directory links'\n+  if test $VERBOSE -gt 1\n+  then echo 'Making symbolic directory links' ; fi\n   cwd=`${PWDCMD}`\n \n   for sym_link in $search_dirs; do\n@@ -235,7 +253,8 @@ if $LINKS; then\n       # If a link points to ., make a similar link to .\n       #\n       if [ ${full_dest_dir} = ${cinput} ]; then\n-        echo ${sym_link} '->' . ': Making self link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' . ': Making self link' ; fi\n         rm -fr ${LIB}/${sym_link} > /dev/null 2>&1\n         ln -s . ${LIB}/${sym_link} > /dev/null 2>&1\n \n@@ -248,7 +267,8 @@ if $LINKS; then\n         # DOTS is the relative path from ${LIB}/${sym_link} back to ${LIB}.\n         dots=`echo \"${sym_link}\" |\n           sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n-        echo ${sym_link} '->' $dots$y ': Making local link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' $dots$y ': Making local link' ; fi\n         rm -fr ${LIB}/${sym_link} > /dev/null 2>&1\n         ln -s $dots$y ${LIB}/${sym_link} > /dev/null 2>&1\n \n@@ -258,7 +278,9 @@ if $LINKS; then\n         # and process $target into ${INPUT}/root$target\n         # treat this directory as if it actually contained the files.\n         #\n-        echo ${sym_link} '->' root${full_dest_dir} ': Making rooted link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' root${full_dest_dir} ': Making rooted link'\n+        fi\n         if [ -d $LIB/root${full_dest_dir} ]\n         then true\n         else\n@@ -282,7 +304,8 @@ if $LINKS; then\n             ${sym_link}/*)\n               dupdir=${LIB}/root${full_dest_dir}/`echo $file2 |\n                       sed -n \"s|^${sym_link}/||p\"`\n-              echo \"Duplicating ${sym_link}'s ${dupdir}\"\n+              if test $VERBOSE -gt 2\n+              then echo \"Duplicating ${sym_link}'s ${dupdir}\" ; fi\n               if [ -d ${dupdir} ]\n               then true\n               else\n@@ -337,7 +360,8 @@ while [ $# != 0 ]; do\n   then continue ; fi\n \n   touch ${DESTDIR}/DONE\n-  echo Fixing directory ${SRCDIR} into ${DESTDIR}\n+  if test $VERBOSE -gt 1\n+  then echo Fixing directory ${SRCDIR} into ${DESTDIR} ; fi\n \n   # Check files which are symlinks as well as those which are files.\n   #\n@@ -371,7 +395,8 @@ while [ $# != 0 ]; do\n         cp $2 $3 >/dev/null 2>&1 || echo \"Can't copy $2\" >&2\n         chmod +w $3 2>/dev/null\n         chmod a+r $3 2>/dev/null\n-        echo Copied $2\n+        if test $VERBOSE -gt 2\n+        then echo Copied $2 ; fi\n         for include in `egrep '^[ \t]*#[ \t]*include[ \t]*\"[^/]' $3 |\n              sed -e 's/^[ \t]*#[ \t]*include[ \t]*\"\\([^\"]*\\)\".*$/\\1/'`\n         do\n@@ -387,17 +412,22 @@ while [ $# != 0 ]; do\n   shift\n done\n \n-echo 'Cleaning up DONE files.'\n+if test $VERBOSE -gt 2\n+then echo 'Cleaning up DONE files.' ; fi\n cd $LIB\n find . -name DONE -exec rm -f '{}' ';'\n \n-echo 'Removing unneeded directories:'\n+if test $VERBOSE -gt 1\n+then echo 'Cleaning up unneeded directories:' ; fi\n cd $LIB\n all_dirs=`find . -type d \\! -name '.' -print | sort -r`\n for file in $all_dirs; do\n   rmdir $LIB/$file > /dev/null 2>&1\n done\n \n+if test $VERBOSE -gt 0\n+then echo fixincludes is done ; fi\n+\n # # # # # # # # # # # # # # # # # # # # #\n #\n # End of for INPUT directories"}, {"sha": "bbe76e0dba342e9da2d9c794f590bb1e2dd5308a", "filename": "gcc/fixinc/fixincl.tpl", "status": "modified", "additions": 10, "deletions": 17, "changes": 27, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.tpl?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -125,24 +125,18 @@ tSCC z[=hackname _cap=]FTst[=_eval _index=][] = \"[=c_test=]\";[=\n #define    [=hackname _up =]_TEST_CT  [=\n     _IF exesel _exist =][=\n        _eval exesel       _count\n-      \t     bypass       _count +\n-      \t     test         _count + \n-      \t     c_test       _count + =][=\n+             bypass       _count +\n+             test         _count + \n+             c_test       _count +\n+        \"ct=%d ; re_ct=`expr $ct + $re_ct` ; echo $ct\"\n+        _printf _shell =][=\n     _ELSE =][=\n        _eval select       _count\n-      \t     bypass       _count +\n-      \t     test         _count + \n-      \t     c_test       _count + =][=\n-    _ENDIF =]\n-#define    [=hackname _up =]_RE_CT    [=\n-    _IF exesel _exist =][=\n-       _eval exesel _count bypass _count\n-             \"#2$ct=`expr %d + %d` ; re_ct=`expr $ct + $re_ct` ; echo $ct\"\n-             _printf _shell =][=\n-    _ELSE =][=\n-       _eval select _count bypass _count\n-             \"#2$ct=`expr %d + %d` ; re_ct=`expr $ct + $re_ct` ; echo $ct\"\n-             _printf _shell =][=\n+             bypass       _count +\n+             test         _count + \n+             c_test       _count +\n+        \"ct=%d ; re_ct=`expr $ct + $re_ct` ; echo $ct\"\n+        _printf _shell =][=\n     _ENDIF =]\n tTestDesc a[=hackname _cap=]Tests[] = {[=\n \n@@ -173,7 +167,6 @@ tTestDesc a[=hackname _cap=]Tests[] = {[=\n     _ENDIF =] };[=\n   _ELSE =]\n #define [=hackname _up=]_TEST_CT  0\n-#define [=hackname _up=]_RE_CT    0\n #define a[=hackname _cap=]Tests   (tTestDesc*)NULL[=\n   _ENDIF =]\n "}, {"sha": "ed4e1b61b998cba47b6a54a32035984b389011ab", "filename": "gcc/fixinc/fixincl.x", "status": "modified", "additions": 1, "deletions": 115, "changes": 116, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.x", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixincl.x", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixincl.x?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -51,7 +51,6 @@ tSCC zAaa_Ki_IfaceSelect0[] =\n        \"These definitions are for HP Internal developers\";\n \n #define    AAA_KI_IFACE_TEST_CT  1\n-#define    AAA_KI_IFACE_RE_CT    1\n tTestDesc aAaa_Ki_IfaceTests[] = {\n   { TT_EGREP,    zAaa_Ki_IfaceSelect0, (regex_t*)NULL }, };\n \n@@ -85,7 +84,6 @@ tSCC zAaa_KiSelect0[] =\n        \"11.00 HP-UX LP64\";\n \n #define    AAA_KI_TEST_CT  1\n-#define    AAA_KI_RE_CT    1\n tTestDesc aAaa_KiTests[] = {\n   { TT_EGREP,    zAaa_KiSelect0, (regex_t*)NULL }, };\n \n@@ -119,7 +117,6 @@ tSCC zAaa_Ki_CallsSelect0[] =\n        \"kthread_create_caller_t\";\n \n #define    AAA_KI_CALLS_TEST_CT  1\n-#define    AAA_KI_CALLS_RE_CT    1\n tTestDesc aAaa_Ki_CallsTests[] = {\n   { TT_EGREP,    zAaa_Ki_CallsSelect0, (regex_t*)NULL }, };\n \n@@ -153,7 +150,6 @@ tSCC zAaa_Ki_DefsSelect0[] =\n        \"Kernel Instrumentation Definitions\";\n \n #define    AAA_KI_DEFS_TEST_CT  1\n-#define    AAA_KI_DEFS_RE_CT    1\n tTestDesc aAaa_Ki_DefsTests[] = {\n   { TT_EGREP,    zAaa_Ki_DefsSelect0, (regex_t*)NULL }, };\n \n@@ -180,7 +176,6 @@ tSCC zAaa_Bad_FixesList[] =\n  */\n #define apzAaa_Bad_FixesMachs (const char**)NULL\n #define AAA_BAD_FIXES_TEST_CT  0\n-#define AAA_BAD_FIXES_RE_CT    0\n #define aAaa_Bad_FixesTests   (tTestDesc*)NULL\n \n /*\n@@ -213,7 +208,6 @@ tSCC zAaa_TimeSelect0[] =\n        \"11.0 and later representation of ki time\";\n \n #define    AAA_TIME_TEST_CT  1\n-#define    AAA_TIME_RE_CT    1\n tTestDesc aAaa_TimeTests[] = {\n   { TT_EGREP,    zAaa_TimeSelect0, (regex_t*)NULL }, };\n \n@@ -240,7 +234,6 @@ tSCC zAab_Dgux_Int_VarargsList[] =\n  */\n #define apzAab_Dgux_Int_VarargsMachs (const char**)NULL\n #define AAB_DGUX_INT_VARARGS_TEST_CT  0\n-#define AAB_DGUX_INT_VARARGS_RE_CT    0\n #define aAab_Dgux_Int_VarargsTests   (tTestDesc*)NULL\n \n /*\n@@ -337,7 +330,6 @@ tSCC zAab_Fd_Zero_Asm_Posix_Types_HBypass0[] =\n        \"} while\";\n \n #define    AAB_FD_ZERO_ASM_POSIX_TYPES_H_TEST_CT  1\n-#define    AAB_FD_ZERO_ASM_POSIX_TYPES_H_RE_CT    1\n tTestDesc aAab_Fd_Zero_Asm_Posix_Types_HTests[] = {\n   { TT_NEGREP,   zAab_Fd_Zero_Asm_Posix_Types_HBypass0, (regex_t*)NULL }, };\n \n@@ -386,7 +378,6 @@ tSCC* apzAab_Fd_Zero_Gnu_Types_HMachs[] = {\n         \"i[34567]86-*-linux-gnu*\",\n         (const char*)NULL };\n #define AAB_FD_ZERO_GNU_TYPES_H_TEST_CT  0\n-#define AAB_FD_ZERO_GNU_TYPES_H_RE_CT    0\n #define aAab_Fd_Zero_Gnu_Types_HTests   (tTestDesc*)NULL\n \n /*\n@@ -433,7 +424,6 @@ tSCC* apzAab_Fd_Zero_Selectbits_HMachs[] = {\n         \"i[34567]86-*-linux-gnu*\",\n         (const char*)NULL };\n #define AAB_FD_ZERO_SELECTBITS_H_TEST_CT  0\n-#define AAB_FD_ZERO_SELECTBITS_H_RE_CT    0\n #define aAab_Fd_Zero_Selectbits_HTests   (tTestDesc*)NULL\n \n /*\n@@ -489,7 +479,6 @@ tSCC* apzAab_Svr4_Replace_ByteorderMachs[] = {\n         \"sparc-*-solaris2.[0-4]\",\n         (const char*)NULL };\n #define AAB_SVR4_REPLACE_BYTEORDER_TEST_CT  0\n-#define AAB_SVR4_REPLACE_BYTEORDER_RE_CT    0\n #define aAab_Svr4_Replace_ByteorderTests   (tTestDesc*)NULL\n \n /*\n@@ -665,7 +654,6 @@ tSCC zAix_SyswaitSelect0[] =\n        \"bos325,\";\n \n #define    AIX_SYSWAIT_TEST_CT  1\n-#define    AIX_SYSWAIT_RE_CT    1\n tTestDesc aAix_SyswaitTests[] = {\n   { TT_EGREP,    zAix_SyswaitSelect0, (regex_t*)NULL }, };\n \n@@ -701,7 +689,6 @@ tSCC zAix_VolatileSelect0[] =\n        \"typedef volatile int sig_atomic_t\";\n \n #define    AIX_VOLATILE_TEST_CT  1\n-#define    AIX_VOLATILE_RE_CT    1\n tTestDesc aAix_VolatileTests[] = {\n   { TT_EGREP,    zAix_VolatileSelect0, (regex_t*)NULL }, };\n \n@@ -736,7 +723,6 @@ tSCC zAlpha_GetoptSelect0[] =\n        \"getopt\\\\(int, char \\\\*\\\\[\";\n \n #define    ALPHA_GETOPT_TEST_CT  1\n-#define    ALPHA_GETOPT_RE_CT    1\n tTestDesc aAlpha_GetoptTests[] = {\n   { TT_EGREP,    zAlpha_GetoptSelect0, (regex_t*)NULL }, };\n \n@@ -771,7 +757,6 @@ tSCC zAlpha_ParensSelect0[] =\n        \"#ifndef\\\\(__mips64\\\\)\";\n \n #define    ALPHA_PARENS_TEST_CT  1\n-#define    ALPHA_PARENS_RE_CT    1\n tTestDesc aAlpha_ParensTests[] = {\n   { TT_EGREP,    zAlpha_ParensSelect0, (regex_t*)NULL }, };\n \n@@ -806,7 +791,6 @@ tSCC zAlpha_SbrkSelect0[] =\n        \"char[ \\t]*\\\\*[\\t ]*sbrk[ \\t]*\\\\(\";\n \n #define    ALPHA_SBRK_TEST_CT  1\n-#define    ALPHA_SBRK_RE_CT    1\n tTestDesc aAlpha_SbrkTests[] = {\n   { TT_EGREP,    zAlpha_SbrkSelect0, (regex_t*)NULL }, };\n \n@@ -841,7 +825,6 @@ tSCC zArm_Norcroft_HintSelect0[] =\n        \"___type p_type\";\n \n #define    ARM_NORCROFT_HINT_TEST_CT  1\n-#define    ARM_NORCROFT_HINT_RE_CT    1\n tTestDesc aArm_Norcroft_HintTests[] = {\n   { TT_EGREP,    zArm_Norcroft_HintSelect0, (regex_t*)NULL }, };\n \n@@ -876,7 +859,6 @@ tSCC zArm_WcharSelect0[] =\n        \"#[ \\t]*define[ \\t]*__wchar_t\";\n \n #define    ARM_WCHAR_TEST_CT  1\n-#define    ARM_WCHAR_RE_CT    1\n tTestDesc aArm_WcharTests[] = {\n   { TT_EGREP,    zArm_WcharSelect0, (regex_t*)NULL }, };\n \n@@ -912,7 +894,6 @@ tSCC zAux_AsmSelect0[] =\n        \"#ifndef NOINLINE\";\n \n #define    AUX_ASM_TEST_CT  1\n-#define    AUX_ASM_RE_CT    1\n tTestDesc aAux_AsmTests[] = {\n   { TT_EGREP,    zAux_AsmSelect0, (regex_t*)NULL }, };\n \n@@ -940,7 +921,6 @@ tSCC zAvoid_BoolList[] =\n  */\n #define apzAvoid_BoolMachs (const char**)NULL\n #define AVOID_BOOL_TEST_CT  0\n-#define AVOID_BOOL_RE_CT    0\n #define aAvoid_BoolTests   (tTestDesc*)NULL\n \n /*\n@@ -993,7 +973,6 @@ tSCC zBad_Struct_TermSelect0[] =\n        \"^[ \\t]*typedef[ \\t]+struct[ \\t]+term[ \\t]*;\";\n \n #define    BAD_STRUCT_TERM_TEST_CT  1\n-#define    BAD_STRUCT_TERM_RE_CT    1\n tTestDesc aBad_Struct_TermTests[] = {\n   { TT_EGREP,    zBad_Struct_TermSelect0, (regex_t*)NULL }, };\n \n@@ -1021,7 +1000,6 @@ tSCC zBadquoteList[] =\n  */\n #define apzBadquoteMachs (const char**)NULL\n #define BADQUOTE_TEST_CT  0\n-#define BADQUOTE_RE_CT    0\n #define aBadquoteTests   (tTestDesc*)NULL\n \n /*\n@@ -1055,7 +1033,6 @@ tSCC zBad_LvalSelect0[] =\n        \"^[ \\t]*#[ \\t]*pragma[ \\t][ \\t]*extern_prefix\";\n \n #define    BAD_LVAL_TEST_CT  1\n-#define    BAD_LVAL_RE_CT    1\n tTestDesc aBad_LvalTests[] = {\n   { TT_EGREP,    zBad_LvalSelect0, (regex_t*)NULL }, };\n \n@@ -1096,7 +1073,6 @@ tSCC zBroken_Assert_StdioBypass0[] =\n        \"include.*stdio.h\";\n \n #define    BROKEN_ASSERT_STDIO_TEST_CT  2\n-#define    BROKEN_ASSERT_STDIO_RE_CT    2\n tTestDesc aBroken_Assert_StdioTests[] = {\n   { TT_NEGREP,   zBroken_Assert_StdioBypass0, (regex_t*)NULL },\n   { TT_EGREP,    zBroken_Assert_StdioSelect0, (regex_t*)NULL }, };\n@@ -1139,7 +1115,6 @@ tSCC zBroken_Assert_StdlibBypass0[] =\n        \"include.*stdlib.h\";\n \n #define    BROKEN_ASSERT_STDLIB_TEST_CT  2\n-#define    BROKEN_ASSERT_STDLIB_RE_CT    2\n tTestDesc aBroken_Assert_StdlibTests[] = {\n   { TT_NEGREP,   zBroken_Assert_StdlibBypass0, (regex_t*)NULL },\n   { TT_EGREP,    zBroken_Assert_StdlibSelect0, (regex_t*)NULL }, };\n@@ -1177,7 +1152,6 @@ tSCC zBsd43_Io_MacrosSelect0[] =\n        \"BSD43__IO\";\n \n #define    BSD43_IO_MACROS_TEST_CT  1\n-#define    BSD43_IO_MACROS_RE_CT    1\n tTestDesc aBsd43_Io_MacrosTests[] = {\n   { TT_EGREP,    zBsd43_Io_MacrosSelect0, (regex_t*)NULL }, };\n \n@@ -1206,7 +1180,6 @@ tSCC zDec_Intern_AsmList[] =\n  */\n #define apzDec_Intern_AsmMachs (const char**)NULL\n #define DEC_INTERN_ASM_TEST_CT  0\n-#define DEC_INTERN_ASM_RE_CT    0\n #define aDec_Intern_AsmTests   (tTestDesc*)NULL\n \n /*\n@@ -1241,7 +1214,6 @@ tSCC zNo_Double_SlashName[] =\n tSCC zNo_Double_SlashFTst0[] = \"double_slash\";\n \n #define    NO_DOUBLE_SLASH_TEST_CT  1\n-#define    NO_DOUBLE_SLASH_RE_CT    0\n tTestDesc aNo_Double_SlashTests[] = {\n   { TT_FUNCTION, zNo_Double_SlashFTst0,   0 /* unused */ }, };\n \n@@ -1268,7 +1240,6 @@ tSCC zEcd_CursorList[] =\n  */\n #define apzEcd_CursorMachs (const char**)NULL\n #define ECD_CURSOR_TEST_CT  0\n-#define ECD_CURSOR_RE_CT    0\n #define aEcd_CursorTests   (tTestDesc*)NULL\n \n /*\n@@ -1297,7 +1268,6 @@ tSCC* apzSco5_Stat_WrappersMachs[] = {\n         \"i*86-*-sco3.2v5*\",\n         (const char*)NULL };\n #define SCO5_STAT_WRAPPERS_TEST_CT  0\n-#define SCO5_STAT_WRAPPERS_RE_CT    0\n #define aSco5_Stat_WrappersTests   (tTestDesc*)NULL\n \n /*\n@@ -1337,7 +1307,6 @@ tSCC zEnd_Else_LabelName[] =\n tSCC zEnd_Else_LabelFTst0[] = \"else_endif_label\";\n \n #define    END_ELSE_LABEL_TEST_CT  1\n-#define    END_ELSE_LABEL_RE_CT    0\n tTestDesc aEnd_Else_LabelTests[] = {\n   { TT_FUNCTION, zEnd_Else_LabelFTst0,   0 /* unused */ }, };\n \n@@ -1371,7 +1340,6 @@ tSCC zHp_InlineSelect0[] =\n        \"include.*\\\"\\\\.\\\\./machine/\";\n \n #define    HP_INLINE_TEST_CT  1\n-#define    HP_INLINE_RE_CT    1\n tTestDesc aHp_InlineTests[] = {\n   { TT_EGREP,    zHp_InlineSelect0, (regex_t*)NULL }, };\n \n@@ -1407,7 +1375,6 @@ tSCC zHp_SysfileSelect0[] =\n        \"HPUX_SOURCE\";\n \n #define    HP_SYSFILE_TEST_CT  1\n-#define    HP_SYSFILE_RE_CT    1\n tTestDesc aHp_SysfileTests[] = {\n   { TT_EGREP,    zHp_SysfileSelect0, (regex_t*)NULL }, };\n \n@@ -1442,7 +1409,6 @@ tSCC zCxx_UnreadyBypass0[] =\n        \"\\\"C\\\"|__BEGIN_DECLS\";\n \n #define    CXX_UNREADY_TEST_CT  1\n-#define    CXX_UNREADY_RE_CT    1\n tTestDesc aCxx_UnreadyTests[] = {\n   { TT_NEGREP,   zCxx_UnreadyBypass0, (regex_t*)NULL }, };\n \n@@ -1478,7 +1444,6 @@ tSCC zHpux_MaxintList[] =\n  */\n #define apzHpux_MaxintMachs (const char**)NULL\n #define HPUX_MAXINT_TEST_CT  0\n-#define HPUX_MAXINT_RE_CT    0\n #define aHpux_MaxintTests   (tTestDesc*)NULL\n \n /*\n@@ -1515,7 +1480,6 @@ tSCC zHpux_SystimeSelect0[] =\n        \"^extern struct sigevent;\";\n \n #define    HPUX_SYSTIME_TEST_CT  1\n-#define    HPUX_SYSTIME_RE_CT    1\n tTestDesc aHpux_SystimeTests[] = {\n   { TT_EGREP,    zHpux_SystimeSelect0, (regex_t*)NULL }, };\n \n@@ -1550,7 +1514,6 @@ tSCC zHpux8_Bogus_InlinesSelect0[] =\n        \"inline\";\n \n #define    HPUX8_BOGUS_INLINES_TEST_CT  1\n-#define    HPUX8_BOGUS_INLINES_RE_CT    1\n tTestDesc aHpux8_Bogus_InlinesTests[] = {\n   { TT_EGREP,    zHpux8_Bogus_InlinesSelect0, (regex_t*)NULL }, };\n \n@@ -1588,7 +1551,6 @@ tSCC zHpux11_Uint32_CSelect0[] =\n        \"^#define UINT32_C\\\\(__c\\\\)[ \\t]*__CONCAT__\\\\(__CONCAT_U__\\\\(__c\\\\),l\\\\)\";\n \n #define    HPUX11_UINT32_C_TEST_CT  1\n-#define    HPUX11_UINT32_C_RE_CT    1\n tTestDesc aHpux11_Uint32_CTests[] = {\n   { TT_EGREP,    zHpux11_Uint32_CSelect0, (regex_t*)NULL }, };\n \n@@ -1625,7 +1587,6 @@ tSCC zInteractv_Add1Test1[] =\n        \" -n \\\"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\\\"\";\n \n #define    INTERACTV_ADD1_TEST_CT  2\n-#define    INTERACTV_ADD1_RE_CT    0\n tTestDesc aInteractv_Add1Tests[] = {\n   { TT_TEST,     zInteractv_Add1Test0,   0 /* unused */ },\n   { TT_TEST,     zInteractv_Add1Test1,   0 /* unused */ }, };\n@@ -1663,7 +1624,6 @@ tSCC zInteractv_Add2Test1[] =\n        \" -n \\\"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\\\"\";\n \n #define    INTERACTV_ADD2_TEST_CT  2\n-#define    INTERACTV_ADD2_RE_CT    0\n tTestDesc aInteractv_Add2Tests[] = {\n   { TT_TEST,     zInteractv_Add2Test0,   0 /* unused */ },\n   { TT_TEST,     zInteractv_Add2Test1,   0 /* unused */ }, };\n@@ -1701,7 +1661,6 @@ tSCC zInteractv_Add3Test1[] =\n        \" -n \\\"`grep _POSIX_VERSION /usr/include/sys/unistd.h`\\\"\";\n \n #define    INTERACTV_ADD3_TEST_CT  2\n-#define    INTERACTV_ADD3_RE_CT    0\n tTestDesc aInteractv_Add3Tests[] = {\n   { TT_TEST,     zInteractv_Add3Test0,   0 /* unused */ },\n   { TT_TEST,     zInteractv_Add3Test1,   0 /* unused */ }, };\n@@ -1737,7 +1696,6 @@ tSCC zIo_Def_QuotesSelect0[] =\n        \"[ \\t]*[ \\t](_|DES)IO[A-Z]*[ \\t]*\\\\( *[^,']\";\n \n #define    IO_DEF_QUOTES_TEST_CT  1\n-#define    IO_DEF_QUOTES_RE_CT    1\n tTestDesc aIo_Def_QuotesTests[] = {\n   { TT_EGREP,    zIo_Def_QuotesSelect0, (regex_t*)NULL }, };\n \n@@ -1774,7 +1732,6 @@ tSCC zIoctl_Fix_CtrlSelect0[] =\n        \"CTRL[ \\t]*\\\\(\";\n \n #define    IOCTL_FIX_CTRL_TEST_CT  1\n-#define    IOCTL_FIX_CTRL_RE_CT    1\n tTestDesc aIoctl_Fix_CtrlTests[] = {\n   { TT_EGREP,    zIoctl_Fix_CtrlSelect0, (regex_t*)NULL }, };\n \n@@ -1814,7 +1771,6 @@ tSCC zIp_Missing_SemiSelect0[] =\n        \"}$\";\n \n #define    IP_MISSING_SEMI_TEST_CT  1\n-#define    IP_MISSING_SEMI_RE_CT    1\n tTestDesc aIp_Missing_SemiTests[] = {\n   { TT_EGREP,    zIp_Missing_SemiSelect0, (regex_t*)NULL }, };\n \n@@ -1842,7 +1798,6 @@ tSCC zIrix_Multiline_CmntList[] =\n  */\n #define apzIrix_Multiline_CmntMachs (const char**)NULL\n #define IRIX_MULTILINE_CMNT_TEST_CT  0\n-#define IRIX_MULTILINE_CMNT_RE_CT    0\n #define aIrix_Multiline_CmntTests   (tTestDesc*)NULL\n \n /*\n@@ -1877,7 +1832,6 @@ tSCC zIrix_SockaddrSelect0[] =\n        \"authdes_create.*struct sockaddr\";\n \n #define    IRIX_SOCKADDR_TEST_CT  1\n-#define    IRIX_SOCKADDR_RE_CT    1\n tTestDesc aIrix_SockaddrTests[] = {\n   { TT_EGREP,    zIrix_SockaddrSelect0, (regex_t*)NULL }, };\n \n@@ -1906,7 +1860,6 @@ tSCC zIrix_Struct__FileList[] =\n  */\n #define apzIrix_Struct__FileMachs (const char**)NULL\n #define IRIX_STRUCT__FILE_TEST_CT  0\n-#define IRIX_STRUCT__FILE_RE_CT    0\n #define aIrix_Struct__FileTests   (tTestDesc*)NULL\n \n /*\n@@ -1941,7 +1894,6 @@ tSCC zIrix_Asm_ApostropheSelect0[] =\n        \"^[ \\t]*#.*[Ww]e're\";\n \n #define    IRIX_ASM_APOSTROPHE_TEST_CT  1\n-#define    IRIX_ASM_APOSTROPHE_RE_CT    1\n tTestDesc aIrix_Asm_ApostropheTests[] = {\n   { TT_EGREP,    zIrix_Asm_ApostropheSelect0, (regex_t*)NULL }, };\n \n@@ -1976,7 +1928,6 @@ tSCC zIsc_FmodSelect0[] =\n        \"fmod\\\\(double\\\\)\";\n \n #define    ISC_FMOD_TEST_CT  1\n-#define    ISC_FMOD_RE_CT    1\n tTestDesc aIsc_FmodTests[] = {\n   { TT_EGREP,    zIsc_FmodSelect0, (regex_t*)NULL }, };\n \n@@ -2006,7 +1957,6 @@ tSCC* apzMotorola_NestedMachs[] = {\n         \"m68k-motorola-sysv*\",\n         (const char*)NULL };\n #define MOTOROLA_NESTED_TEST_CT  0\n-#define MOTOROLA_NESTED_RE_CT    0\n #define aMotorola_NestedTests   (tTestDesc*)NULL\n \n /*\n@@ -2041,7 +1991,6 @@ tSCC zIsc_Sys_LimitsSelect0[] =\n        \"CHILD_MAX\";\n \n #define    ISC_SYS_LIMITS_TEST_CT  1\n-#define    ISC_SYS_LIMITS_RE_CT    1\n tTestDesc aIsc_Sys_LimitsTests[] = {\n   { TT_EGREP,    zIsc_Sys_LimitsSelect0, (regex_t*)NULL }, };\n \n@@ -2077,7 +2026,6 @@ tSCC zKandr_ConcatSelect0[] =\n        \"/\\\\*\\\\*/\";\n \n #define    KANDR_CONCAT_TEST_CT  1\n-#define    KANDR_CONCAT_RE_CT    1\n tTestDesc aKandr_ConcatTests[] = {\n   { TT_EGREP,    zKandr_ConcatSelect0, (regex_t*)NULL }, };\n \n@@ -2112,7 +2060,6 @@ tSCC zLimits_IfndefsBypass0[] =\n        \"ifndef[ \\t]+FLT_MIN\";\n \n #define    LIMITS_IFNDEFS_TEST_CT  1\n-#define    LIMITS_IFNDEFS_RE_CT    1\n tTestDesc aLimits_IfndefsTests[] = {\n   { TT_NEGREP,   zLimits_IfndefsBypass0, (regex_t*)NULL }, };\n \n@@ -2171,7 +2118,6 @@ tSCC zLynx_Void_IntSelect0[] =\n        \"#[ \\t]*define[ \\t]+void[ \\t]+int\";\n \n #define    LYNX_VOID_INT_TEST_CT  1\n-#define    LYNX_VOID_INT_RE_CT    1\n tTestDesc aLynx_Void_IntTests[] = {\n   { TT_EGREP,    zLynx_Void_IntSelect0, (regex_t*)NULL }, };\n \n@@ -2206,7 +2152,6 @@ tSCC zLynxos_Fcntl_ProtoSelect0[] =\n        \"fcntl.*\\\\(int, int, int\\\\)\";\n \n #define    LYNXOS_FCNTL_PROTO_TEST_CT  1\n-#define    LYNXOS_FCNTL_PROTO_RE_CT    1\n tTestDesc aLynxos_Fcntl_ProtoTests[] = {\n   { TT_EGREP,    zLynxos_Fcntl_ProtoSelect0, (regex_t*)NULL }, };\n \n@@ -2236,7 +2181,6 @@ tSCC* apzM88k_Bad_Hypot_OptMachs[] = {\n         \"m88k-motorola-sysv3*\",\n         (const char*)NULL };\n #define M88K_BAD_HYPOT_OPT_TEST_CT  0\n-#define M88K_BAD_HYPOT_OPT_RE_CT    0\n #define aM88k_Bad_Hypot_OptTests   (tTestDesc*)NULL\n \n /*\n@@ -2285,7 +2229,6 @@ tSCC zM88k_Bad_S_IfSelect0[] =\n        \"#define[ \\t]+S_IS[A-Z]*(m)[ \\t]\";\n \n #define    M88K_BAD_S_IF_TEST_CT  1\n-#define    M88K_BAD_S_IF_RE_CT    1\n tTestDesc aM88k_Bad_S_IfTests[] = {\n   { TT_EGREP,    zM88k_Bad_S_IfSelect0, (regex_t*)NULL }, };\n \n@@ -2323,7 +2266,6 @@ tSCC zM88k_Multi_InclBypass0[] =\n        \"#ifndef\";\n \n #define    M88K_MULTI_INCL_TEST_CT  1\n-#define    M88K_MULTI_INCL_RE_CT    1\n tTestDesc aM88k_Multi_InclTests[] = {\n   { TT_NEGREP,   zM88k_Multi_InclBypass0, (regex_t*)NULL }, };\n \n@@ -2364,7 +2306,6 @@ tSCC zMachine_NameSelect0[] =\n        \"^#[ \\t]*(if|elif).*[^a-zA-Z0-9_](M32|_*MIPSE[LB]|_*SYSTYPE_[A-Z0-9]|_*[Rr][34]000|_*host_mips|_*i386|_*mips|bsd4|is68k|m[68]8k|mc680|news|ns32000|pdp11|pyr|sel|sony_news|sparc|sun|tahoe|tower|u370|u3b|unix|vax)\";\n \n #define    MACHINE_NAME_TEST_CT  1\n-#define    MACHINE_NAME_RE_CT    1\n tTestDesc aMachine_NameTests[] = {\n   { TT_EGREP,    zMachine_NameSelect0, (regex_t*)NULL }, };\n \n@@ -2439,7 +2380,6 @@ tSCC zMath_ExceptionBypass0[] =\n        \"We have a problem when using C++\";\n \n #define    MATH_EXCEPTION_TEST_CT  2\n-#define    MATH_EXCEPTION_RE_CT    2\n tTestDesc aMath_ExceptionTests[] = {\n   { TT_NEGREP,   zMath_ExceptionBypass0, (regex_t*)NULL },\n   { TT_EGREP,    zMath_ExceptionSelect0, (regex_t*)NULL }, };\n@@ -2488,7 +2428,6 @@ tSCC zMath_Huge_Val_From_Dbl_MaxBypass0[] =\n        \"define[ \\t]*DBL_MAX\";\n \n #define    MATH_HUGE_VAL_FROM_DBL_MAX_TEST_CT  2\n-#define    MATH_HUGE_VAL_FROM_DBL_MAX_RE_CT    2\n tTestDesc aMath_Huge_Val_From_Dbl_MaxTests[] = {\n   { TT_NEGREP,   zMath_Huge_Val_From_Dbl_MaxBypass0, (regex_t*)NULL },\n   { TT_EGREP,    zMath_Huge_Val_From_Dbl_MaxSelect0, (regex_t*)NULL }, };\n@@ -2529,7 +2468,6 @@ tSCC zMath_Huge_Val_IfndefSelect0[] =\n        \"define[ \\t]*HUGE_VAL\";\n \n #define    MATH_HUGE_VAL_IFNDEF_TEST_CT  1\n-#define    MATH_HUGE_VAL_IFNDEF_RE_CT    1\n tTestDesc aMath_Huge_Val_IfndefTests[] = {\n   { TT_EGREP,    zMath_Huge_Val_IfndefSelect0, (regex_t*)NULL }, };\n \n@@ -2560,7 +2498,6 @@ tSCC zNested_CommentList[] =\n  */\n #define apzNested_CommentMachs (const char**)NULL\n #define NESTED_COMMENT_TEST_CT  0\n-#define NESTED_COMMENT_RE_CT    0\n #define aNested_CommentTests   (tTestDesc*)NULL\n \n /*\n@@ -2594,7 +2531,6 @@ tSCC zNews_Os_RecursionSelect0[] =\n        \"#include <stdlib.h>\";\n \n #define    NEWS_OS_RECURSION_TEST_CT  1\n-#define    NEWS_OS_RECURSION_RE_CT    1\n tTestDesc aNews_Os_RecursionTests[] = {\n   { TT_EGREP,    zNews_Os_RecursionSelect0, (regex_t*)NULL }, };\n \n@@ -2632,7 +2568,6 @@ tSCC zNext_Math_PrefixSelect0[] =\n        \"^extern.*double.*__const__.*\";\n \n #define    NEXT_MATH_PREFIX_TEST_CT  1\n-#define    NEXT_MATH_PREFIX_RE_CT    1\n tTestDesc aNext_Math_PrefixTests[] = {\n   { TT_EGREP,    zNext_Math_PrefixSelect0, (regex_t*)NULL }, };\n \n@@ -2671,7 +2606,6 @@ tSCC zNext_TemplateSelect0[] =\n        \"template\";\n \n #define    NEXT_TEMPLATE_TEST_CT  1\n-#define    NEXT_TEMPLATE_RE_CT    1\n tTestDesc aNext_TemplateTests[] = {\n   { TT_EGREP,    zNext_TemplateSelect0, (regex_t*)NULL }, };\n \n@@ -2707,7 +2641,6 @@ tSCC zNext_VolitileSelect0[] =\n        \"volatile\";\n \n #define    NEXT_VOLITILE_TEST_CT  1\n-#define    NEXT_VOLITILE_RE_CT    1\n tTestDesc aNext_VolitileTests[] = {\n   { TT_EGREP,    zNext_VolitileSelect0, (regex_t*)NULL }, };\n \n@@ -2743,7 +2676,6 @@ tSCC zNext_Wait_UnionSelect0[] =\n        \"wait\\\\(union wait\";\n \n #define    NEXT_WAIT_UNION_TEST_CT  1\n-#define    NEXT_WAIT_UNION_RE_CT    1\n tTestDesc aNext_Wait_UnionTests[] = {\n   { TT_EGREP,    zNext_Wait_UnionSelect0, (regex_t*)NULL }, };\n \n@@ -2771,7 +2703,6 @@ tSCC zNodeent_SyntaxList[] =\n  */\n #define apzNodeent_SyntaxMachs (const char**)NULL\n #define NODEENT_SYNTAX_TEST_CT  0\n-#define NODEENT_SYNTAX_RE_CT    0\n #define aNodeent_SyntaxTests   (tTestDesc*)NULL\n \n /*\n@@ -2811,7 +2742,6 @@ tSCC zOsf_Namespace_ATest3[] =\n        \" -z \\\"`grep __regex_t regex.h`\\\"\";\n \n #define    OSF_NAMESPACE_A_TEST_CT  4\n-#define    OSF_NAMESPACE_A_RE_CT    0\n tTestDesc aOsf_Namespace_ATests[] = {\n   { TT_TEST,     zOsf_Namespace_ATest0,   0 /* unused */ },\n   { TT_TEST,     zOsf_Namespace_ATest1,   0 /* unused */ },\n@@ -2857,7 +2787,6 @@ tSCC zOsf_Namespace_BTest3[] =\n        \" -z \\\"`grep __regex_t regex.h`\\\"\";\n \n #define    OSF_NAMESPACE_B_TEST_CT  4\n-#define    OSF_NAMESPACE_B_RE_CT    0\n tTestDesc aOsf_Namespace_BTests[] = {\n   { TT_TEST,     zOsf_Namespace_BTest0,   0 /* unused */ },\n   { TT_TEST,     zOsf_Namespace_BTest1,   0 /* unused */ },\n@@ -2898,7 +2827,6 @@ tSCC zPthread_Page_SizeSelect0[] =\n        \"^int __page_size\";\n \n #define    PTHREAD_PAGE_SIZE_TEST_CT  1\n-#define    PTHREAD_PAGE_SIZE_RE_CT    1\n tTestDesc aPthread_Page_SizeTests[] = {\n   { TT_EGREP,    zPthread_Page_SizeSelect0, (regex_t*)NULL }, };\n \n@@ -2933,7 +2861,6 @@ tSCC zRead_Ret_TypeSelect0[] =\n        \"extern int\\t.*, fread\\\\(\\\\), fwrite\\\\(\\\\)\";\n \n #define    READ_RET_TYPE_TEST_CT  1\n-#define    READ_RET_TYPE_RE_CT    1\n tTestDesc aRead_Ret_TypeTests[] = {\n   { TT_EGREP,    zRead_Ret_TypeSelect0, (regex_t*)NULL }, };\n \n@@ -2969,7 +2896,6 @@ tSCC zRs6000_DoubleSelect0[] =\n        \"[^a-zA-Z_]class\\\\(\";\n \n #define    RS6000_DOUBLE_TEST_CT  1\n-#define    RS6000_DOUBLE_RE_CT    1\n tTestDesc aRs6000_DoubleTests[] = {\n   { TT_EGREP,    zRs6000_DoubleSelect0, (regex_t*)NULL }, };\n \n@@ -3007,7 +2933,6 @@ tSCC zRs6000_FchmodSelect0[] =\n        \"fchmod\\\\(char\";\n \n #define    RS6000_FCHMOD_TEST_CT  1\n-#define    RS6000_FCHMOD_RE_CT    1\n tTestDesc aRs6000_FchmodTests[] = {\n   { TT_EGREP,    zRs6000_FchmodSelect0, (regex_t*)NULL }, };\n \n@@ -3042,7 +2967,6 @@ tSCC zRs6000_ParamSelect0[] =\n        \"const char new\";\n \n #define    RS6000_PARAM_TEST_CT  1\n-#define    RS6000_PARAM_RE_CT    1\n tTestDesc aRs6000_ParamTests[] = {\n   { TT_EGREP,    zRs6000_ParamSelect0, (regex_t*)NULL }, };\n \n@@ -3077,7 +3001,6 @@ tSCC zSony_IncludeSelect0[] =\n        \"\\\"\\\\.\\\\./machine/endian.h\\\"\";\n \n #define    SONY_INCLUDE_TEST_CT  1\n-#define    SONY_INCLUDE_RE_CT    1\n tTestDesc aSony_IncludeTests[] = {\n   { TT_EGREP,    zSony_IncludeSelect0, (regex_t*)NULL }, };\n \n@@ -3112,7 +3035,6 @@ tSCC zStatsswtchSelect0[] =\n        \"boottime$\";\n \n #define    STATSSWTCH_TEST_CT  1\n-#define    STATSSWTCH_RE_CT    1\n tTestDesc aStatsswtchTests[] = {\n   { TT_EGREP,    zStatsswtchSelect0, (regex_t*)NULL }, };\n \n@@ -3147,7 +3069,6 @@ tSCC zStdio_Va_ListBypass0[] =\n        \"__gnuc_va_list\";\n \n #define    STDIO_VA_LIST_TEST_CT  1\n-#define    STDIO_VA_LIST_RE_CT    1\n tTestDesc aStdio_Va_ListTests[] = {\n   { TT_NEGREP,   zStdio_Va_ListBypass0, (regex_t*)NULL }, };\n \n@@ -3199,7 +3120,6 @@ tSCC zSun_Bogus_IfdefSelect0[] =\n        \"#ifdef __i386__ || __vax__\";\n \n #define    SUN_BOGUS_IFDEF_TEST_CT  1\n-#define    SUN_BOGUS_IFDEF_RE_CT    1\n tTestDesc aSun_Bogus_IfdefTests[] = {\n   { TT_EGREP,    zSun_Bogus_IfdefSelect0, (regex_t*)NULL }, };\n \n@@ -3234,7 +3154,6 @@ tSCC zSun_Bogus_Ifdef_Sun4cSelect0[] =\n        \"#ifdef __i386__ || __sun4c__\";\n \n #define    SUN_BOGUS_IFDEF_SUN4C_TEST_CT  1\n-#define    SUN_BOGUS_IFDEF_SUN4C_RE_CT    1\n tTestDesc aSun_Bogus_Ifdef_Sun4cTests[] = {\n   { TT_EGREP,    zSun_Bogus_Ifdef_Sun4cSelect0, (regex_t*)NULL }, };\n \n@@ -3269,7 +3188,6 @@ tSCC zSun_CatmacroSelect0[] =\n        \"^#define[ \\t]+CAT\\\\(a,b\\\\)\";\n \n #define    SUN_CATMACRO_TEST_CT  1\n-#define    SUN_CATMACRO_RE_CT    1\n tTestDesc aSun_CatmacroTests[] = {\n   { TT_EGREP,    zSun_CatmacroSelect0, (regex_t*)NULL }, };\n \n@@ -3302,7 +3220,6 @@ tSCC zSun_MallocList[] =\n  */\n #define apzSun_MallocMachs (const char**)NULL\n #define SUN_MALLOC_TEST_CT  0\n-#define SUN_MALLOC_RE_CT    0\n #define aSun_MallocTests   (tTestDesc*)NULL\n \n /*\n@@ -3339,7 +3256,6 @@ tSCC zSun_MemcpySelect0[] =\n        \"/\\\\*\\t@\\\\(#\\\\)(head/memory.h\\t50.1\\t |memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\\t)\\\\*/\";\n \n #define    SUN_MEMCPY_TEST_CT  1\n-#define    SUN_MEMCPY_RE_CT    1\n tTestDesc aSun_MemcpyTests[] = {\n   { TT_EGREP,    zSun_MemcpySelect0, (regex_t*)NULL }, };\n \n@@ -3394,7 +3310,6 @@ tSCC zSun_Rusers_SemiSelect0[] =\n        \"_cnt$\";\n \n #define    SUN_RUSERS_SEMI_TEST_CT  1\n-#define    SUN_RUSERS_SEMI_RE_CT    1\n tTestDesc aSun_Rusers_SemiTests[] = {\n   { TT_EGREP,    zSun_Rusers_SemiSelect0, (regex_t*)NULL }, };\n \n@@ -3429,7 +3344,6 @@ tSCC zSun_SignalSelect0[] =\n        \"^void\\t\\\\(\\\\*signal\\\\(\\\\)\\\\)\\\\(\\\\);\";\n \n #define    SUN_SIGNAL_TEST_CT  1\n-#define    SUN_SIGNAL_RE_CT    1\n tTestDesc aSun_SignalTests[] = {\n   { TT_EGREP,    zSun_SignalSelect0, (regex_t*)NULL }, };\n \n@@ -3469,7 +3383,6 @@ tSCC zSun_Auth_ProtoSelect0[] =\n        \"\\\\(\\\\*[a-z][a-z_]*\\\\)\\\\(\\\\)\";\n \n #define    SUN_AUTH_PROTO_TEST_CT  1\n-#define    SUN_AUTH_PROTO_RE_CT    1\n tTestDesc aSun_Auth_ProtoTests[] = {\n   { TT_EGREP,    zSun_Auth_ProtoSelect0, (regex_t*)NULL }, };\n \n@@ -3509,7 +3422,6 @@ tSCC zSunos_Matherr_DeclBypass0[] =\n        \"matherr.*struct exception\";\n \n #define    SUNOS_MATHERR_DECL_TEST_CT  1\n-#define    SUNOS_MATHERR_DECL_RE_CT    1\n tTestDesc aSunos_Matherr_DeclTests[] = {\n   { TT_NEGREP,   zSunos_Matherr_DeclBypass0, (regex_t*)NULL }, };\n \n@@ -3546,7 +3458,6 @@ tSCC zSunos_StrlenSelect0[] =\n        \"int[ \\t]*strlen\";\n \n #define    SUNOS_STRLEN_TEST_CT  1\n-#define    SUNOS_STRLEN_RE_CT    1\n tTestDesc aSunos_StrlenTests[] = {\n   { TT_EGREP,    zSunos_StrlenSelect0, (regex_t*)NULL }, };\n \n@@ -3581,7 +3492,6 @@ tSCC zSystypesSelect0[] =\n        \"typedef[ \\t]+[a-z_][ \\ta-z_]*[ \\t](size|ptrdiff|wchar)_t\";\n \n #define    SYSTYPES_TEST_CT  1\n-#define    SYSTYPES_RE_CT    1\n tTestDesc aSystypesTests[] = {\n   { TT_EGREP,    zSystypesSelect0, (regex_t*)NULL }, };\n \n@@ -3646,7 +3556,6 @@ tSCC zSystypes_For_AixBypass0[] =\n        \"_GCC_SIZE_T\";\n \n #define    SYSTYPES_FOR_AIX_TEST_CT  2\n-#define    SYSTYPES_FOR_AIX_RE_CT    2\n tTestDesc aSystypes_For_AixTests[] = {\n   { TT_NEGREP,   zSystypes_For_AixBypass0, (regex_t*)NULL },\n   { TT_EGREP,    zSystypes_For_AixSelect0, (regex_t*)NULL }, };\n@@ -3679,7 +3588,6 @@ tSCC zSysv68_StringList[] =\n  */\n #define apzSysv68_StringMachs (const char**)NULL\n #define SYSV68_STRING_TEST_CT  0\n-#define SYSV68_STRING_RE_CT    0\n #define aSysv68_StringTests   (tTestDesc*)NULL\n \n /*\n@@ -3716,7 +3624,6 @@ tSCC zSysz_Stdlib_For_SunList[] =\n  */\n #define apzSysz_Stdlib_For_SunMachs (const char**)NULL\n #define SYSZ_STDLIB_FOR_SUN_TEST_CT  0\n-#define SYSZ_STDLIB_FOR_SUN_RE_CT    0\n #define aSysz_Stdlib_For_SunTests   (tTestDesc*)NULL\n \n /*\n@@ -3754,7 +3661,6 @@ tSCC zSysz_Stdtypes_For_SunList[] =\n  */\n #define apzSysz_Stdtypes_For_SunMachs (const char**)NULL\n #define SYSZ_STDTYPES_FOR_SUN_TEST_CT  0\n-#define SYSZ_STDTYPES_FOR_SUN_RE_CT    0\n #define aSysz_Stdtypes_For_SunTests   (tTestDesc*)NULL\n \n /*\n@@ -3802,7 +3708,6 @@ tSCC zTinfo_CplusplusSelect0[] =\n        \"[ \\t]_cplusplus\";\n \n #define    TINFO_CPLUSPLUS_TEST_CT  1\n-#define    TINFO_CPLUSPLUS_RE_CT    1\n tTestDesc aTinfo_CplusplusTests[] = {\n   { TT_EGREP,    zTinfo_CplusplusSelect0, (regex_t*)NULL }, };\n \n@@ -3837,7 +3742,6 @@ tSCC zUltrix_Ansi_CompatSelect0[] =\n        \"ULTRIX\";\n \n #define    ULTRIX_ANSI_COMPAT_TEST_CT  1\n-#define    ULTRIX_ANSI_COMPAT_RE_CT    1\n tTestDesc aUltrix_Ansi_CompatTests[] = {\n   { TT_EGREP,    zUltrix_Ansi_CompatSelect0, (regex_t*)NULL }, };\n \n@@ -3874,7 +3778,6 @@ tSCC zUltrix_Fix_FixprotoSelect0[] =\n        \"ULTRIX\";\n \n #define    ULTRIX_FIX_FIXPROTO_TEST_CT  1\n-#define    ULTRIX_FIX_FIXPROTO_RE_CT    1\n tTestDesc aUltrix_Fix_FixprotoTests[] = {\n   { TT_EGREP,    zUltrix_Fix_FixprotoSelect0, (regex_t*)NULL }, };\n \n@@ -3910,7 +3813,6 @@ tSCC zUltrix_Atof_ParamSelect0[] =\n        \"atof\\\\([ \\t]*char\";\n \n #define    ULTRIX_ATOF_PARAM_TEST_CT  1\n-#define    ULTRIX_ATOF_PARAM_RE_CT    1\n tTestDesc aUltrix_Atof_ParamTests[] = {\n   { TT_EGREP,    zUltrix_Atof_ParamSelect0, (regex_t*)NULL }, };\n \n@@ -3938,7 +3840,6 @@ tSCC zUltrix_ConstList[] =\n  */\n #define apzUltrix_ConstMachs (const char**)NULL\n #define ULTRIX_CONST_TEST_CT  0\n-#define ULTRIX_CONST_RE_CT    0\n #define aUltrix_ConstTests   (tTestDesc*)NULL\n \n /*\n@@ -3980,7 +3881,6 @@ tSCC zUltrix_IfdefSelect0[] =\n        \"#ifdef KERNEL\";\n \n #define    ULTRIX_IFDEF_TEST_CT  1\n-#define    ULTRIX_IFDEF_RE_CT    1\n tTestDesc aUltrix_IfdefTests[] = {\n   { TT_EGREP,    zUltrix_IfdefSelect0, (regex_t*)NULL }, };\n \n@@ -4008,7 +3908,6 @@ tSCC zUltrix_Nested_CmntList[] =\n  */\n #define apzUltrix_Nested_CmntMachs (const char**)NULL\n #define ULTRIX_NESTED_CMNT_TEST_CT  0\n-#define ULTRIX_NESTED_CMNT_RE_CT    0\n #define aUltrix_Nested_CmntTests   (tTestDesc*)NULL\n \n /*\n@@ -4042,7 +3941,6 @@ tSCC zUltrix_StaticSelect0[] =\n        \"#include \\\"r[34]_cpu\";\n \n #define    ULTRIX_STATIC_TEST_CT  1\n-#define    ULTRIX_STATIC_RE_CT    1\n tTestDesc aUltrix_StaticTests[] = {\n   { TT_EGREP,    zUltrix_StaticSelect0, (regex_t*)NULL }, };\n \n@@ -4084,7 +3982,6 @@ tSCC zUndefine_NullBypass0[] =\n        \"#[ \\t]*(ifn|un)def[ \\t]*[ \\t]NULL($|[ \\t])\";\n \n #define    UNDEFINE_NULL_TEST_CT  2\n-#define    UNDEFINE_NULL_RE_CT    2\n tTestDesc aUndefine_NullTests[] = {\n   { TT_NEGREP,   zUndefine_NullBypass0, (regex_t*)NULL },\n   { TT_EGREP,    zUndefine_NullSelect0, (regex_t*)NULL }, };\n@@ -4128,7 +4025,6 @@ tSCC zUnixware7_Byteorder_FixSelect0[] =\n        \"in_port_t\";\n \n #define    UNIXWARE7_BYTEORDER_FIX_TEST_CT  1\n-#define    UNIXWARE7_BYTEORDER_FIX_RE_CT    1\n tTestDesc aUnixware7_Byteorder_FixTests[] = {\n   { TT_EGREP,    zUnixware7_Byteorder_FixSelect0, (regex_t*)NULL }, };\n \n@@ -4164,7 +4060,6 @@ tSCC zVa_I960_MacroSelect0[] =\n        \"__(vsiz|vali|vpad|alignof__)\";\n \n #define    VA_I960_MACRO_TEST_CT  1\n-#define    VA_I960_MACRO_RE_CT    1\n tTestDesc aVa_I960_MacroTests[] = {\n   { TT_EGREP,    zVa_I960_MacroSelect0, (regex_t*)NULL }, };\n \n@@ -4202,7 +4097,6 @@ tSCC zVoid_NullSelect0[] =\n        \"#[ \\t]*define[ \\t][ \\t]*NULL[ \\t].*void\";\n \n #define    VOID_NULL_TEST_CT  1\n-#define    VOID_NULL_RE_CT    1\n tTestDesc aVoid_NullTests[] = {\n   { TT_EGREP,    zVoid_NullSelect0, (regex_t*)NULL }, };\n \n@@ -4237,7 +4131,6 @@ tSCC zVxworks_Gcc_ProblemSelect0[] =\n        \"__GNUC_TYPEOF_FEATURE_BROKEN_USE_DEFAULT_UNTIL_FIXED__\";\n \n #define    VXWORKS_GCC_PROBLEM_TEST_CT  1\n-#define    VXWORKS_GCC_PROBLEM_RE_CT    1\n tTestDesc aVxworks_Gcc_ProblemTests[] = {\n   { TT_EGREP,    zVxworks_Gcc_ProblemSelect0, (regex_t*)NULL }, };\n \n@@ -4287,7 +4180,6 @@ tSCC zVxworks_Needs_VxtypesSelect0[] =\n        \"uint_t[ \\t][ \\t]*_clocks_per_sec\";\n \n #define    VXWORKS_NEEDS_VXTYPES_TEST_CT  1\n-#define    VXWORKS_NEEDS_VXTYPES_RE_CT    1\n tTestDesc aVxworks_Needs_VxtypesTests[] = {\n   { TT_EGREP,    zVxworks_Needs_VxtypesSelect0, (regex_t*)NULL }, };\n \n@@ -4332,7 +4224,6 @@ tSCC zVxworks_Needs_VxworksTest2[] =\n        \" -n \\\"`egrep ULONG $file`\\\"\";\n \n #define    VXWORKS_NEEDS_VXWORKS_TEST_CT  4\n-#define    VXWORKS_NEEDS_VXWORKS_RE_CT    1\n tTestDesc aVxworks_Needs_VxworksTests[] = {\n   { TT_TEST,     zVxworks_Needs_VxworksTest0,   0 /* unused */ },\n   { TT_TEST,     zVxworks_Needs_VxworksTest1,   0 /* unused */ },\n@@ -4377,7 +4268,6 @@ tSCC zVxworks_TimeTest0[] =\n        \" -r vxWorks.h\";\n \n #define    VXWORKS_TIME_TEST_CT  2\n-#define    VXWORKS_TIME_RE_CT    1\n tTestDesc aVxworks_TimeTests[] = {\n   { TT_TEST,     zVxworks_TimeTest0,   0 /* unused */ },\n   { TT_EGREP,    zVxworks_TimeSelect0, (regex_t*)NULL }, };\n@@ -4422,7 +4312,6 @@ tSCC zX11_ClassBypass0[] =\n        \"__cplusplus\";\n \n #define    X11_CLASS_TEST_CT  1\n-#define    X11_CLASS_RE_CT    1\n tTestDesc aX11_ClassTests[] = {\n   { TT_NEGREP,   zX11_ClassBypass0, (regex_t*)NULL }, };\n \n@@ -4462,7 +4351,6 @@ tSCC zX11_Class_UsageBypass0[] =\n        \"__cplusplus\";\n \n #define    X11_CLASS_USAGE_TEST_CT  1\n-#define    X11_CLASS_USAGE_RE_CT    1\n tTestDesc aX11_Class_UsageTests[] = {\n   { TT_NEGREP,   zX11_Class_UsageBypass0, (regex_t*)NULL }, };\n \n@@ -4497,7 +4385,6 @@ tSCC zX11_NewBypass0[] =\n        \"__cplusplus\";\n \n #define    X11_NEW_TEST_CT  1\n-#define    X11_NEW_RE_CT    1\n tTestDesc aX11_NewTests[] = {\n   { TT_NEGREP,   zX11_NewBypass0, (regex_t*)NULL }, };\n \n@@ -4531,7 +4418,6 @@ tSCC zX11_SprintfList[] =\n  */\n #define apzX11_SprintfMachs (const char**)NULL\n #define X11_SPRINTF_TEST_CT  0\n-#define X11_SPRINTF_RE_CT    0\n #define aX11_SprintfTests   (tTestDesc*)NULL\n \n /*\n@@ -4547,7 +4433,7 @@ extern char *\\tsprintf();\\\\\\n\\\n  *\n  *  List of all fixes\n  */\n-#define REGEX_COUNT          89\n+#define REGEX_COUNT          109\n #define MACH_LIST_SIZE_LIMIT 279\n #define FIX_COUNT            114\n "}, {"sha": "e5319b9622a5d6b3703e9b598d6774b2edf830d2", "filename": "gcc/fixinc/fixlib.c", "status": "modified", "additions": 71, "deletions": 0, "changes": 71, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixlib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixlib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixlib.c?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -57,3 +57,74 @@ load_file_data (fp)\n \n   return pz_data;\n }\n+\n+\n+t_bool\n+is_cxx_header (fname, text)\n+     tCC *fname;\n+     tCC *text;\n+{\n+  /*  First, check to see if the file is in a C++ directory */\n+  for (;;)\n+    {\n+      switch (*(fname++))\n+        {\n+        case 'C': /* check for \"CC/\" */\n+          if ((fname[0] == 'C') && (fname[1] == '/'))\n+            return BOOL_TRUE;\n+          break;\n+\n+        case 'x': /* check for \"xx/\" */\n+          if ((fname[0] == 'x') && (fname[1] == '/'))\n+            return BOOL_TRUE;\n+          break;\n+\n+        case '+': /* check for \"++\" */\n+          if (fname[0] == '+')\n+            return BOOL_TRUE;\n+          break;\n+\n+        case NUL:\n+          goto not_cxx_name;\n+        }\n+    } not_cxx_name:;\n+\n+  /* Or it might contain the phrase 'extern \"C++\"' */\n+  for (;;)\n+    {\n+      tSCC zExtern[]   = \"extern\";\n+      tSCC zExtCxx[]   = \"\\\"C++\\\"\";\n+      tSCC zTemplate[] = \"template\";\n+\n+      switch (*(text++))\n+        {\n+        case 'e':\n+          /*  Check for \"extern \\\"C++\\\"\" */\n+          if (strncmp (text, zExtern+1, sizeof( zExtern )-2) != 0)\n+            break;\n+          text += sizeof( zExtern )-2;\n+          if (! isspace( *(text++)) )\n+            break;\n+          while (isspace( *text ))  text++;\n+          if (strncmp (text, zExtCxx, sizeof (zExtCxx) -1) == 0)\n+            return BOOL_TRUE;\n+          break;\n+\n+        case 't':\n+          /*  Check for \"template<\" */\n+          if (strncmp (text, zTemplate+1, sizeof( zTemplate )-2) != 0)\n+            break;\n+          text += sizeof( zTemplate )-2;\n+          while (isspace( *text ))  text++;\n+          if (*text == '<')\n+            return BOOL_TRUE;\n+          break;\n+\n+        case NUL:\n+          goto text_done;\n+          break;\n+        }\n+    } text_done:;\n+\n+  return BOOL_FALSE;\n+}"}, {"sha": "098bb0019aab68a79cc8df12ffb6ecfc446f5625", "filename": "gcc/fixinc/fixlib.h", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixlib.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixlib.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixlib.h?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -84,12 +84,18 @@ typedef enum\n } t_bool;\n #endif\n \n+typedef int apply_fix_p_t;  /* Apply Fix Predicate Type */\n+\n+#define APPLY_FIX 0\n+#define SKIP_FIX  1\n+\n #define _P_(p)\t()\n #endif\n \n /*\n  *  Exported procedures\n  */\n char * load_file_data _P_(( FILE* fp ));\n+t_bool is_cxx_header  _P_(( tCC* filename, tCC* filetext ));\n \n #endif /* FIXINCLUDES_FIXLIB_H */"}, {"sha": "45eb4ef73e594dcd14447dff66200aa76af41d08", "filename": "gcc/fixinc/fixtests.c", "status": "modified", "additions": 31, "deletions": 48, "changes": 79, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixtests.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Ffixtests.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Ffixtests.c?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -48,16 +48,11 @@ Boston, MA 02111-1307, USA.  */\n \n #include \"fixlib.h\"\n \n-typedef int apply_fix_p_t;  /* Apply Fix Predicate Type */\n-\n-#define APPLY_FIX 0\n-#define SKIP_FIX  1\n-\n #define SHOULD_APPLY(afp) ((afp) == APPLY_FIX)\n apply_fix_p_t run_test();\n \n typedef struct {\n-    const char*  test_name;\n+    tCC*  test_name;\n     apply_fix_p_t (*test_proc)();\n } test_entry_t;\n \n@@ -68,16 +63,16 @@ typedef struct {\n \n #define TEST_FOR_FIX_PROC_HEAD( test ) \\\n static apply_fix_p_t test ( fname, text ) \\\n-    const char* fname; \\\n-    const char* text;\n+    tCC* fname; \\\n+    tCC* text;\n \n /*\n  *  Skip over a quoted string.  Single quote strings may\n  *  contain multiple characters if the first character is\n  *  a backslash.  Especially a backslash followed by octal digits.\n  *  We are not doing a correctness syntax check here.\n  */\n-static const char*\n+tSCC*\n skip_quote( q, text )\n   char  q;\n   char* text;\n@@ -106,29 +101,10 @@ skip_quote( q, text )\n   return text;\n }\n \n-static apply_fix_p_t\n-is_cxx_header (fname, text)\n-     const char *fname;\n-     const char *text;\n-{\n-  /*  First, check to see if the file is in a C++ directory */\n-  if (strstr( fname, \"CC/\" ) != NULL)\n-    return SKIP_FIX;\n-  if (strstr( fname, \"xx/\" ) != NULL)\n-    return SKIP_FIX;\n-  if (strstr( fname, \"++\" ) != NULL)\n-    return SKIP_FIX;\n-  /* Or it might contain the phrase 'extern \"C++\"' */\n-  if (strstr( text, \"extern \\\"C++\\\"\" ) != NULL)\n-    return SKIP_FIX;\n-\n-  return APPLY_FIX;\n-}\n-\n \n TEST_FOR_FIX_PROC_HEAD( double_slash_test )\n {\n-  if (is_cxx_header (fname, text) == SKIP_FIX)\n+  if (is_cxx_header (fname, text))\n     return SKIP_FIX;\n \n   /*  Now look for the comment markers in the text */\n@@ -173,13 +149,13 @@ TEST_FOR_FIX_PROC_HEAD( double_slash_test )\n TEST_FOR_FIX_PROC_HEAD( else_endif_label_test )\n {\n   static int compiled = 0;\n-  static const char label_pat[] = \"^[ \\t]*#[ \\t]*(else|endif)\";\n+  tSCC label_pat[] = \"^[ \\t]*#[ \\t]*(else|endif)\";\n   static regex_t label_re;\n \n   char ch;\n-  const char* pz_next = (char*)NULL;\n+  tCC* pz_next = (char*)NULL;\n   regmatch_t match[2];\n-  const char *all_text = text;\n+  t_bool file_is_cxx = is_cxx_header( fname, text );\n \n   /*\n      This routine may be run many times within a single execution.\n@@ -271,25 +247,33 @@ TEST_FOR_FIX_PROC_HEAD( else_endif_label_test )\n             case '/':\n               /*\n                 Skip comments.  Otherwise, we have a bogon */\n-              if (*pz_next == '*')\n+              switch (*pz_next)\n                 {\n+                case '/':\n+                  /* IF we found a \"//\" in a C header, THEN fix it. */\n+                  if (! file_is_cxx)\n+                    return APPLY_FIX;\n+\n+                  /* C++ header.  Skip to newline and continue. */\n+                  pz_next = strchr( pz_next+1, '\\n' );\n+                  if (pz_next == (char*)NULL)\n+                    return SKIP_FIX;\n+                  pz_next++;\n+                  break;\n+\n+                case '*':\n+                  /* A comment for either C++ or C.  Skip over it. */\n                   pz_next = strstr( pz_next+1, \"*/\" );\n                   if (pz_next == (char*)NULL)\n                     return SKIP_FIX;\n                   pz_next += 2;\n                   break;\n+\n+                default:\n+                  /* a '/' followed by other junk. */\n+                  return APPLY_FIX;\n                 }\n-\t      else if (*pz_next == '/'\n-\t\t       && is_cxx_header( fname, all_text ) == SKIP_FIX)\n-\t\t{\n-\t\t  pz_next = strchr( pz_next+1, '\\n' );\n-\t\t  if (pz_next == (char*)NULL)\n-\t\t    return SKIP_FIX;\n-\t\t  pz_next++;\n-\t\t  break;\n-\t\t}\n-\n-              /* FALLTHROUGH */\n+              break; /* a C or C++ comment */\n \n             default:\n               /*\n@@ -311,9 +295,9 @@ TEST_FOR_FIX_PROC_HEAD( else_endif_label_test )\n */\n apply_fix_p_t\n run_test( tname, fname, text )\n-  const char* tname;\n-  const char* fname;\n-  const char* text;\n+  tCC* tname;\n+  tCC* fname;\n+  tCC* text;\n {\n #define _FT_(n,p) { n, p },\n   static test_entry_t test_table[] = { FIX_TEST_TABLE { NULL, NULL }};\n@@ -353,7 +337,6 @@ main( argc, argv )\n   char* fname = *++argv;\n   char* tname = *++argv;\n   char* buf;\n-  size_t buf_size = 0;\n \n   if (argc != 3)\n     return run_test( \"No test name provided\", NULL, NULL, 0 );"}, {"sha": "c6a701127328409a0d4f26f2413672a926afd4fd", "filename": "gcc/fixinc/hackshell.tpl", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Fhackshell.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Fhackshell.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Fhackshell.tpl?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -24,7 +24,9 @@\n \n _FOR fix \"\\n\\n\" =]\n     #\n-    # Fix [=_eval _index 1 + #%3d _printf=]:  [=hackname _Cap=]\n+    # Fix [=\n+       _IF FIXINC_DEBUG _exist =][=_eval _index 1 + #%3d _printf=]:  [=\n+       _ENDIF =][=hackname _Cap=]\n     #[=\n     _IF files _exist=]\n     case \"${file}\" in [=_FOR files \" | \\\\\\n\\t\"=]./[=files=][=/files=] )[=\n@@ -117,12 +119,12 @@ _FOR fix \"\\n\\n\" =]\n     _ELIF replace _exist =][=\n \n       _IF replace _len 0 > =]\n-    echo \"[=hackname _down=] replacing file ${file}\" >&2\n+    echo \"[=hackname =] replacing file ${file}\" >&2\n     cat > ${DESTFILE} << '_EOF_'\n [=replace=]\n _EOF_[=\n       _ELSE =]\n-    echo \"[=hackname _down=] bypassing file ${file}\"[=\n+    echo \"[=hackname =] bypassing file ${file}\"[=\n       _ENDIF =]\n     continue\n [="}, {"sha": "25f99ece0911c95e2b2d960129387c71b2959719", "filename": "gcc/fixinc/inclhack.def", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Finclhack.def", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Finclhack.def", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.def?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -8,12 +8,17 @@ autogen definitions inclhack;\n Define all the fixes we know about for repairing damaged headers.\n Please see the README before adding or changing entries in this file.\n \n-Now, first:  DO NOT DO BROKEN FIXES (empty replacement fixes) */\n+Set up a debug test so we can make the templates emit special\n+code while debugging these fixes:  */\n \n+#ifdef DEBUG\n+FIXINC_DEBUG = yes;\n+#endif\n \n+/* DO NOT DO BROKEN FIXES (empty replacement fixes) */\n \n /*\n- *  Purge some HP-UX 11 files that are only borken after they are \"fixed\".\n+ *  Purge some HP-UX 11 files that are only broken after they are \"fixed\".\n  */\n fix = {\n     hackname = AAA_ki_iface;\n@@ -24,7 +29,7 @@ fix = {\n \n \n /*\n- *  Purge some HP-UX 11 files that are only borken after they are \"fixed\".\n+ *  Purge some HP-UX 11 files that are only broken after they are \"fixed\".\n  */\n fix = {\n     hackname = AAA_ki;\n@@ -35,7 +40,7 @@ fix = {\n \n \n /*\n- *  Purge some HP-UX 11 files that are only borken after they are \"fixed\".\n+ *  Purge some HP-UX 11 files that are only broken after they are \"fixed\".\n  */\n fix = {\n     hackname = AAA_ki_calls;\n@@ -46,7 +51,7 @@ fix = {\n \n \n /*\n- *  Purge some HP-UX 11 files that are only borken after they are \"fixed\".\n+ *  Purge some HP-UX 11 files that are only broken after they are \"fixed\".\n  */\n fix = {\n     hackname = AAA_ki_defs;\n@@ -71,7 +76,7 @@ fix = {\n \n \n /*\n- *  Purge some HP-UX 11 files that are only borken after they are \"fixed\".\n+ *  Purge some HP-UX 11 files that are only broken after they are \"fixed\".\n  */\n fix = {\n     hackname = AAA_time;"}, {"sha": "0dcc3a4636c0e6afec3c4ba4a523829b7c0622dc", "filename": "gcc/fixinc/inclhack.sh", "status": "modified", "additions": 171, "deletions": 141, "changes": 312, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Finclhack.sh", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Finclhack.sh", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.sh?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -34,8 +34,9 @@\n # Directory in which to store the results.\n # Fail if no arg to specify a directory for the output.\n if [ \"x$1\" = \"x\" ]\n-then echo fixincludes: no output directory specified\n-exit 1\n+then\n+  echo fixincludes: no output directory specified\n+  exit 1\n fi\n \n LIB=${1}\n@@ -57,6 +58,17 @@ fi\n FIXTESTS=$PWD/fixinc/fixtests\n FIXFIXES=$PWD/fixinc/fixfixes\n \n+if test -z \"$VERBOSE\"\n+then\n+  VERBOSE=2\n+  export VERBOSE\n+else\n+  case \"$VERBOSE\" in\n+  [0-9] ) : ;;\n+  * )  VERBOSE=3 ;;\n+  esac\n+fi\n+\n # Define what target system we're fixing.\n #\n if test -r ./Makefile; then\n@@ -97,7 +109,8 @@ case $LIB in\n     ;;\n esac\n \n-echo Fixing headers into ${LIB} for ${target_canonical} target\n+if test $VERBOSE -gt 0\n+then echo Fixing headers into ${LIB} for ${target_canonical} target ; fi\n \n # Determine whether this system has symbolic links.\n if ln -s X $LIB/ShouldNotExist 2>/dev/null; then\n@@ -132,7 +145,8 @@ INPUT=`${PWDCMD}`\n #\n # # # # # # # # # # # # # # # # # # # # #\n #\n-echo Finding directories and links to directories\n+if test $VERBOSE -gt 1\n+then echo Finding directories and links to directories ; fi\n \n # Find all directories and all symlinks that point to directories.\n # Put the list in $all_dirs.\n@@ -151,7 +165,8 @@ do\n   newdirs=\n   for d in $dirs\n   do\n-    echo \" Searching $INPUT/$d\"\n+    if test $VERBOSE -gt 1\n+    then echo \" Searching $INPUT/$d\" ; fi\n \n     # Find all directories under $d, relative to $d, excluding $d itself.\n     # (The /. is needed after $d in case $d is a symlink.)\n@@ -187,8 +202,10 @@ done\n # # # # # # # # # # # # # # # # # # # # #\n #\n dirs=\n-echo \"All directories (including links to directories):\"\n-echo $all_dirs\n+if test $VERBOSE -gt 2\n+then echo \"All directories (including links to directories):\"\n+     echo $all_dirs\n+fi\n \n for file in $all_dirs; do\n   rm -rf $LIB/$file\n@@ -206,7 +223,8 @@ mkdir $LIB/root\n treetops=\". ${LIB}\"\n \n if $LINKS; then\n-  echo 'Making symbolic directory links'\n+  if test $VERBOSE -gt 1\n+  then echo 'Making symbolic directory links' ; fi\n   cwd=`${PWDCMD}`\n \n   for sym_link in $search_dirs; do\n@@ -236,7 +254,8 @@ if $LINKS; then\n       # If a link points to ., make a similar link to .\n       #\n       if [ ${full_dest_dir} = ${cinput} ]; then\n-        echo ${sym_link} '->' . ': Making self link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' . ': Making self link' ; fi\n         rm -fr ${LIB}/${sym_link} > /dev/null 2>&1\n         ln -s . ${LIB}/${sym_link} > /dev/null 2>&1\n \n@@ -249,7 +268,8 @@ if $LINKS; then\n         # DOTS is the relative path from ${LIB}/${sym_link} back to ${LIB}.\n         dots=`echo \"${sym_link}\" |\n           sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n-        echo ${sym_link} '->' $dots$y ': Making local link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' $dots$y ': Making local link' ; fi\n         rm -fr ${LIB}/${sym_link} > /dev/null 2>&1\n         ln -s $dots$y ${LIB}/${sym_link} > /dev/null 2>&1\n \n@@ -259,7 +279,9 @@ if $LINKS; then\n         # and process $target into ${INPUT}/root$target\n         # treat this directory as if it actually contained the files.\n         #\n-        echo ${sym_link} '->' root${full_dest_dir} ': Making rooted link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' root${full_dest_dir} ': Making rooted link'\n+        fi\n         if [ -d $LIB/root${full_dest_dir} ]\n         then true\n         else\n@@ -283,7 +305,8 @@ if $LINKS; then\n             ${sym_link}/*)\n               dupdir=${LIB}/root${full_dest_dir}/`echo $file2 |\n                       sed -n \"s|^${sym_link}/||p\"`\n-              echo \"Duplicating ${sym_link}'s ${dupdir}\"\n+              if test $VERBOSE -gt 2\n+              then echo \"Duplicating ${sym_link}'s ${dupdir}\" ; fi\n               if [ -d ${dupdir} ]\n               then true\n               else\n@@ -338,7 +361,8 @@ while [ $# != 0 ]; do\n   then continue ; fi\n \n   touch ${DESTDIR}/DONE\n-  echo Fixing directory ${SRCDIR} into ${DESTDIR}\n+  if test $VERBOSE -gt 1\n+  then echo Fixing directory ${SRCDIR} into ${DESTDIR} ; fi\n \n   # Check files which are symlinks as well as those which are files.\n   #\n@@ -362,12 +386,12 @@ while [ $# != 0 ]; do\n     DESTFILE=${DESTDIR}/`echo ${file} | sed \"s;${FIND_BASE}/;;\" `\n \n     #\n-    # Fix   1:  Aaa_Ki_Iface\n+    # Fix Aaa_Ki_Iface\n     #\n     case \"${file}\" in ./sys/ki_iface.h )\n     if ( test -n \"`egrep 'These definitions are for HP Internal developers' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n-    echo \"aaa_ki_iface bypassing file ${file}\"\n+    echo \"AAA_ki_iface bypassing file ${file}\"\n     continue\n \n     fi # end of select 'if'\n@@ -376,12 +400,12 @@ while [ $# != 0 ]; do\n \n \n     #\n-    # Fix   2:  Aaa_Ki\n+    # Fix Aaa_Ki\n     #\n     case \"${file}\" in ./sys/ki.h )\n     if ( test -n \"`egrep '11.00 HP-UX LP64' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n-    echo \"aaa_ki bypassing file ${file}\"\n+    echo \"AAA_ki bypassing file ${file}\"\n     continue\n \n     fi # end of select 'if'\n@@ -390,12 +414,12 @@ while [ $# != 0 ]; do\n \n \n     #\n-    # Fix   3:  Aaa_Ki_Calls\n+    # Fix Aaa_Ki_Calls\n     #\n     case \"${file}\" in ./sys/ki_calls.h )\n     if ( test -n \"`egrep 'kthread_create_caller_t' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n-    echo \"aaa_ki_calls bypassing file ${file}\"\n+    echo \"AAA_ki_calls bypassing file ${file}\"\n     continue\n \n     fi # end of select 'if'\n@@ -404,12 +428,12 @@ while [ $# != 0 ]; do\n \n \n     #\n-    # Fix   4:  Aaa_Ki_Defs\n+    # Fix Aaa_Ki_Defs\n     #\n     case \"${file}\" in ./sys/ki_defs.h )\n     if ( test -n \"`egrep 'Kernel Instrumentation Definitions' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n-    echo \"aaa_ki_defs bypassing file ${file}\"\n+    echo \"AAA_ki_defs bypassing file ${file}\"\n     continue\n \n     fi # end of select 'if'\n@@ -418,23 +442,23 @@ while [ $# != 0 ]; do\n \n \n     #\n-    # Fix   5:  Aaa_Bad_Fixes\n+    # Fix Aaa_Bad_Fixes\n     #\n     case \"${file}\" in ./sundev/ipi_error.h )\n-    echo \"aaa_bad_fixes bypassing file ${file}\"\n+    echo \"AAA_bad_fixes bypassing file ${file}\"\n     continue\n \n     ;; # case end for file name test\n     esac\n \n \n     #\n-    # Fix   6:  Aaa_Time\n+    # Fix Aaa_Time\n     #\n     case \"${file}\" in ./sys/time.h )\n     if ( test -n \"`egrep '11.0 and later representation of ki time' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n-    echo \"aaa_time bypassing file ${file}\"\n+    echo \"AAA_time bypassing file ${file}\"\n     continue\n \n     fi # end of select 'if'\n@@ -443,10 +467,10 @@ while [ $# != 0 ]; do\n \n \n     #\n-    # Fix   7:  Aab_Dgux_Int_Varargs\n+    # Fix Aab_Dgux_Int_Varargs\n     #\n     case \"${file}\" in ./_int_varargs.h )\n-    echo \"aab_dgux_int_varargs replacing file ${file}\" >&2\n+    echo \"AAB_dgux_int_varargs replacing file ${file}\" >&2\n     cat > ${DESTFILE} << '_EOF_'\n #ifndef __INT_VARARGS_H\n #define __INT_VARARGS_H\n@@ -519,13 +543,13 @@ _EOF_\n \n \n     #\n-    # Fix   8:  Aab_Fd_Zero_Asm_Posix_Types_H\n+    # Fix Aab_Fd_Zero_Asm_Posix_Types_H\n     #\n     case \"${file}\" in ./asm/posix_types.h )\n     case \"$target_canonical\" in i[34567]86-*-linux-gnu* )\n     if ( test -z \"`egrep '} while' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n-    echo \"aab_fd_zero_asm_posix_types_h replacing file ${file}\" >&2\n+    echo \"AAB_fd_zero_asm_posix_types_h replacing file ${file}\" >&2\n     cat > ${DESTFILE} << '_EOF_'\n /* This file fixes a bug in the __FD_ZERO macro\n    for older versions of the Linux kernel. */\n@@ -559,11 +583,11 @@ _EOF_\n \n \n     #\n-    # Fix   9:  Aab_Fd_Zero_Gnu_Types_H\n+    # Fix Aab_Fd_Zero_Gnu_Types_H\n     #\n     case \"${file}\" in ./gnu/types.h )\n     case \"$target_canonical\" in i[34567]86-*-linux-gnu* )\n-    echo \"aab_fd_zero_gnu_types_h replacing file ${file}\" >&2\n+    echo \"AAB_fd_zero_gnu_types_h replacing file ${file}\" >&2\n     cat > ${DESTFILE} << '_EOF_'\n /* This file fixes a bug in the __FD_ZERO macro present in glibc 1.x. */\n #ifndef _TYPES_H_WRAPPER\n@@ -595,11 +619,11 @@ _EOF_\n \n \n     #\n-    # Fix  10:  Aab_Fd_Zero_Selectbits_H\n+    # Fix Aab_Fd_Zero_Selectbits_H\n     #\n     case \"${file}\" in ./selectbits.h )\n     case \"$target_canonical\" in i[34567]86-*-linux-gnu* )\n-    echo \"aab_fd_zero_selectbits_h replacing file ${file}\" >&2\n+    echo \"AAB_fd_zero_selectbits_h replacing file ${file}\" >&2\n     cat > ${DESTFILE} << '_EOF_'\n /* This file fixes a bug in the __FD_ZERO macro present in glibc 2.0.x. */\n #ifndef _SELECTBITS_H_WRAPPER\n@@ -635,7 +659,7 @@ _EOF_\n \n \n     #\n-    # Fix  11:  Aab_Svr4_Replace_Byteorder\n+    # Fix Aab_Svr4_Replace_Byteorder\n     #\n     case \"${file}\" in ./sys/byteorder.h )\n     case \"$target_canonical\" in *-*-sysv4* | \\\n@@ -644,7 +668,7 @@ _EOF_\n \ti[34567]86-*-solaris2.[0-4] | \\\n \tpowerpcle-*-solaris2.[0-4] | \\\n \tsparc-*-solaris2.[0-4] )\n-    echo \"aab_svr4_replace_byteorder replacing file ${file}\" >&2\n+    echo \"AAB_svr4_replace_byteorder replacing file ${file}\" >&2\n     cat > ${DESTFILE} << '_EOF_'\n #ifndef _SYS_BYTEORDER_H\n #define _SYS_BYTEORDER_H\n@@ -800,7 +824,7 @@ _EOF_\n \n \n     #\n-    # Fix  12:  Aix_Syswait\n+    # Fix Aix_Syswait\n     #\n     case \"${file}\" in ./sys/wait.h )\n     if ( test -n \"`egrep 'bos325,' ${file}`\"\n@@ -823,7 +847,7 @@ struct rusage;\n \n \n     #\n-    # Fix  13:  Aix_Volatile\n+    # Fix Aix_Volatile\n     #\n     case \"${file}\" in ./sys/signal.h )\n     if ( test -n \"`egrep 'typedef volatile int sig_atomic_t' ${file}`\"\n@@ -844,7 +868,7 @@ struct rusage;\n \n \n     #\n-    # Fix  14:  Alpha_Getopt\n+    # Fix Alpha_Getopt\n     #\n     case \"${file}\" in ./stdio.h | \\\n \t./stdlib.h )\n@@ -866,7 +890,7 @@ struct rusage;\n \n \n     #\n-    # Fix  15:  Alpha_Parens\n+    # Fix Alpha_Parens\n     #\n     case \"${file}\" in ./sym.h )\n     if ( test -n \"`egrep '#ifndef\\\\(__mips64\\\\)' ${file}`\"\n@@ -887,7 +911,7 @@ struct rusage;\n \n \n     #\n-    # Fix  16:  Alpha_Sbrk\n+    # Fix Alpha_Sbrk\n     #\n     case \"${file}\" in ./unistd.h )\n     if ( test -n \"`egrep 'char[ \t]*\\\\*[\t ]*sbrk[ \t]*\\\\(' ${file}`\"\n@@ -908,7 +932,7 @@ struct rusage;\n \n \n     #\n-    # Fix  17:  Arm_Norcroft_Hint\n+    # Fix Arm_Norcroft_Hint\n     #\n     case \"${file}\" in ./X11/Intrinsic.h )\n     if ( test -n \"`egrep '___type p_type' ${file}`\"\n@@ -929,7 +953,7 @@ struct rusage;\n \n \n     #\n-    # Fix  18:  Arm_Wchar\n+    # Fix Arm_Wchar\n     #\n     case \"${file}\" in ./stdlib.h )\n     if ( test -n \"`egrep '#[ \t]*define[ \t]*__wchar_t' ${file}`\"\n@@ -951,7 +975,7 @@ struct rusage;\n \n \n     #\n-    # Fix  19:  Aux_Asm\n+    # Fix Aux_Asm\n     #\n     case \"${file}\" in ./sys/param.h )\n     if ( test -n \"`egrep '#ifndef NOINLINE' ${file}`\"\n@@ -972,7 +996,7 @@ struct rusage;\n \n \n     #\n-    # Fix  20:  Avoid_Bool\n+    # Fix Avoid_Bool\n     #\n     case \"${file}\" in ./curses.h | \\\n \t./curses_colr/curses.h | \\\n@@ -1022,7 +1046,7 @@ struct rusage;\n \n \n     #\n-    # Fix  21:  Bad_Struct_Term\n+    # Fix Bad_Struct_Term\n     #\n     case \"${file}\" in ./curses.h )\n     if ( test -n \"`egrep '^[ \t]*typedef[ \t]+struct[ \t]+term[ \t]*;' ${file}`\"\n@@ -1043,7 +1067,7 @@ struct rusage;\n \n \n     #\n-    # Fix  22:  Badquote\n+    # Fix Badquote\n     #\n     case \"${file}\" in ./sundev/vuid_event.h )\n     fixlist=\"${fixlist}\n@@ -1061,7 +1085,7 @@ struct rusage;\n \n \n     #\n-    # Fix  23:  Bad_Lval\n+    # Fix Bad_Lval\n     #\n     case \"${file}\" in ./libgen.h | \\\n \t./dirent.h | \\\n@@ -1095,7 +1119,7 @@ struct rusage;\n \n \n     #\n-    # Fix  24:  Broken_Assert_Stdio\n+    # Fix Broken_Assert_Stdio\n     #\n     case \"${file}\" in ./assert.h )\n     if ( test -n \"`egrep 'stderr' ${file}`\"\n@@ -1121,7 +1145,7 @@ struct rusage;\n \n \n     #\n-    # Fix  25:  Broken_Assert_Stdlib\n+    # Fix Broken_Assert_Stdlib\n     #\n     case \"${file}\" in ./assert.h )\n     if ( test -n \"`egrep 'exit *\\\\(|abort *\\\\(' ${file}`\"\n@@ -1149,7 +1173,7 @@ struct rusage;\n \n \n     #\n-    # Fix  26:  Bsd43_Io_Macros\n+    # Fix Bsd43_Io_Macros\n     #\n     if ( test -n \"`egrep 'BSD43__IO' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n@@ -1168,7 +1192,7 @@ struct rusage;\n \n \n     #\n-    # Fix  27:  Dec_Intern_Asm\n+    # Fix Dec_Intern_Asm\n     #\n     case \"${file}\" in ./c_asm.h )\n     fixlist=\"${fixlist}\n@@ -1191,7 +1215,7 @@ struct rusage;\n \n \n     #\n-    # Fix  28:  No_Double_Slash\n+    # Fix No_Double_Slash\n     #\n     if ${FIXTESTS} ${file} double_slash\n     then\n@@ -1207,7 +1231,7 @@ struct rusage;\n \n \n     #\n-    # Fix  29:  Ecd_Cursor\n+    # Fix Ecd_Cursor\n     #\n     case \"${file}\" in ./sunwindow/win_lock.h | \\\n \t./sunwindow/win_cursor.h )\n@@ -1226,7 +1250,7 @@ struct rusage;\n \n \n     #\n-    # Fix  30:  Sco5_Stat_Wrappers\n+    # Fix Sco5_Stat_Wrappers\n     #\n     case \"${file}\" in ./sys/stat.h )\n     case \"$target_canonical\" in i*86-*-sco3.2v5* )\n@@ -1257,7 +1281,7 @@ extern \"C\"\\\n \n \n     #\n-    # Fix  31:  End_Else_Label\n+    # Fix End_Else_Label\n     #\n     if ${FIXTESTS} ${file} else_endif_label\n     then\n@@ -1273,7 +1297,7 @@ extern \"C\"\\\n \n \n     #\n-    # Fix  32:  Hp_Inline\n+    # Fix Hp_Inline\n     #\n     case \"${file}\" in ./sys/spinlock.h )\n     if ( test -n \"`egrep 'include.*\\\"\\\\.\\\\./machine/' ${file}`\"\n@@ -1295,7 +1319,7 @@ extern \"C\"\\\n \n \n     #\n-    # Fix  33:  Hp_Sysfile\n+    # Fix Hp_Sysfile\n     #\n     case \"${file}\" in ./sys/file.h )\n     if ( test -n \"`egrep 'HPUX_SOURCE' ${file}`\"\n@@ -1316,7 +1340,7 @@ extern \"C\"\\\n \n \n     #\n-    # Fix  34:  Cxx_Unready\n+    # Fix Cxx_Unready\n     #\n     case \"${file}\" in ./sys/mman.h | \\\n \t./rpc/types.h )\n@@ -1348,7 +1372,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  35:  Hpux_Maxint\n+    # Fix Hpux_Maxint\n     #\n     case \"${file}\" in ./sys/param.h )\n     fixlist=\"${fixlist}\n@@ -1371,7 +1395,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  36:  Hpux_Systime\n+    # Fix Hpux_Systime\n     #\n     case \"${file}\" in ./sys/time.h )\n     if ( test -n \"`egrep '^extern struct sigevent;' ${file}`\"\n@@ -1392,7 +1416,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  37:  Hpux8_Bogus_Inlines\n+    # Fix Hpux8_Bogus_Inlines\n     #\n     case \"${file}\" in ./math.h )\n     if ( test -n \"`egrep 'inline' ${file}`\"\n@@ -1416,7 +1440,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  38:  Hpux11_Uint32_C\n+    # Fix Hpux11_Uint32_C\n     #\n     case \"${file}\" in ./inttypes.h )\n     if ( test -n \"`egrep '^#define UINT32_C\\\\(__c\\\\)[ \t]*__CONCAT__\\\\(__CONCAT_U__\\\\(__c\\\\),l\\\\)' ${file}`\"\n@@ -1437,7 +1461,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  39:  Interactv_Add1\n+    # Fix Interactv_Add1\n     #\n     case \"${file}\" in ./stdio.h | \\\n \t./math.h | \\\n@@ -1464,7 +1488,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  40:  Interactv_Add2\n+    # Fix Interactv_Add2\n     #\n     case \"${file}\" in ./math.h )\n     if ( test '('  -d /etc/conf/kconfig.d ')' -a \\\n@@ -1486,7 +1510,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  41:  Interactv_Add3\n+    # Fix Interactv_Add3\n     #\n     case \"${file}\" in ./sys/limits.h )\n     if ( test '('  -d /etc/conf/kconfig.d ')' -a \\\n@@ -1509,7 +1533,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  42:  Io_Def_Quotes\n+    # Fix Io_Def_Quotes\n     #\n     if ( test -n \"`egrep '[ \t]*[ \t](_|DES)IO[A-Z]*[ \t]*\\\\( *[^,'\\\\'']' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n@@ -1530,7 +1554,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  43:  Ioctl_Fix_Ctrl\n+    # Fix Ioctl_Fix_Ctrl\n     #\n     if ( test -n \"`egrep 'CTRL[ \t]*\\\\(' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n@@ -1553,7 +1577,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  44:  Ip_Missing_Semi\n+    # Fix Ip_Missing_Semi\n     #\n     case \"${file}\" in ./netinet/ip.h )\n     if ( test -n \"`egrep '}$' ${file}`\"\n@@ -1574,7 +1598,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  45:  Irix_Multiline_Cmnt\n+    # Fix Irix_Multiline_Cmnt\n     #\n     case \"${file}\" in ./sys/types.h )\n     fixlist=\"${fixlist}\n@@ -1593,7 +1617,7 @@ extern \"C\" {\\\n \n \n     #\n-    # Fix  46:  Irix_Sockaddr\n+    # Fix Irix_Sockaddr\n     #\n     case \"${file}\" in ./rpc/auth.h )\n     if ( test -n \"`egrep 'authdes_create.*struct sockaddr' ${file}`\"\n@@ -1616,7 +1640,7 @@ struct sockaddr;\n \n \n     #\n-    # Fix  47:  Irix_Struct__File\n+    # Fix Irix_Struct__File\n     #\n     case \"${file}\" in ./rpc/xdr.h )\n     fixlist=\"${fixlist}\n@@ -1636,7 +1660,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  48:  Irix_Asm_Apostrophe\n+    # Fix Irix_Asm_Apostrophe\n     #\n     case \"${file}\" in ./sys/asm.h )\n     if ( test -n \"`egrep '^[ \t]*#.*[Ww]e'\\\\''re' ${file}`\"\n@@ -1657,7 +1681,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  49:  Isc_Fmod\n+    # Fix Isc_Fmod\n     #\n     case \"${file}\" in ./math.h )\n     if ( test -n \"`egrep 'fmod\\\\(double\\\\)' ${file}`\"\n@@ -1678,7 +1702,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  50:  Motorola_Nested\n+    # Fix Motorola_Nested\n     #\n     case \"${file}\" in ./limits.h | \\\n \t./sys/limits.h )\n@@ -1701,7 +1725,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  51:  Isc_Sys_Limits\n+    # Fix Isc_Sys_Limits\n     #\n     case \"${file}\" in ./sys/limits.h )\n     if ( test -n \"`egrep 'CHILD_MAX' ${file}`\"\n@@ -1723,7 +1747,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  52:  Kandr_Concat\n+    # Fix Kandr_Concat\n     #\n     case \"${file}\" in ./sparc/asm_linkage.h | \\\n \t./sun3/asm_linkage.h | \\\n@@ -1761,7 +1785,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  53:  Limits_Ifndefs\n+    # Fix Limits_Ifndefs\n     #\n     case \"${file}\" in ./limits.h | \\\n \t./sys/limits.h )\n@@ -1819,7 +1843,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  54:  Lynx_Void_Int\n+    # Fix Lynx_Void_Int\n     #\n     case \"${file}\" in ./curses.h )\n     if ( test -n \"`egrep '#[ \t]*define[ \t]+void[ \t]+int' ${file}`\"\n@@ -1840,7 +1864,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  55:  Lynxos_Fcntl_Proto\n+    # Fix Lynxos_Fcntl_Proto\n     #\n     case \"${file}\" in ./fcntl.h )\n     if ( test -n \"`egrep 'fcntl.*\\\\(int, int, int\\\\)' ${file}`\"\n@@ -1861,7 +1885,7 @@ struct __file_s;\n \n \n     #\n-    # Fix  56:  M88k_Bad_Hypot_Opt\n+    # Fix M88k_Bad_Hypot_Opt\n     #\n     case \"${file}\" in ./math.h )\n     case \"$target_canonical\" in m88k-motorola-sysv3* )\n@@ -1896,7 +1920,7 @@ static __inline__ double fake_hypot (x, y)\\\n \n \n     #\n-    # Fix  57:  M88k_Bad_S_If\n+    # Fix M88k_Bad_S_If\n     #\n     case \"${file}\" in ./sys/stat.h )\n     case \"$target_canonical\" in m88k-*-sysv3* )\n@@ -1921,7 +1945,7 @@ static __inline__ double fake_hypot (x, y)\\\n \n \n     #\n-    # Fix  58:  M88k_Multi_Incl\n+    # Fix M88k_Multi_Incl\n     #\n     case \"${file}\" in ./time.h )\n     case \"$target_canonical\" in m88k-tektronix-sysv3* )\n@@ -1954,7 +1978,7 @@ static __inline__ double fake_hypot (x, y)\\\n \n \n     #\n-    # Fix  59:  Machine_Name\n+    # Fix Machine_Name\n     #\n     if ( test -n \"`egrep '^#[ \t]*(if|elif).*[^a-zA-Z0-9_](_*[MSRrhim]|[Mbimnpstuv])[a-zA-Z0-9_]' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n@@ -2006,7 +2030,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  60:  Math_Exception\n+    # Fix Math_Exception\n     #\n     case \"${file}\" in ./math.h )\n     if ( test -n \"`egrep 'struct exception' ${file}`\"\n@@ -2039,7 +2063,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  61:  Math_Huge_Val_From_Dbl_Max\n+    # Fix Math_Huge_Val_From_Dbl_Max\n     #\n     case \"${file}\" in ./math.h )\n     if ( test -n \"`egrep 'define[ \t]*HUGE_VAL[ \t]*DBL_MAX' ${file}`\"\n@@ -2072,7 +2096,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  62:  Math_Huge_Val_Ifndef\n+    # Fix Math_Huge_Val_Ifndef\n     #\n     case \"${file}\" in ./math/math.h )\n     if ( test -n \"`egrep 'define[ \t]*HUGE_VAL' ${file}`\"\n@@ -2098,7 +2122,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  63:  Nested_Comment\n+    # Fix Nested_Comment\n     #\n     case \"${file}\" in ./rpc/rpc.h )\n     fixlist=\"${fixlist}\n@@ -2116,7 +2140,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  64:  News_Os_Recursion\n+    # Fix News_Os_Recursion\n     #\n     case \"${file}\" in ./stdlib.h )\n     if ( test -n \"`egrep '#include <stdlib.h>' ${file}`\"\n@@ -2142,7 +2166,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  65:  Next_Math_Prefix\n+    # Fix Next_Math_Prefix\n     #\n     case \"${file}\" in ./ansi/math.h )\n     if ( test -n \"`egrep '^extern.*double.*__const__.*' ${file}`\"\n@@ -2167,7 +2191,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  66:  Next_Template\n+    # Fix Next_Template\n     #\n     case \"${file}\" in ./bsd/libc.h )\n     if ( test -n \"`egrep 'template' ${file}`\"\n@@ -2189,7 +2213,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  67:  Next_Volitile\n+    # Fix Next_Volitile\n     #\n     case \"${file}\" in ./ansi/stdlib.h )\n     if ( test -n \"`egrep 'volatile' ${file}`\"\n@@ -2211,7 +2235,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  68:  Next_Wait_Union\n+    # Fix Next_Wait_Union\n     #\n     case \"${file}\" in ./sys/wait.h )\n     if ( test -n \"`egrep 'wait\\\\(union wait' ${file}`\"\n@@ -2232,7 +2256,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  69:  Nodeent_Syntax\n+    # Fix Nodeent_Syntax\n     #\n     case \"${file}\" in ./netdnet/dnetdb.h )\n     fixlist=\"${fixlist}\n@@ -2250,7 +2274,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  70:  Osf_Namespace_A\n+    # Fix Osf_Namespace_A\n     #\n     case \"${file}\" in ./reg_types.h | \\\n \t./sys/lc_core.h )\n@@ -2277,7 +2301,7 @@ s/\\\\+++fixinc_eol+++/\\\\/g\n \n \n     #\n-    # Fix  71:  Osf_Namespace_B\n+    # Fix Osf_Namespace_B\n     #\n     case \"${file}\" in ./regex.h )\n     if ( test '('  -r reg_types.h ')' -a \\\n@@ -2305,7 +2329,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  72:  Pthread_Page_Size\n+    # Fix Pthread_Page_Size\n     #\n     case \"${file}\" in ./pthread.h )\n     if ( test -n \"`egrep '^int __page_size' ${file}`\"\n@@ -2326,7 +2350,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  73:  Read_Ret_Type\n+    # Fix Read_Ret_Type\n     #\n     case \"${file}\" in ./stdio.h )\n     if ( test -n \"`egrep 'extern int\t.*, fread\\\\(\\\\), fwrite\\\\(\\\\)' ${file}`\"\n@@ -2348,7 +2372,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  74:  Rs6000_Double\n+    # Fix Rs6000_Double\n     #\n     case \"${file}\" in ./math.h )\n     if ( test -n \"`egrep '[^a-zA-Z_]class\\\\(' ${file}`\"\n@@ -2374,7 +2398,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  75:  Rs6000_Fchmod\n+    # Fix Rs6000_Fchmod\n     #\n     case \"${file}\" in ./sys/stat.h )\n     if ( test -n \"`egrep 'fchmod\\\\(char' ${file}`\"\n@@ -2395,7 +2419,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  76:  Rs6000_Param\n+    # Fix Rs6000_Param\n     #\n     case \"${file}\" in ./stdio.h | \\\n \t./unistd.h )\n@@ -2417,7 +2441,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  77:  Sony_Include\n+    # Fix Sony_Include\n     #\n     case \"${file}\" in ./machine/machparam.h )\n     if ( test -n \"`egrep '\\\"\\\\.\\\\./machine/endian.h\\\"' ${file}`\"\n@@ -2438,7 +2462,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  78:  Statsswtch\n+    # Fix Statsswtch\n     #\n     case \"${file}\" in ./rpcsvc/rstat.h )\n     if ( test -n \"`egrep 'boottime$' ${file}`\"\n@@ -2459,7 +2483,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  79:  Stdio_Va_List\n+    # Fix Stdio_Va_List\n     #\n     case \"${file}\" in ./stdio.h )\n     if ( test -z \"`egrep '__gnuc_va_list' ${file}`\"\n@@ -2501,7 +2525,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  80:  Sun_Bogus_Ifdef\n+    # Fix Sun_Bogus_Ifdef\n     #\n     case \"${file}\" in ./hsfs/hsfs_spec.h | \\\n \t./hsfs/iso_spec.h )\n@@ -2523,7 +2547,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  81:  Sun_Bogus_Ifdef_Sun4c\n+    # Fix Sun_Bogus_Ifdef_Sun4c\n     #\n     case \"${file}\" in ./hsfs/hsnode.h )\n     if ( test -n \"`egrep '#ifdef __i386__ || __sun4c__' ${file}`\"\n@@ -2544,7 +2568,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  82:  Sun_Catmacro\n+    # Fix Sun_Catmacro\n     #\n     case \"${file}\" in ./pixrect/memvar.h )\n     if ( test -n \"`egrep '^#define[ \t]+CAT\\\\(a,b\\\\)' ${file}`\"\n@@ -2572,7 +2596,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  83:  Sun_Malloc\n+    # Fix Sun_Malloc\n     #\n     case \"${file}\" in ./malloc.h )\n     fixlist=\"${fixlist}\n@@ -2593,7 +2617,7 @@ typedef __regmatch_t\tregmatch_t;\n \n \n     #\n-    # Fix  84:  Sun_Memcpy\n+    # Fix Sun_Memcpy\n     #\n     case \"${file}\" in ./memory.h )\n     if ( test -n \"`egrep '/\\\\*\t@\\\\(#\\\\)(head/memory.h\t50.1\t |memory\\\\.h 1\\\\.[2-4] 8./../.. SMI; from S5R2 1\\\\.2\t)\\\\*/' ${file}`\"\n@@ -2635,7 +2659,7 @@ extern int memcmp();\\\n \n \n     #\n-    # Fix  85:  Sun_Rusers_Semi\n+    # Fix Sun_Rusers_Semi\n     #\n     case \"${file}\" in ./rpcsvc/rusers.h )\n     if ( test -n \"`egrep '_cnt$' ${file}`\"\n@@ -2656,7 +2680,7 @@ extern int memcmp();\\\n \n \n     #\n-    # Fix  86:  Sun_Signal\n+    # Fix Sun_Signal\n     #\n     case \"${file}\" in ./sys/signal.h | \\\n \t./signal.h )\n@@ -2685,7 +2709,7 @@ void\t(*signal(...))(...);\\\n \n \n     #\n-    # Fix  87:  Sun_Auth_Proto\n+    # Fix Sun_Auth_Proto\n     #\n     case \"${file}\" in ./rpc/auth.h | \\\n \t./rpc/clnt.h | \\\n@@ -2714,7 +2738,7 @@ void\t(*signal(...))(...);\\\n \n \n     #\n-    # Fix  88:  Sunos_Matherr_Decl\n+    # Fix Sunos_Matherr_Decl\n     #\n     case \"${file}\" in ./math.h )\n     if ( test -z \"`egrep 'matherr.*struct exception' ${file}`\"\n@@ -2738,7 +2762,7 @@ struct exception;\n \n \n     #\n-    # Fix  89:  Sunos_Strlen\n+    # Fix Sunos_Strlen\n     #\n     case \"${file}\" in ./strings.h )\n     if ( test -n \"`egrep 'int[ \t]*strlen' ${file}`\"\n@@ -2759,7 +2783,7 @@ struct exception;\n \n \n     #\n-    # Fix  90:  Systypes\n+    # Fix Systypes\n     #\n     case \"${file}\" in ./sys/types.h | \\\n \t./stdlib.h | \\\n@@ -2813,7 +2837,7 @@ typedef __SIZE_TYPE__ size_t;\\\n \n \n     #\n-    # Fix  91:  Systypes_For_Aix\n+    # Fix Systypes_For_Aix\n     #\n     case \"${file}\" in ./sys/types.h )\n     if ( test -n \"`egrep 'typedef[ \t][ \t]*[A-Za-z_][ \tA-Za-z_]*[ \t]size_t' ${file}`\"\n@@ -2843,7 +2867,7 @@ typedef __SIZE_TYPE__ size_t;\\\n \n \n     #\n-    # Fix  92:  Sysv68_String\n+    # Fix Sysv68_String\n     #\n     case \"${file}\" in ./string.h )\n     fixlist=\"${fixlist}\n@@ -2871,7 +2895,7 @@ extern unsigned int\\\n \n \n     #\n-    # Fix  93:  Sysz_Stdlib_For_Sun\n+    # Fix Sysz_Stdlib_For_Sun\n     #\n     case \"${file}\" in ./stdlib.h )\n     fixlist=\"${fixlist}\n@@ -2902,7 +2926,7 @@ extern unsigned int\\\n \n \n     #\n-    # Fix  94:  Sysz_Stdtypes_For_Sun\n+    # Fix Sysz_Stdtypes_For_Sun\n     #\n     case \"${file}\" in ./sys/stdtypes.h )\n     fixlist=\"${fixlist}\n@@ -2940,7 +2964,7 @@ extern unsigned int\\\n \n \n     #\n-    # Fix  95:  Tinfo_Cplusplus\n+    # Fix Tinfo_Cplusplus\n     #\n     case \"${file}\" in ./tinfo.h )\n     if ( test -n \"`egrep '[ \t]_cplusplus' ${file}`\"\n@@ -2961,7 +2985,7 @@ extern unsigned int\\\n \n \n     #\n-    # Fix  96:  Ultrix_Ansi_Compat\n+    # Fix Ultrix_Ansi_Compat\n     #\n     case \"${file}\" in ./ansi_compat.h )\n     if ( test -n \"`egrep 'ULTRIX' ${file}`\"\n@@ -2985,7 +3009,7 @@ extern unsigned int\\\n \n \n     #\n-    # Fix  97:  Ultrix_Fix_Fixproto\n+    # Fix Ultrix_Fix_Fixproto\n     #\n     case \"${file}\" in ./sys/utsname.h )\n     if ( test -n \"`egrep 'ULTRIX' ${file}`\"\n@@ -3008,7 +3032,7 @@ struct utsname;\n \n \n     #\n-    # Fix  98:  Ultrix_Atof_Param\n+    # Fix Ultrix_Atof_Param\n     #\n     case \"${file}\" in ./math.h )\n     if ( test -n \"`egrep 'atof\\\\([ \t]*char' ${file}`\"\n@@ -3029,7 +3053,7 @@ struct utsname;\n \n \n     #\n-    # Fix  99:  Ultrix_Const\n+    # Fix Ultrix_Const\n     #\n     case \"${file}\" in ./stdio.h )\n     fixlist=\"${fixlist}\n@@ -3055,7 +3079,7 @@ struct utsname;\n \n \n     #\n-    # Fix 100:  Ultrix_Ifdef\n+    # Fix Ultrix_Ifdef\n     #\n     case \"${file}\" in ./sys/file.h )\n     if ( test -n \"`egrep '#ifdef KERNEL' ${file}`\"\n@@ -3076,7 +3100,7 @@ struct utsname;\n \n \n     #\n-    # Fix 101:  Ultrix_Nested_Cmnt\n+    # Fix Ultrix_Nested_Cmnt\n     #\n     case \"${file}\" in ./rpc/svc.h )\n     fixlist=\"${fixlist}\n@@ -3094,7 +3118,7 @@ struct utsname;\n \n \n     #\n-    # Fix 102:  Ultrix_Static\n+    # Fix Ultrix_Static\n     #\n     case \"${file}\" in ./machine/cpu.h )\n     if ( test -n \"`egrep '#include \\\"r[34]_cpu' ${file}`\"\n@@ -3117,7 +3141,7 @@ struct utsname;\n \n \n     #\n-    # Fix 103:  Undefine_Null\n+    # Fix Undefine_Null\n     #\n     if ( test -n \"`egrep '^#[ \t]*define[ \t]*[ \t]NULL[ \t]' ${file}`\"\n        ) > /dev/null 2>&1 ; then\n@@ -3140,7 +3164,7 @@ struct utsname;\n \n \n     #\n-    # Fix 104:  Unixware7_Byteorder_Fix\n+    # Fix Unixware7_Byteorder_Fix\n     #\n     case \"${file}\" in ./arpa/inet.h )\n     case \"$target_canonical\" in *-*-sysv4* | \\\n@@ -3170,7 +3194,7 @@ struct utsname;\n \n \n     #\n-    # Fix 105:  Va_I960_Macro\n+    # Fix Va_I960_Macro\n     #\n     case \"${file}\" in ./arch/i960/archI960.h )\n     if ( test -n \"`egrep '__(vsiz|vali|vpad|alignof__)' ${file}`\"\n@@ -3194,7 +3218,7 @@ struct utsname;\n \n \n     #\n-    # Fix 106:  Void_Null\n+    # Fix Void_Null\n     #\n     case \"${file}\" in ./curses.h | \\\n \t./dbm.h | \\\n@@ -3225,7 +3249,7 @@ struct utsname;\n \n \n     #\n-    # Fix 107:  Vxworks_Gcc_Problem\n+    # Fix Vxworks_Gcc_Problem\n     #\n     case \"${file}\" in ./types/vxTypesBase.h )\n     if ( test -n \"`egrep '__GNUC_TYPEOF_FEATURE_BROKEN_USE_DEFAULT_UNTIL_FIXED__' ${file}`\"\n@@ -3267,7 +3291,7 @@ struct utsname;\n \n \n     #\n-    # Fix 108:  Vxworks_Needs_Vxtypes\n+    # Fix Vxworks_Needs_Vxtypes\n     #\n     case \"${file}\" in ./time.h )\n     if ( test -n \"`egrep 'uint_t[ \t][ \t]*_clocks_per_sec' ${file}`\"\n@@ -3288,7 +3312,7 @@ struct utsname;\n \n \n     #\n-    # Fix 109:  Vxworks_Needs_Vxworks\n+    # Fix Vxworks_Needs_Vxworks\n     #\n     case \"${file}\" in ./sys/stat.h )\n     if ( test -n \"`egrep '#[ \t]define[ \t][ \t]*__INCstath' ${file}`\"\n@@ -3316,7 +3340,7 @@ struct utsname;\n \n \n     #\n-    # Fix 110:  Vxworks_Time\n+    # Fix Vxworks_Time\n     #\n     case \"${file}\" in ./time.h )\n     if ( test -n \"`egrep 'VOIDFUNCPTR' ${file}`\"\n@@ -3350,7 +3374,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\n \n \n     #\n-    # Fix 111:  X11_Class\n+    # Fix X11_Class\n     #\n     case \"${file}\" in ./X11/ShellP.h )\n     if ( test -z \"`egrep '__cplusplus' ${file}`\"\n@@ -3378,7 +3402,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\n \n \n     #\n-    # Fix 112:  X11_Class_Usage\n+    # Fix X11_Class_Usage\n     #\n     case \"${file}\" in ./Xm/BaseClassI.h )\n     if ( test -z \"`egrep '__cplusplus' ${file}`\"\n@@ -3399,7 +3423,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\n \n \n     #\n-    # Fix 113:  X11_New\n+    # Fix X11_New\n     #\n     case \"${file}\" in ./Xm/Traversal.h )\n     if ( test -z \"`egrep '__cplusplus' ${file}`\"\n@@ -3428,7 +3452,7 @@ typedef void (*__gcc_VOIDFUNCPTR) ();\\\n \n \n     #\n-    # Fix 114:  X11_Sprintf\n+    # Fix X11_Sprintf\n     #\n     case \"${file}\" in ./X11*/Xmu.h )\n     fixlist=\"${fixlist}\n@@ -3492,7 +3516,8 @@ while [ $# != 0 ]; do\n         cp $2 $3 >/dev/null 2>&1 || echo \"Can't copy $2\" >&2\n         chmod +w $3 2>/dev/null\n         chmod a+r $3 2>/dev/null\n-        echo Copied $2\n+        if test $VERBOSE -gt 2\n+        then echo Copied $2 ; fi\n         for include in `egrep '^[ \t]*#[ \t]*include[ \t]*\"[^/]' $3 |\n              sed -e 's/^[ \t]*#[ \t]*include[ \t]*\"\\([^\"]*\\)\".*$/\\1/'`\n         do\n@@ -3508,17 +3533,22 @@ while [ $# != 0 ]; do\n   shift\n done\n \n-echo 'Cleaning up DONE files.'\n+if test $VERBOSE -gt 2\n+then echo 'Cleaning up DONE files.' ; fi\n cd $LIB\n find . -name DONE -exec rm -f '{}' ';'\n \n-echo 'Removing unneeded directories:'\n+if test $VERBOSE -gt 1\n+then echo 'Cleaning up unneeded directories:' ; fi\n cd $LIB\n all_dirs=`find . -type d \\! -name '.' -print | sort -r`\n for file in $all_dirs; do\n   rmdir $LIB/$file > /dev/null 2>&1\n done\n \n+if test $VERBOSE -gt 0\n+then echo fixincludes is done ; fi\n+\n # # # # # # # # # # # # # # # # # # # # #\n #\n # End of for INPUT directories"}, {"sha": "4300f216935959954aad67ba5ce8b401f0a50551", "filename": "gcc/fixinc/inclhack.tpl", "status": "modified", "additions": 48, "deletions": 17, "changes": 65, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Finclhack.tpl", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/87ad679bfb5aecb457aab8e7abf6030b82a020d6/gcc%2Ffixinc%2Finclhack.tpl", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ffixinc%2Finclhack.tpl?ref=87ad679bfb5aecb457aab8e7abf6030b82a020d6", "patch": "@@ -1,4 +1,4 @@\n-[= autogen template -*- Mode: ksh -*-\n+[= autogen template -*- Mode: sh -*-\n sh\n #\n #\n@@ -25,8 +25,9 @@ sh\n # Directory in which to store the results.\n # Fail if no arg to specify a directory for the output.\n if [ \"x$1\" = \"x\" ]\n-then echo fixincludes: no output directory specified\n-exit 1\n+then\n+  echo fixincludes: no output directory specified\n+  exit 1\n fi\n \n LIB=${1}\n@@ -48,6 +49,18 @@ fi\n FIXTESTS=$PWD/fixinc/fixtests\n FIXFIXES=$PWD/fixinc/fixfixes\n [=_ENDIF=]\n+if test -z \"$VERBOSE\"\n+then\n+  VERBOSE=[=\n+  _IF FIXINC_DEBUG _exist =]3[=_ELSE=]2[=_ENDIF=]\n+  export VERBOSE\n+else\n+  case \"$VERBOSE\" in\n+  [0-9] ) : ;;\n+  * )  VERBOSE=3 ;;\n+  esac\n+fi\n+\n # Define what target system we're fixing.\n #\n if test -r ./Makefile; then\n@@ -92,7 +105,8 @@ case $LIB in\n     ;;\n esac\n \n-echo Fixing headers into ${LIB} for ${target_canonical} target\n+if test $VERBOSE -gt 0\n+then echo Fixing headers into ${LIB} for ${target_canonical} target ; fi\n \n # Determine whether this system has symbolic links.\n if ln -s X $LIB/ShouldNotExist 2>/dev/null; then\n@@ -127,7 +141,8 @@ INPUT=`${PWDCMD}`\n #\n # # # # # # # # # # # # # # # # # # # # #\n #\n-echo Finding directories and links to directories\n+if test $VERBOSE -gt 1\n+then echo Finding directories and links to directories ; fi\n \n # Find all directories and all symlinks that point to directories.\n # Put the list in $all_dirs.\n@@ -146,7 +161,8 @@ do\n   newdirs=\n   for d in $dirs\n   do\n-    echo \" Searching $INPUT/$d\"\n+    if test $VERBOSE -gt 1\n+    then echo \" Searching $INPUT/$d\" ; fi\n \n     # Find all directories under $d, relative to $d, excluding $d itself.\n     # (The /. is needed after $d in case $d is a symlink.)\n@@ -182,8 +198,10 @@ done\n # # # # # # # # # # # # # # # # # # # # #\n #\n dirs=\n-echo \"All directories (including links to directories):\"\n-echo $all_dirs\n+if test $VERBOSE -gt 2\n+then echo \"All directories (including links to directories):\"\n+     echo $all_dirs\n+fi\n \n for file in $all_dirs; do\n   rm -rf $LIB/$file\n@@ -201,7 +219,8 @@ mkdir $LIB/root\n treetops=\". ${LIB}\"\n \n if $LINKS; then\n-  echo 'Making symbolic directory links'\n+  if test $VERBOSE -gt 1\n+  then echo 'Making symbolic directory links' ; fi\n   cwd=`${PWDCMD}`\n \n   for sym_link in $search_dirs; do\n@@ -231,7 +250,8 @@ if $LINKS; then\n       # If a link points to ., make a similar link to .\n       #\n       if [ ${full_dest_dir} = ${cinput} ]; then\n-        echo ${sym_link} '->' . ': Making self link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' . ': Making self link' ; fi\n         rm -fr ${LIB}/${sym_link} > /dev/null 2>&1\n         ln -s . ${LIB}/${sym_link} > /dev/null 2>&1\n \n@@ -244,7 +264,8 @@ if $LINKS; then\n         # DOTS is the relative path from ${LIB}/${sym_link} back to ${LIB}.\n         dots=`echo \"${sym_link}\" |\n           sed -e 's@^./@@' -e 's@/./@/@g' -e 's@[^/][^/]*@..@g' -e 's@..$@@'`\n-        echo ${sym_link} '->' $dots$y ': Making local link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' $dots$y ': Making local link' ; fi\n         rm -fr ${LIB}/${sym_link} > /dev/null 2>&1\n         ln -s $dots$y ${LIB}/${sym_link} > /dev/null 2>&1\n \n@@ -254,7 +275,9 @@ if $LINKS; then\n         # and process $target into ${INPUT}/root$target\n         # treat this directory as if it actually contained the files.\n         #\n-        echo ${sym_link} '->' root${full_dest_dir} ': Making rooted link'\n+        if test $VERBOSE -gt 2\n+        then echo ${sym_link} '->' root${full_dest_dir} ': Making rooted link'\n+        fi\n         if [ -d $LIB/root${full_dest_dir} ]\n         then true\n         else\n@@ -278,7 +301,8 @@ if $LINKS; then\n             ${sym_link}/*)\n               dupdir=${LIB}/root${full_dest_dir}/`echo $file2 |\n                       sed -n \"s|^${sym_link}/||p\"`\n-              echo \"Duplicating ${sym_link}'s ${dupdir}\"\n+              if test $VERBOSE -gt 2\n+              then echo \"Duplicating ${sym_link}'s ${dupdir}\" ; fi\n               if [ -d ${dupdir} ]\n               then true\n               else\n@@ -333,7 +357,8 @@ while [ $# != 0 ]; do\n   then continue ; fi\n \n   touch ${DESTDIR}/DONE\n-  echo Fixing directory ${SRCDIR} into ${DESTDIR}\n+  if test $VERBOSE -gt 1\n+  then echo Fixing directory ${SRCDIR} into ${DESTDIR} ; fi\n \n   # Check files which are symlinks as well as those which are files.\n   #\n@@ -384,7 +409,8 @@ while [ $# != 0 ]; do\n         cp $2 $3 >/dev/null 2>&1 || echo \"Can't copy $2\" >&2\n         chmod +w $3 2>/dev/null\n         chmod a+r $3 2>/dev/null\n-        echo Copied $2\n+        if test $VERBOSE -gt 2\n+        then echo Copied $2 ; fi\n         for include in `egrep '^[ \t]*#[ \t]*include[ \t]*\"[^/]' $3 |\n              sed -e 's/^[ \t]*#[ \t]*include[ \t]*\"\\([^\"]*\\)\".*$/\\1/'`\n         do\n@@ -400,17 +426,22 @@ while [ $# != 0 ]; do\n   shift\n done\n \n-echo 'Cleaning up DONE files.'\n+if test $VERBOSE -gt 2\n+then echo 'Cleaning up DONE files.' ; fi\n cd $LIB\n find . -name DONE -exec rm -f '{}' ';'\n \n-echo 'Removing unneeded directories:'\n+if test $VERBOSE -gt 1\n+then echo 'Cleaning up unneeded directories:' ; fi\n cd $LIB\n all_dirs=`find . -type d \\! -name '.' -print | sort -r`\n for file in $all_dirs; do\n   rmdir $LIB/$file > /dev/null 2>&1\n done\n \n+if test $VERBOSE -gt 0\n+then echo fixincludes is done ; fi\n+\n # # # # # # # # # # # # # # # # # # # # #\n #\n # End of for INPUT directories"}]}