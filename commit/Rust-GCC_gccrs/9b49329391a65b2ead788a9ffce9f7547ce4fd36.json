{"sha": "9b49329391a65b2ead788a9ffce9f7547ce4fd36", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWI0OTMyOTM5MWE2NWIyZWFkNzg4YTlmZmNlOWY3NTQ3Y2U0ZmQzNg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1997-11-25T07:00:30Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1997-11-25T07:00:30Z"}, "message": "typeck.c (mark_addressable): Don't assume a FUNCTION_DECL has DECL_LANG_SPECIFIC.\n\n\t* typeck.c (mark_addressable): Don't assume a FUNCTION_DECL\n\thas DECL_LANG_SPECIFIC.\n\nFrom-SVN: r16695", "tree": {"sha": "007bdc948ac94939e22501f01d754c18c8361695", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/007bdc948ac94939e22501f01d754c18c8361695"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9b49329391a65b2ead788a9ffce9f7547ce4fd36", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b49329391a65b2ead788a9ffce9f7547ce4fd36", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9b49329391a65b2ead788a9ffce9f7547ce4fd36", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9b49329391a65b2ead788a9ffce9f7547ce4fd36/comments", "author": null, "committer": null, "parents": [{"sha": "20b9016983fc3fda1ff9f8262b2b428f7a689ea3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/20b9016983fc3fda1ff9f8262b2b428f7a689ea3", "html_url": "https://github.com/Rust-GCC/gccrs/commit/20b9016983fc3fda1ff9f8262b2b428f7a689ea3"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "8af98a4f8aede49b6baedcf975f1ecfd27f9701b", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b49329391a65b2ead788a9ffce9f7547ce4fd36/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b49329391a65b2ead788a9ffce9f7547ce4fd36/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=9b49329391a65b2ead788a9ffce9f7547ce4fd36", "patch": "@@ -1,5 +1,8 @@\n Mon Nov 24 12:15:55 1997  Jason Merrill  <jason@yorick.cygnus.com>\n \n+\t* typeck.c (mark_addressable): Don't assume a FUNCTION_DECL\n+\thas DECL_LANG_SPECIFIC.\n+\n \t* exception.cc (struct cp_eh_info): Add handlers field.\n \t(__cp_push_exception): Initialize it.\n \t(__cp_pop_exception): Decrement it.  Don't pop unless it's 0."}, {"sha": "bd5a43cd9ecf9f797c507935391af48354d6887a", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9b49329391a65b2ead788a9ffce9f7547ce4fd36/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9b49329391a65b2ead788a9ffce9f7547ce4fd36/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=9b49329391a65b2ead788a9ffce9f7547ce4fd36", "patch": "@@ -4807,12 +4807,15 @@ mark_addressable (exp)\n \treturn 1;\n \n       case FUNCTION_DECL:\n-\t/* We have to test both conditions here.  The first may\n-\t   be non-zero in the case of processing a default function.\n-\t   The second may be non-zero in the case of a template function.  */\n-\tx = DECL_MAIN_VARIANT (x);\n-\tif (DECL_TEMPLATE_INFO (x) && !DECL_TEMPLATE_SPECIALIZATION (x))\n-\t  mark_used (x);\n+\tif (DECL_LANG_SPECIFIC (x) != 0)\n+\t  {\n+\t    x = DECL_MAIN_VARIANT (x);\n+\t    /* We have to test both conditions here.  The first may be\n+\t       non-zero in the case of processing a default function.  The\n+\t       second may be non-zero in the case of a template function.  */\n+\t    if (DECL_TEMPLATE_INFO (x) && !DECL_TEMPLATE_SPECIALIZATION (x))\n+\t      mark_used (x);\n+\t  }\n \tTREE_ADDRESSABLE (x) = 1;\n \tTREE_USED (x) = 1;\n \tTREE_ADDRESSABLE (DECL_ASSEMBLER_NAME (x)) = 1;"}]}