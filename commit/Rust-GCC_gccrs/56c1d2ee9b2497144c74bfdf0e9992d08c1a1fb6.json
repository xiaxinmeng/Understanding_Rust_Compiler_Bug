{"sha": "56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTZjMWQyZWU5YjI0OTcxNDRjNzRiZmRmMGU5OTkyZDA4YzFhMWZiNg==", "commit": {"author": {"name": "Laurynas Biveinis", "email": "lauras@softhome.net", "date": "2001-01-23T01:51:53Z"}, "committer": {"name": "DJ Delorie", "email": "dj@gcc.gnu.org", "date": "2001-01-23T01:51:53Z"}, "message": "[sorry, missed this the first time around] 2001-01-12 Laurynas Biveinis <lauras@softhome.net>\n\n[sorry, missed this the first time around]\n2001-01-12  Laurynas Biveinis  <lauras@softhome.net>\n* acinclude.m4 (GLIBCPP_CHECK_CTYPE_SUPPORT): check for DJGPP <ctype.h>\n(LIB_AC_PROG_CXX): replace [/\\\\] with [\\\\/] to work around older\nbash bug.\n* aclocal.m4: regenerated.\n* configure.target: set os_include_dir to config/os/djgpp under DJGPP.\n* configure: regenerated.\n* config/os/djgpp, config/os/djgpp/bits: new directories.\n* config/os/djgpp/bits/ctype_base.h,\nconfig/os/djgpp/bits/ctype_inline.h,\nconfig/os/djgpp/bits/ctype_noninline.h,\nconfig/os/djgpp/bits/os_defines.h: new files.\n\nFrom-SVN: r39191", "tree": {"sha": "5ecb2af65a02cb7f0d946f6a7208ee5dbbff748a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5ecb2af65a02cb7f0d946f6a7208ee5dbbff748a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6/comments", "author": null, "committer": null, "parents": [{"sha": "6aace5d426b2f08fef7f388aae45a9eb68cca438", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6aace5d426b2f08fef7f388aae45a9eb68cca438", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6aace5d426b2f08fef7f388aae45a9eb68cca438"}], "stats": {"total": 87, "additions": 59, "deletions": 28}, "files": [{"sha": "55f3986ffbef80619e8553f5c7ec4a134e6386f8", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 59, "deletions": 28, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=56c1d2ee9b2497144c74bfdf0e9992d08c1a1fb6", "patch": "@@ -1549,7 +1549,7 @@ ac_exeext=$EXEEXT\n   . ${glibcpp_basedir}/configure.host\n \n   case ${glibcpp_basedir} in\n-    /* | A-Za-z:/\\\\*) libgcj_flagbasedir=${glibcpp_basedir} ;;\n+    /* | A-Za-z:\\\\/*) libgcj_flagbasedir=${glibcpp_basedir} ;;\n     *) glibcpp_flagbasedir='$(top_builddir)/'${glibcpp_basedir} ;;\n   esac\n \n@@ -19068,6 +19068,37 @@ rm -f conftest*\n       ctype_include_dir=\"config/os/newlib\"\n       ctype_default=no\n     fi\n+    fi\n+\n+                if test $ctype_default = \"yes\"; then\n+    echo $ac_n \"checking <ctype> for DJGPP\"\"... $ac_c\" 1>&6\n+echo \"configure:19076: checking <ctype> for DJGPP\" >&5\n+    cat > conftest.$ac_ext <<EOF\n+#line 19078 \"configure\"\n+#include \"confdefs.h\"\n+#include <ctype.h>\n+int main() {\n+int\n+    foo (int a)\n+    { return __dj_ctype_flags[0] + __dj_ctype_flags[1];}\n+; return 0; }\n+EOF\n+if { (eval echo configure:19087: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  \\\n+    ctype_djgpp=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ctype_djgpp=no\n+fi\n+rm -f conftest*\n+    echo \"$ac_t\"\"$ctype_djgpp\" 1>&6\n+    if test $ctype_djgpp = \"yes\"; then\n+      ctype_include_dir=\"config/os/djgpp\"\n+      ctype_default=no\n+    fi\n     fi\n \n     if test $ctype_default = \"yes\"; then\n@@ -19088,12 +19119,12 @@ fi\n   for ac_func in strtof\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:19092: checking for $ac_func\" >&5\n+echo \"configure:19123: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 19097 \"configure\"\n+#line 19128 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -19116,7 +19147,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:19120: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:19151: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -19142,7 +19173,7 @@ done\n \n   \n   echo $ac_n \"checking for strtold declaration\"\"... $ac_c\" 1>&6\n-echo \"configure:19146: checking for strtold declaration\" >&5\n+echo \"configure:19177: checking for strtold declaration\" >&5\n   if test x${glibcpp_cv_func_strtold_use+set} != xset; then\n     if eval \"test \\\"`echo '$''{'glibcpp_cv_func_strtold_use'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n@@ -19157,14 +19188,14 @@ ac_link='${CXX-g++} -o conftest${ac_exeext} $CXXFLAGS $CPPFLAGS $LDFLAGS conftes\n cross_compiling=$ac_cv_prog_cxx_cross\n \n       cat > conftest.$ac_ext <<EOF\n-#line 19161 \"configure\"\n+#line 19192 \"configure\"\n #include \"confdefs.h\"\n #include <stdlib.h>\n int main() {\n  strtold(0, 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:19168: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:19199: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   glibcpp_cv_func_strtold_use=yes\n else\n@@ -19190,12 +19221,12 @@ fi\n     for ac_func in strtold\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:19194: checking for $ac_func\" >&5\n+echo \"configure:19225: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 19199 \"configure\"\n+#line 19230 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -19218,7 +19249,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:19222: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:19253: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -19252,17 +19283,17 @@ done\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:19256: checking for $ac_hdr\" >&5\n+echo \"configure:19287: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 19261 \"configure\"\n+#line 19292 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:19266: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:19297: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -19291,12 +19322,12 @@ done\n for ac_func in getpagesize\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:19295: checking for $ac_func\" >&5\n+echo \"configure:19326: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 19300 \"configure\"\n+#line 19331 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -19319,7 +19350,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:19323: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:19354: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -19344,15 +19375,15 @@ fi\n done\n \n echo $ac_n \"checking for working mmap\"\"... $ac_c\" 1>&6\n-echo \"configure:19348: checking for working mmap\" >&5\n+echo \"configure:19379: checking for working mmap\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_mmap_fixed_mapped'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   if test \"$cross_compiling\" = yes; then\n   ac_cv_func_mmap_fixed_mapped=no\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 19356 \"configure\"\n+#line 19387 \"configure\"\n #include \"confdefs.h\"\n \n /* Thanks to Mike Haertel and Jim Avera for this test.\n@@ -19492,7 +19523,7 @@ main()\n }\n \n EOF\n-if { (eval echo configure:19496: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n+if { (eval echo configure:19527: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null\n then\n   ac_cv_func_mmap_fixed_mapped=yes\n else\n@@ -19608,17 +19639,17 @@ rm -f confcache\n \n   ac_safe=`echo \"locale.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for locale.h\"\"... $ac_c\" 1>&6\n-echo \"configure:19612: checking for locale.h\" >&5\n+echo \"configure:19643: checking for locale.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 19617 \"configure\"\n+#line 19648 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:19622: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:19653: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -19636,19 +19667,19 @@ if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   \n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:19640: checking for LC_MESSAGES\" >&5\n+echo \"configure:19671: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 19645 \"configure\"\n+#line 19676 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:19652: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:19683: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   ac_cv_val_LC_MESSAGES=yes\n else\n@@ -19690,14 +19721,14 @@ INTERFACE=v3\n # Check for the interface version number for specifying where header\n # files are installed, if a version number is provided.\n echo $ac_n \"checking for interface version number\"\"... $ac_c\" 1>&6\n-echo \"configure:19694: checking for interface version number\" >&5\n+echo \"configure:19725: checking for interface version number\" >&5\n libstdcxx_interface=$INTERFACE\n echo \"$ac_t\"\"$libstdcxx_interface\" 1>&6\n \n \n # Process the option --with-gxx-include-dir=<path to include-files directory>\n echo $ac_n \"checking for --with-gxx-include-dir\"\"... $ac_c\" 1>&6\n-echo \"configure:19701: checking for --with-gxx-include-dir\" >&5\n+echo \"configure:19732: checking for --with-gxx-include-dir\" >&5\n # Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.\n if test \"${with_gxx_include_dir+set}\" = set; then\n   withval=\"$with_gxx_include_dir\"\n@@ -19731,7 +19762,7 @@ fi\n \n # Process the option \"--enable-version-specific-runtime-libs\"\n echo $ac_n \"checking for --enable-version-specific-runtime-libs\"\"... $ac_c\" 1>&6\n-echo \"configure:19735: checking for --enable-version-specific-runtime-libs\" >&5\n+echo \"configure:19766: checking for --enable-version-specific-runtime-libs\" >&5\n # Check whether --enable-version-specific-runtime-libs or --disable-version-specific-runtime-libs was given.\n if test \"${enable_version_specific_runtime_libs+set}\" = set; then\n   enableval=\"$enable_version_specific_runtime_libs\""}]}