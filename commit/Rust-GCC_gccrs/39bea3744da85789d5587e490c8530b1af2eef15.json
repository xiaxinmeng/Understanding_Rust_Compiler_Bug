{"sha": "39bea3744da85789d5587e490c8530b1af2eef15", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzliZWEzNzQ0ZGE4NTc4OWQ1NTg3ZTQ5MGM4NTMwYjFhZjJlZWYxNQ==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-03-27T23:12:05Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-03-27T23:12:05Z"}, "message": "expr.c (expand_invoke): Don't generate null pointer check if we're calling <init>.\n\n\t* expr.c (expand_invoke): Don't generate null pointer check if\n\twe're calling <init>.\n\nFrom-SVN: r51487", "tree": {"sha": "64dd08447f00d061dcf30443f9877d93b560c5c8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/64dd08447f00d061dcf30443f9877d93b560c5c8"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/39bea3744da85789d5587e490c8530b1af2eef15", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39bea3744da85789d5587e490c8530b1af2eef15", "html_url": "https://github.com/Rust-GCC/gccrs/commit/39bea3744da85789d5587e490c8530b1af2eef15", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/39bea3744da85789d5587e490c8530b1af2eef15/comments", "author": null, "committer": null, "parents": [{"sha": "e4dbaed54ef2f55b52d5926276b891b1535d7c89", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e4dbaed54ef2f55b52d5926276b891b1535d7c89", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e4dbaed54ef2f55b52d5926276b891b1535d7c89"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "aba8cdb504dbf89794b44cfa47bbcb56d7c25c9f", "filename": "gcc/java/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39bea3744da85789d5587e490c8530b1af2eef15/gcc%2Fjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39bea3744da85789d5587e490c8530b1af2eef15/gcc%2Fjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2FChangeLog?ref=39bea3744da85789d5587e490c8530b1af2eef15", "patch": "@@ -1,3 +1,8 @@\n+2002-03-27  Tom Tromey  <tromey@redhat.com>\n+\n+\t* expr.c (expand_invoke): Don't generate null pointer check if\n+\twe're calling <init>.\n+\n 2002-03-27  Neil Booth  <neil@daikokuya.demon.co.uk>\n \n \t* expr.c (java_lang_expand_expr): Rename java_expand_expr,"}, {"sha": "895c3221629ba7b0bab035aff2c628cf79d40b8c", "filename": "gcc/java/expr.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/39bea3744da85789d5587e490c8530b1af2eef15/gcc%2Fjava%2Fexpr.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/39bea3744da85789d5587e490c8530b1af2eef15/gcc%2Fjava%2Fexpr.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fjava%2Fexpr.c?ref=39bea3744da85789d5587e490c8530b1af2eef15", "patch": "@@ -2129,12 +2129,13 @@ expand_invoke (opcode, method_ref_index, nargs)\n \t method's `this'.  In other cases we just rely on an\n \t optimization pass to eliminate redundant checks.  FIXME:\n \t Unfortunately there doesn't seem to be a way to determine\n-\t what the current method is right now.  */\n+\t what the current method is right now.\n+\t We do omit the check if we're calling <init>.  */\n       /* We use a SAVE_EXPR here to make sure we only evaluate\n \t the new `self' expression once.  */\n       tree save_arg = save_expr (TREE_VALUE (arg_list));\n       TREE_VALUE (arg_list) = save_arg;\n-      check = java_check_reference (save_arg, 1);\n+      check = java_check_reference (save_arg, ! DECL_INIT_P (method));\n       func = build_known_method_ref (method, method_type, self_type,\n \t\t\t\t     method_signature, arg_list);\n     }"}]}