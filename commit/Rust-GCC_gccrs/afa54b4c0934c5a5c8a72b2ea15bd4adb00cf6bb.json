{"sha": "afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YWZhNTRiNGMwOTM0YzVhNWM4YTcyYjJlYTE1YmQ0YWRiMDBjZjZiYg==", "commit": {"author": {"name": "Tom Tromey", "email": "tromey@redhat.com", "date": "2002-11-02T23:52:56Z"}, "committer": {"name": "Tom Tromey", "email": "tromey@gcc.gnu.org", "date": "2002-11-02T23:52:56Z"}, "message": "Class.h: Move JV_STATE_ERROR before JV_STATE_DONE.\n\n\t* java/lang/Class.h: Move JV_STATE_ERROR before JV_STATE_DONE.\n\t* java/lang/natClass.cc (initializeClass): Don't return just\n\tbecause self==thread.\n\nFrom-SVN: r58763", "tree": {"sha": "5da239e27cd0409059d3803ba5140245445298c2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/5da239e27cd0409059d3803ba5140245445298c2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb/comments", "author": null, "committer": null, "parents": [{"sha": "60b68525a59cd726ac29632ed4fbb1d6e1df1b0b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/60b68525a59cd726ac29632ed4fbb1d6e1df1b0b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/60b68525a59cd726ac29632ed4fbb1d6e1df1b0b"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "f78a70035081f2e473a092aba36c7e79b4427eab", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb", "patch": "@@ -1,5 +1,9 @@\n 2002-11-02  Tom Tromey  <tromey@redhat.com>\n \n+\t* java/lang/Class.h: Move JV_STATE_ERROR before JV_STATE_DONE.\n+\t* java/lang/natClass.cc (initializeClass): Don't return just\n+\tbecause self==thread.\n+\n \tFor PR java/8415:\n \t* java/lang/reflect/natMethod.cc (getType): Use _Jv_FindClass.\n \t* prims.cc (_Jv_FindClassFromSignature): Indentation fix."}, {"sha": "881fb77c44e93e7bf68df16b4f3582b82389fdd8", "filename": "libjava/java/lang/Class.h", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb/libjava%2Fjava%2Flang%2FClass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb/libjava%2Fjava%2Flang%2FClass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FClass.h?ref=afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb", "patch": "@@ -46,9 +46,10 @@ enum\n   JV_STATE_LINKED = 9,\t\t// Strings interned.\n \n   JV_STATE_IN_PROGRESS = 10,\t// <Clinit> running.\n-  JV_STATE_DONE = 12,\t\t// \n \n-  JV_STATE_ERROR = 14\t\t// must be last.\n+  JV_STATE_ERROR = 12,\n+\n+  JV_STATE_DONE = 14\t\t// Must be last.\n };\n \n struct _Jv_Field;"}, {"sha": "9e86111156372b67316878ce6f262e1c106af685", "filename": "libjava/java/lang/natClass.cc", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb/libjava%2Fjava%2Flang%2FnatClass.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb/libjava%2Fjava%2Flang%2FnatClass.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fjava%2Flang%2FnatClass.cc?ref=afa54b4c0934c5a5c8a72b2ea15bd4adb00cf6bb", "patch": "@@ -741,9 +741,7 @@ java::lang::Class::initializeClass (void)\n     wait ();\n \n   // Steps 3 &  4.\n-  if (state == JV_STATE_DONE\n-      || state == JV_STATE_IN_PROGRESS\n-      || thread == self)\n+  if (state == JV_STATE_DONE || state == JV_STATE_IN_PROGRESS)\n     {\n       _Jv_MonitorExit (this);\n       return;"}]}