{"sha": "d3c7d45ed9c698740606c25fac9ba9d0e336d168", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZDNjN2Q0NWVkOWM2OTg3NDA2MDZjMjVmYWM5YmE5ZDBlMzM2ZDE2OA==", "commit": {"author": {"name": "Alexandre Oliva", "email": "aoliva@redhat.com", "date": "2001-05-09T13:40:49Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2001-05-09T13:40:49Z"}, "message": "regclass.c (scan_one_insn): Update REG_N_REFS when optimizing handling of two-address insns.\n\n* regclass.c (scan_one_insn): Update REG_N_REFS when optimizing\nhandling of two-address insns.\n\nFrom-SVN: r41925", "tree": {"sha": "8c07938788b37a64952f4c5e4a7153e4c84f3f8d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c07938788b37a64952f4c5e4a7153e4c84f3f8d"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/d3c7d45ed9c698740606c25fac9ba9d0e336d168", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c7d45ed9c698740606c25fac9ba9d0e336d168", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d3c7d45ed9c698740606c25fac9ba9d0e336d168", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d3c7d45ed9c698740606c25fac9ba9d0e336d168/comments", "author": null, "committer": null, "parents": [{"sha": "d08d4a19e3fe1062a3fc6f3c3dd46d6ffb4e33a1", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d08d4a19e3fe1062a3fc6f3c3dd46d6ffb4e33a1", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d08d4a19e3fe1062a3fc6f3c3dd46d6ffb4e33a1"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "5d54bb88397ee18885bdb9df10f8a4db7240ed17", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c7d45ed9c698740606c25fac9ba9d0e336d168/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c7d45ed9c698740606c25fac9ba9d0e336d168/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=d3c7d45ed9c698740606c25fac9ba9d0e336d168", "patch": "@@ -1,3 +1,8 @@\n+Wed May  9 10:40:25 2001  Alexandre Oliva  <aoliva@redhat.com>\n+\n+\t* regclass.c (scan_one_insn): Update REG_N_REFS when optimizing\n+\thandling of two-address insns.\n+\n Wed May  9 10:36:18 2001  Alexandre Oliva  <aoliva@redhat.com>\n \n \t* Makefile.in (NM_FOR_TARGET): Look for ./nm, then"}, {"sha": "82d90faa525f991d5628235e0d78653d5b4077e5", "filename": "gcc/regclass.c", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/d3c7d45ed9c698740606c25fac9ba9d0e336d168/gcc%2Fregclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/d3c7d45ed9c698740606c25fac9ba9d0e336d168/gcc%2Fregclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fregclass.c?ref=d3c7d45ed9c698740606c25fac9ba9d0e336d168", "patch": "@@ -1058,11 +1058,16 @@ scan_one_insn (insn, pass)\n \n       /* This makes one more setting of new insns's dest.  */\n       REG_N_SETS (REGNO (recog_data.operand[0]))++;\n+      REG_N_REFS (REGNO (recog_data.operand[0]))++;\n \n       *recog_data.operand_loc[1] = recog_data.operand[0];\n+      REG_N_REFS (REGNO (recog_data.operand[0]))++;\n       for (i = recog_data.n_dups - 1; i >= 0; i--)\n \tif (recog_data.dup_num[i] == 1)\n-\t  *recog_data.dup_loc[i] = recog_data.operand[0];\n+\t  {\n+\t    *recog_data.dup_loc[i] = recog_data.operand[0];\n+\t    REG_N_REFS (REGNO (recog_data.operand[0]))++;\n+\t  }\n \n       return PREV_INSN (newinsn);\n     }"}]}