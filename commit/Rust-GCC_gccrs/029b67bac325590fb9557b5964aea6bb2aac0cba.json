{"sha": "029b67bac325590fb9557b5964aea6bb2aac0cba", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDI5YjY3YmFjMzI1NTkwZmI5NTU3YjU5NjRhZWE2YmIyYWFjMGNiYQ==", "commit": {"author": {"name": "Yannick Moy", "email": "moy@adacore.com", "date": "2011-09-02T09:29:53Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2011-09-02T09:29:53Z"}, "message": "usage.adb, [...]: Disable by default warnings on suspicious contracts, and enable them with -gnatwa.\n\n2011-09-02  Yannick Moy  <moy@adacore.com>\n\n\t* usage.adb, warnsw.adb, sem_ch6.adb, opt.ads: Disable by default\n\twarnings on suspicious contracts, and enable them with -gnatwa.\n\nFrom-SVN: r178452", "tree": {"sha": "4feffc2f8bdb999d495ef5f7492284f228391a8b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/4feffc2f8bdb999d495ef5f7492284f228391a8b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/029b67bac325590fb9557b5964aea6bb2aac0cba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/029b67bac325590fb9557b5964aea6bb2aac0cba", "html_url": "https://github.com/Rust-GCC/gccrs/commit/029b67bac325590fb9557b5964aea6bb2aac0cba", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/029b67bac325590fb9557b5964aea6bb2aac0cba/comments", "author": {"login": "yannickmoy", "id": 859440, "node_id": "MDQ6VXNlcjg1OTQ0MA==", "avatar_url": "https://avatars.githubusercontent.com/u/859440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannickmoy", "html_url": "https://github.com/yannickmoy", "followers_url": "https://api.github.com/users/yannickmoy/followers", "following_url": "https://api.github.com/users/yannickmoy/following{/other_user}", "gists_url": "https://api.github.com/users/yannickmoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannickmoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannickmoy/subscriptions", "organizations_url": "https://api.github.com/users/yannickmoy/orgs", "repos_url": "https://api.github.com/users/yannickmoy/repos", "events_url": "https://api.github.com/users/yannickmoy/events{/privacy}", "received_events_url": "https://api.github.com/users/yannickmoy/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "dc36a7e3bc7b19abb8df8d5d8f5835c074e07834", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc36a7e3bc7b19abb8df8d5d8f5835c074e07834", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc36a7e3bc7b19abb8df8d5d8f5835c074e07834"}], "stats": {"total": 24, "additions": 17, "deletions": 7}, "files": [{"sha": "b2165b8b7422cb47d777a917276d41ad468dac12", "filename": "gcc/ada/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FChangeLog?ref=029b67bac325590fb9557b5964aea6bb2aac0cba", "patch": "@@ -1,3 +1,8 @@\n+2011-09-02  Yannick Moy  <moy@adacore.com>\n+\n+\t* usage.adb, warnsw.adb, sem_ch6.adb, opt.ads: Disable by default\n+\twarnings on suspicious contracts, and enable them with -gnatwa.\n+\n 2011-09-02  Robert Dewar  <dewar@adacore.com>\n \n \t* exp_util.adb, exp_ch9.adb, sem_attr.adb, sem_ch6.adb: Minor"}, {"sha": "b84e4ec1adb19df39c7d9e64a66e0eb7a90a6285", "filename": "gcc/ada/opt.ads", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fopt.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fopt.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fopt.ads?ref=029b67bac325590fb9557b5964aea6bb2aac0cba", "patch": "@@ -1550,11 +1550,11 @@ package Opt is\n    --  clauses that are affected by non-standard bit-order. The default is\n    --  that this warning is enabled.\n \n-   Warn_On_Suspicious_Contract : Boolean := True;\n+   Warn_On_Suspicious_Contract : Boolean := False;\n    --  GNAT\n    --  Set to True to generate warnings for suspicious contracts expressed as\n    --  pragmas or aspects precondition and postcondition. The default is that\n-   --  this warning is enabled.\n+   --  this warning is disabled.\n \n    Warn_On_Suspicious_Modulus_Value : Boolean := True;\n    --  GNAT"}, {"sha": "5919405060003326980f988621a24bf36fb11c79", "filename": "gcc/ada/sem_ch6.adb", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fsem_ch6.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fsem_ch6.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fsem_ch6.adb?ref=029b67bac325590fb9557b5964aea6bb2aac0cba", "patch": "@@ -5460,12 +5460,14 @@ package body Sem_Ch6 is\n \n    procedure Check_Subprogram_Contract (Spec_Id : Entity_Id) is\n \n+      --  Code is currently commented out as, in some cases, it causes crashes\n+      --  because Direct_Primitive_Operations is not available for a private\n+      --  type. This may cause more warnings to be issued than necessary. See\n+      --  below for the intended use of this variable. ???\n+\n --        Inherited : constant Subprogram_List :=\n --                      Inherited_Subprograms (Spec_Id);\n --        --  List of subprograms inherited by this subprogram\n-      --  Code is currently commented out as, in some cases, it causes crashes\n-      --  because Direct_Primitive_Operations is not available for a private\n-      --  type???\n \n       Last_Postcondition : Node_Id := Empty;\n       --  Last postcondition on the subprogram, or else Empty if either no"}, {"sha": "146b0c043f3c348f7d8ca9ce36110e116774acc9", "filename": "gcc/ada/usage.adb", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fusage.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fusage.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fusage.adb?ref=029b67bac325590fb9557b5964aea6bb2aac0cba", "patch": "@@ -484,8 +484,8 @@ begin\n    Write_Line (\"        .S*  turn off warnings for overridden size clause\");\n    Write_Line (\"        t    turn on warnings for tracking deleted code\");\n    Write_Line (\"        T*   turn off warnings for tracking deleted code\");\n-   Write_Line (\"        .t*  turn on warnings for suspicious contract\");\n-   Write_Line (\"        .T   turn off warnings for suspicious contract\");\n+   Write_Line (\"        .t+  turn on warnings for suspicious contract\");\n+   Write_Line (\"        .T*  turn off warnings for suspicious contract\");\n    Write_Line (\"        u+   turn on warnings for unused entity\");\n    Write_Line (\"        U*   turn off warnings for unused entity\");\n    Write_Line (\"        .u   turn on warnings for unordered enumeration\");"}, {"sha": "711b9438dbd6222a1b4cbfd94dbd864a13754f6f", "filename": "gcc/ada/warnsw.adb", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fwarnsw.adb", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/029b67bac325590fb9557b5964aea6bb2aac0cba/gcc%2Fada%2Fwarnsw.adb", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fwarnsw.adb?ref=029b67bac325590fb9557b5964aea6bb2aac0cba", "patch": "@@ -86,6 +86,7 @@ package body Warnsw is\n             Warn_On_Record_Holes                := True;\n             Warn_On_Redundant_Constructs        := True;\n             Warn_On_Reverse_Bit_Order           := True;\n+            Warn_On_Suspicious_Contract         := True;\n             Warn_On_Unchecked_Conversion        := True;\n             Warn_On_Unordered_Enumeration_Type  := True;\n             Warn_On_Unrecognized_Pragma         := True;\n@@ -256,6 +257,7 @@ package body Warnsw is\n             Warn_On_Questionable_Missing_Parens := True;\n             Warn_On_Redundant_Constructs        := True;\n             Warn_On_Reverse_Bit_Order           := True;\n+            Warn_On_Suspicious_Contract         := True;\n             Warn_On_Unchecked_Conversion        := True;\n             Warn_On_Unrecognized_Pragma         := True;\n             Warn_On_Unrepped_Components         := True;\n@@ -294,6 +296,7 @@ package body Warnsw is\n             Warn_On_Questionable_Missing_Parens := False;\n             Warn_On_Redundant_Constructs        := False;\n             Warn_On_Reverse_Bit_Order           := False;\n+            Warn_On_Suspicious_Contract         := False;\n             Warn_On_Unchecked_Conversion        := False;\n             Warn_On_Unordered_Enumeration_Type  := False;\n             Warn_On_Unrecognized_Pragma         := False;"}]}