{"sha": "ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGRjMzQwODRiNmYwZmU4NWFlNTIxMTQwNDRkZDRhMjdmNTdhZDhiNg==", "commit": {"author": {"name": "Michael Matz", "email": "matz@suse.de", "date": "2009-04-26T22:09:50Z"}, "committer": {"name": "Michael Matz", "email": "matz@gcc.gnu.org", "date": "2009-04-26T22:09:50Z"}, "message": "tree-pass.h (pass_del_ssa, [...]): Remove decls.\n\n\t* tree-pass.h (pass_del_ssa, pass_mark_used_blocks,\n\tpass_free_cfg_annotations, pass_free_datastructures): Remove decls.\n\t* gimple-low.c (mark_blocks_with_used_vars, mark_used_blocks,\n\tpass_mark_used_blocks): Remove.\n\t* tree-optimize.c (pass_free_datastructures,\n\texecute_free_cfg_annotations, pass_free_cfg_annotations): Remove.\n\t* passes.c (init_optimization_passes): Don't call\n\tpass_mark_used_blocks, remove dead code.\n\nFrom-SVN: r146819", "tree": {"sha": "8c9d7c82cbaab42b2eff59d07e4c41277e227a98", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/8c9d7c82cbaab42b2eff59d07e4c41277e227a98"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/comments", "author": {"login": "susematz", "id": 4117296, "node_id": "MDQ6VXNlcjQxMTcyOTY=", "avatar_url": "https://avatars.githubusercontent.com/u/4117296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/susematz", "html_url": "https://github.com/susematz", "followers_url": "https://api.github.com/users/susematz/followers", "following_url": "https://api.github.com/users/susematz/following{/other_user}", "gists_url": "https://api.github.com/users/susematz/gists{/gist_id}", "starred_url": "https://api.github.com/users/susematz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/susematz/subscriptions", "organizations_url": "https://api.github.com/users/susematz/orgs", "repos_url": "https://api.github.com/users/susematz/repos", "events_url": "https://api.github.com/users/susematz/events{/privacy}", "received_events_url": "https://api.github.com/users/susematz/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "1fec7ed49860c248ae85a293ded8fff4c3ed238d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/1fec7ed49860c248ae85a293ded8fff4c3ed238d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/1fec7ed49860c248ae85a293ded8fff4c3ed238d"}], "stats": {"total": 122, "additions": 11, "deletions": 111}, "files": [{"sha": "9d865dc18ae8020558004c422020787a04e1bc19", "filename": "gcc/ChangeLog", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "patch": "@@ -1,3 +1,14 @@\n+2009-04-26  Michael Matz  <matz@suse.de>\n+\n+\t* tree-pass.h (pass_del_ssa, pass_mark_used_blocks,\n+\tpass_free_cfg_annotations, pass_free_datastructures): Remove decls.\n+\t* gimple-low.c (mark_blocks_with_used_vars, mark_used_blocks,\n+\tpass_mark_used_blocks): Remove.\n+\t* tree-optimize.c (pass_free_datastructures,\n+\texecute_free_cfg_annotations, pass_free_cfg_annotations): Remove.\n+\t* passes.c (init_optimization_passes): Don't call\n+\tpass_mark_used_blocks, remove dead code.\n+\n 2009-04-26  H.J. Lu  <hongjiu.lu@intel.com>\n \n \t* tree-outof-ssa.c (rewrite_trees): Add ATTRIBUTE_UNUSED."}, {"sha": "02a1ce63549b4a608c247e8547cef9ae7cea3184", "filename": "gcc/gimple-low.c", "status": "modified", "additions": 0, "deletions": 58, "changes": 58, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Fgimple-low.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Fgimple-low.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgimple-low.c?ref=ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "patch": "@@ -900,61 +900,3 @@ record_vars (tree vars)\n {\n   record_vars_into (vars, current_function_decl);\n }\n-\n-\n-/* Mark BLOCK used if it has a used variable in it, then recurse over its\n-   subblocks.  */\n-\n-static void\n-mark_blocks_with_used_vars (tree block)\n-{\n-  tree var;\n-  tree subblock;\n-\n-  if (!TREE_USED (block))\n-    {\n-      for (var = BLOCK_VARS (block);\n-\t   var;\n-\t   var = TREE_CHAIN (var))\n-\t{\n-\t  if (TREE_USED (var))\n-\t    {\n-\t      TREE_USED (block) = true;\n-\t      break;\n-\t    }\n-\t}\n-    }\n-  for (subblock = BLOCK_SUBBLOCKS (block);\n-       subblock;\n-       subblock = BLOCK_CHAIN (subblock))\n-    mark_blocks_with_used_vars (subblock);\n-}\n-\n-/* Mark the used attribute on blocks correctly.  */\n-  \n-static unsigned int\n-mark_used_blocks (void)\n-{  \n-  mark_blocks_with_used_vars (DECL_INITIAL (current_function_decl));\n-  return 0;\n-}\n-\n-\n-struct gimple_opt_pass pass_mark_used_blocks = \n-{\n- {\n-  GIMPLE_PASS,\n-  \"blocks\",\t\t\t\t/* name */\n-  NULL,\t\t\t\t\t/* gate */\n-  mark_used_blocks,\t\t\t/* execute */\n-  NULL,\t\t\t\t\t/* sub */\n-  NULL,\t\t\t\t\t/* next */\n-  0,\t\t\t\t\t/* static_pass_number */\n-  TV_NONE,\t\t\t\t/* tv_id */\n-  0,\t\t\t\t\t/* properties_required */\n-  0,\t\t\t\t\t/* properties_provided */\n-  0,\t\t\t\t\t/* properties_destroyed */\n-  0,\t\t\t\t\t/* todo_flags_start */\n-  TODO_dump_func\t\t\t/* todo_flags_finish */\n- }\n-};"}, {"sha": "60a24866265191664a10f18e40ec4027f2b1adee", "filename": "gcc/passes.c", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Fpasses.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Fpasses.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fpasses.c?ref=ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "patch": "@@ -709,13 +709,9 @@ init_optimization_passes (void)\n   NEXT_PASS (pass_cleanup_eh);\n   NEXT_PASS (pass_nrv);\n   NEXT_PASS (pass_mudflap_2);\n-  NEXT_PASS (pass_mark_used_blocks);\n   NEXT_PASS (pass_cleanup_cfg_post_optimizing);\n   NEXT_PASS (pass_warn_function_noreturn);\n \n-/*  NEXT_PASS (pass_del_ssa);\n-  NEXT_PASS (pass_free_datastructures);\n-  NEXT_PASS (pass_free_cfg_annotations);*/\n   NEXT_PASS (pass_expand);\n \n   NEXT_PASS (pass_rest_of_compilation);"}, {"sha": "025658426cbe4b84a9e94fbbabdea4174c2f48b1", "filename": "gcc/tree-optimize.c", "status": "modified", "additions": 0, "deletions": 45, "changes": 45, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Ftree-optimize.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Ftree-optimize.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-optimize.c?ref=ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "patch": "@@ -236,51 +236,6 @@ execute_free_datastructures (void)\n   return 0;\n }\n \n-struct gimple_opt_pass pass_free_datastructures =\n-{\n- {\n-  GIMPLE_PASS,\n-  NULL,\t\t\t\t\t/* name */\n-  NULL,\t\t\t\t\t/* gate */\n-  execute_free_datastructures,\t\t\t/* execute */\n-  NULL,\t\t\t\t\t/* sub */\n-  NULL,\t\t\t\t\t/* next */\n-  0,\t\t\t\t\t/* static_pass_number */\n-  TV_NONE,\t\t\t\t/* tv_id */\n-  PROP_cfg,\t\t\t\t/* properties_required */\n-  0,\t\t\t\t\t/* properties_provided */\n-  0,\t\t\t\t\t/* properties_destroyed */\n-  0,\t\t\t\t\t/* todo_flags_start */\n-  0\t\t\t\t\t/* todo_flags_finish */\n- }\n-};\n-/* Pass: free cfg annotations.  */\n-\n-static unsigned int\n-execute_free_cfg_annotations (void)\n-{\n-  return 0;\n-}\n-\n-struct gimple_opt_pass pass_free_cfg_annotations =\n-{\n- {\n-  GIMPLE_PASS,\n-  NULL,\t\t\t\t\t/* name */\n-  NULL,\t\t\t\t\t/* gate */\n-  execute_free_cfg_annotations,\t\t/* execute */\n-  NULL,\t\t\t\t\t/* sub */\n-  NULL,\t\t\t\t\t/* next */\n-  0,\t\t\t\t\t/* static_pass_number */\n-  TV_NONE,\t\t\t\t/* tv_id */\n-  PROP_cfg,\t\t\t\t/* properties_required */\n-  0,\t\t\t\t\t/* properties_provided */\n-  0,\t\t\t\t\t/* properties_destroyed */\n-  0,\t\t\t\t\t/* todo_flags_start */\n-  0\t\t\t\t\t/* todo_flags_finish */\n- }\n-};\n-\n /* Pass: fixup_cfg.  IPA passes, compilation of earlier functions or inlining\n    might have changed some properties, such as marked functions nothrow.\n    Remove redundant edges and basic blocks, and create new ones if necessary."}, {"sha": "9f80bfd9598eb1cf99eb6c0b99e4696b88bbe7bd", "filename": "gcc/tree-pass.h", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Ftree-pass.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/ddc34084b6f0fe85ae52114044dd4a27f57ad8b6/gcc%2Ftree-pass.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-pass.h?ref=ddc34084b6f0fe85ae52114044dd4a27f57ad8b6", "patch": "@@ -344,7 +344,6 @@ extern struct gimple_opt_pass pass_ch;\n extern struct gimple_opt_pass pass_ccp;\n extern struct gimple_opt_pass pass_phi_only_cprop;\n extern struct gimple_opt_pass pass_build_ssa;\n-extern struct gimple_opt_pass pass_del_ssa;\n extern struct gimple_opt_pass pass_build_alias;\n extern struct gimple_opt_pass pass_dominator;\n extern struct gimple_opt_pass pass_dce;\n@@ -380,7 +379,6 @@ extern struct gimple_opt_pass pass_phiprop;\n extern struct gimple_opt_pass pass_tree_ifcombine;\n extern struct gimple_opt_pass pass_dse;\n extern struct gimple_opt_pass pass_nrv;\n-extern struct gimple_opt_pass pass_mark_used_blocks;\n extern struct gimple_opt_pass pass_rename_ssa_copies;\n extern struct gimple_opt_pass pass_rest_of_compilation;\n extern struct gimple_opt_pass pass_sink_code;\n@@ -414,8 +412,6 @@ extern struct simple_ipa_opt_pass pass_ipa_function_and_variable_visibility;\n \n extern struct gimple_opt_pass pass_all_optimizations;\n extern struct gimple_opt_pass pass_cleanup_cfg_post_optimizing;\n-extern struct gimple_opt_pass pass_free_cfg_annotations;\n-extern struct gimple_opt_pass pass_free_datastructures;\n extern struct gimple_opt_pass pass_init_datastructures;\n extern struct gimple_opt_pass pass_fixup_cfg;\n "}]}