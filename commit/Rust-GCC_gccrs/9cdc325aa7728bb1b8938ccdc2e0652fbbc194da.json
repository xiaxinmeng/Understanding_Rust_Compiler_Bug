{"sha": "9cdc325aa7728bb1b8938ccdc2e0652fbbc194da", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWNkYzMyNWFhNzcyOGJiMWI4OTM4Y2NkYzJlMDY1MmZiYmMxOTRkYQ==", "commit": {"author": {"name": "Jan Hubicka", "email": "hubicka@ucw.cz", "date": "2017-10-13T13:37:49Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2017-10-13T13:37:49Z"}, "message": "cfghooks.c (verify_flow_info): Check that edge probabilities are set.\n\n\n\t* cfghooks.c (verify_flow_info): Check that edge probabilities are\n\tset.\n\nFrom-SVN: r253728", "tree": {"sha": "19810ca45c541d1b9be7f918e72d1c94928980c0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/19810ca45c541d1b9be7f918e72d1c94928980c0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da/comments", "author": null, "committer": null, "parents": [{"sha": "15f7a4692667ce38eed325a9567f5ef492a5ce07", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/15f7a4692667ce38eed325a9567f5ef492a5ce07", "html_url": "https://github.com/Rust-GCC/gccrs/commit/15f7a4692667ce38eed325a9567f5ef492a5ce07"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "fefac6e0c957aa5364355a3a2452c7615f4946eb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9cdc325aa7728bb1b8938ccdc2e0652fbbc194da", "patch": "@@ -1,3 +1,8 @@\n+2017-10-13  Jan Hubicka  <hubicka@ucw.cz>\n+\n+\t* cfghooks.c (verify_flow_info): Check that edge probabilities are\n+\tset.\n+\n 2017-10-13  Nathan Sidwell  <nathan@acm.org>\n \n \t* tree-core.h (tree_contains_struct): Make bool."}, {"sha": "c15c58c728e3878eeef5cdb42066acd83539d6a4", "filename": "gcc/cfghooks.c", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da/gcc%2Fcfghooks.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9cdc325aa7728bb1b8938ccdc2e0652fbbc194da/gcc%2Fcfghooks.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcfghooks.c?ref=9cdc325aa7728bb1b8938ccdc2e0652fbbc194da", "patch": "@@ -152,6 +152,7 @@ verify_flow_info (void)\n \t\t bb->index, bb->frequency);\n \t  err = 1;\n \t}\n+\n       FOR_EACH_EDGE (e, ei, bb->succs)\n \t{\n \t  if (last_visited [e->dest->index] == bb)\n@@ -160,6 +161,13 @@ verify_flow_info (void)\n \t\t     e->src->index, e->dest->index);\n \t      err = 1;\n \t    }\n+\t  if (profile_status_for_fn (cfun) >= PROFILE_GUESSED\n+\t      && !e->probability.initialized_p ())\n+\t    {\n+\t      error (\"Uninitialized probability of edge %i->%i\", e->src->index,\n+\t\t     e->dest->index);\n+\t      err = 1;\n+\t    }\n \t  if (!e->probability.verify ())\n \t    {\n \t      error (\"verify_flow_info: Wrong probability of edge %i->%i\","}]}