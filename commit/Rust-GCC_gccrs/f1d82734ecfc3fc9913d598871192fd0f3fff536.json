{"sha": "f1d82734ecfc3fc9913d598871192fd0f3fff536", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZjFkODI3MzRlY2ZjM2ZjOTkxM2Q1OTg4NzExOTJmZDBmM2ZmZjUzNg==", "commit": {"author": {"name": "Michael Meissner", "email": "Michael Meissner meissner@linux.ibm.com", "date": "2020-05-05T16:28:48Z"}, "committer": {"name": "Michael Meissner", "email": "Michael Meissner meissner@linux.ibm.com", "date": "2020-05-05T16:28:48Z"}, "message": "Patch ieee128-lib-patch001b", "tree": {"sha": "eed7aeda9aef7eff005b055578b949a962da912f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/eed7aeda9aef7eff005b055578b949a962da912f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/f1d82734ecfc3fc9913d598871192fd0f3fff536", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1d82734ecfc3fc9913d598871192fd0f3fff536", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f1d82734ecfc3fc9913d598871192fd0f3fff536", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f1d82734ecfc3fc9913d598871192fd0f3fff536/comments", "author": null, "committer": null, "parents": [{"sha": "438085cc66ed5801ea36c1027bbd624e86d8310f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/438085cc66ed5801ea36c1027bbd624e86d8310f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/438085cc66ed5801ea36c1027bbd624e86d8310f"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "332f5ead10b6ebfaa8bea404ac3deab397fe740b", "filename": "gcc/ChangeLog.meissner", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1d82734ecfc3fc9913d598871192fd0f3fff536/gcc%2FChangeLog.meissner", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1d82734ecfc3fc9913d598871192fd0f3fff536/gcc%2FChangeLog.meissner", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog.meissner?ref=f1d82734ecfc3fc9913d598871192fd0f3fff536", "patch": "@@ -1,3 +1,11 @@\n+2020-05-05  Michael Meissner  <meissner@linux.ibm.com>\n+\n+\t(ieee128-lib-patch001b)\n+\tPR target/94630\n+\t* config/rs6000/rs6000.c (rs6000_mangle_decl_assembler_name): Do\n+\tthe mapping for <name>l to <name>f128 when the long double default\n+\tis IEEE 128-bit.\n+\n 2020-05-05   Michael Meissner  <meissner@linux.ibm.com>\n \n \tClone branch"}, {"sha": "abc1b8909eb587f022498b4ad2011d4204c0508c", "filename": "gcc/config/rs6000/rs6000.c", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/f1d82734ecfc3fc9913d598871192fd0f3fff536/gcc%2Fconfig%2Frs6000%2Frs6000.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/f1d82734ecfc3fc9913d598871192fd0f3fff536/gcc%2Fconfig%2Frs6000%2Frs6000.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Frs6000%2Frs6000.c?ref=f1d82734ecfc3fc9913d598871192fd0f3fff536", "patch": "@@ -26326,13 +26326,15 @@ rs6000_globalize_decl_name (FILE * stream, tree decl)\n    library before you can switch the real*16 type at compile time.\n \n    We use the TARGET_MANGLE_DECL_ASSEMBLER_NAME hook to change this name.  We\n-   only do this if the default is that long double is IBM extended double, and\n-   the user asked for IEEE 128-bit.  */\n+   only do this transformation if the __float128 type is enabled.  This\n+   prevents us from doing the transformation on older 32-bit parts that might\n+   have enabled using IEEE 128-bit floating point as the default long double\n+   type.  */\n \n static tree\n rs6000_mangle_decl_assembler_name (tree decl, tree id)\n {\n-  if (!TARGET_IEEEQUAD_DEFAULT && TARGET_IEEEQUAD && TARGET_LONG_DOUBLE_128\n+  if (TARGET_FLOAT128_TYPE && TARGET_IEEEQUAD && TARGET_LONG_DOUBLE_128\n       && TREE_CODE (decl) == FUNCTION_DECL && DECL_IS_BUILTIN (decl) )\n     {\n       size_t len = IDENTIFIER_LENGTH (id);"}]}