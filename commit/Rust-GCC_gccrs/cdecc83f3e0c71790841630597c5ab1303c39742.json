{"sha": "cdecc83f3e0c71790841630597c5ab1303c39742", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Y2RlY2M4M2YzZTBjNzE3OTA4NDE2MzA1OTdjNWFiMTMwM2MzOTc0Mg==", "commit": {"author": {"name": "Martin Liska", "email": "mliska@suse.cz", "date": "2016-12-09T10:15:33Z"}, "committer": {"name": "Martin Liska", "email": "marxin@gcc.gnu.org", "date": "2016-12-09T10:15:33Z"}, "message": "Escape non-printable chars in strings.\n\n\t* tree-pretty-print.c (pretty_print_string): Escape non-printable\n\tchars in strings.\n\t* gcc.dg/tree-ssa/dump-3.c: New test.\n\nFrom-SVN: r243477", "tree": {"sha": "3fdf7a613ede189fb83e23fa5489d2355cd2179b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3fdf7a613ede189fb83e23fa5489d2355cd2179b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/cdecc83f3e0c71790841630597c5ab1303c39742", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdecc83f3e0c71790841630597c5ab1303c39742", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cdecc83f3e0c71790841630597c5ab1303c39742", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cdecc83f3e0c71790841630597c5ab1303c39742/comments", "author": {"login": "marxin", "id": 2658545, "node_id": "MDQ6VXNlcjI2NTg1NDU=", "avatar_url": "https://avatars.githubusercontent.com/u/2658545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marxin", "html_url": "https://github.com/marxin", "followers_url": "https://api.github.com/users/marxin/followers", "following_url": "https://api.github.com/users/marxin/following{/other_user}", "gists_url": "https://api.github.com/users/marxin/gists{/gist_id}", "starred_url": "https://api.github.com/users/marxin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marxin/subscriptions", "organizations_url": "https://api.github.com/users/marxin/orgs", "repos_url": "https://api.github.com/users/marxin/repos", "events_url": "https://api.github.com/users/marxin/events{/privacy}", "received_events_url": "https://api.github.com/users/marxin/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "52af5e483d2aab891a364929dedc221771ac1a52", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52af5e483d2aab891a364929dedc221771ac1a52", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52af5e483d2aab891a364929dedc221771ac1a52"}], "stats": {"total": 289, "additions": 288, "deletions": 1}, "files": [{"sha": "eaada9bc71a140379e6c9098d5f68320f0541283", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=cdecc83f3e0c71790841630597c5ab1303c39742", "patch": "@@ -1,3 +1,8 @@\n+2016-12-09  Martin Liska  <mliska@suse.cz>\n+\n+\t* tree-pretty-print.c (pretty_print_string): Escape non-printable\n+\tchars in strings.\n+\n 2016-12-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/78726"}, {"sha": "12a3c4b8901ec227b58625c54e906ef51da2dc63", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=cdecc83f3e0c71790841630597c5ab1303c39742", "patch": "@@ -1,3 +1,7 @@\n+2016-12-09  Martin Liska  <mliska@suse.cz>\n+\n+\t* gcc.dg/tree-ssa/dump-3.c: New test.\n+\n 2016-12-09  Jakub Jelinek  <jakub@redhat.com>\n \n \tPR tree-optimization/78726"}, {"sha": "853312406b501f592240bea9fbc4fc950a3d3b7f", "filename": "gcc/testsuite/gcc.dg/tree-ssa/dump-3.c", "status": "added", "additions": 271, "deletions": 0, "changes": 271, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fdump-3.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fdump-3.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.dg%2Ftree-ssa%2Fdump-3.c?ref=cdecc83f3e0c71790841630597c5ab1303c39742", "patch": "@@ -0,0 +1,271 @@\n+/* { dg-do compile } */\n+/* { dg-options \"-O0 -fdump-tree-optimized\" } */\n+\n+int main()\n+{\n+  char string_0[] = \"\\x0\";\n+  char string_1[] = \"\\x1\";\n+  char string_2[] = \"\\x2\";\n+  char string_3[] = \"\\x3\";\n+  char string_4[] = \"\\x4\";\n+  char string_5[] = \"\\x5\";\n+  char string_6[] = \"\\x6\";\n+  char string_7[] = \"\\x7\";\n+  char string_8[] = \"\\x8\";\n+  char string_9[] = \"\\x9\";\n+  char string_10[] = \"\\xa\";\n+  char string_11[] = \"\\xb\";\n+  char string_12[] = \"\\xc\";\n+  char string_13[] = \"\\xd\";\n+  char string_14[] = \"\\xe\";\n+  char string_15[] = \"\\xf\";\n+  char string_16[] = \"\\x10\";\n+  char string_17[] = \"\\x11\";\n+  char string_18[] = \"\\x12\";\n+  char string_19[] = \"\\x13\";\n+  char string_20[] = \"\\x14\";\n+  char string_21[] = \"\\x15\";\n+  char string_22[] = \"\\x16\";\n+  char string_23[] = \"\\x17\";\n+  char string_24[] = \"\\x18\";\n+  char string_25[] = \"\\x19\";\n+  char string_26[] = \"\\x1a\";\n+  char string_27[] = \"\\x1b\";\n+  char string_28[] = \"\\x1c\";\n+  char string_29[] = \"\\x1d\";\n+  char string_30[] = \"\\x1e\";\n+  char string_31[] = \"\\x1f\";\n+  char string_32[] = \"\\x20\";\n+  char string_33[] = \"\\x21\";\n+  char string_34[] = \"\\x22\";\n+  char string_35[] = \"\\x23\";\n+  char string_36[] = \"\\x24\";\n+  char string_37[] = \"\\x25\";\n+  char string_38[] = \"\\x26\";\n+  char string_39[] = \"\\x27\";\n+  char string_40[] = \"\\x28\";\n+  char string_41[] = \"\\x29\";\n+  char string_42[] = \"\\x2a\";\n+  char string_43[] = \"\\x2b\";\n+  char string_44[] = \"\\x2c\";\n+  char string_45[] = \"\\x2d\";\n+  char string_46[] = \"\\x2e\";\n+  char string_47[] = \"\\x2f\";\n+  char string_48[] = \"\\x30\";\n+  char string_49[] = \"\\x31\";\n+  char string_50[] = \"\\x32\";\n+  char string_51[] = \"\\x33\";\n+  char string_52[] = \"\\x34\";\n+  char string_53[] = \"\\x35\";\n+  char string_54[] = \"\\x36\";\n+  char string_55[] = \"\\x37\";\n+  char string_56[] = \"\\x38\";\n+  char string_57[] = \"\\x39\";\n+  char string_58[] = \"\\x3a\";\n+  char string_59[] = \"\\x3b\";\n+  char string_60[] = \"\\x3c\";\n+  char string_61[] = \"\\x3d\";\n+  char string_62[] = \"\\x3e\";\n+  char string_63[] = \"\\x3f\";\n+  char string_64[] = \"\\x40\";\n+  char string_65[] = \"\\x41\";\n+  char string_66[] = \"\\x42\";\n+  char string_67[] = \"\\x43\";\n+  char string_68[] = \"\\x44\";\n+  char string_69[] = \"\\x45\";\n+  char string_70[] = \"\\x46\";\n+  char string_71[] = \"\\x47\";\n+  char string_72[] = \"\\x48\";\n+  char string_73[] = \"\\x49\";\n+  char string_74[] = \"\\x4a\";\n+  char string_75[] = \"\\x4b\";\n+  char string_76[] = \"\\x4c\";\n+  char string_77[] = \"\\x4d\";\n+  char string_78[] = \"\\x4e\";\n+  char string_79[] = \"\\x4f\";\n+  char string_80[] = \"\\x50\";\n+  char string_81[] = \"\\x51\";\n+  char string_82[] = \"\\x52\";\n+  char string_83[] = \"\\x53\";\n+  char string_84[] = \"\\x54\";\n+  char string_85[] = \"\\x55\";\n+  char string_86[] = \"\\x56\";\n+  char string_87[] = \"\\x57\";\n+  char string_88[] = \"\\x58\";\n+  char string_89[] = \"\\x59\";\n+  char string_90[] = \"\\x5a\";\n+  char string_91[] = \"\\x5b\";\n+  char string_92[] = \"\\x5c\";\n+  char string_93[] = \"\\x5d\";\n+  char string_94[] = \"\\x5e\";\n+  char string_95[] = \"\\x5f\";\n+  char string_96[] = \"\\x60\";\n+  char string_97[] = \"\\x61\";\n+  char string_98[] = \"\\x62\";\n+  char string_99[] = \"\\x63\";\n+  char string_100[] = \"\\x64\";\n+  char string_101[] = \"\\x65\";\n+  char string_102[] = \"\\x66\";\n+  char string_103[] = \"\\x67\";\n+  char string_104[] = \"\\x68\";\n+  char string_105[] = \"\\x69\";\n+  char string_106[] = \"\\x6a\";\n+  char string_107[] = \"\\x6b\";\n+  char string_108[] = \"\\x6c\";\n+  char string_109[] = \"\\x6d\";\n+  char string_110[] = \"\\x6e\";\n+  char string_111[] = \"\\x6f\";\n+  char string_112[] = \"\\x70\";\n+  char string_113[] = \"\\x71\";\n+  char string_114[] = \"\\x72\";\n+  char string_115[] = \"\\x73\";\n+  char string_116[] = \"\\x74\";\n+  char string_117[] = \"\\x75\";\n+  char string_118[] = \"\\x76\";\n+  char string_119[] = \"\\x77\";\n+  char string_120[] = \"\\x78\";\n+  char string_121[] = \"\\x79\";\n+  char string_122[] = \"\\x7a\";\n+  char string_123[] = \"\\x7b\";\n+  char string_124[] = \"\\x7c\";\n+  char string_125[] = \"\\x7d\";\n+  char string_126[] = \"\\x7e\";\n+  char string_127[] = \"\\x7f\";\n+  char string_128[] = \"\\x80\";\n+  char string_129[] = \"\\x81\";\n+  char string_130[] = \"\\x82\";\n+  char string_131[] = \"\\x83\";\n+  char string_132[] = \"\\x84\";\n+  char string_133[] = \"\\x85\";\n+  char string_134[] = \"\\x86\";\n+  char string_135[] = \"\\x87\";\n+  char string_136[] = \"\\x88\";\n+  char string_137[] = \"\\x89\";\n+  char string_138[] = \"\\x8a\";\n+  char string_139[] = \"\\x8b\";\n+  char string_140[] = \"\\x8c\";\n+  char string_141[] = \"\\x8d\";\n+  char string_142[] = \"\\x8e\";\n+  char string_143[] = \"\\x8f\";\n+  char string_144[] = \"\\x90\";\n+  char string_145[] = \"\\x91\";\n+  char string_146[] = \"\\x92\";\n+  char string_147[] = \"\\x93\";\n+  char string_148[] = \"\\x94\";\n+  char string_149[] = \"\\x95\";\n+  char string_150[] = \"\\x96\";\n+  char string_151[] = \"\\x97\";\n+  char string_152[] = \"\\x98\";\n+  char string_153[] = \"\\x99\";\n+  char string_154[] = \"\\x9a\";\n+  char string_155[] = \"\\x9b\";\n+  char string_156[] = \"\\x9c\";\n+  char string_157[] = \"\\x9d\";\n+  char string_158[] = \"\\x9e\";\n+  char string_159[] = \"\\x9f\";\n+  char string_160[] = \"\\xa0\";\n+  char string_161[] = \"\\xa1\";\n+  char string_162[] = \"\\xa2\";\n+  char string_163[] = \"\\xa3\";\n+  char string_164[] = \"\\xa4\";\n+  char string_165[] = \"\\xa5\";\n+  char string_166[] = \"\\xa6\";\n+  char string_167[] = \"\\xa7\";\n+  char string_168[] = \"\\xa8\";\n+  char string_169[] = \"\\xa9\";\n+  char string_170[] = \"\\xaa\";\n+  char string_171[] = \"\\xab\";\n+  char string_172[] = \"\\xac\";\n+  char string_173[] = \"\\xad\";\n+  char string_174[] = \"\\xae\";\n+  char string_175[] = \"\\xaf\";\n+  char string_176[] = \"\\xb0\";\n+  char string_177[] = \"\\xb1\";\n+  char string_178[] = \"\\xb2\";\n+  char string_179[] = \"\\xb3\";\n+  char string_180[] = \"\\xb4\";\n+  char string_181[] = \"\\xb5\";\n+  char string_182[] = \"\\xb6\";\n+  char string_183[] = \"\\xb7\";\n+  char string_184[] = \"\\xb8\";\n+  char string_185[] = \"\\xb9\";\n+  char string_186[] = \"\\xba\";\n+  char string_187[] = \"\\xbb\";\n+  char string_188[] = \"\\xbc\";\n+  char string_189[] = \"\\xbd\";\n+  char string_190[] = \"\\xbe\";\n+  char string_191[] = \"\\xbf\";\n+  char string_192[] = \"\\xc0\";\n+  char string_193[] = \"\\xc1\";\n+  char string_194[] = \"\\xc2\";\n+  char string_195[] = \"\\xc3\";\n+  char string_196[] = \"\\xc4\";\n+  char string_197[] = \"\\xc5\";\n+  char string_198[] = \"\\xc6\";\n+  char string_199[] = \"\\xc7\";\n+  char string_200[] = \"\\xc8\";\n+  char string_201[] = \"\\xc9\";\n+  char string_202[] = \"\\xca\";\n+  char string_203[] = \"\\xcb\";\n+  char string_204[] = \"\\xcc\";\n+  char string_205[] = \"\\xcd\";\n+  char string_206[] = \"\\xce\";\n+  char string_207[] = \"\\xcf\";\n+  char string_208[] = \"\\xd0\";\n+  char string_209[] = \"\\xd1\";\n+  char string_210[] = \"\\xd2\";\n+  char string_211[] = \"\\xd3\";\n+  char string_212[] = \"\\xd4\";\n+  char string_213[] = \"\\xd5\";\n+  char string_214[] = \"\\xd6\";\n+  char string_215[] = \"\\xd7\";\n+  char string_216[] = \"\\xd8\";\n+  char string_217[] = \"\\xd9\";\n+  char string_218[] = \"\\xda\";\n+  char string_219[] = \"\\xdb\";\n+  char string_220[] = \"\\xdc\";\n+  char string_221[] = \"\\xdd\";\n+  char string_222[] = \"\\xde\";\n+  char string_223[] = \"\\xdf\";\n+  char string_224[] = \"\\xe0\";\n+  char string_225[] = \"\\xe1\";\n+  char string_226[] = \"\\xe2\";\n+  char string_227[] = \"\\xe3\";\n+  char string_228[] = \"\\xe4\";\n+  char string_229[] = \"\\xe5\";\n+  char string_230[] = \"\\xe6\";\n+  char string_231[] = \"\\xe7\";\n+  char string_232[] = \"\\xe8\";\n+  char string_233[] = \"\\xe9\";\n+  char string_234[] = \"\\xea\";\n+  char string_235[] = \"\\xeb\";\n+  char string_236[] = \"\\xec\";\n+  char string_237[] = \"\\xed\";\n+  char string_238[] = \"\\xee\";\n+  char string_239[] = \"\\xef\";\n+  char string_240[] = \"\\xf0\";\n+  char string_241[] = \"\\xf1\";\n+  char string_242[] = \"\\xf2\";\n+  char string_243[] = \"\\xf3\";\n+  char string_244[] = \"\\xf4\";\n+  char string_245[] = \"\\xf5\";\n+  char string_246[] = \"\\xf6\";\n+  char string_247[] = \"\\xf7\";\n+  char string_248[] = \"\\xf8\";\n+  char string_249[] = \"\\xf9\";\n+  char string_250[] = \"\\xfa\";\n+  char string_251[] = \"\\xfb\";\n+  char string_252[] = \"\\xfc\";\n+  char string_253[] = \"\\xfd\";\n+  char string_254[] = \"\\xfe\";\n+  char string_255[] = \"\\xff\";\n+\n+  return 0;\n+}\n+\n+/* { dg-final { scan-tree-dump \"string_0 = \\\"\\\";\" \"optimized\" } } */\n+/* { dg-final { scan-tree-dump \"string_4 = \\\"\\\\\\\\4\\\";\" \"optimized\" } } */\n+/* { dg-final { scan-tree-dump \"string_28 = \\\"\\\\\\\\x1c\\\";\" \"optimized\" } } */\n+/* { dg-final { scan-tree-dump \"string_51 = \\\"3\\\";\" \"optimized\" } } */\n+/* { dg-final { scan-tree-dump \"string_255 = \\\"\\\\\\\\xff\\\";\" \"optimized\" } } */\n+"}, {"sha": "5b3e23e40f7e8b5c02a8a3dd2da2e4a9bf6e1e34", "filename": "gcc/tree-pretty-print.c", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2Ftree-pretty-print.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/cdecc83f3e0c71790841630597c5ab1303c39742/gcc%2Ftree-pretty-print.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftree-pretty-print.c?ref=cdecc83f3e0c71790841630597c5ab1303c39742", "patch": "@@ -3869,7 +3869,14 @@ pretty_print_string (pretty_printer *pp, const char *str)\n \t  break;\n \n \tdefault:\n-\t  pp_character (pp, str[0]);\n+\t  if (!ISPRINT (str[0]))\n+\t    {\n+\t      char buf[5];\n+\t      sprintf (buf, \"\\\\x%x\", (unsigned char)str[0]);\n+\t      pp_string (pp, buf);\n+\t    }\n+\t  else\n+\t    pp_character (pp, str[0]);\n \t  break;\n \t}\n       str++;"}]}