{"sha": "c801e24619405cf2ca3eb3faea28c45f10ce00d7", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzgwMWUyNDYxOTQwNWNmMmNhM2ViM2ZhZWEyOGM0NWYxMGNlMDBkNw==", "commit": {"author": {"name": "Yury Gribov", "email": "y.gribov@samsung.com", "date": "2014-02-06T09:48:15Z"}, "committer": {"name": "Yury Gribov", "email": "ygribov@gcc.gnu.org", "date": "2014-02-06T09:48:15Z"}, "message": "arm.c (arm_vector_alignment_reachable): Check unaligned_access.\n\n2014-02-06  Yury Gribov  <y.gribov@samsung.com>\n\t    Kugan Vivekanandarajah  <kuganv@linaro.org>\n\ngcc/\n\t* config/arm/arm.c (arm_vector_alignment_reachable): Check\n\tunaligned_access.\n\t* config/arm/arm.c (arm_builtin_support_vector_misalignment): Likewise.\n\ntestsuite/\n\t* gcc.target/arm/vect-noalign.c: New file.\n\nCo-Authored-By: Kugan Vivekanandarajah <kuganv@linaro.org>\n\nFrom-SVN: r207533", "tree": {"sha": "77b8aa162844ae23b4ae56b42af435cef8717ef5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/77b8aa162844ae23b4ae56b42af435cef8717ef5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c801e24619405cf2ca3eb3faea28c45f10ce00d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c801e24619405cf2ca3eb3faea28c45f10ce00d7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c801e24619405cf2ca3eb3faea28c45f10ce00d7", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c801e24619405cf2ca3eb3faea28c45f10ce00d7/comments", "author": null, "committer": null, "parents": [{"sha": "d50f7b84e39784a14e96d095964d71fbdf53f5e9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d50f7b84e39784a14e96d095964d71fbdf53f5e9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d50f7b84e39784a14e96d095964d71fbdf53f5e9"}], "stats": {"total": 36, "additions": 34, "deletions": 2}, "files": [{"sha": "e83a8242b7015d56f911d1a3ce2052cd1520168b", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c801e24619405cf2ca3eb3faea28c45f10ce00d7", "patch": "@@ -1,3 +1,10 @@\n+2014-02-06  Yury Gribov  <y.gribov@samsung.com>\n+\t    Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\t* config/arm/arm.c (arm_vector_alignment_reachable): Check\n+\tunaligned_access.\n+\t* config/arm/arm.c (arm_builtin_support_vector_misalignment): Likewise.\n+\n 2014-02-06  Richard Biener  <rguenther@suse.de>\n \n \t* tree-cfg.c (gimple_duplicate_sese_region): Fix ordering of"}, {"sha": "9d05e891a85fe9fbf5f41dc941aae8078acedde0", "filename": "gcc/config/arm/arm.c", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2Fconfig%2Farm%2Farm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2Fconfig%2Farm%2Farm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Farm%2Farm.c?ref=c801e24619405cf2ca3eb3faea28c45f10ce00d7", "patch": "@@ -29551,7 +29551,7 @@ arm_vector_alignment_reachable (const_tree type, bool is_packed)\n {\n   /* Vectors which aren't in packed structures will not be less aligned than\n      the natural alignment of their element type, so this is safe.  */\n-  if (TARGET_NEON && !BYTES_BIG_ENDIAN)\n+  if (TARGET_NEON && !BYTES_BIG_ENDIAN && unaligned_access)\n     return !is_packed;\n \n   return default_builtin_vector_alignment_reachable (type, is_packed);\n@@ -29562,7 +29562,7 @@ arm_builtin_support_vector_misalignment (enum machine_mode mode,\n \t\t\t\t\t const_tree type, int misalignment,\n \t\t\t\t\t bool is_packed)\n {\n-  if (TARGET_NEON && !BYTES_BIG_ENDIAN)\n+  if (TARGET_NEON && !BYTES_BIG_ENDIAN && unaligned_access)\n     {\n       HOST_WIDE_INT align = TYPE_ALIGN_UNIT (type);\n "}, {"sha": "70a8f623f64a4cc248994e54cdc0e1f2c20e30af", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=c801e24619405cf2ca3eb3faea28c45f10ce00d7", "patch": "@@ -1,3 +1,8 @@\n+2014-02-06  Yury Gribov  <y.gribov@samsung.com>\n+\t    Kugan Vivekanandarajah  <kuganv@linaro.org>\n+\n+\t* gcc.target/arm/vect-noalign.c: New file.\n+\n 2014-02-05  Jan Hubicka  <hubicka@ucw.cz>\n \t    Jakub Jelinek  <jakub@redhat.com>\n "}, {"sha": "a934233a33df86ed4ca9bfe9aac65e39363689c3", "filename": "gcc/testsuite/gcc.target/arm/vect-noalign.c", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fvect-noalign.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c801e24619405cf2ca3eb3faea28c45f10ce00d7/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fvect-noalign.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Farm%2Fvect-noalign.c?ref=c801e24619405cf2ca3eb3faea28c45f10ce00d7", "patch": "@@ -0,0 +1,20 @@\n+/* { dg-do run } */\n+/* { dg-require-effective-target arm_neon_hw } */\n+/* { dg-options \"-mfpu=neon -ffast-math -ftree-vectorize -fno-common -O2 -mno-unaligned-access\" } */\n+\n+\n+/* Test for-mno-unaligned-access and -ftree-vectorize  and results bus error. */\n+#define N 128\n+\n+char ia[N];\n+char ib[N+1];\n+\n+int main() {\n+  int i;\n+  for(i = 0; i < N; ++i) {\n+    ia[i] = ib[i + 1];\n+  }\n+\n+  return 0;\n+}\n+"}]}