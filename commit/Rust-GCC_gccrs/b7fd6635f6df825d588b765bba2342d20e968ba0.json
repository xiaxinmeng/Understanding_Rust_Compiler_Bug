{"sha": "b7fd6635f6df825d588b765bba2342d20e968ba0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YjdmZDY2MzVmNmRmODI1ZDU4OGI3NjViYmEyMzQyZDIwZTk2OGJhMA==", "commit": {"author": {"name": "Stephane Carrez", "email": "stcarrez@worldnet.fr", "date": "1999-10-14T10:23:10Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "1999-10-14T10:23:10Z"}, "message": "* gcc.c-torture/execute/991014-1.c: New test.\n\nFrom-SVN: r29970", "tree": {"sha": "3e66b11d2969cd0764491a44dd55fd1b54c6419a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/3e66b11d2969cd0764491a44dd55fd1b54c6419a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/b7fd6635f6df825d588b765bba2342d20e968ba0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7fd6635f6df825d588b765bba2342d20e968ba0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b7fd6635f6df825d588b765bba2342d20e968ba0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b7fd6635f6df825d588b765bba2342d20e968ba0/comments", "author": null, "committer": null, "parents": [{"sha": "9180cca3e10d1001bd99afb8a2544405d688d2e5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9180cca3e10d1001bd99afb8a2544405d688d2e5", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9180cca3e10d1001bd99afb8a2544405d688d2e5"}], "stats": {"total": 54, "additions": 54, "deletions": 0}, "files": [{"sha": "b5a9bf202db2dff5df55bc2fad7f14c35b00180f", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7fd6635f6df825d588b765bba2342d20e968ba0/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7fd6635f6df825d588b765bba2342d20e968ba0/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=b7fd6635f6df825d588b765bba2342d20e968ba0", "patch": "@@ -1,3 +1,7 @@\n+Thu Oct 14 04:22:47 1999  Stephane Carrez  <stcarrez@worldnet.fr>\n+\n+\t* gcc.c-torture/execute/991014-1.c: New test.\n+\n Wed Oct 13 22:01:35 1999  J\"orn Rennecke <amylaar@cygnus.co.uk>\n \n \t* g++.old-deja/g++.other/union2.C: New test."}, {"sha": "7b1b5fa40d0ec094c3bc0c4db3e00cf9ca838eda", "filename": "gcc/testsuite/gcc.c-torture/execute/991014-1.c", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/b7fd6635f6df825d588b765bba2342d20e968ba0/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991014-1.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/b7fd6635f6df825d588b765bba2342d20e968ba0/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991014-1.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.c-torture%2Fexecute%2F991014-1.c?ref=b7fd6635f6df825d588b765bba2342d20e968ba0", "patch": "@@ -0,0 +1,50 @@\n+\n+typedef typeof(sizeof(char)) Size_t;\n+\n+#define bufsize ((1L << (8 * sizeof(Size_t) - 2))-256)\n+\n+struct huge_struct\n+{\n+  short buf[bufsize];\n+  int a;\n+  int b;\n+  int c;\n+  int d;\n+};\n+\n+union huge_union\n+{\n+  int a;\n+  char buf[bufsize];\n+};\n+\n+unsigned long union_size()\n+{\n+  return sizeof(union huge_union);\n+}\n+\n+unsigned long struct_size()\n+{\n+  return sizeof(struct huge_struct);\n+}\n+\n+unsigned long struct_a_offset()\n+{\n+  return (unsigned long)(&((struct huge_struct *) 0)->a);\n+}\n+\n+int main()\n+{\n+  /* Check the exact sizeof value. bufsize is aligned on 256b. */\n+  if (union_size() != sizeof(char) * bufsize)\n+    abort();\n+\n+  if (struct_size() != sizeof(short) * bufsize + 4*sizeof(int))\n+    abort();\n+\n+  if (struct_a_offset() < sizeof(short) * bufsize)\n+    abort();  \n+\n+  return 0;\n+}\n+"}]}