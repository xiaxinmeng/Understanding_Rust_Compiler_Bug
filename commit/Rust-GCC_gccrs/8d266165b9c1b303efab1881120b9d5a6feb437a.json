{"sha": "8d266165b9c1b303efab1881120b9d5a6feb437a", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGQyNjYxNjViOWMxYjMwM2VmYWIxODgxMTIwYjlkNWE2ZmViNDM3YQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-04-26T17:20:55Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2019-04-26T17:20:55Z"}, "message": "runtime: fix TestPhysPageSize on AIX\n    \n    AIX doesn't allow to mmap an address range which is already mmap.\n    Therefore, once the region has been allocated, it must munmap before\n    being able to play with it.\n    The corresponding Go Toolchain patch is CL 174059.\n    \n    Reviewed-on: https://go-review.googlesource.com/c/gofrontend/+/174138\n\nFrom-SVN: r270615", "tree": {"sha": "17d3ae67a1b9be4cc4873eb79698c260cdc76687", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/17d3ae67a1b9be4cc4873eb79698c260cdc76687"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8d266165b9c1b303efab1881120b9d5a6feb437a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d266165b9c1b303efab1881120b9d5a6feb437a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8d266165b9c1b303efab1881120b9d5a6feb437a", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8d266165b9c1b303efab1881120b9d5a6feb437a/comments", "author": null, "committer": null, "parents": [{"sha": "ca2efef75d700d651af8e5df61b014ed7c01b350", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca2efef75d700d651af8e5df61b014ed7c01b350", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca2efef75d700d651af8e5df61b014ed7c01b350"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "8af11d906a4f5e3f2adfa24723a09c0756e44409", "filename": "gcc/go/gofrontend/MERGE", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d266165b9c1b303efab1881120b9d5a6feb437a/gcc%2Fgo%2Fgofrontend%2FMERGE", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d266165b9c1b303efab1881120b9d5a6feb437a/gcc%2Fgo%2Fgofrontend%2FMERGE", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2FMERGE?ref=8d266165b9c1b303efab1881120b9d5a6feb437a", "patch": "@@ -1,4 +1,4 @@\n-cb6fb7285bac72389bdce7ecfe87f9366022571a\n+b117b468264665cfe6ec2cf3affb48330a704fa7\n \n The first line of this file holds the git revision number of the last\n merge done from the gofrontend repository."}, {"sha": "188fd5d0f0c18abcda5186bab45706dd5741c1b0", "filename": "libgo/go/runtime/runtime_mmap_test.go", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8d266165b9c1b303efab1881120b9d5a6feb437a/libgo%2Fgo%2Fruntime%2Fruntime_mmap_test.go", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8d266165b9c1b303efab1881120b9d5a6feb437a/libgo%2Fgo%2Fruntime%2Fruntime_mmap_test.go", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgo%2Fgo%2Fruntime%2Fruntime_mmap_test.go?ref=8d266165b9c1b303efab1881120b9d5a6feb437a", "patch": "@@ -32,6 +32,11 @@ func TestPhysPageSize(t *testing.T) {\n \t\tt.Fatalf(\"Mmap: %v\", err)\n \t}\n \n+\tif runtime.GOOS == \"aix\" {\n+\t\t// AIX does not allow mapping a range that is already mapped.\n+\t\truntime.Munmap(unsafe.Pointer(uintptr(b)), 2*ps)\n+\t}\n+\n \t// Mmap should fail at a half page into the buffer.\n \t_, err = runtime.Mmap(unsafe.Pointer(uintptr(b)+ps/2), ps, 0, runtime.MAP_ANON|runtime.MAP_PRIVATE|runtime.MAP_FIXED, -1, 0)\n \tif err == 0 {"}]}