{"sha": "dc11d79b74fd394b522b6bec8c5da3474a205d22", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGMxMWQ3OWI3NGZkMzk0YjUyMmI2YmVjOGM1ZGEzNDc0YTIwNWQyMg==", "commit": {"author": {"name": "Joey Ye", "email": "joey.ye@arm.com", "date": "2014-02-28T21:53:40Z"}, "committer": {"name": "Joey Ye", "email": "jye2@gcc.gnu.org", "date": "2014-02-28T21:53:40Z"}, "message": "re PR libgcc/60166 (ARM default NAN encoding violates EABI)\n\n2014-02-28  Joey Ye  <joey.ye@arm.com>\n\n        PR libgcc/60166\n        * config/arm/sfp-machine.h (_FP_NANFRAC_H,\n        _FP_NANFRAC_S, _FP_NANFRAC_D, _FP_NANFRAC_Q):\n        Set to zero.\n\nFrom-SVN: r208229", "tree": {"sha": "a69088cc5b4d8371c964023d23a0e7cf86fb7d3e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/a69088cc5b4d8371c964023d23a0e7cf86fb7d3e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dc11d79b74fd394b522b6bec8c5da3474a205d22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc11d79b74fd394b522b6bec8c5da3474a205d22", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dc11d79b74fd394b522b6bec8c5da3474a205d22", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dc11d79b74fd394b522b6bec8c5da3474a205d22/comments", "author": {"login": "joeye-arm", "id": 38510878, "node_id": "MDQ6VXNlcjM4NTEwODc4", "avatar_url": "https://avatars.githubusercontent.com/u/38510878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joeye-arm", "html_url": "https://github.com/joeye-arm", "followers_url": "https://api.github.com/users/joeye-arm/followers", "following_url": "https://api.github.com/users/joeye-arm/following{/other_user}", "gists_url": "https://api.github.com/users/joeye-arm/gists{/gist_id}", "starred_url": "https://api.github.com/users/joeye-arm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joeye-arm/subscriptions", "organizations_url": "https://api.github.com/users/joeye-arm/orgs", "repos_url": "https://api.github.com/users/joeye-arm/repos", "events_url": "https://api.github.com/users/joeye-arm/events{/privacy}", "received_events_url": "https://api.github.com/users/joeye-arm/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "3c3f892bf083c7df33c50347ed106c54fc9ed941", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/3c3f892bf083c7df33c50347ed106c54fc9ed941", "html_url": "https://github.com/Rust-GCC/gccrs/commit/3c3f892bf083c7df33c50347ed106c54fc9ed941"}], "stats": {"total": 17, "additions": 13, "deletions": 4}, "files": [{"sha": "2fe114e4a941a6afd10abab6be2b3d4ff0b041da", "filename": "libgcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc11d79b74fd394b522b6bec8c5da3474a205d22/libgcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc11d79b74fd394b522b6bec8c5da3474a205d22/libgcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2FChangeLog?ref=dc11d79b74fd394b522b6bec8c5da3474a205d22", "patch": "@@ -1,3 +1,10 @@\n+2014-02-28  Joey Ye  <joey.ye@arm.com>\n+\n+\tPR libgcc/60166\n+\t* config/arm/sfp-machine.h (_FP_NANFRAC_H,\n+\t_FP_NANFRAC_S, _FP_NANFRAC_D, _FP_NANFRAC_Q):\n+\tSet to zero.\n+\n 2014-02-24  Walter Lee  <walt@tilera.com>\n \n \t* config.host: Support \"tilegx*\" and \"tilepro*\" triplets."}, {"sha": "4f2b15d7e55d0c53176b382d51d676f3b13ad996", "filename": "libgcc/config/arm/sfp-machine.h", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dc11d79b74fd394b522b6bec8c5da3474a205d22/libgcc%2Fconfig%2Farm%2Fsfp-machine.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dc11d79b74fd394b522b6bec8c5da3474a205d22/libgcc%2Fconfig%2Farm%2Fsfp-machine.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgcc%2Fconfig%2Farm%2Fsfp-machine.h?ref=dc11d79b74fd394b522b6bec8c5da3474a205d22", "patch": "@@ -19,10 +19,12 @@ typedef int __gcc_CMPtype __attribute__ ((mode (__libgcc_cmp_return__)));\n #define _FP_DIV_MEAT_D(R,X,Y)\t_FP_DIV_MEAT_2_udiv(D,R,X,Y)\n #define _FP_DIV_MEAT_Q(R,X,Y)\t_FP_DIV_MEAT_4_udiv(Q,R,X,Y)\n \n-#define _FP_NANFRAC_H\t\t((_FP_QNANBIT_H << 1) - 1)\n-#define _FP_NANFRAC_S\t\t((_FP_QNANBIT_S << 1) - 1)\n-#define _FP_NANFRAC_D\t\t((_FP_QNANBIT_D << 1) - 1), -1\n-#define _FP_NANFRAC_Q\t\t((_FP_QNANBIT_Q << 1) - 1), -1, -1, -1\n+/* According to RTABI, QNAN is only with the most significant bit of the\n+   significand set, and all other significand bits zero.  */\n+#define _FP_NANFRAC_H\t\t0\n+#define _FP_NANFRAC_S\t\t0\n+#define _FP_NANFRAC_D\t\t0, 0\n+#define _FP_NANFRAC_Q\t\t0, 0, 0, 0\n #define _FP_NANSIGN_H\t\t0\n #define _FP_NANSIGN_S\t\t0\n #define _FP_NANSIGN_D\t\t0"}]}