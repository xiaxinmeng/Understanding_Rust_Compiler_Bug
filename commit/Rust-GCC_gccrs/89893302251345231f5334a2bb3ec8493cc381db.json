{"sha": "89893302251345231f5334a2bb3ec8493cc381db", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ODk4OTMzMDIyNTEzNDUyMzFmNTMzNGEyYmIzZWM4NDkzY2MzODFkYg==", "commit": {"author": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-09-10T12:49:21Z"}, "committer": {"name": "Arnaud Charlet", "email": "charlet@gcc.gnu.org", "date": "2007-09-10T12:49:21Z"}, "message": "vms_data.ads: Add qualifier for the new gnatmetric '-lratio' option\n\n\t* vms_data.ads: Add qualifier for the new gnatmetric '-lratio' option\n\n\t* gnat_ugn.texi: Add description of the new '-lratio' option\n\tUpdate 7.3.1 section about availability of the feature.\n\n\t* exp_smem.ads, exp_smem.adb (Make_Shared_Var_Procs): Return last\n\tinserted node.\n\n\t* Makefile.in: (mips-irix section): Activate build of libgmem.\n\nFrom-SVN: r128339", "tree": {"sha": "881717484af552fe4dd8950fc665de7d001c28a4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/881717484af552fe4dd8950fc665de7d001c28a4"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/89893302251345231f5334a2bb3ec8493cc381db", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89893302251345231f5334a2bb3ec8493cc381db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/89893302251345231f5334a2bb3ec8493cc381db", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/89893302251345231f5334a2bb3ec8493cc381db/comments", "author": null, "committer": null, "parents": [{"sha": "4b272fdd2344aff782e3bb1898943bba8943762b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/4b272fdd2344aff782e3bb1898943bba8943762b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/4b272fdd2344aff782e3bb1898943bba8943762b"}], "stats": {"total": 39, "additions": 26, "deletions": 13}, "files": [{"sha": "9c00de4679a909e756855ff767bccde1890607f8", "filename": "gcc/ada/Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2FMakefile.in?ref=89893302251345231f5334a2bb3ec8493cc381db", "patch": "@@ -990,6 +990,7 @@ ifeq ($(strip $(filter-out mips sgi irix%,$(targ))),)\n   MISCLIB = -lexc\n   PREFIX_OBJS = $(PREFIX_REAL_OBJS)\n   LIBRARY_VERSION := $(LIB_VERSION)\n+  GMEM_LIB = gmemlib\n endif\n \n ifeq ($(strip $(filter-out hppa% hp hpux10%,$(targ))),)"}, {"sha": "69b4ee90eba7646be2bf9a79470608aa8d2e7a26", "filename": "gcc/ada/exp_smem.ads", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2Fexp_smem.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2Fexp_smem.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fexp_smem.ads?ref=89893302251345231f5334a2bb3ec8493cc381db", "patch": "@@ -6,18 +6,17 @@\n --                                                                          --\n --                                 S p e c                                  --\n --                                                                          --\n---           Copyright (C) 1998-2000, Free Software Foundation, Inc.        --\n+--          Copyright (C) 1998-2007, Free Software Foundation, Inc.         --\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n--- ware  Foundation;  either version 2,  or (at your option) any later ver- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n -- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n -- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n -- or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License --\n -- for  more details.  You should have  received  a copy of the GNU General --\n--- Public License  distributed with GNAT;  see file COPYING.  If not, write --\n--- to  the  Free Software Foundation,  51  Franklin  Street,  Fifth  Floor, --\n--- Boston, MA 02110-1301, USA.                                              --\n+-- Public License  distributed with GNAT; see file COPYING3.  If not, go to --\n+-- http://www.gnu.org/licenses for a complete copy of the license.          --\n --                                                                          --\n -- GNAT was originally developed  by the GNAT team at  New York University. --\n -- Extensive contributions were provided by Ada Core Technologies Inc.      --\n@@ -49,10 +48,11 @@ package Exp_Smem is\n    --  global lock calls for this case. It also generates the necessary\n    --  read/write calls for the protected object within the lock region.\n \n-   procedure Make_Shared_Var_Procs (N : Node_Id);\n+   function Make_Shared_Var_Procs (N : Node_Id) return Node_Id;\n    --  N is the node for the declaration of a shared passive variable. This\n    --  procedure constructs and inserts the read and assignment procedures\n    --  for the shared memory variable. See System.Shared_Storage for a full\n-   --  description of these procedures and how they are used.\n+   --  description of these procedures and how they are used. The last inserted\n+   --  node is returned.\n \n end Exp_Smem;"}, {"sha": "9717fd040f384c4dc0dde4221a0a46963eb69eef", "filename": "gcc/ada/gnat_ugn.texi", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2Fgnat_ugn.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2Fgnat_ugn.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fgnat_ugn.texi?ref=89893302251345231f5334a2bb3ec8493cc381db", "patch": "@@ -10143,8 +10143,9 @@ never used by this executable.\n This feature will allow you to eliminate such unused code from your\n executable, making it smaller (in disk and in memory).\n \n-This functionality is available on all platforms using elf binary format and\n-having GNU binutils version 2.16.1.\n+This functionality is available on all Linux platforms except for the IA-64\n+architecture and on all cross platforms using the ELF binary file format.\n+In both cases GNU binutils version 2.16 or later are required to enable it.\n \n @node Compilation options\n @subsection Compilation options\n@@ -16434,6 +16435,10 @@ the number of comment lines\n @item\n the number of code lines containing end-of-line comments;\n \n+@item\n+the ratio between the number of lines that contain comments and the number of all\n+the non-blank lines expressed in percentages (the comment percentage);\n+\n @item\n the number of empty lines and lines containing only space characters and/or\n format effectors (blank lines)\n@@ -16467,6 +16472,10 @@ The number of comment lines\n The number of code lines containing\n end-of-line comments\n \n+@cindex @option{^-ratio^/COMMENT_PERCENTAGE^} (@command{gnatmetric})\n+@item ^-ratio^/COMMENT_PERCENTAGE^\n+The comment percentage in the program text\n+\n @cindex @option{^-lb^/BLANK_LINES^} (@command{gnatmetric})\n @item ^-lb^/BLANK_LINES^\n The number of blank lines"}, {"sha": "dc071960bd16962bcce65ff5d77a73d0578cdbdf", "filename": "gcc/ada/vms_data.ads", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2Fvms_data.ads", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/89893302251345231f5334a2bb3ec8493cc381db/gcc%2Fada%2Fvms_data.ads", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fada%2Fvms_data.ads?ref=89893302251345231f5334a2bb3ec8493cc381db", "patch": "@@ -10,14 +10,13 @@\n --                                                                          --\n -- GNAT is free software;  you can  redistribute it  and/or modify it under --\n -- terms of the  GNU General Public License as published  by the Free Soft- --\n--- ware  Foundation;  either version 2,  or (at your option) any later ver- --\n+-- ware  Foundation;  either version 3,  or (at your option) any later ver- --\n -- sion.  GNAT is distributed in the hope that it will be useful, but WITH- --\n -- OUT ANY WARRANTY;  without even the  implied warranty of MERCHANTABILITY --\n -- or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License --\n -- for  more details.  You should have  received  a copy of the GNU General --\n--- Public License  distributed with GNAT;  see file COPYING.  If not, write --\n--- to  the  Free Software Foundation,  51  Franklin  Street,  Fifth  Floor, --\n--- Boston, MA 02110-1301, USA.                                              --\n+-- Public License  distributed with GNAT; see file COPYING3.  If not, go to --\n+-- http://www.gnu.org/licenses for a complete copy of the license.          --\n --                                                                          --\n -- GNAT was originally developed  by the GNAT team at  New York University. --\n -- Extensive contributions were provided by Ada Core Technologies Inc.      --\n@@ -4563,6 +4562,8 @@ package VMS_Data is\n                                                  \"-lcomm \"                  &\n                                                 \"MIXED_CODE_COMMENTS \"      &\n                                                  \"-leol \"                   &\n+                                                \"COMMENT_PERCENTAGE \"       &\n+                                                 \"-lratio \"                 &\n                                                 \"BLANK_LINES \"              &\n                                                  \"-lb \";\n    --      /LINE_METRICS=(option, option ...)\n@@ -4579,6 +4580,8 @@ package VMS_Data is\n    --     COMENT_LINES         All comment lines are computed\n    --     MIXED_CODE_COMMENTS  All lines containing both code and comment are\n    --                          computed\n+   --     COMMENT_PERCENTAGE   Ratio between comment lines and all the lines\n+   --                          containing comments and program code\n    --     BLANK_LINES          Blank lines are computed\n    --\n    --   All combinations of line metrics options are allowed."}]}