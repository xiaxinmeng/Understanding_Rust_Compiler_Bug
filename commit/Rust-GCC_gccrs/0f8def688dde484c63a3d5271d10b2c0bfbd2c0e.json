{"sha": "0f8def688dde484c63a3d5271d10b2c0bfbd2c0e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MGY4ZGVmNjg4ZGRlNDg0YzYzYTNkNTI3MWQxMGIyYzBiZmJkMmMwZQ==", "commit": {"author": {"name": "Jan-Benedict Glaw", "email": "jbglaw@lug-owl.de", "date": "2005-05-14T17:55:33Z"}, "committer": {"name": "John David Anglin", "email": "danglin@gcc.gnu.org", "date": "2005-05-14T17:55:33Z"}, "message": "vax.md: define_constant VAXens AP...\n\n\t* config/vax/vax.md: define_constant VAXens AP, FP, SP and PC\n\tregisters and use them (specifically the stack pointer).\n\t* config/vax/vax.h: Use above defines right here.\n\nFrom-SVN: r99702", "tree": {"sha": "76566f21da0dcbbe9229a13501bf86923ccb0775", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/76566f21da0dcbbe9229a13501bf86923ccb0775"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e/comments", "author": {"login": "jbglaw", "id": 7965297, "node_id": "MDQ6VXNlcjc5NjUyOTc=", "avatar_url": "https://avatars.githubusercontent.com/u/7965297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbglaw", "html_url": "https://github.com/jbglaw", "followers_url": "https://api.github.com/users/jbglaw/followers", "following_url": "https://api.github.com/users/jbglaw/following{/other_user}", "gists_url": "https://api.github.com/users/jbglaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbglaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbglaw/subscriptions", "organizations_url": "https://api.github.com/users/jbglaw/orgs", "repos_url": "https://api.github.com/users/jbglaw/repos", "events_url": "https://api.github.com/users/jbglaw/events{/privacy}", "received_events_url": "https://api.github.com/users/jbglaw/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d001241c891257e800616794649895443e5432ff", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d001241c891257e800616794649895443e5432ff", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d001241c891257e800616794649895443e5432ff"}], "stats": {"total": 36, "additions": 22, "deletions": 14}, "files": [{"sha": "91408182ce0d4f2b78a797b185026cc0874f47f8", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0f8def688dde484c63a3d5271d10b2c0bfbd2c0e", "patch": "@@ -1,5 +1,9 @@\n 2005-05-14  Jan-Benedict Glaw  <jbglaw@lug-owl.de>\n \n+\t* config/vax/vax.md: define_constant VAXens AP, FP, SP and PC\n+\tregisters and use them (specifically the stack pointer).\n+\t* config/vax/vax.h: Use above defines right here.\n+\n \t* config/vax/vax.c: (override_options) Remove 'register' keyword.\n \t(split_quadword_operands) Likewise. (rev_cond_name) Likewise.\n \t(vax_float_literal) Likewise. (vax_rtx_costs) Remove trailing"}, {"sha": "86259880e801e68b9e597d71b55d1dbd350d4091", "filename": "gcc/config/vax/vax.h", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e/gcc%2Fconfig%2Fvax%2Fvax.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e/gcc%2Fconfig%2Fvax%2Fvax.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvax.h?ref=0f8def688dde484c63a3d5271d10b2c0bfbd2c0e", "patch": "@@ -167,13 +167,13 @@ Boston, MA 02111-1307, USA.  */\n    The values of these macros are register numbers.  */\n \n /* VAX pc is overloaded on a register.  */\n-#define PC_REGNUM 15\n+#define PC_REGNUM VAX_PC_REGNUM\n \n /* Register to use for pushing function arguments.  */\n-#define STACK_POINTER_REGNUM 14\n+#define STACK_POINTER_REGNUM VAX_SP_REGNUM\n \n /* Base register for access to local variables of the function.  */\n-#define FRAME_POINTER_REGNUM 13\n+#define FRAME_POINTER_REGNUM VAX_FP_REGNUM\n \n /* Value should be nonzero if functions must have frame pointers.\n    Zero means the frame pointer need not be set up (and parms\n@@ -182,7 +182,7 @@ Boston, MA 02111-1307, USA.  */\n #define FRAME_POINTER_REQUIRED 1\n \n /* Base register for access to arguments of the function.  */\n-#define ARG_POINTER_REGNUM 12\n+#define ARG_POINTER_REGNUM VAX_AP_REGNUM\n \n /* Register in which static-chain is passed to a function.  */\n #define STATIC_CHAIN_REGNUM 0"}, {"sha": "a77f8412965b9b28719abe31d3524a99b4640bc8", "filename": "gcc/config/vax/vax.md", "status": "modified", "additions": 14, "deletions": 10, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e/gcc%2Fconfig%2Fvax%2Fvax.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0f8def688dde484c63a3d5271d10b2c0bfbd2c0e/gcc%2Fconfig%2Fvax%2Fvax.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fvax%2Fvax.md?ref=0f8def688dde484c63a3d5271d10b2c0bfbd2c0e", "patch": "@@ -31,9 +31,13 @@\n ;; UNSPEC_VOLATILE usage:\n \n (define_constants\n-  [(VUNSPEC_BLOCKAGE 0)     ; `blockage' insn to prevent scheduling across an\n-\t\t\t    ;   insn in the code.\n+  [(VUNSPEC_BLOCKAGE 0)\t    ; `blockage' insn to prevent scheduling across an\n+\t\t\t    ; insn in the code.\n    (VUNSPEC_SYNC_ISTREAM 1) ; sequence of insns to sync the I-stream\n+   (VAX_AP_REGNUM 12)\t    ; Register 12 contains the argument pointer\n+   (VAX_FP_REGNUM 13)\t    ; Register 13 contains the frame pointer\n+   (VAX_SP_REGNUM 14)\t    ; Register 14 contains the stack pointer\n+   (VAX_PC_REGNUM 15)\t    ; Register 15 contains the program counter\n   ]\n )\n \n@@ -1196,8 +1200,8 @@\n (define_expand \"call_pop\"\n   [(parallel [(call (match_operand:QI 0 \"memory_operand\" \"\")\n \t\t    (match_operand:SI 1 \"const_int_operand\" \"\"))\n-\t      (set (reg:SI 14)\n-\t\t   (plus:SI (reg:SI 14)\n+\t      (set (reg:SI VAX_SP_REGNUM)\n+\t\t   (plus:SI (reg:SI VAX_SP_REGNUM)\n \t\t\t    (match_operand:SI 3 \"immediate_operand\" \"\")))])]\n   \"\"\n {\n@@ -1213,8 +1217,8 @@\n (define_insn \"*call_pop\"\n   [(call (match_operand:QI 0 \"memory_operand\" \"m\")\n \t (match_operand:SI 1 \"const_int_operand\" \"n\"))\n-   (set (reg:SI 14) (plus:SI (reg:SI 14)\n-\t\t\t     (match_operand:SI 2 \"immediate_operand\" \"i\")))]\n+   (set (reg:SI VAX_SP_REGNUM) (plus:SI (reg:SI VAX_SP_REGNUM)\n+\t\t\t\t\t(match_operand:SI 2 \"immediate_operand\" \"i\")))]\n   \"\"\n {\n   operands[1] = GEN_INT ((INTVAL (operands[1]) - 4) / 4);\n@@ -1225,8 +1229,8 @@\n   [(parallel [(set (match_operand 0 \"\" \"\")\n \t\t   (call (match_operand:QI 1 \"memory_operand\" \"\")\n \t\t\t (match_operand:SI 2 \"const_int_operand\" \"\")))\n-\t      (set (reg:SI 14)\n-\t\t   (plus:SI (reg:SI 14)\n+\t      (set (reg:SI VAX_SP_REGNUM)\n+\t\t   (plus:SI (reg:SI VAX_SP_REGNUM)\n \t\t\t    (match_operand:SI 4 \"immediate_operand\" \"\")))])]\n   \"\"\n {\n@@ -1243,8 +1247,8 @@\n   [(set (match_operand 0 \"\" \"\")\n \t(call (match_operand:QI 1 \"memory_operand\" \"m\")\n \t      (match_operand:SI 2 \"const_int_operand\" \"n\")))\n-   (set (reg:SI 14) (plus:SI (reg:SI 14)\n-\t\t\t     (match_operand:SI 3 \"immediate_operand\" \"i\")))]\n+   (set (reg:SI VAX_SP_REGNUM) (plus:SI (reg:SI VAX_SP_REGNUM)\n+\t\t\t\t\t(match_operand:SI 3 \"immediate_operand\" \"i\")))]\n   \"\"\n   \"*\n {"}]}