{"sha": "c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzA5NzViYzcwNTNiYjczM2FjMzJmNDA3OWVlMWZmMjljYTI0ZmE0Mw==", "commit": {"author": {"name": "Andrew Pinski", "email": "pinskia@physics.uc.edu", "date": "2005-08-19T05:14:13Z"}, "committer": {"name": "Andrew Pinski", "email": "pinskia@gcc.gnu.org", "date": "2005-08-19T05:14:13Z"}, "message": "Makefile.am (extra_ldflags_libjava): New variable to substitute in.\n\n2005-08-19  Andrew Pinski  <pinskia@physics.uc.edu>\n\n        * Makefile.am (extra_ldflags_libjava): New variable to\n        substitute in.\n        (LIBLINK): Add extra_ldflags_libjava to it.\n        * configure.ac (extra_ldflags_libjava): Set for *-darwin* to\n        \"-Wl,-single_module\".\n        * Makefile.in: Regenerate.\n        * aclocal.m4: Regenerate.\n        * configure: Regenerate.\n        * gcj/Makefile.in: Regenerate.\n        * include/Makefile.in: Regenerate.\n        * testsuite/Makefile.in: Regenerate.\n\nFrom-SVN: r103265", "tree": {"sha": "24a3a22ee73c6d38b068014bfb4d07d236bc2445", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/24a3a22ee73c6d38b068014bfb4d07d236bc2445"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/comments", "author": null, "committer": null, "parents": [{"sha": "52a6edcc1e1a0a7b5c7318f6178ab9f987b5b8c7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/52a6edcc1e1a0a7b5c7318f6178ab9f987b5b8c7", "html_url": "https://github.com/Rust-GCC/gccrs/commit/52a6edcc1e1a0a7b5c7318f6178ab9f987b5b8c7"}], "stats": {"total": 124, "additions": 113, "deletions": 11}, "files": [{"sha": "97b128474fca8d9a02107fade088c62a42937cf9", "filename": "libjava/ChangeLog", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -1,3 +1,17 @@\n+2005-08-19  Andrew Pinski  <pinskia@physics.uc.edu>\n+\n+\t* Makefile.am (extra_ldflags_libjava): New variable to\n+\tsubstitute in.\n+\t(LIBLINK): Add extra_ldflags_libjava to it.\n+\t* configure.ac (extra_ldflags_libjava): Set for *-darwin* to\n+\t\"-Wl,-single_module\".\n+\t* Makefile.in: Regenerate.\n+\t* aclocal.m4: Regenerate.\n+\t* configure: Regenerate.\n+\t* gcj/Makefile.in: Regenerate.\n+\t* include/Makefile.in: Regenerate.\n+\t* testsuite/Makefile.in: Regenerate.\n+\n 2005-08-17  Tom Tromey  <tromey@redhat.com>\n \n \t* java/lang/Class.h (_Jv_IsBinaryCompatibilityABI): Declare as"}, {"sha": "046b68189fa0afe3425b6c60c444e80394dadd08", "filename": "libjava/Makefile.am", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -91,8 +91,12 @@ ZIP = @ZIP@\n ## compiles.\n GCJ_WITH_FLAGS = $(GCJ) --encoding=UTF-8 -Wno-deprecated\n \n-GCJLINK = $(LIBTOOL) --tag=GCJ --mode=link $(GCJ) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n-LIBLINK = $(LIBTOOL) --tag=CXX --mode=link $(CXX) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n+extra_ldflags_libjava = @extra_ldflags_libjava@\n+\n+GCJLINK = $(LIBTOOL) --tag=GCJ --mode=link $(GCJ) -L$(here) $(JC1FLAGS) \\\n+          $(LDFLAGS) -o $@\n+LIBLINK = $(LIBTOOL) --tag=CXX --mode=link $(CXX) -L$(here) $(JC1FLAGS) \\\n+          $(LDFLAGS) $(extra_ldflags_libjava) -o $@\n \n GCC_UNWIND_INCLUDE = @GCC_UNWIND_INCLUDE@\n "}, {"sha": "6994da8ff535b867b11aacb7d752a2b3c9f75022", "filename": "libjava/Makefile.in", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -1,4 +1,4 @@\n-# Makefile.in generated by automake 1.9.3 from Makefile.am.\n+# Makefile.in generated by automake 1.9.4 from Makefile.am.\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n@@ -570,6 +570,7 @@ build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n+extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n here = @here@\n host = @host@\n@@ -642,8 +643,12 @@ db_pathtail = gcj-$(gcc_version)/$(db_name)\n @NATIVE_TRUE@dbexec_DATA = $(db_name)\n bin_SCRIPTS = addr2name.awk\n GCJ_WITH_FLAGS = $(GCJ) --encoding=UTF-8 -Wno-deprecated\n-GCJLINK = $(LIBTOOL) --tag=GCJ --mode=link $(GCJ) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n-LIBLINK = $(LIBTOOL) --tag=CXX --mode=link $(CXX) -L$(here) $(JC1FLAGS) $(LDFLAGS) -o $@\n+GCJLINK = $(LIBTOOL) --tag=GCJ --mode=link $(GCJ) -L$(here) $(JC1FLAGS) \\\n+          $(LDFLAGS) -o $@\n+\n+LIBLINK = $(LIBTOOL) --tag=CXX --mode=link $(CXX) -L$(here) $(JC1FLAGS) \\\n+          $(LDFLAGS) $(extra_ldflags_libjava) -o $@\n+\n WARNINGS = -Wextra -Wall\n AM_CXXFLAGS = \\\n \t-fno-rtti \\"}, {"sha": "70b12cd9d887b7490796ba7858e5bf1f2b6d92cf", "filename": "libjava/aclocal.m4", "status": "modified", "additions": 59, "deletions": 2, "changes": 61, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Faclocal.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Faclocal.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Faclocal.m4?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -1,4 +1,4 @@\n-# generated automatically by aclocal 1.9.3 -*- Autoconf -*-\n+# generated automatically by aclocal 1.9.4 -*- Autoconf -*-\n \n # Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004\n # Free Software Foundation, Inc.\n@@ -40,7 +40,7 @@ AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version=\"1.9\"])\n # Call AM_AUTOMAKE_VERSION so it can be traced.\n # This function is AC_REQUIREd by AC_INIT_AUTOMAKE.\n AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],\n-\t [AM_AUTOMAKE_VERSION([1.9.3])])\n+\t [AM_AUTOMAKE_VERSION([1.9.4])])\n \n # AM_AUX_DIR_EXPAND\n \n@@ -1106,3 +1106,60 @@ m4_include([../config/lib-link.m4])\n m4_include([../config/lib-prefix.m4])\n m4_include([pkg.m4])\n m4_include([acinclude.m4])\n+\n+dnl PKG_CHECK_MODULES(GSTUFF, gtk+-2.0 >= 1.3 glib = 1.3.4, action-if, action-not)\n+dnl defines GSTUFF_LIBS, GSTUFF_CFLAGS, see pkg-config man page\n+dnl also defines GSTUFF_PKG_ERRORS on error\n+AC_DEFUN([PKG_CHECK_MODULES], [\n+  succeeded=no\n+\n+  if test -z \"$PKG_CONFIG\"; then\n+    AC_PATH_PROG(PKG_CONFIG, pkg-config, no)\n+  fi\n+\n+  if test \"$PKG_CONFIG\" = \"no\" ; then\n+     echo \"*** The pkg-config script could not be found. Make sure it is\"\n+     echo \"*** in your path, or set the PKG_CONFIG environment variable\"\n+     echo \"*** to the full path to pkg-config.\"\n+     echo \"*** Or see http://www.freedesktop.org/software/pkgconfig to get pkg-config.\"\n+  else\n+     PKG_CONFIG_MIN_VERSION=0.9.0\n+     if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then\n+        AC_MSG_CHECKING(for $2)\n+\n+        if $PKG_CONFIG --exists \"$2\" ; then\n+            AC_MSG_RESULT(yes)\n+            succeeded=yes\n+\n+            AC_MSG_CHECKING($1_CFLAGS)\n+            $1_CFLAGS=`$PKG_CONFIG --cflags \"$2\"`\n+            AC_MSG_RESULT($$1_CFLAGS)\n+\n+            AC_MSG_CHECKING($1_LIBS)\n+            $1_LIBS=`$PKG_CONFIG --libs \"$2\"`\n+            AC_MSG_RESULT($$1_LIBS)\n+        else\n+            $1_CFLAGS=\"\"\n+            $1_LIBS=\"\"\n+            ## If we have a custom action on failure, don't print errors, but \n+            ## do set a variable so people can do so.\n+            $1_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors \"$2\"`\n+            ifelse([$4], ,echo $$1_PKG_ERRORS,)\n+        fi\n+\n+        AC_SUBST($1_CFLAGS)\n+        AC_SUBST($1_LIBS)\n+     else\n+        echo \"*** Your version of pkg-config is too old. You need version $PKG_CONFIG_MIN_VERSION or newer.\"\n+        echo \"*** See http://www.freedesktop.org/software/pkgconfig\"\n+     fi\n+  fi\n+\n+  if test $succeeded = yes; then\n+     ifelse([$3], , :, [$3])\n+  else\n+     ifelse([$4], , AC_MSG_ERROR([Library requirements ($2) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.]), [$4])\n+  fi\n+])\n+\n+"}, {"sha": "08cf1136265e578c9fee26e5dacd9d654bdab3bd", "filename": "libjava/configure", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -310,7 +310,7 @@ ac_includes_default=\"\\\n # include <unistd.h>\n #endif\"\n \n-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir libgcj_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE GTK_AWT_TRUE GTK_AWT_FALSE GCJH ZIP INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM_INNER_NAT_HDRS CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS GTK_CAIRO_TRUE GTK_CAIRO_FALSE PKG_CONFIG CAIRO_CFLAGS CAIRO_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS SUPPLY_BACKTRACE_TRUE SUPPLY_BACKTRACE_FALSE CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES here LIBOBJS LTLIBOBJS'\n+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os build_subdir host_subdir target_subdir libgcj_basedir host host_cpu host_vendor host_os target target_cpu target_vendor target_os target_noncanonical LN_S mkinstalldirs CC ac_ct_CC EXEEXT OBJEXT CXX ac_ct_CXX CFLAGS CXXFLAGS LDFLAGS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE AS ac_ct_AS AR ac_ct_AR RANLIB ac_ct_RANLIB MAINTAINER_MODE_TRUE MAINTAINER_MODE_FALSE MAINT LIBGCJ_CFLAGS LIBGCJ_CXXFLAGS LIBGCJ_JAVAFLAGS LIBGCJ_LD_SYMBOLIC LIBGCJDEBUG TOOLKIT XLIB_AWT_TRUE XLIB_AWT_FALSE GTK_AWT_TRUE GTK_AWT_FALSE GCJH ZIP INCLTDL LIBLTDL DIRLTDL LIBTOOL CXXCPP CPPFLAGS GCJ GCJFLAGS GCJDEPMODE am__fastdepGCJ_TRUE am__fastdepGCJ_FALSE subdirs TESTSUBDIR_TRUE TESTSUBDIR_FALSE JAVA_HOME_SET_TRUE JAVA_HOME_SET_FALSE JAVA_HOME INTERPRETER LIBFFI LIBFFIINCS PLATFORM_INNER_NAT_HDRS CPP EGREP USING_WIN32_PLATFORM_TRUE USING_WIN32_PLATFORM_FALSE USING_POSIX_PLATFORM_TRUE USING_POSIX_PLATFORM_FALSE USING_DARWIN_CRT_TRUE USING_DARWIN_CRT_FALSE SYSTEMSPEC LIBGCJTESTSPEC ZLIBSPEC ZLIBTESTSPEC X_CFLAGS X_PRE_LIBS X_LIBS X_EXTRA_LIBS GTK_CAIRO_TRUE GTK_CAIRO_FALSE PKG_CONFIG CAIRO_CFLAGS CAIRO_LIBS PANGOFT2_CFLAGS PANGOFT2_LIBS extra_ldflags_libjava GCLIBS GCINCS GCDEPS GCSPEC JC1GCSPEC GCTESTSPEC USING_BOEHMGC_TRUE USING_BOEHMGC_FALSE USING_NOGC_TRUE USING_NOGC_FALSE THREADLIBS THREADINCS THREADDEPS THREADSPEC THREADLDFLAGS THREADCXXFLAGS USING_POSIX_THREADS_TRUE USING_POSIX_THREADS_FALSE USING_WIN32_THREADS_TRUE USING_WIN32_THREADS_FALSE USING_NO_THREADS_TRUE USING_NO_THREADS_FALSE HASH_SYNC_SPEC USING_GCC_TRUE USING_GCC_FALSE LIBICONV LTLIBICONV GTK_CFLAGS GTK_LIBS GLIB_CFLAGS GLIB_LIBS LIBART_CFLAGS LIBART_LIBS SUPPLY_BACKTRACE_TRUE SUPPLY_BACKTRACE_FALSE CLASSPATH_SEPARATOR ac_ct_GCJ ZLIBS SYS_ZLIBS ZINCS DIVIDESPEC CHECKREFSPEC EXCEPTIONSPEC BACKTRACESPEC IEEESPEC NATIVE_TRUE NATIVE_FALSE NEEDS_DATA_START_TRUE NEEDS_DATA_START_FALSE GCC_UNWIND_INCLUDE toolexecdir toolexecmainlibdir toolexeclibdir GCJVERSION gxx_include_dir libstdcxx_incdir ALLOCA PERL SYSDEP_SOURCES here LIBOBJS LTLIBOBJS'\n ac_subst_files=''\n \n # Initialize some variables set by options.\n@@ -8375,6 +8375,15 @@ fi\n # FIXME: this should be _libs on some hosts.\n libsubdir=.libs\n \n+# extra LD Flags which are required for targets\n+case \"${host}\" in\n+  *-darwin*)\n+    # on Darwin -single_module speeds up loading of the dynamic libraries.\n+    extra_ldflags_libjava=-Wl,-single_module\n+    ;;\n+esac\n+\n+\n # Allow the GC to be disabled.  Can be useful when debugging.\n echo \"$as_me:$LINENO: checking for garbage collector to use\" >&5\n echo $ECHO_N \"checking for garbage collector to use... $ECHO_C\" >&6\n@@ -17115,6 +17124,7 @@ s,@CAIRO_CFLAGS@,$CAIRO_CFLAGS,;t t\n s,@CAIRO_LIBS@,$CAIRO_LIBS,;t t\n s,@PANGOFT2_CFLAGS@,$PANGOFT2_CFLAGS,;t t\n s,@PANGOFT2_LIBS@,$PANGOFT2_LIBS,;t t\n+s,@extra_ldflags_libjava@,$extra_ldflags_libjava,;t t\n s,@GCLIBS@,$GCLIBS,;t t\n s,@GCINCS@,$GCINCS,;t t\n s,@GCDEPS@,$GCDEPS,;t t"}, {"sha": "22050ee939a9e5cd43a6197b61dfb74bc61ebabe", "filename": "libjava/configure.ac", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Fconfigure.ac", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Fconfigure.ac", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure.ac?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -668,6 +668,15 @@ AC_SUBST(PANGOFT2_CFLAGS)\n # FIXME: this should be _libs on some hosts.\n libsubdir=.libs\n \n+# extra LD Flags which are required for targets\n+case \"${host}\" in\n+  *-darwin*)\n+    # on Darwin -single_module speeds up loading of the dynamic libraries.\n+    extra_ldflags_libjava=-Wl,-single_module\n+    ;;\n+esac\n+AC_SUBST(extra_ldflags_libjava)\n+\n # Allow the GC to be disabled.  Can be useful when debugging.\n AC_MSG_CHECKING([for garbage collector to use])\n AC_ARG_ENABLE(java-gc,"}, {"sha": "caac0ddf25d44018cca5bb6c1c87da54333cca90", "filename": "libjava/gcj/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Fgcj%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Fgcj%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgcj%2FMakefile.in?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -1,4 +1,4 @@\n-# Makefile.in generated by automake 1.9.3 from Makefile.am.\n+# Makefile.in generated by automake 1.9.4 from Makefile.am.\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n@@ -255,6 +255,7 @@ build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n+extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n here = @here@\n host = @host@"}, {"sha": "cdd2a22cb0ced4cdeb2bcd76d2dd464aaf7bd721", "filename": "libjava/include/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Finclude%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Finclude%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Finclude%2FMakefile.in?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -1,4 +1,4 @@\n-# Makefile.in generated by automake 1.9.3 from Makefile.am.\n+# Makefile.in generated by automake 1.9.4 from Makefile.am.\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n@@ -254,6 +254,7 @@ build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n+extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n here = @here@\n host = @host@"}, {"sha": "970aad60970821e8c0f22fcbc1eedd753ac4fe59", "filename": "libjava/testsuite/Makefile.in", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Ftestsuite%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c0975bc7053bb733ac32f4079ee1ff29ca24fa43/libjava%2Ftestsuite%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Ftestsuite%2FMakefile.in?ref=c0975bc7053bb733ac32f4079ee1ff29ca24fa43", "patch": "@@ -1,4 +1,4 @@\n-# Makefile.in generated by automake 1.9.3 from Makefile.am.\n+# Makefile.in generated by automake 1.9.4 from Makefile.am.\n # @configure_input@\n \n # Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,\n@@ -243,6 +243,7 @@ build_subdir = @build_subdir@\n build_vendor = @build_vendor@\n datadir = @datadir@\n exec_prefix = @exec_prefix@\n+extra_ldflags_libjava = @extra_ldflags_libjava@\n gxx_include_dir = @gxx_include_dir@\n here = @here@\n host = @host@"}]}