{"sha": "67f192f7687d0cce6cf81e188745a48c71b4b019", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjdmMTkyZjc2ODdkMGNjZTZjZjgxZTE4ODc0NWE0OGM3MWI0YjAxOQ==", "commit": {"author": {"name": "Iain Sandoe", "email": "iain@sandoe.co.uk", "date": "2019-10-13T18:30:25Z"}, "committer": {"name": "Iain Sandoe", "email": "iains@gcc.gnu.org", "date": "2019-10-13T18:30:25Z"}, "message": "[Darwin, machopic 7/n] Remove code that should be dead.\n\nThis code fragment was imported from the Apple branch (it was never\napplied to mainline).  It is stated to fix up a problem sometimes\ncreated by reload (before that had been extended to have greater\nflexibility in assigning the pic registers).  In any event, reload\nis no longer in use for the port.\n\ngcc/ChangeLog:\n\n2019-10-13  Iain Sandoe  <iain@sandoe.co.uk>\n\n\t* config/darwin.c (machopic_indirect_data_reference): Remove\n\tredundant code.\n\nFrom-SVN: r276942", "tree": {"sha": "84dd3d2f64a78af6be1b21095e70a60487dc0cfb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/84dd3d2f64a78af6be1b21095e70a60487dc0cfb"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/67f192f7687d0cce6cf81e188745a48c71b4b019", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67f192f7687d0cce6cf81e188745a48c71b4b019", "html_url": "https://github.com/Rust-GCC/gccrs/commit/67f192f7687d0cce6cf81e188745a48c71b4b019", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/67f192f7687d0cce6cf81e188745a48c71b4b019/comments", "author": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iains", "id": 4039407, "node_id": "MDQ6VXNlcjQwMzk0MDc=", "avatar_url": "https://avatars.githubusercontent.com/u/4039407?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iains", "html_url": "https://github.com/iains", "followers_url": "https://api.github.com/users/iains/followers", "following_url": "https://api.github.com/users/iains/following{/other_user}", "gists_url": "https://api.github.com/users/iains/gists{/gist_id}", "starred_url": "https://api.github.com/users/iains/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iains/subscriptions", "organizations_url": "https://api.github.com/users/iains/orgs", "repos_url": "https://api.github.com/users/iains/repos", "events_url": "https://api.github.com/users/iains/events{/privacy}", "received_events_url": "https://api.github.com/users/iains/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/51a6a4044c9eed53d86b3f79ca5c3c7b87ade39d"}], "stats": {"total": 20, "additions": 5, "deletions": 15}, "files": [{"sha": "c72f4d86729c34d21efad8477542cf008293dc8e", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67f192f7687d0cce6cf81e188745a48c71b4b019/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67f192f7687d0cce6cf81e188745a48c71b4b019/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=67f192f7687d0cce6cf81e188745a48c71b4b019", "patch": "@@ -1,3 +1,8 @@\n+2019-10-13  Iain Sandoe  <iain@sandoe.co.uk>\n+\n+\t* config/darwin.c (machopic_indirect_data_reference): Remove\n+\tredundant code.\n+\n 2019-10-13  Nathan Sidwell  <nathan@acm.org>\n \n \t* gengtype-lex.l (CXX_KEYWORD): Add 'mutable'."}, {"sha": "eefffee55f634e16ab0e1e7ab65dd8cd99a9f0ad", "filename": "gcc/config/darwin.c", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/67f192f7687d0cce6cf81e188745a48c71b4b019/gcc%2Fconfig%2Fdarwin.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/67f192f7687d0cce6cf81e188745a48c71b4b019/gcc%2Fconfig%2Fdarwin.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fdarwin.c?ref=67f192f7687d0cce6cf81e188745a48c71b4b019", "patch": "@@ -760,21 +760,6 @@ machopic_indirect_data_reference (rtx orig, rtx reg)\n   else if (GET_CODE (orig) == PLUS)\n     {\n       rtx base, result;\n-      /* When the target is i386, this code prevents crashes due to the\n-\tcompiler's ignorance on how to move the PIC base register to\n-\tother registers.  (The reload phase sometimes introduces such\n-\tinsns.)  */\n-      if (GET_CODE (XEXP (orig, 0)) == REG\n-\t   && REGNO (XEXP (orig, 0)) == PIC_OFFSET_TABLE_REGNUM\n-\t   /* Prevent the same register from being erroneously used\n-\t      as both the base and index registers.  */\n-\t   && (DARWIN_X86 && (GET_CODE (XEXP (orig, 1)) == CONST))\n-\t   && reg)\n-\t{\n-\t  emit_move_insn (reg, XEXP (orig, 0));\n-\t  XEXP (ptr_ref, 0) = reg;\n-\t  return ptr_ref;\n-\t}\n \n       /* Legitimize both operands of the PLUS.  */\n       base = machopic_indirect_data_reference (XEXP (orig, 0), reg);"}]}