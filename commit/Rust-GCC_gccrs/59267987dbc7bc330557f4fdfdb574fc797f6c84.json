{"sha": "59267987dbc7bc330557f4fdfdb574fc797f6c84", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTkyNjc5ODdkYmM3YmMzMzA1NTdmNGZkZmRiNTc0ZmM3OTdmNmM4NA==", "commit": {"author": {"name": "Rainer Orth", "email": "ro@TechFak.Uni-Bielefeld.DE", "date": "2002-07-19T21:58:12Z"}, "committer": {"name": "Rainer Orth", "email": "ro@gcc.gnu.org", "date": "2002-07-19T21:58:12Z"}, "message": "iris5gas.h (DWARF2_DEBUGGING_INFO): Define.\n\n\t* config/mips/iris5gas.h (DWARF2_DEBUGGING_INFO): Define.\n\t(PREFERRED_DEBUGGING_TYPE): Use DWARF2_DEBUG.\n\t(LINK_SPEC): Define.\n\t(STARTFILE_SPEC): Define.\n\t(ENDFILE_SPEC): Define.\n\n\t* config/mips/iris6-o32.h (LINK_SPEC): Move ...\n\t* config/mips/iris6-o32-as.h (LINK_SPEC): ... here.\n\n\t* config/mips/iris6-o32-gas.h: New file.\n\t* config.gcc (mips-sgi-irix6*o32): Use it.\n\n\t* config/mips/t-iris5-gas: New file.\n\t* config.gcc (mips-sgi-irix6*o32, mips-sgi-irix5*): Use it.\n\nFrom-SVN: r55596", "tree": {"sha": "20c4a896f455c9aa730ac9f2687b348b861d27b2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/20c4a896f455c9aa730ac9f2687b348b861d27b2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/59267987dbc7bc330557f4fdfdb574fc797f6c84", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59267987dbc7bc330557f4fdfdb574fc797f6c84", "html_url": "https://github.com/Rust-GCC/gccrs/commit/59267987dbc7bc330557f4fdfdb574fc797f6c84", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/59267987dbc7bc330557f4fdfdb574fc797f6c84/comments", "author": null, "committer": null, "parents": [{"sha": "75aef48add6b3ecf07c6dccee00050162e2058db", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/75aef48add6b3ecf07c6dccee00050162e2058db", "html_url": "https://github.com/Rust-GCC/gccrs/commit/75aef48add6b3ecf07c6dccee00050162e2058db"}], "stats": {"total": 109, "additions": 91, "deletions": 18}, "files": [{"sha": "2e8b734631eb2d3c640f96ecd10d87bd8c7ef9de", "filename": "gcc/ChangeLog", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=59267987dbc7bc330557f4fdfdb574fc797f6c84", "patch": "@@ -1,3 +1,20 @@\n+2002-07-19  Rainer Orth  <ro@TechFak.Uni-Bielefeld.DE>\n+\n+\t* config/mips/iris5gas.h (DWARF2_DEBUGGING_INFO): Define.\n+\t(PREFERRED_DEBUGGING_TYPE): Use DWARF2_DEBUG.\n+\t(LINK_SPEC): Define.\n+\t(STARTFILE_SPEC): Define.\n+\t(ENDFILE_SPEC): Define.\n+\n+\t* config/mips/iris6-o32.h (LINK_SPEC): Move ...\n+\t* config/mips/iris6-o32-as.h (LINK_SPEC): ... here.\n+\n+\t* config/mips/iris6-o32-gas.h: New file.\n+\t* config.gcc (mips-sgi-irix6*o32): Use it.\n+\n+\t* config/mips/t-iris5-gas: New file.\n+\t* config.gcc (mips-sgi-irix6*o32, mips-sgi-irix5*): Use it.\n+\n 2002-07-19  Neil Booth  <neil@daikokuya.co.uk>\n \n \t* cppexp.c (ALWAYS_EVAL): Remove."}, {"sha": "a80b2ce712da7d42f0e67584f01d7522b0273dab", "filename": "gcc/config.gcc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig.gcc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig.gcc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.gcc?ref=59267987dbc7bc330557f4fdfdb574fc797f6c84", "patch": "@@ -1748,11 +1748,12 @@ mcore-*-pe*)\n mips-sgi-irix6*o32)\t\t# SGI System V.4., IRIX 6, O32 ABI\n \tif test x$gas = xyes\n \tthen\n-\t\ttm_file=\"mips/iris5.h mips/iris5gas.h\"\n+\t\ttm_file=\"mips/iris5.h mips/iris5gas.h mips/iris6-o32-gas.h\"\n \t\tif test x$stabs = xyes\n \t\tthen\n \t\t\ttm_file=\"${tm_file} dbx.h\"\n \t\tfi\n+\t\ttmake_file=mips/t-iris5-gas\n \telse\n \t\ttm_file=\"mips/iris5.h mips/iris6-o32-as.h\"\n \t\ttmake_file=mips/t-iris5-as\n@@ -1826,6 +1827,7 @@ mips-sgi-irix5*)\t\t# SGI System V.4., IRIX 5\n \t\tthen\n \t\t\ttm_file=\"${tm_file} dbx.h\"\n \t\tfi\n+\t\ttmake_file=mips/t-iris5-gas\n \telse\n \t\ttm_file=mips/iris5.h\n \t\ttmake_file=mips/t-iris5-as"}, {"sha": "a4985db87a5d23ad8fa2251c549e40d87e1f60d4", "filename": "gcc/config/mips/iris5gas.h", "status": "modified", "additions": 31, "deletions": 1, "changes": 32, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis5gas.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis5gas.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis5gas.h?ref=59267987dbc7bc330557f4fdfdb574fc797f6c84", "patch": "@@ -2,14 +2,44 @@\n \n /* Enable debugging.  */\n #define DBX_DEBUGGING_INFO\n+#define DWARF2_DEBUGGING_INFO\n #define SDB_DEBUGGING_INFO\n #define MIPS_DEBUGGING_INFO\n-#define PREFERRED_DEBUGGING_TYPE SDB_DEBUG\n+#define PREFERRED_DEBUGGING_TYPE DWARF2_DEBUG\n \n /* GNU as does handle DWARF2 directives.  */\n #undef DWARF2_UNWIND_INFO\n #define DWARF2_UNWIND_INFO 1\n \n+/* Override iris5.h version to invoke [cd]tors and register eh frame\n+   information.  */\n+#undef LINK_SPEC\n+#define LINK_SPEC \"\\\n+%{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} \\\n+%{bestGnum} %{shared} %{non_shared} \\\n+%{call_shared} %{no_archive} %{exact_version} \\\n+%{static: -non_shared} \\\n+%{!static: \\\n+  %{!shared:%{!non_shared:%{!call_shared: -call_shared -no_unresolved}}}} \\\n+%{rpath} -init __do_global_ctors -fini __do_global_dtors \\\n+%{shared:-hidden_symbol __do_global_ctors,__do_global_ctors_1,__do_global_dtors} \\\n+-_SYSTYPE_SVR4\"\n+\n+/* Override iris5.h versions to include crtbegin.o and crtend.o.  */\n+\n+#undef STARTFILE_SPEC\n+#define STARTFILE_SPEC \"\\\n+%{!static: \\\n+  %{!shared:%{pg:gcrt1.o%s}%{!pg:%{p:mcrt1.o%s libprof1.a%s}%{!p:crt1.o%s}}}} \\\n+%{static: \\\n+  %{pg:gcrt1.o%s} \\\n+  %{!pg:%{p:/usr/lib/nonshared/mcrt1.o%s libprof1.a%s} \\\n+  %{!p:/usr/lib/nonshared/crt1.o%s}}} \\\n+crtbegin.o%s\"\n+\n+#undef ENDFILE_SPEC\n+#define ENDFILE_SPEC \"crtend.o%s %{!shared:crtn.o%s}\"\n+\n /* Irix 5 does not have some strange restrictions that Irix 3 had.  */\n #undef SET_FILE_NUMBER\n #define SET_FILE_NUMBER() ++num_source_filenames"}, {"sha": "6aafc7683d794af1635829a7d9f4a2cc73958a39", "filename": "gcc/config/mips/iris6-o32-as.h", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis6-o32-as.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis6-o32-as.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6-o32-as.h?ref=59267987dbc7bc330557f4fdfdb574fc797f6c84", "patch": "@@ -11,3 +11,19 @@\n #define SUBTARGET_ASM_OPTIMIZING_SPEC \"\\\n %{noasmopt:-O0} \\\n %{!noasmopt:%{O|O1|O2|O3:-O2}}\"\n+\n+/* Enforce use of O32 linker, irrespective of SGI_ABI environment variable\n+   and machine type (e.g., R8000 systems default to -64).  Copied from\n+   iris5.h, only adding -32.  The default options -call_shared -no_unresolved\n+   are only passed if not invoked with -r.  */\n+#undef LINK_SPEC\n+#define LINK_SPEC \"\\\n+%{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} \\\n+%{bestGnum} %{shared} %{non_shared} \\\n+%{call_shared} %{no_archive} %{exact_version} \\\n+%{static: -non_shared} \\\n+%{!static: \\\n+  %{!shared:%{!non_shared:%{!call_shared:%{!r: -call_shared -no_unresolved}}}}} \\\n+%{rpath} \\\n+-_SYSTYPE_SVR4 \\\n+-32\""}, {"sha": "fb540a922cf18461b8649c81031a81982e43bdaa", "filename": "gcc/config/mips/iris6-o32-gas.h", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis6-o32-gas.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis6-o32-gas.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6-o32-gas.h?ref=59267987dbc7bc330557f4fdfdb574fc797f6c84", "patch": "@@ -0,0 +1,19 @@\n+/* Definitions of target machine for GNU compiler, for MIPS running IRIX 6\n+   (O32 ABI) using the GNU assembler.  */\n+\n+/* Enforce use of O32 linker, irrespective of SGI_ABI environment variable\n+   and machine type (e.g., R8000 systems default to -64).  Copied from\n+   iris5gas.h, only adding -32.  The default options -call_shared\n+   -no_unresolved are only passed if not invoked with -r.  */\n+#undef LINK_SPEC\n+#define LINK_SPEC \"\\\n+%{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} \\\n+%{bestGnum} %{shared} %{non_shared} \\\n+%{call_shared} %{no_archive} %{exact_version} \\\n+%{static: -non_shared} \\\n+%{!static: \\\n+  %{!shared:%{!non_shared:%{!call_shared:%{!r: -call_shared -no_unresolved}}}}} \\\n+%{rpath} -init __do_global_ctors -fini __do_global_dtors \\\n+%{shared:-hidden_symbol __do_global_ctors,__do_global_ctors_1,__do_global_dtors} \\\n+-_SYSTYPE_SVR4 \\\n+-32\""}, {"sha": "3ef2fe40d67ae093f4b6b480858d3f57c38662d0", "filename": "gcc/config/mips/iris6-o32.h", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis6-o32.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Firis6-o32.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Firis6-o32.h?ref=59267987dbc7bc330557f4fdfdb574fc797f6c84", "patch": "@@ -66,19 +66,3 @@\n    to -mips1 if no ISA is specified.  */\n #undef SUBTARGET_ASM_SPEC\n #define SUBTARGET_ASM_SPEC \"-32 %{!mips*:-mips2}\"\n-\n-/* Enforce use of O32 linker, irrespective of SGI_ABI environment variable\n-   and machine type (e.g., R8000 systems default to -64).  Copied from\n-   iris5.h, only adding -32.  The default options -call_shared -no_unresolved\n-   are only passed if not invoked with -r.  */\n-#undef LINK_SPEC\n-#define LINK_SPEC \"\\\n-%{G*} %{EB} %{EL} %{mips1} %{mips2} %{mips3} \\\n-%{bestGnum} %{shared} %{non_shared} \\\n-%{call_shared} %{no_archive} %{exact_version} \\\n-%{static: -non_shared} \\\n-%{!static: \\\n-  %{!shared:%{!non_shared:%{!call_shared:%{!r: -call_shared -no_unresolved}}}}} \\\n-%{rpath} \\\n--_SYSTYPE_SVR4 \\\n--32\""}, {"sha": "5d70c3f19257cc14c45452f134267825f52739ef", "filename": "gcc/config/mips/t-iris5-gas", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Ft-iris5-gas", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/59267987dbc7bc330557f4fdfdb574fc797f6c84/gcc%2Fconfig%2Fmips%2Ft-iris5-gas", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fmips%2Ft-iris5-gas?ref=59267987dbc7bc330557f4fdfdb574fc797f6c84", "patch": "@@ -0,0 +1,5 @@\n+# For svr4 we build crtbegin.o and crtend.o which serve to add begin and\n+# end labels to the .ctors and .dtors section when we link using gcc.\n+\n+EXTRA_MULTILIB_PARTS=crtbegin.o crtend.o\n+CRTSTUFF_T_CFLAGS=-g1"}]}