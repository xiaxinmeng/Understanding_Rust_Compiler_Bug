{"sha": "38fbc003332134ef0a04d319fb71b297f67c6988", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MzhmYmMwMDMzMzIxMzRlZjBhMDRkMzE5ZmI3MWIyOTdmNjdjNjk4OA==", "commit": {"author": {"name": "Richard Sandiford", "email": "richard.sandiford@linaro.org", "date": "2017-08-21T09:46:05Z"}, "committer": {"name": "Richard Sandiford", "email": "rsandifo@gcc.gnu.org", "date": "2017-08-21T09:46:05Z"}, "message": "Fix bogus CONST_WIDE_INT hash\n\nThe CONST_WIDE_INT case in const_rtx_hash_1 started the hash\nwith the precision of the mode, but the mode is always VOIDmode.\n\n2017-08-21  Richard Sandiford  <richard.sandiford@linaro.org>\n\t    Alan Hayward  <alan.hayward@arm.com>\n\t    David Sherwood  <david.sherwood@arm.com>\n\ngcc/\n\t* varasm.c (const_rtx_hash_1): Don't hash in the mode of a\n\tCONST_WIDE_INT.\n\nCo-Authored-By: Alan Hayward <alan.hayward@arm.com>\nCo-Authored-By: David Sherwood <david.sherwood@arm.com>\n\nFrom-SVN: r251218", "tree": {"sha": "0bd514565219cc54c414c7008b3e66a0254b518b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/0bd514565219cc54c414c7008b3e66a0254b518b"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/38fbc003332134ef0a04d319fb71b297f67c6988", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38fbc003332134ef0a04d319fb71b297f67c6988", "html_url": "https://github.com/Rust-GCC/gccrs/commit/38fbc003332134ef0a04d319fb71b297f67c6988", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/38fbc003332134ef0a04d319fb71b297f67c6988/comments", "author": null, "committer": null, "parents": [{"sha": "8322b607d60d721542792af78b84e9069ea1a662", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8322b607d60d721542792af78b84e9069ea1a662", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8322b607d60d721542792af78b84e9069ea1a662"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "34ecfdc8188b8d6f1d7d6e7613aab9c71ad32ecc", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38fbc003332134ef0a04d319fb71b297f67c6988/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38fbc003332134ef0a04d319fb71b297f67c6988/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=38fbc003332134ef0a04d319fb71b297f67c6988", "patch": "@@ -1,3 +1,10 @@\n+2017-08-21  Richard Sandiford  <richard.sandiford@linaro.org>\n+\t    Alan Hayward  <alan.hayward@arm.com>\n+\t    David Sherwood  <david.sherwood@arm.com>\n+\n+\t* varasm.c (const_rtx_hash_1): Don't hash in the mode of a\n+\tCONST_WIDE_INT.\n+\n 2017-08-21  Richard Biener  <rguenther@suse.de>\n \n \tPR middle-end/81884"}, {"sha": "91680d692b4a29662ab0c2c76a3547e74c0fb0c2", "filename": "gcc/varasm.c", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/38fbc003332134ef0a04d319fb71b297f67c6988/gcc%2Fvarasm.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/38fbc003332134ef0a04d319fb71b297f67c6988/gcc%2Fvarasm.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fvarasm.c?ref=38fbc003332134ef0a04d319fb71b297f67c6988", "patch": "@@ -3639,7 +3639,7 @@ const_rtx_hash_1 (const_rtx x)\n       break;\n \n     case CONST_WIDE_INT:\n-      hwi = GET_MODE_PRECISION (mode);\n+      hwi = 0;\n       {\n \tfor (i = 0; i < CONST_WIDE_INT_NUNITS (x); i++)\n \t  hwi ^= CONST_WIDE_INT_ELT (x, i);"}]}