{"sha": "973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTczY2IxMGIyZDM5ZDM0ZDQ0ZmVkOGZmYzEyNzAwYWIzZWNhMmVjZQ==", "commit": {"author": {"name": "Paolo Carlini", "email": "pcarlini@suse.de", "date": "2004-12-12T18:07:41Z"}, "committer": {"name": "Paolo Carlini", "email": "paolo@gcc.gnu.org", "date": "2004-12-12T18:07:41Z"}, "message": "type_traits: Implement extent.\n\n2004-12-12  Paolo Carlini  <pcarlini@suse.de>\n\n\t* include/tr1/type_traits: Implement extent.\n\t* testsuite/tr1/4_metaprogramming/type_properties/extent/\n\textent.cc: New.\n\t* testsuite/tr1/4_metaprogramming/type_properties/extent/\n\ttypedefs.cc: Likewise.\n\nFrom-SVN: r92054", "tree": {"sha": "09a9219da5b67d7aa43841d0e5a917df331f477e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/09a9219da5b67d7aa43841d0e5a917df331f477e"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "html_url": "https://github.com/Rust-GCC/gccrs/commit/973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/comments", "author": null, "committer": null, "parents": [{"sha": "ebb4ec776a3a13677723b0af4ff36e4e2cbdf5dd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ebb4ec776a3a13677723b0af4ff36e4e2cbdf5dd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ebb4ec776a3a13677723b0af4ff36e4e2cbdf5dd"}], "stats": {"total": 118, "additions": 116, "deletions": 2}, "files": [{"sha": "7a41704fb8191f70ca1e57e3f00b42fab5a70c42", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "patch": "@@ -1,3 +1,11 @@\n+2004-12-12  Paolo Carlini  <pcarlini@suse.de>\n+\n+\t* include/tr1/type_traits: Implement extent.\n+\t* testsuite/tr1/4_metaprogramming/type_properties/extent/\n+\textent.cc: New.\n+\t* testsuite/tr1/4_metaprogramming/type_properties/extent/\n+\ttypedefs.cc: Likewise.\n+\n 2004-12-12  Paolo Carlini  <pcarlini@suse.de>\n \n \t* include/tr1/type_traits: Implement is_pointer, remove_pointer,"}, {"sha": "f38f51e858d7b52b798929e708416f32df5cae41", "filename": "libstdc++-v3/include/tr1/type_traits", "status": "modified", "additions": 15, "deletions": 2, "changes": 17, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Ftype_traits", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Ftype_traits", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Finclude%2Ftr1%2Ftype_traits?ref=973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "patch": "@@ -244,8 +244,21 @@ namespace tr1\n     struct rank<_Tp[]>\n     : public integral_constant<std::size_t, 1 + rank<_Tp>::value> { };\n    \n-  template<typename _Tp, unsigned _Uint = 0>\n-    struct extent;\n+  template<typename, unsigned = 0>\n+    struct extent\n+    : integral_constant<std::size_t, 0> { };\n+  \n+  template<typename _Tp, unsigned _Uint, std::size_t _Size>\n+    struct extent<_Tp[_Size], _Uint>\n+    : integral_constant<std::size_t,\n+\t\t\t_Uint == 0 ? _Size : extent<_Tp, _Uint - 1>::value>\n+    { };\n+\n+  template<typename _Tp, unsigned _Uint>\n+    struct extent<_Tp[], _Uint>\n+    : integral_constant<std::size_t,\n+\t\t\t_Uint == 0 ? 0 : extent<_Tp, _Uint - 1>::value>\n+    { };\n   \n   /// @brief  relationships between types [4.6].\n   template<typename, typename>"}, {"sha": "a5891aa059ae08e493107c340fe8843070b82f8d", "filename": "libstdc++-v3/testsuite/tr1/4_metaprogramming/type_properties/extent/extent.cc", "status": "added", "additions": 57, "deletions": 0, "changes": 57, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Ftype_properties%2Fextent%2Fextent.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Ftype_properties%2Fextent%2Fextent.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Ftype_properties%2Fextent%2Fextent.cc?ref=973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "patch": "@@ -0,0 +1,57 @@\n+// 2004-12-12  Paolo Carlini  <pcarlini@suse.de>\n+//\n+// Copyright (C) 2004 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+//\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// 4.5.3 Type properties\n+\n+#include <tr1/type_traits>\n+#include <testsuite_hooks.h>\n+#include <testsuite_tr1.h>\n+\n+void test01()\n+{\n+  bool test __attribute__((unused)) = true;\n+  using std::tr1::extent;\n+  using namespace __gnu_test;\n+\n+  VERIFY( (test_property<extent, int>(0)) );\n+  VERIFY( (test_property<extent, int[2]>(2)) );\n+  VERIFY( (test_property<extent, int[2][4]>(2)) );\n+  VERIFY( (test_property<extent, int[][4]>(0)) );\n+  VERIFY( (extent<int, 1>::value == 0) );\n+  VERIFY( (extent<int[2], 1>::value == 0) );\n+  VERIFY( (extent<int[2][4], 1>::value == 4) );\n+  VERIFY( (extent<int[][4], 1>::value == 4) );\n+  VERIFY( (extent<int[10][4][6][8][12][2], 4>::value == 12) );\n+  VERIFY( (test_property<extent, ClassType>(0)) );\n+  VERIFY( (test_property<extent, ClassType[2]>(2)) );\n+  VERIFY( (test_property<extent, ClassType[2][4]>(2)) );\n+  VERIFY( (test_property<extent, ClassType[][4]>(0)) );\n+  VERIFY( (extent<ClassType, 1>::value == 0) );\n+  VERIFY( (extent<ClassType[2], 1>::value == 0) );\n+  VERIFY( (extent<ClassType[2][4], 1>::value == 4) );\n+  VERIFY( (extent<ClassType[][4], 1>::value == 4) );\n+  VERIFY( (extent<ClassType[10][4][6][8][12][2], 4>::value == 12) );\n+}\n+\n+int main()\n+{\n+  test01();\n+  return 0;\n+}"}, {"sha": "02a468c58217865505f9033db0a488e2cf760056", "filename": "libstdc++-v3/testsuite/tr1/4_metaprogramming/type_properties/extent/typedefs.cc", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Ftype_properties%2Fextent%2Ftypedefs.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/973cb10b2d39d34d44fed8ffc12700ab3eca2ece/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Ftype_properties%2Fextent%2Ftypedefs.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Ftr1%2F4_metaprogramming%2Ftype_properties%2Fextent%2Ftypedefs.cc?ref=973cb10b2d39d34d44fed8ffc12700ab3eca2ece", "patch": "@@ -0,0 +1,36 @@\n+// 2004-12-11  Paolo Carlini  <pcarlini@suse.de>\n+//\n+// Copyright (C) 2004 Free Software Foundation, Inc.\n+//\n+// This file is part of the GNU ISO C++ Library.  This library is free\n+// software; you can redistribute it and/or modify it under the\n+// terms of the GNU General Public License as published by the\n+// Free Software Foundation; either version 2, or (at your option)\n+// any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+// GNU General Public License for more details.\n+//\n+// You should have received a copy of the GNU General Public License along\n+// with this library; see the file COPYING.  If not, write to the Free\n+// Software Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307,\n+// USA.\n+\n+// \n+// NB: This file is for testing tr1/type_traits with NO OTHER INCLUDES.\n+\n+#include <tr1/type_traits>\n+\n+// { dg-do compile }\n+\n+void test01()\n+{\n+  // Check for required typedefs\n+  typedef std::tr1::extent<int, 1>            test_type;\n+  typedef test_type::value_type               value_type;\n+  typedef test_type::type                     type;\n+  typedef test_type::type::value_type         type_value_type;\n+  typedef test_type::type::type               type_type;\n+}"}]}