{"sha": "728a8a74ac65513473bdfac4a426702737b2ca5b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NzI4YThhNzRhYzY1NTEzNDczYmRmYWM0YTQyNjcwMjczN2IyY2E1Yg==", "commit": {"author": {"name": "Andrew Haley", "email": "aph@redhat.com", "date": "2008-10-31T17:16:12Z"}, "committer": {"name": "Andrew Haley", "email": "aph@gcc.gnu.org", "date": "2008-10-31T17:16:12Z"}, "message": "Makefile.am (install-data-local): Correct symlink paths for SDK-style installed JARs.\n\n2008-10-31  Andrew Haley  <aph@redhat.com>\n\n        * Makefile.am (install-data-local): Correct symlink paths for\n        SDK-style installed JARs.  \n        Correct symlinks for headers when DESTDIR is set.\n\nFrom-SVN: r141499", "tree": {"sha": "6ff5f8bfc309c4d3ff68de3b98e076cb5f0d102a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6ff5f8bfc309c4d3ff68de3b98e076cb5f0d102a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/728a8a74ac65513473bdfac4a426702737b2ca5b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/728a8a74ac65513473bdfac4a426702737b2ca5b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/728a8a74ac65513473bdfac4a426702737b2ca5b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/728a8a74ac65513473bdfac4a426702737b2ca5b/comments", "author": {"login": "theRealAph", "id": 254637, "node_id": "MDQ6VXNlcjI1NDYzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/254637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theRealAph", "html_url": "https://github.com/theRealAph", "followers_url": "https://api.github.com/users/theRealAph/followers", "following_url": "https://api.github.com/users/theRealAph/following{/other_user}", "gists_url": "https://api.github.com/users/theRealAph/gists{/gist_id}", "starred_url": "https://api.github.com/users/theRealAph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theRealAph/subscriptions", "organizations_url": "https://api.github.com/users/theRealAph/orgs", "repos_url": "https://api.github.com/users/theRealAph/repos", "events_url": "https://api.github.com/users/theRealAph/events{/privacy}", "received_events_url": "https://api.github.com/users/theRealAph/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "894e47e76e488b9c59b38bd6a00a1940b1603175", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/894e47e76e488b9c59b38bd6a00a1940b1603175", "html_url": "https://github.com/Rust-GCC/gccrs/commit/894e47e76e488b9c59b38bd6a00a1940b1603175"}], "stats": {"total": 54, "additions": 28, "deletions": 26}, "files": [{"sha": "b5f92489cb3ea76261f3f84b1cc358a79a83825e", "filename": "libjava/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/728a8a74ac65513473bdfac4a426702737b2ca5b/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/728a8a74ac65513473bdfac4a426702737b2ca5b/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=728a8a74ac65513473bdfac4a426702737b2ca5b", "patch": "@@ -1,3 +1,9 @@\n+2008-10-31  Andrew Haley  <aph@redhat.com>\n+\n+\t* Makefile.am (install-data-local): Correct symlink paths for\n+\tSDK-style installed JARs.  \n+\tCorrect symlinks for headers when DESTDIR is set.\n+\n 2008-10-23  David Edelsohn  <edelsohn@gnu.org>\n \n \tPR target/35485"}, {"sha": "0132db37d497a44c89736240d2c6066b27793b3a", "filename": "libjava/Makefile.am", "status": "modified", "additions": 10, "deletions": 13, "changes": 23, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/728a8a74ac65513473bdfac4a426702737b2ca5b/libjava%2FMakefile.am", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/728a8a74ac65513473bdfac4a426702737b2ca5b/libjava%2FMakefile.am", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.am?ref=728a8a74ac65513473bdfac4a426702737b2ca5b", "patch": "@@ -612,11 +612,15 @@ if CREATE_JAVA_HOME\n \tversion=$(JAVA_VERSION).$(BUILD_VERSION); \\\n \tworking_dir=`pwd`; \\\n \tcd $(DESTDIR)$(JVM_JAR_DIR); \\\n+\t  RELATIVE=$$(relative $(DESTDIR)$(JRE_LIB_DIR) \\\n+\t    $(DESTDIR)$(JVM_JAR_DIR)); \\\n \t  for jarname in jaas jce jdbc-stdext jndi jndi-cos jndi-dns \\\n \t    jndi-ldap jndi-rmi jsse sasl; \\\n \t  do \\\n-\t    ln -s $$RELATIVE/$$jarname.jar $$jarname-$$version.jar; \\\n+\t    ln -sf $$RELATIVE/rt.jar $$jarname-$$version.jar; \\\n \t  done; \\\n+\t  RELATIVE=$$(relative $(DESTDIR)$(jardir) \\\n+\t    $(DESTDIR)$(JVM_JAR_DIR)); \\\n \t  for jar in *-$$version.jar; \\\n \t  do \\\n \t    ln -sf $$jar $$(echo $$jar | sed \"s|-$$version.jar|-$(JAVA_VERSION).jar|g\"); \\\n@@ -633,14 +637,7 @@ if CREATE_JAVA_HOME\n \t$(mkinstalldirs) $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/client; \\\n \t$(mkinstalldirs) $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/server; \\\n \t$(mkinstalldirs) $(DESTDIR)$(SDK_LIB_DIR); \\\n-\tcd $(DESTDIR)$(JRE_LIB_DIR); \\\n-\t  for jarname in jaas jce jdbc-stdext jndi jndi-cos jndi-dns \\\n-\t    jndi-ldap jndi-rmi jsse sasl; \\\n-\t  do \\\n-\t    ln -s rt.jar $$jarname.jar; \\\n-\t  done; \\\n-\tcd $$working_dir; \\\n-\tRELATIVE=$$(relative $(DESTDIR)$(datarootdir)/java \\\n+\tRELATIVE=$$(relative $(DESTDIR)$(datadir)/java \\\n \t  $(DESTDIR)$(JRE_LIB_DIR)); \\\n \tln -sf $$RELATIVE/libgcj-$(gcc_version).jar \\\n \t  $(DESTDIR)$(JRE_LIB_DIR)/rt.jar; \\\n@@ -656,27 +653,27 @@ if CREATE_JAVA_HOME\n \t  $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/server); \\\n \tln -sf $$RELATIVE/libjvm.so \\\n \t  $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/server/libjvm.so;\t\\\n-\tRELATIVE=$$(relative $(DESTDIR)$(datarootdir)/java \\\n+\tRELATIVE=$$(relative $(DESTDIR)$(datadir)/java \\\n \t  $(DESTDIR)$(SDK_LIB_DIR)); \\\n \tln -sf $$RELATIVE/libgcj-tools-$(gcc_version).jar \\\n \t  $(DESTDIR)$(SDK_LIB_DIR)/tools.jar; \\\n \tfor headername in jawt jni; do \\\n \t  DIRECTORY=$$(dirname $$($(DESTDIR)$(bindir)/gcj \\\n \t    -print-file-name=include/$$headername.h)); \\\n-\t  RELATIVE=$$(relative $(DESTDIR)$$DIRECTORY \\\n+\t  RELATIVE=$$(relative $$DIRECTORY \\\n \t    $(DESTDIR)$(SDK_INCLUDE_DIR)); \\\n \t  ln -sf $$RELATIVE/$$headername.h \\\n \t    $(DESTDIR)$(SDK_INCLUDE_DIR)/$$headername.h; \\\n \tdone; \\\n \tfor headername in jawt_md jni_md; do \\\n \t  DIRECTORY=$$(dirname $$($(DESTDIR)$(bindir)/gcj \\\n \t    -print-file-name=include/$$headername.h)); \\\n-\t  RELATIVE=$$(relative $(DESTDIR)$$DIRECTORY \\\n+\t  RELATIVE=$$(relative $$DIRECTORY \\\n \t    $(DESTDIR)$(SDK_INCLUDE_DIR)/linux); \\\n \t  ln -sf $$RELATIVE/$$headername.h \\\n \t    $(DESTDIR)$(SDK_INCLUDE_DIR)/linux/$$headername.h; \\\n \tdone; \\\n-\tRELATIVE=$$(relative $(DESTDIR)$(datarootdir)/java \\\n+\tRELATIVE=$$(relative $(DESTDIR)$(datadir)/java \\\n \t  $(DESTDIR)$(JVM_ROOT_DIR)/$(SDK_DIR)); \\\n \tln -sf $$RELATIVE/src-$(gcc_version).zip \\\n \t  $(DESTDIR)$(JVM_ROOT_DIR)/$(SDK_DIR)/src.zip;"}, {"sha": "064cdfc5b2eb4f7e8d61a393e0743bbdb0051294", "filename": "libjava/Makefile.in", "status": "modified", "additions": 12, "deletions": 13, "changes": 25, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/728a8a74ac65513473bdfac4a426702737b2ca5b/libjava%2FMakefile.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/728a8a74ac65513473bdfac4a426702737b2ca5b/libjava%2FMakefile.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FMakefile.in?ref=728a8a74ac65513473bdfac4a426702737b2ca5b", "patch": "@@ -12382,6 +12382,7 @@ install-data-local:\n @CREATE_JAVA_HOME_TRUE@\t$(mkinstalldirs) $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)\n @CREATE_JAVA_HOME_TRUE@\t$(mkinstalldirs) $(DESTDIR)$(SDK_INCLUDE_DIR)\n @CREATE_JAVA_HOME_TRUE@\t$(mkinstalldirs) $(DESTDIR)$(SDK_INCLUDE_DIR)/$(OS)\n+@CREATE_JAVA_HOME_TRUE@\tset -x ;\n @CREATE_JAVA_HOME_TRUE@\trelative() { \\\n @CREATE_JAVA_HOME_TRUE@\t  $(PERL) -e 'use File::Spec; \\\n @CREATE_JAVA_HOME_TRUE@\t    print File::Spec->abs2rel($$ARGV[0], $$ARGV[1])' $$1 $$2; \\\n@@ -12433,11 +12434,15 @@ install-data-local:\n @CREATE_JAVA_HOME_TRUE@\tversion=$(JAVA_VERSION).$(BUILD_VERSION); \\\n @CREATE_JAVA_HOME_TRUE@\tworking_dir=`pwd`; \\\n @CREATE_JAVA_HOME_TRUE@\tcd $(DESTDIR)$(JVM_JAR_DIR); \\\n+@CREATE_JAVA_HOME_TRUE@\t  RELATIVE=$$(relative $(DESTDIR)$(JRE_LIB_DIR) \\\n+@CREATE_JAVA_HOME_TRUE@\t    $(DESTDIR)$(JVM_JAR_DIR)); \\\n @CREATE_JAVA_HOME_TRUE@\t  for jarname in jaas jce jdbc-stdext jndi jndi-cos jndi-dns \\\n @CREATE_JAVA_HOME_TRUE@\t    jndi-ldap jndi-rmi jsse sasl; \\\n @CREATE_JAVA_HOME_TRUE@\t  do \\\n-@CREATE_JAVA_HOME_TRUE@\t    ln -s $$RELATIVE/$$jarname.jar $$jarname-$$version.jar; \\\n+@CREATE_JAVA_HOME_TRUE@\t    ln -sf $$RELATIVE/rt.jar $$jarname-$$version.jar; \\\n @CREATE_JAVA_HOME_TRUE@\t  done; \\\n+@CREATE_JAVA_HOME_TRUE@\t  RELATIVE=$$(relative $(DESTDIR)$(jardir) \\\n+@CREATE_JAVA_HOME_TRUE@\t    $(DESTDIR)$(JVM_JAR_DIR)); \\\n @CREATE_JAVA_HOME_TRUE@\t  for jar in *-$$version.jar; \\\n @CREATE_JAVA_HOME_TRUE@\t  do \\\n @CREATE_JAVA_HOME_TRUE@\t    ln -sf $$jar $$(echo $$jar | sed \"s|-$$version.jar|-$(JAVA_VERSION).jar|g\"); \\\n@@ -12454,14 +12459,7 @@ install-data-local:\n @CREATE_JAVA_HOME_TRUE@\t$(mkinstalldirs) $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/client; \\\n @CREATE_JAVA_HOME_TRUE@\t$(mkinstalldirs) $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/server; \\\n @CREATE_JAVA_HOME_TRUE@\t$(mkinstalldirs) $(DESTDIR)$(SDK_LIB_DIR); \\\n-@CREATE_JAVA_HOME_TRUE@\tcd $(DESTDIR)$(JRE_LIB_DIR); \\\n-@CREATE_JAVA_HOME_TRUE@\t  for jarname in jaas jce jdbc-stdext jndi jndi-cos jndi-dns \\\n-@CREATE_JAVA_HOME_TRUE@\t    jndi-ldap jndi-rmi jsse sasl; \\\n-@CREATE_JAVA_HOME_TRUE@\t  do \\\n-@CREATE_JAVA_HOME_TRUE@\t    ln -s rt.jar $$jarname.jar; \\\n-@CREATE_JAVA_HOME_TRUE@\t  done; \\\n-@CREATE_JAVA_HOME_TRUE@\tcd $$working_dir; \\\n-@CREATE_JAVA_HOME_TRUE@\tRELATIVE=$$(relative $(DESTDIR)$(datarootdir)/java \\\n+@CREATE_JAVA_HOME_TRUE@\tRELATIVE=$$(relative $(DESTDIR)$(datadir)/java \\\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(JRE_LIB_DIR)); \\\n @CREATE_JAVA_HOME_TRUE@\tln -sf $$RELATIVE/libgcj-$(gcc_version).jar \\\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(JRE_LIB_DIR)/rt.jar; \\\n@@ -12477,27 +12475,28 @@ install-data-local:\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/server); \\\n @CREATE_JAVA_HOME_TRUE@\tln -sf $$RELATIVE/libjvm.so \\\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(JRE_LIB_DIR)/$(CPU)/server/libjvm.so;\t\\\n-@CREATE_JAVA_HOME_TRUE@\tRELATIVE=$$(relative $(DESTDIR)$(datarootdir)/java \\\n+@CREATE_JAVA_HOME_TRUE@\tRELATIVE=$$(relative $(DESTDIR)$(datadir)/java \\\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(SDK_LIB_DIR)); \\\n @CREATE_JAVA_HOME_TRUE@\tln -sf $$RELATIVE/libgcj-tools-$(gcc_version).jar \\\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(SDK_LIB_DIR)/tools.jar; \\\n @CREATE_JAVA_HOME_TRUE@\tfor headername in jawt jni; do \\\n @CREATE_JAVA_HOME_TRUE@\t  DIRECTORY=$$(dirname $$($(DESTDIR)$(bindir)/gcj \\\n @CREATE_JAVA_HOME_TRUE@\t    -print-file-name=include/$$headername.h)); \\\n-@CREATE_JAVA_HOME_TRUE@\t  RELATIVE=$$(relative $(DESTDIR)$$DIRECTORY \\\n+@CREATE_JAVA_HOME_TRUE@\t  echo $$DIRECTORY ; \\\n+@CREATE_JAVA_HOME_TRUE@\t  RELATIVE=$$(relative $$DIRECTORY \\\n @CREATE_JAVA_HOME_TRUE@\t    $(DESTDIR)$(SDK_INCLUDE_DIR)); \\\n @CREATE_JAVA_HOME_TRUE@\t  ln -sf $$RELATIVE/$$headername.h \\\n @CREATE_JAVA_HOME_TRUE@\t    $(DESTDIR)$(SDK_INCLUDE_DIR)/$$headername.h; \\\n @CREATE_JAVA_HOME_TRUE@\tdone; \\\n @CREATE_JAVA_HOME_TRUE@\tfor headername in jawt_md jni_md; do \\\n @CREATE_JAVA_HOME_TRUE@\t  DIRECTORY=$$(dirname $$($(DESTDIR)$(bindir)/gcj \\\n @CREATE_JAVA_HOME_TRUE@\t    -print-file-name=include/$$headername.h)); \\\n-@CREATE_JAVA_HOME_TRUE@\t  RELATIVE=$$(relative $(DESTDIR)$$DIRECTORY \\\n+@CREATE_JAVA_HOME_TRUE@\t  RELATIVE=$$(relative $$DIRECTORY \\\n @CREATE_JAVA_HOME_TRUE@\t    $(DESTDIR)$(SDK_INCLUDE_DIR)/linux); \\\n @CREATE_JAVA_HOME_TRUE@\t  ln -sf $$RELATIVE/$$headername.h \\\n @CREATE_JAVA_HOME_TRUE@\t    $(DESTDIR)$(SDK_INCLUDE_DIR)/linux/$$headername.h; \\\n @CREATE_JAVA_HOME_TRUE@\tdone; \\\n-@CREATE_JAVA_HOME_TRUE@\tRELATIVE=$$(relative $(DESTDIR)$(datarootdir)/java \\\n+@CREATE_JAVA_HOME_TRUE@\tRELATIVE=$$(relative $(DESTDIR)$(datadir)/java \\\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(JVM_ROOT_DIR)/$(SDK_DIR)); \\\n @CREATE_JAVA_HOME_TRUE@\tln -sf $$RELATIVE/src-$(gcc_version).zip \\\n @CREATE_JAVA_HOME_TRUE@\t  $(DESTDIR)$(JVM_ROOT_DIR)/$(SDK_DIR)/src.zip;"}]}