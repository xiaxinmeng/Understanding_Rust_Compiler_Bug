{"sha": "7f6f517f8a06729652fa201e85dc90dae4740972", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6N2Y2ZjUxN2Y4YTA2NzI5NjUyZmEyMDFlODVkYzkwZGFlNDc0MDk3Mg==", "commit": {"author": {"name": "Mark Wielaard", "email": "mark@klomp.org", "date": "2004-04-20T09:46:28Z"}, "committer": {"name": "Michael Koch", "email": "mkoch@gcc.gnu.org", "date": "2004-04-20T09:46:28Z"}, "message": "GtkFontPeer.java: Use fallback when MissingResourceException is thrown.\n\n2004-04-20  Mark Wielaard  <mark@klomp.org>\n\n\t* gnu/java/awt/peer/gtk/GtkFontPeer.java: Use fallback when\n\tMissingResourceException is thrown.\n\t* gnu/java/awt/peer/gtk/GtkToolkit.java (getFontPeer): Don't return\n\tnull when a MissingResourceException is thrown. Should never happen.\n\nFrom-SVN: r80888", "tree": {"sha": "c1ff41daa3bcd175f39b8da1d8b275e6d534f0fe", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c1ff41daa3bcd175f39b8da1d8b275e6d534f0fe"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/7f6f517f8a06729652fa201e85dc90dae4740972", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f6f517f8a06729652fa201e85dc90dae4740972", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7f6f517f8a06729652fa201e85dc90dae4740972", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7f6f517f8a06729652fa201e85dc90dae4740972/comments", "author": null, "committer": null, "parents": [{"sha": "a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85"}], "stats": {"total": 33, "additions": 25, "deletions": 8}, "files": [{"sha": "7e4f4c15846c19e487c0db5cbe45844d2cbe74d2", "filename": "libjava/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f6f517f8a06729652fa201e85dc90dae4740972/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f6f517f8a06729652fa201e85dc90dae4740972/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=7f6f517f8a06729652fa201e85dc90dae4740972", "patch": "@@ -1,3 +1,10 @@\n+2004-04-20  Mark Wielaard  <mark@klomp.org>\n+\n+\t* gnu/java/awt/peer/gtk/GtkFontPeer.java: Use fallback when\n+\tMissingResourceException is thrown.\n+\t* gnu/java/awt/peer/gtk/GtkToolkit.java (getFontPeer): Don't return\n+\tnull when a MissingResourceException is thrown. Should never happen.\n+\n 2004-04-20  Sascha Brawer  <brawer@dandelis.ch>\n \n \t* java/awt/image/DataBufferShort.java,"}, {"sha": "5de3301270dce4e8a1306a5bd4860f6d02e3ae34", "filename": "libjava/gnu/java/awt/peer/gtk/GtkFontPeer.java", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f6f517f8a06729652fa201e85dc90dae4740972/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFontPeer.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f6f517f8a06729652fa201e85dc90dae4740972/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFontPeer.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkFontPeer.java?ref=7f6f517f8a06729652fa201e85dc90dae4740972", "patch": "@@ -43,6 +43,7 @@\n import java.awt.font.*;\n import java.util.Locale;\n import java.util.ResourceBundle;\n+import java.util.MissingResourceException;\n import java.text.*;\n import gnu.java.awt.peer.ClasspathFontPeer;\n \n@@ -74,9 +75,20 @@ public GtkFontPeer (String name, int style, int size)\n   {\n     super(name, style, size);\n \n+    String Xname = null;\n     if (bundle != null)\n-      Xname = bundle.getString (name.toLowerCase () + \".\" + style);\n-    else\n+      {\n+\ttry\n+\t  {\n+\t    Xname = bundle.getString (name.toLowerCase () + \".\" + style);\n+\t  }\n+\tcatch (MissingResourceException mre)\n+\t  {\n+\t    // ignored\n+\t  }\n+      }\n+\n+    if (Xname == null)\n       {\n \tString weight;\n \tString slant;\n@@ -98,6 +110,8 @@ public GtkFontPeer (String name, int style, int size)\n \n         Xname = \"-*-*-\" + weight + \"-\" + slant + \"-normal-*-*-\" + size + \"-*-*-\" + spacing + \"-*-*-*\";\n       }\n+\n+    this.Xname = Xname;\n   }\n \n   public String getXLFD ()"}, {"sha": "ed1c567624bf20dbf195053ff92caf3980e5509f", "filename": "libjava/gnu/java/awt/peer/gtk/GtkToolkit.java", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/7f6f517f8a06729652fa201e85dc90dae4740972/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkToolkit.java", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/7f6f517f8a06729652fa201e85dc90dae4740972/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkToolkit.java", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fgnu%2Fjava%2Fawt%2Fpeer%2Fgtk%2FGtkToolkit.java?ref=7f6f517f8a06729652fa201e85dc90dae4740972", "patch": "@@ -377,12 +377,8 @@ protected FontPeer getFontPeer (String name, int style) {\n    */\n   private FontPeer getFontPeer (String name, int style, int size) \n   {\n-    try {\n-      GtkFontPeer fp = new GtkFontPeer (name, style, size);\n-      return fp;\n-    } catch (MissingResourceException ex) {\n-      return null;\n-    }\n+    GtkFontPeer fp = new GtkFontPeer (name, style, size);\n+    return fp;\n   }\n \n   /**"}]}