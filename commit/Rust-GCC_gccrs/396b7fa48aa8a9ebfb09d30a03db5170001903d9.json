{"sha": "396b7fa48aa8a9ebfb09d30a03db5170001903d9", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6Mzk2YjdmYTQ4YWE4YTllYmZiMDlkMzBhMDNkYjUxNzAwMDE5MDNkOQ==", "commit": {"author": {"name": "Joseph Myers", "email": "joseph@codesourcery.com", "date": "2009-07-16T23:18:08Z"}, "committer": {"name": "Joseph Myers", "email": "jsm28@gcc.gnu.org", "date": "2009-07-16T23:18:08Z"}, "message": "tls.m4 (GCC_CHECK_TLS): Also test TLS in a shared library when cross-compiling.\n\nconfig:\n\t* tls.m4 (GCC_CHECK_TLS): Also test TLS in a shared library when\n\tcross-compiling.\n\nlibgomp:\n\t* configure: Regenerate.\n\nlibjava:\n\t* configure: Regenerate.\n\nlibmudflap:\n\t* configure: Regenerate.\n\nlibstdc++-v3:\n\t* configure: Regenerate.\n\nFrom-SVN: r149725", "tree": {"sha": "6a9d1f831db6953462b13b291bcb5681d08b073f", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/6a9d1f831db6953462b13b291bcb5681d08b073f"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/396b7fa48aa8a9ebfb09d30a03db5170001903d9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/396b7fa48aa8a9ebfb09d30a03db5170001903d9", "html_url": "https://github.com/Rust-GCC/gccrs/commit/396b7fa48aa8a9ebfb09d30a03db5170001903d9", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/396b7fa48aa8a9ebfb09d30a03db5170001903d9/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db3927fb49c9f13a0da61a75d771f51dc7c45b92", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/db3927fb49c9f13a0da61a75d771f51dc7c45b92", "html_url": "https://github.com/Rust-GCC/gccrs/commit/db3927fb49c9f13a0da61a75d771f51dc7c45b92"}], "stats": {"total": 549, "additions": 548, "deletions": 1}, "files": [{"sha": "6f20dd8b328fbc427c909c8ecc2dff4546643d9c", "filename": "config/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/config%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/config%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2FChangeLog?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -1,3 +1,8 @@\n+2009-07-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* tls.m4 (GCC_CHECK_TLS): Also test TLS in a shared library when\n+\tcross-compiling.\n+\n 2009-06-25  Olivier Hainque  <hainque@adacore.com>\n \n \t* config/mh-ppc-aix (BOOT_ADAFLAGS): Remove -mminimal-toc."}, {"sha": "e0870682d51408a3e85d59a461373009c8bf8ac7", "filename": "config/tls.m4", "status": "modified", "additions": 19, "deletions": 1, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/config%2Ftls.m4", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/config%2Ftls.m4", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/config%2Ftls.m4?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -1,5 +1,6 @@\n dnl Check whether the target supports TLS.\n AC_DEFUN([GCC_CHECK_TLS], [\n+  AC_REQUIRE([AC_CANONICAL_HOST])\n   GCC_ENABLE(tls, yes, [], [Use thread-local storage])\n   AC_CACHE_CHECK([whether the target supports thread-local storage],\n \t\t gcc_cv_have_tls, [\n@@ -66,7 +67,24 @@ AC_DEFUN([GCC_CHECK_TLS], [\n       [dnl This is the cross-compiling case. Assume libc supports TLS if the\n        dnl binutils and the compiler do.\n        AC_LINK_IFELSE([__thread int a; int b; int main() { return a = b; }],\n-\t\t      [gcc_cv_have_tls=yes], [gcc_cv_have_tls=no])\n+\t [chktls_save_LDFLAGS=\"$LDFLAGS\"\n+\t  dnl Shared library options may depend on the host; this check\n+\t  dnl is only known to be needed for GNU/Linux.\n+\t  case $host in\n+\t    *-*-linux*)\n+\t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n+\t      ;;\n+\t  esac\n+\t  chktls_save_CFLAGS=\"$CFLAGS\"\n+\t  CFLAGS=\"-fPIC $CFLAGS\"\n+\t  dnl If -shared works, test if TLS works in a shared library.\n+\t  AC_LINK_IFELSE([int f() { return 0; }],\n+\t    AC_LINK_IFELSE([__thread int a; int b; int f() { return a = b; }],\n+\t      [gcc_cv_have_tls=yes],\n+\t      [gcc_cv_have_tls=no]),\n+\t    [gcc_cv_have_tls=yes])\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\t  LDFLAGS=\"$chktls_save_LDFLAGS\"], [gcc_cv_have_tls=no])\n       ]\n     )])\n   if test \"$enable_tls $gcc_cv_have_tls\" = \"yes yes\"; then"}, {"sha": "5ef1785e213960e219796f225f35019c55e86952", "filename": "libgomp/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libgomp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libgomp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2FChangeLog?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -1,3 +1,7 @@\n+2009-07-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* configure: Regenerate.\n+\n 2009-07-11  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \tPR testsuite/40699"}, {"sha": "cadb9322974b5e9228095bbe4b64020489dd6020", "filename": "libgomp/configure", "status": "modified", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libgomp%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libgomp%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libgomp%2Fconfigure?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -17859,6 +17859,7 @@ fi\n \n # See if we support thread-local storage.\n \n+\n    # Check whether --enable-tls or --disable-tls was given.\n if test \"${enable_tls+set}\" = set; then\n   enableval=\"$enable_tls\"\n@@ -17885,6 +17886,64 @@ else\n __thread int a; int b; int main() { return a = b; }\n _ACEOF\n rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  chktls_save_LDFLAGS=\"$LDFLAGS\"\n+\t  \t  \t  case $host in\n+\t    *-*-linux*)\n+\t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n+\t      ;;\n+\t  esac\n+\t  chktls_save_CFLAGS=\"$CFLAGS\"\n+\t  CFLAGS=\"-fPIC $CFLAGS\"\n+\t  \t  cat >conftest.$ac_ext <<_ACEOF\n+int f() { return 0; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int f() { return a = b; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n@@ -17911,6 +17970,24 @@ else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n+gcc_cv_have_tls=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+gcc_cv_have_tls=yes\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\t  LDFLAGS=\"$chktls_save_LDFLAGS\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n gcc_cv_have_tls=no\n fi\n rm -f conftest.err conftest.$ac_objext \\\n@@ -22285,6 +22362,9 @@ ac_configure_args=\"${multilib_arg} ${ac_configure_args}\"\n multi_basedir=\"$multi_basedir\"\n CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n CC=\"$CC\"\n+CXX=\"$CXX\"\n+GFORTRAN=\"$GFORTRAN\"\n+GCJ=\"$GCJ\"\n AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"\n \n "}, {"sha": "22feaedf7d5c1797254af42c6bab809031c5c28d", "filename": "libjava/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libjava%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libjava%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2FChangeLog?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -1,3 +1,7 @@\n+2009-07-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* configure: Regenerate.\n+\n 2009-07-11  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \tPR testsuite/40699"}, {"sha": "82911d155ac78bba6f193665b026beb1714eeec1", "filename": "libjava/configure", "status": "modified", "additions": 87, "deletions": 0, "changes": 87, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libjava%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libjava%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libjava%2Fconfigure?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -27610,6 +27610,7 @@ fi\n \n # See if we support thread-local storage.\n \n+\n    # Check whether --enable-tls or --disable-tls was given.\n if test \"${enable_tls+set}\" = set; then\n   enableval=\"$enable_tls\"\n@@ -27641,6 +27642,74 @@ cat >conftest.$ac_ext <<_ACEOF\n __thread int a; int b; int main() { return a = b; }\n _ACEOF\n rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  chktls_save_LDFLAGS=\"$LDFLAGS\"\n+\t  \t  \t  case $host in\n+\t    *-*-linux*)\n+\t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n+\t      ;;\n+\t  esac\n+\t  chktls_save_CFLAGS=\"$CFLAGS\"\n+\t  CFLAGS=\"-fPIC $CFLAGS\"\n+\t  \t  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+int f() { return 0; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after .\" >&5\n+echo \"$as_me: error: Link tests are not allowed after .\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int f() { return a = b; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n@@ -27667,6 +27736,24 @@ else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n+gcc_cv_have_tls=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+gcc_cv_have_tls=yes\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\t  LDFLAGS=\"$chktls_save_LDFLAGS\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n gcc_cv_have_tls=no\n fi\n rm -f conftest.err conftest.$ac_objext \\"}, {"sha": "edb0958cd40c55b9b2c68618f8714524dad145d2", "filename": "libmudflap/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libmudflap%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libmudflap%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2FChangeLog?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -1,3 +1,7 @@\n+2009-07-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* configure: Regenerate.\n+\n 2009-07-11  Richard Sandiford  <rdsandiford@googlemail.com>\n \n \tPR testsuite/40699"}, {"sha": "954ffa1e7cb802f7399f019f007cbba0c014b280", "filename": "libmudflap/configure", "status": "modified", "additions": 80, "deletions": 0, "changes": 80, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libmudflap%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libmudflap%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libmudflap%2Fconfigure?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -12740,6 +12740,7 @@ fi\n \n # See if we support thread-local storage.\n \n+\n    # Check whether --enable-tls or --disable-tls was given.\n if test \"${enable_tls+set}\" = set; then\n   enableval=\"$enable_tls\"\n@@ -12766,6 +12767,64 @@ else\n __thread int a; int b; int main() { return a = b; }\n _ACEOF\n rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  chktls_save_LDFLAGS=\"$LDFLAGS\"\n+\t  \t  \t  case $host in\n+\t    *-*-linux*)\n+\t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n+\t      ;;\n+\t  esac\n+\t  chktls_save_CFLAGS=\"$CFLAGS\"\n+\t  CFLAGS=\"-fPIC $CFLAGS\"\n+\t  \t  cat >conftest.$ac_ext <<_ACEOF\n+int f() { return 0; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int f() { return a = b; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n@@ -12792,6 +12851,24 @@ else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n+gcc_cv_have_tls=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+gcc_cv_have_tls=yes\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\t  LDFLAGS=\"$chktls_save_LDFLAGS\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n gcc_cv_have_tls=no\n fi\n rm -f conftest.err conftest.$ac_objext \\\n@@ -13624,6 +13701,9 @@ ac_configure_args=\"${multilib_arg} ${ac_configure_args}\"\n multi_basedir=\"$multi_basedir\"\n CONFIG_SHELL=${CONFIG_SHELL-/bin/sh}\n CC=\"$CC\"\n+CXX=\"$CXX\"\n+GFORTRAN=\"$GFORTRAN\"\n+GCJ=\"$GCJ\"\n AMDEP_TRUE=\"$AMDEP_TRUE\" ac_aux_dir=\"$ac_aux_dir\"\n \n "}, {"sha": "3c6ba9b2dd37642da1ff5d3aa42620a0b62186e2", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -1,3 +1,7 @@\n+2009-07-16  Joseph Myers  <joseph@codesourcery.com>\n+\n+\t* configure: Regenerate.\n+\n 2009-07-16  Jason Merrill  <jason@redhat.com>\n \n \tPR libstdc++/37907"}, {"sha": "d9e9f8df5f1a2ad976fa09084629c52a3e1eeaa4", "filename": "libstdc++-v3/configure", "status": "modified", "additions": 261, "deletions": 0, "changes": 261, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libstdc%2B%2B-v3%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/396b7fa48aa8a9ebfb09d30a03db5170001903d9/libstdc%2B%2B-v3%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Fconfigure?ref=396b7fa48aa8a9ebfb09d30a03db5170001903d9", "patch": "@@ -40678,6 +40678,7 @@ _ACEOF\n \n   # For TLS support.\n \n+\n    # Check whether --enable-tls or --disable-tls was given.\n if test \"${enable_tls+set}\" = set; then\n   enableval=\"$enable_tls\"\n@@ -40709,6 +40710,74 @@ cat >conftest.$ac_ext <<_ACEOF\n __thread int a; int b; int main() { return a = b; }\n _ACEOF\n rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  chktls_save_LDFLAGS=\"$LDFLAGS\"\n+\t  \t  \t  case $host in\n+\t    *-*-linux*)\n+\t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n+\t      ;;\n+\t  esac\n+\t  chktls_save_CFLAGS=\"$CFLAGS\"\n+\t  CFLAGS=\"-fPIC $CFLAGS\"\n+\t  \t  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+int f() { return 0; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after .\" >&5\n+echo \"$as_me: error: Link tests are not allowed after .\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int f() { return a = b; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n@@ -40735,6 +40804,24 @@ else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n+gcc_cv_have_tls=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+gcc_cv_have_tls=yes\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\t  LDFLAGS=\"$chktls_save_LDFLAGS\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n gcc_cv_have_tls=no\n fi\n rm -f conftest.err conftest.$ac_objext \\\n@@ -94326,6 +94413,7 @@ _ACEOF\n \n \n \n+\n    # Check whether --enable-tls or --disable-tls was given.\n if test \"${enable_tls+set}\" = set; then\n   enableval=\"$enable_tls\"\n@@ -94357,6 +94445,74 @@ cat >conftest.$ac_ext <<_ACEOF\n __thread int a; int b; int main() { return a = b; }\n _ACEOF\n rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  chktls_save_LDFLAGS=\"$LDFLAGS\"\n+\t  \t  \t  case $host in\n+\t    *-*-linux*)\n+\t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n+\t      ;;\n+\t  esac\n+\t  chktls_save_CFLAGS=\"$CFLAGS\"\n+\t  CFLAGS=\"-fPIC $CFLAGS\"\n+\t  \t  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+int f() { return 0; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after .\" >&5\n+echo \"$as_me: error: Link tests are not allowed after .\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int f() { return a = b; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n@@ -94383,6 +94539,24 @@ else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n+gcc_cv_have_tls=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+gcc_cv_have_tls=yes\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\t  LDFLAGS=\"$chktls_save_LDFLAGS\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n gcc_cv_have_tls=no\n fi\n rm -f conftest.err conftest.$ac_objext \\\n@@ -111941,6 +112115,7 @@ done\n _ACEOF\n \n \n+\n    # Check whether --enable-tls or --disable-tls was given.\n if test \"${enable_tls+set}\" = set; then\n   enableval=\"$enable_tls\"\n@@ -111972,6 +112147,74 @@ cat >conftest.$ac_ext <<_ACEOF\n __thread int a; int b; int main() { return a = b; }\n _ACEOF\n rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  chktls_save_LDFLAGS=\"$LDFLAGS\"\n+\t  \t  \t  case $host in\n+\t    *-*-linux*)\n+\t      LDFLAGS=\"-shared -Wl,--no-undefined $LDFLAGS\"\n+\t      ;;\n+\t  esac\n+\t  chktls_save_CFLAGS=\"$CFLAGS\"\n+\t  CFLAGS=\"-fPIC $CFLAGS\"\n+\t  \t  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&5\n+echo \"$as_me: error: Link tests are not allowed after GCC_NO_EXECUTABLES.\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+int f() { return 0; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n+if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n+  (eval $ac_link) 2>conftest.er1\n+  ac_status=$?\n+  grep -v '^ *+' conftest.er1 >conftest.err\n+  rm -f conftest.er1\n+  cat conftest.err >&5\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); } &&\n+\t { ac_try='test -z \"$ac_c_werror_flag\"\n+\t\t\t || test ! -s conftest.err'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; } &&\n+\t { ac_try='test -s conftest$ac_exeext'\n+  { (eval echo \"$as_me:$LINENO: \\\"$ac_try\\\"\") >&5\n+  (eval $ac_try) 2>&5\n+  ac_status=$?\n+  echo \"$as_me:$LINENO: \\$? = $ac_status\" >&5\n+  (exit $ac_status); }; }; then\n+  if test x$gcc_no_link = xyes; then\n+  { { echo \"$as_me:$LINENO: error: Link tests are not allowed after .\" >&5\n+echo \"$as_me: error: Link tests are not allowed after .\" >&2;}\n+   { (exit 1); exit 1; }; }\n+fi\n+cat >conftest.$ac_ext <<_ACEOF\n+__thread int a; int b; int f() { return a = b; }\n+_ACEOF\n+rm -f conftest.$ac_objext conftest$ac_exeext\n if { (eval echo \"$as_me:$LINENO: \\\"$ac_link\\\"\") >&5\n   (eval $ac_link) 2>conftest.er1\n   ac_status=$?\n@@ -111998,6 +112241,24 @@ else\n   echo \"$as_me: failed program was:\" >&5\n sed 's/^/| /' conftest.$ac_ext >&5\n \n+gcc_cv_have_tls=no\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n+gcc_cv_have_tls=yes\n+fi\n+rm -f conftest.err conftest.$ac_objext \\\n+      conftest$ac_exeext conftest.$ac_ext\n+\t  CFLAGS=\"$chktls_save_CFLAGS\"\n+\t  LDFLAGS=\"$chktls_save_LDFLAGS\"\n+else\n+  echo \"$as_me: failed program was:\" >&5\n+sed 's/^/| /' conftest.$ac_ext >&5\n+\n gcc_cv_have_tls=no\n fi\n rm -f conftest.err conftest.$ac_objext \\"}]}