{"sha": "a398a8222049b39ca16bd3d38f9d955214eecb48", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTM5OGE4MjIyMDQ5YjM5Y2ExNmJkM2QzOGY5ZDk1NTIxNGVlY2I0OA==", "commit": {"author": {"name": "Kazuhiro Inaoka", "email": "inaoka.kazuhiro@renesas.com", "date": "2003-06-10T16:30:47Z"}, "committer": {"name": "Richard Henderson", "email": "rth@gcc.gnu.org", "date": "2003-06-10T16:30:47Z"}, "message": "m32r.h (HARD_REGNO_RENAME_OK): New.\n\n        * config/m32r/m32r.h (HARD_REGNO_RENAME_OK): New.\n        * config/m32r/m32r.c (m32r_hard_regno_rename_ok): New.\n        * config/m32r/m32r-protos.h: Prototype it.\n\nFrom-SVN: r67711", "tree": {"sha": "ff47e75e7dd7eda0c9959277f2e6b40e9a2390d3", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ff47e75e7dd7eda0c9959277f2e6b40e9a2390d3"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a398a8222049b39ca16bd3d38f9d955214eecb48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a398a8222049b39ca16bd3d38f9d955214eecb48", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a398a8222049b39ca16bd3d38f9d955214eecb48", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a398a8222049b39ca16bd3d38f9d955214eecb48/comments", "author": null, "committer": null, "parents": [{"sha": "cec31c556731f8c0cdfa18e5e130e764f7523acd", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/cec31c556731f8c0cdfa18e5e130e764f7523acd", "html_url": "https://github.com/Rust-GCC/gccrs/commit/cec31c556731f8c0cdfa18e5e130e764f7523acd"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "877299f911255443dd2d8ec45cea7f26975335ca", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a398a8222049b39ca16bd3d38f9d955214eecb48", "patch": "@@ -1,3 +1,9 @@\n+2003-06-10  Kazuhiro Inaoka <inaoka.kazuhiro@renesas.com>\n+\n+\t* config/m32r/m32r.h (HARD_REGNO_RENAME_OK): New.\n+\t* config/m32r/m32r.c (m32r_hard_regno_rename_ok): New.\n+\t* config/m32r/m32r-protos.h: Prototype it.\n+\n 2003-06-10  Janis Johnson  <janis187@us.ibm.com>\n \n \t* config/rs6000/eabi.h (TARGET_OS_CPP_BUILTINS): Define builtins"}, {"sha": "ec549bada030fc9ea51ca0e6cfc0cadc1b6e4edf", "filename": "gcc/config/m32r/m32r-protos.h", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2Fconfig%2Fm32r%2Fm32r-protos.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2Fconfig%2Fm32r%2Fm32r-protos.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Fm32r-protos.h?ref=a398a8222049b39ca16bd3d38f9d955214eecb48", "patch": "@@ -55,6 +55,8 @@ extern void   m32r_expand_block_move \t\tPARAMS ((rtx *));\n extern void   m32r_print_operand\t\tPARAMS ((FILE *, rtx, int));\n extern void   m32r_print_operand_address\tPARAMS ((FILE *, rtx));\n extern int    m32r_not_same_reg \t\tPARAMS ((rtx, rtx));\n+extern int    m32r_hard_regno_rename_ok\t\tPARAMS ((unsigned int,\n+\t\t\t\t\t\t\t unsigned int));\n \n #ifdef HAVE_MACHINE_MODES\n extern int    call_address_operand\t\tPARAMS ((rtx, Mmode));"}, {"sha": "4ea130f438fd33b64c3eb66fe27b56cb6b78daac", "filename": "gcc/config/m32r/m32r.c", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2Fconfig%2Fm32r%2Fm32r.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2Fconfig%2Fm32r%2Fm32r.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Fm32r.c?ref=a398a8222049b39ca16bd3d38f9d955214eecb48", "patch": "@@ -2944,3 +2944,23 @@ m32r_block_immediate_operand (op, mode)\n \n   return 1;\n }\n+\n+/* Return true if using NEW_REG in place of OLD_REG is ok.  */\n+\n+int\n+m32r_hard_regno_rename_ok (old_reg, new_reg)\n+     unsigned int old_reg ATTRIBUTE_UNUSED;\n+     unsigned int new_reg;\n+{\n+  /* Interrupt routines can't clobber any register that isn't already used.  */\n+  if (lookup_attribute (\"interrupt\", DECL_ATTRIBUTES (current_function_decl))\n+      && !regs_ever_live[new_reg])\n+    return 0;\n+\n+  /* We currently emit epilogues as text, not rtl, so the liveness\n+     of the return address register isn't visible.  */\n+  if (current_function_is_leaf && new_reg == RETURN_ADDR_REGNUM)\n+    return 0;\n+\n+  return 1;\n+}"}, {"sha": "7af28e5ade753f6fc658f13a294c0faa6dcd74f3", "filename": "gcc/config/m32r/m32r.h", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2Fconfig%2Fm32r%2Fm32r.h", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a398a8222049b39ca16bd3d38f9d955214eecb48/gcc%2Fconfig%2Fm32r%2Fm32r.h", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fm32r%2Fm32r.h?ref=a398a8222049b39ca16bd3d38f9d955214eecb48", "patch": "@@ -657,6 +657,9 @@ extern unsigned int m32r_mode_class[];\n  && GET_MODE_CLASS (MODE2) == MODE_INT\t\t\\\n  && GET_MODE_SIZE (MODE1) <= UNITS_PER_WORD\t\\\n  && GET_MODE_SIZE (MODE2) <= UNITS_PER_WORD)\n+\n+#define HARD_REGNO_RENAME_OK(OLD_REG, NEW_REG) \\\n+  m32r_hard_regno_rename_ok (OLD_REG, NEW_REG)\n \f\n /* Register classes and constants.  */\n "}]}