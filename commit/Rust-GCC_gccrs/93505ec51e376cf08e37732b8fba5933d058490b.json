{"sha": "93505ec51e376cf08e37732b8fba5933d058490b", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTM1MDVlYzUxZTM3NmNmMDhlMzc3MzJiOGZiYTU5MzNkMDU4NDkwYg==", "commit": {"author": {"name": "Jakub Jelinek", "email": "jakub@redhat.com", "date": "2017-03-03T12:24:53Z"}, "committer": {"name": "Jakub Jelinek", "email": "jakub@gcc.gnu.org", "date": "2017-03-03T12:24:53Z"}, "message": "re PR target/79807 (ICE in extract_insn, at recog.c:2311 (error: unrecognizable insn))\n\n\tPR target/79807\n\t* config/i386/i386.c (ix86_expand_multi_arg_builtin): If target\n\tis a memory operand, increase num_memory.\n\t(ix86_expand_args_builtin): Likewise.\n\n\t* gcc.target/i386/pr79807.c: New test.\n\nFrom-SVN: r245871", "tree": {"sha": "667c2f39b29e1a4cd24f8009cd934d38526ddb7a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/667c2f39b29e1a4cd24f8009cd934d38526ddb7a"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/93505ec51e376cf08e37732b8fba5933d058490b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93505ec51e376cf08e37732b8fba5933d058490b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/93505ec51e376cf08e37732b8fba5933d058490b", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/93505ec51e376cf08e37732b8fba5933d058490b/comments", "author": {"login": "jakubjelinek", "id": 9370665, "node_id": "MDQ6VXNlcjkzNzA2NjU=", "avatar_url": "https://avatars.githubusercontent.com/u/9370665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jakubjelinek", "html_url": "https://github.com/jakubjelinek", "followers_url": "https://api.github.com/users/jakubjelinek/followers", "following_url": "https://api.github.com/users/jakubjelinek/following{/other_user}", "gists_url": "https://api.github.com/users/jakubjelinek/gists{/gist_id}", "starred_url": "https://api.github.com/users/jakubjelinek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jakubjelinek/subscriptions", "organizations_url": "https://api.github.com/users/jakubjelinek/orgs", "repos_url": "https://api.github.com/users/jakubjelinek/repos", "events_url": "https://api.github.com/users/jakubjelinek/events{/privacy}", "received_events_url": "https://api.github.com/users/jakubjelinek/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8479ed2c47d9d9384180381f2af7c0a9dc03cc4e", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8479ed2c47d9d9384180381f2af7c0a9dc03cc4e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8479ed2c47d9d9384180381f2af7c0a9dc03cc4e"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "f12ffca4ea5061e18a950d019ae29faddb54b281", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=93505ec51e376cf08e37732b8fba5933d058490b", "patch": "@@ -1,3 +1,10 @@\n+2017-03-03  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/79807\n+\t* config/i386/i386.c (ix86_expand_multi_arg_builtin): If target\n+\tis a memory operand, increase num_memory.\n+\t(ix86_expand_args_builtin): Likewise.\n+\n 2017-03-03  Jan Hubicka  <jh@suse.cz>\n \n \tPR lto/79760"}, {"sha": "1b982077cae4879457185caec1a0dcc37c809d2c", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=93505ec51e376cf08e37732b8fba5933d058490b", "patch": "@@ -34249,6 +34249,8 @@ ix86_expand_multi_arg_builtin (enum insn_code icode, tree exp, rtx target,\n       || GET_MODE (target) != tmode\n       || !insn_data[icode].operand[0].predicate (target, tmode))\n     target = gen_reg_rtx (tmode);\n+  else if (memory_operand (target, tmode))\n+    num_memory++;\n \n   gcc_assert (nargs <= 4);\n \n@@ -35534,6 +35536,8 @@ ix86_expand_args_builtin (const struct builtin_description *d,\n \t  || GET_MODE (target) != tmode\n \t  || !insn_p->operand[0].predicate (target, tmode))\n \ttarget = gen_reg_rtx (tmode);\n+      else if (memory_operand (target, tmode))\n+\tnum_memory++;\n       real_target = target;\n     }\n   else"}, {"sha": "9bece40e0f3e971f3159b18ecb03be02fb504ff6", "filename": "gcc/testsuite/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2Ftestsuite%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2Ftestsuite%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2FChangeLog?ref=93505ec51e376cf08e37732b8fba5933d058490b", "patch": "@@ -1,3 +1,8 @@\n+2017-03-03  Jakub Jelinek  <jakub@redhat.com>\n+\n+\tPR target/79807\n+\t* gcc.target/i386/pr79807.c: New test.\n+\n 2017-03-03  Martin Liska  <mliska@suse.cz>\n \n \tPR tree-optimization/79803"}, {"sha": "e491a4da8efcecd11d26aea60018450c67d9f6ff", "filename": "gcc/testsuite/gcc.target/i386/pr79807.c", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr79807.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/93505ec51e376cf08e37732b8fba5933d058490b/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr79807.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftestsuite%2Fgcc.target%2Fi386%2Fpr79807.c?ref=93505ec51e376cf08e37732b8fba5933d058490b", "patch": "@@ -0,0 +1,12 @@\n+/* PR target/79807 */\n+/* { dg-do compile } */\n+/* { dg-options \"-O0 -mavx -ffloat-store\" } */\n+\n+typedef double __v2df __attribute__ ((__vector_size__ (16)));\n+typedef double __v4df __attribute__ ((__vector_size__ (32)));\n+\n+__v2df\n+foo (__v4df x)\n+{\n+  return __builtin_ia32_pd_pd256 (x);\n+}"}]}