{"sha": "dd42155e21d3471bc2d95bf26eb99ad782413d82", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGQ0MjE1NWUyMWQzNDcxYmMyZDk1YmYyNmViOTlhZDc4MjQxM2Q4Mg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@acm.org", "date": "1999-09-15T08:58:51Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "1999-09-15T08:58:51Z"}, "message": "typeck.c (expr_sizeof): Reinstall and augment OFFSET_REF comment.\n\n\t* typeck.c (expr_sizeof): Reinstall and augment OFFSET_REF\n\tcomment.\n\nFrom-SVN: r29429", "tree": {"sha": "61af3714797220fce0c8df6495b6d06277f31979", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61af3714797220fce0c8df6495b6d06277f31979"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/dd42155e21d3471bc2d95bf26eb99ad782413d82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd42155e21d3471bc2d95bf26eb99ad782413d82", "html_url": "https://github.com/Rust-GCC/gccrs/commit/dd42155e21d3471bc2d95bf26eb99ad782413d82", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/dd42155e21d3471bc2d95bf26eb99ad782413d82/comments", "author": {"login": "urnathan", "id": 13103001, "node_id": "MDQ6VXNlcjEzMTAzMDAx", "avatar_url": "https://avatars.githubusercontent.com/u/13103001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/urnathan", "html_url": "https://github.com/urnathan", "followers_url": "https://api.github.com/users/urnathan/followers", "following_url": "https://api.github.com/users/urnathan/following{/other_user}", "gists_url": "https://api.github.com/users/urnathan/gists{/gist_id}", "starred_url": "https://api.github.com/users/urnathan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/urnathan/subscriptions", "organizations_url": "https://api.github.com/users/urnathan/orgs", "repos_url": "https://api.github.com/users/urnathan/repos", "events_url": "https://api.github.com/users/urnathan/events{/privacy}", "received_events_url": "https://api.github.com/users/urnathan/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "7462a33f04715b04ec28f825d4c83b6182c793bb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/7462a33f04715b04ec28f825d4c83b6182c793bb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/7462a33f04715b04ec28f825d4c83b6182c793bb"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "f6fbcd65b2505ec79026c40b4c87cbc6a266b221", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd42155e21d3471bc2d95bf26eb99ad782413d82/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd42155e21d3471bc2d95bf26eb99ad782413d82/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=dd42155e21d3471bc2d95bf26eb99ad782413d82", "patch": "@@ -1,3 +1,8 @@\n+1999-09-15  Nathan Sidwell  <nathan@acm.org>\n+\n+\t* typeck.c (expr_sizeof): Reinstall and augment OFFSET_REF\n+\tcomment.\n+\n 1999-09-14  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n \n \t* lex.c (cp_pragma_interface, cp_pragma_implementation): Copy"}, {"sha": "cb024afd091fd61af492caacc6460c5cd2e62f43", "filename": "gcc/cp/typeck.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/dd42155e21d3471bc2d95bf26eb99ad782413d82/gcc%2Fcp%2Ftypeck.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/dd42155e21d3471bc2d95bf26eb99ad782413d82/gcc%2Fcp%2Ftypeck.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Ftypeck.c?ref=dd42155e21d3471bc2d95bf26eb99ad782413d82", "patch": "@@ -1610,6 +1610,10 @@ expr_sizeof (e)\n       incomplete_type_error (e, TREE_TYPE (e));\n       return size_int (1);\n     }\n+  /* It's illegal to say `sizeof (X::i)' for `i' a non-static data\n+     member unless you're in a non-static member of X.  But, we used\n+     to support this usage, so we still permit it unless we're being\n+     pedantic.  [expr.prim]  */\n   else if (TREE_CODE (e) == OFFSET_REF)\n     e = resolve_offset_ref (e);\n "}]}