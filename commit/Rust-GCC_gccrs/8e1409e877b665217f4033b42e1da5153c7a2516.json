{"sha": "8e1409e877b665217f4033b42e1da5153c7a2516", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OGUxNDA5ZTg3N2I2NjUyMTdmNDAzM2I0MmUxZGE1MTUzYzdhMjUxNg==", "commit": {"author": {"name": "Zdenek Dvorak", "email": "dvorakz@suse.cz", "date": "2006-02-13T23:19:49Z"}, "committer": {"name": "Zdenek Dvorak", "email": "rakdver@gcc.gnu.org", "date": "2006-02-13T23:19:49Z"}, "message": "re PR rtl-optimization/26235 (FAIL: gcc.c-torture/execute/ieee/fp-cmp-8l.c execution at -O1, -O2 and -Os)\n\n\tPR rtl-optimization/26235\n\t* loop-invariant.c (hash_invariant_expr_1): Handle 'i' and 'n' formats.\n\t(invariant_expr_equal_p): Handle 'i' and 'n' formats.  Fail on unknown\n\tformat.\n\nFrom-SVN: r110939", "tree": {"sha": "c40e57f8c09dbac796305b735c941b4008537d44", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c40e57f8c09dbac796305b735c941b4008537d44"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/8e1409e877b665217f4033b42e1da5153c7a2516", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e1409e877b665217f4033b42e1da5153c7a2516", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8e1409e877b665217f4033b42e1da5153c7a2516", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8e1409e877b665217f4033b42e1da5153c7a2516/comments", "author": null, "committer": null, "parents": [{"sha": "74290e83e768bde9d1f1db3b25024c2ca87dccdb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/74290e83e768bde9d1f1db3b25024c2ca87dccdb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/74290e83e768bde9d1f1db3b25024c2ca87dccdb"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "a1a30e3bce4ed5ae9be9ebfb233947c0ab36b822", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e1409e877b665217f4033b42e1da5153c7a2516/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e1409e877b665217f4033b42e1da5153c7a2516/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=8e1409e877b665217f4033b42e1da5153c7a2516", "patch": "@@ -1,3 +1,10 @@\n+2006-02-13  Zdenek Dvorak <dvorakz@suse.cz>\n+\n+\tPR rtl-optimization/26235\n+\t* loop-invariant.c (hash_invariant_expr_1): Handle 'i' and 'n' formats.\n+\t(invariant_expr_equal_p): Handle 'i' and 'n' formats.  Fail on unknown\n+\tformat.\n+\n 2006-02-13  Jeff Law  <law@redhat.com>\n \n \t* tree-vrp.c (extract_range_from_binary_expr): Remove handling of"}, {"sha": "a57857d3831dfd6bac62ddad19e15624b6b4de26", "filename": "gcc/loop-invariant.c", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/8e1409e877b665217f4033b42e1da5153c7a2516/gcc%2Floop-invariant.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/8e1409e877b665217f4033b42e1da5153c7a2516/gcc%2Floop-invariant.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Floop-invariant.c?ref=8e1409e877b665217f4033b42e1da5153c7a2516", "patch": "@@ -292,6 +292,8 @@ hash_invariant_expr_1 (rtx insn, rtx x)\n \t  for (j = 0; j < XVECLEN (x, i); j++)\n \t    val ^= hash_invariant_expr_1 (insn, XVECEXP (x, i, j));\n \t}\n+      else if (fmt[i] == 'i' || fmt[i] == 'n')\n+\tval ^= XINT (x, i);\n     }\n \n   return val;\n@@ -373,6 +375,14 @@ invariant_expr_equal_p (rtx insn1, rtx e1, rtx insn2, rtx e2)\n \t\treturn false;\n \t    }\n \t}\n+      else if (fmt[i] == 'i' || fmt[i] == 'n')\n+\t{\n+\t  if (XINT (e1, i) != XINT (e2, i))\n+\t    return false;\n+\t}\n+      /* Unhandled type of subexpression, we fail conservatively.  */\n+      else\n+\treturn false;\n     }\n \n   return true;"}]}