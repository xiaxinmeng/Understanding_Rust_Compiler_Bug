{"sha": "a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YTdiMWRjMzZkYTg5YzQ5MzhlN2M0ZDcwNTZiNGE3Nzk1ZDQwZmM4NQ==", "commit": {"author": {"name": "Paolo Bonzini", "email": "bonzini@gnu.org", "date": "2004-04-20T09:27:43Z"}, "committer": {"name": "Paolo Bonzini", "email": "bonzini@gcc.gnu.org", "date": "2004-04-20T09:27:43Z"}, "message": "Revert part of 2004-04-17 change that moved -frename-registers to -O1.\n\n2004-04-19  Paolo Bonzini  <bonzini@gnu.org>\n\n\tRevert part of 2004-04-17 change that moved -frename-registers\n\tto -O1.  -frename-registers is buggy.\n\n\t* toplev.c (flag_rename_registers): Initialize to 0.\n\t* doc/invoke.texi (Optimize options): Move -frename-registers\n\tto \"Not triggered by any -O level\" section.  Adjust commentary\n\taccordingly.\n\nFrom-SVN: r80887", "tree": {"sha": "156a826e80b59c415de6f2509237587d67988d2c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/156a826e80b59c415de6f2509237587d67988d2c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85/comments", "author": {"login": "bonzini", "id": 42082, "node_id": "MDQ6VXNlcjQyMDgy", "avatar_url": "https://avatars.githubusercontent.com/u/42082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bonzini", "html_url": "https://github.com/bonzini", "followers_url": "https://api.github.com/users/bonzini/followers", "following_url": "https://api.github.com/users/bonzini/following{/other_user}", "gists_url": "https://api.github.com/users/bonzini/gists{/gist_id}", "starred_url": "https://api.github.com/users/bonzini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bonzini/subscriptions", "organizations_url": "https://api.github.com/users/bonzini/orgs", "repos_url": "https://api.github.com/users/bonzini/repos", "events_url": "https://api.github.com/users/bonzini/events{/privacy}", "received_events_url": "https://api.github.com/users/bonzini/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "8ecb03465a2f32c719a9a339dbe0b605547f8b9a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/8ecb03465a2f32c719a9a339dbe0b605547f8b9a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/8ecb03465a2f32c719a9a339dbe0b605547f8b9a"}], "stats": {"total": 39, "additions": 24, "deletions": 15}, "files": [{"sha": "61256fe00300fb36c8480d28563cad0c967facdf", "filename": "gcc/ChangeLog", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "patch": "@@ -1,3 +1,13 @@\n+2004-04-20  Paolo Bonzini  <bonzini@gnu.org>\n+\n+\tRevert part of 2004-04-17 change that moved -frename-registers\n+\tto -O1.  -frename-registers is buggy.\n+\n+\t* toplev.c (flag_rename_registers): Initialize to 0.\n+\t* doc/invoke.texi (Optimize options): Move -frename-registers\n+\tto \"Not triggered by any -O level\" section.  Adjust commentary\n+\taccordingly.\n+\t\t\t\t\t\n 2004-04-20  Anil Paranjpe\u00a0\u00a0\u00a0<anilp1@kpitcummins.com>\n \n \t* toplev.c (compile_file): Move targetm.asm_out.file_end call to end."}, {"sha": "d204cf68f54183c8466fae8367af47e9ebf6afcd", "filename": "gcc/doc/invoke.texi", "status": "modified", "additions": 11, "deletions": 13, "changes": 24, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85/gcc%2Fdoc%2Finvoke.texi", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85/gcc%2Fdoc%2Finvoke.texi", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fdoc%2Finvoke.texi?ref=a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "patch": "@@ -4342,19 +4342,6 @@ If @var{n} is not specified or is zero, use a machine-dependent default.\n \n Enabled at levels @option{-O2}, @option{-O3}.\n \n-@item -frename-registers\n-@opindex frename-registers\n-Attempt to avoid false dependencies in scheduled code by making use\n-of registers left over after register allocation.  This optimization\n-will most benefit processors with lots of registers.  Depending on the\n-debug information format adopted by the target, however, it can\n-make debugging impossible, since variables will no longer stay in\n-a ``home register''.\n-\n-Enabled at levels @option{-O}, @option{-O2}, @option{-O3}, @option{-Os},\n-on targets where the default format for debugging information supports\n-variable tracking.\n-\n @item -fweb\n @opindex fweb\n Constructs webs as commonly used for register allocation purposes and assign\n@@ -4575,6 +4562,17 @@ using the knowledge about the value of the denominator.\n \n Enabled with @option{-profile-generate} and @option{-profile-use}.\n \n+@item -frename-registers\n+@opindex frename-registers\n+Attempt to avoid false dependencies in scheduled code by making use\n+of registers left over after register allocation.  This optimization\n+will most benefit processors with lots of registers.  Depending on the\n+debug information format adopted by the target, however, it can\n+make debugging impossible, since variables will no longer stay in\n+a ``home register''.\n+\n+Not enabled by default at any level because it has known bugs.\n+\n @item -fnew-ra\n @opindex fnew-ra\n Use a graph coloring register allocator.  Currently this option is meant"}, {"sha": "d96543d0d15621dd57cd108499a86ccfa618bced", "filename": "gcc/toplev.c", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85/gcc%2Ftoplev.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/a7b1dc36da89c4938e7c4d7056b4a7795d40fc85/gcc%2Ftoplev.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftoplev.c?ref=a7b1dc36da89c4938e7c4d7056b4a7795d40fc85", "patch": "@@ -268,8 +268,9 @@ int flag_reorder_functions = 0;\n \n /* Nonzero if registers should be renamed.  When\n    flag_rename_registers == AUTODETECT_FLAG_VAR_TRACKING it will be set\n-   according to optimize and default_debug_hooks in process_options ().  */\n-int flag_rename_registers = AUTODETECT_FLAG_VAR_TRACKING;\n+   according to optimize and default_debug_hooks in process_options (),\n+   but we do not do this yet because it triggers aborts in flow.c.  */\n+int flag_rename_registers = 0;\n int flag_cprop_registers = 0;\n \n /* Nonzero for -pedantic switch: warn about anything"}]}