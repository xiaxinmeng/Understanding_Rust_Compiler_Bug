{"sha": "c1800ec88e53d47792c9b01672d4feabba209a3c", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YzE4MDBlYzg4ZTUzZDQ3NzkyYzliMDE2NzJkNGZlYWJiYTIwOWEzYw==", "commit": {"author": {"name": "Zack Weinberg", "email": "zackw@stanford.edu", "date": "2001-04-20T23:06:55Z"}, "committer": {"name": "Zack Weinberg", "email": "zack@gcc.gnu.org", "date": "2001-04-20T23:06:55Z"}, "message": "configure.in: Probe for times, clock, struct tms, and clock_t.\n\n\t* configure.in: Probe for times, clock, struct tms, and clock_t.\n\t* configure, config.in: Regenerate.\n\t* timevar.c: Replace ifdef forest in get_time with (relatively)\n\tstraightforward series of checks based on autoconf's probes.\n\nFrom-SVN: r41471", "tree": {"sha": "268f0c06395f32d39f714beb25ba66ed7a3f3b8c", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/268f0c06395f32d39f714beb25ba66ed7a3f3b8c"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/c1800ec88e53d47792c9b01672d4feabba209a3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1800ec88e53d47792c9b01672d4feabba209a3c", "html_url": "https://github.com/Rust-GCC/gccrs/commit/c1800ec88e53d47792c9b01672d4feabba209a3c", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/c1800ec88e53d47792c9b01672d4feabba209a3c/comments", "author": null, "committer": null, "parents": [{"sha": "6c3a9f72bf5ad3674a3ce02caea6e7b91eec9d2b", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/6c3a9f72bf5ad3674a3ce02caea6e7b91eec9d2b", "html_url": "https://github.com/Rust-GCC/gccrs/commit/6c3a9f72bf5ad3674a3ce02caea6e7b91eec9d2b"}], "stats": {"total": 539, "additions": 377, "deletions": 162}, "files": [{"sha": "63b5496929bc489acb0f29fdadd1a01ee565a598", "filename": "gcc/ChangeLog", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=c1800ec88e53d47792c9b01672d4feabba209a3c", "patch": "@@ -1,3 +1,10 @@\n+2001-04-20  Zack Weinberg  <zackw@stanford.edu>\n+\n+\t* configure.in: Probe for times, clock, struct tms, and clock_t.\n+\t* configure, config.in: Regenerate.\n+\t* timevar.c: Replace ifdef forest in get_time with (relatively)\n+\tstraightforward series of checks based on autoconf's probes.\n+\n Fri Apr 20 12:24:50 2001  Jeffrey A Law  (law@cygnus.com)\n \n \t* config/pa/som.h (NM_FLAGS): Define."}, {"sha": "72ede3d78f3fb9d0188eae81db87f51755a24e27", "filename": "gcc/config.in", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Fconfig.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Fconfig.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig.in?ref=c1800ec88e53d47792c9b01672d4feabba209a3c", "patch": "@@ -101,6 +101,9 @@\n /* Define if you have the bsearch function.  */\n #undef HAVE_BSEARCH\n \n+/* Define if you have the clock function.  */\n+#undef HAVE_CLOCK\n+\n /* Define if you have the dcgettext function.  */\n #undef HAVE_DCGETTEXT\n \n@@ -188,6 +191,9 @@\n /* Define if you have the sysconf function.  */\n #undef HAVE_SYSCONF\n \n+/* Define if you have the times function.  */\n+#undef HAVE_TIMES\n+\n /* Define if you have the <argz.h> header file.  */\n #undef HAVE_ARGZ_H\n \n@@ -416,6 +422,9 @@\n /* Define to 1 if we found this declaration otherwise define to 0. */\n #undef HAVE_DECL_GETOPT\n \n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_CLOCK\n+\n /* Define to 1 if we found this declaration otherwise define to 0. */\n #undef HAVE_DECL_GETRLIMIT\n \n@@ -425,6 +434,15 @@\n /* Define to 1 if we found this declaration otherwise define to 0. */\n #undef HAVE_DECL_GETRUSAGE\n \n+/* Define to 1 if we found this declaration otherwise define to 0. */\n+#undef HAVE_DECL_TIMES\n+\n+/* Define if <sys/times.h> defines struct tms. */\n+#undef HAVE_STRUCT_TMS\n+\n+/* Define if <time.h> defines clock_t. */\n+#undef HAVE_CLOCK_T\n+\n /* Define if host mkdir takes a single argument. */\n #undef MKDIR_TAKES_ONE_ARG\n "}, {"sha": "67af3a391c5a3d41b0ab109560b70d986adaf9c3", "filename": "gcc/configure", "status": "modified", "additions": 229, "deletions": 87, "changes": 316, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Fconfigure", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Fconfigure", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure?ref=c1800ec88e53d47792c9b01672d4feabba209a3c", "patch": "@@ -3099,7 +3099,7 @@ EOF\n fi\n \n \n-for ac_func in strtoul bsearch popen \\\n+for ac_func in strtoul bsearch popen times clock \\\n \tstrchr strrchr kill getrlimit setrlimit atoll atoq \\\n \tsysconf isascii gettimeofday strsignal putc_unlocked fputc_unlocked \\\n \tfputs_unlocked getrusage iconv nl_langinfo lstat\n@@ -4257,7 +4257,7 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\"\n for ac_func in getenv atol sbrk abort atof getcwd getwd \\\n \tstrsignal putc_unlocked fputs_unlocked strstr environ errno \\\n-\tmalloc realloc calloc free basename getopt\n+\tmalloc realloc calloc free basename getopt clock\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n@@ -4364,6 +4364,9 @@ EOF\n EOF\n  cat >> confdefs.h <<EOF\n #define HAVE_DECL_GETOPT 1\n+EOF\n+ cat >> confdefs.h <<EOF\n+#define HAVE_DECL_CLOCK 1\n EOF\n fi\n \n@@ -4372,12 +4375,12 @@ for ac_func in getrlimit setrlimit getrusage\n do\n   ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n-echo \"configure:4376: checking whether $ac_func is declared\" >&5\n+echo \"configure:4379: checking whether $ac_func is declared\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4381 \"configure\"\n+#line 4384 \"configure\"\n #include \"confdefs.h\"\n #undef $ac_tr_decl\n #define $ac_tr_decl 1\n@@ -4395,7 +4398,7 @@ char *(*pfn) = (char *(*)) $ac_func ;\n #endif\n ; return 0; }\n EOF\n-if { (eval echo configure:4399: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4402: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   eval \"gcc_cv_have_decl_$ac_func=yes\"\n else\n@@ -4433,17 +4436,156 @@ EOF\n fi\n \n \n+for ac_func in times\n+do\n+  ac_tr_decl=HAVE_DECL_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`\n+echo $ac_n \"checking whether $ac_func is declared\"\"... $ac_c\" 1>&6\n+echo \"configure:4444: checking whether $ac_func is declared\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_have_decl_$ac_func'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  cat > conftest.$ac_ext <<EOF\n+#line 4449 \"configure\"\n+#include \"confdefs.h\"\n+#undef $ac_tr_decl\n+#define $ac_tr_decl 1\n+  \n+#include \"ansidecl.h\"\n+#include \"system.h\"\n+#ifdef HAVE_SYS_TIMES_H\n+#include <sys/times.h>\n+#endif\n+\n+\n+int main() {\n+#ifndef $ac_func\n+char *(*pfn) = (char *(*)) $ac_func ;\n+#endif\n+; return 0; }\n+EOF\n+if { (eval echo configure:4467: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  eval \"gcc_cv_have_decl_$ac_func=yes\"\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  eval \"gcc_cv_have_decl_$ac_func=no\"\n+fi\n+rm -f conftest*\n+fi\n+\n+if eval \"test \\\"`echo '$gcc_cv_have_decl_'$ac_func`\\\" = yes\"; then\n+  echo \"$ac_t\"\"yes\" 1>&6 ; cat >> confdefs.h <<EOF\n+#define $ac_tr_decl 1\n+EOF\n+ \n+else\n+  echo \"$ac_t\"\"no\" 1>&6 ; cat >> confdefs.h <<EOF\n+#define $ac_tr_decl 0\n+EOF\n+ \n+fi\n+\n+done\n+if test x = y ; then\n+  cat >> confdefs.h <<EOF\n+#define HAVE_DECL_TIMES 1\n+EOF\n+fi\n+\n+\n+# More time-related stuff.\n+echo $ac_n \"checking for struct tms\"\"... $ac_c\" 1>&6\n+echo \"configure:4501: checking for struct tms\" >&5\n+if eval \"test \\\"`echo '$''{'ac_cv_struct_tms'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  \n+cat > conftest.$ac_ext <<EOF\n+#line 4507 \"configure\"\n+#include \"confdefs.h\"\n+\n+#include \"ansidecl.h\"\n+#include \"system.h\"\n+#ifdef HAVE_SYS_TIMES_H\n+#include <sys/times.h>\n+#endif\n+\n+int main() {\n+struct tms tms;\n+; return 0; }\n+EOF\n+if { (eval echo configure:4520: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  ac_cv_struct_tms=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  ac_cv_struct_tms=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$ac_cv_struct_tms\" 1>&6\n+if test $ac_cv_struct_tms = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_STRUCT_TMS 1\n+EOF\n+\n+fi\n+\n+# use gcc_cv_* here because this doesn't match the behavior of AC_CHECK_TYPE.\n+# revisit after autoconf 2.50.\n+echo $ac_n \"checking for clock_t\"\"... $ac_c\" 1>&6\n+echo \"configure:4543: checking for clock_t\" >&5\n+if eval \"test \\\"`echo '$''{'gcc_cv_type_clock_t'+set}'`\\\" = set\"; then\n+  echo $ac_n \"(cached) $ac_c\" 1>&6\n+else\n+  \n+cat > conftest.$ac_ext <<EOF\n+#line 4549 \"configure\"\n+#include \"confdefs.h\"\n+\n+#include \"ansidecl.h\"\n+#include \"system.h\"\n+\n+int main() {\n+clock_t x;\n+; return 0; }\n+EOF\n+if { (eval echo configure:4559: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+  rm -rf conftest*\n+  gcc_cv_type_clock_t=yes\n+else\n+  echo \"configure: failed program was:\" >&5\n+  cat conftest.$ac_ext >&5\n+  rm -rf conftest*\n+  gcc_cv_type_clock_t=no\n+fi\n+rm -f conftest*\n+fi\n+\n+echo \"$ac_t\"\"$gcc_cv_type_clock_t\" 1>&6\n+if test $gcc_cv_type_clock_t = yes; then\n+  cat >> confdefs.h <<\\EOF\n+#define HAVE_CLOCK_T 1\n+EOF\n+\n+fi\n+\n # Restore CFLAGS from before the gcc_AC_NEED_DECLARATIONS tests.\n CFLAGS=\"$saved_CFLAGS\"\n \n # mkdir takes a single argument on some systems. \n echo $ac_n \"checking if mkdir takes one argument\"\"... $ac_c\" 1>&6\n-echo \"configure:4442: checking if mkdir takes one argument\" >&5\n+echo \"configure:4584: checking if mkdir takes one argument\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_mkdir_takes_one_arg'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4447 \"configure\"\n+#line 4589 \"configure\"\n #include \"confdefs.h\"\n \n #include <sys/types.h>\n@@ -4460,7 +4602,7 @@ int main() {\n mkdir (\"foo\", 0);\n ; return 0; }\n EOF\n-if { (eval echo configure:4464: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4606: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   gcc_cv_mkdir_takes_one_arg=no\n else\n@@ -4739,15 +4881,15 @@ fi\n \n \n         echo $ac_n \"checking for strerror in -lcposix\"\"... $ac_c\" 1>&6\n-echo \"configure:4743: checking for strerror in -lcposix\" >&5\n+echo \"configure:4885: checking for strerror in -lcposix\" >&5\n ac_lib_var=`echo cposix'_'strerror | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lcposix  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 4751 \"configure\"\n+#line 4893 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -4758,7 +4900,7 @@ int main() {\n strerror()\n ; return 0; }\n EOF\n-if { (eval echo configure:4762: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:4904: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -4781,12 +4923,12 @@ fi\n   \n \n echo $ac_n \"checking for working const\"\"... $ac_c\" 1>&6\n-echo \"configure:4785: checking for working const\" >&5\n+echo \"configure:4927: checking for working const\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_c_const'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4790 \"configure\"\n+#line 4932 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n@@ -4835,7 +4977,7 @@ ccp = (char const *const *) p;\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4839: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n+if { (eval echo configure:4981: \\\"$ac_compile\\\") 1>&5; (eval $ac_compile) 2>&5; }; then\n   rm -rf conftest*\n   ac_cv_c_const=yes\n else\n@@ -4856,12 +4998,12 @@ EOF\n fi\n \n echo $ac_n \"checking for off_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4860: checking for off_t\" >&5\n+echo \"configure:5002: checking for off_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_off_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4865 \"configure\"\n+#line 5007 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4889,12 +5031,12 @@ EOF\n fi\n \n echo $ac_n \"checking for size_t\"\"... $ac_c\" 1>&6\n-echo \"configure:4893: checking for size_t\" >&5\n+echo \"configure:5035: checking for size_t\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_type_size_t'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4898 \"configure\"\n+#line 5040 \"configure\"\n #include \"confdefs.h\"\n #include <sys/types.h>\n #if STDC_HEADERS\n@@ -4927,17 +5069,17 @@ unistd.h sys/param.h\n do\n ac_safe=`echo \"$ac_hdr\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for $ac_hdr\"\"... $ac_c\" 1>&6\n-echo \"configure:4931: checking for $ac_hdr\" >&5\n+echo \"configure:5073: checking for $ac_hdr\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4936 \"configure\"\n+#line 5078 \"configure\"\n #include \"confdefs.h\"\n #include <$ac_hdr>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:4941: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5083: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -4967,12 +5109,12 @@ done\n strdup __argz_count __argz_stringify __argz_next\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:4971: checking for $ac_func\" >&5\n+echo \"configure:5113: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 4976 \"configure\"\n+#line 5118 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -4995,7 +5137,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:4999: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5141: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5024,12 +5166,12 @@ done\n      for ac_func in stpcpy\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5028: checking for $ac_func\" >&5\n+echo \"configure:5170: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5033 \"configure\"\n+#line 5175 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5052,7 +5194,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5056: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5198: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5086,19 +5228,19 @@ EOF\n \n    if test $ac_cv_header_locale_h = yes; then\n     echo $ac_n \"checking for LC_MESSAGES\"\"... $ac_c\" 1>&6\n-echo \"configure:5090: checking for LC_MESSAGES\" >&5\n+echo \"configure:5232: checking for LC_MESSAGES\" >&5\n if eval \"test \\\"`echo '$''{'am_cv_val_LC_MESSAGES'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5095 \"configure\"\n+#line 5237 \"configure\"\n #include \"confdefs.h\"\n #include <locale.h>\n int main() {\n return LC_MESSAGES\n ; return 0; }\n EOF\n-if { (eval echo configure:5102: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5244: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   am_cv_val_LC_MESSAGES=yes\n else\n@@ -5119,7 +5261,7 @@ EOF\n     fi\n   fi\n    echo $ac_n \"checking whether NLS is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5123: checking whether NLS is requested\" >&5\n+echo \"configure:5265: checking whether NLS is requested\" >&5\n         # Check whether --enable-nls or --disable-nls was given.\n if test \"${enable_nls+set}\" = set; then\n   enableval=\"$enable_nls\"\n@@ -5139,7 +5281,7 @@ fi\n EOF\n \n       echo $ac_n \"checking whether included gettext is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:5143: checking whether included gettext is requested\" >&5\n+echo \"configure:5285: checking whether included gettext is requested\" >&5\n       # Check whether --with-included-gettext or --without-included-gettext was given.\n if test \"${with_included_gettext+set}\" = set; then\n   withval=\"$with_included_gettext\"\n@@ -5158,17 +5300,17 @@ fi\n \n \tac_safe=`echo \"libintl.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for libintl.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5162: checking for libintl.h\" >&5\n+echo \"configure:5304: checking for libintl.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5167 \"configure\"\n+#line 5309 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:5172: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:5314: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -5185,19 +5327,19 @@ fi\n if eval \"test \\\"`echo '$ac_cv_header_'$ac_safe`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libc\"\"... $ac_c\" 1>&6\n-echo \"configure:5189: checking for gettext in libc\" >&5\n+echo \"configure:5331: checking for gettext in libc\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libc'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5194 \"configure\"\n+#line 5336 \"configure\"\n #include \"confdefs.h\"\n #include <libintl.h>\n int main() {\n return (int) gettext (\"\")\n ; return 0; }\n EOF\n-if { (eval echo configure:5201: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5343: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   gt_cv_func_gettext_libc=yes\n else\n@@ -5213,15 +5355,15 @@ echo \"$ac_t\"\"$gt_cv_func_gettext_libc\" 1>&6\n \n \t   if test \"$gt_cv_func_gettext_libc\" != \"yes\"; then\n \t     echo $ac_n \"checking for bindtextdomain in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:5217: checking for bindtextdomain in -lintl\" >&5\n+echo \"configure:5359: checking for bindtextdomain in -lintl\" >&5\n ac_lib_var=`echo intl'_'bindtextdomain | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5225 \"configure\"\n+#line 5367 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5232,7 +5374,7 @@ int main() {\n bindtextdomain()\n ; return 0; }\n EOF\n-if { (eval echo configure:5236: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5378: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5248,20 +5390,20 @@ fi\n if eval \"test \\\"`echo '$ac_cv_lib_'$ac_lib_var`\\\" = yes\"; then\n   echo \"$ac_t\"\"yes\" 1>&6\n   echo $ac_n \"checking for gettext in libintl\"\"... $ac_c\" 1>&6\n-echo \"configure:5252: checking for gettext in libintl\" >&5\n+echo \"configure:5394: checking for gettext in libintl\" >&5\n if eval \"test \\\"`echo '$''{'gt_cv_func_gettext_libintl'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   echo $ac_n \"checking for gettext in -lintl\"\"... $ac_c\" 1>&6\n-echo \"configure:5257: checking for gettext in -lintl\" >&5\n+echo \"configure:5399: checking for gettext in -lintl\" >&5\n ac_lib_var=`echo intl'_'gettext | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-lintl  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5265 \"configure\"\n+#line 5407 \"configure\"\n #include \"confdefs.h\"\n /* Override any gcc2 internal prototype to avoid an error.  */\n /* We use char because int might match the return type of a gcc2\n@@ -5272,7 +5414,7 @@ int main() {\n gettext()\n ; return 0; }\n EOF\n-if { (eval echo configure:5276: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5418: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5315,7 +5457,7 @@ EOF\n \t      # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5319: checking for $ac_word\" >&5\n+echo \"configure:5461: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5349,12 +5491,12 @@ fi\n \t\tfor ac_func in dcgettext\n do\n echo $ac_n \"checking for $ac_func\"\"... $ac_c\" 1>&6\n-echo \"configure:5353: checking for $ac_func\" >&5\n+echo \"configure:5495: checking for $ac_func\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_$ac_func'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5358 \"configure\"\n+#line 5500 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char $ac_func(); below.  */\n@@ -5377,7 +5519,7 @@ $ac_func();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5381: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5523: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_$ac_func=yes\"\n else\n@@ -5404,7 +5546,7 @@ done\n \t\t# Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5408: checking for $ac_word\" >&5\n+echo \"configure:5550: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5440,7 +5582,7 @@ fi\n \t\t# Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5444: checking for $ac_word\" >&5\n+echo \"configure:5586: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5472,15 +5614,15 @@ else\n fi\n \n \t\tcat > conftest.$ac_ext <<EOF\n-#line 5476 \"configure\"\n+#line 5618 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n extern int _nl_msg_cat_cntr;\n \t\t\t       return _nl_msg_cat_cntr\n ; return 0; }\n EOF\n-if { (eval echo configure:5484: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5626: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   CATOBJEXT=.gmo\n \t\t   DATADIRNAME=share\n@@ -5505,7 +5647,7 @@ fi\n \n         if test \"$CATOBJEXT\" = \"NONE\"; then\n \t  echo $ac_n \"checking whether catgets can be used\"\"... $ac_c\" 1>&6\n-echo \"configure:5509: checking whether catgets can be used\" >&5\n+echo \"configure:5651: checking whether catgets can be used\" >&5\n \t  # Check whether --with-catgets or --without-catgets was given.\n if test \"${with_catgets+set}\" = set; then\n   withval=\"$with_catgets\"\n@@ -5518,22 +5660,22 @@ fi\n \n \t  if test \"$nls_cv_use_catgets\" = \"yes\"; then\n \t    \t    echo $ac_n \"checking for main in -li\"\"... $ac_c\" 1>&6\n-echo \"configure:5522: checking for main in -li\" >&5\n+echo \"configure:5664: checking for main in -li\" >&5\n ac_lib_var=`echo i'_'main | sed 'y%./+-%__p_%'`\n if eval \"test \\\"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   ac_save_LIBS=\"$LIBS\"\n LIBS=\"-li  $LIBS\"\n cat > conftest.$ac_ext <<EOF\n-#line 5530 \"configure\"\n+#line 5672 \"configure\"\n #include \"confdefs.h\"\n \n int main() {\n main()\n ; return 0; }\n EOF\n-if { (eval echo configure:5537: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5679: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_lib_$ac_lib_var=yes\"\n else\n@@ -5561,12 +5703,12 @@ else\n fi\n \n \t    echo $ac_n \"checking for catgets\"\"... $ac_c\" 1>&6\n-echo \"configure:5565: checking for catgets\" >&5\n+echo \"configure:5707: checking for catgets\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_func_catgets'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5570 \"configure\"\n+#line 5712 \"configure\"\n #include \"confdefs.h\"\n /* System header to define __stub macros and hopefully few prototypes,\n     which can conflict with char catgets(); below.  */\n@@ -5589,7 +5731,7 @@ catgets();\n \n ; return 0; }\n EOF\n-if { (eval echo configure:5593: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n+if { (eval echo configure:5735: \\\"$ac_link\\\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then\n   rm -rf conftest*\n   eval \"ac_cv_func_catgets=yes\"\n else\n@@ -5611,7 +5753,7 @@ EOF\n \t       # Extract the first word of \"gencat\", so it can be a program name with args.\n set dummy gencat; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5615: checking for $ac_word\" >&5\n+echo \"configure:5757: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GENCAT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5647,7 +5789,7 @@ fi\n \t\t # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5651: checking for $ac_word\" >&5\n+echo \"configure:5793: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5684,7 +5826,7 @@ fi\n \t\t   # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5688: checking for $ac_word\" >&5\n+echo \"configure:5830: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5722,7 +5864,7 @@ fi\n \t\t # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5726: checking for $ac_word\" >&5\n+echo \"configure:5868: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5780,7 +5922,7 @@ fi\n         # Extract the first word of \"msgfmt\", so it can be a program name with args.\n set dummy msgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5784: checking for $ac_word\" >&5\n+echo \"configure:5926: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_MSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5814,7 +5956,7 @@ fi\n         # Extract the first word of \"gmsgfmt\", so it can be a program name with args.\n set dummy gmsgfmt; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5818: checking for $ac_word\" >&5\n+echo \"configure:5960: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_GMSGFMT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5853,7 +5995,7 @@ fi\n         # Extract the first word of \"xgettext\", so it can be a program name with args.\n set dummy xgettext; ac_word=$2\n echo $ac_n \"checking for $ac_word\"\"... $ac_c\" 1>&6\n-echo \"configure:5857: checking for $ac_word\" >&5\n+echo \"configure:5999: checking for $ac_word\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_path_XGETTEXT'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -5952,7 +6094,7 @@ fi\n        LINGUAS=\n      else\n        echo $ac_n \"checking for catalogs to be installed\"\"... $ac_c\" 1>&6\n-echo \"configure:5956: checking for catalogs to be installed\" >&5\n+echo \"configure:6098: checking for catalogs to be installed\" >&5\n        if test \"x$LINGUAS\" = \"x\"; then\n \t LINGUAS=$ALL_LINGUAS\n        else\n@@ -5984,17 +6126,17 @@ echo \"configure:5956: checking for catalogs to be installed\" >&5\n    if test \"$CATOBJEXT\" = \".cat\"; then\n      ac_safe=`echo \"linux/version.h\" | sed 'y%./+-%__p_%'`\n echo $ac_n \"checking for linux/version.h\"\"... $ac_c\" 1>&6\n-echo \"configure:5988: checking for linux/version.h\" >&5\n+echo \"configure:6130: checking for linux/version.h\" >&5\n if eval \"test \\\"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n   cat > conftest.$ac_ext <<EOF\n-#line 5993 \"configure\"\n+#line 6135 \"configure\"\n #include \"confdefs.h\"\n #include <linux/version.h>\n EOF\n ac_try=\"$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out\"\n-{ (eval echo configure:5998: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n+{ (eval echo configure:6140: \\\"$ac_try\\\") 1>&5; (eval $ac_try) 2>&5; }\n ac_err=`grep -v '^ *+' conftest.out | grep -v \"^conftest.${ac_ext}\\$\"`\n if test -z \"$ac_err\"; then\n   rm -rf conftest*\n@@ -6069,7 +6211,7 @@ fi\n \n \n echo $ac_n \"checking whether windows registry support is requested\"\"... $ac_c\" 1>&6\n-echo \"configure:6073: checking whether windows registry support is requested\" >&5\n+echo \"configure:6215: checking whether windows registry support is requested\" >&5\n if test x$enable_win32_registry != xno; then\n   cat >> confdefs.h <<\\EOF\n #define ENABLE_WIN32_REGISTRY 1\n@@ -6098,7 +6240,7 @@ esac\n \n if test x$enable_win32_registry != xno; then\n   echo $ac_n \"checking registry key on windows hosts\"\"... $ac_c\" 1>&6\n-echo \"configure:6102: checking registry key on windows hosts\" >&5\n+echo \"configure:6244: checking registry key on windows hosts\" >&5\n   cat >> confdefs.h <<EOF\n #define WIN32_REGISTRY_KEY \"$gcc_cv_win32_registry_key\"\n EOF\n@@ -6289,7 +6431,7 @@ fi\n \n # Figure out what assembler we will be using.\n echo $ac_n \"checking what assembler to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6293: checking what assembler to use\" >&5\n+echo \"configure:6435: checking what assembler to use\" >&5\n gcc_cv_as=\n gcc_cv_gas_major_version=\n gcc_cv_gas_minor_version=\n@@ -6374,7 +6516,7 @@ fi\n \n # Figure out what nm we will be using.\n echo $ac_n \"checking what nm to use\"\"... $ac_c\" 1>&6\n-echo \"configure:6378: checking what nm to use\" >&5\n+echo \"configure:6520: checking what nm to use\" >&5\n if test -x nm$host_exeext; then\n \tgcc_cv_nm=./nm$host_exeext\n elif test x$host = x$target; then\n@@ -6385,7 +6527,7 @@ echo \"$ac_t\"\"$gcc_cv_nm\" 1>&6\n \n # Figure out what assembler alignment features are present.\n echo $ac_n \"checking assembler alignment features\"\"... $ac_c\" 1>&6\n-echo \"configure:6389: checking assembler alignment features\" >&5\n+echo \"configure:6531: checking assembler alignment features\" >&5\n gcc_cv_as_alignment_features=none\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n \t# Gas version 2.6 and later support for .balign and .p2align.\n@@ -6433,7 +6575,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_alignment_features\" 1>&6\n \n echo $ac_n \"checking assembler subsection support\"\"... $ac_c\" 1>&6\n-echo \"configure:6437: checking assembler subsection support\" >&5\n+echo \"configure:6579: checking assembler subsection support\" >&5\n gcc_cv_as_subsections=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -6473,7 +6615,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_subsections\" 1>&6\n \n echo $ac_n \"checking assembler weak support\"\"... $ac_c\" 1>&6\n-echo \"configure:6477: checking assembler weak support\" >&5\n+echo \"configure:6619: checking assembler weak support\" >&5\n gcc_cv_as_weak=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 2 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -6496,7 +6638,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_weak\" 1>&6\n \n echo $ac_n \"checking assembler hidden support\"\"... $ac_c\" 1>&6\n-echo \"configure:6500: checking assembler hidden support\" >&5\n+echo \"configure:6642: checking assembler hidden support\" >&5\n gcc_cv_as_hidden=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 10 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -6520,7 +6662,7 @@ fi\n echo \"$ac_t\"\"$gcc_cv_as_hidden\" 1>&6\n \n echo $ac_n \"checking assembler leb128 support\"\"... $ac_c\" 1>&6\n-echo \"configure:6524: checking assembler leb128 support\" >&5\n+echo \"configure:6666: checking assembler leb128 support\" >&5\n gcc_cv_as_leb128=no\n if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n   if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 11 -o \"$gcc_cv_gas_major_version\" -gt 2 && grep 'obj_format = elf' ../gas/Makefile > /dev/null; then\n@@ -6567,7 +6709,7 @@ echo \"$ac_t\"\"$gcc_cv_as_leb128\" 1>&6\n case \"$target\" in \n   sparc*-*-*)\n     echo $ac_n \"checking assembler .register pseudo-op support\"\"... $ac_c\" 1>&6\n-echo \"configure:6571: checking assembler .register pseudo-op support\" >&5\n+echo \"configure:6713: checking assembler .register pseudo-op support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_register_pseudo_op'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6595,7 +6737,7 @@ EOF\n     fi\n \n     echo $ac_n \"checking assembler supports -relax\"\"... $ac_c\" 1>&6\n-echo \"configure:6599: checking assembler supports -relax\" >&5\n+echo \"configure:6741: checking assembler supports -relax\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_relax_opt'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6625,7 +6767,7 @@ EOF\n     case \"$tm_file\" in\n     *64*)\n \techo $ac_n \"checking for 64 bit support in assembler ($gcc_cv_as)\"\"... $ac_c\" 1>&6\n-echo \"configure:6629: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n+echo \"configure:6771: checking for 64 bit support in assembler ($gcc_cv_as)\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_flags64'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6670,7 +6812,7 @@ EOF\n \n     if test \"x$gcc_cv_as_flags64\" != xno; then\n \techo $ac_n \"checking for assembler offsetable %lo() support\"\"... $ac_c\" 1>&6\n-echo \"configure:6674: checking for assembler offsetable %lo() support\" >&5\n+echo \"configure:6816: checking for assembler offsetable %lo() support\" >&5\n if eval \"test \\\"`echo '$''{'gcc_cv_as_offsetable_lo10'+set}'`\\\" = set\"; then\n   echo $ac_n \"(cached) $ac_c\" 1>&6\n else\n@@ -6709,7 +6851,7 @@ EOF\n \n   i[34567]86-*-*)\n     echo $ac_n \"checking assembler instructions\"\"... $ac_c\" 1>&6\n-echo \"configure:6713: checking assembler instructions\" >&5\n+echo \"configure:6855: checking assembler instructions\" >&5\n     gcc_cv_as_instructions=\n     if test x$gcc_cv_gas_major_version != x -a x$gcc_cv_gas_minor_version != x; then\n       if test \"$gcc_cv_gas_major_version\" -eq 2 -a \"$gcc_cv_gas_minor_version\" -ge 9 -o \"$gcc_cv_gas_major_version\" -gt 2; then\n@@ -6738,7 +6880,7 @@ EOF\n esac\n \n echo $ac_n \"checking assembler dwarf2 debug_line support\"\"... $ac_c\" 1>&6\n-echo \"configure:6742: checking assembler dwarf2 debug_line support\" >&5\n+echo \"configure:6884: checking assembler dwarf2 debug_line support\" >&5\n gcc_cv_as_dwarf2_debug_line=no\n # ??? Not all targets support dwarf2 debug_line, even within a version\n # of gas.  Moreover, we need to emit a valid instruction to trigger any\n@@ -6928,7 +7070,7 @@ EOF\n \n \n echo $ac_n \"checking whether to enable maintainer-specific portions of Makefiles\"\"... $ac_c\" 1>&6\n-echo \"configure:6932: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n+echo \"configure:7074: checking whether to enable maintainer-specific portions of Makefiles\" >&5\n     # Check whether --enable-maintainer-mode or --disable-maintainer-mode was given.\n if test \"${enable_maintainer_mode+set}\" = set; then\n   enableval=\"$enable_maintainer_mode\""}, {"sha": "f8abfd4b66d91f93b1cc47d25f5be134dab11c35", "filename": "gcc/configure.in", "status": "modified", "additions": 36, "deletions": 2, "changes": 38, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Fconfigure.in", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Fconfigure.in", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfigure.in?ref=c1800ec88e53d47792c9b01672d4feabba209a3c", "patch": "@@ -544,7 +544,7 @@ fi\n dnl Disabled until we have a complete test for buggy enum bitfields.\n dnl gcc_AC_C_ENUM_BF_UNSIGNED\n \n-AC_CHECK_FUNCS(strtoul bsearch popen \\\n+AC_CHECK_FUNCS(strtoul bsearch popen times clock \\\n \tstrchr strrchr kill getrlimit setrlimit atoll atoq \\\n \tsysconf isascii gettimeofday strsignal putc_unlocked fputc_unlocked \\\n \tfputs_unlocked getrusage iconv nl_langinfo lstat)\n@@ -591,7 +591,7 @@ saved_CFLAGS=\"$CFLAGS\"\n CFLAGS=\"$CFLAGS -I${srcdir} -I${srcdir}/../include\"\n gcc_AC_CHECK_DECLS(getenv atol sbrk abort atof getcwd getwd \\\n \tstrsignal putc_unlocked fputs_unlocked strstr environ errno \\\n-\tmalloc realloc calloc free basename getopt, , ,[\n+\tmalloc realloc calloc free basename getopt clock, , ,[\n #include \"ansidecl.h\"\n #include \"system.h\"])\n \n@@ -603,6 +603,40 @@ gcc_AC_CHECK_DECLS(getrlimit setrlimit getrusage, , ,[\n #endif\n ])\n \n+gcc_AC_CHECK_DECLS(times, , ,[\n+#include \"ansidecl.h\"\n+#include \"system.h\"\n+#ifdef HAVE_SYS_TIMES_H\n+#include <sys/times.h>\n+#endif\n+])\n+\n+# More time-related stuff.\n+AC_CACHE_CHECK(for struct tms, ac_cv_struct_tms, [\n+AC_TRY_COMPILE([\n+#include \"ansidecl.h\"\n+#include \"system.h\"\n+#ifdef HAVE_SYS_TIMES_H\n+#include <sys/times.h>\n+#endif\n+], [struct tms tms;], ac_cv_struct_tms=yes, ac_cv_struct_tms=no)])\n+if test $ac_cv_struct_tms = yes; then\n+  AC_DEFINE(HAVE_STRUCT_TMS, 1,\n+  [Define if <sys/times.h> defines struct tms.])\n+fi\n+\n+# use gcc_cv_* here because this doesn't match the behavior of AC_CHECK_TYPE.\n+# revisit after autoconf 2.50.\n+AC_CACHE_CHECK(for clock_t, gcc_cv_type_clock_t, [\n+AC_TRY_COMPILE([\n+#include \"ansidecl.h\"\n+#include \"system.h\"\n+], [clock_t x;], gcc_cv_type_clock_t=yes, gcc_cv_type_clock_t=no)])\n+if test $gcc_cv_type_clock_t = yes; then\n+  AC_DEFINE(HAVE_CLOCK_T, 1,\n+  [Define if <time.h> defines clock_t.])\n+fi\n+\n # Restore CFLAGS from before the gcc_AC_NEED_DECLARATIONS tests.\n CFLAGS=\"$saved_CFLAGS\"\n "}, {"sha": "def57b55cd7c4bbc27a7ff9e1a4f439784805b35", "filename": "gcc/timevar.c", "status": "modified", "additions": 87, "deletions": 73, "changes": 160, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Ftimevar.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/c1800ec88e53d47792c9b01672d4feabba209a3c/gcc%2Ftimevar.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Ftimevar.c?ref=c1800ec88e53d47792c9b01672d4feabba209a3c", "patch": "@@ -26,13 +26,76 @@\n #ifdef HAVE_SYS_TIMES_H\n # include <sys/times.h>\n #endif\n-\n #ifdef HAVE_SYS_RESOURCE_H\n #include <sys/resource.h>\n #endif\n-#ifdef NEED_DECLARATION_GETRUSAGE\n+\n+#ifndef HAVE_CLOCK_T\n+typedef int clock_t;\n+#endif\n+\n+#ifndef HAVE_STRUCT_TMS\n+struct tms\n+{\n+  clock_t tms_utime;\n+  clock_t tms_stime;\n+  clock_t tms_cutime;\n+  clock_t tms_cstime;\n+};\n+#endif\n+\n+#if defined HAVE_DECL_GETRUSAGE && !HAVE_DECL_GETRUSAGE\n extern int getrusage PARAMS ((int, struct rusage *));\n #endif\n+#if defined HAVE_DECL_TIMES && !HAVE_DECL_TIMES\n+extern clock_t times PARAMS ((struct tms *));\n+#endif\n+#if defined HAVE_DECL_CLOCK && !HAVE_DECL_CLOCK\n+extern clock_t clock PARAMS ((void));\n+#endif\n+\n+#ifndef RUSAGE_SELF\n+# define RUSAGE_SELF 0\n+#endif\n+\n+/* Calculation of scale factor to convert ticks to microseconds.\n+   We mustn't use CLOCKS_PER_SEC except with clock().  */\n+#if HAVE_SYSCONF && defined _SC_CLK_TCK\n+# define TICKS_PER_SECOND sysconf (_SC_CLK_TCK) /* POSIX 1003.1-1996 */\n+#else\n+# ifdef CLK_TCK\n+#  define TICKS_PER_SECOND CLK_TCK /* POSIX 1003.1-1988; obsolescent */\n+# else\n+#  ifdef HZ\n+#   define TICKS_PER_SECOND HZ  /* traditional UNIX */\n+#  else\n+#   define TICKS_PER_SECOND 100 /* often the correct value */\n+#  endif\n+# endif\n+#endif\n+\n+#define TICKS_TO_USEC (1000000 / TICKS_PER_SECOND)\n+#define CLOCKS_TO_USEC (1000000 / CLOCKS_PER_SEC)\n+\n+/* Prefer times to getrusage to clock (each gives successively less\n+   information).  */\n+#ifdef HAVE_TIMES\n+# define USE_TIMES\n+# define HAVE_USER_TIME\n+# define HAVE_SYS_TIME\n+# define HAVE_WALL_TIME\n+#else\n+#ifdef HAVE_GETRUSAGE\n+# define USE_GETRUSAGE\n+# define HAVE_USER_TIME\n+# define HAVE_SYS_TIME\n+#else\n+#ifdef HAVE_CLOCK\n+# define USE_CLOCK\n+# define HAVE_USER_TIME\n+#endif\n+#endif\n+#endif\n \n #include \"flags.h\"\n #include \"timevar.h\"\n@@ -114,86 +177,37 @@ get_time (now)\n   if (!TIMEVAR_ENABLE)\n     return;\n \n-#ifdef __BEOS__\n-  /* Nothing.  */\n-#else /* not BeOS */\n-#if defined (_WIN32) && !defined (__CYGWIN__)\n-  if (clock () >= 0)\n-    now->user = clock () * 1000;\n-#define HAVE_USER_TIME\n-\n-#else /* not _WIN32 */\n-#ifdef _SC_CLK_TCK\n-  {\n-    static int tick;\n-    struct tms tms;\n-    if (tick == 0)\n-      tick = 1000000 / sysconf (_SC_CLK_TCK);\n-    now->wall = times (&tms) * tick;\n-    now->user = tms.tms_utime * tick;\n-    now->sys = tms.tms_stime * tick;\n-  }\n-#define HAVE_USER_TIME\n-#define HAVE_SYS_TIME\n-#define HAVE_WALL_TIME\n-\n-#else\n-#ifdef USG\n   {\n+#ifdef USE_TIMES\n+    /* libc is very likely to have snuck a call to sysconf() into one\n+       of the underlying constants, and that can make system calls, so\n+       we have to precompute the value.  Whose wonderful idea was it\n+       to make all those _constants_ variable at run time, anyway?  */\n+    static int ticks_to_usec;\n     struct tms tms;\n-#   if HAVE_SYSCONF && defined _SC_CLK_TCK\n-#    define TICKS_PER_SECOND sysconf (_SC_CLK_TCK) /* POSIX 1003.1-1996 */\n-#   else\n-#    ifdef CLK_TCK\n-#     define TICKS_PER_SECOND CLK_TCK /* POSIX 1003.1-1988; obsolescent */\n-#    else\n-#     define TICKS_PER_SECOND HZ /* traditional UNIX */\n-#    endif\n-#   endif\n-    now->wall = times (&tms) * (1000000 / TICKS_PER_SECOND);\n-    now->user = tms.tms_utime * (1000000 / TICKS_PER_SECOND);\n-    now->sys = tms.tms_stime * (1000000 / TICKS_PER_SECOND);\n-  }\n-#define HAVE_USER_TIME\n-#define HAVE_SYS_TIME\n-#define HAVE_WALL_TIME\n+    if (ticks_to_usec == 0)\n+      ticks_to_usec = TICKS_TO_USEC;\n \n-#else\n-#ifndef VMS\n-  {\n+    now->wall = times (&tms) * ticks_to_usec;\n+    now->user = tms.tms_utime * ticks_to_usec;\n+    now->sys = tms.tms_stime * ticks_to_usec;\n+#endif\n+#ifdef USE_GETRUSAGE\n     struct rusage rusage;\n-    getrusage (0, &rusage);\n+    getrusage (RUSAGE_SELF, &rusage);\n     now->user \n       = rusage.ru_utime.tv_sec * 1000000 + rusage.ru_utime.tv_usec;\n     now->sys \n       = rusage.ru_stime.tv_sec * 1000000 + rusage.ru_stime.tv_usec;\n+#endif\n+#ifdef USE_CLOCK\n+    static int clocks_to_usec;\n+    if (clocks_to_usec == 0)\n+      clocks_to_usec = CLOCKS_TO_USEC;\n+    now->user = clock () * clocks_to_usec;\n+#endif\n   }\n-#define HAVE_USER_TIME\n-#define HAVE_SYS_TIME\n-\n-#else /* VMS */\n-  {\n-    struct\n-      {\n-        int proc_user_time;\n-        int proc_system_time;\n-        int child_user_time;\n-        int child_system_time;\n-      } vms_times;\n-    now->wall = times ((void *) &vms_times) * 10000;\n-    now->user = vms_times.proc_user_time * 10000;\n-    now->sys = vms_times.proc_system_time * 10000;\n-  }\n-#define HAVE_USER_TIME\n-#define HAVE_SYS_TIME\n-#define HAVE_WALL_TIME\n-\n-#endif\t/* VMS */\n-#endif\t/* USG */\n-#endif  /* _SC_CLK_TCK */\n-#endif\t/* _WIN32 */\n-#endif\t/* __BEOS__ */\n-}  \n+}\n \n /* Add the difference between STOP_TIME and START_TIME to TIMER.  */\n "}]}