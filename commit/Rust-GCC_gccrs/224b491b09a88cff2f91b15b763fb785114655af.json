{"sha": "224b491b09a88cff2f91b15b763fb785114655af", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjI0YjQ5MWIwOWE4OGNmZjJmOTFiMTViNzYzZmI3ODUxMTQ2NTVhZg==", "commit": {"author": {"name": "Nathan Sidwell", "email": "nathan@codesourcery.com", "date": "2015-06-23T13:05:15Z"}, "committer": {"name": "Nathan Sidwell", "email": "nathan@gcc.gnu.org", "date": "2015-06-23T13:05:15Z"}, "message": "nvptx.md (sel_true<mode>, [...]): New conditional selects.\n\n\t* config/nvptx/nvptx.md (sel_true<mode>, sel_false<mode>): New\n\tconditional selects.\n\t(setcc_int<mode>, setcc_float<mode>): Reformat.\n\nFrom-SVN: r224839", "tree": {"sha": "183b68a0ad70ab7150698f74c89996a9300cfec5", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/183b68a0ad70ab7150698f74c89996a9300cfec5"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/224b491b09a88cff2f91b15b763fb785114655af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/224b491b09a88cff2f91b15b763fb785114655af", "html_url": "https://github.com/Rust-GCC/gccrs/commit/224b491b09a88cff2f91b15b763fb785114655af", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/224b491b09a88cff2f91b15b763fb785114655af/comments", "author": null, "committer": null, "parents": [{"sha": "9737efaf7e8551eae41e02b5ea61a80a09206f64", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9737efaf7e8551eae41e02b5ea61a80a09206f64", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9737efaf7e8551eae41e02b5ea61a80a09206f64"}], "stats": {"total": 58, "additions": 50, "deletions": 8}, "files": [{"sha": "f7d60f5306070aeafac37a014ce677e8717619cb", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/224b491b09a88cff2f91b15b763fb785114655af/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/224b491b09a88cff2f91b15b763fb785114655af/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=224b491b09a88cff2f91b15b763fb785114655af", "patch": "@@ -1,3 +1,9 @@\n+2015-06-23  Nathan Sidwell  <nathan@codesourcery.com>\n+\n+\t* config/nvptx/nvptx.md (sel_true<mode>, sel_false<mode>): New\n+\tconditional selects.\n+\t(setcc_int<mode>, setcc_float<mode>): Reformat.\n+\n 2015-06-23  Marek Polacek  <polacek@redhat.com>\n \n \t* match.pd ((x + y) - (x | y) -> x & y,"}, {"sha": "a4df53b91e7e232f64bad23294e1e6e93c8c89b7", "filename": "gcc/config/nvptx/nvptx.md", "status": "modified", "additions": 44, "deletions": 8, "changes": 52, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/224b491b09a88cff2f91b15b763fb785114655af/gcc%2Fconfig%2Fnvptx%2Fnvptx.md", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/224b491b09a88cff2f91b15b763fb785114655af/gcc%2Fconfig%2Fnvptx%2Fnvptx.md", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fnvptx%2Fnvptx.md?ref=224b491b09a88cff2f91b15b763fb785114655af", "patch": "@@ -869,35 +869,71 @@\n   \"\"\n   \"%.\\\\tselp%t0 %0,-1,0,%1;\")\n \n+(define_insn \"sel_true<mode>\"\n+  [(set (match_operand:HSDIM 0 \"nvptx_register_operand\" \"=R\")\n+        (if_then_else:HSDIM\n+\t  (ne (match_operand:BI 1 \"nvptx_register_operand\" \"R\") (const_int 0))\n+\t  (match_operand:HSDIM 2 \"nvptx_nonmemory_operand\" \"Ri\")\n+\t  (match_operand:HSDIM 3 \"nvptx_nonmemory_operand\" \"Ri\")))]\n+  \"\"\n+  \"%.\\\\tselp%t0\\\\t%0, %2, %3, %1;\")\n+\n+(define_insn \"sel_true<mode>\"\n+  [(set (match_operand:SDFM 0 \"nvptx_register_operand\" \"=R\")\n+        (if_then_else:SDFM\n+\t  (ne (match_operand:BI 1 \"nvptx_register_operand\" \"R\") (const_int 0))\n+\t  (match_operand:SDFM 2 \"nvptx_nonmemory_operand\" \"RF\")\n+\t  (match_operand:SDFM 3 \"nvptx_nonmemory_operand\" \"RF\")))]\n+  \"\"\n+  \"%.\\\\tselp%t0\\\\t%0, %2, %3, %1;\")\n+\n+(define_insn \"sel_false<mode>\"\n+  [(set (match_operand:HSDIM 0 \"nvptx_register_operand\" \"=R\")\n+        (if_then_else:HSDIM\n+\t  (eq (match_operand:BI 1 \"nvptx_register_operand\" \"R\") (const_int 0))\n+\t  (match_operand:HSDIM 2 \"nvptx_nonmemory_operand\" \"Ri\")\n+\t  (match_operand:HSDIM 3 \"nvptx_nonmemory_operand\" \"Ri\")))]\n+  \"\"\n+  \"%.\\\\tselp%t0\\\\t%0, %3, %2, %1;\")\n+\n+(define_insn \"sel_false<mode>\"\n+  [(set (match_operand:SDFM 0 \"nvptx_register_operand\" \"=R\")\n+        (if_then_else:SDFM\n+\t  (eq (match_operand:BI 1 \"nvptx_register_operand\" \"R\") (const_int 0))\n+\t  (match_operand:SDFM 2 \"nvptx_nonmemory_operand\" \"RF\")\n+\t  (match_operand:SDFM 3 \"nvptx_nonmemory_operand\" \"RF\")))]\n+  \"\"\n+  \"%.\\\\tselp%t0\\\\t%0, %3, %2, %1;\")\n+\n (define_insn \"setcc_int<mode>\"\n   [(set (match_operand:SI 0 \"nvptx_register_operand\" \"=R\")\n \t(match_operator:SI 1 \"nvptx_comparison_operator\"\n-\t\t\t   [(match_operand:HSDIM 2 \"nvptx_register_operand\" \"R\")\n-\t\t\t    (match_operand:HSDIM 3 \"nvptx_nonmemory_operand\" \"Ri\")]))]\n+\t  [(match_operand:HSDIM 2 \"nvptx_register_operand\" \"R\")\n+\t   (match_operand:HSDIM 3 \"nvptx_nonmemory_operand\" \"Ri\")]))]\n   \"\"\n   \"%.\\\\tset%t0%c1 %0,%2,%3;\")\n \n (define_insn \"setcc_int<mode>\"\n   [(set (match_operand:SI 0 \"nvptx_register_operand\" \"=R\")\n \t(match_operator:SI 1 \"nvptx_float_comparison_operator\"\n-\t\t\t   [(match_operand:SDFM 2 \"nvptx_register_operand\" \"R\")\n-\t\t\t    (match_operand:SDFM 3 \"nvptx_nonmemory_operand\" \"RF\")]))]\n+\t   [(match_operand:SDFM 2 \"nvptx_register_operand\" \"R\")\n+\t    (match_operand:SDFM 3 \"nvptx_nonmemory_operand\" \"RF\")]))]\n   \"\"\n   \"%.\\\\tset%t0%c1 %0,%2,%3;\")\n \n (define_insn \"setcc_float<mode>\"\n   [(set (match_operand:SF 0 \"nvptx_register_operand\" \"=R\")\n \t(match_operator:SF 1 \"nvptx_comparison_operator\"\n-\t\t\t   [(match_operand:HSDIM 2 \"nvptx_register_operand\" \"R\")\n-\t\t\t    (match_operand:HSDIM 3 \"nvptx_nonmemory_operand\" \"Ri\")]))]\n+\t   [(match_operand:HSDIM 2 \"nvptx_register_operand\" \"R\")\n+\t    (match_operand:HSDIM 3 \"nvptx_nonmemory_operand\" \"Ri\")]))]\n   \"\"\n   \"%.\\\\tset%t0%c1 %0,%2,%3;\")\n \n (define_insn \"setcc_float<mode>\"\n   [(set (match_operand:SF 0 \"nvptx_register_operand\" \"=R\")\n \t(match_operator:SF 1 \"nvptx_float_comparison_operator\"\n-\t\t\t   [(match_operand:SDFM 2 \"nvptx_register_operand\" \"R\")\n-\t\t\t    (match_operand:SDFM 3 \"nvptx_nonmemory_operand\" \"RF\")]))]\n+\t   [(match_operand:SDFM 2 \"nvptx_register_operand\" \"R\")\n+\t    (match_operand:SDFM 3 \"nvptx_nonmemory_operand\" \"RF\")]))]\n   \"\"\n   \"%.\\\\tset%t0%c1 %0,%2,%3;\")\n "}]}