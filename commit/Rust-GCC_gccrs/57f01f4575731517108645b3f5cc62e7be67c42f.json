{"sha": "57f01f4575731517108645b3f5cc62e7be67c42f", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NTdmMDFmNDU3NTczMTUxNzEwODY0NWIzZjVjYzYyZTdiZTY3YzQyZg==", "commit": {"author": {"name": "Jason Merrill", "email": "jason@yorick.cygnus.com", "date": "1998-06-17T23:51:41Z"}, "committer": {"name": "Jason Merrill", "email": "jason@gcc.gnu.org", "date": "1998-06-17T23:51:41Z"}, "message": "class.c (finish_struct): Make conflicting use of id a pedwarn.\n\n\t* class.c (finish_struct): Make conflicting use of id a pedwarn.\n\t* decl.c (pushdecl_class_level): Likewise.\n\nFrom-SVN: r20552", "tree": {"sha": "92b9bd20ba7b98a2679d24c1e3820120a4512fa0", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/92b9bd20ba7b98a2679d24c1e3820120a4512fa0"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/57f01f4575731517108645b3f5cc62e7be67c42f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57f01f4575731517108645b3f5cc62e7be67c42f", "html_url": "https://github.com/Rust-GCC/gccrs/commit/57f01f4575731517108645b3f5cc62e7be67c42f", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/57f01f4575731517108645b3f5cc62e7be67c42f/comments", "author": null, "committer": null, "parents": [{"sha": "ca8c3b37127de3e245375f9dec492e913b675aeb", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/ca8c3b37127de3e245375f9dec492e913b675aeb", "html_url": "https://github.com/Rust-GCC/gccrs/commit/ca8c3b37127de3e245375f9dec492e913b675aeb"}], "stats": {"total": 27, "additions": 18, "deletions": 9}, "files": [{"sha": "5218f1b7c64c42d1588a4120eaa662ca2729056d", "filename": "gcc/cp/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57f01f4575731517108645b3f5cc62e7be67c42f/gcc%2Fcp%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57f01f4575731517108645b3f5cc62e7be67c42f/gcc%2Fcp%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2FChangeLog?ref=57f01f4575731517108645b3f5cc62e7be67c42f", "patch": "@@ -1,3 +1,8 @@\n+1998-06-17  Jason Merrill  <jason@yorick.cygnus.com>\n+\n+\t* class.c (finish_struct): Make conflicting use of id a pedwarn.\n+\t* decl.c (pushdecl_class_level): Likewise.\n+\n 1998-06-17  Mark Mitchell  <mark@markmitchell.com>\n \n \t* pt.c (convert_nontype_argument): Issue an error when presented"}, {"sha": "0b3e2e02b8562d3b64a484757f7dcc51fad6196c", "filename": "gcc/cp/class.c", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57f01f4575731517108645b3f5cc62e7be67c42f/gcc%2Fcp%2Fclass.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57f01f4575731517108645b3f5cc62e7be67c42f/gcc%2Fcp%2Fclass.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fclass.c?ref=57f01f4575731517108645b3f5cc62e7be67c42f", "patch": "@@ -4300,7 +4300,9 @@ finish_struct (t, list_of_fieldlists, attributes, warn_anon)\n \t      TREE_PROTECTED (DECL_RESULT (x)) = TREE_PROTECTED (x);\n \t    }\n \n-\t  /* Check for inconsistent use of this name in the class body.\n+\t  /* A name N used in a class S shall refer to the same declaration\n+\t     in its context and when re-evaluated in the completed scope of S.\n+\n              Enums, types and static vars have already been checked.  */\n \t  if (TREE_CODE (x) != TYPE_DECL && TREE_CODE (x) != USING_DECL\n \t      && ! (TREE_CODE (x) == TEMPLATE_DECL\n@@ -4325,10 +4327,10 @@ finish_struct (t, list_of_fieldlists, attributes, warn_anon)\n \t\t  && !(TREE_CODE (icv) == TYPE_DECL\n \t\t       && DECL_CONTEXT (icv) == t))\n \t\t{\n-\t\t  cp_error_at (\"declaration of identifier `%D' as `%+#D'\",\n-\t\t\t       name, x);\n-\t\t  cp_error_at (\"conflicts with other use in class as `%#D'\",\n-\t\t\t       icv);\n+\t\t  cp_pedwarn_at (\"declaration of identifier `%D' as `%+#D'\",\n+\t\t\t\t name, x);\n+\t\t  cp_pedwarn_at (\"conflicts with other use in class as `%#D'\",\n+\t\t\t\t icv);\n \t\t}\n \t    }\n "}, {"sha": "1aaa3de7e223034931fb4bdcefd92fb4e071f30f", "filename": "gcc/cp/decl.c", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/57f01f4575731517108645b3f5cc62e7be67c42f/gcc%2Fcp%2Fdecl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/57f01f4575731517108645b3f5cc62e7be67c42f/gcc%2Fcp%2Fdecl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcp%2Fdecl.c?ref=57f01f4575731517108645b3f5cc62e7be67c42f", "patch": "@@ -3726,7 +3726,9 @@ pushdecl_class_level (x)\n     {\n       if (TYPE_BEING_DEFINED (current_class_type))\n \t{\n-\t  /* Check for inconsistent use of this name in the class body.\n+\t  /* A name N used in a class S shall refer to the same declaration\n+\t     in its context and when re-evaluated in the completed scope of S.\n+\n \t     Types, enums, and static vars are checked here; other\n \t     members are checked in finish_struct.  */\n \t  tree icv = IDENTIFIER_CLASS_VALUE (name);\n@@ -3738,9 +3740,9 @@ pushdecl_class_level (x)\n \t      && !(DECL_DECLARES_TYPE_P (icv)\n \t\t   && DECL_CONTEXT (icv) == current_class_type))\n \t    {\n-\t      cp_error (\"declaration of identifier `%D' as `%#D'\", name, x);\n-\t      cp_error_at (\"conflicts with previous use in class as `%#D'\",\n-\t\t\t   icv);\n+\t      cp_pedwarn (\"declaration of identifier `%D' as `%#D'\", name, x);\n+\t      cp_pedwarn_at (\"conflicts with previous use in class as `%#D'\",\n+\t\t\t     icv);\n \t    }\n \t}\n "}]}