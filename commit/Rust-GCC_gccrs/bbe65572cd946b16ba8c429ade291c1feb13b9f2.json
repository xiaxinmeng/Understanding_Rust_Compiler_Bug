{"sha": "bbe65572cd946b16ba8c429ade291c1feb13b9f2", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6YmJlNjU1NzJjZDk0NmIxNmJhOGM0MjlhZGUyOTFjMWZlYjEzYjlmMg==", "commit": {"author": {"name": "Joseph Myers", "email": "jsm28@cam.ac.uk", "date": "2000-07-31T13:11:39Z"}, "committer": {"name": "Jeff Law", "email": "law@gcc.gnu.org", "date": "2000-07-31T13:11:39Z"}, "message": "c-decl.c (get_parm_info): Don't treat 'const void'...\n\n\t* c-decl.c (get_parm_info): Don't treat 'const void', 'volatile\n\tvoid' or 'register void' as being the special case of 'void' alone\n\tin a parameter list.\n\nFrom-SVN: r35377", "tree": {"sha": "454bbd6470d9978e4e5bb45bab86ab45365815a9", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/454bbd6470d9978e4e5bb45bab86ab45365815a9"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/bbe65572cd946b16ba8c429ade291c1feb13b9f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbe65572cd946b16ba8c429ade291c1feb13b9f2", "html_url": "https://github.com/Rust-GCC/gccrs/commit/bbe65572cd946b16ba8c429ade291c1feb13b9f2", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/bbe65572cd946b16ba8c429ade291c1feb13b9f2/comments", "author": {"login": "jsm28", "id": 10537793, "node_id": "MDQ6VXNlcjEwNTM3Nzkz", "avatar_url": "https://avatars.githubusercontent.com/u/10537793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsm28", "html_url": "https://github.com/jsm28", "followers_url": "https://api.github.com/users/jsm28/followers", "following_url": "https://api.github.com/users/jsm28/following{/other_user}", "gists_url": "https://api.github.com/users/jsm28/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsm28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsm28/subscriptions", "organizations_url": "https://api.github.com/users/jsm28/orgs", "repos_url": "https://api.github.com/users/jsm28/repos", "events_url": "https://api.github.com/users/jsm28/events{/privacy}", "received_events_url": "https://api.github.com/users/jsm28/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "b0c4bfae2185102b22669c3ce92f5fd92a237b31", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b0c4bfae2185102b22669c3ce92f5fd92a237b31", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b0c4bfae2185102b22669c3ce92f5fd92a237b31"}], "stats": {"total": 14, "additions": 13, "deletions": 1}, "files": [{"sha": "38d73d9ab17585af20121bb4463643622db570d2", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbe65572cd946b16ba8c429ade291c1feb13b9f2/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbe65572cd946b16ba8c429ade291c1feb13b9f2/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=bbe65572cd946b16ba8c429ade291c1feb13b9f2", "patch": "@@ -1,5 +1,9 @@\n 2000-07-31  Joseph S. Myers  <jsm28@cam.ac.uk>\n \n+\t* c-decl.c (get_parm_info): Don't treat 'const void', 'volatile\n+\tvoid' or 'register void' as being the special case of 'void' alone\n+\tin a parameter list.\n+\n \t* c-typeck.c (build_c_cast): Change -Wcast-qual pedwarn for\n \tdiscarding qualifiers into a plain warning.\n "}, {"sha": "34a8f4207a106da777d170f1492753cc3f811f81", "filename": "gcc/c-decl.c", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/bbe65572cd946b16ba8c429ade291c1feb13b9f2/gcc%2Fc-decl.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/bbe65572cd946b16ba8c429ade291c1feb13b9f2/gcc%2Fc-decl.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fc-decl.c?ref=bbe65572cd946b16ba8c429ade291c1feb13b9f2", "patch": "@@ -4985,10 +4985,18 @@ get_parm_info (void_at_end)\n   tree new_parms = 0;\n   tree order = current_binding_level->parm_order;\n \n-  /* Just `void' (and no ellipsis) is special.  There are really no parms.  */\n+  /* Just `void' (and no ellipsis) is special.  There are really no parms.\n+     But if the `void' is qualified (by `const' or `volatile') or has a\n+     storage class specifier (`register'), then the behavior is undefined;\n+     by not counting it as the special case of `void' we will cause an\n+     error later.  Typedefs for `void' are OK (see DR#157).\n+  */\n   if (void_at_end && parms != 0\n       && TREE_CHAIN (parms) == 0\n       && VOID_TYPE_P (TREE_TYPE (parms))\n+      && ! TREE_THIS_VOLATILE (parms)\n+      && ! TREE_READONLY (parms)\n+      && ! DECL_REGISTER (parms)\n       && DECL_NAME (parms) == 0)\n     {\n       parms = NULL_TREE;"}]}