{"sha": "9e4515539baf536a4ed48c453c955cae0e4b0f03", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWU0NTE1NTM5YmFmNTM2YTRlZDQ4YzQ1M2M5NTVjYWUwZTRiMGYwMw==", "commit": {"author": {"name": "Benjamin Kosnik", "email": "bkoz@redhat.com", "date": "2007-01-24T15:03:40Z"}, "committer": {"name": "Benjamin Kosnik", "email": "bkoz@gcc.gnu.org", "date": "2007-01-24T15:03:40Z"}, "message": "PR libstdc++/29722 continued\n\n2007-01-24  Benjamin Kosnik  <bkoz@redhat.com>\n\n\tPR libstdc++/29722 continued\n\t* testsuite/lib/libstdc++.exp (v3_target_compile_as_c): Add\n\tlibsupc++ library directory.\n\t* testsuite/abi/cxx_runtime_only_linkage.cc: Remove hard-coded\n\tpath specification.\n\nFrom-SVN: r121117", "tree": {"sha": "c35279ea30a247aedbe505156e1d1de4aa065832", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/c35279ea30a247aedbe505156e1d1de4aa065832"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9e4515539baf536a4ed48c453c955cae0e4b0f03", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e4515539baf536a4ed48c453c955cae0e4b0f03", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9e4515539baf536a4ed48c453c955cae0e4b0f03", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9e4515539baf536a4ed48c453c955cae0e4b0f03/comments", "author": null, "committer": null, "parents": [{"sha": "f767122b2eba529a485129386dc41ecfcc07cce4", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/f767122b2eba529a485129386dc41ecfcc07cce4", "html_url": "https://github.com/Rust-GCC/gccrs/commit/f767122b2eba529a485129386dc41ecfcc07cce4"}], "stats": {"total": 21, "additions": 18, "deletions": 3}, "files": [{"sha": "ad5ab8d55aa80989849b529793d253edea43ae44", "filename": "libstdc++-v3/ChangeLog", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e4515539baf536a4ed48c453c955cae0e4b0f03/libstdc%2B%2B-v3%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e4515539baf536a4ed48c453c955cae0e4b0f03/libstdc%2B%2B-v3%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2FChangeLog?ref=9e4515539baf536a4ed48c453c955cae0e4b0f03", "patch": "@@ -1,3 +1,11 @@\n+2007-01-24  Benjamin Kosnik  <bkoz@redhat.com>\n+\n+\tPR libstdc++/29722 continued\n+\t* testsuite/lib/libstdc++.exp (v3_target_compile_as_c): Add\n+\tlibsupc++ library directory.\n+\t* testsuite/abi/cxx_runtime_only_linkage.cc: Remove hard-coded\n+\tpath specification.\n+\t\n 2007-01-24  Andreas Krebbel  <krebbel1@de.ibm.com>\n \n \t* libsupc++/eh_personality.cc (parse_lsda_header, check_exception_spec,"}, {"sha": "30e53848e7e1d081cc0b5bf402d45e8f9217e359", "filename": "libstdc++-v3/testsuite/abi/cxx_runtime_only_linkage.cc", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e4515539baf536a4ed48c453c955cae0e4b0f03/libstdc%2B%2B-v3%2Ftestsuite%2Fabi%2Fcxx_runtime_only_linkage.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e4515539baf536a4ed48c453c955cae0e4b0f03/libstdc%2B%2B-v3%2Ftestsuite%2Fabi%2Fcxx_runtime_only_linkage.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Fabi%2Fcxx_runtime_only_linkage.cc?ref=9e4515539baf536a4ed48c453c955cae0e4b0f03", "patch": "@@ -1,6 +1,6 @@\n // { dg-do link }\n-// { dg-options \"-x c -L../libsupc++/.libs -lsupc++\" }\n-// Copyright (C) 2006 Free Software Foundation, Inc.\n+// { dg-options \"-x c -lsupc++\" }\n+// Copyright (C) 2006, 2007 Free Software Foundation, Inc.\n //\n // This file is part of the GNU ISO C++ Library.  This library is free\n // software; you can redistribute it and/or modify it under the"}, {"sha": "9308fa562c37404b442fa676d94f387fa5b65ea2", "filename": "libstdc++-v3/testsuite/lib/libstdc++.exp", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9e4515539baf536a4ed48c453c955cae0e4b0f03/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9e4515539baf536a4ed48c453c955cae0e4b0f03/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/libstdc%2B%2B-v3%2Ftestsuite%2Flib%2Flibstdc%2B%2B.exp?ref=9e4515539baf536a4ed48c453c955cae0e4b0f03", "patch": "@@ -1,6 +1,6 @@\n # libstdc++ \"tool init file\" for DejaGNU\n \n-# Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006\n+# Copyright (C) 2001, 2002, 2003, 2004, 2005, 2006, 2007\n # Free Software Foundation, Inc.\n #\n # This program is free software; you can redistribute it and/or modify\n@@ -359,6 +359,7 @@ proc v3_target_compile_as_c { source dest type options } {\n     global wrap_flags\n     global includes\n     global flags_file\n+    global blddir\n \n     if { [target_info needs_status_wrapper] != \"\" && [info exists gluefile] } {\n         lappend options \"libs=${gluefile}\"\n@@ -383,8 +384,14 @@ proc v3_target_compile_as_c { source dest type options } {\n \tset includesbase \"${comp_base_dir}/include/c++/${version}\"\n \tset includestarget \"${includesbase}/${machine}\"\n \tset cc_final [concat $cc_final \"-I$includesbase -I$includestarget\"]\n+\n+        set libsup \"${comp_base_dir}/lib\"\n+    } else {\n+        set libsup \"${blddir}/libsupc++/.libs\"\n     }\n \n+    set cc_final [concat $cc_final \"-L$libsup\"]\n+\n     lappend options \"compiler=$cc_final\"\n     lappend options \"timeout=600\"\n "}]}