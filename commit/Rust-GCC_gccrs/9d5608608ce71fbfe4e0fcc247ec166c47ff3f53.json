{"sha": "9d5608608ce71fbfe4e0fcc247ec166c47ff3f53", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OWQ1NjA4NjA4Y2U3MWZiZmU0ZTBmY2MyNDdlYzE2NmM0N2ZmM2Y1Mw==", "commit": {"author": {"name": "Jan Hubicka", "email": "jh@suse.cz", "date": "2002-01-12T17:02:43Z"}, "committer": {"name": "Jan Hubicka", "email": "hubicka@gcc.gnu.org", "date": "2002-01-12T17:02:43Z"}, "message": "unroll.c (final_reg_note_copy): Avoid crash on REG_LABEL note referencing outside.\n\n\t* unroll.c (final_reg_note_copy): Avoid crash on REG_LABEL note\n\treferencing outside.\n\nFrom-SVN: r48803", "tree": {"sha": "61f241d1c36fab939b7f1d377960136cb3f3fff7", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/61f241d1c36fab939b7f1d377960136cb3f3fff7"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53", "html_url": "https://github.com/Rust-GCC/gccrs/commit/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53/comments", "author": null, "committer": null, "parents": [{"sha": "a426c92e8f26a584a5fe782cca0f8524e10eab46", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/a426c92e8f26a584a5fe782cca0f8524e10eab46", "html_url": "https://github.com/Rust-GCC/gccrs/commit/a426c92e8f26a584a5fe782cca0f8524e10eab46"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "22ee1b1df95f5d447c07c93b59fa2e176a45ec3f", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=9d5608608ce71fbfe4e0fcc247ec166c47ff3f53", "patch": "@@ -1,3 +1,8 @@\n+Sat Jan 12 17:38:11 CET 2002  Jan Hubicka  <jh@suse.cz>\n+\n+\t* unroll.c (final_reg_note_copy): Avoid crash on REG_LABEL note\n+\treferencing outside.\n+\n Sat Jan 12 08:54:51 2002  Richard Kenner  <kenner@vlsi1.ultra.nyu.edu>\n \n \t* diagnostic.c (warn_deprecated_use): Rework to lower indentation."}, {"sha": "aa1b2c684482351d5852d7a01dddfa662b16a945", "filename": "gcc/unroll.c", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53/gcc%2Funroll.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/9d5608608ce71fbfe4e0fcc247ec166c47ff3f53/gcc%2Funroll.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Funroll.c?ref=9d5608608ce71fbfe4e0fcc247ec166c47ff3f53", "patch": "@@ -1741,11 +1741,16 @@ final_reg_note_copy (notesp, map)\n \t    {\n \t      rtx insn = map->insn_map[INSN_UID (XEXP (note, 0))];\n \n-\t      /* If we failed to remap the note, something is awry.  */\n+\t      /* If we failed to remap the note, something is awry.\n+\t\t Allow REG_LABEL as it may reference label outside\n+\t\t the unrolled loop.  */\n \t      if (!insn)\n-\t\tabort ();\n-\n-\t      XEXP (note, 0) = insn;\n+\t\t{\n+\t\t  if (REG_NOTE_KIND (note) != REG_LABEL)\n+\t\t    abort ();\n+\t\t}\n+\t      else\n+\t        XEXP (note, 0) = insn;\n \t    }\n \t}\n "}]}