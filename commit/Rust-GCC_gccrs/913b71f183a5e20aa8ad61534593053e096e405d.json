{"sha": "913b71f183a5e20aa8ad61534593053e096e405d", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6OTEzYjcxZjE4M2E1ZTIwYWE4YWQ2MTUzNDU5MzA1M2UwOTZlNDA1ZA==", "commit": {"author": {"name": "Trevor Saunders", "email": "tbsaunde+gcc@tbsaunde.org", "date": "2015-08-21T01:14:59Z"}, "committer": {"name": "Trevor Saunders", "email": "tbsaunde@gcc.gnu.org", "date": "2015-08-21T01:14:59Z"}, "message": "remove another #if for HAVE_cc0\n\ngcc/ChangeLog:\n\n2015-08-20  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n\n\t* reorg.c (relax_delay_slots): Don't use #if to check value of\n\tHAVE_cc0.\n\nFrom-SVN: r227050", "tree": {"sha": "1ad11b5be857c590795e4e70b426a9fd07f93184", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/1ad11b5be857c590795e4e70b426a9fd07f93184"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/913b71f183a5e20aa8ad61534593053e096e405d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/913b71f183a5e20aa8ad61534593053e096e405d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/913b71f183a5e20aa8ad61534593053e096e405d", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/913b71f183a5e20aa8ad61534593053e096e405d/comments", "author": null, "committer": null, "parents": [{"sha": "e1f60ccfab4f48ee996cf11f80b8baeee371def8", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e1f60ccfab4f48ee996cf11f80b8baeee371def8", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e1f60ccfab4f48ee996cf11f80b8baeee371def8"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "5debccad1081118eea4e06fd58fb796e68c91e92", "filename": "gcc/ChangeLog", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913b71f183a5e20aa8ad61534593053e096e405d/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913b71f183a5e20aa8ad61534593053e096e405d/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=913b71f183a5e20aa8ad61534593053e096e405d", "patch": "@@ -1,3 +1,8 @@\n+2015-08-20  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n+\n+\t* reorg.c (relax_delay_slots): Don't use #if to check value of\n+\tHAVE_cc0.\n+\n 2015-08-20  Trevor Saunders  <tbsaunde+gcc@tbsaunde.org>\n \n \t* genconfig.c (main): Always define HAVE_CONDITIONAL_EXECUTION."}, {"sha": "cdaa60cda9ebb82b612dded4fdf15ea5a1400047", "filename": "gcc/reorg.c", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/913b71f183a5e20aa8ad61534593053e096e405d/gcc%2Freorg.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/913b71f183a5e20aa8ad61534593053e096e405d/gcc%2Freorg.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Freorg.c?ref=913b71f183a5e20aa8ad61534593053e096e405d", "patch": "@@ -3445,15 +3445,13 @@ relax_delay_slots (rtx_insn *first)\n \t  && ! condjump_in_parallel_p (delay_jump_insn)\n \t  && prev_active_insn (target_label) == insn\n \t  && ! BARRIER_P (prev_nonnote_insn (target_label))\n-#if HAVE_cc0\n \t  /* If the last insn in the delay slot sets CC0 for some insn,\n \t     various code assumes that it is in a delay slot.  We could\n \t     put it back where it belonged and delete the register notes,\n \t     but it doesn't seem worthwhile in this uncommon case.  */\n-\t  && ! find_reg_note (XVECEXP (pat, 0, XVECLEN (pat, 0) - 1),\n-\t\t\t      REG_CC_USER, NULL_RTX)\n-#endif\n-\t  )\n+\t  && (!HAVE_cc0\n+\t      || ! find_reg_note (XVECEXP (pat, 0, XVECLEN (pat, 0) - 1),\n+\t\t\t\t  REG_CC_USER, NULL_RTX)))\n \t{\n \t  rtx_insn *after;\n \t  int i;"}]}