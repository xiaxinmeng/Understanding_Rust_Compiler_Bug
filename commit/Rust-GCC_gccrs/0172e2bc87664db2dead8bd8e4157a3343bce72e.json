{"sha": "0172e2bc87664db2dead8bd8e4157a3343bce72e", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MDE3MmUyYmM4NzY2NGRiMmRlYWQ4YmQ4ZTQxNTdhMzM0M2JjZTcyZQ==", "commit": {"author": {"name": "Alexandre Oliva", "email": "oliva@lsd.ic.unicamp.br", "date": "2000-02-27T06:24:27Z"}, "committer": {"name": "Alexandre Oliva", "email": "aoliva@gcc.gnu.org", "date": "2000-02-27T06:24:27Z"}, "message": "* cpplib.c (do_pragma): Accept #pragma without consecutive token.\n\nFrom-SVN: r32211", "tree": {"sha": "51cd086d3197fa1f9e631791825f36792ad11a47", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/51cd086d3197fa1f9e631791825f36792ad11a47"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/0172e2bc87664db2dead8bd8e4157a3343bce72e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0172e2bc87664db2dead8bd8e4157a3343bce72e", "html_url": "https://github.com/Rust-GCC/gccrs/commit/0172e2bc87664db2dead8bd8e4157a3343bce72e", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/0172e2bc87664db2dead8bd8e4157a3343bce72e/comments", "author": null, "committer": null, "parents": [{"sha": "22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21", "html_url": "https://github.com/Rust-GCC/gccrs/commit/22e92ac3b66eb7aa4d43178ec6d629bccc97cd21"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "f11c447481e0a70087711fda2a1073665b2b1570", "filename": "gcc/ChangeLog", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0172e2bc87664db2dead8bd8e4157a3343bce72e/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0172e2bc87664db2dead8bd8e4157a3343bce72e/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=0172e2bc87664db2dead8bd8e4157a3343bce72e", "patch": "@@ -1,3 +1,7 @@\n+2000-02-27  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>\n+\n+\t* cpplib.c (do_pragma): Accept #pragma without consecutive token.\n+\n 2000-02-26  Mark Mitchell  <mark@codesourcery.com>\n \n \t* integrate.c (copy_decl_for_inlining): Preserve TREE_ADDRESSABLE"}, {"sha": "8c7c2ea60211b261993f7a7bcd2964df0ca059ec", "filename": "gcc/cpplib.c", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/0172e2bc87664db2dead8bd8e4157a3343bce72e/gcc%2Fcpplib.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/0172e2bc87664db2dead8bd8e4157a3343bce72e/gcc%2Fcpplib.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fcpplib.c?ref=0172e2bc87664db2dead8bd8e4157a3343bce72e", "patch": "@@ -1615,14 +1615,21 @@ do_pragma (pfile, keyword)\n   long here, key;\n   U_CHAR *buf;\n   int pop;\n+  enum cpp_token token;\n \n   here = CPP_WRITTEN (pfile);\n   CPP_PUTS (pfile, \"#pragma \", 8);\n \n   key = CPP_WRITTEN (pfile);\n   pfile->no_macro_expand++;\n-  if (get_directive_token (pfile) != CPP_NAME)\n-    goto skip;\n+  token = get_directive_token (pfile);\n+  if (token != CPP_NAME)\n+    {\n+      if (token == CPP_VSPACE)\n+\tgoto empty;\n+      else\n+\tgoto skip;\n+    }\n \n   buf = pfile->token_buffer + key;\n   CPP_PUTC (pfile, ' ');\n@@ -1649,6 +1656,7 @@ do_pragma (pfile, keyword)\n  skip:\n   cpp_error (pfile, \"malformed #pragma directive\");\n   skip_rest_of_line (pfile);\n+ empty:\n   CPP_SET_WRITTEN (pfile, here);\n   pfile->no_macro_expand--;\n   return 0;"}]}