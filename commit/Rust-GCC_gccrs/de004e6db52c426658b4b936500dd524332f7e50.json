{"sha": "de004e6db52c426658b4b936500dd524332f7e50", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6ZGUwMDRlNmRiNTJjNDI2NjU4YjRiOTM2NTAwZGQ1MjQzMzJmN2U1MA==", "commit": {"author": {"name": "Joel Sherrill", "email": "joel.sherrill@oarcorp.com", "date": "2005-01-18T14:13:09Z"}, "committer": {"name": "Joel Sherrill", "email": "joel@gcc.gnu.org", "date": "2005-01-18T14:13:09Z"}, "message": "re PR target/19379 (ICE during build of newlib's e_atan2.c when soft-float)\n\n2005-01-18  Joel Sherrill <joel.sherrill@oarcorp.com>\n\n\tPR target/19379\n\t* config/i386/i386.c (override_options): If the 80387 is disabled,\n\tthen do not return FP values using FP registers.\n\nFrom-SVN: r93833", "tree": {"sha": "ad7f99af5973d738e68e7dc41e2a99678fcf96f6", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad7f99af5973d738e68e7dc41e2a99678fcf96f6"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/de004e6db52c426658b4b936500dd524332f7e50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de004e6db52c426658b4b936500dd524332f7e50", "html_url": "https://github.com/Rust-GCC/gccrs/commit/de004e6db52c426658b4b936500dd524332f7e50", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/de004e6db52c426658b4b936500dd524332f7e50/comments", "author": {"login": "joelsherrill", "id": 183688, "node_id": "MDQ6VXNlcjE4MzY4OA==", "avatar_url": "https://avatars.githubusercontent.com/u/183688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joelsherrill", "html_url": "https://github.com/joelsherrill", "followers_url": "https://api.github.com/users/joelsherrill/followers", "following_url": "https://api.github.com/users/joelsherrill/following{/other_user}", "gists_url": "https://api.github.com/users/joelsherrill/gists{/gist_id}", "starred_url": "https://api.github.com/users/joelsherrill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joelsherrill/subscriptions", "organizations_url": "https://api.github.com/users/joelsherrill/orgs", "repos_url": "https://api.github.com/users/joelsherrill/repos", "events_url": "https://api.github.com/users/joelsherrill/events{/privacy}", "received_events_url": "https://api.github.com/users/joelsherrill/received_events", "type": "User", "site_admin": false}, "committer": null, "parents": [{"sha": "d6e84d0cdd377c625d69105d7f856528f5d5eb6a", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/d6e84d0cdd377c625d69105d7f856528f5d5eb6a", "html_url": "https://github.com/Rust-GCC/gccrs/commit/d6e84d0cdd377c625d69105d7f856528f5d5eb6a"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "29865413cfaf476622e6331051b3d7524aac35af", "filename": "gcc/ChangeLog", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de004e6db52c426658b4b936500dd524332f7e50/gcc%2FChangeLog", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de004e6db52c426658b4b936500dd524332f7e50/gcc%2FChangeLog", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2FChangeLog?ref=de004e6db52c426658b4b936500dd524332f7e50", "patch": "@@ -1,3 +1,9 @@\n+2005-01-18  Joel Sherrill <joel.sherrill@oarcorp.com>\n+\n+\tPR target/19379\n+\t* config/i386/i386.c (override_options): If the 80387 is disabled,\n+\tthen do not return FP values using FP registers.\n+\n 2005-01-18  Kazu Hirata  <kazu@cs.umass.edu>\n \n \t* basic-block.h, c-common.c, c-cppbuiltin.c, c-lang.c,"}, {"sha": "cc3cf4b1657f0f921f83bbbb4b3533cb298756fb", "filename": "gcc/config/i386/i386.c", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/de004e6db52c426658b4b936500dd524332f7e50/gcc%2Fconfig%2Fi386%2Fi386.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/de004e6db52c426658b4b936500dd524332f7e50/gcc%2Fconfig%2Fi386%2Fi386.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fconfig%2Fi386%2Fi386.c?ref=de004e6db52c426658b4b936500dd524332f7e50", "patch": "@@ -1557,6 +1557,10 @@ override_options (void)\n \terror (\"bad value (%s) for -mfpmath= switch\", ix86_fpmath_string);\n     }\n \n+  /* If the i387 is disabled, then do not return values in it. */\n+  if (!TARGET_80387)\n+    target_flags &= ~MASK_FLOAT_RETURNS;\n+\n   if ((x86_accumulate_outgoing_args & TUNEMASK)\n       && !(target_flags_explicit & MASK_ACCUMULATE_OUTGOING_ARGS)\n       && !optimize_size)"}]}