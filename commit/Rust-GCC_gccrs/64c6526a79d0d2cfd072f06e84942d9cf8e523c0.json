{"sha": "64c6526a79d0d2cfd072f06e84942d9cf8e523c0", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6NjRjNjUyNmE3OWQwZDJjZmQwNzJmMDZlODQ5NDJkOWNmOGU1MjNjMA==", "commit": {"author": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-06-08T00:12:38Z"}, "committer": {"name": "Jim Wilson", "email": "wilson@gcc.gnu.org", "date": "1996-06-08T00:12:38Z"}, "message": "(gsyms.h): Include if CROSS_COMPILE is defined.\n\n(plain_type_1): Use TYPE_PRECISION instead of TYPE_SIZE.\nAdd check for LONG_DOUBLE_TYPE_SIZE if EXTENDED_SDB_BASIC_TYPES.\n\nFrom-SVN: r12223", "tree": {"sha": "ad8ee9efba77d1b3de60dbe3d8af86dc6dde9c35", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ad8ee9efba77d1b3de60dbe3d8af86dc6dde9c35"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/64c6526a79d0d2cfd072f06e84942d9cf8e523c0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64c6526a79d0d2cfd072f06e84942d9cf8e523c0", "html_url": "https://github.com/Rust-GCC/gccrs/commit/64c6526a79d0d2cfd072f06e84942d9cf8e523c0", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/64c6526a79d0d2cfd072f06e84942d9cf8e523c0/comments", "author": null, "committer": null, "parents": [{"sha": "b058040c913f08786b49f57dfc025927c8a6e08d", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/b058040c913f08786b49f57dfc025927c8a6e08d", "html_url": "https://github.com/Rust-GCC/gccrs/commit/b058040c913f08786b49f57dfc025927c8a6e08d"}], "stats": {"total": 22, "additions": 14, "deletions": 8}, "files": [{"sha": "0b53fe553247c47c44e7990696af21e378e6c679", "filename": "gcc/sdbout.c", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/64c6526a79d0d2cfd072f06e84942d9cf8e523c0/gcc%2Fsdbout.c", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/64c6526a79d0d2cfd072f06e84942d9cf8e523c0/gcc%2Fsdbout.c", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fsdbout.c?ref=64c6526a79d0d2cfd072f06e84942d9cf8e523c0", "patch": "@@ -52,17 +52,19 @@ AT&T C compiler.  From the example below I would conclude the following:\n #include \"insn-config.h\"\n #include \"reload.h\"\n \n-/* Mips systems use the SDB functions to dump out symbols, but\n-   do not supply usable syms.h include files.  */\n-#if defined(USG) && !defined(MIPS) && !defined (hpux) && !defined(_WIN32) && !defined(__linux__)\n+/* Mips systems use the SDB functions to dump out symbols, but do not\n+   supply usable syms.h include files.  Which syms.h file to use is a\n+   target parameter so don't use the native one if we're cross compiling.  */\n+\n+#if defined(USG) && !defined(MIPS) && !defined (hpux) && !defined(_WIN32) && !defined(__linux__) && !defined(CROSS_COMPILE)\n #include <syms.h>\n /* Use T_INT if we don't have T_VOID.  */\n #ifndef T_VOID\n #define T_VOID T_INT\n #endif\n-#else /* not USG, or MIPS */\n+#else\n #include \"gsyms.h\"\n-#endif /* not USG, or MIPS */\n+#endif\n \n /* #include <storclass.h>  used to be this instead of syms.h.  */\n \n@@ -521,11 +523,15 @@ plain_type_1 (type, level)\n \n     case REAL_TYPE:\n       {\n-\tint size = int_size_in_bytes (type) * BITS_PER_UNIT;\n-\tif (size == FLOAT_TYPE_SIZE)\n+\tint precision = TYPE_PRECISION (type);\n+\tif (precision == FLOAT_TYPE_SIZE)\n \t  return T_FLOAT;\n-\tif (size == DOUBLE_TYPE_SIZE)\n+\tif (precision == DOUBLE_TYPE_SIZE)\n \t  return T_DOUBLE;\n+#ifdef EXTENDED_SDB_BASIC_TYPES\n+\tif (precision == LONG_DOUBLE_TYPE_SIZE)\n+\t  return T_LNGDBL;\n+#endif\n \treturn 0;\n       }\n "}]}