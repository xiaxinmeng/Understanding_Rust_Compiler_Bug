{"sha": "207c82c407b6fe07c5768bf0542470f97bbd1a49", "node_id": "MDY6Q29tbWl0MTM2NTMxMDA6MjA3YzgyYzQwN2I2ZmUwN2M1NzY4YmYwNTQyNDcwZjk3YmJkMWE0OQ==", "commit": {"author": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2014-03-20T19:37:50Z"}, "committer": {"name": "Ian Lance Taylor", "email": "ian@gcc.gnu.org", "date": "2014-03-20T19:37:50Z"}, "message": "compiler: Consider the depth of a nested composite literal during traversal.\n\nFixes issue 7590.\n\nFrom-SVN: r208731", "tree": {"sha": "ae01dff00f20f7e3d35a510eb07e31d5675080f2", "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/trees/ae01dff00f20f7e3d35a510eb07e31d5675080f2"}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/git/commits/207c82c407b6fe07c5768bf0542470f97bbd1a49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/207c82c407b6fe07c5768bf0542470f97bbd1a49", "html_url": "https://github.com/Rust-GCC/gccrs/commit/207c82c407b6fe07c5768bf0542470f97bbd1a49", "comments_url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/207c82c407b6fe07c5768bf0542470f97bbd1a49/comments", "author": null, "committer": null, "parents": [{"sha": "e70c4c4189ff565b7b671ab2244eaa980b023866", "url": "https://api.github.com/repos/Rust-GCC/gccrs/commits/e70c4c4189ff565b7b671ab2244eaa980b023866", "html_url": "https://github.com/Rust-GCC/gccrs/commit/e70c4c4189ff565b7b671ab2244eaa980b023866"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "643a233ba004ff4ab4bab7b9e4964f7cb4fc9f5e", "filename": "gcc/go/gofrontend/expressions.cc", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/Rust-GCC/gccrs/blob/207c82c407b6fe07c5768bf0542470f97bbd1a49/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "raw_url": "https://github.com/Rust-GCC/gccrs/raw/207c82c407b6fe07c5768bf0542470f97bbd1a49/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc", "contents_url": "https://api.github.com/repos/Rust-GCC/gccrs/contents/gcc%2Fgo%2Fgofrontend%2Fexpressions.cc?ref=207c82c407b6fe07c5768bf0542470f97bbd1a49", "patch": "@@ -13483,6 +13483,20 @@ Composite_literal_expression::do_traverse(Traverse* traverse)\n     {\n       // The type may not be resolvable at this point.\n       Type* type = this->type_;\n+\n+      for (int depth = this->depth_; depth > 0; --depth)\n+        {\n+          if (type->array_type() != NULL)\n+            type = type->array_type()->element_type();\n+          else if (type->map_type() != NULL)\n+            type = type->map_type()->val_type();\n+          else\n+            {\n+              // This error will be reported during lowering.\n+              return TRAVERSE_CONTINUE;\n+            }\n+        }\n+\n       while (true)\n \t{\n \t  if (type->classification() == Type::TYPE_NAMED)"}]}